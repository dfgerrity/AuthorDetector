QUESTION,USERID,USERNAME,ANSWER
"<p>Related to my question about <a href=""http://stackoverflow.com/questions/1221824/building-a-tree-like-structure"">how to build a tree-like structure</a>, the data I receive from the server are in arrays like this: <code>{School  Chair   Table   Chalk}</code></p>

<p>How can I loop through this so that:</p>

<ul>
<li><code>School</code> becomes parent of <code>Chair</code></li>
<li><code>Chair</code> becomes parent of <code>Table</code></li>
<li><code>Table</code> becomes parent of <code>Chalk</code></li>
</ul>
","149392","","<p>Assuming a Node class that offers a constructor which accepts the node's value as an argument and method addChild that adds another Node as a child and sets itself as the child's parent, the code could look like this:</p>

<pre><code>Node currentNode = null;
for(String value: array) {
    Node node = new Node(value);
    if(currentNode != null) {
        currentNode.addChild(node);
    }
    currentNode = node;
}
</code></pre>
"
"<p>I am a Computer Science student, and as such I have no problem whatsoever understanding recursion.  However, I can't seem to wrap my head around the recursive solution to the Tower of Hanoi problem.  Here is the code from <a href=""http://en.wikipedia.org/wiki/Tower%5Fof%5FHanoi#Recursive%5Fsolution"">Wikipedia</a>:</p>

<pre><code>procedure Hanoi(n: integer; source, dest, by: char);
Begin
    if (n=1) then
        writeln('Move the plate from ', source, ' to ', dest)
    else begin
        Hanoi(n-1, source, by, dest);
        writeln('Move the plate from ', source, ' to ', dest);
        Hanoi(n-1, by, dest, source);
    end;
End;</code></pre>

<p>I understand the base case and the concept of breaking the problem into smaller pieces until you are able to move a single disk.  However, I can't figure out how the two recursive calls in the non-base case work together.  Perhaps someone can help me out?  Thanks.</p>
","149392","","<p>The first recursive call moves all the pieces except the biggest one from source to by using dest as the auxilary pile. When done all the pieces except the biggest will lie on by and the biggest one is free. Now you can move the biggest one to dest and use another recursive call to move all the pieces from by to dest.</p>

<p>The recursive calls won't know anything about the biggest piece (i.e. they will ignore it), but that's ok because the recursive calls will only deal with the pieces that are smaller and thus can be moved onto and off the biggest piece freely.</p>
"
"<p>I want to get something like this to look nice:</p>

<pre><code>&gt;&gt; ProductColor.all
=&gt; [#&lt;ProductColor id: 1, name: ""White"", internal_name: ""White"", created_at: ""2009-06-10 04:02:44"", updated_at: ""2009-06-10 04:02:44""&gt;, #&lt;ProductColor id: 2, name: ""Ivory"", internal_name: ""Ivory"", created_at: ""2009-06-10 04:02:44"", updated_at: ""2009-06-10 04:02:44""&gt;, #&lt;ProductColor id: 3, name: ""Blue"", internal_name: ""Light Blue"", created_at: ""2009-06-10 04:02:44"", updated_at: ""2009-06-10 04:02:44""&gt;, #&lt;ProductColor id: 4, name: ""Green"", internal_name: ""Green"", created_at: ""2009-06-10 04:02:44"", updated_at: ""2009-06-10 04:02:44""&gt;]
</code></pre>

<p>This doesn't work:</p>

<pre><code>&gt;&gt; ProductColor.all.inspect
=&gt; ""[#&lt;ProductColor id: 1, name: \""White\"", internal_name: \""White\"", created_at: \""2009-06-10 04:02:44\"", updated_at: \""2009-06-10 04:02:44\""&gt;, #&lt;ProductColor id: 2, name: \""Ivory\"", internal_name: \""Ivory\"", created_at: \""2009-06-10 04:02:44\"", updated_at: \""2009-06-10 04:02:44\""&gt;, #&lt;ProductColor id: 3, name: \""Blue\"", internal_name: \""Light Blue\"", created_at: \""2009-06-10 04:02:44\"", updated_at: \""2009-06-10 04:02:44\""&gt;, #&lt;ProductColor id: 4, name: \""Green\"", internal_name: \""Green\"", created_at: \""2009-06-10 04:02:44\"", updated_at: \""2009-06-10 04:02:44\""&gt;]""
</code></pre>

<p>And neither does this:</p>

<pre><code>&gt;&gt; ProductColor.all.to_yaml
=&gt; ""--- \n- !ruby/object:ProductColor \n  attributes: \n    name: White\n    created_at: 2009-06-10 04:02:44\n    updated_at: 2009-06-10 04:02:44\n    id: \""1\""\n    internal_name: White\n  attributes_cache: {}\n\n- !ruby/object:ProductColor \n  attributes: \n    name: Ivory\n    created_at: 2009-06-10 04:02:44\n    updated_at: 2009-06-10 04:02:44\n    id: \""2\""\n    internal_name: Ivory\n  attributes_cache: {}\n\n- !ruby/object:ProductColor \n  attributes: \n    name: Blue\n    created_at: 2009-06-10 04:02:44\n    updated_at: 2009-06-10 04:02:44\n    id: \""3\""\n    internal_name: Light Blue\n  attributes_cache: {}\n\n- !ruby/object:ProductColor \n  attributes: \n    name: Green\n    created_at: 2009-06-10 04:02:44\n    updated_at: 2009-06-10 04:02:44\n    id: \""4\""\n    internal_name: Green\n  attributes_cache: {}\n\n""
</code></pre>

<p>Thoughts?</p>
","149392","","<p>You might want to define ProductColor's inspect method to return something that you find nice. For example:</p>

<pre><code>def inspect
  ""&lt;#{id} - #{name} (#{internal_name})&gt;""
end
</code></pre>

<p>After which the result of ProductColor.all will display as something like [&lt;1 - White (White)>, ...]. Of course you should adjust the inspect method to your needs, so that it displays all the information you need in a style that you like.</p>

<p>Edit: also if the issue was the lack of line breaks in the output, you might try</p>

<pre><code>require 'pp'
pp ProductColor.all
</code></pre>

<p>which should insert linebreaks where appropriate</p>
"
"<p>I have a program with a graph whose nodes represent some processes, and the proccess computing time is the node's cost.This graph is maintainded in memory as a list of nodes and each nod has a list of parent and children, and his execution time.</p>

<p>I must find the path with the minimum execution time.</p>

<ul>
<li>Each node can connect with any other.</li>
<li>There is only one start node and one end node.</li>
<li>One node can have various ""parent"" and ""children""</li>
</ul>

<p>Can someone tell me the best way to do this?</p>
","149392","","<p>You can use <a href=""http://en.wikipedia.org/wiki/Dijkstra%27s%5Falgorithm"" rel=""nofollow"">Dijkstra's Algorithm</a> for this.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/175454/loops-and-garbage-collection"">Loops and Garbage Collection</a>  </p>
</blockquote>

<pre><code>foreach (ObjectTypeA typea in ObjectTypeACollection) 
{
var objectTypeAProcessor= new objectTypeAProcessor();
objectTypeAProcessor.Process(typea);
}
</code></pre>

<p>I found the above similar code where a collection of objects was being processed at the BLL and the DAL processor was called.Will the above code lead to a memory leak / is it bad? Well a new instance is created each time right but does it get destroyed each time too? mmm...</p>
","149392","","<p>C#/.net is garbage collected, so yes, the created objects will be collected and destroyed - not neccessarily right away, but eventually. So it's not a leak.</p>

<p>Of course creating a new object in each iteration is more costly than doing it inside the loop (assuming the Process method does not have side-effects which would forbid you from using the same Processor object for all objects), so if you don't need a new processor for each iteration, you should move it outside.</p>
"
"<p>I have a functions which takes a char * as its only argument.  I then perform some strtok operations on it.  Sometimes it works and sometimes it doesent.  It working depends upon how the string was constructed.  For instance here are the two cases.</p>

<pre><code>int main()
{
   char glob[] = ""/abc/def/ghi"";
   char *glob2 = ""/abc/def/ghi"";

   func(glob);  //this one works
   func(glob2); //this one doesnt work

   return 0;
}
</code></pre>

<p>What is the difference between the two allocation methods and why does strtok blow up on the second one?</p>
","149392","","<p>char[] str1 = ""foo""  allocates an array of the chars on the stack (assuming this is inside a function). That array can be modified without a problem.</p>

<p>const char *str = ""foo""  gives you a pointer to the string foo, which will usually reside in read-only memory.</p>

<p>char *str = ""foo""  will do the same thing but implicitly remove the const (without actually changing the fact that the pointer likely points to read-only memory).</p>
"
"<p>I have the following text that I am trying to parse:</p>

<pre>
""user1@emailaddy1.com"" &lt;user1@emailaddy1.com&gt;, ""Jane Doe"" &lt;jane.doe@ addyB.org&gt;,
""joe@company.net"" &lt;joe@company.net&gt;
</pre>

<p>I am using the following code to try and split up the string:</p>

<pre><code>Dim groups As GroupCollection
Dim matches As MatchCollection
Dim regexp1 As New Regex(""""""(.*)"""" &lt;(.*)&gt;"")
matches = regexp1 .Matches(toNode.InnerText)
For Each match As Match In matches
    groups = match.Groups
    message.CompanyName = groups(1).Value
    message.CompanyEmail = groups(2).Value
Next
</code></pre>

<p>But this regular expression is greedy and is grabbing the entire string up to the last quote after ""joe@company.net"".  I'm having a hard time putting together an expression that will group this string into the two groups I'm looking for:  Name (in the quotes) and E-Mail (in the angle brackets).  Does anybody have any advice or suggestions for altering the regexp to get what I need?</p>
","149392","","<p>How about <code>""""""([^""""]*)"""" &lt;([^&gt;]*)&gt;""</code> for the regex? I.e. make explicit that the matched part won't include a quote/closing paren. You may also want to use a more restrictive character-range instead.</p>
"
"<p>I have a configuration class in Ruby that used to have keys like ""core.username"" and ""core.servers"", which was stored in a YAML file just like that.</p>

<p>Now I'm trying to change it to be nested, but without having to change all the places that refer to keys in the old way. I've managed it with the reader-method:</p>

<pre><code>def [](key)
  namespace, *rest = key.split(""."")

  target = @config[namespace]
  rest.each do |k|
    return nil unless target[k]
    target = target[k]
  end

  target
end
</code></pre>

<p>But when I tried the same with the writer-class, that works, but isn't set in the <code>@config</code>-hash. <code>@config</code> is set with just a call to <code>YAML.load_file</code></p>

<p>I managed to get it working with <code>eval</code>, but that is not something I would like to keep for long.</p>

<pre><code>def []=(key, value)
  namespace, *rest = key.split(""."")

  target = ""@config[\""#{namespace}\""]""
  rest.each do |key|
    target += ""[\""#{key}\""]""
  end

  eval ""#{target} = value""
  self[key]
end
</code></pre>

<p>Is there any decent way to achieve this, preferably without changing plugins and code throughout?</p>
","149392","","<pre><code>def []=(key, value)
  subkeys = key.split(""."")
  lastkey = subkeys.pop
  subhash = subkeys.inject(@config) do |hash, k|
    hash[k]
  end
  subhash[lastkey] = value
end
</code></pre>

<p>Edit: Fixed the split.
PS: You can also replace the inject with an each-loop like in the [] method if you prefer. The important thing is that you do not call [] with the last key, but instead []= to set the value.</p>
"
"<p>If you have an Interface <code>IFoo</code> and a class <code>Bar : IFoo</code>, why can you do the following:</p>

<pre><code>List&lt;IFoo&gt; foo = new List&lt;IFoo&gt;();  
foo.Add(new Bar());
</code></pre>

<p>But you cannot do:</p>

<pre><code>List&lt;IFoo&gt; foo = new List&lt;Bar&gt;();
</code></pre>
","149392","","<p>If you have a list of type <code>List&lt;IFoo&gt;</code> you can call <code>list.add(new Baz());</code>  assuming <code>Baz</code> implements <code>IFoo</code>. However you can't do that with a <code>List&lt;Bar&gt;</code>, so you can't use a <code>List&lt;Bar&gt;</code> everywhere you can use a <code>List&lt;IFoo&gt;</code>.</p>

<p>However since <code>Bar</code> implements <code>IFoo</code>, you can use a Bar everywhere you use <code>IFoo</code>, so passing a Bar to add works when it expects and <code>IFoo</code>.</p>
"
"<p>In Ruby 1.8.6, I have an array of, say, 100,000 user ids, each of which is an int.  I want to perform a block of code on these user ids but I want to do it in chunks.  For example, I want to process them 100 at a time.  How can I easily achieve this as simply as possible?</p>

<p>I could do something like the following, but probably there's an easier way:</p>

<pre><code>a = Array.new
userids.each { |userid|
  a &lt;&lt; userid
  if a.length == 100
    # Process chunk
    a = Array.new
  end
}
unless a.empty?
  # Process chunk
end
</code></pre>
","149392","","<pre><code>require 'enumerator'
userids.each_slice(100) do |a|
  # do something with a
end
</code></pre>
"
"<p>In Perl you can do:</p>

<pre><code>my $current_time = DateTime-&gt;now();
my $mdy = $current_time-&gt;mdy(""/"");
</code></pre>

<p>What's the easiest way to do this in Ruby?</p>
","149392","","<p>The <code>strftime</code> method can be used to format times:</p>

<pre><code>Time.now.strftime(""%m/%d/%Y"")
</code></pre>
"
"<p>If I use <code>malloc</code> in my code:</p>

<pre><code>int *x = malloc(sizeof(int));
</code></pre>

<p>I get this warning from <code>gcc</code>:</p>

<pre>new.c:7: warning: implicit declaration of function ‘malloc’
new.c:7: warning: incompatible implicit declaration of built-in function ‘malloc’
</pre>

<p>I'm new to C. Am I doing something wrong?</p>
","149392","","<p>You need to add:</p>

<pre><code>#include &lt;stdlib.h&gt;
</code></pre>

<p>This file includes the declaration for the built-in function <code>malloc</code>. If you don't do that, the compiler thinks you want to define your own function named <code>malloc</code> and it warns you because:</p>

<ol>
<li>You don't explicitly declare it <em>and</em></li>
<li>There already is a built-in function by that name which has a different signature than the one that was implicitly declared (when a function is declared implicitly, its return and argument types are assumed to be <code>int</code>, which isn't compatible with the built-in <code>malloc</code>, which takes a <code>size_t</code> and returns a <code>void*</code>).</li>
</ol>
"
"<p>I'd like to parse a simple table into a Ruby data structure. The table looks like this:</p>

<p><img src=""http://img232.imageshack.us/img232/446/picture5cls.png"" alt=""alt text"" /> <a href=""http://img232.imageshack.us/img232/446/picture5cls.png"" rel=""nofollow"">http://img232.imageshack.us/img232/446/picture5cls.png</a></p>

<p><strong>Edit:</strong> <a href=""http://pastie.org/572069"" rel=""nofollow"">Here is the HTML</a></p>

<p>and I'd like to parse it into an array of hashes. E.g.,:</p>

<pre><code>schedule[0]['NEW HAVEN'] == '4:12AM'
schedule[0]['Travel Time In Minutes'] == '95'
</code></pre>

<p>Any thoughts on how to do this? Perl has <a href=""http://search.cpan.org/dist/HTML-TableExtract/lib/HTML/TableExtract.pm"" rel=""nofollow"">HTML::TableExtract</a>, which I think would do the job, but I can't find any similar library for Ruby.</p>
","149392","","<p>In case there isn't a library to do that for ruby, here's some code to get you started writing this yourself:</p>

<pre><code>require 'nokogiri'
doc=Nokogiri(""&lt;table&gt;&lt;tr&gt;&lt;th&gt;la&lt;/th&gt;&lt;th&gt;&lt;b&gt;lu&lt;/b&gt;&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;lala&lt;/td&gt;&lt;td&gt;lulu&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;lila&lt;/b&gt;&lt;/td&gt;&lt;td&gt;lolu&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;"")
header, *rest = (doc/""tr"").map do |row|
  row.children.map do |c|
    c.text
  end
end
header.map! do |str| str.to_sym end
item_struct = Struct.new(*header)
table = rest.map do |row|
  item_struct.new(*row)
end
table[1].lu #=&gt; ""lolu""
</code></pre>

<p>This code is far from perfect, obviously, but it should get you started.</p>
"
"<p>I have a beginner ruby question about multi dimensional arrays.</p>

<p>I want to sort entries by year and month. So I want to create a multi-dimensional array that would contain years -> months -> entries of month</p>

<p>So the array would be like:</p>

<pre><code>2009 -&gt;
       08
          -&gt; Entry 1
          -&gt; Entry 2
       09
          -&gt; Entry 3
2007 -&gt;
       10
          -&gt; Entry 5
</code></pre>

<p>Now I have:</p>

<pre><code>@years = []
@entries.each do |entry|
	timeobj = Time.parse(entry.created_at.to_s)
	year = timeobj.strftime(""%Y"").to_i
	month = timeobj.strftime(""%m"").to_i
	tmparr = []
	tmparr &lt;&lt; {month=&gt;entry}
	@years.push(year)
	@years &lt;&lt; tmparr
end
</code></pre>

<p>but when I try to iterate through the years array, I get: ""undefined method `each' for 2009:Fixnum""</p>

<p>Tried also:</p>

<pre><code>@years = []
@entries.each do |entry|
	timeobj = Time.parse(entry.created_at.to_s)
	year = timeobj.strftime(""%Y"").to_i
	month = timeobj.strftime(""%m"").to_i
	@years[year][month] &lt;&lt; entry
end
</code></pre>

<p>Thank you.</p>
","149392","","<pre><code># create a hash of hashes of array
@years = Hash.new do |h,k|
  h[k] = Hash.new do |sh, sk|
    sh[sk] = []
  end
end

@entries.each do |entry|
  timeobj = Time.parse(entry.created_at.to_s)
  year = timeobj.year
  month = timeobj.month
  @years[year][month] &lt;&lt; entry
end
</code></pre>
"
"<p>Where can I find the documentation on the modifiers for <code>gsub</code>? \a \b \c \1 \2 \3 %a %b %c $1 $2 %3 etc.?</p>

<p>Specifically, I'm looking at this code... <code>something.gsub(/%u/, unit)</code> what's the <code>%u</code>?</p>
","149392","","<p>Zenspider's Quickref contains a section explaining <a href=""http://www.zenspider.com/Languages/Ruby/QuickRef.html#11"">which escape sequences can be used in regexen</a> and one listing the <a href=""http://www.zenspider.com/Languages/Ruby/QuickRef.html#17"">pseudo variables</a> that get set by a regexp match. In the second argument to gsub you simply write the name of the variable with a backslash instead of a $ and it will be replaced with the value of that variable after applying the regexp. If you use a double quoted string, you need to use two backslashes.</p>

<p>When using the block-form of gsub you can simply use the variables directly. If you return a string containing e.g. \1 from the block, that will not be replaced with $1. That only happens when using the two-argument form.</p>
"
"<pre><code>EventQueue.invokeLater(new Runnable()
  {
     public void run()
        {
           ZipTestFrame frame = new ZipTestFrame();
           frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
           frame.setVisible(true);
        }
  });
</code></pre>
","149392","","<p>That code creates an instance of an anonymous class implementing runnable. That object is passed as an argument to EventQueue.invokeLater, which will invoke it later (meaning it will call the run method on that object at some later point in time).</p>

<p>You don't need a variable to point to the object because you only use that object in that one instance. The method invokeLater does have a local variable pointing to the object (given that the object is passed as an argument and arguments are local variables), which it uses to store the object in the event queue, which now also references the object, until the object is invoked and removed from the queue, at which point it's elligible for garbage collection.</p>

<p>Addendum:</p>

<p>A primitive example of what a simple event queue could look like:</p>

<pre><code>class MyEventQueue {
    Queue&lt;Runnable&gt; queue = new LinkedList&lt;Runnable&gt;();
    public void invokeLater(Runnable r) {
        queue.add(r);
    }
    public boolean hasNext() {
        return !queue.isEmpty();
    }
    public void processNext() {
        queue.poll.run();
    }
}
</code></pre>
"
"<p>Is there a way in Ruby to take a symbol or string and turn it into a class of the same name?</p>

<p>For instance, if I have a class such as</p>

<pre><code>class Bob
  def talk
     puts ""Hi, I'm bob""
  end
end
</code></pre>

<p>And a method I have somewhere else in the code is passed a symbol :bob, can I in some way turn that into the class Bob?  Maybe something like</p>

<pre><code>b = :Bob.new
b.talk
</code></pre>

<p>Or is there a way to do something similar to this?</p>
","149392","","<p><code>NameSpace.const_get(classname)</code> will return the class object (assuming that classname contains the name of a class - if it contains the name of a constant that is not a class, it will return the value of that constant). The toplevel namespace is Object, so you can do <code>Object.const_get(:Bob).new</code></p>
"
"<p>I need to enforace the following regex, and I'm horrible at writing these:</p>

<pre><code>  xx12ab - valid
  x12345 - invalid
  xxxxx1 - invalid
  xxx123 - valid
</code></pre>

<p>I need to have a 6 character string that HAS TO HAVE at least 2 alpha chars, and 2 numeric chars, limited to only alpha/numeric in the string.</p>

<p>Thanks.</p>
","149392","","<p>Do you need to use regular expressions? If you do, I don't think you'll get around having to write every permutation of how the characters could be ordered, i.e. <code>/[a-zA-Z][a-zA-Z][0-9][0-9]\w\w|[a-zA-Z][0-9]\w[a-zA-Z][0-9]\w|.../</code></p>

<p>Unless someone else can think of something clever.</p>
"
"<p>I'm using Ruby's scan() method to find text in a particular format. I then output it into a string separated by commas. The text I'm trying to find would look like this: </p>

<p><code>AB_ABCD_123456</code></p>

<p>Here's the what I've come up with so far to find the above. It works fine:</p>

<pre><code>text.scan(/.._...._[0-9][0-9][0-9][0-9][0-9][0-9]/)
puts text.uniq.sort.join(', ')
</code></pre>

<p>Now I need a regex that will find the above with or without a two-letter country designation at the end. For example, I would like to be able to find all three of the below:</p>

<p><code>AB_ABCD_123456</code><br />
<code>AB_ABCD_123456UK</code><br />
<code>AB_ABCD_123456DE</code></p>

<p>I know I could use two or three different scans to achieve my result, but I'm wondering if there's a way to get all three with one regex.</p>
","149392","","<pre><code>/.._...._[0-9][0-9][0-9][0-9][0-9][0-9](?:[A-Z][A-Z])?/
</code></pre>

<p>You can also use {} to make the regex shorter:</p>

<pre><code>/.{2}_.{4}_[0-9]{6}(?:[A-Z]{2})?/
</code></pre>

<p>Explanation: <code>?</code> makes the preceding pattern optional. <code>()</code> groups expressions together (so ruby knows the <code>?</code> applies to the two letters). The <code>?:</code> after the opening <code>(</code> makes the group non-capturing (capturing groups would change the values yielded by scan).</p>
"
"<p>I need a function, is_an_integer, where</p>

<pre><code>""12"".is_an_integer? returns true
""blah"".is_an_integer? returns false
</code></pre>

<p>how can i do this in ruby?  i would write a regex but im assuming there is a helper for this that i am not aware of</p>
","149392","","<p>You can use <code>Integer(str)</code> and see if it raises:</p>

<pre><code>def is_num?(str)
  begin
    !!Integer(str)
  rescue ArgumentError, TypeError
    false
  end
end
</code></pre>

<p>Addendum: It should be pointed out that while this does return true for <code>""01""</code>, it does not for <code>""09""</code>, simply because <code>09</code> would not be a valid integer literal.</p>
"
"<p>I have an array which for arguments sake looks something like this:</p>

<pre><code>a = [[1,100], [2,200], [3,300], [2,300]]
</code></pre>

<p>Of those four sub-arrays, I would like to merge any where the first element is a duplicate. So in the example above I would like to merge the 2nd and the 4th sub-arrays. However, the caveat is that where the second element in the matching sub-arrays is different, I would like to maintain the higher value.</p>

<p>So, I would like to see this result:</p>

<pre><code>a = [[1,100], [3,300], [2,300]]
</code></pre>

<p>This little conundrum is a little above my Ruby skills so am turning to the community for help. Any guidance with how to tackle this is much appreciated.</p>

<p>Thanks</p>
","149392","","<pre><code># Get a hash that maps the first entry of each subarray to the subarray
# requires 1.8.7+ or active_support (or facets, I think)
hash = a.group_by { |first, second| first }
# Take each entry in the hash and select the biggest entry for each unique key
hash.map {|k,v| v.max }
</code></pre>
"
"<p>I have a C file that looks like this:</p>

<pre><code>#include &lt;stdio.h&gt; 
#include &lt;sys/types.h&gt; 
#include &lt;unistd.h&gt; 
int main () 
{ 
    pid_t child_pid; 
    printf (""The PID is %d\n"", (int) getpid ()); 
    child_pid = fork (); 
    if (child_pid != 0)
    { 
        printf (""this is the parent process, with PID %d\n"", 
        (int)getpid()); 
        printf (""the child's PID is %d\n"", (int) child_pid); 
    } 
    else 
        printf (""this is the child process, with PID %d\n"", 
        (int)getpid()); 
    return 0; 
} 
</code></pre>

<p>I need to modify it to produce a a hierarchy that looks like</p>

<pre><code>parent (0)
  |
  +---&gt; child (1)
  |
  +---&gt; child (2)
          |
          +----&gt; child (3)
          |
          +----&gt; child (4)
                  |
                  +----&gt; child (5)
                  |
</code></pre>

<p>Basically a tree structure where each second child makes two new children. As far as I understand it, when I <code>fork()</code> a process, each process will run concurrently. Adding a <code>fork()</code> in the <code>if</code> statement seems to work and creates processes 0 to 2 correctly, since only the parent will create a new fork. But I have no idea how to make process 2 fork and not 1. Any ideas?</p>
","149392","","<p>Well, process 1 will be created by the first fork. Process 2 will be created by the fork inside the if-statement. So to let process 2 fork too, you fork again inside the if-statement if the second fork did not return 0.</p>

<p>An illustration:</p>

<pre><code>if(fork) {
    // Inside process 0
    if(fork) {
        // still in process 0
    } else {
        // in process 2
        if(fork) {
          // still in process 2
        } else {
          // in prcess 3
        }
        // and so on
    }
} else {
    // Inside process 1
}
</code></pre>
"
"<p>I am trying to run commands from ruby via <code>system</code> (or by using backticks), but am running into problems. When I try to call a command, the shell is unable to find it, even though I know it works if I call it straight. For example:</p>

<pre><code>`zip`
&gt;&gt; sh: zip: command not found
</code></pre>

<p>The problem seems to be that ruby is using the <code>sh</code> shell, in which <code>$PATH</code> is not set correctly, rather than <code>bash</code>, and I am not sure why. The user my application is running under is set up to use <code>bash</code> by default.</p>

<p>Is there any way to tell ruby to use <code>bash</code> instead of <code>sh</code>?</p>
","149392","","<p>As far as I know, the only way to do that is to explicitly invoke the shell, e.g.</p>

<pre><code>`bash -c zip`
</code></pre>

<p>or</p>

<pre><code>`#{ ENV['SHELL'] } -c zip`
</code></pre>

<p>Or with system: <code>system(""bash"", ""-c"", command)</code></p>

<p>However ruby (and all processes spawned by ruby) should inherit the parent processes' environment and thus have $PATH set correctly even when using another shell. Do you maybe run ruby from a cron job or init script or the like, where PATH is simply not set correctly?</p>
"
"<p>This code works on one machine but not the other:</p>

<pre><code>puts 1.upto(5)
</code></pre>

<p>On the working machine, the code returns '#'.</p>

<p>On the other machine, I get this error:</p>

<p>test.rb:1:in `upto': no block given (LocalJumpError)
    from test.rb:1</p>

<p>Both machines have rails 2.2.2. The machine where this code works has ruby 1.8.7, while the two machines where this code doesn't work have ruby 1.8.6 and ruby 1.8.7 enterprise edition respectively.</p>
","149392","","<p>To get the 1.8.7+ behaviour in 1.8.6 you can do:</p>

<pre><code>require 'enumerator'
1.enum_for(:upto, 5)
</code></pre>

<p>Which works the same on all versions and is functionally equivalent to 1.upto(5) without block in 1.8.7+ (though a little more verbose).</p>

<p>Though in this specific case you can of course just use a range.</p>
"
"<p>I have the following matrix of size m=4</p>

<pre><code>   0.00000   0.09130   0.09130   0.00000
   0.04565   0.00000   0.00000   0.00000
   0.04565   0.00000   0.00000   0.00000
   0.00000   0.00000   0.00000   0.00000
</code></pre>

<p>And I want to replace the diagonal of that matrix 
with (1 - sum of its column). Resulting matrix:</p>

<pre><code>   0.90870   0.09130   0.09130   0.00000
   0.04565   0.90870   0.00000   0.00000
   0.04565   0.00000   0.90870   0.00000
   0.00000   0.00000   0.00000   1.00000
</code></pre>

<p>So for example for (1,1) we have  </p>

<pre><code>   1 - (0.04565 + 0.04565 + 0.00000) = 0.90870
</code></pre>

<p>Now the actual practice the size of <code>m</code> is very large
of scale 10^6 to 10^7. So I can't afford to store the initial matrix
into a container. </p>

<p>Is there any memory efficient alternative way to do it?</p>

<p>The current is the implementation I have for slurping it
into vector of vectors. It cannot handle large m (10^6).</p>

<pre><code>    #include &lt;iostream&gt;
    #include &lt;vector&gt;
    #include &lt;fstream&gt;
    #include &lt;sstream&gt;
    #include &lt;map&gt;
    using namespace std;

      // Initialize Matrix Before Slurping
       vector &lt;vector&lt;double&gt; &gt; Matrix;
        Matrix.resize(nofRow);
        for(size_t i = 0; i &lt; nofRow; ++i)
        {
            Matrix[i].resize(nofCol);
        }



        if (arg_count !=2 ) {
        cerr &lt;&lt; ""expected one argument"" &lt;&lt; endl;
        return EXIT_FAILURE;
    }

    string line;
    ifstream myfile (arg_vec[1]);

    // Slurpint it
    int count1=0;
    if (myfile.is_open())
    {   

        while (getline(myfile,line) )
        {
            stringstream ss(line);
            double Value;
            count1++;            

            int count2=0;
            while (ss &gt;&gt; Value) {
                count2++;
                Matrix[count1][count2] = Value;
            }


        }
        myfile.close();
    }
    else { cout &lt;&lt; ""Unable to open file""; }


     // Summing up Column;
        vector &lt;double&gt; ColSum;
        ColSum.resize(nofCol);
        for(size_t i = 0; i &lt; nofRow; ++i)
        {
            for(size_t j = 0; j &lt; nofCol; ++j)
            {
                //std::cout &lt;&lt;""[""&lt;&lt;i&lt;&lt;""]""&lt;&lt;""[""&lt;&lt;j&lt;&lt;""] = "" &lt;&lt;Matrix[i][j]&lt;&lt;std::endl;
                ColSum[j] += Matrix[i][j];
            }
        }  



        // Printing it
        for(size_t k = 0; k &lt; nofRow; ++k)
        {
            for(size_t l = 0; l &lt; nofCol; ++l)
            {
                  if (k == l ) {
                      double OneMinusSum = 1 - ColSum[k];
                      //if (OneMinusSum &lt; 0) { OneMinusSum = 1; };
                     std::cout &lt;&lt; OneMinusSum &lt;&lt; ""\t"";
                  }
                  else {
                      std::cout&lt;&lt; Matrix[k][l] &lt;&lt; ""\t"";
                  }
            }

            std::cout &lt;&lt; std::endl;
        }
</code></pre>
","149392","","<p>Create a vector of size m to store the diagonal. Then go through the file and add the ith column of each line to diag[i]. Now go through the file again and output each line, but replace the value of the ith element on the ith line with diag[i]. This way you only need to store a vector of size m in memory.</p>
"
"<p>I am completely new to Ruby. All I want is to produce a simple XML file.</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""ASCII""?&gt;
&lt;product&gt;
   &lt;name&gt;Test&lt;/name&gt;
&lt;/product&gt;
</code></pre>

<p>That's it.</p>
","149392","","<p>You can use <a href=""http://builder.rubyforge.org/"">builder</a> to generate xml.</p>
"
"<p>Below is my func. I call it with</p>

<pre><code>if(try_strtol(v, rhs))
</code></pre>

<p>and RHS = ""15\t// comment""</p>

<pre><code>bool try_strtol(int64_t &amp;v, const string&amp; s)
{
	try
	{
		std::stringstream ss(s);
		if ((ss &gt;&gt; v).fail() || !(ss &gt;&gt; std::ws).eof())
			throw std::bad_cast();
		return true;
	}
	catch(...)
	{
		return false;
	}
}
</code></pre>

<p>It returns false, i except true with v=15. How do i fix this?</p>
","149392","","<p>Why do you expect <code>(ss &gt;&gt; std::ws).eof()</code> to be true? rhs contains non-whitespace characters after 15, so the if condition will be true and the exception will be thrown, which is why it returns false.</p>
"
"<p>I have a QObject that has multiple slots connected to one of its signals. Is there an order in which of each of these slots are called when the signal is emitted?</p>
","149392","","<p>No, the order is undefined as can be seen in <a href=""http://doc.qt.digia.com/4.5/signalsandslots.html#signals"" rel=""nofollow"">the documentation here</a>:</p>

<blockquote>
  <p>If several slots are connected to one signal, the slots will be executed one after the other, in an arbitrary order, when the signal is emitted.</p>
</blockquote>

<p>Edit: From version 4.6 onwards this is no longer true. Now the slots will run in the order they are connected. The relevant paragraph of <a href=""http://qt-project.org/doc/qt-4.8/signalsandslots.html#signals"" rel=""nofollow"">the current documentation</a>:</p>

<blockquote>
  <p>If several slots are connected to one signal, the slots will be executed one after the other, in the order they have been connected, when the signal is emitted</p>
</blockquote>
"
"<p>I am exploring the <code>HashSet&lt;T&gt;</code> type, but I don't understand where it stands in collections.</p>

<p>Can one use it to replace a <code>List&lt;T&gt;</code>? I imagine the performance of a <code>HashSet&lt;T&gt;</code> to be better, but I couldn't see individual access to its elements.</p>

<p>Is it only for enumeration?</p>
","149392","","<p>Probably the most common use for hashsets is to see whether they contain a certain element, which is close to an O(1) operation for them (assuming a sufficiently strong hashing function), as opposed to lists for which check for inclusion is O(n) (and sorted sets for which it is O(log n)). So if you do a lot of checks, whether an item is contained in some list, hahssets might be a performance improvement. If you only ever iterate over them, there won't be much difference (iterating over the whole set is O(n), same as with lists and hashsets have somewhat more overhead when adding items).</p>

<p>And no, you can't index a set, which would not make sense anyway, because sets aren't ordered. If you add some items, the set won't remember which one was first, and which second etc.</p>
"
"<p>What is wrong with this conversion?</p>

<pre><code>public int getTheNumber(int[] factors) {
    ArrayList&lt;Integer&gt; f = new ArrayList(Arrays.asList(factors));  
    Collections.sort(f);
    return f.get(0)*f.get(f.size()-1);
}
</code></pre>

<p>I made this after reading the solution found in <a href=""http://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t-in-java"">How to create ArrayList (ArrayList&lt;T&gt;) from array (T[]) in Java</a>. The second line (sorting) in <code>getTheNumber(...)</code> causes the following exception:</p>

<blockquote>
  <p>Exception in thread ""main"" java.lang.ClassCastException: [I cannot be cast to java.lang.Comparable]</p>
</blockquote>

<p>What is wrong here? I do realize that sorting could be done with <code>Arrays.sort()</code>, I'm just curious about this one.</p>
","149392","","<p><code>Arrays.asList(factors)</code> returns a <code>List&lt;int[]&gt;</code>, not a <code>List&lt;Integer&gt;</code>. Since you're doing <code>new ArrayList</code> instead of <code>new ArrayList&lt;Integer&gt;</code> you don't get a compile error for that, but create an <code>ArrayList&lt;Object&gt;</code> which contains an <code>int[]</code> and you then implicitly cast that arraylist to <code>ArrayList&lt;Integer&gt;</code>. Of course the first time you try to use one of those ""Integers"" you get an exception.</p>
"
"<p>I have this Perl snippet from a script that I am translating into Python. I have no idea what the ""s!"" operator is doing; some sort of regex substitution. Unfortunately searching Google or Stackoverflow for operators like that doesn't yield many helpful results.</p>

<pre><code> $var =~ s!&lt;foo&gt;.+?&lt;/foo&gt;!!;
 $var =~ s!;!/!g;
</code></pre>

<p>What is each line doing? I'd like to know in case I run into this operator again.</p>

<p>And, what would equivalent statements in Python be?</p>
","149392","","<p><code>s!foo!bar!</code> is the same as the more common <code>s/foo/bar/</code>, except that foo and bar can contain unescaped slashes without causing problems. What it does is, it replaces the first occurence of the regex foo with bar. The version with g replaces all occurences.</p>
"
"<p>I've got to write a very short bit of code on a <code>deque</code>, however I'm not sure how to write the code for the methods, if someone could help me with one of the methods, (eg. a method to add an object to the from of the deque) then that would get me started. I'm sure I could manage the rest of the methods, just at the moment I'm pretty stumped.</p>
","149392","","<p>Deques are usually implemented as doubly linked lists. You implement a doubly linked list by keeping track of the first and last element in the list and letting each element keep track of its predecessor and successor.</p>

<pre><code>public class Deque&lt;T&gt; {
    private class Node {
        Node(T value) {
            this.value = value;
        }
        T value;
        Node next, prev;
    }

    private Node first, last;

    public void addFront(T value) {
        Node oldFirst = first;
        first = new Node(value);

        // The old first item is now the second item, so its the successor of
        // the new first item
        first.next = oldFirst;

        // if first was null before, that means the deque was empty
        // so first and last should both point to the new item
        if(oldFirst == null) {
            last = first;
        } else {
            // If there previously was a first element, this element is
            // now the second element and its prev field should point to
            // the new first item
            oldFirst.prev = first;
        }
    }
}
</code></pre>
"
"<p>I'm going through the source code of the ""less"" unix tool by Mark Nudelman, and the beginning of main.c has many of the following:</p>

<pre><code>public int  logfile = -1;
public int  force_logfile = FALSE;
public char *   namelogfile = NULL;
</code></pre>

<p>etc. in the global scope, before the definition of main(),</p>

<p>What does public mean in this context? And more important, where can I find this information by myself? I searched using countless query combinations, and could not find this information, or any thorough C reference.</p>
","149392","","<p>C doesn't have a keyword ""public"", so it's probably a macro defined in the less source code somewhere.</p>
"
"<p>Lets say I have a linked list with a bunch of different data in it. </p>

<pre><code>class Node
{
public:
    Node* next;
    AAA dataA;
    BBB dataB;
    CCC dataC;
};
</code></pre>

<p>Is there a way I make one iterator that would iterate over whatever variable I specify (rather than making three separate ones for each variable). I understand that the iterator could use templates to make it iterate over types AAA, BBB or CCC, but I don't know how I could specify which variable to return. </p>
","149392","","<p>I doubt you can use templates to automatically choose the right variable to return, except by specifying three template specializations, which would be the same as defining three classes. You could however create one iterator class with three different methods to return dataA, dataB or dataC respectively (instead of operator*()).</p>
"
"<p>This method:</p>

<pre><code>  def format_stations_and_date
    from_station.titelize! if from_station.respond_to?(:titleize!)
    to_station.titleize! if to_station.respond_to?(:titleize!)
    if date.respond_to?(:to_date)
      date = date.to_date
    end
  end
</code></pre>

<p>Fails with this error when <code>date</code> is nil:</p>

<pre><code>NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_date):
  app/models/schedule.rb:87:in `format_stations_and_date'
  app/controllers/schedules_controller.rb:15:in `show'
</code></pre>

<p>However, if I change <code>date = date.to_date</code> to <code>self.date = self.date.to_date</code>, the method works correctly.</p>

<p>What's going on? In general, when do I have to write <code>self</code>?</p>

<p><strong>Edit:</strong> It's not related to the question, but please note that there is no ""titleize!"" method.</p>
","149392","","<p>Whenever you want to invoke a setter method on self, you have to write self.foo = bar. If you just write foo = bar, the ruby parser recognizes that as a variable assignment and thinks of foo as a local variable from now on. For the parser to realize, that you want to invoke a setter method, and not assign a local variable, you have to write obj.foo = bar, so if the object is self, self.foo = bar</p>
"
"<p>I have a matrix class with the size determined by template parameters.</p>

<pre><code>template &lt;unsigned cRows, unsigned cCols&gt;
class Matrix {
    ...
};
</code></pre>

<p>My program uses matrices of a few sizes, typically 2x2, 3x3, and 4x4.  By setting the matrix size with template parameters rather than run-time parameters allows the compiler to do a lot of inlining and optimization.</p>

<p>But now I need a member function that returns a new matrix that has one fewer row and one fewer column.</p>

<pre><code>Matrix&lt;cRows - 1, cCols - 1&gt; Reduced(unsigned row, unsigned col) const { ... }
</code></pre>

<p>The idea is that that it will return a matrix with the specified row and column deleted.  In practice, this will only ever be called with a matrix that has at least three rows and three columns, returning a 2x2 at the smallest.</p>

<p>The compiler doesn't see the lower bound, so it gets stuck in an infinite recursion trying to instantiate the templates with ever decreasing sizes.  I tried putting two clues in the function itself that these smaller sizes cannot occur:</p>

<pre><code>Matrix&lt;cRows - 1, cCols - 1&gt; Reduced(unsigned row, unsigned col) const {
    static_assert(cRows &gt; 1 &amp;&amp; cCols &gt; 1);
    if (cRows &lt;= 1 || cCols &lt;= 1) throw std::domain_error();
    Matrix&lt;cRows - 1, cCols - 1&gt; r;
    // ... initialize r ...
    return r;
}
</code></pre>

<p>Neither the <code>static_assert</code> nor the <code>if</code>-statement seems to be a strong enough clue to the compiler that a 0x0 matrix will never be generated.  (Ironically, it does complain about the <code>if</code>-statement having a constant compile-time condition.)</p>

<p>Does anyone have any suggestions on how to avoid this compile-time infinite recursion?</p>
","149392","","<p>You can specify a template specializations for small values of cRows or cCols which does not include that method.</p>
"
"<p>I'm solving sphere's online judge <a href=""https://www.spoj.pl/problems/SHPATH/"" rel=""nofollow"">shortest path problem</a>. This bit of code is giving me trouble:</p>

<pre><code>int sourceIndex = Arrays.binarySearch(citiesIds,source);

int destinationIndex= Arrays.binarySearch(citiesIds, destination);

double [] distancesFromSource = g.distancesFrom(sourceIndex);

int destinationDistance = (int)distancesFromSource[destinationIndex];

System.out.println(destinationDistance);
</code></pre>

<p>How can I avoid this <code>NullPointerException</code>?</p>

<pre><code>The complete code:

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package tshpath;



import java.io.*;
import java.util.*;

class Graph {

    private double [][]edges;
    /*el argumento es el número de vértices en este grafo*/
    public Graph(int vertices){

        edges = new double [vertices][vertices];
    }

    /*añade una arista de peso 1 a partir de i hasta j*/
    public void addEdge(int i, int j){

        edges[i][j]=1;
    }

    /*añade aristas de peso 1 de i hasta j y de j hasta i*/
    public void addUndirectedEdge (int i, int j){

        edges[i][j]=1;
        edges[j][i]=1;
    }

    /*retorna el costo de la arista de i y j*/
    public double getEdge(int i, int j){

        return edges[i][j];
    }

    /*retorna true si hay una arista entre i y j*/
    public boolean hasEdge (int i, int j){

        return edges[i][j] !=0.0;
    }

    /*fija el peso de la arista entre i y j*/
    public void setEdge (int i, int j, double weight){

        edges [i][j] = weight;
    }

    /*fija el peso de la arista entre i y j y entre j e i*/
    public void setUndirectedEdge (int i, int j, double weight){

        edges[i][j] = weight;
        edges[j][i] = weight;
    }

    /*retorna el número de vértices en este grafo*/

    public int size() {
        return edges.length;
    }

    /*retorna una lista de los vecinos del vértice i*/

    public List &lt;Integer&gt; neighbors (int i){

        List &lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();
        for (int j=0; j&lt;size();j++){
            if (hasEdge(i,j)){

                result.add(j);
            }
        }
        return result;
    }

    /*retorna 0 si i y j son idénticos, retorna infinito si no hay arista entre ellos o si
     * el peso entre las aristas si hay uno*/


    public double getCost(int i , int j){

        if (i==j){
            return 0.0;
        }
        if (edges[i][j]==0.0){
            return Double.POSITIVE_INFINITY;
        }

        return edges[i][j];
    }

    /*dijkstra, retorna el índice del elemento más pequeño de distances, ignorando
     * aquellos en visited*/

    protected int cheapest (double [] distances, boolean [] visited){

        int best =-1;
        for (int i=0; i&lt;size(); i++){

             if (!visited[i]
               &amp;&amp; ((best &lt; 0) || (distances[i] &lt; distances[best]))) {

              best =i;
        }
    }
        return best;

}

    public double [] distancesFrom (int source){

        double [] result = new double[size()];

        java.util.Arrays.fill(result, Double.POSITIVE_INFINITY);

        result [source]=0;

        boolean []visited = new boolean [size()];
        for (int i =0; i&lt;size();i++){

            int vertex = cheapest (result,visited);
            visited [vertex]=true;

            for (int j =0; j&lt;size();j++){
                result [j] = Math.min(result[j], result[vertex]+getCost(vertex,j));
            }
        }
        return result;


    }



    /*test Graph*/
    /*public static void main(String args[]){

        Graph g = new Graph(5);

        g.setEdge(1,2,1);
        g.setEdge(1,3,3);

        g.setEdge(2,1,1);
        g.setEdge(2,3,1);
        g.setEdge(2,4,4);

        g.setEdge(3,1,3);
        g.setEdge(3,2,1);
        g.setEdge(3,4,1);

        g.setEdge(4,2,4);
        g.setEdge(4,3,1);

       double [] distancesFrom1 = g.distancesFrom(1);
       double [] distancesFrom2 = g.distancesFrom(2);

       System.out.println((int)distancesFrom1[4]);
       System.out.println((int)distancesFrom2[4]);

    }*/
}



public class Main {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) throws Exception {
        // TODO code application logic here

        BufferedReader r = new BufferedReader (new FileReader(new File(""C:\\Documents and Settings\\Administrator\\My Documents\\NetBeansProjects\\TSHPATH\\src\\tshpath\\TSHPATHInput.txt"")));
        //BufferedReader r1 = new BufferedReader (new InputStreamReader(System.in));

        String line = r.readLine();

       // System.out.println(line); //Linea de prueba

        int s = Integer.parseInt(line);

        for (int testIndex=0; testIndex&lt;s; testIndex++){

        String [] citiesIds = new String[10000];


        line = r.readLine();

        //System.out.println(line); //Linea de prueba

        int n = Integer.parseInt(line);

        int graphSize = n +1; // por el problema de indexación desde 0 en el arreglo
        Graph g = new Graph (graphSize);

            for (int cityIndex=0; cityIndex&lt;n;cityIndex++){


                line = r.readLine();

          //      System.out.println(line); //Linea de prueba

                String NAME = line;


                int auxCityIndex = cityIndex +1; // para mantener la consistencia en la indexación

                citiesIds[auxCityIndex] = NAME;

                line = r.readLine();

            //    System.out.println(line); //Linea de prueba

                int p = Integer.parseInt(line);


                for (int neighborIndex=0;neighborIndex&lt;p;neighborIndex++){

                    line = r.readLine();

              //      System.out.println(line); //Linea de prueba

                    String [] brokenLine = line.split("" "");

                    int cityToConnect = Integer.parseInt(brokenLine[0]);
                    int weightOfConnection = Integer.parseInt(brokenLine[1]);

                    g.setEdge(auxCityIndex,cityToConnect, weightOfConnection);

                }



            }

            line = r.readLine();

            //System.out.println(line); //Linea de prueba

            int routesToFind = Integer.parseInt(line);



            for (int routesIndex=0; routesIndex&lt;routesToFind; routesIndex++){

                line = r.readLine();

              //  System.out.println(line); //Linea de prueba

                String [] cityNames = line.split("" "");

                String source = cityNames[0];
                String destination = cityNames[1];



                int sourceIndex = Arrays.binarySearch(citiesIds,source);

                int destinationIndex= Arrays.binarySearch(citiesIds, destination);

                double [] distancesFromSource = g.distancesFrom(sourceIndex);

                int destinationDistance = (int)distancesFromSource[destinationIndex];

                System.out.println(destinationDistance);


                }


        }

    }

}
</code></pre>

<p>the input file:</p>

<pre><code>1
4
gdansk
2
2 1
3 3
bydgoszcz
3
1 1
3 1
4 4
torun
3
1 3
2 1
4 1
warszawa
2
2 4
3 1
2
gdansk warszawa
bydgoszcz warszawa
</code></pre>
","149392","","<p>You don't completely fill citiesIds, so it still contains nulls when you do a binary search on it. Which is why you get an NPE.</p>

<p>You should only make the array as big as the number of items it will contain. I.e. do <code>new String[n]</code> once you know n instead of doing <code>new String[10000]</code>. Then fill the array and do the binary search. This way the array won't contain nulls and you won't get an NPE.</p>
"
"<p>Here's an excerpt from a fairly standard Rails form:</p>

<pre><code>  &lt;p&gt;
    &lt;%= f.label :from_station %&gt; &lt;%= f.text_field :from_station %&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;%= f.label :to_station %&gt; &lt;%= f.text_field :to_station %&gt;
  &lt;/p&gt;
</code></pre>

<p>By default, this renders like this:</p>

<p><img src=""http://img412.imageshack.us/img412/127/picture6u.png"" alt=""alt text"" /></p>

<p>This doesn't look great since the text fields don't line up. What's the easiest way to make the form look more like this:</p>

<p><img src=""http://img193.imageshack.us/img193/746/picture7shk.png"" alt=""alt text"" /></p>

<p>I've tried setting the <code>width</code> style property on the <code>&lt;label&gt;</code>s, but this property doesn't seem to do anything.</p>
","149392","","<p>You can use a <code>&lt;table&gt;</code> where each label is in column 1 and each textfield is in column 2.</p>
"
"<p>Consider the following code:</p>

<pre><code>public abstract class Test1
{
    public object Data { get; set; }
}

public abstract class Test2&lt;T&gt; : Test1
{
    public T Data { get; set; }
}
</code></pre>

<p>This will generate the following warning:</p>

<blockquote>
  <p>'Test2.Data' hides inherited member 'Test1.Data'. Use the new keyword if hiding was intended.</p>
</blockquote>

<p>Why is this only a warning and what effect will adding the ""new"" keyword have?</p>

<p>According to my testing I cannot find any difference once the ""new"" keyword is added.</p>

<p>Don't get me wrong, I'm all for being explicit, but I was curious as to the benefit of adding ""new"".</p>

<p>My only thoughts on what it might be are:</p>

<ul>
<li>Improved human readability</li>
<li>Some saving at run-time when the compiler isn't left to figure the inevitable out the long way around</li>
</ul>
","149392","","<p>The only effect the <code>new</code> keyword has is to remove the warning. The purpose of getting the warning when not using the <code>new</code> keyword is to prevent you from accidentally shadowing the method when you really meant to override it.</p>
"
"<p>I have no idea how to ""metatize"" this method, but I know it should be simple. The method looks like this</p>

<pre><code>  def check_sent=(value)
      Date.parse(value) rescue  @dates_bad = true
      self.write_attribute(:check_sent, value)
  end
</code></pre>

<p>This is for an ActiveRecord subclass. I would like to have these methods for all fields that I specify. Is there any way to do this in Ruby?</p>
","149392","","<pre><code>class Foo &lt; ActiveRecord::Base
  def self.define_date_setters(*fields)
    fields.each do |field|
      define_method(""#{ field }="") do |value|
        Date.parse(value) rescue @dates_bad = true
        self.write_attribute(field, value)
      end
    end
  end

  define_date_setters :check_sent, :other_field, :yet_another_field
end
</code></pre>

<p>If you need that functionality for more than one class, you can move <code>define_setters</code> into a module that you extend your classes with.</p>
"
"<p>Is there any difference between <code>p</code> and <code>puts</code> in Ruby?</p>
","149392","","<p><code>p foo</code> does <code>puts foo.inspect</code>, i.e. it prints the value of <code>inspect</code> instead of <code>to_s</code>, which is more suitable for debugging (because you can e.g. tell the difference between <code>1</code>, <code>""1""</code> and <code>""2\b1""</code>, which you can't when printing without <code>inspect</code>).</p>
"
"<p>I have a test class:</p>

<pre><code>require File.dirname(__FILE__) + '/../car.rb'
class CarTest &lt; Test::Unit::TestCase

   def test_set_color
      assert_raise InvalidColorEntry ""Exception not raised for invalid color"" do
        Car.set_color(""not a color"")
      end
   end

end
</code></pre>

<p>InvalidColorEntry is an exception class that I placed in the car.rb file like so:</p>

<pre><code>class InvalidColorEntry &lt; Exception; end
class Car
   ...
end
</code></pre>

<p>When I run the test, ruby is telling me that ""InvalidColorEntry"" is an undefined method.  I have even tried to include the exception class definition in the test file even though I do not want to do that.  </p>

<p>How can I make my test file aware of the custom exception definition?  It obviously sees the car.rb file because it is able to call Car.set_color</p>

<p>Thanks!</p>
","149392","","<p>It thinks InvalidColorEntry is supposed to be a method because you do <code>InvalidColorEntry ""Exception not raised for invalid color""</code>, which it parses as <code>InvalidColorEntry(""Exception not raised for invalid color"")</code>.</p>

<p>I think you're just missing a comma after InvalidColorEntry.</p>
"
"<p>Quick question regarding how memory is allocated.</p>

<p>If someone were to allocate 20 chars like this:</p>

<pre><code>char store[20];
</code></pre>

<p>does this mean that it allocated 20 char type blocks of memory, or that it allocated char type blocks of memory starting with 0 and ending with 20. The difference is that the first example's range would be from store[0] to store[19], whereas the second example's range would be from store[0] to store[20]. </p>
","149392","","<p>It allocates memory for 20 chars, i.e. valid indices go from 0 to 19.</p>
"
"<p>I am trying to determine if the an element in one multi-dimensional array exists in another similarly structured array.</p>

<pre><code>suspects = [['Rod', 100], ['Jane', 75], ['Freddy', 125]]
criminals = [['Bill', 75], ['Ted', 50], ['Rod', 75]]
</code></pre>

<p>The response I am looking for is either true or false. In the example above the response would be true because Rod exists in both arrays. The integer value has in the second tier array has no bearing.</p>

<p>How would I code such a test in typically Ruby-like succinctness?</p>
","149392","","<pre><code>suspects.any? do |suspect, _|
  criminals.any? do |criminal, _|
    suspect == criminal
  end
end
</code></pre>
"
"<p>I have a structure like this:</p>

<pre><code>{:foo =&gt; ['foo1', 'foo2'], :bar =&gt; ['bar1']}
</code></pre>

<p>Which I would like to have transformed into:</p>

<pre><code>[[:foo, ""foo1""], [:foo, ""foo2""], [:bar, ""bar1""]]
</code></pre>

<p>My current solution is imperative:</p>

<pre><code>result = []
h.each do |k,v|
  v.each do |value|
    result &lt;&lt; [k, value]
  end
end
</code></pre>

<p>While this works, I am certain that there is a much more elegant way to write this, but I can't figure it out. I would like to know what a function-oriented solution would look like?</p>
","149392","","<pre><code>h.inject([]) do |arr, (k,v)|
  arr + v.map {|x| [k,x] }
end
</code></pre>
"
"<p>So I have a file in the form of:</p>

<pre><code>Key1   Value1
Key2   Value2
Key3   Value3
</code></pre>

<p>seperated by a tab. My question is how do I open this file and put it into a hash? I have tried to do:</p>

<pre><code> fp = File.open(file_path)

 fp.each do |line|
   value = line.chomp.split(""\t"")
   hash = Hash[*value.flatten]
 end
</code></pre>

<p>But at the end of this loop the @datafile hash only contains the latest entry...I kinda want it all.....</p>
","149392","","<p><code>hash[key] = value</code> to add a new key-value pair. <code>hash.update(otherhash)</code> to add the key-value-pairs from otherhash to hash.</p>

<p>If you do <code>hash = foo</code>, you reassign hash, losing the old contents.</p>

<p>So for your case, you can do:</p>

<pre><code>hash = {}
File.open(file_path) do |fp|
  fp.each do |line|
    key, value = line.chomp.split(""\t"")
    hash[key] = value
  end
end
</code></pre>
"
"<p>Learning ruby. I'm under the impression that boolean attributes should be named as follows:</p>

<pre><code>my_boolean_attribute?
</code></pre>

<p>However, I get syntax errors when attempting to do the following:</p>

<pre><code>class MyClass
  attr_accessor :my_boolean_attribute?

  def initialize
    :my_boolean_attribute? = false
  end
end
</code></pre>

<p>Apparently ruby is hating the ""?"". Is this the convention? What am I doing wrong?</p>
","149392","","<p>? is convention for methodnames, not variables. You can't use an instance variable named <code>@foo?</code>, however you could use a variable named <code>@foo</code> and name the (manually created) getter method <code>foo?</code> if you wanted to.</p>
"
"<p>You can see what i'm trying to do below:</p>

<pre><code>typedef struct image_bounds {
    int xmin, ymin, xmax, ymax;
} image_bounds;

#define IMAGE_BOUNDS(X) ((image_bounds *)(X));

typedef struct {
    image_bounds bounds;
    float dummy;
} demo;

int
main(void) {
    demo my_image;

    /* this works fine */
    ((image_bounds *)(&amp;my_image))-&gt;xmin = 10;

    /* why doesn't this work? i get the following error:
    /* In function main:
      cast.c:20: error: expected expression before = token
    */    
    IMAGE_BOUNDS(&amp;my_image)-&gt;xmin = 20;

    return 0;
}
</code></pre>

<p>As you can see from above the C cast works but the macro version does not, what am I doing wrong?</p>
","149392","","<p>In the version without macros you have <code>-&gt;xmin</code> before the <code>=</code>, in the one with macros you don't.</p>
"
"<p>What is the best way to get this info from a file for each line?</p>

<p>the text file looks like this</p>

<pre><code>1 E  
1 P  
1 C  
2 E a  
5 E P C
</code></pre>

<p>So i need to get the info from line 1(1 E) put 1 into a variable and then E into another. The same for the rest of the lines, but some have a different number of elements which I dont understand how to do.</p>
","149392","","<p>You can use <code>filestream &gt;&gt; intvariable;</code> to read the integer at the beginning of the line. You can then use <code>getline</code> to read the rest of the line into a string and then maybe split that into an array or do whatever else you want to do with it. You weren't very specific as to what exactly you want to do.</p>
"
"<p>Given the following: <strong>byte[] sData;</strong> and a function declared as <strong>private byte[] construct_command()</strong></p>

<p>if I were to then assign the result of <strong>construct_command()</strong> to <strong>sData</strong>
would sData just point to the contents of what's returned from the function or would some space be alloctaed for sData in memory and the contents of the result of the function be copied into it?</p>
","149392","","<p><code>sData</code> would point to the array returned by <code>construct_command</code>.</p>
"
"<p>Yesterday I attempted to create an array of objects, belonging to a non-static inner class of a generic class. It seems that there is no nice way of doing so.
<hr /></p>

<p>First attempt:  </p>

<pre><code>public class Wibble&lt;T&gt;{  
      public static void main(String...args){  
            new Wibble&lt;String&gt;();  
      }  
      public Wibble(){  
            Bar[] bar = new Bar[11];  
      }  
      static class Foo{}  
      class Bar extends Foo{}  
}
</code></pre>

<p>This does not work, because 'Bar' within the context of 'Wibble' is implicitly generic, resulting in the following error:</p>

<pre><code>Exception in thread ""main"" java.lang.Error:  
Unresolved compilation problem: Cannot create a generic array of Wibble&lt;T&gt;.Bar  

at Wibble.&lt;init&gt;(Wibble.java:7)  
at Wibble.main(Wibble.java:4)
</code></pre>

<p><hr /></p>

<p>Second attempt:  </p>

<pre><code>public class Wibble&lt;T&gt; {  
      public static void main(String...args){  
            new Wibble&lt;String&gt;();  
      }  
      public Wibble(){  
            Bar[] bar = (Bar[])new Foo[11];  
      }  
      static class Foo{}  
      class Bar extends Foo{}  
}
</code></pre>

<p>This does not work because arrays can only be cast to a generic type from the most recent known non-generic type. For the generic Bar, the most recently known non-generic type is the non-generic Bar, which cannot (easily?) be referenced within the context of the parent class. Resulting in the following error:</p>

<pre><code>Exception in thread ""main"" java.lang.ClassCastException:  
[LWibble$Foo; cannot be cast to [LWibble$Bar;  

at Wibble.&lt;init&gt;(Wibble.java:7)  
at Wibble.main(Wibble.java:4)
</code></pre>

<p><hr /></p>

<p>Final attempt:  </p>

<pre><code>public class Wibble&lt;T&gt; {  
      private static final Class&lt;?&gt; BARCLASS = new Wibble&lt;Object&gt; (false).new Bar().getClass();  
      public static void main(String...args){  
           new Wibble&lt;String&gt;();  
      }  
      private Wibble(boolean flag){}
      public Wibble(){  
           Bar[] bar = (Bar[])Array.newInstance(BARCLASS, 11);  
      }  
      static class Foo{}  
      class Bar extends Foo{}  
}
</code></pre>

<p>This works, however, if you wish to create the array within the constructor, you also need a (private) dummy constructor, so that you can get the class.<br />
Furthermore if the parent class is abstract, you need to provide dummy implementations for all of the abstract methods.</p>

<p><hr /></p>

<p>As I finished writing this up, I realised that</p>

<pre><code>public class Wibble&lt;T&gt; {    
      public static void main(String...args){  
            new Wibble&lt;String&gt;();  
      }  
      private Wibble(boolean flag){}
      public Wibble(){  
            Bar[] bar = (Bar[])Array.newInstance(Bar.class, 11);  
      }  
      static class Foo{}  
      class Bar extends Foo{}  
}
</code></pre>

<p>Works as well, and figured I might as well still post. It's still ugly though, and there's no justification for the fact that normal syntax does not work. </p>
","149392","","<p>If you need to keep the ""implicit genericity"", i.e. you can't make the class static, you can do <code>Bar[] bar = new Bla.Bar[11];</code>, though you'll get a warning for that.</p>
"
"<p>I've been looking at some articles that say that <a href=""http://www.oreillynet.com/ruby/blog/2007/01/nubygems%5Fdont%5Fuse%5Fclass%5Fvariab%5F1.html"" rel=""nofollow"">class variables are bad in Ruby</a>. They suggest using the meta-class (or singleton class). This is my sample code</p>

<pre><code>class Joe
  class &lt;&lt; self # here we're putting methods in Joe's ""meta class"" 
    attr_accessor :foo
  end
  def self.foo2
  end
  def self.foo2=value
  end
end

puts Joe.singleton_methods
</code></pre>

<p>I understand that foo and foo2 are essentially the same, though there's no way to use attr_accesor with foo2.</p>

<p>I don't get what's up with the <code>class &lt;&lt; self syntax</code>. Is there some kind of concatenation happening, or... what is it? Is that some kind of extension, inheritance or monkey-patching?</p>

<p><strong>Edit (Bonus):</strong> While I'm here, is there any way to cache data on a view helper? I have tried using this class &lt;&lt; self thing, but the helper methods do not find the accessor.</p>
","149392","","<p>The <code>class &lt;&lt; foo</code> opens the singleton class of foo, which is the class that foo is the only instance of (and which implicitly inherits foo's ""real"" class). So it's a kind of extension (you're adding methods to one specific object that are not defined by that object's class). It's not monkey-patching because you're only affecting that one object and not any other object of that class.</p>

<p>Note that <code>def foo.bar</code> is merely a shortcut for</p>

<pre><code>class &lt;&lt;foo
  def bar
</code></pre>

<p>i.e. it does the same thing behind the scenes. The <code>&lt;&lt;</code> has nothing to do with the <code>&lt;&lt;</code> method. It's just part of the syntax.</p>
"
"<p>What is the time complexity of count in clojure?</p>
","149392","","<p>Here's the implementation:</p>

<pre class=""lang-java prettyprint-override""><code>public static int count(Object o){
        if(o == null)
                return 0;
        else if(o instanceof Counted)
                return ((Counted) o).count();
        else if(o instanceof IPersistentCollection) {
                ISeq s = seq(o);
                o = null;
                int i = 0;
                for(; s != null; s = s.next()) {
                        if(s instanceof Counted)
                                return i + s.count();
                        i++;
                }
                return i;
        }
        else if(o instanceof String)
                return ((String) o).length();
        else if(o instanceof Collection)
                return ((Collection) o).size();
        else if(o instanceof Map)
                return ((Map) o).size();
        else if(o.getClass().isArray())
                return Array.getLength(o);

        throw new UnsupportedOperationException(""count not supported on this type: "" + o.getClass().getSimpleName());
}
</code></pre>

<p>So it's O(1) for arrays, strings, collections, maps and anything that implements Counted. It's O(n) for anything that implements IPersistentCollection, but not Counted.</p>
"
"<p>I have the Python expression <code>n &lt;&lt;= 1</code>  </p>

<p>How do you express this in PHP?</p>
","149392","","<p><code>$n &lt;&lt;= 1;</code> is valid php</p>
"
"<p>Learning Ruby. I'm looking for a script to search a file (or list of files) for a pattern and, if found, replace that pattern with a given value.</p>

<p>Thoughts?</p>
","149392","","<p>There isn't really a way to edit files in-place. What you usually do when you can get away with it (i.e. if the files are not too big) is, you read the file into memory (<code>File.read</code>), perform your substitutions on the read string (<code>String#gsub</code>) and then write the changed string back to the file (<code>File.open</code>, <code>File#write</code>).</p>

<p>If the files are big enough for that to be unfeasible, what you need to do, is read the file in chunks (if the pattern you want to replace won't span multiple lines then one chunk usually means one line - you can use <code>File.foreach</code> to read a file line by line), and for each chunk perform the substitution on it and append it to a temporary file. When you're done iterating over the source file, you close it and use <code>FileUtils.mv</code> to overwrite it with the temporary file.</p>
"
"<p>I'm looking at the documentation for FileUtils. I'm confused by the following line:</p>

<pre><code>FileUtils.cp %w(cgi.rb complex.rb date.rb), '/usr/lib/ruby/1.6'
</code></pre>

<p>What does the %w mean? Can you point me to the documentation? </p>
","149392","","<p><code>%w(foo bar)</code> is a shortcut for <code>[""foo"", ""bar""]</code>. Meaning it's a notation to write an array of strings separated by spaces instead of commas and without quotes around them. You can find a list of ways of writing literals in <a href=""http://www.zenspider.com/Languages/Ruby/QuickRef.html#4"">zenspider's quickref</a>.</p>
"
"<p>In an (m by n) array stored as <code>double *d</code>  (column major), what is the fastest way of selecting a range of rows and or columns:</p>

<pre><code>double *filter(double *mat, int m, int n, int rows[], int cols[]);
</code></pre>

<p>invoked as:</p>

<pre><code>double *B;
int rows[]= {1,3,5}; int cols[]={2,4};
B = filter(A, 5, 4, rows, cols);
</code></pre>

<p>which is expected to return a 3-by-2 subset of A consisting of elements (1,2), (1,4), (3,2)...</p>
","149392","","<p>I'm pretty sure that <code>m</code> and <code>n</code> should be the dimension of the new array (i.e. <code>m</code> should be the number of items of <code>rows</code> and <code>n</code> should be the number of items in cols) and not the dimension of the source array as seems to be the case in your example because a) you don't need to know the dimension of the source array if you already know which indices to pick from it (and are presumably allowed to assume that those will be valid) and b) if you don't know the size of <code>rows</code> and <code>columns</code> they are useless as you can't iterate over them.</p>

<p>So under that assumption the algorithm could look like this:</p>

<ul>
<li>Allocate memory for an m x n array</li>
<li>For each i in 0..m, j in 0..n</li>
<li><ul>
<li><code>B[i,j] = A[ rows[i], cols[j] ];</code></li>
</ul></li>
</ul>
"
"<p>I've seen how to overload <code>+</code> and <code>*</code> in Ruby, so that
<code>my_obj + other</code> calls <code>my_obj.+(other).</code> In Python, you do this with <code>__add__</code>, and there's a corresponding <code>__radd__</code> for overloading <code>other + my_obj</code>. Is there really no equivalent right-sided addition/multiplication in Ruby, and does that make it necessary to redefine <code>+</code> for each potential class of <code>other</code>?</p>

<p>In brief: say I have an object <code>X</code> which belongs to some new class defined by me. It's easy to write code for <code>X + 5</code>, but it seems that in order to handle <code>5 + X</code> I'd need to redefine <code>Fixnum.+</code>. Is this true?</p>
","149392","","<p>No, you don't need to redefine Fixnum#+ (or any other arithmetic method of ruby's numeric classes). The arithmetic methods of the numeric classes will call <code>coerce</code> if the two operands are not the same class. So if you define a coerce method for your class, <code>5 + instance_of_your_class</code> will work fine without any changes to Fixnum#+.</p>

<p>Edit: Here's an example of using coerce:</p>

<pre><code>class MyNum
  attr_accessor :num

  def initialize(num)
    @num = num
  end

  def +(o)
    lhs, rhs = coerce(o)
    MyNum.new(lhs.num + rhs.num)
  end

  def coerce(o)
    if o.is_a? MyNum
      [self, o]
    else
      [self, MyNum.new(o)]
    end
  end
end

MyNum.new(5)+3 #=&gt; #&lt;MyNum:0x87fca08 @num=8&gt;
3+MyNum.new(5) #=&gt; #&lt;MyNum:0x8807980 @num=8&gt;
</code></pre>
"
"<p>I want to allow people using my program to build up what amounts to several if conditions, which they will select from drop down lists.</p>

<pre><code>First drop down : object
Second drop down : attribute
Third drop down : sign
Fourth drop down : amount
</code></pre>

<p>So the user's selection might look something like this;</p>

<pre><code>person_a
age
&gt;
18
</code></pre>

<p>Is it possible to build up an <code>if</code> condition in a string and then execute it?</p>
","149392","","<p>Assuming you have a method <code>find_person</code>, which takes the person's name and returns the person object, you can do</p>

<pre><code>find_person(person_name).send(attribute).send(sign, amount)
</code></pre>
"
"<p>I have lines in header files that are like:</p>

<pre><code>public:
    //! @name Constructor / Destructor
    //@{
    //! Constructor.
    	CP_AboutBox( CP_Application_Imp *inOwnerApp );
    	virtual ~CP_AboutBox() throw();
    //@}

    //! @name Instance
    //@{
    	static	CP_AboutBox					*Instance();
    //@}

    //! @name Display
    //@{
    	void	Display( const CP_String&amp; inDescription = CP_String("""") );
    //@}

    //! @name Setters
    //@{
</code></pre>

<p>What is all this <code>@name Instance</code> and <code>@name Display</code>?</p>

<p>is it Doxygen?</p>
","149392","","<p>Yes, it's doxygen. <a href=""http://www.stack.nl/~dimitri/doxygen/grouping.html#memgroup"" rel=""nofollow"">http://www.stack.nl/~dimitri/doxygen/grouping.html#memgroup</a></p>
"
"<p>I would like to filter this list,</p>

<p>l = [0,1,1,2,2]</p>

<p>to only leave,</p>

<p>[0].</p>

<p>I'm struggling to do it in a 'pythonic' way :o) Is it possible without nested loops?</p>
","149392","","<pre><code>[x for x in the_list if the_list.count(x)==1]
</code></pre>

<p>Though that's still a nested loop behind the scenes.</p>
"
"<p>I have an array of strings:</p>

<pre><code>[""username"", ""String"", ""password"", ""String""]
</code></pre>

<p>And I want to convert this array to a list of Field objects:</p>

<pre><code>class Field
    attr_reader :name, :type
    def initialize(name, type)
        @name = name
        @type = type
    end
end
</code></pre>

<p>So I need to map ""username"", ""String"" => Field.new(""username"", ""String"") and so on. The length of the array will always be a multiple of two. </p>

<p>Does anyone know if this is possible using a map style method call?</p>
","149392","","<p>1.8.6:</p>

<pre><code>require 'enumerator'
result = []
arr = [""username"", ""String"", ""password"", ""String""]
arr.each_slice(2) {|name, type| result &lt;&lt; Field.new(name, type) }
</code></pre>

<p>Or Magnar's solution which is a bit shorter.</p>

<p>For 1.8.7+ you can do:</p>

<pre><code>arr.each_slice(2).map {|name, type| Field.new(name, type) }
</code></pre>
"
"<p><em>Quick background: I have a string which contains references to other pages. The pages are linked to using the format: ""#12"". A hash followed by the ID of the page.</em></p>

<p>Say I have the following string:</p>

<pre><code>str = 'This string links to the pages #12 and #125'
</code></pre>

<p>I already know the IDs of the pages that need linking:</p>

<pre><code>page_ids = str.scan(/#(\d*)/).flatten
=&gt; [12, 125]
</code></pre>

<p>How can I loop through the page ids and link the #12 and #125 to their respective pages? The problem I've run into is if I do the following (in rails):</p>

<pre><code>page_ids.each do |id|
  str = str.gsub(/##{id}/, link_to(""##{id}"", page_path(id))
end
</code></pre>

<p>This works fine for #12 but it links the ""12"" part of #125 to the page with ID of 12.</p>

<p>Any help would be awesome.</p>
","149392","","<p>Instead of extracting the ids first and then replacing them, you can simply find and replace them in one go:</p>

<pre><code>str = str.gsub(/#(\d*)/) { link_to(""##{$1}"", page_path($1)) }
</code></pre>

<p>Even if you can't leave out the extraction step because you need the ids somewhere else as well, this should be much faster, since it doesn't have to go through the entire string for each id.</p>

<p>PS: If <code>str</code> isn't referred to from anywhere else, you can use <code>str.gsub!</code> instead of <code>str = str.gsub</code></p>
"
"<p><strong>See edit at the end</strong></p>

<p>I am trying to overload the + operator in C++ to allow me to add two complex numbers. (add the real and add the imaginary).</p>

<p>Here is my overloaded function:</p>

<pre><code>ComplexNum operator+(ComplexNum x, ComplexNum y){
ComplexNum result;
result.real = (x.getReal() + y.getReal());
result.imag = (x.getImag() + y.getImag());

return result;
}
</code></pre>

<p>My Complex number constructor takes in two ints and assigned the first to int real and second to int imag.</p>

<p>When I try add them:</p>

<pre><code>ComplexNum num1 = ComplexNum(1,1);
    ComplexNum num2 = ComplexNum(2,3);
    ComplexNum num3;
    num3 = num1 + num2;
    printf(""%d"",num3.getReal());
</code></pre>

<p>I get 0 as a result. The result should be 3 (the real parts of num1 and num2 added)</p>

<p><strong>EDIT: I figured out what was wrong. I had .getReal() and .getImage() returning double.</strong></p>
","149392","","<p>Since the arguments of operator+ are declared as values, not references, they will be passed by copy, so if the copy-constructor of ComplexNum doesn't work, that could cause x and y to have a real part of 0.</p>

<p>It's also possible that the addition works, but you lose the real part when you invoke the assignment operator of num3.</p>

<p>Or maybe it's simply the getReal() method that is broken.</p>
"
"<p>Noob question:</p>

<p>Consider the following C# code:</p>

<pre><code>public IEnumerable&lt;xpto&gt; CalculatedList {
  get { foreach(var item in privateList.OfType&lt;xpto&gt;()) yield return item; }
}
</code></pre>

<p>What would be the correspondent code in Ruby? The thing is that I want the return object of a <strong>class method</strong> to behave just like an Enumerable, so I can call include?, sort_by, etc. on it.</p>

<p>By the way, I know I can make the method return a list, but that wouldn't be (a) lazy, since the list would need to be calculated first, (b) looking for an ideomatic solution :-)</p>
","149392","","<pre><code>require 'enumerator'
def calculated_list
  return enum_for(:calculated_list) unless block_given?

  private_list.each do |item|
    yield item.to_xpto # Or whatever the equivalent for OfType&lt;xpto&gt; looks like
  end
end
</code></pre>
"
"<p>This is very strange to me:</p>

<pre><code>irb(main):012:0&gt; ""100.7"".to_f.modulo(1)
=&gt; 0.700000000000003
</code></pre>

<p>Why the 3 at the end?</p>

<pre><code>irb(main):019:0&gt; ""10.7"".to_f.modulo(1)
=&gt; 0.699999999999999
</code></pre>

<p>Same thing here...we are only getting the remainder of this value divided by one.  It should be exact.</p>
","149392","","<p><a href=""http://docs.sun.com/source/806-3568/ncg%5Fgoldberg.html"" rel=""nofollow"">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></p>
"
"<p>What's the best way to iterate over an array of arrays? </p>

<pre><code>sounds = [ [Name_1, link_1], [Name_2, link_2], [Name_3, link_3], [Name_4, link_4] ]
</code></pre>

<p>I want to the output in HTML <code>ul</code>/<code>li</code> structure:</p>

<pre><code>&lt;ul&gt;
   &lt;li&gt;Name_1, link_1&lt;/li&gt;
   &lt;li&gt;Name_2, link_2&lt;/li&gt;
   &lt;li&gt;Name_3, link_3&lt;/li&gt;
   &lt;li&gt;Name_4, link_4&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
","149392","","<p>Assuming all the inner arrays have fixed size, you can use auto-unpacking to get each item of the inner array in its own variable when iterating over the outer array. Example:</p>

<pre><code>sounds.each do |name, link|
  # do something
end
</code></pre>
"
"<p>I want to use to_sentence method on the block of code to return the names with , separated :</p>

<pre><code>&lt;% @products_in_category.each do |pic| %&gt;
  &lt;%= pic.name %&gt;
&lt;% end %&gt;
</code></pre>

<p>How can I do this ?</p>
","149392","","<p>Replace each with map and it will return an array with the results of invoking the block on each element. So you can do</p>

<pre><code>@products_in_category.map(&amp;:name).to_sentence
</code></pre>
"
"<p>When should I put ... at the end of a menu item?  I seem to remember reading some rules but can't for the life of me find them.</p>

<p>For context - I'm adding a properties option to a right click menu and am wondering if it is appropriate to add them.</p>
","149392","","<p>They usually signify that clicking on that entry will open a dialog window.</p>
"
"<p>I have an array of integers in string form:</p>

<pre><code>var arr = new string[] { ""1"", ""2"", ""3"", ""4"" };
</code></pre>

<p>I need to an array of 'real' integers to push it further:</p>

<pre><code>void Foo(int[] arr) { .. }
</code></pre>

<p>I tried to cast int and it of course failed:</p>

<pre><code>Foo(arr.Cast&lt;int&gt;.ToArray());
</code></pre>

<p>I can do next:</p>

<pre><code>var list = new List&lt;int&gt;(arr.Length);
arr.ForEach(i =&gt; list.Add(Int32.Parse(i))); // maybe Convert.ToInt32() is better?
Foo(list.ToArray());
</code></pre>

<p>or</p>

<pre><code>var list = new List&lt;int&gt;(arr.Length);
arr.ForEach(i =&gt;
{
   int j;
   if (Int32.TryParse(i, out j)) // TryParse is faster, yeah
   {
      list.Add(j);
   }
 }
 Foo(list.ToArray());
</code></pre>

<p>but both looks ugly.</p>

<p>Is there any other ways to complete the task?</p>
","149392","","<pre><code>var list = arr.Select(i =&gt; Int32.Parse(i));
</code></pre>
"
"<p>We have two set of string arrays, e.g.:</p>

<pre><code>string[] a = new string[] {""value1"",""value2"",""value3""};
string[] b = new string[] {""value1"",""value2"",""value3""};
</code></pre>

<p>I have to develop a generic method which should takes these two string arrays as parameters
and should return the combined one back:</p>

<pre><code>public T[] ArrayItms(T1[] a, T2[] b)
{
    return T[];
}
</code></pre>

<p>I got bit confused, doing so in generics.</p>
","149392","","<p>Do it without generics then replace each occurence of string with T.</p>
"
"<p>I have an application that is programmed in C# 3.5 under Windows. 
This application is also Mono-compatible so it is also used on MacOs and Linux operating system.</p>

<p>There is a ""Launch at startup"" option in my application. For now, it is greyed when the operating system is not windows as I'm using the registry.</p>

<p>But I'm looking for a way to perform the same operation for the other operating systems. And this should be doable with Mono.
I need that at least for MacOs (most recent versions) and Linux systems (mostly Ubuntu if it differs from one distrib to another).</p>

<p>Edit : it is a ""user application"" with UI...</p>
","149392","","<p>For linux:</p>

<p>If you want your application to start as a deamon when the system boots, you'll need to look into initscripts, which differ between different distributions.</p>

<p>If you want your application to start when the user logs into his desktop, it depends on the user's desktop environment. For example for kde4 you can put a link to your application into ~/.kde4/Autostart.</p>
"
"<p>So, I have an abstract class <code>Panel</code> and an implementation of it <code>MyPanel</code>. They look similar to this:</p>

<pre><code>class Panel : public QWidget
{
public:
  Panel(QWidget* parent = 0) = 0;
  virtual ~Panel() = 0;
  // but wait, there's more!!
};

class MyPanel : public Panel
{
public:
  MyPanel(QWidget* parent = 0);
  ~MyPanel() {}; // nothing to do here
};

MyPanel::MyPanel(QWidget* parent) :
  Panel(parent)
{
  // you must construct additional pylons
}
</code></pre>

<p>I'm getting linker errors for the constructor/destructor from VC++</p>

<pre><code>error LNK2019: unresolved external symbol ""public: virtual __thiscall Panel::~Panel(void)"" (??1Panel@@UAE@XZ) referenced in function ""public: virtual __thiscall MyPanel::~MyPanel(void)"" (??1MyPanel@@UAE@XZ)  mypanel.obj
error LNK2019: unresolved external symbol ""public: __thiscall Panel::Panel(class QWidget *)"" (??0Panel@@QAE@PAVQWidget@@@Z) referenced in function ""public: __thiscall MyPanel::MyPanel(class QWidget *)"" (??0MyPanel@@QAE@PAVQWidget@@@Z)  mypanel.obj
</code></pre>

<p>Why am I getting this linker error?</p>

<p><hr /></p>

<p><strong>--- THE ANSWER ---</strong></p>

<pre><code>class Panel : public QWidget
{
public:
  Panel(QWidget* parent = 0) : QWidget(parent) {};
  virtual ~Panel() {};
  // but wait, there's more!!
};
</code></pre>

<p>I thought I had tried this before lunch. Turns out I was wrong.</p>
","149392","","<p>Purely virtual destructors still need to have an implementation.</p>

<p>To expand on that a bit:</p>

<p>The destructor of a class will always be called if any instance of a subclass gets destructed, so it needs to have an implementation. (Basically the only effect of making a destructor purely virtual is that it prevents instanatiation of the class).</p>

<p>As for the constructor: You're making it purely virtual (which I don't see any reason for doing), but then you explicitly call it from the subclass's constructor.</p>
"
"<p>I am loading an arbitrary YAML document, and want to walk every node in the tree.  I don't know how nested the tree is beforehand, so I can't just use a simple each statement to walk all the nodes.</p>

<p>Here is how I'm loading the document:</p>

<pre><code>tree = File.open( ""#{RAILS_ROOT}/config/locales/es.yml"" ){ |yf| YAML::load (yf)}
</code></pre>
","149392","","<pre><code>def traverse(obj, &amp;blk)
  case obj
  when Hash
    # Forget keys because I don't know what to do with them
    obj.each {|k,v| traverse(v, &amp;blk) }
  when Array
    obj.each {|v| traverse(v, &amp;blk) }
  else
    blk.call(obj)
  end
end

traverse( YAML.load_file(filename) ) do |node|
  puts node
end
</code></pre>

<p>Edit:</p>

<p>Note that this only yields the leaf nodes. The question wasn't very clear as to what was wanted exactly.</p>
"
"<pre><code>  @father = Hierarchy.find(:first, :conditions =&gt; ['label = ?', 'father'])

  @father.children.each do |child|
    puts @father.object_id == child.parent.object_id
  end
</code></pre>

<p>I would have thought the results here would be all <code>true</code>. </p>

<p>Instead they are all <code>false</code>. </p>

<p>Why does ActiveRecord work this way instead of recognizing that these are the same Ruby objects?</p>
","149392","","<p>To return existing objects when possible instead of creating new ones ActiveRecord would have to keep track of which objects were created and which entry in the database they respond to, which would be some overhead. Even then it would still have to lookup child.parent in the database to know that it's the same entry that @father represents, so there wouldn't be any considerable gain performance wise from this caching (well on the ruby side it safes allocating multiple objects but at the cost of the bookkeeping overhead, but on the database side it should be basically the same).</p>

<p>So given that the AR people probably decided that preventing different objects corresponding to the same database entry would either be detrimental or at least not worth the effort, so they chose not to do it.</p>
"
"<p>How can I match a block of text that is indented using tabs?</p>

<p>Say I have the following text:</p>

<pre>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. 

    # This is a text block
    @some = 'ruby'
    @then = 'some more'

Aliquam malesuada scelerisque orci, sed venenatis sem eleifend ac. Vestibulum vehicula sagittis commodo. Praesent dapibus lacinia aliquam.
</pre>

<p>I want to match all the  content that is tabbed in (ie. the code).</p>
","149392","","<p>This will return an array with one string per block:</p>

<pre><code>str = %Q{
Lorem ipsum dolor sit amet, consectetur adipiscing elit. 

\t# This is a text block
\t@some = 'ruby'
\t@then = 'some more'

Aliquam malesuada scelerisque orci, sed venenatis sem eleifend ac. Vestibulum vehicula sagittis commodo. Praesent dapibus lacinia aliquam.
\t# another block
\tfoo(bar)
}

str.scan(/(?:^\t.*\n)+/) #=&gt; [""\t# This is a text block\n\t@some = 'ruby'\n\t@then = 'some more'\n"", ""\t# another block\n\tfoo(bar)\n""]
</code></pre>
"
"<p>I have a Ruby script, which uses one external lib.
Sometimes script exits with segmentation fault,
when uses this lib and I must to rerun it.
Is it possible to somehow rescue this error by extracting fragment,
which has dangerous code to separate process or something like that?</p>

<p>Thanks</p>
","149392","","<p>You can use the <a href=""https://github.com/tenderlove/neversaydie#readme"" rel=""nofollow"">neversaydie</a> gem to rescue segmentation faults.</p>
"
"<p>When writing the following today in C#</p>

<pre><code>DateTime.Now.AddYears(-60)
</code></pre>

<p>I wondered whether there are any languages that allow a more natural syntax with units:</p>

<pre><code>DateTime.Now - 60years
</code></pre>

<p>Does anyone know of any? Specifically, I'm interested in the presence of unit operators(?) that turn ""60years"" into e.g. ""TimeSpan.FromYears(60)"". It'd also be neat to be able to define your own unit operators, similar to how you can write conversion operators in C#</p>

<p>(Yes, I know TimeSpan doesn't cater for years -- it's an example.)</p>
","149392","","<p>Well the ActiveSupport library for ruby extends the Integer class with methods like hours and days which allows you to write things like:</p>

<pre><code>Time.now + 5.days
</code></pre>

<p>But that's not really a syntax feature - it's just a method call and is possible in any language that allows you to add methods to an existing class. You could do it in C# with extension methods - though it would have to be <code>5.days()</code> there.</p>
"
"<p>I am trying to find a way to get the binding from the caller within method_missing in Ruby (1.8), but I can't seem to find a way to do it.</p>

<p>Hopefully the following code explains what I would like to do:</p>

<pre><code>class A
  def some_method
    x = 123
    nonexistent_method
  end

  def method_missing(method, *args, &amp;block)
    b = caller_binding # &lt;---- Is this possible?
    eval ""puts x"", b
  end
end

A.new.some_method
# expected output:
#   123
</code></pre>

<p>So... is there a way to obtain the caller's binding, or is this just impossible in Ruby (1.8)?</p>
","149392","","<p>If the method is invoked with a block you can get the block's binding (which closes over the caller's binding) by doing <code>block.binding</code>. That doesn't work without a block though.</p>

<p>You can't get the caller's binding directly (well, unless you pass it explicitly of course).</p>

<p>Edit: I should add that there once was a Binding.of_caller method floating around, but that doesn't work with any of the recent ruby versions anymore (where recent includes 1.8.6)</p>
"
"<p>This is with C# and .net 3.5</p>

<p>Let's say I have the following method:</p>

<pre><code>myMethod(myBaseClass mbc)
</code></pre>

<p>In my project, all the following classes inherit from myBaseClass.</p>

<pre><code>ot1:myBaseClass
ot2:myBaseClass
ot3:myBaseClass
ot4:myBaseClass
</code></pre>

<p>Are there any tricks that will let me use myMethod with ot1 and ot3 but NOT ot2 and ot4, or do I basically have to overload for each type I want to allow?</p>
","149392","","<p>You could check the class of mbc at runtime, but obviously that would not prevent you from calling the method with the wrong time at compile-time.</p>

<p>If you want compile-time typechecking you need to overload the method for each type you want to allow.</p>
"
"<p>I have done up a program which requires the following:</p>

<ol>
<li>prompts user input account no </li>
<li>prompts user input account type
<ol>
<li>if account <code>type == a</code>, prompts some input and does a certain formula [if]</li>
<li>if account <code>type == b</code>, prompts some input and does another formula [else if]</li>
<li>if account type is wrong(not a or b), prompts error and return to 2 [else]</li>
</ol></li>
<li>prompts user input to exit [do while]
<ol>
<li>if <code>input == y</code>, exits</li>
<li>if <code>input == n</code>, return to 1</li>
</ol></li>
</ol>

<p>at the moment I'm pretty stuck at 2.3.
it prompts the error and goes to 3 instead of returning to 2 to prompt user input.</p>

<p>where is the problem? the else?</p>
","149392","","<p>Without seeing any actual code it is impossible to say what is wrong with your attempt. However something like this should work</p>

<pre><code>// ...
string atype;
while(atype != ""a"" &amp;&amp; atype != ""b"") {
  cin &gt;&gt; atype;
  if(atype == ""a"") {
    // 2.1
  } else if(atype == ""b"") {
    // 2.2
  } else {
    cout &lt;&lt; ""wrong input"" &lt;&lt; endl;
  }
}
// ...
</code></pre>
"
"<p>Can anyone help me write a regular expression for checking if a password has at least one letter and one number in it?</p>

<p>I have a requirement that users passwords must be alphanumeric and I want to be able to check for that using a regular expression.</p>
","149392","","<p>If you want it in one regex you can use <code>""[a-zA-Z].*\\d|\\d.*[a-zA-Z]""</code> though two seperate checks may be more readable.</p>

<p>Edit: An approach with two checks, which I find quite readable, might look like this:</p>

<pre><code>Regex.IsMatch(password, ""\\d"") &amp;&amp; Regex.IsMatch(password, ""[a-zA-Z]"")
</code></pre>
"
"<p>This isn't a programming question, but I don't know of any good places on the Internets to ask computer science questions. Sorry if this is too off-topic. </p>

<p>I'm reviewing some old CS material and I'm stuck on the following:</p>

<p>Let L = { x in {a,b}* | x has an equal number of a's and b's}</p>

<p>I know this is a context free language because I can create a grammar for it (e is epsilon):</p>

<p>S -> aX | bY | e</p>

<p>X -> bS | aXX</p>

<p>Y -> aS | bYY</p>

<p>You can also prove it is context free by using the fact that a context free language intersected with a regular language is context free. </p>

<p>Since it is a context free language, according to the pumping lemma for CFL's, any string longer than the pumping length p should be able to be pumped. However, if I choose the string s = a^p b^p a^p b^p, this string cannot be pumped, so the language should not be context free. </p>

<p>Where am I going wrong? </p>
","149392","","<p>Sure the string can be pumped. Let <code>u = a^p b^(p-1), v = b, x = e, y = a, z=a^(p-1) b^p</code>. Now <code>uvxyz = s</code> and for any i <code>u v^i x y^i z</code> has an equal amount of as and bs.</p>
"
"<p>I need to parse some user submitted strings containing latitudes and longitudes, under Ruby.</p>

<p>The result should be given in a double</p>

<p>Example:</p>

<pre><code>08º 04' 49'' 09º 13' 12''
</code></pre>

<p>Result:</p>

<pre><code>8.080278 9.22
</code></pre>

<p>I've looked to both Geokit and GeoRuby but haven't found a solution. Any hint?</p>
","149392","","<pre><code>""08° 04' 49'' 09° 13' 12''"".gsub(/(\d+)° (\d+)' (\d+)''/) do
  $1.to_f + $2.to_f/60 + $3.to_f/3600
end
#=&gt; ""8.08027777777778 9.22""
</code></pre>

<p>Edit: or to get the result as an array of floats:</p>

<pre><code>""08° 04' 49'' 09° 13' 12''"".scan(/(\d+)° (\d+)' (\d+)''/).map do |d,m,s|
  d.to_f + m.to_f/60 + s.to_f/3600
end
#=&gt; [8.08027777777778, 9.22]
</code></pre>
"
"<p>I'm learning cpp and In my last assignment I am rewriting the std::string class.
so here is an outline of my code:
string class:</p>

<pre><code>   class String {
    public:
    	String(const char* sInput) {
    		string = const_cast&lt;char*&gt; (sInput);				
    	}

    	const String operator+(const char* str) {
    	    //snip
            print();
    	}

    	void print() {
    	    cout&lt;&lt;string;
    	}

    	int search(char* str) {

    	}

    private:
    	char* string;
    	int len;
};
</code></pre>

<p>Oh and I have to say I tried to declare the method as String* operator+(const char* str) and as const String&amp; operator+(const char* str) with no change.
And here is how I run it:</p>

<pre><code>int main(int argc, char* argv[]) {
    String* testing = new String(""Hello, ""); //works
    testing-&gt;print();//works
    /*String* a = */testing+""World!"";//Error here.
return 0;
}
</code></pre>

<p>The full error goes like such:</p>

<blockquote>
  <p>foobar.cc:13: error: invalid operands
  of types ‘String*’ and ‘const char
  [7]’ to binary ‘operator+’</p>
</blockquote>

<p>I looked up on Google and in the book I am learning from with no success.
any one with suggestions? (I am pretty sure I am doing something foolish you will have to forgive me I am  originally a PHP programmer) can any one point me to what am I missing?</p>
","149392","","<p>Your operator+ is defined for <code>String</code> and <code>const* char</code>, not for <code>String*</code>. You should dereference <code>testing</code> before adding it, i.e.:</p>

<pre><code>String a = (*testing) + ""World"";
</code></pre>

<p>Though in this case I don't see the point in making testing a pointer in the fist place.</p>

<p>Edit: Creating a string without pointers would look like this:</p>

<pre><code>String testing = ""Hello, "";
</code></pre>

<p>or</p>

<pre><code>String testing(""Hello, "");
</code></pre>

<p>(both are equivalent).</p>
"
"<p>Is there are more succinct or Rubyesque way of writing this:</p>

<pre><code>if ( variable =~ /regex1/ || variable =~ /regex2/ || variable =~ /regex3/ ... )
end
</code></pre>

<p>Namely, I'm hoping for something shorter, like:</p>

<pre><code>if ( variable =~ /regex1/,/regex2/,/regex3/ )
</code></pre>

<p>which I realize is not valid Ruby code, but figuring someone may know a more clever trick.</p>
","149392","","<pre><code>variable =~ Regexp.union(/regex1/, /regex2/, /regex3/)
</code></pre>

<p>This is assuming you can't use VoteyDisciple's which would make the most sense where it's possible.</p>
"
"<p>I am processing text using Java Regexes (1.6) which contain quantifiers and I wish to return the number and values of matched groups. A simple example is:</p>

<pre><code>A BC DEF 1 23 456 7 XY Z
</code></pre>

<p>which is matched by:</p>

<pre><code>([A-Z]+){0,9} (\d+){0,9} ([A-Z]+){0,9}
</code></pre>

<p>How can I find the number of each capture (here 3 4 2) and the values (""A"", ""BC"", ""DEF"", ""1"", ""23"", ""456"", ""7"", ""XY"", ""Z""). The regexes are created outside the program though I can design them to tackle this problem if possible.</p>
","149392","","<p>When matching a group more than once it is not possible to get at all the captures. You could redesign your regex like this:</p>

<pre><code>((?:[A-Z]+ ?){0,9}) ((?:\d+ ){0,9}) ((?:[A-Z]+ ?){0,9})
</code></pre>

<p>which would give you the captures ""A BC DEF"", ""1 23 456 7"" and ""XY Z"", which you could then split on spaces.</p>
"
"<p>I've recently started learning scala, and I've come across the <code>::</code> (cons) function, which prepends to a list.<br>
In the book ""Programming in Scala"" it states that there is no append function because appending to a list has performance o(n) whereas prepending has a performance of o(1)</p>

<p>Something just strikes me as wrong about that statement.</p>

<p>Isn't performance dependent on implementation?  Isn't it possible to simply implement the list with both forward and backward links and store the first and last element in the container?</p>

<p>The second question I suppose is what I'm supposed to do when I have a list, say 1,2,3 and I want to add 4 to the end of it?</p>
","149392","","<p>The key is that <code>x :: somelist</code> does not mutate <code>somelist</code>, but instead creates a new list, which contains x followed by all elements of somelist. This can be done in O(1) time because you only need to set somelist as the successor of x in the newly created, single linked list. </p>

<p>If double linked lists were used instead, x would also have to be set as the predecessor of somelist's head, which would modify somelist. So if we want to be able to do :: in O(1) without modifying the original list, we can only use single linked lists.</p>

<p>Regarding the second question: You can use <code>:::</code> to concatenate a single-element list to the end of your list. This is an O(n) operation.</p>

<pre><code>List(1,2,3) ::: List(4)
</code></pre>
"
"<p>I would like to supply my regular expression with a 'default' value, so if the thing I was looking for is not found, it will return the default value as if it had found it.</p>

<p>Is this possible to do using regex?</p>
","149392","","<p>It sounds like you want some sort of regex syntax that says ""if the regexp does not match any part of the given string pretend that it matched the following substring: 'foobar'"". Such a feature does not exist in any regexp syntax I've seen.</p>

<p>You'll probably need to something like this:</p>

<pre><code>matched_string = string.find_regex_match(regex);
if(matched_string == null) {
  string = ""default"";
}
</code></pre>

<p>(This will of course need to be adjusted to the language you're using)</p>
"
"<p>I'd like to make a class that looks basically like this:</p>

<pre><code>public class MyClass&lt;T implements Serializable) {

   void function() {
      Class c = T.class;
   }
}
</code></pre>

<p>Two errors:<br/>
- I cannot call T.class, even though I can do that with any other object type<br/>
- I cannot enforce that T implements Serializable in this way</p>

<p>How do I solve my two generics problems?</p>

<p>Cheers</p>

<p>Nik</p>
","149392","","<p>1) Right, you can't do T.class because java does not actually no which class T is at runtime. All that information is lost at compilation. To get the class object for T you can either call getClass() on an instance of T (if you have access to one) or require the user to pass the class object as an argument to <code>function</code>, like:</p>

<pre><code>void function(Class&lt;T&gt; c)
</code></pre>
"
"<p>Why doesn't the first print statement output what I expect:</p>

<pre><code>first = This is a test string, sec = This is a test string
</code></pre>

<p>Since both * and + are greedy, why does the the inner * i.e. inside the ""(("" in the first match not consuming the entire string?</p>

<pre><code>use strict;
use warnings;

my $string = ""This is a test string"";
$string =~ /((.*)*)/; 
print ""first = $1, sec = $2\n"";  #prints ""first = This is a test string, sec =""

$string =~ /((.+)*)/;
print ""first = $1, sec = $2\n"";  #prints ""first = This is a test string, sec = This is a test string""
</code></pre>
","149392","","<p>In the first regex <code>.*</code> is matched two times. The first time it matches the whole string. The second time it matches the empty string at the end, because <code>.*</code> matches the empty string when there is nothing else to match.</p>

<p>This does not happen with the other regex because <code>.+</code> can't match the empty string.</p>

<p>Edit: As to what goes where: $2 will contain what is matched the last time <code>.*</code> / <code>.+</code> are applied. $1 will contain what is matched by <code>(.*)*</code> / <code>(.+)*</code>, i.e. the whole string.</p>
"
"<p>Consider this code:</p>

<pre><code>public class Main {


 static String s = ""-"";

 public static void main (String [] args){

     go();
     System.out.println(s);

     Main m = new Main();
 }
 {go();}

 static {go();}
 static void go(){s+=""s"";}
}
</code></pre>

<p>Its output is:</p>

<pre><code>-ss
</code></pre>

<p>the instance init block is never called, why? </p>
","149392","","<p>It is called. However it is called after the call to println because you create the first instance of Main of that. If you move the call to println to the end of main, you'll see three s.</p>
"
"<p>in vb 2008 express this option is available under application properties. does anyone know what is its function? does it make it so that it's impossible to open two instances at the same time?</p>
","149392","","<blockquote>
  <p>does it make it so that it's impossible to open two instances at the same time?</p>
</blockquote>

<p>Yes.</p>
"
"<p>my assignment requires me to write a function that reads in a title and return the corresponding fee to the calling function. if the title is not in the list, return <code>-1.0</code>.</p>

<p>this is what i have got at the moment:</p>

<pre><code>struct eventType 
{ 
    string title;
    double fees;
}; 

eventType eventTable[10];

int findFees (string newTitle, string newFees)
{
    int Index = 0;
    int flag;
    while (Index &lt; 9) &amp;&amp; (eventTable[Index].title != newTitle))
        Index = Index + 1;

    if (eventTable[Index].title == newTitle)
    {
        eventTable[Index].fees = newFees;
        flag = 0;
    }
    else
        flag = -1;

    return flag;
}
</code></pre>

<p>is anything missing?</p>

<h2>update</h2>

<p>after looking at the advice u guys have  given, i have adopted and changed the codes to:</p>

<pre><code>double findFees (string title)
{
    for (int Index = 0 ; Index &lt; 10 ; Index++)
    {
        if (eventTable[Index].title == title)
        {
            return eventTable[Index].fees;
        }
    }
    return -1.0;
}
</code></pre>

<p>I'm not sure if this is correct either but I do not need a new title or new fees since these values are to be found within eventTable, and return it.</p>

<p>corrections?</p>
","149392","","<pre><code>eventTable[Index].fees = newFees;
</code></pre>

<p>This won't work because fees is a double and newFees is a string. Also you didn't say anything about changing the fees, so I'm confused by that line.</p>

<p>If you want to return the fees of the item you found, you should just put <code>return eventTable[Index].fees;</code> at that point and change the return value of the function to float.</p>
"
"<p>I'm trying to compare a character array against a string like so:</p>

<pre><code>const char *var1 = "" "";
var1 = getenv(""myEnvVar"");

if(var1 == ""dev"")
{
   // do stuff
}
</code></pre>

<p>This if statement never validates as true... when I output var1 it is ""dev"", I was thinking maybe it has something to do with a null terminated string, but the strlen of ""dev"" and var1 are equal... I also thought maybe var1 == ""dev"" was comparing ""dev"" against the memory location of var1 instead of the value. *var1 == ""dev"" results in an error.... tried many things, probably a simple solution for the saavy c++ developer (I havent coded c++ in a looong time).</p>

<p>edit:
we've tried</p>

<pre><code>if(strcmp(var1, ""dev"") == 0)
</code></pre>

<p>and </p>

<pre><code>if(strncmp(var1, ""dev"", 3) == 0)
</code></pre>

<p>Thanks</p>

<p>edit: After testing at home I'm just going to suggest my co-worker changes the datatype to a string. I believe he was comparing a char array of a large size against a string. I put together a program that outputs sizeof, strlen, etc to help us work through it. Thanks to everyone for the help.</p>
","149392","","<p>""dev"" is not a <code>string</code> it is a <code>const char *</code> like <code>var1</code>. Thus you are indeed comparing the memory adresses. Being that <code>var1</code> is a char pointer, <code>*var1</code> is a single char (the first character of the pointed to character sequence to be precise). You can't compare a char against a char pointer, which is why that did not work.</p>

<p>Being that this is tagged as c++, it would be sensible to use <code>std::string</code> instead of char pointers, which would make == work as expected. (You would just need to do <code>const std::string var1</code> instead of <code>const char *var1</code>.</p>
"
"<p>I'm using this Ruby trick with <code>__END__</code> and <code>DATA</code> to put some data inside my program file:</p>

<pre><code>class Foo
  def initialize()
    puts DATA.read.inspect
  end
end
puts DATA.read.inspect
Foo.new
__END__
test
</code></pre>

<p>This generates the following output:</p>

<pre><code>""test""
""""
</code></pre>

<p>I had assumed <code>DATA</code> would be the same globally, but inside the class it has no content. How  would I get access to the data after <code>__END__</code> inside a class (apart from the obvious and ugly solution using global variables)?</p>

<p><strong>ADDED:</strong> I see how reading <code>DATA</code> twice gives me nothing the second time. I could use <code>rewind</code> to get back to the start, but <code>read</code> then gives me the entire source code of my program. Is there an easier way to get to just the part after <code>__END__</code> on subsequent uses of <code>DATA</code>, or would I be better of reading it once and storing it somewhere else for future use?</p>
","149392","","<p>DATA is the same. You would get the same output if instead of doing Foo.new you would do DATA.read a second time.</p>

<p>This is because after the first read <code>DATA</code> (which is an IO) has reached the end of the stream, so any further reads will return an empty string, unless you append additional data to DATA or rewind <code>DATA</code> to the beginning of the stream.</p>

<p>Edit: To seek back to the point right after the <code>__END__</code> you have to read <code>DATA.pos</code> before performing any reading on <code>DATA</code> and then restore <code>pos</code> to that value after reading. The easiest solution is probably just doing <code>FOO = DATA.read</code> at the beginning of the script and then using <code>FOO</code>.</p>
"
"<p>What is efficient way to determine if a list is a subset of another list?</p>

<p>Example:</p>

<pre><code>is_subset(List(1,2,3,4),List(2,3))    //Returns true
is_subset(List(1,2,3,4),List(3,4,5))  //Returns false
</code></pre>

<p>I am mostly looking for efficient algorithm and not too concern how the list is stored. It can be stored in array, link list or other data structure. </p>

<p>Thanks</p>

<p>EDIT: The list is sorted</p>
","149392","","<p>If you're ok with storing the data in a hashset you can simply check whether list1 contains x for each x in list2. Which will be close to O(n) in the size of list2. (Of course you can also do the same with other datastructures, but that will lead to different runtimes).</p>
"
"<p>If a class has been previously defined how can I tell it to inherit from a class Parent</p>

<p>For instance:</p>

<pre><code>class Parent
  ..
end

class Klass
  ..
end
</code></pre>

<p>Now I want it to inherit from Parent</p>

<p>I cant re-open the class and set it because I will get a class mismatch error</p>

<pre><code>class Klass &lt; Parent
  ..
end
</code></pre>

<p>Specifically I am trying to find out how to set the class inheritance on a class im creating through Object.const_set</p>

<pre><code>klass = Object.const_set('Klass', Class.new)
</code></pre>

<p>How can I tell Klass to inherit from class Parent?</p>
","149392","","<p>There is no way to change the superclass of an already existing class.</p>

<p>To specifiy the superclass of a class you're creating dynamically, you simply pass the superclass as an argument to <code>Class.new</code>.</p>

<pre><code>class Parent
end
klass = Class.new(Parent)
klass.superclass #=&gt; Parent
</code></pre>

<p>Just as a side note: You're not creating the class with <code>const_set</code>. You're creating it with <code>Class.new</code>. You're simply storing the created class in a constant with <code>const_set</code>. Once <code>const_set</code> is invoked, <code>Class.new</code> has already happened and the superclass cannot be changed anymore.</p>
"
"<p>I've often heard the argument (in javascript, but many languages have an eval-like feature) that using eval is ""bad."" The arguments being that most things you would think to use eval for can be done other ways, the fact that eval is very slow in most cases, and that it can allow users to input code to be executed (if proper precaution wasn't taken). We know that most features aren't just inherently ""bad"", but lets but the spotlight on eval,</p>

<p>What are some of eval's valid uses? (besides offering a nice feature for developers debugging the application)</p>
","149392","","<p>A <a href=""http://en.wikipedia.org/wiki/REPL"" rel=""nofollow"">read-eval-print loop</a> would usually be implemented using eval.</p>
"
"<p>C# has BitArray, C has bit fields.. I couldn't find an equivalent in the Ruby core. Google showed me a <code>BitField</code> class that Peter Cooper has written for the same.</p>

<p>I've been reading Jon Bentley's Programming Pearls and while trying out one of the first examples, which deals with a BitMap sort - I needed a type that is an array of bits. I used Peter's class </p>

<pre><code>class BitMapSort
  def self.sort(list, value_range_max)
    bitmap = BitField.new(value_range_max)

    list.each{|x| bitmap[x] = 1 }

    sorted_list = []
    0.upto(value_range_max-1){ |number|
      sorted_list &lt;&lt; number if (bitmap[number] == 1)
    }
    sorted_list
  end
end
</code></pre>

<p>Running this on a set of 1M unique numbers in the range [0, 10,000,000), produced some interesting results,</p>

<pre><code>                         user     system      total        real
bitmap               11.078000   0.015000  11.093000 ( 11.156250)
ruby-system-sort      0.531000   0.000000   0.531000 (  0.531250)
quick-sort           21.562000   0.000000  21.562000 ( 21.625000)

Benchmark.bm(20){|x|
    x.report(""bitmap""){ ret = BitMapSort.sort(series, 10_000_000);}
    x.report(""ruby-system-sort""){ ret = series.sort; }
    x.report(""quick-sort""){ ret = QuickSort.sort( series, 0, series.length-1); }
    }
</code></pre>

<p>How is ruby's default sort 22x faster than 1M BitField.set + 1 loop over a 10M bit vector ? Is there a more efficient bit field / array in Ruby ? How does Ruby's default sort achieve this level of performance.. is it jumping into C to get this done?</p>
","149392","","<blockquote>
  <p>How does Ruby's default sort achieve this level of performance.. is it jumping into C to get this done?</p>
</blockquote>

<p>All of the core classes and methods in ruby's default implementation are implemented in C.</p>
"
"<p>I tried this code on Visual C++ 2008 and it shows that A and B don't have the same address.</p>

<pre><code>int main()
{
    {
    	int A;
    	printf(""%p\n"", &amp;A);
    }

    int B;
    printf(""%p\n"", &amp;B);
}
</code></pre>

<p>But since A doesn't exist anymore when B gets defined, it seems to me that the same stack location could be reused...</p>

<p>I don't understand why the compiler doesn't seem to do what looks like a very simple optimization (which could matter in the context of larger variables and recursive functions for example). And it doesn't seem like reusing it would be heavier on the CPU nor the memory. Does anyone have an explanation for this?</p>

<p>I guess the answer is along the lines of ""because it's much more complex than it looks"", but honestly I have no idea.</p>

<p><strong>edit</strong>: Some precisions regarding the answers and comments below.</p>

<p>The problem with this code is that each time this function is called, the stack grows ""one integer too much"". Of course this is no problem in the example, but consider large variables and recursive calls and you have a stack overflow that could be easily avoided.</p>

<p>What I suggest is a memory optimization, but I don't see how it would damage performance.</p>

<p>And by the way, this happens in <strong>release</strong> builds, will all optimizations on.</p>
","149392","","<p>A is allocated on the stack <em>after</em> B. B is declared after A in the code (which is not allowed by C90 by the way), but it's still in the top scope of the main function and thus exists from the beginning of main til the end. So B is pushed when main starts, A is pushed when the inner scope is entered and popped when it is left, and then B is popped when the main function is left.</p>
"
"<p>What would be the best way to convert a 50-digit String to a BigInteger in Java? It doesn't have a valueOf(String) method, and I can't convert to Long because it's too small.</p>
","149392","","<p>BigInteger has a constructor that takes a String.</p>
"
"<p>I'm getting numbers like </p>

<pre><code>2.36363636363636
4.567563
1.234566465448465
10.5857447736
</code></pre>

<p>How would I get Ruby to round these numbers up (or down) to the nearest 0.05?</p>
","149392","","<pre><code>[2.36363636363636, 4.567563, 1.23456646544846, 10.5857447736].map do |x|
  (x*20).round / 20.0
end
#=&gt; [2.35, 4.55, 1.25, 10.6]
</code></pre>
"
"<p>I have a std::vector and I want to check a specific attribute
of each element. SomeStruct has an attribute 'type'. I want to check this attribute
to be either Type1 or Type2.</p>

<p>My plan is to use boost::lambda.</p>

<pre><code>std::vector&lt;SomeStruct&gt;::const_iterator it =
    std::find_if(
        vec.begin(), vec.end(),
        _1.type == SomeStruct::Type1 || _1.type == SomeStruct::Type2);
</code></pre>

<p>Because I need to access a specific attribute of each element, I'm not sure if I can
use boost::lambda at all.</p>

<p>Any hints?</p>
","149392","","<pre><code>std::find_if(
    vec.begin(), vec.end(),
    bind(&amp;SomeStruct::type, _1) == SomeStruct::Type1 ||
    bind(&amp;SomeStruct::type, _1) == SomeStruct::Type2);
</code></pre>
"
"<p>I asked the most efficient method for mass dynamic string concatenation in an earlier post and I was suggested to use the <strong>join</strong> method, the best, simplest and fastest method to do so (as everyone said that). But while I was playing with string concatenations, I found some weird(?) results. I'm sure something is going on but I can't not get it quite. Here is what I did:</p>

<p>I defined these functions:</p>

<pre><code>import timeit
def x():
    s=[]
    for i in range(100):
        # Other codes here...
        s.append(""abcdefg""[i%7])
    return ''.join(s)

def y():
    s=''
    for i in range(100):
        # Other codes here...
        s+=""abcdefg""[i%7]
    return s

def z():
    s=''
    for i in range(100):
        # Other codes here...
        s=s+""abcdefg""[i%7]
    return s

def p():
    s=[]
    for i in range(100):
        # Other codes here...
        s+=""abcdefg""[i%7]
    return ''.join(s)

def q():
    s=[]
    for i in range(100):
        # Other codes here...
        s = s + [""abcdefg""[i%7]]
    return ''.join(s)
</code></pre>

<p>I have tried to keep other things (except the concatenation) almost same throughout the functions. Then I tested with the following with results in comment (using Python 3.1.1 IDLE on Windows 32 bit machine):</p>

<pre><code>timeit.timeit(x) # 31.54912480500002
timeit.timeit(y) # 23.533029429999942 
timeit.timeit(z) # 22.116181330000018
timeit.timeit(p) # 37.718607439999914
timeit.timeit(q) # 108.60377576499991
</code></pre>

<p>That means it shows that *strng = strng + dyn_strng* is the fastest. Though the difference in times are not that significant (except the last one), but I wanna know why this is happening. Is that because I am using Python 3.1.1 and that provides '+' as most efficient? Should I use '+' as an alternative to <em>join</em>? Or, have I done something extremely silly? Or what? Please explain clearly. Thank you.</p>

<p><strong>EDIT:</strong> I have included my answer at the last (with no vote on it :)). Please comment on it.</p>
","149392","","<p>I assume x() is slower because you're first building the array and then joining it. So you're not only measuring the time that join takes, but also the time that you take to build the array.</p>

<p>In a scenario where you already have an array and you want to create a string out of its elements, join should be faster than iterating through the array and building the string step by step.</p>
"
"<p>can a static method be invoked before even a single instances of the class is constructed?</p>
","149392","","<p>Yes, you can access it by writing <code>ClassName.methodName</code> before creating any instance.</p>
"
"<p>Can the <code>abstract</code> modifier appear before a class, a method or a variable?</p>
","149392","","<p>It can appear before classes (to prevent from being instantiated and allow them to have abstract methods) and before methods (to signify that the method is not implemented in this class, but any non-abstract subclass must implement it).</p>
"
"<p>In Perl, there is an ability to break an outer cycle like this:</p>

<pre><code>AAA: for my $stuff (@otherstuff) {
         for my $foo (@bar) {
             last AAA if (somethingbad());
         }
      }
</code></pre>

<p>(syntax may be wrong), which uses a loop label to break the outer loop from inside the inner loop. Is there anything similar in Ruby?</p>
","149392","","<p>No, there isn't.</p>

<p>Your options are:</p>

<ul>
<li>put the loop in a method and use return to break from the outer loop</li>
<li>set or return a flag from the inner loop and then check that flag in the outer loop and break from it when the flag is set (which is kind of cumbersome)</li>
<li>use throw/catch to break out of the loop</li>
</ul>
"
"<p>I am a beginner in C and want to create a program using <code>for</code> loop which gives the following output:</p>

<pre><code>* * * * * * *
* * *   * * *
* *       * *
*           *
</code></pre>
","149392","","<p>Are you stuck with the algorithm or how to implement it in C? The algorithm looks like this:</p>

<pre><code>Let `n` be the width of the rectange
Print n stars followed by a newline
For i from n/2 to 1 (counting down in steps of 1):
    Print i stars, then n-2*i spaces, then i stars, then a newline
</code></pre>

<p>To implement this in C you need a for-loop and some output function like printf.</p>
"
"<pre><code>public class A
{  }

public class B extends A
{
  public void add()
  {
   System.out.println(""add in B"");
  }
}
</code></pre>

<p>Now here if we call add in following way hen it gives an error:
A a1 = new B;
a1.add();</p>

<p>But when we add the add() method in class A and then call in the similar fashion then add() method of child class is called.  </p>

<p>i.e.</p>

<pre><code>public class A
{
  public void add()
  {
   System.out.println(""add in A"");
  }
}

public class B extends A
{
  public void add()
  {
   System.out.println(""add in B"");
  }
}
</code></pre>

<p>call:</p>

<pre><code>A a1 = new B;
a1.add();
</code></pre>

<p>output:</p>

<blockquote>
  <p>add in B</p>
</blockquote>

<p>Why is it so?</p>
","149392","","<p>Because java does not know at compile time that a1 will refer to an instance of B at runtime. It only knows the declared type, so it only allows calls that work with the declared type.</p>
"
"<p>I'm trying to do something like this in Java:</p>

<pre><code>public static &lt;T&gt; T foo() {
  return (T) bar(T);
}

public static Object bar(Class&lt;?&gt; klaz) {
  return klaz.newInstance();
}
</code></pre>

<p>But the code doesn't compile since I can't substitute <i>T</i> for a <i>Class&lt;?></i>.<br />
With a concrete class, I can call <i>bar</i> like:</p>

<pre><code>bar(ConcreteClass.class);
</code></pre>

<p>But the same does not work for <i>T</i>. i.e. there's no such thing as <i>T.class</i>  </p>

<p>In C#, <i>typeof</i> works for both concrete and template types. So, the call to bar would've been:</p>

<pre><code>bar(typeof(T));
</code></pre>

<p>But I haven't been able to find anything similar in Java.  </p>

<p>Am I missing something, or does Java not have a way of getting the type of a template parameter? And if Java doesn't have the facility, are there any workarounds?</p>
","149392","","<p>There's no way to get the type. Java's generics use type erasure so even java itself does not know what T is at runtime.</p>

<p>As for workarounds: you could define foo to take a parameter of type <code>Class&lt;T&gt;</code> and then use that.</p>
"
"<p><em>Can't imagine this isn't a dupe but I can't seem find any previously matching questions.</em>  </p>

<p>I have a generic method  </p>

<pre><code>public T GetSetting&lt;T&gt;(Guid userId) where T : ISetting, new()
</code></pre>

<p>This in it's turn calls a generic method</p>

<pre><code>public static ISetting CreateSetting&lt;T&gt;(IDictionary&lt;string, object&gt; data) where T:ISetting, new()
</code></pre>

<p>The signatures of T are exactly the same, yet the compiler requires me to cast the value like so:</p>

<pre><code>return (T) BaseSetting.CreateSetting&lt;T&gt;(data);
</code></pre>

<p>Am I doing something wrong, or is this just a limitation of the framework?</p>
","149392","","<p>The signature of CreateSetting only states that it returns an ISetting. It doesn't require that that ISetting has to be of type T.</p>

<p>If you change the signature to</p>

<pre><code>public static T CreateSetting&lt;T&gt;(IDictionary&lt;string, object&gt; data) where T:ISetting, new()
</code></pre>

<p>it will work without casting.</p>
"
"<p>What does the # symbol mean when used as a variable prefix in a #define macro? </p>

<p>For example,</p>

<pre><code>#define my_setopt(x,y,z) _my_setopt(x, 0, config, #y, y, z)
</code></pre>
","149392","","<p><code>#</code> quotes the expression. For example:</p>

<pre><code>#define SHOW(BAR) printf(""%s is %d\n"", #BAR , BAR)
SHOW(3+5);  // prints: 3+5 is 8
</code></pre>
"
"<p><strong>Background</strong></p>

<p>The algorithm manipulates financial analytics. There are multiple lists of the same size and they are filtered into other lists for analysis. I am doing the same filtering on different by parallel lists. I could set it up so that a1,b1,c2 occur as a tuple in a list but then the analytics have to stripe the tuples the other way to do analysis (regression of one list against the other, beta, etc.).</p>

<p><strong>What I want to do</strong></p>

<p>I want to generate two different lists based on a third list:</p>

<pre><code>&gt;&gt;&gt; a = list(range(10))
&gt;&gt;&gt; b = list(range(10,20))
&gt;&gt;&gt; c = list(i &amp; 1 for i in range(10))
&gt;&gt;&gt;
&gt;&gt;&gt; aprime = [a1 for a1, c1 in zip(a,c) if c1 == 0]
&gt;&gt;&gt; bprime = [b1 for b1, c1 in zip(b,c) if c1 == 0]
&gt;&gt;&gt; aprime
[0, 2, 4, 6, 8]
&gt;&gt;&gt; bprime
[10, 12, 14, 16, 18]
</code></pre>

<p>It seems there should be a pythonic/functional programming/itertools way to create the two lists and iterate over the three lists only once. Something like:</p>

<pre><code>aprime, bprime = [a1, b1 for a1, b1, c1 in zip(a,b,c) if c1 == 0]
</code></pre>

<p>But of course this generates a syntax error.</p>

<p><strong>The question</strong></p>

<p>Is there a pythonic way?</p>

<p><strong>Micro-optimization shootout</strong></p>

<p>The ugly but pythonic-to-the-max one-liner edges out the ""just use a for-loop"" solution and my original code in the ever popular <em>timeit</em> cage match:</p>

<pre><code>&gt;&gt;&gt; import timeit
&gt;&gt;&gt; timeit.timeit(""z2(a,b,c)"", ""n=100;a = list(range(n)); b = list(range(10,10+n)); c = list(i &amp; 1 for i in range(n));\ndef z2(a,b,c):\n\treturn zip(*[(a1,b1) for a1,b1,c1 in zip(a,b,c) if c1==0])\n"")
26.977873025761482
&gt;&gt;&gt; timeit.timeit(""z2(a,b,c)"", ""n=100;a = list(range(n)); b = list(range(10,10+n)); c = list(i &amp; 1 for i in range(n));\ndef z2(a,b,c):\n\taprime, bprime = [], [];\n\tfor a1, b1, c1 in zip(a, b, c):\n\t\tif c1 == 0:\n\t\t\taprime.append(a1);  bprime.append(b1);\n\treturn aprime, bprime\n"")
32.232914169258947
&gt;&gt;&gt; timeit.timeit(""z2(a,b,c)"", ""n=100;a = list(range(n)); b = list(range(10,10+n)); c = list(i &amp; 1 for i in range(n));\ndef z2(a,b,c):\n\treturn [a1 for a1, c1 in zip(a,c) if c1 == 0], [b1 for b1, c1 in zip(b,c) if c1 == 0]\n"")
32.37302275847901
</code></pre>
","149392","","<p>This might win the ugliest code award, but it works in one line:</p>

<pre><code>aprime, bprime = zip(*[(a1,b1) for a1,b1,c1 in zip(a,b,c) if c1==0])
</code></pre>
"
"<pre><code>  if params[:parent_type] == ""Order""
    parent_id = nil
  else
    parent_id = params[:parent_id]
  end
</code></pre>

<p>Would a Ruby person laugh at me for writing it this way? It doesn't seem particularly concise like some Ruby code I've seen.</p>
","149392","","<p>That looks perfectly reasonable to me. You could move the assignment in front of the if ( <code>parent_id = if params...</code>) or use the ternary, but I don't think the result would look better.</p>

<p>If parent_id is nil or undefined before that line you can simply write:</p>

<pre><code>parent_id = params[:parent_id] unless params[:parent_type] == ""Order""
</code></pre>
"
"<p>I have Ruby code similar to:</p>

<pre><code>ok.rb
hasil = ""input operator salah""
 puts hasil

exec(""sort ok.rb &gt; output.txt"") if fork.nil?
</code></pre>

<p>It just wrote all code into <code>output.txt</code>. However, I only want <code>hasil</code> result to be written to <code>output.txt</code>. How should I modify the code for such an end result?</p>
","149392","","<p>The cleanest way would be to change the preceding code to not produce output to stdout directly, but instead to only build the string and then sort this from ruby and print it to the file. Like this for example:</p>

<pre><code>hasil = ""input operator salah""

File.open(""output.txt"", ""w"") do |f|
  f.puts hasil.split(""\n"").sort.join(""\n"")
end
</code></pre>

<p>If replacing unix sort with ruby sort is not an option (maybe because sort was just an example and in reality you're piping to a different application that can't easily be replaced with ruby), you can write your code to the application directly instead of writing to stdout. You could even write your code to be general enough to write to any IO.</p>

<pre><code>def generate_output(out)
  hasil = ""input operator salah""
  out.puts hasil
end

# If you decide to output the text directly to stdout (without sorting)
generate_output(stdout)

# If you instead want to pipe to sort:
IO.popen(""sort &gt; output.txt"", ""w"") do |sort|
  generate_output(sort)
end
</code></pre>
"
"<p>I know of the ||= operator, but don't think it'll help me here...trying to create an array that counts the number of ""types"" among an array of objects.</p>

<pre><code>array.each do |c|
  newarray[c.type] = newarray[c.type] ? newarray[c.type]+1 ? 0
end
</code></pre>

<p>Is there a more graceful way to do this?</p>
","149392","","<pre><code>types = Hash.new(-1) # It feels like this should be 0, but to be
                     # equivalent to your example it needs to be -1
array.each do |c|
  types[c.type] += 1
end
</code></pre>
"
"<p><em>(Note the code is an example)</em></p>

<p>I have the following syntax:</p>

<pre><code>SomeMethod(() =&gt; x.Something)
</code></pre>

<p>What do the first brackets mean in the expression? </p>

<p>I'm also curious how you can get the property name from argument that is being passed in. Is this posssible?</p>
","149392","","<p>The <code>()</code> is an empty argument list. You're defining an anonymous function that takes no arguments and returns <code>x.Something</code>.</p>

<p>Edit: It differs from <code>x =&gt; x.Something</code> in that the latter requires an argument and Something is called on that argument. With the former version <code>x</code> has to exist somewhere outside the function and Something is called on that outside <code>x</code>. With the latter version there does not have to be an outside x and even if there is, Something is still called on the argument to the function and nothing else.</p>
"
"<p>I'm trying to make a simple game engine. I've never used OOP before, so this is probably a simple mistake, but I get this error when trying to create an instance of a class.</p>

<pre><code>invalid conversion from `World*' to `int'
initializing argument 1 of `World::World(int)'
</code></pre>

<p>This is the code to create the class.</p>

<pre><code>  World w = new World(100);
</code></pre>

<p>And the actual class:</p>

<pre><code>class World {
    int maxParts;
    public:
    	GameObject **parts;
    	World(int maxParts);
    	int addObject(int type);
    private:
    	int firstFreeId();
};

World::World(int maxParts)
{
    parts = new GameObject *[maxParts];
}

...
</code></pre>

<p>Thanks for any help.</p>
","149392","","<p><code>World w = foo;</code> calls the constructor of World with the argument foo (unless foo is a World object already) and then calls the copy constructor of World with the result as an argument. <code>new World(foo)</code> calls the constructor of World with the argument foo, stores the result on the heap and returns a pointer to that.</p>

<p>So <code>World w = new World(100)</code> first creates a World object on the heap, calling the constructor with the arguemnt 100. It then calls the constructor again with the result of <code>new World(100)</code> as the argument (because <code>World w = foo</code> calls the constructor with foo as an argument) which does not work because the constructor does not accept arguments of type <code>World*</code>.</p>
"
"<p>I need a language lawyer with authoritative sources.</p>

<p>Take a look at the following test program which compiles cleanly under gcc:</p>

<pre><code>#include &lt;stdio.h&gt;


void foo(int *a) {
    a[98] = 0xFEADFACE;
}

void bar(int b[]) {
    *(b+498) = 0xFEADFACE;
}

int main(int argc, char **argv) {

int a[100], b[500], *a_p;

*(a+99) = 0xDEADBEEF;
*(b+499) = *(a+99);

foo(a);
bar(b);

printf(""a[98] == %X\na[99] == %X\n"", a[98], a[99]);
printf(""b[498] == %X\nb[499] == %X\n"", b[498], b[499]);

a_p = a+98;
*a_p = 0xDEADFACE;

printf(""a[98] == %X\na[99] == %X\n"", a[98], a[99]);

}
</code></pre>

<p>It produces the output I expect:</p>

<pre><code>anon@anon:~/study/test_code$ gcc arrayType.c -o arrayType
anon@anon:~/study/test_code$ ./arrayType 
a[98] == FEADFACE
a[99] == DEADBEEF
b[498] == FEADFACE
b[499] == DEADBEEF
a[98] == DEADFACE
a[99] == DEADBEEF
</code></pre>

<p>Are a and b the same type?  Is <code>int *a</code> handled as the same type as <code>int a[]</code> internally in the compiler?  </p>

<p>From a practical point of view <code>int a[100], b[500], *a_p, b_a[];</code> all seem to be the same type.  It's hard for me to believe that the compiler is constantly <em>adjusting</em> these types in the various circumstances in my above example.  I'm happy to be <em>proven</em> wrong.</p>

<p>Can someone settle this question for me <strong><em>definitively and in detail</em></strong> ?</p>
","149392","","<blockquote>
  <p>Are a and b the same type?</p>
</blockquote>

<p>Yes. [Edit: I should clarify: The parameter a of function foo is the same type as the parameter b to function bar. Both are pointers to int. The local variable a in main is the same type as the local variable b in int. Both are arrays of ints (well actually they're not the same type because they don't have the same size. But both are arrays).]</p>

<blockquote>
  <p>Is int *a handled as the same type as int a[] internally in the compiler?</p>
</blockquote>

<p>Usually not. The exception is when you write <code>foo bar[]</code> as a parameter to a function (like you did here), it automatically becomes <code>foo *bar</code>.</p>

<p>When declaring non-parameter variables however there is a big difference.</p>

<pre><code>int * a; /* pointer to int. points nowhere in paticular right now */
int b[10]; /* array of int. Memory for 10 ints has been allocated on the stack */
foo(a); /* calls foo with parameter `int*` */
foo(b); /* also calls foo with parameter `int*` because here the name b basically
           is a pointer to the first elment of the array */
</code></pre>
"
"<p>How do I accomplish variable variables in Python? </p>

<p>Here is an elaborative manual entry, for instance: <em><a href=""http://us3.php.net/manual/en/language.variables.variable.php"">Variable variables</a></em></p>

<p>I hear this is a bad idea in general though, and it is a security hole in PHP. Is that true?</p>
","149392","","<p>Whenever you want to use variable variables, it's probably better to use a dictionary. So instead of writing</p>

<pre><code>$foo = ""bar""
$$foo = ""baz""
</code></pre>

<p>you write </p>

<pre><code>mydict = {}
foo = ""bar""
mydict[foo] = ""baz""
</code></pre>

<p>This way you won't accidentally overwrite previously existing variables (which is the security aspect) and you can have different ""namespaces"".</p>
"
"<p>To read contents of a file:</p>

<pre><code>data = open(filename, ""r"").read()
</code></pre>

<p>The open file immediately stops being referenced anywhere, so the file object will eventually close... and it shouldn't affect other programs using it, since the file is only open for reading, not writing.</p>

<p>EDIT: This has actually bitten me in a project I wrote - it prompted me to ask <a href=""http://stackoverflow.com/questions/2023608/check-what-files-are-open-in-python/2023791#2023791"">this</a> question. File objects are cleaned up only when you run out of memory, not when you run out of file handles. So if you do this too often, you could end up running out of file descriptors and causing your IO attempts at opening files to throw exceptions.</p>
","149392","","<p>It is true that it will close eventually, but eventually might not be soon enough. Especially if you're using this inside a loop, the system might run out of file handles before the GC gets to the file objects.</p>
"
"<p>I have a <a href=""http://stackoverflow.com/questions/1373686/unable-to-catch-c-exception-using-catch"">previous question</a> that was answered in which I describe difficulties catching an exception when I try to access an object that has been deallocated by a third-party function.  The function sometimes does and sometimes doesn't deallocate the object.  </p>

<p>In order to avoid having to use a try/catch block to catch the SEH Exception as described in the previous question, I need to be able to tell whether the object has been deallocated or not.  </p>

<p>How can I determine if a C++ object has been deallocated or is still a valid pointer?</p>
","149392","","<p>You can't. If the function you're using doesn't give you ways of knowing whether or not it deallocated the object itself, there's no way you can find out.</p>

<p>Edit: Well, unless the object in question is an instance of your own class and you can modify the destructor like Adrian suggested.</p>
"
"<pre><code>class A{

    A(int x){}
}

class B extends A{

    B(int x){}

    public static void main(String args[]){
         B b = new B(10);
    }
}
</code></pre>

<p>I understand this would throw an error (one-arg constructor for B, implicitly calls super(), whereby no default-arg constructor exists for A). I am curious why one-arg constructor for B, does not use super(x) to call one-arg constructor of class A. On the contrary, putting me into the hassle of explicitly writing a no-arg constructor for A, when I don't require one!</p>
","149392","","<p>Probably because the java designers figured it would be more likely that there is a default constructor in the superclass than that there is a constructor with the same signature that you want to call. Also maybe because the rule ""if you don't invoke super explicitly, it uses the default constructor"" is simpler than ""if you don't invoke super explicitly, it uses the constructor of the superclass with the same signature"".</p>
"
"<p>In Perl, there is a UNIVERSAL::can method you can call on any class or object to determine if it's able to do something:</p>

<pre><code>sub FooBar::foo {}
print ""Yup!\n"" if FooBar-&gt;can('foo'); #prints ""Yup!""
</code></pre>

<p>Say I have a base class pointer in C++ that can be any of a number of different derived classes, is there an easy way to accomplish something similar to this? I don't want to have to touch anything in the other derived classes, I can only change the area in the base class that calls the function, and the one derived class that supports it.</p>

<p>EDIT: Wait, this is obvious now (nevermind the question), I could just implement it in the base that returns a number representing UNIMPLEMENTED, then check that the return is not this when you call it. I'm not sure why I was thinking of things in such a complicated manner.</p>

<p>I was also thinking I would derive my class from another one that implemented <code>foo</code> then see if a dynamic cast to this class worked or not.</p>
","149392","","<p>If you can add methods to the base class, you can add a <code>virtual bool can_foo() {return false;}</code> and override it in the subclass that has foo to return true.</p>
"
"<p>Why does the last statement (with ""if (tmp2 = foo)"" at the end of the statement) fail?</p>

<pre><code>def foo;5;end

# this one works
if (tmp = foo)
  puts tmp.to_s
end

# why this one fails
puts tmp2.to_s if (tmp2 = foo) #=&gt; undefined local variable or method ‘tmp2’ for main:Object
</code></pre>
","149392","","<p>It fails because of the way the parser works.</p>

<p>From the parser's point of view the variable tmp2 exists from the point in the code at which it is first assigned until the point where it goes out of scope. For this it does not matter, when (or if) the assignment is actually executed, just when the parser sees the assignment (i.e. it depends on the assignments position in the code).</p>

<p>Edit: To expand on that bit:</p>

<p>The decision whether a name is a local variable or a method call is made by the parser. The parser makes that decision solely based on whether or not it has already seen an assignment to that variable. So when the parser sees tmp2 before seeing <code>tmp2 = ...</code>, it decides that here tmp2 refers to a method. When that part of the code is actually executed, it tries to call the method tmp2 which does not exist so you get the error.</p>
"
"<p>I am trying to store values from an array, to a hash (array value  is the key, value just 0).  Here is my code.  Any ideas?</p>

<pre><code>[1, 2, 3, 4].inject({}) {|result, e| result[e] = 0}
</code></pre>

<p>This is the error I am getting.</p>

<pre><code>oMethodError: undefined method `[]=' for 0:Fixnum
    from (irb):1
    from (irb):1:in `inject'
    from (irb):1:in `each'
    from (irb):1:in `inject'
    from (irb):1
    from :0
</code></pre>
","149392","","<p>The return value of <code>result[e] = 0</code> is 0, not <code>result</code>. You have to do:</p>

<pre><code>[1, 2, 3, 4].inject({}) {|result, e| result[e] = 0; result}
</code></pre>

<p>(or use <code>merge</code> instead of <code>[]=</code> or use <code>each</code> instead of <code>inject</code>)</p>
"
"<p>I'm stumped on how to convert 3 letters and 3 numbers to ascii and increment them by one...it's the old next-license-plate problem. Can anyone give me a nudge in the right direction? </p>
","149392","","<pre><code>String str = ""abc123""
String newstr = """";
for(int i=0; i&lt;str.length(); i++) {
    newstr += (char) (str.charAt(i) + 1);
}
// newstr now is ""bcd234""
</code></pre>

<p>Note that this does not handle the characters 'z','Z' or '9' the way you would want. But it should give you a start.</p>

<p>Also note that using StringBuilder to create newstr would be more efficient.</p>
"
"<p>What techniques could I use to make my ""jar"" file Reverse Engineer proof?</p>
","149392","","<p>You can't make it reverse engineer proof. If the java runtime can read the instructions, so can the user.</p>

<p>There are obfuscators which make the disassembled code less readable/understandable to make reverse engineering it harder, but you can't make it impossible.</p>
"
"<p>I have one doubt in string .
  How can we acess the memory of string?</p>

<p>is String is reference type or Value type?</p>

<p>1) if it is Reference type then do the following code</p>

<pre><code>    List&lt;String&gt; strLst = new List&lt;string&gt;() { ""abc"",""def"",""12""};
    strLst.ForEach(delegate(string s)
    {
        if (s == ""12"")
        {
            s = ""wser"";
            // I doubted whether = operator is overloaded in string class 
            //StringBuilder sb = new StringBuilder(s);
            //s = sb.Append(""eiru"").ToString();
            s = String.Concat(s, ""sdf"");
        }
    });
</code></pre>

<p>See that value of string is not changed. My question is why the string value is not changed?
If it is reference type then the string value should be changed.</p>

<pre><code>class emp
{
    public string id;
}


List&lt;emp&gt; e = new List&lt;emp&gt;() { new emp() {  id = ""sdf"" }, new emp() { id = ""1"" }, new emp() { id = ""2"" } };

e.ForEach(delegate(emp em)
{
    if (em.id == ""1"")
        em.id = ""fghe"";
});
</code></pre>

<p>Here value is changed because <code>emp</code> is reference type</p>

<p>2) if <code>string</code> is value type </p>

<pre><code>public sealed class String : IComparable, ICloneable, IConvertible, IComparable&lt;string&gt;,     IEnumerable&lt;char&gt;, IEnumerable, IEquatable&lt;string&gt;
</code></pre>

<p>then why do they mentione that string is a class?</p>
","149392","","<p>If you store the reference to an object in a variable and then change the reference, the object does not change, only the variable. You're changing a propert of em, thus affecting the object references by the variable em. If you instead did <code>em = something</code>, it would behave like the String example and not affect anything either.</p>
"
"<p>How can I make this code work?</p>

<pre><code>class Meta

    @array = [:a,:b]

    def self.method_missing(name, *args, &amp;block)
            if @array.include? name
                    self.class.send(:define_method, name) do
                            do_call(name)
                    end
            else
                    puts ""[#{name.inspect}] is not part of array!""
            end
    end

    def do_call arg
            puts ""doing call for ['#{arg}'] ""
    end
end
</code></pre>

<p>The idea is to have Meta.a (after being defined) to have </p>

<pre><code>def a 
 do_call(a)
end
</code></pre>

<p>in its body. But after running this, my output is:</p>

<blockquote>
  <p>[:do_call] is not part of array!</p>
</blockquote>

<p>UPDATE: now kinda working like this:</p>

<pre><code>class Meta

    @array = [:a,:b]

    def self.do_call arg
            puts ""doing call for ['#{arg}'] ""
    end

    def self.method_missing(name, *args, &amp;block)
            puts ""#{name} is missing!""
            if @array.include? name
                    self.class.send(:define_method, name) do
                            do_call name
            end
            else
                    puts ""[#{name.inspect}] is not part of array!""
            end
       end
    end
</code></pre>

<p>but still, here is an excerpt of an IRB session:</p>

<blockquote>
  <p>[~/code] $ irb -r meta</p>
  
  <p>irb(main):001:0> Meta.a</p>
  
  <p>a is missing!</p>
  
  <p>=> #</p>
  
  <p>irb(main):002:0> Meta.a</p>
  
  <p>doing call for ['a']</p>
  
  <p>=> nil</p>
  
  <p>irb(main):003:0> c = Meta.new</p>
  
  <p>=> #</p>
  
  <p>irb(main):004:0> c.a</p>
  
  <p>NoMethodError: undefined method `a' for #</p>

<pre><code>    from (irb):4
</code></pre>
  
  <p>irb(main):005:0> Meta.methods</p>
  
  <p>=> [""inspect"", ""send"", ""pretty_inspect"", ""class_eval"", ""clone"", ""yaml_tag_read_class"", > >""public_methods"", ""protected_instance_methods"", ""<strong>send</strong>"", ""private_method_defined?"", 
  ""equal?"", ""freeze"", ""do_call"", ""yaml_as"", ""methods"", ""instance_eval"", ""to_yaml"", ""display"", 
  ""dup"", ""object_id"", ""include?"", ""private_instance_methods"", ""instance_variables"", ""extend"", 
  ""protected_method_defined?"", ""const_defined?"", ""to_yaml_style"", ""instance_of?"", ""eql?"", 
  ""name"", ""public_class_method"", ""hash"", ""id"", ""new"", ""singleton_methods"", 
  ""yaml_tag_subclasses?"", ""pretty_print_cycle"", ""taint"", ""pretty_print_inspect"", ""frozen?"", 
  ""instance_variable_get"", ""autoload"", ""constants"", ""kind_of?"", ""to_yaml_properties"", ""to_a"", 
  ""ancestors"", ""private_class_method"", ""const_missing"", ""type"", ""yaml_tag_class_name"", 
  ""instance_method"", ""&lt;"", ""protected_methods"", ""&lt;=>"", ""instance_methods"", ""=="", 
  ""method_missing"", ""method_defined?"", ""superclass"", "">"", ""pretty_print"", ""==="", 
  ""instance_variable_set"", ""const_get"", ""is_a?"", ""taguri"", "">="", ""respond_to?"", ""to_s"", ""&lt;="", 
  ""module_eval"", ""class_variables"", ""allocate"", ""class"", ""taguri="", 
  ""pretty_print_instance_variables"", ""tainted?"", ""public_instance_methods"", ""=~"", 
  ""private_methods"", ""public_method_defined?"", ""autoload?"", ""<strong>id</strong>"", ""nil?"", ""untaint"", 
  ""included_modules"", ""const_set"", ""a"", ""method""]</p>
</blockquote>

<p>what gives? 'a' is a class method and it is not passed on to the new Meta object (c). Why?</p>
","149392","","<p>You defined do_call as an instance method while you probably intended to define it as a class method. Which is why it calls method_missing for do_call as well and you get the error you're getting.</p>

<p>Also note that when you do <code>self.class.send</code>, <code>self.class</code> will be Class, so the method will be available on all classes, not just meta. You probably rather want:</p>

<pre><code>class &lt;&lt;self
  self
end.send
</code></pre>

<p>Edit in response to your update:</p>

<blockquote>
  <p>'a' is a class method and it is not passed on to the new Meta object (c). Why?</p>
</blockquote>

<p>Because <code>a</code> is a class method[1]. Instances of a class only get the class's instance methods.</p>

<p>You're defining a as an instance method on Class and then you try to call it on an instance of Meta, which does not work. In ruby instance methods of Class as well as singleton methods defined on a class can only be called by doing <code>TheClass.the_method</code>, not <code>instance_of_the_class.the_method</code>. If you want to call a method on instances of Meta, define it as an instance method. If you want to be able to do <code>Meta.a</code> as well as <code>Meta.new.a</code> you have to define both an instance as well as a class method <code>a</code>.</p>

<p>[1] Actually, as I already said, the way you're defining it isn't even a class method of Meta. It's an instance method of Class (which means you can also call it as e.g. String.a).</p>
"
"<p>I know of Python's <code>list</code> method that can consume all elements from a generator. Is there something like that available in Ruby?</p>

<p>I know of :</p>

<pre><code>elements = []
enumerable.each {|i| elements &lt;&lt; i}
</code></pre>

<p>I also know of the <code>inject</code> alternative. Is there some ready available method?</p>
","149392","","<p><code>Enumerable#to_a</code></p>
"
"<pre><code>$:.unshift File.join(File.dirname(__FILE__),\
'vendor','addressable-2.1.0','lib','addressable','uri')
</code></pre>

<p>Does the code above access a file that has this path:</p>

<pre><code>'vendor/addressable-2.1.0/lib/addressable/uri'
</code></pre>

<p>I'm trying to vendor the addressable gem into a Sinatra app to deploy it to my hosting provider but I keep receiving:</p>

<pre><code>""no such file to load -- addressable/uri""
</code></pre>

<p>after putting the '<code>unshift</code>' line in <code>config.ru</code>.</p>
","149392","","<p>What the line does is it puts the path 'vendor/addressable-2.1.0/lib/addressable/uri' (relative to the directory your ruby script is in) into the load path, which is the list of directories ruby looks through when looking for files you require.</p>

<p>By itself the line won't try to access any files.</p>
"
"<p>In Ruby I can use</p>

<pre><code>result &lt;&lt; (yield element)
</code></pre>

<p>and everything works, but if I do</p>

<pre><code>result.push(yield element)
</code></pre>

<p>I get a warning about needing parentheses for future compatibility. I can change the above to</p>

<pre><code>result.push(yield(element))
</code></pre>

<p>and the interpreter is happy again, but I don't understand why I need parentheses in one call to yield and not the other?</p>
","149392","","<p>You can ignore that warning. You won't get it anymore in 1.8.7 and later. The planned parser changes that were the reason for this warning, have been dismissed.</p>
"
"<p>I have an array of <code>Products</code>, each of which has a name and a category. I would like to produce a hash in which each key is a category string and each element is a product with that category, akin to the following:</p>

<pre><code>{ ""Apple"" =&gt; [ &lt;Golden Delicious&gt;, &lt;Granny Smith&gt; ], ...
  ""Banana"" =&gt; ...
</code></pre>

<p>Is this possible?</p>
","149392","","<p>In 1.8.7+ or with active_support (or facets, I think), you can use group_by:</p>

<pre><code>products.group_by {|prod| prod.category}
</code></pre>
"
"<p>Okay, this is just a minor caveat. I am currently working with the lovely ArcSDK from ESRI. Now to get a value from any of their functions, you basically have to pass the variable, you want to assign the value to.</p>

<p>E.g.:</p>

<pre><code>long output_width;
IRasterProps-&gt;get_Width(&amp;output_width);
</code></pre>

<p>Its such a minor thing, but when you have to pick out around 30 different pieces of data from their miscellaneous functions, it really starts to get annoying.</p>

<p>So what i was wondering is it possible to somehow by the magic of STL or C++ change this into:</p>

<pre><code>long output_width = IRasterProps-&gt;get_Width(&lt;something magical&gt;);
</code></pre>

<p>All of the functions return void, otherwise the off chance some of them might return a HRESULT, which i can safely ignore. Any ideas?</p>

<p><strong>*EDIT**</strong></p>

<p>Heres the final result i got which works :)!!!!!</p>

<pre><code>A magic(P p, R (__stdcall T::*f)(A *)) {
    A a;
    ((*p).*f)(&amp;a);
    return a;
}
</code></pre>
","149392","","<p>This is not quite what you specified because you need to wrap get() around the method, but it works:</p>

<pre><code>template&lt;class T, class S&gt;
T get(S fun(T&amp;)) {
  T result;
  fun(result);
  return result;
}

void foo(int&amp; x) {
  x = 5;
}

bool bar(char&amp; x) {
  x = 'c';
  return false;
}

int main() {
  int x = get(foo);
  char y = get(bar);

  return 0;
}
</code></pre>
"
"<p>Also, what does ""<code>self.send attr</code>"" do? Is <code>attr</code> assumed to be a private instance variable of the ActiveEngineer class? Are there any other issues with this code in terms of Ruby logic?</p>

<pre><code>class Applicant &lt; ActiveEngineer

  require 'ruby'
  require 'mad_skills'
  require 'oo_design'
  require 'mysql'

  validates :bachelors_degree

  def qualified?
    [:smart, :highly_productive, :curious, :driven, :team_player ].all? do
|attr|
      self.send attr
    end
  end
end

class Employer
  include TopTalent
  has_millions :subscribers, :include=&gt;:mostly_women
  has_many :profits, :revenue
  has_many :recent_press, :through=&gt;[:today_show, :good_morning_america,
                                     :new_york_times, :oprah_magazine]
  belongs_to :south_park_sf
  has_many :employees, :limit=&gt;10

  def apply(you)
    unless you.build_successful_startups
      raise ""Not wanted""
    end
    unless you.enjoy_working_at_scale
      raise ""Don't bother""
    end
  end

  def work
    with small_team do
      our_offerings.extend you
      subscribers.send :thrill
      [:scaling, :recommendation_engines, :   ].each do |challenge|
        assert intellectual_challenges.include? challenge
      end
      %w(analytics ui collaborative_filtering scraping).each{|task|
task.build }
    end
  end

end

def to_apply
  include CoverLetter
  include Resume
end
</code></pre>
","149392","","<p><code>require 'mad_skills'</code> loads the code in mad_skills.rb (or it loads mad_skills.so/.dll depending on which one exists). You need to require a file before being able to use classes, methods etc. defined in that file (though in rails files are automatically loaded when trying to access classes that have the same name as the file). Putting require inside a class definition, does not change its behaviour at all (i.e. putting it at the top of the file would not make a difference).</p>

<p><code>include MadSkills</code> takes the module <code>MadSkills</code> and includes it into <code>Applicant</code>'s inheritance chain, i.e. it makes all the methods in <code>MadSkills</code> available to instances of <code>Applicant</code>.</p>

<p><code>self.send attr</code> executes the method with the name specified in attr on self and returns its return value. E.g. <code>attr = ""hello""; self.send(attr)</code> will be the same as <code>self.hello</code>. In this case it executes the methods <code>smart</code>, <code>highly_productive</code>, <code>curious</code>, <code>driven</code>, and <code>team_player</code> and checks that all of them return true.</p>
"
"<p><a href=""http://github.com/nakajima/gemifest/blob/889774804a290f03f43823babc750e4ca2afbb8f/lib/gemifest/installer.rb"" rel=""nofollow"">This code</a> installs gems into your project based on a gem manifest. Why does it need to spawn threads for this?</p>

<pre><code>module Gemifest
  class Installer
    def initialize(gem)
      @gem = gem
    end

    def perform!
      begin
        $stdout = StringIO.new('')
        $stderr = StringIO.new('')
        with_progress 'Installing ' + @gem.name do
          `#{@gem_command} install --no-ri --no-rdoc #{@gem.line}`
        end
      ensure
        $stderr = STDERR
        $stdout = STDOUT
      end
    end

    private

    def with_progress(label)
      STDERR.print label
      begin
        t = Thread.new do
          loop do
            STDERR.print('.')
            STDERR.flush
            sleep 0.8
          end
        end
        yield
        STDERR.puts ' done!' unless $?.exitstatus &gt; 0
      rescue =&gt; e
        STDOUT.puts ""Error:""
        STDOUT.puts e.message
      ensure
        t.kill
      end
    end
  end
end
</code></pre>
","149392","","<p>If you would remove the <code>Thread.new</code> the <code>yield</code> would execute after the <code>loop do ... end</code> has finished (i.e. never).</p>

<p>The purpose of having the loop in a seperate thread is that it's supposed to execute at the same time as the block and then be killed once the block is finished.</p>
"
"<p>I'm well aware of using namespaces however, every now and then I'm stumbling upon a using, which uses a specific class. For instance :</p>

<pre><code>#include &lt;string&gt;
using namespace std;
(...)
</code></pre>

<p>However - every now and then, I'm seeing :</p>

<pre><code>using std::string;
</code></pre>

<p>How should I interpret the ""using"" in this case ?</p>

<p>Cheers</p>
","149392","","<p><code>using namespace foo</code> allows you to access all names in the namespace foo without qualification. <code>using foo::bar</code> allows you to use <code>bar</code> without qualification, but not any other names in foo.</p>
"
"<p>I am getting this:</p>

<pre><code>_format_ = ""7c7sc""
print struct.unpack(self._format_, data)
</code></pre>

<p>gives</p>

<pre><code>('\x7f', 'E', 'L', 'F', '\x01', '\x01', '\x01', '\x00\x00\x00\x00\x00\x00\x00', '\x00')
</code></pre>

<p>I want to take <code>'\x01'</code> and get 1 from it, i.e., convert to ``int. Any ideas?
Thanks</p>
","149392","","<p><code>ord(""\x01"")</code> will return 1.</p>
"
"<p>Trying to get a feel for haskell.
Am a seasoned programmer with PHP, JAVA, VB and many other languages, but am finding haskell slightly more difficult to follow.
Can anyone give me an <em>english translation</em> for the following haskell function, to get me started...</p>

<pre><code>quicksort []     = []
quicksort (x:xs) = quicksort [y | y &lt;- xs, y&lt;x ]
                   ++ [x]
                   ++ quicksort [y | y &lt;- xs, y&gt;=x]
</code></pre>

<p>An example of <em>english translation</em> is in the comments below:</p>

<pre><code>// --- FOR_LOOP -&gt;
// --- $abc goes from 1 to 10 -&gt;
// --- If $abc is even - print $abc is even -&gt;
// --- else if $abc is odd - print $abc is odd -&gt;
// --- END_FOR_LOOP

for( $abc = 1 ; $abc &lt;= 10 ; $abc++ ){

  if( $abc % 2 == 0 ){
    echo $abc . "" is even"";
  }
  else{
    echo $abc . "" is odd"";
  }
}
</code></pre>

<p>The first line is straightforward enough, reading: 
""Function quicksort on an empty list yields an empty list as the result""...
If you can translate the remainder of the haskell into english that would be very helpfull.</p>
","149392","","<p>The result of quicksorting the empty list is the empty list.</p>

<p>The result of quicksorting a non-empty list, where we call the first element of the list <code>x</code> and the remaining elements <code>xs</code> is: The result of quicksorting all the elements of <code>xs</code> that are smaller than x (*), followed by x, followed by the result of quicksorting all the elements of xs that are greater than x.</p>

<p>(*) To elaborate a bit: <code>[y | y &lt;- xs, y&lt;x ]</code> can be read as ""the list of all y where y is in xs and <code>y&lt;x</code>"".</p>
"
"<p>I've seen this done long ago with hlsl/glsl shader code -- using an <code>#include</code> on the source code file that pastes the code into a <code>char*</code> so that no file IO happens at runtime.</p>

<p>If I were to represent it as pseudo-code, it would look a little like this:</p>

<pre><code>#define CLSourceToString(filename) "" #include ""filename"" ""
const char* kernel = CLSourceToString(""kernel.cl"");
</code></pre>

<p>Now of course that <code>#define</code> isn't going to work because it'll just try to use those quotation marks to start strings.</p>
","149392","","<p>According to <a href=""http://stackoverflow.com/questions/1246301/c-c-can-you-include-a-file-into-a-string-literal"">this</a>, it's not possible, but you can use <code>xxd -i</code> to archieve the same effect.</p>
"
"<pre><code>def self.get(server)
  return unless server
  server = server.to_s

  if klass = @handlers[server]
    obj = Object
    klass.split(""::"").each { |x| obj = obj.const_get(x) }
    obj
  else
    try_require('rack/handler', server)
    const_get(server)
  end
end
</code></pre>

<p>In the <a href=""http://github.com/rack/rack/blob/fd1c1d2e494d9a7d15e0458602ef121f244addc3/lib/rack/handler.rb"" rel=""nofollow"">code</a> above, const_get is being used to retrieve some kind of named constant on this line:</p>

<pre><code>    klass.split(""::"").each { |x| obj = obj.const_get(x) }
</code></pre>

<p>If so, why is '<code>klass</code>' particularly being used here? I've read that <code>klass</code> is used to avoid namespace collisions with the ""<code>class</code>"" keyword. But in this example I don't see where the possible conflict could come from.</p>
","149392","","<p>The variable is called klass instead of class because both <code>if class = @handlers[server]</code> and <code>class.split(""::"")</code> would cause a syntax error because, as you said, class is a keyword in ruby.</p>

<p>As a rule local variables can't be named like keywords (methods are fine, but they may only be called with an explicit receiver, which is why you can't write e.g. <code>class.name</code> instead of <code>self.class.name</code>).</p>

<p>Everytime the parser sees the token <code>class</code> at the beginning of an expression, it interprets it as the keyword.</p>

<p>Edit: To clarify: The problem is not that the usage of class here would be ambiguous, it's that you simply can't use keywords as local variable names. The parser won't recognize them as such.</p>

<p>Edit in response to second comment: <code>klass</code> is used here as a local variable holding the value of <code>@handlers[server]</code>. The code could also be written without the variable (assuming that the value of <code>@handlers[server]</code> can't change between the two calls):</p>

<pre><code>if @handlers[server]
    obj = Object
    @handlers[server].split(""::"").each { |x| obj = obj.const_get(x) }
</code></pre>

<p>I assume that the author of the code stored the value of <code>@handles[server]</code> in a variable to a) not have to type <code>@handlers[server]</code> twice instead of once, b) make clear to the reader that that value is a class, and/or c) to avoid having to call <code>@handlers[]</code> twice.</p>

<p>YAEdit: To hopefully remove the last bit of confusion the following code is also equivalent:</p>

<pre><code>if foo = @handlers[server]
  obj = Object
  foo.split(""::"").each { |x| obj = obj.const_get(x) }
</code></pre>

<p>Or:</p>

<pre><code>foo = @handlers[server]
if foo
  obj = Object
  foo.split(""::"").each { |x| obj = obj.const_get(x) }
</code></pre>

<p>However klass is a more descriptive variable name than foo, so that's (presumably) why the author chose to name the variable klass.</p>
"
"<p>When logically something seems as if it would be dead simple, then it turns out to be completely convoluted,</p>

<p>I have not used Java much, so please forgive my ignorance. Here is what I am trying to do:</p>

<p>I have a nice clean algorithm in one .java file, and I want to feed it from an initialized array. The array contains over 40,000 elements, so I want it in a separate file all by itself. How do I do this? Is there seriously no quick way to just say {insert contents of filename.txt here}?</p>
","149392","","<p>File1.java:</p>

<pre><code>class File1 {
    static int[] bigArray = {1,2,3};
}
</code></pre>

<p>File2.java:</p>

<pre><code>class File2 {
    static int main(String[] args) {
        doSomeThingWith(File1.bigArray);
    }
}
</code></pre>

<p>You may also use static import to be able to use bigArray without prepending <code>File1.</code>.</p>
"
"<pre><code>    def record
      return unless @supported

      klasses = profile_options[:formats].map { |f| RubyProf.const_get(""#{f.to_s.camelize}Printer"") }.compact

      klasses.each do |klass|
        fname = output_filename(klass)
        FileUtils.mkdir_p(File.dirname(fname))
        File.open(fname, 'wb') do |file|
          klass.new(@data).print(file, profile_options.slice(:min_percent))
        end
      end
    end
</code></pre>

<p>I understand that 'klass' is used to prevent namespace conflicts with the keyword 'class' but why would either 'klass' or 'class' be needed in this code (from Rails::ActiveSupport) - what purpose do they serve? What is klass used for here? Or, if class were used instead, why would it be needed? What's klass/class for?</p>
","149392","","<p>class is a keyword to define classes. klass is simply a name given to a local variable, which would have been called class if it wasn't for the fact that you can't name a local variable class. There is no special significance to the name klass for variables other than that it looks like class.</p>
"
"<p>I have heard of types being referred to as ""boxed"" in some languages. </p>

<p>In Java, I have heard of ""autoboxing"". What is this? Is it having wrapper classes for a type? How would my code change if I'm working with boxed or unboxed types?</p>
","149392","","<p>Yes, boxing means taking a value type and wrapping it in a reference type. Since java introduced autoboxing you can do:</p>

<pre><code>void foo(Object bar) {}
//...
    foo(1);
</code></pre>

<p>And java will automatically turn the int 1 into an Integer. In previous versions you'd have to do:</p>

<pre><code>foo(new Integer(1));
</code></pre>

<p>Autoboxing is most useful in java when working with generics, since you can't use primitives with generics, so to store ints in a list, you'd have to make a <code>List&lt;Integer&gt;</code> and put the ints into the list boxed.</p>
"
"<p>Agile emphasizes quick iterations without wasteful planning.</p>

<p>MVC emphasizes separation of concerns based on a planned architecture.</p>

<p>Since non-MVC technologies require less planning, could they be more appropriate in an Agile project?</p>
","149392","","<p>Separation of concerns does not necessitate that you plan out every detail before you start coding. And agile does not mean that you just write the code down as it comes to mind. Agile means not being too attached to your initial idea of what the project will look like and to be ready to refactor should the need arise (as it usually does), not being afraid to throw big pieces of code out in the process.</p>

<p>Separation of concerns can very well make refactoring a lot easier, so MVC can be a big helper of agility.</p>
"
"<p>I generated 100 random numbers from 0-9, I am supposed to count how many times each number appears. Storing it in an array of 10 integers and count it.</p>

<p>Here's what I have so far, I cant figure out the count part.</p>

<pre><code>Random r = new Random();
int[] integers = new int[100];

for (int i=0; i&lt;integers.length; i++)
{
  integers[i] = (r.nextInt(10)+0);
}
</code></pre>
","149392","","<pre><code>int[] count = {0,0,0,0,0,0,0,0,0,0};
for(int i: integers) {
    count[i]++;
}
</code></pre>
"
"<p>in java it is possible to give an enum a constructor as well as member variables and functions.</p>

<p>i was wondering if something like this is possible in c# enums as well. if so, how?</p>

<p>thanks a lot!</p>
","149392","","<p>You can define extension methods for enum types, but you can't add state to enums, since enums are represented as simple integer types internally, and there'd be nowhere to store the state.</p>
"
"<p>Can I assign each value in an array to separate variables in one line in C#?  Here's an example in Ruby code of what I want:</p>

<pre><code>irb(main):001:0&gt; str1, str2 = [""hey"", ""now""]
=&gt; [""hey"", ""now""]
irb(main):002:0&gt; str1
=&gt; ""hey""
irb(main):003:0&gt; str2
=&gt; ""now""
</code></pre>

<p>I'm not sure if what I'm wanting is possible in C#.</p>

<p><strong>Edit:</strong>  for those suggesting I just assign the strings ""hey"" and ""now"" to variables, that's not what I want.  Imagine the following:</p>

<pre><code>irb(main):004:0&gt; val1, val2 = get_two_values()
=&gt; [""hey"", ""now""]
irb(main):005:0&gt; val1
=&gt; ""hey""
irb(main):006:0&gt; val2
=&gt; ""now""
</code></pre>

<p>Now the fact that the method <code>get_two_values</code> returned strings ""hey"" and ""now"" is arbitrary.  In fact it could return any two values, they don't even have to be strings.</p>
","149392","","<blockquote>
  <p>I'm not sure if what I'm wanting is
  possible in C#.</p>
</blockquote>

<p>It's not.</p>
"
"<p><strong>Is there any difference if you define Foo with instance_eval: . . .</strong></p>

<pre><code>class Foo
    def initialize(&amp;block)
      instance_eval(&amp;block) if block_given?
    end
  end
</code></pre>

<p><strong>. . . or with 'yield self':</strong></p>

<pre><code>class Foo
  def initialize
    yield self if block_given?
  end
end
</code></pre>

<p>In either case you can do this:</p>

<pre><code>x = Foo.new { def foo; 'foo'; end }
x.foo
</code></pre>

<p>So '<code>yield self</code>' means that the block after Foo.new is always evaluated in the context of the Foo class.</p>

<p>Is this correct?</p>
","149392","","<p>Your two pieces of code do very different things. By using instance_eval you're evaluating the block in the context of your object. This means that using def will define methods on that object. It also means that calling a method without a receiver inside the block will call it on your object.</p>

<p>When yielding self you're passing self as an argument to the block, but since your block doesn't take any arguments, it is simply ignored. So in this case yielding self does the same thing as yielding nothing. The <code>def</code> here behaves exactly like a <code>def</code> outside the block would, yielding self does not actually change what you define the method on. What you could do is:</p>

<pre><code>class Foo
  def initialize
    yield self if block_given?
  end
end
x = Foo.new {|obj| def obj.foo() 'foo' end}
x.foo
</code></pre>

<p>The difference to instance_eval being that you have to specify the receiver explicitly.</p>

<p>Edit to clarify:</p>

<p>In the version with yield, obj in the block will be the object that is yielded, which in this case is is the newly created Foo instance. While self will have the same value it had outside the block. With the instance_eval version <code>self</code> inside the block will be the newly created Foo instance.</p>
"
"<p>Is there any alternative way to implement a switch case in Java other than if else which is not looking good. A set of values will be there in combination, according to the selection corresponding method has to be executed.</p>
","149392","","<p>You could always replace a switch with <code>if-else if-else if-else if...</code>, though I don't see why you'd want to. Depending on the context <code>switch</code>s can also sometimes be replaced by arrays or hashmaps.</p>
"
"<p>I've got the following string:</p>

<pre><code>[global::System.CodeDom.Compiler.GeneratedCodeAttribute(""System.Data.Design.TypedDataSetGenerator"", ""2.0.0.0"")]
</code></pre>

<p>I need to alter it to look like the following:</p>

<pre><code>[global::System.CodeDom.Compiler.GeneratedCodeAttribute(""myClass"", ""myVersion"")]
</code></pre>

<p>The simplest way to achieve this, obviously, is to use a <code>Regex</code> to capture the pieces that I want from that string, and then concatenate the results with my extra text. However I'm looking to use the <code>Regex.Replace()</code> method to make the code a bit cleaner:</p>

<pre><code>Regex generatedCodeAttributeRegex = new Regex(""\\[[?:global::|]System.CodeDom.Compiler.GeneratedCodeAttribute\\((\""System.Data.Design.TypedDataSetGenerator\"",[\\s+]\""2.0.0.0\"")\\)\\]"");

inputFileContent = generatedCodeAttributeRegex.Replace(inputFileContent, delegate(Match m)
{
  return string.Format(""\""{0}\"", \""{1}\"""",
                       this.GetType(),
                       Assembly.GetExecutingAssembly().GetName().Version);
});
</code></pre>

<p>From my understanding, this should replace the captured group with the text specified in the delegate... the problem is that it doesn't. What am I doing wrong? And is it possible to achieve this with the <code>Regex.Replace(string, string)</code> overload?</p>
","149392","","<p>Your regex does not match because you wrote <code>[?:global::|]</code>, which is a character range containing the characters ?, :, g, l, o, b, a, :, and |. You probably meant <code>(?:global::|)</code> which is the same as <code>(?:global::)?</code>, i.e. ""global:: or nothing"".</p>

<p>Also note that by not escaping the dots, they will match anything - not just literal dots. Though that is unlikely to cause problems.</p>

<p>If you fix that, it will work, but not quite as you want, since Regex.Replace replaces the whole match, not just the part in the capturing group.</p>
"
"<p>I have a program that needs to set the type of a vector as the program is executed (according to a value in a configuration file).</p>

<p>I have tried this:</p>

<pre><code>int a = 1

if(a == 1)  vector&lt;int&gt; test(6);
else  vector&lt;unsigned int&gt; test(6);

test.push_back(3);
</code></pre>

<p>But this gives me:</p>

<pre><code>Error   1	error C2065: 'test' : undeclared identifier
</code></pre>

<p>I'm not entirely sure why, but I think this is because the vector is not actually decided at compile time so the compiler cannot work with it whilst compiling the rest of the code.</p>

<p>Is there a way to decide the type of a vector at runtime similar to what I have attempted above?
I have tried to create one version outside the if and then delete it and re-write the new version inside the IF. This however feels wrong and I can't get it to work anyway.
thanks.</p>
","149392","","<p>The reason it does not work is that you're declaring the vectors inside the if- and else-block respectively, so they go out of scope once that block ends.</p>

<blockquote>
  <p>Is there a way to decide the type of a vector at runtime similar to what I have attempted above?</p>
</blockquote>

<p>No, the type of a variable must be known at compile-time. Your only option is to put the line <code>test.push_back(3)</code> as well as any following code which accesses <code>test</code> into the if- and the else-block, or to avoid code-duplication into a second templated function. This could look like this:</p>

<pre><code>template &lt;class T&gt;
do_something_with_test(vector&lt;T&gt;&amp; test) {
    test.push_back(3);
    // work with test
}

void foo() {
    int a = 1

    if(a == 1) {
        vector&lt;int&gt; test(6);
        do_something_with_test(test);
    }
    else {
        vector&lt;unsigned int&gt; test(6);
        do_something_with_test(test);
    }
}
</code></pre>
"
"<p>I'm currently learning C++ so I don't have much knowledge on the topic . I'm using the C++ primer plus book and here's the problem :</p>

<p>Write a template function maxn() that takes as its arguments an array of items of type T
and an integer representing the number of elements in the array and that returns the
largest item in the array. Test it in a program that uses the function template with an
array of six int value and an array of four double values. The program should also
include a specialization that takes an array of pointers-to-char as an argument and the
number of pointers as a second argument and that returns the address of the longest
string. If multiple strings are tied for having the longest length, the function should
return the address of the first one tied for longest. Test the specialization with an array of
five string pointers.</p>

<p>Here's my code :</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;cstring&gt;
using namespace std;

template &lt;class T&gt; T maxn(T arr[] , int n);
template &lt;&gt; char * maxn&lt;char (*)[10]&gt; (char (*arr)[10] , int n);

int main()
{
    double array[5] = { 1.2 , 4.12 ,7.32 ,2.1 ,3.5};
    cout &lt;&lt; endl &lt;&lt; maxn(array , 5) &lt;&lt; endl &lt;&lt; endl;

    char strings[5][6] = { ""asta"" , "" m"" , ""ta"" , ""taree"" , ""e""};
    cout &lt;&lt; maxn(strings , 5) &lt;&lt; endl;

    return 0;
}

template &lt;class T&gt; T maxn(T arr[] , int n)
{
    T max = 0;
    for (int i = 0 ; i &lt; n ; ++i)
    {
    	if (arr[i] &gt; max)
    	max = arr[i];
    }
    return max;

}

template &lt;&gt; char * maxn&lt;char (*)[10]&gt; (char (*arr)[10] , int n)
{
    int length = 0;
    int mem = 0;
    for ( int i = 0 ; i &lt; n ; ++i)
    {
    	if (strlen(arr[i]) &gt; length)
    	{
    		length = strlen(arr[i]);
    		mem = i;
    	}
    }
    return arr[mem];
}
</code></pre>

<p>I'm trying to pass an array of strings . I get the following errors :</p>

<pre><code>    g++ -Wall -o ""untitled5"" ""untitled5.cpp"" (in directory: /home/eukristian)
untitled5.cpp:6: error: template-id ‘maxn&lt;char (*)[10]&gt;’ for ‘char* maxn(char (*)[10], int)’ does not match any template declaration
untitled5.cpp: In function ‘int main()’:
untitled5.cpp:14: error: no matching function for call to ‘maxn(char [5][6], int)’
untitled5.cpp: At global scope:
untitled5.cpp:31: error: template-id ‘maxn&lt;char (*)[10]&gt;’ for ‘char* maxn(char (*)[10], int)’ does not match any template declaration
Compilation failed.
</code></pre>

<p>I'm quite sure I've made some newbie mistake and I can't detect it .
Thanks .</p>
","149392","","<p><code>char (*)[10]</code> is a pointer to an array of 10 chars. <code>char *[10]</code> is an array of 10 char pointers.</p>

<p>Also you're specifying a different type for the return value than for T. I.e. if the function is supposed to return <code>char*</code>, the value for T should be <code>char*</code>, too. Your specialization should look like this:</p>

<pre><code>template &lt;&gt; char * maxn&lt;char *&gt; (char *arr[] , int n);
</code></pre>

<p>Also your array of strings should be of type <code>char *[5]</code>.</p>
"
"<p>In Java: Which is the most performance code and why?</p>

<pre><code>if (x==1) {
    ....
} else if (x==2) {
    ....
} else if (x==3) {
    ....
} else if (x==4) {
    ....
}
... rest code here...

or 

try {
    if (x==1) {
        ... 
        throw MyException(1);
    }
    if (x==2) {
        ... 
        throw MyException(2);
    }
    if (x==3) {
        ... 
        throw MyException(3);
    }
    if (x==4) {
        ... 
        throw MyException(4);
    }
} catch(MyException MEx) {
    ... rest code here ...
}
</code></pre>

<p>Thanks a lot!</p>
","149392","","<p>Not only will the second version have worse performance, it's also quite confusing to the reader and not how exceptions are meant to be used.</p>
"
"<pre><code>class Foo
  def with_yield
    yield(self)
  end

  def with_instance_eval(&amp;block)
    instance_eval(&amp;block)
  end
end

f = Foo.new

f.with_yield do |arg|
  p self
  # =&gt; main
  p arg
  # =&gt; #&lt;Foo:0x100124b10&gt;
end

f.with_instance_eval do |arg|
  p self
  # =&gt; #&lt;Foo:0x100124b10&gt;
  p arg
  # =&gt; #&lt;Foo:0x100124b10&gt;
end
</code></pre>

<p>Why does the second '<code>p arg</code>' report the Foo instance? Shouldn't it report <code>nil</code> since <code>with_instance_eval</code> does not yield <code>self</code> to the block?</p>
","149392","","<p>Apparently in ruby 1.8 instance_eval does not only change the value of self inside the block to its receiver, it also yields that value. In 1.9 this is no longer the case (arg will be nil there), so that behavior should not be relied upon (I'm also pretty sure it's undocumented).</p>
"
"<p>Anyone have a good trick to remember the standard ternary syntax?</p>

<p>Specifically whether the '?' or ':' comes first. I have consistently gotten this backwards over the years.</p>
","149392","","<p>Think of it this way: a ternary statement consists of three parts: the question, the code to execute if the answer to the question is ""yes"" and the code if the answer is ""no"". The ""?"" comes after the question like it does in English sentences.</p>
"
"<p>Instead of specifying a int list or string list, could I specify a list whose members must be either strings or ints, but nothing else?</p>
","149392","","<p>You could do:</p>

<pre><code>type element = IntElement of int | StringElement of string;;
</code></pre>

<p>and then use a list of <code>element</code>s.</p>
"
"<p>Easiest way to convert a List to a Set? - In Java</p>
","149392","","<pre><code>Set&lt;Foo&gt; foo = new HashSet&lt;&gt;(myList);
</code></pre>
"
"<p>I am looking for a way to remove 'stray' carriage returns occurring at the beginning or end of a file. ie:</p>

<pre><code>\r\n &lt;-- remove this guy
some stuff to say \r\n
some more stuff to say \r\n
\r\n &lt;-- remove this guy
</code></pre>

<p>How would you match \r\n followed by 'nothing' or preceded by 'nothing'?</p>
","149392","","<p>Depending on the language either the following regex in multiline mode:</p>

<pre><code>^\r\n|\r\n$
</code></pre>

<p>Or this regex:</p>

<pre><code>\A\r\n|\r\n\z
</code></pre>

<p>The first one works in e.g. perl (where ^ and $ match beginning/end of line in single-line mode and beginning/end of string in multiline mode). The latter works in e.g. ruby.</p>
"
"<p>When I'm working on homework assignments for class it is typically beneficial if the programs are small to keep the problem to a single class (easy to submit with our script).</p>

<p>For these one-off programs does it make more sense to declare all methods and instance variables as static or does it make more sense to declare an instance of the class itself in the main method?</p>

<p>So, for example:</p>

<p>A.</p>

<pre><code>public class MergeSort
{
   public static Scanner input = new Scanner(System.in);

    public static void main(String[] args)
    {
        int[] randData = getRandomData();
        int[] sortedData = mergeSort(randData);
    }

    public static int[] mergeSort(int[] unsortedData)
    {
        // ...
    }

    public static int[] merge(int[] data, int a, int b, int c)
    {
        // ...
    }
}
</code></pre>

<p>vs</p>

<p>B.  </p>

<pre><code>public class MergeSort  
{  
   public Scanner input = new Scanner(System.in);

    public static void main(String[] args)
    {
        MergeSort ms = new MergeSort();
        int[] randData = ms.getRandomData();
        int[] sortedData = ms.mergeSort(randData);
    }

    public int[] mergeSort(int[] unsortedData)
    {
        // ...
    }

    public int[] merge(int[] data, int a, int b, int c)
    {
        // ...
    }
}
</code></pre>
","149392","","<p>I would make those methods static since they don't depend on the state of the object in any way. After all the sort methods in the <code>Arrays</code> and <code>Collections</code> classes are static too.</p>
"
"<p>According to <a href=""http://tomayko.com/writings/require-rubygems-antipattern"">this post</a>, requiring rubygems is an antipattern.</p>

<pre><code>require 'rubygems'
</code></pre>

<p>The argument seems to boil down to this:</p>

<blockquote>
  <p>When I use your library, deploy your
  app, or run your tests I may not want
  to use rubygems. When you require
  'rubygems' in your code, you remove my
  ability to make that decision. I
  cannot unrequire rubygems, but you can
  not require it in the first place.</p>
</blockquote>

<p>But couldn't the same argument be made about any Ruby library that you 'require' when you create and share a library of code with other people?</p>
","149392","","<p>The main problem with requiring rubygems is that it will cause an error on systems that do not have rubygems installed even if they do have the library that you actually want to require.</p>

<p>Some people work around that by rescuing LoadError when requiring rubygems, but that's kind of ugly.</p>
"
"<p>In this example from <a href=""http://august.lilleaas.net/procs%5Fand%5Fblocks%5Fand%5Fanonymous%5Ffunctions"" rel=""nofollow"">a blog post</a>,</p>

<pre><code>class Array
  def each
    i = 0
    while(i &lt; self.length) do
      yield(self[i])
      i += 1
    end
  end
end

my_array = [""a"", ""b"", ""c""]
my_array.each {|letter| puts letter }
# =&gt; ""a""
# =&gt; ""b""
# =&gt; ""c""
</code></pre>

<p><strong>Is it necessary to use <code>self</code> in the statement:</strong></p>

<pre><code>yield(self[i])
</code></pre>

<p><strong>Or would it be ok to simply say:</strong></p>

<pre><code>yield i
</code></pre>
","149392","","<p>Those are two entirely different things. If you do <code>yield i</code> you will actually yield the number i, which will cause the output to be 1 2 3. The point of the code however is to yield the elements of the array, so you yield <code>self[i]</code>, which means ""the ith element of the array self"", or more technically ""call the method <code>[]</code> on <code>self</code> with the argument <code>i</code> and yield the result"".</p>
"
"<pre><code>s = Proc.new {|x|x*2}
puts s.call(5)
-&gt; 10

def foo(&amp;a)
 a.call(5)
end

puts ""test foo:""
foo(s)
</code></pre>

<p>When I try to call the proc above, I get:</p>

<pre><code>foo: wrong number of arguments (1 for 0) (ArgumentError)
</code></pre>

<p>My expectation was that I can pass a proc to a method if the method is defined with this type of signature:</p>

<pre><code>def foo(&amp;a)
</code></pre>

<p>and then I can execute the proc insiide foo like this:</p>

<pre><code> a.call(5)
</code></pre>
","149392","","<p>If you want to pass an actual proc to foo, just define it with <code>def foo(a)</code>. Putting the <code>&amp;</code> in front of <code>a</code> means ""this isn't actually an argument. Instead take the <em>block</em> passed to this method, create a proc out of it, and store that proc in the variable a"". In other words with your current definition you can call foo like this:</p>

<pre><code>foo do |x|
  puts x*2
end
</code></pre>

<p>You can also use <code>&amp;</code> when calling a method to turn a proc into a block:</p>

<pre><code>foo(&amp;s)
</code></pre>
"
"<pre><code>s = Proc.new {|x|x*2}
puts ""proc:"" + (s.call(5)).to_s

def foo(&amp;a)
    a.call(5)
end
foo{|x| puts ""foo:"" + (x*3).to_s}
</code></pre>

<p>Running this program produces the output:</p>

<pre><code>proc:10
foo:15
</code></pre>

<p>How does the value 3 from the foo block get passed to the proc? <strong>I expected this output</strong>:</p>

<pre><code>proc:10
foo:10
</code></pre>

<p><strong>The proc is always called with the value 5 as the argument</strong> because foo is defined as:</p>

<pre><code>    a.call(5)
</code></pre>

<p><strong>Why is foo 15 in the output?</strong></p>
","149392","","<p>Because the block outputs <code>x*3</code> (as opposed to s which returns <code>x*2</code>) and <code>5*3</code> is 15.</p>
"
"<p>I'm working on some homework for my compiler class and I have the following problem:</p>

<p>Write a regular expression for all strings of <em>a</em>'s and <em>b</em>'s that contain an odd number of <em>a</em>'s or an odd number of <em>b</em>'s (or both).</p>

<p>After a lot of whiteboard work I came up with the following solution:</p>

<pre><code>(aa|bb)* (ab|ba|a|b) ((aa|bb)* (ab|ba) (aa|bb)* (ab|ba) (aa|bb)*)*
</code></pre>

<p>However, Is this is the most simplified I can get it?  I've considered constructing the DFA trying to minimize the number of states there to see if it would help me simplify but I figured I would ask the regex gurus on SO first.</p>
","149392","","<p>This should work:</p>

<pre><code>b* a b* (a b* a b*)* |  a* b a* (b a* b a*)*
</code></pre>
"
"<p>I have only used 3 functional languages -- scala, erlang, and haskell, but in all 3 of these, the correct way to build lists is to prepend the new data to the front and then reversing it instead of just appending to the end. Of course, you could append to the lists, but that results in an entirely new list being constructed.</p>

<p>Why is this? I could imagine it's because lists are implemented internally as linked lists, but why couldn't they just be implemented as doubly linked lists so you could append to the end with no penalty? Is there some reason all functional languages have this limitation?</p>
","149392","","<p><a href=""http://stackoverflow.com/questions/1320139/why-is-appending-to-a-list-bad/1320171#1320171"">Because there is no way to append to a list in O(1) without modifying the original (which you don't do in functional languages)</a></p>
"
"<pre><code>def foo
  f = Proc.new { return ""return from foo from inside proc"" }
  f.call # control leaves foo here
  return ""return from foo"" 
end

def bar
  b = Proc.new { ""return from bar from inside proc"" }
  b.call # control leaves bar here
  return ""return from bar"" 
end

puts foo # prints ""return from foo from inside proc"" 
puts bar # prints ""return from bar""
</code></pre>

<p>I thought the <code>return</code> keyword was optional in Ruby and that you are always <code>return</code>ing whether you request it or not. Given that, I find it surprising that <code>foo</code> and <code>bar</code> have different output determined by the fact that <code>foo</code> contains an explicit <code>return</code> in <code>Proc f</code>. </p>

<p>Does anyone know why this is the case?</p>
","149392","","<p><code>return</code> inside a block or Proc[1] will return from the method, in which the block or Proc is defined, not from the block itself. In other words: if you use return inside the definition of <code>foo()</code>, you will return from <code>foo</code>, even if it is inside a block or Proc.</p>

<p>To return from a block you can use the <code>next</code> keyword instead. So:</p>

<pre><code>def foo
  f = Proc.new { next ""return from foo from inside proc"" }
  f.call # control leaves foo here
  return ""return from foo"" 
end
puts foo # prints ""return from foo""
</code></pre>

<p>Ruby has three keywords which return from something:</p>

<ol>
<li><code>return</code> - returns from the method or lambda in which it is written</li>
<li><code>next</code> - returns from the block/proc/lambda it is in</li>
<li><code>break</code> - returns from the method that yields to the block/invokes the proc/lambda it is in</li>
</ol>

<p><code>next</code> and <code>break</code> are named the way they are because they are most commonly used with methods like <code>each</code> where returning from the block will cause the iteration to resume with the <em>next</em> element of the collection and returning from each will cause you to <em>break</em> out of the loop.</p>

<p>[1] Note that here ""a Proc"" means a Proc object created by Proc.new, while ""a lambda"" means a Proc created with the lambda keyword. In lambdas return behaves like next, for whatever reason.</p>

<p>Also note that the <code>proc</code> keyword, which hasn't been mentioned yet, behaves like <code>lambda</code> in 1.8 and like <code>Proc.new</code> in 1.9.</p>
"
"<p>This question is not about how to use Enumerators in Ruby 1.9.1 but rather I am curious how they work. Here is some code:</p>

<pre><code>class Bunk
  def initialize
    @h = [*1..100]
  end

  def each
    if !block_given?
      enum_for(:each)
    else
      0.upto(@h.length) { |i|
        yield @h[i]
      }
    end
  end
end
</code></pre>

<p>In the above code I can use <code>e = Bunk.new.each</code>, and then <code>e.next</code>, <code>e.next</code> to get each successive element, but how exactly is it suspending execution and then resuming at the right spot? </p>

<p>I am aware that if the yield in the <code>0.upto</code> is replaced with <code>Fiber.yield</code> then it's easy to understand, but that is not the case here. It is a plain old <code>yield</code>, so how does it work? </p>

<p>I looked at enumerator.c but it's neigh on incomprehensible for me. Maybe someone could provide an implementation in Ruby, using fibers, not 1.8.6 style continuation-based enumerators, that makes it all clear?</p>
","149392","","<p>Here's a plain ruby enumerator that uses Fibers and should pretty much behave like the original:</p>

<pre><code>class MyEnumerator
  include Enumerable

  def initialize(obj, iterator_method)
    @f = Fiber.new do
      obj.send(iterator_method) do |*args|
        Fiber.yield(*args)
      end
      raise StopIteration
    end
  end

  def next
    @f.resume
  end

  def each
    loop do
      yield self.next
    end
  rescue StopIteration
    self
  end
end
</code></pre>

<p>And before someone complains about exceptions as flow control: The real Enumerator raises StopIteration at the end, too, so I just emulated the original behaviour.</p>

<p>Usage:</p>

<pre><code>&gt;&gt; enum = MyEnumerator.new([1,2,3,4], :each_with_index)
=&gt; #&lt;MyEnumerator:0x9d184f0 @f=#&lt;Fiber:0x9d184dc&gt;
&gt;&gt; enum.next
=&gt; [1, 0]
&gt;&gt; enum.next
=&gt; [2, 1]
&gt;&gt; enum.to_a
=&gt; [[3, 2], [4, 3]]
</code></pre>
"
"<p>Will Ruby ever see a performance boost as Javascript has seen recently? Can a new VM make it really, <em>really</em>, fast? Or do we have to assume all the benefits of Ruby have an inescapable performance penalty?</p>

<p>What methods could be taken to improve its performance compared to other faster languages?</p>
","149392","","<blockquote>
  <p>I think everyone can safely assume it is somewhat slower than other scripting languages</p>
</blockquote>

<p>Ruby 1.9 should actually be about the speed of CPython.</p>
"
"<p>I have a list of objects I need to sort according to properties of one of their fields. I've heard that SortedMap and Comparators are the best way to do this.</p>

<ol>
<li>Do I implement Comparable with the class I'm sorting, or do I create a new class?</li>
<li>How do I instantiate the SortedMap and pass in the Comparator?</li>
<li>How does the sorting work? Will it automatically sort everything as new objects are inserted?</li>
</ol>

<p><strong>EDIT:</strong>
This code is giving me an error:</p>

<pre><code>private TreeMap&lt;Ktr&gt; collection = new TreeMap&lt;Ktr&gt;();
</code></pre>

<p>(Ktr implements <code>Comparator&lt;Ktr&gt;</code>). Eclipse says it is expecting something like <code>TreeMap&lt;K, V&gt;</code>, so the number of parameters I'm supplying is incorrect.</p>
","149392","","<p>1.</p>

<p>That depends on the situation. Let's say the object A should sort before the object B in your set. If it generally makes sense to consider A less than B, then implementing Comparable would make sense. If the order only makes sense in the context in which you use the set, then you should probably create a Comparator.</p>

<p>2.</p>

<pre><code>new TreeMap(new MyComparator());
</code></pre>

<p>Or without creating a MyComparator class:</p>

<pre><code>new TreeMap(new Comparator&lt;MyClass&gt;() {
    int compare(MyClass o1, MyClass o2) { ... }
});
</code></pre>

<p>3. Yes.</p>
"
"<p>I've developed a Ruby application (a small game), and I would like to 'distribute' it to other people. </p>

<p>However, I am not sure what to do about the required gems. If I just send my application to someone who have ruby installed, but not the required gems, I assume it will blow up. Can I package the gems locally? If so, would it conflict if the other person has a different version of the gem?</p>

<p>So, what is the smart/proper/good way of doing this?</p>
","149392","","<p>The best way would probably be to just package your game as a gem as well, that way rubygems will take care of installing the dependencies. <a href=""http://rubygems.org/read/chapter/5"">Here</a>'s the documentation explaining how to create your own gems.</p>
"
"<p>How can I move away from (in c++) the annoying menus like:</p>

<p>(a) Do something
(b) Do something else
(c) Do that 3rd thing
(x) exit</p>

<p>Basically I want to be able to run the program then do something like ""calc 32 / 5"" or ""open data.csv"", where obviously I would have written the code for ""calc"" and ""open"". Just a shove in the right direction would be great, I am sure I can figure it all out, I just need something to google-fu.</p>
","149392","","<p>I think you want to do something like this:</p>

<pre><code>string cmd;
cout &lt;&lt; ""Enter your command:"" &lt;&lt; endl;
cin &gt;&gt; cmd;
if(cmd == ""open"") {
    // read file name and open file
} else if (cmd == ""calc"") {
    // read and evaluate expression
} ...
</code></pre>

<p>Though depending on how complex you want your command language to be, a more elaborate design (maybe even using a parser generator) might be appropriate.</p>
"
"<p>How can I determine easily and programmatically whether a <code>LocalJumpError</code> arose from the caller's immediate failure to supply a needed block to a method, or from deeper within that method and others it invokes?</p>

<p>By ""easily,"" I mean I'd like to avoid string inspection/regexen on <code>$!.backtrace</code>.  A solution applicable to 1.8 and 1.9 is also preferred.</p>

<p><strong>Motivation:</strong>  When I botch a method call in ruby, it's usually because I mistyped the method (<code>NoMethodError</code>), got the number of arguments wrong (<code>ArgumentError</code>) or neglected to pass a necessary block (<code>LocalJumpError</code>).</p>

<p>For a proxying or decorating wrapper object in ruby, I'd like to discriminate these <em>caller or API errors</em> from the <em>implementor or environment errors</em> that can raise the same classes of error.  For example:</p>

<pre><code>...
def method_missing(sym, *args, &amp;block)
  @wrapped.__send__(sym, *args, &amp;block)
rescue NoMethodError
  raise MyApp::BadInvocation, ""duh - no such method"" unless @wrapped.respond_to?(sym)
  raise
rescue ArgumentError
  raise MyApp::BadInvocation, ""duh - wrong arg count"" \
    unless _args_fit_arity?(@wrapped.method(sym), args)
  raise
rescue LocalJumpError
  # XXX - what is the test?
  raise
end
</code></pre>
","149392","","<p>To find out whether the LocalJumpError was caused by the user forgetting to pass a block, you need to know two things: Whether the user supplied a block and whether the method needs a block. The first is easy: just check whether blk is nil. The second however is impossible (in plain ruby at least).</p>

<p>So I guess parsing the stack trace is your best bet.</p>
"
"<p>In Java I can do:</p>

<pre><code>public boolean equals(Object other) {
    return this.aPrivateVariable == ((MyClass)other).aPrivateVariable;
}
</code></pre>

<p>This allows me to define equality without breaking the encapsulation of my class.
How can I do the same in Ruby?</p>

<p>Thanks.</p>
","149392","","<p>In ruby instance variables as well as private methods are accessible only to the object itself, not to any other object no matter their class. Protected methods are available to the object itself and other objects of the same class.</p>

<p>So to do what you want you can define a protected getter-method for your variable.</p>

<p>Edit: An example:</p>

<pre><code>class Foo
  protected
  attr_accessor :my_variable # Allows other objects of same class
                             # to get and set the variable. If you
                             # only want to allow getting, change
                             # ""accessor"" to ""reader""

  public
  def ==(other)
    self.my_variable == other.my_variable
  end
end
</code></pre>
"
"<p>If I have a string which may contain any characters (including '/', '&amp;',etc...) how do convert it safely into XML that can be stored like this:</p>

<pre><code>&lt;myelement&gt;mystring&lt;/myelement&gt;
</code></pre>

<p>Does it need to be CDATA, or can I easily convert it using a ruby function?</p>
","149392","","<p>The CGI module has an escapeHTML method.</p>

<pre><code>CGI.escapeHTML(""&amp;&lt;&gt;"")
#=&gt; ""&amp;amp;&amp;lt;&amp;gt;""
</code></pre>
"
"<p>I need a function to return all matches of a regexp in a string <em>and</em> positions at which the matches are found (I want to highlight matches in the string).</p>

<p>There is String#match that returns MatchData, but only for the first match.</p>

<p>Is there a better way to do this than something like</p>

<pre><code>matches = []
begin
  match = str.match(regexp)
  break unless match
  matches &lt;&lt; match
  str = str[match.end(0)..-1]
  retry
end
</code></pre>
","149392","","<p>If you just need to iterate over the MatchData objects you can use Regexp.last_match in the scan-block, like:</p>

<pre><code>string.scan(regex) do
  match_data = Regexp.last_match
  do_something_with(match_data)
end
</code></pre>

<p>If you really need an array, you can use:</p>

<pre><code>require 'enumerator' # Only needed for ruby 1.8.6
string.enum_for(:scan, regex).map { Regexp.last_match }
</code></pre>
"
"<pre><code>Module M
    Class C
    end
end
</code></pre>

<p>What I need is something like:</p>

<pre><code>M.was_defined_here?(M::C)
M.classes.include?(M::C)
</code></pre>

<p>Does this exists somehow?</p>

<p>I know I could parse M::C.name. But someebody could have the idea to change Module#name, to make it more astetic or something. I want a clean solution.</p>
","149392","","<pre><code>M.constants.map {|c| M.const_get(c)}.include?(M::C)
</code></pre>

<p>Or, from johannes' comment, using find (will perform better if the class does exist in M and doesn't happen to be the last constant in M - though it should rarely make a measurable difference):</p>

<pre><code>M.constants.find {|c| M.const_get(c) == M::C }
</code></pre>

<p>Edit: Since you actually just want a boolean result, this <code>any?</code> makes more send than <code>find</code>:</p>

<pre><code>M.constants.any? {|c| M.const_get(c) == M::C }
</code></pre>
"
"<p>I am going over C and have a question regarding const usage with pointers.  I understand the following code:</p>

<p>const char *someArray</p>

<p>This is defining a pointer that points to types of char and the const modifier means that the values stored in someArray cannot be changed.  However, what does the following mean ?</p>

<p>char * const array</p>

<p>Is this an alternate way of specifying a parameter that is a char pointer to an array named ""array"" that is const and cannot be modified ? </p>

<p>Lastly, what does this ""combination"" one mean:</p>

<p>const char * const s2</p>

<p>For reference, these are taken from the Deitel C programming book in chapter 7 and all of these are used as parameters passed to functions.</p>

<p>Thanks</p>
","149392","","<p><code>const char*</code> is, as you said, a pointer to a char, where you can't change the value of the char (at least not through the pointer (without casting the constness away)).</p>

<p><code>char* const</code> is a pointer to a char, where you can change the char, but you can't make the pointer point to a different char.</p>

<p><code>const char* const</code> is a constant pointer to a constant char, i.e. you can change neither where the pointer points nor the value of the pointee.</p>
"
"<p>What is the Java equivalent of JavaScript's <code>String.match()</code></p>

<p>I need to get an array or a list of all matches</p>

<p>Example:</p>

<pre><code>var str = 'The quick brown fox jumps over the lazy dog';
console.log(str.match(/e/gim));
</code></pre>

<p>gives</p>

<pre><code>[""e"", ""e"", ""e""]
</code></pre>

<p><a href=""http://www.w3schools.com/jsref/jsref_match.asp"" rel=""nofollow"">http://www.w3schools.com/jsref/jsref_match.asp</a></p>
","149392","","<p>Take a look at the <code>Pattern</code> and <code>Matcher</code> classes in the <code>regex</code> package. Specifically the <code>Matcher.find</code> method. That does not return an array, but you can use it in a loop to iterate through all matches.</p>
"
"<p>A class project involves sorting an array of strings, with each string containing an equal number of columns like this: <p>
<pre>Cartwright   Wendy    93
Williamson   Mark     81
Thompson     Mark     100
Anderson     John     76
Turner       Dennis   56</pre>
<p>The program accepts a command-line argument for which column to sort on, and should print out the sorted strings unmodified.<p>
<p>I would like to use strtok to break up copies of each string into columns, and make structs for each line like this:</p>

<pre><code>struct line {
    char * line;
    char column_to_sort_on[MAX_COLUMN];
}
</code></pre>

<p>My problem is in the comparison function pointer that qsort takes as an arg. If I understand correctly, the comparison function must take two const void pointers _to the items to be sorted_, and return an int. This means I can't pass pointers to structs into the comparison function because that is not what qsort will be sorting. I can't pass in the column number to sort on to the comparison function, because it can only take two args. How can I get around this to sort these strings based on specific columns?<p>
<p><strong>edit: </strong>Sorting is limited to qsort or my own if I really want. Give the choice, I choose qsort. :)</p>

<p><p><strong>edit # 2:</strong>The consensus seems to be either use a global variable for the column number, or just use qsort to sort an array of structs. I hadn't thought of just sorting the structs, and using the pointer in them to print out the original string. I think that is what I will do. Thanks for the help all!<p></p>
","149392","","<p>Assuming you're not limited to using qsort, you can use std::sort, with a functor object that stores the column number. If you have to use qsort, one quick and dirty solution would be to store the column number in a global variable and use that in the comparisson function.</p>
"
"<p>How do I parse string ""7c23a12f0cffa6cf2fac0baf8eacf4c1"" from a file ..  I am trying to retrieve the data between <code>_id=</code> and <code>&amp;</code></p>

<p>example file:</p>

<pre>
4593733f4ab534f0001ecbe20000b3e9/cgi-bin/rsspipes/dispatch?Alternative=10&Category=ECMINSTITUTE&Type=News&_action=run&<b>_id=7c23a12f0cffa6cf2fac0baf8eacf4c1</b>&_out=json&_render=json&_time=&dojo_preventCache=1253389550099Z1f8wengine.pipes.yahoo.com:8080rhttp://ecminstitute.appspot.com/gMozilla/5.0 (Macintosh; U; Intel Mac OS X 10_4_11; en) AppleWebKit/531.9 (KHTML, like Gecko) Version/4.0.3 Safari/531.910jdmm6t5aneif&b=4&d=zhJNm4hpYEL50eT2b_Zabr3mZKV2C34ShzuA1A--&s=qm&i=.a0EUfWk9n2pue72QqA3
</pre>
","149392","","<pre><code>id=([^&amp;]*)&amp;
</code></pre>

<p>The data between id= and &amp; will be matched by the first (and only) group and then be accessible via <code>.group(1)</code> or similar depending on the language/regex library.</p>

<p>Edit: Changed <code>+</code> to <code>*</code> as per Johannes Rössel's suggestion.</p>
"
"<p>Is it possible to implement a closure in Erlang?</p>

<p>For example, how would I translate this snippet from Scheme?</p>

<pre><code>(define (make-adder n)
  (lamdba (x) (+ x n)))
</code></pre>

<p>I've tried the following, but I'm clearly missing something.</p>

<pre><code>make_adder(n) -&gt;
    fun (x) -&gt; x + n end.
</code></pre>

<p>Compiling this gives the error</p>

<pre><code>Warning: this expression will fail with a 'badarith' exception
</code></pre>
","149392","","<p>You can't add atoms. Variables start with Capital Letters in erlang. words starting with lower case letters are atoms.</p>

<p>In other words your problem is not related to <code>fun</code>s at all, you just need to capitalize your variable names.</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br />
  <a href=""http://stackoverflow.com/questions/732684/implementing-a-matrix-which-is-more-efficient-using-an-array-of-arrays-2d-or"">Implementing a matrix, which is more efficient - using an Array of Arrays (2D) or a 1D array?</a><br />
  <a href=""http://stackoverflow.com/questions/1242705/performance-of-2-dimensional-array-vs-1-dimensional-array"">Performance of 2-dimensional array vs 1-dimensional array</a>  </p>
</blockquote>

<p>I was looking at one of my buddy's molecular dynamics code bases the other day and he had represented some 2D data as a 1D array.  So rather than having to use two indexes he only has to keep track of one but a little math is done to figure out what position it would be in if it were 2D.  So in the case of this 2D array:</p>

<pre><code>two_D = [[0, 1, 2],
         [3, 4, 5]]
</code></pre>

<p>It would be represented as:</p>

<pre><code>one_D = [0, 1, 2, 3, 4, 5]
</code></pre>

<p>If he needed to know what was in position (1,1) of the 2D array he would do some simple algebra and get 4.</p>

<p>Is there any performance boost gained by using a 1D array rather than a 2D array.  The data in the arrays can be called millions of times during the computation.</p>

<p>I hope the explanation of the data structure is clear...if not let me know and I'll try to explain it better.</p>

<p>Thank you :)</p>

<p><strong>EDIT</strong>
The language is C</p>
","149392","","<p>You didn't mention which language this is regarding or how the 2D array would be implemented. In C 2D arrays are actually implemented as 1D arrays where C automatically performs the arithmetic on the indices to acces the right element. So it would do what your friend does anyway behind the scenes.</p>

<p>In other languages a 2d array might be an array of pointers to the inner arrays, in which case accessing an element would be array lookup + pointer dereference + array lookup, which is probably slower than the index arithmetic, though it would not be worth optimizing unless you know that this is a bottleneck.</p>
"
"<p>Why this code <code>7.30 - 7.20</code> in ruby returns <code>0.0999999999999996</code>, not <code>0.10</code>?</p>

<p>But if i'll write <code>7.30 - 7.16</code>, for example, everything will be ok, i'll get <code>0.14</code>.</p>

<p>What the problem, and how can i solve it?</p>
","149392","","<p>The problem is that <a href=""http://en.wikipedia.org/wiki/Floating%5Fpoint#Accuracy%5Fproblems"" rel=""nofollow"">floating point is inaccurate</a>. You can solve it by using Rational, BigDecimal or just plain integers (for example if you want to store money you can store the number of cents as an int instead of the number of dollars as a float).</p>

<p>BigDecimal can accurately store any number that has a finite number of digits in base 10 and rounds numbers that don't (so three thirds aren't one whole).</p>

<p>Rational can accurately store any rational number and can't store irrational numbers at all.</p>
"
"<p>how can I read the %USERPROFILE% variable from ruby in windows seven?</p>
","149392","","<pre><code>ENV[""USERPROFILE""]
</code></pre>
"
"<p>I'm running windows xp and I've got MiniMagick and ImageMagick installed (latest versions). I'm now using the console to test out that everything works. Using the ms command prompt image magick works no problem. I'm testing this by using the identify command. Now, when I try to use MiniMagick from the console by entering</p>

<pre><code>image = MiniMagick::Image.new('image.jpg')
</code></pre>

<p>It returns</p>

<blockquote>
  <p>MiniMagickError, ""ImageMagick command (""identify \""input.jpg\"""") failed: {:status_code => #""'identify' is not recognized as an internal or external command,\noperable program or batch file.\n""}</p>
</blockquote>

<p>Can anybody help?</p>
","149392","","<p>When you tried the identify command in the command prompt, were you in the directoy where image magick is installed? If so, try it from a different directoy. If that does not work, you have to add the directory with the image magick executables to the PATH environment variable.</p>
"
"<p>I need to expand tabs in an input line, so that they are spaces (with a width of 8 columns).  I tried it with a previous code I had replacing the last space in every line greater than 10 characters with a '\n' to make a new line.  Is there an way in C to make tabs 8 spaces in order to expand them?  I mean I am sure it is simple, I just can't seem to get it.  </p>

<p>Here's my code:</p>

<pre><code>int v = 0;
int w = 0;
int tab;
extern char line[];

while (v &lt; length) {

   if(line[v] == '\t')
      tab = v;

   if (w == MAXCHARS) {
      // THIS IS WHERE I GET STUCK
      line[tab] = ' ';
      // set y to 0, so loop starts over
      w = 0;
   }
   ++v;
   ++w;
}
</code></pre>
","149392","","<p>I would probably do something like this:</p>

<ol>
<li>Iterate through the string once, only counting the tabs (and the string length if you don't already know that).</li>
<li>Allocate <code>original_size + 7 * number_of_tabs</code> bytes of memory (where original_size counts the null byte).</li>
<li>Iterate through the string another time, copying every non-tab byte to the new memory and inserting 8 spaces for every tab.</li>
</ol>

<p>If you want to do the replacement in-place instead of creating a new string, you'll have to make sure that the passed-in pointer points to a location with enough memory to store the new string (which will be longer than the original because 8 spaces or 7 bytes more than one tab).</p>
"
"<p>I want to (efficiently) get the symbol an aliased method is called with at runtime. A direct efficient access to a stack frame object of some sort to get it would be the fantasy. </p>

<p>ie:</p>

<p>class Foo<br>
&nbsp;&nbsp;def generic_call(*args)<br>
&nbsp;&nbsp;&nbsp;&nbsp;puts(""generic_call() was called by using #{???}"")<br>
&nbsp;&nbsp;end<br>
<br>
&nbsp;&nbsp;alias :specific_call1 :generic_call<br>
&nbsp;&nbsp;alias :specific_call2 :generic_call<br>
<br>
end<br>
<br>
Foo.new.specific_call1<br>
Foo.new.specific_call2<br></p>

<h1>the result I'd want<br></h1>

<p><br>
generic_call() was called by using specific_call1()<br>
generic_call() was called by using specific_call2()<br></p>
","149392","","<pre><code>class Foo
  def generic_call()
    puts ""generic call was called by #{caller[0][/in `([^']+)'/, 1]}""
  end

  def specific_call1() generic_call end
  def specific_call2() generic_call end
end

Foo.new.specific_call2 # Prints: generic call was called by specific_call2
</code></pre>

<p>This will however not work if you use alias to create <code>specific_callN</code> from <code>generic_call</code> because methods created by alias are actually a copy of the original method - they don't actually call the original method (which is why you can freely redefine the original without affecting the alias).</p>
"
"<p>How is operator precedence implemented in ANTLR? </p>

<p>I'm using the XText/Antlr package at the moment.</p>

<p>Edit: </p>

<p>I did what sepp2k suggested, and operator precedence works now, but stuff like 3 +* also work now. The operators are basically ""falling through"" the tree.</p>

<p>Also, I tried the C grammar on ANTLR's website and the same thing happened in ANTLRworks.</p>

<p>Anyone know what the issue is?</p>

<pre><code>BinaryExpression:
  'or'? AndOp; //or op

AndOp:
  'and'? ComparisonOp;

ComparisonOp:
  ('&gt;'|'&lt;'|'&gt;='|'&lt;='|'=='|'~=')? ConcatOp;

ConcatOp:
  '..'? AddSubOp;

AddSubOp:
  ('+' | '-')? MultDivOp;

MultDivOp:
  ('*' | '/')? ExpOp;

ExpOp:
  '^'? expr=Expression;
</code></pre>
","149392","","<p>With ANTLR you encode the precedence in the grammar rules. Like:</p>

<pre><code>expr:  mult ('+' mult)* ;
mult:  atom ('*' atom)* ;
atom:  INT | '(' expr ')' ;
</code></pre>

<p>This would parse ""1 + 2 * 3 + ( 4 * 5 + 6)"" as ""(1 + (2 * 3)) + ((4 * 5) + 6)""</p>
"
"<p>In C programming how do you get the current user and the current working directory.
I'm trying to print something like this:</p>

<pre><code>  asmith@mycomputer:~/Desktop/testProgram:$
  (user) (computerName) (current directory)
</code></pre>

<p>I have the following code, but the username is showing as NULL. Any ideas what I'm doing wrong?</p>

<pre><code>void prompt()
{
        printf(""%s@shell:~%s$"", getenv(""LOGNAME""), getcwd(currentDirectory, 1024));                 
}
</code></pre>
","149392","","<p>On unix-like systems use the function getlogin from unistd.h.</p>
"
"<p>For example, I have an array of floating point numbers:</p>

<pre><code>float[] numbers = new float[] { 1, 34, 65, 23, 56, 8, 5, 3, 234 };
</code></pre>

<p>If I use:</p>

<pre><code>Array.Sort(numbers);
</code></pre>

<p>Then the array is sorted by the size of the number.</p>

<p>I want to sort the numbers by another criteria, so element A should go before element B if f(A) &lt; f(B), rather than the usual of A &lt; B.</p>

<p>So, for example, If I want to sort them according to there value modulo 5. The array would become:</p>

<pre><code>5, 65, 1, 56, 3, 8, 23, 34, 234
</code></pre>

<p>I think it can be done through LINQ, but I'm not sure how.</p>
","149392","","<blockquote>
  <p>I want to sort the numbers by another criteria, so element A should go before element B if f(A) &lt; f(B)</p>
</blockquote>

<pre><code>numbers.OrderBy(f);
</code></pre>
"
"<p>I have some code which is effectively this:</p>

<pre><code>class dummie_type
{
    public:
    int a;

    void do_stuff()
    {
        // blah
    }
};

class dummie_type dummie[10];

void main()
{
    subroutine();
}

void subroutine()
{
    dummie[3].a = 27; // etc...
    dummie[5].do_stuff();
}
</code></pre>

<p>Note that the array of classes is global, and I need it to remain so (its a long story).
I need to change this code so that the array of classes is of variable length. I know that this will involve making a global pointer, and then setting that to point to a block of memory that gets malloc'ed or new'ed in main and I know that I will have to change the ""."" characters to ""->"" but other than that I keep failing to produce something that my compiler will accept. I'm particularly uncertain about the declaration of a global pointer to an array of classes.</p>

<p>Edit: Sorry I should have said earlier, the array size will be calculated once near the start of main() and will remain unchanged from then on.</p>
","149392","","<blockquote>
  <p>I know that this will involve making a global pointer, and then setting that to point to a block of memory that gets malloc'ed or new'ed in main and I know that I will have to change the ""."" characters to ""->"" but other than that I keep failing to produce something that my compiler will accept. I'm particularly uncertain about the declaration of a global pointer to an array of classes.</p>
</blockquote>

<p>That's basically all there is to it. You declare dummie as <code>dummie_type * dummie;</code> and then you do <code>dummie = new dummie_type[size];</code> in main. And no, you don't need to change <code>.</code> to <code>-&gt;</code>.</p>
"
"<p>Looking for examples on simple tree iterations in C++, both recursive and iterative. (post, pre and in-order)</p>
","149392","","<p><a href=""http://math.hws.edu/eck/cs225/s03/binary%5Ftrees/"" rel=""nofollow"">This page</a> shows an example of a binary tree and how to iterate over it.</p>
"
"<pre><code>match, text, number = *""foobar 123"".match(/([A-z]*) ([0-9]*)/)
</code></pre>

<p>I know this is doing some kind of regular expression match but what role does the splat play here and is there a way to do this without the splat so it's less confusing?</p>
","149392","","<blockquote>
  <p>is there a way to do this without the splat so it's less confusing?</p>
</blockquote>

<p>Since <code>a,b = [c,d]</code> is the same as <code>a,b = *[c,d]</code> and splat calls <code>to_a</code> on its operand when it's not an array you could simply call to_a explicitly and not need the splat:</p>

<pre><code>match, text, number = ""foobar 123"".match(/([A-z]*) ([0-9]*)/).to_a
</code></pre>

<p>Don't know whether that's less confusing, but it's splatless.</p>
"
"<p>I keep getting a 'uninitialize GLib::Object' error from my code.</p>

<p>Here's the code:</p>

<pre><code>class MainWindow &lt; Gtk::Window
    def initialize
        title = ""I'm The Title Of An Application! Yay!""
        border_width = 10
        set_size_request(600, 300)

        signal_connect(""destroy"") { Gtk.main_quit }

        @vbox = Gtk::VBox.new(false, 10)

        add(@vbox)
        show_all
    end
end

main_window = MainWindow.new
</code></pre>

<p>With this, I get the error</p>

<pre><code>in `set_size_request': uninitialize GLib::Object
</code></pre>

<p>So I move that tidbit of code to outside the class like so:</p>

<pre><code>main_window = MainWindow.new
    main_window.set_size_request(600, 300)
</code></pre>

<p>Then I get:</p>

<pre><code>in `signal_connect': uninitialize GLib::Object
</code></pre>

<p>So I change it so my class and move the 'signal_connect' method outside the class with 'set_resize_request', which looks like this:</p>

<pre><code>main_window = MainWindow.new
    main_window.set_size_request(600, 300)
    main_window.signal_connect(""destroy"") { Gtk.main_quit }
</code></pre>

<p>And it gives me:</p>

<pre><code>in `add': uninitialize GLib::Object
</code></pre>

<p>Gwar! I change it yet again...</p>

<pre><code>main_window = MainWindow.new
    main_window.set_size_request(600, 300)
    main_window.signal_connect(""destroy"") { Gtk.main_quit }
    main_window.add(@vbox)
</code></pre>

<p>Now this?!</p>

<pre><code>in `show_all': uninitialize GLib::Object
</code></pre>

<p>So, yet again, I remove the method from the class and put it outside of the class</p>

<pre><code>main_window = MainWindow.new
    main_window.set_size_request(600, 300)
    main_window.signal_connect(""destroy"") { Gtk.main_quit }
    main_window.add(@vbox)
    main_window.show_all
</code></pre>

<p>Maybe... just maybe it'll work this time, so I hope for the best and run the code again...</p>

<pre><code>in `set_size_request': uninitialize GLib::Object
</code></pre>

<p>What?! What's going on here?</p>
","149392","","<p>In addition to khell's answer you should also note that your first two lines of initialize:</p>

<pre><code>    title = ""I'm The Title Of An Application! Yay!""
    border_width = 10
</code></pre>

<p>Create two local variables that are never used. You probably want to prepend <code>self.</code> there.</p>
"
"<p>Hey, i try to trim each string item of an list in groovy</p>

<pre><code>list.each() { it = it.trim(); }
</code></pre>

<p>But this only works within the closure, in the list the strings are still "" foo"", ""bar "" and "" groovy "".</p>

<p>How can i achieve that?</p>
","149392","","<pre><code>list = list.collect { it.trim() }
</code></pre>
"
"<p>I'm looking for an Erlang library function that will return the index of a particular element in a list.</p>

<p>So, if</p>

<pre><code>X=[10,30,50,70]
</code></pre>

<p>then</p>

<pre><code>lists:index_of(30, X)
</code></pre>

<p>would return 1, etc., just like <code>java.util.List</code>'s <code>indexOf()</code> method.</p>

<p>Does such a method exist in the Erlang standard lib? I tried looking in the lists module but no luck. Or should I write it myself?</p>

<p>Thanks.</p>
","149392","","<p>You'll have to define it yourself, like this:</p>

<pre><code>index_of(Item, List) -&gt; index_of(Item, List, 1).

index_of(_, [], _)  -&gt; not_found;
index_of(Item, [Item|_], Index) -&gt; Index;
index_of(Item, [_|Tl], Index) -&gt; index_of(Item, Tl, Index+1).
</code></pre>

<p>Note however that accesing the Nth element of a list is O(N), so an algorithm that often accesses a list by index will be less efficient than one that iterates through it sequentially.</p>
"
"<p>I am thinking to learn programming language with dynamic type system. </p>

<p>Which one should I learn first? </p>

<p>Criteria:</p>

<ol>
<li>I can learn and start programming in a day or two</li>
<li>Easy, Concise</li>
<li>In few days I should be able to write small scripts for some batch jobs with file systems.</li>
</ol>

<p>To mention, I am normally a quick learner.</p>
","149392","","<p>Both python and ruby meet the criteria. <code>F#</code> will have more of a learning curve if you've never done functional programming before.</p>
"
"<p>Im trying to test my rails applications javascript using jruby 1.3.1,celerity and culerity.
The application itself runs under ruby 1.8.7 + phusion passenger (and runs fine, sans test :)) </p>

<p>Everything installation-wise works fine but my app uses <code>some_enumerable.each_slice(10)</code> to split a larger array into smaller subarray with 10 elelents each.</p>

<p>Celerity need jruby and jruby is only ruby 1.8.6 compatible and therefor doesnt support a blockless each_slice.</p>

<p>So I'm thinking about defining an initalizer which adds this functionality if RUBY_PLATFORM == ""java "" (or <code>RUBY_VERSION &lt; 1.8.7</code>)</p>

<p>This far I got (defunct code of cause):</p>

<pre><code>if true #ruby 1.8.6
module Enumerable
  alias_method :original_each_slice, :each_slice
  def each_slice(count, &amp;block)
    # call original method in 1.8.6
    if block_given?
      original_each_slice(count, block)
    else
      self.enum_for(:original_each_slice, count).to_a
    end
  end
end
end
</code></pre>

<p>This code obviously is not working and I would really appreciate someone pointing me to a solution.</p>

<p>Thanks!</p>

<p>Update:
<b>Solution thanks to sepp2k for pointing me to my errors:</b></p>

<pre><code>if RUBY_VERSION &lt; ""1.8.7""
  require 'enumerator'
  module Enumerable
    alias_method :original_each_slice, :each_slice
    def each_slice(count, &amp;block)
      if block_given?
        # call original method when used with block
        original_each_slice(count, &amp;block)
      else
        # no block -&gt; emulate
        self.enum_for(:original_each_slice, count)
      end
    end
  end
end
</code></pre>
","149392","","<p><code>original_each_slice(count, block)</code> should be <code>original_each_slice(count, &amp;block)</code>.</p>

<p>Also if you leave out the <code>to_a</code>, you'll be closer to the behaviour of 1.8.7+, which returns an enumerator, not an array.</p>

<p>(Don't forget to <code>require 'enumerator'</code> btw)</p>
"
"<p>I was doing a quick performance test on a block of code</p>

<pre><code>void ConvertToFloat( const std::vector&lt; short &gt;&amp; audioBlock, 
                     std::vector&lt; float &gt;&amp; out )
{
    const float rcpShortMax	= 1.0f / (float)SHRT_MAX;
    out.resize( audioBlock.size() );
    for( size_t i = 0; i &lt; audioBlock.size(); i++ )
    {
    	out[i]	= (float)audioBlock[i] * rcpShortMax;
    }
}
</code></pre>

<p>I was happy with the speed up over the original very naive implementation it takes just over 1 msec to process 65536 audio samples.</p>

<p>However just for fun I tried the following</p>

<pre><code>void ConvertToFloat( const std::vector&lt; short &gt;&amp; audioBlock, 
                     std::vector&lt; float &gt;&amp; out )
{
    const float rcpShortMax	= 1.0f / (float)SHRT_MAX;
    out.reserve( audioBlock.size() );
    for( size_t i = 0; i &lt; audioBlock.size(); i++ )
    {
    	out.push_back( (float)audioBlock[i] * rcpShortMax );
    }
}
</code></pre>

<p>Now I fully expected this to give exactly the same performance as the original code.  However suddenly the loop is now taking 900usec (i.e. it's 100usec faster than the other implementation).</p>

<p>Can anyone explain why this would give better performance?  Does <code>resize()</code> initialize the newly allocated vector where reserve just allocates but does not construct?  This is the only thing I can think of.</p>

<p>PS this was tested on a single core 2Ghz AMD Turion 64 ML-37.</p>
","149392","","<blockquote>
  <p>Does resize initialize the newly allocated vector where reserve just allocates but does not construct?</p>
</blockquote>

<p>Yes.</p>
"
"<p>First of all, this is not a duplicate of <a href=""http://stackoverflow.com/questions/75759/enums-in-ruby"">Enums in Ruby</a> :)</p>

<p>The accepted answer of that question suggests this as a good way to represent enums in Ruby:</p>

<pre><code>class Foo
  BAR = 1
  BAZ = 2
  BIZ = 4
end
</code></pre>

<p>In Java it is possible to attach multiple values and methods to an enum value. I want to achive the same or something similar in Ruby.</p>

<p>What would be the most Ruby-like way to represent this Java enum:</p>

<pre><code>public enum Enum

    VALUE_1(""Value 1""),
    VALUE_2(""Value 2""),
    VALUE_3(""Value 3"");

    Enum(String value) {
        this.value = value;
    }
    public String getValue() {
        return value;
    }
    private String value;
}  
</code></pre>

<p><strong>EDIT:</strong> </p>

<p>I also want to keep the implicit features of Java enums:</p>

<ul>
<li>... retrieve the ordinal value</li>
<li>... call methods on the enum values (or something equivalent)</li>
</ul>

<p><strong>Examples:</strong></p>

<pre><code>Enum.VALUE_1.getValue(); // ""Value 1""
Enum.VALUE_2.name();     // ""VALUE_2""
Enum.VALUE_3.ordinal();  // 2
</code></pre>
","149392","","<pre><code>class MyEnum
  attr_accessor :value
  def initialize(value)
    @value = value
  end

  VALUE1 = new(""Value 1"")
  VALUE2 = new(""Value 2"")

  class &lt;&lt; self
    private :new
  end
end

MyEnum::VALUE2 # Enum with value ""Value 2""
MyEnum.new # Error
</code></pre>

<p>A more elaborate solution that allows you to define arbitrary ""enum classes"" and also gives you <code>ordinal()</code>:</p>

<pre><code>def enum(*values, &amp;class_body)
  Class.new( Class.new(&amp;class_body) ) do
    attr_reader :ordinal

    def initialize(ordinal, *args, &amp;blk)
      super(*args, &amp;blk)
      @ordinal = ordinal
    end

    values.each_with_index do |(name, *parameters), i|
      const_set(name, new(i, *parameters))
    end

    class &lt;&lt;self
      private :new
    end
  end
end

# Usage:
MyEnum = enum([:VALUE1, ""Value 1""], [:VALUE2, ""Value 2""]) do
  attr_reader :str
  def initialize(str)
    @str = str
  end
end

MyEnum::VALUE1.str #=&gt; ""Value 1""
MyEnum::VALUE2.ordinal #=&gt; 1
</code></pre>
"
"<p>in the following code</p>

<pre><code>begin
 raise StandardError, 'message'
 #some code that raises a lot of exception
rescue StandardError
 #handle error
rescue OtherError
 #handle error
rescue YetAnotherError
 #handle error
end
</code></pre>

<p>I want to print a warning stating the type and the message of the error without adding print statement to each of the rescue clauses, like</p>

<pre><code>begin
 raise StandardError, 'message'
 #some code that raises a lot of exception
rescue StandardError
 #handle error
rescue OtherError
 #handle error
rescue YetAnotherError
 #handle error
???
 print ""An error of type #{???} happened, message is #{???}""
end
</code></pre>
","149392","","<pre><code>begin
  raise ArgumentError, ""I'm a description""
rescue Exception =&gt; ex
  puts ""An error of type #{ex.class} happened, message is #{ex.message}""
end
</code></pre>

<p>Prints: An error of type ArgumentError happened, message is I'm a description</p>
"
"<p>I'm trying to create a list in <a href=""http://en.wikipedia.org/wiki/Oz_programming_language"" rel=""nofollow"">Oz</a> using the following code:</p>

<pre><code>local Loop10 Xs in
   proc {Loop10 I}
      Xs={List.append Xs I}
      if I == 10 then skip
      else
     {Browse I}
     {Loop10 I+1}
      end
      {Browse Xs}
   end
{Loop10 0}
end
</code></pre>

<p>The <a href=""http://en.wikipedia.org/wiki/Mozart_Programming_System"" rel=""nofollow"">Mozart compiler</a> shows that the code is accepted, but no Browse window opens up. All I'm trying to do is create a list in Oz. </p>

<p>What's wrong with the code?</p>
","149392","","<p>Not sure that that's what you want, but to create a list of all whole numbers between X and Y (inclusive) you could do:</p>

<pre><code>local
   fun {Loop From To}
      if From &gt; To
      then nil
      else From | {Loop From+1 To}
      end
   end
in
   {Browse {Loop 0 10}} % Displays: [0,1,2,3,4,5,6,7,8,9,10]
end
</code></pre>
"
"<p>(Follow-up to my earlier question, <a href=""http://stackoverflow.com/questions/1465569/ruby-how-can-i-copy-a-variable-without-pointing-to-the-same-object/1465608#1465608"">Ruby: how can I copy a variable without pointing to the same object?</a>)</p>

<p>I'm writing a simple Ruby program to make some substitutions in an .svg file. The first step is to pull information from the file and put it in an array. In order to keep from reading the file from disk every time this function is called, I'm trying to use the memoize design pattern - use a cached result on every call after the first one.</p>

<p>To do this, I'm using a global variable, defined just before the function. But even though I <code>.dup</code> that variable to a local one before returning the local variable, the function that calls this one is still modifying the global variable.</p>

<p>Here is my actual code:</p>

<pre><code>#memoize to keep from having to read original file on each pass
$svg_filedata_cache = [] #the global variable
def svg_filedata(filename)
    if $svg_filedata_cache.empty?
        File.open(filename, ""r""){|f| $svg_filedata_cache = f.readlines}
    end
    svg_filedata_cache = $svg_filedata_cache.dup #try to copy it
    return svg_filedata_cache #SHOULD point to a different object (but doesn't)
end
</code></pre>

<p>Two questions (answer either or both):</p>

<ol>
<li>Why do other functions, which take in and modify the value returned here, also affect the global variable, even though I used <code>.dup</code> to copy it?</li>
<li>I'm new to Ruby and I'm sure this isn't the most Rubyesque way to do this (and I don't like global variables, anyway). Can you suggest a better strategy?</li>
</ol>
","149392","","<p>Modifying the duped array will not affect the original. However modifications to the strings inside the array will be visible globally because the global array and the duped array still contain references to the same strings (dup does not perform a deep copy).</p>

<p>So either perform a deep copy (<code>svg_filedata_cache = $svg_filedata_cache.map {|line| line.dup}</code>) or simply avoid mutating operations on the strings.</p>
"
"<p>So I'm trying to comprehend the source file for csv2rec in matplotlib.mlab.  It is used to take a csv file and parse the data into certain formats.  So it may take a string '234' and convert it to int.  or take a date string and make it into python datetimes.  </p>

<pre><code>def get_converters(reader):

    converters = None
    for i, row in enumerate(reader):
        if i==0:
            converters = [mybool]*len(row)
        if checkrows and i&gt;checkrows:
            break
        #print i, len(names), len(row)
        #print 'converters', zip(converters, row)
        for j, (name, item) in enumerate(zip(names, row)):
            func = converterd.get(j)
            if func is None:
                func = converterd.get(name)
            if func is None:
                #if not item.strip(): continue
                func = converters[j]
                if len(item.strip()):
                    func = get_func(name, item, func)
            else:
                # how should we handle custom converters and defaults?
                func = with_default_value(func, None)
            converters[j] = func
    return converters
</code></pre>

<p>My issue with this function is 'converters.' It starts off as None.  Then later 'func = converters[j]'  j I know is a number which is just created through enumeration.  So it is looking for the corresponding converters item as indexed by j.  But there is nothing in converters because it is None right?  Unless python programs don't have to be read from top to bottom?  In that case we get the func from the next two lines ""if len(item.st....etc)"" or from the 'else:' section.  But, I just assumed it would have to be read from top to bottom.  </p>

<p>I don't know if any of the other things are important so I just included the whole function.  converterd is a dictionary mapping I believe that the user can provide as a parameter to find a converter automatically.  checkrows is just a number provided by the user as a parameter in the beginning to check for validity.  It is by default None.  I'm still kind of a beginner, so just fyi. =)</p>

<p>Thanks everyone.  This site is so helpful!</p>
","149392","","<p>Converters gets set again at the beginning of the loop with</p>

<pre><code>if i==0:
  converters = [mybool]*len(row)
</code></pre>

<p>So after that it's not None anymore.</p>
"
"<p>I have a quick question about TreeSets and hashCodes. I have a <code>TreeSet</code> and I'm adding objects to it, before I add an object, I check to see if it exists in the <code>TreeSet</code> using the contains method.</p>

<p>I have 2 distinct objects, each of which produce a distinct hashCode using my implementation of the hashCode method, example below:</p>

<pre><code>public int hashCode()
{
    int hash = 7;
    hash = hash * 31 + anAttribute.hashCode();
    hash = hash * 31 + anotherAttribute.hashCode();
    hash = hash * 31 + yetAnotherAttribute.hashCode();
    return hash;
}
</code></pre>

<p>The hashCodes for a particular run are: 76126352 and 76126353 (the objects only differ by one digit in one attribute).</p>

<p>The contains method is returning true for these objects, even though the hashCodes are different. Any ideas why? This is really confusing and help would really be appreciated.</p>
","149392","","<p>TreeSet does not use <code>hashCode</code> at all. It uses either <code>compareTo</code> or the Comparator you passed to the constructor. This is used by methods like contains to find objects in the set.</p>

<p>So the answer to your question is that your compareTo method or your Comparator are defined so that the two objects in question are considered equal.</p>

<p>From the javadocs:</p>

<blockquote>
  <p>a TreeSet instance performs all
  element comparisons using its
  compareTo (or compare) method, so two
  elements that are deemed equal by this
  method are, from the standpoint of the
  set, equal.</p>
</blockquote>
"
"<p>I'm currently facing a variable substitution related problem in groovy. While this is quite trivial:</p>

<pre><code>Map map = [s1:""Hello"", s2:""World""]
println ""${map.s1} ${map.s2}!"" // ""Hello World!""
</code></pre>

<p>As this works, I'm pretty sure that something like this should work as well:</p>

<pre><code>Map map = [s1:""Hello"", s2:""World""]
def dynamic = loadStringFromFile();

println ""${dynamic} ${dynamic.class}"" // ""${s1} ${s2}! (java.lang.String)""

// now the voodoo part
println applyVoodoo(dynamic, map) // ""Hello World!""
</code></pre>

<p>Does anybody know how to get this working?</p>

<p>Cheers</p>
","149392","","<pre><code>dynamic.replaceAll(/\$\{(\w+)\}/) { m, k -&gt; map[k] }
</code></pre>
"
"<p>I need a special behavior from eval, to evaluate strings like:</p>

<pre><code>'5a + 6b + 3a + 11b'
</code></pre>

<p>into</p>

<pre><code>'8a + 17b'
</code></pre>

<p>Is it possible? If it is, can you give a proper example? I found <a href=""http://groups.google.com/group/sketchupruby/browse%5Fthread/thread/6c9bb7cfc76a5cda"" rel=""nofollow"">this</a> example recently, where the talk was about evaluating strings with meters and inches. </p>
","149392","","<p>The way it is written, that's not valid ruby syntax, so it can't be <code>eval</code>ed.</p>

<p>You have two options:</p>

<p>a) Don't use eval. I would think that this is the best option, but I supposed that depends on the context.</p>

<p>b) Change the syntax to <code>5.a + 6.b + 3.a + 11.b</code> and define appropriate a and b methods, like so:</p>

<pre><code>class Expr
  attr_accessor :a,:b
  def initialize(a,b)
    @a, @b = a,b
  end

  def +(other)
    Expr.new(a + other.a, b + other.b)
  end

  def inspect
    ""&lt;expr: #{a}a + #{b}b&gt;""
  end
end

class Numeric
  def a
    Expr.new(self, 0)
  end

  def b
    Expr.new(0, self)
  end
end

5.a + 6.b + 3.a + 11.b #=&gt; &lt;expr: 8a + 17b&gt;
</code></pre>
"
"<p>How do I convert an integer to a list and back in <a href=""http://en.wikipedia.org/wiki/Oz_programming_language"" rel=""nofollow"">Oz</a>? I need to take a number like <code>321</code> and reverse it into <code>123</code>. </p>

<p>The Reverse function in Oz only works on lists so I want to convert 321 to [3 2 1], reverse it, and convert [1 2 3] back to 123. Can this be done in Oz?</p>
","149392","","<p>Disclaimer: I didn't actually know Oz until 5 minutes ago and only read the examples at Wikipedia, so the following may be riddled with errors. It should however give you a good idea on how to approach the problem. (Making the function tail-recursive is left as an exercise to the reader).</p>

<p>Update: The following version is tested and works.</p>

<pre><code>local
  % turns 123 into [3,2,1]
  fun {Listify N}
    if N == 0 then nil
    else (N mod 10) | {Listify (N div 10)}
    end
  end

  % turns [1,2,3] into 321
  fun {Unlistify L}
    case
      L of nil then 0
      [] H|T then H + 10 * {Unlistify T}
    end
  end
in
  % Turns 123 into 321
  {Browse {Unlistify {Reverse {Listify 123}}}}
end
</code></pre>
"
"<p>I have a working solution in java using a classic state design pattern and facing some difficulties translating it to ruby. I am new in ruby, but the diffuclty I believe lies in the differences on how patterns can be implemented in dynamic languages.</p>

<p>My interface is describing the actions the model can execute in every state:</p>

<pre><code>public interface State {

    public void doTask1(Model a_model);
    public void doTask2(Model a_model);
    public boolean doTask3(Model a_model, Helper a_helper);
}
</code></pre>

<p>Next, I implement the state interface and create concrete states of my logic:</p>

<pre><code>    public class LogicState1 implements State {

 public void doTask1(Model a_model) {
  a_model.implementTask1();
 }

 public void doTask2(Model a_model) {
  a_model.implementTask2();
 }

 public boolean doTask3(Model a_model, Helper a_helper) {
                a_model.useHelper();
      return a_model.setState(a_model.getALogicstate(a_key));
}
</code></pre>

<p>As you can see, each concrete state can reach into the model and change its State. To avoid encapsulation issues, I instantiate my concrete states within the Model class, which has also a reference to the current State:</p>

<pre><code>public class Model {

private State currentState;

public void setState(State state){
 this.currentState = state;
 }

public State getState(){
 return currentState;
 }

private final Map&lt;String, State&gt; everyState = new HashMap&lt;String, State&gt;();

public Model(String initialStateKey){
   everyState.put(""key1"", new LogicState1());
   everyState.put(""key2"", new LogicState2());
   //...etc, instantiate and store all business logic states
   this.currentState = everyState.get(initialStateKey);
}

public State getALogicState(String key){
 return everyState.get(key);
}
public void useHelper(){...}
</code></pre>

<p>A client would use the Model like this:</p>

<pre><code>public void run(Model a_model) {
 a_model.getState().doTask1(a_model);
}
</code></pre>

<p>I think all of the above Java is straightforward, but now I am attempting to port this design into Ruby. I am aware of the differences in type-checking, and how modules and mixins are supposed to work in Ruby in contrast to Java's interfaces.</p>

<p>I have also found out about the State design pattern in Ruby in the <a href=""http://www.rubycentral.com/pickaxe/lib%5Fpatterns.html"" rel=""nofollow"">pickaxe</a> book.
Now I am a bit confused about which is the best way to try such conversion. I am still thinking inside the Java box, and wondering if I should have my concrete implementation of each state in a different .rb file and then require it in the client class?</p>

<p>Is there a way to implement the above without using the delegate.rb library?</p>

<p>Any suggestions on how to start with my conversion will be enthusiastically appreciated.</p>
","149392","","<p>To translate this to ruby you can just leave out the interface and keep everything else as is. I.e. each state is a class that defines the methods <code>do_task_N</code> and doesn't otherwise have a connection to the other state classes (meaning you don't have to ""emulate"" the common interface by mixing-in a module or anything, you simply don't need it at all).</p>

<blockquote>
  <p>I am still thinking inside the Java
  box, and wondering if I should have my
  concrete implementation of each state
  in a different .rb file and then
  require it in the client class?</p>
</blockquote>

<p>That sounds fine, yes.</p>
"
"<p>I have a couple of scripts that interact with a MySQL database using ActiveRecord without the rest of the Rails package (although I have the complete Rails gem installed).  However, trying to use these classes lately has been giving me the NoMethodError when I try to call find() on my ActiveRecord-descended class.<br />
The class code is amazingly basic:</p>

<pre><code>class LineItem &lt;ActiveRecord::Base
   set_primary_key 'id'
   set_table_name  ""line_items""
end
</code></pre>

<p>And yes, since I'm using a MySQL database I have a db connector file:</p>

<pre><code>require 'rubygems'
require 'active_record'
require 'logger'
ActiveRecord::Base.establish_connection(
  :adapter =&gt;'mysql',
  :database=&gt;'my_db',
  :username=&gt;'my_user',
  :password=&gt;'a_password',
  :host=&gt;""ip_address"",
  :port=&gt;3306
)
ActiveRecord::Base.logger = Logger.new(STDERR)
</code></pre>

<p>But when I run the script:</p>

<pre><code>require ""dbconn""
require ""lineitem""

li = LineItem.new()
li.find(1)
</code></pre>

<p>I get the error: </p>

<pre><code>NoMethodError: undefined method `find' for #&lt;LineItem id: nil, trans_id: nil, trans_code: nil, data: nil&gt;
from /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/attribute_methods.rb:260:in `method_missing'
from (irb):4
</code></pre>

<p>If anybody has any advice I would appreciate it. I'm using Ruby 1.8.7 on OSX 10.6.1  Yes, it worked fine on 10.5.x</p>
","149392","","<p>It is quite normal for active_record objects not to have a find method (unless the corresponding table in the database has a column ""find"", but then that method would not take any arguments).</p>

<p>I think you want to do <code>li = LineItem.find(1)</code></p>
"
"<p>Let us say I have a list <code>((3 4 5) (d e f) (h i j) (5 5 5 5))</code> </p>

<p>How can I get the last element of each list in such a way that the output would look like this (5 f j 5)?</p>
","149392","","<p>Assuming this is about Common Lisp, there is a function <a href=""http://www.lispworks.com/documentation/HyperSpec/Body/f%5Flast.htm"">last</a> which returns a list containing the last item of a list. If you use this function with <a href=""http://www.lispworks.com/documentation/HyperSpec/Body/f%5Fmapc%5F.htm"">mapcan</a>, which applies a given function to each element of a list and returns the concatenated results, you'll get what you want.</p>

<p>Note though that accessing the last element of a list is an <code>O(N)</code> operation, so if this isn't just homework after all, you might want to consider if you can't solve the real problem more efficiently than taking the last item of each list (maybe use another datastructure instead).</p>
"
"<p>I understand <em>how</em> a language can bootstrap itself, but I haven't been able to find much reference on <em>why</em> you should consider bootstrapping.</p>

<p>The intuitive answer is that the language you're writing offers utilities that are not found in the ""base"" language of the compiler, <em>and</em> the language's features are relatively well-suited for a compiler.</p>

<p>For instance, it would make sense to bootstrap a C++ compiler -- it could potentially be much easier to maintain the compiler when OOP is properly used, as opposed to using plain C.</p>

<p>On the other hand, MATLAB certainly makes matrix math a lot easier than plain C, but I can't see any apparent benefits from writing a MATLAB compiler/interpreter in MATLAB -- it seems like it would become <em>less</em> maintainable.  A similar view could be applied to the R programming language.  Or a pretty extreme example would be bootstrapping <a href=""http://compsoc.dur.ac.uk/whitespace/"">Whitespace</a>, which is written in Haskell -- definitely a massive <em>super</em>set of Whitespace.</p>

<p>Is the only reason for bootstrapping to take advantage of the new language's features?  I know there's also the ""because we can"" reason, but that's not what I'm looking for :)</p>
","149392","","<p>One advantage would be that developers working on the compiler would only need to know the language being compiled. Otherwise developers would need to know the language being compiled as well as the language the compiler is written in.</p>
"
"<p>Let me start by saying this is associated with a homework assignment. However, this is a very small and relatively insignificant part of the assignment. </p>

<p>The C program receives input via command line arguments but it needs to be in the form:</p>

<pre><code>$ ./program &lt; input
</code></pre>

<p>How, would I go about receiving that input as a string? Each time I try to print out the 3rd argument from argv I receive this message:</p>

<blockquote>
  <p>input: No such file or directory.</p>
</blockquote>
","149392","","<p>What comes after the <code>&lt;</code> is not a command-line argument. The contents of the file will be piped into your program by the shell.</p>

<p>All you need to do is read from stdin and you'll get the contents of the file.</p>
"
"<p>I'm not very familiar with C++ programming. I know the basics of programming in it (syntax, pointers, etc.) and I've built a few basic programs with it and done some basic debugging at work. I am puzzled by this line of code from Box2D, specifically the Box2dTest project from Cocos2D:</p>

<pre><code>// Define the ground body.
b2BodyDef groundBodyDef;
groundBodyDef.position.Set(0, 0); // bottom-left corner
</code></pre>

<p>How is it that one can do this without having initialized <code>groundBodyDef</code>? I know this isn't an Objective-C thing because the C++ examples for Box2D itself are just like this.</p>
","149392","","<p>If you do <code>classname variable;</code> then <code>variable</code> will be initalized by calling the default constructor of <code>classname</code>, meaning there is no unitialized variable in your code.</p>
"
"<p>How do I declare an array in <a href=""http://en.wikipedia.org/wiki/Python_%28programming_language%29"" rel=""nofollow"">Python</a>?</p>

<p>I can't find any reference to arrays in the documentation. </p>
","149392","","<pre><code>variable = []
</code></pre>

<p>Now <code>variable</code> refers to an empty list (array).</p>

<p>Of course this is an assignment, not a declaration. There's no way to say in python ""this variable should never refer to anything other than an array"", since python is dynamically typed.</p>
"
"<p>Consider the following program.   </p>

<pre><code>#include&lt;iostream&gt;
using namespace std;

class base
{

   public:
     int _bval;

     base():_bval(0){}
};

class derived:public base
{

   public:
     int _dval;

     derived():base(),_dval(1){}
};

int main()
{     

   derived d[5];
   base *p;
   p=d;
   for(int i=0;i&lt;5;++i,++p)
      cout&lt;&lt;p-&gt;_bval;

}
</code></pre>

<p>The output of the above program is 01010.<br>
I thought the output would be 00000 because the value of _bval was initialized to 0(each time) by the base class constructor. </p>

<p>But why is the output different from 00000?<br>
What am I missing?</p>
","149392","","<p><code>p[i]</code> gives you the value at <code>sizeof(base) * i</code> bytes after <code>p</code>. So <code>p[1]</code> won't give you the second element of <code>d</code>, it will give you the second half of the first element.</p>

<p>In other words: if you use a pointer to the base class to iterate over an array of the derived class, you'll get wrong results if the derived class has a bigger size than the base class because it will iterate in steps of <code>sizeof(baseclass)</code> bytes.</p>
"
"<p>I'm printing debug statements for a 4x4 matrix. Does anyone know of a better way to do this, without using <code>cout</code>?</p>

<pre><code>// num decimal places to show
void print( int decimals )
{
    char fmtString[ 300 ] ;

    // I'm thinking this should be able to get smaller.
    sprintf(fmtString,
            ""%%.%df %%.%df %%.%df %%.%df\n""
            ""%%.%df %%.%df %%.%df %%.%df\n""
            ""%%.%df %%.%df %%.%df %%.%df\n""
            ""%%.%df %%.%df %%.%df %%.%df"",
            decimals, decimals, decimals, decimals, 
            decimals, decimals, decimals, decimals, 
            decimals, decimals, decimals, decimals, 
            decimals, decimals, decimals, decimals ) ;

    printf(fmtString,
           m[0][0], m[0][1], m[0][2], m[0][3],
           m[1][0], m[1][1], m[1][2], m[1][3],
           m[2][0], m[2][1], m[2][2], m[2][3],
           m[3][0], m[3][1], m[3][2], m[3][3] ) ;
}
</code></pre>

<h1>Super bonus points for preprocessor!</h1>
","149392","","<p>How about:</p>

<pre><code>void print( int decimals = 2 )
{
    int dimension = 4;
    for(int i = 0; i &lt; dimension; i++) {
        for(int j = 0; j &lt; dimension; j++) {
            printf(""%.*f"", decimals, matrix[i][j]);
            if(j == dimension - 1) printf(""\n"");
            else                   printf("" "");
        }
    }
}
</code></pre>
"
"<pre><code>//This program finds the GCD of two numbers using a recursive function call via the
//Euclidean algorithm

#include &lt;iostream&gt;
#include &lt;cmath&gt;
using namespace std;

int GCD (int A, int B);

int main()
{
    int A = 45, B = 55;

    cout &lt;&lt; ""The GCD is "" &lt;&lt; GCD(A,B) &lt;&lt; endl;
    //test
    return 0;
}

int GCD (int A, int B)
{
    A = abs(A);
    B = abs(B);


    if (A &gt; B)
    {
        A = A - B;
        return GCD (A, B); //Recursive function call - works fine
        //GCD (A, B);  -- This function call seems to return an incorrect value

    else if (A &lt; B)
    { 
        B = B - A;
        return GCD (A, B);//Recursive function call
        //GCD (A, B); -- This function call seems to return an incorrect value
    }

    else if (A = B)
    {
        return A;
    }
}
</code></pre>

<p>Here's my question: I've noticed that if I dont use the ""return"" keyword in my recursive function call, the program returns an incorrect value, but if I step through the function, the values in local correctly update. I know that functions (unless they are of the type void) must return a value. Perhaps this rule applies in recursive function calls as well?</p>

<p>Could someone please elaborate/help me understand?</p>
","149392","","<blockquote>
  <p>I know that functions (unless they are of the type void) must return a value. Perhaps this rule applies in recursive function calls as well?</p>
</blockquote>

<p>Yes, it does. If you don't use the return statement, the return value of a function is undefined.</p>
"
"<p>Just curious about how to overload them.</p>

<p>The opAssign operators are like addAssign(+=) and subAssign(-=).</p>

<p>""globally"" means they are not overloaded as member functions, but just a operator act on operands</p>

<p>For these opAssign operators, they are binary operators.(they receive two operands) 
Therefore two parameters are needed.</p>

<p>I found no examples on the web.....</p>
","149392","","<p>Here's a trivial example of defining <code>operator+=</code>:</p>

<pre><code>struct Foo{
    int x;
};

Foo&amp; operator+=(Foo&amp; lhs, const Foo&amp; rhs) {
    lhs.x += rhs.x;
    return lhs;
}
</code></pre>
"
"<p>Sorry for the basic question, but I'm having trouble finding the right thing to google.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

class C {
public: 
C(int n) {
    x = new int(n);
}

~C( ) {
    delete x;
}

int getX() {return *x;}

private: 
    int* x; 
}; 

void main( )  {
    C obj1 = C(3);
    obj1 = C(4);
    cout &lt;&lt; obj1.getX() &lt;&lt; endl;
}
</code></pre>

<p>It looks like it does the assignment correctly, then calls the destructor on obj1 leaving x with a garbage value rather than a value of 4. If this is valid, why does it do this?</p>
","149392","","<blockquote>
  <p>If there is a class C that has a constructor that takes an int, is this code valid?</p>

<pre><code>C obj1(3);
obj1=C(4);
</code></pre>
</blockquote>

<p>Assuming C has an <code>operator=(C)</code> (which it will by default), the code is valid. What will happen is that in the first line obj1 is constructed with 3 as a the parameter to the constructor. Then on the second line, a temporary C object is constructed with 4 as a parameter and then <code>operator=</code> is invoked on obj1 with that temporary object as a parameter. After that the temporary object will be destructed.</p>

<p>If <code>obj1</code> is in an invalid state after the assignment (but not before), there likely is a problem with C's <code>operator=</code>.</p>

<p>Update: If x really needs to be a pointer you have three options:</p>

<ol>
<li>Let the user instead of the destructor decide when the value of x should be deleted by defining a destruction method that the user needs to call explicitly. This will cause memory leaks if the user forgets to do so.</li>
<li>Define <code>operator=</code> so that it will create a copy of the integer instead of a copy of the value. If in your real code you use a pointer to something that's much bigger than an int, this might be too expensive.</li>
<li>Use reference counting to keep track how many instances of C hold a pointer to the same object and delete the object when its count reaches 0.</li>
</ol>
"
"<p>Is there a similar function to (parse-integer ""ff"" :radix 16) that will take me back the other way?  If I have the int 255 how do I convert it to the string ff?  </p>
","149392","","<pre><code>(write-to-string 255 :base 16)
</code></pre>
"
"<p>Are there ruby equivalents to the lisp car, cdr, and cons functions? For those unfamiliar with lisp, here's what I want from ruby:</p>

<pre><code>[1,2,3].car   =&gt; 1
[1,2,3].cdr   =&gt; [2,3]
[2,3].cons(1) =&gt; [1,2,3]
</code></pre>

<p>(in lisp):</p>

<pre><code>(car '(1 2 3))  =&gt; 1
(cdr '(1 2 3))  =&gt; (2 3)
(cons 1 '(2 3)) =&gt; (1 2 3)
</code></pre>
","149392","","<p>This is how you'd implement lisp-like single-linked lists in ruby:</p>

<pre><code>class Object
  def list?
    false
  end
end

class LispNilClass
  include Enumerable
  def each
  end

  def inspect
    ""lnil""
  end

  def cons(car)
    Cell.new(car, self)
  end

  def list?
    true
  end
end

LispNil = LispNilClass.new

class LispNilClass
  private :initialize
end

class Cell
  include Enumerable

  attr_accessor :car, :cdr

  def initialize(car, cdr)
    @car = car
    @cdr = cdr
  end

  def self.list(*elements)
    if elements.empty?
      LispNil
    else
      first, *rest = elements
      Cell.new(first, list(*rest))
    end
  end

  def cons(new_car)
    Cell.new(new_car, self)
  end

  def list?
    cdr.list?
  end

  # Do not use this (or any Enumerable methods) on Cells that aren't lists
  def each
    yield car
    cdr.each {|e| yield e}
  end

  def inspect
    if list?
      ""(#{ to_a.join("", "") })""
    else
      ""(#{car} . #{cdr})""
    end
  end
end

list = Cell.list(1, 2, 3) #=&gt; (1, 2, 3)
list.list? #=&gt; true
list.car #=&gt; 1
list.cdr #=&gt; (2, 3)
list.cdr.cdr.cdr #=&gt; lnil
list.cons(4) #=&gt; (4, 1, 2, 3)

notlist = Cell.new(1,2) #=&gt; (1 . 2)
notlist.list? #=&gt; false
notlist.car #=&gt; 1
notlist.cdr #=&gt; 2
notlist.cons(3) #=&gt; (3 . (1 . 2))
</code></pre>
"
"<p>How can I convert :obj back into a variable called obj inside the def?  </p>

<pre><code>def foo(bar)
  bar.some_method_call
end

foo :obj
</code></pre>

<p><strong>UPDATE</strong>:
The final code is more elaborate than this but...</p>

<p>I like to be able to say<br />
foo :obj<br />
instead of<br />
foo obj  </p>

<p>I working on some DSL-like syntax. And this one change would let things read a little clearer.</p>
","149392","","<p>What kind of variable is <code>obj</code> in your example? If it's a local variable of the scope where foo is called, it can't be accessed from inside foo, unless you pass the current binding as a second parameter.</p>

<p>If you want to access the instance variable <code>@obj</code>, it's easy:</p>

<pre><code>def foo(bar)
  instance_variable_get(""@#{bar}"").length
end

@obj = ""lala""
foo(""obj"") #=&gt; 4
</code></pre>
"
"<p>I have a hw question which confuses me on what i have to do. The question is below:</p>

<ol>
<li>The idea is to design a generic function called Modify_If that will take an input x (passed by reference), and two functors f1 and f2. The function Modify_If will use functor f1 to determine whether x obeys a certain condition. If it does, Modify_if will change the value of x, by applying functor f2 to it.</li>
</ol>

<p>The prototype for Modify_If is as follows:</p>

<pre><code>template &lt;class C, class Tester, class Transform&gt;
void Modify_If(C &amp; a, Tester f, Transform g)
</code></pre>

<p>I have to write the Modify_If function but I have no idea where to start so if anyone can help me out I would appreciate it.</p>
","149392","","<p>From the description it sounds like all you're supposed to do is to execute <code>g(a)</code> if <code>f(a)</code> returns true. That would look like this:</p>

<pre><code>if(f(a)) {
  g(a);
}
</code></pre>
"
"<p>Why do I get an extra iteration (extra line printed) when this code completes?  Does there need to be an extra newline at the EOF?  I would prefer not having to add extra/special characters to mark the EOF.</p>

<pre><code>#include &lt;iostream&gt;  
#include &lt;fstream&gt;  
#include &lt;string&gt;  
using namespace std;  

int main(){  
    ifstream infile(""dictionary.txt""); // one word per line  
    string text;  
    while(infile){  
        infile &gt;&gt; text;  
        cout &lt;&lt; text &lt;&lt; endl;  
    }  
    infile.close();  
    return 0;  
}
</code></pre>
","149392","","<p>With your while-condition you check whether the stream is in a good state. Then you read from the stream, which may or may not succeed. Then you output the value of text. What you should do is:</p>

<pre><code>while(infile &gt;&gt; text){
    cout &lt;&lt; text &lt;&lt; endl;
}
</code></pre>
"
"<p>The question is in the title.</p>

<p>My parameter can be either a string or a symbol and depending upon which it is I want to perform different actions.  Is there a way to check for this in Ruby?</p>
","149392","","<pre><code>def foo(arg)
  if arg.is_a?(Symbol)
    do_symbol_stuff
  else
    do_string_stuff
  end
end
</code></pre>
"
"<p>I cant understand the documentation at all.</p>

<p>I want a sorted map ""xxx"", which sorts the map according to the value. How do I do that?</p>

<p>Thanks.</p>
","149392","","<p>You use sorted-map-by by specifying a comparisson followed by the key-value-pairs. The comparator is a function which takes two keys and returns -1, 0 or 1 depending on whether the first key is smaller than, equal to or greater than the second key.</p>

<p>Example:</p>

<pre><code>user=&gt; (sorted-map-by (fn [k1 k2] (compare (mod k1 10) (mod k2 10))) 10 1 23 4 2 5)
{10 1, 2 5, 23 4}
</code></pre>

<p>Since the comparisson function only takes keys as arguments, you can't use this to sort by the values.</p>

<p>There is no way to have a sorted map where the map is sorted by the values. If it were, it wouldn't be possible to find an entry by key because you could not use the order to determine where the entry is (since the order would not depend on the key).</p>
"
"<p>I need to get the current time in a ""HH:MM:SS""-format into a character array (string) so I can output the result later simply with a <code>printf(""%s"", timeString);</code></p>

<p>I'm pretty confused on the <code>timeval</code> and <code>time_t</code> types btw, so any explanation would be awesome:)</p>

<p>EDIT:
So I tried with strftime etc, and it kinda worked. Here is my code:</p>

<pre><code>time_t current_time;
struct tm * time_info;
char timeString[8];

time(&amp;current_time);
time_info = localtime(&amp;current_time);

strftime(timeString, 8, ""%H:%M:%S"", time_info);
puts(timeString);
</code></pre>

<p>But the output is this: ""13:49:53a??J`aS?""</p>

<p>What is going on with the ""<strong>a??J`aS?</strong>"" at the end?</p>
","149392","","<p>Take a look at the <a href=""http://www.cplusplus.com/reference/clibrary/ctime/strftime/"" rel=""nofollow"">strftime</a> function, which allows you to write the time into a char array with a format of your choice.</p>
"
"<p>If i have an ArrayList of type Integer, containing numbers like 1,3,4,9,10 etc... How can i display those on a JLabel, not the sum, but all the numbers in a sequence.</p>

<p>So the JLabel would display, in this case: 134910</p>

<p>Thank you in advance for any help.</p>

<p>EDIT: Thank you all, ofcourse i should have thought about append. Anyways, thanks all!</p>
","149392","","<p>You start with an empty string (or StringBuilder). Then you iterate through the items of the list, adding each item to the string. Then you set the string as the JLabel's text.</p>
"
"<p>I've always thought this sort of thing ugly:</p>

<pre><code>require File.join(File.dirname(__FILE__), 'hirb/config')
</code></pre>

<p>Is there a prettier alternative, maybe one written for Rails?</p>

<pre><code>require_relative 'hirb/config'
require_relative '../another/file'
</code></pre>
","149392","","<p>You could do</p>

<pre><code>Dir.chdir(File.dirname(__FILE__) do
  require 'hirb/config'
  require '../another/file'
end
</code></pre>

<p>Whether or not that's better is a matter of taste, of course.</p>
"
"<p>I was wondering about using or not templates, in other thread I found out that templates must be implement in the header file because of some reasons.
Thats ok, my question is if the source will be need if other programm use it?
from the logic of the other thread's answer, it seems that even other programm would need the full implementation so the compiler can say if a line can or not use the templated function.</p>

<p>if yes, I guess templates are not a good thing for the developer who wants others to use his library?
if no, then we are good and templates will be used.</p>

<p>or if at least there is anyway to save my hard, hours spent, code from others?</p>

<p>(I will use stl vectors and such, but I am asking for my own code... Templates seem to be nice, save you a lot of hardcoded lines or macro abusing, but if others can read your source than it makes almost no sense[lot of sense to open projects xD])</p>

<p>Thanks,
Joe</p>
","149392","","<p>If you want users of your library to be able to use your templates, their source code needs to be available to those users.</p>

<p>However you can sometimes design your template classes so that most of the logic happens in non-template classes which don't have the full source code in the headers.</p>
"
"<p>Suppose I have a list with X elements</p>

<pre><code>[4,76,2,8,6,4,3,7,2,1...]
</code></pre>

<p>I'd like the first 5 elements.  Unless it has less than 5 elements.</p>

<pre><code>[4,76,2,8,6]
</code></pre>

<p>How to do that?</p>
","149392","","<pre><code>&gt;&gt;&gt; [1,2,3,4,5,6,7,8,9][:5]
[1, 2, 3, 4, 5]
&gt;&gt;&gt; [1,2,3][:5]
[1, 2, 3]
</code></pre>
"
"<p>What is the Ruby way to achieve following?</p>

<pre><code>a = [1,2]
b = [3,4]
</code></pre>

<p>I want an array: </p>

<pre><code>=&gt; [f(1,3) ,f(1,4) , f(2,3) ,f(2,4)]
</code></pre>
","149392","","<pre><code>a.map {|x| b.map {|y| f(x,y) } }.flatten
</code></pre>

<p>Note: On 1.8.7+ you can add <code>1</code> as an argument to flatten, so you'll still get correct results when <code>f</code> returns an array.</p>

<p>Here's an abstraction for an arbitrary number of arrays:</p>

<pre><code>def combine_arrays(*arrays)
  if arrays.empty?
    yield
  else
    first, *rest = arrays
    first.map do |x|
      combine_arrays(*rest) {|*args| yield x, *args }
    end.flatten
      #.flatten(1)
  end
end

combine_arrays([1,2,3],[3,4,5],[6,7,8]) do |x,y,z| x+y+z end
# =&gt; [10, 11, 12, 11, 12, 13, 12, 13, 14, 11, 12, 13, 12, 13, 14, 13, 14, 15, 12, 13, 14, 13, 14, 15, 14, 15, 16]
</code></pre>
"
"<p>I'm trying to cleanse one String from another.</p>

<pre><code>before = before.replaceAll(Constants.GENE_START_SEQUENCE, """");
</code></pre>

<p>And yet, the following assertion sometimes fails:</p>

<pre><code>assert before.indexOf(Constants.GENE_START_SEQUENCE) == -1 : before;
</code></pre>

<p>This is what the assert spits out:</p>

<pre><code>IIAOOOCOAAAOCCIOOOACAIAOACICOOIAIOOICIIOIIOICOICCCOOAOICOCOOIIOOAOAACIIOCCICIOIII
</code></pre>
","149392","","<p><code>replaceAll</code> only replaces occurences of the pattern in the original string. If the pattern reoccurs as a result of the replacement, this new occurence won't be replaced. Example:</p>

<pre><code>""XXYY"".replaceAll(""XY"", """");
</code></pre>

<p>This will find one occurence of ""XY"" (at index 1) and then replace that with """". The result will be ""XY"". If you want to prevent this from happening, you have to rexecute replaceAll, until <code>replaceAll</code> stops finding a match.</p>

<pre><code>String string = ""XXYY"";
String oldString;
do {
  oldString = string;
  string = string.replaceAll(""XY"", """");
} while(!string.equals(oldString));
// string will now be """"
</code></pre>
"
"<p>I'm writing a <code>equals(Object obj)</code> function for a class. I see that it is possible to access the private fields of <code>obj</code> from the caller. So instead of using a getter:</p>

<pre><code>Odp other = (Odp) obj;
if (! other.getCollection().contains(ftw)) {

}
</code></pre>

<p>I can just access the field directly:</p>

<pre><code>Odp other = (Odp) obj;
if (! other.collection.contains(ftw)) {

}
</code></pre>

<p>Is this bad practice?</p>
","149392","","<p>No, it's not. The reason that private variables and methods are not accessable from other classes is to allow you to change the internals of your class without having to change all the code that uses the class (that and to prevent the user of your class from e.g. setting a variable to a value that it's never supposed to have).</p>

<p>If you use private variables of other objects that doesn't hurt anything, because if you'd restructure your class's internals, you'd have to change the code inside the class anyway.</p>
"
"<pre><code>int *w;
int **d;

d = &amp;w;
</code></pre>

<p>What does the **d store exactly?</p>
","149392","","<p>w stores the address of an int. d stores the address of a pointer to int (except in this case it stores a random value because it doesn't get assigned), in this case the address of d.</p>
"
"<p>I think I'm missing something here.  I have a directory like this:</p>

<pre>
myapp
|-lib
  |-package1
    |-dostuff.rb
  |-package2
    |-dostuff.rb
</pre>

<p>From an <code>irb</code> console I'm trying to test the library before I add it to my real project (a Rails app).  However, typing this:</p>

<pre><code>require 'lib/package1/dostuff'
</code></pre>

<p>returns an error saying it can't find the file to load.  I added the lib directory to the load path but I'm not able to load the file.</p>

<p>What am I forgetting?  The two filenames don't have to be the same but that's how they are to begin with (they are auto-generated from some web services I need to call using soap4r; each package represents a different web service API group)</p>
","149392","","<p>If the directory ""lib"" is in the load path, the argument to require must be relative to lib. So <code>require 'package1/dostuff'</code> without the lib, otherwise it will look for <code>lib/lib/package1/dostuff.rb</code>.</p>
"
"<p>The following is a erlang function. I don't understand how lists:map function is used here.
Could someone please explain?</p>

<pre><code>% perform M runs with N calls to F in each run.
% For each of the M runs, determine the average time per call.
% Return, the average and standard deviation of these M results.

time_it(F, N, M) -&gt;
      G = fun() -&gt; F(), ok end,
      NN = lists:seq(1, N),
      MM = lists:seq(1, M),
      T = lists:map(
            fun(_) -&gt;
          T0 = now(),				% start timer
          [ G() || _ &lt;- NN ], 			% make N calls to F
          1.0e-6*timer:now_diff(now(), T0)/N	% average time per call
        end,
        MM
          ),
      { avg(T), std(T) }.
</code></pre>

<p>Thanks.</p>

<p>also, I don't know the proper syntax when using this function. For example, I have a dummy() function take 1 parameter. I get an error while trying to time the dummy function.</p>

<pre><code>moduleName:time_it(moduleName:dummy/1, 10, 100).
</code></pre>

<p>the above would evaluate to illegal expression.</p>

<p>Actually, now with the correct syntax, the function can be invoked correctly with:</p>

<pre><code>moduleName:time_it(fun moduleName:dummy/1, 10, 100).
</code></pre>

<p>However, it will throw a exception saying invoking dummy function without passing any parameter. I think this line is the villain, <code>[ G() || _ &lt;- NN ],</code> I have no idea how to fix it.</p>
","149392","","<p><code>map</code> is used here to execute the function</p>

<pre><code>T0 = now(),                           % start timer
[ G() || _ &lt;- NN ],                   % make N calls to F
1.0e-6*timer:now_diff(now(), T0)/N    % average time per call
</code></pre>

<p>for each element of <code>MM</code>. <code>map</code> will return a new list of the same size, where each element of the new list is the result of applying the above function to the corresponding element of <code>MM</code>.</p>

<p>You can invoke <code>time_it</code> like:</p>

<pre><code>moduleName:time_it(fun moduleName:dummy/1, 10, 100).
</code></pre>
"
"<p>this question is just speculative.</p>

<p>I have the following implementation in C++:</p>

<pre><code>using namespace std;

void testvector(int x)
{
  vector&lt;string&gt; v;
  char aux[20];
  int a = x * 2000;
  int z = a + 2000;
  string s(""X-"");
  for (int i = a; i &lt; z; i++)
  {
    sprintf(aux, ""%d"", i);
    v.push_back(s + aux);
  }
}

int main()
{
  for (int i = 0; i &lt; 10000; i++)
  {
    if (i % 1000 == 0) cout &lt;&lt; i &lt;&lt; endl;
    testvector(i);
  }
}
</code></pre>

<p>In my box, this program gets executed in approx. 12 seconds; amazingly, I have a similar implementation in Java [using String and ArrayList] and it runs lot faster than my C++ application (approx. 2 seconds).</p>

<p>I know the Java HotSpot performs a lot of optimizations when translating to native, but I think if such performance can be done in Java, it could be implemented in C++ too...</p>

<p>So, what do you think that should be modified in the program above or, I dunno, in the libraries used or in the memory allocator to reach similar performances in this stuff? (writing actual code of these things can be very long, so, discussing about it would be great)...</p>

<p>Thank you.</p>
","149392","","<p>It should help if you use <code>Vector::reserve</code> to reserve space for <code>z</code> elements in <code>v</code> before the loop (however the same thing should also speed up the java equivalent of this code).</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/577234/python-extend-for-a-dictionary"">Python &ldquo;extend&rdquo; for a dictionary</a>  </p>
</blockquote>

<p>I know that Python list can be appended or extended.  Is there an easy way to combine two Python dictionaries with unique keys, for instance:</p>

<pre><code>basket_one = {'fruit': 'watermelon', 'veggie': 'pumpkin'}
basket_two = {'dairy': 'cheese', 'meat': 'turkey'}
</code></pre>

<p>I then want one big basket of food:</p>

<pre><code>basket = {
    'fruit': 'watermelon', 
    'veggie': 'pumpkin', 
    'dairy': 'cheese', 
    'meat': 'turkey'
}
</code></pre>

<p>How can I perform the above in Python?</p>
","149392","","<pre><code>basket = basket_one.copy()
basket.update(basket_two)
</code></pre>

<p>(if the original basket_one does not need to stay intact, you can leave out the copy)</p>
"
"<p>Why does ruby addition cannot coerce given string to fixnum and vice verca?</p>

<pre><code>irb&gt;fixnum = 1
=&gt; 1
irb&gt; fixnum.class
=&gt; Fixnum
irb&gt; string = ""3""
=&gt; ""3""
irb&gt; string.class
=&gt; String
irb&gt; string.to_i
=&gt; 3
irb&gt; fixnum + string
TypeError: String can't be coerced into Fixnum
    from (irb):96:in `+'
    from (irb):96
    from :0
irb(main):097:0&gt;
</code></pre>
","149392","","<p>Because ruby doesn't know whether you want to convert the string to int or the int to string. In e.g. java <code>1 + ""3""</code> is <code>""13""</code>. Ruby prefers to raise an error, so that the user can decide whether to <code>to_s</code> the one operand or <code>to_i</code> the other, rather than doing the wrong thing automatically.</p>
"
"<p>Ok, I'm unsure if my return line will end the for() loop or just the if() question?</p>

<p>Example:</p>

<pre><code>for(;;) {
  wait(1);
  if(something) {
    tokens = strTok(something, "" "")
    if(tokens.size &lt; 2)
      return;
   }
}
</code></pre>

<p>I'm guessing that it'll just return from the if(something) question but I just want to be sure...</p>
","149392","","<p>In all languages I know (except haskell) <code>return</code> will return from enclosing function/method, while <code>break</code> would ""return"" from the loop.</p>
"
"<p>I was writing this code in C when I encountered the following problem.</p>

<pre><code>#include &lt;stdio.h&gt;
int main()
{
   int i=2;
   int j=3;
   int k,l;
   float a,b;
   k=i/j*j;
   l=j/i*i;
   a=i/j*j;
   b=j/i*i;
   printf(""%d %d %f %f\n"",k,l,a,b);
   return 0;
}
</code></pre>

<p>Can anyone tell me why the code is returning zero for the first and third variables (<code>k</code> and <code>a</code>)?</p>
","149392","","<p>If you're asking why k and a are 0: <code>i/j*j</code> is the same as <code>(i/j)*j</code>. Since j is larger than i, <code>i/j</code> is 0 (integer division). <code>0*j</code> is still 0, so the result (k) is 0. The same applies to the value of a.</p>
"
"<p>I wrote a Haskell function that calculates the factorial of every number in a given list and prints it to the screen.</p>

<pre><code>factPrint list =
if null list
	then putStrLn """"
	else do putStrLn ((show.fact.head) list)
		factPrint (tail list)
</code></pre>

<p>The function works, but I find the third line a bit confusing.
Why hasn't the compiler(GHC) reported an error on it since there is no ""do"" before the ""putStrLn"" (quasi?)function? 
If I omit ""do"" from the 4th line, an error pops up as expected.</p>

<p>I'm quite new to Haskell and its ways, so please pardon me if I said something overly silly.</p>
","149392","","<p><code>do</code> is used to tie multiple monadic expressions together. It has no effect when followed by only a single expression.</p>

<p>For the if to be well-formed it is only necessary that the then-clause and the else-clause have the same type. Since both clauses have the type <code>IO ()</code> this is the case.</p>
"
"<p>I am getting the following error on execution of a multi-threading program</p>

<pre><code>java.lang.OutOfMemoryError: Java heap space
</code></pre>

<p>The above error occured in one of the threads.</p>

<ol>
<li><p>Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.</p></li>
<li><p>Is there any way to increase the heap space?</p></li>
<li><p>What changes should I made to my program so that It will grab less heap space?</p></li>
</ol>
","149392","","<ol>
<li><p>Local variables are located on the stack. Heap space is occupied by objects.</p></li>
<li><p>You can use the <code>-Xmx</code> option.</p></li>
<li><p>Basically heap space is used up everytime you allocate a new object with <code>new</code> and freed some time after the object is no longer referenced. So make sure that you don't keep references to objects that you no longer need.</p></li>
</ol>
"
"<p>Why does the compiler give an error message when you reduce the visibility of a method while overriding it in the subclass?</p>
","149392","","<p>Because if this was allowed, the following situation would be possible:</p>

<p>Class Sub inherits from class Parent. Parent has a public method <code>foo</code>, Sub makes that method private. Now the following code would compile fine, because the declared type of <code>bar</code> is Parent:</p>

<pre><code>Parent bar = new Sub();
bar.foo();
</code></pre>

<p>However it is not clear how this should behave. One possibility would be to let it cause a runtime error. Another would be to simply allow it, which would make it possible to call a private method from outside, by just casting to the parent class. Neither of those alternatives are acceptable, so it is not allowed.</p>
"
"<p>The data is a UTF-8 string:</p>

<pre><code>data = 'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'
</code></pre>

<p>I have tried <code>File.open(""data.bz2"", ""wb"").write(data.unpack('a*'))</code> with all kinds of variations for unpack put have had no success. I just get the string in the file not the UTF-8 encoded binary data in the string.</p>
","149392","","<pre><code>data = ""BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08""

File.open(""data.bz2"", ""wb"") do |f|
  f.write(data)
end
</code></pre>

<p><code>write</code> takes a string as an argument and you have a string. There is no need to unpack that string first. You use <code>Array#pack</code> to convert an array of e.g. numbers into a binary string which you can then write to a file. If you already have a string, you don't need to pack. You use unpack to convert such a binary string back to an array after reading it from a file (or wherever).</p>

<p>Also note that when using <code>File.open</code> without a block and without saving the File object like <code>File.open(arguments).some_method</code>, you're leaking a file handle.</p>
"
"<p>I realize that this may sound like a silly question, but the last time I programmed it was in assembler so my thinking may be off:</p>

<p>A recursive function as so:</p>

<pre><code>def fac(n):
    if n == 0:
        return 1
    else:
        return n * fac(n - 1)
</code></pre>

<p>Why is it that when the function reaches n == 0 that it does not return 1 but rather the answer which is the factorial. I am thinking something like in assembler it would be when n == 0: </p>

<pre><code>mov eax, 1
ret
</code></pre>

<p>Why does the code above work, I suppose python returns the last value on the stack before that condition ?</p>
","149392","","<p>If you call fac(0) it will return 1 (not 0, but I suppose that's just a typo in your question). If you call fac(1), it will go in the else clause, and there it will call <code>fac(0)</code>. This will return 1. It will then calculate n*1, which is 1, and return that. If you call <code>fac(2)</code> it will also go in the else clause, where it will call <code>fac(1)</code> which as mentioned above will return 1, so <code>n*fac(n-1)</code> will be 2 and that's the return value of <code>fac(2)</code>. And so on. I hope that explained it for you.</p>
"
"<p>Let's say I want to make a special case for a function that matches strings that start with the character 'Z'. I could easily do it using pattern matching by doing something like the following:</p>

<pre><code>myfunc ('Z' : restOfString) = -- do something special
myfunc s = -- do the default case here
</code></pre>

<p>But what if I want to match strings with a longer prefix? Say I want to have a special case for strings that start with the word ""toaster"". What's the best way to write a pattern to match such a string?</p>
","149392","","<pre><code>myfunc ('t' : 'o' : 'a' : 's' : 't' : 'e' : 'r' : restOfString)
</code></pre>

<p>As far as I am aware, there is no more succinct syntax than that.</p>

<p>You can of course also just check whether the string starts with toaster in a guard-clause or an <code>if</code> inside the function body.</p>
"
"<p>How is an array of string where you do not know where the array size in c#.NET?</p>

<pre><code>String[] array = new String[]; // this does not work
</code></pre>
","149392","","<p>You can't create an array without a size. You'd need to use a list for that.</p>
"
"<p>Let's use this as sample data :</p>

<pre><code>text=&lt;&lt;EOF
#if A==20
    	int b = 20;
#else
    	int c = 30;
#endif
</code></pre>

<p>And this code :</p>

<pre><code>puts text.scan(/\#.*?\#/m)
</code></pre>

<p>Why is this only capturing this:</p>

<pre>
#if A==20
    int b = 20;
#
</pre>

<p>I was expecting this to match as well:</p>

<pre>
#else
    int c = 30;
#
</pre>

<p>What do I have to modify so that it captures that as well? I used <code>/m</code> for multiline matching, but it doesn't seem to work.</p>
","149392","","<p>It doesn't match the second part, because the ""#"" before the else has already been consumed, so all that's left ist</p>

<pre><code>else
    int c = 30;
#
</code></pre>

<p>which does not match the pattern. You can fix this by using lookahead to match the second <code>#</code> without consuming it:</p>

<pre><code>text.scan(/#.*?(?=#)/m)
</code></pre>
"
"<p>More verbosely, I have a module <code>Narf</code>, which provides essential features to a range of classes. Specifically, I want to affect all classes that inherit <code>Enumerable</code>. So I <code>include Narf</code> in <code>Enumerable</code>.</p>

<p><code>Array</code> is a class that includes <code>Enumerable</code> by default. Yet, it is not affected by the late inclusion of <code>Narf</code> in the module.</p>

<p>Interestingly, classes defined after the inclusion get <code>Narf</code> from <code>Enumerable</code>.</p>

<h3>Example:</h3>

<pre><code># This module provides essential features
module Narf
  def narf?
    puts ""(from #{self.class}) ZORT!""
  end
end

# I want all Enumerables to be able to Narf
module Enumerable
  include Narf
end

# Fjord is an Enumerable defined *after* including Narf in Enumerable
class Fjord
  include Enumerable
end

p Enumerable.ancestors    # Notice that Narf *is* there
p Fjord.ancestors         # Notice that Narf *is* here too
p Array.ancestors         # But, grr, not here
# =&gt; [Enumerable, Narf]
# =&gt; [Fjord, Enumerable, Narf, Object, Kernel]
# =&gt; [Array, Enumerable, Object, Kernel]

Fjord.new.narf?   # And this will print fine
Array.new.narf?   # And this one will raise
# =&gt; (from Fjord) ZORT!
# =&gt; NoMethodError: undefined method `narf?' for []:Array
</code></pre>
","149392","","<p>There are two fixes to your problem that come to mind. None of them are really pretty:</p>

<p>a) Go through all classes that include Enumerable and make them also include Narf. Something like this:</p>

<pre><code>ObjectSpace.each(Module) do |m|
  m.send(:include, Narf) if m &lt; Enumerable
end
</code></pre>

<p>This is quite hackish though.</p>

<p>b) Add the functionality to Enumerable directly instead of its own module. This might actually be ok and it will work. This is the approach I would recommend, though it's also not perfect.</p>
"
"<p>I'm trying to start learning C++ and I have a problem.</p>

<p>I'm trying to create a function template,</p>

<pre><code>template&lt;multimap&lt;string, double&gt; arr&gt;
void calculate(string key) {
}
</code></pre>

<p>and use it like this:</p>

<pre><code>multimap&lt;string, double&gt; arr;
vector&lt;string&gt; keys;
// ...
for_each(keys.begin(), keys.end(), calculate&lt;arr&gt;);
</code></pre>

<p>But i doesnt'complile:</p>

<pre>Illegal type for non-type parameter</pre>, etc

Please, help me. How to arhive the behavior I expect? I really don't want to create a callback for every for_each, etc. (Maybe, closures have made me more lazy than it needed for C++ and I have to, but I don't want to believe)


(btw, is there a way to get a vector with keys from multimap?)

<hr />


I've tried

<pre><code>typedef multimap&lt;string, double&gt; my_map;

template&lt;my_map arr&gt;
</code></pre>

<p>still doen't work</p>
","149392","","<p>You can't use objects created at run-time as template arguments. Templates are instantiated at compile-time, so all template parameters need to be known at compile-time.</p>
"
"<p>Usually when I've had to walk a graph, I've always used depth-first search because of the lower space complexity.  I've honestly never seen a situation that calls for a breadth-first search, although my experience <em>is</em> pretty limited.</p>

<p>When does it make sense to use a breadth-first search?</p>

<p><strong>UPDATE</strong>:  I suppose my answer <a href=""http://stackoverflow.com/questions/1655162/how-do-i-partition-a-bipartite-graph-by-color/1657167#1657167"">here</a> shows a situation where I've used a BFS (because I thought was a DFS).  I'm still curious to know though, why it was useful in this case.</p>
","149392","","<p>When you want to reach a node by traversing as few edges as possible, i.e. when you want to find the shortest path in an unweighted graph.</p>

<p>Also the space complexity of a depth first search can be higher than that of a breadth first search when e.g. each node has only one child node, i.e. when the graph is deep but not very broad.</p>
"
"<p>This is really racking my brain, but maybe I'm trying to hard.</p>

<p>I'm passing a param via a URL (example.com?debug=true)</p>

<p>So I basically want to say:</p>

<pre><code>if params[:debug] == true
 do xyz
else
 do abc
end
</code></pre>

<p>But for whatever reason that if statement just isn't doing like it seems like it should.</p>

<p>Is there a better way to do that if/else statement based on a param being true or false?</p>

<p>The debug param will either have a value of true, no value, or a value of false (as far as the URL goes).</p>
","149392","","<p>params come in as strings, so you need to compare against <code>""true""</code>, not <code>true</code>.</p>
"
"<p>How to convert a list to a string in <a href=""http://en.wikipedia.org/wiki/Oz_%28programming_language%29"" rel=""nofollow"">Oz</a>? </p>

<p>I have a list of characters I need to convert to a string and I didn't see any concatenation operator in the Oz documentation.</p>
","149392","","<p>A list of characters <em>is</em> a string in oz. <code>[102 111 111]</code> is the same as <code>""foo""</code>.</p>
"
"<p>I'm probably trying to be hard headed about this. I'm trying to format hash key and and array of values for output to user. Ruby-doc give me the code for it for one value. <a href=""http://www.ruby-doc.org/core/classes/Hash.html#M002861"" rel=""nofollow"">http://www.ruby-doc.org/core/classes/Hash.html#M002861</a></p>

<pre><code>h = { ""a"" =&gt; 100, ""b"" =&gt; 200 }
h.each {|key, value| puts ""#{key} is #{value}"" }
</code></pre>

<p>I'm trying to get </p>

<pre><code>h = { ""a"" =&gt; [100,'green'], ""b"" =&gt; [200,'red'] }
h.each {|key, m,n| puts ""#{key} is #{m} and #{n}""}  

produces: 

a is 100 and green
b is 200 and red
</code></pre>

<p>I've had some luck with 
    h.each{|key,m,n| puts ""#{key} is #{[m,'n']} ""}</p>

<pre><code>it produces:

a is 100green
b is 200red
</code></pre>

<p>I need some space between my array of elements, how do I go about doing that?</p>
","149392","","<pre><code>h.each {|key, (m, n)| puts ""#{key} is #{m} and #{n}""}
</code></pre>
"
"<p>I'm trying to do an <code>instance_eval</code> followed by a <code>attr_accessor</code> inside <code>initialize</code>, and I keep getting this: <code>`initialize': undefined method 'attr_accessor'</code>. Why isn't this working?</p>

<p>The code looks kind of like this:</p>

<pre><code>class MyClass
   def initialize(*args)
      instance_eval ""attr_accessor :#{sym}""
   end
end
</code></pre>
","149392","","<p>You can't call attr_accessor on the instance, because attr_accessor is not defined as an instance method of MyClass. It's only available on modules and classes. I suspect you want to call attr_accessor on the instance's metaclass, like this:</p>

<pre><code>class MyClass
  def initialize(varname)
    class &lt;&lt;self
      self
    end.class_eval do
      attr_accessor varname
    end
  end
end

o1 = MyClass.new(:foo)
o2 = MyClass.new(:bar)
o1.foo = ""foo"" # works
o2.bar = ""bar"" # works
o2.foo = ""baz"" # does not work
</code></pre>
"
"<pre><code>int i = 0;
int min = x[i];
while ( i &lt; n ){
	if ( x[i] &lt; min ){
		min = x[i];
	}
	i++;
}
return min;
</code></pre>

<p>I've written the iterative form to find the min number of an array. But I'd like to write a function that with recursion. Please help!</p>
","149392","","<p>The minimum number of a single-element array is the one element in the array.</p>

<p>The minimum number of an array with size > 1 is the minimum of the first element and the minimum of the rest of the array.</p>

<p>(The minimum number of an empty array is not defined.)</p>
"
"<p>I have an array:</p>

<pre><code>[0, 0, 0, 0, 0, 0, 0, 1, 2, 3]
</code></pre>

<p>I need to figure out index of the minimal element which is <strong>not zero</strong>. How do I do that?</p>
","149392","","<p>For ruby 1.8.7+:</p>

<pre><code>&gt;&gt; [0,0,2,0,1,3].each_with_index.reject {|(e, i)| e == 0}
=&gt; [[2, 2], [1, 4], [3, 5]]
&gt;&gt; [0,0,2,0,1,3].each_with_index.reject {|(e, i)| e == 0}.min
=&gt; [1, 4]
&gt;&gt; [0,0,2,0,1,3].each_with_index.reject {|(e, i)| e == 0}.min[1]
=&gt; 4
</code></pre>

<p>For ruby 1.8.6:</p>

<pre><code>a.zip((0...a.size).to_a).reject {|(e, i)| e == 0}.min[1]
</code></pre>

<p>(solution by chuck)</p>
"
"<p>I'm trying to add, say, x to every element of a list.
For example:</p>

<pre><code>(queue 3 '(1 2 3))
</code></pre>

<p>would give</p>

<pre><code>((3 1) (3 2) (3 3))
</code></pre>

<p>The code below apparently does not do what I want. 
Any hints please?</p>

<pre><code>(defun queue(x y)
 (cond
  ((null y) nil)
  (t (cons x (queue x (rest y))))))
</code></pre>
","149392","","<p>You're prepending x to to the result of applying queue to the rest of y, without using y's first element at all. So basically you're throwing away all values of y and replacing them with x.</p>

<p>You want to do <code>(cons (list x (first y)) (queue x (rest y))))))</code> instead.</p>

<p>You could of course just use map to do this, but I assume this is an exercise in recursion.</p>
"
"<p>What's the meaning of an object's hash value? And in which case does two object has the same hash value?? Also it is said that Array|Hash can't be Hash keys, this has something to do with object's hash value, why?</p>
","149392","","<p>For objects to be stored in hashmaps or hashsets the following must hold true:</p>

<p>If two objects are considered equal, their hash value must also be equal.</p>

<p>If two objects are not considered equal, their hash value should be likely to be different (the more often two different objects have the same hash value, the worse the performance of operations on the hashmap/set).</p>

<p>So if two objects have the same hash value there is a good chance (but no guarantee) that they are equal.</p>

<p>What exactly ""equal"" means in the above is up to the implementor of the hash method. However you should always implement <code>eql?</code> to use the same definition of equality as hash.</p>

<p>For classes that don't override hash (i.e. classes using Object's hash implementation) hash equality is defined in terms of object identity. I.e. two objects are considered equal if and only if the reside at the same location in memory.</p>

<p>In ruby up to 1.8.6 Array and Hash did not override <code>hash</code>. So if you used arrays (or hashes) as hash keys, you could only retrieve the value for a key, if you used the exact same array as a key for retrieval (not an array with the same contents).</p>

<p>In ruby 1.8.7+ <code>Array#hash</code> and <code>Hash#hash</code> (as well as their <code>eql?</code> methods) are defined so that they are equal when their elements are equal.</p>
"
"<p>I'm trying to convert an all-uppercase string in Ruby into a lower case one, but with each word's first character being upper case. Example:</p>

<p>convert ""MY STRING HERE"" to ""My String Here"". </p>

<p>I know I can use the .downcase method, but that would make everything lower case (""my string here""). I'm scanning all lines in a file and doing this change, so is there a regular expression I can use through ruby to achieve this?</p>

<p>Thanks!</p>
","149392","","<pre><code>""HELLO WORLD HOW ARE YOU"".gsub(/\w+/) do |word|
  word.capitalize
end
#=&gt; ""Hello World How Are You""
</code></pre>
"
"<p>I just read this answer <a href=""http://stackoverflow.com/questions/1791639/regular-expression-in-ruby-to-convert-uppercase-title-into-lowercase/1792102#1792102"">http://stackoverflow.com/questions/1791639/regular-expression-in-ruby-to-convert-uppercase-title-into-lowercase/1792102#1792102</a>.</p>

<p>There is the following line of code</p>

<pre><code>""abc"".split(/(\W)/).map(&amp;:capitalize).join
</code></pre>

<p>What exactly is <code>&amp;:capitalize</code>? Before I had put this into irb myself, I would have told you, it's not valid ruby syntax. It must be some kind of <code>Proc</code> object, because <code>Array#map</code> normaly takes a block. But it isn't. If I put it into irb alone, I get <code>syntax error, unexpected tAMPER</code>. Please enlighten me.</p>
","149392","","<p><code>foo(&amp;a_proc_object)</code> turns <code>a_proc_object</code> into a block and calls foo with that block.</p>

<p><code>foo(&amp;not_a_proc_object)</code> calls <code>to_proc</code> on <code>not_a_proc_object</code> and then turns the proc object returned by <code>to_proc</code> into a block and calls foo with that block.</p>

<p>In ruby 1.8.7+ and active support <code>Symbol#to_proc</code> is defined to return a proc which calls the method named by the symbol on the argument to the proc.</p>
"
"<p>I am learning Ruby. My background is C++/Java/C#. Overall, I like the language, but I am a little confused about why there are so many different ways to accomplish the same thing, each with their own slightly different semantics.</p>

<p>Take string creation, for example. I can use '', """", q%, Q%, or just % to create strings. Some forms support interpolation. Other forms allow me to specify the string delimiters.</p>

<p>Why are there five ways to create string literals? Why would I ever use non-interpolated strings? What advantage does the % syntax have over quoted literals?</p>

<p>I know there must be value in the redundency in Ruby, but my untrained eyes are not clearly seeing it. Please enlighten me.</p>
","149392","","<p>You would use non-interpolated strings if your string contains a lot of special characters (like backslashes, <code>#{}</code> etc.) and you don't want to escape all of them.</p>

<p>You'd use different delimiters if your string contains a lot of quotes that you'd otherwise have to escape.</p>

<p>You'd use heredocs if your strings has a lot of lines which would make normal string syntax look unwieldy.</p>
"
"<p>How I can get from a module the Class name of the class the module is included ?</p>

<pre><code>module ActMethods
  def some_method(*attr_names)
    cls = self.class # this doesn't work 
  end
end
</code></pre>

<p>How I can get into the cls variable the name of the class to with this module is loaded ?</p>
","149392","","<p><code>self.class</code> does get you the class of the object the method is called on. Assuming the module was included into a class, this either is the class that included the module or a subclass thereof. If you really just want the name, you can use <code>self.class.name</code> instead.</p>

<p>If you extended a class with the module and you want to get that class, you can just do <code>cls = self</code> (or <code>cls = name</code> if you want the name of the class as a string).</p>

<p>If none of the above helps, you should clarify what you want.</p>
"
"<p>I have this code to split a string into groups of 3 bytes:</p>

<pre><code>str=""hello""
ix=0, iy=0
bytes=[]
tby=[]
str.each_byte do |c|
    if iy==3 
    	iy=0
    	bytes[ix]=[]
    	tby.each_index do |i|
    		bytes[ix][i]=tby[i]
    	end
    	ix+=1
    end
    tby[iy]=c
    iy+=1
end
puts bytes
</code></pre>

<p>I've based it on this example: <a href=""http://www.ruby-forum.com/topic/75570"" rel=""nofollow"">http://www.ruby-forum.com/topic/75570</a></p>

<p>However I'm getting type errors from it. Thanks.</p>
","149392","","<p><code>ix = 0, iy = 0</code> translates to <code>ix = [0, (iy = 0)]</code>, which is why you get a type error.</p>

<p>However there is a less ""procedural"" way to do what you want to do:</p>

<p>For ruby 1.8.7+:</p>

<pre><code>""hello world"".each_byte.each_slice(3).to_a
#=&gt; [[104, 101, 108], [108, 111, 32], [119, 111, 114], [108, 100]]
</code></pre>

<p>For ruby 1.8.6:</p>

<pre><code>require 'enumerator'
""hello world"".enum_for(:each_byte).enum_for(:each_slice, 3).to_a
</code></pre>
"
"<p>I'd like to have my array items scrambled.
Something like this:</p>

<pre><code>[1,2,3,4].scramble =&gt; [2,1,3,4]
[1,2,3,4].scramble =&gt; [3,1,2,4]
[1,2,3,4].scramble =&gt; [4,2,3,1]
</code></pre>

<p>and so on, randomly</p>
","149392","","<p>For ruby 1.8.6 (which does not have shuffle built in):</p>

<pre><code>array.sort_by { rand }
</code></pre>
"
"<p>I am trying to return the index's to all occurrences of a specific character in a string using Ruby. A example string is <code>""a#asg#sdfg#d##""</code> and the expected return is <code>[1,5,10,12,13]</code> when seaching for <code>#</code> characters. The following code does the job but there must be a simpler way of doing this?</p>

<pre><code>def occurances (line)

  index = 0
  all_index = []

  line.each_byte do |x|
    if x == '#'[0] then
      all_index &lt;&lt; index
    end
    index += 1
  end

  all_index
end
</code></pre>
","149392","","<pre><code>require 'enumerator' # Needed in 1.8.6 only
""1#3#a#"".enum_for(:scan,/#/).map { Regexp.last_match.begin(0) }
#=&gt; [1, 3, 5]
</code></pre>

<p>ETA: This works by creating an Enumerator that uses <code>scan(/#/)</code> as its each method.</p>

<p>scan yields each occurence of the specified pattern (in this case <code>/#/</code>) and inside the block you can call Regexp.last_match to access the MatchData object for the match. </p>

<p><code>MatchData#begin(0)</code> returns the index where the match begins and since we used map on the enumerator, we get an array of those indices back.</p>
"
"<p>Ok, so I wanted to create a hash which has an empty hash as the default value. A bit weird, I know, but let's say that I thought it might be useful.</p>

<p>So here's what I did:</p>

<pre><code>&gt;&gt; a = Hash.new({})
=&gt; {}
&gt;&gt; a[:a][:b] = 5
=&gt; 5
&gt;&gt; a
=&gt; {}
&gt;&gt; a[:a]
=&gt; {:b=&gt;5}
&gt;&gt; a.keys
=&gt; []
&gt;&gt; a.size
=&gt; 0
&gt;&gt; a[:a].size
=&gt; 1
</code></pre>

<p>In other words, I don't see hash member when I inspect the hash, but I can access it by its key.</p>

<p>Is this expected behavior? What is going on here?</p>

<p>BTW, this is Ruby 1.9.1, haven't tried earlier versions.</p>

<p>Edit: simplified example as it doesn't have to be a hash of hashes of hashes...</p>
","149392","","<p>It is expected behaviour (across all ruby versions). And if you experiment a bit further, you'll see that you always access the same hash, no matter which key you use:</p>

<pre><code>&gt;&gt; a[:a][:b] = 1
=&gt; 1
&gt;&gt; a[:c][:d] = 2
=&gt; 2
&gt;&gt; a[:d]
=&gt; {:b=&gt;1, :d=&gt;2}
</code></pre>

<p>The way Hash.new with a default argument works is: If you do <code>hash[key]</code> it checks whether that key exists in the hash. If it does, it returns the value for that key. If not it returns the default value. It does not add the key to the hash and it will return the same default object (not a copy) every time.</p>

<p>To get what you want, you want to specify a default block instead. That way, the block will be executed every time you access a key that is not in the hash. Inside the block you can create a new Hash and set the key to ""point"" to that hash. Like so:</p>

<pre><code>Hash.new { |h,k|  h[k] = {} }
</code></pre>
"
"<p>I am trying to get a grasp on pointers and their awesomeness as well as a better C++ understanding. I don't know why this wont compile. Please tell me what is wrong? I'm trying to initialize the pointer when an instance of the class is created. If I try with a normal int it works fine but when I tried to set it up with a pointer i get this in the console </p>

<blockquote>
  <p>Running… </p>
  
  <p>Constructor called  </p>
  
  <p>Program received signal:  “EXC_BAD_ACCESS”.</p>
  
  <p>sharedlibrary apply-load-rules all</p>
</blockquote>

<p>Any assistance is appreciated greatly. </p>

<p>Here is the code</p>

<pre><code>#include &lt;iostream&gt; 
using namespace std;
class Agents
{
public:
    Agents();
    ~Agents();
    int getTenure();
    void setTenure(int tenure);
private:
    int * itsTenure;
};
Agents::Agents()
{
    cout &lt;&lt; ""Constructor called \n"";
    *itsTenure = 0;
}
Agents::~Agents()
{
    cout &lt;&lt; ""Destructor called \n"";
}
int Agents::getTenure()
{
    return *itsTenure;
}
void Agents::setTenure(int tenure)
{
    *itsTenure = tenure;
}
int main()
{
    Agents wilson;
    cout &lt;&lt; ""This employees been here "" &lt;&lt; wilson.getTenure() &lt;&lt; "" years.\n"";
    wilson.setTenure(5);
    cout &lt;&lt; ""My mistake they have been here "" &lt;&lt; wilson.getTenure() &lt;&lt;
             "" years. Yep the class worked with pointers.\n"";
    return 0;
}
</code></pre>
","149392","","<p><code>*itsTenure = 0</code> does not initialize the pointer. It writes 0 to the location that itsTenure points to. Since you never specified where itsTenure points to, that might be anywhere and the behaviour is undefined (an access violation like you're getting being the most likely result).</p>
"
"<p>I just want to know what the difference between all the conditional statements in objective-c and which one is faster and lighter.</p>
","149392","","<p>while isn't a conditional it is a loop. The difference being that the body of a while-loop can be executed many times, the body of a conditional will only be executed once or not at all.</p>

<p>The difference between if and switch is that if accepts an arbitrary expression as the condition and switch just takes values to compare against. Basically if you have a construct like <code>if(x==0) {} else if(x==1) {} else if(x==2) ...</code>, it can be written much more concisely (and effectively) by using switch.</p>
"
"<p>I'm new to Ruby so forgive me if this is something obvious..</p>

<p>I've made a class like so</p>

<pre><code>class Element
  attr_accessor :type
  :type_integer
  :type_string
end
</code></pre>

<p>(this is really just an example, not actual code)</p>

<p>Well, I've read <a href=""http://stackoverflow.com/questions/75759/enums-in-ruby"">http://stackoverflow.com/questions/75759/enums-in-ruby</a> and I'd prefer to go the Symbols route of having something like enumerations in other languages. I have a problem though, how can I keep my global scope clear while implementing this. What I'm wanting to be able to do is something like</p>

<pre><code>e=Element.new
e.type=Element.type_integer
</code></pre>

<p>or something pretty simple and straight forward like that. </p>
","149392","","<p>Symbols don't do anything to the global (or any other) scope (i.e. no variables or constants or anything else gets defined when you use symbols), so I guess the answer is: just use symbols and the global scope will be kept clear.</p>

<p>If you want to use <code>e.type=Element.type_integer</code>, while still using symbols, you could do:</p>

<pre><code>class Element
  def self.type_integer
    :type_integer
  end
end
</code></pre>

<p>Although I fail to see the upside vs. just using <code>e.type = :type_integer</code> directly.</p>
"
"<p>I just wondered whether there is any good reason for or even an advantage in having to invoke <code>Proc</code>s using <code>proc.call(args)</code> in Ruby, which makes higher-order function syntax much more verbose and less intuitive.</p>

<p>Why not just <code>proc(args)</code>? Why draw a distinction between functions, lambdas and blocks? Basically, it's all the same thing so why this confusing syntax? Or is there any point for it I don't realize?</p>
","149392","","<p>In ruby you can have a local variable and a method that are both named foo. Assuming the method is private, the only way to call it would be <code>foo(args)</code> (<code>self.foo(args)</code> would not work for private methods which can't have an explicit receiver). If ruby would allow to overload the () operator, so that the foo in <code>foo(bar)</code> can be a variable, there would be no way to call the private method foo, when there is also a local variable named foo.</p>

<p>Note that with features like <code>define_method</code> and <code>method_missing</code>, it is not always possible to avoid situations where you have methods and local variables of the same name.</p>
"
"<p>I'm trying to figure out the answer to this question with the following code, but it turns out, the value of the pointer (address of problem3 turned out to be so far away from the parameter and local variables of the function) where the hell is <code>x = problem3;</code> pointing to...</p>

<pre><code>void problem3(int a) {
    int overflowme[16];
    int x = problem3; 
    overflowme[15] = 102;
    printf("" the address of  x is %x\n the addres of the first local is %x\n the addres of the first para is %x\n "", x, &amp;overflowme[15], &amp;a);
}

int main(void) {
    problem3(101);
}

OUTPUT
 the address of  x is 42b613
 the addres of the first local is 12fed8
 the addres of the first para is 12fee4
 Press any key to continue . . .
</code></pre>
","149392","","<blockquote>
  <p>Can you explain why we are allowed to assign x = (int) problem3 in the above code</p>
</blockquote>

<p>Because problem3 is a function pointer (i.e. the memory address of a function) and all pointers can be cast to integers.</p>

<blockquote>
  <p>aren't we assigning ""hello world"" to x?</p>
</blockquote>

<p>No. However you could do that, if you wanted to (by doing <code>x = (int) ""hello world"";</code>) because ""hello world"" is also a pointer (a char pointer to be precise), so the above applies.</p>
"
"<p>While studying the book ""Introduction to Algorithms by Cormen"", I found a strange thing. Everywhere if it refers to an increasing order, the book refers it as ""non-decreasing"" order.. I mean, if a series (2,5,6,3) is to be arranged in ""non-decreasing"" order.. is'nt it already right?? or ""increasing"" and ""non-decreasing"" words mean one and the same? </p>
","149392","","<p>Increasing means that every element is greater than the one before it. Non-decreasing means that no element is less than the element before it, or in other words: that every element is greater than <em>or equal to</em> the one before it.</p>
"
"<p>So I'm reading <a href=""http://learnyouahaskell.com/starting-out"" rel=""nofollow"">http://learnyouahaskell.com/starting-out</a> as it explains lists, and using ghci on Vista 64. It says that [2,4..20] steps by 2 from 4 to 20. This works. It says [20,19..1] goes from 20 to 1, but doesn't explain. I take it that the first number is NOT the step, the step is the difference between the 1st and 2nd number. This is confirmed by [4,4..20] which hangs (no error message, must kill console). This is unlike operators like !! and <code>take</code> which check the index's range and give an error message.</p>

<p>My question is: is this a bug on Vista port or is that the way it's supposed to be?</p>
","149392","","<p><code>[x,y..z]</code> does indeed step from x to z by step <code>y-x</code>. When <code>y-x</code> is 0 this leads to an infinite list. This is intended behavior.</p>

<p>Note that if you use the list in an expression like <code>take 20 [2,2..20]</code>, ghci won't try to print the whole list (which is impossible with infinite lists of course) and it won't ""hang"".</p>
"
"<p>Hi I have a strange situation here:</p>

<pre><code># Is there a semantic difference between these 2 in ruby?


class MyClass &lt; ClassThatExtendsActiveRecordBase

...

# code snippet A:

  def image_width(size); self.image.width(size); end

# vs code snippet B

  def image_width(size)
    self.image.width(size)
  end

end
</code></pre>

<p>I have a situation where code snippet A didn't appear to be recognised as a function 
but when I modify A by substituting semicolons with return chars to produce B the methods are recognised (this is ruby 1.8.7)</p>

<p>Is anyone able to help me understand what is happening that this occurs? </p>
","149392","","<p>There are certain cases in which newlines are simply ignored. For example</p>

<pre><code>1 + 
2
</code></pre>

<p>is the same as <code>1 + 2</code>. In those cases using a semicolon is not equivalent as it would result in a syntax error. In all other cases it is equivalent.</p>
"
"<p>Ok, so everyone knows that capitalised identifiers are seen to be ‘constant’ in Ruby.</p>

<p>However, it is possible to assign a new value to constants, so the following works</p>

<pre><code>class A
  def self.hi; ""hi""; end
end
class B
  def self.hi; ""ho""; end
end
A.hi # =&gt; ""hi""
B.hi # =&gt; ""ho""
A = B
#  warning: already initialized constant A
# =&gt; B
A.hi # =&gt; ""ho""
</code></pre>

<p>and also does assigning to a lowercase identifier work:</p>

<pre><code>a = B
a.hi # =&gt; ""ho""
</code></pre>

<p>However, the internal name is set to ‘B’ in all cases and the new identifier names are also only referencing ‘B’.</p>

<p>But if it’s technically okay for the identifier to have a lowercase name, why is this restriction on the internal name for the class? It can’t be that it needs to be constant, because it isn’t constant; so the other reason could be that lowercase identifiers have a different scope. But then: why not having a class with lowercase scope?</p>

<p>I’m wondering because the parser even allows for method names in unicode and such, so it seems strange that for classes it’s so much more restricted.</p>
","149392","","<p>As you said, the name of a class is that of the first constant it has been assigned to. You can only use constants with the <code>class</code> keyword because it has been decided that the <code>class</code> keyword should only be used to create named classes.</p>

<p>The rationale probably being that allowing local variables would confuse uses, who would use <code>class lowercase_class_name</code>, not knowing the difference between lower case and upper case identifiers and then wonder why the classname was not visible everywhere (i.e. why <code>def foo() lowercase_class_name.new end</code> did not work).</p>

<p>By making the default way to create classes specific to constants, classes defined this way will be visible everywhere and there is at least a suggestion that the value associated with that name should not change (i.e. you get a warning otherwise).</p>

<p>People who know what they're doing can still do <code>local_variable = Class.new { ... }</code> if they need to.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/131241/why-use-iterators-instead-of-array-indices"">Why use iterators instead of array indices?</a>  </p>
</blockquote>



<pre><code>string::iterator it;
for (it = str.begin(); it &lt; str.end(); it++) 
    cout &lt;&lt; *it;
cout &lt;&lt; endl;
</code></pre>

<p>Why not:</p>

<pre><code>for (int i = 0; i &lt; str.size(); i++)
    cout &lt;&lt; str[i];
cout &lt;&lt; endl;
</code></pre>

<p>It seems that string::iterator does not provide range check either. Why should we use <code>string::iterator</code> rather than index?</p>

<p>Thanks.</p>
","149392","","<p>In cases where you don't know which class you're iterating over (because it's a template argument), you should use an iterator because not every class that provides an iterator also provides <code>[]</code> (and not every class that does provide <code>[]</code>, provides one which works in O(1) time). So by using iterator you'll make sure that the function will work with as many classes as possible (though not with C arrays).</p>

<p>In this specific case, I see no reason to prefer one over the other except personal preference or maybe premature optimization.</p>
"
"<p>I have a background from languages which use {} to say that these are ""block of statements"" but i am learning ruby and really confused how it being done there.</p>

<p>So lets say in C i have</p>

<pre><code>if ( condition )
{
  statement1;
  statement2;
}
else if (condition)
{
  statement1;
  statement2;

// nested if
       if (condition)
       {
          dosomethinghere;
       }
    }
    else
    {
      statement1;
      statement2;
    }
</code></pre>

<p>How i can put this code in ruby? and also mention how to understand synomenous of ""{}"" in ruby, thanks.</p>
","149392","","<p>The ruby syntax for if is:</p>

<p>if condition
  body
else
  alternativa body
end</p>

<p>Or</p>

<p>if condition then body else alternative body end</p>

<p>It's the same for while loops except with <code>do</code> instead of <code>then</code>.</p>

<p><code>{</code> and <code>}</code> are used to pass anonymous functions (confusingly called ""blocks"" in ruby) as arguments to methods.</p>
"
"<p>I have come across a problem while writing a fairly simple program. I have a statically allocated vector as a global variable and in a function I'm trying to change the values of the elements and that is when the program stops and says segmentation fault. The code is something like this:</p>

<pre><code>int a[10] = {0,0,0,0,0,0,0,0,0,0};

...

int bla(int i){
  ...

  a[i] = a[i] + i%3; //segmentation fault at this line

  ...
}
</code></pre>

<p>In the main function I have a ""for"" in which i takes values from 0 to 9.</p>
","149392","","<p>You're probably calling bla with an <code>i &gt;= 10</code> (or &lt; 0) as the argument.</p>
"
"<p>I'm looking for a container that provides <em>fastest unordered iterations</em> through the encapsulated elements.  In other words, ""add once, iterate many times"".</p>

<p>Is there one among OCaml's standard modules that is fast enough (such that further optimization of it would be useless)?  Or some kind of third-party GPL-ready ones?</p>

<p>AFAIK there's just one OCaml compiler, so the concept of being fast is more or less clear...</p>

<p>...But after I saw a couple of answers, it appears, it's not.  Of course, there's a plenty of data structures that allow O(n) iteration through container of size n.  But the task I'm solving is one of those, where difference between O(n) and O(2n) matters ;-).</p>

<p>I also see that <em>Arrays and Lists provide unnecessary information about the order of elements added</em>, which I don't need.  Maybe in ""functional world"" there exists data structures such that can trade this information for a bit of iteration speed.</p>

<p>In C I would outright pick a plain array.  The question is, what should I pick in OCaml?</p>
","149392","","<p>All common data structures are iterable in O(n) time, so the differences between data structures will only be constant (and very probably not significant).</p>

<p>At least lists and arrays allow iteration without significant overhead. I can't think of a situation where that would not be fast enough.</p>
"
"<p>I am using the following code to compare strings but it always takes me to the <code>else</code>. Why? </p>

<pre><code>print(""Enter your state abbreviation: "")
state_abbreviation = gets
if state_abbreviation.upcase == ""NC""
  puts(""North Carolina"")
elsif state_abbreviation.upcase == ""SC""
  puts(""Sourth Carolina"")
elsif state_abbreviation.upcase == ""GA""
  puts(""Georgia"")
elsif state_abbreviation.upcase == ""FL""
  puts(""Florida"")
elsif state_abbreviation.upcase == ""AL""
  puts(""Alabama"")
else
  puts(""You have enter wrong abbreviation"")
end
</code></pre>

<p>I also have tried <code>.eql?(""string"")</code> but I get the same result.</p>
","149392","","<p>The string returned by gets will have a linebreak at the end. Use <code>String#chomp</code> to remove it (i.e. <code>state_abbreviation = gets.chomp</code>).</p>

<p>PS: Your code would look much cleaner (IMHO) if you used case-when instead of if-elsif-elsif.</p>
"
"<p>How do you solve the max value problem when using an integer counter, that looks like</p>

<pre><code>counter = counter + 1;
</code></pre>

<p>When this reaches the max value, how do you know this happened? Do you add another counter for this counting how often this happened?</p>

<p>My question concerns about java.</p>
","149392","","<p>Having one int as a counter and another int to count the overflows gives you the same range as a long (less, actually as ints are signed, which is one wasted bit for the overflow counter).</p>

<p>You may want to use BigIntegers if you expect the counter to overflow.</p>
"
"<p>I need a Class which has an semi-automatic 'to_s' method (to generate XML in fact).
I would like to iterate through all the automatic methods set up in my 'attr_accessor' line:</p>

<pre><code>class MyClass
    attr_accessor :id,:a,:b,:c
end

c=MyClass.new
</code></pre>

<p>So far I'm doing a basic:</p>

<pre><code>c.methods - Object.methods

=&gt; [""b"", ""b="", ""c"", ""c="", ""id="", ""a"", ""a=""]
</code></pre>

<p>I am facing a few challenges:</p>

<ol>
<li>'id' may cause a slight headache - as Object already seems to have an 'id'.</li>
<li>The 'c.methods' call above, returns Strings - I'm not getting any other meta-data ? (In Java 'method' is an object, where I could perform further reflection).</li>
<li>I have one-to-many relationships I have to deal with ('c' is an array type of other object types).</li>
</ol>

<p>This is what I'm trying to do:  I want to design a simple Object which has a 'to_s' which will build up an XML fragment: for instance.</p>

<pre><code>&lt;id&gt; 1 &lt;/id&gt;
&lt;a&gt; Title &lt;/a&gt;
&lt;b&gt; Stuff &lt;/b&gt;
&lt;c&gt;
    &lt;x-from-other-object&gt;
    &lt;x-from-other-object&gt;
    ....
&lt;/c&gt;
</code></pre>

<p>And then inherit my data-classes from that simple object: so that (hopefully) I get a mechansim to build up an entire XML doc.</p>

<p>I'm sure I'm re-inventing the wheel here as well...so other tried-and-tested approaches welcome.</p>
","149392","","<p>To get method objects from a string, you can use the methods <code>method</code> or <code>instance_method</code> (where <code>method</code> would be called on an object and <code>instance_method</code> on a class). The only interesting information it gives you is arity, though (as opposed to java where it'd also give you the types of the return value and the arguments, which of course isn't possible in ruby).</p>

<p>You're title suggests that you only want to iterate over methods created by <code>attr_accessor</code>, but your code will iterate over every method defined in your class, which could become a problem if you wanted to add additional non-accessor methods to your class.</p>

<p>To get rid of that problem and the problem with <code>id</code>, you could use your own wrapper around <code>attr_accessor</code> which stores which variables it created accessors for, like so:</p>

<pre><code>module MyAccessor
  def my_attr_accessor *attrs
    @attrs ||= []
    @attrs &lt;&lt; attrs
    attr_accessor *attrs
  end

  def attrs
    @attrs
  end
end

class MyClass
  extend MyAccessor
  my_attr_accessor :id,:a,:b,:c

  def to_s
    MyClass.attrs.each do |attr|
      do_something_with(attr, send(attr))
    end
  end
end
</code></pre>

<p>For problem 3 you can just do</p>

<pre><code>if item.is_a? Array
  do_something
else
  do_something_else
end
</code></pre>
"
"<p>I'm trying to figure out how to dynamically create methods</p>

<pre><code>class MyClass
  def initialize(dynamic_methods)
    @arr = Array.new(dynamic_methods)
    @arr.each { |m|
      self.class.class_eval do
        def m(*value) 
          puts value
        end
      end
    }
    end
end

tmp = MyClass.new ['method1', 'method2', 'method3']
</code></pre>

<p>Unfortunately this only creates the method m but I need to create methods based on the value of m, ideas? </p>
","149392","","<pre><code>define_method(m) do |*values|
  puts value
end
</code></pre>
"
"<p>I was trying to solve a problem, but found a different solution.
however out of curiosity like to know if the following is possible:</p>

<pre><code>template&lt; class &gt; struct S;
template&lt; &gt; struct S&lt; Foo &gt; : struct&lt; Foo &gt; {};
</code></pre>

<p>I would like to be able to inherit nonspecialized struct from specialized struct.the example above does not work because the inherited struct is the specialized, leading to the infinite recursion.</p>

<p>One possible solution was to add second template parameter, say bool specialized, such that the default is false, and specialized template has that parameter is true.however that makes things a bit messy since instantiation needs to specify additional parameter.</p>

<p>Is there some other way around to implement the above?</p>

<p>the original problem was to implement matrix of matrixes, where matrix itself may have additional operators, depending if the constituent matrixes has those operators.I would hope that makes sense. at the same time different specialized matrix need to be of the same  base class at the same time retaining the same name, although with different template parameters. I have thought there might be a way to do it using enable_if and type traits</p>
","149392","","<blockquote>
  <p>One possible solution was to add second template parameter, say bool specialized, such that the default is false, and specialized template has that parameter is true.however that makes things a bit messy since instantiation needs to specify additional parameter.</p>
</blockquote>

<p>You can do <code>template&lt;class Foo, bool flag = false&gt;</code>, so the second parameter is optional.</p>
"
"<p>First let me say I come from a background in Flash/AS3, which I realize is not as strict about most things as iPhone/Objective-C.</p>

<p>I suspect my question actually applies to AS3 as well, but let me ask it as pertaining to Obj-c. Why is the error EXC_BAD_ACCESS, and others like it, so unhelpful? I realize that it normally means mismanagement of memory somewhere, but why can't it tell you more about the problem. For instance why doesn't it say ""EXC_BAD_ACCESS, you tried to pass pointer suchAndSuch on line 123, however you're an idiot, because you released it on line 69 so it's not available anymore""?</p>

<p>I realize I can use the debugger to get more clues about where my error occurred, but many times this is only marginally helpful. For instance sometimes none of the messages in the stack/thread/whatever are even my code. Other times it is my code but on the top of the stack will be a message that has 4+ parameters, ok thanks debugger you narrowed it down to 4 possible pointers by why can't you just tell me which one!?</p>

<p>I'm guessing there's just some fundamental explanation that I missed because of the background I came from, not needing to worry about memory and such. Although there is an error that can happen a lot in AS3 development that is equally mysterious and along the same lines. ""Error #1009: Cannot access a property or method of a null object reference"" which almost always means a variable you were expecting to be holding something is actually null. Why doesn't it tell me WHICH variable?!</p>
","149392","","<blockquote>
  <p>why can't it tell you more about the problem.</p>
</blockquote>

<p>Because it doesn't have more information than that. Of course it could just keep track of all kinds of debug information, but that would slow the program down.</p>
"
"<p>Take a look at these three classes.
Minatchi allows itself to be extended so that its methods' returning type could be extended as well. To illustrate, I used a static method.</p>

<pre><code>public class Minatchi&lt;T extends Minatchi&lt;?&gt;&gt;{

  static public &lt;T extends Minatchi&lt;?&gt;&gt;
    List&lt;T&gt; listAll(){
      return
        (List&lt;T&gt;) query();
  }
}
</code></pre>

<p>And so I subclass Minatchi into Lady</p>

<pre><code>public class Lady
extends Minatchi&lt;Lady&gt;{

}
</code></pre>

<p>This is where the questionable behaviour takes place.</p>

<pre><code>public class HelloMinatchi{

  private void listA(){
    List&lt;Lady&gt; uvs = Lady.listAll();
    for (Lady uv: uvs){
      logger.info(uv.getName() );
    }
  }

  private void listB(){
    for (Lady uv: Lady.listAll()){
      logger.info(uv.getName() );
    }
  }
}
</code></pre>

<p>Methods listA and listB are essentially the same.
listA places the list into an intermediate variable uvs,
whereas listB directly places listAll into the for-loop header.</p>

<p>However, for listB, the compiler complains Cannot convert Minatchi&lt;?> to Lady.</p>

<p>So this question is about the design integrity of Java generics. Yet another generics gripe.</p>

<p>Is this a deliberate design feature or an unintentional design bug that Java generics designers did not know how to solve. If deliberate, why did they do that? If bug, are they planning to solve it?</p>

<p>Or is this my personal problem that I do not know a better way to declare the generics? If so, tell me how.</p>

<p>(I used a generic Minatchi class because I have non-static methods to be exposed to class extension too, which I left out in the question.)</p>
","149392","","<p>Your problem is that you let the compiler infer the generic arguments to the listAll method and in the first case it infers what you want because you store the result in a variable and it can just look at the type of the variable. In the second it can't infer the ""right"" type automatically, so you need to specify it yourself:</p>

<pre><code>for (Lady uv: Lady.&lt;Lady&gt;listAll()){
    logger.info(uv.getName() );
}
</code></pre>

<p>Please note that in this example there's no reason for the Minatchi class to be generic as that does not affect the static method at all.</p>

<p>Please also note that calling Lady.listAll is exactly the same as calling Minatchi.listAll (i.e. it does not affect what types the compiler could or will infer as the generic arguments).</p>
"
"<p>The problem I have been given says this: </p>

<blockquote>
  <p>In a similar way to mapMaybe, define
  the function:
       composeMaybe :: (a->Maybe b) -> (b -> Maybe c) -> (a-> Maybe c)
       which composes two error-raising functions.</p>
</blockquote>

<p>The type Maybe a and the function mapMaybe are coded like this:</p>

<pre><code>data Maybe a = Nothing | Just a

mapMaybe g Nothing = Nothing
mapMaybe g (Just x) = Just (g x)
</code></pre>

<p>I tried using composition like this:</p>

<pre><code>composeMaybe f g = f.g
</code></pre>

<p>But it does not compile.</p>

<p>Could anyone point me in the right direction?</p>
","149392","","<p>First of all: if anything it should be <code>g.f</code>, not <code>f.g</code> because you want a function which takes the same argument as f and gives the same return value as g. However that doesn't work because the return type of f does not equal the argument type of g (the return type of f has a Maybe in it and the argument type of g does not).</p>

<p>So what you need to do is: Define a function which takes a <code>Maybe b</code> as an argument. If that argument is <code>Nothing</code>, it should return <code>Nothing</code>. If the argument is <code>Just b</code>, it should return <code>g b</code>. <code>composeMaybe</code> should return the composition of the function with f.</p>
"
"<p>i am a php programmer who has no previous programming experience neither in java nor in c#(sharp). My goal is to learn both languages java and c#, so i am looking for an experienced programmer who has in depth knowledge of both languages to suggest me which one to start first in order to make my learning process easier and to help me grasp fast on the second language once i have finished learning the first. <em>(e.g some people find it easier when they learn the difficult language first or the one that has more features and programming aspects so once they are through and they start the second one they find the learning process like walking in the park)</em></p>
","149392","","<p>Java and C# aren't too different from each other, so it doesn't matter much. C# does have a few programming concepts that java does not have (anonymous functions, operator overloading and LINQ), which makes it a bit more interesting and (at least for me) fun to write. So I guess I would recommend to start with C#.</p>
"
"<p>EDIT -- Answered below, missed the angled braces. Thanks all.</p>

<p>I have been attempting to write a rudimentary singly linked list, which I can use in other programs. I wish it to be able to work with built-in and user defined types, meaning it must be templated.</p>

<p>Due to this my node must also be templated, as I do not know the information it is going to store. I have written a node class as follows -</p>

<pre><code>template &lt;class T&gt; class Node
{
    T data; //the object information
    Node* next; //pointer to the next node element

public:
    //Methods omitted for brevity
};
</code></pre>

<p>My linked list class is implemented in a seperate class, and needs to instantiate a node when adding new nodes to the end of the list. I have implemented this as follows -</p>

<pre><code>#include &lt;iostream&gt;
#include ""Node.h""
using namespace std;

template &lt;class T&gt; class CustomLinkedList
{
    Node&lt;T&gt; *head, *tail;

public:

    CustomLinkedList()
    {
        head = NULL;
        tail = NULL;
    }

    ~CustomLinkedList()
    {

    }

    //Method adds info to the end of the list
    void add(T info)
    {
        if(head == NULL) //if our list is currently empty
        {
            head = new Node&lt;T&gt;; //Create new node of type T
            head-&gt;setData(info);
            tail = head;
        }
        else //if not empty add to the end and move the tail
        {
            Node* temp = new Node&lt;T&gt;;
            temp-&gt;setData(info);
            temp-&gt;setNextNull();
            tail-&gt;setNext(temp);
            tail = tail-&gt;getNext();
        }
    }

    //print method omitted
};
</code></pre>

<p>I have set up a driver/test class as follows -</p>

<pre><code>#include ""CustomLinkedList.h""
using namespace std;

int main()
{
    CustomLinkedList&lt;int&gt; firstList;

    firstList.add(32);
    firstList.printlist();
    //Pause the program until input is received
    int i;
    cin &gt;&gt; i;

    return 0;
}
</code></pre>

<p>I get an error upon compilation however - <strong>error C2955: 'Node' : use of class template requires template argument list</strong> - which points me to the following line of code in my add method - </p>

<pre><code>Node* temp = new Node&lt;T&gt;;
</code></pre>

<p>I do not understand why this has no information about the type, since it was passed to linked list when created in my driver class. <strong>What should I be doing to pass the type information to Node?</strong></p>

<p>Should I create a private node struct instead of a seperate class, and combine the methods of both classes in one file? I'm not certain this would overcome the problem, but I think it might. I would rather have seperate classes if possible though.</p>

<p>Thanks, Andrew.</p>
","149392","","<p>That line should read</p>

<pre><code>Node&lt;T&gt;* temp = new Node&lt;T&gt;;
</code></pre>

<p>Same for the <code>next</code> pointer in the Node class.</p>
"
"<p>The following code defines a hash with regular expressions (keys) and replacements (values). Then it iterates over the hash and replaces the string accordingly. </p>

<p>Simple string substitution works well, but when I need to compute the resut before substituting it (the case of years to days change), it does not. And it is key that the hash is defined beforehand.</p>

<p>What am I missing? Any help will be very appreciated.</p>

<pre><code>a = ""After 45 years we cannot use this thing.""

hash = {
  /(\d+) years/ =&gt; ""#{$1.to_f*2}"" + ' days',
  /cannot/      =&gt; 'of course we CAN'  
}

hash.each {|k,v| 

  a.gsub!(k) { v }
}

puts a
</code></pre>

<p>Thanks!</p>
","149392","","<p>The expression <code>""$1.to_f*2"" + ' days'</code> will be executed and stored in the hash when you create the hash, not when you access it. Since at that point $1 doesn't have a value yet, it doesn't work.</p>

<p>You can fix this by storing lambdas in the hash like this:</p>

<pre><code>hash = {/(\d+) years/ =&gt; lambda {|_| ""#{$1.to_f * 2} days""},
  /cannot/      =&gt; lambda {|_| 'of course we CAN'} }

hash.each {|k,v| 
  a.gsub!(k, &amp;v)
}
</code></pre>
"
"<p>I'm Learning Ruby.</p>

<p>I found the method <code>String#each</code> at <a href=""http://ruby-doc.org/core/classes/String.html"">http://ruby-doc.org/core/classes/String.html</a>.</p>

<p>When I try using it...</p>

<pre><code>irb(main):001:0&gt; ""hello\nworld"".each {|s| p s}
NoMethodError: undefined method `each' for ""hello\nworld"":String
</code></pre>

<p>...but I get that <code>NoMethodError</code>.  </p>

<p>I'm using Ruby 1.9.1p253 so I don't think I'm using an old version.  What's going on?</p>
","149392","","<p>You're looking at the docs for 1.8. String#each has been removed in 1.9. Use each_line instead.</p>
"
"<p>I'm familiar with Ruby's <code>include?</code> method for strings, but how can I check a string for multiple things?</p>

<p>Specifically, I need to check if a string contains ""Fwd:"" or ""FW:"" (and should be case insensitive)</p>

<p>Example string would be: ""FWD: Your Amazon.com Order Has Shipped""</p>
","149392","","<pre><code>the_string =~ /fwd:|fw:/i
</code></pre>

<p>You could also use something like</p>

<pre><code>%w(fwd: fw:).any? {|str| the_string.downcase.include? str}
</code></pre>

<p>Though personally I like the version using the regex better in this case (especially as you have to call downcase in the second one to make it case insensitive).</p>
"
"<p>Does a <code>Binding</code> know the variables it stores? Or do I always have to use this in conjunction with <code>local_variables</code>?</p>
","149392","","<p>You get the list of local variables in a binding by doing <code>eval(""local_variables"", the_binding)</code>.</p>

<p>I'm not sure whether that's what you meant by ""Or do I always have to use this in conjunction with <code>local_variables</code>?"", but there's no way to get the list without invoking <code>local_variables</code> somehow.</p>
"
"<p>I'm using Firefox 3.5.7 and within Firebug I'm trying to test the array.reduceRight function, it works for <strong>simple arrays</strong> but when I try something like that I get a <strong>NaN</strong>. Why?</p>

<pre><code>&gt;&gt;&gt; var details = [{score : 1}, {score: 2}, {score: 3}];
&gt;&gt;&gt; details
[Object score=1, Object score=2, Object score=3]
&gt;&gt;&gt; details.reduceRight(function(x, y) {return x.score + y.score;}, 0)
NaN
</code></pre>

<p>I also tried map and at least I can see the .score component of each element:</p>

<pre><code>&gt;&gt;&gt; details.map(function(x) {console.log (x.score);})
1
2
3
[undefined, undefined, undefined]
</code></pre>

<p>I read the documentation at <a href=""https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight"" rel=""nofollow"">https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight</a> but apparently I can't get it work to sum up all the <strong>score</strong> values in my <strong>details</strong> array. Why?</p>
","149392","","<p>The first argument given to the function is the accumulated value. So the first call to the function will look like <code>f(0, {score: 1})</code>. So when doing x.score, you're actually doing 0.score which doesn't work of course. In other words you want <code>x + y.score</code>.</p>
"
"<p>Redo:</p>

<h3>(Shorter version just for Stephen202)</h3>

<p>What is the significance in putting the comma after after the open bracket, instead of before? And, what is the significance of nesting the brackets.</p>

<p>How they are:</p>

<pre><code>RegexObject.match(string[, pos[, endpos]])
</code></pre>

<p>What I would expect:</p>

<p>RegexObject.match(string, [pos], [endpos])</p>

<p>WHY ARE THE BRACKETS NESTED INSTEAD OF JUST LIKE THIS:</p>

<pre><code>RegexObject.match(string[, pos][, endpos])
</code></pre>

<p>Why can you back the first bracket into the required argument and that works, but then backing the second bracket into the first is just bletch? This nested nature is what confuses me the most, and not one out of 7 answers has answered that. cvondrick gets the nugget because at lest he answered the comma part and now I understand that.</p>
","149392","","<p>The brackets mean that you can leave out the part between them. So if the docs would be written the way you suggest, it would imply that you can write RegexObject.match(string,,) by leaving everything in brackets. Or RegexObject.match(string,,endpos) by just leaving out the second one. But you can't. If you leave out endpos, you also have to leave out the comma before it. And if you leave out pos, you have to leave out the comma before it as well as endpos. So it's written in a way that makes that clear.</p>
"
"<p>Well, add me to the list of Python programmers who are falling in love with Ruby but have a lingering PyAddiction. Like the post about <a href=""http://stackoverflow.com/questions/786412/what-is-the-ruby-equivalent-of-pythons-getattr"">Python's getattr</a>, I'm looking for the Ruby equivalent of doing this:</p>

<pre><code>setattr(obj, 'attribute', value)
</code></pre>

<p>where obj is an object instance, attribute is the name of one of the object's attributes as a string, and value is the value of that object. The equivalent code being:</p>

<pre><code>obj.attribute = value
</code></pre>

<p>I'm assuming it's possible (because anything possible in Python seems even easier in Ruby now), but can't find documentation of it.</p>
","149392","","<p>Either <code>obj.instance_variable_set(""@instance_variable"", value)</code> or <code>obj.send(""instance_variable="", value)</code>.</p>

<p>The former directly sets the instance variable. The latter calls the setter method, which of course only works if there is a setter method, but on the other hand also works if you have a setter method that doesn't actually only set an instance variable (or doesn't set an instance variable at all).</p>
"
"<p>Given I have an array of 3 strings:</p>

<pre><code>[""Extra tv in bedroom"",
 ""Extra tv in living room"",
 ""Extra tv outside the shop""]
</code></pre>

<p>How do I find the longest string all strings have in common? </p>
","149392","","<p><a href=""http://en.wikipedia.org/wiki/Longest_common_substring_problem"" rel=""nofollow"">This wikipedia article</a> explains two algorithms that can be used to solve that problem.</p>
"
"<p>I'm studying (well, trying to) C right now, but I'm limited to working in Windows XP. I've managed to set up and learn how to use Emacs and can compile simple C programs with gcc (from Emacs no less!), but I'm getting to the point where I'd like to install something like SDL to play around with it. </p>

<p>The thing is that the installation instructions for SDL indicate that, on a Win32 environment using MingW, I would need to use MSYS to run ./configure and make/make install to install SDL, like one would do on Linux. I noticed that when I unzipped the SDL-dev package (forgot the exact name, sorry) there were folders there that corresponded to a folder in the MinGW directory (SDL/include -> MinGW/include). </p>

<p>Am I right in saying that all the ./configure and make commands do is move these files from one directory to another? Couldn't I just move those files by hand and spare myself the trouble of installing and configuring MSYS (which, to be honest, confuses me greatly)?</p>
","149392","","<p>The build process usually works like this: the configure script finds the appropriate settings for the compilation (like which features to enable, the paths to the required libraries, which compiler to use etc.) and creates a Makefile accordingly. make then compiles the source code to binaries. make install copies the created binaries, the headers, and the other files that belong to the library to the appropriate places.</p>

<p>You can't just copy the files from the source archive, because the source archive does not contain the binary files (or any other files that are created during the make step), so all you'd copy would be the headers, which aren't enough to use the library.</p>
"
"<p>Opened a LinkedHashSet source code today and found some interesting thing:</p>

<pre><code>public class LinkedHashSet&lt;E&gt;
    extends HashSet&lt;E&gt;
    implements Set&lt;E&gt;, Cloneable, java.io.Serializable {
</code></pre>

<p>The question is: why do they need both ""extends HashSet"" and ""implements Set"" when HashSet already is the Set?</p>
","149392","","<p>They didn't <em>need</em> to explicitly write <code>implements Set&lt;E&gt;</code>. They did it for readability.</p>
"
"<p>Hi
I want to split a string which has content like this:</p>

<pre><code>a$b$c
</code></pre>

<p>but when I use:</p>

<pre><code>String data=...
data.split(""$"");
</code></pre>

<p>it does not recognize $ and do not split string but when I replace $ by some Letter like X it works.
does anyone has any Idea?</p>
","149392","","<p>$ is a special character in regular expressions representing the end of the line. To match a dollar sign, use <code>""\\$""</code>.</p>
"
"<p>Hi I was wondering that if you had an array of integers, how you would use sort it using selection sort in descending order. I know how to do it in ascending order but I don't know how to do in it descending order. </p>

<p>Thanks!</p>
","149392","","<p>You do it the same way you'd do it in ascending order, except you always pick the largest element instead of the smallest.</p>
"
"<p>I am seeing a very strange issue with a simple controller method. Either I am missing something fundamental or I am encountering a bug. My bet is on the former.</p>

<p>I have a <code>Thing</code> model with a <code>ThingController</code>.</p>

<p>A <code>Thing</code> has two variables, <code>name</code> and <code>display</code>, both strings. </p>

<p><code>ThingController</code> (code below) has a method <code>toggle_display</code>, that toggles the contents of <code>display</code> between <code>""on""</code> and <code>""off""</code>.</p>

<p>The problem is that when I call this action, Rails finds the correct <code>Thing</code>, but <code>@thing.display</code> is nil. When I check the database, the value in the 'display' column is correct. </p>

<p>The strange part is that when I uncomment the third line in the code below (i.e. access <code>@thing.name</code> <strong><em>before</em></strong> accessing <code>@thing.display</code>) then <code>@thing.display</code> is fine - it isn't nil and it has the value I would expect. It's as if <code>@thing.display</code> only gets initialized correctly after I access <code>@thing.name</code>.</p>

<p>Any idea why I would see this very strange behavior? </p>

<pre><code>def toggle_display
  @thing = Thing.find(params[:id])

  # @thing.name

  if @thing.display
    @thing.toggle_display_in_model
    @thing.save
  end

  redirect_to things_url
end
</code></pre>
","149392","","<p>The problem is that there's already a method named ""display"" in Kernel which conflicts with ActiveRecord's magic.</p>

<p>ActiveRecord defines the methods corresponding to the database fields in method_missing. So until method_missing is called, the methods don't actually exist. When you call name on @thing, method_missing is called because there is no name method. However when you call display (without previously calling another method that does not exist), method_missing is not called because display is already defined in Kernel and this definition is executed. And since Kernel's display method returns nil, you get nil.</p>
"
"<p>If I have one template class and template function like this</p>

<pre><code>template &lt;class T&gt; T getMax (T a, T b) {
  return (a&gt;b?a:b);
}

template &lt;class T&gt; class GetMax {
public:
    static T getMax(T a, T b) {
        return (a&gt;b?a:b);   
    }       
};
</code></pre>

<p>Why are these not valid?</p>

<pre><code>x=getMax(1, '2');               
</code></pre>

<p>but these are valid</p>

<pre><code>x=getMax(1,2);
</code></pre>

<p>Does it mean that there is no type conversion in template function?</p>

<p>This is not valid </p>

<pre><code>x=GetMax::getMax(1, 2);
</code></pre>

<p>Does it mean that for the template class, the type must be specified?</p>
","149392","","<p>1) There is type conversion, but it doesn't work together with type inference. Meaning when you specify the type (like <code>getMax&lt;int&gt;(1,'2')</code> or <code>getMax&lt;char&gt;(1,'2')</code>) it works, but if you don't, the compiler can't infer whether you want <code>getMax&lt;int&gt;</code> or <code>getMax&lt;char&gt;</code>.</p>

<p>2) Yes, template arguments are inferred only for function templates, not class templates.</p>
"
"<p>I need to escape a <code>&amp;</code> (ampersand) character in a string. The problem is whenever I <code>string = string.replace ('&amp;', '\&amp;')</code> the result is <code>'\\&amp;'</code>. An extra backslash is added to escape the original backslash. How do I remove this extra backslash?</p>
","149392","","<pre><code>&gt;&gt;&gt; '\\&amp;' == '\&amp;'
True
&gt;&gt;&gt; len('\\&amp;')
2
&gt;&gt;&gt; print('\\&amp;')
\&amp;
</code></pre>

<p>Or in other words: <code>'\\&amp;'</code> only contains one backslash. It's just escaped in the python shell's output for clarity.</p>
"
"<p>I have this object of class Array</p>

<pre><code>    &gt;&gt; answers_to_problem
=&gt; [#&lt;Answer id: 807, problem_id: 1, player_id: 53, code: ""function y = times2(x
)\r\n  y = 2*x;\r\nend"", message: nil, score: 12, output: nil, hide: nil, create
d_at: ""2010-02-02 11:06:49"", updated_at: ""2010-02-02 11:06:49"", correct_answer:
nil, leader: nil, success: true, cloned_from: nil&gt;]
</code></pre>

<p>For doing a binary check, I need access to the <strong>success</strong> field.  I am not sure I am even using the right terminology here so I can not search how to access it.</p>

<p>answer_to_problems was found this way:</p>

<pre><code>answers_to_problem = Answer.find_all_by_problem_id_and_player_id(current_problem,player_id)
</code></pre>

<p>Ultimately, I want to do this check:</p>

<pre><code>is_correct = (answers_to_problem.success == true) 
</code></pre>
","149392","","<p>Are you sure, you want to use find_all? If you know you'll only get one Answer back, you should use find without the all. That way you get a single Answer object instead of an array.</p>

<p>If you can get back more than one answer, do you want to check that all the answers are successful or just that one of them is?</p>

<p>You can do the former with: <code>answers.all?(&amp;:success)</code> and the latter with <code>answers.any?(&amp;:success)</code>.</p>
"
"<p>I'm looking to write a method that creates an array of a fixed length (in my case 12) from any array it is provided of arbitrary length (though the length will always be 12 or less) by repeating the objects in order.</p>

<p>So for example given the array a:</p>

<pre><code>a = [1, 2, 3, 4]
</code></pre>

<p>I would want to have returned:</p>

<pre><code>a = [1, 2, 3, 4, 1, 2, 3, 4, 1, 2, 3, 4]
</code></pre>

<p>Another example:</p>

<pre><code>b = [""peach"", ""plumb"", ""pear"", ""apple"", ""banana"", ""orange""]
</code></pre>

<p>Would return:</p>

<pre><code>b = [""peach"", ""plumb"", ""pear"", ""apple"", ""banana"", ""orange"", ""peach"", ""plumb"", ""pear"", ""apple"", ""banana"", ""orange""]
</code></pre>

<p>And so on. If given an array with 12 objects, it would just return the same array.</p>

<p>The methods I've written to accomplish this so far have been very ugly and not very Rubyish; interested in how others would handle this.</p>

<p>Thanks in advance.</p>
","149392","","<pre><code>array * (12/array.size) + array[0, (12 % array.size)]
</code></pre>
"
"<p>I've got this going:</p>

<pre><code>def split_array(array,size)
    index = 0
    results = []
    if size &gt; 0
        while index &lt;= array.size
            res = array[index,size]
            results &lt;&lt; res if res.size != 0
            index += size
        end
    end
    return results
end
</code></pre>

<p>If I run it on <code>[1,2,3,4,5,6]</code> like <code>split_array([1,2,3,4,5,6],3)</code> it will produce this array:</p>

<p><code>[[1,2,3],[4,5,6]]</code> . Is there something already available that can do this, in Ruby 1.8.7?</p>
","149392","","<pre><code>[1,2,3,4,5,6].each_slice(3).to_a
#=&gt; [[1, 2, 3], [4, 5, 6]]
</code></pre>

<p>For 1.8.6:</p>

<pre><code>require 'enumerator'
[1,2,3,4,5,6].enum_for(:each_slice, 3).to_a
</code></pre>
"
"<p>can someone explain to me why the following results in b = 13?</p>

<pre><code>int a, b, c;
a = 1|2|4;
b = 8;
c = 2;
b |= a;
b&amp;= ~c;
</code></pre>
","149392","","<pre><code>a = 1|2|4
  = 0b001
  | 0b010
  | 0b100
  = 0b111
  = 7

b = 8 = 0b1000

c = 2 = 0b10

b|a = 0b1000
    | 0b0111
    = 0b1111 = 15

~c = 0b111...1101

(b|a) &amp; ~c = 0b00..001111
           &amp; 0b11..111101
           = 0b00..001101
           = 13
</code></pre>
"
"<p>Can you please explain this code? It seems a little confusing to me
Is ""a"" a double array? I would think it's just an integer, but then in the cout statement it's used as a double array. Also in the for loop condition it says a&lt;3[b]/3-3, it makes no sense to me, however the code compiles and runs. i'm just having trouble understanding it, it seems syntactically incorrect to me</p>

<pre><code>int a,b[]={3,6,5,24};
char c[]=""This code is really easy?"";
for(a=0;a&lt;3[b]/3-3;a++)
{
cout&lt;&lt;a[b][c];
}
</code></pre>
","149392","","<p>foo[bar] ""expands"" to ""*(foo + bar)"" in C. So <code>a[b]</code> is actually the same as <code>b[a]</code> (because addition is commutative), meaning the ath element of the array b. And <code>a[b][c]</code> is the same as <code>c[b[a]]</code> i.e. the ith char in c where i is the ath element in b.</p>
"
"<p>code:</p>

<pre><code>file.write 'objectclass: groupOfUniqueNames\n'
</code></pre>

<p>Oddly enough, the \n is actually being printed... What is wrong here?</p>
","149392","","<p>You're using single quotes. The only escape sequences allowed in single quotes are <code>\\</code> for <code>\</code> and <code>\'</code> for <code>'</code>. Use double quotes and <code>\n</code> will work as expected.</p>
"
"<p>This is a follow on question from my previously answered question here:</p>

<p><a href=""http://stackoverflow.com/questions/2185719/reading-characters-on-a-bit-level"">http://stackoverflow.com/questions/2185719/reading-characters-on-a-bit-level</a></p>

<p>The problem that I seem to be having is understanding the basic concepts of bit manipulation in C. I understand what needs to be done but I am having trouble actually developing a solution to it.</p>

<p>An example:</p>

<p>Changing 01101010 to 00111110 using a logical operator.</p>

<p>I understand the principle and the need of a mask to implement the solution but I don't understand how to do it programatically.</p>

<p>I come from a heavily based C# background and have only recently begun developing in C.</p>

<p>Can anyone give me some pointers or tips to complete the example?</p>

<p>Following is the solution incase anybody else finds it useful:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;limits.h.&gt;

int main()
{
    //01101010 - 106 Decimal
    char a = 0x6A;

    //01010100 - 84 Decimal
    char b = 0x54;

    //00111110 - Uses exclusive or (XOR)
    char c = a ^ b;

    //Prints out in Hex - 62 Decimal
    printf(""%x"",c);

    return 0;
}
</code></pre>
","149392","","<p>I'd proceed like this: First look at which bits need to change. If you only need to change 1s to 0s, you want <code>&amp;</code>. If you only need to change 0s to 1s, you want <code>|</code>. If you need to change in both directions, like is the case here, you want <code>^</code> because it's the only operator that can go both ways, so to speak.</p>

<p>Now it's just a matter of finding the right bit mask to xor with. Since <code>1^0=1</code> and <code>0^0=0</code>, you have to set the bits that you don't want to change to 0 in the bitmask. Set the others to 1 (<code>1^1</code> is 0 and <code>0^1</code> is 1) and you'll get the result you want.</p>
"
"<p>I'm trying to create a Tree type in Haskell. I've used this simple data constructor for storing a tree in which each node can either be empty, be a leaf containing an integer, or be a node containing an integer with branches to two other leaves/nodes. Here's what I've got:</p>

<pre><code>module Tree ( Tree(Empty, Leaf, Node) ) where

data Tree = Empty
| Leaf Int
| Node Tree Int Tree
deriving(Eq, Ord, Show, Read)
</code></pre>

<p>That works fine, but I need to make the Tree type polymorphic. I've tried simply replacing 'Int' with 'a' but it doesn't seem to work. Is there another system for making these types polymorphic?</p>
","149392","","<p>Replacing Int with a is the right start, but you also need to replace each occurrence of Tree with <code>Tree a</code> (parenthesizing it where necessary). The <code>data Tree</code> part needs the a to declare that Tree has one type argument called a. The <code>Node Tree Int Tree</code> needs to signify that the subtrees are themselves of type <code>Tree a</code> and not some other treetype.</p>
"
"<p>So given the following java class:</p>

<pre><code>class Outer
{
  private int x;
  public Outer(int x) { this.x = x; }
  public class Inner
  {
    private int y;
    public Inner(int y) { this.y = y; }
    public int sum() { return x + y; }
  }
}
</code></pre>

<p>I can create an instance of the inner class from Java in the following manner:</p>

<pre><code>Outer o = new Outer(1);
Outer.Inner i = o.new Inner(2);
</code></pre>

<p>However, I can't seem how to do the same from JRuby</p>

<pre><code>#!/usr/bin/env jruby
require 'java'
java_import 'Outer'

o = Outer.new(1);
i = o.Inner.new(2); #=&gt; NoMethodError: undefined method `Inner' for #&lt;Outer...&gt;
</code></pre>

<p>What's the correct way to do this?</p>
","149392","","<pre><code>i = Outer::Inner.new(o,2)
</code></pre>
"
"<p>Basically I'm rather new to Java and I have a problem with understanding a line and getting it to work.</p>

<p>Heres the line of code:</p>

<pre><code>LinkedList&lt;ClientWorkers&gt; clients = SingletonClients.getClients();
</code></pre>

<p>Heres the procedure its in:</p>

<pre><code>ClientWorker(Socket client, JTextArea textArea) {
        this.client = client;
        this.textArea = textArea;  

        String line = in.readLine();
        LinkedList&lt;ClientWorkers&gt; clients = SingletonClients.getClients();
        for(int i = 0; i &lt; clients.size(); i++) {
            ClientWorker c = clients.get(i);
            //The client doesn't need to get it's own data back.
            if(c == this){
                continue;
            }
            c.writeString(line);
        }

    }
</code></pre>

<p>The errors it's throwing are:</p>

<pre><code>SocketThrdServer.java:20: cannot find symbol 
symbol  : class LinkedList
location: class ClientWorker
        LinkedList&lt;ClientWorker&gt; clients = SingletonClients.getClients();         
        ^
SocketThrdServer.java:20: cannot find symbol 
symbol  : variable
SingletonClients location: class ClientWorker
        LinkedList&lt;ClientWorker&gt; clients = SingletonClients.getClients();
</code></pre>

<p>Does anyone have any idea how I can get it sorted? I'm assuming the LinkedList is being defined wrong and SingletonClients isn't being defined at all but I'm not sure what to define them as in this context?</p>

<p>Thanks in advance!</p>
","149392","","<p>You need to <code>import java.util.LinkedList;</code> at the beginning of the java file if you want to use LinkedList without its fully qualified name (i.e. if you want to be able to say ""LinkedList"" instead of ""java.util.LinkedList"").</p>
"
"<p>Just a language feature question, I know there's plenty of ways to do this outside of regexes (or with multiple regexes).</p>

<p>Does ruby support <a href=""http://perldoc.perl.org/perlre.html#(%3f(condition)yes-pattern%7cno-pattern)"" rel=""nofollow"">conditional regular expressions</a>?  Basically, an IF-THEN-ELSE branch inside a regular expression, where the predicate for the IF is the presence (or absense) of a captured group in the expression.</p>

<p>In perl, the syntax is <code>(?(predicate)yes-pattern|no-pattern)</code> as in </p>

<pre><code>/(?:y|(x))(?(1)y|x)/
</code></pre>

<p>I haven't been able to find any reference to anything like it in any ruby docs that I've browsed, but I figured I'd ask here to make sure, in case I was searching for the wrong words, or it was elided from the docs.</p>
","149392","","<p>No, ruby does not support that (neither in 1.8 nor 1.9).</p>
"
"<p>I am trying to convert a small bit of Ruby to PHP, and I have had success so far, except for this one line:</p>

<pre><code>string = string[16,string.length-16]
</code></pre>

<p>I have tried these two things in PHP:</p>

<pre><code>$string = substr($string, 16, strlen($string) - 16);
// and
$string = substr($string, 16, strlen($string) - 32);
</code></pre>

<p>But the problem is that I have no clue what the <code>string[#,#]</code> syntax does. I have seen <code>string[#..#]</code> before and <code>string[#]</code>, but never <code>string[#,#]</code>.</p>
","149392","","<p><code>string[x,y]</code> is a substring that starts at index x and is y characters (or bytes in 1.8) long (as opposed to <code>string[x..y]</code> which starts at index x and stops at index y).</p>
"
"<p>Very handy Ruby code:</p>

<pre><code>some_map.each do |key,value|
  # do something with key or value
end
</code></pre>

<p>Scala equivalent:</p>

<pre><code>someMap.foreach( entry =&gt; {
  val (key,value) = entry
  // do something with key or value
})
</code></pre>

<p>Having to add the extra <code>val</code> line bugs me.  I couldn't figure out how to state the function arg to extract the tuple, so I'm wondering is there a way to do this, or why is there no foreach that extracts the key and value for me?</p>
","149392","","<p>This works, too:</p>

<pre><code>someMap.foreach {case (key, value) =&gt;
  // do something with key and/or value
}
</code></pre>
"
"<p>How do I convert the following to a clear one-liner in ruby?</p>

<pre><code>def questions
  results = []
  sections.each do |section|
    results = results.concat(Question.find_all_by_survey_section_id(section.id))
  end
  results
end
</code></pre>

<p>I feel like I could use the <code>&amp;:</code> (<code>Symbol#to_proc</code>) and <code>returning</code> methods in there somehow.</p>
","149392","","<p>Assuming that SurveySection <code>has_many :questions</code>, you can simplify this to:</p>

<pre><code>sections.map(&amp;:questions).flatten
</code></pre>

<p>Or if the method is defined in an ActiveRecord model, you could just declare that it <code>has_many :questions, :through =&gt; :sections</code> and you won't have to define the method at all.</p>
"
"<p>I know that In-order traversal(VISIT LEFT, VISIT ROOT, VISIT RIGHT) on a binary search tree gives me a sorted result. But I need to do a Post-order traversal (VISIT LEFT, VISIT RIGHT, VISIT ROOT) on a binary tree and the result should give me sorted values.</p>

<p>In order to achieve that, how should I construct my binary tree?</p>
","149392","","<p>Since the root is visited last, it must contain the largest item. Since the left subtree is visited before the right subtree, all items in the left subtree must be smaller than any item in the right subtree.</p>

<p>So to construct a tree like this you can proceed as follows: If you insert an item which is greater than the root, that item becomes the new root. If you insert an item which is smaller than the root but greater than the root of the left subtree, insert it into the right subtree. Else insert it into the left subtree.</p>
"
"<blockquote>
  <p>0xC0000005: Access violation reading location 0xcccccccc.</p>
</blockquote>

<p>printf is throwing this exception.</p>

<p>I don't know why this is happening...
There are values in those string variables. Am I using printf wrong?</p>

<p>Help! (Please see the switch case)</p>

<pre><code>string header;
string body;
string key;

if (!contactList.isEmpty()) {

    cout &lt;&lt; ""Enter contact's name: "";
    getline(cin, key);
    Contact * tempContact = contactList.get(key);
    if (tempContact != NULL) {
        string name = tempContact-&gt;getName();
        string number = tempContact-&gt;getNumber();
        string email = tempContact-&gt;getEmail();
        string address = tempContact-&gt;getAddress();

        //I've just put this here just to test if the variables are being initialized
        cout &lt;&lt; name + "" "" + number + "" "" + email + "" "" + address &lt;&lt; endl;

        switch (type) {
            case 1:
                printf(""%-15s %-10s %-15s %-15s\n"", ""Name"", ""Number"", ""Email"", ""Address"");
                printf(""%-15s %-10s %-15s %-15s\n"", name, number, email, address);
                break;
            case 2:
                printf(""%-15s %-10s\n"", ""Name"", ""Number"");
                printf(""%-15s %-10s\n"", name, number);
                break;
            case 3:
                printf(""%-15s %-15s\n"", ""Name"", ""Email"");
                printf(""%-15s %-15s\n"", name, email);
                break;
            case 4:
                printf(""%-15s %-15s\n"", ""Name"", ""Address"");
                printf(""%-15s %-15s\n"", name, address);
                break;
            default:
                printf(""%-15s %-10s %-15s %-15s\n"", ""Name"", ""Number"", ""Email"", ""Address"");
                printf(""%-15s %-10s %-15s %-15s\n"", name, number, email, address);
        }

    } else {
        cout &lt;&lt; ""\"""" + key + ""\"" not found.\n"" &lt;&lt; endl;
        wait();
    }

} else {        
    cout &lt;&lt; ""Contact list is empty.\n"" &lt;&lt; endl;
    wait();
}
</code></pre>

<p>The first printf is printing fine but the second one will throw the exception, seemingly regardless of how I pass the string value in.</p>
","149392","","<p>printf's ""%s"" expects a <code>char*</code> as an argument, not a <code>std::string</code>. So printf will interpret your string objects as pointers and try to access the memory location given by the object's first <code>sizeof(char*)</code> bytes, which leads to an access violation because those bytes aren't really a pointer.</p>

<p>Either use the strings' <code>c_str</code> method to get <code>char*</code>s or don't use printf.</p>
"
"<p>I have the authentication code to be available over several Controllers. So I thought of putting the Authentication code in to a SuperClass and then make all the other controllers extend this SuperClass. I then got to know that we can add it in the ActionController class itself. How can we do that? Is  there a way to change the pre defined class?</p>
","149392","","<p>You should add the methods to the ApplicationController class which lives in app/controllers/application_controller.rb and is the direct superclass of all your project's controllers (assuming you created your controllers with script/generate and did not change the superclass).</p>
"
"<pre><code>params[:hello] # =&gt; ""Some params value""

hello = params[:hello]
hello.gsub!(""whatever"","""")

params[:hello] # =&gt; """"
</code></pre>

<p>I don't understand, can someone please explain why the <code>params[:hello]</code> gets modified by the <code>gsub!</code> ? I expected the <code>hello</code> string to be modified, but not the <code>params</code> hash.</p>
","149392","","<p><code>hello</code> and <code>params[:hello]</code> are references to the same string. In ruby (as in java and python among others) assignment does not copy the value, it just stores another reference to the same value in the assigned-to variable. So unless you explicitly copy the string before modifying it (using <code>dup</code>) any changes to the string will affect all other references to the string.</p>
"
"<p>A few years ago a friend of mine suggested I learn Ruby. I've since learned PHP and VB.NET but I never got around to Ruby. </p>

<p>Where can I start with Ruby? What is Ruby primarily used for? How would you describe it in comparison to PHP? Python? VB?</p>

<p>How can I get it set up on Ubuntu 9.04? Windows Vista or 7 Home Premium? Can I set up Ruby on Rails in an existing (Apache) virtual server on a ""internetless"" box?</p>
","149392","","<p>You can start learning ruby at ruby-doc.org which contains the first edition of Programming Ruby (slightly outdated, but still quite a good resource to learn ruby) as well as the official API docs. If you're willing to invest some money, you can also buy the current edition of Programming Ruby or The Ruby Programming Language.</p>

<p>As to what ruby is used for: I suspect it's most often used for web programming. And second most often as a scripting language for system administration, log file processing, web scraping etc.</p>
"
"<p>I have csv file with 14 columns and I want to sort it in ruby by 6th column then by 2nd and then by 11th column. </p>

<p>There is nice method .sort_by but it works only for two columns, doesn't it. And <code>array_of_arrays.sort_by {|e| [e[2], e[0],e[1]],}</code> doesn't work.</p>

<p>so let's say in the sample below I want it to be sorted by 3rd,1st,2nd columns</p>

<pre><code>array_of_arrays = [[1,9,'a'],[2,2,'a'], [2,6,'b'], [1,3,'a'], [2,1,'b']]

array_of_arrays.each {|line| puts line.inspect }
puts
array_of_arrays.sort_by {|e| [e[2], e[0]]} .each {|line| puts line.inspect }
</code></pre>

<p>but the result is not as desired </p>

<pre><code>[1, 9, ""a""]
[2, 2, ""a""]
[2, 6, ""b""]
[1, 3, ""a""]
[2, 1, ""b""]

[1, 9, ""a""]
[1, 3, ""a""]
[2, 2, ""a""]
[2, 6, ""b""]
[2, 1, ""b""]
</code></pre>
","149392","","<p>This:</p>

<pre><code>array_of_arrays = [[1,9,'a'],[2,2,'a'], [2,6,'b'], [1,3,'a'], [2,1,'b']]

array_of_arrays.each {|line| p line }
puts
array_of_arrays.sort_by {|e| [e[2], e[0], e[1]]} .each {|line| p line }
</code></pre>

<p>Produces the following output for me:</p>

<pre><code>[1, 3, ""a""]
[1, 9, ""a""]
[2, 2, ""a""]
[2, 1, ""b""]
[2, 6, ""b""]
</code></pre>

<p>That's what you want, right?</p>
"
"<p>I have this code:</p>

<pre><code>public class Home extends Activity{

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
            //...
            //at some point I have
            s.setOnSeekBarChangeListener(new OnSeekBarChangeListener(){

              @Override
              public void onProgressChanged(SeekBar seekBar, int progress,
                      boolean fromUser) {

                  ContextNotionLevel ctnl=new ContextNotionLevel(this);
// &lt;-- how can I reference Home class here to replace **this**, which as it is points to OnSeekBarChangeListener
              }
    }
}
</code></pre>
","149392","","<p>You can use <code>Home.this</code> to refer to the Home object.</p>
"
"<p>So, I don't quite get Ruby 1.9 's changes on enumerators, but what I'd like is a lazy filtering/mapping on a collection, so for example how can I create a lazy enumerator that would be the equivalent of this ...</p>

<pre><code>(1..100).find_all{|x| x % 2 == 1}.map{|x| x * 2}.find_all{|x| x % 3 == 0}
</code></pre>

<p>I tried passing a lambda to #enum_for, but it doesn't work on my machine.</p>
","149392","","<p>Sadly, you can't do this with enum_for. You have to use something like this for lazy enumerables:</p>

<pre><code>class LazyEnum
  include Enumerable

  attr_accessor :enum, :operations

  def initialize enum
    @enum = enum
    @operations = []
  end

  def each
    enum.each do |x|
      filtered = false
      operations.each do |type, op|
        if type == :filter
          unless op[x]
            filtered = true
            break
          end
        else
          x = op[x]
        end
      end
      yield x unless filtered
    end
  end

  def map! &amp;blk
    @operations &lt;&lt; [:transform, blk]
    self
  end

  def select! &amp;blk
    @operations &lt;&lt; [:filter, blk]
    self
  end

  def reject!
    select! {|x| !(yield x)}
  end

  def dup
    LazyEnum.new self
  end

  def map &amp;blk
    dup.map! &amp;blk
  end

  def select &amp;blk
    dup.select! &amp;blk
  end

  def reject &amp;blk
    dup.reject! &amp;blk
  end
end

LazyEnum.new(1..100).select{|x| x % 2 == 1}.map{|x| x * 2}.select{|x| x % 3 == 0}
#=&gt; #&lt;LazyEnum:0x7f7e11582000 @enum=#&lt;LazyEnum:0x7f7e115820a0 @enum=#&lt;LazyEnum:0x7f7e11582140 @enum=#&lt;LazyEnum:0x7f7e115822d0 @enum=1..100, @operations=[]&gt;, @operations=[[:filter, #&lt;Proc:0x00007f7e11584058@(irb):348&gt;]]&gt;, @operations=[[:transform, #&lt;Proc:0x00007f7e11583a90@(irb):348&gt;]]&gt;, @operations=[[:filter, #&lt;Proc:0x00007f7e115823c0@(irb):348&gt;]]&gt;
irb(main):349:0&gt; LazyEnum.new(1..100).select{|x| x % 2 == 1}.map{|x| x * 2}.select{|x| x % 3 == 0}.to_a
#=&gt; [6, 18, 30, 42, 54, 66, 78, 90, 102, 114, 126, 138, 150, 162, 174, 186, 198]
</code></pre>
"
"<p>HI,
I started learning C++ STL's
i am just trying some small programs.one of them is below:</p>

<pre><code>inline int const&amp; max (int const&amp; a, int const&amp; b) 
{
    return  a &lt; b ? b : a;
}

template &lt;typename T&gt;
inline T const&amp; max (T const&amp; a, T const&amp; b)
{
    return  a &lt; b ? b : a;
}

int main()
{
    ::max(7, 42);         // calls the nontemplate for two ints
    ::max&lt;&gt;(7, 42);       // calls max&lt;int&gt; (by argument deduction)
    ::max('a', 42.7);     // calls the nontemplate for two ints
}
</code></pre>

<p>I have some basic questions!!</p>

<ol>
<li><p>why is the scope resolution
    operator used here?</p></li>
<li><p>why/how is
    that calling ::max&lt;>(7, 42) will
    assume that the parameter passed are</p>

<p>integers?</p></li>
</ol>
","149392","","<ol>
<li><p>Presumably to avoid conflicts with std::max</p></li>
<li><p>It's not assuming that the parameters are integers, it sees that the parameters are integers. It then assumes that the template argument is <code>int</code> because the parameters are integers.</p></li>
</ol>
"
"<p>I am new to Scala and but very old to Java and had some understanding working with FP languages like ""Haskell"".</p>

<p>Here I am wondering how to implement this using Scala. There is a list of elements in an array all of them are strings and I just want to know if there is a way I can do this in Scala in a FP way. Here is my current version which works...</p>

<pre><code>def checkLength(vals: Array[String]): Boolean = {
  var len = -1
  for(x &lt;- conts){
    if(len &lt; 0)
      len = x.length()
    else{
      if (x.length() != len)
        return false
      else
        len = x.length()
    }
  }
  return true;
}
</code></pre>

<p>And I am pretty sure there is a better way of doing this in Scala/FP... </p>
","149392","","<pre><code>list.forall( str =&gt; str.size == list(0).size )
</code></pre>

<p>Edit: Here's a definition that's as general as possilbe and also allows to check whether a property other than length is the same for all elements:</p>

<pre><code>def allElementsTheSame[T,U](f: T =&gt; U)(list: Seq[T]) = {
    val first: Option[U] = list.headOption.map( f(_) )
    list.forall( f(_) == first.get ) //safe to use get here!
}

type HasSize = { val size: Int }
val checkLength = allElementsTheSame((x: HasSize) =&gt; x.size)_

checkLength(Array( ""123"", ""456"") )

checkLength(List( List(1,2), List(3,4) ))
</code></pre>
"
"<p>When writing some rspec today, I came across some unexpected behavior with comparing Date (and Time) instances to nil.  Here's a sample using raw ruby (no Rails or other libraries):</p>

<pre><code>user@MacBook-Work ~ $ ruby -v
ruby 1.8.7 (2008-08-11 patchlevel 72) [universal-darwin10.0]
user@MacBook-Work ~ $ irb
&gt;&gt; 1 == nil
=&gt; false
&gt;&gt; ""string"" == nil
=&gt; false
&gt;&gt; :sym == nil
=&gt; false
&gt;&gt; false == nil
=&gt; false
&gt;&gt; [] == nil
=&gt; false
&gt;&gt; {} == nil
=&gt; false
&gt;&gt; Proc.new {} == nil
=&gt; false
</code></pre>

<p>So far, so good, right?</p>

<pre><code>&gt;&gt; Date.new == nil
=&gt; nil
&gt;&gt; Time.new == nil
=&gt; nil
</code></pre>

<p>Date does implement its own ===, which works fine:</p>

<pre><code>&gt;&gt; Date.new === nil
=&gt; false
</code></pre>

<p>Is there any explanation as to why this happens or why this is desired behavior? == seems to be implemented from Comparable.==, however documentation on that doesn't given any indication that it would ever return nil.  What's the design decision to this?</p>

<p>Update! This is not the case in 1.9.2:</p>

<pre><code>$ irb
ruby-1.9.2-p136 :001 &gt; require 'date'
 =&gt; true 
ruby-1.9.2-p136 :002 &gt; Date.new == nil
 =&gt; false 
ruby-1.9.2-p136 :003 &gt; Time.new == nil
 =&gt; false 
</code></pre>
","149392","","<p>I checked the source and here's what I found out:</p>

<p>The comparison operators defined by Comparable all use the function <code>rb_cmpint</code> together with <code>&lt;=&gt;</code>. <code>rb_cmpint</code> raises an exception when one of the operands is nil.</p>

<p>So the operators of Comparable raise an exception if the rhs is not comparable to the lhs. I.e. <code>5 &lt; 2</code> is false, but <code>5 &lt; ""la""</code> raises an exception. They do this to differentiate between cases where <code>&lt;</code> is not true because the rhs is smaller and cases where it's not true because the rhs is not comparable. Or in other words: When <code>x &lt; y</code> is false that implies that <code>x &gt;= y</code> is true. So in cases where that would not be the case, it throws an exception.</p>

<p><code>==</code> raising an exception would be bad, because <code>==</code> usually does not (and should not) require its operands to be comparable. However <code>==</code> uses the same method as the other operands, which does raise an exception. So the whole function is simply wrapped in an <code>rb_rescue</code>. And that returns <code>nil</code> if an exception is thrown.</p>

<p>Note that this only applies to ruby 1.8. This has been fixed in 1.9 and now <code>==</code> never returns <code>nil</code> (except of course if you define your own <code>==</code> that does).</p>
"
"<p>I'm building a widget to show medal counts for the Olympics. I have a collection of ""country"" objects, where each has a ""name"" attribute, and ""gold"", ""silver"", ""bronze"" for medal counts.</p>

<p>List should be sorted:
1. First by total medal count
2. If same medals, sub-sort by type (gold > silver > bronze, ie. two golds > 1 gold + 1 silver)
3. If same medals and type, sub-sort alphabetically</p>

<p>I'm doing this in ruby, but I suppose the language doesn't matter. I did figure out a solution, but if feels like there must be a much more elegant way to do it.</p>

<p>Here's what I did:</p>

<ol>
<li><p>Create a virtual attribute with the weighted medal total. So if they had 2 gold and 1 silver, weighted total would be ""3.020100"". 1 gold and 1 silver and 1 bronze would be ""3.010101""</p></li>
<li><p>Since we want to sort the medal count as highest first, list is sorted DESC. But then we want to sub-sort alphabetically (ie. ASC) after that. So I created a function which would alpha-invert a word (ie. ""canada"" => ""xzmzwz"")</p></li>
<li><p>Convert the weighted total to a string, concat the reversed name (ie. ""3010101xzmzwz""), then sort descending. Voila.</p></li>
</ol>

<p>By now, someone has figured out how to do the same thing in about 2 lines of code. Care to enlighten me?</p>
","149392","","<pre><code>countries.sort_by do |country|
  medals = country.gold + country.silver + country.bronze
  [-medals, -country.gold, -country.silver, country.name]
end
</code></pre>
"
"<p>I'm going to have two class functions.  The first class function opens the file.  Then it calls a second function that writes to the file and recursively calls itself.  When the second function finishes, the original function closes the file.</p>

<p>Is it possible to do this?</p>
","149392","","<p>Yes, that's perfectly possible.</p>
"
"<p>I have a class and a hash. How can I get the members of the hash to dynamically become methods on the class with the key as the method name?</p>

<pre><code>class User
  def initialize
    @attributes = {""sn"" =&gt; ""Doe"", ""givenName"" =&gt; ""John""}
  end
end
</code></pre>

<p>For example, I would like to be able to have the following output <code>Doe</code>:</p>

<pre><code>u = User.new
puts u.sn
</code></pre>
","149392","","<pre><code>def method_missing(name, *args, &amp;blk)
  if args.empty? &amp;&amp; blk.nil? &amp;&amp; @attributes.has_key?(name)
    @attributes[name]
  else
    super
  end
end
</code></pre>

<p>Explanation: If you call a method, which does not exist, method_missing is invoked with the name of the method as the first parameter, followed by the arguments given to the method and the block if one was given.</p>

<p>In the above we say that if a method, which was not defined, is called without arguments and without a block and the hash has an entry with the method name as key, it will return the value of that entry. Otherwise it will just proceed as usual.</p>
"
"<p>Ruby/Rails does lots of cool stuff when it comes to sugar for basic things, and I think there's a very common scenario that I was wondering if anyone has done a helper or something similar for.</p>

<pre><code>   a = Array.new(5, 1)

   a.each_with_index do |x, i|
     if i == 0
       print x+1
     elsif i == (a.length - 1)
       print x*10
     else
        print x
     end
   end
</code></pre>

<p>Pardon the ugliness, but this gets at what one might want... is there a ruby way to do something to the first and last of a loop?</p>

<p><strong>[EDIT]</strong> I think ideally this would be an extension on Array with parameters (array instance, all elements function,  first elements function,  last elements function)... but I'm open to other thoughts.</p>
","149392","","<p>If the code for the first and last iteration has nothing in common with the code for the other iterations, you could also do:</p>

<pre><code>do_something( a.first )
a[1..-2].each do |x|
  do_something_else( x )
end
do_something_else_else( a.last )
</code></pre>

<p>If the different cases have some code in common, your way is fine.</p>
"
"<p>Provided the code below:</p>

<pre><code>template&lt;class _ResClass, class _ResLoader=DefaultLoader&gt;
class Resource 
: public BaseResource
{
private:
    _ResClass data_;

public:
    explicit Resource(const std::string&amp; path)
    : data_( _ResLoader::load&lt; _ResClass &gt;( path ))
    { };
};
</code></pre>

<p>Why would it fail but this one will work?:</p>

<pre><code>template&lt;class _ResClass, class _ResLoader=DefaultLoader&gt;
class Resource 
: public BaseResource
{
private:
    _ResClass data_;

public:
    explicit Resource(const std::string&amp; path)
    : data_( **DefaultLoader**::load&lt; _ResClass &gt;( path ))
    { };
};
</code></pre>
","149392","","<p>You need to do <code>_ResLoader::template load&lt; _ResClass &gt;( path )</code> instead of <code>_ResLoader::load&lt; _ResClass &gt;( path )</code>.</p>

<p>When accessing a template nested withing a template parameter, you need to use the <code>template</code> keyword (same way you need to use typename keyword for types nested in template parameters).</p>
"
"<p>As part of learning Haskell, I am trying to implement my own version of various functions associated with Lists. Right now I am stuck on the <strong>init</strong> function. init function in Haskell returns all the elements in a List other than the last element. </p>

<p>Here is what I have done so far.</p>

<pre><code>init' :: [Int] -&gt; [Int]
init' [] = error ""This function cannot be applied to an empty list""
init' [x] = [x]
init' (x:xs) = x : init' xs
</code></pre>
","149392","","<pre><code>init' [x] = [x]
</code></pre>

<p>This is not correct. If you remove the last element of a one-element list, you don't get back the same list, you get back an empty list.</p>
"
"<p>In Ruby, I'd like to convert a slash-separate String such as ""foo/bar/baz"" into [""foo/bar/baz"", ""foo/bar"", ""foo""]. I already have solutions a few lines long; I'm looking for an elegant one-liner. It also needs to work for arbitrary numbers of segments (0 and up).</p>
","149392","","<pre><code>""foo/bar/baz"".enum_for(:scan, %r{/|$}).map {Regexp.last_match.pre_match}
</code></pre>
"
"<p>Most things that look like operators are methods in Ruby; <code>1 + 2</code> is syntactic sugar for <code>1.+(2)</code>.</p>

<p>Even though <code>+</code> and <code>*</code> are methods that a program can redefine, Ruby has special magic to evaluate <code>1 + 2 * 3</code> as <code>1.+(2.*(3))</code> instead of <code>1.+(2).*(3)</code>.</p>

<p>I wonder where this special magic lives in Ruby--if it is hard-wired into the interpreter.</p>

<p>Ari.</p>
","149392","","<p>Yes, it's hardwired, so you can't add new operators or change the precedence of existing operators.</p>
"
"<p>So I'm fairly new to ruby in general, and I'm writing some rspec test cases for an object I am creating.  Lots of the test cases are fairly basic and I just want to ensure that values are being populated and returned properly.  I'm wondering if there is a way for me to do this with a looping construct.  Instead of having to have an assertEquals for each of the methods I want to test.</p>

<p>For instace:</p>

<pre><code>describe item, ""Testing the Item"" do

  it ""will have a null value to start"" do
    item = Item.new
    # Here I could do the item.name.should be_nil
    # then I could do item.category.should be_nil
  end

end
</code></pre>

<p>But I want some way to use an array to determine all of the properties to check.  So I could do something like </p>

<pre><code>propertyArray.each do |property|
  item.#{property}.should be_nil
end
</code></pre>

<p>Will this or something like it work?  Thanks for any help / suggestions.</p>
","149392","","<p><code>object.send(:method_name)</code> or <code>object.send(""method_name"")</code> will work.</p>

<p>So in your case</p>

<pre><code>propertyArray.each do |property|
  item.send(property).should be_nil
end
</code></pre>

<p>should do what you want.</p>
"
"<p>I'm running into a rather odd problem with Ruby and File.chmod (same problem exists with FileUtils.chmod.</p>

<p>Here is what I am doing for a test case:</p>

<pre><code>File.chmod(1777, ""testfile"")
</code></pre>

<p>But once I have done that, I get this as a permission set:</p>

<pre><code>--wxrwS--t
</code></pre>

<p>This problem only exists when using the *nix 4 digit permission sets.  I googled it, but didn't get anything of value.  When the permission set is 0777 it assigns properly, but anything higher than 0 for the first digit will mess up the permissions pretty bad.</p>

<p>Anybody have any tips?</p>

<p>I know I could make a system call to do what I want, but I'm sure it is something simple that I'm missing.</p>
","149392","","<p>01777 will work. In ruby a leading zero in an integer literal specifies that it's written in octal notation and file permissions are usually written as octal numbers.</p>
"
"<p>I started learning scala a few days ago and when learning it, I am comparing it with other <a href=""http://en.wikipedia.org/wiki/Functional_programming"">functional programming</a> languages like (<a href=""http://en.wikipedia.org/wiki/Haskell_%28programming_language%29"">Haskell</a>, <a href=""http://en.wikipedia.org/wiki/Erlang_%28programming_language%29"">Erlang</a>) which I had some familiarity with. Does Scala has <a href=""http://en.wikipedia.org/wiki/Guard_%28computer_science%29"">guard</a> sequences available?</p>

<p>I went through pattern matching in Scala, but is there any concept equivalent to guards with <code>otherwise</code> and all?</p>
","149392","","<p>Yes, there are pattern guards. They're used like this:</p>

<pre><code>def boundedInt(min:Int, max: Int): Int =&gt; Int = {
  case n if n&gt;max =&gt; max
  case n if n&lt;min =&gt; min
  case n =&gt; n
}
</code></pre>

<p>Note that instead of an <code>otherwise</code>-clause, you simply specifiy the pattern without a guard.</p>
"
"<p>I am getting completely different reults from string.scan and several regex testers...</p>

<p>I am just trying to grab the domain from the string, it is the last word.</p>

<p>The regex in question:</p>

<pre><code>/([a-zA-Z0-9\-]*\.)*\w{1,4}$/
</code></pre>

<p>The string (1 single line, verified in Ruby's runtime btw)</p>

<pre><code>str = 'Show more results from software.informer.com'
</code></pre>

<p>Work fine, but in ruby....</p>

<pre><code>irb(main):050:0&gt; str.scan /([a-zA-Z0-9\-]*\.)*\w{1,4}$/
=&gt; [[""informer.""]]
</code></pre>

<p>I would think that I would get a match on software.informer.com  ,which is my goal.</p>
","149392","","<p>It does not look as if you expect more than one result (especially as the regex is anchored). In that case there is no reason to use scan.</p>

<pre><code>'Show more results from software.informer.com'[ /([a-zA-Z0-9\-]*\.)*\w{1,4}$/ ]
#=&gt; ""software.informer.com""
</code></pre>

<p>If you do need to use scan (in which case you obviously need to remove the anchor), you can use <code>(?:)</code> to create non-capturing groups.</p>

<pre><code>'foo.bar.baz lala software.informer.com'.scan( /(?:[a-zA-Z0-9\-]*\.)*\w{1,4}/ )
#=&gt; [""foo.bar.baz"", ""lala"", ""software.informer.com""]
</code></pre>
"
"<p>I'm reading some slides of a class on object oriented programming languages and stepped into the type-subtype definition:</p>

<p>Barbara Liskov, “Data Abstraction and Hierarchy,” SIGPLAN Notices,
23,5 (May, 1988):</p>

<blockquote>
  <p>What is wanted here is something
  like the following   substitution
  property: If for each object o_s of
  type S there   is an object o_T of
  type T such that for all programs P<br>
  defined in terms of T, the behavior of
  P is unchanged   when o_S is
  substituted for o_T then S is a
  subtype of T</p>
</blockquote>

<p>Then it goes with an example:</p>

<blockquote>
  <p>Point = { x:Integer, y:Integer }<br>
     PositivePoint = { x:Positive, y:Positive }<br>
     where Positive = { k:Integer | k > 0 }  </p>
  
  <p>Can we say that   PositivePoint ≤ Point?</p>
  
  <p>Yes, because an element of type PositivePoint may always
  replace an element of type Point in a program defined in
  Point terms!</p>
</blockquote>

<p>Now... for me it seems it should be quite the opposite: Point ≤ PositivePoint because I couldn't use PositivePoint in a program that uses Point with negative coordinates, while I could to the opposite.</p>

<p>I doubted if the syntax was <code>Type ≤ Sub-type</code> or <code>Sub-Type ≤ Type</code>, but the statement seems more clear, what's wrong then?</p>

<hr>

<h2>Edit</h2>

<p>Just to make things easier the question is:
Can you say that <code>PositivePoint</code> is a subtype of <code>Point</code>?
Why?</p>

<hr>

<h2>2nd Edit</h2>

<p>I report here what I wrote in a comment hoping it will make my problem clearer:</p>

<blockquote>
  <p>Suppose that the program has to draw a
  square map from <code>Point</code> (-100, -100)
  to <code>Point</code> (100, 100). What would
  happen if you use type
  <code>PositivePoint</code>? Would the program's
  behavior be unchanged? It would not.
  This ""unchanged behavior"" is the only
  thing I don't get. If the definition
  of subtype was simply <code>inheriting and
  overriding</code> from an other type it
  would be ok, but it doesn't seem to be
  the case.</p>
</blockquote>
","149392","","<p>The idea is that any function which accepts a PositivePoint relies on the fact that the point's values are positive. If you passed in a Point whose values are not positive, the assumption is false and the function would fail.</p>

<p>A function accepting a Point, however, would make no assumptions about the point's positiveness, so if you passed in a PositivePoint, it would be fine.</p>

<p>Note that this is only true for an immutable Point class. If you were able to change a Point's value, PositivePoint and Point could be in no subclass relationship at all because the operation <code>p.x = -1</code> would fail for PositivePoints.</p>

<p>Edit: To elaborate:</p>

<p>Let's say we have 2 dimensional array which automatically grows when required (i.e. you never get an index-out-of-bounds error when passing two positive indices). Now we have a function which accepts a PositiveInteger p and then accesses the 2d-array at index x,y. This can't fail because x and y are guaranteed to be positive and the 2d-array can be indexed with any pair of positive indices. However if Point was a subtype of PositivePoint, p could actually have negative values even though it's declared to be positive. This would mean that it's no longer safe to use it to index the array.</p>

<p>However a function accepting a Point doesn't know whether the point's values are negative or positive - it already has to take into account the possibility that they're positive. So passing in a PositiveInteger can't break anything.</p>
"
"<p>I want to implement a lazy tree in Standard ML with</p>

<pre><code>datatype tr = N of int * unit-&gt;tr * unit-&gt;tr;
</code></pre>

<p>I tried to use</p>

<pre><code>fun form k = N(k,fn()=&gt;form(k+1),fn()=&gt;form(k+3));
</code></pre>

<p>as a test of concept, but I get error message saying type mismatch.</p>

<p>What would be the proper way of implementing a lazy tree in ML?</p>
","149392","","<pre><code>datatype tr = N of int * unit-&gt;tr * unit-&gt;tr;
</code></pre>

<p>This is parsed as</p>

<pre><code>datatype tr = N of (int * unit) -&gt; ( (tr * unit) -&gt; tr)
</code></pre>

<p>You want</p>

<pre><code>datatype tr = N of int * (unit-&gt;tr) * (unit-&gt;tr)
</code></pre>
"
"<p>I am learning Servlets and JSP. I am wondering about the ""doGet"" and other methods that may be overidden. The ""doGet"" takes 2 params - HTTPServletRequest request, and HTTPServletResponse response. This is my question: The request and response objects are used within the method body but I do not see any object creation e.g. request = new HTTPServletRequest. Are these objects created elsewhere e.g. in the superclass? This is just a Java question really as I often wonder about this with Applets also, i.e. the Graphics g object is passed to the ""paint"" method but I don't see it's creation anywhere?</p>

<p>GF</p>
","149392","","<p>The objects are created at the call-site. I.e. whoever calls the method is responsible for creating the objects that he/she passed to the method as parameters (unless he passes already existing objects, of course, but those have previously been created somewhere as well).</p>
"
"<p>does Scala have an API to do a ""chomp"" on a String?
Preferrably, I would like to convert a string ""abcd   \n"" to ""abcd""</p>

<p>Thanks
Ajay</p>
","149392","","<p>There's <code>java.lang.String.trim()</code>, but that also removes leading whitespace. There's also <code>RichString.stripLineEnd</code>, but that only removes <code>\n</code> and <code>\r</code>.</p>
"
"<p>I have command line utility written in ANSI C on a Mac with a function to create a bubble sorted array for a single-linked list.  I declared the loop variables.</p>

<pre><code>int a = 0;   
int b = 0;
</code></pre>

<p>I wrote the bubble sort for loops in the abbreviated style (i.e., leaving the variable initialization empty).</p>

<pre><code>for ( ; a &lt; size; a++)  
  for( ; b &lt; size; b++) 
</code></pre>

<p>This executed only once before exiting.  A previous for loop using the i variable to populate the array was written the same way and executed as expected.  The fix for the bubble sort loops was to put a = 0 and b = 0 back in.  Is there a reason why the abbreviated for loops failed to execute?</p>
","149392","","<p>If you leave out the <code>b=0</code> the inner loop will run exactly once, because after that b is already equal to size. You need to reset b to 0 on each iteration of the inner loop.</p>
"
"<p>What does <code>::</code> mean in Ruby? E.g. <code>Foo::Bar</code>.</p>
","149392","","<p>It accesses constants in a given class or module. E.g. <code>ActiveRecord::Base</code> is the constant <code>Base</code> defined in the module <code>ActiveRecord</code>.</p>
"
"<p>trying to overload the <code>java.lang.Math.sqrt</code> static method for <code>int</code> type :</p>

<pre><code>import static java.lang.Math.sqrt;

class Test
{
    private static double sqrt(int n)
    {
        return sqrt(1.0 * n);
    }

    public static void main(String[] args)
    {
        System.out.println(sqrt(1));
    }
}
</code></pre>

<p>an odd error arises :</p>

<pre><code>Test.java:7: sqrt(int) in Test cannot be applied to (double)
                return sqrt(1.0 * n);
                       ^
1 error
</code></pre>

<p>But when explicitly referencing the <code>java.lang.Math.sqrt</code> method all is going fine :</p>

<pre><code>class Test
{
    private static double sqrt(int n)
    {
        return Math.sqrt(1.0 * n);
    }

    public static void main(String[] args)
    {
        System.out.println(sqrt(1));
    }
}
</code></pre>

<p>The compiler used is the standard <strong>javac</strong>, version <strong>1.6.0_16</strong>.</p>

<p>So the questions are :</p>

<ol>
<li>Why is the compiler not able to resolve the overloading in the first case ?</li>
<li>Where does this behavior is specified in the java language specifications ?</li>
</ol>

<p>Thanks in advance.</p>
","149392","","<p>You can only overload methods in the same class. I.e. if you import a static method of another class and then define your own method with the same name, there will be no overload resolution. The imported version of the method will simply be ignored.</p>

<p>Regarding where this behavior is specified: The language specification defines overloading <a href=""http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.9"" rel=""nofollow"">like this</a>:</p>

<blockquote>
  <p>If two methods of a class (whether both declared in the same class, or both inherited by a class, or one declared and one inherited) have the same name but signatures that are not override-equivalent, then the method name is said to be overloaded.</p>
</blockquote>

<p>Note that it says ""two methods of a class"". So methods imported from another class are simply not considered.</p>

<p>So since your definition is not an overload of Math.sqrt, it shadows it as per <a href=""http://java.sun.com/docs/books/jls/third_edition/html/names.html#6.3.1"" rel=""nofollow"">section 6.3.1 of the definition</a>:</p>

<blockquote>
  <p>A declaration d of a method named n shadows the declarations of any other methods named n that are in an enclosing scope at the point where d occurs throughout the scope of d.</p>
</blockquote>
"
"<p>In the following fragment, is it possible to refer to the FOO constant from outside the module, and if so, how?</p>

<pre><code>module X
  class &lt;&lt; self
    FOO = 2
  end
end
</code></pre>
","149392","","<pre><code>class &lt;&lt;X
  self
end::FOO
</code></pre>

<p>or</p>

<pre><code>class Object
  def metaclass
    class &lt;&lt;self
      self
    end
  end
end

X.metaclass::FOO
</code></pre>
"
"<p>In C#, you could do something like this:</p>

<pre><code>public IEnumerable&lt;T&gt; GetItems&lt;T&gt;()
{
    for (int i=0; i&lt;10000000; i++) {
        yield return i;
    }
}
</code></pre>

<p>This returns an enumerable sequence of 10 million integers without ever allocating a collection in memory of that length.</p>

<p>Is there a way of doing an equivalent thing in Ruby?  The specific example I am trying to deal with is the flattening of a rectangular array into a sequence of values to be enumerated.  The return value does not have to be an <code>Array</code> or <code>Set</code>, but rather some kind of sequence that can only be iterated/enumerated in order, not by index.  Consequently, the entire sequence need not be allocated in memory concurrently.  In .NET, this is <code>IEnumerable</code> and <code>IEnumerable&lt;T&gt;</code>.</p>

<p>Any clarification on the terminology used here in the Ruby world would be helpful, as I am more familiar with .NET terminology.</p>

<p><strong>EDIT</strong></p>

<p>Perhaps my original question wasn't really clear enough -- I think the fact that <code>yield</code> has very different meanings in C# and Ruby is the cause of confusion here.</p>

<p>I don't want a solution that requires my method to use a block.  I want a solution that has an actual return value.  A return value allows convenient processing of the sequence (filtering, projection, concatenation, zipping, etc).</p>

<p>Here's a simple example of how I might use <code>get_items</code>:</p>

<pre><code>things = obj.get_items.select { |i| !i.thing.nil? }.map { |i| i.thing }
</code></pre>

<p>In C#, any method returning <code>IEnumerable</code> that uses a <code>yield return</code> causes the compiler to generate a finite state machine behind the scenes that caters for this behaviour.  I suspect something similar could be achieved using Ruby's continuations, but I haven't seen an example and am not quite clear myself on how this would be done.</p>

<p>It does indeed seem possible that I might use <a href=""http://ruby-doc.org/core/classes/Enumerable.html"" rel=""nofollow""><code>Enumerable</code></a> to achieve this.  A simple solution would be to us an <code>Array</code> (which includes module <code>Enumerable</code>), but I do not want to create an intermediate collection with N items in memory when it's possible to just provide them lazily and avoid any memory spike at all.</p>

<p>If this still doesn't make sense, then consider the above code example.  <code>get_items</code> returns an enumeration, upon which <code>select</code> is called.  What is passed to <code>select</code> is an instance that knows how to provide the next item in the sequence whenever it is needed.  Importantly, the whole collection of items hasn't been calculated yet.  Only when <code>select</code> needs an item will it ask for it, and the latent code in <code>get_items</code> will kick into action and provide it.  This <em>laziness</em> carries along the chain, such that <code>select</code> only draws the next item from the sequence when <code>map</code> asks for it.  As such, a long chain of operations can be performed on one data item at a time.  In fact, code structured in this way can even process an <em>infinite</em> sequence of values without any kinds of memory errors.</p>

<p>So, this kind of laziness is easily coded in C#, and I don't know how to do it in Ruby.</p>

<p>I hope that's clearer (I'll try to avoid writing questions at 3AM in future.)</p>
","149392","","<p>Your specific example is equivalent to <code>10000000.times</code>, but let's assume for a moment that the times method didn't exist and you wanted to implement it yourself, it'd look like this:</p>

<pre><code>class Integer
  def my_times
    return enum_for(:my_times) unless block_given?
    i=0
    while i&lt;self
      yield i
      i += 1
    end
  end
end

10000.my_times # Returns an Enumerable which will let
               # you iterate of the numbers from 0 to 10000 (exclusive)
</code></pre>

<p>Edit: To clarify my answer a bit:</p>

<p>In the above example my_times can be (and is) used without a block and it will return an Enumerable object, which will let you iterate over the numbers from 0 to n. So it is exactly equivalent to your example in C#.</p>

<p>This works using the enum_for method. The enum_for method takes as its argument the name of a method, which will yield some items. It then returns an instance of class Enumerator (which includes the module Enumerable), which when iterated over will execute the given method and give you the items which were yielded by the method. Note that if you only iterate over the first x items of the enumerable, the method will only execute until x items have been yielded (i.e. only as much as necessary of the method will be executed) and if you iterate over the enumerable twice, the method will be executed twice.</p>

<p>In 1.8.7+ it has become to define methods, which yield items, so that when called without a block, they will return an Enumerator which will let the user iterate over those items lazily. This is done by adding the line <code>return enum_for(:name_of_this_method) unless block_given?</code> to the beginning of the method like I did in my example.</p>
"
"<ol>
<li><p>In C++ we have value type (int, long, float, ...) and reference type (class, struct, ...). </p></li>
<li><p>For value type, Array and Vector hold the actual values;</p></li>
<li><p>For reference type, Array and Vector only hold the references to these objects;</p></li>
<li><p>So when we put reference type into Array and Vector, we need to make sure those objects will exist long enough (valid during the entire process) to avoid exception/error;</p></li>
</ol>

<p>My above statements are correct or not? please correct me if I am wrong.</p>
","149392","","<ol>
<li><p>No. Any type can be passed by value or by reference (also any type can be created on the stack or on the heap, though you didn't ask that).</p></li>
<li><p>For any type Arrays and Vectors hold the actual values. Because of this any type stored in a vector needs to be copy-constructible.</p></li>
<li><p>See 2.</p></li>
<li><p>Nope. That's only the case if you explicitly create a vector of pointers and then store a pointer to your object.</p></li>
</ol>
"
"<p>I'm wishing to figure out how many milliseconds a particular function uses. So I looked high and low, but could not find a way to get the time in Ruby with millisecond precision. </p>

<p>How do you do this? In most programming languages its just something like</p>

<pre><code>start = now.milliseconds
myfunction()
end = now.milliseconds
time = end - start
</code></pre>
","149392","","<p>You should take a look at the benchmark module to perform benchmarks. However, as a quick and dirty timing method you can use something like this:</p>

<pre><code>def time
  now = Time.now.to_f
  yield
  endd = Time.now.to_f
  endd - now
end
</code></pre>

<p>Note the use of <code>Time.now.to_f</code>, which unlike to_i, won't truncate to seconds.</p>
"
"<p>If a block is a closure, why does this code does not work, and how to make it work?</p>

<pre><code>def R(arg)
  Class.new do
    def foo
      puts arg
    end
  end
end

class A &lt; R(""Hello!"")
end

A.new.foo #throws undefined local variable or method `arg' for #&lt;A:0x2840538&gt;
</code></pre>
","149392","","<p>Blocks are closures and <code>arg</code> is indeed available inside the <code>Class.new</code> block. It's just not available inside the <code>foo</code> method because <code>def</code> starts a new scope. If you replace <code>def</code> with <code>define_method</code>, which takes a block, you'll see the result you want:</p>

<pre><code>def R(arg)
    Class.new do
        define_method(:foo) do
           puts arg
        end
    end
end

class A &lt; R(""Hello!"")
end

A.new.foo # Prints: Hello!
</code></pre>
"
"<pre><code>class Class1
{
public:
    void print()
    {
        cout &lt;&lt; ""test"" &lt;&lt; endl;
    }

    void printl()
    {
        print();
    }
};

class Class2 : public Class1
{
public:
    void print()
    {
        cout &lt;&lt; ""test2"" &lt;&lt; endl;
    }
};
</code></pre>

<p>Why does print() not get overridden in Class2, is there any way a function can be overridden like this? (Without virtual functions). Thanks</p>

<pre><code>    Class2 t;
    t.printl();
</code></pre>
","149392","","<p>No, there is no way to override non-virtual functions. That's what virtual functions are for.</p>
"
"<p>Is it implied by default in str.scan? Is it off by default in str[regex] ?</p>
","149392","","<p>Yes, how often the regex is applied depends on the method used, not on the regex's flags.</p>

<p>scan will return an array containing (or iterate over) all matches of the regex. match and <code>String#[]</code> will return the first match. <code>=~</code> will return the index of the first match. gsub will replace all occurrences of the regex and sub will replace the first occurence.</p>
"
"<p>I am trying to use the Enumerable#each_slice. It doesn't work on my computer, stating that method is not found. </p>

<p>I am running ruby 1.8.6 (2008-08-11 patchlevel 287) [universal-darwin9.0] </p>

<p>API: <a href=""http://ruby-doc.org/core/classes/Enumerable.html#M003142"" rel=""nofollow"">http://ruby-doc.org/core/classes/Enumerable.html#M003142</a></p>

<p>Example:</p>

<pre><code>(1..10).each_slice(3) {|a| p a} # I get NoMethodError: undefined method `each_slice' for 1..10:Range
</code></pre>

<p>What am I doing wrong?</p>
","149392","","<p>In ruby 1.8.6 you have to <code>require 'enumerator'</code> (which is part of stdlib and has been merged into core in 1.8.7+) before using each_slice.</p>

<p>Sadly the ruby-doc lists methods that are added to core classes by stdlib without mentioning where the methods are from.</p>
"
"<p>I'm creating a social network in Rails and I have a model like this:</p>

<pre><code>create_table ""friendships"", :force =&gt; true do |t|
    t.integer  ""user1_id""
    t.integer  ""user2_id""
    t.boolean  ""hasaccepted""
    t.datetime ""created_at""
    t.datetime ""updated_at""
end
</code></pre>

<p>The problem is that you cannot add yourself as friend, so I tried this in my model:</p>

<pre><code>def validate
    if :user1_id == :user2_id
        record.errors.add ""You cannot add yourself as a friend.""
        return false
    end
end
</code></pre>

<p>And I have this in my controller:</p>

<pre><code>def addfriend
    if params[:id]
        @friendship = Friendship.new()
        @friendship.user1_id = session[:user]
        @friendship.user2_id = params[:id]
        respond_to do |format|
            if @friendship.save
                format.html { redirect_to ""/"" } # Yes, SO users, I will fix this redirect later and it is not important for now.
                format.xml  { render :xml =&gt; @friendship, :status =&gt; :created }
            else
                format.html { redirect_to ""/"" }
                format.xml  { render :xml =&gt; @friendship.errors, :status =&gt; :unprocessable_entity }
            end
        end
    end
end
</code></pre>

<p>(where <code>session[:user]</code> is the uid of the currently signed in user)</p>

<p>However, when I go to <code>http://localhost:3000/profile/addfriend/2.xml</code> while I'm signed in as user <code>2</code>, Rails returns me the new <code>Friendship</code>, instead of an error message, and when I take a look at my database, the <code>Friendship</code> is also there (and it shouldn't). Can someone please explain me how to fix this? Thanks</p>
","149392","","<pre><code>if :user1_id == :user2_id
</code></pre>

<p>That's always gonna be false - you're comparing the symbols. It's the same as writing <code>if ""user1_id"" == ""user2_id""</code>.</p>

<p>You should write it as <code>if user1_id == user2_id</code> to compare the values of the columns.</p>
"
"<p>Trying to create a base class from which I can derive different types. What's wrong with the following?</p>

<pre><code>class (Eq a) =&gt; MyClass a 

data Alpha = Alpha
instance MyClass Alpha where
    Alpha == Alpha = True
</code></pre>

<p>I get the error:</p>

<pre><code>test.hs:5:10: `==' is not a (visible) method of class `MyClass'
Failed, modules loaded: none.
</code></pre>
","149392","","<p>You have to make Alpha an instance of Eq explicitly. This will work:</p>

<pre><code>data Alpha = Alpha
instance Eq Alpha where
    Alpha == Alpha = True
instance MyClass Alpha
</code></pre>
"
"<p>I am new to Prolog and am experimenting around with some stuff, in particular i'm thinking about how to do a certain thing in prolog. I am aware of facts and rules, facts being something of the sort</p>

<pre><code>specialCustomer(x).                     //person x is a specialcustomer
</code></pre>

<p>and rules:</p>

<pre><code>totalSpend(x,500) :- specialCustomer(x).     //if x spends 500, he is a special customer
</code></pre>

<p>Would this fact and rule be valid in prolog? Is the rule wrong? How would i be able to query this through prolog? As in would a call of</p>

<pre><code>totalSpend(bob,500).
</code></pre>

<p>be a valid call?</p>

<p>sorry if i am answering my own question, i just seem to be a bit...well confused!</p>
","149392","","<p>Everything you wrote is syntactically valid, but from your comments it doesn't seem like it does what you want it to.</p>

<pre><code>specialCustomer(x).
</code></pre>

<p>Here you're saying specialCustomer(x) is true (and specialCustomer(anything_else) is false).</p>

<pre><code>totalSpend(x,500) :- specialCustomer(x).
</code></pre>

<p>Here you're saying that totalSpend(x,500) is true iff specialCustomer(x) is true. Since you already defined special customer to be true, you could just as well have written</p>

<pre><code>totalSpend(x,500).
</code></pre>

<p>Your comment makes it look as if you think that the part before the <code>:-</code> is the condition for the part after it, but it's the other way around.</p>

<pre><code>totalSpend(bob,500).
</code></pre>

<p>Here you're asking whether totalSpend(bob, 500) is true, but since there is no rule for bob, it will be false.</p>

<p>Note that <code>x</code> and <code>bob</code> are symbols, not variables. So <code>specialCustomer(x)</code> will be true, but <code>specialCustomer(bob)</code> won't be.</p>
"
"<p>I do not know how to convert a linked list of doubles to array . Please help me find the error.</p>

<pre><code>import java.util.*;
public class StackCalculator {


  private   LinkedList&lt;Double&gt; values;
  double value1 , value2 ;

  public StackCalculator()
  {
     values = new LinkedList&lt;Double&gt;();
  }


    void push(double x)
    {
         values.addFirst(x);
    }
    double pop()
    {
       return values.removeFirst();
    }
    double add()
    {
        value1=pop();
        value2=pop();
        return (value1 + value2);
    }

    double mult()
    {
        value1=pop();
        value2=pop();
        return (value1 * value2);
    }


    double[] v = new double[10];
    double[] getValues()
    {
        return   values.toArray(v);
    }

}
</code></pre>
","149392","","<p><code>toArray</code> is defined to return <code>T[]</code> where T is a generic argument (the one-argument version is anyway). Since primitives can't be used as generic arguments, toArray can't return <code>double[]</code>.</p>
"
"<p>For example, Test Table</p>

<pre><code>|id|name   |item_id|num|
|1 |apple  |1      |1  |
|2 |orenge |2      |1  |
|3 |orenge |2      |1  |
|4 |pear   |3      |1  |
|5 |apple  |1      |1  |
.....
</code></pre>

<p>In Controller,</p>

<pre><code>@items = Test.find(:all, :page=&gt;{:size=&gt;20, :current=&gt;params[:page]}) 
</code></pre>

<p>I use paginating_find plugin.</p>

<p>In view,</p>

<pre><code>&lt;% @items.each do |item| %&gt;
&lt;%=h item.name %&gt; x &lt;%= item.num %&gt;&lt;br /&gt;
&lt;% end %&gt;
&lt;%= link_to ""before"", {:page =&gt; @items.previous_page} if @items.previous_page? %&gt;
&lt;%= paginating_links(@items, :window_size =&gt; 20) %&gt;
&lt;%= link_to ""next"", {:page =&gt; @items.next_page} if @items.next_page? %&gt; 
</code></pre>

<p>↓</p>

<pre><code>apple x 1
orenge x 1
orenge x 1
pear x 1
apple x 1

.....
</code></pre>

<p>How should I do to make it to the way below?
(The structure of the table is not changed.)</p>

<pre><code>apple x 2
orenge x 2
pear x 1
.....
</code></pre>
","149392","","<p>You can use sum with the <code>:group</code> parameter to sum the count of all items which have the same name:</p>

<pre><code>@items = Test.sum(""count"", :group =&gt; ""name"")
</code></pre>

<p>This will give you an OrderedHash of the form <code>name =&gt; count</code>. You can then iterate over that in the view.</p>

<p>However it seems strange that you even have multiple items with the same name, given that there is a count column. You should probably change the code that you use to create new items, so that it only creates a new item if one with that name does not already exist - otherwise it should increment the count of the existing item.</p>
"
"<p>I am learning how to work with std::vector and want to access its values and functions. I have a vector object inside another object called spectrum. Now when I try to determine the capacity of the vector using .capacity it works fine if I just declare the vector. But when I declare the vector inside another object, I get syntax errors.</p>

<p>The error:</p>

<pre><code>test.c++:36: error: base operand of ‘-&gt;’ has non-pointer type ‘Spectrum’
</code></pre>

<p>As mentioned already below, -> should be a dot.</p>

<p>What I want is to determine the capacity of the container, and even though it now compiles it gives result 0 instead of the 8 I would expect.</p>

<p>The code:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;

using namespace std;

/*  spectrum    */
class Spectrum{
    public:
        float oct;
        vector&lt;float&gt; band;

        float total(){
            int k;
            float lpow;
            // logarithmic summation
            for(k = 0; k &lt; oct; k++){
                lpow = lpow + pow(10, band[k]);
            }
            return(10*log10(lpow));
        }

        Spectrum(int max_oct = 3){
            oct = max_oct;
            cout &lt;&lt; ""max oct = "" &lt;&lt; max_oct &lt;&lt; endl;
            vector&lt;float&gt; band(max_oct); //create vector/array with max_oct bands
            cout &lt;&lt; (int)band.capacity() &lt;&lt; endl;
        }

};

int main()
{
    //does not work in a class
    Spectrum input(8);
    cout &lt;&lt; (int)input-&gt;band.capacity() &lt;&lt; endl;

    //does work outside of a class
    vector&lt;float&gt; band(8);
    cout &lt;&lt; (int)band.capacity() &lt;&lt; endl;
}
</code></pre>
","149392","","<p>It doesn't work because you're trying to use <code>-&gt;</code> on input even though input is not a pointer (or an object with a <code>-&gt;</code> method). Just use <code>input.band.capacity</code> and it will be fine.</p>
"
"<p>What will happen if I use a inline function inside a virtual function? I'm confused with questions like 
<a href=""http://www.parashift.com/c++-faq-lite/value-vs-ref-semantics.html#faq-31.6"" rel=""nofollow"">http://www.parashift.com/c++-faq-lite/value-vs-ref-semantics.html#faq-31.6</a></p>

<p>I can understand it, but is that mean, it will non-sense to use (call) inline functions inside virtual functions (please assume that it is calling dynamically)?</p>

<pre><code>class Wrapper
{
public:
   inline void doInlineJob() {;}
};

class Base
{
   virtual void foo()
   {
     //Do something
   }
};

class Derived: public Base
{
    void foo()
    {
      wrapObj.doInlineJob();
    }

    Wrapper wrapObj;
};
</code></pre>
","149392","","<p>It doesn't matter whether foo is virtual or not. It only matters whether doInlineJob is virtual. It's not, so it can be inlined without a problem.</p>
"
"<p>I have a Time instance curr_time with the value of Time.now and another String target_date with the value, say, ""Apr 17, 2010"". How do I get the date part in the variable curr_time change to the value of target_date ?</p>

<pre>
>> curr_time
=> Sun Feb 21 23:37:27 +0530 2010
>> target_date
=> ""Apr 17, 2010""
</pre>

<p>I want curr_time to change like this:</p>

<pre>
>> curr_time
=> Sat Apr 17 23:37:27 +0530 2010
</pre>

<p>How to achieve this?</p>
","149392","","<p>Time objects are immutable, so you have to create a new Time object with the desired values. Like this:</p>

<pre><code>require 'time'
target = Time.parse(target_date)
curr_time = Time.mktime(target.year, target.month, target.day, curr_time.hour, curr_time.min)
</code></pre>
"
"<p>How can I make the code below work, so that both <code>puts</code> display <code>1</code>?</p>

<pre><code>video = []
name = ""video""

name[0] = 1

puts name[0] #gives me 1
puts video[0] #gives me nil
</code></pre>
","149392","","<p>You can make it work using eval:</p>

<pre><code>eval ""#{name}[0] = 1""
</code></pre>

<p>I strongly advise against that though. In most situations where you think you need to do something like that, you should probaby use a hashmap. Like:</p>

<pre><code>context = { ""video"" =&gt; [] }
name = ""video""
context[name][0] = 1
</code></pre>
"
"<p>I have a List of type Node. I want to set a temporary Node equal to the Node at the front of the List but I keep getting a Linker Error:</p>

<pre><code>class Node
{ 
   public:
      Node();
      Node&amp; operator = (const Node&amp; n);
};
</code></pre>

<p>1>Linking...
1>main.obj : error LNK2019: unresolved external symbol ""public: class Node &amp; __thiscall Node::operator=(class Node const &amp;)"" (??4Node@@QAEAAV0@ABV0@@Z) referenced in function ""void __cdecl fillScan(int,class std::list >)"" (?fillScan@@YAXHV?$list@VNode@@V?$allocator@VNode@@@std@@@std@@@Z)
1>C:\Users\Aaron McKellar\Documents\School Stuff\CS445\Test\Debug\Test.exe : fatal error LNK1120: 1 unresolved externals</p>

<p>Thanks in advance!</p>
","149392","","<p>You only showed the declaration of <code>operator=</code>, not the definition. Either you didn't supply a definition or the linker can't find it.</p>

<p>Well, I should say: The linker definitely can't find the definition for <code>operator=</code>. Either that's because you forgot to supply one or because your project/Makefile is set up incorrectly.</p>
"
"<p>i'm completely stumped on how to Write a function that, given a list of sets returns the sets split into sublists by size (and with the sublists ordered by the size of sets they contain).</p>

<p>sample input
*Main> allSets
[[1,2],[8],[1,4,7,8],[5],[1,4],[1],[2,3],[1,2,5,8],[3,4,6,7],[1,2,3,4],[4],[5,6,7,8],[3,4],[3],[2,3,5,6],[7],[6],[2]]</p>

<p>sample output
*Main> collectByLength allSets
[[[2],[6],[7],[3],[4],[1],[5],[8]],[[3,4],[2,3],[1,4],[1,2]],[[2,3,5,6],[5,6,7,8],[1,2,3,4],[3,4,6,7],[1,2,5,8],[1,4,7,8]]]</p>

<p>basically it should group all the sets of the same size into their own set,then it groups the sets of the next largest size</p>
","149392","","<p>After importing Data.Function, Data.Ord and List, you can write this:</p>

<pre><code>sortBy (comparing length) $ groupBy ((==) `on` length) $ sortBy (comparing length) theList
</code></pre>
"
"<p>I'm using <a href=""http://github.com/dazuma/blockenspiel"" rel=""nofollow"">Blockenspiel</a> to create a DSL with Ruby. It works great and
solves a lot of my problems, but I encountered the following problem
that is not strictly related to Blockenspiel. </p>

<p>Suppose I have a DSL that looks like this:</p>

<pre><code>dish do
  name = 'Pizza'
  ingredients = ...
  nutrition_facts = ...
end

dish do
  name = 'Doner'
  ingredients = ...
  nutrition_facts = ...
end
</code></pre>

<p>Now I have a menu compiler which takes the dishes and compiles them into
a menu. The compiler should now be able to compile multiple menu files,
so it has setup and clear a global context. This should preferably
happen in parallel.</p>

<p>I found out that sinatra uses class variables, but this has the
consequence that it can only do sequential processing and that you
have to clear the class variables when you want to compile a new
menu. An alternative would be to use global variables.</p>

<p>I would prefer to evaluate the DSL methods within the scope of an
object, so that there's no global context and I could compile the
menus in parallel, but the last time I tried this, I encountered some
problems when declaring (helper-)methods in the menu file.</p>

<p>Which methods are possible? What is the recommended way to do this?</p>
","149392","","<p>There are basically two ways to archieve what you want.</p>

<p>Option a: You yield an object with setter-methods:</p>

<pre><code>Dish = Struct.new(:name, :ingredients, :nutrition_facts)
def dish
  d = Dish.new
  yield d
  d
end

dish do |d|
  d.name = 'Pizza'
  d.ingredients = ...
  d.nutrition_facts = ...
end
</code></pre>

<p>Option b: you use instance variables and instance_eval</p>

<pre><code>class Dish
  attr_accessor :name, :ingredients, :nutrition_facts
end
def dish(&amp;blk)
  d = Dish.new
  d.instance_eval(&amp;blk)
  d
end

dish do
  @name = 'Doner'
  @ingredients = ...
  @nutrition_facts = ...
end
</code></pre>

<p>In both cases the dish method will return an instance of Dish on which you can call e.g. <code>name</code> to access the name set in the block (and multiple calls to dish will return independent objects). Note that with instance_eval the user will also be able to call private methods of the Dish class in the block and that misspelling variable names will not cause an error.</p>
"
"<p>I searched in Google to find the differences between a case class and a class. Everyone mentions that when you want to do pattern matching on the class, use case class. Otherwise use classes and also mentioning some extra perks like equals and hascode overriding. But are these the only reasons why one should use a case class instead of class? </p>

<p>I guess there should be some very important reason for this feature in Scala. What is the explanation or is there a resource to learn more about the Scala case classes from?</p>
","149392","","<ul>
<li>Case classes can be pattern matched</li>
<li>Case classes automatically define hashcode and equals</li>
<li>Case classes automatically define getter methods for the constructor arguments.</li>
</ul>

<p>(You already mentioned all but the last one).</p>

<p>Those are the only differences to regular classes.</p>
"
"<p>I am using Rails 2.3.5.</p>

<p>Company has many users. User has many emails addresses. Association tables are company_users and user_emails table.</p>

<p>I want to get all the email addresses for a company. What is the most efficient way to get that?</p>
","149392","","<p>In the definition of Company add the line:</p>

<pre><code>has_many :emails, :through =&gt; :users
</code></pre>

<p>Now all Company objects have an <code>emails</code> method, which returns all the emails of all the users of that company.</p>
"
"<p>I have a function specification that states it that should evaluate a polynomial function of one variable. The coefficient of the function is given as a list.  It also accepts the value of the variable as a real.  </p>

<p>For example: eval(2, [4, 3, 2, 1]) = 26 (1*x^3 + 2*x^2 + 3*x^1 + 4*x^0, where x = 2)</p>

<p>Here's the function in python, but I'm not sure how to convert it to SML.  I'm having trouble finding a way to pass it the iteration value without changing the parameters of the function.  It needs to remain a real * real list -> real function.  </p>

<pre><code>def eval(r, L):
    sum = 0
    for i in range(0, len(L)):
        sum = sum + L[i] * (r ** i)
    return sum
</code></pre>
","149392","","<p>The usual way to express sums in functional languages is a fold. You can get rid of the need for an index (and a function to raise an int to the power of another int) by multiplying the sum with r in each iteration:</p>

<pre><code>fun eval radix lst = let
  fun f (element, sum) = sum * radix + element
in
  foldr f 0 lst
end
</code></pre>

<p>Now the function can be used like this:</p>

<pre><code>- eval 10 [1,2,3];
val it = 321 : int
</code></pre>
"
"<p>Say I have an array like this:</p>

<pre><code>[""white"", ""red"", ""blue"", ""red"", ""white"", ""green"", ""red"", ""blue"", ""white"", ""orange""]
</code></pre>

<p>I want to go through the array and create a new array containing each individual color and the amount of times it appeared in the original array.  </p>

<p>So, in the new array it would report that ""white"" appeared 3 times, ""blue"" appeared 2 times and so on...</p>

<p>How should I go about doing this?</p>
","149392","","<pre><code>counts = Hash.new(0)
colors.each do |color|
    counts[color] += 1
end
</code></pre>
"
"<p>I have some lines in a text file like this:</p>

<pre><code>==Text==
</code></pre>

<p>I'm trying to match the start, using this:</p>

<pre><code>line.matches(""^==[^=]"")
</code></pre>

<p>However, this returns false for every line... little help?</p>
","149392","","<p><code>matches</code> automatically anchors the regex, so the regex has to match the whole string. Try:</p>

<pre><code>line.matches(""==[^=].*"")
</code></pre>
"
"<p>I've got a string like this:</p>

<pre><code>&amp;lt;block trace=""true"" name=""AssignResources: Append Resources""&amp;gt;
</code></pre>

<p>I need to get the word (or the characters to next whitespace) after <code>&amp;lt;</code> (in this case <em>block</em>) and the words before <code>=</code> (here 
<em>trace</em> and <em>name</em>).</p>

<p>I tried several regex patterns, but all my attempts return the word with the ""delimiters"" characters included... like <code>;block</code>.</p>

<p>I'm sure it's not that hard, but I've not found the solution yet. </p>

<p>Anybody's got a hint?<br>
Thanks.</p>

<p>Btw: I want to replace the pattern matches with <code>gsub</code>.</p>

<p>EDIT:</p>

<p>Solved it with following regexes:</p>

<p>1)
    <code>/\s(\w+)=""(.*?)""/</code>
matches all attr and their values in $1 and $2.</p>

<p>2)
    <code>/&amp;lt;!--.*--&amp;gt;/</code>
matches comments</p>

<p>3)
    <code>/&amp;lt;([\/|!|\?]?)([A-Za-z0-9]+)[^\s|&amp;gt;|\/]*/</code>
matches all tag names, wheter they're in a closing tag, self closing tag, <code>&lt;?xml&gt;</code>-tag or DTD-tag. <code>$1</code> includes optional prefixed <code>/ ! or ?</code> or nothing and <code>$2</code> contains the tagname</p>
","149392","","<pre><code>'&amp;lt;block trace=""true"" name=""AssignResources: Append Resources""&amp;gt;'[/&amp;lt;(\w+)/, 1]
#=&gt; ""block""
</code></pre>

<p>If you pass a regex and an index i to <code>String#[]</code>, it'll return the value of the ith capturing group.</p>

<p>Edit:</p>

<p>In 1.9 you can use <code>/(?&lt;=&amp;lt;)\w+/</code> to require the presence of the <code>&amp;lt;</code> without matching it. In 1.8 there is no way to do that. The best you can do is to put the part, you don't want to replace, in a capturing group and and access that group in the replacement like this:</p>

<pre><code>""lo&amp;lt;la li"".gsub(/(&amp;lt;)(\w+)/, '\1 --\2--')
 #=&gt; ""lo&amp;lt; --la-- li""
</code></pre>
"
"<p>I'm trying to write a word counter for LyX files.</p>

<p>Life is almost very simple as most lines that need to be ignored begin with a <code>\</code> (I'm prepared to make the assumption that no textual lines begin with backslashes) - however there are some lines that look like real text that aren't, but they are enclosed by <code>\begin_inset</code> and <code>\end_inset</code>:</p>

<pre><code>I'm genuine text.

\begin_inset something
I'm not real text
Perhaps there will be more than one line! Or none at all! Who knows.
\end_inset

/begin_layout
I also need to be counted, and thus not removed
/end_layout
</code></pre>

<p>Is there a quick way in ruby to strip the (smallest amount of) text <em>between</em> two markers? I'm imagining Regular Expressions are the way forward, but I can't figure out what they'd have to be.</p>

<p>Thanks in advance</p>
","149392","","<blockquote>
  <p>Is there a quick way in ruby to strip the (smallest amount of) text between two markers?</p>
</blockquote>

<pre><code>str = ""lala BEGIN_MARKER \nlu\nlu\n END_MARKER foo BEGIN_MARKER bar END_MARKER baz""
str.gsub(/BEGIN_MARKER.*?END_MARKER/m, """")
#=&gt; ""lala  foo  baz""
</code></pre>
"
"<p>I am wondering if oCaml optimizes this code to be tail recursive and if so does F#?</p>

<pre><code>let rec sum xs =
  match xs with
    | [] -&gt; 0
    | x :: xs' -&gt; x + sum xs'
</code></pre>
","149392","","<p>In the recursive case (i.e. the case that xs is not empty) the last evaluated operation is the addition. For the function to be tail-recursive the last evaluated operation needs to be the recursive call to sum.</p>

<p>Functions like this are usually defined using a helper function with an accumulator to make them tail-recursive. In this case that would be a function that takes the list to be summed and the current value of the sum. If the list is empty, it would return the current value of the sum. If the list is not empty, it would call itself with the tail of the list and the current value of the sum + the head of the list as arguments. The sum function would then simply call the helper function with the list and 0 as the current value of the sum.</p>
"
"<p>What does<code>x :: xs'</code> mean?
I dont have much functional experience but IIRC in F#  1 :: 2 :: 3 :: [];; creates an array of [1,2,3]
so what does the ' do?</p>

<pre><code>let rec sum xs =
  match xs with
    | [] -&gt; 0
    | x :: xs' -&gt; x + sum xs'
</code></pre>
","149392","","<p>The ' is simply part of the variable name. And yes <code>foo :: bar</code>, where foo is an element of type a and bar is a list of type a, means ""the list that has foo as its first element, followed by the elements of bar"". So the meaning of the match statement is:</p>

<p>If xs is the empty list, the value is 0. If xs is the list containing the item x followed by the items in <code>xs'</code> the value is <code>x + sum xs'</code>. Since <code>x</code> and <code>xs'</code> are fresh variables, this has the effect that for any non empty list, <code>x</code> will be assigned the value of the first element and <code>xs'</code> will be assigned the list containing all other elements.</p>
"
"<p>I am looking for the <code>C</code> program for reverse the digits like below:</p>

<p>If i enter:</p>

<blockquote>
  <p>123456</p>
</blockquote>

<p>Then the result would be:</p>

<blockquote>
  <p>654321</p>
</blockquote>

<p>Please help me.</p>
","149392","","<p>Use <code>% 10</code> to get the last digit. Output it. Divide the number by 10 to get all but the last digit. Use <code>% 10</code> to get the last digit of that. And so on, until the number becomes 0.</p>
"
"<p>To append to an existing string this is what I am doing.</p>

<pre><code>s = 'hello'
s.gsub!(/$/, ' world');
</code></pre>

<p>Is there a better way to append to an existing string.</p>

<p>Before someone suggests following answer lemme show that this one does not work</p>

<pre><code>s = 'hello'
s.object_id
s = s + ' world'
s.object_id 
</code></pre>

<p>In the above case object_id will be different for two cases.</p>
","149392","","<p>You can use <code>&lt;&lt;</code> to append to a string in-place.</p>

<pre><code>s = ""foo""
old_id = s.object_id
s &lt;&lt; ""bar""
s                      #=&gt; ""foobar""
s.object_id == old_id  #=&gt; true
</code></pre>
"
"<p>What does Scala's @ operator do?</p>

<p>For example, in the blog post <em><a href=""http://szeiger.de/blog/2008/08/02/formal-language-processing-in-scala-part-2/"">Formal Language Processing in Scala, Part 2</a></em> there is a something like this</p>

<pre><code>case x @ Some(Nil) =&gt; x
</code></pre>
","149392","","<p>When pattern matching <code>variable @ pattern</code> binds <em>variable</em> to the value matched by <em>pattern</em> if the pattern matches. In this case that means that the value of <code>x</code> will be <code>Some(Nil)</code> in that case-clause.</p>
"
"<p>If this works:</p>

<pre><code>Prelude Data.Char&gt; map toUpper (""sdfsd"" ++ ""dfgfdg"")
""SDFSDDFGFDG""
</code></pre>

<p>Then why this doesn't?</p>

<pre><code>Prelude Data.Char&gt; map toUpper . (++) ""sdfsd"" ""dfgfdg""

&lt;interactive&gt;:1:14:
    Couldn't match expected type `a -&gt; [Char]'
           against inferred type `[Char]'
    In the second argument of `(.)', namely `(++) ""sdfsd"" ""dfgfdg""'
    In the expression: map toUpper . (++) ""sdfsd"" ""dfgfdg""
    In the definition of `it': it = map toUpper . (++) ""sdfsd"" ""dfgfdg""
</code></pre>
","149392","","<pre><code>map toUpper . (++) ""sdfsd"" ""dfgfdg""
</code></pre>

<p>is parsed as:</p>

<pre><code>(map toUpper) . ((++) ""sdfsd"" ""dfgfdg"")
</code></pre>

<p>So basically you're doing</p>

<pre><code>(map toUpper) . ""sdfsddfgfdg""
</code></pre>

<p>This does not work because the second argument to <code>.</code> needs to be a function, not a string.</p>

<p>I assume you were trying to do something more like <code>(map toUpper . (++)) ""sdfsd"" ""dfgfdg""</code>. This also does not work because the return type of <code>++</code> is <code>[a] -&gt; [a]</code> while the argument type of <code>map toUpper</code> is <code>[a]</code>.</p>

<p>The thing here is that while one might think of <code>++</code> as a function that takes two lists and returns a list, it really is a function that takes one list and then returns a function which takes another list and returns a list. To get what you want, you'd need to <code>++</code> into a function that takes a tuple of two lists and returns a list. That's called uncurrying. The following works:</p>

<pre><code>map toUpper . (uncurry (++)) $ (""sdfsd"", ""dfgfdg"")
</code></pre>
"
"<p>I am looking for example where things in python would be easier to program just because it is dynamically typed? </p>

<p>I want to compare it with Haskell type system because its static typing doesn't get in the way like c# or java. Can I program in Haskell as I can in python without static typing being a hindrance? </p>

<p>PS: I am a python user and have played around little bit with ML and Haskell.. ... I hope it is clear now..</p>
","149392","","<p>Well for one you can't create a list containing multiple types of values without wrappers (like to get a list that may contain a string or an int, you'd have to create a list of <code>Either Int String</code> and wrap each item in a <code>Left</code> or a <code>Right</code>).</p>

<p>You also can't define a function that may return multiple types of values (like <code>if someCondition then 1 else ""this won't compile""</code>), again, without using wrappers.</p>
"
"<p>What is the fastest, most optimized, one-liner way to get an array of the directories (excluding files) in ruby?  How about including files?</p>
","149392","","<pre><code>Dir.glob(""**/*/"") # for directories
Dir.glob(""**/*"") # for all files
</code></pre>

<p>Instead of <code>Dir.glob(foo)</code> you can also write <code>Dir[foo]</code> (however <code>Dir.glob</code> can also take a block, in which case it will yield each path instead of creating an array).</p>
"
"<p>I'm trying to write a method that acts as a setter and takes some extra arguments besides the assigned value. Silly example:</p>

<pre><code>class WordGenerator
  def []=(letter, position, allowed)
    puts ""#{letter}#{allowed ? ' now' : ' no longer'} allowed at #{position}""
  end

  def allow=(letter, position, allowed)
    # ...
  end
end
</code></pre>

<p>Writing it as an indexer works and I can call it like this:</p>

<pre><code>gen = WordGenerator.new

gen['a', 1] = true
# or explicitly:
gen.[]=('a', 1, true)
</code></pre>

<p>But when I try any of the following, the interpreter complains:</p>

<pre><code>gen.allow('a', 1) = false # syntax error
gen.allow=('a', 1, false) # syntax error
</code></pre>

<p>Why won't this work, am I missing the obvious?</p>
","149392","","<p>It doesn't work because the parser doesn't allow it. An equals sign is allowed in expressions of the form <code>identifier = expression</code>, <code>expression.identifier = expression</code> (where identifier is <code>\w+</code>), <code>expression[arguments] = expression</code> and <code>expression.[]= arguments</code> and as part of a string or symbol or character literal (<code>?=</code>). That's it.</p>

<p><code>gen.send(:allow=, 'a', 1, false)</code> would work, but at that point you could as well just give the method a name that doesn't include a <code>=</code>.</p>
"
"<p>Am I missing something in the Array documentation?  I have an array which contains up to one object satisfying a certain criterion.  I'd like to efficiently find that object.  The best idea I have from the docs is this:</p>

<pre><code>candidates = my_array.select { |e| e.satisfies_condition? }
found_it = candidates.first if !candidates.empty?
</code></pre>

<p>But I am unsatisfied for two reasons: (1) that select made me traverse the whole array, even though we could have bailed after the first hit, and (2) I needed a line of code (with a condition) to flatten the candidates.  Both operations are wasteful with foreknowledge that there's 0 or 1 satisfying objects.</p>

<p>What I'd like is something like:</p>

<p><code>array.find_first(block)</code> -> answers nil or the first object for which the block evaluates to true, ending the traversal at that object.</p>

<p>Must I write this myself?  All those other great methods in Array make me think it's there and I'm just not seeing it.</p>

<p>Thanks in advance,
Dan</p>
","149392","","<p>Guess you just missed the find method in the docs:</p>

<pre><code>my_array.find {|e| e.satisfies_condition? }
</code></pre>
"
"<p>Most programming languages use parentheses for grouping subexpressions.</p>

<p>In Aklo, I'm using square brackets for grouping subexpressions, on the grounds that the precious unshifted brackets should be used for the most common case.</p>

<p>But that's on a US keyboard. Are there any keyboard layouts on which it's actually easier to type parentheses than square brackets? If so, would programmers using such keyboards appreciate the option of using parentheses?</p>
","149392","","<p>Some keyboard layouts (German and Norwegian for example) require you to use the ""Alt Gr""-key (the right alt-key) to access square brackets and curlies. This is somewhat more painful to type then parens because the Alt-Gr key is smaller than shift and isn't conveniently located under your little finger. Also the square brackets are located on the 8 and 9 keys on German keyboards, which is directly above the alt-gr key, so you have to move your hand so that your thumb is on Alt-Gr and the middle finger (or whichever) is on the 8 or the 9.</p>

<p>I find this quite annoying, but I'm also quite used to the fact that programming on German keyboards is a pain.</p>

<p>As far as I know all common keyboard layouts have parens as shift+8/9 or shift+9/0, so it takes the same effort to type them on all layouts, but on some layouts square brackets take more effort.</p>
"
"<p>how do I make my swap function in java if there is no method by which we can pass by reference?  Could somebody give me a code?</p>

<pre><code>swap(int a, int b)
{
     int temp = a;
     a = b;
     b = temp;
}
</code></pre>

<p>but the change wont be reflected back since java passes by value</p>
","149392","","<p>You can't create a method swap, so that after calling <code>swap(x,y)</code> the values of x and y will be swapped. You could create such a method for mutable classes by swapping their contents¹, but this would not change their object identity and you could not define a general method for this.</p>

<p>You can however write a method that swaps two items in an array or list if that's what you want.</p>

<p>¹ For example you could create a swap method that takes two lists and after executing the method, list x will have the previous contents of list y and list y will have the previous contents of list x.</p>
"
"<p>I am new to rails. My rails version is 2.3.5. I found usage like:</p>

<p>In controller, a destroy method is defined and in view, you can use :action => ""delete"" to fire that method. Isn't the action name has to be the same as the method name? Why delete is mapped to destroy?</p>

<p>Again, in my controller, I define a method called destroy to delete a record. In a view, I have &lt;%= link_to ""remove"", :action => 'destroy', :id => myrecord %>. But it never works in practice. Every time I press the remove link, it redirects me to the show view, showing the record's content. I am pretty sure that my destroy method is:</p>

<p>def destroy
    @myobject = MyObject.find(params[:id])
    @myobject.destroy
    @redirect_to :action = 'index'
end</p>

<p>If I change the method name from destroy to something like remove_me and change the action name to remove_me in the view, everything works as expected.</p>

<p>In the above two wired problems, I am sure there is no tricky rountting set in my configuration.</p>

<p>All in all, seems the destroy and delete are mysterious keywords in rails. Anyone can explain this to me? Thank you very much. </p>
","149392","","<p>You probably set MyObject as a resource in routes.rb. Resources get a couple of routes that don't directly match the name of the action. When you use an action name that does not match the routes defined by the resource, you'll get the default route which directly maps to the name of the action.</p>

<p>I found that <a href=""http://guides.rubyonrails.org/routing.html"" rel=""nofollow"">this link</a> explains rails' routing very well. Take a look at the ""RESTful routing"" section.</p>
"
"<p>This is the lambda calculus representation for the AND operator:</p>

<pre><code>lambda(m).lambda(n).lambda (a).lambda (b). m(n a b) b
</code></pre>

<p>Can anyone help me in understanding this representation?</p>
","149392","","<p>Actually it's a little more than just the AND operator. It's the lambda calculus' version of <code>if m and n then a else b</code>. Here's the explanation:</p>

<p>In lambda calculus true is represented as a function taking two arguments* and returning the first. False is represented as function taking two arguments* and returning the second.</p>

<p>The function you showed above takes four arguments*. From the looks of it m and n are supposed to be booleans and a and b some other values. If m is true, it will evaluate to its first argument which is <code>n a b</code>. This in turn will evaluate to a if n is true and b if n is false. If m is false, it will evaluate to its second argument b.</p>

<p>So basically the function returns a if both m and n are true and b otherwise.</p>

<p>(*) Where ""taking two arguments"" means ""taking an argument and returning a function taking another argument"".</p>

<p>Edit in response to your comment:</p>

<p><code>and true false</code> as seen on the wiki page works like this:</p>

<p>The first step is simply to replace each identifier with its definition, i.e. <code>(λm.λn. m n m) (λa.λb. a) (λa.λb. b)</code>. Now the function <code>(λm.λn. m n m)</code> is applied. This means that every occurrence of m in <code>m n m</code> is replaced with the first argument (<code>(λa.λb. a)</code>) and every occurrence of n is replaced with the second argument (<code>(λa.λb. b)</code>). So we get <code>(λa.λb. a) (λa.λb. b) (λa.λb. a)</code>. Now we simply apply the function <code>(λa.λb. a)</code>. Since the body of this function is simply a, i.e. the first argument, this evaluates to <code>(λa.λb. b)</code>, i.e. <code>false</code> (as <code>λx.λy. y</code> means <code>false</code>).</p>
"
"<p>Um - I feel like an idiot, but....</p>

<pre><code>ruby -e '3+5'
</code></pre>

<p>Outputs nothing (Windows 7, Ruby 1.8.7, Cygwin or Git Bash). What am I missing? Extra credit - will this also allow the extra cool bundle (stolen from TextMate) Execute and Update # => markers to work properly?</p>

<p><strong>EDIT</strong></p>

<p>Ok that worked, and I'll accept the answer, but e-texteditor still doesn't work with that really cool bundle. Too bad.</p>
","149392","","<p>You're missing a call to puts or any other method that produces output. <code>ruby -e</code> doesn't print the return value of the expression - it just executes it. It acts exactly as if you were executing a rb file containing ""3+5"".</p>
"
"<p>I just learned about static variables in php. Is there anything like that in ruby?</p>

<p>For example, if we want to create a <code>Student</code> class and for each <code>student</code> object we create, its id number should get incremented automatically.</p>

<p>I thought creating class variable as a static will do.</p>
","149392","","<p>Class variables are shared between all instances (which is why they're called class variables), so they will do what you want. They're also inherited which sometimes leads to rather confusing behavior, but I don't think that will be a problem here. Here's an example of a class that uses a class variable to count how many instances of it have been created:</p>

<pre><code>class Foo
  @@foos = 0

  def initialize
    @@foos += 1
  end

  def self.number_of_foos
    @@foos
  end
end

Foo.new
Foo.new
Foo.number_of_foos #=&gt; 2
</code></pre>
"
"<p>Hi I was working on a bit of fun, making an interface to run gnuplot from within c++, and for some reason the my linked list implementation fails.</p>

<p>The code below fails on the line <code>plots->append(&plot)</code>. Stepping through the code I discovered that for some reason the destructor <code>~John()</code> is called immediately after the constructor <code>John()</code>, and I cannot seem to figure out why.</p>

<p>The code included below is a stripped down version operating only on <code>Plot*</code>. Originally I made the linked list as a template class. And it worked fine as <code>ll&lt;int></code> and <code>ll&lt;char*></code> but for some reason it fails as <code>ll&lt;Plot*></code>.</p>

<p>Could youp please help me figure out why it fails? and perhaps help me understand how to make it work?</p>

<p>In advance: Thanks a heap!</p>

<p>//B2S</p>

<pre><code>#include &lt;string.h>

class Plot{
  char title[80];
public:
  Plot(){  }
};

class Link{
  Plot* element;
  Link* next;
  Link* prev;
  friend class ll;
};

class ll{
  Link* head;
  Link* tail;
public:
  ll(){
    head = tail = new Link();
    head->prev = tail->prev = head->next = tail->next = head;
  }
  ~ll(){
    while (head!=tail){
      tail = tail->prev;
      delete tail->next;
    }
    delete head;
  }
  void append(Plot* element){
    tail->element = element;
    tail->next = new Link();
    tail->next->prev = tail;
    tail->next = tail;
  }
};

class John{
  ll* plots;
public:
  John(){
   plots= new ll();
  }
  ~John(){
    delete plots;
  }
  John(Plot* plot){
    John();
    plots->append(plot);
  }
};   

int main(){
  Plot p;
  John k(&p);
}
</code></pre>
","149392","","<pre><code>head = tail = new Link();
</code></pre>

<p>Here you assign head and tail to point to the same link object. Since you never reassign either of them, that means that any time you change any property of head (e.g. <code>head.next = foo</code>), the same change is applied to tail.</p>

<p>Meaning head and tail will always have the same element, the predecessor and the same successor. Obviously this does not lead to the intended results.</p>
"
"<p>Haskell provides the feature something like f = f1 . f2</p>

<p>How can I mimic that with Python?</p>

<p>For example, if I have to do the 'map' operation two times, is there any way to do something like map . map in Python?</p>

<pre>
x = ['1','2','3'] 
x = map(int,x) 
x = map(lambda i:i+1, x) 
</pre>
","149392","","<pre><code>def compose(f,g):
  return lambda x: f(g(x))

def inc(x): return x+1

map(compose(inc, int), ['1', '2', '3'])
# [2, 3, 4]
</code></pre>
"
"<p>I have just started to learn SML on my own and get stuck with a question from the tutorial.
Let say I have:</p>

<p>tree data type</p>

<pre><code>datatype node of (tree*int*tree) | null
</code></pre>

<p>insert function</p>

<pre><code>fun insert (newItem, null) = node (null, newItem, null)
|   insert (newItem, node (left, oldItem, right)) =                               
    if (newItem &lt;= oldItem) then node (insert(newItem,left),oldItem, right)
                            else
                                 node (left, oldItem, insert(newItem, right)
</code></pre>

<p>an integer list</p>

<pre><code>val intList  = [19,23,21,100,2];
</code></pre>

<p>my question is how can I add write a function to loop through each element in the list and add to a tree?</p>

<p>Your answer is really appreciated.</p>
","149392","","<p>Use foldl with insert as the folding function and an empty tree as the starting value.</p>

<p>For every item in the list foldl will call insert with the item and the so-far created tree as arguments. The result of the call to insert will then be used in the next call to insert with the next item in the list and so on.</p>

<p>Also note that the definitions of the tree type and the insert function in your question are broken: First of all you didn't give the type a name (the syntax is <code>datatype name = Foo | Bar</code>, not <code>datatype Foo | Bar</code>). Second of all constructor names have to start with capital letters. So the type definition needs to be <code>datatype tree = Node of (tree*int*tree) | Null</code> and in the insert function you have to replace each occurrence of ""node"" and ""null"" with ""Node"" and ""Null"".</p>
"
"<p>I'm going crazy: Where is the Ruby function for factorial? No, I don't need tutorial implementations, I just want the function from the library. It's not in Math!</p>

<p>I'm starting to doubt, is it a standard library function?</p>
","149392","","<p>There is no factorial function in the standard library.</p>
"
"<p>When working with derived instances in Haskell, is it possible to derive functions for arbitrary types, or are we restricted to particular functions?</p>
","149392","","<p>You can derive instances of the following classes in haskell 98: Eq, Ord, Enum, Ix, Bounded, Read, and Show.</p>

<p>Using ghc extensions you can also derive instances of the following classes: Typeable, Data, Functor, Foldable and Traversable. There's also a ghc extension that allows a newtype to derive instances from its implementation type.</p>

<p>You can not derive instances of arbitrary classes for the simple reason that haskell would not know how to generate the necessary functions without special knowledge about the class in question.</p>
"
"<p>I have this below function and it works</p>

<pre><code>(fn x =&gt; x * 2) 2; 
</code></pre>

<p>but for this below one, it is not working</p>

<pre><code>(fn x y =&gt; x + y ) 2 3;
</code></pre>

<p>can anyone tell me why? or help give me some hint to get it to work.</p>
","149392","","<p><code>(fn x =&gt; fn y =&gt; x+y) 2 3;</code> works. <code>fn</code> simply doesn't have the same syntactic sugar to define curried functions that <code>fun</code> has.</p>
"
"<p>A colleague needed to sort an array of ActiveRecord objects in a Rails app.  He tried the obvious <code>Array.sort!</code> but it seemed surprisingly slow, taking 32s for an array of 3700 objects.  So just in case it was these big fat objects slowing things down, he reimplemented the sort by sorting an array of small objects, then reordering the original array of ActiveRecord objects to match - as shown in the code below.  Tada!  The sort now takes 700ms.  </p>

<p>That really surprised me.  Does Ruby's sort method end up copying objects about the place rather than just references?  He's using Ruby 1.8.6/7.  </p>

<pre class=""lang-ruby prettyprint-override""><code>def self.sort_events(events)
  event_sorters = Array.new(events.length) {|i| EventSorter.new(i, events[i])}
  event_sorters.sort!
  event_sorters.collect {|es| events[es.index]} 
end

private

# Class used by sort_events
class EventSorter
  attr_reader :sqn
  attr_reader :time
  attr_reader :index

  def initialize(index, event)
    @index = index  
    @sqn   = event.sqn
    @time  = event.time  
  end

  def &lt;=&gt;(b)
    @time != b.time ? @time &lt;=&gt; b.time : @sqn &lt;=&gt; b.sqn
  end
end
</code></pre>
","149392","","<p><code>sort</code> definitely does not copy the objects. One difference that I can imagine between the code using EventSorter and the code without it (which you didn't supply, so I have to guess) is that EventSorter calls <code>event.sqn</code> and <code>event.time</code> exactly once and stores the result in variables. During the sorting only the variables need to be accessed. The original version presumably called <code>sqn</code> and <code>time</code> each time the sort-block was invoked.</p>

<p>If this is the case, it can be fixed by using sort_by instead of sort. sort_by only calls the block once per object and then uses the cached results of the block for further comparisons.</p>
"
"<p>I have heard from many people that usage of templates make the code slow. Is it really true. I'm currently building a library. There are places where if templates are not created, it would result in code management problem. As of now I can think two solutions to this problem:</p>

<ul>
<li><p>use #defines </p></li>
<li><p>Use templates and define all possible types in the header file/library itself but do not allow end user to make template instances.</p></li>
</ul>

<p>e.g. <code>typedef Graph&lt;int&gt; GraphI32;</code> etc. </p>

<p>Is there anyway, to restrict user from creating various template instances on their own.</p>

<p>Help on above queries would be highly regarded.</p>
","149392","","<p>Since template instantiation happens at compile time, there is no run-time cost to using templates (as a matter of fact templates are sometimes used to perform certain computations at compile-time to make the program run faster). Heavy use of templates can however lead to long compile times.</p>
"
"<p>Python's <a href=""http://docs.python.org/library/itertools.html"">itertools</a> module provides a lots of goodies with respect to processing an iterable/iterator by use of generators. For example,</p>

<pre><code>permutations(range(3)) --&gt; 012 021 102 120 201 210

combinations('ABCD', 2) --&gt; AB AC AD BC BD CD

[list(g) for k, g in groupby('AAAABBBCCD')] --&gt; AAAA BBB CC D
</code></pre>

<p>What are the equivalent in Ruby?</p>

<p>By equivalent, I mean fast and memory efficient (Python's itertools module is written in C).</p>
","149392","","<p><code>Array#permutation</code>, <code>Array#combination</code> and <code>Enumerable#group_by</code> are defined in ruby since 1.8.7. If you're using 1.8.6 you can get equivalent methods from facets or active_support or <a href=""http://github.com/marcandre/backports"">backports</a>.</p>

<p>Example Usage:</p>

<pre><code>[0,1,2].permutation.to_a
#=&gt; [[0, 1, 2], [0, 2, 1], [1, 0, 2], [1, 2, 0], [2, 0, 1], [2, 1, 0]]

[0,1,2,3].combination(2).to_a
#=&gt; [[0, 1], [0, 2], [0, 3], [1, 2], [1, 3], [2, 3]]

[0,0,0,1,1,2].group_by {|x| x}.map {|k,v| v}
#=&gt; [[0, 0, 0], [1, 1], [2]]

[0,1,2,3].group_by {|x| x%2}
#=&gt; {0=&gt;[0, 2], 1=&gt;[1, 3]}
</code></pre>
"
"<p>Could any one please tell me the meaning of ""++"" with array in the following code in Java:</p>

<pre><code>   int [ ] arr = new int[ 4 ];
   for(int i = 0; i &lt; arr.length; i++){
        arr[ i ] = i + 1;
       System.out.println(arr[ i ]++);
   }
</code></pre>

<p>what is <code>arr[ i ]++</code> meaning in above code, and why we can't do like:</p>

<pre><code>arr[ i ]++ = i + 1;
</code></pre>
","149392","","<p><code>arr[i]++</code> means ""increase the value of <code>arr[i]</code> by 1"" and return the old value. So your code first sets <code>arr[i]</code> to <code>i+1</code> using <code>arr[ i ] = i + 1;</code>. It then increases it to <code>i + 2</code> using <code>arr[ i ]++</code> and prints the value it had <em>before</em> it was increased the second time, i.e. <code>i + 1</code>.</p>

<p>You can't use <code>arr[ i ] = arr[i] + 1;</code> instead because it means ""increase the value of <code>arr[i]</code> by 1 and return the new value"".</p>

<p>You can't do <code>arr[ i ]++ = i + 1;</code> because it doesn't make sense.</p>
"
"<p>In Python you can do a:</p>

<pre><code>from a import b as c
</code></pre>

<p>How would you do this in Java, as I have two imports that are clashing.</p>
","149392","","<p>Java doesn't allow you to do that. You'll need to refer to one of the classes by its fully qualified name and only import the other one.</p>
"
"<p>I'm playing around with templates. I'm not trying to reinvent the std::vector, I'm trying to get a grasp of templateting in C++.</p>

<p>Can I do the following?</p>

<pre><code>template &lt;typename T&gt;
typedef struct{
  size_t x;
  T *ary;
}array;
</code></pre>

<p>What I'm trying to do is a basic templated version of:</p>

<pre><code>typedef struct{
  size_t x;
  int *ary;
}iArray;
</code></pre>

<p>It looks like it's working if I use a class instead of struct, so is it not possible with typedef structs?</p>
","149392","","<p>You can template a struct as well as a class. However you can't template a typedef. So <code>template&lt;typename T&gt; struct array {...};</code> works, but <code>template&lt;typename T&gt; typedef struct {...} array;</code> does not. Note that there is no need for the typedef trick in C++ (you can use structs without the <code>struct</code> modifier just fine in C++).</p>
"
"<p>I've only ever learned to ""program"" with notepad when I was learning to create batch files in Windows.</p>

<p>I would appreciate if you can explain to me the benefits of working with an IDE over a text editor or vice versa. Please don't give emotional responses or argue someone else's suggestion/advice. I use Linux primarily. Also, I would like to be able to make programs that can be used in Windows, but programmed in Linux. Thanks.</p>
","149392","","<p>Advantages of an advanced editor over notepad:</p>

<ul>
<li>Syntax hilighting</li>
<li>Auto-indentation</li>
<li>If you run the code (or compile in case of compiled languages (doesn't apply to ruby)) and get an error, the editor can jump to the line where the error occured</li>
<li>Debugger support</li>
<li>code completion (doesn't usually work too well with ruby)</li>
<li>integration of irb (or equivalent environments (REPLs) for other languages)</li>
</ul>

<p>Advantages of IDEs over advanced text editors:</p>

<ul>
<li>Better code completion (still don't expect too fancy results for ruby)</li>
<li>Detecting errors while you type (this also does not work as well for ruby as e.g. java)</li>
<li>Better debugger-integration</li>
<li>Better project management</li>
</ul>

<p>Disadvantages of IDEs:
  - Take longer to start
  - Use up more RAM
  - Usually require you to create a project to start coding. If you just want to try something out quickly, that's a bit of unnecessary overhead.</p>

<p>Note that I used emacs as my model for an advanced text editor (not every advanced editor has all the features I listed).</p>
"
"<p>I have this code that I want to make point-free;</p>

<p><code>(\k t -&gt; chr $ a + flip mod 26 (ord k + ord t -2*a))</code></p>

<p>How do I do that?</p>

<p>Also are there some general rules for point free style other than ""think about this amd come up with something""?</p>
","149392","","<blockquote>
  <p>Also are there some general rules for point free style other than ""think about this amd come up with something""?</p>
</blockquote>

<p>You can always cheat and use the ""pl"" tool from lambdabot (either by going to #haskell on freenode or by using e.g. <a href=""http://www.haskell.org/haskellwiki/GHC/GHCi#GHCi_on_Acid"">ghci on acid</a>). For your code pl gives:</p>

<p><code>((chr . (a +) . flip mod 26) .) . flip flip (2 * a) . ((-) .) . (. ord) . (+) . ord</code></p>

<p>Which isn't really an improvement if you ask me.</p>
"
"<p>How can I clear a terminal screen after my user has selected an option from my application's menu?</p>
","149392","","<p>On Unix systems you can do <code>System.system ""clear""</code> which just invokes the command-line utility clear. For a solution that does not depend on external tools, you'd need a library that abstracts over different terminal-types like for example <a href=""http://batterseapower.github.com/ansi-terminal/"">ansi-terminal</a>.</p>
"
"<p>I have a Ruby method that searches an array of hashes and returns a subset of that array.</p>

<pre><code>  def last_actions(type = 'all')
    actions = @actions

    if type == 'run'
      actions = actions.select {|a| a['type'] == ""run"" }
    end

    return actions

  end
</code></pre>

<p>This works, except when there is only one action to return, in which case I don't think it is returning an array with one element, but just the element itself.
This becomes problematic later.</p>

<p>What's a good way to ensure it returns an array of 1 element in this case?</p>

<p>Thanks.</p>
","149392","","<p><code>select</code> always returns an array (except if you <code>break</code> inside the block, which you don't). So whatever is going wrong in your code, this is not the reason.</p>

<p>Of course if <code>@actions</code> does not contain an array (or another type of Enumerable), the call to select will cause an exception and the method will not return anything at all. The solution in that case would be to make sure that <code>@actions</code> always returns an array. How to do that depends on where/how you set <code>@actions</code>.</p>
"
"<p>The :: operator in F# always prepends elements to the list. Is there an operator that appends to the list? I'm guessing that using @ operator </p>

<p>[1; 2; 3] @ [4]</p>

<p>would be less efficient, than appending one element.</p>
","149392","","<blockquote>
  <p>I'm guessing that using @ operator [...] would be less efficient, than appending one element.</p>
</blockquote>

<p>If it is, it will be a negligible difference. Both appending a single item and concatenating a list to the end are <code>O(n)</code> operations. As a matter of fact I can't think of a single thing that <code>@</code> has to do, which a single-item append function wouldn't.</p>
"
"<p>Guys, reffering to <a href=""http://stackoverflow.com/questions/2483426/debugging-metaprograms-c"">last post</a> I'm trying to output data while template is instantiated </p>

<pre><code>template &lt;unsigned long N&gt;
   struct binary
   {
       std::cout &lt;&lt; N;//&lt;---------------------------------I'M TRYING HERE
       static unsigned const value
          = binary&lt;N/10&gt;::value &lt;&lt; 1   // prepend higher bits
            | N%10;                    // to lowest bit
</code></pre>

<p>but I'm getting an error:  </p>

<p>'Error    2   error C2886: 'std::cout' : symbol cannot be used in a member using-      declaration    '</p>

<p>Thanks for help
P.S.
And could anyone explain why actually I can't do that?</p>
","149392","","<blockquote>
  <p>I'm trying to output data while template is instantiated</p>
</blockquote>

<p>Template instantiation happens at compile-time. You can't output anything at compile-time.</p>

<p>All you can do is calculate the value at compile-time and the output it at run-time (i.e. inside a function).</p>
"
"<p>Hi i have a yaml file like so</p>

<pre><code>---
data:
  - date: ""2004-06-11""
    description: First description

  - date: ""2008-01-12""
    description: Another descripion
</code></pre>

<p>How can i do a ""ypath"" query similar to xpath for xml ? Something like ""get the description where the date is 2004-06-11""</p>

<pre><code>YAML.parse_file('myfile.yml').select('/data/*/date == 2004-06-11')
</code></pre>

<p>How do you do it, and if that's possible how can i similarly edit the description by 'ypath' ?</p>

<p>Thanks</p>
","149392","","<p>The yaml file describes a hash mapping from strings to arrays of hashes that map from strings to strings. There is no such thing as xpath for nested hashes (at least not in the standard library), but it's simple enough with standard Hash and Enumerable methods:</p>

<pre><code>hash = YAML.load_file('myfile.yml')
item = hash[""data""].find {|inner_hash| inner_hash[""date""] == ""2004-06-11""}
#=&gt; {""date""=&gt;""2004-06-11"", ""description""=&gt;""First description""}
</code></pre>

<p>To change the description, you can then simply do <code>item[""description""] = ""new description""</code> and then serialize the hash back to YAML using <code>hash.to_yaml</code>.</p>
"
"<p>I got this formula from a data structure book in the bubble sort algorithm.</p>

<p>I know that we are (n-1) * (n times), but why the division by 2?</p>

<p>Can anyone please explain this to me or give the detailed proof for it.</p>

<p>Thank you</p>
","149392","","<p><code>(N-1) + (N-2) +...+ 2 + 1</code> is a sum of N-1 items. Now reorder the items so, that after the first comes the last, then the second, then the second to last, i.e. <code>(N-1) + 1 + (N-2) + 2 +..</code>. The way the items are ordered now you can see that each of those pairs is equal to N (N-1+1 is N, N-2+2 is N). Since there are N-1 items, there are (N-1)/2 such pairs. So you're adding N (N-1)/2 times, so the total value is <code>N*(N-1)/2</code>.</p>
"
"<p>In my messages_controller I have the following private method:</p>

<pre><code>def find_message_or_404(slug)
  message = user.messages.find_by_slug(slug)
  if message.nil?
    raise Error404
  end
  message
end
</code></pre>

<p>I find it not elegant and not very Rubist. Is there a way to improve it?</p>
","149392","","<p>Personally I don't think there's anything wrong with what you have (coding style wise), but maybe you like this better:</p>

<pre><code>def find_message_or_404(slug)
  user.messages.find_by_slug(slug) or raise Error404
end
</code></pre>
"
"<p>In Python, if I want to get the first n characters of a string minus the last character, I do:</p>

<pre><code>output = 'stackoverflow'
print output[:-1]
</code></pre>

<p>What's the Ruby equivalent?</p>
","149392","","<p>If you only want to remove the last character, you can also do</p>

<pre><code>output.chop
</code></pre>
"
"<p>In the example for coding with Json using <a href=""http://technically.us/code/x/weaving-tweed-with-scala-and-json/"" rel=""nofollow"">Databinder Dispatch</a> Nathan uses an Object (Http) without a method, shown here:</p>

<pre><code>import dispatch._
import Http._
Http(""http://www.fox.com/dollhouse/"" &gt;&gt;&gt; System.out )
</code></pre>

<p>How is he doing this?</p>

<p>Thank you for all of the answers unfortunatly I was not specific enough...</p>

<p>It looks like it is simply passing an argument to a constructor of class or companion object Http.</p>

<p>In another example, I've seen another form:</p>

<pre><code>http = new Http
http(/* argument here */)
</code></pre>

<p>Is this valid Scala? I guess it must be, because the author is a Scala expert. But it makes no sense to me. Actions are usually performed by invoking methods on objects, whether explicitly as object.doSomething() or implicitly as object = something (using the apply() method underneath the syntactic sugar).</p>

<p>All I can think of is that a constructor is being used to do something in addition to constructing an object. In other words, it is having side effects, such as in this case going off and doing something on the web.</p>
","149392","","<p>If an object has an <code>apply</code> method, you can ""invoke"" the object as if it was a method (which will actually invoke its apply method).</p>
"
"<p>Given a list of names for variables, I want to set those variables to an expression.</p>

<p>I tried this:</p>

<pre><code>(doall (for [x [""a"" ""b"" ""c""]] (def (symbol x) 666)))
</code></pre>

<p>...but this yields the error</p>

<blockquote>
  <p>java.lang.Exception: First argument to def must be a Symbol</p>
</blockquote>

<p>Can anyone show me the right way to accomplish this, please?</p>
","149392","","<pre><code>(doall (for [x [""a"" ""b"" ""c""]] (eval `(def ~(symbol x) 666))))
</code></pre>

<p>In response to your comment:</p>

<p>There are no macros involved here. <code>eval</code> is a function that takes a list and returns the result of executing that list as code. ` and ~ are shortcuts to create a partially-quoted list.</p>

<p>` means the contents of the following lists shall be quoted unless preceded by a ~</p>

<p>~ the following list is a function call that shall be executed, not quoted.</p>

<p>So <code>`(def ~(symbol x) 666)</code> is the list containing the symbol <code>def</code>, followed by the result of executing <code>symbol x</code> followed by the number of the beast. I could as well have written <code>(eval (list 'def (symbol x) 666))</code> to achieve the same effect.</p>
"
"<p>I am an absolute newbie in Haskell yet trying to understand how it works.</p>

<p>I want to write my own lazy list of integers such as [1,2,3,4,5...].</p>

<p>For list of ones I have written</p>

<pre><code>ones = 1 : ones
</code></pre>

<p>and when tried, works fine:</p>

<pre><code>*Main&gt; take 10 ones
[1,1,1,1,1,1,1,1,1,1]
</code></pre>

<p>How can I do the same for increasing integers ?</p>

<p>I have tried this but it indeed fails:</p>

<pre><code>int  = 1 : head[ int + 1]
</code></pre>

<p>And after that how can I make a method that multiplies two streams? such as:</p>

<pre><code>mulstream s1 s2 = head[s1] * head[s2] : mulstream [tail s1] [tail s2]
</code></pre>
","149392","","<p>The reasons that <code>int  = 1 : head [ int + 1]</code> doesn't work are:</p>

<ul>
<li>head returns a single element, but the second argument to <code>:</code> needs to be a list.</li>
<li><code>int + 1</code> tries to add a list and a number, which isn't possible.</li>
</ul>

<p>The easiest way to create the list counting up from 1 to infinity is <code>[1..]</code></p>

<p>To count in steps other than 1 you can use <code>[firstElement, secondElement ..]</code>, e.g. to create a list of all positive odd integers: [1, 3 ..]</p>

<p>To get infinite lists of the form <code>[x, f x, f (f x), f (f (f x)),...]</code> you can use <code>iterate f x</code>, e.g. <code>iterate (*2) 1</code> will return the list <code>[1, 2, 4, 16,...]</code>.</p>

<p>To apply an operation pairwise on each pair of elements of two list, use zipWith:</p>

<pre><code>mulstream s1 s2 = zipWith (*) s1 s2
</code></pre>

<p>To make this definition more concise you can use the point-free form:</p>

<pre><code>mulstream = zipWith (*)
</code></pre>
"
"<p>I'm a bit lost here as to why my <code>rake</code> task will not create the desired XML file, however it works fine when I have the method <code>build_xml</code> in an <code>.rb</code> file.</p>

<pre><code>require 'rubygems'  
require 'nokogiri'  
require 'open-uri'  

namespace :xml do
  desc ""xml build test""
  task :xml_build =&gt; :environment do
    build_xml
  end 
end

def build_xml
  # build xml docoument
  builder = Nokogiri::XML::Builder.new do |xml|
    xml.root {
      xml.location {
        xml.value ""test"" 
      }
    }
  end
  File.open(""test.xml"", 'w') {|f| f.write(builder.to_xml) }
end
</code></pre>
","149392","","<p>When I execute your rakefile with <code>rake xml:xml_build</code>, I get an error that the task <code>environment</code> is not defined. If I remove <code>environment</code> as a dependency of <code>xml_build</code> and then run it again it works fine and creates the xml file.</p>

<p>So my guess is that your environment task causes an error and xml_build never runs (or the task doesn't exist in your real rakefile either, so just remove it as a dependency).</p>
"
"<p>What's the shortest, one-liner way to list all methods defined with <code>attr_accessor</code>?  I would like to make it so, if I have a class <code>MyBaseClass</code>, anything that extends that, I can get the <code>attr_accessor</code>'s defined in the subclasses.  Something like this:</p>

<pre><code>class MyBaseClass &lt; Hash
  def attributes
    # ??
  end
end

class SubClass &lt; MyBaseClass
  attr_accessor :id, :title, :body
end

puts SubClass.new.attributes.inspect #=&gt; [id, title, body]
</code></pre>

<p>What about to display just the <code>attr_reader</code> and <code>attr_writer</code> definitions?</p>
","149392","","<p>There is no way (one-liner or otherwise) to list all methods defined by attr_accessor and only methods defined by attr_accessor without defining your own attr_accessor.</p>

<p>Here's a solution that overrides attr_accessor in MyBaseClass to remember which methods have been created using attr_accessor:</p>

<pre><code>class MyBaseClass
  def self.attr_accessor(*vars)
    @attributes ||= []
    @attributes.concat vars
    super(*vars)
  end

  def self.attributes
    @attributes
  end

  def attributes
    self.class.attributes
  end
end

class SubClass &lt; MyBaseClass
  attr_accessor :id, :title, :body
end

SubClass.new.attributes.inspect #=&gt; [:id, :title, :body]
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/7499864/returning-reference-to-a-local-variable"">Returning reference to a local variable</a>  </p>
</blockquote>



<p>I happened to find this code return 5. It's OK to write it this way or should definitely be avoid?</p>

<pre><code>   int&amp; f() {

     int i = 5; 
     return i;
}

int main(){

    cout&lt;&lt;f()&lt;&lt;endl;    
}
</code></pre>
","149392","","<p>If it works, it works only by accident. This is undefined behavior and should definitely be avoided.</p>

<p>The moment that f returns, there are no longer any guarantees as to what happens to the memory where <code>i</code> lived and what happens when you try to access it.</p>
"
"<p>When creating gems, I often have a directory structure like this:</p>

<pre><code>|--lib
    |-- helpers.rb
    `-- helpers
        |-- helper_a.rb
        `-- helper_b.rb
</code></pre>

<p>Inside the <code>helpers.rb</code>, I'm just <code>require</code>-ing the files in the <code>helpers</code> directory.  But I have to do things like this:</p>

<pre><code>$:.push(File.dirname(__FILE__) + '/helpers')
require 'helper_a'
require 'helper_b'
</code></pre>

<p>Is there a way to make that one line so I never have to add to it?  I just came up with this real quick:</p>

<pre><code>dir = File.join(File.dirname(__FILE__), ""helpers"")
Dir.entries(dir)[2..-1].each { |file| require ""#{dir}/#{file[0..-4]}"" }
</code></pre>

<p>But it's two lines and ugly.  What slick tricks have you done to make this a one liner?</p>
","149392","","<pre><code>project_root = File.dirname(File.absolute_path(__FILE__))
Dir.glob(project_root + '/helpers/*') {|file| require file}
</code></pre>

<p>Or to golf it a bit more:</p>

<pre><code>Dir.glob(project_root + '/helpers/*', &amp;method(:require))
</code></pre>
"
"<p>I have some numbers stored in a vector . I want to find which number appears most in the vector.</p>

<p>Is there any easy/fast algorithm (STL or whatever) that does this ?</p>
","149392","","<p>Sort it, then iterate through it and keep a counter that you increment when the current number is the same as the previous number and reset to 0 otherwise. Also keep track of what was the highest value of the counter thus far and what the current number was when that value was reached. This solution is <code>O(n log n)</code> (because of the sort).</p>

<p>Alternatively you can use a hashmap from int to int (or if you know the numbers are within a limited range, you could just use an array) and iterate over the vector, increasing <code>the_hashmap[current_number]</code> by 1 for each number. Afterwards iterate through the hashmap to find its largest value (and the key belonging to it). This requires a hashmap datastructure though (unless you can use arrays which will also be faster), which isn't part of STL.</p>
"
"<p>I'm not a Haskell programmer, but I'm curious about the following questions.</p>

<p>Informal function specification:</p>

<p>Let MapProduct be a function that takes a function called F and multiple lists. It returns a list containing the results of calling F with one argument from each list in each possible combination.</p>

<p>Example:</p>

<p>Call MapProduct with F being a function that simply returns a list of its arguments, and two lists. One of the lists contains the integers 1 and 2, the other one contains the strings ""a"" and ""b"". It should return a list that contains the lists: 1 and ""a"", 1 and ""b"", 2 and ""a"", 2 and ""b"".</p>

<p>Questions:</p>

<ul>
<li>How is MapProduct implemented?</li>
<li>What is the function's type? What is F's type?</li>
<li>Can one guess what the function does just by looking at its type?</li>
<li>Can you handle inhomogeneous lists as input? (e.g. 1 and ""a"" in one of the input lists)</li>
<li>What extra limitation (if any) do you need to introduce to implement MapProduct?</li>
</ul>
","149392","","<p>The function that you describe is closely related to the zipWithN functions. It will have the same type - it will just result in bigger result lists. Now the problem is that there is no way to express ""a function that takes N arguments of the types <code>t_1, ..., t_n</code>"" or ""n lists of the types <code>[t_1],...,[t_n]</code>"" (or ""an n-tuple of type <code>([t_1], ..., [t_n]"")</code> ) in haskell's type system (without extensions like template haskell). This is why there is not one zipWith function, but one for each number of arguments lists that is supported.</p>

<p>So to answer your questions:</p>

<ul>
<li><p>It is implemented by defining a function mapProductN for every number N that you want to support. For N=2 it would look like this:</p>

<pre><code>mapProduct f l1 l2 = [f x1 x2 | x1 &lt;- l1, x2 &lt;- x2]
</code></pre>

<p>Or as a general blueprint (i.e. pseudo-code) how to define the functions for any N:</p>

<pre><code>mapProduct f l1 ... ln = [f x1 ... xn | x1 &lt;- l1, ..., xn &lt;- ln]
</code></pre></li>
<li><p>As I said it's the same as the types of the zipWith functions, i.e.:</p>

<pre><code>zipWith :: (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]  
zipWith3 :: (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]  
zipWith4 :: (a -&gt; b -&gt; c -&gt; d -&gt; e) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d] -&gt; [e]  
</code></pre>

<p>Since f is the first argument to the function, the type of the first argument is f's type (so for n=2 it'd be <code>a -&gt; b -&gt; c</code>)</p></li>
<li><p>Well since it has the same type as zipWith and zipWith does something else, that'd be a no.</p></li>
<li><p>Haskell doesn't allow inhomogeneous lists without an extension.</p></li>
<li><p>There's an upper limit on the number of lists unless you're willing to spend the time writing infinite versions of mapProduct.</p></li>
</ul>
"
"<p>Consider two algorithms, A, and B. These algorithms both solve the same problem, and have time complexities
(in terms of the number of elementary operations they perform) given
respectively by</p>

<p>a) <code>(n) = 9n+6</code></p>

<p>b) <code>(n) = 2(n^2)+1</code></p>

<p>(i) Which algorithm is the best asymptotically?</p>

<p>(ii) Which is the best for small input sizes n, and for what values of n is this the
case? (You may assume where necessary that n>0.)</p>

<p>I think it's A. Am I right?</p>

<p>And what's the answer for part B? What exactly do they want?</p>
","149392","","<p>By looking at the constants it's easy to see that a will be larger than b at the beginning. By looking at the occurences of n (n in a, n^2 in b), you can see that b is larger asymptotically. So we only need to figure out from which point on b is larger than a. To do that we just need to solve the equation <code>a(n) = b(n)</code> for n.</p>
"
"<p>Following the (accepted) answer from <a href=""http://stackoverflow.com/questions/1028764/multiline-matching-in-haskell-posix"">this question</a>, I am expecting the following to work:</p>

<pre><code>Prelude Text.Regex.Posix Text.Regex.Base.RegexLike Text.Regex.Posix.String&gt; makeRegex "".*""
</code></pre>

<p>(<code>makeRegex</code> is a shortcut for <code>makeRegexOpts</code> with predefined options)</p>

<p>However, it doesn't:</p>

<pre><code>&lt;interactive&gt;:1:0:
    No instance for (RegexMaker regex compOpt execOpt [Char])
      arising from a use of `makeRegex' at &lt;interactive&gt;:1:0-13
    Possible fix:
      add an instance declaration for
      (RegexMaker regex compOpt execOpt [Char])
    In the expression: makeRegex "".*""
    In the definition of `it': it = makeRegex "".*""
Prelude Text.Regex.Posix Text.Regex.Base.RegexLike Text.Regex.Posix.String&gt; make
Regex "".*""::Regex

&lt;interactive&gt;:1:0:
    No instance for (RegexMaker Regex compOpt execOpt [Char])
      arising from a use of `makeRegex' at &lt;interactive&gt;:1:0-13
    Possible fix:
      add an instance declaration for
      (RegexMaker Regex compOpt execOpt [Char])
    In the expression: makeRegex "".*"" :: Regex
    In the definition of `it': it = makeRegex "".*"" :: Regex
</code></pre>

<p>And I really don't understand why.</p>

<p><b>EDIT</b></p>

<p>Haskell Platform 2009.02.02 (GHC 6.10.4) on Windows</p>

<p><b>EDIT2</b></p>

<pre><code>Prelude Text.Regex.Base.RegexLike Text.Regex.Posix.String&gt; :i RegexMaker
class (RegexOptions regex compOpt execOpt) =&gt; RegexMaker regex compOpt execOpt source | regex -&gt; compOpt execOpt, compOpt -&gt; regex execOpt, execOpt -&gt; regex compOpt where
  makeRegex :: source -&gt; regex
  makeRegexOpts :: compOpt -&gt; execOpt -&gt; source -&gt; regex
  makeRegexM :: (Monad m) =&gt; source -&gt; m regex
  makeRegexOptsM ::
    (Monad m) =&gt; compOpt -&gt; execOpt -&gt; source -&gt; m regex
        -- Defined in Text.Regex.Base.RegexLike
</code></pre>
","149392","","<p>Your first try does not work because makeRegex has a polymorphic return type (called <code>regex</code>). Since there is no instance of RegexMaker for abitrary types, you get the message you do.</p>

<p>To make it work you need to specify a return type. It seems like you figured that out yourself because that's what you did in your second try, which incidentally works when I try it out in my ghci.</p>

<p>Edit: I should add that the most straight-forward way to use regexen is to just use <code>=~</code> and not bother with makeRegex at all. For example:</p>

<pre><code>&gt; ""lale"" =~ "".*"" :: Bool
True

&gt; ""lale"" =~ ""lo"" :: Bool
False

&gt; ""lale"" =~ ""l."" :: String
""la""

&gt; ""lale"" =~ ""l."" :: [String]
[""la"",""le""]
</code></pre>
"
"<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;
int main(void)
{
    int i, s, g;
    vector&lt;int&gt; a;
    cin &gt;&gt; s;
    for(i=1;i&lt;=s;i++)
    {
        g = s;

        if(g&lt;10) a.push_back(g);
        else {
            vector&lt;int&gt; temp;
            while(g &gt; 0)
            {

                int k = g % 10;
                g = g / 10;
                temp.push_back(g);
            }
            for(int j=temp.size();j&gt;0;j--)
            {
                a.push_back(temp[j]);
            }
        }
    }
    cout &lt;&lt; a[s-1] &lt;&lt; endl;
    return 0;
}
</code></pre>

<p>What is wrong with the code above ? It doesn't give me the appropriate results.</p>

<p>The vector a is supposed to hold the values from 1, 2, 3...up to s such that a = 12345..910111213... and print to output a[s]. Ex if s=15 a=123456789101112131415 and a[15] = 2 . </p>

<p>If someone could tell me what's the problem </p>
","149392","","<pre><code>for(int j=temp.size();j&gt;0;j--)
{
    a.push_back(temp[j]);
}
</code></pre>

<p>Here the values of j include temp.size and exclude 0. Since vectors (like basically everything else with integer indices) are 0-indexed, this will access a out of bounds on the first iteration (i.e. when you access <code>temp[temp.size()]</code>).</p>
"
"<p>I've noticed a discrepancy in the way that python parameters are called.  In every other language I've dealt with, you either have </p>

<pre><code>foo() 
</code></pre>

<p>meaning either no parameters, or as many parameters as you like, or </p>

<pre><code>foo(arg1, arg2,...,argn)
</code></pre>

<p>where you pass in the same number of parameters to define the function and call it.  In python however, I've noticed that the function definitions, and when the function is called, can have two different parameters sets, this usually consists of:</p>

<pre><code>class foo(object):
    def bar(self, arg1, arg2):
        pass
</code></pre>

<p>However, when I want to call the function, all I have to do is:</p>

<pre><code>zoo = foo()
zoo.bar(arg1, arg2)
</code></pre>

<p>Where did the self parameter go?</p>

<p>Thank you.</p>
","149392","","<blockquote>
  <p>Where did the self parameter go?</p>
</blockquote>

<p>It's in front of the dot when you call the function, i.e. in your case it's <code>zoo</code>.</p>

<p>Note that you can also call the function as <code>foo.bar(zoo, arg1, arg2)</code>. Basically in python <code>object.method(arguments)</code> is a shortcut for <code>objects_class.method(object, arguments)</code>.</p>
"
"<p>I am using Rails 2.3.5.</p>

<pre><code>Class User &lt; ActiveRecord::Base
  has_many :phones
end

class Phone &lt; ActiveRecord::Base
  has_many :frequency_bands
end
</code></pre>

<p>I want to get all the frequency_bands for a user. I know I can write a method def freq_bands for User but I would like to know if it is possible to have has_many freq_bands for a User. In this way I can chain the call.</p>

<p>What I would like to have is</p>

<pre><code>class User &lt; ActiveRecor::Base
   has_many :frequence_bands, :through =&gt; phones
end
</code></pre>

<p>I think it is possible to have nested has_many using this plugin <a href=""http://github.com/ianwhite/nested_has_many_through"" rel=""nofollow"">http://github.com/ianwhite/nested_has_many_through</a></p>

<p>However if possible I would like to avoid using another plugin and rely solely on rails.</p>
","149392","","<pre><code>class User &lt; ActiveRecord::Base
  has_many :phones
  has_many :frequence_bands, :through =&gt; :phones
end
</code></pre>

<p>Works just fine. You'd only need the nested has_many_through plugin if phones itself was also a has_many_through relationship, which it isn't in your example.</p>

<p>(Editor: And don't forget the "":"" in front of the last attribute)</p>
"
"<p>If I wanted to do something like this:</p>

<pre><code>collection.each do |i|
   return nil if i == 3

   ..many lines of code here..
end
</code></pre>

<p>How would I get that effect? I know I could just wrap everything inside the block in a big if statement, but I'd like to avoid the nesting if possible.</p>

<p>Break would not work here, because I do <em>not</em> want to stop iteration of the remaining elements.</p>
","149392","","<p><code>next</code> inside a block returns from the block. <code>break</code> inside a block returns from the function that yielded to the block. For <code>each</code> this means that <code>break</code> exits the loop and <code>next</code> jumps to the next iteration of the loop (thus the names). You can return values with <code>next value</code> and <code>break value</code>.</p>
"
"<p>Here's some example code: </p>

<pre><code>class Obj
  attr :c, true

  def == that
    p '=='
    that.c == self.c
  end
  def &lt;=&gt; that
    p '&lt;=&gt;'
    that.c &lt;=&gt; self.c
  end
  def equal? that
    p 'equal?'
    that.c.equal? self.c
  end
  def eql? that
    p 'eql?'
    that.c.eql? self.c
  end
end

a = Obj.new
b = Obj.new

a.c = 1
b.c = 1

p [a] | [b]
</code></pre>

<p>It prints 2 objects but it should print 1 object. None of the comparison methods get called. How is Array.| comparing for equality?</p>
","149392","","<p><code>Array#|</code> is implemented using hashs. So in order for your type to work well with it (as well as with hashmaps and hashsets), you'll have to implement <code>eql?</code> (which you did) and <code>hash</code> (which you did not). The most straight forward way to define hash meaningfully would be to just return <code>c.hash</code>.</p>
"
"<p>In Ruby, is there a way to get the implicit object of a case statement?</p>

<pre><code>case 2+2
when '2'
  puts '2'
else
  puts ""#{some_object}""
end
</code></pre>

<p>Where 'some_object' would be the return value of whatever statement was evaluated by case</p>
","149392","","<p>No there's not. You'll have to do something like:</p>

<pre><code>some_object = 2+2
case some_object
when '2'
  puts '2'
else
  puts some_object
end
</code></pre>

<p>or</p>

<pre><code>case some_object = 2+2
when '2'
  puts '2'
else
  puts some_object
end
</code></pre>
"
"<p>In <a href=""http://www.haskell.org/haskellwiki/Haskell_in_5_steps"" rel=""nofollow"">Haskell in 5 steps</a> the factorial function is defined as follows:</p>

<pre><code>let fac n = if n == 0 then 1 else n * fac (n-1)
</code></pre>

<p>But for hugs, it says that fac needs to be in fac.h. Can anyone explain why this is the case - missing the ability to define named functions seems like a massive limitation for an interpreter?</p>
","149392","","<p>Hugs misses the ability to define any named functions (recursive or not). It also misses the ability to define data types.</p>
"
"<p>I want to load this simple something into my Editor:</p>

<pre><code>Write:-repeat,write(""hi""),nl,fail.
</code></pre>

<p>So that it prints ""hi"".</p>

<p>What should I do?</p>

<p>I'm currently trying to do <code>File-&gt;New</code></p>

<p>and Saving a file named Write into <code>E:\Program Files\pl\xpce\prolog\lib</code></p>

<p>When doing the query:</p>

<p>?-Write.</p>

<p>It's printing:</p>

<pre><code>1 ?- Write.
% ... 1,000,000 ............ 10,000,000 years later
% 
%       &gt;&gt; 42 &lt;&lt; (last release gives the question)
</code></pre>

<p><strong>Why?</strong> </p>
","149392","","<p>You need to name the procedure <code>write</code>, not <code>Write</code>. Upper case starting letters are for variables. (It might be less confusing if you call it something else like <code>writeHi</code> or something, so it doesn't have the same name as a built-in procedure, but it will still work when you call it <code>write</code> because your write has a different arity than the built in one).</p>

<p>Also you might want to replace <code>""hi""</code> with <code>'hi'</code>, though it will work either way (but only the second version will actually print the word hi to the screen - your version will print it as an integer list).</p>
"
"<p>I have a list of type <code>IList&lt;Effort&gt;</code>. The model Effort contains a <code>float</code> called <code>Amount</code>. I would like to return the sum of <code>Amount</code> for the whole list, in F#. How would this be achieved?</p>
","149392","","<pre><code>Seq.fold (fun acc (effort: Effort) -&gt; acc + effort.Amount) 0.0 efforts
</code></pre>
"
"<p>Is there a Java convention to refer to methods, <code>static</code> and otherwise, any specific one or the whole overload, etc?</p>

<p>e.g.</p>

<ul>
<li><code>String.valueOf</code> - referring to all overloads of <code>static valueOf</code>
<ul>
<li><code>String.valueOf(char)</code> - specific overload, formal parameter name omittable?</li>
</ul></li>
<li><code>String.split</code> - looks like a static method, but actually an instance method
<ul>
<li>Maybe <code>aString.split</code> is the convention?</li>
<li>Or maybe <code>String().split</code>?</li>
</ul></li>
<li><code>String#split</code> - I've seen this HTML anchor form too, which I guess is javadoc-influenced</li>
</ul>

<p>Is there an authoritative recommendation on how to clearly refer to these things?</p>
","149392","","<p>Using <code>Class.methodName</code> to refer to all overloads and <code>Class.methodName(type)</code> to refer to a specific overload is indeed the convention (as recommended by sun in <a href=""http://java.sun.com/j2se/javadoc/writingdoccomments/#styleguide"" rel=""nofollow"">this style guide for javadocs</a>). However there is no convention to distinguish between static and non-static methods (though <code>aString.split</code> would make sense).</p>
"
"<p>I am currently learning C by reading a good beginner's book called ""Teach Yourself C in 21 Days"" (I have already learned Java and C# so I am moving at a much faster pace). I was reading the chapter on pointers and the -> (arrow) operator came up without explanation. I think that it is used to call members and functions (like the equivalent of the . (dot) operator, but for pointers instead of members). But I am not entirely sure. Could I please get an explanation and a code sample?</p>
","149392","","<p><code>foo-&gt;bar</code> is equivalent to <code>(*foo).bar</code>, i.e. it gets the member called <code>bar</code> from the struct that <code>foo</code> points to.</p>
"
"<p>For example, suppose I have this:</p>

<p><code>001, ""john doe"", ""male"", 37, ""programmer"", ""likes dogs, women, and is lazy""</code></p>

<p>The problem is that the line is only supposed to have 6 fields. But if I separate it with split I get more, due to the comma being used improperly to separate the fields.</p>

<p>Right now I'm splitting everything, then when I get to the 5-th index onward I concatenate all the strings. But I was wondering if there was a split("","",6) or something along these lines.</p>
","149392","","<p>Yes, you can do <code>the_string.split("","", 6)</code>. However this will still give ""wrong"" result if there's a comma inside quotes somewhere in the middle (e.g. <code>001, ""doe, john"",...</code>).</p>

<p><strike>However using Shellwords might be more appropriate here as this will also allow other sections than the last to contain commas inside quotes (it will also remove the quotes which may or may not be a problem, depending on what you're trying to do).</p>

<p>Example:</p>

<pre><code>require 'shellwords'
the_string = %(001, ""doe, john"", ""male"", 37, ""programmer"", ""likes dogs, women, and is lazy"")
Shellwords.shellwords the_string
#=&gt; [""001,"", ""doe, john,"", ""male,"", ""37,"", ""programmer,"", ""likes dogs, women, and is lazy""]
</code></pre>

<p></strike></p>
"
"<p>I've found a weird effect when trying to track down a memory leak in a Rails app. Can anyone explain what's going on here?</p>

<p>Save this script as a plain Ruby script (Rails not necessary):</p>

<pre><code>class Fnord
    def to_s
        'fnord'
    end
end

def test
    f = Fnord.new
end

test

GC.start
sleep 2

ObjectSpace.each_object do |o|
    puts o if o.is_a? Fnord
end
</code></pre>

<p>When I run this via</p>

<pre><code>ruby 1.8.7 (2009-06-12 patchlevel 174) [i486-linux]
</code></pre>

<p>I get the following:</p>

<pre><code>bash $ ruby var_test
fnord
</code></pre>

<p>Although the variable f is out of scope, there are no other references to the single Fnord object, and I've garbage collected, the object still seems to exist. Is this a nefarious memory leak of some sort, or am I completely missing something about Ruby?</p>

<p>Further, if I change the test method to this:</p>

<pre><code>def test
    f = Fnord.new
    f = nil
end
</code></pre>

<p>I get no output. But surely this should not change the semantics here?</p>

<p>Many thanks!</p>
","149392","","<p>I think the difference between your two versions is not about the value of f, but about the fact that in your first version <code>test</code> will return the new Fnord object while in the second version <code>test</code> will return <code>nil</code>.</p>

<p>As a matter of fact the object will be garbage collected if any value comes between <code>Fnord.new</code> and <code>GC.start</code>. For example simply adding a line <code>42</code> between the call to <code>test</code> and the call to <code>GC.start</code> will cause the object to be collected.</p>

<p>I'm not sure why this is the case, but I suspect that the ruby interpreter holds on to the value of the last evaluated expression for some reason.</p>
"
"<p>I'm trying to compile this function from <a href=""http://learnyouahaskell.com/starting-out#ready-set-go"" rel=""nofollow"">Learn You a Haskell for Great Good</a>.</p>

<pre><code> removeNonUppercase st = [ c | c &lt;- st, c `elem` ['A'..'Z']]   
</code></pre>

<p>by placing it into a removeNonUpperCase.hs file.</p>

<p>It compiles fine, but when passing the argument: </p>

<pre><code>ghci&gt; removeNonUppercase ""Hahaha! Ahahaha!""  
</code></pre>

<p>the compiler says:</p>

<pre><code>&lt;interactive&gt;:1:0: Not in scope: 'removeNonUpperCase'
</code></pre>

<p>Why? </p>

<p><img src=""http://img535.imageshack.us/img535/9545/notinscope.png"" alt=""PrintScreen:""></p>
","149392","","<p>You defined the method as <code>removeNonUppercase</code> (lower case c), but you call it as <code>removeNonUpperCase</code> (upper case C).</p>
"
"<p>This matrix transposition function works, but I'm trying to understand its step by step execurtion and I don't get it.</p>

<pre><code>    transpose:: [[a]]-&gt;[[a]]
    transpose ([]:_) = []
    transpose x = (map head x) : transpose (map tail x)
</code></pre>

<p>with </p>

<pre><code>transpose [[1,2,3],[4,5,6],[7,8,9]]
</code></pre>

<p>it returns:</p>

<pre><code> [[1,4,7],[2,5,8],[3,6,9]]
</code></pre>

<p>I don't get how the concatenation operator is working with map. It is concatenating each head of x in the same function call? How?</p>

<p>is this </p>

<pre><code>(map head x)
</code></pre>

<p>creating a list of the head elements of each list?</p>
","149392","","<p>Let's look at what the function does for your example input:</p>

<pre><code>transpose [[1,2,3],[4,5,6],[7,8,9]]
&lt;=&gt;
(map head [[1,2,3],[4,5,6],[7,8,9]]) : (transpose (map tail [[1,2,3],[4,5,6],[7,8,9]]))
&lt;=&gt;
[1,4,7] : (transpose [[2,3],[5,6],[8,9]])
&lt;=&gt;
[1,4,7] : (map head [[2,3],[5,6],[8,9]]) : (transpose (map tail [[2,3],[5,6],[8,9]]))
&lt;=&gt;
[1,4,7] : [2,5,8] : (transpose [[3],[6],[9]])
&lt;=&gt;
[1,4,7] : [2,5,8] : (map head [[3],[6],[9]]) : (transpose (map tail [[3],[6],[9]]))
&lt;=&gt;
[1,4,7] : [2,5,8] : [3, 6, 9] : (transpose [[], [], []])
&lt;=&gt;
[1,4,7] : [2,5,8] : [3, 6, 9] : [] -- because transpose ([]:_) = []
&lt;=&gt;
[[1,4,7],[2,5,8],[3,6,9]]
</code></pre>

<p>Note that the order in which I chose to reduce the terms, is not the same as the evaluation order haskell will use, but that does not change the result.</p>

<p>Edit: In response to your edited question:</p>

<blockquote>
  <p>is this</p>

<pre><code>(map head x)
</code></pre>
  
  <p>creating a list of the head elements of each list?</p>
</blockquote>

<p>Yes, it is.</p>
"
"<p>Lets say I have an array : a=[[1,2,3],[4,5]]
and I have another array : b=[[2.5,1.5,3.5],[1.5,2.5]]</p>

<p>I need to sort 'a' with respect to 'b'.
i.e the output should be = [[3,1,2],[5,4]]</p>

<p>I tried but my code seemed to be very lengthy. It would be great if you could help me out.Thanks!</p>
","149392","","<p>This gives your sample output for your sample input, so hopefully it's what you want (it sorts the values of each subarray in the first array by the value at the same position in the corresponding subarray of the second array, descendingly):</p>

<pre><code>class Array
  def sort_by_other_array(arr)
    zip(arr).sort_by {|x,y| y}.map {|x,y| x}
  end
end

a=[[1,2,3],[4,5]]
b=[[2.5,1.5,3.5],[1.5,2.5]]
a.zip(b).map {|x,y| x.sort_by_other_array(y).reverse}
#=&gt; [[3, 1, 2], [5, 4]]
</code></pre>
"
"<pre><code>arr = [""red"",""green"",""yellow""]

arr2 = arr.clone
arr2[0].replace(""blue"")

puts arr.inspect
puts arr2.inspect
</code></pre>

<p>produces:</p>

<pre><code>[""blue"", ""green"", ""yellow""]
[""blue"", ""green"", ""yellow""]
</code></pre>

<p>Is there anyway to do a deep copy of an array of strings, other than using Marshal as i understand that is a hack.</p>

<p>I could do:</p>

<pre><code>arr2 = []
arr.each do |e|
  arr2 &lt;&lt; e.clone
end
</code></pre>

<p>but it doesn't seem very elegant, or efficient.</p>

<p>Thanks</p>
","149392","","<p>Your second solution can be shortened to <code>arr2 = arr.map do |e| e.dup end</code> (unless you actually need the behaviour of <code>clone</code>, it's recommended to use <code>dup</code> instead).</p>

<p>Other than that your two solutions are basically the standard solutions to perform a deep copy (though the second version is only one-level deep (i.e. if you use it on an array of arrays of strings, you can still mutate the strings)). There isn't really a nicer way.</p>

<p>Edit: Here's a recursive deep_dup method that works with arbitrarily nested arrays:</p>

<pre><code>class Array
  def deep_dup
    map {|x| x.deep_dup}
  end
end

class Object
  def deep_dup
    dup
  end
end

class Numeric
  # We need this because number.dup throws an exception
  # We also need the same definition for Symbol, TrueClass and FalseClass
  def deep_dup
    self
  end
end
</code></pre>

<p>You might also want to define deep_dup for other containers (like Hash), otherwise you'll still get a shallow copy for those.</p>
"
"<p>Can we initialize Python objects with statement like this:</p>

<pre><code>a = b = c = None
</code></pre>

<p>It seems to me when I did <code>a = b = c = list()</code>, it will cause a circular reference count issue.</p>
","149392","","<p>There are no cycles in your code and even if there were, Python's garbage collector can handle a circular reference fine, so you don't ever need to worry about that.</p>

<p>However your code has another (possible) problem: All three variables will point to the same list. This means that changing, for example, a, will also change b and c (where by ""changing"" I mean calling a mutating operation like for example <code>append</code>. Reassigning a variable will not affect the other variables).</p>
"
"<p>I'm currently trying to parse a document into tokens with the help of regex.</p>

<p>Currently I'm trying to match the keywords in the document. For example I have the following document:</p>

<pre><code>Func test()
  Return blablaFuncblabla
EndFunc
</code></pre>

<p>The keywords that needs to be matched is Func, Return and EndFunc.</p>

<p>I've comed up with the following regex: (\s|^)(Func)(\s|$) to match the Func keyword, but it doesn't work exactly like I want, the whitespaces are matched as well!</p>

<p>How can I match it without capturing the whitespaces?</p>
","149392","","<pre><code>(?:\s|^)(Func)(?:\s|$)
</code></pre>

<p><code>?:</code> makes a group non-capturing.</p>
"
"<p>I am currently working hard at a long overdue assignment.
I am supposed to make a linked list using generics. Or, I have an interface called Creature that the list is supposed to sort. But how? How can the list sort creatures when the interface cant have a Creature nextCreature pointer? I know of to make a linked list using normal objects, but this generic stuff has me stumped.</p>

<p>This is only a very small part of the task, but I am getting nowhere because of this.</p>
","149392","","<p>A generic linked list class usually is implemented using a generic helper class to represent a node of the list. This Node class would contain an element of type T (where T is the generic parameter) and a reference to the next node (of type <code>Node&lt;T&gt;</code>). So it would look like this:</p>

<pre><code>class Node&lt;T&gt; {
    T element;
    Node&lt;T&gt; next;
};
</code></pre>

<p>In case of a doubly linked list, the node would also contain a reference to the previous node. Using this Node class, you should be able to define your linked list implementation just fine (the list would simply contain a reference to the first node (and to the last node for doubly linked lists) and then define the list operations by operating on the nodes).</p>
"
"<p>I've been doing a lot of work with tuples and lists of tuples recently and I've been wondering if I'm being sensible.</p>

<p>Things feel awkward and clunky which for me signals that I'm doing something wrong.</p>

<p>For example I've written three convenience functions for getting the first, second and third value in a tuple of 3 values.</p>

<p>Is there a better way I'm missing?</p>

<p>Are there more general functions that allow you to compose and manipulate tuple data?</p>

<p>Here are some things I am trying to do that feel should be generalisable.</p>

<p>Extracting values:
Do I need to create a version of fst,snd,etc... for tuples of size two, three, four and five, etc...?</p>

<pre><code>fst3(x,_,_) = x
fst4(x,_,_,_) = x
</code></pre>

<p>Manipulating values:
Can you increment the last value of every tuple in a list of pairs and then use that same function to increment the last value of every tuple in a list of triples?</p>

<p>Zipping and Unzipping values:
There is a zip and a zip3. Do I also need a zip4? or is there some way of creating a general zip function?</p>

<p>Sorry if this seems subjective, I honestly don't know if this is even possible or if I'm wasting my time writing 3 extra functions every time I need a general solution.</p>

<p>Thank you for any help you can give!</p>
","149392","","<p>There is no way to generalise over tuple-size without using extensions like Template Haskell. So if we just consider plain haskell: Yes, you do need to write versions of <code>fst</code> etc. for each tuple-size and no, you can't write a general zip method.</p>
"
"<pre><code>instance Monad (Either a) where
     return = Left
     fail = Right
     Left x &gt;&gt;= f = f x
     Right x &gt;&gt;= _ = Right x
</code></pre>

<p>this code frag in 'baby.hs' caused the horrible compilation error:</p>

<pre><code>Prelude&gt; :l baby
[1 of 1] Compiling Main             ( baby.hs, interpreted )

baby.hs:2:18:
Couldn't match expected type `a1' against inferred type `a'
  `a1' is a rigid type variable bound by
       the type signature for `return' at &lt;no location info&gt;
  `a' is a rigid type variable bound by
      the instance declaration at baby.hs:1:23
In the expression: Left
In the definition of `return': return = Left
In the instance declaration for `Monad (Either a)'

baby.hs:3:16:
Couldn't match expected type `[Char]' against inferred type `a1'
  `a1' is a rigid type variable bound by
       the type signature for `fail' at &lt;no location info&gt;
  Expected type: String
  Inferred type: a1
In the expression: Right
In the definition of `fail': fail = Right

baby.hs:4:26:
Couldn't match expected type `a1' against inferred type `a'
  `a1' is a rigid type variable bound by
       the type signature for `&gt;&gt;=' at &lt;no location info&gt;
  `a' is a rigid type variable bound by
      the instance declaration at baby.hs:1:23
In the first argument of `f', namely `x'
In the expression: f x
In the definition of `&gt;&gt;=': Left x &gt;&gt;= f = f x

baby.hs:5:31:
Couldn't match expected type `b' against inferred type `a'
  `b' is a rigid type variable bound by
      the type signature for `&gt;&gt;=' at &lt;no location info&gt;
  `a' is a rigid type variable bound by
      the instance declaration at baby.hs:1:23
In the first argument of `Right', namely `x'
In the expression: Right x
In the definition of `&gt;&gt;=': Right x &gt;&gt;= _ = Right x
Failed, modules loaded: none.
</code></pre>

<hr>

<p>why this happen? and how could I make this code compile ?
thanks for any help~</p>

<p>i see. and i adjusted the code to see it compiles:</p>

<pre><code>instance Monad (Either a) where
     return = Right
     Left a &gt;&gt;= f = Left a
     Right x &gt;&gt;= f = f x
</code></pre>

<p>it compiles successfully!
but...for a further more question: </p>

<pre><code>instance Monad (Either a)
</code></pre>

<p>makes 'Either a' a monad and i got 'return = Right'...how could i get 'return = Left'?
i've tried this but failed:</p>

<pre><code>instance Monad (`Either` a) where
     return = Left
     Right a &gt;&gt;= f = Right a
     Left x &gt;&gt;= f = f x
</code></pre>

<p>or:
    instance Monad (\x -> Either x a)</p>

<p>doesn't compile at all!</p>
","149392","","<ol>
<li>return should have type <code>forall b. b -&gt; Either a b</code>, however Left has type <code>forall c. a -&gt; Either a c</code>. You probably want Right here.</li>
<li><code>fail</code> should have type <code>forall b. String -&gt; Either a b</code>, however Right has type <code>forall b. b -&gt; Either a b</code>, so if <code>b=String</code> that makes <code>String -&gt; Either a String</code> which does not fit.</li>
<li><code>&gt;&gt;=</code> should have type <code>Either a b -&gt; (b -&gt; Either a c) -&gt; Either a c</code> however <code>Right x &gt;&gt;= _ = Right x</code> always returns a value of type <code>Either a b</code>, not <code>Either a c</code>.</li>
<li><code>Left x &gt;&gt;= f = f x</code> does not work because x has type <code>a</code>, but <code>f</code> has type <code>b -&gt; c</code>.</li>
</ol>
"
"<p>According to rake routes, there's the same path for getting an index of objects as there is for creating a new object:</p>

<pre><code>cars GET    /cars(.:format)    {:controller=&gt;""plugs"", :what=&gt;""car"", :action=&gt;""index""}
     POST   /cars(.:format)    {:controller=&gt;""plugs"", :what=&gt;""car"", :action=&gt;""create""}
</code></pre>

<p>Obviously, the HTTP verb is what distinguishes between them. I want the ""create"" version of the cars_path method, not the ""index"" version. My question is what route method do you invoke to choose the one you want? I'm telling cucumber what path to generate with this:</p>

<pre><code>when /the car plug preview page for ""(.+)""/
  cars_path(:action =&gt; :create, :method =&gt; :post)
</code></pre>

<p>...but it always chooses the ""index"" action, not ""create"". I've tried lots of combinations for the hash argument following cars_path and nothing changes it from choosing ""index"" instead of ""create"".</p>

<p>I'll get an error like this:</p>

<pre><code>cars_url failed to generate from {:controller=&gt;""plugs"", :method=&gt;:post, 
:what=&gt;""car"", :action=&gt;""create""}, expected: {:controller=&gt;""plugs"", :what=&gt;""car"",
:action=&gt;""index""}, diff: {:method=&gt;:post, :action=&gt;""index""} 
(ActionController::RoutingError) 
</code></pre>

<p>This seems like a very simple question but I've had no luck googling for it, so could use some advice. Thanks. </p>
","149392","","<p>Since the URL is the same for both actions, you can use <code>cars_path</code> (without arguments) in both cases. You just simply have to make sure that the form's <code>method</code>-parameter is set to <code>:post</code>. You can not set the method via the URL, you need to set it for the form (and you can't reach the create action by using a link, you need to use a form).</p>
"
"<p>Right now my code works as such:    </p>

<pre><code>def method_a
  self.method_b ==&gt; 'method_b'
end

def method_b
  puts self.name_of_calling_method
end

def name_of_calling_method
  if  /`(.*)'/.match(caller.first)
    return $1
  else
    return nil
  end
end
</code></pre>

<p>Instead of method_b printing 'method_b', how can I print the name of the calling method - 'method_a'?</p>
","149392","","<p>Replace <code>caller.first</code> with <code>caller[1]</code>.</p>
"
"<p>I have a calculation that generates what appears to be the Float 22.23, and a literal 22.23 like so:</p>

<pre><code>some_object.total =&gt; 22.23
some_object.total.class =&gt; Float

22.23 =&gt; 22.23
22.23.class =&gt; Float
</code></pre>

<p>But for some reason, the following is false:</p>

<pre><code>some_object.total == 22.23 ? true : false
</code></pre>

<p>Wacky, right?</p>

<p>Is there some kind of precision mechanism being used that maybe isn't completely transparent through the some_object.total call?</p>
","149392","","<p><code>Float#to_s</code> and <code>Float#inspect</code> round. Try <code>""%.30f"" % some_object.total</code> and you will see that it's not quite 22.23.</p>
"
"<p>You have:</p>

<pre><code>val array = new Array[Array[Cell]](height, width)
</code></pre>

<p>How do you initialize all elements to new Cell(""something"")?</p>

<p>Thanks,
Etam (new to Scala).</p>
","149392","","<pre><code>val array = Array.fromFunction((_,_) =&gt; new Cell(""something""))(height, width)
</code></pre>

<p>Array.fromFunction accepts a function which takes n integer arguments and returns the element for the position in the array described by those arguments (i.e. f(x,y) should return the element for array(x)(y)) and then n integers describing the dimensions of the array in a separate argument list.</p>
"
"<p>I know two arrays can be zipped and the result can be iterated with #each. But how do you do it with an unknown number of enumerables?
Let's say</p>

<pre><code>anand = %w(1-0 0.5-0.5 0.5-0.5 1.0)
carlsen = %w(0-1 0.5-0.5 0.5-0.5 1.0)
kramnik = %w(0.5-0.5 0.5-0.5 0.5-0.5 1.0)
players= [anand, carlsen, kramnik]
#something smart

players.each{|round|puts round} #first line should be  ""1-0 0-1 0.5-0.5"" 
</code></pre>
","149392","","<pre><code>anand.zip(carlsen, kramnik) do |round| puts round.join("" "") end
</code></pre>

<p>This will print:</p>

<pre><code>1-0 0-1 0.5-0.5
0.5-0.5 0.5-0.5 0.5-0.5
0.5-0.5 0.5-0.5 0.5-0.5
1.0 1.0 1.0
</code></pre>
"
"<p>I am running a command to push files to Google App Engine, and it might ask me for my email and password:</p>

<pre><code>$ appcfg.py update .
Application: my-cdn; version: 3. # printed out
Server: appengine.google.com. # printed out
Scanning files on local disk. # printed out
Initiating update. # printed out
Email: email@gmail.com # now it asks me...
Password:
</code></pre>

<p>I am running that in Ruby right now using this: <code>%x[appcfg.py update .]</code>. How can I fill out the email and password?  I have seen something like this with capistrano:</p>

<pre><code>%x[appcfg.py update .] do |channel, stream, data|
  channel.send_data ""#{yaml['production']['email']}\n"" if data =~ /^Email:/
end
</code></pre>

<p>...but haven't figured out how to set that up without it.</p>

<p>What's the best way to fill out things the command line asks for programmatically?</p>

<p>Another issue is that if I run the command through ruby, I can see output as the command runs, but it never shows me the ""Email: "" line, it stops here:</p>

<pre><code>Application: my-cdn; version: 3.
Server: appengine.google.com.
Scanning files on local disk.
Initiating update.
# ... can't see ""Email: ""
</code></pre>

<p>Thanks for the tips.</p>
","149392","","<p>Generally, you can use <code>Open3.popen3(command) do |input, output, error| ... end</code> to invoke a command, write to its input stream and read from its output and error streams (you need to <code>require ""open3""</code> first).</p>

<p>However that usually does not work with programs that ask for a password (because they access the terminal directly instead of simply reading from stdin). In that case, you need to use PTY (<code>require ""pty""</code>) instead of open3. <code>PTY.getpty</code> will spawn a shell and return an array containing the shell's output stream, input stream and pid. You can use those to invoke commands and read their input (be aware that the output you read will also include the shell prompt and the command invocation).</p>
"
"<p>What is the problem with the last two statements in the code?</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
cout &lt;&lt; ""2 + 4 = "" &lt;&lt; 2 + 4 &lt;&lt; endl;
cout &lt;&lt; ""2 * 4 = "" &lt;&lt; 2 * 4 &lt;&lt; endl;
cout &lt;&lt; ""2 | 4 = "" &lt;&lt; 2 | 4 &lt;&lt; endl;
cout &lt;&lt; ""2 &amp; 4 = "" &lt;&lt; 2 &amp; 4 &lt;&lt; endl;
</code></pre>

<p>What should I do to fix this?</p>
","149392","","<blockquote>
  <p>What is the problem with the last two statements in the code?</p>
</blockquote>

<p>Operator precedence. <code>|</code> and <code>&amp;</code> have lower precedence than <code>&lt;&lt;</code>, so <code>cout &lt;&lt; ""2 &amp; 4 = "" &lt;&lt; 2 &amp; 4 &lt;&lt; endl;</code> gets parsed as <code>(cout &lt;&lt; ""2 &amp; 4 = "" &lt;&lt; 2) &amp; (4 &lt;&lt; endl;)</code>.</p>

<blockquote>
  <p>What should I do to fix this?</p>
</blockquote>

<p>Put parens around <code>2 | 4</code> and <code>2 &amp; 4</code>.</p>
"
"<p>I read a book that uses infix, infixr, and infixl in the sample programs. I'm wondering what the differences are. I'm guessing that infixr performs operation from right to left, and vice versa.</p>
","149392","","<p><code>infix</code> defines the operator to be left-associative, <code>infixr</code> defines it to be right-associative. <code>infixl</code> does not exist.</p>
"
"<p>My question is, why are these expressions False?</p>

<pre><code>Python 2.6.4 (r264:75706, Dec  7 2009, 18:45:15) 
[GCC 4.4.1] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.

&gt;&gt;&gt; num = raw_input(""Choose a number: "")
Choose a number: 5
&gt;&gt;&gt; print num
5
&gt;&gt;&gt; print ( num &lt; 18 )
False
&gt;&gt;&gt; print ( num == 5 )
False
</code></pre>

<p>Because if i try this:</p>

<pre><code>&gt;&gt;&gt; print ( num &gt; 0 )
True
</code></pre>

<p>The expression works fine.</p>

<p>Thank you for the help!</p>
","149392","","<p><code>num</code> is a string. You can't meaningfully compare a string to an integer and a string is never equal to an integer (so == returns false and <code>&lt;</code> and <code>&gt;</code> return whatever they want). The reason that <code>&lt;</code> and <code>&gt;</code> don't throw an error (before python 3) when you compare strings and integers is to be able to sort heterogeneous lists.</p>
"
"<p>I have a program that tries to shrink a <code>double</code> down to a desired number. The output I get is NaN.</p>

<p>What does NaN mean in Java?</p>
","149392","","<p><code>NaN</code> means ""Not a Number"" and is the result of undefined operations on floating point numbers like for example dividing zero by zero. (Note that while dividing a non-zero number by zero is also usually undefined in mathematics, it does not result in NaN but in positive or negative infinity).</p>
"
"<p>My understanding is that Ladner's theorem is basically this:</p>

<blockquote>
  <p>P != NP implies that there exists a set NPI where NPI is not in P and
  NPI is not NP-complete</p>
</blockquote>

<p>What happens to this theorem if we assume that P = NP rather than P != NP?  We know that if NP Intermediate doesn't exist, then P = NP.  But can NP Intermediate exist if P = NP?</p>
","149392","","<p>You missed one property of NPI: Every element of NPI is in NP (but not in P). This is clearly impossible if P=NP, so if P=NP, NPI must be empty.</p>
"
"<p>I'm trying to create a simple helper module in rails, and I'm stumped on the following error message from my new person form (app/views/people/new.html.erb):</p>

<pre><code>undefined method `sort' for 97:Fixnum

Extracted source (around line #17):

14:   &lt;p&gt;
15:         &lt;% nations = { 'United States of America' =&gt; 'USA', 'Canada' =&gt; 'Canada', 'Mexico' =&gt; 'Mexico', 'United Kingdom' =&gt; 'UK' } %&gt;
16:     &lt;%= f.label :country %&gt;&lt;br /&gt;
17:         &lt;%= radio_buttons(:person, :country, nations) %&gt;
18:         
19:   &lt;/p&gt;
20:   &lt;p&gt;
</code></pre>

<p>radio_buttons is a helper module I have created for my view.  Here it is (app/helpers/people_helper.rb):</p>

<pre><code>module PeopleHelper 

def radio_buttons(model_name, target_property, button_source) 
  html='' 
  list = button_source.sort 
  list.each do |x| 
    html &lt;&lt; radio_buttons(model_name, target_property, x[1]) 
    html &lt;&lt; h(x[0]) 
    html &lt;&lt; '&lt;br /&gt;' 
  end 
  return html 
end 

end
</code></pre>

<p>The problem appears to be on the ""list = button_source.sort"", but I'm not sure why it says the method is undefined.  I have been able to use it directly within my view code.  Am I not able to use methods like this within helper modules?  Do I need to include something?</p>

<p>Thanks for any help!</p>
","149392","","<p>In the line <code>html &lt;&lt; radio_buttons(model_name, target_property, x[1])</code> the method calls itself recursively. This time the third argument is no longer a hash, but <code>x[1]</code> which is a Fixnum. And since Finxums don't respond to <code>sort</code> you get the error.</p>
"
"<p>This may be very simple question,But please help me.</p>

<p>i wanted to know what exactly happens when i call new &amp; delete , For example in below code</p>

<pre><code>char * ptr=new char [10];

delete [] ptr;
</code></pre>

<p>call to new returns me memory address. Does it allocate exact 10 bytes on heap, Where information about size is stored.When i call delete on same pointer,i see in debugger that there are a lot of byte get changed before and after  the 10 Bytes.</p>

<p>Is there any header for each new which contain information about number of byte allocated by new.</p>

<p>Thanks a lot</p>
","149392","","<blockquote>
  <p>Is there any header for each new which contain information about number of byte allocated by new.</p>
</blockquote>

<p>That's platform dependent but yes, on many platforms there are.</p>
"
"<p>I'm new to Scala... Here's the code:</p>

<pre><code>  def ack2(m: BigInt, n: BigInt): BigInt = {
      val z = BigInt(0)
      (m,n) match {
          case (z,_) =&gt; n+1
          case (_,z) =&gt; ack2(m-1,1) // Compiler says unreachable code on the paren of ack2(
          case _ =&gt; ack2(m-1, ack2(m, n-1)) // Compiler says unreachable code on the paren of ack2(
      }
  }
</code></pre>

<p>I'm trying to understand that... why is it giving that error?</p>

<p>Note: I'm using
Scala Eclipse Plugin    2.8.0.r21376-b20100408034031    ch.epfl.lamp.sdt.feature.group</p>
","149392","","<p>The z inside the pattern match does not refer to the z you declared outside, it introduces a new variable binding. So the first case will match every possible pair (binding z to the first element of the pair and discarding the second) and the other cases will never be reached.</p>

<p>If you replace <code>z</code> in the pattern with</p>

<pre><code>`z`
</code></pre>

<p>it will refer to the existing z and not introduce a new binding, so it will work as you intend. You can also rename z to Z if you don't like the syntax with backticks.</p>
"
"<p><em>e.g.</em> The code below throws a ClassCastException when the second Object is added to the TreeSet. Couldn't TreeSet have been written so that the type parameter can only be a Comparable type? <em>i.e.</em> TreeSet would not compile because Object is not Comparable. That way generics actually do their job - of being typesafe.</p>

<pre><code>import java.util.TreeSet;
public class TreeSetTest {
  public static void main(String [] args) {
   TreeSet&lt;Object&gt; t = new TreeSet&lt;Object&gt;();
   t.add(new Object());
   t.add(new Object());
  }
}
</code></pre>
","149392","","<p>If the type would have to be Comparable, you couldn't create a TreeSet with a non-comparable type and a Comparator (which you can as it is now).</p>

<p>One way to fix this while still being type-safe would have been to have two classes: one with a comparable type parameter and one with a non-comparable type parameter and no default constructor (only the constructor that takes a Comparator), but I suppose the java devs didn't want to introduce two classes that basically did the same thing (though one could easily be implemented as a wrapper around the other).</p>

<p>Another (and arguably cleaner way) would be to extend the type system so that certain constructors only exist when used with certain type parameters (i.e. the default constructor only exists if the type parameter is comparable), but I suppose that would have made the generic system too complex for java.</p>
"
"<p>For example:</p>

<p><code>for(int i = 0; i &lt; 100; i += 2)</code></p>

<p>I could use a while loop or check if i % 2 == 0, but I was wondering if there wasn't a way to do it with the for loop. I could also use <code>for(int i = 0; i &lt; 50; i++)</code> and multiply i by 2, but that doesn't seem right either. I'm just wondering if there is a simple, straightforward way to do it.</p>
","149392","","<pre><code>(0...100).step(2) do |i|
  # loop body
end
</code></pre>
"
"<p>PLease help me out here. The program is supposed to recursively find out the combination of two numbers. nCr = n!/ (r!(n-r)! ). I'm getting this error message when i compile it on GCC. </p>

<h2> Here's what the terminal shows:</h2>

<p>Enter two numbers:
8
4
Segmentation fault</p>

<hr>

<p>(Program exited with code:139)</p>

<p>The code is given here:</p>

<pre><code>    #include&lt;stdio.h&gt;

float nCr(float, float, float);

int main()
{

 float a, b, c;
 printf(""Enter two numbers: \n"");
 scanf(""%f%f"", &amp;a, &amp;b);
 c = nCr(a, b, a-b);
 printf(""\n%.3f"", c);
 return 0;
}

float nCr(float n, float r, float p)
{

        if(n&lt;1)
 return (1/(p*r))*(nCr(1, r-1, p-1));

 if(r&lt;1)
 return (n/(p*1))*(nCr(n-1, 1, p-1));

 if(p&lt;1)
 return (n/r)*(nCr(n-1, r-1, 1));

 return ( n/(p*r) )*nCr(n-1, r-1, p-1);
}
</code></pre>
","149392","","<p>Since nCr doesn't have any return statement that is not recursive, it will recurse infinitely. Since this will cause the stack to grow infinitely, you get your segmentation fault.</p>

<p>Basically a recursive function should always have at least one possible path through the function which does not recurse. Otherwise you have infinite recursion.</p>
"
"<p><strong>EDIT:</strong>
complete code with main is here <a href=""http://codepad.org/79aLzj2H"" rel=""nofollow"">http://codepad.org/79aLzj2H</a></p>

<p>and once again this is were the weird behavious is happening</p>

<pre><code>for (i = 0; i&lt;tab_size; i++)
{
  //CORRECT OUTPUT
  printf(""%s\n"", tableau[i].capitale);
  printf(""%s\n"", tableau[i].pays);
  printf(""%s\n"", tableau[i].commentaire);
  //WRONG OUTPUT
  //printf(""%s --- %s --- %s |\n"", tableau[i].capitale, tableau[i].pays, tableau[i].commentaire);
}
</code></pre>

<hr>

<hr>

<p>I have an array of the following strcuture </p>

<pre><code>struct T_info
{
    char capitale[255];
    char pays[255];
    char commentaire[255];
};

struct T_info *tableau;
</code></pre>

<p>This is how the array is populated</p>

<pre><code>int advance(FILE *f)
{
  char c;

  c = getc(f);
  if(c == '\n')
    return 0;

  while(c != EOF &amp;&amp; (c == ' ' || c == '\t'))
  {
    c = getc(f);
  }

  return fseek(f, -1, SEEK_CUR);

}

int get_word(FILE *f, char * buffer)
{
  char c;
  int count = 0;
  int space = 0;

  while((c = getc(f)) != EOF)
    {
      if (c == '\n')
      {
    buffer[count] = '\0';
    return -2;
      }

      if ((c == ' ' || c == '\t') &amp;&amp; space &lt; 1)
      {
    buffer[count] = c;
    count ++;
    space++;
      }
      else
      {
    if (c != ' ' &amp;&amp; c != '\t')
    {
      buffer[count] = c;
      count ++;
      space = 0;
    }       
    else /* more than one space*/
    {
     advance(f);
     break;
    }
      }
    }

   buffer[count] = '\0';
   if(c == EOF)
     return -1;

   return count;
}

void fill_table(FILE *f,struct T_info *tab)
{
    int line = 0, column = 0;

    fseek(f, 0, SEEK_SET);

    char buffer[MAX_LINE];
    char c;
    int res;

    int i = 0;
    while((res = get_word(f, buffer)) != -999)
    {
      switch(column)
      {
        case 0:
        strcpy(tab[line].capitale, buffer); 
        column++;
          break;
        case 1:
          strcpy(tab[line].pays, buffer);
          column++;
          break;
        default:
          strcpy(tab[line].commentaire, buffer);    
          column++;
          break;
      }
      /*if I printf each one alone here, everything works ok*/
          //last word in line
      if (res == -2)
      {
        if (column == 2)
        {
          strcpy(tab[line].commentaire, "" "");       
        }
//wrong output here
        printf(""%s -- %s -- %s\n"", tab[line].capitale, tab[line].pays, tab[line].commentaire);

        column = 0;
          line++;
          continue;
      }
      column = column % 3;

      if (column == 0)
      {
        line++;
      }

      /*EOF reached*/
      if(res == -1)
        return;

    }
    return ;
}
</code></pre>

<p><strong>Edit :</strong></p>

<p>trying this </p>

<pre><code>    printf(""%s -- "", tab[line].capitale);
    printf(""%s --"", tab[line].pays);
    printf(""%s --\n"", tab[line].commentaire);
</code></pre>

<p>gives me as result </p>

<pre><code> --  --abi  -- Emirats arabes unis
</code></pre>

<p>I expect to get </p>

<pre><code>Abu Dhabi -- Emirats arabes unis --
</code></pre>

<p>Am I missing something?</p>
","149392","","<blockquote>
  <p>Does printf have side effects?</p>
</blockquote>

<p>Well, it prints to the screen. That's a side effect. Other than that: no.</p>

<blockquote>
  <p>is printf changing its parameters</p>
</blockquote>

<p>No</p>

<blockquote>
  <p>I get wrong resutts [...] what is going on?</p>
</blockquote>

<p>If by wrong results you mean that the output does not appear when it should, this is probably just a line buffering issue (your second version does not print newline which may cause the output to not be flushed).</p>
"
"<p>I can define church numerals fairly easy using scheme:</p>

<pre><code>&gt; (define f (lambda (x) x))
&gt; (f f) ;0
#&lt;procedure:f&gt;
&gt; (f (f f)) ;1
#&lt;procedure:f&gt;
</code></pre>

<p>However, this doesn't make it very easy to recognize that <code>(f f)</code> is 0 and (f (f f)) is 1.  Is there a way that I can make these numerals more readable?  What would be ideal is this:</p>

<pre><code>&gt; (f f)
0
&gt; (f (f f))
1
</code></pre>

<p>The example is in scheme, but I'll take an answer in any lisp.</p>
","149392","","<p>First let's define real church numerals which have the desirable property that <code>0 != 1</code>:</p>

<pre><code>(define zero (lambda (f x) x))
(define (succ cn) (lambda (f x) (f (cn f x))))
</code></pre>

<p>So <code>zero</code> is the church representation of 0, <code>(succ zero)</code> of 1, <code>(succ (succ zero))</code> of 2 and so on.</p>

<p>Now since those are just functions, there is no way to tell the repl to display them as numbers, but you can define a function cn-to-int which converts church-numerals to ints which can then be displayed normally:</p>

<pre><code>&gt; (define (cn-to-int cn) (cn (lambda (x) (+ x 1)) 0))
&gt; (cn-to-int zero)
0
&gt; (cn-to-int (succ zero))
1
&gt; (cn-to-int (succ (succ zero)))
2
</code></pre>
"
"<p>I can't figure out what the ""| m -> w""-part means in a class definition like this:</p>

<pre><code>class (Monoid w, Monad m) =&gt; MonadWriter w m | m -&gt; w
</code></pre>

<p>What additional information does this add to the class definition?</p>
","149392","","<p>It specifies a <a href=""http://www.haskell.org/haskellwiki/Functional_dependencies"">functional dependency</a>.</p>
"
"<p>How does ML perform the type inference in the following function definition:</p>

<pre><code>let add a b = a + b
</code></pre>

<p>Is it like C++ templates where no type-checking is performed until the point of template instantiation after which if the type supports the necessary operations, the function works or else a compilation error is thrown ?</p>

<p>i.e. for example, the following function template</p>

<pre><code>template &lt;typename NumType&gt;
NumType add(NumType a, NumType b) {
  return a + b;
}
</code></pre>

<p>will work for</p>

<pre><code>add&lt;int&gt;(23, 11);
</code></pre>

<p>but won't work for</p>

<pre><code>add&lt;ostream&gt;(cout, fout);
</code></pre>

<p>Is what I am guessing is correct or ML type inference works differently?</p>

<p>PS: Sorry for my poor English; it's not my native language.</p>
","149392","","<p>ML uses <a href=""http://en.wikipedia.org/wiki/Type_inference#Hindley.E2.80.93Milner_type_inference_algorithm"" rel=""nofollow"">Hindley-Milner type inference</a>. In this simple case all it has to do is look at the body of the function and see that it uses <code>+</code> with the arguments and returns that. Thus it can infer that the arguments must be the type of arguments that <code>+</code> accepts (i.e. ints) and the function returns the type that <code>+</code> returns (also int). Thus the inferred type of <code>add</code> is <code>int -&gt; int -&gt; int</code>.</p>

<p>Note that in SML (but not CAML) <code>+</code> is also defined for other types than int, but it will still infer int when there are multiple possibilities (i.e. the <code>add</code> function you defined can not be used to add two floats).</p>
"
"<p>Is there a good way to emulate <code>yield</code> in Ruby? I'm interested in writing similar 'infinite fib sequence' in Ruby.</p>

<p>Here is the code:</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;


namespace cs2 {
    class Program {
        static void Main(string[] args) {          
          var i=Fibs().TakeWhile(x=&gt;x &lt; 1000).Where(x=&gt;x % 2==0).Sum();
        }

        static IEnumerable&lt;long&gt; Fibs() {
            long a = 0, b = 1;
            while (true) {
                yield return b;
                b += a;
                a = b - a;
            }
        }
    }
}
</code></pre>

<p>If it is possible, please give an example.</p>
","149392","","<p>The common idiom in ruby to implement such sequences, is to define a method that executes a block for each element in the sequence if one is given or return an enumerator if it is not. That would look like this:</p>

<pre><code>def fibs
  return enum_for(:fibs) unless block_given?
  a = 0
  b = 1
  while true
    yield b
    b += a
    a = b - a
  end
end

fibs
#=&gt; #&lt;Enumerable::Enumerator:0x7f030eb37988&gt;
fibs.first(20)
#=&gt; [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765]
fibs.take_while {|x| x &lt; 1000}.select {|x| x%2 == 0}
#=&gt; [2, 8, 34, 144, 610]
fibs.take_while {|x| x &lt; 1000}.select {|x| x%2 == 0}.inject(:+)
=&gt; 798
</code></pre>
"
"<p><br>
I use the stream operator &lt;&lt; and the bit shifting operator &lt;&lt; in one line.
I am a bit confused, why does code A) not produce the same output than code B)?  </p>

<p>A)</p>

<pre><code>int i = 4;  
std::cout &lt;&lt; i &lt;&lt; "" "" &lt;&lt; (i &lt;&lt; 1) &lt;&lt; std::endl;   //4 8
</code></pre>

<p>B)  </p>

<pre><code>myint m = 4;
std::cout &lt;&lt; m &lt;&lt; "" "" &lt;&lt; (m &lt;&lt; 1) &lt;&lt; std::endl;   //8 8
</code></pre>

<p>class myint:</p>

<pre><code>class myint {
    int i;
public:
    myint(int ii) {
        i = ii;
    }
    inline myint operator &lt;&lt;(int n){
        i = i &lt;&lt; n;
        return *this;
    }
    inline operator int(){
        return i;
    }
};
</code></pre>

<p>thanks in advance<br>
Oops  </p>
","149392","","<p>Because the <code>&lt;&lt;</code> operator of myint modifies its lhs. So after evaluating <code>m &lt;&lt; 1</code>, m will actually have the value 8 (while <code>i &lt;&lt; 1</code> only returns 8, but does not make i equal to 8). Since it is not specified whether <code>m&lt;&lt;1</code> executes before <code>cout &lt;&lt; m</code> (because it's not specified in which order the arguments of a function or operator are evaluated), it is not specified whether the output will be <code>8 8</code> or <code>4 8</code>.</p>
"
"<p>What do you think the benefits of functional programming are? And how do they apply to programmers today?</p>

<p>What are the greatest differences between functional programming and OOP? </p>
","149392","","<blockquote>
  <p>A good starting point therefore would be to try to understand some things that are not possible in imperative languages but possible in functional languages.</p>
</blockquote>

<p>If you're talking about computability, there is of course nothing that is possible in functional but not imperative programming (or vice versa).</p>

<p>The point of different programming paradigms isn't to make things possible that weren't possible before, it's to make things easy that were hard before.</p>

<p>Functional programming aims to let you more easily write programs that are concise, bug-free and parallelizable.</p>
"
"<pre><code>a = [ 1, 3, 5, 7, 9 ]    → [1, 3, 5, 7, 9]

a[2, 2] = ’cat’          → [1, 3, ""cat"", 9]

a[2, 0] = ’dog’          → [1, 3, ""dog"", ""cat"", 9]

a[1, 1] = [ 9, 8, 7 ]    → [1, 9, 8, 7, ""dog"", ""cat"", 9]

a[0..3] = []             → [""dog"", ""cat"", 9]

a[5..6] = 99, 98         → [""dog"", ""cat"", 9, nil, nil, 99, 98]
</code></pre>

<p>I can understand how the last four amendments to this array work, but why do they use a[2, 2] = 'cat' and a[2,0] = 'dog' ???</p>

<p>What do the two numbers represent?</p>

<p>Couldnt they just use a[2] = 'dog'?</p>
","149392","","<p><code>a[x,n]</code> is the subarray of a with length n starting at index x.</p>

<p>Thus <code>a[2,2] = 'cat'</code> means ""take the items at positions 2 and 3"" and replace them with <code>'cat'</code>, which is why this replaces <code>5</code> and <code>7</code> - not just <code>5</code>.</p>

<p><code>a[2,0] = 'dog'</code> means ""take the empty subarray before position 2 and replace it with <code>'dog'</code>"". This is why no elements are replaced (<code>a[2] = 'dog'</code> would simply replace cat with dog).</p>
"
"<p>any tail-recursive version for the below mentioned pseudocode ? Thanks !</p>

<pre><code>(define (min list)
  (cond 
   ((null? list) '())
   ((null? (cdr list)) (car list))
   (#t (let ((a (car list))
             (b (min (cdr list))))
         (if (&lt; b a) b a)))))
</code></pre>
","149392","","<p>Define a helper function that takes a list and the smallest element found so far (let's call it b). If the list is empty, it should return b, otherwise if the head of the list (a) is smaller than b than it should return <code>(helper (cdr list) a)</code>, otherwise <code>(helper (cdr list) b)</code>. Now we can define <code>(min list)</code> as <code>(helper (cdr list) (car list))</code>.</p>
"
"<p>I'm using Text.ParserCombinators.Parsec and Text.XHtml to parse an input and get a HTML output.</p>

<p>If my input is:</p>

<pre>
    * First item, First level
    ** First item, Second level
    ** Second item, Second level
    * Second item, First level
</pre>

<p>My output should be:</p>

<p><code>&lt;ul&gt;&lt;li&gt;First item, First level &lt;ul&gt;&lt;li&gt;First item, Second level &lt;/li&gt;&lt;li&gt;Second item, Second level &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Second item, First level&lt;/li&gt;&lt;/ul&gt;</code></p>

<p>I wrote this, but obviously does not work recursively</p>

<p><code>list= do{ s &lt;- many1 item;return (olist  &lt;&lt;  s) }
item= do{ 
                (count 1 (char '*'))
                ;s &lt;- manyTill anyChar newline
                ;return ( li &lt;&lt;  s)
    }</code></p>

<p>Any ideas?
the recursion can be more than two levels</p>

<p>Thanks!</p>
","149392","","<pre><code>list n = do first &lt;- item n
            rest &lt;- many $ try $ try (list (n+1)) &lt;|&gt; item n
            return $ ulist &lt;&lt; (first : rest)

item n = do count n (char '*')
            s &lt;- manyTill anyChar newline
            return $ li &lt;&lt; s
</code></pre>

<p>Now <code>parse  (list 1) ""foo"" ""* a\n** a 1\n** a 2\n* b\n** b 1\n** b 2\n""</code> will return what you asked for.</p>

<p>Note though, that the nested lists should themselves be inside a li, for this to be valid xhtml.</p>
"
"<p>what is the difference between utf8 and latin1?</p>
","149392","","<p>In latin1 each character is exactly one byte long. In utf8 a character can consist of more than one byte. Consequently utf8 has more characters than latin1 (and the characters they do have in common aren't necessarily represented by the same byte/bytesequence).</p>
"
"<p>I have a 2-d hash.I need to sort each sub-hash by value in descending order. </p>

<pre><code>hsh={""a""=&gt;{0=&gt;1, 1=&gt;2}}

output= {""a""=&gt;{1=&gt;2,0=&gt;1}}
</code></pre>

<p>Thanks &amp; Cheers ! </p>
","149392","","<p>You can't affect in what order the elements of a hashmap are iterated or displayed (Well in ruby 1.9 iteration (and display) order is guaranteed to be the same as insertion order, so if you create hash from a sorted array, the hash will be sorted as well).</p>

<p>All you can do is turn the hash into an array and sort that. Like:</p>

<pre><code>hsh.map {|k,v| [k, v.sort.reverse]}
#=&gt; [[""a"", [[1, 2], [0, 1]]]]
</code></pre>
"
"<p>So I'm writing a program which returns a procedure for some given arithmetic problem, so I wanted to instance a couple of functions to Show so that I can print the same expression I evaluate when I test. The trouble is that the given code matches (-) to the first line when it should fall to the second.</p>

<pre><code>{-# OPTIONS_GHC -XFlexibleInstances #-}

instance Show (t -&gt; t-&gt; t) where  
 show (+) = ""plus""
 show (-) = ""minus""  

main = print [(+),(-)]
</code></pre>

<p>returns</p>

<pre><code>[plus,plus]
</code></pre>

<p>Am I just committing a mortal sin printing functions in the first place or is there some way I can get it to match properly?</p>

<p>edit:I realise I am getting the following warning:</p>

<pre><code>Warning: Pattern match(es) are overlapped
         In the definition of `show': show - = ...
</code></pre>

<p>I still don't know why it overlaps, or how to stop it.</p>
","149392","","<p>It overlaps because it treats <code>(+)</code> simply as a variable, meaning on the RHS the identifier + will be bound to the function you called show on.</p>

<p>There is no way to pattern match on functions the way you want.</p>
"
"<pre><code>;; definition of the structure ""book""
;; author: string - the author of the book
;; title: string - the title of the book
;; genre: symbol - the genre
(define-struct book (author title genre))

(define lotr1 (make-book ""John R. R. Tolkien"" 
                         ""The Fellowship of the Ring""
                         'Fantasy))
(define glory (make-book ""David Brin""
                         ""Glory Season""
                         'ScienceFiction)) 
(define firstFamily (make-book ""David Baldacci""
                               ""First Family""
                               'Thriller))
(define some-books (list lotr1 glory firstFamily))

;; count-books-for-genre:  symbol (list of books) -&gt; number
;; the procedure takes a symbol and a list of books and produces the number           
;; of books from the given symbol and genre
;; example: (count-books-for-genre 'Fantasy some-books) should produce 1
(define (count-books-for-genre genre lob)  

 (if (empty? lob) 0
 (if (symbol=? (book-genre (first lob)) genre)
       (+ 1 (count-books-for-genre (rest lob) genre)) 
       (count-books-for-genre (rest lob) genre) 
     )     
  )      
 )             

(count-books-for-genre 'Fantasy some-books)
</code></pre>

<p>It produce following exception <strong>first: expected argument of type non-empty list; given 'Fantasy</strong>,  I don't understand whats the problem.</p>

<p>Can somebody give me some explanation ?</p>

<p>Thank you very much !</p>
","149392","","<p>In the recursive call to count-books-for-genre you're mixing up the argument order.</p>

<p>I.e. you pass in <code>(rest lob)</code> as the first argument (genre) and genre as the second (lob). So in the first recursive call lob is actually 'Fantasy instead of <code>(rest some-books)</code> and thus trying to use list operations on it leads to failure.</p>
"
"<p>If functional programming languages cannot save any state, how do they do simple stuff like reading input from a user?  How do they ""store"" the input (or store any data for that matter?)</p>

<p>For example: how would this simple C thing translate to a functional programming language like Haskell?</p>

<pre><code>#include&lt;stdio.h&gt;
int main() {
    int no;
    scanf(""%d"",&amp;no);
    return 0;
}
</code></pre>

<p><em>(My question was inspired by this excellent post: <a href=""http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html"" rel=""nofollow"">""Execution in the Kingdom of Nouns""</a>.  Reading it gave me some better understanding of what exactly object oriented programming is, how Java implements it in one extreme manner, and how functional programming languages are a contrast.)</em></p>
","149392","","<p>haskell:</p>

<pre><code>main = do no &lt;- readLn
          print (no + 1)
</code></pre>

<p>You can of course assign things to variables in functional languages. You just can't change them (so basically all variables are constants in functional languages).</p>
"
"<p>I'm working through a book on Ruby, and the author used a slightly different form for writing a class initialization definition than he has in previous sections of the book. It looks like this:</p>

<pre><code>class Ticket
  attr_accessor :venue, :date
  def initialize(venue, date)
    self.venue = venue
    self.date = date
  end
end
</code></pre>

<p>In previous sections of the book, it would've been defined like this:</p>

<pre><code>class Ticket
  attr_accessor :venue, :date
  def initialize(venue, date)
    @venue = venue
    @date = date
  end
end
</code></pre>

<p>Is there any functional difference between using the setter method, as in the first example, vs. using the instance variable as in the second? They both seem to work. Even mixing them up works:</p>

<pre><code>class Ticket
  attr_accessor :venue, :date
  def initialize(venue, date)
    @venue = venue
    self.date = date
  end
end
</code></pre>
","149392","","<p>Since the setter method has been defined by <code>attr_accessor</code> and thus does nothing but setting the variable, there is no difference between using the setter method and setting the variable directly.</p>

<p>The only upside to using the setter method is that if you should later change the setter method to do something more than setting the variable (like validate the input or log something), your <code>initialize</code> method would be affected by these changes without you having to change it.</p>
"
"<p>And, if it does, how do you use one? (syntax)</p>

<p>Also, why does or why doesn't C support lambda expressions?</p>
","149392","","<p>No, C doesn't have lambda expressions (or any other way to create closures).</p>

<p>This is likely so because C is a low-level language that avoids features that might have bad performance and/or make the language or run-time system more complex.</p>
"
"<p>I have a class where I like to initialize my var by reading a configfile, which produces intermediate objects/vals, which I would like to group and hide in a method. 
Here is the bare minimum of the problem - I call the ctor with a param i, in reality a File to parse, and the init-method generates the String s, in reality more complicated than here, with a lot of intermediate objects being created:</p>

<pre><code>class Foo (val i: Int) {

    var s : String;

    def init () {
        s = """" + i 
    }

    init ()
}
</code></pre>

<p>This will produce the error: <code>class Foo needs to be abstract, since variable s is not defined</code>. In this example it is easy to solve by setting the String to """": <code>var s = """";</code>, but in reality the object is more complex than String, without an apropriate Null-implementation. </p>

<p>I know, I can use an Option, which works for more complicated things than String too:</p>

<pre><code>var s : Option [String] = None

def init () {
    s = Some ("""" + i) 
}
</code></pre>

<p>or I can dispense with my methodcall. Using an Option will force me to write Some over and over again, without much benefit, since there is no need for a None else than to initialize it that way I thought I could. </p>

<p>Is there another way to achieve my goal? </p>
","149392","","<p><code>var s : Whatever = _</code> will initialize s to the default value for Whatever (null for reference types, 0 for numbers, false for bools etc.)</p>
"
"<p>The following code snippet works fine in 1.8.7 on Mac OS X, but not in 1.8.6 on Ubuntu. Why? Is there a workaround?</p>

<p>Works in 1.8.7:</p>

<pre><code>$ ruby --version
ruby 1.8.7 (2009-06-08 patchlevel 173) [universal-darwin10.0]
ltredgate15:eegl leem$ irb
&gt;&gt; 6.times.map {'foo'}
=&gt; [""foo"", ""foo"", ""foo"", ""foo"", ""foo"", ""foo""]
&gt;&gt;
</code></pre>

<p>But not in 1.8.6:</p>

<pre><code># ruby --version
ruby 1.8.6 (2008-08-11 patchlevel 287) [i686-linux]
Ruby Enterprise Edition 20090610
# irb
irb(main):001:0&gt; 6.times.map {'foo'}
LocalJumpError: no block given
        from (irb):1:in `times'
        from (irb):1
irb(main):002:0&gt; 
</code></pre>

<p>Why is there a difference? What's the workaround for 1.8.6?</p>
","149392","","<p>In 1.8.7+ iterator methods like <code>times</code> return an enumerator if they are called without a block. In 1.8.6 you have to do</p>

<pre><code>require 'enumerator'
6.enum_for(:times).map {...}
</code></pre>

<p>Or for this specific use case you could simply do  <code>(0...6).map {...}</code></p>
"
"<p>Assume the third parameter is the result.</p>

<p>a( 1, [Hd | <em>Tl], Hd ).
a( N, [</em> | Tl], Elem ) :-
N > 1,
N1 is N - 1,
a( N1, Tl, Elem). </p>

<p>I'm trying to understand what this does....</p>
","149392","","<p>It gives the Nth element of a list. You can read the definition as follows:</p>

<pre><code>a( 1, [Hd | Tl], Hd ).
</code></pre>

<p>Hd is the 1st element of the list <code>[Hd | Tl]</code>, i.e. the list that starts with Hd, followed by the list Tl.</p>

<pre><code>a( N, [ | Tl], Elem ) :- N &gt; 1, N1 is N - 1, a( N1, Tl, Elem).
</code></pre>

<p>Elem is the Nth element of a list if and only if it is the <code>N1</code>th element of its tail, where <code>N1</code> is <code>N-1</code>.</p>
"
"<p>I have a List which is declared like this :</p>

<pre><code> List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Integer&gt;();
</code></pre>

<p>I tried to add 3 to foo3. However I get an  error message like this:</p>

<pre><code>The method add(capture#1-of ? extends Number) in the type List&lt;capture#1-of ?
extends Number&gt; is not applicable for the arguments (ExtendsNumber)
</code></pre>
","149392","","<p>You can't (without unsafe casts). You can only read from them.</p>

<p>The problem is that you don't know what exactly the list is a list of. It could be a list of any subclass of Number, so when you try to put an element into it, you don't know that the element actually fits into the list.</p>

<p>For example the List might be a list of <code>Byte</code>s, so it would be an error to put a <code>Float</code> into it.</p>
"
"<p>I am just beginning Haskell, but from all the online tutorials I've found I can't seem to find if there is one accepted way to do a conditional control statement. I have seen if-else, guards, and pattern matching, but they all seem to accomplish the same thing. Is there one generally accepted/faster/more efficient way than the rest?</p>
","149392","","<p>None of the three options do exactly the same thing or can be used in all situations.</p>

<p>Pattern matches check which constructor was used to create a given value and they bind variables. Neither if nor guards do that. You could only use them instead of pattern matches if you match against a nullary constructor (or a number literal) of a type implementing Eq.</p>

<p>Example:</p>

<pre><code>foo (Just x) = x+1 -- Can not do this without a pattern match (except by using
                   -- functions like fromJust that themselves use pattern matches)
foo Nothing = 0 -- You could do this using a pattern guards like
                -- foo x | x==Nothing = 0, but that is less readable and less
                -- concise than using a plain pattern match
</code></pre>

<p>Pattern guards allow you to check for other things than equality. E.g. you can check whether a given number is greater than zero. Of course you can do the same thing with if, but pattern guards allow you to go to the next pattern when a guard fails, which can lead to less repetition than using if. Example:</p>

<pre><code>maybeSqrt (Just x) | x &gt;= 0 = sqrt x
maybeSqrt _ = Nothing
</code></pre>

<p>Using if this would look like this (note the repetition of Nothing):</p>

<pre><code>maybeSqrt (Just x) = if x &gt;= 0 then sqrt x
                     else Nothing
maybeSqrt _ = Nothing
</code></pre>

<p>Lastly if can be used without pattern matches. If you don't actually use pattern matching on a given value introducing a <code>case x of ...</code> just so you can use pattern guards makes little sense and is less readable and concise than just using if.</p>
"
"<p>I'm working my way through Graham Hutton's Haskell book, and in his recursion chapter, he often pattern-matches on ""n+1"", as in:</p>

<pre><code>myReplicate1 0 _ = []
myReplicate1 (n+1) x = x : myReplicate1 n x
</code></pre>

<p>Why that and not the following, which (1) seems functionally identical and (2) more intuitive in terms of understanding what's happening with the recursion:</p>

<pre><code>myReplicate2 0 _ = []
myReplicate2 n x = x : myReplicate2 (n-1) x
</code></pre>

<p>Is there something I'm missing here? Or is it just a matter of style?</p>
","149392","","<p>n+k patterns only match when n>=0. So in your myReplicate1 the n+1 pattern will match only positive numbers and a negative n will cause a nonexhaustive-pattern exception. In myReplicate2 a negative n would create an infinite list.</p>

<p>So in other words you can use n+k patterns when you don't want the pattern to match negative numbers, but using a guard instead will be clearer.</p>
"
"<p>When thinking in a functional mindset, given that functions are supposed to be pure, one can conclude any function with no arguments is basically just a value.<br>
However, reallity gets in the way, and with different inputs, I might not need a certain function, and if that function is computationally expensive, I'd like to not evaluate it if it's not needed.<br>
I found a workaround, using <code>let func _ = ...</code> and calling it with func 1 or whatever, but that feels very non-idiomatic and confusing to the reader.  </p>

<p>This boils down to one question: In F#, Is there a proper way to declare a function with zero arguments, without having it evaluated on declaration?</p>
","149392","","<p>The usual idiom is to define the function to take one argument of type Unit (<code>let functionName () = 42</code>). It will then be called as <code>functionName ()</code> (<code>()</code> being the one and only value of type unit).</p>
"
"<pre><code> 21 --Primitive recursion constructor
 22 pr :: ([Int] -&gt; Int) -&gt; ([Int] -&gt; Int) -&gt; ([Int] -&gt; Int)
 23 pr f g = \xs 0 -&gt; f xs
 24 pr f g = \xs (y+1) -&gt; g xs y ((pr f g) xs y)
</code></pre>

<p>I want the function this function creates to act differently on different inputs, so that it can create a recursive function. As expected, the above code doesn't work.  How do I do something like pattern matching, but for the function it creates?</p>

<p>Thanks</p>
","149392","","<pre><code>pr f g = \xs y' -&gt; case y' of 0     -&gt; f xs
                              (y+1) -&gt; g xs y ((pr f g) xs y)
</code></pre>

<p>or simply</p>

<pre><code>pr f g xs 0 = f xs
pr f g xs (y+1) = g xs y ((pr f g) xs y)
</code></pre>

<p>(Remember that <code>f a b = ...</code> is basically a shortcut for <code>f a = \b -&gt; ...</code> which is a shortcut for <code>f = \a -&gt; \b -&gt; ...</code>.)</p>

<p>Note that n+1 patterns are deprecated and that the type you specified for pr does not match your (and mine) definition.</p>

<p>Specifically according to your type the function takes an <code>[Int] -&gt; Int</code> (f), then a function that takes another <code>[Int] -&gt; Int</code> (g), then a function that takes an <code>[Int]</code> (xs) and then returning an Int. However you call g with three arguments and the last function that you return takes two arguments, so presumably you want something like <code>([Int] -&gt; Int) -&gt; ([Int] -&gt; Int -&gt; Int -&gt; Int) -&gt; [Int] -&gt; Int -&gt; Int</code>.</p>
"
"<p>Am I fundamentally misunderstanding Ruby here? I've been writing Ruby code for about 2 years now and just today stumbled on this...</p>

<pre><code>ruby-1.8.7-p249 &gt; i = true and false
 =&gt; false 
ruby-1.8.7-p249 &gt; i
 =&gt; true 
</code></pre>

<p>Could somebody explain what's going on here please? I'm sure it's to spec, but it just seems counter intuitive to me...</p>
","149392","","<p><code>and</code> has lower precedence than <code>=</code> so <code>i = true and false</code> is parsed as <code>(i = true) and false</code>.</p>

<p>So the value <code>true</code> is assigned to <code>i</code> and then the return value of that operation (which is true) is <code>and</code>ed with false, which causes the whole expression to evaluate to <code>false,</code> even though <code>i</code> still has the value <code>true</code>.</p>
"
"<p>i'm trying to learn ocaml right now and wanted to start with a little program, generating all bit-combinations:
[""0"",""0"",""0""]
[""0"",""0"",""1""]
[""0"",""1"",""0""]
... and so on</p>

<p>My idea is the following code:</p>

<pre><code>let rec bitstr length list =
  if length = 0 then
    list
  else begin
    bitstr (length-1)(""0""::list);
    bitstr (length-1)(""1""::list);
  end;;
</code></pre>

<p>But i get the following error:</p>

<pre><code>Warning S: this expression should have type unit.
val bitstr : int -&gt; string list -&gt; string list = &lt;fun&gt;
# bitstr 3 [];;
- : string list = [""1""; ""1""; ""1""]
</code></pre>

<p>I did not understand what to change, can you help me?</p>

<p>Best regards
Philipp</p>
","149392","","<p><code>begin foo; bar end</code> executes <code>foo</code> and throws the result away, then it executes bar. Since this makes only sense if <code>foo</code> has side-effects and no meaningful return value ocaml emits a warning if foo has a return value other than unit, since everything else is likely to be a programmer error (i.e. the programmer does not actually intend for the result to be discarded) - as is the case here.</p>

<p>In this case it really does make no sense to calculate the list with ""0"" and then throw it away. Presumably you want to concatenate the two lists instead. You can do this using the <code>@</code> operator:</p>

<pre><code>let rec bitstr length list =
  if length = 0 then
    [list]
  else
    bitstr (length-1)(""0""::list) @ bitstr (length-1)(""1""::list);;
</code></pre>

<p>Note that I also made the <code>length = 0</code> case return <code>[list]</code> instead of just <code>list</code> so the result is a list of lists instead of a flat list.</p>
"
"<p>I need to write a regex that matches strings like ""abc"", ""ab"", ""ac"", ""bc"", ""a"", ""b"", ""c"". Order is important and it shouldn't match multiple appearances of the same part.</p>

<p>a?b?c? almost does the trick. Except it matches empty strings too. Is there any way to prevent it from matching empty strings or maybe a different way to write a regex for the task.</p>
","149392","","<p>You can write down all permutations (which is a pain) or all possibilities of which letter is not left out (<code>ab?c?|a?bc?|a?b?c</code>), which is somewhat less of a pain.</p>
"
"<p>Hi everbody I need to change my F# code to Haskell code  but I am so new in Haskell and I can not this My code simply read data from keyboard if data not an integer return an error message then calculate the n fibonacci number then writes to a list after that writes the list into a txt file Here is my code </p>

<pre><code>open System
let rec fib n = 
    match n with
    |0-&gt;0
    |1-&gt;1
    |2-&gt;1
    |n-&gt;fib(n-1)+fib(n-2);;

let printFibonacci list = 
    for i=0 to (List.length list)-1 do
        printf ""%d "" (list.Item(i));;

let writeToFile list = 
    let file = System.IO.File.Create(""C:\out2.txt"")
    let mutable s =""""
    let writer = new System.IO.StreamWriter(file)
    try
        for i=0 to (List.length list)-1 do
        s &lt;- list.Item(i).ToString()
        writer.Write(s+"" "")

    finally
        writer.Close()
        file.Dispose()
        printfn ""Writed To File""


let mutable control = true
let mutable num = 0
while control do 
    try
    printfn ""Enter a Number:"" 

    num &lt;- Convert.ToInt32(stdin.ReadLine()) 
    let listFibonacci = [for i in 0 .. num-1-&gt;fib(i)]
    printFibonacci(listFibonacci)
    printfn ""\n%A""(listFibonacci)
    writeToFile(listFibonacci)
    control&lt;-false
    with
        | :? System.FormatException-&gt;printfn ""Number Format Exception"";

Console.ReadKey true|&gt;ignore
</code></pre>
","149392","","<pre><code>fib 0 = 0
fib 1 = 1
fib n = fib (n-1) + fib (n-2)

main = do putStrLn ""Enter a number:""
          num &lt;- readLn
          fibs = map fib [0..n]
          mapM' print fibs
</code></pre>

<p>However since haskell is lazy there is a clever way to define the list of all fibonacci numbers. And since you want a prefix of that list, it's more natural to use this definition (also more efficient):</p>

<pre><code>fibs = 0 : 1 : zipWith (+) fibs (tail fibs)

main = do putStrLn ""Enter a number:""
          num &lt;- readLn
          mapM' print (take n fibs)
</code></pre>

<p>Edit: To write to a file instead of stdout replace <code>print</code> with <code>(\num -&gt; appendFile ""filename"" (show num))</code> or <code>(appendFile ""filename"" . show)</code>.</p>
"
"<p>Is it possible to convert an object file .o that was created from a .c source code to .exe?
And if it is possible is there a direct command using gcc?</p>
","149392","","<pre><code>gcc foo.o -o foo.exe
</code></pre>
"
"<p>gcc 4.4.3 c89</p>

<p>I have the following code as a sample of what I am trying to do. I don't know the actual size of the array, until I enter the function. However, I don't think I can set the array size after I have declared it. I need it global as some other functions will need to access the device names.</p>

<p>Many thanks for any suggestions,</p>

<pre><code>/* global */
char *devices_names[];

void fill_devices(size_t num_devices)
{
    devices_names[num_devices];

    /* start filling */
}
</code></pre>
","149392","","<p>You'll need to allocate the memory dynamically using malloc:</p>

<pre><code>char **device_names;

void fill_devices(size_t num_devices)
{
    device_names = malloc(num_devices * sizeof(char*));
}
</code></pre>

<p>And then use <code>free(device_names);</code> to free the memory when you no longer need it.</p>
"
"<p>This is my first Class Hello.java</p>

<pre><code>public class Hello {
    String name = """";
}
</code></pre>

<p>This is my second Class Test1.java</p>

<pre><code>public class Test1 {    
    public static void main(String[] args) {
        Hello h = new Hello();
        Test1 t = new Test1();
        t.build(h);
        System.out.println(h.name);
    }
    void build(Hello h){
        h.name = ""me"";
    }
}
</code></pre>

<p>When I run Test1.java, it prints ""me"". I think I understand, because of ""reference transfer"".</p>

<p>This is my third Class Test2.java</p>

<pre><code>public class Test2 {
    public static void main(String[] args) {
        Hello h = null;
        Test2 t = new Test2();
        t.build(h);
        System.out.println(h == null);
    }
    void build(Hello h){
        h = new Hello();
    }
}
</code></pre>

<p>When I run Test2.java, it prints ""true"", why ? Is it ""reference transfer"" no longer? I am confused.</p>
","149392","","<p><code>h.name = ""me""</code> changes the object that is referenced by <code>h</code>. This change will be visible from any other place where the same object is referenced. <code>h = new Hello()</code> makes h reference another (new) object. This change only affects that particular variable h - not any other variable that previously referenced the same object.</p>
"
"<p>Given two strings with * wildcards, I would like to know if a string could be created that would match both.</p>

<p>For example, these two are a simple case of overlap:</p>

<ol>
<li>Hello*World</li>
<li>Hel*</li>
</ol>

<p>But so are all of these:</p>

<ol>
<li>*.csv</li>
<li>reports*.csv</li>
<li>reportsdump.csv</li>
</ol>

<p>Is there an algorithm published for doing this? Or perhaps a utility function in Windows or a library I might be able to call or copy?</p>
","149392","","<p>Since every glob can be written as a regular expression and the intersection of two regular expressions can be found (unless they aren't really regular, but they would be in this case), you can find the intersection of two globs by transforming them into regular expressions and then finding the intersection of those. So you can find out whether two globs intersect by finding the intersection of the regular expressions and checking whether it's empty.</p>

<p>However since globs are more limited than regular expression, there is a <em>much</em> easier way:</p>

<p>Let's call the two globs g1 and g2. They intersect iff</p>

<ol>
<li>Both g1 and g2 are empty or only contain wildcards.</li>
<li>Neither g1 nor g2 are empty and one of the following conditions is true (let c1 be the first character of g1 and t1 the string containing the remaining characters - same for g2 with c2 and t2):
<ol>
<li>c1 and c2 are equal and t1 and t2 intersect</li>
<li>c1 and/or c2 is a wildcard and t1 intersects with g2</li>
<li>c1 and/or c2 is a wildcard and g1 intersects with t2</li>
</ol></li>
</ol>

<p>An example implementation in haskell:</p>

<pre><code>intersect g1          []          = all (== '*') g1
intersect []          g2          = all (== '*') g2
intersect g1@('*':t1) g2@(c2:t2)  = intersect g1 t2 || intersect t1 g2
intersect g1@(c1:t1)  g2@('*':t2) = intersect t1 g2 || intersect g1 t2
intersect    (c1:t1)     (c2:t2)  = c1 == c2        &amp;&amp; intersect t1 t2
</code></pre>

<p>This algorithm isn't particular efficient if the globs contain a lot of wildcards, but it's very easy to implement and since you're likely planning to use this with filenames, I doubt you'll have globs longer than 1000 chars.</p>
"
"<p>I have the following program.</p>

<pre><code>module C
  def self.included(base)
    base.extend(ClassMethods)

  end

  module ClassMethods
    def test_for
      class_eval &lt;&lt;-DEFINECLASSMETHODS
        def self.my_method(param_a)
          puts ""SELF is: #{self.inspect}""
          puts param_a
          puts ""#{param_a}""
        end
      DEFINECLASSMETHODS
    end
  end
end

class A
  include C
end

class B &lt; A
  test_for
end
</code></pre>

<p>when I run <code>B.new.my_method(""aaa"")</code>, I got this error</p>

<pre><code>NameError: undefined local variable or method `param_a' for B:Class
</code></pre>

<p>I am quite confused.</p>

<p>I define param_a as a local variable in class method my_method,</p>

<pre><code>puts param_a
</code></pre>

<p>runs good, and will output the ""aaa"".</p>

<p>however,</p>

<pre><code>puts ""#{param_a}""
</code></pre>

<p>output that error.</p>

<p>why?</p>

<p>Can anyone explain this?</p>
","149392","","<p>You get that error because the <code>#{}</code> doesn't interpolate param_a into the string passed to puts - it interpolates it into the string passed to class_eval. It will work when you escape it, i.e.</p>

<pre><code>puts ""\#{param_a}""
</code></pre>

<p>You can also disable interpolation inside the heredoc by using <code>&lt;&lt;-'DEFINECLASSMETHODS'</code> instead of <code>&lt;&lt;-DEFINECLASSMETHODS</code>. This will also allow you to use other meta characters without having to escape them.</p>
"
"<p>Consider this ""EXAM"" question:</p>

<pre><code>int main()
{
   int a=10,b=20;
   char x=1,y=0;
   if(a,b,x,y)
   {
      printf(""EXAM"");
   }
}
</code></pre>

<p>Please let me know why this doesn't print anything at all.</p>
","149392","","<p>The result of <code>a,b,x,y</code> is <code>y</code> (because the comma operator evaluates to the result of its right operand) and y is 0, which is false.</p>
"
"<p>I was writing two implementations of a Linked List for an assignment, a Doubly Linked List and a Circular Doubly Linked List. Now as the class representing a Link within the Linked List is the same in both implementations, I want to use it in both.</p>

<p>Now I wonder which approach would be better:</p>

<p>Implement the Link class as a package-private static member class in the first implementation and then use this class in the second implementation or make the Link class a package-private class.</p>
","149392","","<p>There is no reason why the Link class should be more closely related to the first implementation than to the second, so I would recommend the second approach.</p>
"
"<p>I want to be able to do the following:</p>

<p>I have an array of strings that contain data types:</p>

<pre><code>string DataTypeValues[20] = {""char"", ""unsigned char"", ""short"", ""int""};
</code></pre>

<p>Then later, I would like to create a variable of one of the data types at runtime.  I won't know at compile time what the correct data type should be.</p>

<p>So for example, if at runtime I determined a variable x needed to be of type int:</p>

<pre><code>DataTypeValues[3] x = 100;
</code></pre>

<p>Obviously this won't work, so how could I do something like this?</p>
","149392","","<p>You can't. This kind of run-time metaprogramming is not supported in C++.</p>
"
"<p>I am using ruby 1.8.7.</p>

<pre><code>p = lambda { return 10;}
def lab(block)
  puts 'before'
  puts block.call
  puts 'after'
end
lab p
</code></pre>

<p>Above code output is</p>

<pre><code>before
10
after
</code></pre>

<p>I refactored same code into this</p>

<pre><code>def lab(&amp;block)
  puts 'before'
  puts block.call
  puts 'after'
end
lab { return 10; }
</code></pre>

<p>Now I am getting LocalJumpError: unexpected return. </p>

<p>To me both the code are doing same thing. Yes in the first case I am passing a proc and in the second case I am passing a block. But &amp;block converts that block into proc. So proc.call should behave same.</p>

<p>And yes I have seen this post <a href=""http://stackoverflow.com/questions/2325471/using-return-in-a-ruby-block"">http://stackoverflow.com/questions/2325471/using-return-in-a-ruby-block</a></p>
","149392","","<p><code>return</code> inside a block will return from the method the block is in, not from the block. To return from the block use <code>next</code> (it's named that way because with iterator-methods like <code>each</code> and <code>map</code> returning from the block basically means jumping to the next iteration of the loop).</p>

<p>Note that when the return value is the last evaluated expression in the block, you don't need any kind of return statement at all, i.e. <code>lab { 10 }</code> will do the same thing.</p>
"
"<p>I have the following haskell code:</p>

<pre><code>fac n = product [1..n]

taylor3s w0 f f' f'' t h = w1 : taylor3s w1 f f' f'' (t+h) h
  where hp i = h^i / fac i
        w1 = w0 + (hp 1) * f t w0 + (hp 2) * f' t w0 + (hp 3) * f'' t w0

taylor_results = take 4 $ taylor3s 1 f f' f'' 1 0.25
  where f   t x = t^4 - 4*x/t
        f'  t x = 4*t^3 - 4*(f t x)/t + 4*x/t^2
        f'' t x = 12*t^2 - 4*(f' t x)/t + 8*(f t x)/t^2 - 8*x/t^3
</code></pre>

<p>taylor_results is supposed to be a use case of taylor3s. However, there is something wrong with the number type inferencing. When I try to compile, this is the error I get:</p>

<pre><code>practice.hs:93:26:
    Ambiguous type variable `a' in the constraints:
      `Integral a'
        arising from a use of `taylor3s' at practice.hs:93:26-51
      `Fractional a' arising from a use of `f' at practice.hs:93:37
    Possible cause: the monomorphism restriction applied to the following:
      taylor_results :: [a] (bound at practice.hs:93:0)
    Probable fix: give these definition(s) an explicit type signature
                  or use -XNoMonomorphismRestriction
</code></pre>

<p>Can someone help me with understanding what the problem is?</p>
","149392","","<p>Since you're mixing operations that are only available on integrals and operations that are only available on fractionals (specifically you use <code>^</code> of which the second operand must be integral - use <code>**</code> if you intend for both operands to have the same Floating type), haskell infers that all arguments and the result of <code>taylor3s</code> have the type <code>Fractional a, Integral a =&gt; a</code>. This is not a type error, since theoretically such a type could exist, but it's most likely not what you want because in practice such a type does not exist.</p>

<p>The reason that you get a type error anyway is that the inferred type of <code>taylor_results</code> is consequently also <code>Fractional a, Integral a =&gt; a</code> which is polymorphic and thus violates the <a href=""http://www.haskell.org/haskellwiki/Monomorphism_restriction"" rel=""nofollow"">monomorphism restriction</a>.</p>

<p>If you would explicitly declare <code>taylor_results</code> as <code>taylor_results :: Fractional a, Integral a =&gt; a</code> or disable the monomorphism restriction, the whole thing would compile, but be impossible to use (without defining a type that actually instantiates Integral and Fractional, which would be nonsense).</p>

<p><strike>Note that if you fix this (for example by replacing <code>^</code> with <code>**</code>) the type of <code>taylor_results</code> will still be polymorphic (it will be inferred as <code>taylor_results :: (Floating a, Enum a) =&gt; [a]</code>, which is actually sensible), so you will still run into the monomorphism restriction. So you still need to either turn the restriction off, explicitly declare the type of <code>taylor_results</code> to be polymorphic or explicitly declare the type of <code>taylor_results</code> to be a specific type that instantiates Floating and Enum (e.g. Double). Note that unless you do the latter, <code>taylor_results</code> will be recalculated each time you use it (which is why the monomorphism restriction exists).</strike></p>

<p>Note that if you fix this (for example by replacing <code>^</code> with <code>**</code>) the most general type of <code>taylor_results</code> will be <code>(Floating a, Enum a) =&gt; [a]</code>, however the type you get (unless you disable the monomorphism restriction) will be <code>[Double]</code>. If you don't want doubles, you either have to explicitly declare taylor_results to be of another type (which instantiates Floating and Enum) or to be polymorphic. Note that if you declare it to be polymorphic, <code>taylor_results</code> will be recalculated each time you use it (which is why the monomorphism restriction exists).</p>
"
"<p>Write Java code which reads numbers from the keyboard until zero
is entered. Only the positive numbers entered are to be added to a
variable-sized collection.</p>

<p>This is what I have so far:</p>

<pre><code>import java.lang.*;
import java.util.*;
import java.io.*;
import java.net.*;

public class Demo1App extends Object
{
 public static void main(String[] argStrings) throws Exception
 {
  ArrayList myArrayList = new ArrayList();
  Scanner input = new Scanner(System.in);
  System.out.println (""NUMBERS:"");

  while (int input &gt; 0)
  {
   myArrayList.add(input);
  }

  while (int input &lt; 0)
  {
   System.out.println (""ENTER NUMBERS GREATER THAN 0!"");
  }

 }
}
</code></pre>

<p>This code doesn't work, I'm not sure why but any help with it would be appreciated.</p>
","149392","","<pre><code>while (int input &gt; 0)
</code></pre>

<p>This is the error. What you're doing here is you're declaring a new variable and compare it to 0. This is wrong for several reasons:</p>

<ol>
<li>There already is a variable named input and you're creating another one with the same name.</li>
<li>You can't use operators on a variable in the same line as you're declaring it.</li>
<li>You never give a value to the variable</li>
<li>You can't declare a variable inside a while-condition.</li>
</ol>

<p>What I think you're trying to do there is to cast the input to object to type int. You can't do this because a) you can't cast objects to primitives and b) it isn't clear what the integer equivalent of a Scanner object would be.</p>

<p>What you should do instead is create a new variable of type int and use the method nextInt() of the Scanner class to give it a value.</p>

<p>Another problem with your code is that you have two while-loops, one for <code>i&gt;0</code> and one for <code>i&lt;0</code>. However this does not quite model the desired behavior. Consider the case where the user enters a positive number, then a negative one and then another positive one. Once the user enters a negative number, the loop for positive numbers will never be reached again.</p>

<p>What you need is one while loop that just checks the exit condition (i.e. that runs until the entered number is 0) and inside you should check whether the number is negative or positive using <code>if</code>.</p>

<p>Try something like:</p>

<pre><code>int i = input.nextInt();
while(i != 0) {
    // do stuff with i
    i = input.nextInt();
}
</code></pre>
"
"<p>What does the Arguments of GetLength mean?
for example</p>

<pre><code>value.GetLength(1)
</code></pre>

<p>where value is a two dimensional Array double[,]
What will changing 0 and 1 differ in?</p>
","149392","","<p><code>GetLength(i)</code> returns the number of elements in the <code>i</code>th dimension. So for a two-dimensional array <code>GetLength(0)</code> returns the number of rows and <code>GetLength(1)</code> returns the number of columns.</p>
"
"<p>I am having a bit of trouble getting my head around the following erlang code</p>

<pre><code>-module(threesix).  
-export([quicksort/1]).  

quicksort(Pivot, Left, Right, []=_Src) -&gt;  
     {Left, Pivot, Right};  
quicksort(Pivot, Left, Right, [H|T]=_Src) when H &lt; Pivot -&gt;  
     quicksort(Pivot, [H|Left], Right, T);  
quicksort(Pivot, Left, Right, [H|T]=_Src) -&gt;  
     quicksort(Pivot, Left, [H|Right], T).  

quicksort([]) -&gt;  
     [];  
quicksort([H|T]=_List) -&gt;  
     {Left, Pivot, Right} = quicksort(H, [], [], T),  
     quicksort(Left) ++ [Pivot] ++ quicksort(Right). 
</code></pre>

<p>I am specifically talking about the use of _Src and _List in the parameters.</p>

<p>Are these simply for documentation as I cannot see why they are used?</p>
","149392","","<p>Yes, they're only for documentation. They're not actually used (as signified by the leading underscore).</p>
"
"<p>I have an array of users who are friends. Let us call this array:</p>

<pre><code>friends
</code></pre>

<p>I then have an array of structs. Each struct has a user object as an attribute (it also has a rank attribute).  Here's what the struct class looks like, to add some context:</p>

<pre><code>class Leader &lt; Struct.new(:rank, :user); end
</code></pre>

<p>Let us call this array of structs:</p>

<pre><code>all_leaders_plus_rank
</code></pre>

<p>I want to compare <strong>friends</strong> and <strong>all_leaders_plus_rank</strong>, and add the match from <strong>all_leaders_plus_rank</strong> to a new array of structs called <strong>friendly_leaders</strong>.</p>
","149392","","<pre><code>friendly_leaders = all_leaders_plus_rank.select do |lpr|
  friends.include?(lpr.user)
end
</code></pre>
"
"<p>I'm just starting to learn F# using VS2010 and below is my first attempt at generating the Fibonacci series.  What I'm trying to do is to build a list of all numbers less than 400.</p>

<pre><code>let fabList = 
    let l =  [1;2;]
    let mutable a = 1
    let mutable b = 2
    while l.Tail &lt; 400 do
        let c = a + b
        l.Add(c)
        let a = b
        let b = c
</code></pre>

<p>My first problem is that on the last statement, I'm getting an error message ""Incomplete structured construct at or before this point in expression"" on the last line.  I don't understand what I'm doing wrong here. </p>

<p>While this seems to be an obvious way to build the list in a fairly efficient way (from a c++/C# programmer), from what little I know of f#, this doesn't seem to feel to be the right way to do the program.  Am I correct in this feeling?</p>
","149392","","<p>Yes, mutable variables and while loops are usually a good sign that your code is not very functional. Also the fibonacci series, doesn't start with 1,2 - it starts with 0,1 or 1,1 depending on who you ask.</p>

<p>Here's how I'd do it:</p>

<pre><code>let rec fabListHelper (a:int,b:int,n:int) =
  if a+b &lt; n then
    a+b :: fabListHelper (b, a+b, n)
  else
    [];;

let fabList (n:int) = 0 :: 1 :: fabListHelper (0,1, n);;

(*&gt; fabList 400;;
val it : int list = [0; 1; 1; 2; 3; 5; 8; 13; 21; 34; 55; 89; 144; 233; 377]*)
</code></pre>
"
"<p>I have a bunch of methods like this in view helper</p>

<pre><code>  def background
    ""#e9eaec""
  end
  def footer_link_color
    ""#836448""
  end
</code></pre>

<p>I'd like these methods exposed to the view, but I'd prefer the helper to be a bit more concise. What's the best way to turn a hash, say, into methods (or something else)?</p>
","149392","","<pre><code>module MyHelper
  {:background =&gt; ""#e9eaec"", :footer_link_color =&gt; ""#836448""}.each do |k,v|
    define_method(k) {v}
  end
end
</code></pre>

<p>Though I don't think trading this bit of conciseness for the readability of your first approach is necessarily a good idea.</p>

<p>If you want to generalize this, you can add the following method to the Module class:</p>

<pre><code>class Module
  def methods_from_hash(hash)
    hash.each do |k,v|
      define_method(k) {v}
    end
  end
end
</code></pre>

<p>And then in your helper call <code>methods_from_hash(:background =&gt; ...)</code>.</p>
"
"<p>I'm doing a program in Haskell (on the Haskell platform), and I know I'm getting perfectly formatted inputs, so the input may look like</p>

<pre><code>[ ['a'], ['b'], ['c'] ]
</code></pre>

<p>I want Haskell to be able to take this and use it as a list of it's own. And, I'd like this list to be over multiple lines, i.e., I want this to also work:</p>

<pre><code>[
  ['a'],
  ['b'],
  ['c']
]
</code></pre>

<p>I can parse this input, but I've been told there's a way to do this easily - this is supposed to be the 'trivial' part of the assignment, but I don't understand it.</p>
","149392","","<pre><code>read ""[ ['a'], ['b'], ['c'] ]"" :: [[Char]]
</code></pre>

<p>will return <code>[ ['a'], ['b'], ['c'] ]</code>. If you assign the result of read to a variable that can be inferred to be of type <code>[[Char]]</code>, you don't need the <code>:: [[Char]]</code> bit.</p>
"
"<p>how does this work?</p>

<p>in irb:</p>

<pre><code>&gt;&gt; class A
&gt;&gt;   b = [1, 2,3]
&gt;&gt; end
=&gt; [1, 2, 3]
</code></pre>

<p>Is b an instance variable? class variable?  how would I access b from
outside the class? Is it used for meta-programming?</p>
","149392","","<blockquote>
  <p>Is b an instance variable? class variable?</p>
</blockquote>

<p>No, it's a local variable inside the <code>class ... end</code> scope.</p>

<blockquote>
  <p>how would I access b from outside the class?</p>
</blockquote>

<p>You wouldn't. It goes out of scope (and is thus inaccessible) once it reaches the <code>end</code>.</p>

<blockquote>
  <p>Is it used for meta-programming?</p>
</blockquote>

<p>It can be. Example:</p>

<pre><code>class A
  b = [1,2,3]
  b.each do |i|
    define_method(""foo#{i}"") do end
  end
end
</code></pre>

<p>I've now defined the methods foo1, foo2 and foo3.</p>

<p>Of course this wouldn't behave any differently if I didn't create the variable b and just did <code>[1,2,3].each</code> directly. So creating a local variable by itself does nothing, it allows you to write cleaner code (the same as using local variables in a method).</p>
"
"<p>My question, is, whether the sequence of elements picked from a list will always be the same,</p>

<p>is this construction behaviour is deterministic for  </p>

<pre><code>           java ""List""s - descendants of java.util.List
</code></pre>

<p>2) question,  if I use <pre>for(Object o: list)</pre> construction and inside the loop's body increment a variable,
will it be the index of list's elements? So, how it goes through list's elements, from 0 to size()-1 or chaotically?</p>

<pre><code>                   List.get(i) 
</code></pre>

<p>will always return this element?</p>

<p>3) question ( I suppose for the 2-nd question the answer will be negative, so:)</p>

<pre><code>         for (int i=0; i &lt; list.size(); i++) {
         }
</code></pre>

<p>is the best way if I need to save the index of an element and later get it back from a list by its id?</p>

<p>Overall:</p>

<p><b>
I simply need to save a position in the list in every object's field.   </p>

<pre><code>        object.setPosInList(currentIndexOfTheLoop)
</code></pre>

<p></b></p>

<p>Now clear?</p>
","149392","","<p>1) Yes</p>

<p>2) Yes</p>

<p>3) No.</p>

<p>Also note that on LinkedLists using <code>get(i)</code> is O(i) while getting the next element from an iterator (which is what for-each does) is O(1).</p>
"
"<p>I need to run multiple background threads in a thread pool with timeout.
The scheme is something like:</p>

<pre><code>    #!/usr/bin/env ruby

require 'thread'

def foo(&amp;block)
  bar(block)
end

def bar(block)
  Thread.abort_on_exception=true
  @main = Thread.new { block.call }
end


foo {
sleep 1
puts 'test'
}
</code></pre>

<p>Why if i run that i get no output? (and no sleep wait?)</p>
","149392","","<p>The program ends when the main thread ends. You have to wait on the thread created by <code>bar</code> using <code>join</code>:</p>

<pre><code>foo {
  sleep 1
  puts 'test'
}.join
</code></pre>
"
"<p>In Ruby how does one create a private class constant?
(i.e one that is visible inside the class but not outside)</p>

<pre><code>class Person
  SECRET='xxx' # How to make class private??

  def show_secret
    puts ""Secret: #{SECRET}""
  end
end

Person.new.show_secret
puts Person::SECRET # I'd like this to fail
</code></pre>
","149392","","<p>Instead of a constant you can use a @@class_variable, which is always private.</p>

<pre><code>class Person
  @@secret='xxx' # How to make class private??

  def show_secret
    puts ""Secret: #{@@secret}""
  end
end
Person.new.show_secret
puts Person::@@secret
# doesn't work
puts Person.class_variable_get(:@@secret)
# This does work, but there's always a way to circumvent privateness in ruby
</code></pre>

<p>Of course then ruby will do nothing to enforce the constantness of @@secret, but ruby does very little to enforce constantness to begin with, so...</p>
"
"<p>I am currently writing some glsl like vector math classes in c++, and I just implemented an abs() function like this:</p>

<pre><code>    template&lt;class T&gt;
    static inline T abs(T _a)
    {
        return _a &lt; 0 ? -_a : _a;
    }
</code></pre>

<p>I compared its speed to the default c++ abs from math.h like this:</p>

<pre><code>clock_t begin = clock();
    for(int i=0; i&lt;10000000; ++i)
    {
        float a = abs(-1.25);
    };

    clock_t end = clock();
    unsigned long time1 = (unsigned long)((float)(end-begin) / ((float)CLOCKS_PER_SEC/1000.0));

    begin = clock();
    for(int i=0; i&lt;10000000; ++i)
    {
        float a  = myMath::abs(-1.25);
    };
    end = clock();
    unsigned long time2 = (unsigned long)((float)(end-begin) / ((float)CLOCKS_PER_SEC/1000.0));

    std::cout&lt;&lt;time1&lt;&lt;std::endl;
    std::cout&lt;&lt;time2&lt;&lt;std::endl;
</code></pre>

<p>Now the default abs takes about 25ms while mine takes 60. I guess there is some low level optimisation going on. Does anybody know how math.h abs works internally? The performance difference is nothing dramatic, but I am just curious!</p>
","149392","","<p>It probably just uses a bitmask to set the sign bit to 0.</p>
"
"<p>Say I have a list <code>val list = List(34, 11, 98, 56, 43).</code></p>

<p>Now how do I find the index of the minimum element of the list (e.g. 1 in this case)?</p>
","149392","","<p>An empty list has no minimal value. A list of only one element has that element as its minimum. For all other lists the minimum is either the first element of that list or the minimum of the rest of the list, depending on which is greater.</p>

<p>So to find the index this becomes: For a list of length 1 the index of the minimum is 0. If the list has more than one element and the minimum of the tail is greater than the head, it's also 0. If the head is greater then the index is the index of the minimum of the tail plus one.</p>
"
"<p>I'm learning functional programming with Clojure. What practical exercises can you recommend? Online repositories with solutions would be perfect.</p>

<p>One idea I can think of is going through all the popular algorithms on sorting, trees, graphs etc. and implementing them in Clojure myself. While it could work, it may be pretty steep and I'm likely to do it inefficiently (compared to someone who knows what she's doing).</p>
","149392","","<p>Try <a href=""http://www.ic.unicamp.br/~meidanis/courses/mc336/2006s2/funcional/L-99_Ninety-Nine_Lisp_Problems.html"">99 Lisp Problems</a>. The solutions aren't in clojure, but it should be easy to translate.</p>
"
"<p>I am trying to do following:</p>

<pre><code>10 ** length xs * x
</code></pre>

<p>but I get:</p>

<blockquote>
  <p>No instance for (Floating Int) arising
  from a use of `**'</p>
</blockquote>
","149392","","<p>You can use <code>^</code> to raise to an integral power. There's no need to convert to float here.</p>
"
"<p>Greetings,</p>

<p>I am trying to make my 1.9.1 source 1.8.6 compatible. I recognized that there's no Hash#key method. Any idea or method how to solve that?</p>

<p>Thanks!</p>

<p>Tobias</p>
","149392","","<p>In ruby 1.8 that method is called index.</p>
"
"<pre><code> class p {
     public string Name { get; set; }
     public int Age { get; set; }
 };

 static List&lt;p&gt; ll = new List&lt;p&gt;
 {
     new p{Name=""Jabc"",Age=53},new p{Name=""Mdef"",Age=20},
     new p{Name=""Exab"",Age=45},new p{Name=""G123"",Age=19}
 };
 protected static void SortList()
 {
     IComparer&lt;p&gt; mycomp = (x, y) =&gt; x.Name.CompareTo(y.Name);  &lt;==(Line 1)
     ll.Sort((x, y) =&gt; x.Name.CompareTo(y.Name));&lt;==(Line 2)
 }
</code></pre>

<p>Here the List.sort expects an <code>IComparer&lt;p&gt;</code> as parameter. And it works with the lambda 
as shown in Line 2.  But when I try to do as in Line 1, I get this error:</p>

<blockquote>
  <p>Cannot convert lambda expression to
  type
  System.Collections.Generic.IComparer'
  because it is not a delegate type</p>
</blockquote>

<p>I investigated this for quite some time but I still don't understand it.Maybe my understanding of IComparer is not quite good.Can somebody give me a hand ?</p>
","149392","","<p>When you do <code>ll.Sort((x, y) =&gt; x.Name.CompareTo(y.Name));</code> it uses the overload for <code>Comparison&lt;T&gt;</code>, not <code>IComparer</code>. <code>Comparison&lt;T&gt;</code> is a delegate, so you can use a lambda expression for it.</p>

<p><code>Comparison&lt;p&gt; mycomp = (x, y) =&gt; x.Name.CompareTo(y.Name);</code> will work.</p>
"
"<p>For example,</p>

<pre><code>val list = List(1,2,3)
list match {
  case a :: b =&gt; 
  case _      =&gt; 
}
</code></pre>

<p>you can match head and tail of a List using <code>::</code> or tokens of ParseResult using <code>~</code>. What should I do to create class that can be matched like preceding classes?</p>

<p>UPD: </p>

<p>And have possibility to write:</p>

<pre><code>case class @ ...
List(1,2,3,4) match {
  case 1 @ 2 @ 3 @ 4 =&gt; 
}
</code></pre>
","149392","","<p>If you define your class as a <a href=""http://www.scala-lang.org/node/107"" rel=""nofollow"">case class</a> it can be pattern-matched like this.</p>

<p>If you want to pattern-match on something other than the class's constructor, you can use <a href=""http://www.scala-lang.org/node/112"" rel=""nofollow"">extractors</a> to define custom patterns.</p>
"
"<p>I've been thinking of this question very long, but really couldn't find the answer on Google as well a similar question on Stackoverflow. If there is a duplicate, I'm sorry for that.</p>

<p>A lot of people seem to say that writing compilers and other language tools in functional languages such as OCaml and Haskell is much more efficient and easier then writing them in imperative languages.</p>

<p>Is this true? And if so -- why is it so efficient and easy to write them in functional languages instead of in an imperative language, like C? Also -- isn't a language tool in a functional language slower then in some low-level language like C?</p>
","149392","","<p>Often times a compiler works a lot with trees. The source code is parsed into a syntax tree. That tree might then be transformed into another tree with type annotations to perform type checking. Now you might convert that tree into a tree only containing core language elements (converting syntactic sugar-like notations into an unsugared form). Now you might perform various optimizations that are basically transformations on the tree. After that you would probably create a tree in some normal form and then iterate over that tree to create the target (assembly) code.</p>

<p>Functional language have features like pattern-matching and good support for efficient recursion, which make it easy to work with trees, so that's why they're generally considered good languages for writing compilers.</p>
"
"<p>I am completely new to F# (and functional programming in general) but I see pattern matching used everywhere in sample code. I am wondering for example how pattern matching actually works? For example, I imagine it working the same as a for loop in other languages and checking for matches on each item in a collection. This is probably far from correct, how does it actually work behind the scenes? </p>
","149392","","<p>No, it doesn't loop. If you have a pattern match like this</p>

<pre><code>match x with
| Foo a b -&gt; a + b
| Bar c -&gt; c
</code></pre>

<p>this compiles down to something like this pseudo code:</p>

<pre><code>if (x is a Foo)
  let a = (first element of x) in
  let b = (second element of x) in
  a+b
else if (x is a Bar)
  let c = (first element of x) in
  c
</code></pre>

<p>If Foo and Bar are constructors from an algebraic data type (i.e. a type defined like <code>type FooBar = Foo int int | Bar int</code>) the operations <code>x is a Foo</code> and <code>x is a Bar</code> are simple comparisons. If they are defined by an <a href=""http://msdn.microsoft.com/en-us/library/dd233248.aspx"" rel=""nofollow"">active pattern</a>, the operations are defined by that pattern.</p>
"
"<p>I was trying to understand how webkit parses urls, and I'm having a hard time making heads or tails of this:</p>

<pre><code>Vector&lt;char, 4096&gt; buffer(fragmentEnd * 3 + 1);
</code></pre>

<p>This line is on line 1214 (you can see it here: <a href=""http://trac.webkit.org/browser/trunk/WebCore/platform/KURL.cpp#L1214"" rel=""nofollow"">http://trac.webkit.org/browser/trunk/WebCore/platform/KURL.cpp#L1214</a>).  I get that it's making a vector of type char, with each entry being an array of char 4096 bytes large, but I don't get the <code>buffer(fragmentEnd * 3 + 1)</code> part.  </p>

<p>I think that it confuses me most b/c I can't find where the buffer variable is instantiated anywhere (shouldn't it be something more like <code>Vector&lt;char, 4096&gt; buffer = new Vector&lt;char, 4096&gt;(...)</code>?</p>

<p>Thanks in advance</p>
","149392","","<blockquote>
  <p>I get that it's making a vector of type char, with each entry being an array of char 4096 bytes large</p>
</blockquote>

<p>It's not. The WTF::Vector template takes two template parameters. The first is the element type (in this case char, which means that each element is a char, not an array of chars). The second is the inline capacity, i.e. the number of bytes the vector can store without allocating additional memory on the heap.</p>

<blockquote>
  <p>but I don't get the buffer(fragmentEnd * 3 + 1) part.</p>
</blockquote>

<p>The syntax to create a variable on the stack is <code>type variablename(constructor,arguments);</code>. So <code>buffer</code> is the name of the variable and <code>fragmentEnd * 3 + 1</code> is the argument to <code>Vector&lt;char, 4096&gt;</code>'s constructor (which specifies the vector's initial size).</p>
"
"<p>Getting the customer's to_s method by looping through</p>

<p>Is there a Ruby idiom to write the code in 1 line (or shorter than 3 lines of code)?</p>

<pre><code>def method
  string = """"
  @customers.each { |customer| string += customer.to_s + ""\n"" }
  string
end
</code></pre>
","149392","","<pre><code>@customers.join(""\n"") + ""\n""
</code></pre>

<p><code>join</code> creates a string from an array by calling <code>to_s</code> on each element that is not already a string and inserting them into the new string separated by the parameter to <code>join</code> (in this case <code>\n</code>). Since your code also adds a <code>\n</code> at the end (and <code>join</code> does not), you need to add <code>+ ""\n""</code> after the call to <code>join</code> to get the same behavior.</p>
"
"<p>Is there some way to convert between F# List and F# Tuple?</p>

<p>For example:</p>

<pre><code>[1;2;3] -&gt; (1,2,3)    
(1,2,3,4) -&gt; [1;2;3;4]
</code></pre>

<p>I need two Functions to do that:</p>

<pre><code>let listToTuple list = ...
let tupleToList tuple = ...
</code></pre>

<p>Thank you in advance.</p>
","149392","","<p>Actually you need <code>2*n</code> functions where <code>n</code> is the greatest tuple size you want to support. A tuple containing three ints has a completely different type than a tuple containing four ints, so you need to write a tupleToList and a listToTuple function for each one separately.</p>

<p>Also note that you for listToTuple you need to know the size of the tuple you want to get at compile-time. I.e. you can't create a function that decides whether to return <code>(int, int, int)</code> or <code>(int, int)</code> depending on the length of the input list (since as I said, they're totally different types). You'd have to have a function <code>listToNTuple</code> that takes a list of at least N elements and returns a N-tuple.</p>

<p>It might be possible to write size-independent functions for this by using reflection, but since you couldn't know the type of any tuple returned by such a function at compile-time, it'd be quite painful to use.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/287085/what-does-args-and-kwargs-mean"">What does *args and **kwargs mean?</a>  </p>
</blockquote>



<p>What does the <code>*</code> operator mean in Python, such as in code like <code>zip(*x)</code> or <code>f(**k)</code>? </p>

<ol>
<li>How is it handled internally in the interpreter? </li>
<li>Does it affect performance at all? Is it fast or slow? </li>
<li>When is it useful and when is it not? </li>
<li>Should it be used in a function declaration or in a call?</li>
</ol>
","149392","","<p>In a function call the single star turns a list into seperate arguments (e.g. <code>zip(*x)</code> is the same as <code>zip(x1,x2,x3)</code> if <code>x=[x1,x2,x3]</code>) and the double star turns a dictionary into seperate keyword arguments (e.g. <code>f(**k)</code> is the same as <code>f(x=my_x, y=my_y)</code> if <code>k = {'x':my_x, 'y':my_y}</code>.</p>

<p>In a function definition it's the other way around: the single star turns an arbitrary number of arguments into a list, and the double start turns an arbitrary number of keyword arguments into a dictionary. E.g. <code>def foo(*x)</code> means ""foo takes an arbitrary number of arguments and they will be accessible through the list x (i.e. if the user calls <code>foo(1,2,3)</code>, <code>x</code> will be <code>[1,2,3]</code>)"" and <code>def bar(**k)</code> means ""bar takes an arbitrary number of keyword arguments and they will be accessible through the dictionary k (i.e. if the user calls <code>bar(x=42, y=23)</code>, <code>k</code> will be <code>{'x': 42, 'y': 23}</code>)"".</p>
"
"<p>I'm trying to solve a Project Euler problem using Ruby, I used 4 different looping methods, the for-loop, times, range and upto method, however the times method only produces the expected answer, while the for-loop, range and upto method does not. I'm assuming that they are somewhat the same, but I found out it's not. Can someone please explain the differences between these methods?</p>

<p>Here's the looping structure I used</p>

<pre><code># for-loop method
for n in 0..1
  puts n
end

0
1
=&gt; 0..1

# times method
2.times do |n|
  puts n
end

0
1
=&gt; 2

# range method
(0..1).each do |n|
  puts n
end

0
1
=&gt; 0..1

# upto method
0.upto(1) do |n|
  puts n
end

0
1
=&gt; 0
</code></pre>
","149392","","<p>If I understood you correctly, you're asking why <code>n.times</code> is the only method which iterates upto, but not including <code>n</code>. In that case:</p>

<p>For ranges it's simple: <code>x..y</code> defines a range from x to y inclusive and <code>x...y</code> defines a range from x to y exclusive. So if you want the same behavior as times use <code>0...n</code>.</p>

<p>For <code>x.upto(y)</code> there is only one version which will iterate upto and including <code>y</code>. This is simply how upto is defined and documented to work.</p>

<p>It is also quite clear why <code>n.times</code> does not include n: if it iterated from 0 to n (inclusive), it would yield <code>n+1</code> times. But since the method is called <code>n.times</code> it should clearly only yield n times.</p>
"
"<p>i would like to avoid texts like this one:  height=""49"" with a regular expresion.</p>

<p>I tought in <code>.replaceAll(""\s*=""*"""","""");</code></p>

<p>(replaceAll is used as a method in a java class), but eclipse don't allowed me to do that.
Any other suggestion??
tx!</p>
","149392","","<p>You need to escape the backslash and the double quotes inside the string. Also you probably meant to write <code>.*</code> everywhere you wrote <code>*</code> (though that would likely not give you the results you want either, so you should use something more specific than <code>.</code>).</p>
"
"<p>I'm studying programming language theory and I can't figure out a solid reason why lazy languages don't have mutation.  Anyone know the reason?</p>
","149392","","<p>Laziness means that a function is not actually evaluated until (or unless) its return value is used. This means that function calls aren't necessarily evaluated in the order in which they appear in the code. It also means that there can't be void-functions because they would never be evaluated (as its not possible to use a return value that does not exist).</p>

<p>However for functions that perform side-effects (like mutation, but also just printing to the screen) it does matter in which order they're executed. It matters even more that they're executed at all. This means that lazy languages need a way to emulate side-effects in special types that ensure that they are executed and executed in the right order.</p>

<p>Since entirely side effect-free programs are useless (you need to be able to print to the screen at all), lazy languages actually do support side-effect. They just encapsulate them with the IO monad or uniqueness-types. As an example haskell does have mutable arrays, but they can be only used inside the IO monad.</p>
"
"<p>I read on the internet many tutorials that explained how to use lambdas with the standard library (such as <code>std::find</code>), and they all were very interesting, but I couldn't find any that explained how I can use a lambda for my own functions.</p>

<p>For example:</p>

<pre><code>int main()
{
    int test = 5;
    LambdaTest([&amp;](int a) { test += a; });

    return EXIT_SUCCESS;
}
</code></pre>

<p>How should I declare <code>LambdaTest</code>? What's the type of its first argument? And then, how can I call the anonymous function passing to it - for example - ""10"" as its argument?</p>
","149392","","<p>Given that you probably also want to accept function pointers and function objects in addition to lambdas, you'll probably want to use templates to accept any argument with an <code>operator()</code>. This is what the std-functions like find do. It would look like this:</p>

<pre><code>template&lt;typename Func&gt;
void LambdaTest(Func f) {
    f(10);
}
</code></pre>

<p>Note that this definition doesn't use any c++0x features, so it's completely backwards-compatible. It's only the call to the function using lambda expressions that's c++0x-specific.</p>
"
"<p>Ok I have events that I want to publish/unpublish with an extra action (nonRESTful) I watched Ryan Bates' railscast on this: <a href=""http://railscasts.com/episodes/35-custom-rest-actions"" rel=""nofollow"">http://railscasts.com/episodes/35-custom-rest-actions</a> and it got me most of the way. I think the problem is that my route is nested in an <code>/admin</code> section so even though when I run <code>rake routes</code> and get:</p>

<pre><code>publish_admin_event PUT /admin/events/:id/publish(.:format) {:controller=&gt;""event_services"", :action=&gt;""publish""}
</code></pre>

<p>This won't work in my /views/admin/index.html.erb file:</p>

<pre><code>&lt;%= link_to 'Publish', publish_admin_event(event), :method =&gt; :put %&gt;
</code></pre>

<p>because it claims that path doesn't exist! And neither will this:</p>

<pre><code>&lt;%= link_to 'Publish', {:controller =&gt; :event_services, :action =&gt; :publish}, {:method =&gt; :put, :id =&gt; event} %&gt;
</code></pre>

<p>and says that ""<code>No route matches {:controller=&gt;""event_services"", :action=&gt;""publish""}</code>""</p>

<p>so what gives? (And I've tried restarting my server so that isn't it.)</p>

<p><strong>EDIT:</strong>
This DOES work:</p>

<pre><code>&lt;%= link_to 'Publish', ""/admin/events/"" + event.id.to_s + ""/publish"", :method =&gt; :put %&gt; 
</code></pre>

<p>But I'd rather NOT do this.</p>

<p><strong>EDIT #2:</strong>
My route entry:</p>

<pre><code>map.resource :admin do |admin|
  admin.admin '', :controller =&gt; :admin, :only =&gt; :index
  admin.resources :events, :controller =&gt; :event_services, :member =&gt; {:publish =&gt; :put } do |service_event|
    # ...
  end
end
</code></pre>
","149392","","<blockquote>
  <p>This won't work in my /views/admin/index.html.erb file:</p>

<pre><code>&lt;%= link_to 'Publish', publish_admin_event(event), :method =&gt; :put %&gt;
</code></pre>
  
  <p>because it claims that path doesn't exist!</p>
</blockquote>

<p>I'd rather expect it not to work because of a NoMethodError. I think you meant to write <code>publish_admin_event_path</code> instead of just <code>publish_admin_event</code> there. Then it should work.</p>

<blockquote>
  <p>And neither will this:</p>

<pre><code>&lt;%= link_to 'Publish', {:controller =&gt; :event_services, :action =&gt; :publish}, {:method =&gt; :put, :id =&gt; event} %&gt;
</code></pre>
</blockquote>

<p>This will work if you do <code>:controller =&gt; ""/admin/event_services""</code> (though that isn't necessary if you're already in the admin namespace) and, as you figured out in your comment, move <code>:id =&gt; event</code> into the first hash.</p>
"
"<p>I am passing in command line arguments to my Lisp program and they are formatted like this when they hit my main function:</p>

<pre><code>(""1 1 1"" ""dot"" ""2 2 2"") 
</code></pre>

<p>I have a dot function (which takes two vectors as arguments) and would like to call it directly from the argument, but this isn't possible because something like (funcall (second args)...) receives ""dot"" and not dot as the function name.</p>

<p>I tried variations of this function:
<br>
<code>
    (defun remove-quotes (s)<br>
      (setf (aref s 0) '""""))
</code>
<br></p>

<p>to no avail, before realizing that the quotes were not really a part of the string.  Is there a simple way to do this, or should I just check each string and then call the appropriate function?</p>
","149392","","<p>The question is a bit unclear, but as far as I understand it you want, when given the list <code>(""1 1 1"" ""dot"" ""2 2 2"")</code> as input to evaluate the expression <code>(dot ""1 1 1"" ""2 2 2"")</code>. In that case you can do this:</p>

<pre><code>(defun apply-infix (arg1 f arg2)
  (apply (intern (string-upcase f)) (list arg1 arg2)))
(defun apply-list-infix (lst)
  (apply 'apply-infix lst))

(apply-list-infix '(""1 1 1"" ""dot"" ""2 2 2""))
</code></pre>
"
"<p>I am learning scheme. I know how to use both lambda and let expressions.</p>

<p>However I'm struggling to figure out what the point is of using lambda. Can't you do everything with let that you can with lambda?</p>

<p>It would be especially helpful to see an example of a situation where a lambda expression is a better choice than let.</p>

<p>One other thing - are there also situations where let is more useful than lambda? If so such an example would be nice as well.</p>

<p>Thanks!</p>

<p>Edit: I'm also interested in contrasting define and lambda, as they seem to perform similar tasks.</p>

<hr>

<h2>Update:</h2>

<p>Thanks for the help everyone. I did some more looking into lambda/let/define after reading your answers, and now understand it a lot better.</p>

<p>I came accross an excellent example of cool lambda useage - returning anonymous functions from procedures. For example, the procedure <code>operateTwice</code> below returns an anonymous function that is based on parameters passed in to the procedure:</p>

<pre><code>(define operateTwice
  (lambda (op1 op2)
    (lambda (x y)
      (op2 (op1 x y) y))))

((operateTwice * +) 2 3) ;equivalent to: (+ (* 2 3) 3), or in standard notation 2*3+3
</code></pre>

<p>Output:</p>

<pre><code>9
</code></pre>
","149392","","<p>You use lambda if you want to create a function to use it as an argument to another function (like for example <code>map</code>), but you don't actually want to name the function. Example:</p>

<p>If you want to add 42 to every number in a list you can do:</p>

<pre><code>(define (add42 x) (+ x 42))
(map add42 (list 1 2 3 4))
</code></pre>

<p>But if you don't want to give a name to a function that you only use this once you could just do:</p>

<pre><code>(map (lambda (x) (+ x 42)) (list 1 2 3 4))
</code></pre>
"
"<p>In Scheme, how can I make use of the define/lambda shorthand for nested lambda expressions within my define?</p>

<p>For example given the following procedure...</p>

<pre><code>(define add
  (lambda (num1 num2)
    (+ num1 num2)))
</code></pre>

<p>One can shorten it to this:</p>

<pre><code>(define (add num1 num2)
  (+ num1 num2))
</code></pre>

<p><br>
However, how can I shorten the following function similarly ?</p>

<pre><code>(define makeOperator
  (lambda (operator)
    (lambda (num1 num2)
      (operator num1 num2))))

;example useage - equivalent to (* 3 4):
((makeOperator *) 3 4)
</code></pre>
","149392","","<pre><code>(define (makeOperator operator)
  (lambda (num1 num2)
    (operator num1 num2)))
</code></pre>

<p>The second lambda can not be shortened. </p>

<p>Well you could shorten it to <code>(define (makeOperator operator) operator)</code>, if you don't want to enforce that the returned function takes exactly two arguments.</p>
"
"<p>Can Mechanize make Javascript calls?</p>

<p>This would be handy to negotiate AJAX when screen-scraping...</p>
","149392","","<p>No, it can't. If you need to interact with javascript, you should look at other solutions like <a href=""http://watir.com/"" rel=""nofollow"">watir</a>.</p>
"
"<p>In test.hs, I have:</p>

<pre><code>doubleMe x = x + x
</code></pre>

<p>In ghci, I type:</p>

<pre><code>Prelude&gt; :l test
[1 of 1] Compiling Main             ( test.hs, interpreted )
Ok, modules loaded: Main.
*Main&gt; doubleMe 9

&lt;interactive&gt;:1:0: Not in scope: `doubleMe'
*Main&gt; 
</code></pre>

<p>Why? How to fix?</p>
","149392","","<p>Are you sure that you're loading the right test.hs? Maybe you're in the wrong directory. Or maybe you didn't save test.hs after adding the definition of doubleMe.</p>
"
"<p>I know this is common in most languages, and maybe in C, as well.  Can C handle separating several functions out to a separate file and having them be included?  </p>

<p>The functions will rely on other include files, as well.  I want the code to retain all functionality, but the code will be reused in several C scripts, and if I change it once I do not wish to have to go through every script and change it there, too.</p>
","149392","","<p>Declare the functions in header files and then implement them in .c files. Now you can <code>#include</code> the header files into any program that uses the functions and then link the program against the object files generated from the .c files.</p>
"
"<p>I've come across the following code in a Python script</p>

<pre><code>from pprint import pprint
</code></pre>

<p>why not simply <code>import pprint</code>?</p>

<p>Unless the module pprint contains a function called pprint which is being aliased as pprint (surely, this must be the definition of madness?)</p>
","149392","","<p>Yes, the syntax is <code>from module import functions</code>, so the first pprint is the module name and the second the function name.</p>
"
"<p>In C++ how to tell compiler that Ogre::Vector3 IS_SAME_AS SomeOtherLIB::Vector3 ?
I feel that.. in languages like c++ which are not structural typed but there are cases when it makes sense.</p>

<p>Normally as game developer when working with 4+ libraries that provide sort or their own Vector3 implementation. The code is littered with ToOgre, ToThis, ToThat conversion function. Thats a lot of Float3 copying around which should not happen on first place.</p>

<p>Is in C++ or any other languages where we dont have to convert (copying) from one type to another which is essentially the samething. But any solution in C++ as most of the good gamedevs libs are for c/c++.</p>
","149392","","<p>If you use templates you can define functions that take any type of argument as long as the necessary operations are defined on that type. Example:</p>

<pre><code>class Foo { void quack() {} };
class Bar { void quack() {} };
class Baz {};

template&lt;typename Duck&gt;
void f(Duck d) {
    d.quack();
}
int main() {
    f(Foo()); // works
    f(Bar()); // works
    f(Baz()); // compile error because Baz does not have a quack method
    return 0;
}
</code></pre>
"
"<pre><code>largestDivisible :: (Integral a) =&gt; a
largestDivisible = head (filter p [100000,99999..])
    where p x = x `mod` 3829 == 0
</code></pre>

<p>If p x equals True, </p>

<p>does</p>

<pre><code>head (filter p [100000,99999..])
</code></pre>

<p>become</p>

<pre><code>head (filter True)
</code></pre>

<p>?</p>

<p>What list is being filtered for True?</p>

<p>While this code is being run, what are p and x's values?</p>
","149392","","<p><code>filter p [100000,99999..]</code> calculates the list including all numbers descending from 100000 for which p returns true. <code>head</code> then takes the first of that list, effectively giving you the largest number x below 100000, for which <code>p x</code> returns true, i.e. for which <code>x `mod` 3829</code> is 0.</p>

<blockquote>
  <p>What values are in p and x?</p>
</blockquote>

<p>p is a function that takes one argument called <code>x</code> and returns true iff <code>x `mod` 3829 == 0</code>. <code>x</code> is the argument given to the function. Since you use p as an argument to filter, this means that each element of the list <code>[100000,99999..]</code> will be given to p in turn, until p returns true for the first time (it won't try any more elements because by using head, you're only requesting one element, so it only calculates one).</p>
"
"<p>How can I print a large variable nicely in an irb prompt? I have a variable that contains many variables which are long and the printout becomes a mess to wade through. What if I just want the variable names without their values? Or, can I print each one on a separate line, tabbed-in depending on depth?</p>
","149392","","<blockquote>
  <p>Or, can I print each one on a separate line, tabbed-in depending on depth?</p>
</blockquote>

<p>Use pp (pretty print):</p>

<pre><code>require 'pp'
very_long_hash = Hash[(1..23).zip(20..42)]
pp very_long_hash
# Prints:
{1=&gt;20,
 2=&gt;21,
 3=&gt;22,
 4=&gt;23,
 5=&gt;24,
 6=&gt;25,
 7=&gt;26,
 8=&gt;27,
 9=&gt;28,
 10=&gt;29,
 11=&gt;30,
 12=&gt;31,
 13=&gt;32,
 14=&gt;33,
 15=&gt;34,
 16=&gt;35,
 17=&gt;36,
 18=&gt;37,
 19=&gt;38,
 20=&gt;39,
 21=&gt;40,
 22=&gt;41,
 23=&gt;42}
</code></pre>
"
"<p>Im looking for function (PHP will be the best), which returns true whether exists string matches both regexpA and regexpB.</p>

<p>Example 1:</p>

<pre><code>$regexpA = '[0-9]+';
$regexpB = '[0-9]{2,3}';
</code></pre>

<p><code>hasRegularsIntersection($regexpA,$regexpB)</code> returns TRUE because <code>'12'</code> matches both regexps</p>

<p>Example 2:</p>

<pre><code>$regexpA = '[0-9]+';
$regexpB = '[a-z]+';
</code></pre>

<p><code>hasRegularsIntersection($regexpA,$regexpB)</code> returns FALSE because numbers never matches literals.</p>

<p>Thanks for any suggestions how to solve this.</p>

<p>Henry</p>
","149392","","<p>For regular expressions that are actually regular (i.e. don't use irregular features like back references) you can do the following:</p>

<ol>
<li>Transform the regexen into finite automata (the algorithm for that can be found <a href=""http://www.cs.iit.edu/~cs532/Notes/Lecture_02_rev.pdf"">here</a>(chapter 9) for example).</li>
<li>Build the intersection of the automata (You have a state for each state in the cartesian product of the states of the two automata. You then transition between the states according to the original automata's transition rules. E.g. if you're in state x1y2, you get the input a, the first automaton has a transition x1->x4 for input x and the second automaton has y2->y3, you transition into the state x4y3).</li>
<li>Check whether there's a path from the start state to the end state in the new automaton. If there is, the two regexen intersect, otherwise they don't.</li>
</ol>
"
"<p>I am creating a boxplot generator in Ruby, and I need to calculate some things.</p>

<p>Let's say I have this array:</p>

<pre><code>arr = [1, 5, 7, 2, 53, 65, 24]
</code></pre>

<p>How can I find the lowest value (1), highest value (65), total (157), average (22.43) and median (7) from the above array?</p>

<p>Thanks</p>


","149392","","<pre><code>lowest = arr.min
highest = arr.max
total = arr.inject(:+)
len = arr.length
average = total.to_f / len # to_f so we don't get an integer result
sorted = arr.sort
median = len % 2 == 1 ? sorted[len/2] : (sorted[len/2 - 1] + sorted[len/2]).to_f / 2
</code></pre>
"
"<p>I'm not able to understand the following multi-dimensional code. Could someone please clarify me?</p>

<pre><code>int[][] myJaggedArr = new int [][] 
{
              new int[] {1,3,5,7,9},
              new int[] {0,2,4,6},
               new int[] {11,22}
   };
</code></pre>

<p>May I know how it is different from the following code?</p>

<pre><code>int[][] myArr = new int [][] {
             {1,3,5,7,9},
               {0,2,4,6},
                {11,22} };
</code></pre>
","149392","","<p>It's not different at all. The former just makes it more explicit that you're creating an array of arrays.</p>
"
"<p>I'm encountering a situation where I'm using pattern matching for determining the visibility property of a column.  System.Windows.Visibility has two fields,  Visibility.Visible and Visibility.Collapsed.  Can enyone tell me why the following code:</p>

<pre><code>let colItem = myDataGrid.Columns.Item 1
     chkBox.IsChecked &lt;-
          match colItem.Visibility with
               | Visibility.Visible -&gt; new Nullable&lt;bool&gt;(true)
               | Visibility.Collapsed -&gt; new Nullable&lt;bool&gt;(false)
</code></pre>

<p>generates the follwing warning:</p>

<blockquote>
  <p>Incomplete pattern matches on this
  expression. For example, the value
  '2uy' may indicate a case not covered
  by the pattern(s).</p>
</blockquote>
","149392","","<p>In theory a value of type Visibility can be something other than Visible or Collapsed because .net enums allow any value of the underlying integral type as a value for the enum type (to allow things like ORing enums).</p>
"
"<p>i have seen [] such brackets in c# very very rarely but when i start to learn asp.net i have seen them many times but still i couldn't understand what they does ? </p>

<p>They are not part of code as using for arrays.For example [webmethods] which is just over the methods or there are some over classes. Are they part of .net or they are just tell something to CLR ? or ? </p>
","149392","","<p>They're <a href=""http://msdn.microsoft.com/en-us/library/48zeb25s%28v=VS.71%29.aspx"" rel=""nofollow"">attributes</a> used to annotate methods and classes.</p>
"
"<p>I'm going through the <a href=""http://www.haskell.org/haskellwiki/H-99%3a_Ninety-Nine_Haskell_Problems"" rel=""nofollow"">99 Haskell problems</a> to build my proficiency with the language. On problem 7 (""Flatten a nested list structure""), I found myself wanting to define a conditional behavior based on the type of argument passed to  a function. That is, since </p>

<pre><code>*Main&gt; :t 1
1 :: (Num t) =&gt; t
*Main&gt; :t [1,2]
[1,2] :: (Num t) =&gt; [t]
*Main&gt; :t [[1],[2]]
[[1],[2]] :: (Num t) =&gt; [[t]]
</code></pre>

<p>(i.e. lists nested at different levels have different data types) it seems like I should be able to write a function that can read the type of the argument, and then behave accordingly. My first attempt was along these lines:</p>

<pre><code>listflatten l = do
    if (:t l) /= ((Num t) =&gt; [t]) then
        listflatten (foldl (++) [] l)
        else id l
</code></pre>

<p>But when I try to do that, Haskell returns a parse error. Is Haskell flexible enough to allow this sort of type manipulation, do I need to find another way?</p>
","149392","","<p>Look at the example for that problem:</p>

<pre><code>flatten (List [Elem 1, List [Elem 2, List [Elem 3, Elem 4], Elem 5]])
</code></pre>

<p>As you see, the problem wants you to create your own data structure for arbitrarily nested lists.</p>

<p>Normal haskell lists can not be arbitrarily nested. Every element of the list has to have the same type, statically known, which is why it makes no sense to check the type of the elements dynamically. </p>

<p>In general haskell does not allow you to create a list of different types and then check the type at runtime. You could use typeclasses to define different behaviors for flatten with different types of arguments, but that still wouldn't give you arbitrarily nested lists.</p>
"
"<p>i have following  dynamic problem
we should have construct following   triangle</p>

<pre><code>             1
           2   3
          4  6  9
         8 12 18   27
        16 24 36 54  81
       32 48 72 108 162 243
      64 96 144 216 324 486 729
</code></pre>

<p>please can anybody help me to  write algorithm for solve this problem?  </p>
","149392","","<p>Looking at the triangle, I see that the item at position <code>i,0</code> has the value <code>2^i</code> for all <code>i &gt;= 0</code>. The value at position <code>i,j</code> is calculated by adding the values at positions <code>i, j-1</code> and <code>i-1, j-1</code> for all <code>i&gt;0, 0 &lt; j &lt;= i</code>.</p>

<p>So to create the first <code>n</code> lines of the triangle just iterate <code>i</code> from 0 to n-1 and then <code>j</code> from 0 to i and fill in each value using the above rules.</p>
"
"<p>I defined an <code>unless</code> macro as follows:</p>

<pre><code>user=&gt; (defmacro unless [expr body] (list 'if expr nil body))
#'user/unless
user=&gt; (unless (= 1 2) (println ""Yo""))
Yo
</code></pre>

<p>As you can see it works fine.</p>

<p>Now, in Clojure a list can be defined in two ways:</p>

<pre><code>; create a list
(list 1 2 3)

; shorter notation
'(1 2 3)
</code></pre>

<p>This means that the <code>unless</code> macro can be written without the <code>list</code> keyword. However, this results in a Java exception being thrown:</p>

<pre><code>user=&gt; (unless (= 1 2) (println ""Yo""))
java.lang.Exception: Unable to resolve symbol: expr in this context
</code></pre>

<p>Can someone explain why this fails?</p>
","149392","","<p><code>'(foo bar baz)</code> is not a shortcut for <code>(list foo bar baz)</code>, it's a shortcut for <code>(quote (foo bar baz))</code>. While the list version will return a list containing the values of the variables foo, bar and baz, the version with <code>'</code> will return a list containing the symbols foo, bar and baz. (In other words <code>'(if expr nil body)</code> is the same as <code>(list 'if 'expr 'nil 'body)</code>.</p>

<p>This leads to an error because with the quoted version the macro expands to <code>(if expr nil body)</code> instead of <code>(if (= 1 2) nil (println ""Yo""))</code> (because instead of substituting the macro's arguments for expr and body, it just returns the name expr and body (which are then seen as non-existent variables in the expanded code).</p>

<p>A shortcut that's useful in macro definitions is using <code>`</code>. <code>`</code> works like <code>'</code> (i.e. it quotes the expression following it), but it allows you to evaluate some subexpressions unquoted by using <code>~</code>. For example your macro could be rewritten as <code>(defmacro unless [expr body] `(if ~expr nil ~body))</code>. The important thing here is that <code>expr</code> and <code>body</code> are unquoted with <code>~</code>. This way the expansion will contain their values instead of literally containing the names <code>expr</code> and <code>body</code>.</p>
"
"<p>In the code:</p>

<pre><code>oneChar :: Char -&gt; Doc
oneChar c = case lookup c simpleEscapes of
              Just r -&gt; text r
              Nothing | mustEscape c -&gt; hexEscape c
                       | otherwise   -&gt; char c
    where mustEscape c = c &lt; ' ' || c == '\x7f' || c &gt; '\xff'

simpleEscapes :: [(Char, String)]
simpleEscapes = zipWith ch ""\b\n\f\r\t\\\""/"" ""bnfrt\\\""/""
    where ch a b = (a, ['\\',b])
</code></pre>

<p>r isn't being passed to oneChar. Where does r come from?</p>
","149392","","<p>The case keyword introduces a pattern match, which has the form <code>case EXPR of (PATTERN -&gt; EXPR)+</code>. So <code>Just r</code> is a pattern, that matches the result of <code>lookup c simpleEscapes of</code>. In a pattern, variables can be bound. Basically this means, if <code>lookup c simpleEscapes of</code> returns a <code>Just</code> then <code>r</code> will be bound to the value inside that <code>Just</code> and the result of the expression will be <code>text r</code>.</p>
"
"<p>What are the similarities and the differences between Haskell's TypeClasses and Go's Interfaces? What are the relative merits / demerits of the two approaches?</p>
","149392","","<ol>
<li>In haskell typeclass instantiation is explicit (i.e. you have to say <code>instance Foo Bar</code> for Bar to be an instance of Foo), while in go implementing an interface is implicit (i.e. when you define a class that defines the right methods, it automatically implements the according interface without having to say something like <code>implement InterfaceName</code>).</li>
<li>An interface can only describe methods where the instance of the interface is the receiver. In a typeclass the instantiating type can appear at any argument position or the return type of a function (i.e. you can say, if Foo is an instance of type Bar there must be a function named baz, which takes an Int and returns a Foo - you can't say that with interfaces).</li>
</ol>
"
"<p>I followed <a href=""http://strangelights.com/fsharp/wiki/WikiEdit.aspx?topic=FSharpWiki.MonoLinux"" rel=""nofollow"">this</a> to get F# on my Ubuntu machine. However, it returned me an error, saying </p>

<blockquote>
  <p>-- Resigning FSharp.Core.dll with mono.snk
  ./install-mono.sh: 24: sn: not found
  -- Installing FSharp DLLS into the GAC
  Failure adding assembly bin/FSharp.Core.dll to the cache: Strong name cannot be verified for delay-signed assembly</p>
</blockquote>
","149392","","<p>The <code>sn</code> utility is in the package mono-devel. So <code>sudo apt-get install mono-devel</code> and try again.</p>

<p>By the way: if you type <code>sn</code> into bash it will tell you which package you need to install to get sn. So the next time, you get a ""command not found"" error just try to type the command name into bash.</p>
"
"<p>Just a general c++ curiosity:</p>

<p>This code below shouldn't compile because it's impossible to know which to instantiate: <b> temp(const int&amp;) or temp(const string&amp;) </b> when calling func(temp) - this part i know. </p>

<p>What i would like to know is if there is anything i can do to the line marked <b>PASSINGLINE</b> to get the compiler to deduce that i want <b>FPTR1</b> called and not <b>FPTR2</b> ?</p>

<pre><code>#include&lt;iostream&gt;
using std::cout;
using std::endl;

/*FPTR1*/ void func(void(*fptr)(const int&amp;)){ fptr(1001001);} 

/*FPTR2*/ void func(void(*fptr)(const string&amp;)){ fptr(""1001001""); } 

template &lt;typename T&gt;
void temp(const T &amp;t){  cout &lt;&lt; t &lt;&lt; endl; }

int main(){
    /*PASSINGLINE*/ func(temp); 
    return 0;
}
</code></pre>

<p>Thank you. </p>
","149392","","<pre><code>func(temp&lt;int&gt;);
</code></pre>

<p>There's no way to make the compiler infer the template argument, that is more succinct or clearer than just explicitly specifying it, in this case.</p>

<p>Edit: The following code compiles without warning and produces the expected result:</p>

<pre><code>#include&lt;iostream&gt;
#include&lt;string&gt;
using std::string;
using std::cout;
using std::endl;

/*FPTR1*/ void func(void(*fptr)(const int&amp;)){ fptr(1001001);}

/*FPTR2*/ void func(void(*fptr)(const string&amp;)){ fptr(""1001001""); }

template &lt;typename T&gt;
void temp(const T &amp;t){  cout &lt;&lt; t &lt;&lt; endl; }

int main(){
    /*PASSINGLINE*/ func(temp&lt;int&gt;);
    return 0;
}
</code></pre>
"
"<p>In case of php, what is the difference between runtime and compile time polymorphism</p>
","149392","","<p>In php there is no such thing as compile-time polymorphism.</p>

<p>Compile-time polymorphism means that a function acts differently depending on type information that was known at compile-time. Since php is dynamically typed, it can't make any decisions based on types statically, so there can't be any kind of compile-time polymorphism.</p>
"
"<p>I am a beginner interested in Haskell, and I have been trying to implement the flatmap (>>=) on my own to better understand it. Currently I have  </p>

<pre><code>flatmap :: (t -&gt; a) -&gt; [t] -&gt; [a]  
flatmap _ [] = []  
flatmap f (x:xs) = f x : flatmap f xs  
</code></pre>

<p>which implements the ""map"" part but not the ""flat"".<br>
Most of the modifications I make result in the disheartening and fairly informationless  </p>

<pre><code>Occurs check: cannot construct the infinite type: a = [a]  
    When generalising the type(s) for `flatmap' 
</code></pre>

<p>error.</p>

<p>What am I missing?</p>
","149392","","<p>An error like this happens when the type signature you specify does not match the actual type of the function. Since you didn't show the code that causes the error, I have to guess, but I presume you changed it to something like this:</p>

<pre><code>flatmap _ [] = []  
flatmap f (x:xs) = f x ++ flatmap f xs
</code></pre>

<p>Which as it happens, is perfectly correct. However if you forgot to also change the type signature the following will happen:</p>

<p>The type checker sees that you use ++ on the results of <code>f x</code> and <code>flatmap f xs</code>. Since <code>++</code> works on two lists of the same type, the type checker now knows that both expressions have to evaluate to lists of the same type. Now the typechecker also knows that <code>flatmap f xs</code> will return a result of type <code>[a]</code>, so <code>f x</code> also has to have type <code>[a]</code>. However in the type signature it says that f has type <code>t -&gt; a</code>, so <code>f x</code> has to have type <code>a</code>. This leads the type checker to conclude that <code>[a] = a</code> which is a contradiction and leads to the error message you see.</p>

<p>If you change the type signature to <code>flatmap :: (t -&gt; [a]) -&gt; [t] -&gt; [a]</code> (or remove it), it will work.</p>
"
"<p>I have a question regarding the ||= statement in ruby and this is of particular interest to me as I'm using it to write to memcache.  What I'm wondering is, does ||= check the receiver first to see if it's set before calling that setter, or is it literally an alias to <code>x = x || y</code></p>

<p>This wouldn't really matter in the case of a normal variable but using something like:</p>

<pre><code>CACHE[:some_key] ||= ""Some String""
</code></pre>

<p>could possibly do a memcache write which is more expensive than a simple variable set.  I couldn't find anything about ||= in the ruby api oddly enough so I haven't been able to answer this myself.</p>

<p>Of course I know that:</p>

<pre><code>CACHE[:some_key] = ""Some String"" if CACHE[:some_key].nil?
</code></pre>

<p>would achieve this, I'm just looking for the most terse syntax.</p>
","149392","","<pre><code>CACHE[:some_key] ||= ""Some String""
</code></pre>

<p>is equivalent to</p>

<pre><code>CACHE[:some_key] = ""Some String"" unless CACHE[:some_key]
</code></pre>

<p>(which is equivalent to <code>if</code> + <code>nil?</code> unless <code>CACHE[:some_key]</code> is a boolean value).</p>

<p>In other words: yes, <code>||=</code> will only write if the LHS is nil or false.</p>
"
"<p>I've got the following problem: I have a tree of objects of different classes where an action in the child class invalidates the parent. In imperative languages, it is trivial to do. For example, in Java:</p>

<pre><code>public class A {
    private List&lt;B&gt; m_children = new LinkedList&lt;B&gt;();
    private boolean m_valid = true;

    public void invalidate() {
        m_valid = false;
    }

    public void addChild(B child) {
        m_children.add(child);
        child.m_parent = this;
    }
}

public class B {
    public A m_parent = null;
    private int m_data = 0;

    public void setData(int data) {
        m_data = 0;
        m_parent.invalidate();
    }
}

public class Main {
    public static void main(String[] args) {
        A a = new A();
        B b = new B();
        b.setData(0); //invalidates A
    }
}
</code></pre>

<p>How do I do the above in Haskell? I cannot wrap my mind around this, since once I construct an object in Haskell, it cannot be changed.</p>

<p>I would be much obliged if the relevant Haskell code is posted.</p>

<p>EDIT: the problem I am trying to solve is the following:</p>

<p>I have an application that edits documents. A document is a hierarchy of objects. When properties of children objects are modified, the document needs to be set to an invalid state, so as that the user knows that the document needs to be validated.</p>
","149392","","<p>To answer the question in your title: Yes, you can create nodes which have links to their parents as well as their children. Example:</p>

<pre><code>--               parent       children
data Tree = Node (Maybe Tree) [Tree]
root = Node Nothing [a,b] -- I can ""forward reference"" a and b because haskell is lazy
a = Node (Just root) []
b = Node (Just root) []
</code></pre>

<p>The question is whether that's useful for your particular use-case (often times it isn't).</p>

<p>Now the question in your body: You're right, you can't change a value after it's been created. So once you have a valid tree, you'll always have a valid tree as long as the variable referencing that tree is in scope.</p>

<p>You didn't really describe what problem you're trying to solve, so I can't tell you how to functionally model what you're trying to do, but I'm sure there's a way without mutating the tree.</p>
"
"<p>I've started learning Scheme, for fun mostly, and because I've never used a functional language before. I chose Scheme because I wanted to read <a href=""http://mitpress.mit.edu/sicp/"" rel=""nofollow"">SICP</a> for a long time.</p>

<p>Anyway, I'm currently learning about lists, and before that I learned about cons, car and cdr.  And there's an example that creates a list of lists with cons, like this :</p>

<pre><code>(cons (list 1 2) (list 3 4))
</code></pre>

<p>The resulting list is ((1 2) 3 4), which doesn't make sense to me, I would expect ((1 2)(3 4)) to be the result (a list made out of two lists). Why does it behave like that? I realize that if I were to use car, I would get (1 2), and cdr I'd get (3 4) becaue cdr always returns ""the rest"", but I don't understand why the list isn't made of two lists?</p>
","149392","","<p>You get a list with <code>(1 2)</code> as the first element (the car) and <code>(3 4)</code> as the rest (the cdr) because the first argument to cons is the first element of the list and the second argument is a list containing the remaining items.</p>

<p>This closely resembles the structure of a list: each node of a (proper) list contains an element and a list containing all other element. <code>cons</code> creates one such node.</p>

<p>If the second argument to <code>cons</code> would become the second element of the list, how would you create a list with three arguments? You'd have to make <code>cons</code> variardic at which point, it'd just be another name for <code>list</code>.</p>

<p>If you want to create a list of lists use <code>(list (list 1 2) (list 3 4))</code>.</p>
"
"<p>What is the difference between sealed abstract and abstract Scala class?</p>
","149392","","<p>The difference is that all subclasses of a sealed class (whether it's abstract or not) must be in the same file as the sealed class.</p>
"
"<p>I'm learning OCaml and although I have years of experience with imperative programming languages (C, C++, Java) I'm getting some problems with delimiters between declarations or expressions in  OCaml syntax.</p>

<p>Basically I understood that I have to use <code>;</code> to concatenate expressions and the value returned by the sequence will be the one of last expression used, so for example if I have </p>

<pre><code>exp1; exp2; exp3
</code></pre>

<p>it will be considered as an expression that returns the value of <code>exp3</code>. Starting from this I could use </p>

<pre><code>let t = something in exp1; exp2; exp3
</code></pre>

<p>and it should be ok, right?</p>

<p>When am I supposed to use the double semicol <code>;;</code>? What does it exactly mean?</p>

<p>Are there other delimiters that I must use to avoid syntax errors?</p>

<p>I'll give you an example:</p>

<pre><code>let rec satisfy dtmc state pformula = 
  match (state, pformula) with
    (state, `Next sformula) -&gt;
        let s = satisfy_each dtmc sformula
        and adder a state = 
            let p = 0.; 
            for i = 0 to dtmc.matrix.rows do
                    p &lt;- p +. get dtmc.matrix i state.index
            done;
            a +. p
        in
            List.fold_left adder 0. s
      | _ -&gt; []
</code></pre>

<p>It gives me syntax error on <code>|</code> but I don't get why.. what am I missing? This is a problem that occurs often and I have to try many different solutions until it suddently works :/</p>

<p>A side question: declaring with <code>let</code> instead that <code>let .. in</code> will define a var binding that lasts whenever after it has been defined?</p>

<p><strong>What I basically ask is: what are the delimiters I have to use and when I have to use them. In addition are there differences I should consider while using the interpreter <code>ocaml</code> instead that the compiler <code>ocamlc?</code></strong></p>

<p>Thanks in advance!</p>
","149392","","<pre><code>let p = 0.; 
</code></pre>

<p>This is the error. The <code>;</code> needs to be an <code>in</code>. You can't use <code>let</code> without <code>in</code> only to define global functions, you can't use it inside an expression.</p>

<blockquote>
  <p>A side question: declaring with let instead that let .. in will define a var binding that lasts whenever after it has been defined?</p>
</blockquote>

<p>You can only ever use one or the other (except in the interactive interpreter where you are allowed to mix expressions and definitions). When defining a global function or value, you need <code>let</code> without <code>in</code>. Inside an expression you need <code>let</code> with <code>in</code>.</p>
"
"<p>From what I understood I can use pattern-matching in a <code>match ... with</code> expression with tuples of values, so something like</p>

<pre><code>match b with
  (""&lt;"", val) -&gt; if v &lt; val then true else false
  | (""&lt;="", val) -&gt; if v &lt;= val then true else false
</code></pre>

<p>should be correct but it gives me a syntax error as if the parenthesis couldn't be used:</p>

<blockquote>
  <p>File ""ocaml.ml"", line 41, characters 14-17:
  Error: Syntax error: ')' expected</p>
  
  <p>File ""ocaml.ml"", line 41, characters 8-9:
  Error: This '(' might be unmatched</p>
</blockquote>

<p>referring on first match clause..</p>

<p>Apart from that, can I avoid matching strings and applying comparisons using a sort of eval of the string? Or using directly the comparison operator as the first element of the tuple?</p>
","149392","","<p><code>val</code> is a reserved keyword in OCaml, so you can't use it as a variable name. If you use something else instead of <code>val</code>, it will work.</p>

<p>As a side note: <code>if condition then true else false</code> is equivalent to <code>condition</code>.</p>
"
"<p>How can I use some OCaml record that I've defined in some other file? Say for example that I have the file a.ml in which I define the r record:</p>

<p><code>type r = {
i: int;
j: int;
};</code></p>

<p>and a file b.ml in which I want to use the r record. Something like this:</p>

<p><code>let s = {i = 12; j = 15;}</code> clearly doesn't work - I know it has something to do with accessing the module in which the record is defined, but I've yet to get the syntax right.</p>
","149392","","<p>The types and values defined in a.ml live in the module A. So you need to either <code>open A</code> (thereby bringing all definitions from A into scope) or refer to <code>i</code> and <code>j</code> as <code>A.i</code> and <code>A.j</code> respectively.</p>
"
"<p>I have the following class</p>

<pre><code>public class MyClass&lt;T&gt; {
    public Class&lt;T&gt; getDomainClass() {
          GET THE CLASS OF T
    }
}
</code></pre>

<p>I've googled this problem and all the answers I could find told me to use getGenericSuperClass(), but the problem of this method is that I must have a second class that extends MyClass and I don't want to do this. What I need is to get the parametrized type of a concrete class?</p>
","149392","","<p>You can't. The information you want (i.e. the value of T) is not available at run-time due to type-erasure.</p>
"
"<p>Can someone give me the difference between these two kinds recursions and example (specifically in OCaml)?</p>
","149392","","<p>A tail recursive function is a function where the only recursive call is the last one in the function. A non-tail recursive function is a function where that is not the case.</p>

<p>A backward recursion is a recursion where in each recursive call the value of the parameter is less than in the previous step. A forward recursion is a recursion where it grows bigger with each step.</p>

<p>Those are two orthogonal concepts, i.e. a forward recursion may or may not be tail-recursive and the same applies to backward recursions.</p>

<p>For example the factorial function is often written like this in imperative languages:</p>

<pre><code>fac = 1
for i from 1 to n:
    fac := fac * i
</code></pre>

<p>The common recursive version of factorial counts backwards (i.e. it calls itself with <code>n-1</code> as the parameter), however if you'd directly translate the above imperative solution, you'd come up with a recursive version that counts upwards. It would look something like this:</p>

<pre><code>let fac n =
  let rec loop i =
    if i &gt;= n
    then i
    else i * loop (i+1)
  in
    loop 1
</code></pre>

<p>This is a forward recursion and as you can see it is slightly more cumbersome than the backward recursive variant as it requires a helper function. Now this is not tail recursive as the last call in <code>loop</code> is the multiplication, not the recursion. So to make it tail-recursive, you'd do something like this:</p>

<pre><code>let fac n =
  let rec loop acc i =
    if i &gt;= n
    then acc
    else loop (i*acc) (i+1)
  in
    loop 1 1
</code></pre>

<p>Now this is both a forward recursion and a tail recursion because the recursive call is a) a tail-call and b) calls itself with a greater value (<code>i+1</code>).</p>
"
"<p>Do they typically use non functional aspects of the language (including mutable variables).
Are there other strategies? Could you describe them?</p>
","149392","","<blockquote>
  <p>Do they typically use non functional aspects of the language (including mutable variables)</p>
</blockquote>

<p>Many do, yes. In case of haskell, which doesn't have mutable variables or functions with side-effects, they use the IO monad (which is haskell's way of encapsulating side-effects)-</p>

<blockquote>
  <p>Are there other strategies? Could you describe them?</p>
</blockquote>

<p>Yes, there are. Look at <a href=""http://en.wikipedia.org/wiki/Functional_reactive_programming"" rel=""nofollow"">functional reactive programming</a>.</p>
"
"<p>Let's say we have string <code>t</code>. </p>

<p>Why does the following not work:</p>

<pre><code>for (int i = 0; i &lt; t.length; t++)
{
    t.charAt(i)+=3;   
}
</code></pre>
","149392","","<p>Because <code>charAt</code> returns a value, not a reference. The only language I'm aware of where you can assign to the return value of a function is C++ and there you can only do it if the function returns a reference.</p>

<p>You can do <code>char c = t.charAt(3); c += 3;</code> however this will only change the value of the variable c, it will not change t.</p>

<p>In order to change t you'd need something like <code>t.setCharAt(3, t.charAt(3)+3);</code> or <code>t[3] += 3;</code>, however since in most modern OO languages (like Java or C#) strings are immutable methods like <code>setCharAt</code> don't exist.</p>
"
"<p>I want to use the value <code>v</code> inside of an instance method on the metaclass of a particular object:</p>

<pre><code>v = ParserMap[kind][:validation]   # We want to use this value later.
s = ParserMap[kind][:specs]
const_set(name, lambda {
  p = Parser.new(&amp;s)

  # This line starts a new scope...
  class &lt;&lt; p
    define_method :validate do |opts|
      v.call(self, opts)  # =&gt; NameError! The `class` keyword above
                          #    has started a new scope and we lost
                          #    old `v`.
    end
  end
  p
})
</code></pre>

<p>Unfortunately, the <code>class</code> keyword starts a new scope, so I lose the old scope and I get a NameError. How do I fix this?</p>
","149392","","<p>Replace <code>class &lt;&lt; p</code> with <code>class &lt;&lt; p; self end.class_eval do</code> and it will work.</p>

<p><code>class &lt;&lt; p; self end</code> will return the metaclass of p, so you can call <code>class_eval</code> on it. The block given to <code>class_eval</code> will then execute in the context of the metaclass (same as it did before), but without starting a new scope.</p>
"
"<p>Is there some way of getting optional parameters with C++ Macros? Some sort of overloading would be nice too. It doesnt seem as if there is? I couldnt find any method anyway.</p>

<p>Thanks in advance!</p>
","149392","","<p>C++ macros haven't changed from C. Since C didn't have overloading and default arguments for functions, it certainly didn't have them for macros. So to answer your question: no, those features don't exist for macros. Your only option is to define multiple macros with different names (or not use macros at all).</p>

<p>As a sidenote: In C++ it's generally considered good practice to move away from macros as much as possible. If you need features like this, there's a good chance you're overusing macros.</p>
"
"<p>How would I achieve something like below so that when I set the <code>s</code> variable within the block, it also sets the <code>@subject</code> instance variable in my Topic class?</p>

<pre><code>class Topic
  def subject(&amp;blk)
    blk.call(@subject) if block_given?
    @subject unless block_given?
  end
end

my_topic = Topic.new

p my_topic.subject #=&gt; nil

my_topic.subject do |s|
  s = ['one', 'two', 'three']
  s.pop
  p s #=&gt; ['one', 'two']
end

p my_topic.subject #=&gt; nil... want it to be ['one, 'two']
</code></pre>
","149392","","<p>What you want to do is called pass-by-reference. That's not possible in ruby. You have two alternatives:</p>

<p>a) Do <code>@subject = blk.call</code> and return s from the block. Usually the simplest and cleanest option.</p>

<p>b) Instead of <code>s =</code> do <code>@subject =</code> in the block and then use <code>instance_eval(&amp;blk)</code> instead of <code>blk.call</code>. This will set the <code>@subject</code> variable, however it requires the user of the subject method to know about the <code>@subject</code> variable and it doesn't allow you to call the block multiple times to set different variables.</p>
"
"<p>I am a newbie to BASH so please dont mind my stupid questions because I am not able to get any good sources to learn that.</p>

<p>I want to create a script to display filename and its size. This is what the code is like</p>

<pre><code>filename=$1
if [ -f $filename ]; then
    filesize=`du -b $1`
    echo ""The name of file is $1""
    echo ""Its size is $filesize""
else
    echo ""The file specified doesnot exists""
fi
</code></pre>

<p>The output is like this</p>

<pre><code>$ ./filesize.sh aa
The name of file is aa
Its size is 88  aa
</code></pre>

<p>But in the last line I don't want to show the name of the file. How do I do that ?
I want to do the same thing using wc as well.</p>
","149392","","<pre><code>filesize=`du -b $1 | cut -f 1`
</code></pre>

<p><code>cut -f 1</code> splits its input by tabs and then outputs the first field (i.e. it returns each line of <code>du</code>'s output up to the fist tab character.).</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br>
  <a href=""http://stackoverflow.com/questions/2250397/interpretation-of-int-a3"">Interpretation of int (*a)[3]</a><br>
  <a href=""http://stackoverflow.com/questions/3011972/what-does-char-a12-mean"">What does &ldquo;char (*a)[12]&rdquo; mean ?</a>  </p>
</blockquote>



<p>i would really appreciate if you can explain with help of program</p>
","149392","","<p>It declares <code>a</code> as a pointer to an array of 10 ints.</p>
"
"<p>i have got this code:</p>

<pre><code>class father{
public:
    virtual void f() { cout&lt;&lt;1;}
};

class son:public father{
public:
    void f() {cout&lt;&lt;2;}
};

void test (father x){x.f();}

int main(){
    son s;
    test(s);
}
</code></pre>

<p>the question says:</p>

<ol>
<li><p>the output is '1', what is the rule about polymorphism that the programmer forgot and how can i fix it so the output would be '2'?</p></li>
<li><p>there is another rule that the programmer forgot when he wrote the father class, and he need to add an empty function to avoid problems from other sons of the father class. what is the rule and what is the missing function?</p></li>
</ol>

<hr>

<p>another question
write the g function so the next code would run with no crashes</p>

<pre><code>int x=11; g(x)=22;
</code></pre>
","149392","","<p>When you pass the <code>son</code> object to the test function by value, it will be converted to a <code>father</code> object because <code>test</code> takes a <code>father</code>, not a <code>son</code>. If you want to accept instances of subclass without conversion, you need to accept the argument by reference or pointer.</p>

<p>So if you change the signature of <code>test</code> to <code>void test (father&amp; x)</code>, it will work as you want.</p>
"
"<p>I am attempting to pass back a Node type from this function, but I get the error that <code>empty</code> is out of scope:</p>

<pre><code>import Data.Set (Set)  
import qualified Data.Set as Set

data Node = Vertex String (Set Node)  
    deriving Show

toNode :: String -&gt; Node  
toNode x = Vertex x empty
</code></pre>

<p>What am I doing wrong?</p>
","149392","","<p><code>import qualified Data.Set as Set</code> means that when you want to use something from <code>Data.Set</code>, you have to qualify it with <code>Set.</code>. So to use <code>empty</code> write <code>Set.empty</code>.</p>
"
"<p>I'm pretty new to ruby, I keep getting the following error:</p>

<p><code>in gem_original_require': ./helpers/navigation.rb:28: odd number list for Hash (SyntaxError)</code></p>

<p>Any help appreciated...</p>

<pre><code>   module Sinatra::Navigation

        def navigation

            @navigation

                nav = {

                        primary[0] = {
                         :title =&gt; ""cheddar"",
                         :active =&gt; false,
                         :children =&gt; {
                           { :title =&gt; ""cheese"", :active =&gt; false },
                           { :title =&gt; ""ham"", :active =&gt; false }
                          }
                        },

                        primary[1] = {
                         :title =&gt; ""gorgonzola"",
                         :active =&gt; false,
                         :children =&gt; {
                           { :title =&gt; ""What is the cheese?"", :active =&gt; false },
                           { :title =&gt; ""What cheese"", :active =&gt; false },
                           { :title =&gt; ""What does the cheese tell us?"", :active =&gt; false, :children =&gt; {
                              { :title =&gt; ""Cheessus"", :active =&gt; false },
                              { :title =&gt; ""The impact of different cheeses / characteristics for cheese in relation to CHSE outcomes"", :active =&gt; false }
                            }
                           }
                          }
                        }
                }
</code></pre>
","149392","","<p>In ruby curly braces are used to describe a hashmap consisting of pairs of keys and values. Square brackets are used to describe arrays. Your children attribute does not contain key-value-pairs, so you have to make into an array instead of a hash.</p>

<p>So instead of </p>

<pre><code>:children =&gt; {
  { :title =&gt; ""cheese"", :active =&gt; false },
  { :title =&gt; ""ham"", :active =&gt; false }
}
</code></pre>

<p>do:</p>

<pre><code>:children =&gt; [
  { :title =&gt; ""cheese"", :active =&gt; false },
  { :title =&gt; ""ham"", :active =&gt; false }
]
</code></pre>

<p>And the same for the other occurrence of <code>:children</code>.</p>

<p>I'm also not sure what <code>primary[0] =</code> is supposed to achieve, but it almost certainly doesn't do what you want it to. What it does do is assign is set the first element of <code>primary</code> (which means that an array called primary has to exist before that assignment) and then return that element.</p>

<p>If you want to structure your hash so that it can be accessed like <code>nav[:primary][0][:children][0]</code>, you have to do it like this:</p>

<pre><code>nav = {
  :primary =&gt; [
    {:title =&gt; ""cheddar"",
     :active =&gt; false,
     :children =&gt; [
                    { :title =&gt; ""cheese"", :active =&gt; false },
                    { :title =&gt; ""ham"", :active =&gt; false }
                  ]
    },
    {
       :title =&gt; ""gorgonzola"",
       #...
    }]
}
</code></pre>

<p>Also note that the line <code>@navigation</code> right before you assign to <code>nav</code> does nothing at all.</p>
"
"<p>You have list of objects each of them have id property.
Here's my way to covert it to dict where keys are ids and values are objects:</p>

<pre><code>reduce(
  lambda x,y: dict(x.items() + { y.id : y}.items()),
  list,
  {}
)
</code></pre>

<p>Suggest better way to do it.</p>
","149392","","<pre><code>dict(map(lambda x: [x.id, x], list))
</code></pre>
"
"<p>Is #import or #include a job that is handled by the complier or by the linker?</p>
","149392","","<p>Anything that starts with <code>#</code> is a preprocessor directive and is expanded by the preprocessor, which is a step that happens before compilation.</p>
"
"<p>How to produce delay in ruby?</p>

<p>I used sleep statement but it didn't give me what I want.</p>

<pre><code>puts ""amit""
sleep(10)
puts ""scj""
</code></pre>

<p>I want it to first print amit, then a delay of 10 seconds, then print scj.</p>

<p>But in above case what happens is it will pause for 10 seconds and then it will print amit and scj together. I don't want that.</p>

<p>I hope you got what I want to say.</p>
","149392","","<p>Call <code>$stdout.flush</code> before the call to sleep. The output is probably buffered (although usually output is only line-buffered so <code>puts</code>, which produces a newline, should work without flushing, but apparently that's not true for your terminal).</p>
"
"<p>How to I define the equivalent of this function (taken from <a href=""http://learnyouahaskell.com/"">learnyouahaskell</a>) inside GHCi?</p>

<pre><code>import Data.List  

numUniques :: (Eq a) =&gt; [a] -&gt; Int  
numUniques = length . nub  
</code></pre>

<p>Without the type declaration, GHCi accepts the function definition, but it ends up with an unhelpful type:</p>

<pre><code>Prelude Data.List&gt; import Data.List 
Prelude Data.List&gt; let numUniques' = length . nub
Prelude Data.List&gt; :t numUniques'
numUniques' :: [()] -&gt; Int
</code></pre>

<p>The resulting function only accepts a list of units as a parameter.</p>

<p>Is there a way provide type declarations in GHCi? Or is there another way to define functions like these which doesn't require type declarations?</p>

<p>I saw no obvious clues in the GHCi guide, and experimented with expressions like the following (to no avail):</p>

<pre><code>&gt; let numUniques' = ((length . nub) :: (Eq a) =&gt; [a] -&gt; Int)
&gt; :t numUniques'
numUniques' :: [()] -&gt; Int
</code></pre>
","149392","","<blockquote>
  <p>Is there a way provide type declarations in GHCi?</p>
</blockquote>

<pre><code>let numUniques' :: (Eq a) =&gt; [a] -&gt; Int; numUniques' = length . nub
</code></pre>

<blockquote>
  <p>Or is there another way to define functions like these which doesn't require type declarations?</p>
</blockquote>

<p>If you turn off the monomorphism restriction with <code>-XNoMonomorphismRestriction</code>, it will infer the right type.</p>
"
"<p>What is the canonical way to get an empty array in Scala? <code>new Array[String](0)</code> is too verbose.</p>
","149392","","<pre><code>Array[String]()
</code></pre>

<p>You can leave out the <code>[String]</code> part if it can be inferred (e.g. <code>methodThatAlwaysTakesAStringArray( Array() )</code>).</p>
"
"<p>For the 1st example given on site: <a href=""http://people.csail.mit.edu/jastr/6001/spring06/r23.pdf"" rel=""nofollow"">View-Site</a>, my understanding is that normal order evaluates to <code>[6;1;1]</code> and applicative order evaluates to <code>[6;2;2]</code>  </p>

<p>Can anyone please confirm my assessment?</p>

<p>Regards,<br>
darkie</p>
","149392","","<p>Ok, let's go through the steps of evaluating <code>(cons res v)</code> with normal-order evaluation:</p>

<p><code>v</code> has been defined as <code>(cons a (cons b ’()))</code>, so we have <code>cons res (cons a (cons b ’()))</code>. <code>res</code> is defined as <code>(foo ...)</code>, so we have</p>

<pre><code>(cons (foo (begin (set! a (+ a 1)) a)
           (begin (set! b (* b 2)) b))
      (cons a (cons b ’())))
</code></pre>

<p>Lastly <code>foo x y</code> is defined as <code>(+ x y y)</code>, so by substituting <code>(begin (set! a (+ a 1)) a)</code> for <code>x</code> and <code>(begin (set! b (* b 2)) b)</code> for <code>y</code>, we get:</p>

<pre><code>(cons (+ (begin (set! a (+ a 1)) a)
         (begin (set! b (* b 2)) b)
         (begin (set! b (* b 2)) b))
      (cons a (cons b ’())))
</code></pre>

<p>So now let's evaluate this: To get the result of cons, we first need to evaluate its first argument, <code>(+ ...)</code>. So we first need to evaluate the first argument of <code>+</code> which is <code>(begin (set! a (+ a 1)) a)</code>. This evaluates to 2, so the value of <code>a</code> is now 2 and the first argument to <code>+</code> is also 2. Now we do the same thing with the second argument. This also evaluates to 2 and sets b to 2. The third argument is <code>(begin (set! b (* b 2)) b)</code> again, so the value of <code>b</code> is now 4 and the third argument is 4. So the first argument to <code>cons</code> is the result <code>(+ 2 2 4)</code>, which is 8 and the values of <code>a</code> and <code>b</code> are 2 and 4.</p>

<p>Now we need to evaluate the second argument, <code>(cons a (cons b ’()))</code>. So since the value of <code>a</code> and <code>b</code> are 2 and 4, the end result is <code>(8 2 4)</code>.</p>
"
"<p>here's a function I wrote to print every digit of a float number in F#:</p>

<pre><code>let rec TestFloor (fnum:float) =
    let floor = System.Math.Floor(fnum)
    printfn ""fnum:%f floor:%f"" fnum floor
    if floor &gt; 0.0 then TestFloor((fnum - floor) * 10.0)
</code></pre>

<p>Anyway the result is strange, for example:</p>

<pre><code>&gt; TestFloor 1.23;;
fnum:1.230000 floor:1.000000
fnum:2.300000 floor:2.000000
**fnum:3.000000 floor:2.000000**
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:10.000000 floor:9.000000
fnum:9.999998 floor:9.000000
fnum:9.999982 floor:9.000000
fnum:9.999822 floor:9.000000
...
</code></pre>

<p>At the fourth line the floor of 3.0 turned out to be 2.0 which is strange. The following computations are all going wrong. I'm wondering what's happening there?</p>

<p>Thanks!</p>

<hr>

<p><strong>Edit 2</strong></p>

<p>@ sepp2k</p>

<p>This is the result after using %.30f:</p>

<pre><code>&gt; TestFloor 1.23;;
fnum:1.230000000000000000000000000000 floor:1.000000000000000000000000000000
fnum:2.300000000000000000000000000000 floor:2.000000000000000000000000000000
**fnum:3.000000000000000000000000000000 floor:2.000000000000000000000000000000**
fnum:9.999999999999980000000000000000 floor:9.000000000000000000000000000000
fnum:9.999999999999820000000000000000 floor:9.000000000000000000000000000000
fnum:9.999999999998220000000000000000 floor:9.000000000000000000000000000000
fnum:9.999999999982240000000000000000 floor:9.000000000000000000000000000000
fnum:9.999999999822360000000000000000 floor:9.000000000000000000000000000000
</code></pre>

<p>As you can see at the fourth line <code>fnum</code> is <code>3.00...</code> and the <code>floor</code> value is <code>2.00..</code></p>

<hr>

<p><strong>Edit 3 - Solved</strong></p>

<p>Thank you all, now I understand what the problem is about.</p>
","149392","","<p>Presumably the value of <code>fnum</code> is something like <code>2.9999999999999999999</code> and <code>printfn</code> just rounds that to 3.0 when displaying it. Try to increase the number of displayed digits with something like <code>%.30f</code> instead of <code>%f</code>.</p>
"
"<p>I am curious how many classes are there in Java standard library. Perhaps someone knows an approximate number?</p>
","149392","","<p>According to the API documentation 3793 including abstract classes and interfaces.</p>
"
"<p>where <strong>pointers</strong> and <strong>global variables</strong> in <strong>C</strong> are saved in memory, in heap or in stack?</p>
","149392","","<p>Global variables are usually stored in the applications data segment.</p>

<p>Pointers aren't stored any differently than other variables (e.g. if you have a local variable of type <code>int*</code>, it will be stored on the stack, same as any other local variable).</p>
"
"<p>Which programming languages support templates like C++?</p>
","149392","","<p>D has templates which are very similar to C++ templates.</p>

<p>Lots of other languages (java, C#, haskell, ML, scala) have parametric polymorphism (aka generics) which allows for some of the use cases of C++ templates.</p>

<p>Also some languages have a preprocessor system which can be used for what template meta programming is used fo in C++ (e.g. template haskell).</p>

<p>Also some advanced type system features (like generalized algebraic data types in ghc haskell) allow you to express some of the things you can express in C++ with templates.</p>
"
"<p>I'm doing something like this:</p>

<pre><code>$printer = %x(lpstat -p | grep -q ""Eileen"" &amp;&amp; echo ""true"" || echo ""nil"").chomp

if $printer == ""true""
  puts ""do something here""
else
  puts ""do something else""
end
</code></pre>

<p>Is there an easier/shorter way to do that?  I'm just checking to see if a print queue exists, and needing to do one thing if it does and another if it doesn't.  Thanks!</p>
","149392","","<pre><code>if system 'lpstat -p | grep -q ""Eileen""'
  puts ""do something here""
else
  puts ""do something else""
end
</code></pre>

<p>However this will print the output of the command to stdout. If you want to avoid that, you can do:</p>

<pre><code>output = %x(lpstat -p | grep -q ""Eileen"")
if $?.success?
  puts ""do something here""
else
  puts ""do something else""
end
</code></pre>
"
"<p>(defn divisible [x y] (zero? (rem x y)))</p>

<ol>
<li>((or (fn [x] (divisible x 3)) (fn [x] (divisible x 5))) 3)</li>
<li>((or (fn [x] (divisible x 3)) (fn [x] (divisible x 5))) 5)</li>
</ol>

<p>the first expression evals to true but not the second one why?</p>

<ul>
<li>can some on explain whats going on here?</li>
</ul>
","149392","","<p>You seem to think that <code>or</code> somehow combines the functions that it receives as arguments, but that's not the case. <code>or</code> can take any kind of values as arguments and simply returns the first one that is ""truthy"".</p>

<p>So <code>(or (fn [x] (divisible x 3)) (fn [x] (divisible x 5)))</code> returns <code>(fn [x] (divisible x 3))</code> (because functions are ""not nothing"" and thus ""truthy"").</p>

<p>So when you do <code>((or (fn [x] (divisible x 3)) (fn [x] (divisible x 5))) something)</code>, you're really just doing <code>((fn [x] (divisible x 3)) something)</code>.</p>
"
"<p>I started learning haskell yesterday and I got stuck on a problem. After a bit of trying different things I thought I'd finally come here and ask how to fix this. Also, feel free to criticize the way I have done things so far so I can know what direction to go. Thanks.</p>

<pre><code>module Main where
main = putStrLn lastPrime
    where
        lastPrime :: String
        lastPrime = show(last(take 10001 primes))
        primes :: [Int]
        primes = [x| x &lt;- [1..],length [a| a &lt;- [1..lessen(x)], mod x a /= 0] == x - 2]
        lessen :: Int -&gt; Int
        lessen a = ceiling(sqrt(a))
</code></pre>
","149392","","<p>In addition to the type error in <code>lessen</code> you have a logic error in primes:</p>

<pre><code>length [a| a &lt;- [1..lessen(x)], mod x a /= 0] == x - 2
</code></pre>

<p>You're (rightly) only considering elements up to <code>lessen x</code>. This has the consequence that the list will almost never have exactly <code>x - 2</code> elements. As a consequence you'll get into an infinite loop when trying to get more than two elements out of that list (because there is no 3rd element for which the condition is true, but haskell doesn't know that so it iterates to infinity trying to find it).</p>

<p>Also note that taking the length of a list is an <code>O(n)</code> operation and there's almost always a better way to achieve what you want.</p>

<p>As a style note, I would recommend defining a separate method isPrime. This will make your code look like this:</p>

<pre><code>module Main where
main = putStrLn lastPrime
    where
        lastPrime :: String
        lastPrime = show(last(take 10001 primes))
        isPrime x = length [a| a &lt;- [1..lessen(x)], mod x a /= 0] == x - 2]
        primes :: [Int]
        primes = [x| x &lt;- [1..], isPrime x]
        lessen :: Int -&gt; Int
        lessen a = ceiling(sqrt (fromIntegral a))
</code></pre>

<p>This IMHO makes the list comprehension much more readable. However it still contains the bug. To get rid of the bug, I'd suggest defining isPrime using a different approach. Going up to <code>lessen x</code> is fine (except you should start from 2 because 1 cleanly divides everything), but instead of building a new list with all the divisors, you should just check whether any of the numbers in the range divides x. For this we can use the higher order function <code>any</code>, so we get this:</p>

<pre><code>isPrime x = not (any (\a -&gt; mod x a == 0) [2 .. lessen x])
</code></pre>
"
"<p>I am trying to wrap my head about scope in C++. Please consider the following:</p>

<pre><code>class C
{
    int i_;
public:
    C() { i_ = 0;}
    C(int i) { i_ = i; }
    C(const C &amp;c) {
        i_ = c.i_;
        cout &lt;&lt; ""C is being copied: "" &lt;&lt; i_ &lt;&lt; endl;
    }
    int getI() { return i_; }
    ~C() {cout &lt;&lt; ""dstr: "" &lt;&lt; i_ &lt;&lt; endl;}
};

class D
{
    C c_;
public:
    void setC(C &amp;c) { c_ = c; }
    int getC_I() { return c_.getI(); }
};

void Test(D &amp;d)
{
    C c(1);
    d.setC(c);
    //here c is going out of scope, surely it will be destroyed now?
}

int main()
{
    D d;
    Test(d); //this sets value of c_ to the local variable in Test. 
             //Surely this will be invalid when Test returns?
    int ii = d.getC_I();
    cout &lt;&lt; ii &lt;&lt; endl;
}
</code></pre>

<p>Running this program outputs:</p>

<p>dstr: 1<br>
1<br>
dstr: 1</p>

<p>Apparently, the first destructor call occurs in Test, and the other when program terminates and d is destroyed.</p>

<p>So my question is: Where was c copied? Is there fault with my reasoning? And general point I am trying to ask: is it safe to have a member function that takes a reference to an object and then stores it in a member variable?</p>

<p>Many thank for your help.</p>
","149392","","<blockquote>
  <p>Where was c copied?</p>
</blockquote>

<p>When you do <code>c_ = c;Where was c copied?</code>, you're calling <code>operator=</code> on <code>c_</code> which will copy the contents of <code>c</code> to <code>c_</code>.</p>

<p>If <code>c_</code> were a also reference, nothing would be copied, and the program would cause an error like you expect it to.</p>
"
"<p><strong>Question: Where does <code>p</code> get it's value from below and why does it happen?</strong></p>

<p>Consider this irb session:</p>

<pre><code>me@somewhere:~$ irb
irb(main):001:0&gt; a
NameError: undefined local variable or method `a' for main:Object
    from (irb):1
irb(main):002:0&gt; foo
NameError: undefined local variable or method `foo' for main:Object
    from (irb):2
irb(main):003:0&gt; p
=&gt; nil
irb(main):004:0&gt; p.class
=&gt; NilClass
irb(main):005:0&gt;
</code></pre>

<p>I never defined <code>p</code> - so why is it nil valued? Neither <code>a</code> nor <code>foo</code> were recognized so what's special about <code>p</code>? I also didn't find anything listed under <code>Kernel#p</code></p>

<p><strong>Context:</strong> I'm reading the so-called <a href=""http://rbjl.net/26-the-28-bytes-of-ruby-joy"" rel=""nofollow"">""28 bytes of ruby joy""</a> and assumed <code>p</code> was a variable, as in: <code>def p.method_missing *_</code> ... </p>

<p>(Don't worry: I'm not going to actually define method_missing on nil everywhere... just studying some ruby code...)</p>
","149392","","<p><code>p</code> is a method which prints the <code>inspect</code> value of its arguments and returns nil. Without arguments it simply does nothing.</p>

<p>Its documentation is under <code>Kernel#p</code>, not <code>Kernel::p</code> (because it's an instance method of Kernel).</p>
"
"<p>Algorithm for Finding nth smallest/largest element in an array using data strucuture self balancing binary search tree..</p>

<p>Read the post: <a href=""http://stackoverflow.com/questions/2329171/find-kth-smallest-element-in-a-binary-search-tree-in-optimum-way/2329236#2329236"">http://stackoverflow.com/questions/2329171/find-kth-smallest-element-in-a-binary-search-tree-in-optimum-way/2329236#2329236</a>. But the correct answer is not clear, as i am not able to figure out the correct answer, for an example that i took...... Please a bit more explanation required.......</p>
","149392","","<p>First sort the array descending, then take the <code>i</code>th element.</p>
"
"<p>I am a C# developer and these days I am trying to learn Haskell from the online book Real World Haskell. From what I have learnt so far, I am quite impressed with the language. However coming from OO side of the world, I always start with thinking in terms of interfaces, classes and type hierarchies. Because of lack of OO in Haskell, sometimes I find myself stuck and I cannot think of a way to model certain problems with Haskell. </p>

<p>So my question is: How to model, in Haskell, real world situations involving class hierarchies such as the one shown here: <a href=""http://www.braindelay.com/danielbray/endangered-object-oriented-programming/isHierarchy-4.gif"">http://www.braindelay.com/danielbray/endangered-object-oriented-programming/isHierarchy-4.gif</a></p>

<p>Thanks.</p>

<p>PS: Sorry for my poor English. I am not a native English speaker.</p>
","149392","","<p>Let's assume the following operations: Humans can speak, Dogs can bark, and all members of a species can mate with members of the same species if they have opposite gender. I would define this in haskell like this:</p>

<pre><code>data Gender = Male | Female deriving Eq

class Species s where
    gender :: s -&gt; Gender

-- Returns true if s1 and s2 can conceive offspring
matable s1 s2 = gender s1 /= gender s2

data Human = Man | Woman
data Canine = Dog | Bitch

instance Species Human where
    gender Man = Male
    gender Woman = Female

instance Species Canine where
    gender Dog = Male
    gender Bitch = Female

bark Dog = ""woof""
bark Bitch = ""wow""

speak Man s = ""The man says "" ++ s
speak Woman s = ""The woman says "" ++ s
</code></pre>

<p>Now the operation <code>matable</code> has type <code>Species s =&gt; s -&gt; s -&gt; Bool</code>, <code>bark</code> has type <code>Canine -&gt; String</code> and <code>speak</code> has type <code>Human -&gt; String -&gt; String</code>.</p>

<p>I don't know whether this helps, but given the rather abstract nature of the question, that's the best I could come up with.</p>

<p>Edit: In response to Daniel's comment:</p>

<p>A simple hierarchy for collections could look like this (ignoring already existing classes like Foldable and Functor):</p>

<pre><code>class Foldable f where
    fold :: (a -&gt; b -&gt; a) -&gt; a -&gt; f b -&gt; a

class Foldable m =&gt; Collection m where
    cmap :: (a -&gt; b) -&gt; m a -&gt; m b
    cfilter :: (a -&gt; Bool) -&gt; m a -&gt; m a

class Indexable i where
    atIndex :: i a -&gt; Int -&gt; a

instance Foldable [] where
    fold = foldl

instance Collection [] where
    cmap = map
    cfilter = filter

instance Indexable [] where
    atIndex = (!!)

sumOfEvenElements :: (Integral a, Collection c) =&gt; c a -&gt; a
sumOfEvenElements c = fold (+) 0 (cfilter even c)
</code></pre>

<p>Now sumOfEvenElements takes any kind of collection of integrals and returns the sum of all even elements of that collection.</p>
"
"<p>I'd like to understand how the following code works:</p>

<pre><code>def url
  @url ||= {
    ""basename"" =&gt; self.basename,
    ""output_ext"" =&gt; self.output_ext,
  }.inject(""/:basename/"") { |result, token|
    result.gsub(/:#{token.first}/, token.last)
  }.gsub(/\/\//, ""/"")
end
</code></pre>

<p>I know what it does; somehow it returns the url corresponding to a file located o a dir on a server. So it returns strings similar to this: <code>/path/to/my/file.html</code></p>

<p>I understand that if <code>@url</code> already has a value, it will be returned and the right <code>||=</code> will be discarded. I also understand that this begins creating a hash of two elements.</p>

<p>I also think I understand the last gsub; it replaces backslashes by slashes (to cope with windows servers, I guess).</p>

<p>What amazes me is the <code>inject</code> part. I'm not able to understand it. I have used <code>inject</code> before, but this one is too much for me. I don't see how this be done with an <code>each</code>, since I don't understand what it does.</p>

<p>I modified the original function slightly for this question; the original comes from <a href=""http://github.com/mojombo/jekyll/blob/master/lib/jekyll/page.rb#L57"" rel=""nofollow"">this jekyll file</a>.</p>

<p>Cheers!</p>
","149392","","<pre><code>foo.inject(bar) {|result, x| f(result,x) }
</code></pre>

<p>Can always be written as:</p>

<pre><code>result = bar
foo.each {|x| result = f(result, x)}
result
</code></pre>

<p>So for your case, the version with each would look like this:</p>

<pre><code>result = ""/:basename/""
{
  ""basename"" =&gt; self.basename,
  ""output_ext"" =&gt; self.output_ext,
}.each {|token|
  result = result.gsub(/:#{token.first}/, token.last)
}
result
</code></pre>

<p>Meaning: for all key-value-pairs in the hash, each occurrence of the key in the <code>""/:basename/""</code> is replaced with the value.</p>
"
"<p>This should be a pretty trivial one.</p>

<p>Can C# return a type that is ""force-cast"", that is where the following <strong><em>fails</em></strong>:</p>

<pre><code> private ICollection&lt;string&gt; _strings = new List&lt;string&gt;();
 public IEnumerable&lt;string&gt; Strings
 {
     get
     {
          return ((IEnumerable&lt;string&gt;)_strings);
     }
 }

 /* I should not know that Strings can be cast to ICollection */
 public void AddToStrings()
 {
     ICollection&lt;string&gt; st = ((ICollection&lt;string&gt;)Strings); /* I should fail */
     st.Add(""MyString"");
 }
</code></pre>

<p>I'm aware I could do this:</p>

<pre><code> public IEnumerable&lt;string&gt; Strings
 {
     get
     {
          return ((IEnumerable&lt;string&gt;)_strings.ToArray());
     }
 }
</code></pre>

<p>But this seems (1) unnecessary, (2) still doesn't stop them casting to an ICollection, just from adding and (3) I'm just plain curious about the general question.</p>

<h3>Clarification</h3>

<p>Some people seem unsure about what I am trying to achieve here. I am trying to prevent outside classes from violating the contract I provide them. I have not said that Strings is an ICollection - it just so happens that I am using that internally - and as such no outside class should be able to treat my returned variable as an ICollection. I don't want to expose modification behaviour to them, and I don't want them to treat my variable as an ICollection in case I later change the way I generate that IEnumerable.</p>

<p>More generally, can I return an object as an instance of one of its more specific types,  and prevent later casting to one of its more general types. For example, while you can yield a new IEnumerable, could you return an IDisposable object that cannot be cast back to whatever type it was (i.e. only has Dispose() and object methods callable)?</p>
","149392","","<p>In this specific case where you return an IEnumerable Thomas's solution using yield is probably the best. In the general case where the returned interface might be anything (like IDisposable as you mentioned in your edit) the only way to achieve what you want would be to create a wrapper class that implements the given interface using delegation (e.g. a class MyDisposable that holds an <code>IDisposable</code> and implements the Dispose method by calling Dispose on the IDisposable it holds).</p>
"
"<p>I have a CommonFunctions Module inside the lib/ folder. I have a Question Model, which includes the CommonFunctions module. Now I am trying to access the favorite function of the CommonFunctions like Question.favorite. But I am getting NoMethodError. I have included the code. Can anyone please tell me where I am doing the mistake</p>

<p><strong>Error</strong></p>

<pre><code>NoMethodError: undefined method `favorite' for Class:0x00000100e11508
</code></pre>

<p><strong>Inside lib/CommonFunctions.rb</strong></p>

<pre><code>module CommonFunctions
  def favorite(object_id)
  end
end
</code></pre>

<p><strong>Inside app/models/Question.rb</strong></p>

<pre><code>require 'lib/CommonFunctions.rb'
class Question
  extend CommonFunctions
end
</code></pre>

<p><strong>I am executing the following code from the script/console</strong></p>

<pre><code>   Question.favorite(1)
</code></pre>

<p>Thanks </p>

<hr>

<p>This was a duplicate of <a href=""http://stackoverflow.com/questions/1355619/how-do-i-properly-include-a-module-and-call-module-functions-from-my-rails-model"">How do I properly include a module and call module functions from my Rails model?</a></p>
","149392","","<p>Your code is correct. Make sure you have the current version of the classes loaded in the console (try <code>reload!</code>).</p>

<p>As a sidenote: if you rename CommonFunctions.rb to common_functions.rb, it will be autoloaded by rails and you don't need the require.</p>
"
"<p>I am trying to verify something for myself about operator and function precedence in Haskell. For instance, the following code </p>

<pre><code>list = map foo $ xs
</code></pre>

<p>can be rewritten as </p>

<pre><code>list = (map foo) $ (xs)
</code></pre>

<p>and will eventually be</p>

<pre><code>list = map foo xs
</code></pre>

<p>My question used to be, why the first formulation would not be rewritten as </p>

<pre><code>list = (map foo $) xs
</code></pre>

<p>since function precedence is always higher than operator precedence, but I think that I have found the answer: operators are simply not allowed to be arguments of functions (except of course, if you surround them with parentheses). Is this right? If so, I find it odd, that there is no mention of this mechanic/rule in RWH or Learn you a Haskell, or any of the other places that I have searched. So if you know a place, where the rule is stated, please link to it.</p>

<p>-- edit: Thank you for your quick answers. I think my confusion came from thinking that an operator literal would somehow evaluate to something, that could get consumed by a function as an argument. It helped me to remember, that an infix operator can be mechanically translated to a prefix functions. Doing this to the first formulation yields </p>

<pre><code>($) (map foo) (xs)
</code></pre>

<p>where there is no doubt that ($) is the consuming function, and since the two formulations are equivalent, then the $ literal in the first formulation cannot be consumed by map. </p>
","149392","","<p>Operators can be passed as function arguments if you surround them with parenthesis (i.e. <code>map foo ($) xs</code>, which would indeed be passed as <code>(map foo ($)) xs</code>). However if you do not surround them with parenthesis, you are correct that they cannot be passed as argument (or assigned to variables).</p>

<p>Also note that the syntax <code>(someValue $)</code> (where <code>$</code> could be any operator) actually means something different: it is equivalent to <code>\x -&gt; someValue $ x</code>, i.e. it partially applies the operator to its left operand (which in case of <code>$</code> is a noop of course). Likewise <code>($ x)</code> partially applies the operator to the right operand. So <code>map ($ x) [f, g, h]</code> would evaluate to <code>[f x, g x, h x]</code>.</p>
"
"<p>I have met the following code in Scheme: </p>

<pre><code>(define x! 
  (lambda(x)
    (if (= x 1) 1 (* x (x! (- x 1))))))

(define fact x!)

(define x! (lambda (x) x))
(fact 5)
</code></pre>

<p>Everything is clear for me until re-defining x! and seeing the result of the function (20).
How can it be explained?.. Why is it 20 and not 5!= 120. 
Thanks in advance</p>
","149392","","<p>Ok, what happens here is the following:</p>

<p>When you do <code>(x! (- x 1))</code> inside the original definition of <code>x!</code>, you're calling the function named <code>x!</code>. So if you change what the name <code>x!</code> means, that will affect this call to <code>x!</code>.</p>

<p>When you do <code>(define fact x!)</code> fact doesn't refer to the name <code>x!</code>, but to the current contents of <code>x!</code>, i.e. the function you just defined.</p>

<p>Now you change the meaning of the name <code>x!</code> and then call <code>(fact 5)</code>. This will first invoke the original definition of <code>x!</code> (because that's what fact refers to), however when it gets to the call <code>(x! (- 5 1))</code>, it invokes the new definition of <code>x!</code>, which returns 4, so you get 5*4 = 20.</p>
"
"<p>I am trying to retrieve the class name of an object. When I tried using the const_get, i am getting the entire model's table structure. So I used the following code.</p>

<p><strong>Code</strong></p>

<pre><code>  def classname(object)
    return object.class.to_s.split(""("")[0]
  end

  def classrating(object_id)
    classtype = classname(object_id)
    return classtype
  end
</code></pre>

<p><strong>Script/Console</strong></p>

<pre><code>  &gt;&gt; q = Question.new
    =&gt; #&lt;Question id: nil, question_info: nil, profile_id: nil, rating: nil, created_at: nil, updated_at: nil&gt;
    &gt;&gt; Question.classname(q)
    =&gt; ""Question""
    &gt;&gt; Question.classrating(Question.classname(q))
    =&gt; ""String""
    &gt;&gt; q.class
    =&gt; Question(id: integer, question_info: string, profile_id: integer, rating: integer, created_at: datetime, updated_at: datetime)
</code></pre>

<p>As you can see, when Question.classname is called, it returns Question and when the same input i called from Question.classrating, it returns String. I am just returning the same output from the Question.classname.</p>

<p>Can you please tell me whether what am I doing wrong, that the value gets changed.</p>

<p>Thanks.</p>
","149392","","<p>First of all, you can just use <code>object.class.name</code> to get an object's class name as a string.</p>

<p>The reason that your second call returns ""String"" is simply that you call <code>Question.classname(q)</code> which returns <code>""Question""</code> and then you call <code>Question.classrating(""Question"")</code> which returns ""String"" because <code>""Question""</code> is a string.</p>
"
"<p>I would like to dynamically specify the parent class for a class in Ruby.  Consider this code:</p>

<pre><code>class Agent
  def self.hook_up(calling_class, desired_parent_class)
    # Do some magic here
  end
end

class Parent
  def bar
    puts ""bar""
  end
end

class Child
  def foo
    puts ""foo""
  end

  Agent.hook_up(self, Parent)
end

Child.new.bar
</code></pre>

<p>Neither the <code>Parent</code> nor the <code>Child</code> class definition specifies a parent class, so they both inherit from Object.  My first question is: what would I need to do in <code>Agent.hook_up</code> in order to make <code>Parent</code> the superclass of <code>Child</code> (so for example <code>Child</code> objects can inherit the 'bar' method).</p>

<p>My second question is: do I <em>need</em> to pass the first argument to <code>Agent.hook_up</code>, or is there some way the <code>hook_up</code> method can programmatically determine the class from which it was called?</p>
","149392","","<p>Joshua has already given you a great list of alternatives, but to answer your question: You can't change the superclass of a class after the class has been created in ruby. That's simply not possible.</p>
"
"<p>Reading <a href=""http://stackoverflow.com/questions/3127145/computational-cost"">this</a> question got me thinking: For a given function <code>f</code>, how can we know that a loop of this form:</p>

<pre><code>while (x &gt; 2)
   x = f(x)
</code></pre>

<p>will stop for any value <code>x</code>? Is there some simple criterion?</p>

<p>(The fact that <code>f(x) &lt; x</code> for <code>x &gt; 2</code> doesn't seem to help since the series may converge).</p>

<p>Specifically, can we prove this for <code>sqrt</code> and for <code>log</code>?</p>
","149392","","<blockquote>
  <p>(The fact that f(x) &lt; x for x > 2 doesn't seem to help since the series may converge).</p>
</blockquote>

<p>If we're talking about floats here, that's not true. If for all <code>x &gt; n</code> <code>f(x)</code> is strictly less than <code>x</code>, it will reach <code>n</code> at some point (because there's only a limited number of floating point values between any two numbers).</p>

<p>Of course this means you need to prove that <code>f(x)</code> is actually less than <code>x</code> using floating point arithmetic (i.e. proving it is less than x mathematically does not suffice, because then <code>f(x) = x</code> may still be true with floats when the difference is not enough).</p>
"
"<p>I am trying to find all the subclasses of a certain type called <code>Command</code> in Ruby, and I came across the following code which did the trick perfectly, however I don't really understand how it works, mainly the <code>class &lt;&lt; [Subtype]</code> part. I have tried reading up on this, but I feel there is still some Ruby magic which I am missing. Can someone please explain this to me :-)</p>

<pre><code>ObjectSpace.enum_for(:each_object, class &lt;&lt; Command; self; end).to_a()
</code></pre>
","149392","","<p><code>class &lt;&lt; Command; self; end</code> returns the singleton class of <code>Command</code>. This is the class that Command is the only (direct) instance of.</p>

<p>In ruby the singleton class of a subclass of C is a subclass of C's singleton class. So all subclasses of Command have singleton classes that inherit from Command's singleton class.</p>

<p><code>ObjectSpace.each_object(C)</code> iterates over all objects that are instances of the class <code>C</code> or one of its subclasses. So by doing <code>ObjectSpace.each_object(singleton_class_of_command)</code> you iterate over Command and all its subclasses.</p>

<p>The <code>enum_for</code> bit returns an Enumerable that enumerates all the elements that <code>each_object</code> iterates over, so you can turn it into an array with <code>to_a</code>.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/2528318/c-how-come-an-arrays-address-is-equal-to-its-value"">C: How come an array&rsquo;s address is equal to its value?</a>  </p>
</blockquote>



<p>SA <br/>
In C I tried to print the address of the pointer of an array.</p>

<pre><code>int a[3] = {0,1,2};
printf(""\n%p"",a);
printf(""\n%p"",(&amp;a));
</code></pre>

<p>the 2 statement prints the same value why?<br/>thanks in advance</p>
","149392","","<p>In C arrays ""decay"" to pointers to their first element in certain contexts. Passing an array to a function is one of these cases.</p>
"
"<p>What's simplest way to turn the string ""YingYang"" into ""Ying/Yang""? </p>
","149392","","<p>Assuming you want to insert a slash everywhere where a lower case letter is followed by a capital letter:</p>

<pre><code>""YingYang"".gsub(/([a-z])([A-Z])/, '\1/\2')
</code></pre>
"
"<p>For an assignment, we had to implement something like a very basic sexp parser, such that for input like:</p>

<pre><code>""((a b) ((c d) e) f)""
</code></pre>

<p>It would return:</p>

<pre><code>[[""a"", ""b""], [[""c"", ""d""], ""e""], ""f""]
</code></pre>

<p>Since this was part of a larger assignment, the parser is only given valid input (matching parens &amp;c). I came up with the following solution in Ruby:</p>

<pre><code>def parse s, start, stop
  tokens = s.scan(/#{Regexp.escape(start)}|#{Regexp.escape(stop)}|\w+/)

  stack = [[]]

  tokens.each do |tok|
    case tok
    when start
      stack &lt;&lt; []
    when stop
      stack[-2] &lt;&lt; stack.pop
    else
      stack[-1] &lt;&lt; tok
    end
  end

  return stack[-1][-1]
end
</code></pre>

<p>Which may not be the best solution, but it does the job.</p>

<p>Now, I'm interested in an idiomatic Haskell solution for the core functionality (i.e. I don't care about the lexing or choice of delimiters, taking already lexed input would be fine), if possible using only ""core"" haskell, without extensions or libs like parsec.</p>

<p>Note that this is NOT part of the assignment, I'm just interested in the Haskell way of doing things.</p>
","149392","","<pre><code>[[""a"", ""b""], [[""c"", ""d""], ""e""], ""f""]
</code></pre>

<p>Does not have a valid type in haskell (because all elements of a list need to be of the same type in haskell), so you'll need to define your own datastructure for nested lists like this:</p>

<pre><code>data NestedList = Value String | Nesting [NestedList]
</code></pre>

<p>Now if you have a list of Tokens where Token is defined as <code>data Token = LPar | RPar | Symbol String</code>, you can parse that into a NestedList like this:</p>

<pre><code>parse = fst . parse'

parse' (LPar : tokens) =
    let (inner, rest) = parse' tokens
        (next, outer) = parse' rest
    in
      (Nesting inner : next, outer)
parse' (RPar : tokens) = ([], tokens)
parse' ((Symbol str) : tokens) =
    let (next, outer) = parse' tokens in
    (Value str : next, outer)
parse' [] = ([],[])
</code></pre>
"
"<pre><code>char *str = ""Hello"";

char *ptr = str;
char *&amp;rptr = str;
</code></pre>

<p>What is the difference between ptr and rptr? I understand rptr is a reference to a pointer(in theory) but how does it differ in terms of implementation with ptr?</p>

<p>Are references in C++ implemented using pointers?</p>
","149392","","<blockquote>
  <p>What is the difference between ptr and rptr?</p>
</blockquote>

<p>If you do <code>char *world = ""World""; rptr = world;</code> and then print <code>str</code>, it will print ""World"". If you do <code>ptr = world;</code> and then print <code>str</code>, it will print ""Hello"".</p>
"
"<p>The platform i'm working with is DrScheme.</p>

<p>I've seen that a pair <code>(a b)</code> [constructed by <code>(cons a b)</code>] is implemented within the language like a procedure that looks like this:</p>

<pre><code>(define (cons a b)
  (lambda(pick)
    (cond ((= pick 1) a)
          ((= pick 2) b))))
</code></pre>

<p>and the selectors:</p>

<pre><code>(define (car x) (x 1))
(define (cdr x) (x 2))
</code></pre>

<p>Then there are lists, constructed with expression like <code>(cons a (cons b (cons c (cons ...))))</code>.</p>

<p>Now, what i was trying to understand is this (typed on DrScheme's prompt):</p>

<pre><code>&gt; (define l1 '(a b c))
&gt; (define l2 (list 'a 'b 'c))
&gt; l1
(a b c)
&gt; l2
(a b c)
&gt; (eq? l1 l2)
#f
</code></pre>

<p>Ok, l2 is just a list (that is, a procedure, ect...) like i've described abode, but... <strong>what</strong> is l1? A symbol? A sequence of character? And whatever it is, how is it implemented within the language?
Thanks!</p>
","149392","","<p><code>l1</code> is also just a list containing the same elements. Note that this also returns <code>#f</code>:</p>

<pre><code>(define l1 '(a b c))
(define l2 '(a b c))
(eq? l1 l2)
</code></pre>

<p>While this returns <code>#t</code>:</p>

<pre><code>(define l1 '(a b c))
(define l2 (list 'a 'b 'c))
(equal? l1 l2)
</code></pre>

<p>The reason is that <code>eq?</code> checks whether <code>l1</code> and <code>l2</code> are references to the same object in memory, while <code>equal?</code> checks whether they have the same contents.</p>
"
"<p>My design incorporates a small database abstraction, whereby I implement each database as a Singleton (well, an <code>object</code>), with custom methods on the database for the couple of operations the code calls (it's mainly a log parser, dumping interesting statistics to a database).</p>

<p>I'd like to construct the Singleton database classes if possible, such that at runtime, each is constructed with config values (and those values remain constant for the remainder of the program's runtime).  This would allow me to better test the code too (as I can mock the databases using Mockito or some such).</p>

<p>I'm still only learning Scala, but it seems there's no way to attach a constructor to a Singleton, and would appreciate any input on this problem - is there a better way to do what I'm doing?  Is there some preferred way of constructing a Singleton?</p>

<p>Cheers in advance for any help.</p>
","149392","","<p>Just put the constructor code in the body of the object definition:</p>

<pre><code>object Foo {
    println(""Hello"") // This will print hello the first time
                     // the Foo object is accessed (and only
                     // that once).
}
</code></pre>
"
"<p>In Haskell, why would you define a function with a type constraint:</p>

<pre><code>ghci&gt; :t (==)  
(==) :: (Eq a) =&gt; a -&gt; a -&gt; Bool
</code></pre>

<p>Rather than defining it so it's type was:</p>

<pre><code>ghci&gt; :t (==)  
(==) :: Eq -&gt; Eq -&gt; Bool
</code></pre>
","149392","","<p>You wouldn't do the second version because you'd get a compile error. <code>Eq</code> is not a type, it's a typeclass. You can't use a typeclass in places where a type is required.</p>

<p>If you did define your own type <code>MyEq</code> and then define a function <code>==</code> with the type <code>MyEq -&gt; MyEq -&gt; Bool</code>, the expression <code>""hello"" == ""hello""</code> would be invalid because <code>""hello""</code> is a value of type String and not of type MyEq. Since there is no subtyping in haskell a value couldn't be of type String and of type MyEq at the same time.</p>

<p>So if you want to define a function that can accept values of different types which meet certain conditions, you need type classes.</p>
"
"<p>I'm on the I/O chapter of Real World Haskell.  Monads aren't discussed in the book for another 7 chapters.  Which is to say, my understanding of I/O is, at best, incomplete.</p>

<p>Right now I am trying to comprehend the mapM function.  As I understand it, the function ""executes"" each element in the list which must be an ""action"" (IO monad).</p>

<p>What doesn't make sense is <a href=""http://members.chello.nl/hjgtuyl/tourdemonad.html#mapM"">this example</a>.  Why does mapM return a different result than map for the same arguments?</p>

<pre>Prelude> map (\x -&gt; [x]) [0, 1, 2]
[[0],[1],[2]]
Prelude> mapM (\x -&gt; [x]) [0, 1, 2]
[[0,1,2]]</pre>
","149392","","<blockquote>
  <p>As I understand it, the function ""executes"" each element in the list which must be an ""action"" (IO monad).</p>
</blockquote>

<p>That's true for IO, but in your code example you don't use the IO monad, you use the list monad (the function you give to mapM returns a list (<code>[x]</code>), not an IO).</p>

<p><code>mapM</code> is defined as <code>mapM f as = sequence (map f as)</code>. If f returns an IO this means that for each element in the list it constructs an IO by applying f to the element. It then turns the list of IOs that map returns into an IO ""containing"" a list using sequence (so when you execute the IO, you get back a list containing non-IO values).</p>

<p>For lists it means that it creates a list of lists by applying <code>f</code> to each element of <code>as</code>. It then uses <code>sequence</code> to create a list of lists which contains all possible ways to take one element of each list in the lists of lists (e.g. <code>sequence [[1,2],[3,4]]</code> returns <code>[[1,3],[1,4],[2,3],[2,4]]</code>).</p>
"
"<p>In the following code segment what will be:</p>

<ul>
<li>the result of function</li>
<li>value of x </li>
<li>value of y</li>
</ul>

<pre>
    {
         unsigned int x=-1;
         int y;
         y = ~0;
         if(x == y)
             printf(""same"");
         else
             printf(""not same"");
     }
</pre>

<pre>
a. same, MAXINT, -1
b. not same, MAXINT, -MAXINT
c. same , MAXUINT, -1
d. same, MAXUINT, MAXUINT
e. not same, MAXINT, MAXUINT
</pre>

<p>Can someone explain me how its works or can just explain the snippet??</p>

<p>I know it's about two's complement n etc..
What is the significance of MAXINT and -1 ?
It is because of unsigned int and int thing - am I right ?</p>
","149392","","<p>If you run this program, you will see that the answer a is <em>wrong</em> and c is the correct answer:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;limits.h&gt;

int main() {
    unsigned int x=-1;
    int y;
    y = ~0;
    if(x == y)
        printf(""same\n"");
        if(x==INT_MAX) printf(""INT_MAX\n"");
        if(x==UINT_MAX) printf(""UINT_MAX\n"");
    else
        printf(""not same"");
    return 0;
}
</code></pre>
"
"<p>How do I choose a particular a method call in the inheritance chain?</p>

<pre><code>class A
  def boo; puts ""A:Boo""; end
end

class B &lt; A
  def boo; super; puts ""B:Boo""; end
end

class C &lt; B
  def boo; self.A.boo(???); puts ""C:Boo""; end
end
</code></pre>

<p>Thus the output would be A:Boo, C:Boo</p>

<p>TIA,</p>

<p>-daniel</p>
","149392","","<p>You can do</p>

<pre><code>class C &lt; B
  def boo
    A.instance_method(:boo).bind(self).call
    puts ""C:Boo""
  end
end
</code></pre>

<p>However if you need this, that's usually an indicator that you should rethink your design. In particular if C needs A's implementation of <code>boo</code>, maybe B should not override it.</p>
"
"<p>This question is about formatting ruby's strings.</p>

<p>In Python, built-in data structures have a built-in to-string method, and so when a variable is printed, the string is conveniently formatted to be reflective of the data structure used. For example:</p>

<pre><code>&gt;&gt;&gt;$ python
Python 2.6.4 (r264:75706, Dec  7 2009, 18:45:15)
[GCC 4.4.1] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
$&gt;&gt;&gt; a = [1,2,3,4]
$&gt;&gt;&gt; str(a)
'[1, 2, 3, 4]'
$&gt;&gt;&gt; print a
[1, 2, 3, 4]
$&gt;&gt;&gt; d = { ""a"":""a"", ""b"":""b"", 1:5 }
$&gt;&gt;&gt; str(d)
""{'a': 'a', 1: 5, 'b': 'b'}""
$&gt;&gt;&gt; print d
{'a': 'a', 1: 5, 'b': 'b'}
$&gt;&gt;&gt; x = [1, 23, 4]
$&gt;&gt;&gt; print x
[1, 23, 4]
</code></pre>

<p>notice that when i print a, the value is <code>[1, 2, 3, 4]</code></p>

<p>However, in ruby, when i try to do the same things, i get this result:</p>

<pre><code>&gt;&gt;&gt;$ irb
irb(main):001:0&gt; x = [1,23,4]
=&gt; [1, 23, 4]
irb(main):002:0&gt; x.to_s
=&gt; ""1234""
irb(main):003:0&gt; puts x
1
23
4 
=&gt; nil
irb(main):004:0&gt; print x
1234=&gt; nil
irb(main):005:0&gt; h = { ""a"" =&gt; ""a"", 1 =&gt; 5, 'b'=&gt;'b' } 
=&gt; {""a""=&gt;""a"", ""b""=&gt;""b"", 1=&gt;5}
irb(main):006:0&gt; print h 
aabb15=&gt; nil
irb(main):007:0&gt; h.to_s
=&gt; ""aabb15""
irb(main):008:0&gt; puts h
aabb15
=&gt; nil
irb(main):009:0&gt;
</code></pre>

<p>As you can see, there is no formatting with the to_s method. Furthermore, there's a uniqueness problem if i call to_s on [1,2,3,4] and [1,23,4] and [1234] because the to_s clumps all elements together so they all end up being ""1234"". I know that i can try to emulate the python built-in to-string methods for every native data structure by overriding the to_s method ( ""["" + a.join("","") + ""]"" #just for arrays), but i was wondering if there is a better alternative since hacking it would seem to break the convention-over-configuration concept.</p>

<p>So is there a ruby equivalent of python's built-in to-string method?</p>
","149392","","<pre><code>[1,23,4].inspect #=&gt; ""[1, 23, 4]""
p [1,23,4] # Same as  puts [1,23,4].inspect
</code></pre>
"
"<p>I have an array of Elements, and each element has a property :image.</p>

<p>I would like an array of :images, so whats the quickest and least expensive way to achieve this. Is it just iteration over the array and push each element into a new array, something like this:</p>

<pre><code>images = []
elements.each {|element| images &lt;&lt; element.image}
</code></pre>
","149392","","<pre><code>elements.map {|element| element.image}
</code></pre>

<p>This should have about the same performance as your version, but is somewhat more succinct and more idiomatic.</p>
"
"<p>If I create a <code>Set</code> in Scala using <code>Set(1, 2, 3)</code> I get an <code>immutable.Set</code>.</p>

<pre><code>scala&gt; val s = Set(1, 2, 3)
s: scala.collection.immutable.Set[Int] = Set(1, 2, 3)
</code></pre>

<p><strong>Q1:</strong> What kind of Set is this actually? Is it some hash-set? What is the complexity of look-ups for instance?</p>

<p><strong>Q2:</strong> Where can I read up on this ""set-creating"" method? I thought that it was the <code>apply</code> method but the docs says ""<em>This method allows sets to be interpreted as predicates. It returns true, iff this set contains element elem.</em>""</p>

<hr>

<p>Similarly, if I create a <code>List</code> using <code>List(1, 2, 3)</code>, I get</p>

<pre><code>scala&gt; val l = List(1, 2, 3)
l: List[Int] = List(1, 2, 3)

scala&gt; l.getClass
res13: java.lang.Class[_] = class scala.$colon$colon
</code></pre>

<p><strong>Q3:</strong> Again, what do I get? In this case I can't even immediately tell if it's mutable or not, since it's not even part of the <code>scala.collection</code>-package. Why does this live in the <code>scala</code> package?</p>

<p><strong>Q4:</strong> Where in the API can I read about this ""list-creating"" method?</p>
","149392","","<p>Q1: In this specific case you get a <code>Set3</code> which is an immutable set of exactly three arguments. Presumably it uses if-else if-else to check inclusion. If you create a set of more than 4 elements, you get an immutable hash set.</p>

<p>Q2: You need to look at the <code>apply</code> method of the object Set, not the class. The <code>apply</code> method of the Set class is what is called when you do <code>someSet(something)</code>.</p>

<p>Q3: <a href=""http://www.scala-lang.org/docu/files/api/scala/%24colon%24colon.html"">scala.::</a> is a non-empty immutable singly linked list (if you do <code>List()</code> without arguments, you get <code>Nil</code> which is an immutable empty list). It lives in the <code>scala</code> package because it is considered so basic that it belongs in the base package.</p>

<p>Q4: See Q2.</p>
"
"<p>I'm wondering why this piece of code doesn't type-check:</p>

<pre><code>{-# LANGUAGE ScopedTypeVariables, Rank2Types, RankNTypes #-}
{-# OPTIONS -fglasgow-exts #-}

module Main where

foo :: [forall a. a]
foo = [1]
</code></pre>

<p>ghc complains:</p>

<pre><code>Could not deduce (Num a) from the context ()
  arising from the literal `1' at exist5.hs:7:7
</code></pre>

<p>Given that:</p>

<pre><code>Prelude&gt; :t 1
1 :: (Num t) =&gt; t
Prelude&gt; 
</code></pre>

<p>it seems that the (Num t) context can't match the () context of arg. The point I can't understand is that since () is more general than (Num t), the latter should and inclusion of the former. Has this anything to do with lack of Haskell support for sub-typing?</p>

<p>Thank you for any comment on this.</p>
","149392","","<p>You're not using existential quantification here. You're using rank N types.</p>

<p>Here <code>[forall a. a]</code> means that every element must have every possible type (not any, every). So <code>[undefined, undefined]</code> would be a valid list of that type and that's basically it.</p>

<p>To expand on that a bit: if a list has type <code>[forall a. a]</code> that means that all the elements have type <code>forall a. a</code>. That means that any function that takes any kind of argument, can take an element of that list as argument. This is no longer true if you put in an element which has a more specific type than <code>forall a. a</code>, so you can't.</p>

<p>To get a list which can contain any type, you need to define your own list type with existential quantification. Like so:</p>

<pre><code>data MyList = Nil | forall a. Cons a MyList
foo :: MyList
foo = Cons 1 Nil
</code></pre>

<p>Of course unless you restrain element types to at least instantiate <code>Show</code>, you can't do anything with a list of that type.</p>
"
"<p>My usual 'x' usage was :</p>

<pre><code>print(""#"" x 78, ""\n"");
</code></pre>

<p>Which concatenates 78 times the string ""#"". But recently I came across this code:</p>

<pre><code>while (&lt;&gt;) { print if m{^a}x }
</code></pre>

<p>Which prints every line of input starting with an 'a'. I understand the regexp matching part (m{^a}), but I really don't see what that 'x' is doing here.</p>

<p>Any explanation would be appreciated.</p>
","149392","","<p>It's a modifier for the regex. The <code>x</code> modifier tells perl to ignore whitespace and comments inside the regex.</p>

<p>In your example code it does not make a difference because there are no whitespace or comments in the regex.</p>
"
"<p>I am fairly new to F# and came up across this scenario and was hoping someone could explain why my compiler doesnt like the code...</p>

<p>If in F# I do the following...</p>

<pre><code>let FloatToInt = 10.0 |&gt; int
let IntToFloat = 10 |&gt; float
</code></pre>

<p>Everything is fine and the number is cast to the relevant data type...</p>

<p>if however I do the following...</p>

<pre><code>let IntToBigInt = 10 |&gt; bigint
</code></pre>

<p>I get a error ""Invalid use of type name or object constructor.""
I assume that this is because there isnt an operator overload for the forward pipe for bigint?</p>

<p>If I wanted to make this code possible, how would I do it? I know I could use different syntax like...</p>

<pre><code>let IntToBigInt = bigint(10)
</code></pre>

<p>But I really like the Forward Pipe syntax and would like to know if I can achieve it so that...</p>

<pre><code>let IntToBigInt = 10 |&gt; bigint
</code></pre>

<p>would work...</p>
","149392","","<p>It has nothing to do with overloads. <code>10.0 |&gt; int</code> works because there is a function named <code>int</code>. There is however no function named <code>bigint</code>, so <code>10 |&gt; bigint</code> does not work.</p>

<p>If you define one, it works:</p>

<pre><code>&gt; let bigint (x:int) = bigint(x);; // looks recursive, but isn't
val bigint : int -&gt; System.Numerics.BigInteger

&gt; 42 |&gt; bigint;;
val it : System.Numerics.BigInteger = 42I
</code></pre>
"
"<p>HI,
I have the following scenario which I will try to explain as best as I can, appologies in advance if this is a silly question.
I have two interfaces ( for the purposes of this example have nothing in them)</p>

<pre><code>public interface interfaceA {}
public interface interfaceB: interfaceA {}
</code></pre>

<p>And 2 classes </p>

<pre><code>public classA&lt;interfaceA&gt; {}
public classB: classA&lt;interfaceB&gt; { }
</code></pre>

<p>Now also elsewhere I have a method which accepts the generic type as a param :</p>

<pre><code>public static void DoSomething( ClassA&lt;interfaceB&gt; p_val ) {}
</code></pre>

<p>Ok then i consume these classes when creating my objects.</p>

<pre><code>ClassB obj1 = new ClassB();
ClassA&lt;interfaceA&gt; obj2 = new ClassA&lt;interfaceA&gt;();
</code></pre>

<p>Ok all fine when I pass obj1 into DoSomething() now but when I try to pass obj2 into my DoSomething() method, i get a compilation error saying it cannot convert from interfaceA to interfaceB. </p>

<p>This kind of make sense since in my method, the generic param type is explicitly interfaceB. However if i want the method to accept both generic types ( obj1 and obj2), what should I do? hopefully this make sense.</p>
","149392","","<p>How about</p>

<pre><code>public static void DoSomething&lt;T&gt;( ClassA&lt;T&gt; p_val)
{}
</code></pre>

<p>This accepts any instance of ClassA no matter what the type argument is. Or if you only want to accept instance of <code>ClassA&lt;T&gt;</code> when <code>T</code> is <code>InterfaceA</code> or a subclass thereof, you can do:</p>

<pre><code>public static void DoSomething&lt;T&gt;( ClassA&lt;T&gt; p_val) where T : InterfaceA
{}
</code></pre>
"
"<p>I want to parse the 2 digits in the middle from a date in <code>dd/mm/yy</code> format but also allowing single digits for day and month.</p>

<p>This is what I came up with:</p>

<pre><code>(?&lt;=^[\d]{1,2}\/)[\d]{1,2}
</code></pre>

<p>I want a 1 or 2 digit number <code>[\d]{1,2}</code> with a 1 or 2 digit number and slash <code>^[\d]{1,2}\/</code> before it.</p>

<p>This doesn't work on many combinations i have tested <code>10/10/10</code>, <code>11/12/13</code>, etc...</p>

<p>But to my surprise <code>(?&lt;=^\d\d\/)[\d]{1,2}</code> worked. </p>

<p>But the <code>[\d]{1,2}</code> should also match if <code>\d\d</code> did, or am I wrong?</p>

<p>Thanks for any help.</p>
","149392","","<p>To quote <a href=""http://www.regular-expressions.info/lookaround.html"" rel=""nofollow"">regular-expressions.info</a>:</p>

<blockquote>
  <p>The bad news is that most regex
  flavors do not allow you to use just
  any regex inside a lookbehind, because
  they cannot apply a regular expression
  backwards. Therefore, the regular
  expression engine needs to be able to
  figure out how many steps to step back
  before checking the lookbehind.</p>
  
  <p>Therefore, many regex flavors,
  including those used by Perl and
  Python, only allow fixed-length
  strings. You can use any regex of
  which the length of the match can be
  predetermined. This means you can use
  literal text and character classes.
  You cannot use repetition or optional
  items. You can use alternation, but
  only if all options in the alternation
  have the same length.</p>
</blockquote>

<p>In other words your regex does not work because you're using a variable-width expression inside a lookbehind and your regex engine does not support that.</p>
"
"<p>I have been learning about various functional languages for some time now including Haskell, Scala and Clojure. Haskell has a very strict and well-defined static type system. Scala is also statically typed. Clojure on the other hand, is dynamically typed.</p>

<p>So my questions are</p>

<ol>
<li>What role does the type system play in a functional language? </li>
<li>Is it necessary for a language to have a type system for it to be functional?</li>
<li>How is the ""functional"" level of a language related to the kind of the type system of the language?</li>
</ol>
","149392","","<ol>
<li>Same as in any programming language: it helps you to avoid/find errors in your code. In case of static typing a good type system prevents programs with certain types of errors from compiling.</li>
<li>No. The <a href=""http://en.wikipedia.org/wiki/Lambda_calculus"" rel=""nofollow"">untyped lambda calculus</a> is what you could call the prototype of functional programming languages and it is, as the name suggests, entirely untyped.</li>
<li><p>In a functional language (as well as any other language where a function can be used as a value) the type system needs to know what the type of a function is. Other than that there is nothing special about type systems for functional languages.</p>

<p>In a purely functional language you need to abstract side-effects, so you'd want the type system to somehow be able to support that. For example if you want to have a world type like in Clean, you'd want the type system to support uniqueness types to ensure proper usage.</p>

<p>If you want to have an IO monad like in haskell, you'd need an IO type (though a monad typeclass like in haskell is not required to have an IO monad, so you don't need a type system, which supports that).</p></li>
</ol>
"
"<p>I was wondering, what is there any different, on various ways to initialize static final variable?</p>

<pre><code>private static final int i = 100;
</code></pre>

<p>or</p>

<pre><code>private static final int i;
static {
    i = 100;
}
</code></pre>

<p>Is there any different among the two?</p>
","149392","","<p>If you're only setting variables, both forms are equivalent (and you should use the former as it is more readable and succinct).</p>

<p>The <code>static {}</code> form exists for cases where you also need to execute statements other than variable assignments. (Somewhat contrived) example:</p>

<pre><code>private static final int i;
static {
    establishDatabaseConnection();
    i = readIntFromDatabase;
    closeDatabaseConnection();
}
</code></pre>
"
"<p>in Python, we can e.g.</p>

<pre><code>""[foo ]"".strip("" []"") # -&gt; ""foo""
</code></pre>

<p>how do we do this in Ruby? string <code>strip</code> method is stripping only whitespace ..</p>

<p><strong>UPDATE</strong></p>

<p>stripping is not deleting!  <strong>: )</strong></p>

<pre><code>""[ foo boo  ]"".strip("" []"") # -&gt; ""foo boo""
</code></pre>
","149392","","<p>There is no such method in ruby, but you can easily define it like:</p>

<pre><code>def my_strip(string, chars)
  chars = Regexp.escape(chars)
  string.gsub(/\A[#{chars}]+|[#{chars}]+\Z/, """")
end

my_strip "" [la[]la] "", "" []""
#=&gt; ""la[]la""
</code></pre>
"
"<p>Is there any way to do something like this?</p>

<pre><code>a = Struct.new(:c).new(1)
b = Struct.new(:c).new(2)

a.send(:c)
=&gt; 1

b.send(:c)
=&gt; 2

a.send(:c) = b.send(:c)
</code></pre>

<p>The last line result in error:</p>

<pre><code>syntax error, unexpected '=', expecting $end
a.send(:c) = b.send(:c)
            ^
</code></pre>
","149392","","<pre><code>a.send(:c=, b.send(:c))
</code></pre>

<p><code>foo.bar = baz</code> isn't a call to the method <code>bar</code> followed by an assignment - it's a call to the method <code>bar=</code>. So you need to tell <code>send</code> to call that method.</p>
"
"<p>I'm using some ruby code wrapped in a begin - rescue block but somehow it manages to still crash. </p>

<p>the block of code looks like this:</p>

<pre><code># Retrieve messages from server
def get_messages
  @connection.select('INBOX')
  @connection.uid_search(['ALL']).each do |uid|
    msg = @connection.uid_fetch(uid,'RFC822').first.attr['RFC822']
    begin
      process_message(msg)
      add_to_processed_folder(uid) if @processed_folder
    rescue
       handle_bogus_message(msg)
    end
    # Mark message as deleted 
    @connection.uid_store(uid, ""+FLAGS"", [:Seen, :Deleted])
  end
end
</code></pre>

<p>Given this code i would assume that if <strong>process_message</strong> or <strong>add_to_processed_folder</strong> could not execute then rescue would kick in and call <strong>handle_bogus_message</strong>. That being said I'm running this code in a production environment and  sometimes when i ""get"" an email message (this is run from a rake task) it dies with a <strong>SyntaxError</strong>. </p>

<p>For a look at the error message check out <a href=""http://pastie.org/1028479"">http://pastie.org/1028479</a>  and not that <strong>process_message</strong> that it is referring to is the same <strong>process_message</strong> above. Is there any reason why <strong>begin</strong> - <strong>rescue</strong> won't catch this exception? </p>
","149392","","<p><code>rescue</code> without a parameter just rescues exceptions that inherit from <code>StandardError</code>. To rescue a <code>SyntaxError</code> use <code>rescue SyntaxError</code>.</p>

<p>To rescue all exceptions you would use <code>rescue Exception</code>, but note that that's a bad idea (which is why it's not the default behavior of <code>rescue</code>) as explained <a href=""http://www.mikeperham.com/2012/03/03/the-perils-of-rescue-exception/"" rel=""nofollow"">here</a> and <a href=""http://stackoverflow.com/questions/10048173/why-is-it-bad-style-to-rescue-exception-e-in-ruby"">here</a>. Especially this part:</p>

<blockquote>
  <p>Rescuing Interrupt prevents the user from using CTRLC to exit the program.</p>
  
  <p>Rescuing SignalException prevents the program from responding correctly to signals. It will be unkillable except by kill -9.</p>
</blockquote>
"
"<p>Here are my attempts so far:</p>

<pre><code>module Main where

data FooT = One | Two deriving (Show, Read)
{-
That is what I want
foo :: (Show a, Read a) =&gt; a
foo = One
-}

--class Footable (Show a, Read a) =&gt; a where
class Footable a where
  --foo2 :: (Show a, Read a) =&gt; a
  foo2 :: a

instance Footable FooT where
  foo2 = One

-- test = print foo2
</code></pre>

<p>I want test to compile. I don't think the problem revolves around universal quantification. ghc says that a is a 'strict type-variable' <strong>edit</strong> (<em>rigid</em> type variable) but I don't really comprehend what this is. The question seems to be related to <a href=""http://stackoverflow.com/questions/3149975?tab=votes#tab-top"">this</a> </p>

<p><strong>Edit</strong></p>

<p>As I wrote in my comment @sepp2k it's probably about the existential type but I have stumbled over a curious behaviour:</p>

<p>This <em>does</em> compile:</p>

<pre><code>{-# LANGUAGE OverlappingInstances, FlexibleInstances, OverlappingInstances,
UndecidableInstances, MonomorphismRestriction, PolymorphicComponents #-}
{-# OPTIONS_GHC -fno-monomorphism-restriction #-}

module Main where

    class (Num a) =&gt; Numable a where
      foo2 :: a

    instance (Num a) =&gt; Numable a where
      foo2 = 1

    instance Numable Int where
      foo2 = 2

    instance Numable Integer where
      foo2 = 3

    --test = foo2 + foo2 -- This does NOT compile (ambiguous a) 
    test = (foo2::Integer) + foo2 --this works
</code></pre>

<p>but this does not (`a' is a rigid type variable message)</p>

<pre><code>{-# LANGUAGE OverlappingInstances, FlexibleInstances, OverlappingInstances,
UndecidableInstances, MonomorphismRestriction, PolymorphicComponents #-}
{-# OPTIONS_GHC -fno-monomorphism-restriction #-}

module Main where

    data FooT = One | Two deriving (Show, Read)
    data BarT = Ten deriving (Show, Read)

    class (Show a, Read a) =&gt; Footable a where
      foo2 :: a

    instance (Show a, Read a) =&gt; Footable a where
      foo2 = Ten

    instance Footable FooT where
      foo2 = One

    main = print foo2
</code></pre>

<p>that's so because 1 :: (Num t) => t. Can I define something (typeconstructor, consts dunno) like that?</p>
","149392","","<p>When I uncomment the definition of <code>test</code> and try to compile your code, I get ""ambiguous type variable"". Nothing about strictness. To understand why this is ambiguous consider this:</p>

<pre><code>module Main where

data FooT = One | Two deriving (Show, Read)
data BarT = Three | Four deriving Show

class Footable a where
  foo2 :: a

instance Footable FooT where
  foo2 = One

instance Footable BarT where
  foo2 = Three

main = print foo2  -- Should this print One or Three?
</code></pre>

<p>Of course in your code there is only one instance of Footable, so haskell could in theory infer that you want to use the <code>foo2</code> defined for <code>FooT</code> because that's the only instance in scope. However if it did that, the code would break as soon as you import a module that happens to define another instance of Footable, so haskell doesn't do that.</p>

<p>To fix your problem you need to annotate foo2 with its type like so:</p>

<pre><code>module Main where

data FooT = One | Two deriving (Show, Read)

class Footable a where
  foo2 :: a

instance Footable FooT where
  foo2 = One

main = print (foo2 :: FooT)
</code></pre>

<p>To require that all Footables be instances of Show and Read simply do:</p>

<pre><code>class (Show a, Read a) =&gt; Footable a where
  foo2 :: a
</code></pre>

<p>Like you did in your comments, but without specifying the constraint again in the signature of foo2.</p>
"
"<p>I wanted to install ruby 1.9.1 instead of the older version so I ran this command on Ubuntu:</p>

<pre><code>sudo apt-get install ruby1.9.1-full
</code></pre>

<p>After the install was complete, I got the following error(s):</p>

<p><em>WARNING:  Installing to ~/.gem since /var/lib/gems/1.9.1 and 
      /var/lib/gems/1.9.1/bin aren't both writable. 
WARNING:  You don't have /home/brooks/.gem/ruby/1.9.1/bin in your PATH, 
      gem executables will not run.</em> </p>

<p>When I run ""ruby -v"" (without the quotes) I get the following response:  </p>

<pre><code>bash: /usr/bin/ruby: No such file or directory
</code></pre>

<p>So my questions are: 1) Why is it so difficult to install ruby, 2) How can I resolve this problem?</p>

<p>Thank you for your help!</p>

<p>Br</p>
","149392","","<blockquote>
  <p>After the install was complete, I got the following error(s):</p>
</blockquote>

<p>Those aren't errors. They're warnings issued by rubygems. If you want to avoid them run rubygems with <code>sudo</code> or add add <code>/home/brooks/.gem/ruby/1.9.1/bin</code> to your PATH variable. Or if you don't care that you can't run executables installed by gems without specifying the whole path, just ignore them.</p>

<blockquote>
  <p>When I run ""ruby -v"" (without the quotes) I get the following response:</p>
  
  <p>bash: /usr/bin/ruby: No such file or directory</p>
</blockquote>

<p>Try <code>ruby1.9.1 -v</code></p>
"
"<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
    //char s[6] = {'h','e','l','l','o','\0'};
    char *s = ""hello"";       
    int i=0,m;
    char temp;

    int n = strlen(s);
    //s[n] = '\0';
    while (i&lt;(n/2))
    {
         temp = *(s+i);       //uses the null character as the temporary storage.
         *(s+i) = *(s+n-i-1);
         *(s+n-i-1) = temp;
         i++;
    }
    printf(""rev string = %s\n"",s);
    system(""PAUSE"");
    return 0;
}
</code></pre>

<p>On the compilation the error is segmentation fault (access violation). Please tell what is the difference between the two definitions:</p>

<pre><code>char s[6] = {'h','e','l','l','o','\0'};
char *s = ""hello""; 
</code></pre>
","149392","","<p>If you do <code>char s[6] = {'h','e','l','l','o','\0'};</code> you put 6 <code>char</code>s into an array on the stack. When you do <code>char *s = ""hello"";</code> there's only a pointer on the stack and the memory that it points to may be read only. Writing to that memory causes undefined behavior.</p>
"
"<p>How do I sort this:</p>

<pre><code>arr = [""aaa"",""aa"",""aaaa"",""a"",""aaaaa""];
</code></pre>

<p>Into this?</p>

<pre><code>arr = [""a"",""aa"",""aaa"",""aaaa"",""aaaaa""];
</code></pre>
","149392","","<pre><code>arr = arr.sort_by {|x| x.length}
</code></pre>

<p>Or in 1.8.7+:</p>

<pre><code>arr = arr.sort_by(&amp;:length)
</code></pre>
"
"<pre><code>int aux;

        for(int i=0;i&lt;array.Count()-1;i++)
        {
            for(int j=i+1;j&lt;array.Count();j++)
            {
                if(array[i] &gt; array[j])
                {
                    aux = array[j];
                    array[j] = array[i];
                    array[i] = aux;
                }
            }
        }
</code></pre>
","149392","","<p>This is almost selection sort, except that you don't swap the minimum remaining element with the current element, but you swap every remaining element that's smaller than the current with the current element until the current element is the minimum.</p>
"
"<p>Below is my code which takes a car element of a list<code>(carVal)</code> and an list(initialized to empty) as parameters. I want to append the element to the list but the same is not working.</p>

<pre><code>(define populateValues
   (lambda (carVal currVal)
      (append currVal(list carVal ))
       (display currVal)))
</code></pre>

<p>The display shows empty list all the time <code>()</code> . Can anyone help me understand why?</p>
","149392","","<p><code>(append foo bar)</code> <em>returns</em> the concatenation of <code>foo</code> and <code>bar</code>. It doesn't change either <code>foo</code> or <code>bar</code>.</p>
"
"<p>I'm trying to replace the <code>~</code> into <code>|</code> between the <code>[</code> <code>]</code> in the folowwing case:</p>

<pre><code>{stackoverflow is a [cool~great~fast] website ~ Find your answers [easily~quickly] on stackoverflow}.
</code></pre>

<p>Note: The text between the <code>[</code> <code>]</code> can be multiline.</p>

<p>I've tried multiple regexs buth with no luck.</p>

<p>My closest call at the moment is:</p>

<pre><code>$text = preg_replace(""/\[(.*?)~(.*?)\]/i"", ""[$1|$2]"", $text);
</code></pre>

<p>But that returns </p>

<pre><code>{stackoverflow is a [cool~great|fast] website ~ Find your answers [easily|quickly] on stackoverflow}.
</code></pre>
","149392","","<p>You need to use one regex to find all strings in brackets and then another to replace the <code>~</code>s in them. You can use <code>preg_replace_callback</code> to apply the <code>~</code>-replacing regex to all the substrings in brackets like this:</p>

<pre><code>preg_replace_callback('/\[[^\]]+\]/', function ($str) {
    return str_replace('~', '|', $str[0]);
}, $my_string)
</code></pre>
"
"<p>How do you write a function that can either return a value or another function?</p>

<p>For example:</p>



<pre class=""lang-none prettyprint-override""><code>Function Foo (x)
    If X = 0 Return ""Done"" 
    Else Return a Function that calls Foo(x-1)
</code></pre>
","149392","","<p>In haskell the return type of a function can only depend on the type of its arguments and, in case of functions with polymorphic return types, how the return value is used. In particular the return type of the function can not depend on the value of the argument.</p>

<p>In other words: you can't do what you want directly. In cases where you want to return one of two types, you can usually the type <code>Either a b</code> which is defined as <code>data Either a b = Left a | Right b</code>, which allows you to return a value of type <code>a</code> wrapped in a <code>Left</code> or a value of type <code>b</code> wrapped in a <code>Right</code>. You could then use pattern matching to retrieve the value in a type safe manner.</p>

<p>However since in this case the type for <code>b</code> would have to be infinite this does not work and you have to define your own wrapper type for this. Like so:</p>

<pre><code>data MyResult = Str String | Fun ( () -&gt; MyResult)
foo 0 = Str ""done""
foo x = Fun (\ () -&gt; foo (x-1))
</code></pre>

<p><code>foo</code> now has type <code>Num a =&gt; a -&gt; MyResult</code>. However every time you call <code>foo</code> you have to pattern match to see whether you got back a Str with a string inside or a Fun with a function inside.</p>

<p>Also note that if you want to return a function rather than a value in order to delay execution, this doesn't make sense in haskell because it is lazy and things generally don't get evaluated before they are used.</p>
"
"<p>I have an arraylist of String[]:</p>

<blockquote>
  <p><em>ArrayList&lt; String [] > mystuff = new ArrayList &lt; String [] > ();</em></p>
</blockquote>

<p>I want to sort them in largest-array-size ascending order. Example:</p>

<blockquote>
  <p>mystuff = {[""this"", ""is"", ""item"",
  ""one""], [""this"", ""is"", ""item"", ""two""],
  [""item""], [""item"", ""three""]}</p>
</blockquote>

<p>Should become:</p>

<blockquote>
  <p>mystuff = {[""item""], [""item"",
  ""three""], [""this"", ""is"", ""item"",
  ""one""], [""this"", ""is"", ""item"", ""two""]}</p>
</blockquote>

<p>For arrays of equal length, the order doesn't matter.</p>

<p><strong>Edit:</strong></p>

<blockquote>
  <p>Java compiler version: javac 1.6.0_20</p>
  
  <p>Error that I am facing by using
  @sepp2k's code:
  <a href=""http://pastie.org/private/ienpdtj0ft6czw6nboeva"" rel=""nofollow"">http://pastie.org/private/ienpdtj0ft6czw6nboeva</a></p>
</blockquote>
","149392","","<p>Use <code>Collections.sort</code> with a <code>Comparator</code> that compares the length.</p>

<pre><code>Collections.sort(mystuff, new Comparator&lt;String[]&gt;() {
    public int compare(String[] x, String[] y) {
        if(x.length &lt; y.length) {
            return -1;
        } else if(x.length == y.length) {
            return 0;
        } else {
            return 1;
        }
    }
});
</code></pre>

<p>Edit: Here's a complete class that compiles and runs without error (and shows the correct result):</p>

<pre><code>import java.util.*;

public class Bla {                         
    public static void main(String[] args) {
        // Create list
        List&lt;String[]&gt; mystuff = new ArrayList&lt;String[]&gt;();
        mystuff.add(new String[] {""lilu"", ""lolo""});
        mystuff.add(new String[] {""lala""});
        mystuff.add(new String[] {""lila"", ""blabla"", ""pfirsichkuchen""});

        // Sort list
        Collections.sort(mystuff, new Comparator&lt;String[]&gt;() {
            public int compare(String[] x, String[] y) {
                if(x.length &lt; y.length) {
                    return -1;
                } else if(x.length == y.length) {
                    return 0;
                } else {
                    return 1;
                }
            }
        });

        // Output list
        for(String[] strs : mystuff) {
            System.out.println(Arrays.toString(strs));
        }
    }   
}
</code></pre>
"
"<p>I can't find any useful resources online that breaks down Ruby's different flow-control options.</p>

<p>Let's assume that I'm iterating over an array within in a method:</p>

<pre><code>def a_method
   things.each do |t|
      # control options?
   end
end
</code></pre>

<p>What are my different flow-control options here?  How do they differ?</p>

<ol>
<li>retry</li>
<li>return</li>
<li>break</li>
<li>next</li>
<li>redo </li>
</ol>
","149392","","<p><code>retry</code> can be used inside a rescue block, to jump back into the begin block after the condition that caused the exception has been remedied. Inside a block it has the effect of jumping to the beginning of the yielding method. So inside each this means that retry will jump to the beginning of the loop.</p>

<p><code>return</code> will return from the method it's inside of - in this case from <code>a_method</code>.</p>

<p><code>break</code> will return from the yielding method - in this case from <code>each</code> (which would be different from returning from <code>a_method</code> if something happened between the end of the each-block and the end of <code>a_method</code>).</p>

<p><code>next</code> will return from the block and thus jump to the next item in <code>things</code>.</p>

<p><code>redo</code> will jump to the beginning of the block and thus repeat the current iteration.</p>
"
"<p>How can I force a template parameter <code>T</code> to be a subclass of a specific class <code>Baseclass</code>?
Something like this:</p>

<pre><code>template &lt;class T : Baseclass&gt; void function(){
    T *object = new T();

}
</code></pre>
","149392","","<p>In this case you can do:</p>

<pre><code>template &lt;class T&gt; void function(){
    Baseclass *object = new T();

}
</code></pre>

<p>This will not compile if T is not a subclass of Baseclass (or T <em>is</em> Baseclass).</p>
"
"<p>Im trying to define an array of arrays as a Constant in one of my classes, the code looks like this:</p>

<pre><code>Constant =  [[1,2,3,4],
            [5,6,7,8]]
</code></pre>

<p>When I load up the class in irb I get:</p>

<pre><code>NoMethodError: undefined method `[]' for nil:NilClass
</code></pre>

<p>I tried using %w and all that did was turn each one into a string so i got ""[1,2,3,4]"" instead of [1,2,3,4]</p>

<p>how do I define an array of arrays as a constant?</p>

<p>Im using ruby 1.8.7.</p>

<p>When I define the constant in IRB its fine, but when I load up the class with it in i get an error.</p>

<pre><code>require 'file_with_class.rb'
    NoMethodError: undefined method `[]' for nil:NilClass
    from ./trainbbcode/tags.rb:2
    from /usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    from /usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
    from (irb):1
</code></pre>

<p>That file looks like this:</p>

<pre><code>class TBBC
    Tags =  [[/\[b\](.*?)\[\/b\]/,'&lt;strong&gt;\1&lt;/strong&gt;',@config[:strong_enabled]],
    ...
    [/\[th\](.*?)\[\/th\]/,'&lt;th&gt;\1&lt;/th&gt;',@config[:table_enabled]]]
</code></pre>
","149392","","<p>The code you showed works just fine. You're definitely not getting that error message for that particular line. The error is caused elsewhere.</p>

<p>And yes, <code>%w</code> creates an array of strings. To create normal arrays use <code>[]</code> like you did.</p>

<p>Edit now that you've shown the real code:</p>

<p><code>@config</code> is <code>nil</code> in the scope where you use it, so you get an exception when you do <code>@config[:strong_enabled]</code>.</p>

<p>Note that inside of a class definition but outside of any method definition <code>@foo</code> refers to the instance variable of the class object, not that of any particular instance (because which one would it refer to? There aren't even any instances yet, when the constant is initialized).</p>
"
"<p>Doing this:</p>

<pre><code>fun test a 0.0 = ""good""
  | test a b = ""bad"";
</code></pre>

<p>results in an error, but if I change the 0.0 the error goes away. However, I need to match 0.0 and I'm wondering if and how that can be accomplished.</p>
","149392","","<p>You can just use an if-statement instead of pattern-matching.</p>

<p>Note that floating point arithmetic is prone to rounding errors, so you should check that the absolute value of b is smaller than some delta rather than that it's equal to 0.0. I assume that's exactly why pattern matching reals is not allowed.</p>
"
"<p>I've written a gem that looks in config/ for a config file, this bit works fine and its not throwing any problems but if the user changes any config they have to stop the program and start it again before my gem loads the new config, which would require them to restart a rails app every change, which isnt ideal.</p>

<p>is there a way to ""re-require"" a file so that every run it loads it up fresh instead of using the cached version </p>
","149392","","<p>You can use <code>load</code> instead of <code>require</code>. This will load the file regardless of whether it was already loaded before. Note that with <code>load</code> you need to specify the <code>.rb</code> extension which is optional with <code>require</code>. So <code>require ""path/to/myconfig""</code> becomes <code>load ""path/to/myconfig.rb""</code>.</p>

<p>Note that this will not undefine anything defined by the previous config. So if the config is changed from <code>$verbose = true; $debug = true</code> to <code>$verbose = false</code> then <code>$verbose</code> will be false but <code>$debug</code> will still be true after reloading the config.</p>

<p>Of course you'll need to put the <code>load</code> statement somewhere where it will be executed every time the config file should be reloaded (i.e. inside some method or hook).</p>
"
"<p>In my controller I'm calling @hour.shopper.add_product within a for loop.</p>

<p>My model looks like:</p>

<pre><code>class Shopper &lt; ActiveRecord::Base

  attr_accessor :quantity

  def add_product
     if self.quantity.nil? || \
        self.quantity == 0
      self.quantity = 1 
    else 
      self.quantity += 1
    end 
    self.save
  end 

end
</code></pre>

<p>When I print @hour.shopper.quantity it always says 'nil'.  It seems like it's not saving the quantity attribute in the @hour.shopper object.</p>

<p>Thanks in advance!</p>
","149392","","<p>Well, yes, instance variables aren't saved to the database (how could they be? There's no column for them).</p>

<p>Since the title of the question is ""Virtual attributes"", I'm going to assume that you don't have a quantity column in your database table (if you do, just remove the <code>attr_accessor</code> bit), however you still need to store the quantity somewhere if you want it to persist.</p>

<p>Usually virtual attributes are used when some attribute is not stored directly in the DB, but can be converted from and to an attribute that is. In this case it doesn't look like that is the case, so I can only recommend that you add a quantity column to your database table.</p>
"
"<p>I'm quite new to Scala programming language, and was trying something out stucked in my mind while I was following the lecture notes at <a href=""http://horstmann.com/sjsu/cs152/04-closures1.html"">here</a>.</p>

<p>I think I couldn't really understand how cons operator works, here are some things I tried:</p>

<p>I've created a pseudo-random number generator, then tried to create a list of one random value:</p>

<pre><code>scala&gt; val gen = new java.util.Random
gen: java.util.Random = java.util.Random@1b27332

scala&gt; gen nextInt 3 :: Nil
&lt;console&gt;:7: error: type mismatch;
 found   : List[Int]
 required: Int
       gen nextInt 3 :: Nil
                     ^
</code></pre>

<p>But it tried to pass List(3) to nextnt method. When i used paratheses, there was no problem</p>

<pre><code>scala&gt; (gen nextInt 3) :: Nil
res69: List[Int] = List(1)
</code></pre>

<p>I was curious about the execution order, so i created a function to check it</p>

<pre><code>scala&gt; def pr(i:Int):Int = { println(i); i }
pr: (i: Int)Int

scala&gt; pr(1) :: pr(2) :: pr(3) :: Nil
1
2
3
res71: List[Int] = List(1, 2, 3)
</code></pre>

<p>As seen in outputs, execution order is the same as the order of appearance. Then I thought it might be about the 'nextInt' function, then I tried following:</p>

<pre><code>scala&gt; 1 + 2 :: Nil
res72: List[Int] = List(3)
</code></pre>

<p>It first executed additionaddition, and after that cons is executed. So here is the question: What is the difference between <code>gen nextInt 3 :: Nil</code> and <code>1 + 2 :: Nil</code>?</p>
","149392","","<p>It's about precedence not execution order. <code>+</code> has higher precedence than <code>::</code>, so <code>a + b :: c</code> parses as <code>(a + b) :: c</code>. However infix method calls with regular names have lower precedence, so <code>a foo b c</code> parses as <code>a foo (b c)</code>.</p>

<p>See <a href=""http://stackoverflow.com/questions/2922347/operator-precedence-in-scala"">this question</a> for a list of operators ordered by their precedence in scala.</p>
"
"<p>I read <a href=""http://javadude.com/articles/passbyvalue.htm"" rel=""nofollow"">this excellent article</a> and it make sense: Java is strictly pass by value; when an object is a parameter, the <em>object's reference is passed by value</em>.  </p>

<p>However, I'm totally confused as to why the following snippet could possibly work.
<code>Foo</code> has a String member variable <code>a</code> which is immutable and needs to be burned in every time.
The first method of burning (commented out) should work fine and it does.
The second method set's <code>a</code>'s reference to the value that was passed.  It should not work if <code>newstr</code> is a temporary variable.  The expected output results are:</p>

<pre><code>Totally temp
NULL
</code></pre>

<p>However, I get </p>

<pre><code>Totally temp
Totally temp
</code></pre>

<p>Why?  Is it just pure luck that the temporary variable reference is still good?</p>

<pre><code>public class Foo {
    String a;
    public Foo(){}
    public void burna(String newstr){
           // a = new String(newstr);
           a = newstr; /*this should not work: */ 
        }
}

public class foobar {
    Foo m_foo;
    public foobar(){};
    public void dofoo(){
        String temp = new String(""Totally temp\n"");
        m_foo.burna(temp);
        System.out.print(m_foo.a);
    }

}

 public static void main(String[] args) {
        Foo myfoo = new Foo();
        foobar myfoobar = new foobar();

        myfoobar.m_foo = myfoo;
        myfoobar.dofoo();
        System.out.print(myfoo.a);

    }
</code></pre>
","149392","","<p>There are two references to the string ""Totally temp\n"". One is <code>temp</code> the other is <code>a</code> in the <code>Foo</code> object. At the end of <code>dofoo</code> <code>temp</code> goes out of scope, so that's one reference less. However you still have the other reference, so the string is not garbage collected.</p>
"
"<pre><code>def mainCaller() = { 
  val name = ""xyz""
  someList.foreach { u:Map =&gt; foo(name, u) }
}

def foo(name:String)(map:Map): Unit = {
  //match case....
  //recursive call to foo in each case where name remains same, but map changes
}
</code></pre>

<p>how can I write foo as a partially applied function, where I dont have to pass name in every recursive call and just call <code>foo(map1)</code>?</p>
","149392","","<p>Two options:</p>

<pre><code>def foo(name:String)(map:Map): Unit = {
    val bar = foo(name)_
    //match case...
    // case 1:
    bar(x)

    // case 2:
    bar(y)
}
</code></pre>

<p>Or:</p>

<pre><code>def foo(name:String): Map =&gt; Unit = {
    def bar(map: Map): Unit = {
        //match case...
        // case 1:
        bar(x)

        // case 2:
        bar(y)
    }
    bar
}
</code></pre>
"
"<p>Here is my snippet:</p>

<pre><code>#!/bin/sh

for fname in *
do
      if [! -d ""$fname""]
      then
          WHAT CAN I DO
      fi
done
</code></pre>

<p>All new named files has to have this format O.fname - as you see preceeded by O.
Can you please help? I know i have to use mv somewhere.</p>
","149392","","<p>Files are renamed using mv, so just do</p>

<pre><code>mv ""$fname"" ""O.$fname""
</code></pre>

<p>in the loop.</p>
"
"<p>Why can't I match the string</p>

<pre><code>""1234567-1234567890""
</code></pre>

<p>with the given regular expression</p>

<pre><code>\d{7}-\d{10}
</code></pre>

<p>with <code>egrep</code> from the shell like this:</p>

<pre><code>egrep \d{7}-\d{10} file
</code></pre>

<p>?</p>
","149392","","<p>Use [0-9] instead of \d. egrep doesn't know \d.</p>
"
"<p>I have this case class define:</p>

<pre><code>class Protocol(protocol:String) 

object Protocol {
    def apply(protocol:String) :Protocol = {
      protocol.toUpperCase match {
        case ""HTTP"" =&gt; Http()
        case ""HTTPS"" =&gt; Https()
        case ""Ftp"" =&gt; Ftp()
        case ""Mail"" =&gt;Mail()
        case other =&gt; new Protocol(other)
    }
}
}

case class Http() extends Protocol(""HTTP"") {}
</code></pre>

<p>Which I then use in this case class:</p>

<pre><code>case class Url(protocol: Protocol,
  username: Option[String],
  password: Option[String],
  domainName: DomainName,
  port: Option[Int], 
  path: Option[List[String]], 
  parameters: Option[List[Parameter]]) {
</code></pre>

<p>And then try to use here:</p>

<pre><code>""An url class"" should {
    ""represent http://localhost"" in {
        val url = Url(Http, None, None, localhost, None, None, None)
            url.toString must beEqualTo(""http://localhost"")
    }
</code></pre>

<p>For which I get the following baffling compiler error:</p>

<pre><code>[error] C:\Users\Jim.Barrows\Desktop\workspaces\utils\src\test\scala\UrlSpec.scala:16: type mismatch;
[error]  found   : bizondemand.utils.models.internet.Http.type (with underlying type object bizondemand.utils.models.internet.Http)
[error]  required: bizondemand.utils.models.internet.Protocol
[error]                         val url = Url(Http, None, None, localhost, None, None, None)
</code></pre>

<p>What am I doing wrong?</p>
","149392","","<p>The error is here:</p>

<pre><code>Url(Http, None, None, localhost, None, None, None)
    ^^^^
</code></pre>

<p>Since you defined <code>Http</code> as a class, not an object, you need to do <code>Http()</code> to create an instance. Or even better: define <code>Http</code> as a case object in the first place.</p>

<p>It is generally preferred to use case object rather than case classes without arguments.</p>
"
"<p>how can I make a Lisp program that checks if a character, string or number is in a list?</p>

<p><code>(list-contains '(1 a 2 d 2 5) 'a) =&gt; T</code></p>

<p><code>(list-contains '(1 a 2 d 2 5) 'x) =&gt; NIL</code></p>
","149392","","<p>You can use <code>(find x the-list)</code> which returns x if x is in the list or NIL if it is not.</p>

<pre><code>(find 'a '(1 a 2 d 2 5)) ; A
(find 'x '(1 a 2 d 2 5)) ; NIL
</code></pre>
"
"<p>I have a Map[String, String] and want to concatenate the values to a single string.</p>

<p>I can see how to do this using a List...</p>

<pre><code>scala&gt; val l = List(""te"", ""st"", ""ing"", ""123"")
l: List[java.lang.String] = List(te, st, ing, 123)

scala&gt; l.reduceLeft[String](_+_)
res8: String = testing123
</code></pre>

<p>fold* or reduce* seem to be the right approach I just can't get the syntax right for a Map.</p>
","149392","","<p>Folds on a map work the same way they would on a list of pairs. You can't use reduce because then the result type would have to be the same as the element type (i.e. a pair), but you want a string. So you use <code>foldLeft</code> with the empty string as the neutral element. You also can't just use <code>_+_</code> because then you'd try to add a pair to a string. You have to instead use a function that adds the accumulated string, the first value of the pair and the second value of the pair. So you get this:</p>

<pre><code>scala&gt; val m = Map(""la"" -&gt; ""la"", ""foo"" -&gt; ""bar"")                 
m: scala.collection.immutable.Map[java.lang.String,java.lang.String] = Map(la -&gt; la, foo -&gt; bar)

scala&gt; m.foldLeft("""")( (acc, kv) =&gt; acc + kv._1 + kv._2)
res14: java.lang.String = lalafoobar
</code></pre>

<p>Explanation of the first argument to fold:</p>

<p>As you know the function <code>(acc, kv) =&gt; acc + kv._1 + kv._2</code> gets two arguments: the second is the key-value pair currently being processed. The first is the result accumulated so far. However what is the value of <code>acc</code> when the first pair is processed (and no result has been accumulated yet)? When you use <code>reduce</code> the first value of <code>acc</code> will be the first pair in the list (and the first value of kv will be the second pair in the list). However this does not work if you want the type of the result to be different than the element types. So instead of reduce we use fold where we pass the first value of <code>acc</code> as the first argument to <code>foldLeft</code>.</p>

<p>In short: the first argument to <code>foldLeft</code> says what the starting value of <code>acc</code> should be.</p>

<p>As Tom pointed out, you should keep in mind that maps don't necessarily maintain insertion order (Map2 and co. do, but hashmaps do not), so the string may list the elements in a different order than the one in which you inserted them.</p>
"
"<p>Suppose I have some code like this:</p>

<pre><code>List.map (fun e -&gt; if (e &lt;&gt; 1) then e + 1 else (*add nothing to the list*))
</code></pre>

<p>Is there a way to do this?  If so, how?</p>

<p>I want to both manipulate the item if it matches some criteria and ignore it if it does not.  Thus List.filter wouldn't seem to be the solution.</p>
","149392","","<p>SML has a function mapPartial which does exactly this. Sadly this function does not exist in OCaml. However you can easily define it yourself like this:</p>

<pre><code>let map_partial f xs =
  let prepend_option x xs = match x with
  | None -&gt; xs
  | Some x -&gt; x :: xs in
  List.rev (List.fold_left (fun acc x -&gt; prepend_option (f x) acc) [] xs)
</code></pre>

<p>Usage:</p>

<pre><code>map_partial (fun x -&gt; if x &lt;&gt; 1 then Some (x+1) else None) [0;1;2;3]
</code></pre>

<p>will return <code>[1;3;4]</code>.</p>

<p>Or you can use <a href=""http://ocaml-extlib.googlecode.com/svn/doc/apiref/ExtList.List.html#VALfilter_map""><code>filter_map</code> from extlib</a> as ygrek pointed out.</p>
"
"<p>I've recently moved from C# to Ruby, and I find myself missing the ability to make collapsible, labelled regions of code.  It just occurred to me that it ought to be OK to do this sort of thing:</p>

<pre><code>class Example
  begin # a group of methods

    def method1
      ..
    end

    def method2
      ..
    end

  end

  def method3
    ..
  end
end
</code></pre>

<p>...but is it actually OK to do that?  Do method1 and method2 end up being the same kind of thing as method3?  Or is there some Ruby idiom for doing this that I haven't seen yet?</p>
","149392","","<p>Yes, it is okay to do that (i.e. it doesn't change the semantics of your code).</p>

<p>However this isn't a common pattern and it might be confusing to readers of your code who wouldn't understand what the purpose of the <code>begin ... end</code> block is.</p>
"
"<p>I'm doing some simple stuff, so hopefully this question can be easily answered easily. I'm using gcc to compile. The push works perfectly fine. The problem is the pop. I get a segmentation fault whenever I compile and run it. </p>

<p>Here are the  pop and push functions:</p>

<pre><code>int push(stack *stk, int data)
{
    stk-&gt;head = makeNode(data, stk-&gt;head);
    stk-&gt;length += 1;
    return data;
}

int pop(stack *stk)
{
    //Returns popped item
    //Returns -1 if stack length is zero
    if (stk-&gt;length &lt; 1)
    {
        printf(""No items to pop."");
        return -1;
    }
    int data = stk-&gt;head-&gt;value;
    struct node *toBeFreed = stk-&gt;head;
    stk-&gt;head = stk-&gt;head-&gt;ptr;
    free(toBeFreed);
    stk-&gt;length -= 1;
    return data;
}
</code></pre>

<p>I honestly don't know what the problem is, because the code is similar. I reassign the head variable in the stack in the push function, but it causes errors in the pop function. The assignment to data also gives me a seg fault. Pretty much everything except for the return and stack length assignment statements give me segmentation faults. Can any of you help me figure this out? What is causing these seg faults?</p>

<p>Here is the entire program:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
struct node 
{
    int value;
    struct node *ptr;
};

struct node *makeNode(int value, struct node *ptr)
{
    struct node *newNode = malloc(sizeof(struct node));
    newNode-&gt;value = value;
    newNode-&gt;ptr = ptr;
    return ptr;
}

typedef struct stack
{
    struct node *head;
    int length;
} stack;

stack makeStack()
{
    stack stk;
    stk.head=NULL;
    stk.length = 0;
    return stk;
}

int push(stack *stk, int data)
{
    stk-&gt;head = makeNode(data, stk-&gt;head);
    stk-&gt;length += 1;
    return data;
}

int pop(stack *stk)
{
    if (stk-&gt;length &lt; 1)
    {
        printf(""No items to pop."");
        return -1;
    }
    int data = stk-&gt;head-&gt;value;
    struct node *toBeFreed = stk-&gt;head;
    stk-&gt;head = stk-&gt;head-&gt;ptr;
    free(toBeFreed);
    stk-&gt;length -= 1;
    return data;
}

int main()
{
    stack s = makeStack();
    printf(""Pushing ints one through five. Should display ints one through five on separate lines: \n"");
    int i;
    for (i = 1; i &lt;= 5; i++)
            printf(""%d\n"",push(&amp;s, i));
    printf(""Popping ten values. Should display ints one through five in reverse order on separate lines along with 5 error statements.\n"");
    for (i = 0; i &lt;= 10; i++)
            printf(""%d\n"",pop(&amp;s));
    return 0;
}
</code></pre>
","149392","","<pre><code>struct node *makeNode(int value, struct node *ptr)
{
    struct node *newNode = malloc(sizeof(struct node));
    newNode-&gt;value = value;
    newNode-&gt;ptr = ptr;
    return ptr;
}
</code></pre>

<p>You want to return <code>newNode</code>, not <code>ptr</code>.</p>

<p>The reason you get the segfault is that due to the mistake in makeNode the stack will remain empty, however the <code>size</code> will be increased to 5, so when you <code>pop</code> the stack doesn't know it's empty and it tries to dereference a null pointer.</p>
"
"<p>I have the following function defined:</p>

<pre><code>ex 1 x = 1
ex 0 x = 0
ex b x = b ** x
</code></pre>

<p>Then, when I execute the following:</p>

<pre><code>1 `ex` (sum [1..])
</code></pre>

<p>it tries to calculate the sum of the infinite sequence, instead of being lazy and returning 1.  Why?</p>

<hr>

<p>EDIT: Upon further investigation, I found that laziness happens if I define the <code>ex</code> function in a file, but not if I define it in GHCI:</p>

<pre><code>$ ghci
GHCi, version 6.8.2: http://www.haskell.org/ghc/  :? for help
Loading package base ... linking ... done.
Prelude&gt; let ex 1 x = 1
Prelude&gt; let ex b x = b ** x
Prelude&gt; ex 1 (sum [1..])
&lt;interactive&gt;: out of memory (requested 1048576 bytes)
</code></pre>

<p>If I pull the <code>ex</code> definition into a file (in this case, test.hs):</p>

<pre><code>$ ghci
GHCi, version 6.8.2: http://www.haskell.org/ghc/  :? for help
Loading package base ... linking ... done.
Prelude&gt; :load test.hs 
[1 of 1] Compiling Main             ( test.hs, interpreted )
Ok, modules loaded: Main.
*Main&gt; ex 1 (sum [1..])
1.0
</code></pre>

<p>The new question, then, is why?</p>
","149392","","<pre><code>Prelude&gt; let ex 1 x = 1
Prelude&gt; let ex b x = b ** x
</code></pre>

<p>You're not defining a function with two cases here. You define a function with one case, and then you define it again overriding the previous definition.</p>

<p>To define one function with two patterns use <code>let ex 1 x = 1; ex b x = b ** x</code>, i.e. separate the cases with a semicolon.</p>
"
"<p>How can I list all files of a directory in python and add them to a list?</p>
","149392","","<pre><code>os.listdir(""somedirectory"")
</code></pre>

<p>will return a list of all files and directories in ""somedirectory"".</p>
"
"<p>How can you find the most recently modified folder (NOT A FILE) in a directory using Ruby?</p>
","149392","","<pre><code>Dir.glob(""a_directory/*/"").max_by {|f| File.mtime(f)}
</code></pre>

<p><code>Dir.glob(""a_directory/*/"")</code> returns all the directory names in <code>a_directory</code> (as strings) and <code>max_by</code> returns the name of the directory for which <code>File.mtime</code> returns the greatest (i.e. most recent) date.</p>

<p>Edit: updated answer to match the updated question</p>
"
"<p>I'm attempting a few minor tasks in F# to help get a handle on the language.</p>

<p>I would like to write a function that takes a n-dimensional list and returns a 1-dimensional list containing all the elements from each dimension.</p>

<p>For example, if the input was the following 3-dimensional list: [[[1;2];[3;4]];[[5;6];[7;8]]], the output would be: [1;2;3;4;5;6;7;8]</p>

<p>For 2-dimensions -> 1-dimension the function is pretty straightforward:</p>

<pre><code>let coalesce list= List.collect(fun item -&gt; item) list
</code></pre>

<p>Here is my attempt to generalize this to n-dimensions:</p>

<pre><code>let rec coalesce (list, dimension) = 
    if dimension = 1 then list 
    else coalesce (List.collect(fun item -&gt; item) list, dimension - 1)
</code></pre>

<p>I get the following error when I try to compile:</p>

<p>error FS0001: Type mismatch. Expecting a<br>
'a list list<br>
but given a<br>
'a list<br>
The resulting type would be infinite when unifying ''a' and ''a list'</p>

<p>The issue is here: </p>

<pre><code>List.collect(fun item -&gt; item) list
</code></pre>

<p>There's obviously something wrong with my thinking.  What's the proper way to write this sort of function?</p>
","149392","","<p>No, the problem is that <code>coalesce</code> takes a list of lists and the compiler doesn't know that <code>List.collect(fun item -&gt; item) list</code> always returns a list of lists (as a matter of fact the compiler can't know that because it's not true). However since that's what you pass in as the argument to <code>coalesce</code> the compiler would need to know that in order to allow that call.</p>
"
"<p>Firstly, apologies for the vague title, but I'm not sure <em>exactly</em> what I'm asking here(!).</p>

<p>After encountering Haskell at university, I've recently started using it in anger and so am working through the <a href=""http://projecteuler.net/"" rel=""nofollow"">Project Euler</a> problems as an extended Hello World, really.  I've encountered a bug in one of my answers that seems to suggest a misunderstanding of a fundamental part of the language, and it's not something I could work out from the tutorials, nor something I know enough about to start Googling for.</p>

<p>A brief description of the issue itself - the solution relates to primes, so I wanted an infinite list of prime numbers which I implemented (without optimisation yet!) thusly:</p>

<pre><code>isPrime :: Int -&gt; Bool
isPrime n = isPrime' 2 n
            where isPrime' p n | p &gt;= n           = True
                               | n `mod` p == 0  = False
                               | otherwise       = isPrime' (p+1) n

primes :: [Int]
primes = filter isPrime [2..]
</code></pre>

<p>Since infinite lists can be a little tedious to evaluate, I'll of course be using lazy evaluation to ensure that just the bits I want get evaulatued.  So, for example, I can ask GHCI for the prime numbers less than 100:</p>

<pre><code>*Main&gt; takeWhile (&lt; 100) primes
[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97]
</code></pre>

<p>Now here's the part that I don't understand at all - <strong>when the upper limit gets large enough, I get no answers back at all</strong>.  In particular:</p>

<pre><code>*Main&gt; takeWhile (&lt; 4000000000) primes
[]
</code></pre>

<p>This isn't a problem with <code>takeWhile</code> itself, or the partially-applied function, as <code>takeWhile (&lt; 4000000000) [2..]</code> works as I would expect.  It's not a problem with my use of filter (within the definition of <code>primes</code>), since <code>takeWhile (&lt; 4000000000) (filter even [2..])</code> also returns the expected result.</p>

<p>Through binary search I found that the greatest upper limit that works is <code>2^31 - 1</code>, so this would certainly seem to imply some kind of space-based constraint (i.e. largest positive signed integer).  However:</p>

<ol>
<li>I was of the impression that Haskell had no language limits on the size of integers, and they were bounded only by the amount of free memory.</li>
<li>This number only appears in the less-than predicate, which I know works as expected in at least some cases.  Surely when it's applied to elements of a list, it shouldn't care where they come from?  Looking solely at the first element, I <strong>know</strong> that the predicate returns true for the input <code>2</code> when it comes from <code>filter even [2..]</code>; I <strong>know</strong> that <code>primes</code> returns <code>2</code> as its first element.  So how can my list be empty, how is this predicate failing ""for some values of 2""?</li>
</ol>

<p>Any thoughts would be grateful as I don't have enough experience to know where to start with this one.  Thanks for taking the time to take a look.</p>
","149392","","<p>There are 2 built-in integral types in haskell: <code>Int</code> and <code>Integer</code>. <code>Integer</code> is the default and is unbounded. <code>Int</code> however is bounded. Since you're explicitly using <code>Int</code> in the type for <code>isPrime</code> 4000000000 is used as an <code>Int</code> and overflows. If you change the type of <code>isPrime</code> to <code>Integer -&gt; Bool</code> or even better <code>Integral a =&gt; a -&gt; Bool</code> (read: a function that can take any kind of <code>Integral</code> value and returns a <code>Bool</code>), it will work as expected.</p>

<p>The important thing to take away here (other than the difference between <code>Int</code> and <code>Integer</code>) is that the type of 4000000000 depends on how it is used. If it is used as an argument to a function that takes an <code>Int</code>, it will be an <code>Int</code> (and on 32-bit systems it will overflow). If it is used as an argument to a function that takes an <code>Integer</code>, it will be an <code>Integer</code> (and never overflow). If it is used as an argument to a function that takes any kind of <code>Integral</code>, it will also be an <code>Integer</code> because <code>Integer</code> is the default instance of <code>Integral</code>.</p>
"
"<p>Specifically, I want to do something like this :</p>

<pre><code>myfunc:: [(Integer, Integer)]
myfunc = [(x^2 - y^2, 2 * x * y) | x &lt;- [1..], y &lt;- [1.. (x-1)]]
</code></pre>

<p>When I try to load this through <code>ghci</code> I get </p>

<pre><code>    Warning: Defaulting the following constraint(s) to type `Integer'
         `Integral t' arising from a use of `^' at myfunc.hs:76:20-22
</code></pre>

<p>So I know that x should obviously be an <code>Integer</code>, how do I go ahead and let Haskell know thats what I want ?</p>
","149392","","<p>The problem here is that <code>^</code> has type <code>(Num a, Integral b) =&gt; a -&gt; b -&gt; a</code>, so the second argument to <code>^</code> can be any integral type. Because the result type is <code>Integer</code> Haskell knows that <code>a</code> is Integer, but it knows nothing about <code>b</code>. Not knowing what to do, it defaults to <code>Integer</code> and produces the warning. Since this is perfectly ok in this case, you can just ignore or disable the warning.</p>

<p>However if you'd rather add type annotations to make explicit that you want the right operand to have type Integer, you can do so like this:</p>

<pre><code>(x^(2::Integer) - y^(2::Integer), 2 * x * y)
</code></pre>

<p>As a sidenote: <code>[]</code> creates a list, not a set.</p>
"
"<p>I have this XML:</p>

<pre><code>&lt;Experiment&gt;
&lt;mzData version=""1.05"" accessionNumber=""1635""&gt;
&lt;description&gt;
&lt;admin&gt;
&lt;sampleName&gt;Fas-induced and control Jurkat T-lymphocytes&lt;/sampleName&gt; 
&lt;sampleDescription&gt;
&lt;cvParam cvLabel=""MeSH"" accession=""D017209"" name=""apoptosis"" /&gt; 
&lt;cvParam cvLabel=""UNITY"" accession=""D2135"" name=""Jurkat cells"" /&gt; 
&lt;cvParam cvLabel=""MeSH"" accession=""D019014"" name=""Antigens, CD95"" /&gt; 
&lt;/sampleDescription&gt;
&lt;/admin&gt;
&lt;/description&gt;
&lt;/mzData&gt;
&lt;/Experiment&gt;
&lt;/ExperimentCollection&gt;
</code></pre>

<p>I also have the following code:</p>

<pre><code>require 'rubygems'
require 'nokogiri'

doc = Nokogiri::XML(File.open(""my.xml""))

sampleName = doc.xpath( ""/ExperimentCollection/Experiment/mzData/description/admin/sampleName"" ).text
sampleDescription = doc.xpath( ""/ExperimentCollection/Experiment/mzData/description/admin/sampleDescription/MeSH/@accession"" ).text
puts sampleName + "" "" + sampleDescription

foo = sampleName + "" "" + sampleDescription 
f = File.new(""my.txt"",""w"")
f.write(foo) 
f.close()
</code></pre>

<p>The code grabs the <code>sampleName</code> just fine, but not the <code>accession</code> letters/numbers. I only want to grab all the letters/numbers after <code>MeSH</code> -> <code>accession</code> (<code>D017209</code> and <code>D019014</code>). What do I have to change in the <code>doc.xpath</code> command to make this work?</p>
","149392","","<pre><code>doc.xpath( ""/ExperimentCollection/Experiment/mzData/description/admin/sampleDescription/MeSH/@accession"" )
</code></pre>

<p>Returns nothing because there is no tag <code>MeSH</code>. You need to replace <code>MeSH</code> with <code>cvParam[@cvLabel=\""MeSH\""]</code> (read: a <code>cvParam</code> tag which has an attribute <code>cvLabel</code> with the value <code>MeSH</code>).</p>

<p>Once you fixed that <code>xpath</code> will return a collection of <code>Nokogiri::XML::Attr</code> objects. By calling text on that collection you will get back the string value of the first element. Since you want all of the elements you should instead use <code>map(&amp;:text)</code> (or <code>map {|n| n.text}</code> in ruby 1.8.6) which will return an array containing the string value of each <code>accession</code> attribute (i.e. <code>[""D017209"", ""D019014""]</code> for the example XML-file).</p>

<p>Since you seem to be confused, here's a clarification:</p>

<p>@Bobby: When I said ""<code>xpath</code> will return a collection of <code>Nokogiri::XML::Attr</code>  objects"", I meant just that. You call <code>xpath</code> and then <code>xpath</code> creates and returns a collection of <code>Attr</code> objects. In no way did I mean that you should manually create any <code>Attr</code> objects yourself.</p>

<p>And when I said you should use <code>map</code>, I just meant you should call <code>map</code> on the collection returned by <code>xpath</code> (though instead of using <code>map</code> you can just call <code>puts</code> with the collection as an argument).</p>

<ol>
<li>So what you need to do is 1. fix your xpath like I described.</li>
<li>use <code>xpath</code> with the fixed xpath to get a collection</li>
<li>use puts to print it</li>
</ol>

<p>In other words:</p>

<pre><code>require 'rubygems'
require 'nokogiri'

doc = Nokogiri::XML(File.open(""my.xml""))

common_prefix = ""/ExperimentCollection/Experiment/mzData/description/admin""
sample_name = doc.xpath( common_prefix+""/sampleName"" ).text
accessions = doc.xpath( common_prefix+
               ""/sampleDescription/cvParam[@cvLabel=\""MeSH\""]/@accession"" )

puts sample_name
puts accessions
</code></pre>
"
"<p>I have the following ruby code:</p>

<pre><code>class Mp
  def initialize

    Test.new.mytest
    Work.new.mywork
    ha
    address

  end

  def ha
    puts ""message from ha""
  end

  def address

   a='see'

  end

end


class Test

  def mytest
    m=Mp.new
    puts ""Message from test do you #{m.address}""
  end
end

class Work

  def mywork
    puts ""message from work""
  end

end

Mp.new
</code></pre>

<p>This works fine except the part in def mytest where I'm trying to put out the m.address. Thanks for your help in advance.</p>
","149392","","<p>Actually the reason it doesn't work has nothing to do with printing the address. It's one line before that:</p>

<p><code>m = Mp.new</code> this creates a new <code>Mp</code> object. However inside <code>Mp</code>'s initialize method a new <code>Test</code> object is created and its <code>mytest</code> method is called. The <code>mytest</code> method then again creates a new Mp object and so on. In other words: <code>Test#mytest</code> and <code>Mp#initialize</code> are mutually and infinitely recursive.</p>

<p>Edit in response to your comment:</p>

<p>I'm not quite sure I understood the question. If you mean ""How do I access the variable <code>a</code> which was set in the <code>address</code> method, after <code>address</code> has been called"": you don't. <code>a</code> is a local variable that goes out of scope once the method has returned. If you want to set an instance variable use <code>@a = 'see'</code>. <code>@</code> denotes instance variables in ruby. If you want to be able to access that variable from outside the object, use <code>attr_accessor :a</code> to define accessor methods for <code>@a</code>.</p>

<p>An example:</p>

<pre><code>class Mp
  attr_accessor :c

  def initialize
    initialize_variables
    puts @c
    puts @b # I can access @c and @b here because it's an instance variable
            # and I'm within the same object

    # puts a # This does not work because a is a local variable from the
             # initialize_variables method and no longer in scope
  end

  def initialize_variables
    a = ""a""
    @b = ""b""
    @c = ""c""
    puts a  # I can access a here because I'm still inside the method
            # where a was defined
  end
end

m = Mp.new
# puts m.a
# puts m.b  # These don't work because there are no methods a or b

puts m.c  # This works because attr_accessor defined a method c which
          # returns the content of m's @c variable
</code></pre>
"
"<p>I have the following Ruby script that creates a Debian package, which works fine:</p>

<pre>
#!/usr/bin/ruby

  dest = ""#{File.dirname(__FILE__)}/../build""
  package = ""foo""

  [
    ""cd #{dest} && tar czvf data.tar.gz bin console data.sql etc filter install.rb"",
    ""cd #{dest} && tar czvf control.tar.gz control"",
    ""cd #{dest} && echo 2.0 > debian-binary"",
    ""cd #{dest} && ar -cr #{package}.deb debian-binary control.tar.gz data.tar.gz"",
    ""cd #{dest} && mv #{package}.deb .."",
    ""cd #{dest} && rm data.tar.gz control.tar.gz"",
  ].each do |command|
    puts command
    system(command)
  end
</pre>

<p>Is there a way in Ruby where I can leave off the ""<b>cd #{dest} &amp;&amp;</b>"" part of each command?</p>
","149392","","<pre><code>Dir.chdir(dest) do
  # code that shall be executed while in the dest directory
end
</code></pre>

<p><code>Dir.chdir</code> when invoked with a block will change to the given directory, execute the block and then change back.</p>

<p>You can also use it without a block, in which case it will never change back.</p>
"
"<p>I have this function (produces the fibonacci sequence):</p>

<pre><code>unfoldr (\(p1, p2) -&gt; Just (p1+p2, (p1+p2, p1)) ) (0, 1)
</code></pre>

<p>In here, I notice a repeated expression, <code>p1+p2</code>, which I would like to factor so that it is only calculated once. Addition itself isn't an expensive calculation, but for a more general version:</p>

<pre><code>unfoldr (\(p1, p2) -&gt; Just (f p1 p2, (f p1 p2, p1)) ) (0, 1)
    where f = arbitrary, possibly time-consuming function
</code></pre>

<p>In the above situation, <code>f p1 p2</code> is calculated twice (unless there's some magic compiler optimisation I don't know about), which could create a performance bottleneck if <code>f</code> required a lot of computation. I can't factor <code>f p1 p2</code> into a <code>where</code> because <code>p1</code> and <code>p2</code> are not in scope. What is the best way to factor this expression so that <code>f</code> is only calculated once?</p>
","149392","","<pre><code>unfoldr (\(p1, p2) -&gt; let x = f p1 p2 in Just (x, (x, p1)) ) (0, 1)
    where f = arbitrary, possibly time-consuming function
</code></pre>
"
"<p>I got a question about this program, it says: <strong>The FizzBuzz Challenge: Display numbers from 1 to x, replacing the word 'fizz' for multiples of 3, 'buzz' for multiples of 5 and 'fizzbuzz' for multiples of both 3 and 5. Th result must be:1 2 fizz 4 buzz fizz 7 8 fizz buzz 11 fizz 13 14 fizzbuzz 16 ...</strong></p>

<p>So my problem is at the time to print the output, I dont know what to do.</p>

<pre><code>public class Multiplos {

    public static void main(String args[]) {

        for (int i = 1; i &lt;= 100; i++) {

            if (i % 3 == 0) {
                System.out.print(i + "" "");
                System.out.print("" fizz "");
            }

            if (i % 5 == 0) {
                System.out.print("" "" + i);
                System.out.print("" "" + ""buzz "");
            }

            if((i % 3 == 0)&amp;&amp;(i % 5 == 0)){
                System.out.print(i + "" "");
                System.out.print("" fizzbuzz "");
            }

        }

    }
}
</code></pre>
","149392","","<p>The problem is of course that when <code>(i % 3 == 0)&amp;&amp;(i % 5 == 0)</code> is true, the two preceding conditions are also true, so you get duplicated output. The easiest way to fix that is to check that the other condition is not true in the first two cases. I.e. make the first condition <code>if((i % 3 == 0)&amp;&amp;(i % 5 != 0))</code> and the same for the second.</p>

<p>The other problem with your code is that you're printing the number when any of the cases is true, but you're supposed to print it when none of them are. You can fix that by making a fourth if-condition which checks that none of the conditions are true and if so, prints i.</p>

<p>Now if you did the above, you'll see that you ended up with some code duplication. If you think about it a bit, you'll see that you can easily fix that, by using if - else if - else if - else, which allows you to assume that the previous conditions were false when the current condition is checked.</p>
"
"<p>I want to use <em>regexps</em> in OCaml and it seems that <code>Str</code> module provides these functionalities.</p>

<p>So I tried with a simple program:</p>

<pre><code>open Str
let regx = regexp "".""
</code></pre>

<p>but it gives me the following error</p>

<blockquote>
  <p>File ""lol.ml"", line 1, characters 0-1:
  Error: Error while linking lol.cmo:
  Reference to undefined global `Str'</p>
</blockquote>

<p>As if module is not present but if I remove <code>open Str</code> it says that <code>regexp</code> is an unbound value.</p>

<p>I don't get what kind of issue it is, <code>Str</code> should be a standard module (according to <a href=""http://caml.inria.fr/pub/docs/old-311/libref/Str.html"">http://caml.inria.fr/pub/docs/old-311/libref/Str.html</a>) so I'm clueless.. the only think I thought is that signature (<code>mli</code>) is present but implementation (<code>ml</code>) is not.</p>

<p>I'm running <code>Objective Caml version 3.11.0</code> according to <code>ocaml</code> tool.</p>

<p>Can anyone help me figuring this out?
Thanks in advance</p>
","149392","","<p>From <a href=""http://caml.inria.fr/pub/docs/manual-ocaml/manual037.html"">the manual</a>:</p>

<blockquote>
  <p>Programs that use the str library must be linked as follows:</p>

<pre><code>ocamlc other options str.cma other files
ocamlopt other options str.cmxa other files
</code></pre>
</blockquote>
"
"<p>I am looking at functional programming and struggling with one point.. How do I do the following without mutable state?</p>

<p>Imagine I have a server.. and clients try to connect.. and each client gives the server a number and gets told the current total.</p>

<p>Now without mutable state the server can't keep a total... so I am thinking each client is really creating a new server containing a new total.. or a new server holding the entry and referencing the old server so the total can be calculated. </p>

<p>BUT.. how do the client's find the server? Someone has to hold onto the current server instance.. so they have a mutable variable 'server'. </p>

<p>No matter what I do.. I always end up with a mutable variable a the higher scope.</p>

<p>Thoughts?</p>
","149392","","<p>The scenario you describe could be implemented like this (pseudocode):</p>

<pre><code>let keepTrackOfTotal(total) =
    let conn = waitForConnection()
    let x = readIntFrom(conn)
    let newTotal = total + x
    writeIntTo(conn, newTotal)
    keepTrackOfTotal(newTotal)

let main() = keepTrackOfTotal(0)
</code></pre>

<p>Here we use recursion to get an infinite loop that keeps track of the total, without mutable variables.</p>
"
"<p>Here is a sample program from RWH book.  I'm wondering why the first works great but the second can't even compile? The only difference is the first one uses 2 tabs after <code>where mainWith func = do</code> whereas the second uses only 1. Not sure what difference does that mean? Why the second fails to compile? And also why <code>do construct</code> can be empty? </p>

<p>Thanks a lot, 
Alex</p>

<pre><code>-- Real World Haskell Sample Code Chapter 4:
-- http://book.realworldhaskell.org/read/functional-programming.html

import System.Environment (getArgs)

interactWith func input output = do
    s &lt;- readFile input
    writeFile output (func s)

main = mainWith myFunction
    where mainWith func = do
            args &lt;- getArgs
            case args of 
                [fin, fout] -&gt; do
                    interactWith func fin fout
                _ -&gt; putStrLn ""error: exactly two arguments needed""

myFunction = id


-- The following code has a compilation error
-- % ghc --make interactWith.hs
-- [1 of 1] Compiling Main             ( interactWith.hs, interactWith.o )
-- 
-- interactWith.hs:8:26: Empty 'do' construct


import System.Environment (getArgs)

interactWith func input output = do
    s &lt;- readFile input
    writeFile output (func s)

main = mainWith myFunction
    where mainWith func = do
        args &lt;- getArgs
        case args of 
            [fin, fout] -&gt; do
                interactWith func fin fout
            _ -&gt; putStrLn ""error: exactly two arguments needed""

myFunction = id
</code></pre>
","149392","","<p>The <code>do</code>-block can not be empty, that's why you get the error. When using only one tab <code>args &lt;- getArgs</code> is seen as part of the <code>where</code>-block, not the <code>do</code>-block, so the <code>do</code>-block is empty and you get an error.</p>

<p>The thing is that unless you use <code>{}</code> and <code>;</code> to explicitly state which block goes from where to where, haskell relies on indendation. And since you indented your line only by one level, it was seen as part of the <code>where</code>-block.</p>
"
"<p>I have data defined like the ff.:</p>

<pre><code>import Data.Time.Clock

data D = D { ...,
             someDate :: UTCTime,
             ... }
         deriving (Eq, Show)
</code></pre>

<p>When I compile it, I get the ff. error:</p>

<pre><code>No instance for (Show UTCTime)
  arising from the 'deriving' clause of a data type declaration
               at ...
</code></pre>

<p>I already have the time-1.1.3 package which should already have this instance according to <a href=""http://hackage.haskell.org/packages/archive/time/1.1.3/doc/html/Data-Time-Clock.html"">documentation</a>.  My GHC version is 6.8.2.</p>
","149392","","<p>The documentation lies. If you look at the source for <a href=""http://hackage.haskell.org/packages/archive/time/1.1.3/doc/html/src/Data-Time-Clock-UTC.html"" rel=""nofollow""><code>Data.Time.Clock.UTC</code></a>, there simply is no <code>Show</code> instance for <code>UTCTime</code>.</p>

<p>Edit:</p>

<p>As newacct helpfully pointed out, there's an orphaned instance for <code>Show UTCTime</code> in <code>Data.Time.LocalTime.LocalTime</code>, so if you import that, your code will work.</p>
"
"<p>im new to ruby and rails.</p>

<p>in RoR3 a controller inherits from the <code>ActionController::Base</code></p>

<pre><code>request.env[""SERVER_ADDR""]
</code></pre>

<p>so request is a method in Base class (that is inside the ActionController module)?</p>

<p>what is <code>env</code> then and <code>[""SERVER_ADDR""]</code>?</p>

<p>would be great if someone could make a little code example...that would be very helpful to understand!</p>

<p>thanks!</p>
","149392","","<p><code>request.env[""SERVER_ADDR""]</code> can also be written as <code>request().env()[""SERVER_ADDR""]</code>. So <code>env</code> is a method that is called without arguments on the object returned by <code>request()</code> and then you call <code>[]</code> on the object returned by that with the argument <code>""SERVER_ADDR""</code>.</p>
"
"<p>I am creating a factory that makes rooms, and it is passed an int of steps and a start room and it is supposed to do a step, build a room, and then call itself with one fewer step and the new room as the start room. The problem is that it never ends. In the debugger, I can see that it's calling itself, which creates another method call in memory that actually has one fewer step, but then the execution line goes to the top of the <em>current</em> method call! so it never actually completes the new call. As though it were putting the new call into heap instead of stack, and then never actually getting to it.</p>

<p>Code:</p>

<pre><code>@Override
public Room place(Level level, int cycles, Room start_room,
        Direction direction, int shop, int exit, LevelFactoryReport report) throws Exception
{


    Room room = null;
    if(cycles &lt; 1)
    {
        return start_room;
    }
    else
    {
        report.addEvent(""--Placer step--"");
        report.addEvent(""Steps remaining: ""+cycles);
        room = this.Step(level, start_room, direction, shop, exit, report);
        if(room == null)
        {
            cycles = 0;
            report.addEvent(""Step returned a null room (probably because it ran into an existing room). Ending cycle."");
        }
    }
    return place(level, (cycles--), room, direction, (shop--), (exit--), report);
}
</code></pre>

<p>In the code above, it goes through the various implementation, then gets to the new call for place(), and then it just creates a new instance of place(), but <em>doesn't</em> step into it, and instead the execution line goes back to ""Room room = start_room"" of the original call. It does this infinitely, with the cycles always at its initial value of 4, and more and more instances of place() filling up the stack. I looked into the new instances, and all of them actually do have a ""cycles"" value of 3.</p>

<p>The strange thing is, each iteration that actually runs is being run on the next room, so when it goes back to the top, it is going back to the top passing the next room. But why is it creating a new instance of place() (with the new room AND the new cycles value of 3), and then re-running the old place() using the new room BUT NOT the new cycles value of 3?</p>
","149392","","<p>You're using <code>cycles--</code>, <code>shop--</code> to decrement the variables. However while <code>x--</code> does decrement x, it does not return the decremented value. The return value of the expression <code>x--</code> is the old value of <code>x</code>. Use <code>x-1</code> instead of <code>x--</code>. (Or <code>--x</code> if you must, but there is no point in mutating the variable here).</p>
"
"<p>I'm trying to wrap my head around multithreading, so I'm playing around with <code>Fiber</code>s in Ruby. However, when I try to run my script, it tells me I have an unexpected newline character after my ternary statement. Did I miss something about the syntax, here?</p>

<pre><code>timer = Fiber.new do |power|
  power = power.nil? ? 'on' | power 
  start = Time.now 
  loop do 
    if power == 'off'
      now = Time.now
      puts now - start
    end
    power = Fiber.yield
  end
end
</code></pre>
","149392","","<blockquote>
  <p>power = power.nil? ? 'on' | power</p>
</blockquote>

<p>The proper syntax for this is <code>power = power.nil? ? 'on' : power</code>, with a colon instead of a pipe.</p>

<p>However you could just write this <code>power = 'on' if power.nil?</code>, which is a bit shorter and probably more readable for most people.</p>

<p>Also as a sidenote: is there a paticular reason that you're using <code>'on'</code> and <code>'off'</code> instead of <code>true</code> and <code>false</code>?</p>
"
"<p>The question says it: what would be the purpose of a command that does nothing, being little more than a comment leader, but actually a shell built-in in and of itself.</p>

<p>It's slower than inserting a comment into your scripts, by about 40% per call, which probably varies greatly on the size of the comment. The only possible reasons I can see for it are these:</p>

<pre><code># poor man's delay function
for ((x=0;x&lt;100000;++x)) ; do : ; done

# inserting comments into string of commands
command ; command ; : we need a comment in here for some reason ; command

# an alias for `true' (lazy programming)
while : ; do command ; done
</code></pre>

<p><strong>Edit:</strong> I guess what I'm really looking for is what historical application it might have had.</p>
","149392","","<p>You could use it in conjunction with `` to execute a command without displaying its output, like this:</p>

<pre><code>: `some_command`
</code></pre>

<p>Of course you could just do <code>some_command &gt; /dev/null</code>, but the <code>:</code>-version is somewhat shorter.</p>

<p>That being said I wouldn't recommend actually doing that as it would just confuse people. It just came to mind as a possible use-case.</p>
"
"<p>I've got a List of days in the month:</p>

<pre><code>val days = List(31, 28, 31, ...)
</code></pre>

<p>I need to return a List with the cumulative sum of days:</p>

<pre><code>val cumDays = List(31, 59, 90)
</code></pre>

<p>I've thought of using the fold operator:</p>

<pre><code>(0 /: days)(_ + _)
</code></pre>

<p>but this will only return the final result (365), whereas I need the list of intermediate results.</p>

<p>Anyway I can do that elegantly?</p>
","149392","","<p>Scala 2.8 has the methods <code>scanLeft</code> and <code>scanRight</code> which do exactly that.</p>

<p>For 2.7 you can define your own <code>scanLeft</code> like this:</p>

<pre><code>def scanLeft[a,b](xs:Iterable[a])(s:b)(f : (b,a) =&gt; b) =
  xs.foldLeft(List(s))( (acc,x) =&gt; f(acc(0), x) :: acc).reverse
</code></pre>

<p>And then use it like this:</p>

<pre><code>scala&gt; scanLeft(List(1,2,3))(0)(_+_)
res1: List[Int] = List(0, 1, 3, 6)
</code></pre>
"
"<p>I often here people talk about Big O which measures algorithms against each other</p>

<p>Does this measure clock cycles or space requirements.</p>

<p>If people want to contrast algorithms based on memory usage what measure would they use</p>
","149392","","<p>If someone says ""This algorithm runs in O(n) time"", he's talking about speed. If someone says ""This algorithm runs in O(n) space"", he's talking about memory.</p>

<p>If he just says ""This algorithm is O(n)"", he's usually talking about speed (though if he says it during a discussion about memory, he's probably talking about memory).</p>

<p>If you're not sure which one someone's talking about, ask him.</p>
"
"<p>I'm trying to pass elements from a list to a for loop and of course am getting the classic error 'argument 1 must be a string not list' - for the os.chdir() function.</p>

<p>Here is a my code, any suggestions as to how I can get around the above error and still pass the elements of my list on to the rest of the script so it loops through each one would be greatly appreciated!!</p>

<pre><code>path= ['C:\\DataDownload\Administrative', 'C:\\DataDownload\Cadastral', 'C:\\DataDownload\Development']
for x in path[:]:
   os.chdir(path)
   #Remove all previous files from the current folder
   for file in os.listdir(path):
     basename=os.path.basename(file)
     if basename.endswith('.DXF'):
        os.remove(file)
     if basename.endswith('.dbf'):
        os.remove(file)
     if basename.endswith('.kmz'):
        os.remove(file)
     if basename.endswith('.prj'):
        os.remove(file)
     if basename.endswith('.sbn'):
        os.remove(file)
     if basename.endswith('.sbx'):
        os.remove(file)
     if basename.endswith('.shp'):
        os.remove(file)
     if basename.endswith('.shx'):
        os.remove(file)  
     if basename.endswith('.zip'):
        os.remove(file)
     if basename.endswith('.xml'):
        os.remove(file)
</code></pre>
","149392","","<p>You want <code>os.chdir(x)</code> instead of <code>os.chdir(path)</code>.</p>

<p><code>path</code> is the list containing all the paths (and should thus probably be named <code>paths</code>), so you can't use it as an argument to <code>chdir</code>.</p>
"
"<p>Newb question of the day:</p>

<p>I'm trying to select all the users with this condition, and then perform an action with each one :</p>

<pre><code>User.find(:all).select { |u| u.organizations.count &gt; 0} do |user|
</code></pre>

<p>Except, this isn't the right way to do this. Not entirely sure what the proper syntax is.</p>

<p>Any fellow rubyist offer a newb a hand?</p>
","149392","","<p>To perform an action with each element of a collection use the <code>each</code> method, like this:</p>

<pre><code>User.find(:all).select { |u| u.organizations.count &gt; 0}.each do |user|
</code></pre>
"
"<p>I'm trying to be a good erlanger and avoid ""++"". I need to add a tuple to the end of a list without creating a nested list (and hopefully without having to build it backwards and reverse it). Given tuple T and lists L0 and L1:</p>

<p>When I use <strong>[T|L0]</strong> I get <strong>[tuple,list0]</strong>.</p>

<p>But when I use <strong>[L0|T]</strong>, I get nested list <strong>[[list0]|tuple]</strong>. Similarly, <strong>[L0|L1]</strong> returns <strong>[[list0]|list1]</strong>.</p>

<p>Removing the outside list brackets <strong>L0|[T]</strong> produces a syntax error.</p>

<p>Why is ""|"" not symmetric? Is there a way to do what I want using ""|""?</p>
","149392","","<p><code>|</code> is not ""symmetric"" because a non-empty list has a head and a tail where the head is a single item and the tail is another list. In the expression <code>[foo | bar]</code> <code>foo</code> denotes the head of the list and <code>bar</code> is the tail. If the tail is not a proper list, the result won't be a proper list either. If the head is a list, the result will simply be a list with that list as its first element.</p>

<p>There is no way to append at the end of a linked list in less than O(n) time. This is why using <code>++</code> for that is generally shunned. If there were special syntax to append at the end of the list, it would still need to take O(n) time and using that syntax wouldn't make you any more of a ""good erlanger"" than using <code>++</code> would.</p>

<p>If you want to avoid the O(n) cost per insertion, you'll need to prepend and then reverse. If you're willing to pay the cost, you might just as well use <code>++</code>.</p>

<p>A little more detail on how lists work:</p>

<p><code>[ x | y ]</code> is something called a cons cell. In C terms it's basically a struct with two members. A proper list is either the empty list (<code>[]</code>) or a cons cell whose second member is a proper list (in which case the first member is called its head, and the second member is called its tail).</p>

<p>So when you write <code>[1, 2, 3]</code> this creates the following cons cells: <code>[1 | [2 | [3 | []]]]</code>. I.e. the list is represented as a cons cell whose first member (its head) is 1 and the second member (the tail) is another cons cell. That other cons cell has 2 as its head and yet another cons cell as its tail. That cell has 3 as its head and the empty list as its tail.</p>

<p>Traversing such a list is done recursively by first acting on the head of the list and then calling the traversal function on the tail of the list.</p>

<p>Now if you want to prepend an item to that list, this is very easy: you simply create another cons cell whose head is the new item and whose tail is the old list.</p>

<p>Appending an item however is much more expensive because creating a single cons cell does not suffice. You have to create a list that is the same as the old one, except the tail of the last cons cell must be a new cons cell whose head is the new element and whose tail is the empty list. So you can't append to a list without going through the whole list, which is O(n).</p>
"
"<p>How we can achieve variables that we defined in the <code>(local ...)</code> syntax in Scheme?
For example in this code below,</p>

<pre><code>(define (erkan x)
   (local 
      ((define y 10))
      (* x y)))
</code></pre>

<p>How can I directly get the value of y ? </p>
","149392","","<p>You <em>are</em> accessing <code>y</code> when you're doing <code>(* x y)</code>.</p>

<p>If you want to access <code>y</code> from outside of the <code>local</code>-block: you can't do that. Any definitions made inside a <code>local</code>-block are local to that block and cannot be accessed from outside.</p>
"
"<p>I can generate a few lines of code that will do this but I'm wondering if there's a nice clean Rubyesque way of doing this. In case I haven't been clear, what I'm looking for is an array method that will return true if given (say) <code>[3,3,3,3,3]</code> or <code>[""rabbits"",""rabbits"",""rabbits""]</code> but will return false with <code>[1,2,3,4,5]</code> or <code>[""rabbits"",""rabbits"",""hares""]</code>.</p>

<p>Thanks</p>
","149392","","<p>You can use <code>Enumerable#all?</code> which returns true if the given block returns true for all the elements in the collection.</p>

<pre><code>array.all? {|x| x == array[0]}
</code></pre>

<p>(If the array is empty, the block is never called, so doing <code>array[0]</code> is safe.)</p>
"
"<p>Suppose I have a simple class in Scala:</p>

<pre><code>class Simple {
  def doit(a: String): Int = 42
}
</code></pre>

<p>How can I store in a val the Function2[Simple, String, Int] that takes two arguments (the target Simple object, the String argument), and can call doit() get me the result back?</p>
","149392","","<pre><code>val f: Function2[Simple, String, Int] = _.doit(_)
</code></pre>
"
"<p>Attempting to implement code similar to that found in the higher-order-function example from <a href=""http://www.codecommit.com/blog/scala/scala-for-java-refugees-part-6"">http://www.codecommit.com/blog/scala/scala-for-java-refugees-part-6</a></p>

<pre><code>val button = new JButton(""test"")
button.addActionListener{ e:ActionEvent =&gt; println(""test"") }
add(button)
</code></pre>

<p>leads to the following </p>

<pre><code>error: type mismatch;
found   : (java.awt.event.ActionEvent) =&gt; Unit 
required: java.awt.event.ActionListener
   button.addActionListener{ e:ActionEvent =&gt; println(""test"") }
                                           ^
</code></pre>

<p>This is true at least with Scala compiler version 2.7.6.final on my system.  I am able to achieve what I want in the Java-style way of explicitly implementing an anonymous ActionListener.</p>

<pre><code>button.addActionListener( new ActionListener() {
  def actionPerformed(e:ActionEvent) { println(""test"") }
})
</code></pre>

<p>As far as I understand, Scala should be able to use duck-typing to render this explicit implementation of ActionListener unnecessary; so why isn't it working here?  I have next to no practical experience of duck-typing at this point.</p>
","149392","","<p>Scala isn't duck-typed. It has optional, explicit structural-typing, but that doesn't have anything to do with why your code does not work.</p>

<p>Your code does not work, because JButton.addActionListener expects an <code>ActionListener</code> as its argument, not a function. Even if scala were ducktyped, you couldn't just pass a function because the same methods available on an <code>ActionListener</code> are not available on a function.</p>

<p>Note that the article says ""Let’s assume for one blissful moment that we could rewrite Swing to take full advantage of Scala’s syntax"", i.e. the article does not claim to show you actual code that works.</p>

<p>However scala does have it's own swing package (<code>scala.swing</code>) which contains classes which are more ""scalaish"" to use than their java equivalents.</p>
"
"<p>Just come across with this problem:</p>

<pre><code>List&lt;DataNode&gt; a1 = new ArrayList&lt;DataNode&gt;();
List&lt;Tree&gt; b1 = a1;  // compile error: incompatible type
</code></pre>

<p>Where the type DataNode is a subtype of Tree.</p>

<pre><code>public class DataNode implements Tree
</code></pre>

<p>To my surprise, this works for array:</p>

<pre><code>DataNode[] a2 = new DataNode[0];
Tree[] b2 = a2;   // this is okay
</code></pre>

<p>This likes a bit strange. Can anyone give an explanation on this? </p>
","149392","","<p>When arrays were designed (i.e. pretty much when java was designed) the developers decided that variance would be useful, so they allowed it. However this decision was often criticized because it allows you to do this (assume that <code>NotADataNode</code> is another subclass of <code>Tree</code>):</p>

<pre><code>DataNode[] a2 = new DataNode[1];
Tree[] b2 = a2;   // this is okay
b2[0] = new NotADataNode(); //compiles fine, causes runtime error
</code></pre>

<p>So when generics were designed it was decided, that generic data structures should only allow explicit variance. I.e. you can't do <code>List&lt;Tree&gt; b1 = a1;</code>, but you can do <code>List&lt;? extends Tree&gt; b1 = a1;</code>.</p>

<p>However if you do the latter, trying to use the <code>add</code> or <code>set</code> method (or any other method which takes a <code>T</code> as an argument) will cause a compile error. This way it is not possible to make the equivalent of the above array problem compile (without unsafe casts).</p>
"
"<p>Suppose I have a class in Ruby:</p>

<pre><code>class Test
  def method(arg1, arg2)
    return arg1+arg2
  end

  memoize :method
end
</code></pre>

<p>And I want to memoize its results. So for debug purposes I modified the class like this:</p>

<pre><code>class Test
  def method(arg1, arg2)
    puts 'sth to make sure the method was executed'
    return arg1+arg2
  end
  ...
end
</code></pre>

<p>And wrote a test that calls the method with same args, to see what get's outputted... and well the method is not memoized. What's the correct way to do this?</p>
","149392","","<p><code>memoize :method</code> inside the class body, memoizes the method <code>Test.method</code>. However you want to memoize the instance method <code>Test#method</code>. To do this use <code>memoize :method</code> inside <code>Test</code>'s initialize method. (Make sure you include the <code>Memoize</code> module into <code>Test</code> first).</p>
"
"<p>All,</p>

<p>Here is the type expression which I need to convert to a ML expression:</p>

<pre><code>int -&gt; (int*int -&gt; 'a list) -&gt; 'a list
</code></pre>

<p>Now I know this is a currying style expression which takes 2 arguments:
1st argument = Type int
and 2nd argument = Function which takes the previous int value twice and <strong>return a list of any type</strong></p>

<p>I am having a hard time figuring such a function that would take an <code>int</code> and return <code>'a list</code>.</p>

<p>I am new to ML and hence this might be trivial to others, but obviously not me.</p>

<p>Any help is greatly appreciated. </p>
","149392","","<p>You get an <code>int</code> and a function <code>int*int -&gt; 'a list</code>. You're supposed to return an <code>'a list</code>. So all you need to do is call the function you get with (x,x) (where x is the int you get) and return the result of that. So</p>

<pre><code>fun foo x f = f (x,x)
</code></pre>

<p>Note that this is not the only possible function with type <code>int -&gt; (int*int -&gt; 'a list) -&gt; 'a list</code>. For example the functions <code>fun foo x f = f (x, 42)</code> and <code>fun foo x f = f (23, x)</code> would also have that type.</p>

<p>Edit:</p>

<p>To make the type match exactly add a type annotation to restrict the return type of f:</p>

<pre><code>fun foo x (f : int*int -&gt; 'a list) = f (x,x)
</code></pre>

<p>Note however that there is no real reason to do that. This version behaves exactly as the one before, except that it only accepts functions that return a list.</p>
"
"<p>I would like it to match:</p>

<pre><code>aaaaaa
bb
c
</code></pre>

<p>but not:</p>

<pre><code>aaabaaa
cd
</code></pre>

<p>...</p>
","149392","","<p>Using back references:</p>

<pre><code>(.)(\1)*
</code></pre>

<p>Read: match any character followed by that same character 0 or more times.</p>

<p>Depending on the regexp engine and your needs, you might want to anchor the regex to only match the whole string, not substrings.</p>
"
"<p>In C# I can declare the following</p>

<pre><code>class A {
    int Field;
}

class B : A {
    int Field2;
}

static int f(A a) { return a.Field; }
static int f(B b) { return a.Field + b.Field2; }

static void Main(string[] args) {
    A a = new A() { Field = 1 };
    A b = new B() { Field = 1, Field = 2};

    Console.WriteLine(f(a) + f(b));
}
</code></pre>

<p>In Haskell I would type out the above as</p>

<pre><code>data A = A { field :: Int } | B { field :: Int, field2 :: Int }

f :: A -&gt; Int
f (A a) = a
f (B a b) = a + b

main :: IO()
main = do putStrLn $ show (f(a) + f(b))
    where a = A 1
          b = B 1 2
</code></pre>

<p>What I don't like about the Haskell counterpart is that I have to repeat <code>field</code> twice in the data definition of <code>A</code> (this becomes more tiresome as the number of fields increases that are present in <code>A</code> that need to be in <code>B</code>). Is there a more concise way in Haskell to write <code>B</code> as a subclass of <code>A</code> (that is somewhat similar to the C# way)?</p>
","149392","","<p>If A has a lot of fields, one design that might make sense is to have two different datatypes for A and B, where a B contains an A, and then use a typeclass to define f. Like so:</p>

<pre><code>data A = A {field1 :: Int, field2 :: Int, ..., field9999 :: Int}
data B = B {a :: A, field10000 :: Int}

class ABC a where
    f :: a -&gt; Int

instance ABC A where
    f a = field1 a + field101 a

instance ABC B where
    f b = f (a b) + field10000 b
</code></pre>
"
"<p>I have a list of lines read from a file. I need to sort the list by time stamp (in UTC), however the time stamp is not always at the beginning of the string. I have parsed out the time stamp using regular expressions and place them into a separate list. The indices of the two lists will match. Once I sort the list of time stamps, I can get the order of indices. </p>

<p>Is there a way to apply the same order of indices to the original list of lines? The result should be the sorted list of original lines.</p>

<p>Thanks.</p>

<p>Example:</p>

<pre><code>listofLines =  ['log opened 16-Feb-2010 06:37:56 UTC', 
                '06:37:58 Custom parameters are in use',
                'log closed 16-Feb-2010 05:26:47 UTC']
listofTimes = ['06:37:56', '06:37:58', '05:26:47']
sortedIndex = [2,0,1]
</code></pre>
","149392","","<pre><code>[listofLines[i] for i in sortedIndex]
</code></pre>
"
"<p>All,</p>

<p>I want to derive the type expression for the function below in ML:</p>

<pre><code>fun f x y z = y (x z)
</code></pre>

<p>Now I know typing the same would generate the type expression. But I wish to derive these values by hand.</p>

<p>Also, please mention the general steps to follow when deriving type expressions.</p>
","149392","","<p>To determine the type of something you need to look at every place where it is used. For example if you see <code>val h = hd l</code>, you know that <code>l</code> is a list (because <code>hd</code> takes a list as an argument) and you also know that the type of <code>h</code> is the type that <code>l</code> is a list of. So let's say the type of <code>h</code> is <code>a</code> and the type of <code>l</code> is <code>a list</code> (where <code>a</code> is a placeholder). Now if you see <code>val h2 = h*2</code>, you know that <code>h</code> and <code>h2</code> are <code>int</code>s, because <code>2</code> is an int, you can multiply an int with another int and the result of multiplying two ints is an int. Since we previously said the type of <code>h</code> is <code>a</code> this means that <code>a</code> is <code>int</code>, so the type of <code>l</code> is <code>int list</code>.</p>

<p>So let's tackle your function:</p>

<p>Let's consider the expressions in the order in which they are evaluated: First you do <code>x z</code>, i.e. you apply <code>x</code> to <code>z</code>. That means <code>x</code> is a function, so it has the type <code>a -&gt; b</code>. Since <code>z</code> is given as an argument to the function it has to have the type <code>a</code>. The type of <code>x z</code> is therefor <code>b</code> because that is the result type of <code>x</code>.</p>

<p>Now <code>y</code> is called with the result of <code>x z</code>. This means <code>y</code> is also a function and its argument type is the result type of <code>x</code>, which is <code>b</code>. So <code>y</code> has the type <code>b -&gt; c</code>. Again the type of the expression <code>y (x z)</code> is therefor <code>c</code> because that is the result type of <code>y</code>.</p>

<p>Since those are all the expressions in the function, we cannot restrict the types any further and therefor the most general types for <code>x</code>, <code>y</code> and <code>z</code> are <code>'a -&gt; 'b</code>, <code>'b -&gt; 'c</code> and <code>'a</code> respectively and the type of the whole expression is <code>'c</code>.</p>

<p>This means the overall type of <code>f</code> is <code>('a -&gt; 'b) -&gt; ('b -&gt; 'c) -&gt; 'a -&gt; 'c</code></p>

<p>For an explanation of how types are inferred programatically read about <a href=""http://en.wikipedia.org/wiki/Type_inference#Hindley.E2.80.93Milner_type_inference_algorithm"" rel=""nofollow"">Hindley–Milner type inference</a>.</p>
"
"<p>Why is the second if statement failing in the following code block? The output from the console indicates that the private parameter is 0, so it should be passing? The private parameter is from a checkbox in the new form, that I'm using to set a boolean field in the model.</p>

<pre><code>if (((params[:note])[:text]) != """")
  logger.debug(""passed first test"")
  logger.debug(((params[:note])[:private]))
  if (((params[:note])[:private]) == 0)
    logger.debug(""passed second test"")
  end
end
</code></pre>

<p>console output</p>

<pre><code>passed first test
0
Completed in 61ms (DB: 1) | 302 Found [http://localhost/notes]
</code></pre>

<p>Thanks for reading.</p>
","149392","","<p>In cases where two expressions print the same, but aren't equal, you usually have different types. For example <code>""0""</code>, <code>:""0""</code> and <code>0</code> both print as <code>0</code>, but aren't actually equal to each other.</p>

<p><code>logger.debug(params[:note][:private].inspect)</code> should give you more meaningful output, indicating the type of the object as well as the contents (i.e. if it's a string it's surrounded by quotes, if it's a symbol it starts with a colon, etc.).</p>

<p>The values in <code>params</code> are generally strings, so the value of <code>params[:note][:private]</code> is very probably <code>""0""</code>, not <code>0</code>.</p>
"
"<p>I don't have much programming experience. But to me, Struct seems somewhat similar to Hash.</p>

<ul>
<li>What tasks does Struct do very good?</li>
<li>Is there anything Struct can do, but Hash cannot do?</li>
</ul>

<p>After googling, the concept of Struct is important in C, but I don't know much about C.</p>
","149392","","<p>Structs differ from using hashmaps in the following ways (in addition to how the code looks):</p>

<ul>
<li>A struct has a fixed set of attributes, while you add new keys to a hash.</li>
<li>If you don't know the name of the attribute you want to access until runtime, you need to use <code>send</code> to access the attribute, while with a hash not knowing the key until runtime makes no difference at all.</li>
<li>Relatedly calling an attribute that does not exist on an instance of a struct will cause a NoMethodError, while getting the value for a non-existing key from a hash will just return nil.</li>
<li>Two instances of different structs will never be equal even if the structs have the same attributes and the instances have the same values (i.e. <code>Struct.new(:x).new(42) == Struct.new(:x).new(42)</code> is false, whereas <code>Foo = Struct.new(:x); Foo.new(42)==Foo.new(42)</code> is true).</li>
<li>The <code>to_a</code> method for structs returns an array of values, while <code>to_a</code> on a hash gets you an array of key-value-pairs (where ""pair"" means ""two-element array"")</li>
<li>If <code>Foo = Struct.new(:x, :y, :z)</code> you can do <code>Foo.new(1,2,3)</code> to create an instance of <code>Foo</code> without having to spell out the attribute names.</li>
</ul>

<p>So to answer the question: When you want to model objects with a known set of attributes, use structs. When you want to model arbitrary use hashmaps (e.g. counting how often each word occurs in a string or mapping nicknames to full names etc. are definitely not jobs for a struct, while modeling a person with a name, an age and an address would be a perfect fit for <code>Person = Struct.new(name, age, address)</code>).</p>

<p>As a sidenote: C structs have little to nothing to do with ruby structs, so don't let yourself get confused by that.</p>
"
"<p>My problem basically looks like this:</p>

<pre><code>module Foo
  class Bar
    def self.who
      self.class.to_s
    end
  end
end

class World &lt; Foo::Bar

end
</code></pre>

<p>When I call <code>World.who</code> I don't get <code>""World""</code> as a result, I get <code>""Class""</code>. Some quick Googling didn't yield anything useful, so hence I'm here hoping someone will know how to get the correct class name :)</p>
","149392","","<p>If you're calling <code>foo.bar</code> then inside the <code>bar</code> method the value of <code>self</code> will be <code>foo</code>. So when you call <code>World.who</code> the value of <code>self</code> inside <code>who</code> is <code>World</code>. Since <code>World</code> is a class, <code>World.class</code> will return <code>Class</code>, so that's what you get.</p>

<p>To get back <code>""World""</code> just call <code>self.to_s</code> or <code>self.name</code> (or just <code>to_s</code> or <code>name</code>).</p>
"
"<p>HI</p>

<p>is it possible to return an array that contains an array and hash from a method in ruby?</p>

<p>i.e</p>

<pre><code>def something
array_new = [another_thing, another_thing_2]
hash_map = get_hash()

return [array_new, hash_map]

end
</code></pre>

<p>and to retrieve the array:</p>

<pre><code>some_array, some_hash = something()
</code></pre>

<p>thanks</p>
","149392","","<p>Sure, that's perfectly possible and works exactly as in your example.</p>
"
"<p>Should this be the case i.e. I am misunderstanding, or is it a bug?</p>

<pre><code>a = Array.new(3, Array.new(3))
a[1].fill('g')

=&gt; [[""g"", ""g"", ""g""], [""g"", ""g"", ""g""], [""g"", ""g"", ""g""]]
</code></pre>

<p>should it not result in</p>

<pre><code>=&gt; [[nil, nil, nil], [""g"", ""g"", ""g""], [nil, nil, nil]]
</code></pre>

<p>Any advice would be most helpful!</p>

<p>Regards,</p>
","149392","","<p><code>Array.new(3, Array.new(3))</code> returns an array which contains the same array three times (in other words: the expression <code>Array.new(3)</code> is evaluated exactly once and no copies are made).</p>

<p>What you probably want is <code>Array.new(3) { Array.new(3) }</code>, which evaluates <code>Array.new(3)</code> three times and thus gives you an array of three independent arrays.</p>
"
"<p>I've been trying to work with templates for a while now and the more I do the less I realise I understand. This latest problem feels like it has unearthed a rather fundamental misunderstanding on my part and I'm starting to think more than ever that, ""Right, tomorrow I shouldn't write any code but instead find a library with a good CS section and just read everything they have on templates""! I wonder if in the mean time you can help me.</p>

<p>So, the following code,</p>

<pre><code>template &lt;typename T&gt;    // or replace `typename` with `class`
struct Foo {
    struct Bar {};
    Foo(Bar) {}
};

Foo&lt;float&gt;::Bar x;
Foo&lt;int&gt; y (x);
</code></pre>

<p>doesn't compile since <code>x</code> is of type <code>Foo&lt;float&gt;::Bar</code> but to construct <code>y</code> we need a <code>Foo&lt;int&gt;::Bar</code>. That's fine, and expected, but now consider the following,</p>

<pre><code>template &lt;int I&gt;
struct Foo {
    struct Bar {};
    Foo(Bar) {}
};

Foo&lt;0&gt;::Bar x;
Foo&lt;1&gt; y (x);
</code></pre>

<p>I was hoping/thinking (although, thankfully, not as yet relying on) that <code>x</code> would be of type <code>Foo&lt;0&gt;::Bar</code> and to construct <code>y</code> we would need a <code>Foo&lt;1&gt;::Bar</code> and as such it would not compile - as in the previous example. But it seems that both are in fact of type <code>Foo&lt;int&gt;::Bar</code> and so, this <em>will</em> compile.</p>

<p>So, I wonder, what, first, is the correct terminology to describe this difference between a typename/class parameterized template and an integral type parameterized one, what other differences in behaviour does this entail, and, what method could I use to solve this problem and get the desired behaviour for this simple example so that <code>Foo&lt;0&gt;</code> and <code>Foo&lt;1&gt;</code> will describe incompatible types?</p>

<p>And, before that trip to the library, any links to ""essential"", online, reading materials on the subject would be welcomed too.
Thanks.</p>
","149392","","<p>On gcc 4.4.3 your second example fails to compile with the message ""error: no matching function for call to 'Foo&lt;1>::Foo(Foo&lt;0>::Bar&amp;)'"", which is exactly what you expected to happen.</p>

<p>So you did not misunderstand anything. If this compiles for you, that's non-standard behavior by your compiler.</p>
"
"<p>On the last two lines:</p>

<pre><code>$ ruby -v
ruby 1.9.1p378 (2010-01-10 revision 26273) [i386-darwin10]
$ irb
irb(main):001:0&gt; def t(str)
irb(main):002:1&gt;  str.index str
irb(main):003:1&gt; end
=&gt; nil
irb(main):004:0&gt; t 'abc'
=&gt; 0
irb(main):005:0&gt; t ""\x01\x11\xfe""
=&gt; nil
irb(main):006:0&gt; t ""\x01\x11\xfe"".force_encoding(Encoding::UTF_8)
=&gt; nil
</code></pre>

<p>Why does <code>str.index str</code> return nil?</p>
","149392","","<p>""\x01\x11\xfe"" is not valid UTF8.</p>

<p>If you call <code>t ""\x01\x11\xfe"".force_encoding(Encoding::BINARY)</code>, you'll get the expected 0.</p>
"
"<p>I have the following method:</p>

<pre><code>def speciate 
  chem_formula.each { |chemical|
    @chem_species = chemical.scan(/[A-Z][^A-Z]*/)
    puts @chem_species
  }
end
</code></pre>

<p>that produces:</p>

<pre><code>H2
S
O4

@chem_species = [""S"", ""O4""]
</code></pre>

<p>from: <code>@chem_formula = [""H2"" ""SO4""]</code></p>

<p><strong>How do you set the array to include all iterations?</strong> That is how do you output <code>[""H2"", ""S"", ""O4""]</code> rather than <code>[""S"", ""O4""]</code> Thank you in advance.</p>
","149392","","<pre><code>def speciate
  @chem_species = []
  chem_formula.each { |chemical|
    @chem_species.concat(chemical.scan(/[A-Z][^A-Z]*/))
    puts @chem_species
  }
end
</code></pre>
"
"<p>I have feeling, that if one defines a method</p>

<pre><code>def test
  puts 'Hi'
end
</code></pre>

<p>then there is a class to which this method belongs to (i.e. <code>Unknown#test</code>). So one probably has a possibility to list all methods defined ""outside"" of other classes. Or there is another way to do such listing?</p>
","149392","","<p>If you define a method outside of any class, it will become a private method of the <code>Object</code> class.</p>
"
"<p>I was wondering if the following was possible:</p>

<pre><code>class foo
{
  virtual void bar();
}

class izy : public foo
{
 int a;
 virtual  void bar()
 {
  a = 2;
 }
}

foo *anyfoo = new izy;
anyfoo.bar();
</code></pre>

<p>essentially what I want to know is, can I add the variable a or will a be nonexistant since its not part of the base class foo?</p>
","149392","","<p>With the code you have, it will not work as you want because <code>foo</code>'s <code>bar</code> will be called, not <code>izy</code>'s bar. If you change <code>bar</code> to be virtual, it will work as intended. <code>a</code> only existing in the <code>izy</code> class is not a problem.</p>
"
"<p>In PHP you need to use <code>preg_quote()</code> to escape all the characters in a string that have a particular meaning in a regular expression, to allow (in example) <code>preg_match()</code> to search for those special characters.</p>

<p>What is the equivalent in Ruby of the following code?</p>

<pre><code>// The content of this variable is obtained from user input, in example.
$search = ""$var = 100"";
if (preg_match('/' . preg_quote($search, '/') . "";/i"")) {
  // …
}
</code></pre>
","149392","","<p>You want <code>Regexp.escape</code>.</p>

<pre><code>str = ""[...]""
re = /#{Regexp.escape(str)}/
""la[...]la[...]la"".gsub(re,"""") #=&gt; ""lalala""
</code></pre>
"
"<p>I have a simple question about rails syntax:</p>

<p>How can I find out to which class a object belongs?</p>

<p>I try to do someting like:</p>

<pre><code>if class(object) == MyClass
</code></pre>

<p>Thanks
Maechi</p>
","149392","","<p>You can do</p>

<pre><code>if object.class == MyClass
</code></pre>

<p>or</p>

<pre><code>if object.is_a?(MyClass)
</code></pre>

<p>The latter also returns true if <code>object</code> is an instance of a subclass of <code>MyClass</code>.</p>
"
"<p>I'm learning Ruby and RoR at the moment, and I came across this:</p>

<pre><code>&lt;% for post in @posts %&gt;
</code></pre>

<p>in the <a href=""http://guides.rubyonrails.org/getting_started.html"">Rails guide</a>. I'd understood that the idiomatic way to do this in Ruby is with:</p>

<pre><code>&lt;% @posts.each do |post| %&gt;
</code></pre>

<p>If there is a difference then what is it? And if there isn't a difference then wouldn't it be better for the Rails people to be pushing proper Ruby idioms (rather than this, which looks more pythonic to me)?</p>

<p><strong>Edit:</strong> I've just found two conflicting explanations of this: <a href=""http://www.tutorialspoint.com/ruby/ruby_loops.htm"">Tutorials Point</a> says they're the same except ""a for loop doesn't create a new scope for local variables"", whereas <a href=""http://www.cs.auckland.ac.nz/references/ruby/doc_bundle/Manual/man-1.4/syntax.html#for"">CS.Auckland.ac.NZ</a> says <code>for</code> is just syntactic sugar for the equivalent <code>.each</code>.</p>

<p><strong>Edit2:</strong> The <code>for ... in</code> in question was for the <code>index.html.erb</code> generated in <code>app/views/posts</code> by <code>script/generate scaffold</code>. I've done a quick check and that now generates the <code>.each</code> syntax. I guess that part of the guide was written at an earlier stage of rails development when the scaffold generated <code>for ... in</code>.</p>

<p><strong>Edit3:</strong> I can now confirm that <code>for x in y</code> was used in Rails 2.2.2, but by 2.3.8 it is using <code>y.each do |x|</code>. Just so you know.</p>
","149392","","<p>The tutorialpoint page is correct, <code>for</code> is equivalent to <code>each</code> except for the scoping difference. Here's a demonstration:</p>

<pre><code>arr = [1,2,3]
arr.each do |x|
  last = x
end
last # NameError
</code></pre>

<p>vs.</p>

<pre><code>arr = [1,2,3]
for x in arr
  last = x
end
last #=&gt; 3
</code></pre>

<p>If you want to make it work using <code>each</code>, you need to do <code>last = nil</code> before the loop. This is, as the link pointed out, because blocks start a new scope while <code>for</code> does not.</p>

<p>Note however that this rarely makes a practical difference and few people are even aware of it.</p>

<p>When people use <code>for</code> in ruby it's most often because that's what they're used to coming from other languages - not because of any differences between <code>for</code> and <code>each</code>.</p>
"
"<p>I'm new to scala, and what I'm learning is <code>tuple</code>.</p>

<p>I can define a tuple as following, and get the items:</p>

<pre><code>val tuple = (""Mike"", 40, ""New York"")
println(""Name: "" + tuple._1)
println(""Age: "" + tuple._2)
println(""City: "" + tuple._3)
</code></pre>

<p>My question is:</p>

<ol>
<li>How to get the length of a tuple?</li>
<li>Is tuple mutable? Can I modify its items?</li>
<li>Is there any other useful operation we can do on a tuple?</li>
</ol>

<p>Thanks in advance!</p>
","149392","","<ol>
<li>You know the size of a tuple, it's part of it's type. For example if you define a function <code>def f(tup: (Int, Int))</code>, you know the length of <code>tup</code> is 2 because values of type <code>(Int, Int)</code> (aka <code>Tuple2[Int, Int]</code>) always have a length of 2.</li>
<li>No.</li>
<li>Not really. Tuples are useful for storing a fixed amount of items of possibly different types and passing them around, putting them into data structures etc. There's really not much you can do with them, other than creating tuples, and getting stuff out of tuples.</li>
</ol>
"
"<p>All,</p>

<p>Below is the lambda expression which I am finding difficult to reduce i.e. I am not able to understand how to go about this problem.</p>

<p>(λm λn λa λb . m (n a b) b) (λ f x. x) (λ f x. f x)</p>

<p>This is what I tried, but I am stuck:  </p>

<p>Considering the above expression as : (λm.E) M equates to<br>
E= (λn λa λb. m (n a b) b)<br>
M = (λf x. x)(λ f x. f x)  </p>

<p>=> (λn λa λb. (λ f x. x) (λ f x. f x) (n a b) b)  </p>

<p>Considering the above expression as (λn. E)M equates to<br>
E = (λa λb. (λ f x. x) (λ f x. f x) (n a b) b)<br>
M = ??  </p>

<p>.. and I am lost!!  </p>

<p>Can anyone please help me understand that, for ANY lambda calculus expression, what should be the steps to perform reduction?  </p>
","149392","","<p>You can follow the following steps to reduce lambda expressions:</p>

<ol>
<li>Fully parenthesize the expression to avoid mistakes and make it more obvious where function application takes place.</li>
<li>Find a function application, i.e. find an occurrence of the pattern <code>(λX. e1) e2</code> where <code>X</code> can be any valid identifier and <code>e1</code> and <code>e2</code> can be any valid expressions.</li>
<li>Apply the function by replacing <code>(λx. e1) e2</code> with <code>e1'</code> where <code>e1'</code> is the result of replacing each free occurrence of <code>x</code> in <code>e1</code> with <code>e2</code>.</li>
<li>Repeat 2 and 3 until the pattern no longer occurs. Note that this can lead to an infinite loop for non-normalizing expressions, so you should stop after 1000 iterations or so ;-)</li>
</ol>

<p>So for your example we start with the expression</p>

<pre><code>((λm. (λn. (λa. (λb. (m ((n a) b)) b)))) (λf. (λx. x))) (λf. (λx. (f x)))
</code></pre>

<p>Here the subexpression <code>(λm. (λn. (λa. (λb. (m ((n a) b)) b)))) (λf. (λx. x))</code> fits our pattern with <code>X = m</code>, <code>e1 = (λn. (λa. (λb. (m ((n a) b)) b))))</code> and <code>e2 = (λf. (λx. x))</code>. So after substitution we get <code>(λn. (λa. (λb. ((λf. (λx. x)) ((n a) b)) b)))</code>, which makes our whole expression:</p>

<pre><code>(λn. (λa. (λb. ((λf. (λx. x)) ((n a) b)) b))) (λf. (λx. (f x)))
</code></pre>

<p>Now we can apply the pattern to the whole expression with <code>X = n</code>, <code>e1 = (λa. (λb. ((λf. (λx. x)) ((n a) b)) b))</code> and <code>e2 = (λf. (λx. (f x)))</code>. So after substituting we get:</p>

<pre><code>(λa. (λb. ((λf. (λx. x)) (((λf. (λx. (f x))) a) b)) b))
</code></pre>

<p>Now <code>((λf. (λx. (f x))) a)</code> fits our pattern and becomes <code>(λx. (a x))</code>, which leads to:</p>

<pre><code>(λa. (λb. ((λf. (λx. x)) ((λx. (a x)) b)) b))
</code></pre>

<p>This time we can apply the pattern to <code>((λx. (a x)) b)</code>, which reduces to <code>(a b)</code>, leading to:</p>

<pre><code>(λa. (λb. ((λf. (λx. x)) (a b)) b))
</code></pre>

<p>Now apply the pattern to <code>((λf. (λx. x)) (a b))</code>, which reduces to <code>(λx. x)</code> and get:</p>

<pre><code>(λa. (λb. b))
</code></pre>

<p>Now we're done.</p>
"
"<p>I wonder how one can list all methods in a module, but not including inherited methods.</p>

<p>eg.</p>

<pre><code>module Software
  def exit
    puts ""exited""
  end
end

puts Software.methods
</code></pre>

<p>Will list not only exit, but all inherited methods.</p>

<p>Is is possible to just list exit?</p>

<p>Thanks</p>
","149392","","<p>Actually <code>Software.methods</code> will <em>not</em> list <code>exit</code>. <code>Software.instance_methods</code> will list <code>exit</code> as well as any inherited methods (which in this case is nothing because modules don't inherit any methods unless you include another module). <code>Software.instance_methods(false)</code> will only list methods defined in <code>Software</code>.</p>
"
"<p><code>read</code> is defined in the Prelude as</p>

<pre><code>read :: (Read a) =&gt; String -&gt; a
</code></pre>

<p>and can be used as e.g. <code>read ""1"" :: Int</code>. </p>

<p>Now a function</p>

<pre><code>readOne :: (Read a) =&gt; [String] -&gt; (a, [String])
readOne (x:xs) = (read x,xs)
</code></pre>

<p>used with <code>readOne [""1"",""foo""]</code> results (as expected) in the error</p>

<p><code>
Ambiguous type variable 'a' in the constraint: <br />
'Read a' arising from a use of 'readOne' at :1:0-18 <br />
Probable fix: add a type signature that fixes these type variable(s)
</code></p>

<p>But <code>readOne [""1"",""foo""] :: Int</code> doesn't work, while</p>

<pre><code>readOneInt :: [String] -&gt; (Int, [String])
readOneInt = readOne
</code></pre>

<p>works just fine:</p>

<pre><code>&gt; readOneInt [""1"", ""foo""]
(1,[""foo""])
</code></pre>

<p>So: how can I add a type signature to <code>readOne</code> without defining a new function like <code>readOneInt</code>?</p>
","149392","","<p><code>readOne [""1"",""foo""] :: Int</code> doesn't work because <code>readOne</code> couldn't possibly return an <code>Int</code>, it always returns a tuple, whose second element is a <code>[String]</code>. <code>readOne [""1"", ""foo""] :: (Int, [String])</code> will work.</p>

<p>Note that you only need to specify the type if it can't be inferred. If you use the result of <code>readOne</code> in a context where it needs to be an <code>Int</code>, you can use <code>readOne</code> without type annotations. Example:</p>

<pre><code>let inc (i, strs) = (i + 1, strs) in
inc (readOne [""1"", ""foo""])
-- (2, [""foo""])
</code></pre>
"
"<pre><code>(%?) :: Int -&gt; (Int -&gt; Int) -&gt; Int
x %? f = f x

m :: Int -&gt; Int
m v = v %? \z -&gt; z * 2 %? \z -&gt; z + 3 %? \x -&gt; x + z
</code></pre>

<p>or simpler</p>

<pre><code>p :: Int -&gt; Int
p v = v %? \z -&gt; z * 2 %? \z -&gt; z + 3
</code></pre>

<p>e.g, p 4 = 20</p>
","149392","","<p><code>%?</code> has too high precedence and is left-associative, so <code>v %? \z -&gt; z * 2 %? \z -&gt; z + 3</code> is the same as <code>v %? \z -&gt; z * (2 %? \z -&gt; z + 3)</code>.</p>

<p>If you want <code>%?</code> to behave like <code>$</code> use <code>infixr 0 %?</code>, so it has the same precedence and associativity as <code>$</code>.</p>
"
"<p>Given an <code>n</code> x <code>m</code> array of boolean:</p>

<pre><code>[[true, true, false],
 [false, true, true],
 [false, true, true]]
</code></pre>

<p>what is the shortest code that can return ""how many true are there in that column?""</p>

<p>the result should be </p>

<pre><code>[1, 3, 2] 
</code></pre>
","149392","","<p>Use transpose to get an array where each subarray represents a column and then map each column to the number of <code>true</code>s in it:</p>

<pre><code>arr.transpose.map {|subarr| subarr.count(true) }
</code></pre>

<p>Here's a version with inject that should run on 1.8.6 without any dependencies:</p>

<pre><code>arr.transpose.map {|subarr| subarr.inject(0) {|s,x| x ? s+1 : s} }
</code></pre>
"
"<p>You can create a subclass of an exception to make it more descriptive, but how should you set the default 'message'?</p>

<pre><code>class MyError &lt; StandardError
  # default message = ""You've triggered a MyError""
end

begin
  raise MyError, ""A custom message""
rescue Exception =&gt; e
  p e.message
end

begin
  raise MyError
raise Exception =&gt; e
  p e.message
end
</code></pre>

<p>The first should output 'A custom message'</p>

<p>The second should output 'You've triggered a MyError'</p>

<p>Any suggestions as to best practice?</p>
","149392","","<p>Define an initialize method, which takes the message as an argument with a default value. Then call <code>StandardError</code>'s initialize method with that message (using <code>super</code>).</p>

<pre><code>class MyError &lt; StandardError
  def initialize(msg = ""You've triggered a MyError"")
    super(msg)
  end
end
</code></pre>
"
"<p>In a book they showed me this declaration:</p>

<pre><code>friends = [ { first_name: ""Emily"", last_name: ""Laskin"" }, { first_name: ""Nick"", last_name: ""Mauro"" }, { first_name: ""Mark"", last_name: ""Maxwell"" } ]
</code></pre>

<p>This doesn't look like a hash. And when I enter it in IRB i get an error.</p>

<p>What is this format?</p>
","149392","","<p>The <code>{key: value}</code> syntax is new in 1.9 and is equivalent to <code>{:key =&gt; value}</code>.</p>
"
"<p>How can I get a lazy array in Ruby? </p>

<p>In Haskell, I can talk about <code>[1..]</code>, which is an infinite list, lazily generated as needed. I can also do things like <code>iterate (+2) 0</code>, which applies whatever function I give it to generate a lazy list. In this case, it would give me all even numbers. </p>

<p>I'm sure I can do such things in Ruby, but can't seem to work out how.</p>
","149392","","<p>As I already said in my comments, implementing such a thing as lazy arrays wouldn't be sensible.</p>

<p>Using Enumerable instead can work nicely in some situations, but differs from lazy lists in some points: methods like map and filter won't be evaluated lazily (so they won't work on infinite enumerables) and elements that have been calculated once aren't stored, so if you access an element twice, it's calculated twice.</p>

<p>If you want the exact behavior of haskell's lazy lists in ruby, there's a <a href=""http://flori.github.com/lazylist/"" rel=""nofollow"">lazylist gem</a> which implements lazy lists.</p>
"
"<p>I have a problem with Ruby's openssl library. </p>

<p>Here is what I do: </p>

<p>In my Rails application, I start the ""./script/console"", then type:</p>

<blockquote>
>>OpenSSL::HMAC.hexdigest('sha256','','')
</blockquote>

<p>gives me this error: </p>

<blockquote>
TypeError: wrong argument (String)! (Expected kind of OpenSSL::Digest::Digest)
        from (irb):15:in `hexdigest'
        from (irb):15
</blockquote>

<p>I googled this error but couldn't get an answer on what's going on. </p>
","149392","","<p>The error message says you gave a string where an object of kind <code>OpenSSL::Digest::Digest</code> was expected.</p>

<p>So use <code>OpenSSL::Digest::SHA256.new</code> (which is an object of kind <code>OpenSSL::Digest::Digest</code> on account of <code>SHA256</code> being a subclass of <code>Digest</code>) instead of <code>'sha256'</code> (which is a string).</p>
"
"<p>I am very new to Scheme and I am slowly finding my way around it.</p>

<p>I have some doubts on Procedures and Map which I hope could be answered.</p>

<pre><code>(map plus1 (list 1 2 3 4))
</code></pre>

<p>will basically return me the result:</p>

<pre><code>(2 3 4 5)
</code></pre>

<p>It is fine if the procedure takes in the list as its only parameter. My question is how am I able to use a procedure like such which takes in 2 parameters with Map?</p>

<pre><code>(define plus(m list)
    (+ m list))
</code></pre>

<p>Thanks in advance for help and advice.</p>
","149392","","<pre><code>(define (plus m xs)
  (map (lambda (x) (+ m x)) xs))
</code></pre>

<p>or</p>

<pre><code>(define (adder m)
  (lambda (x) (+ m x)))

(define plus (m xs)
  (map (adder m) xs))
</code></pre>

<p>Which allows you to reuse the <code>adder</code> function for other things as well.</p>
"
"<p>I have a regular expression that returns multiple variables within a match. I am interested in the first non-null variable in a subset of indices within the match, so I am using</p>

<pre><code>result = a[1] || a[3] || a[6] || ...
</code></pre>

<p>I would like to store the relevant indices in a configuration file along with the regular expression itself. What is the best shorthand notation that doesn't obfuscate the meaning?</p>
","149392","","<p>Use <code>values_at</code> to get an array which contains only the elements at the specified indices. Then use <code>find {|x| x}</code> to get the first element that is not nil or false.</p>

<pre><code>result = a.values_at(*indices).find {|x| x}
</code></pre>
"
"<p>Say we have a list of rooms with their capacities and a list of meetings with the number of attendees. We want to match each meeting with one room in the following way:</p>

<ol>
<li>A meeting can only be scheduled in a room with capacity equal to or greater than its attendance.</li>
<li>If surplus rooms are present, meetings should be scheduled so that the largest possible room is left unscheduled. </li>
<li>A meeting with a larger attendance should not be scheduled in a smaller room than a meeting with a smaller attendance.</li>
<li>Obviously we should find out if it is impossible to schedule the given meetings in the given rooms.</li>
</ol>

<p>Can we arrive at the schedule efficiently? A single pass would be nice, some backtracking is ok, but the only option I can get to work (a rough algorithm plus dynamically shaking out violations of rule 3) is slower than I would like.</p>

<p>This question is not as easy as it looks! The naive linear approaches fail at least one criterion:</p>

<ol>
<li><p>We can sort each list from high-to-low and start pairing the largest room to the largest session, we will come up with a solution any time it is possible, but we will have the smallest possible rooms left over rather than the largest. (Consider the case of 10 and 15-person meetings scheduled in 200, 30, and 20-person capacity rooms.)</p></li>
<li><p>We can sort the meeting list from high-to-low and then walk down it, trying to find the smallest room that is just large enough to contain this meeting. But sometimes this will result in a larger room being scheduled for a smaller meeting. (Consider scheduling 40 and 30-person meetings in 40 and 80-person rooms.)</p></li>
</ol>

<p>But surely there is a better way to solve this relatively simple problem.</p>
","149392","","<p>Can't you just sort both list from low to high and then put each meeting in the first (i.e. smallest) room that is large enough to hold it?</p>

<p>As far as I can see that meets all your criteria:</p>

<ol>
<li>Check</li>
<li>This should follow directly from the fact that we always chose the smallest room possible</li>
<li>Since we've sorted the meeting from low attendance to high attendance, we'll never put a larger meeting in a smaller room.</li>
<li>If we reach the end of the room list before reaching the end of the meetings list, it wasn't possible to find a schedule.</li>
</ol>

<p>Edit in response to your comment:</p>

<p>We make two passes. The first one goes above. After this, if there are any meetings left, proceed as follows:</p>

<p>Go through the list of rooms and the list of unscheduled meetings from highest to lowest.</p>

<p>If the current meeting fits in the current room: Put it in that room (adding the meeting that was previously in that room to the list of unscheduled meetings (at the lowest position, so that sort order is maintained)). Move to the next meeting and room in the list.</p>

<p>If the current meeting does not fit in the current room: This meeting can not be scheduled. Remove the meeting from the list and try the next meeting (with the same room).</p>

<p>Repeat until the list of unscheduled meetings is empty.</p>
"
"<p>Consider the following, StubFoo is a stub of Foo, which I wish to stub out for some tests.</p>

<pre><code>class Runner

  def run
      Foo = StubFoo
      foo = Foo.new
      # using Foo...
  end

end
</code></pre>

<p>This generates the following error message: <code>Dynamic constant assignment</code></p>

<p>Yet, in RSpec I can do the following, which works and is perfectly legal:</p>

<pre><code>it ""should be an example"" do
  Foo = StubFoo
  foo = Foo.new
  foo.to_s.should == ""I am stubbed!""
end
</code></pre>

<p>A few questions regarding this.</p>

<ul>
<li>Why does this work with the RSpec test case, but not the method above?</li>
<li>As far as I'm aware, ""it"" is just a method within RSpec, yet I'm able to redeclare a constant within the ""method"".</li>
</ul>

<p>I'm doing this prior to using a mocking framework for purely wanting to know how mocking, stubbing etc... is different in Ruby. I hear that dynamic languages are easier to mock/stub, and there are guides on the Internet in which simple class reassignment is done as above. From my research, in Ruby it's not possible to declare constants within a method, yet I'm confused as mentioned above. </p>

<p><strong>Edit</strong></p>

<p>Right, this is starting to make more sense. I've updated run to be using const_set now.</p>

<pre><code>  def run
      old = Foo
      self.class.const_set(:Foo, StubFoo)
      foo = Foo.new
      puts foo.to_s
      self.class.const_set(:Foo, old)
      foo = Foo.new
      puts foo.to_s
  end
</code></pre>

<p>This generates a warning however, is this what/how mocking frameworks work then in Ruby? Obviously much more elegant and feature full, but do they simply repress this warning? </p>
","149392","","<p>You can't reassign constants in method definitions using <code>Constant = value</code>. You can however reassign them using <code>const_set</code>. Basically it's meant to discourage, but not disallow, dynamic constant reassignment.</p>

<p>As to why it works with <code>it</code>: Yes, <code>it</code> is a method, but you're not defining, you're calling it. The reassignment takes place inside the block which you pass as an argument to <code>it</code>. </p>

<p>Blocks inherit the type of the context in which they are created. This means that inside the block, <code>self.class.name</code> would be the name of your test class. Therefore, when you define a constant inside the block passed to the <code>it</code> method, you're actually defining a constant on your test class.</p>
"
"<p>I'd like to change the pwd of the current shell from within a ruby script. So:</p>

<pre><code>&gt; pwd
/tmp
&gt; ruby cdscript.rb
&gt; pwd
/usr/bin
</code></pre>

<p>This is the code I have right now:</p>

<pre><code>exec('cd /usr/bin')
</code></pre>

<p>Unfortunately, cd is a builtin command. So:</p>

<pre><code>`exec': No such file or directory - cd (Errno:ENOENT)
</code></pre>

<p>Any workaround for this?</p>

<hr>

<p>No way to get it working in ruby itself, so I switched gears. I modified the script to output the target directory path and then defined a function in .bashrc that would pass the arguments through the script and then cd to the right directory. Not self-contained as I would have hoped, but it did the job.</p>

<p>Thanks for the replies, folks. </p>
","149392","","<p>You can't change the working directory (or the environment variables for that matter) of the shell that invoked you in a ruby script (or any other kind of application). The only commands that can change the pwd of the current shell are shell built-ins.</p>
"
"<p>Can I do this?</p>

<pre><code>var1 = some_function(var1)
</code></pre>

<p>When I tried to do this I got errors, but perhaps I was doing something wrong.</p>
","149392","","<p>If the variable has been previously defined, you can do that yes.</p>

<p>Example:</p>

<pre><code>def f(x):
    return x+1

var1 = 5
var1 = f(var1)
# var1 is now 6
</code></pre>

<p>If the variable has not been defined previously, you can't do that, simply because there is no value that could be passed to the function.</p>
"
"<p>In Ruby, what is the difference between == and ===? The <a href=""http://www.ruby-doc.org/core/"">RDoc</a> says </p>

<blockquote>
  <p>Case Equality—For class Object,
  effectively the same as calling #==,
  but typically overridden by
  descendents to provide meaningful
  semantics in case statements.</p>
</blockquote>

<p>Is <code>#==</code> the same as <code>==</code>? And could you provide an example of when/how this is used in case statements?</p>
","149392","","<p>Yes, by <code>#==</code> the docs mean ""the instance method <code>==</code> of the current object"".</p>

<p><code>===</code> is used in case statements as such:</p>

<pre><code>case obj
when x
  foo
when y
  bar
end
</code></pre>

<p>Is the same as</p>

<pre><code>if x === obj
  foo
elsif y === obj
  bar
end
</code></pre>

<p>Some classes that define their own <code>===</code> are Range (to act like <code>include?</code>), Class (to act like <code>obj.is_a?(klass)</code>) and <code>Regexp</code> (to act like <code>=~</code> except returning a boolean). Some classes that don't define their own <code>===</code> are the numeric classes and String.</p>

<p>So</p>

<pre><code>case x
when 0
  puts ""Lots""
when Numeric
  puts(100.0 / x)
when /^\d+$/
  puts(100.0 / x.to_f)
default
  raise ArgumentError, ""x is not a number or numeric string""
end
</code></pre>

<p>is the same as</p>

<pre><code>if 0 == x
  puts ""Lots""
elsif x.is_a? Numeric
  puts(100.0 / x)
elsif x =~ /^\d+$/
  puts(100.0 / x.to_f)
else
  raise ArgumentError, ""x is not a number or numeric string""
end
</code></pre>
"
"<p><strong>Edit II:</strong> Ah, okay: I wasn't understanding how <em>a</em> and <em>b</em> were being bound in the definition of <em>eval</em>! Now I do. If anyone's interested, this is a diagram tracking <em>a</em> and <em>b</em>. I'm a pretty big fan of diagrams. Drawing arrows really improved my Haskell, I swear.</p>

<p><a href=""http://www.youshare.com/Guest/f00c68df1dd44c7b.pdf.html"" rel=""nofollow"">A Diagram of an eval call (PDF)</a></p>

<p>Sometimes I feel really dense.</p>

<hr>

<p>In section 2.8 of Wadler's ""<a href=""http://homepages.inf.ed.ac.uk/wadler/papers/marktoberdorf/baastad.pdf"" rel=""nofollow"">Monads for Functional Programming</a>,"" he introduces state into a simple evaluation function. The original (non-monadic) function tracks state using a series of let expressions, and is easy to follow:</p>

<pre><code>data Term = Con Int | Div Term Term
 deriving (Eq, Show)

type M a = State -&gt; (a, State)
type State = Int

eval' :: Term -&gt; M Int
eval' (Con a) x   = (a, x)
eval' (Div t u) x = let (a, y) = eval' t x in
                    let (b, z) = eval' u y in
                    (a `div` b, z + 1)
</code></pre>

<p>The definitions of <em>unit</em> and <em>bind</em> for the monadic evaluator are similarly straightforward:</p>

<pre><code>unit :: a -&gt; M a
unit a = \x -&gt; (a, x)

(&gt;&gt;=) :: M a -&gt; (a -&gt; M b) -&gt; M b
m &gt;&gt;= k = \x -&gt; let (a, y) = m x in
                let (b, z) = k a y in
                 (b, z)
</code></pre>

<p>Here, (>>=) accepts a monadic value <em>m</em> :: <em>M a</em>, a function <em>k</em> :: <em>a</em> -> <em>M b</em>, and outputs a monadic value <em>M b</em>. The value of <em>m</em> is dependent on the value substituted for <em>x</em> in the lambda expression.</p>

<p>Wadler then introduces the function <em>tick</em>:</p>

<pre><code>tick :: M ()
tick = \x -&gt; ((), x + 1)
</code></pre>

<p>Again, straightforward. What <em>isn't</em> straightforward, however, is how to chain these functions together to produce an evaluation function that returns the number of division operators performed. Specifically, I don't understand:</p>

<p><strong>(1)</strong> How <em>tick</em> is implemented. For instance, the following is a valid function call:</p>

<pre><code>(tick &gt;&gt;= \() -&gt; unit (div 4 2)) 0
 ~&gt; (2, 1)
</code></pre>

<p>However, I can't evaluate it correctly by hand (indicating that I misunderstand something). In particular: (a) The result of evaluating <em>tick</em> at 0 is ((), 0), so How does the lambda expression accept ()? (b) If <em>a</em> is the first element of the pair returned by calling <em>tick</em> at 0, how does <em>unit</em> get evaluated?</p>

<p><strong>(2)</strong> How to combine <em>tick</em> and <em>unit</em> to track the number of division operators performed. While the non-monadic evaluator is not problematic, the use of <em>bind</em> is confusing me here.</p>

<p><strong>Edit:</strong> Thanks, everybody. I think my misunderstanding was the role of the lambda expression, '() -> unit (div 4 2)'. If I understanding it correctly,</p>

<pre><code>(tick &gt;&gt;= (\() -&gt; unit (div m n)) x
</code></pre>

<p>expands to</p>

<pre><code>(\x -&gt; let (a, y) = tick x in
       let (b, z) = (\() -&gt; unit (div m n) a y) in
       (b, z)) x
</code></pre>

<p>When 'a' is applied to '() -> unit (div m n) a y', no 'practical result' is yielded. The same effect could be achieved by binding <em>any</em> variable with a lambda operator, and substituting a value for it. The versatility of <em>bind</em>, in this case, is that <em>any</em> value <em>M a</em> can be passed to it. As noted, a value <em>M a</em> represents a computation, for instance, 'eval.' Hence:</p>

<pre><code>eval (Con a) = unit a

eval (Div t u) = eval t &gt;&gt;= (\a -&gt;
                  eval u &gt;&gt;= (\b -&gt;
                   tick &gt;&gt;= (\c -&gt; unit (a `div` b))))
</code></pre>

<p>If I understand correctly, 'eval t' is substituted for <em>m</em> and the remainder of the expression, the function</p>

<pre><code>'(\a -&gt; eval u &gt;&gt;= (\b -&gt; tick &gt;&gt;= (\c -&gt; unit (a `div` b))))'
</code></pre>

<p>is substituted for <em>k</em>. The result of evaluating 'eval t' is bound to (a, y), and the result of evaluating <em>k</em> is bound to (b, z). I have a ways to go, but this clears it up somewhat. Thanks.</p>
","149392","","<p>You can evaluate the expression by hand like this:</p>

<pre><code>(tick &gt;&gt;= \() -&gt; unit (div 4 2)) 0
</code></pre>

<p>If you insert <code>tick</code> and <code>\() -&gt; unit (div 4 2)</code> into the definition of <code>&gt;&gt;=</code>, this becomes:</p>

<pre><code>(\x -&gt; let (a, y) = tick x in
       let (b, z) = (\() -&gt; unit (div 4 2)) a y in
       (b, z)) 0
</code></pre>

<p>If you now apply the function by substituting 0 for <code>x</code>, you get:</p>

<pre><code>let (a, y) = tick 0 in
let (b, z) = (\() -&gt; unit (div 4 2)) a y in
(b, z)
</code></pre>

<p>Now let's apply tick to 0:</p>

<pre><code>let (a, y) = ((), 0 + 1) in
let (b, z) = (\() -&gt; unit (div 4 2)) a y in
(b, z)
</code></pre>

<p>So <code>a</code> becomes <code>()</code> and <code>y</code> becomes <code>0+1</code> which is <code>1</code>. So we have</p>

<pre><code>let (b, z) = (\() -&gt; unit (div 4 2)) () 1 in
(b, z)
</code></pre>

<p>If we apply the function to <code>()</code> we get</p>

<pre><code>let (b,z) = unit (div 4 2) 1 in
(b,z)
</code></pre>

<p>If we apply unit, we get</p>

<pre><code> let (b,z) = (div 4 2, 1) in
 (b,z)
</code></pre>

<p><code>div 4 2</code> is 2, so the result is <code>(2,1)</code>.</p>
"
"<p>I'm playing around in Haskell to try and get the hang of it. I'm running into problems with my typeclasses. What I'm trying to do is to make a generalized a* module by defining classes and methods and then I'm trying to use those in a program. My problem is that when I try to make a list of my Box data types an instance of my Board class (that represents the map) I'm getting the following error:</p>

<pre><code>Illegal instance declaration for `Board [Box]'
    (All instance types must be of the form (T a1 ... an)
     where a1 ... an are type *variables*,
     and each type variable appears at most once in the instance head.
     Use -XFlexibleInstances if you want to disable this.)
In the instance declaration for `Board [Box]'
</code></pre>

<p>I've been googling around for a solution to this but so far I've only found one page which describes a solution which I just can't understand here: <a href=""http://www.haskell.org/haskellwiki/List_instance"" rel=""nofollow"">http://www.haskell.org/haskellwiki/List_instance</a>. It describes how to use the XFlexibleInstances generated from the error message above, however, when I try that I get an error message when I try to use one element of the list as a Box data type.</p>

<pre><code>Couldn't match expected type `t' against inferred type `Box'
  `t' is a rigid type variable bound by
      the type signature for `!!' at &lt;no location info&gt;
</code></pre>

<p>I don't know if this is some weird mistake I'm making or if my design simply wasn't a good one. The relevant code is here:</p>

<pre><code>class Tile a where
  tilePosition :: a -&gt; (Int, Int)
  tileStatus   :: a -&gt; Status
</code></pre>

<p>The board class should be a list of tiles (or some collection of them)</p>

<pre><code>class Board b where
  surroundingTiles :: Tile t =&gt; b -&gt; (Int, Int) -&gt; [t]
  startingPosition :: b -&gt; Maybe (Int, Int)
  targetPosition   :: b -&gt; Maybe (Int, Int)
  (!!)             :: Tile t =&gt; b -&gt; (Int, Int) -&gt; Maybe t
</code></pre>

<p>This seems to compile, but in another file where I try to make instances of these classes is where I'm getting the errors</p>

<pre><code>instance Board [Box] where
  boxes !! pos  = foldl (\acc b -&gt; if boardPos b == pos then Just b else acc) Nothing boxes
  ...
</code></pre>

<p>Any hints in the right direction would be appreciated.</p>
","149392","","<p>For <code>[Box]</code> the function <code>!!</code> must have type <code>Tile t =&gt; [Box] -&gt; (Int, Int) -&gt; Maybe t</code>, meaning for each type <code>t</code> which is an instance of <code>Tile</code> you need to be able to get a <code>t</code> out of a <code>[Box]</code>.</p>

<p>However your implementation has the type <code>[Box] -&gt; (Int, Int) -&gt; Maybe Box</code>, which means you can only get a <code>Box</code> out of a <code>[Box]</code>, so that does not work.</p>

<p>What you could do to get what you want is something like this:</p>

<pre><code>class Board b where
  surroundingTiles :: Tile t =&gt; b t -&gt; (Int, Int) -&gt; [t]
  startingPosition :: Tile t =&gt; b t -&gt; Maybe (Int, Int)
  targetPosition   :: Tile t =&gt; b t -&gt; Maybe (Int, Int)
  (!!)             :: Tile t =&gt; b t -&gt; (Int, Int) -&gt; Maybe t

instance Board [] where
  ...
</code></pre>

<p>This way you can use lists of any instance of Tile as Boards (lists of anything else are also Boards, but you can't use them as such because all the functions require <code>t</code> to be an instance of <code>Tile</code>).</p>

<p>If you need to say ""A list of Tiles is a Board of Tiles"" without also making all other lists into Boards, you need to enable multi-parameter typeclasses which allow you to say things like:</p>

<pre><code>class Tile t =&gt; Board b t where
  surroundingTiles :: b t -&gt; (Int, Int) -&gt; [t]
  startingPosition :: b t -&gt; Maybe (Int, Int)
  targetPosition   :: b t -&gt; Maybe (Int, Int)
  (!!)             :: b t -&gt; (Int, Int) -&gt; Maybe t

instance Board [Tile] Tile where
  ...
</code></pre>
"
"<p>I'm using <code>os.system()</code> to invoke some openssl command from my ubuntu box. I specify password in line so it looks like:</p>

<pre><code>//python code
os.system(""openssl enc -aes-256-cbc ... -k password"")
</code></pre>

<p>I need to know if is possible to track this command in some shell / bash history file (as it is possible if I type this command into terminal directly, so basically I'm asking if password handling is secure that way)</p>
","149392","","<p>No, bash only logs commands that are entered interactively.</p>

<p>Commands executed through <code>os.system</code> are not logged anywhere.</p>
"
"<p>Let's say that I have an arbitrary string like</p>

<pre><code>`A man + a plan * a canal : Panama!`
</code></pre>

<p>and I want to do a regex search for strings that are the same other than case. That is, this regular expression should match the string</p>

<pre><code>`a man + A PLAN * a canal : PaNaMa!`
</code></pre>

<p>I take it the best approach is to backslash-escape every character with a special meaning in Ruby regular expressions, and then do <code>Regexp.new</code> with that string and <code>Regexp::IGNORECASE</code> as arguments. Is that right? Is there a tried-and-true regular expression for converting arbitrary strings into <em>literal</em> regular expressions?</p>

<p>By the way, I ultimately want to use this regular expression to do an arbitrary case-insensitive MongoDB query. So if there's another way I could be doing that, please let me know.</p>
","149392","","<p>You can use <code>Regexp.escape</code> to escape all the characters in the string that would otherwise be handled specially by the regexp engine.</p>

<pre><code>Regexp.new(Regexp.escape(""A man + a plan * a canal : Panama!""), Regexp::IGNORECASE)
</code></pre>

<p>or</p>

<pre><code>Regexp.new(Regexp.escape(""A man + a plan * a canal : Panama!""), ""i"")
</code></pre>
"
"<p>I'm playing around with Ruby's <code>.object_id</code> and noticed that, in several sequential sessions of irb,  I get these identical results:</p>

<pre><code>false.object_id // 0
true.object_id // 2
nil.object_id // 4
100.object_id // 201
</code></pre>

<p>In fact, every integer's object_id seems to be ((value * 2) + 1).</p>

<p>On the other hand, a given string's object_id is never the same after exiting and re-running irb.</p>

<p>This raises several questions for me:</p>

<ol>
<li>Is there a known scheme by which certain <code>object_id</code>s are determined? Are others basically random?</li>
<li>The ids for true, false, and nil, aren't sequential. Is there a way to ask what object is represented by a given id? (I'm curious what the other single-digit and ids are tied to.)</li>
<li>Could you (not that you should) write obfuscated Ruby where you use known object ids to refer to objects without naming them, like ""object of id 201 + object of id 19"" to mean ""100 + 9""?</li>
</ol>

<h2>Update</h2>

<p>Using Andrew Grimm's suggestion, I tried discovering other ""low id"" objects, but found that:</p>

<ul>
<li>There don't appear to be any more even-numbered objects in this sequence - ids 6, 8, 10, etc don't point to anything.</li>
<li>As implied by my earlier experiment, all the odd-numbered ids belong to numbers. Specifically, id 1 points to the number 0, 3 points to 1, 5 points to 2, and so forth.</li>
</ul>
","149392","","<p>In MRI the <code>object_id</code> of an object is the same as the <code>VALUE</code> that represents the object on the C level. For most kinds of objects this <code>VALUE</code> is a pointer to a location in memory where the actual object data is stored. Obviously this will be different during multiple runs because it only depends on where the system decided to allocate the memory, not on any property of the object itself.</p>

<p>However for performance reasons <code>true</code>, <code>false</code>, <code>nil</code> and <code>Fixnum</code>s are handled specially. For these objects there isn't actually a struct with the object's data in memory. All of the object's data is encoded in the <code>VALUE</code> itself. As you already figured out the values for <code>false</code>, <code>true</code>, <code>nil</code> and any <code>Fixnum</code> <code>i</code>, are <code>0</code>, <code>2</code>, <code>4</code> and <code>i*2+1</code> respectively.</p>

<p>The reason that this works is that on any systems that MRI runs on, <code>0</code>, <code>2</code>, <code>4</code> and <code>i*2+1</code> are never valid addresses for an object on the heap, so there's no overlap with pointers to object data.</p>
"
"<p>I've never used Jruby and I don't know why I should, but some people use it to complement the missing Java features in the Ruby language.</p>

<p>So I wonder if Ruby will ever support the missing features Java does in the future so we do not need to learn Java?</p>

<p>What do you think?</p>
","149392","","<p>The only features that jruby has which C ruby does not are that you can access java libraries (on the other hand C extensions can be used with C ruby, but not with jruby, naturally) and that you can compile your code to .class-files. Jruby doesn't have any language features that C ruby doesn't have.</p>

<p>To answer your question: it's doubtful that the C ruby interpreter will ever allow you to call java libraries or include an option to compile to java bytecode.</p>

<p>As a sidenote: You don't need to know java to use jruby. Unless you're using C extensions, any ruby code that runs on C ruby should run on jruby without modifications. You also don't need to know any java to use java libraries from jruby, though you should obviously know the API of the library you're using.</p>
"
"<p>I have the following code:</p>

<pre><code>&lt;% @recipe.instructions.each do |instruction| %&gt;
  &lt;li&gt;&lt;%= instruction %&gt;&lt;/li&gt;
&lt;% end %&gt;
</code></pre>

<p>I get the following error: undefined method 'each' for <code>#&lt;String:0xa354eb8&gt;</code></p>

<p>@recipe.instructions is defined as text</p>

<p>Please help!</p>

<p>Reese</p>
","149392","","<p>Use <code>each_line</code> instead of <code>each</code>. <code>String#each</code> has been removed in ruby 1.9, <code>each_line</code> works with all ruby versions.</p>
"
"<p>I'm reading Simon Thompson's <em>Haskell: The Craft of Functional Programming</em>, and I'm wondering how does this work:</p>

<pre><code>perms [] = [[]]
perms xs = [ x:ps | x &lt;- xs , ps &lt;- perms ( xs\\[x] ) ]
</code></pre>

<p>I can't seem to grasp how that <code>perms( xs\\[x] )</code> is supposed to function. The trace of a two element list shows:</p>

<pre><code>perms [2,3]
  [ x:ps | x &lt;- [2,3] , ps &lt;- perms ( [2,3] \\ [x] ) ]       exe.1
  [ 2:ps | ps &lt;- perms [3] ] ++ [ 3:ps | ps &lt;- perms [2] ]   exe.2
  ...
</code></pre>

<p>How do you go from <code>exe.1</code> to <code>exe.2</code>?</p>
","149392","","<p>Well, it just inserts <code>2</code> and <code>3</code> respectively into <code>[2,3] \\ [x]</code>. So you have</p>

<pre><code>[ 2:ps | ps &lt;- perms ([2,3] \\ [2]) ] ++ [ 3:ps | ps &lt;- perms ([2,3] \\ [3]) ]
</code></pre>

<p>And since <code>\\</code> is the difference operator, i.e. it returns the elements of the first list which are not in the second list, the result is <code>[3]</code> and <code>[2]</code> respectively.</p>
"
"<p>Let's say we have a class name Home. What is the difference between <em>Home.this</em> and <em>Home.class</em>? What do they refer to?</p>
","149392","","<p><code>Home.class</code> returns the instance of <code>java.lang.Class&lt;Home&gt;</code> that corresponds to the class <code>Home</code>. This object allows you to reflect over the class (find out which methods and variables it has, what its parent class is etc.) and to create instances of the class.</p>

<p><code>Home.this</code> is only meaningful if you're inside a nested class of Home. Here <code>Home.this</code> will return the object of class <code>Home</code> that the object of the nested class is nested in.</p>
"
"<p>in an attempt to create a model with an array as an atribute, i ended up creating an array of hashes like so:</p>

<pre><code>    data1 = {}
    data1[:name] = ""Virtual Memory""
    data1[:data] = @jobs.total_virtual_memory
    data2 = {}
    data2[:name] = ""Memory""
    data2[:data] = @jobs.total_memory
    @data = []
    @data &lt;&lt; data1
    @data &lt;&lt; data2
</code></pre>

<p>which populates @data like this:</p>

<pre><code>[{:data=&gt;[#&lt;Job day: ""2010-08-02""&gt;, #&lt;Job day: ""2010-08-04""&gt;], :name=&gt;""Virtual Memory""}, {:data=&gt;[#&lt;Job day: ""2010-08-02""&gt;, #&lt;Job day: ""2010-08-04""&gt;], :name=&gt;""Memory""}]
</code></pre>

<p>However i do not know how to acces these variables in the view. So as tu run somethig like:</p>

<pre><code>for series in @data
  series:name 
     for d in series:data
      data:[Date, Value]
     end    
end
</code></pre>

<p>which would return something along the lines of:</p>

<pre><code> Name1
      Date1, Value1
      Date2, Value 2,
      Date3, Value 3,
      Date4, Value 4,
  Name2 
      Date1, Value 1,
      Date2, Value 2,
      Date3, Value 3,
      Date4, Value 4,
</code></pre>
","149392","","<p>This should work:</p>

<pre><code>&lt;% for series in @data %&gt;
  &lt;%= series[:name] %&gt;
  &lt;% for d in series[:data] %&gt;
    &lt;%= d.date %&gt;, &lt;%= d.value %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<p>However you might consider using a more suitable datastructure instead of hashs. A Struct for example. This could look like this:</p>

<pre><code># in lib/JobData.rb:
JobData = Struct.new(:name, :data)

# in the controller:
data1 = JobData.new(""Virtual Memory"", @jobs.total_virtual_memory)
data2 = JobData.new(""Memory"", @jobs.total_memory)
@data = [data1, data2]

# in the view:
&lt;% for series in @data %&gt;
  &lt;%= series.name %&gt;
  &lt;% for d in series.data %&gt;
    &lt;%= d.date %&gt;, &lt;%= d.value %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<p>As a style point: I used <code>for</code> because you used <code>for</code>, but in general it's considered more rubyish to use <code>each</code> instead.</p>
"
"<p>Why does the original string remain unchanged in example 1 and the original instance not get nulled in example 2, when the string property of an object instance is changed in example 3?</p>

<pre><code>    class A { public string property = ""class a""; }

    static void Main(string[] args)
    {

        //Example1
        string var = ""something"";
        string[] array = new string[] { var };
        array[0] += "" again"";

        // var is unchanged, contents in array slot zero are changed

        //Example2
        A instance = new A();
        object[] array2 = new object[] { instance };
        array2[0] = null;

        // instance is also unchanged, contents in array slot zero are now null

        //Example3
        A anotherInstance = new A();
        object[] array3 = new object[] { anotherInstance };
        (array3[0] as A).property = "" else"";

        // the *propery* of anotherInstance changes as expected

        return;
    } 
</code></pre>
","149392","","<p>In your first example the first element of the array is a reference to a string. You then create a new string with <code>+</code> and change the first element of the array to be a reference to that new string. <code>var</code> is still a reference to the old string as you did not change <code>var</code>.</p>

<p>In your second example the first element of the array is a reference to an instance of A and again you just change the reference, not the referred-to object.</p>

<p>In your third example, you don't change the reference (you don't reassign <code>array3[0]</code>, i.e. you never do <code>array3[0] = something</code>), but you actually change the object that is being referred to. This change also affect <code>anotherInstance</code> because both <code>anotherInstance</code> and <code>array[0]</code> are references to the same object.</p>
"
"<p>I am experiencing a strange problem with Ruby and Environment variables.</p>

<p>I am currently on a x64 machine running Windows Server 2008 R2</p>

<p>If I do the following in ruby:
<code>puts ENV['PROCESSOR_ARCHITECTURE']</code></p>

<p>I expect to see AMD64, however, Ruby is displaying x86</p>

<p>If I do: <code>echo %PROCESSOR_ARCHITECTURE%</code>, in the command prompt, I am greeted with AMD64</p>

<p>My Ruby version is:
ruby 1.8.6 (2010-02-04 patchlevel 398) [i386-mingw32]</p>

<p>As far as I am aware, <code>ENV['PROCESSOR_ARCHITECTURE']</code> should just read my environment variable...</p>

<p>Any ideas?</p>

<p>Cheers,
Gareth</p>
","149392","","<p>It does read your environment variable, but since your ruby executable is compiled for 32-bit, it runs in a 32-bit environment where the value of <code>PROCESSOR_ARCHITECTURE</code> is indeed ""x86"".</p>

<p>If you put <code>system ""echo %PROCESSOR_ARCHITECTURE%""</code> in your ruby script, you will see that it will also output ""x86"".</p>
"
"<p>I'm having trouble figuring out why I can't get keywords to parse properly through nokogiri. In the following example, I have the a href link text functionality working properly but cannot figure out how to pull the keywords. </p>

<p>This is the code I have thus far:</p>

<p>.....</p>

<pre><code>doc = Nokogiri::HTML(open(""http://www.cnn.com""))
doc.xpath('//a/@href').each do |node|
#doc.xpath(""//meta[@name='Keywords']"").each do |node|

puts node.text
</code></pre>

<p>....</p>

<p>This successfully renders all of the a href text in the page, but when I try to use it for keywords it doesn't show anything. I've tried several variations of this with no luck. I assume that the the "".text"" callout after node is wrong, but I'm not sure.</p>

<p>My apologies for how rough this code is, I'm doing my best to learn here.</p>
","149392","","<p>You're correct, the problem is <code>text</code>. <code>text</code> returns the text between the opening tag and the closing tag. Since meta-tags are empty, this gives you the empty string. You want the value of the ""content"" attribute instead.</p>

<pre><code>doc.xpath(""//meta[@name='Keywords']/@content"").each do |attr|
  puts attr.value
end
</code></pre>

<p>Since you know that there will be only one meta-tag with the name ""keywords"", you don't actually need to loop through the results, but can take the first item directly like this:</p>

<pre><code>puts doc.xpath(""//meta[@name='Keywords']/@content"").first.value
</code></pre>

<p>Note however, that this will cause an error if there is no meta-tag with the name ""content"", so the first option might be preferable.</p>
"
"<p><code>Hash.each</code> returns an array <code>[key, value]</code>,
but if I want a hash?</p>

<p>Example: <code>{:key =&gt; value }</code></p>
","149392","","<p>I'm assuming you meant ""yields"" where you said ""return"" because <code>Hash#each</code> already returns a hash (the receiver).</p>

<p>To answer your question: If you need a hash with the key and the value you can just create one. Like this:</p>

<pre><code>hash.each do |key, value|
  kv_hash = {key =&gt; value}
  do_something_with(kv_hash)
end
</code></pre>

<p>There is no alternative <code>each</code> method that yields hashs, so the above is the best you can do.</p>
"
"<p>I am not sure but I had heard of an algorithm which can only be achieved by recursion. Does anyone know of such thing?</p>
","149392","","<p>You can always simulate recursion by keeping your own stack. So no.</p>
"
"<p>Whenever I write a function using doubles and integers, I find this problem where I am constantly having to use 'fromIntegral' everywhere in my function. For example:</p>

<pre><code>import Data.List

roundDouble
    :: Double
    -&gt; Int 
    -&gt; Double
roundDouble x acc = fromIntegral (round $ x * 10 ** fromIntegral acc) / 10 ** fromIntegral acc
</code></pre>

<p>Is there an easier way of writing this? (I know there may be easier ways of rounding a number and if there are please let me know! However I am mainly interested in how to avoid using so many 'fromIntegrals'.)</p>

<p>Thanks, Ash</p>
","149392","","<p>You can use <code>^</code> instead of <code>**</code>. <code>^</code> takes any Integral as it's second argument, so you don't need to call <code>fromIntegral</code> on the second operand. So your code becomes:</p>

<p>roundDouble x acc = fromIntegral (round $ x * 10 ^ acc) / 10 ^ acc</p>

<p>Which has only one <code>fromIntegral</code>. And that one you can't get rid off as <code>round</code> naturally returns an Integral and you can't perform non-integer division on an Integral.</p>
"
"<p>Take the following class:</p>

<pre><code>class Automator
  def fill_specific_form(fields)
    fields.each_pair do |key, value|
      puts ""Setting '#{key}' to '#{value}'""
    end
  end
end

a = Automator.new
a.fill_specific_form :first_name =&gt; ""Mads"", :last_name =&gt; ""Mobæk""

# =&gt; Setting 'first_name' to 'Mads'
# =&gt; Setting 'last_name' to 'Mobæk'
</code></pre>

<p>Is it possible to do the same without a hash? Since all parameters are required, I want a method with the following signature:</p>

<pre><code>fill_specific_form(first_name, last_name)
</code></pre>

<p>In my mind this would be possible by having the method body reflect and iterate over its parameters, thus achieving the same result.</p>

<p>How would you implement this? Does a pattern/idiom for this exist already? Two obvious benefits would be parameter information in IDEs and not having to check if all hash keys are supplied. </p>

<p>What I want to avoid is:</p>

<pre><code>puts ""Setting first_name to #{first_name}""
puts ""Setting last_name to #{last_name}""
# and so on
</code></pre>
","149392","","<p>If you set no other local variables inside the method, <code>local_variables</code> will give you a list of the method's parameter names (if you do set other variables you can just call <code>local_variables</code> first thing and remember the result). So you can do what you want with <code>local_variables</code>+<code>eval</code>:</p>

<pre><code>class Automator
  def fill_specific_form(first_name, last_name)
    local_variables.each do |var|
      puts ""Setting #{var} to #{eval var.to_s}""
    end
  end
end

Automator.new().fill_specific_form(""Mads"", ""Mobaek"")
</code></pre>

<p>Be however advised that this is pure evil.</p>

<p>And at least for your example</p>

<pre><code>puts ""Setting first_name to #{first_name}""
puts ""Setting last_name to #{last_name}""
</code></pre>

<p>seems much more sensible.</p>

<p>You could also do <code>fields = {:first_name =&gt; first_name, :last_name =&gt; last_name}</code> at the beginning of the method and then go with your <code>fields.each_pair</code> code.</p>
"
"<p>I have a 'strange' problem, the following code converts the location lat value into a string (With a + sign for each iteration) leading to an eventual exception when comparing values. I've tried the code with values for another location and it works fine. The only difference is that the other numbers were negatives. </p>

<pre><code>location= {:lng =&gt; 2.0781,:lat =&gt; 41.2899}
while location[:lat] &lt; top
      sleep(1)
      checkTweets(location)
      bottom+=0.075
      location[:lat] = bottom
end
</code></pre>

<p>The issue occurs before entering the check tweets location. The values for the hash are as follows</p>

<p>To to conclude, my question is can anyone explain to me why location[:lat] ends up being a string in this circumstance?</p>

<p>Bottom is initialized as 30.0400 which is assigned to the :lat value. The checkTweets method simply writes a file based on a mongodb query.</p>

<p>Right I found the solution to this. It was the twitter library which was turning the Hash float values into strings. </p>

<p>Am I wrong in assuming that the scope of the variable in the checkTweets method should not impact the location variable here, they are both declared in seperate methods, they are not class level. </p>
","149392","","<blockquote>
  <p>I wrong in assuming that the scope of the variable in the checkTweets method should not impact the location variable here, they are both declared in seperate methods, they are not class level. </p>
</blockquote>

<p>No, but variable scope is not the issue here. The location variable is local to your method and as such cannot be changed by the checkTweets method. That is correct.</p>

<p>However the object that is referenced by the location variable can be changed from the checkTweets method and that is exactly what happens (though I have to say that mutating arguments is very bad style).</p>

<p>A little example to illustrate reference semantics and mutation in ruby:</p>

<pre><code>def f1(arr)
  arr = [1,2,3] # Changes the variable arr, which is local to f1
                # This change is not visible on the outside
end

def f2(arr)
  arr.concat [1,2,3] # Changes the object that arr refers to
                     # This change will be visible any place where the same
                     # array is referenced
end

foo = [42,23]
f1(foo)
# foo is still [42, 23]
f2(foo)
# foo is now [42, 23, 1, 2, 3]
</code></pre>

<p>Here the variable foo hasn't been changed to refer to another object (that would not be possible from inside a method), but the object that foo refers to has been changed. The same happens in your checkTweets method.</p>
"
"<p>Given an array of strings </p>

<pre><code>[""the"" ""cat"" ""sat"" ""on"" ""the"" ""mat""]
</code></pre>

<p>I'm looking to get all combinations of items in sequence, from any starting position, e.g.</p>

<pre><code>[""the""]
[""the"" ""cat""]
[""the"" ""cat"" ""sat""]
...
[""cat"" ""sat"" ""on"" ""the"" ""mat""]
[""sat"" ""on"" ""the"" ""mat""]
[""on"" ""the"" ""mat""]
...
[""sat"" ""on""]
[""sat"" ""on"" ""the""]
</code></pre>

<p>Combinations out of the original sequence or with missing elements are disallowed, e.g.</p>

<pre><code>[""sat"" ""mat""] # missing ""on""
[""the"" ""on""]  # reverse order
</code></pre>

<p>I'd also like to know if this operation has a particular name or if there's a neater way of describing it.</p>

<p>Thanks.</p>
","149392","","<p>Just iterate over each starting position and for each starting position over each possible end position:</p>

<pre><code>arr = [""the"", ""cat"", ""sat"", ""on"", ""the"", ""mat""]
(0 ... arr.length).map do |i|
  (i ... arr.length).map do |j|
    arr[i..j]
  end
end.flatten(1)
#=&gt; [[""the""], [""the"", ""cat""], [""the"", ""cat"", ""sat""], [""the"", ""cat"", ""sat"", ""on""], [""the"", ""cat"", ""sat"", ""on"", ""the""], [""the"", ""cat"", ""sat"", ""on"", ""the"", ""mat""], [""cat""], [""cat"", ""sat""], [""cat"", ""sat"", ""on""], [""cat"", ""sat"", ""on"", ""the""], [""cat"", ""sat"", ""on"", ""the"", ""mat""], [""sat""], [""sat"", ""on""], [""sat"", ""on"", ""the""], [""sat"", ""on"", ""the"", ""mat""], [""on""], [""on"", ""the""], [""on"", ""the"", ""mat""], [""the""], [""the"", ""mat""], [""mat""]]
</code></pre>

<p>Requires ruby 1.8.7+ (or backports) for <code>flatten(1)</code>.</p>
"
"<p>I'm having troubles to create a regular expression who checks if a file has the extention .TMP so the pattern should accept any string who's not equal to (a-z 0-9 or event dots).TMP</p>

<p>To be clear: the matcher should only be succesfull when the file doesn't have the TMP extention.</p>

<p>I've allready found that I need to use (?!expression) for the ""not""...</p>

<pre><code>(?!.*TMP]) // is wrong ;-)
</code></pre>
","149392","","<pre><code>""(?&lt;!\\.TMP)\\Z""
</code></pre>

<p>Read: something other than "".TMP"" followed by the end of the string. </p>
"
"<p>I'm trying to add a property called ""enabled?"" to a model with both a getter and a setter.  However, when I do the following:</p>

<pre><code>def enabled?= value
  # .. logic goes here ..
end
</code></pre>

<p>I get <code>syntax error, unexpected '?', expecting '\n' or ';'</code></p>

<p>What should I be doing instead?</p>
","149392","","<p>Yes, ruby syntax only allows <code>?</code> in method names if it's the last character, so <code>foo?=</code> is not valid. One thing you could do, that would be pretty idiomatic, is to define <code>enabled?</code>, <code>enable</code> and <code>disable</code> (or <code>enable!</code> and <code>disable!</code> if you want to emphasize that they're mutating methods).</p>

<p>If that doesn't fit your needs, you can just name the methods <code>enabled?</code> and <code>enabled=</code> and just live with the slight incosistency between the names.</p>
"
"<p>I want to check a variable in ruby to see if it has two leading zeros (00) If it does the 00 should be removed</p>

<p>How can this be done</p>
","149392","","<p>If you're talking about strings:</p>

<pre><code>str.sub!(/^00/, """")
</code></pre>

<p>The regex <code>/^00/</code> matches if the string starts with two zeros. <code>sub!</code> will then take the match (the two zeros) and replace them with the empty string.</p>
"
"<p>Given the C++ vector as below:</p>

<pre><code>vector&lt;double&gt; weight;
weight.resize(128, 0);      
</code></pre>

<p>Can weight be used as:</p>

<pre><code>weight['A'] = 500.98;
weight['P'] = 455.49;
</code></pre>

<p>What does this mean, and how does one use these values? Could anyone give me an example?</p>
","149392","","<p>The code is equivalent to:</p>

<pre><code>weight[65] = 500.98;
weight[80] = 455.49;
</code></pre>

<p>Which of course only works if the vector holds at least 81 elements.</p>
"
"<p>Given a python class <code>class Student():</code> and a list <code>names = []</code>; then I want to create several instances of <code>Student()</code> and add them into the list <code>names</code>, </p>

<pre><code>names = [] # For storing the student instances
class Student():
    def __init__(self, score, gender):
        self.score = score
        self.gender = gender
</code></pre>

<p>And now I want to check out the scores of all the male students, can I do it like this?</p>

<pre><code>scores = []
for i in names:
    if i.gender ==  ""Male"":
        scores.append(i.score)
</code></pre>

<p>My question is: How to create a list that can (if could be done by any statement) store the instance of <code>Student</code>? Or rather, when I write <code>names = []</code>, how could I state every element in <code>names</code> is an instance of <code>Student</code> so that I can use the attributs of this element despite python is weak type? I hope I made myself clear ;)</p>

<p>Can I write like:</p>

<pre><code>    for i in range(len(names)):
        student = Student()
        student = names[i]
        if student.gender == ""Male"":
            # Whatever
</code></pre>

<p>I guess not...</p>
","149392","","<p>First of all python is <em>not</em> weakly typed. It is however dynamically typed so you can't specify an element type for your list.</p>

<p>However this does not prevent you from accessing an object's attributes. This works just fine:</p>

<pre><code>names = [Student(1,""Male""), Student(2,""Female"")]
scores = []
for i in names:
    if i.gender ==  ""Male"":
        scores.append(i.score)
</code></pre>

<p>It is however more pythonic to write this using a list comprehension:</p>

<pre><code>names = [Student(1,""Male""), Student(2,""Female"")]
scores = [i.score for i in names if i.gender == ""Male""]
</code></pre>
"
"<p>Is there a way to know whether or not a method has been overridden by a subclass programmatically?  Something that works like this:</p>

<pre><code>class BaseModel
  def create
    puts ""superclass""
  end
end

class SomeModel &lt; BaseModel
  def create
    puts ""subclass""
  end
end

puts SomeModel.overridden_instance_methods #=&gt; [:create]
</code></pre>

<p>Any ideas?</p>
","149392","","<pre><code>SomeModel.instance_methods(false) &amp; BaseModel.instance_methods
</code></pre>

<p>The <code>false</code> makes <code>instance_methods</code> not include inherited methods. We then use set intersection to find all the methods that were defined on SomeModel which have previously been defined on BaseModel (or Object).</p>
"
"<p>It seems like all programming languages use commas (,) to separate function parameters.</p>

<p>Why don't they use just spaces instead?</p>
","149392","","<p>First of all, your premise is false. There <em>are</em> languages that use space as a separator (lisp, ML, haskell, possibly others).</p>

<p>The reason that most languages don't is probably that a) <code>f(x,y)</code> is the notation most people are used to from mathematics and b) using spaces leads to lots of nested parentheses (also called ""the lisp effect"").</p>
"
"<p>I want the expression (x-x) to be simplified to 0.</p>

<pre><code>type aexpr = 
| CstI of int
| Var of string
| Add of aexpr * aexpr
| Sub of aexpr * aexpr
| Mul of aexpr * aexpr;;

let rec simplify expr =
match expr with
| Add(CstI(n1), CstI(n2)) -&gt;CstI(n1 + n2)
| Sub(CstI(n1), CstI(n2)) -&gt;CstI(n1 - n2)
| Mul(CstI(n1), CstI(n2)) -&gt;CstI(n1 * n2)
| Add(e, CstI(0)) -&gt; simplify e
| Add(CstI(0), e) -&gt; simplify e
| Sub(CstI(0), e) -&gt; simplify e
| Sub(e, CstI(0)) -&gt; simplify e
| Sub(Var(x1), Var(x2)) when x1.Equals(x2) -&gt; CstI(0) // &lt;- not working
| Mul(CstI(0), e) -&gt; CstI(0)
| Mul(e, CstI(0)) -&gt; CstI(0)
| Mul(CstI(1), e) -&gt; simplify e
| Mul(e, CstI(1)) -&gt; simplify e
| _ -&gt; expr;;
</code></pre>

<p>This does not do it. I do not see what I am doing wrong. Hope you can help me :)</p>

<p><strong>Edit:</strong>
It compiles fine but it does not do anything. Ie.</p>

<pre><code>let e = Mul(CstI(1), Add(CstI(4), Sub(Var(""x""), Var(""x""))));;
</code></pre>

<p>In f# interactive:</p>

<pre><code>let result = simplify e;;
val result : aexpr = Add (CstI 4,Sub (Var ""x"",Var ""x""))
</code></pre>

<p>Result should be <code>CstI 4</code></p>
","149392","","<p><code>simplify (Sub (Var ""x"", Var ""x""))</code> works just fine. The reason that your example does not work is that <code>simplify</code> does not traverse the whole tree, so the <code>Sub (Var ""x"", Var ""x"")</code> part of the tree is never simplified.</p>

<p>In short, you're missing a case <code>Sub (e,e) -&gt; Sub (simplify e, simplify e)</code> and the same for the other operators.</p>
"
"<p>I was reading a Ruby question about the <code>.each</code> iterator, and someone stated that using <code>.each</code> can be a code smell if higher order iterators are better suited for the task. What are higher order iterators in Ruby?</p>

<p><strong>edit:</strong> Jörg W Mittag, the author of the StackOverflow answer that I was referring to mentioned that he meant to write higher <em>level</em> iterators, but he also explained what they are very well below.</p>
","149392","","<p>From the usual definition of ""higer-order"" I would say a higher-order iterator is an iterator which takes an iterator as an argument or returns an iterator. So something like <code>enum_for</code> maybe. However I don't think this is what the person meant.</p>

<p>I think the person meant iterators like <code>map</code> or <code>select</code> which are higher-order functions, but did not realize that <code>each</code> is of course also a higher-order function. So basically this is just a case of terminological confusion.</p>

<p>The point of the poster presumably was that you should not use <code>each</code> in cases where <code>map</code>, <code>select</code> or <code>inject</code> could naturally be used instead. And to make that point he used a term, that didn't really make sense in that context.</p>
"
"<p>I don't know if I'm just searching for the wrong things or what, but is there a simple way to evaluate a range and check if an integer is within that range using the <code>(2..100)</code> syntax.</p>

<p>For example, say I wanted to evaluate as true if my integer <code>x = 100</code>, and my range is <code>(0..200)</code>, I'm just looking for the simple, concise ruby-way of doing this.</p>
","149392","","<pre><code>(2..100).include?(5) #=&gt; true
(2..100).include?(200) #=&gt; false
</code></pre>

<p>Note that <code>2..0</code> is an empty range, so <code>(2..0).include?(x)</code> will return <code>false</code> for all values of <code>x</code>.</p>
"
"<p>After reading some tutorials I still don't get it.</p>

<p>Could someone explain how <code>?:</code> is used and what it's good for?</p>
","149392","","<p>It makes the group non-capturing, which means that the substring matched by that group will not be included in the list of captures. An example in ruby to illustrate the difference:</p>

<pre><code>""abc"".match(/(.)(.)./).captures #=&gt; [""a"",""b""]
""abc"".match(/(?:.)(.)./).captures #=&gt; [""b""]
</code></pre>
"
"<p>The following line works as expected, but I am a little concerned why:</p>

<pre><code>getLine &gt;&gt;= \x-&gt; getLine &gt;&gt;= \y-&gt; return [x, y]
</code></pre>

<p>Consider the addition of parenthesis to scope the lambda expressions:</p>

<pre><code>getLine &gt;&gt;= (\x-&gt; getLine) &gt;&gt;= (\y-&gt; return [x, y])
</code></pre>

<p>The second line is errorneous because <code>x</code> is not in scope when used in the <code>return</code>, and I am happy with this. What concerns me this that in the first line the scope of <code>x</code> appears to have 'leaked' out. </p>

<p>Is this 'leaking' considered bad practice? I am confused as to how it has remained in scope and not been lost immediately after the <code>\x -&gt; getLine</code> expression.</p>
","149392","","<p>If you parenthesize your first line correctly according to haskell's precedence rules, you get:</p>

<pre><code>getLine &gt;&gt;= (\x-&gt; getLine &gt;&gt;= (\y-&gt; return [x, y]))
</code></pre>

<p>This makes it obvious that the second lambda is inside the first, so there's no problem with it accessing the variables of the first lambda.</p>
"
"<p>This is my date 20100816 and it integer date.</p>

<p>I want to display it like 08/16/2010.</p>

<p>What's the best way to do it?</p>
","149392","","<p>You can use the <code>Date.strptime</code> method to read a date in a given format and <code>strftime</code> to print it out in another format:</p>

<pre><code>require 'date'
intdate = 20100816
Date.strptime(intdate.to_s, ""%Y%m%d"").strftime(""%m/%d/%Y"")
#=&gt; ""08/16/2010""
</code></pre>
"
"<p>isn't <code>+</code> an operator?  why would it not be defined? </p>

<p>here's my code:</p>

<pre><code>Class Song
  @@plays = 0
  def initialize(name, artist, duration)
    @name = name
    @artist = artist
    @duration = duration
    @plays = 0
  end
  attr_reader :name, :artist, :duration,
  attr_writer :name, :aritist, :duration
  def play
    @plays += 1
    @@plays += 1
    ""This Song:  #@plays play(s).  Total #@@plays plays.""
  end
  def to_s
    ""Song: #@name--#@artist (#@duration)""
  end
end
</code></pre>
","149392","","<p><code>+</code> is defined on numbers (among other things). However, as the error message says, it is not defined on <code>nil</code>. This means you can't do <code>nil + something</code> and why would you?</p>

<p>That being said, you're actually not calling <code>nil + something</code> anywhere in the code you've shown (you're initializing both <code>@plays</code> and <code>@@plays</code> to 0, and you're not setting them to <code>nil</code> at any point). And as a matter of fact your code runs just fine once you remove the two syntax error (<code>Class</code> should be <code>class</code> and there should be no comma after <code>:duration</code>). So the error is not in the code you've shown.</p>
"
"<p>I have an array of elements. If I do a <code>arr.max</code> I will get the maximum value. But I would like to get the index of the array. How to find it in Ruby</p>

<p>For example</p>

<pre><code>a = [3,6,774,24,56,2,64,56,34]
=&gt; [3, 6, 774, 24, 56, 2, 64, 56, 34]
&gt;&gt; a.max
a.max
=&gt; 774
</code></pre>

<p>I need to know the index of that <code>774</code> which is <code>2</code>. How do I do this in Ruby?</p>
","149392","","<p>In 1.8.7+ <code>each_with_index.max</code> will return an array containing the maximum element and its index:</p>

<pre><code>[3,6,774,24,56,2,64,56,34].each_with_index.max #=&gt; [774, 2]
</code></pre>

<p>In 1.8.6 you can use <code>enum_for</code> to get the same effect:</p>

<pre><code>require 'enumerator'
[3,6,774,24,56,2,64,56,34].enum_for(:each_with_index).max #=&gt; [774, 2]
</code></pre>
"
"<p>I need a loop in this pattern. I need an infinite loop producing number that start with 1.</p>

<pre><code>1,10,11,12..19,100,101,102..199,1000,1001.......
</code></pre>
","149392","","<pre><code>def numbers_that_start_with_1
  return enum_for(:numbers_that_start_with_1) unless block_given?

  infty = 1.0 / 0.0
  (0..infty).each do |i|
    (0 .. 10**i - 1).each do |j|
      yield(10**i + j)
    end
  end
end

numbers_that_start_with_1.first(20)
#=&gt;  [1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 100, 101, 102, 103, 104, 105, 106, 107, 108]
</code></pre>
"
"<p>Trying to figure out out how to overload parenthesis on a class. </p>

<p>I have this code:</p>

<pre><code>class App(values: Map[String,String])
{
  // do stuff
}
</code></pre>

<p>I would like to be able to access the values Map this way:</p>

<pre><code>var a = new App(Map(""1"" -&gt; ""2""))
a(""1"") // same as a.values(""1"")
</code></pre>

<p>Is this possible? </p>
","149392","","<p>You need to define an <code>apply</code> method.</p>

<pre><code>class App(values: Map[String,String]) {
  def apply(x:String) = values(x)
  // ...
}
</code></pre>
"
"<p>I have encountered a weird problem twice in the past 2 weeks and it's starting to piss me off.</p>

<p>I have this very simple code :</p>

<pre><code>  Rails.logger.debug ""Is current_step frozen  ? =&gt; #{@current_step.frozen?.inspect}""
  @current_step += 1
</code></pre>

<p>Has you can (or not) imagine, this is what is displayed on my console :</p>

<pre><code>Is current_step frozen  ? =&gt; false
Completed   in 264ms

TypeError (can't modify frozen object):
  lib/chuguf/core.rb:44:in `upgrade'
  app/controllers/xml/cheat_controller.rb:6:in `index'
</code></pre>

<p>Can some one tells me what's happen here ?</p>

<p>I can give more details if required but i don't see how other lines could be relevant. All the code is executed in the current thread.</p>

<p>Thanks for your help !</p>
","149392","","<p>You're not trying to mutate <code>@current_step</code> (which isn't possible with integers anyway), you're trying to reassign it. Since reassigning an instance variable means mutating the object the instance variable belongs to (i.e. <code>self</code>), you can only do so if <code>self</code> is not frozen.</p>

<p>In other words: if you change your debug message to tell your whether <code>self</code> is frozen instead of <code>@current_step</code>, you'll find out that it is and that's why you get the error.</p>
"
"<p>I just got finished watching a <a href=""http://railscasts.com/episodes/189-embedded-association"" rel=""nofollow"">railscast episode #189</a> and the was using a bit_mask to store a value in the users table. I am trying to implement the same thing but when I test via irb I am getting errors. First can someone explain what this is actually going. I know what the first line is doing and part of the second line</p>

<pre><code>ROLES = %w[admin moderator author]

def roles=(roles)
  self.roles_mask = (roles &amp; ROLES).map { |r| 2**ROLES.index(r) }.sum
end

def roles
  ROLES.reject { |r| ((roles_mask || 0) &amp; 2**ROLES.index(r)).zero? }
end
</code></pre>

<p>In irb I get this:</p>

<pre><code>irb(main):013:0&gt; ROLES = %w[admin moderator author]
(irb):13: warning: already initialized constant ROLES
=&gt; [""admin"", ""moderator"", ""author""]
irb(main):014:0&gt; roles = %w[admin author]
=&gt; [""admin"", ""author""]
irb(main):015:0&gt; roles_mask = (roles &amp; ROLES).map { |r| 2**ROLES.index(r) }.sum
NoMethodError: undefined method `sum' for [1, 4]:Array
</code></pre>
","149392","","<p>The reason that it doesn't work in irb is that <code>sum</code> is defined in ActiveSupport, not ruby's standard library. If you <code>require 'active_support'</code> first (or just use script/console), it will work in irb.</p>

<p>What <code>roles=</code> does is it turns an array of roles into a bitmask according to the order of roles in the <code>ROLES</code> array (item) and then saves that bitmask as <code>role_mask</code>. For example <code>[""admin"", ""author""]</code> will be turned into 5 (which is <code>0b101</code> in binary). Roles that aren't in <code>ROLES</code> will be ignored (e.g. <code>[""admin"", ""bla""]</code> is the same as just <code>[""admin""]</code>).</p>

<p>What <code>roles</code> does is it turns the saved bitmask back into an array of roles.</p>
"
"<p>I have created a delegated Array class like this:</p>

<pre><code>class LeadPartArray &lt; DelegateClass(Array)

  def &lt;&lt;(part, &amp;block)
    super(part) unless @arr.select{|p| p.text == part.text}.size &gt; 0
  end

  def initialize(arr = [])
    @arr = arr
    super(@arr) 
  end

end
</code></pre>

<p>I am overriding the &lt;&lt; method and I want to be able to pass a block in that I can use as a predicate.</p>

<p>I have the following test that is not even legal Ruby syntax:</p>

<pre><code>  def test_should_pass_predicates_to_add
    arr = LeadPartArray.new([])
    part = LeadCapturer::LeadPart.new(""text"", LeadCapturer::TextTag.new, 2)
    predicate = Proc.new{|part| part.text.size &lt; 4}
    arr &lt;&lt;(part, &amp;predicate)
    assert_equal(0, arr.size)
  end
</code></pre>

<p>Is it possible to pass a block to &lt;&lt; and if so, can anyone point me in the right way?</p>
","149392","","<p>You can do it using method call syntax:</p>

<pre><code>arr.&lt;&lt;(part, &amp;predicate)
</code></pre>
"
"<p>is there an OCaml equivalent to Haskell's pattern matching on an arbitrary number of arguments? For example, can I have something resembling:</p>

<pre><code>merge [] lst = lst
merge lst [] = lst
merge l1 @ (n : ns) l2 @ (m : ms) = 
  if n &lt; m then n : merge ns l2 else m : merge l1 ms
</code></pre>

<p>(The example's lifted from Developing Applications with Objective Caml :)</p>

<p>Thanks.</p>
","149392","","<p>You can't match multiple arguments as such, but you can match tuples, so you can do:</p>

<pre><code>let rec merge l1 l2 = match l1, l2 with
| [], lst
| lst, [] -&gt; lst
| (n::ns), (m::ms) -&gt; if n &lt; m then n :: merge ns l2 else m :: merge l1 ms
</code></pre>

<p>If you're ok with the function taking its arguments as a tuple you can also use <code>function</code> like this:</p>

<pre><code>let rec merge = function
| [], lst
| lst, [] -&gt; lst
| (n::ns as l1), (m::ms as l2) -&gt; if n &lt; m then n :: merge (ns, l2) else m :: merge (l1, ms)
</code></pre>
"
"<p>Can someone remind me why this works?</p>

<p>A function requiring int* could take as input an (obviously)</p>

<pre><code>int *integer;
</code></pre>

<p>but it could also accept </p>

<pre><code>&amp;var-&gt;integer
</code></pre>

<p>with var being var_t*, where var_t:</p>

<pre><code>typedef struct {
    int integer;
} var_t;
</code></pre>

<p>why is the 2nd accepted?</p>

<p>edit: oopsy, question is same but var is actually a var_t* (and not a var_t) to be more precise.</p>
","149392","","<p>If the type of var is <code>var_t</code>, the code you've shown is actually illegal. If its type is <code>var_t*</code>, it's accepted because the type of <code>var-&gt;integer</code> is <code>int</code> and the type of <code>&amp;some_int</code> is <code>int*</code>.</p>
"
"<p>Quick question I've encountered while getting my feet under me in Haskell related to this quick test:</p>

<pre><code>module Main where
main :: IO()
main = putStrLn (show (inc 3))

inc :: (Num a) =&gt; a -&gt; a
inc x = x+1
</code></pre>

<p>Is there a better way to output the value of the inc function? I could not get output without using nested parens to force evaluation order. With fewer parens I receive type errors. Just figure there must be a better way.</p>

<p>Thanks if you can clear my head :)</p>
","149392","","<p>First of all: parentheses don't force evaluation order.</p>

<p>To get rid of parentheses you can use <code>$</code> which has very low precedence and thus allows you to get rid of parentheses for the last argument.</p>

<p>For this particular case there's also the <code>print</code> function which is defined as <code>putStrLn . show</code>, so you can do <code>print (inc 3)</code> or <code>print $ inc 3</code>.</p>
"
"<p>Look at this , i am try</p>

<pre><code>appendFile ""out"" $ show 'д'
</code></pre>

<p>'д'  is character from Russian alphabet. 
After that ""out"" file contains:  </p>

<pre><code>'\1076'
</code></pre>

<p>How i understand is the unicode numeric code of character 'д'. Why is it happens ? And How i can to get the normal representation of my character ?</p>

<p>For additional information  it is works good:</p>

<pre><code>appendFile ""out""  ""д""
</code></pre>

<p>Thanks.  </p>
","149392","","<p><code>show</code> escapes all characters outside the ASCII range (and some inside the ASCII range), so don't use <code>show</code>.</p>

<p>Since ""д"" works fine, just use that. If you can't because the д is actually inside a variable, you can use <code>[c]</code> (where c is the variable containing the character. If you need to surround it by single quotes (like show does), you can use <code>['\'', c, '\'']</code>.</p>
"
"<p>Can anyone help this Scala newbie? Previously, we summed a number of quantities in a list of entities with those quantities with:</p>

<pre><code>sum = entities.foldLeft(0.0)(_ + _.quantity)
</code></pre>

<p>Now the quantity is an <code>Option[Double]</code>, and so is the sum. How can I convert this using idiomatic Scala?</p>

<p>If any entity's quantity is <code>None</code> then the sum should also be <code>None</code>.
Otherwise the sum should be <code>Some(total)</code>.</p>

<p>Edit: Putting this thing into a unit test so that I can try all your answers out. Please note that I do need the result to be None if <strong>any</strong> quantity is None, because missing quantities mean we haven't finished yet, so the total should reflect this. Even if you don't get the right answer, if you help lead me or others to it, or help me learn something new, I'll upvote.</p>

<p>Edit: @sepp2k wins for a working solution plus explanation. Thanks to all for the learning!</p>
","149392","","<p>You can use <code>Option</code>'s <code>flatMap</code> and <code>map</code> methods to combine two <code>Option</code>s, so that the result will be <code>Some(f(x,y))</code> if the two <code>Option</code>s are <code>Some(x)</code> and <code>Some(y)</code> or <code>None</code> otherwise.</p>

<pre><code>entities.foldLeft(Some(0.0):Option[Double]) {
    (acco, x) =&gt; acco.flatMap(acc =&gt; x.quantity.map(_ + acc))
}
</code></pre>

<p>Edit in response to your comments:</p>

<p>Here's an example usage:</p>

<pre><code>scala&gt; case class Foo(quantity:Option[Double]) {}
defined class Foo
scala&gt; val entities: List[Foo] = List(Foo(Some(2.0)), Foo(Some(1.0)), Foo(None))
scala&gt; entities.foldLeft(Some(0.0):Option[Double]) {
    (acco, x) =&gt; acco.flatMap(acc =&gt; x.quantity.map(_ + acc))
}
res0: Option[Double] = None

scala&gt; val entities: List[Foo] = List(Foo(Some(2.0)), Foo(Some(1.0)))                                  
scala&gt; entities.foldLeft(Some(0.0):Option[Double]) {
    (acco, x) =&gt; acco.flatMap(acc =&gt; x.quantity.map(_ + acc))
}
res1: Option[Double] = Some(3.0)
</code></pre>

<p>So yes, it will return <code>None</code> if any of the entities are <code>None</code>.</p>

<p>Regarding <code>map</code> and <code>flatMap</code>:</p>

<p><code>map</code> takes a function <code>f</code> of type <code>A =&gt; B</code> and returns <code>Some(f(x))</code> for <code>Some(x)</code> and <code>None</code> for <code>None</code>.</p>

<p><code>xo.flatMap(f)</code>, where <code>f</code> is a function of type <code>A =&gt; Option[B]</code> and <code>xo</code> is an <code>Option[A]</code>, returns <code>Some(y)</code> iff <code>xo</code> is <code>Some(x)</code> and <code>f(x)</code> is <code>Some(y)</code>. In all other cases (i.e. if <code>xo</code> is <code>None</code> or <code>f(x)</code> is <code>None</code>) it returns <code>None</code>.</p>

<p>So the expression <code>acco.flatMap(acc =&gt; x.quantity.map(_ + acc))</code> returns <code>y + acc</code> iff <code>x.quantity</code> is <code>Some(y)</code> and <code>acco</code> is <code>Some(acc)</code>. If one or both of <code>x.quantity</code> and <code>acco</code> are <code>None</code>, the result will be none. Since this is inside a fold that means that for the next iteration the value of <code>acco</code> will also be <code>None</code> and thus the end result will be <code>None</code>.</p>
"
"<p>I need to return a different value based on the function passed into another function.</p>

<p>So, given: <code>fun inc x = x + 1;</code></p>

<p>And: <code>fun double [] = [] | double (h::t) = 2*h::double (t);</code></p>

<p>You should be able to call the function I'm working on with either.</p>

<p>Example call (the function I'm making is named test):</p>

<p><code>test (inc, 5);</code> - And it would return <strong>6</strong></p>

<p>-OR-</p>

<p><code>test (double, [1,2,3,4]);</code> - And it would return <strong>[2,4,6,8]</strong></p>

<p>I know that functions can't do this at face value, but is this possible through layers of abstraction?</p>
","149392","","<p>Sure, that's possible:</p>

<pre><code>fun test (f, x) = f x
</code></pre>

<p><code>test</code>now has the type <code>(('a -&gt; 'b) * 'a) -&gt; 'b</code>, which means that if you pass in a function that returns an int (like <code>inc</code>), the result will be an int and if you pass in a function that returns a list, the result will be a list.</p>

<p>As a sidenote: <code>double</code> could be more easily/idiomatically be defined as <code>fun double xs = map (fn x -&gt; x*2) xs</code> or <code>val double = map (fn x -&gt; x*2)</code>.</p>
"
"<p>What is the difference (if any) between two code fragments below?</p>

<p>Example from Ch7 of Programming i Scala</p>

<pre><code>def grep(pattern: String) = 
  for (
    file &lt;- filesHere
    if file.getName.endsWith("".scala"");
    line &lt;- fileLines(file)
    if line.trim.matches(pattern)
  ) println(file + "": "" + line.trim)
</code></pre>

<p>and this one</p>

<pre><code>def grep2(pattern: String) = 
  for (
    file &lt;- filesHere
    if file.getName.endsWith("".scala"")
  ) for (
    line &lt;- fileLines(file)
    if line.trim.matches(pattern)
  ) println(file + "": "" + line.trim)
</code></pre>

<p>Or</p>

<pre><code>for (i &lt;- 1 to 2)
  for (j &lt;- 1 to 2)
    println(i, j)
</code></pre>

<p>and</p>

<pre><code>for (
  i &lt;- 1 to 2;
  j &lt;- 1 to 2
) println(i, j)
</code></pre>
","149392","","<p>In this case there is no difference. However when using yield there is:</p>

<pre><code>for (
  i &lt;- 1 to 2;
  j &lt;- 1 to 2
) yield (i, j)
</code></pre>

<p>Will give you a sequence containing <code>(1,1)</code>, <code>(1,2)</code>, <code>(2,1)</code> and <code>(2,2)</code>.</p>

<pre><code>for (i &lt;- 1 to 2)
  for (j &lt;- 1 to 2)
    yield (i, j)
</code></pre>

<p>Will give you nothing, because it generates the sequence <code>(i,1)</code>, <code>(i,2)</code> on each iteration and then throws it away.</p>
"
"<pre><code>#include &lt;iostream&gt;
using namespace std;

typedef int MYINT;

int main() 
{ 
    int y = MYINT();                     // As expected, y = 0; value initialization
    cout &lt;&lt; MYINT();                     // Error
    cout &lt;&lt; sizeof(MYINT());             // Error
} 
</code></pre>

<p>Why the last two lines in the main function before the closing brace give error? Why is the expression MYINT() treated differently in different contexts? Any Standard reference will be helpful.</p>
","149392","","<blockquote>
  <p>Why the last two lines in the main function before the closing brace give error?</p>
</blockquote>

<p><code>cout &lt;&lt; MYINT();</code> doesn't work because <code>cout</code> is not defined. Once you do <code>#include &lt;iostream&gt;</code> and <code>using std::cout</code>, it will work fine.</p>

<p><code>sizeof(MYINT())</code> does indeed not work, but <code>sizeof(int())</code> doesn't work either, so that's to be expected. <code>sizeof(MYINT)</code> will work just fine.</p>

<blockquote>
  <p>Why is the expression MYINT() treated differently in different contexts?</p>
</blockquote>

<p>It's not. In every case <code>MYINT()</code> behaves exactly like <code>int()</code>.</p>
"
"<p>I want to filter strings in a list based on a regular expression.</p>

<p>Is there something better than <code>[x for x in list if r.match(x)]</code> ?</p>
","149392","","<pre><code>filter(r.match, list)
</code></pre>
"
"<p>I have the following string:</p>

<pre><code>val s1:String = ""1. my line 1\n2. my other line\n3. my 3rd line\n4. and so on""
</code></pre>

<p>Now, I want transform at other:</p>

<pre><code>val s2:String = ""&lt;b&gt;1. &lt;/b&gt;my line 1\n&lt;b&gt;2. &lt;/b&gt;my other line\n&lt;b&gt;3. &lt;/b&gt;my 3rd line\n&lt;b&gt;4. &lt;/b&gt;and so on""
</code></pre>

<p>What is better way to do it?</p>
","149392","","<pre><code>s1.replaceAll(""""""(?m)^(\d+\. )"""""", ""&lt;b&gt;$1&lt;/b&gt;"")
</code></pre>

<p>Read: Find all occurences of ""beginning of the line followed by one or more digits followed by a dot followed by a space"" and replace them with the matched substring surrounded by <code>&lt;b&gt;</code> and <code>&lt;/b&gt;</code>.</p>

<p>The <code>(?m)</code> bit makes it so that <code>^</code> means ""beginning of line"" instead of ""beginning of string"". The <code>""""""</code> are so that there's no need to double escape.</p>
"
"<pre><code>getMultiWordPortion :: String -&gt; String
getMultiWordPortion (x:':':xs) = xs
getMultiWordPortion _ = """"
</code></pre>

<p>The expected result from pattern matching in this code is that everything before the first colon get's assigned to x, and everything afterwards gets assigned to xs, which is the result. If there is no colon, nothing is returned.</p>

<p>What actually happens with a sample string I'm using (""PING :gibson.freenode.net"" - it's part of an IRC client) is that I get the blank return value.</p>

<p>What am I doing wrong here?</p>
","149392","","<p>The pattern <code>x:':':xs</code> means ""The first character is <code>x</code>, the second character is <code>':'</code> the remaining characters are in the list <code>xs</code>"". So this means that the type of <code>x</code> is <code>Char</code>, not <code>[Char]</code> and that the pattern only matches if there's exactly one character before the colon.</p>

<p>There is no way to use pattern matching on lists to say ""match one sublist, followed by an element, followed by the remaining list"".</p>

<p>To get the substring after the first colon you can use <code>dropWhile (/= ':') theString</code>. This will include the colon, so use <code>tail</code> or pattern matching to remove it.</p>
"
"<p>I have a question which kind of applies to all languages with static typing and some sort of OOP.</p>

<p>If I have a class A, a class B which is a child of A, and a class C which is a child of B and a variable of the type A, can I store instances of B and C in it also?</p>
","149392","","<p>In C++ the answer is no. If the type were <code>A*</code> or <code>A&amp;</code>, the answer would be yes, but for just <code>A</code> it's no.</p>

<p>In Java, C# and other languages where variables are references to objects by default, the answer is yes.</p>
"
"<p>I've recently given Scala a second chance, and started with the project I always implement (in functional or pseudo-functional languages): an automated reasoner for propositional logic (and later predicate logic).</p>

<p>Now, I've tried to get the notation of propositional logic in the language itself as pretty as possible, and I've gotten this far - with an implicit conversion (String -> Atom):</p>

<pre><code>(""A"" and ""B"") implies ""C""
</code></pre>

<p>The functions ""and"" and ""implies"" (and ""or"" and ""equivalent"") are simple methods that call the relevant case class constructor. However, when implementing ""not"", I get stuck with either of the two following notations:</p>

<pre><code>(""A"" and ""B"").not
Not(""A"" and ""B"")
</code></pre>

<p>Is there a way to trick Scala into accepting the desired:</p>

<pre><code>not(""A"" and ""B"")
</code></pre>

<p>Preferrably without renaming the class ""Not"" to ""not"", because I might like to call it ""¬"" or something else, in th future.</p>
","149392","","<p>You can define <code>not</code> as a method on a singleton object, like this:</p>

<pre><code>object Logic {
  def not(x:Expr) = Not(x)
}
import Logic._
not(""A"" and ""B"")
</code></pre>

<p>(Where <code>Expr</code> is supposed to be the common superclass of <code>And</code>, <code>Or</code>, <code>Not</code> and <code>Atom</code>)</p>

<p>Edit: Here's an example of how this could be used with only a single import:</p>

<pre><code>object Logic {
  abstract class Expr {
    def and(e: Expr) = Conjunction(this, e)
    def or(e: Expr) = Disjunction(this, e)
    def implies(e: Expr) = Implication(this, e)
  }
  case class Conjunction(e1: Expr, e2: Expr) extends Expr
  case class Disjunction(e1: Expr, e2: Expr) extends Expr
  case class Implication(e1: Expr, e2: Expr) extends Expr
  case class Negation(e: Expr) extends Expr
  case class Atom(name: String) extends Expr

  def not(e: Expr) = Negation(e)
  implicit def string2atom(str: String) = Atom(str)
}

// use site
import Logic._
not(""A"" and ""B"") implies (not(""A"") or not(""B""))
</code></pre>
"
"<p>Is there a way to open a file case-insensitively in Ruby under Linux? For example, given the string <code>foo.txt</code>, can I open the file <code>FOO.txt</code>?</p>

<p>One possible way would be reading all the filenames in the directory and manually search the list for the required file, but I'm looking for a more direct method.</p>
","149392","","<p>You can use Dir.glob with the <code>FNM_CASEFOLD</code> flag to get a list of all filenames that match the given name except for case. You can then just use <code>first</code> on the resulting array to get any result back or use <code>min_by</code> to get the one that matches the case of the orignial most closely.</p>

<pre><code>def find_file(f)
  Dir.glob(f, File::FNM_CASEFOLD).min_by do |f2|
    f.chars.zip(f2.chars).count {|c1,c2| c1 != c2}
  end
end

system ""touch foo.bar""
system ""touch Foo.Bar""
Dir.glob(""FOO.BAR"", File::FNM_CASEFOLD) #=&gt; [""foo.bar"", ""Foo.Bar""]
find_file(""FOO.BAR"") #=&gt; [""Foo.Bar""]
</code></pre>
"
"<p>am using Data.Vector and am currently in need of computing the contents of a vector for use in computing a cryptographic hash(Sha1). I created the following code. </p>

<pre><code>dynamic :: a -&gt; Int -&gt; (Int -&gt; Vector a -&gt; a) -&gt; Vector a
dynamic e n f = 
let 
    start = Data.Vector.replicate n e   
in step start 0
where
    step vector i = if i==n then vector
                    else step (vector // [(i,f i vector)]) (i+1)
</code></pre>

<p>I created this so that the function f filling out the vector has access to the partial
results along the way. Surely something like this must already exist in Data.Vector, no?</p>

<p>The problem statement is the following: You are to solve a dynamic programming problem where the finished result is an array. You know the size of the array size and you have a recursive function for filling it out.</p>
","149392","","<p>You probably already saw the function <code>generate</code>, which takes a size <code>n</code> and a function <code>f</code> of type <code>Int -&gt; a</code> and then produces a <code>Vector a</code> of size <code>n</code>. What you probably weren't aware of is that when using this function you actually do have access to the partial results.</p>

<p>What I mean to say is that inside the function you pass to <code>generate</code> you can refer to the vector you're defining and due to Haskell's laziness it will work fine (unless you make it so that the different items of the vector depend on each other in a circular fashion, of course).</p>

<p>Example:</p>

<pre><code>import Data.Vector

tenFibs = generate 10 fib
    where fib 0 = 0
          fib 1 = 1
          fib n = tenFibs ! (n-1) + tenFibs ! (n-2)
</code></pre>

<p><code>tenFibs</code> is now a vector containing the first 10 Fibonacci numbers.</p>
"
"<p>When I'm writing this code, I've got a Compile error in Scala</p>

<pre><code>var s: Stack[_ &lt;: Number] = new Stack[Integer]; 
s.push(new Integer(1)); //compile-error: type mismatch; found :Integer required: _$bqjyh where type _$bqjyh &lt;: Number
s.push(null); //compile-error: type mismatch; found   : Null(null) required: _$2 where type _$2 &lt;: Objects.Vehicle
</code></pre>

<p>This is equivalent to covariant collection in Java due the wildcard; it exact type in unknown, so we cannot added something to the stack.</p>

<p>But with lists I won't get the same error:</p>

<pre><code>   var list: List[_ &lt;: Number] = Nil;
   var intList : List[Integer] = new Integer(1) :: Nil;
   list = intList ; //no error
   list = new Float(2) :: vehicles;  //even float allowed
</code></pre>

<p>Now I can added even a <code>float</code>, but in fact I would believe the <code>list</code> is a <code>List</code> of <code>Integers</code>, so not <code>Floats</code> allowed.</p>

<p>1) Why is this allowed with lists, and not with Stacks? Is this due to the cons (::) operator?</p>

<p>2) What is the type of list? Is it dynamic? </p>

<p>3) Why is this allowed in Scala and not in Java? </p>

<p>4) Can I add something to the stack? (<code>null</code> is not working, in Java does because generic types only allows reference types)</p>
","149392","","<p><code>::</code> isn't a mutating operation. This means that <code>x :: xs</code> will return a List of type <code>List[ commonSupertypeOf[ typeOf[x], elementTypeOf[xs] ] ]</code> (this isn't actual scala code, but I hope my point comes across), but it will not change the type of <code>xs</code>. If <code>xs</code> has type <code>List[Float]</code> and <code>x</code> has type <code>Integer</code>, then the expression <code>x :: xs</code> will have type <code>List[Numeric]</code>, but the type of <code>xs</code> is still <code>List[Float]</code>, so nothing breaks.</p>

<p><code>add</code> however is a mutating operation. <code>xs.add(x)</code> will add an <code>Integer</code> to a <code>Stack</code> whose type is <code>Stack&lt;Float&gt;</code>, which is clearly an error.</p>

<p>This explains why doing <code>x :: xs</code> is not dangerous. Now to explain why it typeckecks:</p>

<p>The singnature of <code>::</code> on a <code>List[A]</code> is:  <code>def :: [B &gt;: A] (x: B) : List[B]</code>.</p>

<p>What this means is that for any types <code>A</code> and <code>B</code> where <code>B</code> is a supertype of <code>A</code>, <code>::</code> given a value of type <code>B</code> and a list of type <code>A</code> will produce a list of type <code>B</code>. So when you do some <code>someInteger :: someFloats</code>, the compiler infers that <code>B</code> is <code>Numeric</code> and <code>A</code> is <code>Float</code> and everything works.</p>

<p>In java terms that would be <code>&lt;B supertypeOf A&gt; List&lt;B&gt; prepend(B item)</code> except that <code>supertypeOf</code> isn't legal java.</p>
"
"<pre><code>int val = 5;

printf(""%d"",++val++); //gives compilation error : '++' needs l-value

int *p = &amp;val;
printf(""%d"",++*p++); //no error
</code></pre>

<p>Could someone explain these 2 cases? Thanks.</p>
","149392","","<p><code>++val++</code> is the same as <code>++(val++)</code>. Since the result of <code>val++</code> is not an lvalue, this is illegal. And as Stephen Canon pointed out, if the result of <code>val++</code> were an lvalue, <code>++(val++)</code> would be undefined behavior as there is no sequence point between the <code>++</code>s.</p>

<p><code>++*p++</code> is the same as <code>++(*(p++))</code>. Since the result of <code>*(p++)</code> <em>is</em> an lvalue, this is legal.</p>
"
"<p>The pre/post increment/decrement operator (<code>++</code> and <code>--</code>) are pretty standard programing language syntax (for procedural and object-oriented languages, at least). </p>

<p>Why doesn't Ruby support them? I understand you could accomplish the same thing with <code>+=</code> and <code>-=</code>, but it just seems oddly arbitrary to exclude something like that, especially since it's so concise and conventional. </p>

<p>Example:</p>

<pre><code>i = 0    #=&gt; 0
i += 1   #=&gt; 1
i        #=&gt; 1
i++      #=&gt; expect 2, but as far as I can tell, 
         #=&gt; irb ignores the second + and waits for a second number to add to i
</code></pre>

<p>I understand <code>Fixnum</code> is immutable, but if <code>+=</code> can just instanciate a new <code>Fixnum</code> and set it, why not do the same for <code>++</code>?</p>

<p>Is consistency in assignments containing the <code>=</code> character the only reason for this, or am I missing something?</p>
","149392","","<p>One reason is that up to now every assignment operator (i.e. an operator which changes a variable) has a <code>=</code> in it. If you add <code>++</code> and <code>--</code>, that's no longer the case.</p>

<p>Another reason is that the behavior of <code>++</code> and <code>--</code> often confuse people. Case in point: The return value of <code>i++</code> in your example would actually be 1, not 2 (the new value of <code>i</code> would be 2, however).</p>
"
"<p>I'm trying to add the extension to the Fibonacci numbers to take into account negative indexes.
The extension is Fib(-n) = (-n)^(n+1) * Fib(n)
I have attempted to implement this in c++ but I'm running into a problem and I'm not sure how to get around it.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;math.h&gt;


int fib(int n) {
    if ( n &lt; 0 ){ 
        return ( pow(-1,-n+1 ) * fib(-n) );
    }else if (n == 0){
        return 1;
    }else{
        return fib(n-1) + fib(n-2);
    }
}


int main(void){
    std::cout &lt;&lt; ""fib(""&lt;&lt; -2&lt;&lt;"") = "" &lt;&lt; fib(-2) &lt;&lt; std::endl;
    return 0;
}
</code></pre>

<p>This gives me a segfault, any idea why this is?</p>

<p>EDIT:
I figured out what the problem is. Forgot a base case and this caused an infinite recursion, which in turn caused a segfault.</p>
","149392","","<p>This will cause infinite recursion. You need two terminating cases, not one.</p>

<p>Take for example <code>fib(1)</code>. This will call <code>fib(0)</code> and <code>fib(-1)</code>. <code>fib(0)</code> will terminate, but <code>fib(-1)</code> will call <code>fib(1), which will then again call</code>fib(-1)` ad infinitum.</p>

<p>Solution: Terminate the recursion if <code>n==0</code> or <code>n==1</code>.</p>

<p>Sidenote: <code>fib(0)</code> is usually defined as 0, not 1.</p>
"
"<p>What is the difference between the defn and defmacro ? What is the difference between a function and a macro ?</p>
","149392","","<p><code>defn</code> defines a function, <code>defmacro</code> defines a macro.</p>

<p>The difference between functions and macros is that on a function call first the arguments of the function are evaluated then the body of the function is evaluated using the arguments.</p>

<p>Macros on the other hand describe a transformation from one piece of code to another. Any evaluation takes place after the transformation.</p>

<p>This means that arguments may be evaluated multiple times or not at all. As an example <code>or</code> is a macro. If the first argument of <code>or</code> is false, the second argument will never be evaluated. If <code>or</code> were a function, this would not be possible, because the arguments would always be evaluated before the function runs.</p>

<p>Another consequence of this is that the arguments of a macro need not be a valid expression before the macro is expanded. For example you could define a macro <code>mymacro</code> such that <code>(mymacro (12 23 +))</code> expands to <code>(+ 23 12)</code>, so this will work even though <code>(12 23 +)</code> on its own would be nonsense. You couldn't do that with a function because <code>(12 23 +)</code> would be evaluated, and cause an error, before the function runs.</p>

<p>A small example to illustrate the difference:</p>

<pre><code>(defmacro twice [e] `(do ~e ~e))
(twice (println ""foo""))
</code></pre>

<p>The macro <code>twice</code> gets the list <code>(println ""foo"")</code> as an argument. It then transforms it into the list <code>(do (println ""foo"") (println ""foo""))</code>. This new code is what gets executed.</p>

<pre><code>(defn twice [e] `(do ~e ~e))
(twice (println ""foo""))
</code></pre>

<p>Here <code>println ""foo""</code> is evaluted right away. Since <code>println</code> returns <code>nil</code>, twice is called with <code>nil</code> as its argument. <code>twice</code> now produces the list <code>(do nil nil)</code> and returns that as its result. Note that here <code>(do nil nil)</code> is not evaluated as code, it's just treated as a list.</p>
"
"<p>Continuing roadblocks when trying to learn Haskell.</p>

<p>I am following the ""Real World Haskell"" and when it comes to getting one of their complex examples to work, I obtain the following error </p>

<p>""Ambiguous type variable <code>e' in the constraint:
</code>GHC.Exception.Exception e'
        arising from a use of `handle' at FoldDir.hs:88:14-61
    Probable fix: add a type signature that fixes these type variable(s)""</p>

<p>My relevant bits of code are:</p>

<pre><code>import Control.Exception (bracket, handle)
maybeIO :: IO a -&gt; IO (Maybe a)
maybeIO act = handle (\_ -&gt; return Nothing) (Just `liftM` act)
</code></pre>

<p>How do I eradicate this error?    </p>
","149392","","<p>You need to specify a type for the handler-function's argument, so it knows which kinds of exceptions to handle.</p>

<p>You can either do this by naming the function</p>

<pre><code>import Control.Exception (handle, SomeException)
maybeIO act = handle handler (Just `liftM` act)
    where handler :: SomeException -&gt; IO (Maybe a)
          handler _ = return Nothing
</code></pre>

<p>Or by using the <code>ScopedTypeVariables</code> extension:</p>

<pre><code>{-# LANGUAGE ScopedTypeVariables #-}
import Control.Exception (handle, SomeException)
maybeIO act = handle (\(_ :: SomeException) -&gt; return Nothing) (Just `liftM` act)
</code></pre>
"
"<p>Really.. I'm having the last test for graduation this Tuesday, and that's one of the things I just never could understand.
I realize that a solution for NP problem can be verfied in polynomial time. But what does determinism has to do with that?<br>
And if you could explain me where NP-complete and NP-hard got their names, that would be great (I'm pretty sure I get the meaning of them, I just don't see what their names have to do with what they are).<br>
Sorry if that's trivial, I just can't seem to get it (-:<br>
Thanks all!</p>
","149392","","<p>NP is called NP (nondeterministic polynomial time) because an NP problem can be solved in polynomial time by a nondeterministic turing machine.</p>
"
"<p>I need to build a regex. the string i want to match always starts with \ then 4 or 5 numbers then another \</p>

<p>For example.</p>

<ol>
<li>Welcome Home&lt;\217.163.24.49\7778\False,</li>
<li>Euro Server\217.163.26.20\7778\False,</li>
<li>Instagib!)\85.236.100.115\8278\False,</li>
</ol>

<p>in first example i need ""7778"". In second example i need ""7778"". In third example i need ""8278"".</p>

<p>these 4 digit numbers is actually a port number, and its the only time on each line that this series of characters (eg, \7778\ ) would appear. sometimes the port number is 4 digits long, sometimes its 5.</p>

<p>I already know how to keep the string for later use using Regex.Match.Success, its just the actual regex pattern I am looking for here.</p>

<p>thanks</p>
","149392","","<pre><code>@""\\(\d{4,5})\\""
</code></pre>

<p><code>\\</code> to match a backslash, <code>\d</code> to match digits, <code>{4,5}</code> for ""4 to 5"". The parentheses around <code>\d{4,5}</code> make it so that you can access the number part with <code>.Groups[1]</code>.</p>
"
"<p>I have an Foo module, that it is namespace for many classes ie: Foo::Bar, Foo::Baz an so on. Is there an way to return all class names namespaced by Foo?</p>
","149392","","<pre><code>Foo.constants
</code></pre>

<p>returns all constants in <code>Foo</code>. This includes, but is not limited to, classnames. If you want only class names, you can use</p>

<pre><code>Foo.constants.select {|c| Foo.const_get(c).is_a? Class}
</code></pre>

<p>If you want class and module names, you can use <code>is_a? Module</code> instead of <code>is_a? Class</code>.</p>
"
"<p>This is one of the most difficult things to search for because when you search how to parse a regex you get how to parse with a regex. I want to read a regex from a file, put it in an object somehow, then parse strings using that regex in my program.</p>

<p>Im sure someone has done this before, can you help me out on where to start?</p>
","149392","","<p>You can use <code>Regexp.new</code> to create a regex from a string. So if your file contains only the regex you can do:</p>

<pre><code>regex = Regexp.new( File.read(""somefile"").chomp )
</code></pre>

<p>(<code>chomp</code> to remove the trailing newline if there is one, assuming you don't want that in the regex)</p>
"
"<p>I'm trying to write a function that would apply the function to just one item if it's not a collection, or else apply that function to each of the collections elements. For example:</p>

<h1>replace spaces with underscores</h1>

<pre><code>foo 'a bear' =&gt; 'a_bear'
foo ['a bear', 'a bee'] =&gt; ['a_bear', 'a_bee']
</code></pre>

<p>Is this possible?</p>
","149392","","<p>It depends on how you define ""collection"". The most natural option would probably be either ""any Enumerable"" or even ""anything with an each method"". However this leads to a problem because Strings are Enumerable, too - in ruby 1.8, at least.</p>

<p>If you only need it to work with arrays, it's easy:</p>

<pre><code>def foo(x)
  if x.is_a? Array
    x.map {|item| foo(item)}
  else
    # Do something with x
  end
end
</code></pre>
"
"<p>I’m a beginner in Ruby, so I’m sorry to ask something so simple, but is there anything wrong with this code – </p>

<pre><code>3.upto(9) {
  print ""Hello""
  puts "" World""
}
</code></pre>

<p>or</p>

<pre><code>3.upto(9) { |n|
  print ""Hello ""
  puts n
}
</code></pre>

<p>It works well enough, but most of the code samples I see use the syntax of </p>

<pre><code>3.upto(9) do |n|
  print ""Hello ""
  puts n
end
</code></pre>

<p>is it just the convention to only use curly braces for single statements?  Coming from C/C# the first seems more natural to me, but when in Rome!</p>
","149392","","<p>It's just convention.</p>
"
"<p>I need to generate a list of all distinct permutations of 1..n x 1..n where teh first value does not equal the second
(i.e. generate 3 -> [(3,2):: (3,1):: (2,3) ::(2,1)::(1,3)::(1,2)]</p>

<p>the exact scenario is you have a pool of objects(cards) and one is dealt to each player. If a player is dealt a card, no other player can be dealt that card(ignore suits for the time being, if I have to I will make a lut for 1-52 to map to the actual cards)</p>

<p>I came up with the following which seems messy at best</p>

<pre><code> let  GenerateTuples (numcards: int) =
    let rec cellmaker (cardsleft: int) (cardval:int) = 
        if cardval = cardsleft  then (if cardval &lt;= 0  then []  else cellmaker cardsleft (cardval-1) ) elif cardval &lt;= 0  then [] else (cardsleft, cardval) :: cellmaker cardsleft (cardval-1)
    let rec generatelists (cardsleft:int) =
        cellmaker cardsleft numcards @ (if cardsleft &gt; 1 then generatelists (cardsleft-1) else [])
    generatelists numcards
</code></pre>

<p>is there a better way of doing this?</p>
","149392","","<p>You can do it easily using list comprehensions:</p>

<pre><code>let GenerateTuples (n:int) =
    [for i in 1..n do for j in 1..n do if i &lt;&gt; j then yield (i,j)]
</code></pre>
"
"<p>What are the benefits of using FileUtils methods <a href=""http://ruby-doc.org/core/classes/FileUtils.html"" rel=""nofollow"">http://ruby-doc.org/core/classes/FileUtils.html</a> than the equivalent Bash commands?</p>
","149392","","<p>The FileUtils methods work on Windows.</p>
"
"<p>This follows a question I asked a few hours ago. </p>

<p>I have this code:</p>

<pre><code>class A(object):
    def __init__(self, a):
        print 'A called.'
        self.a = a

class B(A):
    def __init__(self, b, a):
        print 'B called.'

x = B(1, 2)
print x.a
</code></pre>

<p>This gives the error: <code>AttributeError: 'B' object has no attribute 'a'</code>, as expected.  I can fix this by calling <code>super(B, self).__init__(a)</code>. </p>

<p>However, I have this code:</p>

<pre><code>class A(object):
    def __init__(self, a):
        print 'A called.'
        self.a = a

class B(A):
    def __init__(self, b, a):
        print 'B called.'
        print a

x = B(1, 2)
</code></pre>

<p>Whose output is: </p>

<pre><code>B called.
2
</code></pre>

<p>Why does this work? And more importantly, how does it work when I have not initialized the base class? Also, notice that it does not call the initializer of <code>A</code>. Is it because when I do a:</p>

<p><code>def __init__(self, b, a)</code></p>

<p>I am declaring <code>b</code> to be an attribute of <code>B</code>? If yes, how can I check <code>b</code> is an attribute of which class - the subclass or the superclass? </p>
","149392","","<p>The way you defined it <code>B</code> does not have any attributes. When you do <code>print a</code> the <code>a</code> refers to the local variable <code>a</code> in the <code>__init__</code> method, not to any attribute.</p>

<p>If you replace <code>print a</code> with <code>print self.a</code> you will get the same error message as before.</p>
"
"<p>I'm looking from something that to replace the <code>*parent*</code>. </p>

<pre><code>%w[apple apples].each do |w|
   next if *parent*.includes? w + ""s""
   puts w
end

# output: apples
</code></pre>
","149392","","<p>There's no way to do that. You'll have to give the collection a name first:</p>

<pre><code>fruits = %w[apple apples]
fruits.each do |w|
   next if fruits.includes? w + ""s""
   puts w
end
</code></pre>
"
"<p>I found this snippet online and the purpose is to commify any number including numbers with decimals ... 99999999 => 99,999,999.  I can see that it uses regex but I am confused by ""$1.reverse, $2""</p>

<pre><code>def commify(n)
  n.to_s =~ /([^\.]*)(\..*)?/
  int, dec = $1.reverse, $2 ? $2 : """"
  while int.gsub!(/(,|\.|^)(\d{3})(\d)/, '\1\2,\3')
  end
  int.reverse + dec
end
</code></pre>

<p>Can anyone explain what is going on in this code?</p>
","149392","","<p><code>n.to_s =~ /([^\.]*)(\..*)?/</code> takes the number as a string and stores everything before the decimal point (or simply everything if there is no decimal point) in <code>$1</code> and everything after and including it in <code>$2</code>.</p>

<p><code>int, dec = $1.reverse, $2 ? $2 : """"</code> stores the reverse of <code>$1</code> in <code>int</code> and <code>$2</code>, or <code>""""</code> if <code>$2</code> is <code>nil</code>, in <code>dec</code>. In other words <code>int</code> now contains the part before the decimal point reversed and <code>dec</code> contains the part after the point (not reversed).</p>

<p>The next line inserts a comma every three places into <code>int</code>. So by reversing <code>int</code> again we get the original integral part of the number with commas inserted every three places from the end. Now we add <code>dec</code> again at the end and get the original number with commas at the right places.</p>
"
"<p>Coming to OCaml from Lisp, I find myself very confused about when functions return and when they don't.  I miss my magic Quote!  Thankfully, most of the time, OCaml appears to automagicly know when I want a function evaluated and when I don't.  However, I frequently find myself trying to assign the return value of a function in a let expression, like the following.</p>

<pre><code>let start = Sys.time in
(*
 * do something here
 *)
 ;
let ending = Sys.time in
Printf.printf ""did something in %f seconds\n"" (ending -. start)
</code></pre>

<p>but then ocamlc complains</p>

<pre><code>Error: This Expression has type unit -&gt; float
       but an expression was expected of type float
</code></pre>

<p>Telling me that start and end are bound to <code>Sys.time</code>, not the return value of <code>Sys.time</code>.</p>

<p>Is this behavior I'm trying to get not OCamly?  Do I want to be doing things another way?  Am I just missing something completely obvious?</p>
","149392","","<p>A function is evaluated when you apply it to an argument. I.e. when you do <code>f</code>, <code>f</code> never gets evaluated. When you do <code>f x</code>, <code>f</code> always gets evaluated. There's nothing magical about it.</p>

<p>As you correctly pointed out, <code>Sys.time</code> is a function (of type <code>unit -&gt; float</code>) and <code>let start = Sys.time</code> just assigns that function to <code>start</code>.</p>

<p>To get the behavior you want simply do <code>let start = Sys.time ()</code>, which applies the function <code>Sys.time</code> to the argument <code>()</code> (which is the only value of type <code>unit</code>).</p>
"
"<p>I need to replace all minutes with hours in a file. </p>

<p>Assume a raw file like this:
120m
90m</p>

<p>Should change to:
2h
1.5h</p>
","149392","","<p>If you can live with it printing ""2.0"" instead of ""2"", you can just do:</p>

<pre><code>""120m 90m"".gsub(/(\d+)m/) { ""#{$1.to_f / 60.0}h""}
#=&gt; ""2.0h 1.5h""
</code></pre>

<p>If you need it to print it without "".0"", you need to check whether the number is evenly divisible by 60 and if so return <code>$1.to_i / 60</code> instead of <code>$1.to_f / 60.0</code>.</p>

<p>Alternatively you could call <code>to_s</code> on the float and remove <code>.0</code> if the string ends with "".0""</p>
"
"<p>I am trying to use Parsec to parse something like this:</p>

<pre><code>property :: CharParser SomeObject
property = do
    name
    parameters
    value
    return SomeObjectInstance { fill in records here }
</code></pre>

<p>I am implementing the iCalendar spec and on every like there is a name:parameters:value triplet, very much like the way that XML has a name:attributes:content triplet. Infact <a href=""http://tools.ietf.org/html/draft-daboo-et-al-icalendar-in-xml-06"">you could very easily convert an iCalendar into XML format</a> (thought I can't really see the advantages).</p>

<p>My point is that the parameters do not have to come in any order at all and each paramater may have a different type. One parameter may be a string while the other is the numeric id of another element. They may share no similarity yet, in the end, I want to place them correctly in the right record fields for whatever 'SomeObjectInstance' that I wanted the parser to return. How do I go about doing this sort of thing (or can you point me to an example of where somebody had to parse data like this)? </p>

<p>Thankyou, I know that my question is probably a little confused but that reflects my level of understanding of what I need to do.</p>

<p><strong>Edit</strong>: I was trying to avoid giving the expected output (because it is large, not because it is hidden) but here is an example of an input file (from wikipedia):</p>

<blockquote>
  <p>BEGIN:VCALENDAR<br>
  VERSION:2.0<br>
  PRODID:-//hacksw/handcal//NONSGML v1.0//EN<br>
  BEGIN:VEVENT<br>
  UID:uid1@example.com<br>
  DTSTAMP:19970714T170000Z<br>
  ORGANIZER;CN=John Doe:MAILTO:john.doe@example.com<br>
  DTSTART:19970714T170000Z<br>
  DTEND:19970715T035959Z<br>
  SUMMARY:Bastille Day Party<br>
  END:VEVENT<br>
  END:VCALENDAR  </p>
</blockquote>

<p>As you can see it contains one VEvent inside a VCalendar, I have made <a href=""http://github.com/robertmassaioli/hICalendar/blob/combined/Text/ICalendar/Components.hs"">data structures that represent them here</a>.</p>

<p>I am trying to write a parser that parses that type of file into my data structures and I am stuck on the bit where I need to handle properties coming in any order with any type; date, time, int, string, uid, ect. I hope that makes more sense without repeating the entire iCalendar spec.</p>
","149392","","<p>Ok, so between <code>BEGIN:VEVENT</code> and <code>END:VEVENT</code>, you have many key value pairs. So write a rule <code>keyValuePair</code> that returns <code>(key, value)</code>. Now inside the rule for <code>VEVENT</code> you do <code>many KeyValuePair</code> to get a list of pairs. Once you've done that you use a fold to populate a VEVENT record with the given values. In the function you give to fold, you use pattern matching to find out in which field to store the value. As the starting value for the accumulator you use a VEvent record where the optional fields are set to <code>Nothing</code>. Example:</p>

<pre><code>pairs &lt;- many keyValuePairs
vevent = foldr f (VEvent {sequence = Nothing}) pairs
    where f (""SUMMARY"", v) ve = ve {summary = v}
          f (""DSTART"", v) ve = ve {dstart = read v}
</code></pre>

<p>...and so on. Do the same for the other components.</p>

<p>Edit: Here's some runnable example code for the fold:</p>

<pre><code>data VEvent = VEvent {
        summary :: String,
        dstart :: String,
        sequenceSt :: Maybe String
        } deriving Show

vevent pairs = foldr f (VEvent {sequenceSt = Nothing}) pairs
    where f (""SUMMARY"", v) ve = ve {summary = v}
          f (""DSTART"", v) ve = ve {dstart = v}
          f (""SEQUENCEST"", v) ve = ve {sequenceSt = Just v}

main = do print $ vevent [(""SUMMARY"", ""lala""), (""DSTART"", ""lulu"")]
          print $ vevent [(""SUMMARY"", ""lala""), (""DSTART"", ""lulu""), (""SEQUENCEST"", ""lili"")]
</code></pre>

<p>Output:</p>

<pre><code>VEvent {summary = ""lala"", dstart = ""lulu"", sequenceSt = Nothing}
VEvent {summary = ""lala"", dstart = ""lulu"", sequenceSt = Just ""lili""}
</code></pre>

<p>Note that this will produce a warning when compiled. To avoid the warning, initialize all non-optional fields to <code>undefined</code> explicitly.</p>
"
"<p>Ok, so I'm writing some python code (I don't write python much, I'm more used to java and C).</p>

<p>Anyway, so I have collection of integer literals I need to store.
(Ideally >10,000 of them, currently I've only got 1000 of them)
I would have liked to be accessing the literals by file IO, or by accessing there source API, but that is disallowed.
And not ontopic anyway.</p>

<p>So I have the literals put into a list:</p>

<pre><code>    src=list(0,1,2,2,2,0,1,2,... ,2,1,2,1,1,0,2,1)
#some code that uses the src
</code></pre>

<p>But when I try to run the file it comes up with an error because there are more than 255 arguments.
So the constructor is the problem.
How should I do this?</p>

<p>The data is intitally avaiable to me as a space deliminated textfile.
I just searched and replaced and copied it in </p>
","149392","","<p>If you use <code>[]</code> instead of <code>list()</code>, you won't run into the limit because <code>[]</code> is not a function.</p>

<pre><code>src = [0,1,2,2,2,0,1,2,... ,2,1,2,1,1,0,2,1]
</code></pre>
"
"<p>I saw this</p>

<pre><code>i &gt;= 5
</code></pre>

<p>but I also saw this</p>

<pre><code>i =&gt; 5
</code></pre>

<p>What's the difference?</p>
","149392","","<p><code>i =&gt; 5</code> is a lambda expression, which takes on argument named <code>i</code> and returns the <code>int</code> 5.</p>
"
"<p>I am trying to learn object oriented programming in the context of Java. I am writing a fairly simple code, but am getting this error:</p>

<pre><code>Exception in thread ""main"" java.lang.NullPointerException
at Advisor_score.Rating.Score(Rating.java:12)
at Advisor_score.Rating.main(Rating.java:25)
</code></pre>

<p>Here is my code:</p>

<pre><code>package Advisor_score;
public class Rating {
    double [] Ratings;
    double sum;
    double raw_advisor;
    double advisor_score;
    public Rating (double [] x){
        double [] Ratings = x;
    }

    public double Score(){
        for(int i=2;i&lt;Ratings.length;i++){
            sum+=Ratings[i];
        }
        raw_advisor=((sum-(3*(Ratings.length-2)))/4);
        advisor_score= 2.5+(2.5*(1-Math.pow(Math.E, -.5*raw_advisor)));
        return advisor_score;
    }

    public void print(){
        System.out.println(advisor_score);
    }

    public static void main(String[] args){ 
        double p1_1[] = {101,1,1,1.5,.5};
        Rating d = new Rating(p1_1);
        d.Score();
        d.print();
    }
}
</code></pre>

<p>I have been looking at this for hours and cannot figure out the problem with the code. I am new to programming can anyone help me? Thanks in advance!</p>
","149392","","<pre><code>public Rating (double [] x){
    double [] Ratings = x;
}
</code></pre>

<p>Here you're declaring a local variable <code>Ratings</code> and assigning <code>x</code> to it. Right afterwards, the variable goes out of scope.</p>

<p>What you want to do is <code>Ratings = x;</code>, which would set the instance variable <code>Ratings</code> to <code>x</code> instead of creating a new and unused local variable.</p>
"
"<p>Is there a straight-forward combination of standard higher-order functions to count the unique elements in a list?</p>

<p>For example the result for</p>

<pre><code>[1, 1, 4, 0, 4, 4]
</code></pre>

<p>would be something like</p>

<pre><code>[(1,2), (4,3), (0,1)]
</code></pre>
","149392","","<p>If order is not important this works:</p>

<pre><code>map (\xs@(x:_) -&gt; (x, length xs)) . group . sort
</code></pre>

<p><code>group . sort</code> will give you a list of lists where all elements that are equal to each other are grouped into the same sublist (without sort, only consecutive equal elements would be grouped together). The <code>map</code> then turns each sublist into a <code>(element, lengthOfSublist)</code>-tuple.</p>

<p>If you want to order the result by first occurrence, you can use <code>zip</code> before the sort to add an index to each element, then, after grouping, sort again by that index and then remove the index.</p>
"
"<p>I know that the following ""do"" notation's ""bind"" function is equivalent to  <code>getLine &gt;&gt;= \line -&gt; putStrLn</code></p>

<pre><code>do line &lt;- getLine
   putStrLn line
</code></pre>

<p>But how is the following notation equivalent to bind function?</p>

<pre><code>do line1 &lt;- getLine
   putStrLn ""enter second line""
   line2 &lt;- getLine
   return (line1,line2)
</code></pre>
","149392","","<pre><code>getLine &gt;&gt;= \line1 -&gt;
putStrLn ""enter second line"" &gt;&gt;
getLine &gt;&gt;= \line2 -&gt;
return (line1, line2)
</code></pre>

<p>Generally <code>foo &lt;- bar</code> becomes <code>bar &gt;&gt;= \foo -&gt;</code> and <code>baz</code> becomes <code>baz &gt;&gt;</code> (unless it's the last line of the do-block, in which case it just stays <code>baz</code>).</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br>
  <a href=""http://stackoverflow.com/questions/6806/what-is-the-best-way-to-learn-ruby"">What is the best way to learn Ruby?</a><br>
  <a href=""http://stackoverflow.com/questions/3293120/explain-iterator-syntax-on-ruby-on-rails"">Explain Iterator Syntax on Ruby on Rails</a>  </p>
</blockquote>



<p>I'm still learning ruby, ruby on rails and such. I'm getting better at understanding all the ruby and rails syntax but this one has me a little stumped.</p>

<pre><code>respond_to do |format|
  format.html # index.html.erb
  format.xml  { render :xml =&gt; @contact_lists }
end
</code></pre>

<p>respond_to is a method that takes a proceedure, I think.  The two formats look like they may be method calls too, but I don't know. </p>
","149392","","<p><code>respond_to</code> is a method which takes block. The block takes one argument, which here is called <code>format</code>.</p>

<p>Now you call two methods on <code>format</code>. <code>html</code> which you call without arguments. And <code>xml</code> which you call with a block.</p>

<p>This block takes no arguments and contains a call to the render method with a hash as an argument. The hash contains the key <code>:xml</code> and the value <code>@contact_lists</code>.</p>
"
"<p>I've looked a number of sources: it seems not possible to declare a type definition in F# ala Haskell:</p>

<pre><code>' haskell type def:
myFunc :: int -&gt; int
</code></pre>

<p>I'd like to use this type-def style in F#--FSI is happy to echo back to me:</p>

<pre><code>fsi&gt; let myType x = x +1;;

val myType : int -&gt; int
</code></pre>

<p>I'd like to be explicit about the type def signature in F# as in Haskell. Is there a way to do this? I'd like to write in F#:</p>

<pre><code>//invalid F#
myFunc : int -&gt; int
myFunc x = x*2
</code></pre>
","149392","","<p>The usual way is to do <code>let myFunc (x:int):int = x+1</code>.</p>

<p>If you want to be closer to the haskell style, you can also do <code>let myFunc : int -&gt; int = fun x -&gt; x+1</code>.</p>
"
"<p>these days I have been studying about NP problems, computational complexity and theory. I believe I have finally grasped the concepts of Turing Machine, but I have a couple of doubts.</p>

<p>I can accept that a non-deterministic turing machine has several options of what to do for a given state and symbol being read and that it will always pick the best option, as stated by wikipedia</p>

<blockquote>
  <p>How does the NTM ""know"" which of these
  actions it should take? There are two
  ways of looking at it. One is to say
  that the machine is the ""luckiest
  possible guesser""; it always picks the
  transition which eventually leads to
  an accepting state, if there is such a
  transition. The other is to imagine
  that the machine ""branches"" into many
  copies, each of which follows one of
  the possible transitions. Whereas a
  DTM has a single ""computation path""
  that it follows, an NTM has a
  ""computation tree"". If any branch of
  the tree halts with an ""accept""
  condition, we say that the NTM accepts
  the input.</p>
</blockquote>

<p>What I can not understand is, since this is an imaginary machine, what do we gain from saying that it can solve NP problems in polynomial time? I mean, I could also theorize of a magical machine that solves NP problems in O(1), what do I gain from that if it may never exist?</p>

<p>Thanks in advance.</p>
","149392","","<p>What you gain from that is that you can prove that a problem is in NP by proving that it can be solved by an NTM in polynomial time.</p>

<p>In other words you can use NTMs to find out whether a given problem is in NP or not.</p>
"
"<p>I'm having a bit difficulty figuring out, how to get each of the processed chars back to an int value.</p>

<p>The function should work like: val caesar = fn :  int * int -> int</p>

<p>So if k = 2466 and n = 2, then the output should be 4688</p>

<p>Hope the code isn't too weird (I'm a SML newbie). </p>

<pre><code> (* Load Libs *)
    load ""Int"";
    load ""Real"";
    load ""String"";
    load ""Char"";
    load ""List"";


    fun caesar (k, n) =
      let
        fun k_string (i) = Int.toString(i)
        fun item_k_char (x, y) = Char.ord (List.nth (x, y))

        val val_k_string = k_string(k)
        val k_explode = String.explode(val_k_string)
        val counter = ref 0
        val counter_end = (String.size(val_k_string) - 1)

      in 
        while (!counter &gt;= counter_end) do (
          item_k_char(k_explode, !counter) + n;
          counter := !counter + 1
        )
      end;
</code></pre>
","149392","","<p>A while loop isn't the best tool here. Instead you can use <code>map</code> which executes a given function for each item in a given list and returns a new list containing the result of each call to the function.</p>

<p>In other words: <code>map (fn c =&gt; (Char.ord c) + 2) [#""2"", #""4"", #""6"", #""6""]</code> will return <code>[52,54,56,56]</code>. You can the convert this back to char and use <code>String.implode</code> to get the string ""4688"".</p>

<p>You probably also want to add some logic so that the numbers ""wrap around"", i.e. <code>caesar (7,7)</code> becomes <code>4</code>.</p>

<p>So all in all your code becomes:</p>

<pre><code>fun caesar (k, n) =
  let
    val val_k_string = Int.toString k
    val k_explode = String.explode val_k_string
    val ints = map (fn c =&gt; (Char.ord c) + n) k_explode
    val wrappedAroundInts = map (fn i =&gt; (i - 48) mod 10 + 48) ints
    val chars = map Char.chr wrappedAroundInts
    val string = String.implode chars
  in
    Option.valOf (Int.fromString string)
  end
</code></pre>
"
"<p>So, I'm a total nuby working through <a href=""http://www.rubykoans.com/"" rel=""nofollow"">http://www.rubykoans.com/</a> and I'm stuck on about_scoring_project.rb.  This is my stab at the score method.  </p>

<pre><code>def score(dice)
  score = 0;
  if dice.respond_to?(""include?"") then
    # add 1000 points if rolled 3 ones
    score += 1000 if dice.include?([1, 1, 1])

    # add 100 points times die face value if rolled 3 of a number between 2 and 6
    (2...6).each do |die|
        score += die*100 if dice.include?([die, die, die])

      # award points for each 1 or 5 not a part of a set of 3
      leftovers = dice - [1,1,1]
      leftovers -= [5,5,5]
      leftovers.each do |leftover|
        score += 100 if leftover == 1
        score += 50 if leftover == 5
      end
    end
  end
  score
end

class AboutScoringAssignment &lt; EdgeCase::Koan
  def test_score_examples
    assert_equal 1150, score([1,1,1,5,1])
    assert_equal 0, score([2,3,4,6,2])
    assert_equal 350, score([3,4,5,3,3])
    assert_equal 250, score([1,5,1,2,4])
  end
end
</code></pre>

<p>In the call to score from the first assert_equal, I would expect dice.include?([1,1,1]) to evaluate to true, but it's evaluating to nil (and score is returning 0 instead of 1150).</p>

<p>I tried this separately...</p>

<pre><code>require 'test/unit'

class EnumerableTests &lt; Test::Unit::TestCase
  def test_include
    my_enumerable = [1,1,1,5,1]
    assert true, my_enumerable.include?([1,1,1])    
  end
end
</code></pre>

<p>...and the test passes, so I don't know why I'm getting nil in my score method.  </p>

<p>Anybody see what I'm doing wrong?</p>
","149392","","<p>Minor nitpick: <code>Array#include?</code> always returns <code>true</code> or <code>false</code>, never <code>nil</code>.</p>

<p>To answer your question: <code>x.include?(y)</code> tests whether <code>y</code> is an element of <code>x</code>, not whether it's a subarray.</p>

<p><code>[1,1,1,5,1].include?([1,1,1])</code> returns <code>false</code> because <code>[1,1,1]</code> is not an element of the array <code>[1,1,1,5,1]</code>. <code>[[1,1,1],[5,1]].include?([1,1,1]))</code> would return <code>true</code>.</p>

<p>There is no method in ruby that checks whether an array is a subarray of a another array, but you can easily write it as <code>arr1.each_cons(arr2.size).include?(arr2)</code> (needs <code>require 'enumerator'</code> in 1.8.6). This is <code>O(arr1.size*arr2.size)</code> though.</p>

<p>If you want it in <code>O(arr1.size + arr2.size)</code>, you can implement the Knuth-Morris-Pratt algorithm (which is meant to find substrings, but works equally well for finding subarrays as they are essentially the same thing).</p>
"
"<p>I have these two Haskell data types:</p>

<pre><code>data Code 
    = Code_A | Code_B | Code C
    deriving (Eq,Show)

data ListObject = Code | Int
</code></pre>

<p>I need to make a list that contains <code>ListObjects</code>. That is both integer values and codes <code>([1,2, Code_A, 3])</code>. I know it should be possible but I just can't figure the syntax for it. Haskell can do some neat stuff but its syntax sucks. Some help would be greatly appreciated.</p>
","149392","","<p>The way you defined <code>ListObject</code> there are exactly two values of type <code>ListObject</code>: <code>Code</code> and <code>Value</code>. This is somewhat similar to <code>enum ListObject {Code, Int}</code> in C-like languages. The costructor <code>Code</code> of type <code>ListObject</code> doesn't actually have anything to do with the type <code>Code</code> (same goes for <code>Int</code>).</p>

<p>So the way you defined it, a list of <code>ListObject</code>s would look like this: <code>[Int, Code, Code, Int]</code>. Of course that's not very useful.</p>

<p>What you probably want to do is something like this: <code>data ListObject = CodeObject Code | IntObject Int</code>, which says ""A ListObject is either an IntObject containing an Int, or a CodeObject containing a Code"".</p>

<p>With that definition your list may look like <code>[IntObject 42, Code Code_A, IntObject 23]</code>.</p>
"
"<p>This is my array</p>

<pre><code>[{:amount=&gt;10, :gl_acct_id=&gt;1, :alt_amount=&gt;20}, {:amount=&gt;20, :gl_acct_id=&gt;2
, :alt_amount=&gt;30}]
</code></pre>

<p>i want result </p>

<pre><code>[{:amount =&gt; 30}] or {:amount = 30}
</code></pre>

<p>Any idea?</p>
","149392","","<p>You can use <code>inject</code> to sum all the amounts. You can then just put the result back into a hash if you need to.</p>

<pre><code>arr = [{:amount=&gt;10, :gl_acct_id=&gt;1, :alt_amount=&gt;20}, {:amount=&gt;20, :gl_acct_id=&gt;2, :alt_amount=&gt;30}]    
amount = arr.inject(0) {|sum, hash| sum + hash[:amount]} #=&gt; 30
{:amount =&gt; amount} #=&gt; {:amount =&gt; 30}
</code></pre>
"
"<p>How do i do this in clojure </p>

<pre><code>""text"".gsub(/(\d)([ap]m|oclock)\b/, '\1 \2')
</code></pre>
","149392","","<p>You can use Java's <a href=""http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29"" rel=""nofollow"">replaceAll</a> method. The call would look like:</p>

<pre><code>(.replaceAll ""text"" ""(\\d)([ap]m|oclock)\\b"" ""$1 $2"")
</code></pre>

<p>Note that this will return a new string (like <code>gsub</code> (without the bang) would in ruby). There is no equivalent for <code>gsub!</code> in Clojure as Java/Clojure string are immutable.</p>
"
"<p>So I was playing around with Haskell today, thinking about autogeneration of function definitions given a type.</p>

<p>For example, the definition of the function</p>

<pre><code>twoply :: (a -&gt; b, a -&gt; c) -&gt; a -&gt; (b, c)
</code></pre>

<p>is obvious to me given the type (if I rule out use of <code>undefined :: a</code>).</p>

<p>So then I came up with the following:</p>

<pre><code>¢ :: a -&gt; (a -&gt;b) -&gt; b
¢ = flip ($)
</code></pre>

<p>Which has the interesting property that</p>

<pre><code>(¢) ¢ ($) :: a -&gt; (a -&gt; b) -&gt; b
</code></pre>

<p>Which brings me to my question.  Given the relation <code>=::=</code> for ""has the same type as"", does the statement <code>x =::= x x ($)</code> uniquely define the type of <code>x</code>?  Must <code>x =::= ¢</code>, or does there exist another possible type for <code>x</code>?</p>

<p>I've tried to work backward from <code>x =::= x x ($)</code> to deduce <code>x :: a -&gt; (a -&gt; b) -&gt; b</code>, but gotten bogged down.</p>
","149392","","<p><code>x =::= x x ($)</code> is also true for <code>x = const</code>, which has the type <code>a -&gt; b -&gt; a</code>. So it does not uniquely identify the type.</p>
"
"<p>I have encountered the following problem which proved to me that I know far too little about the workings of C++. </p>

<p>I use a base class with pure virtual functions</p>

<pre><code>class Base
    ...
</code></pre>

<p>and a derived classes of type  </p>

<pre><code>class Derived : public Base{
private:
  Foo* f1;
 ...
</code></pre>

<p>Both have assignment operators implemented. Among other things, the assignment operator for Derived copies the data in f1. In my code, I create two new instances of class Derived</p>

<pre><code>Base* d1 = new Derived();
Base* d2 = new Derived();
</code></pre>

<p>If I now call the assignment operator</p>

<pre><code>*d1 = *d2;
</code></pre>

<p>the assignment operator of Derived is not called, and the data in f1 is not copied! It only works if I do </p>

<pre><code>*dynamic_cast&lt;Derived*&gt;(d1) = *dynamic_cast&lt;Derived*&gt;(d2);
</code></pre>

<p>Can someone explain why the assignment operators are not overloaded?</p>

<p>Thanks!</p>
","149392","","<p>It's hard to say without seeing the relevant code. Here's an example that works:</p>

<pre><code>#include &lt;iostream&gt;

using namespace std;

class A {
  public:
    virtual A&amp; operator=(A&amp; a) {}
};

class B : public A {
  public:
    B&amp; operator=(A&amp; a) { cout &lt;&lt; ""B"" &lt;&lt; endl; }
};

int main() {
  A* foo = new B();
  A* bar = new B();
  *foo = *bar;
  return 0;
}
</code></pre>

<p>This will print <code>B</code> when run.</p>

<p>Things that you might be doing wrong:</p>

<ol>
<li>You might have forgotten to make <code>operator=</code> virtual in the base class.</li>
<li>You might have given the child's class <code>operator=</code> as signature that's more restrictive than that of the parent's <code>operator=</code>, so you're not actually overriding the parent's definition. For example if you change <code>B&amp; operator=(A&amp; a) { cout &lt;&lt; ""B"" &lt;&lt; endl; }</code> to <code>B&amp; operator=(B&amp; a) { cout &lt;&lt; ""B"" &lt;&lt; endl; }</code> in the example above, it will no longer print <code>B</code>.</li>
</ol>
"
"<p>I'm trying to subtract 2 lists and return the compared product.</p>

<p>So if list
a   = [2,3,2]
b   = [1,1,1] 
then 
a-b = [1,2,1] and the returned product (c) should be 1.</p>

<pre><code>val c = List.map (fn i =&gt; (i - b) mod 10) a
</code></pre>

<p>modulo (mod) 10 is for cases where the two subtracted numbers gives an odd result, e.g. 2-8 = ~6 mod 10 = 4.</p>

<p>I'm stuck at the subtraction, because List.map doesn't allow me to do the subtraction because it expects an int value and not an int list (at least not the way I have coded it :(  ).</p>

<p>I'm also blank on the comparison.</p>
","149392","","<p>You can use <code>ListPair.map</code> to iterate over 2 lists at once, like this:</p>

<pre><code>val c = ListPair.map (fn (i, j) =&gt; (i - j) mod 10) (a,b)
</code></pre>
"
"<p>Is it possible to 'stat' a file and find its file type - regular or directory?</p>
","149392","","<p>CLISP has a function <a href=""http://clisp.cons.org/impnotes/dir-func.html#probe-dir"" rel=""nofollow""><code>EXT:PROBE-DIRECTORY</code></a>, which tells you whether a file exists and is a directory.</p>

<p>Note that this function is specific to CLISP and not standard common list.</p>
"
"<p>From WolframAlpha: <a href=""http://mathworld.wolfram.com/Function.html"" rel=""nofollow"">http://mathworld.wolfram.com/Function.html</a>
""While this notation is deprecated by professional mathematicians, it is the more familiar one for most nonprofessionals. Therefore, unless indicated otherwise by context, the notation  is taken in this work to be a shorthand for the more rigorous .""</p>

<p>Referring to <code>f(x)</code> being deprecated in favor of <code>f:x-&gt;f(x)</code>.</p>

<p>I thought this was interesting because I've been familiar with:</p>

<pre><code> function name(arg)
</code></pre>

<p>In all my years of middle school through high school, I have never seen functions with any other notation, what is the benefit of using <code>f:x-&gt;f(x)</code> instead of <code>f(x)</code>? If <code>f(x)</code> really is deprecated, why do programming languages continue to use a similar syntax?</p>
","149392","","<p>You're taking the quote out of context. The page says ""However, especially in more introductory texts, the notation f(x) is commonly used to refer to the function f itself (as opposed to the value of the function evaluated at x). In this context, the argument x is considered to be a dummy variable whose presence indicates that the function f takes a single argument (as opposed to f(x,y), etc.)"" and then says that that's what deprecated.</p>

<p>In most programming languages <code>f(x)</code> refers to the function <code>f</code> evaluated with the argument <code>x</code> and writing <code>f(x)</code> when <code>x</code> is not defined is an error. So they don't use <code>f(x)</code> in its deprecated sense.</p>

<p>To refer to the function <code>f</code> itself, you'd use just <code>f</code> or <code>lambda x: f(x)</code> or something similar depending on the programming language.</p>
"
"<p>I am writing a small, really simple lisp parser in ruby with the treetop gem just to experiment with it. However, it is not really working out how I want it to, and the documentation is pretty poor so it's hard to understand what I am doing wrong. Currently, the grammar can match both a symbol and a boolean, but not a number. However, when I switch the order in the atom rule, for example to bool /  number / symbol, it still matches for the first two, but not the last one. Is there a limitation in the treetop gem that means you can only have two options in a rule? Also, something like '(3)' still does not parse. </p>

<p>My grammar is as follows:</p>

<pre><code>grammar Lisp
 rule expression
   atom / list
 end

 rule atom
   symbol / bool / number
 end

 rule number
   [0-9]*
 end

 rule bool
   'T' / 'F'
 end

 rule symbol
  [a-zA-Z]*
 end

 rule list
   '(' expression* ')'
 end    
end
</code></pre>

<p>I am testing it as they showed in the tutorial, with:</p>

<pre><code>parser = LispParser.new
if parser.parse('T')
  puts ""Success""
else
  puts ""Fail""
end
</code></pre>
","149392","","<p>The way you defined the rules <code>number</code> and <code>symbol</code> they always match (because <code>*</code> means ""zero or more"" and you can always find zero of something). This means that if you try to parse ""42"", the parser first successfully matches the rule <code>symbol</code> against the empty string at the beginning and then expect no further input.</p>

<p>To fix this simply replace <code>*</code> with <code>+</code>.</p>
"
"<p>What is the term used to refer to when you create a new language and write the compiler for that language, in a different one, then once the 'temporary' compiler is well-developed, rewrite it in the same language using that temporary compiler?</p>
","149392","","<p>The term for that is ""<a href=""http://en.wikipedia.org/wiki/Bootstrapping_%28compilers%29"" rel=""nofollow"">bootstrapping</a>"".</p>
"
"<p>Hi
I have a program that returns int*int</p>

<p>(Example for illustration purposes):
fun program(a,b) = (1,2)</p>

<p>I want to do something along the lines:</p>

<blockquote>
  <p>fun program(a,b)<br>
     if a = 0 then (1,2)<br>
     else<br>
     val x,y = program(a-1,b)<br>
     return (x-1, y)</p>
</blockquote>

<p>Basically, I want to manipulate the tuple that is returned, and then return a modification of it.</p>

<p>Thanks</p>
","149392","","<p>This works almost exactly as you wrote it, except that your syntax is a bit off:</p>

<pre><code>fun program(a,b) =
  if a = 0 then (1,2)
  else
    let val (x,y) = program(a-1,b) in
      (x-1, y)
    end
</code></pre>

<p>Specifically:</p>

<ol>
<li>Functions are defined by <code>fun f args = body</code> - you left out the <code>=</code>.</li>
<li>Variables are bound with  <code>let val foo = bar in baz end</code>.</li>
<li>There is no return keyword in sml.</li>
</ol>
"
"<p>I am building a fairly simple recipe app to learn RoR, and I am attempting to allow a user to save a recipe by clicking a link rather than through a form, so I am connecting the user_recipe controllers 'create' function through a link_to. </p>

<p>Unfortunately, for some reason the link_to is calling the index function rather than the create.</p>

<p>I've written the link_to as </p>

<pre>
&lt;%= ""save this recipe"", :action => 'create', :recipe_id => @recipe %&gt;
</pre>

<p>this link is on the user_recipes/index.html.erb and is calling the 'create' function of the same controller. It doesn't seem to make a difference if I include the :controller or not. </p>

<p>The controllers look like this</p>

<pre>
def index
    @recipe = params[:recipe_id]
    @user_recipes = UserRecipes.all # change to find when more than one user in db
    respond_to do |format|
         format.html #index.html.erb
         format.xml { render :xml => @recipes }
    end
end

def create
    @user_recipe = UserRecipe.new
    @user_recipe.recipe_id = params[:recipe_id]
    @user_recipe.user_id = current_user
    respond_to do |format|
      if @menu_recipe.save
        format.html { redirect_to(r, :notice => 'Menu was successfully created.') }
        format.xml  { render :xml => @menu, :status => :created, :location => @menu }
      else
        format.html { render :action => ""new"" }
        format.xml  { render :xml => @menu.errors, :status => :unprocessable_entity }
      end
    end
</pre>
","149392","","<p>In the standard REST scheme the index action and the create action both have the same url (<code>/recipes</code>) and only differ in that index is accessed using GET and create is accessed using POST. So <code>link_to :action =&gt; :create</code> will simply generate a link to <code>/recipes</code> which will cause the browser to perform a GET request for <code>/recipes</code> when clicked and thus invoke the index action.</p>

<p>To invoke the create action use <code>link_to {:action =&gt; :create}, :method =&gt; :post</code>, telling <code>link_to</code> explicitly that you want a post request, or use a form with a submit button rather than a link.</p>
"
"<p>I've been reading about Haskell and I'm having a hard time understanding how function definitions are handled in this language.</p>

<p>Let's say I'm defining a <code>sum</code> function:</p>

<pre><code>let sum x y = x + y
</code></pre>

<p>if I query Haskell for its type</p>

<pre><code>:t sum
</code></pre>

<p>I get</p>

<pre><code>sum :: (Num a) =&gt; a -&gt; a -&gt; a
</code></pre>

<ol>
<li>What does it mean the <code>=&gt;</code> operator? Does it have anything to do with lambda expressions? That's how one signals that what is following the <code>=&gt;</code> operator is one, in C#.</li>
<li>What does the <code>a -&gt; a -&gt; a</code> mean? By eye inspection on a number of different functions I've been trying out, it seems the initial <code>a -&gt; a</code> are the arguments and the final <code>-&gt; a</code> is the result of the sum function. If that is right, why not something as <code>(a, a) -&gt; a</code>, which seems way more intuitive?</li>
</ol>
","149392","","<p><code>Num a =&gt;</code> means ""in the following, <code>a</code> shall refer to a type which is an instance of the typeclass <code>Num</code>"" (which is kinda like an interface for number types).</p>

<p>The <code>=&gt;</code> operator separates the ""typeclass constraints"" from the ""body"" of the type. It's kind of like the <code>where</code> operator for generic constraints in C#. You can read it as a logical implication like ""if <code>a</code> is a numeric type then <code>sum</code> can be used with type <code>a -&gt; a -&gt; a</code>"".</p>

<p><code>a -&gt; a -&gt; a</code> means ""a function that takes an <code>a</code> and returns a function which takes an <code>a</code> and returns an <code>a</code>"". For this to make sense you need to understand that <code>sum x y</code> parses as <code>(sum x) y</code>.</p>

<p>In other words: you first call <code>sum</code> with the argument <code>x</code>. You then get back a new function of type <code>a -&gt; a</code>. You then call that function with the argument <code>y</code> and now you get back a function of type <code>a</code>, where <code>a</code> is the type of <code>x</code> and <code>y</code> and must be an instance of the <code>Num</code> typeclass.</p>

<p>If you want <code>sum</code> to have type <code>Num a =&gt; (a,a) -&gt; a</code>, you can define it as <code>sum (x,y) = x+y</code>. In this case you have a function which takes a tuple containing two <code>a</code>s and returns an <code>a</code> (where <code>a</code> is again an instance of the <code>Num</code> typeclass).</p>

<p>However the ""curry style"" (functions returning functions to simulate multiple parameters) is much more often used than the tuple style because it allows you to easily partially apply functions. Example <code>map (sum 5) [1,2,3]</code>. If you had defined <code>sum</code> with a tuple, you'd have to do <code>map (\y -&gt; sum 5 y) [1,2,3]</code>.</p>
"
"<p>I wanna remove duplicated value in list on clojure?</p>

<p>for example)
from
(""a"" ""b"" ""c"" ""a"")
to
(""a"" ""b"" ""c"")</p>
","149392","","<p>If you don't care about the order, you can simply convert the list to a set:</p>

<pre><code>user=&gt; (set '(""a"" ""b"" ""c"" ""a"" ""lala"" ""d""))
#{""a"" ""b"" ""c"" ""d"" ""lala""}
</code></pre>
"
"<p>I am trying to write a scheme function that takes a list of the form:</p>

<pre><code>((#f ((1 1) (2 1)))
 (#f ((1 3) (5 1)))
 (#f ((1 4) (7 1)))
)
</code></pre>

<p>and removes all the #f to give a list like:</p>

<pre><code>( ((1 1) (2 1))
  ((1 3) (5 1))
  ((1 4) (7 1))
)
</code></pre>

<p>I have tried the following code but cannot get it to work:</p>

<pre><code>(define meth
  (lambda lst
    (if (equal? (cdr lst) '())
      (cdr (car lst))
      (cons (list-ref (car lst) 1) (meth (cdr lst))))))
</code></pre>

<p>Does anyone know how to do this? Thanks.</p>
","149392","","<p>You can just use <code>map</code> to apply the <code>cdr</code> function to each sublist in the list, like this: <code>(map cdr lst)</code>. However this will give you</p>

<pre><code>( (((1 1) (2 1)))
  (((1 3) (5 1)))
  (((1 4) (7 1)))
)
</code></pre>

<p>for your sample input, which is one level of nesting more than your sample output. So to get your sample output, use <code>list-ref</code> to get the second element of each sublist:</p>

<pre><code>(define (meth lst) (map (lambda (x) (list-ref x 1)) lst))
</code></pre>

<p>Edit: As Eli Barzilay helpfully pointed out, there is the <code>cadr</code> function to get the second element of a list, so this can be shortened to:</p>

<pre><code>(define (meth lst) (map cadr lst))
</code></pre>
"
"<p>Is there a Python equivalent to Ruby symbols? </p>

<ul>
<li><p>If so then what is it?</p></li>
<li><p>If not then are we stuck with using <strong>strings</strong> as our <strong>keys</strong> in dictionaries only?</p></li>
</ul>
","149392","","<p>No, python doesn't have a symbol type.</p>

<p>However string literals are interned by default and other strings can be interned using the <code>intern</code> function. So using string literals as keys in dictionaries is not less performant than using symbols in ruby.</p>
"
"<p>I am writing a function which is meant to take a character as an argument and return a character. Using String for this looks a bit strange for me. Should I, or there is something like a char type in Scala 2.8?</p>
","149392","","<p>Yes, there is a character type in scala. It's called <code>Char</code>.</p>

<p>Scala also has character literals which are written by surrounding the character with single quotes like in most languages.</p>
"
"<p>With WinGHCi, how can one implement the following code?</p>

<pre><code>soma :: Int -&gt; Int
soma 1 = aluno 1
soma n = aluno n + soma (n-1)
</code></pre>

<p>I am currently writing multiline code using</p>

<pre><code>:{
...
:}
</code></pre>

<p>but that doesn't seem to solve the issue, in this case.
Also, why doesn't something as</p>

<pre><code>soma x y = x + y
</code></pre>

<p>work, when I'm working in WinGHCi? I can only do it if I use the <code>let</code> keyword</p>

<pre><code>let soma x y = x + y -- valid Haskell code
</code></pre>

<p>although in most literature it seems people don't use it (I'm assuming it's because they are compiling the code?).</p>

<p>Thanks</p>
","149392","","<p>The usual workflow for haskell programming is to put the function definition into a file and then load that file with ghci to test the function.</p>

<p>To define functions (or variables) in ghci you need to use <code>let</code> like you would inside a <code>do</code>-block, i.e. <code>let f x = x+1</code>. To define functions, with type signatures or mutliple cases, separate the lines with <code>;</code> like this:</p>

<pre><code>let soma :: Int -&gt; Int; soma 1 = aluno 1; soma n = aluno n + soma (n-1)
</code></pre>

<p>You can use <code>:{ }</code> to write this in several lines, but you'll still need the <code>;</code> at the end of each line.</p>
"
"<p>Here I have two files:</p>

<h1>file.rb</h1>

<pre><code>def method
  puts ""This won't be outputted.""
end

puts ""This will be outputted.""
</code></pre>

<h1>main.rb</h1>

<pre><code>require ""./file""
</code></pre>

<p>When running main.rb it will load all the code inside file.rb so I will get ""This will be outputted."" on the screen.</p>

<p>Is it possible to load a file without having it to run the code?</p>

<p>Cause I want to load all the methods (in modules and classes too) without having to execute code outside these scopes.</p>
","149392","","<blockquote>
  <p>Is it possible to load a file without having it to run the code?</p>
</blockquote>

<p>No, everything in a ruby file is executable code, including class and method definitions (you can see this when you try to define a method inside an if-statement for example, which works just fine). So if you wouldn't execute anything in the file, nothing would be defined.</p>

<p>You can however tell ruby that certain code shall only execute if the file is run directly - not if it is required. For this simply put the code in question inside an <code>if __FILE__ == $0</code> block. So for your example, this would work:</p>

<h1>file.rb</h1>

<pre><code>def method
  puts ""This won't be outputted.""
end
if __FILE__ == $0
  puts ""This will not be outputted.""
end
</code></pre>

<h1>main.rb</h1>

<pre><code>require ""./file""
</code></pre>
"
"<p>I'm supposed to crack the Caesar cipher. 
I have to declare a function <code>crack : int * int -&gt; int</code> so that if <code>(k, c)</code> are of the type <code>int</code>, where <code>k</code> is the decrypted text and <code>c</code> the encrypted text, calling <code>crack(k, c)</code> will return the key (mod 10) <code>n</code>, which is needed to get <code>c</code> to <code>k</code>.
An example would be that calling <code>crack(20458790, 64892134)</code> would return 4.</p>

<p>If <code>c</code> isn't a correctly encoding of <code>k</code>, the function doesn't have to actually work.</p>

<p>I hope I'm being clear enough here. I understand the actual assignment here (I have k and c, I need n), but I don't know how to show it in my code.</p>
","149392","","<p>You didn't specify what should happen when the second number isn't a caesar encoding of the first, so I'm going to assume it does not matter.</p>

<p>So in order to get, you just need to take any digit (most conveniently the last) from the first number and subtract that from the digit at the same position of the second number.</p>

<p>In other words, you can just do:  <code>(c mod 10 - k mod 10) mod 10</code></p>
"
"<p>My database is empty, and I understand that I should get an exception.</p>

<p>Just want to make sure that my macbookpro is setup with rails properly.</p>

<p>typing:</p>

<p>user.find(1)</p>

<p>in console I get:</p>

<pre><code>&gt;&gt; user.find(1)
NoMethodError: undefined method `find' for #&lt;User:0x1016403a0&gt;
    from /Library/Ruby/Gems/1.8/gems/activemodel-3.0.0/lib/active_model/attribute_methods.rb:364:in `method_missing'
    from /Library/Ruby/Gems/1.8/gems/activerecord-3.0.0/lib/active_record/attribute_methods.rb:46:in `method_missing'
    from (irb):25
&gt;&gt; 
</code></pre>

<p>I am using rails 3.0, with ruby 1.8.7</p>
","149392","","<p>According to the message <code>user</code> is an instance of the <code>User</code> class. Since there is no instance method <code>find</code> for AR objects (unless you defined it yourself), it's perfectly normal that you get a NoMethodError.</p>

<p>You probably intended to call <code>User.find(1)</code> (capital <code>U</code>).</p>
"
"<p>I'm having a problem with this function that traverses a Hash. The Hash may contain an Array of Hashes. I want the method to search for an id and then return just the nested hash it finds. </p>

<p>It seems to work for the traversal, but it returns the original value passed in.</p>

<pre><code>require 'rubygems'
require 'ruby-debug'

def find_by_id(node, find_this="""")
  if node.is_a?(Hash)
    node.each do |k,v|
      if v.is_a?(Array)
        v.each do |elm|
          if elm[""_id""] == find_this &amp;&amp; !find_this.empty?
            return elm      # THIS IS WHAT I WANT!
          else
            find_by_id(elm, find_this)
          end
        end
      end
    end
  end
end

x = {""name"" =&gt; ""first"", ""_id""=&gt;'4c96a9a56f831b0eb9000005', ""items""=&gt;[""name"" =&gt; ""second"", ""_id""=&gt;'4c96a9af6f831b0eb9000009', ""others""=&gt;[{""name"" =&gt; ""third"", ""_id""=&gt;'4c96a9af6f831b0eb9000007'}, {""name"" =&gt; ""fourth"", ""_id""=&gt;'4c96a9af6f831b0eb9000008'}] ] }

find_by_id(x, '4c96a9af6f831b0eb9000008')
</code></pre>
","149392","","<p>When you invoke <code>find_by_id</code> recursively, you're not doing anything with the return value. You need to check whether it found something and if so return that, i.e.:</p>

<pre><code>result = find_by_id(elm, find_this)
return result if result
</code></pre>

<p>You also need to return <code>nil</code> at the end of the method (after the each loop), so it returns <code>nil</code> if nothing was found. If you don't, it'll return the return value of <code>each</code> which is the hash that you iterated over.</p>

<p>Edit:</p>

<p>Here's the full code with the changes I outlined:</p>

<pre><code>def find_by_id(node, find_this="""")
  if node.is_a?(Hash)
    node.each do |k,v|
      if v.is_a?(Array)
        v.each do |elm|
          if elm[""_id""] == find_this &amp;&amp; !find_this.empty?
            return elm      # THIS IS WHAT I WANT!
          else
            result = find_by_id(elm, find_this)
            return result if result
          end
        end
      end
    end
  end
  # Return nil if no match was found
  nil
end
</code></pre>

<p>Edit2:</p>

<p>An alternative approach, that I find cleaner, is to separate the logic for iterating the structure from the logic for finding the element with the right id:</p>

<pre><code>def dfs(hsh, &amp;blk)
  return enum_for(:dfs, hsh) unless blk

  yield hsh
  hsh.each do |k,v|
    if v.is_a? Array
      v.each do |elm|
        dfs(elm, &amp;blk)
      end
    end
  end
end

def find_by_id(hsh, search_for)
  dfs(hsh).find {|node| node[""_id""] == search_for }
end
</code></pre>

<p>By making <code>dfs</code> return an <code>Enumerable</code> we can use the <code>Enumerable#find</code> method, which makes the code a bit simpler.</p>

<p>This also enables code reuse if you ever need to write another method that needs to iterate through the hash recursively, as you can just reuse the dfs method.</p>
"
"<pre><code>int i=40;
char *p;
p=(char *)&amp;i;//What actually happens here?
printf(""%d"",*p);
</code></pre>

<p>What will be the output? Please help!</p>
","149392","","<pre><code>p=(char *)&amp;i;//What actually happens here?
</code></pre>

<p>It takes the address of <code>i</code> and casts it to a <code>char</code> pointer. So the value of <code>*p</code> is now the first byte of <code>i</code>. What that value is, is platform dependent.</p>
"
"<p>I've used C++ and Java before and they don't have this <code>===</code> operator.</p>

<p>How come they manage without it but in languages like PHP its key.</p>
","149392","","<p>Actually <code>equals</code> in Java and <code>==</code> in C# act like <code>===</code> does in php. I.e. <code>""24"".equals(24)</code> will return false.</p>

<p>What java and C# don't have an equivalent of is PHP's <code>==</code> (i.e. an operator/method such that <code>""24"".fuzzyEquals( 24 )</code> would return true). And that's because C# and Java are strongly typed and such an operator would be against their philosophy.</p>
"
"<p>I have come across a problem that I cannot see to solve. I have extracted a line from a web page into a variable. lets say for argument sake this is:</p>

<p>rhyme = ""three blind mice Version 6.0""</p>

<p>and I want to be able to first of all locate the version number within this string (6.0) and secondly extract this number into another seperate variable - (I want to specifically extract no more than ""6.0"")</p>

<p>I hope I have clarified this enough, if not please ask me anything you need to know and I will get back to you asap.</p>
","149392","","<p>First you need to decide what the pattern for a version number should be. One possibility would be <code>\d+(\.\d+)*$</code> (a number followed by zero or more (dot followed by a number) at the end of the string).</p>

<p>Then you can use <code>String#[]</code> to get the substring that matches the pattern:</p>

<pre><code>rhyme[ /\d+(\.\d+)*$/ ] #=&gt; ""6.0""
</code></pre>
"
"<p>I am learning C. And, I see this function find length of a string.</p>

<pre><code>size_t strlen(const char *str) 
{ 
 size_t len = 0U; 
 while(*(str++)) ++len; return len; 
}
</code></pre>

<p>Now, when does the loop exit? I am confused, since str++, always increases the pointer.</p>
","149392","","<p>Once <code>*(str++)</code> returns 0, the loop exits. This will happen when <code>str</code> points to the last character of the string (because strings in C are 0 terminated).</p>
"
"<p>I had the following code in a test.I am confused about what (i,j) evaluates,while reading about the "","" operator i found that it just evaluates the variables or functions but what does it do here?</p>

<pre><code>main()
{
    int i = 10, j = 20;

    j = i ? (i, j) ? i : j : j;
    printf(""%d %d"", i, j);
}
</code></pre>
","149392","","<p><code>(i,j)</code> is exactly the same as just <code>j</code>, because <code>i</code> is just a variable and evaluating it doesn't cause any side effect.</p>

<p>So basically it's just obfuscation here.</p>
"
"<p>I am writing an OCaml function where I need to merge two maps. I have not been able to figure out the semantics of the <strong>merge</strong> function provided by functor <strong>Map.Make</strong> (found in version 3.12.0 of OCaml). Could someone provide me with a more detailed explanation than the OCaml manual? An example would probably enough for me to figure it out.</p>

<p>Additionally, the two maps that I need to merge have some interesting properties: the keys have the same type (<strong>int</strong>, actually), and their domain is disjoint. Would there be a more efficient approach than the merge routine?</p>

<p>Thanks in advance.</p>

<p>Best regards,</p>

<p>-- David.</p>
","149392","","<p><code>merge</code> takes a function and two maps. For each key present in either map, the function will be called. If the key is only present in one of the maps, the value for the other one will be passed in as None (which is why the arguments are options). If the functions returns <code>Some x</code>, the new map will have the value <code>x</code> for the key in question. Otherwise the key won't be present.</p>

<p>Example:</p>

<pre><code>let map1 = add 1 2 (add 2 3 empty);;
let map2 = add 2 5 (add 3 4 empty);;
let map3 = merge (fun k xo yo -&gt; match xo,yo with
    | Some x, Some y -&gt; Some (x+y)
    | _ -&gt; None
  ) map1 map2;;
</code></pre>

<p>map3 now contains the mapping <code>2 -&gt; 8</code>.</p>

<p>If you change it to:</p>

<pre><code>let map3 = merge (fun k xo yo -&gt; match xo,yo with
    | Some x, Some y -&gt; Some (x+y)
    | None, yo -&gt; yo
    | xo, None -&gt; xo
  ) map1 map2;;
</code></pre>

<p>It will contain the mappings <code>1 -&gt; 2</code>, <code>2 -&gt; 8</code> and <code>3 -&gt; 4</code>.</p>
"
"<p>The following is the code snipplet regarding my doubt.</p>

<pre><code>Class A{

void m1(A a){
   System.out.println(""A"");
}

}

Class B{

void m1(B a){
   System.out.println(""B"");
}

}

Class C{

void m1(C a){
   System.out.println(""C"");
}

}

class DMD{

public static void main(String args[]){
    A ac = new C();
    C c = new C();
    ac.m1(c);    
}
}
</code></pre>

<p>Output: A</p>

<p>But I excepted the output as: C 
Because I have created the memory for C and A is refering to C's memory so, if i call the method on the A ref which is pointing to C and the argument is i passed as C type so, I am expecting the m1(C) should execute. </p>

<p>Any body can please give me the proper reason for this Behaviour. </p>

<p>Thanks in advance.......!</p>
","149392","","<p>The decision which method to use, basically has two phases: First overload resolution, then method dispatch. Overload resolution happens at compile-time, method dispatch at runtime.</p>

<p>In this example the overload resolution decides that the overload <code>m1(A a)</code> should be used because that's the only overload of <code>m1</code> that's defined on class <code>A</code> (and the static type of <code>ac</code> is A).</p>

<p>At runtime it is decided which implementation of <code>m1(A a)</code> to use, but since there is only one implementation (<code>C.m1(C a)</code> does not override <code>m1(A a)</code> as <code>C a</code> is more specific than <code>A a</code>), <code>A.m1(A a)</code> is chosen.</p>
"
"<p>I'm new to SML, and I was wondering how to get an element in a list of tuples. For example, in the list <code>[(""abc"", 4), (""def"", 6)]</code>, how could you extract <code>""abc""</code>? I've tried </p>

<pre><code>x::xs =&gt; #1(x)
</code></pre>

<p>but I keep getting ""unresolved flex record"". Any suggestions?</p>
","149392","","<p>You can just extract it using pattern matching.</p>

<pre><code>let
  val lst = [(""abc"", 4), (""def"", 6)]
in
  case lst of (str,_)::xs =&gt; str
              | [] =&gt; ""The list is empty""
end
</code></pre>

<p>Will return <code>""abc""</code>.</p>
"
"<p>Let's say we are passing in something like :mash => true</p>

<p>Now inside of params I want to </p>

<p>takeit = params[:mash]</p>

<p>What class is takeit? It's not boolean of course. </p>

<p>Thanks for helping. </p>
","149392","","<p>It will be a string.</p>
"
"<p>could you explain me what is incorrect in this trivial example?</p>

<pre><code>class C1 (val id: Int) 

abstract class C2 [T] {
    def m1 [T] 
}

class C3 [C1] extends C2
{
    override 
    def m1 (obj: C1) {
        println (obj.id)        
    }           
}
</code></pre>

<p>I have got: value id is not a member of type parameter C1
Why?</p>
","149392","","<p>By writing <code>class C3[C1]</code> you're saying that C3 takes a type parameter called <code>C1</code>. So inside the class definition of <code>C3</code> the classname <code>C1</code> refers to that typeparameter, not the class <code>C1</code>.</p>

<p>What you probably meant to write was <code>class C3 extends C2[C1]</code> (i.e. you're passing the class C1 as the type parameter for C2).</p>
"
"<p>I'm new to Erlang and I've tried some Erlang constructions.
My program should behave something like that:</p>

<pre><code>if x == 42:
    print ""Hi""
else:
    print ""Hello""
</code></pre>

<p>Here is my code in Erlang</p>

<pre><code>-module(tested).
-export([main/0]).

main() -&gt;
  {ok, X} = io:fread("""",""~d""),
  case X == 42 of
    true -&gt; io:fwrite(""Hi\n"");
    false -&gt; io:fwrite(""Hello\n"")
  end.
</code></pre>

<p>Thanks in advance for help.</p>
","149392","","<p>Use <code>{ok, [X]} = io:fread("""",""~d"")</code> (brackets around <code>X</code>).</p>

<p><code>fread</code> returns a list as the second element of the tuple (which makes sense in case you're reading more than one token), so you need to get the element out of the list before you can compare it to <code>42</code>.</p>

<p>Note that instead of pattern matching on the result of ==, you could simply pattern match on X itself, i.e.:</p>

<pre><code>case X of
  42 -&gt; io:fwrite(""Hi\n"");
  _ -&gt; io:fwrite(""Hello\n"")
end.
</code></pre>
"
"<p>consider this:</p>

<pre><code>string test = """";
somestring.ToList().Take(50).Select(
    delegate(char x)
    {
        test += x;
        return x;
    }
);
</code></pre>

<p>now why test is empty after that ? i dont care about the return of that actually i know its IEnumerable. </p>

<p>any way if this is all seems a mess then how can i convert <code>IEnumerable&lt;char&gt;</code> to string ?</p>

<p>thanks in advance..</p>
","149392","","<p>Because <code>Select</code> is lazy, so the function you pass in will only be evaluated once you use the result of Select.</p>

<p>Generally it's bad idea to use functions with side effects with Select. You should probably use foreach instead.</p>

<p>In this particular case, you can just use the String.Join method.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/1826159/swapping-two-variable-value-without-using-3rd-variable"">Swapping two variable value without using 3rd variable</a>  </p>
</blockquote>



<p>we have </p>

<pre><code>int a=4;
int b=7;
</code></pre>

<p>can i swap these no.s without using third variable?</p>
","149392","","<p>Sure: <code>a,b = b,a</code> works in various programming languages.</p>

<p>In others you can use the <a href=""http://en.wikipedia.org/wiki/XOR_swap_algorithm"" rel=""nofollow"">xor trick</a>.</p>
"
"<p>I need a data-structure, which supports the following operations both memory and time-efficient, it can be assumed, that the value has an ordering.</p>

<ul>
<li>Add a value to the structure</li>
<li>Find out, whether a value is in the structure</li>
</ul>

<p>Plus, the structure has to be immutable, because I want to use Haskell.</p>

<p>If I would not assume immutability, probably a bloom filter is my choice.</p>

<p>I'm coding on my optimization problem and because I can't be shure, whether an entry was already processed, I have to lookup. </p>
","149392","","<p>The data structure usually used in cases where you need to check membership often is <code>Data.Set</code>, which is a tree-based set that offers lookup and insert operations in <code>O(log n)</code> time.</p>

<p>However since you mentioned bloom filters: There are <a href=""http://hackage.haskell.org/cgi-bin/hackage-scripts/package/bloomfilter"" rel=""nofollow"">Bloom Filter implementations for Haskell</a>. So in a situation where you would choose bloom filters in other languages, you can still do so in Haskell.</p>
"
"<p>I have an assignment where I need to implement church numerals in SML using the datatype: datatype 'a church = C of ('a -'a) * 'a -> 'a</p>

<p>I have to write the function create :int -> 'a church and a function churchToint
So far I have the following code:</p>

<pre><code>datatype 'a church = C of ('a -&gt; 'a) * 'a -&gt; 'a
val ZERO = C(fn (f,x) =&gt; x)
fun subCreate 0 (f,x) = x
    | subCreate n (f,x) = f (subCreate (n-1) (f,x))
fun create n = C(fn (f,x) =&gt; subCreate n (f,x));
fun churchToInt cn = cn (fn x =&gt; x + 1) 0;
</code></pre>

<p>I know I am pretty close. Can you please assist me in implementing this correctly? Thanks</p>
","149392","","<p>You are right, you are quite close. There are only two minor mistakes in your churchToInt function:</p>

<ol>
<li><p>You're not unpacking the church numeral. I.e. you treat your argument <code>cn</code> like a function, but <code>churchToInt</code> should accept a <code>C</code> <em>containing</em> a function, not a function itself. So change it to <code>fun churchToInt (C cn) =</code>, to unpack the function via pattern matching.</p></li>
<li><p>You're applying two arguments to the function using curry style, but <code>C</code> has been defined to contain a function taking a tuple. So instead of <code>cn (fn x =&gt; x+1) 0</code>, write <code>cn ((fn x =&gt; x+1), 0)</code>.</p></li>
</ol>

<p>With these two changes your code works fine.</p>
"
"<p>Hey, im very new to SML and programming alltogether, i want to write a function that combine within lists, such that
[x1,x2,x3,x4,...] = [(x1,x2),(x3,x4),...] Any hints or help for me to go in the right direction is highly appreciated.</p>
","149392","","<p>By looking at the problem it becomes apparent that we will probably want to process the input two items at a time.</p>

<p>So let's look at what we want to do with each pair: If x1 and x2 are the items we're currently looking at, we want to put the pair <code>(x1, x2)</code> into the list we're creating. If <code>xs</code> is the list of items that come after <code>x1</code> and <code>x2</code>, we want the pair <code>(x1, x2)</code> to be followed by the result of ""combining"" xs. So we can write our combine function as:</p>

<pre><code>fun combineWithin (x1::x2::xs) = (x1, x2)::(combineWithin xs)
</code></pre>

<p>However this definition is not yet complete. We're only looking at the case where <code>xs</code> has at least two items. So we need to ask ourself what we want to do in the other two cases.</p>

<p>For the empty list it's easy: The result of combining the empty list, is the empty list.</p>

<p>For a list with only one item we can either also return the empty list, or raise an error (or possibly pair the one item with itself). In other words: we need to decide whether <code>combineWithin [1,2,3]</code> should return <code>[(1,2)]</code> or <code>[(1,2), (3,3)]</code> or throw an error.</p>

<p>If we decide we want the former, our function becomes:</p>

<pre><code>fun combineWithin (x1::x2::xs) = (x1, x2)::(combineWithin xs)
  | combineWithin _ = []
</code></pre>
"
"<p>I know that some say that class variables (e.g. <code>@@class_var</code>) should be avoid in Ruby and should use the an instance variable (e.g. <code>@instance_var</code>) in the class scope instead:</p>

<pre><code>def MyClass
  @@foo = 'bar' # Should not do this.
  @foo = 'bar'  # Should do this.
end
</code></pre>

<p>Why is the use of class variables frowned upon in Ruby?</p>
","149392","","<p>Class variables are often maligned because of their sometimes confusing behavior regarding inheritance:</p>

<pre><code>class Foo
  @@foo = 42

  def self.foo
    @@foo
  end
end

class Bar &lt; Foo
  @@foo = 23
end

Foo.foo #=&gt; 23
Bar.foo #=&gt; 23
</code></pre>

<p>If you use class instance variables instead, you get:</p>

<pre><code>class Foo
  @foo = 42

  def self.foo
    @foo
  end
end

class Bar &lt; Foo
  @foo = 23
end

Foo.foo #=&gt; 42
Bar.foo #=&gt; 23
</code></pre>

<p>This is often more useful.</p>
"
"<p>I have the following Scala code.</p>

<pre><code>import scala.actors.Actor

object Alice extends Actor {
  this.start
  def act{
    loop{
      react {
        case ""Hello"" =&gt; sender ! ""Hi""
        case i:Int =&gt; sender ! 0
      }
    }
  }
}
object Test {
  def test = {
    (Alice !? (100, ""Hello"")) match {
      case i:Some[Int] =&gt; println (""Int received ""+i)
      case s:Some[String] =&gt; println (""String received ""+s)
      case _ =&gt;
    }
    (Alice !? (100, 1)) match {
      case i:Some[Int] =&gt; println (""Int received ""+i)
      case s:Some[String] =&gt; println (""String received ""+s)
      case _ =&gt;
    }
  }
}
</code></pre>

<p>After doing <code>Test.test</code>, I get the output:</p>

<pre><code>scala&gt; Test.test
Int received Some(Hi)
Int received Some(0)
</code></pre>

<p>I was expecting the output </p>

<pre><code>String received Some(Hi)
Int received Some(0)
</code></pre>

<p>What is the explanation?</p>

<p>As a second question, I get <code>unchecked</code> warnings with the above as follows:</p>

<pre><code>C:\scalac -unchecked a.scala
a.scala:17: warning: non variable type-argument Int in type pattern Some[Int] is unchecked since it is eliminated by erasure
      case i:Some[Int] =&gt; println (""Int received ""+i)
             ^
a.scala:18: warning: non variable type-argument String in type pattern Some[String] is unchecked since it is eliminated by erasure
      case s:Some[String] =&gt; println (""String received ""+s)
             ^
a.scala:22: warning: non variable type-argument Int in type pattern Some[Int] is unchecked since it is eliminated by erasure
      case i:Some[Int] =&gt; println (""Int received ""+i)
             ^
a.scala:23: warning: non variable type-argument String in type pattern Some[String] is unchecked since it is eliminated by erasure
      case s:Some[String] =&gt; println (""String received ""+s)
             ^
four warnings found
</code></pre>

<p>How can I avoid the warnings?</p>

<p>EDIT: Thanks for the suggestions. Daniel's idea is nice but does not seem to work with generic types, as in the example below</p>

<pre><code>def test[T] = (Alice !? (100, ""Hello"")) match { 
   case Some(i: Int) =&gt; println (""Int received ""+i) 
   case Some(t: T) =&gt; println (""T received "") 
   case _ =&gt;  
}
</code></pre>

<p>The following <strike>error</strike> warning is encountered: <code>warning: abstract type T in type pattern T is unchecked since it is eliminated by erasure</code></p>
","149392","","<p>Any information about type parameters is only available at compile-time, not at runtime (this is known as type erasure). This means that at runtime there is no difference between <code>Option[String]</code> and <code>Option[Int]</code>, so any pattern matching on the type <code>Option[String]</code>, will also match <code>Option[Int]</code> because at runtime both is just <code>Option</code>.</p>

<p>Since this is almost always not what you intend, you get a warning. The only way to avoid the warning is not to check the generic type of something at runtime (which is fine because that doesn't work like you want it to anyway).</p>

<p>There is no way to check whether an <code>Option</code> is an <code>Option[Int]</code> or an <code>Option[String]</code> at runtime (other than inspecting the content if it's a <code>Some</code>).</p>
"
"<pre><code>q = {""It"", ""was"", ""the"", ""best"", ""of"", ""times"", ""it"", ""was"", ""the"", ""worst"", ""of"", ""times""}
</code></pre>

<p>write an expression to return</p>

<pre><code>wasworsttimes
</code></pre>

<p>without using any character or string literals.</p>

<p>Can someone help me figure out how to do this?</p>
","149392","","<p>I'm pretty sure the hash should be <code>{""it"", ""was"",...}</code> (lower case <code>i</code> at the beginning).</p>

<p>Then this literal will create the following hash <code>{""it""=&gt;""was"", ""the""=&gt;""worst"", ""of""=&gt;""times""}</code>.</p>

<p>Note that the words you're supposed to extract are the value of the hash. So you can just use <code>Hash</code>'s <code>values</code> method to get them and <code>Array</code>'s <code>join</code> method to turn the array of values into a string.</p>
"
"<p>So something like</p>

<pre><code>addList :: [int] -&gt; int
addList = foldl1 (+)
</code></pre>

<p>Why does this work? The Currying part. Why no variable?</p>
","149392","","<p>If you define a function like <code>f x y = bla</code>, this is the same as <code>f x = \y -&gt; bla</code>, which is the same as <code>f = \x -&gt; (\y -&gt; bla)</code>. In other words <code>f</code> is a function which takes one argument, <code>x</code>, and returns another function which takes one argument, <code>y</code>, and then returns the actual result. This is known as currying.</p>

<p>Analogously when you do <code>f x y</code>, it's the same as <code>(f x) y</code>. I.e. you're calling the function <code>f</code> with the argument <code>x</code>. This returns another function, which you apply to the argument <code>y</code>.</p>

<p>So in other words when you do <code>addList xs = foldl1 (+) xs</code>, you're first calling <code>foldl1 (+)</code> which then returns another function, which you apply to <code>xs</code>. So since the function returned by <code>foldl1 (+)</code> is actually the same one as <code>addList</code>, you can just shorten it to <code>addList = foldl1 (+)</code>.</p>
"
"<p>is it Possible to create a function that will create a set with an input of a list.</p>

<p>I just can't think of any way without using recursion. </p>

<p>I can use high order functions like fold, filter, map, zip. I just can't have recursion in my function.</p>

<p>Obviously I can't use nub.</p>

<p>I've been banging my head trying to figure out how to get rid of duplicates without recursion or any type of loop (at least I don't think we can use loops, gonna ask).</p>
","149392","","<p>One way to do it:</p>

<ol>
<li>Sort the list.</li>
<li>Zip the list with its tail (turning e.g. <code>[1,1,2,3]</code> into <code>[(1,1),(1,2),(2,3)]</code>)</li>
<li>Remove all the pairs where both items are the same.</li>
<li>Return the list containing the first element of the sorted list followed by the second item of each pair in the zipped list.</li>
</ol>

<p>In code:</p>

<pre><code>import Data.List

setify [] = []
setify xs = x : map snd (filter (uncurry (/=)) (zip sxs (tail sxs)))
    where sxs = sort xs
          x   = head sxs
</code></pre>
"
"<p>The recursive function defined as so:</p>

<pre><code>function factrec($x) {
    if($x &lt;= 1) {
        return $x;
    } else {
        return $x * factrec($x - 1);
    }
}
</code></pre>

<p>And iterative here:</p>

<pre><code>function factiter($x) {
    $y = $x;
    while($y &gt; 1) {
        $x *= ($y - 1);
        $y--;
    }
    return $x;
}
</code></pre>

<p>I had read that on the recursive function the body is O(1) and the recursive calls O(n-1) making it O(n), but for the iterative is it O(n) as well? </p>
","149392","","<p>Yes, both versions run in O(n) time. The reasoning for the iterative version is basically the same as for the recursive version: The body of the loop runs in O(1) time and is executed n times.</p>

<p>However it should be noted that the iterative version runs in O(1) space, while the recursive version uses O(n) stack space (because there's a recursion depth of n).</p>
"
"<p>This is allowed:</p>

<pre><code>int a, b, c;
a = b = c = 16;

string s = null;
while ((s = ""Hello"") != null) ;
</code></pre>

<p>To my understanding, assignment <code>s = ”Hello”;</code> should only cause <code>“Hello”</code> to be assigned to <code>s</code>, but the operation shouldn’t return any value. If that was true, then <code>((s = ""Hello"") != null)</code> would produce an error, since <code>null</code> would be compared to nothing.  </p>

<p>What is the reasoning behind allowing assignment statements to return a value?</p>
","149392","","<p>If assignment didn't return a value, the line <code>a = b = c = 16</code> wouldn't work either.</p>

<p>Also being able to write things like <code>while ((s = readLine()) != null)</code> can be useful sometimes.</p>

<p>So the reason behind letting assignment return the assigned value, is to let you do those things.</p>
"
"<p>I have a voting system with two models: Item(id, name) and Vote(id, item_id, user_id).</p>

<p>Here's the code I have so far:</p>

<pre><code>class Item &lt; ActiveRecord::Base
  has_many :votes

  def self.most_popular
    items = Item.all #where can I optimize here?
    items.sort {|x,y| x.votes.length &lt;=&gt; y.votes.length}.first #so I don't need to do anything here?
  end
end
</code></pre>

<p>There's a few things wrong with this, mainly that I retrieve all the Item records, THEN use Ruby to compute popularity. I am almost certain there is a simple solution to this, but I can't quite put my finger on it.</p>

<p>I'd much rather gather records and run the calculations in the initial query. This way, I can add a simple <code>:limit =&gt; 1</code> (or <code>LIMIT 1</code>) to the query. </p>

<p>Any help would be great--either rewrite in all ActiveRecord or even in raw SQl. The latter would actually give me a much clearer picture of the nature of the query I want to execute. </p>
","149392","","<p>Group the votes by item id, order them by count and then take the item of the first one. In rails 3 the code for this is:</p>

<pre><code>Vote.group(:item_id).order(""count(*) DESC"").first.item
</code></pre>

<p>In rails 2, this should work:</p>

<pre><code>Vote.all(:order =&gt; ""count(*) DESC"", :group =&gt; :item_id).first.item
</code></pre>
"
"<p>The following code opens a text file does a little regex to match names and numbers. I do an IF so that I only match numbers greater than 0. When I try to puts the name and number, I only get the numbers and the name have become nil. If I puts the names (variable a) before the if statement, it is there. What am I doing wrong?</p>

<pre><code>nf = File.open(""textfile.txt"")

nf.each do |b|
 a = b.match(/([\S]+)name([\S]+)/)
 c = b.match(/[0-9]+ numbers/)
 c = c.to_s.split(/ /)
 c = c[0].to_i
  if c &gt; 0
   puts a
   puts c
  end 
 end
</code></pre>

<p>textfile looks like this:</p>

<p>My name is Mark<br>
12432 numbers<br>
My name is Joe<br>
0 numbers</p>

<p>I want to be able to puts:<br>
My name is Mark<br>
12432 numbers </p>

<p>and not print out:<br>
My name is Joe<br>
0 numbers</p>

<p>Thanks in advance for your help</p>
","149392","","<p>Well there are four lines. On lines 1 and 3 there is a name, so a will not be nil. However <code>c &gt; 0</code> will be false and thus nothing will be printed.</p>

<p>On lines 2 and 4 there is no name, so <code>a</code> is nil.</p>

<p>Edit: Also <code>/([\S]+)name([\S]+)/</code> will never actually match in your example file because ""name"" is surrounded by spaces (and <code>\S</code> means ""<em>not</em> a space"").</p>

<p>Edit2: Here's a solution using <code>scan</code></p>

<pre><code>File.read(""textfile.txt"").scan(/My name is (\w+)\n(\d+) numbers/) do |name, num|
  num = num.to_i
  if num &gt; 0
    puts ""Name: #{name}""
    puts ""Number: #{num}""
  end
end
</code></pre>
"
"<p>How can I define a function that will accept my type and return its primitive ""synonym""? For example: </p>

<pre><code>newtype MyInt = MakeInt Int
</code></pre>

<p>And i want a function:</p>

<pre><code>unMyInt :: MakeInt -&gt; Int
</code></pre>
","149392","","<p>By pattern matching on the constructor:</p>

<pre><code>unMyInt (MakeInt i) = i
</code></pre>
"
"<p>I'm writing an application that pulls values out of an Excel spreadsheet and then stores those values in a hash using the version number as a key.  Everything seems to be working correctly until I try and retrieve the information from the hash. Here is the code that builds the hash:</p>

<pre><code>@version_numbers.each do |version|
   user_variables = Spreadsheet.open ""#{version}.xls"" #Opens excel sheet for all versions present 
   user_variables_sheet = user_variables.worksheet 0 #Loads worksheet
   user_variables_hash = {}

   user_variables_sheet.each 1 do |row| #Skips the first row containing titles
        part_number = row[0].to_i
        serial = row[1].to_i
        (user_variables_hash[version] ||= []) &lt;&lt; [part_number, serial]
    end
end
</code></pre>

<p>When I try to retrieve the information from a 01-2 version using <code>user_variables_hash['01-2'][0][0]</code>, it produces an error that states:</p>

<blockquote>
  <p>undefined method '[]' for nil: NilClass (NoMethodError)</p>
</blockquote>

<p>Any help would be greatly appreciated.</p>

<p>Thanks.</p>
","149392","","<p>For each version number, you're creating a new empty hash (<code>user_variables_hash = {}
</code>) and then inserting the version number into that new hash. This is almost certainly not what you want.</p>

<p>You probably want to initialize <code>user_variables_hash</code> once before the each-loop.</p>
"
"<p>i want to write a function that checks for equality of lists in SML
for instance :
[1,2,3]=[1,2,3];
val it = true : bool</p>

<p>So instead of writing down the whole thing, i want to make a function that takes two predefined lists, and compare them, so that if list01 = [1,2,3] and list09 = [1,2,3]
then fun equal (list01,list09); will return -val it = true : bool;</p>

<p>Thanx in advance for any ideas/hints and help :)</p>
","149392","","<p>You seem to be aware that <code>=</code> works on lists, so (as I already said in my comment) I don't see why you need to define an <code>equal</code> function.</p>

<p>That being said, you can just write:</p>

<pre><code>fun equal (a, b) = (a = b);
</code></pre>
"
"<p>I fired up irb, and typed:</p>

<p>class Point
end</p>

<p>and then I typed that again, but added some other things.</p>

<p>Irb didn't complain that I was defining a class that already exists.</p>
","149392","","<p>Actually you didn't redefine the Point class, you reopened it. A little code snippet to illustrate the difference:</p>

<pre><code>class Point
  def foo
  end
end

class Point
  def bar
  end
end
</code></pre>

<p>Now <code>Point</code> has two methods: <code>foo</code> and <code>bar</code>. So the second definition of <code>Point</code> did not replace the previous definition, it added to it. This is possible in ruby scripts as well as in irb (it's also possible with classes from the standard library, not just your own).</p>

<p>It is also possible to really redefine classes, by using <code>remove_const</code> to remove the previous binding of the class name first:</p>

<pre><code>class Point
  def foo
  end
end
Object.send(:remove_const, :Point)
class Point
  def bar
  end
end
Point.instance_methods(false) #=&gt; [""bar""]
</code></pre>
"
"<p>How to pass range in hash to iterate from index 1 to last?</p>

<pre><code>h = {}

h[1..-1].each_pair do |key,value|
  puts ""#{key} = #{value}
end
</code></pre>

<p>This code returning error. how may i pass range in hash ??</p>

<p>EDIT:</p>

<p>I want to print first key and value without any calculations.</p>

<p>From second key and value i want to do some calculation on my hash.</p>

<p>For that i have written this code ...
    store_content_in_hash containing key and values.</p>

<pre><code>first_key_value = store_content_in_hash.shift
f.puts first_key_value[1]
f.puts
store_content_in_hash.each_pair do |key,value|
  store_content_in_hash[key].sort.each {|v| f.puts v }
  f.puts
end
</code></pre>

<p>Any better way to solve out this problem ??</p>
","149392","","<p>Hashes have no concept of order. There is no such thing as the first or second element in a hash.</p>

<p>So you can't do what you want with hashes.</p>
"
"<p>Im trying to create a list of strings using some recursion. </p>

<p>Basically i want to take a part of a string up to a certain point. Create a list from that and then process the rest of the string through recursion.</p>

<pre><code>type DocName = FilePath
type Line = (Int,String)
type Document = [Line]

splitLines :: String -&gt; Document
splitLines [] = []
splitLines str | length str == 0 = []
                             | otherwise = zip [0..(length listStr)] listStr
                                    where 
                                        listStr = [getLine] ++ splitLines getRest
                                        getLine = (takeWhile (/='\n') str)
                                        getRest =  (dropWhile (=='\n') (dropWhile (/='\n') str))
</code></pre>

<p>Thats what i got. But it just concats the strings back together since they are list of characters themselves. But i want to create a list of strings.</p>

<p>[""test"",""123""] if the input was ""test\n123\n""</p>

<p>Thanks</p>
","149392","","<p>If you try to compile your code, you'll get an error message telling you that in the line</p>

<pre><code>listStr = [getLine] ++ splitLines getRest
</code></pre>

<p><code>splitLines getRest</code> has type <code>Document</code>, but it should have type <code>[String]</code>. This is easy enough to understand, since <code>[getLine]</code> is a list of strings (well a list of one string) and so it can only be concatenated with another list of strings, not a list of int-string-tuples.</p>

<p>So to fix this we can use map to replace each int-string-tuple in the Document with only the string to get a list of strings, i.e.:</p>

<pre><code>listStr = [getLine] ++ map snd (splitLines getRest)
</code></pre>

<p>After changing the line to the above your code will compile and run just fine.</p>

<blockquote>
  <p>But it just concats the strings back together since they are list of characters themselves.</p>
</blockquote>

<p>I'm not sure why you think that.</p>

<p>The reason your code did not compile was because of the type of <code>splitLines</code> as I explained above. Once you fix that error, the code behaves exactly as you want it to, returning a list of integer-string-tuples. At no point are strings concatenated.</p>
"
"<p>So have this</p>

<pre><code>type DocName = FilePath
type Line = (Int,String)
type Document = [Line]

splitLines :: String -&gt; Document
splitLines [] = []
splitLines str = zip [0..(length listStr)] listStr
                                    where 
                                        listStr = [getLine] ++ map snd (splitLines getRest)
                                        getLine = (takeWhile (/='\n') str)
                                        getRest =  (dropWhile (=='\n') (dropWhile (/='\n') str))
</code></pre>

<p>works ok except i guess i need empty lines as well.</p>

<pre><code>splitLines ""test\nthis\nstring\n"" should be
[(0,""test""),(1,""this""),(2,""string""),(3,"""")]
</code></pre>

<p>Not exactly sure how i could do this. Any ideas?
Do i need to rewrite it with something else?</p>

<p>Should i use a high order function like foldr?
Thanks.</p>

<p>Figured it out finally thanks.</p>

<pre><code>splitLines :: String -&gt; Document
splitLines """" = [(0,"""")]
splitLines str = zip [0..(length listStr)] listStr
                                    where 
                                        listStr = [getLine] ++ map snd (splitLines getRest)
                                        getLine = takeWhile (/='\n') str
                                        getRest = tail (dropWhile (/='\n') str)
</code></pre>
","149392","","<p>It's discarding the empty lines because you're doing <code>dropWhile (=='\n</code>)`, removing all linebreaks from the beginning of the string.</p>

<p>To keep the empty lines, you must only drop one linebreak. The easiest way to do that is to use pattern matching:</p>

<pre><code>getRest = case (dropWhile (/='\n') str) of
              (_:xs) -&gt; xs
              [] -&gt; []
</code></pre>
"
"<p>According to the Ruby Set class's documentation, ""== Returns true if two sets are equal. The equality of each couple of elements is defined according to Object#eql?.</p>

<p>The essence of this can be demonstrated using Date objects, where sets containing different Date objects but with the same date compare to equal:</p>

<pre><code>require 'set'
d1 = Date.today              # =&gt; Thu, 30 Sep 2010
puts d1.object_id            # =&gt; 2211539680
d2 = Date.today + 1          # =&gt; Fri, 01 Oct 2010
puts d2.object_id            # =&gt; 2211522320
set1 = Set.new([d1, d2])

d11 = Date.today             # =&gt; Thu, 30 Sep 2010
puts d11.object_id           # =&gt; 2211489080
d12 = Date.today + 1         # =&gt; Fri, 01 Oct 2010
puts d12.object_id           # =&gt; 2211469380
set2 = Set.new([d12, d11])

set1 == set2                 # =&gt; true
</code></pre>

<p>But using my own objects, where I've coded the eql? method to only compare certain attributes, I can't get it to work.</p>

<pre><code>class IpDet

    attr_reader :ip, :gateway

    def initialize(ip, gateway, netmask, reverse)
        @ip = ip
        @gateway = gateway
        @netmask = netmask
        @reverse = reverse
    end

    def eql?(other)
        if @ip = other.ip &amp;&amp; @gateway == other.gateway
            return true
        else
            return false
        end
    end
end



ipdet1 = IpDet.new(123456, 123457, 123458, 'example.com')
ipdet2 = IpDet.new(234567, 2345699, 123458, 'nil')

ipdet11 = IpDet.new(123456, 123457, 777777, 'other_domain.com')
ipdet12 = IpDet.new(234567, 2345699, 777777, 'example.com')

puts ""ipdet1 is equal to ipdet11: #{ipdet1.eql?(ipdet11)}""
puts ""ipdet2 is equal to ipdet12: #{ipdet2.eql?(ipdet12)}""


set1 = Set.new([ipdet1, ipdet2])
set2 = Set.new([ipdet11, ipdet12])

puts ""set 1 is equal to set2: #{set1 == set2}""
</code></pre>

<p>The output I get from the above is:</p>

<pre><code>ipdet1 is equal to ipdet11: true
ipdet2 is equal to ipdet12: true
set 1 is equal to set2: false
</code></pre>

<p>Any ideas anyone?</p>
","149392","","<p>When you override <code>eql?</code>, you also always need to override <code>hash</code> such that if <code>o1.eql?(o2)</code> is true, <code>o1.hash == o2.hash</code> is also true.</p>

<p>For example your hash method could look like this:</p>

<pre><code>def hash
  [@ip, @gateway].hash
end
</code></pre>

<p>Also you have a typo in your <code>eql?</code> method: <code>@ip = other.ip</code> should be <code>@ip == other.ip</code>.</p>

<p>Also a minor stylenote: <code>if condition then true else false end</code> is equivalent to just <code>condition</code>, so your <code>eql?</code> method can just be defined as</p>

<pre><code>def eql?(other)
  @ip == other.ip &amp;&amp; @gateway == other.gateway
end
</code></pre>
"
"<p>Very much a newbie with F#, can't seem to get my googler to work for this question.</p>

<p>I have this function</p>

<pre><code>namespace RiskMeasurement
module Basics01 =
    let AvailableCapital (nominalAssetValue: float) (provisions: float) (liabilities: float) =
        nominalAssetValue - provisions - liabilities
</code></pre>

<p>Called with</p>

<pre><code>namespace RiskMeasurement
module Main =
    [&lt;EntryPoint&gt;]
    let main args =
        let floats = Array.map float args
        let availableCapital = Basics01.AvailableCapital floats.[0] floats.[1] floats.[2]
        printfn ""Available Capital: %f"" availableCapital

        let availableCapital = Basics01.AvailableCapital floats.[0], floats.[1], floats.[2]

        // Return 0 to indicate success.
        0
</code></pre>

<p>When I call the function with the args separated by spaces, availableCapital is a float. That makes sense. When called with commas separating the args, availableCapital is (float -> float -> float) * float * float. I don't get that at all. What am I doing?</p>
","149392","","<pre><code>Basics01.AvailableCapital floats.[0], floats.[1], floats.[2]
</code></pre>

<p>is a 3-tuple containing <code>Basics01.AvailableCapital floats.[0]</code> as its first element <code>floats.[1]</code> as the second element and <code>floats.[2]</code> as the third element.</p>
"
"<p>I'm learning Ruby and have just gotten into some stuff about arrays and ranges. I've run into something about slices that, while it makes sense at first glance, confuses me a bit when I look deeper into it.</p>

<p><a href=""http://en.wikipedia.org/wiki/Interactive_Ruby_Shell"" rel=""nofollow"">IRB</a> says that <code>(2..-1).to_a</code> is an empty array, meaning no values in the range, right?<br>
But if I use that same range in <code>[:a, :b, :c, :d, :e][2..-1]</code>, I get back <code>[:c, :d, :e]</code> rather than an empty array.</p>

<p>Now, I'm aware that -1 represents the last element of the array, so it kind of makes sense that what got picked, did. But if the range itself would be empty, how is it selecting anything?</p>
","149392","","<p>The <code>Array#[]</code> method does not use the range as a range (that is, it does not call <code>include?</code> on it or anything like that); it just takes the two numbers out of it and checks whether it's exclusive.</p>

<p>You can imagine it to look somewhat like this (though the real <code>[]</code> is implemented in C, not in <a href=""http://en.wikipedia.org/wiki/Ruby_%28programming_language%29"" rel=""nofollow"">Ruby</a>, and of course also handles arguments other than ranges):</p>

<pre><code>def [](range)
  start = range.begin
  length = range.end - start
  length -= 1 if range.exclude_end?
  slice(start, length)
end
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/3031610/stupid-question-regarding-if-elses-simultaneous-execution-in-c-or-c"">Stupid Question Regarding If-Else&#39;s Simultaneous Execution in C++ or C</a>  </p>
</blockquote>



<p>Is it possible to put some condition, so that both if and else part in an if ...else control statement can be executed without any warning or error ??</p>
","149392","","<p>No, that is not possible (inside the same process).</p>
"
"<p>Hi (huge Rails newbie here), I have the following models:</p>

<pre><code>class Shop &lt; ActiveRecord::Base
  belongs_to :user
  validates_uniqueness_of :title, :user_id, :message =&gt; ""is already being used""
end
</code></pre>

<p>and</p>

<pre><code>class User &lt; ActiveRecord::Base
  has_one :shop, :dependent =&gt; :destroy
end
</code></pre>

<p>When I'm about to create a new shop, I get the following error:</p>

<pre><code>private method `create' called for nil:NilClass
</code></pre>

<p>This is my controller:</p>

<pre><code>@user = current_user
@shop = @user.shop.create(params[:shop])
</code></pre>

<p>I've tried different variations by reading guides and tutorials here and there, but I'm more confused than before and can't get it to work. Any help would be greatly appreciated.</p>
","149392","","<p>First of all, here is how to do what you want:</p>

<pre><code>@user = current_user
@shop = Shop.create(params[:shop])
@user.shop = @shop
</code></pre>

<p>Now here's why your version did not work:</p>

<p>You probably thought that this might work because if User had a <code>has_many</code> relation to Shop, <code>@user.shops.create(params[:shop])</code> <em>would</em> work. However there is a big difference between <code>has_many</code> relations and <code>has_one</code> relations:</p>

<p>With a <code>has_many</code> relation, <code>shops</code> returns an ActiveRecord collection object, which has methods that you can use to add and remove shops to/from a user. One of those methods is <code>create</code>, which creates a new shop and adds it to the user.</p>

<p>With a <code>has_one</code> relation, you don't get back such a collection object, but simply the Shop object that belongs to the user - or nil if the user doesn't have a shop yet. Since neither Shop objects nor nil have a <code>create</code> method, you can't use <code>create</code> this way with <code>has_one</code> relations.</p>
"
"<p>My function looks like this:</p>

<pre><code>minus :: (Eq a) =&gt; [a] -&gt; [a] -&gt; [a]
minus [] xs                      = []
minus (y:ys) xs | y `notElem` xs = y : (minus ys xs)
                | otherwise      = minus ys xs
</code></pre>

<p>It can be used like this:</p>

<pre><code>[99,44,55,22,23423] `minus` [55,22]
</code></pre>

<p>with output: <code>[99,44,23423]</code></p>

<p>I wrote this because I'm looking at Project Euler problem 7, and the Sieve of Eratosthenes seems like the right tool, and it was, but I kept reading down the <a href=""http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes"" rel=""nofollow"">Wikipedia page</a> and got to the part about Euler's sieve.</p>

<p>I tried to copy/paste the code and run it in GHCi, but my version of GHCi doesn't have a module called Data.OrdList, and I couldn't find a function called <code>minus</code> in Hoogle.</p>

<p>This is the code from Wikipedia:</p>

<pre><code> import Data.OrdList (minus)

 primes = euler [2..]
 euler (p : xs) = p : euler (xs `minus` map (*p) (p : xs))
</code></pre>

<p>If I substitute my minus function in there, I get an out of memory error, because my function isn't lazy.</p>

<p>Is there a way to make a lazy minus function?</p>

<p>Does my minus function do the same as the minus function in the Wikipedia article?</p>
","149392","","<blockquote>
  <p>Is there a way to make a lazy minus function?</p>
</blockquote>

<p>If you don't assume that the input lists are ordered (and you're not allowed to sort them), there isn't. You'll need to know whether the first element of list1 is in list2 before you know what the first element of the result will be. So you can't get around having to evaluate the whole second list before producing a single element in the worst case.</p>

<p>However if you assume that the input lists are ordered (which the minus used by wikipedia clearly does as the module is called *Ord*List), it is very easy to write a minus function that is sufficiently lazy.</p>

<p>And since your input list is in fact ordered, such a minus function would work perfectly for your needs.</p>
"
"<p>So at work yesterday, I had to write an application to count the pages in an AFP file. So I dusted off my MO:DCA spec PDF and found the structured field <code>BPG (Begin Page)</code> and its 3-byte identifier. The app needs to run on an AIX box, so I decided to write it in Java. </p>

<p>For maximum efficiency, I decided that I would read the first 6 bytes of each structured field and then skip the remaining bytes in the field. This would get me:</p>

<pre><code>0: Start of field byte
1-2: 2-byte length of field
3-5: 3-byte sequence identifying the type of field
</code></pre>

<p>So I check the field type and increment a page counter if it's <code>BPG</code>, and I don't if it's not. Then I skip the remaining bytes in the field rather than read through them. And here, in the skipping (and really in the field length) is where I discovered that Java uses signed bytes.</p>

<p>I did some googling and found quite a bit of useful information. Most useful, of course, was the instruction to do a bitwise <code>&amp;</code> to <code>0xff</code> to get the unsigned int value. This was necessary for me to get a length that could be used in the calculation for the number of bytes to skip.</p>

<p>I now know that at 128, we start counting backwards from -128. What I want to know is how the bitwise operation works here--more specifically, how I arrive at the binary representation for a negative number.</p>

<p>If I understand the bitwise <code>&amp;</code> properly, your result is equal to a number where only the common bits of your two numbers are set. So assuming <code>byte b = -128</code>, we would have:</p>

<pre><code>b &amp; 0xff // 128

1000 0000-128
1111 1111 255
---------
1000 0000 128
</code></pre>

<p>So how would I arrive at 1000 0000 for -128? How would I get the binary representation of something less obvious like -72 or -64?</p>
","149392","","<blockquote>
  <p>What I want to know is how the bitwise operation works here--more specifically, how I arrive at the binary representation for a negative number.</p>
</blockquote>

<p>The binary representation of a negative number is that of the corresponding positive number bit-flipped with 1 added to it. This representation is called <a href=""http://en.wikipedia.org/wiki/Twos_complement"" rel=""nofollow"">two's complement</a>.</p>
"
"<p>Is there a way to expand a vector of values into the arguments of a function? e.g. something like this:</p>

<pre><code>(defn addnums [a b]
  (apply + (flatten [a b])))

(def args [[1 2 3] [1 2 3]])

(addnums *args)
</code></pre>
","149392","","<p>You can just use <code>apply</code> again:</p>

<pre><code>(apply addnums args)
</code></pre>
"
"<p>While commenting on new features in ghci I wished that ghci had the ability to declare type declaration and declaring new ADT types, someone informed that it was indeed possible, and after searching I found 
<a href=""http://stackoverflow.com/questions/3093133/how-to-provide-explicit-type-declarations-for-functions-when-using-ghci"">this page</a> which told me I could do</p>

<pre><code>let numUniques' :: (Eq a) =&gt; [a] -&gt; Int; numUniques' = length . nub
</code></pre>

<p>Apparently that same sort of syntax works for pattern matching (ex. let a 1=True;a 2=False).</p>

<p>Creating ADTs would make it almost perfect? Does anyone know if it is currently possible?
Should I just make an ADT scratch file and reload it?</p>

<p>P.S. Does anyone know if there are any plans to do so? Are there feature requests for ghc(i)? </p>

<p>Also I know its open source but I'm not currently smart enough to hack on ghc(i).</p>
","149392","","<p>No, you can't define new types in ghci.</p>

<p>So yes, you'll need to put those definitions in a file.</p>
"
"<p>How can I pass a function as a variable and then call it using that variable?</p>

<p>e.g.</p>

<pre><code>test(echo);
function test($function)
{
    $function(""Test"");
}
</code></pre>
","149392","","<p>You can just pass the function name as a string and it will work.</p>

<p>Note however that <code>echo</code> is <em>not</em> a function, so this does not work with <code>echo</code>.</p>

<p>Edit: Here's an example:</p>

<pre><code>function my_function($x)
{
    echo $x;
}
function test($function)
{
    $function(""Test"");
}
test(""my_function"");
</code></pre>
"
"<p>What does the plus symbol in regex mean?</p>
","149392","","<p>In most implementations <code>+</code> means ""one or more"".</p>

<p>In some theoretical writings <code>+</code> is used to mean ""or"" (most implementations use the <code>|</code> symbol for that).</p>
"
"<p>Since side-effects break referential transparency, don't they go against the point of functional languages?</p>
","149392","","<p>There are two techniques that are used by purely functional programming languages to model side effects:</p>

<p>1) A world type that represents external state, where each value of that type is guaranteed by the type system to be used only once.</p>

<p>In a language that uses this approach the function <code>print</code> and <code>read</code> might have the types <code>(string,  world) -&gt; world</code> and <code>world -&gt; (string, world)</code> respectively.</p>

<p>They might be used like this:</p>

<pre><code>let main w =
  let w1 = print (""What's your name?"", w) in
  let (str, w2) = read w1 in
  let w3 = print (""Your name is "" ^ name, w2) in
  w3
</code></pre>

<p>But not like this:</p>

<pre><code>let main w =
  let w1 = print (""What's your name?"", w) in
  let (str, w2) = read w in
  let w3 = print (""Your name is "" ^ name, w2) in
  w3
</code></pre>

<p>(because w is used twice)</p>

<p>All built-in functions with side-effects would take and return a world value. Since all functions with side-effects are either built-ins or call other functions with side-effects, this means that all functions with side-effects need to take and return a world.</p>

<p>This way it is not possible to call a function with side-effects twice with the same arguments and referential transparency is not violated.</p>

<p>2) An IO monad where all operations with side effects have to be executed inside that monad.</p>

<p>With this approach all operations with side effects would have type <code>io something</code>. For example <code>print</code> would be a function with type <code>string -&gt; io unit</code> and <code>read</code> would have type <code>io string</code>.</p>

<p>The only way to access the value of performing operation would be to use the ""monadic bind"" operation (called >>= in haskell for example) with the IO operation as one argument and a function describing what to do with the result as the other operand.</p>

<p>The example from above would look like this with monadic IO:</p>

<pre><code>let main =
  (print ""What's your name?"") &gt;&gt;=
  (lambda () -&gt; read &gt;&gt;=
  (lambda name -&gt; print (""Your name is "" ^ name)))
</code></pre>
"
"<p>For example, I'd like to find the tuple that has the minimum date. I tried this</p>

<pre><code>let dateRange2 (prices: seq&lt;System.DateTime * float&gt;) =
    let tupleWithMinDate = prices |&gt; Seq.min(fun (date, _) -&gt; date)
    tupleWithMinDate
</code></pre>

<p>Getting a red squiggly under everything right of the pipeline operator. It says ""The type '(seq &lt;System.DateTime * float&gt; -> 'a)' does not support the 'comparison' constraint. For example, it does not support the 'System.IComparable' interface""</p>

<p>Not sure if returning a generic type is part of the problem - I assumed Seq.min would know to return the type that the sequence is made of.</p>
","149392","","<p><code>Seq.min</code> takes a sequence as its first (and only) argument, not a function.</p>

<p>You want to use <code>Seq.minBy</code>.</p>
"
"<p>should the following result in undefined behavior?</p>

<p>should value of pointer2 be NULL?</p>

<pre><code>double *pointer = 0;
double &amp;value = *pointer;
double *pointer2 = &amp;value;
</code></pre>
","149392","","<p>Yes, you're dereferencing a null pointer when you do <code>*pointer</code> in line 2.</p>
"
"<p>I have an array that is something like this:</p>

<pre><code>arr = [4, 5, 6, 7, 8, 4, 45, 11]
</code></pre>

<p>I want a fancy method like </p>

<pre><code>sub_arrays = split (arr, 3)
</code></pre>

<p>This should return the following: <code>[[4, 5, 6], [7,8,4], [45,11]]</code></p>
","149392","","<pre><code>arr.each_slice(3).to_a
</code></pre>

<p><code>each_slice</code> returns an Enumerable, so if that's enough for you, you don't need to call <code>to_a</code>.</p>

<p>In 1.8.6 you need to do:</p>

<pre><code>require 'enumerator'
arr.enum_for(:each_slice, 3).to_a
</code></pre>

<p>If you just need to iterate, you can simply do:</p>

<pre><code>arr.each_slice(3) do |x,y,z|
  puts(x+y+z)
end
</code></pre>
"
"<p>Controller ClientDocument.</p>

<pre><code>def upload_document
  ClientDocument.upload_client_document(params)
end
</code></pre>

<p>Model ClientDocument.</p>

<p>Class method..</p>

<pre><code>def self.upload_client_document(params)
  self.new :uploaded_data =&gt; params[:Filedata],:client_id =&gt; params[:client_id]
  rename_document_name(params) # Call instance method
end
</code></pre>

<p>Instance method..</p>

<pre><code>def rename_document_name(params)
  self.filename = ""#{self.client.client_no}-#{self.filename}""
end
</code></pre>

<p>Is it possible to call instance method from class method ?</p>

<p>Before storing into database i want to rename filename.</p>

<p>Which is the proper way to solve out this problem? </p>
","149392","","<pre><code>def self.upload_client_document(params)
  instance = self.new :uploaded_data =&gt; params[:Filedata],:client_id =&gt; params[:client_id]
  instance.rename_document_name(params) # Call instance method
  instance
end
</code></pre>
"
"<p>I'm trying to write a function that takes in a list and returns true if it is in sorted order and false if not:</p>

<p>So far what I have is:      </p>

<pre><code>myordered [] = True
myordered [x] = True
myordered list1
 | (head list1) &lt;= (head (tail list1)) = myordered(tail list1)
 | otherwise                           = False
</code></pre>

<p>Based on our assignment, all head and tail operations should be written down as ""x:xs"" type syntax.</p>

<p>the translation I come up with for the section with a guard is:</p>

<pre><code>myordered y:x:xs
 | (y) &lt;= (x) = myordered(xs)
 | otherwise  = False
</code></pre>

<p>Essentially this question boils down to:
How do you express the (head (tail list1)) in ""x:xs"" type syntax?</p>

<p>Cheers,
-Zigu</p>
","149392","","<p>Your pattern is almost correct, you just need to surround it with parentheses:</p>

<pre><code>myordered (y:x:xs)
</code></pre>

<p>Also note that there's no need to surround <code>y</code> and <code>x</code> with parentheses in <code>y &lt;= x</code>.</p>

<p>Also there's a semantic mistake in your second version:</p>

<p><code>myordered(xs)</code> here <code>xs</code> refers to the tail of tail, but you want the whole tail, so you should do <code>myordered (x:xs)</code> or alternatively:</p>

<pre><code>myordered (y:xs@(x:_))
 | y &lt;= x = myordered xs
 | otherwise  = False
</code></pre>

<p>Which says: <code>xs</code> is the tail of that list, <code>x</code> is the head of that tail, and <code>_</code> (which is ignored) is the tail of the tail.</p>
"
"<p>I am wondering why scala can't infer the type of method parameters.I can see that in haskel (which also has type inference) can do the same. Then why not for scala ?</p>
","149392","","<p>First of all the situation in Scala is quite a bit different than in Haskell because it's an OO language and type-inference in an object oriented setting is a bit more complicated.</p>

<p>The only OO language that I know which comes close to full type inference is OCaml. OCaml does so by making extensive use of structural typing (the inferred type of <code>o</code> in <code>let f o = o.foo 42</code> is ""Object which has a <code>foo</code> method which takes an <code>int</code> as an argument"" and the inferred return type is ""whatever the return type of <code>o.foo</code> is"", which is the only useful type to infer here).</p>

<p>However Scala has many additional features (overloading, implicit conversions) that get in the way of OCaml's approach and make full, global type inference impossible.</p>
"
"<p>Trying to make my first program ""A Basic Mind Game"".</p>

<p>Every time I try to run it nothing shows up and don't know what's wrong.</p>

<p>Hope that you can give me some hand or advice.</p>

<p>BTW, I'm pretty much a NOOB at Java Programing so take it easy with the comments :) </p>

<p>Here is the code:</p>

<pre><code>import java.util.*;
import java.util.Scanner.*;
import java.util.ArrayList.*;


 public class Main {
 public static void start() {

 int answer = (int) (Math.random() * 1000 + 1) ; 
 int tries = 0 ;
 int player ;
 String name = ""name"" ;
 String quit = ""quit"";
 String y = ""yes"";
 String n = ""no"";
 String guess = (""player"") ;
 String another = (""Y"") ;
 Scanner input = new Scanner (System.in);


    System.out.println( "" Welcome to Guessing Game "" ) ;
    System.out.print(""Please enter a number between 1 and 1000 : "");
                    player = input.nextInt();
      long startTime = System.currentTimeMillis();
      int currentGuess = -1;



    while(another.equalsIgnoreCase(""y"")) {


      do
      {


               if (guess.equalsIgnoreCase(quit))
  {
   System.out.println(""Leaving Us So Soon?"");
   System.exit(0);
  }

               try    {
   currentGuess = Integer.parseInt(guess);
        } catch (NumberFormatException nfe) 
                        {
   System.out.println(""Stupid Guess I Wont Count That."");
                        player = input.nextInt();
                        tries++;

   }


       if (currentGuess &lt; answer )
          {
   System.out.println(""too low"");
   player = input.nextInt();
                        tries++;
  }


    else if(currentGuess  &gt; answer )
  {
   System.out.println(""too high"");
   player = input.nextInt();
                        tries++;
  }
  //if the guess is invalid
  if (currentGuess &lt; 0 || currentGuess &gt; 1000)
  {
   System.out.println(""Stupid Guess I Wont Count That."");
                        player = input.nextInt();
                        tries++;
  }
    else if (currentGuess == answer)
  {
   //stop stop watch
   long endTime = System.currentTimeMillis();
   //calculate game time
   long gameTime = endTime - startTime;
   System.out.println(""You Rock Dude, Good Job!"");

                        System.out.println(""You guessed "" + tries + "" times in "" + (int)(gameTime/1000) + "" seconds."");
                        System.out.println(""Please enter your name."");
            name = input.nextLine();
  }

        } while (player != answer);

      Scanner playGame = new Scanner(System.in);
   System.out.print(""Want to go again?(y/n)....."");
    another = playGame.nextLine();


    }
}

public static void main(String[] args) {

    }
}
</code></pre>
","149392","","<p>Your main method is empty.</p>

<p>The main method contains the code that will run when the application starts. If the main method is empty, nothing will happen when you run your application.</p>
"
"<p>I am always interested in learning new languages, a fact that keeps me on my toes and makes me (I believe) a better programmer. My attempts at conquering Haskell come and go - twice so far - and I decided it was time to try again. 3rd time's the charm, right?</p>

<p>Nope. I re-read my old notes... and get disappointed :-(</p>

<p>The problem that made me lose faith last time, was an easy one: permutations of integers.
i.e. from a list of integers, to a list of lists - a list of their permutations:</p>

<pre><code>[int] -&gt; [[int]]
</code></pre>

<p>This is in fact a generic problem, so replacing 'int' above with 'a', would still apply.</p>

<p>From my notes:</p>

<p>I code it first on my own, I succeed. Hurrah!</p>

<p>I send my solution to a good friend of mine - Haskell guru, it usually helps to learn from gurus - and he sends me this, which I am told, ""expresses the true power of the language, the use of generic facilities to code your needs"". All for it, I recently drank the kool-aid, let's go:</p>

<pre><code>permute :: [a] -&gt; [[a]]
permute = foldr (concatMap.ins) [[]]
   where ins x []     = [[x]]
         ins x (y:ys) = (x:y:ys):[ y:res | res &lt;- ins x ys]
</code></pre>

<p>Hmm.
Let's break this down:</p>

<pre><code>bash$ cat b.hs
ins x []     = [[x]]
ins x (y:ys) = (x:y:ys):[ y:res | res &lt;- ins x ys]

bash$ ghci
Prelude&gt; :load b.hs
[1 of 1] Compiling Main             ( b.hs, interpreted )
Ok, modules loaded: Main.

*Main&gt; ins 1 [2,3]
[[1,2,3],[2,1,3],[2,3,1]]
</code></pre>

<p>OK, so far, so good. Took me a minute to understand the second line of ""ins"", but OK:
It places the 1st arg in all possible positions in the list. Cool.</p>

<p>Now, to understand the foldr and concatMap. in ""Real world Haskell"", the DOT was explained...</p>

<pre><code>(f . g) x
</code></pre>

<p>...as just another syntax for...</p>

<pre><code>f (g x) 
</code></pre>

<p>And in the code the guru sent, DOT was used from a foldr, with the ""ins"" function as the fold ""collapse"":</p>

<pre><code>*Main&gt; let g=concatMap . ins
*Main&gt; g 1 [[2,3]]
[[1,2,3],[2,1,3],[2,3,1]]
</code></pre>

<p>OK, since I want to understand how the DOT is used by the guru, I try the equivalent expression according to the DOT definition, (f . g) x = f (g x) ...</p>

<pre><code>*Main&gt; concatMap (ins 1 [[2,3]])

&lt;interactive&gt;:1:11:
     Couldn't match expected type `a -&gt; [b]'
            against inferred type `[[[t]]]'
     In the first argument of `concatMap', namely `(ins 1 [[2, 3]])'
     In the expression: concatMap (ins 1 [[2, 3]])
     In the definition of `it': it = concatMap (ins 1 [[2, 3]])
</code></pre>

<p>What!?! Why?
OK, I check concatMap's signature, and find that it needs a lambda and a list, but that's 
just a human thinking; how does GHC cope? According to the definition of DOT above...</p>

<pre><code>(f.g)x = f(g x), 
</code></pre>

<p>...what I did was valid, replace-wise:</p>

<pre><code>(concatMap . ins) x y = concatMap (ins x y)
</code></pre>

<p>Scratching head...</p>

<pre><code>*Main&gt; concatMap (ins 1) [[2,3]]
[[1,2,3],[2,1,3],[2,3,1]]
</code></pre>

<p>So... The DOT explanation was apparently
too simplistic... DOT must be somehow clever enough to understand
that we in fact wanted ""ins"" to get curri-ed away and ""eat"" the first
argument - thus becoming a function that only wants to operate on [t]
(and ""intersperse"" them with '1' in all possible positions). </p>

<p>But where was this specified? How did GHC knew to do this, when we invoked:</p>

<pre><code>*Main&gt; (concatMap . ins) 1 [[2,3]]
[[1,2,3],[2,1,3],[2,3,1]]
</code></pre>

<p>Did the ""ins"" signature somehow conveyed this... ""eat my first argument"" policy?</p>

<pre><code>*Main&gt; :info ins
ins :: t -&gt; [t] -&gt; [[t]]        -- Defined at b.hs:1:0-2
</code></pre>

<p>I don't see nothing special - ""ins"" is a function that takes a 't', 
a list of 't', and proceeds to create a list with all ""interspersals"". Nothing about ""eat your first argument and curry it away"".</p>

<p>So there... I am baffled. I understand (after an hour of looking at the code!) what goes on, but... God almighty... Perhaps GHC makes attempts to see how many arguments it can ""peel off""?</p>

<pre><code>  let's try with no argument ""curried"" into ""ins"",
  oh gosh, boom, 
  let's try with one argument ""curried"" into ""ins"",
  yep, works,
  that must be it, proceed)
</code></pre>

<p>Again - yikes...</p>

<p>And since I am always comparing the languages I am learning with what I already know, how would ""ins"" look in Python? </p>

<pre><code>a=[2,3]
print [a[:x]+[1]+a[x:] for x in xrange(len(a)+1)]

[[1, 2, 3], [2, 1, 3], [2, 3, 1]]
</code></pre>

<p>Be honest, now... which is simpler?</p>

<p>I mean, I know I am a newbie in Haskell, but I feel like an idiot... Looking at 4 lines of code for an hour, and ending up assuming that the compiler... tries various interpretations until it finds something that ""clicks""?</p>

<p>To quote from Lethal weapon, ""I am too old for this""...</p>
","149392","","<pre><code>(f . g) x = f (g x)
</code></pre>

<p>This is true. You concluded from that that</p>

<pre><code>(f . g) x y = f (g x y)
</code></pre>

<p>must also be true, but that is not the case. In fact, the following is true:</p>

<pre><code>(f . g) x y = f (g x) y
</code></pre>

<p>which is not the same.</p>

<p>Why is this true? Well <code>(f . g) x y</code> is the same as <code>((f . g) x) y</code> and since we know that <code>(f . g) x = f (g x)</code> we can reduce that to <code>(f (g x)) y</code>, which is again the same as <code>f (g x) y</code>.</p>

<p>So <code>(concatMap . ins) 1 [[2,3]]</code> is equivalent to <code>concatMap (ins 1) [[2,3]]</code>. There is no magic going on here.</p>

<p>Another way to approach this is via the types:</p>

<p><code>.</code> has the type <code>(b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c</code>, <code>concatMap</code> has the type <code>(x -&gt; [y]) -&gt; [x] -&gt; [y]</code>, <code>ins</code> has the type <code>t -&gt; [t] -&gt; [[t]]</code>. So if we use <code>concatMap</code> as the <code>b -&gt; c</code> argument and <code>ins</code> as the <code>a -&gt; b</code> argument, then <code>a</code> becomes <code>t</code>, <code>b</code> becomes <code>[t] -&gt; [[t]]</code> and <code>c</code> becomes <code>[[t]] -&gt; [[t]]</code> (with <code>x</code> = <code>[t]</code> and <code>y</code> = <code>[t]</code>).</p>

<p>So the type of <code>concatMap . ins</code> is <code>t -&gt; [[t]] -&gt; [[t]]</code>, which means a function taking a whatever and a list of lists (of whatevers) and returning a list of lists (of the same type).</p>
"
"<p>In the python world, there are a number of alternative python interpreters that add cool additional features. One particularly useful example is bpython, which adds dynamic syntax highlighting, automatically pulls documentation, and displays live autocomplete information. In the Ruby world, I have yet to uncover any projects which add to the basic IRB interpreter even a subset of these features. Am I just not looking hard enough, or is this just something the Ruby community is lacking?</p>
","149392","","<p>There's not much in the area of alternatives to irb, but there are a couple of gems that add useful features to irb.</p>

<p>Most notably <a href=""http://pablotron.org/software/wirble/"" rel=""nofollow"">wirble</a>, which, among other things, gives you colored output (not input though) and a history that goes beyond the current session.</p>
"
"<p>I have a Ruby array</p>

<pre><code>&gt; list = Request.find_all_by_artist(""Metallica"").map(&amp;:song)
=&gt; [""Nothing else Matters"", ""Enter sandman"", ""Enter Sandman"", ""Master of Puppets"", ""Master of Puppets"", ""Master of Puppets""]
</code></pre>

<p>and I want a list with the counts like this:</p>

<pre><code>{""Nothing Else Matters"" =&gt; 1,
 ""Enter Sandman"" =&gt; 2,
 ""Master of Puppets"" =&gt; 3}
</code></pre>

<p>So ideally I want a hash that will give me the count and notice how i have Enter Sandman and enter sandman so I need it case insensitive... I am pretty sure I can loop through it but is there a cleaner way?</p>
","149392","","<pre><code>list.group_by(&amp;:capitalize).map {|k,v| [k, v.length]}
#=&gt; [[""Master of puppets"", 3], [""Enter sandman"", 2], [""Nothing else matters"", 1]]
</code></pre>

<p>The group by creates a hash from the <code>capitalize</code>d version of an album name to an array containing all the strings in <code>list</code> that match it (e.g. <code>""Enter sandman"" =&gt; [""Enter Sandman"", ""Enter sandman""]</code>). The <code>map</code> then replaces each array with its length, so you get e.g. <code>[""Enter sandman"", 2]</code> for <code>""Enter sandman""</code>.</p>

<p>If you need the result to be a hash, you can wrap a <code>Hash[ ]</code> around it.</p>
"
"<p>What is the difference? When should I use which? Why are there so many of them?</p>
","149392","","<p><code>kind_of?</code> and <code>is_a?</code> are synonymous. <code>instance_of?</code> is different from the other two in that it only returns true if the object is an instance of that exact class, not a subclass.</p>

<p>Example: <code>5.is_a? Integer</code> and <code>5.kind_of? Integer</code> return true because <code>5</code> is a <code>Fixnum</code> and <code>Fixnum</code> is a subclass of <code>Integer</code>. However <code>5.instance_of? Integer</code> returns false.</p>
"
"<p>I have an assignment, and I can't figure out what to do about it. I have a tree of people with their name, birth and death year. Think genealogy here. I have a bunch of datatypes to take care of ages, names, the tree itself, etc. and then I have a bunch of people and a tree.</p>

<p>The datatypes are:</p>

<pre><code>datatype year    = Year of int | UnkYear | Irrelevant
datatype name    = Name of string | UnkName
datatype sex     = Man | Woman | UnkSex
datatype person  = Person of name * sex * year * year
datatype parents = Dad | Mom
datatype tree    = Unspec | Info of person * tree * tree
</code></pre>

<p>First I need to be able to remove someone from this position and everything ""under"" it - so removing ""Mom"" will remove mom and her parents, grandparents, etc. If there's no person in the position called, the function should return the tree. It's supposed to be like this:
remove : Tree * parents list -> Tree and the call is remove(t, pos)</p>

<p>This is what I have, but it's not quite right. I've been told that I can do it in 4 lines.</p>

<pre><code>fun replace (Info(n,mf,ft) , Mom::[]) = Info(n,replace(mf,[]),Unspec)
  | replace (Info(n,mf,ft) , Dad::[]) = Info(n,Unspec,replace(ft,[]))
  | replace (Info(n,mf,ft) , [])      = Info(n,mf,ft)
  | replace (Info(n,mf,ft) , Mom::xs) = Info(n,replace(mf,[]),replace(ft,xs))
  | replace (Info(n,mf,ft) , Dad::xs) = Info(n,replace(mf,xs),replace(ft,[]))
  | replace (Unspec , x::xs)          = Unspec
  | replace (Unspec , [])             = Unspec;
</code></pre>

<p>An idea I have:</p>

<pre><code>fun replace (Info(n,mf,ft) , Mom::xs) = Info(n,mf,replace(ft,xs))
  | replace (Info(n,mf,ft) , Dad::xs) = Info(n,replace(mf,xs),ft)
  | replace (Info(n,mf,ft) , [])      = Info(n,mf,ft)
  | replace (Unspec , xs)             = Unspec;
</code></pre>

<p>But it's not correct. What do I do?</p>

<p>I'm also supposed to be able to insert a person p, into a tree t in the position pos - if the position doesn't exist it should just return the tree. 
insert : tree * parents list * person -> tree</p>

<p>I just can't get my head around this, and I'm hoping that someone will be able to help me. I hope I've been clear enough in this (I know it's long).</p>
","149392","","<p>(Reposting as apparently my previous answer didn't survive the db crash).</p>

<p>You're taking the head of the list to decide whether to branch into the mother or the father subtree. This is correct. You then use the tail of the list as the rest of the path. This is also correct. However when the list is empty (i.e. you have reached your destination), you do this:</p>

<pre><code>| remove (Info(n,mf,ft) , [])      = Info(n,mf,ft)
</code></pre>

<p>In other words: Nothing. If you change this to:</p>

<pre><code>| remove (Info(n,mf,ft) , [])      = Unspec
</code></pre>

<p>It will work as intended, replacing the Node of the tree that your path leads you to with Unspec.</p>
"
"<p>I would like to know how could functional languages implement ""under the hood"" creation of new state of for example Vector. When I have a Vector and I add another element to that particular Vector the old one is still there unchanged and new Vector containing the old one is created containing one more element.</p>

<p>How is this handled internally? Could someone try to explain it? Thank you.</p>
","149392","","<p>If you prepend an element to a linked list, a new linked list is created with the new element as its head and a pointer to the old list as its tail.</p>

<p>If you add an item to an array, the whole array is usually copied (making it quite inefficient to build up an immutable array incrementally).</p>

<p>However if you only add to the end of each array once, like so:</p>

<pre><code>arr1 = emptyArray()
arr2 = add(arr1, 1)
arr3 = add(arr2, 2)
arr4 = add(arr3, 3)
</code></pre>

<p>The whole thing could be optimized, so that arr1, arr2, arr3 and arr4, all have pointers to the same memory, but different lengths. Of course this optimization can only be performed the first time you add to any given array. If you have <code>arr5 = add(arr4, 4)</code> and <code>arr5prime = add(arr4, 42)</code> at least one of them needs to be a copy.</p>

<p>Note that this isn't a common optimization, so you shouldn't expect it to be there unless explicitly stated in the documentation.</p>
"
"<p>What am I doing wrong here?</p>

<pre><code>$ cat size.c
#include&lt;stdio.h&gt;
#include&lt;math.h&gt;

int main() {

printf (""sizeof unsigned int = %d bytes.\n"", sizeof(unsigned int));
printf (""sizeof unsigned long long = %d bytes.\n"", sizeof(unsigned long long));

printf (""max unsigned int = %d\n"", (int)(pow(2, 32) - 1));
printf (""max unsigned long long = %lld\n"", (unsigned long long)(pow(2, 64) - 1));

}
$ gcc size.c -o size
$ ./size
sizeof unsigned int = 4 bytes.
sizeof unsigned long long = 8 bytes.
max unsigned int = 2147483647
max unsigned long long = -1
$ 
</code></pre>

<p>I am expecting <code>18446744073709551615</code> as output instead of a <code>-1</code> at the last line.</p>

<hr>

<p>Okay, I completely missed that I was getting the wrong value for 2<sup>32</sup> - 1, which should have been 4294967295, not 2147483647. Things make more sense now.</p>
","149392","","<p>Use <code>%llu</code>, not <code>%lld</code>. <code>d</code> is for signed integers, so <code>printf</code> displays it as a signed long long.</p>
"
"<p>I have a list of sublists, such as:</p>

<p>[[501, 4], [501, 4], [501, 4], [501, 4]]</p>

<p>How can I get rid of the second element for each sublist ? (i.e. 4)</p>

<p>[501, 501, 501, 501]</p>

<p>Should I iterate the list or is there a faster way ?
thanks</p>
","149392","","<p>You can use a list comprehension to take the first element of each sublist:</p>

<pre><code>xs = [[501, 4], [501, 4], [501, 4], [501, 4]]
[x[0] for x in xs]
# [501, 501, 501, 501]
</code></pre>
"
"<p>I was advised to ask this as a separate question, so that I will do.</p>

<p>I have a tree of people, like in genealogy. It starts with a person and branches off into parents, grandparents, etc. I want to be able to insert a person into a spot on the tree (basically replacing whoever is there).</p>

<p>These datatypes are important:</p>

<pre><code>datatype year    = Year of int | UnkYear | Irrelevant
datatype name    = Name of string | UnkName
datatype sex     = Man | Woman | UnkSex
datatype person  = Person of name * sex * year * year
datatype parents = Dad | Mom
datatype tree    = Unspec | Info of person * tree * tree
</code></pre>

<p>The assignment is as follows:
Declare a function insert : tree * parents list * person -> tree, so that calling insert (t, pos, p) will insert the person p in the postion pos in the tree i - assuming that the position exists in the tree. If it doesn't it should return t.</p>

<p>So I need to be able to take a person in my tree (let's say Mom) and replace her with Lucy (Mom and Lucy are both pre-declared values using the datatype person).</p>

<p>So far I have this:</p>

<pre><code>fun insert (Info(n,mf,ft) , Mom::xs , p) = Info(p, mf, insert(ft,xs,p))
  | insert (Info(n,mf,ft) , Dad::xs , p) = Info(p, insert(mf,xs,p), ft)
  | insert (Info(n,mf,ft) , [] , p)      = Unspec
</code></pre>

<p>All is seems to do is delete whoever is in pos of t and replace the root with p - not quite what I want it to do :S Also, the pattern matching isn't finised.</p>

<p>Any ideas to get me moving here?</p>
","149392","","<p>Ok, when you reach the given position, you want to replace the person at that point in the tree with the given person. What you're doing is, you're replacing the person each step of the way, except when you reach the destination, in which case you simply delete the node that is there.</p>

<p>So what you need to do is:</p>

<p>In the case where the parents-list is not yet empty, don't replace the person <code>n</code> with <code>p</code> - just traverse into the appropriate subtree.</p>

<p>In the case where the parents-list is empty and you're currently at an Info-node, do replace the person in that node with <code>p</code>.</p>

<p>In the case where the parents-list is empty and you're currently at an Unspec-node, replace the Unspec with a new Info-node containing <code>p</code> and two empty subtrees (i.e. <code>Unspec</code>s).</p>

<p>In the case where you reach an Unspec node although the parents-list is not yet empty, just return <code>Unspec</code>, keeping the tree unchanged as per the assignment.</p>
"
"<p>How to declare a function suffixsen : string list -> string list ???</p>

<p>Tnx.</p>
","149392","","<p>The syntax to define a function with one argument in sml is:</p>

<pre><code>fun functionName argumentName = functionBody
</code></pre>

<p>or</p>

<pre><code>fun functionName (argumentName : argumentType) = functionBody
</code></pre>

<p>if you want to specify the type explicitly. So to define a function named <code>suffixsen</code> of type <code>string list -&gt; string list</code>, you can do:</p>

<pre><code>fun suffixsen (strings : string list) = someExpressionThatReturnsAStringList
</code></pre>

<p>Edit in response to you comment:</p>

<p>In order to append ""son"" to each string in the list, you should look at the <code>^</code> operator[1], which concatenates string, and the <a href=""http://www.standardml.org/Basis/list.html#SIG%3aLIST.map%3aVAL"" rel=""nofollow""><code>map</code> function</a> which performs an operation for each element in a list.</p>

<p>[1] <code>http://www.standardml.org/Basis/string.html#SIG:STRING.^:VAL</code> (copy and paste this link in your browser - for some reason I can't get this to be clickable)</p>
"
"<p>I'm trying to declare a function, string list -> string, that with the input for instance 
<code>[""Chicago"",""city"",""USA""]</code> should return <code>""Chicago city USA""</code>. What I did so far was this:</p>

<pre><code>fun gather ts = foldr op ^ """" ts;
</code></pre>

<p>This seems to be somewhat along the lines, however the problem is, I would like to include the spaces between the words, as this function would return <code>""ChigagocityUSA""</code>.</p>
","149392","","<p>Yes, the problem is that <code>^</code> is a function that for two strings ""foo"" and ""bar"" returns ""foobar"", although you want ""foo bar"".</p>

<p>So what you need to do is to define a function that takes two string arguments (as a tuple) and returns the two strings with a space in between them (so <code>string1 ^ "" "" ^ string2</code>).</p>

<p>You can then give that function as an argument to <code>foldr</code> and get the result you want.</p>
"
"<p>I have abstract class:</p>

<pre><code>#include &lt;string&gt;

using namespace std;

class AString
{
    public:
        virtual ~AString() {}

        virtual const string&amp; GetName() const = 0;
        virtual const string&amp; GetValue() const = 0;
        virtual const int GetSize() const = 0;
};
</code></pre>

<p>And derivative class. I try to overload binary + in this class:</p>

<pre><code>class SymbString : public AString
{
    private:
        string name;
        string val;

    public:
        SymbString() {}

        SymbString(string _name) : name(_name) {}

        SymbString(string _name, string _val) : name(_name), val(_val) {}

        const string&amp; GetName() const { return name; }

        const string&amp; GetValue() const { return val; }

        const int GetSize() const { return val.size (); }

        const string&amp; SetValue(string value) 
        {
            val = value;
            return val;
        }

        SymbString operator + (const SymbString &amp;str1, const SymbString &amp;str2)
        {

        }

};
</code></pre>

<p>But see error:     <em>SymbString operator + (const SymbString &amp;str1, const SymbString &amp;str2) must take either zero or one argument</em></p>

<p>What's wrong?</p>

<p>Thank you.</p>
","149392","","<p>You're defining it as an instance method. This means that the left operand will be the receiver (<code>this</code>) and the right operand will be the argument to the function.</p>

<p>If you want both operands to be arguments, you need to define the method as static, or as function outside of the class.</p>
"
"<p>here is code snippet</p>

<pre><code>void F (int a, int *b)
{
 a = 7 ;
 *b = a ;
 b = &amp;a ;
 *b = 4 ;
 printf(""%d, %d\n"", a, *b) ;
}
int main()
{
 int m = 3, n = 5;
 F(m, &amp;n) ;
 printf(""%d, %d\n"", m, n) ;
 return 0;
}
</code></pre>

<p>answer </p>

<pre><code>4 4 
3 7
</code></pre>

<p>I see how <code>4 4</code> was computed, I don't get how they got <code>3 7</code> (I do understand how 3 is computed, it is not changed since it was not passed by reference)</p>

<p>Thanks !</p>
","149392","","<p>I've annotated the <code>F</code> function with comments to explain what's going on:</p>

<pre><code>a = 7 ;  // a is now 7
*b = a ; // b points to n, so n is now 7
b = &amp;a ; // b now points to a and no longer to n
*b = 4 ; // a is now 4. n is unaffected
</code></pre>
"
"<p>I have an array of structs.  Each struct has the following two attributes:</p>

<ul>
<li>win %</li>
<li># of wins</li>
</ul>

<p>I want to sort the array of structs by win %; however, for only those structs with at least 3 wins.</p>

<p>Any suggestions?</p>
","149392","","<p>First use <code>select</code> to take only the objects with at least 3 wins, then use sort_by to sort by the percentage:</p>

<pre><code>array.select {|x| x.num_of_wins &gt;= 3}.sort_by {|x| x.win_percent}
</code></pre>
"
"<p>I need bit counter utility in C++ that is capable of counting number of the most significant bit in a numeric constant value and present this number as compile-time constant.</p>

<p>Just to make everything clear - number of the most significant bit for a set of numeric values:</p>

<pre><code> 255 =&gt; 8   (11111111b)
   7 =&gt; 3   (111b)
1024 =&gt; 11  (10000000000b)
  26 =&gt; 5   (11010b)
</code></pre>

<p>I'm new to the template programming but i think that's the way.</p>

<p>Please provide some code samples, any help would be appreciated.</p>
","149392","","<p>Edit: I totally misread what you wanted.</p>

<p>Here's what you want:</p>

<p>The number of significant bits in 0 is 0.</p>

<p>The number of significant bits in <code>x</code> is the number of significant bits in <code>x/2</code> plus one.</p>

<p>So you get:</p>

<pre><code>template &lt;unsigned int x&gt;
struct SignificantBits {
    static const unsigned int n = SignificantBits&lt;x/2&gt;::n + 1;
};

template &lt;&gt;
struct SignificantBits&lt;0&gt; {
    static const unsigned int n = 0;
};
</code></pre>
"
"<p>I've been thinking about how type inference works in the following OCaml program:</p>

<pre><code>let rec f x = (g x) + 5
and g x = f (x + 5);;
</code></pre>

<p>Granted, the program is quite useless (looping forever), but what about the types?
OCaml says:</p>

<pre><code>val f : int -&gt; int = &lt;fun&gt;
val g : int -&gt; int = &lt;fun&gt;
</code></pre>

<p>This would exactly be my intuition, but how does the type inference algorithm know this?</p>

<p>Say the algorithm considers ""f"" first: the only constraint it can get there is that the return type of ""g"" must be ""int"", and therefore its own return type is also ""int"".  But it cannot infer the type of its argument by the definition of ""f"".</p>

<p>On the other hand, if it considers ""g"" first, it can see that the type of its own argument must be ""int"". But without having considered ""f"" before, it can't know that the return type of ""g"" is also ""int"".</p>

<p>What is the magic behind it?</p>
","149392","","<blockquote>
  <p>Say the algorithm considers ""f"" first: the only constraint it can get there is that the return type of ""g"" must be ""int"", and therefore its own return type is also ""int"". But it cannot infer the type of its argument by the definition of ""f"".</p>
</blockquote>

<p>It can't infer it to a concrete type, but it can infer something. Namely: the argument type of <code>f</code> must be the same as the argument type of <code>g</code>. So basically after looking at <code>f</code>, ocaml knows the following about the types:</p>

<pre><code>for some (to be determined) 'a:
f: 'a -&gt; int
g: 'a -&gt; int
</code></pre>

<p>After looking at <code>g</code> it knows that <code>'a</code> must be <code>int</code>.</p>

<p>For a more in-depth look on how the type inference algorithm works, you can read the Wikipedia article about <a href=""http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner#Hindley.E2.80.93Milner_type_inference_algorithm"" rel=""nofollow"">Hindley-Milner type inference</a> or <a href=""http://www.codecommit.com/blog/scala/what-is-hindley-milner-and-why-is-it-cool"" rel=""nofollow"">this blog post</a>, which seems to be much friendlier than the Wikipedia article.</p>
"
"<p>Transitioning from C++, I am now learning the dark art of C and have developed the following code to replace my need for templating.  In the bottom example, I have implemented your garden-variety Node structure in such a way that it can be used to store any data type. Consider the following...</p>

<pre><code>// vptr.c
#include &lt;stdio.h&gt;

struct Node
{  
    void* data;
    struct Node* next;
};

int main()
{  
    struct Node n0, n1;

    n0.next = &amp;n1;
    n0.data = malloc(sizeof(int));

    *((int*) n0.data) = 3;

    printf(""%d\n"",  *((int*) n0.data));

    return 0;
}
</code></pre>

<p>Again, the issue lies with <strong>warning free</strong> compilation of this code--namely using the gcc compiler, though my wxDevCpp for Windows also gives me some warnings but is much less fussy about it.  I blame it on the GUI.</p>

<p>Any help would be greatly appreciated.</p>
","149392","","<p><code>malloc</code> is declared in stdlib.h, which you did not include. So if you add the <code>#include</code>, the warning goes away.</p>

<p>The other warning is about <code>//</code> which is not a valid comment in C89. To make that warning go away use <code>/* */</code> for comments or tell gcc to use C99.</p>
"
"<pre><code>int main() {
  int i = -3, j = 2,  k = 0, m;
  m = ++i || ++j &amp;&amp; ++k;
  printf(""%d %d %d %d\n"", i, j, k, m);
  return 0;
}
</code></pre>

<p>i thought that &amp;&amp; has more precedence that || as per this logic <code>++j</code> should execute, but it never does and the program outputs <code>-2 2 0 1</code>. What is going on here? What are the intermediate steps?</p>
","149392","","<p><code>&amp;&amp;</code> does have higher precedence than <code>||</code>, which means that <code>++i || ++j &amp;&amp; ++k</code> parses as <code>++i || (++j &amp;&amp; ++k)</code>.</p>

<p>However this does not change the fact that the RHS of <code>||</code> only executes if the LHS returns <code>0</code>.</p>

<p>Precedence does not affect order of evaluation.</p>
"
"<p>I have a list like <code>[[""foo"", [""a"", ""b"", ""c""]], [""bar"", [""a"", ""b"", ""f""]]]</code></p>

<p>and I'm wanting to split it out so I can get a count of the total number of As, Bs, etc. but I'm new to Python and having a bit of a time of it.</p>

<p>I'm using <code>[lx for lx in [li[1] for li in fieldlist if li[1]]]</code> to try and get a list with all of the items in the sub-sublists, but that returns a list with the first sublists (<code>[[""a"", ""b"", ""c""], [""a"", ""b"", ""f""]]</code> instead of a list with the contents of those sublists. I'm pretty sure I'm just thinking about this wrong, since I'm new to list comprehensions and Python.</p>

<p>Anyone have a good way to do this? (and yes, I know the names I chose (lx, li) are horrible)</p>

<p>Thanks.</p>
","149392","","<p>This will give you the list you want:</p>

<pre><code>[lx for li in fieldlist for lx in li[1] if li[1]]
</code></pre>
"
"<p><strong>This is my function signature:</strong> </p>

<pre><code>foo :: Integer -&gt; [String]
</code></pre>

<p><strong>How this function should work:</strong></p>

<ol>
<li><code>foo 1234567</code> should return <code>[""567"", ""234"", ""001""]</code></li>
<li><code>foo 12345678</code> should return <code>[""678"", ""345"", ""012""]</code></li>
<li>f<code>oo 123456789</code> should return <code>[""789"", ""456"", ""123""]</code></li>
</ol>

<p><strong>My current solution:</strong></p>

<pre><code>zeichenreihenBlock :: Integer -&gt; [String]
zeichenreihenBlock x = reverse (partition (show x))

partition :: String -&gt; [String]
partition [] = []
partition x
    | length x `mod` 3 == 2 = take 3 (""0"" ++ x) : partition (drop 3 (""0"" ++ x))   
    | length x `mod` 3 == 1 = take 3 (""00"" ++ x) : partition (drop 3 (""00"" ++ x))   
    | length x `mod` 3 == 0 = take 3 x : partition (drop 3 x)
</code></pre>

<p>Replace 'zeichenreihenBlock' with 'foo'. How would you implement this? Are there more efficient solutions?</p>

<p>Would really appreciate some new ideas.</p>

<p>Cheers</p>
","149392","","<p>A simple solution using integer arithmetic:</p>

<pre><code>padWithZeros n | n &lt; 10 = ""00"" ++ show n 
               | n &lt; 100 = '0' : show n
               | otherwise = show n

foo 0 = []
foo n = padWithZeros (n `mod` 1000) : foo (n `div` 1000)
</code></pre>
"
"<p>I know that I can check whether a list of lists only contains null lists like this</p>

<pre><code>CL-USER&gt; (null (find-if (lambda (item) (not (null item))) my-list))
</code></pre>

<p>where <code>my-list</code> is a list of lists.</p>

<p>For example:</p>

<pre><code>CL-USER&gt; (null (find-if (lambda (item) (not (null item))) '(nil (bob) nil)))
NIL
CL-USER&gt; (null (find-if (lambda (item) (not (null item))) '(() () ())))
T
</code></pre>

<p>But isn't there a shorter, easier way of doing this in Lisp?  If so, how?</p>
","149392","","<p>The higher order function <code>every</code> takes a predicate function and a list and returns true iff the predicate returns true for every element in the list.</p>

<p>So you can just do:</p>

<pre><code>(every #'null my-list)
</code></pre>
"
"<p>What exactly is the difference? It seems like the terms can be used somewhat interchangeably, but reading the wikipedia entry for Objective-c, I came across: </p>

<blockquote>
  <p>In addition to C’s style of procedural
  programming, C++ directly supports
  certain forms of object-oriented
  programming, generic programming, and
  metaprogramming.</p>
</blockquote>

<p>in reference to C++. So apparently they're different?</p>
","149392","","<p>Generic programming usually refers to functions that can work with many types. E.g. a sort function, which can sort a collection of comparables instead of one sort function to sort an array of ints and another one to sort a vector of strings.</p>

<p>Metaprogramming refers to inspecting, modifying or creating classes, modules or functions programmatically.</p>
"
"<p>Consider this:</p>

<pre><code>class Aaa
  attr_accessor :a, :b
end

x = Aaa.new
x.a, x.b = 1,2
y = Aaa.new
y.a, y.b = 1,2

puts x == y #=&gt;false
</code></pre>

<p>Is there some way to check if all public attributes are equal in classes of same type?</p>
","149392","","<pre><code>Aaa = Struct.new(:a, :b)

x = Aaa.new
x.a, x.b = 1,2
y = Aaa.new
y.a, y.b = 1,2

x == y #=&gt; true
</code></pre>

<p><code>Struct</code> defines <code>==</code>, <code>eql?</code>, and <code>hash</code> for you, so that two <code>Aaa</code>s are equal, if their values for <code>a</code> and <code>b</code> are equal. It also defines <code>initialize</code> so that you can optionally pass in the values for <code>a</code> and <code>b</code> when creating the object (<code>Aaa.new(value_for_a, value_for_b)</code>). And it defines <code>to_a</code> to return <code>[a,b]</code>.</p>

<p>You can also use <code>Struct.new</code> with a block to define additional methods, so you have the full power of a ""normal"" class:</p>

<pre><code>Aaa = Struct.new(:a, :b) do
  def c
    a+b
  end
end
Aaa.new(23,42).c #=&gt; 65
</code></pre>
"
"<p>Got these examples I would like to understand but they are in Scheme. I would like them in Clojure :D</p>

<p><strong>Example 1</strong> - counting the length of a list</p>

<pre><code>
(define length
  (lambda (ll)
    (cond
      ((null? ll) 0)
      (#t (add1
        (length (cdr ll)))))))
</code></pre>

<p><strong>Exemple 2</strong> - square each element of a list</p>

<pre><code>
(define squares
  (lambda (li)
    (cond
      ((null? li) ())
      (#t (cons
            (* (char li) (char li))
            (squares(cdr
    li)))))))
</code></pre>

<p><strong>Example 3</strong> - the ""map"" function (as in map/reduce)</p>

<pre><code>
(define map (lambda (func lst)
  (cond ((null? lst) ())
        (#t (cons (func (car lst))
              (map func (cdr lst)))))))
</code></pre>

<p><strong>Curried ""map""</strong></p>

<pre><code>
(define map2
  (lambda (func)
    (lambda (lst)
      (cond ((null? lst) ())
        (#t (cons (func (car lst))
              ((map2 func) (cdr lst)))))))
</code></pre>

<p><p>
<strong>Motivation</strong>
<p>The examples are from a presentation on Functional Programming someone else might be interested it: <a href=""http://www.dzone.com/links/r/functional_languages_101_whats_all_the_fuss_about.html"" rel=""nofollow"">Functional Languages 101: What’s All the Fuss About?</a></p>

<p><p><em>Once you submit an answer, I'd like your agreement to post it as a comment at that presentation for Clojure people to understand the original code</em></p>
","149392","","<p><code>define</code> is <code>def</code> in clojure, <code>lambda</code> is <code>fn</code>, function arguments are written as vectors <code>[]</code>, not lists <code>()</code>, <code>null?</code> is <code>empty</code>, <code>car</code> is <code>first</code>, <code>cdr</code> is <code>rest</code> and the default case for <code>cond</code> is specified with <code>:else</code>, not <code>#t</code>.</p>

<p>So for your first example we get:</p>

<pre><code>(def length
  (fn [ll]
    (cond
      (empty? ll) 0
      :else (+ 1 (length (rest ll))))))
</code></pre>

<p>This can be written a little more succinctly using <code>defn</code> instead of <code>def</code> and <code>fn</code>, but the same is true for the scheme version, so I chose the way that is the closest to the original.</p>

<p>The other examples can be translated the same way.</p>
"
"<pre><code>k=[]

path=""E:/expr/amit.txt""
name=""amit""

File.open(""amit.txt"").each do |l| 
  k&lt;&lt; l
end

puts k[0]
puts name.eql?(""k[0]"")
</code></pre>

<p>O/p 
amit </p>

<p>false</p>

<p>why o/p containing false??it should give true</p>
","149392","","<p>The value of <code>name</code> is ""amit"". You're checking whether the string <code>""amit""</code> is equal to the string <code>""k[0]""</code>. It's not, so you get false.</p>

<p>What you probably meant to do was <code>name.eql?(k[0])</code>, which would check whether the value <code>k[0]</code> is <code>""amit""</code>. However this would still return false, because <code>k[0]</code> is ""amit\n"", not <code>""amit""</code>.</p>

<p>To fix this, you should do <code>k &lt;&lt; l.chomp</code> instead of <code>k &lt;&lt; l</code> to remove the trailing <code>\n</code>.</p>
"
"<p>I have a program and many of its classes have some operators and methods with the keyword const like the followings:</p>

<pre><code>operator const char* () const;
operator char* ();
void Save(const char *name) const;
void Load(const char *name);
</code></pre>

<p>First: what does it mean const at the end of the method declaration?, is it the same like putting it at the beginning?</p>

<p>Second: Why would be a const version and a no const version of operator() needed?</p>

<p>Thanks in advance.</p>
","149392","","<blockquote>
  <p>First: what does it mean const at the end of the method declaration?, is it the same like putting it at the beginning?</p>
</blockquote>

<p>No. A <code>const</code> at the end means that the method may be called on objects that are declared <code>const</code>. A <code>const</code> at the beginning means that the returned value is <code>const</code>.</p>

<blockquote>
  <p>Second: Why would be a const version and a no const version of operator() needed?</p>
</blockquote>

<p>The non-const version returns a <code>char*</code> which is not const. By modifying this <code>char*</code> you could then in fact modify the object (assuming the <code>char*</code> is a member of the object).</p>

<p>Since this is not allowed for <code>const</code> objects, there's an overload of <code>operator()</code> for const objects, so that a <code>const char*</code> is returned, so the object can't be modified through it.</p>
"
"<p>I'm trying to declare a function takelist : 'a list list -> int -> 'a list, so that calling takelist xs n will return the elements in spot number n in the lists from xs.</p>

<pre><code>takelist [[#""3"", #""6""], [#""6"", #""2""], [#""5"", #""9""]] 1;
</code></pre>

<p>should return [#""6"", #""2"", #""9""].</p>

<p>This is what I have:</p>

<pre><code>fun tagliste (x::xs) n = List.nth(x,n);
</code></pre>

<p>I does half of what I want, and I can't figure how to get everything. I'm just getting the n from the first list instead of all of them. I've been told that map will be able to help, but so far I haven't had any luck using it correctly.</p>

<p>Any help is appreciated!</p>
","149392","","<p><code>map</code> takes a function <code>f</code> and a list <code>[x0, x1, ..., xn]</code> and returns <code>[f x0, f x1, ..., f xn]</code>.</p>

<p>So if we define <code>f x</code> to be <code>List.nth(x,n)</code>, you get back <code>[List.nth (x0, n), List.nth (x1, n), ..., List.nth (xn, n)]</code>, which is exactly what you want.</p>
"
"<p>I'm on Rails 2.3.5. Inside my application a user could book one or more time slots for a specific day. I've defined this named_scope in my Slot model:</p>

<pre><code>  # day time slots
  named_scope :for_day, lambda { |day|
    if !day.blank?
      { :conditions =&gt; ['day_of_week = ?', day] }
    end
  }
</code></pre>

<p>I use that to retrieve all the ""time slots"" available in a day.
However I have a page where I'd like to see all the booked slots (in other words, other user's slots too).</p>

<p>So when I call the <code>/slots</code> url I would like to get every booked slot, when instead I call /user/2/slots I need only those for user 2. </p>

<p>I added this route <code>map.resources :users, :has_many =&gt; :slots</code> to my routes.rb
and this code to my slots_controller.rb:</p>

<pre><code>  def index
    if params[:user_id]
      @slots = User.find(params[:user_id]).slots
    else
      @slots = Slot.all
    end
  end
</code></pre>

<p>Please note that a user could also see another user's booked slots alone.</p>

<p>Now when I try to use the :for_day named scope above for the Slot.all array I get:</p>

<p><code>undefined method for_day for #&lt;Array:0x104441f60&gt;</code></p>

<p>I was able to fix It adding <code>named_scope :all, :conditions =&gt; {}</code> to the Slot model, but It's seems a weird solution to me.</p>

<p>Could you help me?</p>
","149392","","<p>The default <code>all</code> method returns an array (as opposed to an association object, which is returned by your <code>named_scope :all</code>), so you can't call <code>for_day</code> on it.</p>

<p>However you can call named scopes directly on the class you defined them for, so just doing <code>Slot.for_day(day)</code> (without <code>.all</code>) will solve your problem.</p>
"
"<p>This isn't a homework question, by the way. It got brought up in class but my teacher couldn't think of any. Thanks.</p>
","149392","","<pre><code>let rec f x = f (f x)
</code></pre>

<p>This function never terminates, but it does have type <code>'a -&gt; 'a</code>.</p>

<p>If we only allow total functions, the question becomes more interesting. Without using evil tricks, it's not possible to write a total function of type <code>'a -&gt; 'a</code>, but evil tricks are fun so:</p>

<pre><code>let f (x:'a):'a = Obj.magic 42
</code></pre>

<p><code>Obj.magic</code> is an evil abomination of type <code>'a -&gt; 'b</code> which allows all kinds of shenanigans to circumvent the type system.</p>

<p>On second thought that one isn't total either because it will crash when used with boxed types.</p>

<p>So the real answer is: the identity function is the only total function of type <code>'a -&gt; 'a</code>.</p>
"
"<p>Trying to follow along with a metaprogramming screencast from pragpub and ran into some problems because of changes in Ruby since the release of screencast. </p>

<p>Hard to explain the problem w/o the code, so here's that:</p>

<pre><code>class Discounter
  def discount(*skus)
    expensive_discount_calculation(*skus)
  end

  private

  def expensive_discount_calculation(*skus)
    puts ""Expensive calculation for #{skus.inspect}""
    skus.inject {|m, n| m + n }
  end
end

def memoize(obj, method)
  ghost = class &lt;&lt; obj; self; end
  ghost.class_eval do
    define_method(method) do |*args|
      memory ||= {}
      memory.has_key?(args) ? memory[args] : memory[args] = super(*args)
    end
  end
end

d = Discounter.new
memoize(d, :discount)

puts d.discount(1,2,3)
puts d.discount(1,2,3)
puts d.discount(2,3,4)
puts d.discount(2,3,4)
</code></pre>

<p><strong>Problem:</strong> The local variable in the method memorize should only change (by taking the return value from Discounter#discount) if it is being passed different arguments than it previously was.</p>

<p><strong>For example I expect the output from running the code above to look like:</strong></p>

<pre><code>Expensive calculation for [1, 2, 3]
6
6
Expensive calculation for [2, 3, 4]
9
9
</code></pre>

<p><strong>But this is the actual output:</strong></p>

<pre><code>Expensive calculation for [1, 2, 3]
6
Expensive calculation for [1, 2, 3]
6
Expensive calculation for [2, 3, 4]
9
Expensive calculation for [2, 3, 4]
9
</code></pre>

<p>Why isn't the local variable persisting across the calls? What am I missing to make this code work?</p>

<p>Thanks</p>
","149392","","<p>If you define a local variable inside a block, it will vanish when the end of the block is reached.</p>

<p>To achieve the lifetime you want, you need to define the <code>memory</code> variable before the block:</p>

<pre><code>def memoize(obj, method)
  memory = {}
  ghost = class &lt;&lt; obj; self; end
  ghost.class_eval do
    define_method(method) do |*args|
      memory.has_key?(args) ? memory[args] : memory[args] = super(*args)
    end
  end
end
</code></pre>
"
"<p>Why is it that I'm finding the size of int and long int are shown to be 4 bytes? Is it that the int is by default long int?</p>
","149392","","<p>The size of <code>int</code> is neither guaranteed to be <code>4</code> nor to be equal to the size of <code>long int</code>. Put in other words: that's completely implementation defined.</p>
"
"<p>I have heard this time and again, and I am trying to understand and validate the idea that FP and OO are orthogonal.</p>

<p>First of all, what does it mean for 2 concepts to be orthogonal?</p>

<p>FP encourages immutability and purity as much as possible, while OO seems built for state and mutation – a slightly organized version of imperative programming?  I realize that objects can be immutable, but OO seems to imply state/change to me.</p>

<p>They seem like opposites. How does that affect their orthogonality?</p>

<p>A language like Scala makes it easy to do OO and FP both, does this affect the orthogonality of the two methods?</p>
","149392","","<blockquote>
  <p>First of all, what does it mean for 2 concepts to be orthogonal?</p>
</blockquote>

<p>It means they don't affect each other. I.e. a functional language isn't less functional because it's also object oriented.</p>

<blockquote>
  <p>They seem like opposites. How does it affect their orthogonality?</p>
</blockquote>

<p>If they were opposites (i.e. a purely functional language could not possibly be object oriented), they would by definition not be orthogonal. However I do not believe that this is the case.</p>

<blockquote>
  <p>and OO seems like something that is built for state and mutation(a slightly organized version of imperative programming?). And I do realize that objects can be immutable. But OO seems to imply state/change to me.</p>
</blockquote>

<p>While this is true for most mainstream OO languages, there is no reason that an OO language needs to have mutable state.</p>

<p>If a language has objects, methods, virtual inheritance and ad-hoc polymorphism, it's an object oriented language - whether it also has mutable state or not.</p>
"
"<p>Im working on this code and expecting a matrix to be printed but thats what came up
<code>Matrix@2c78bc3b Matrix@2a8ddc4c</code></p>

<p>This is a code example:</p>

<pre><code>public class Matrix
{

    public static int rows;
    public static int colms;//columns
    public static int[][] numbers;

    public Matrix(int[][] numbers)
    {

        numbers = new int[rows][colms];

    }


    public static boolean isSquareMatrix(Matrix m)
    {
        //rows = numbers.length;
        //colms = numbers[0].length;

        if(rows == colms)
           return true;
        else
            return false;
    }

    public static Matrix getTranspose(Matrix trans)
    {
       trans = new Matrix(numbers);

        for(int i =0; i &lt; rows; i++)
        {
            for(int j = 0; j &lt; colms; j++)
            {
                trans.numbers[i][j] = numbers[j][i];
            }
        }
        return trans;
    }



    public static void main(String[] args)
    {
        int[][] m1 = new int[][]{{1,4}, {5,3}};
        Matrix Mat = new Matrix(m1);

        System.out.print(Mat);
        System.out.print(getTranspose(Mat));

    }
}
</code></pre>
","149392","","<p>You didn't define a <code>toString</code> method for your Matrix class, so when you try to print a Matrix you see the result of the default <code>toString</code> method which prints the object's class and unique id.</p>
"
"<p>I ran across the following lines of C++ code in a file (non-contiguous lines) that gcc 4.2.1 won't accept:</p>

<pre><code>int frame = blk &lt;? mBlkCnt-1;
mInsCnt = blk &lt;? mBlkCnt;
mInsCnt = mInsCnt+1 &lt;? mBlkCnt;
const int to_read = (mFileSz-byte_off) &lt;? mBlkSz;
</code></pre>

<p>Both <code>&lt;?</code> and <code>&gt;?</code> are used in various places in the code. They appear to be a shorthand for assigning the smaller (or larger) of two values, but I've never seen this operator combination.  Any ideas on what this is?</p>
","149392","","<p>They're called the <a href=""http://gcc.gnu.org/onlinedocs/gcc-3.3.6/gcc/Min-and-Max.html"" rel=""nofollow"">min and max operators</a> and were language extensions in earlier versions of gcc.</p>

<p>They are no longer supported.</p>
"
"<p>I've looked at <a href=""http://www.haskell.org/haskellwiki/Foldr_Foldl_Foldl%27"" rel=""nofollow"">http://www.haskell.org/haskellwiki/Foldr_Foldl_Foldl%27</a>
and <a href=""http://haskell.org/haskellwiki/Fold"" rel=""nofollow"">http://haskell.org/haskellwiki/Fold</a> as well as a few others and they explain it fairly well.</p>

<p>I'm still having trouble on how a lambda would work in this case. </p>

<pre><code>foldr (\y ys -&gt; ys ++ [y]) [] [1,2,3]
</code></pre>

<p>Could someone go through that step by step and try to explain that to me.</p>

<p>And also how would foldl work as well.</p>
","149392","","<p>The definition of <code>foldr</code> is:</p>

<pre><code>foldr f z []     = z
foldr f z (x:xs) = f x (foldr f z xs)
</code></pre>

<p>So here's a step by step reduction of your example:</p>

<pre><code>  foldr (\y ys -&gt; ys ++ [y]) [] [1,2,3]
= (\y ys -&gt; ys ++ [y]) 1 (foldr (\y ys -&gt; ys ++ [y]) [] [2,3])
= (foldr (\y ys -&gt; ys ++ [y]) [] [2,3]) ++ [1]
= (\y ys -&gt; ys ++ [y]) 2 (foldr (\y ys -&gt; ys ++ [y]) [] [3]) ++ [1]
= (foldr (\y ys -&gt; ys ++ [y]) [] [3]) ++ [2] ++ [1]
= (\y ys -&gt; ys ++ [y]) 3 (foldr (\y ys -&gt; ys ++ [y]) [] []) ++ [2] ++ [1]
= (foldr (\y ys -&gt; ys ++ [y]) [] []) ++ [3] ++ [2] ++ [1]
= [] ++ [3] ++ [2] ++ [1]
= [3,2,1]
</code></pre>
"
"<p>I'm going through Ruby on Rails Up and Running by O'Reilly and have run into a question that I'm not sure where to go to for help. </p>

<p>I'm at the part in the book where I'm creating new objects from the console and then saving them to the database. I've already created the database (MySQL), run the migration and finally verified that rails created the database schema (also have gone through the rest of the book to this point).</p>

<p>To create the object I ran the following commands:</p>

<pre><code>ruby script/console

photo = Photo.new
</code></pre>

<p>The output that the book showed is:</p>

<pre><code>#&lt;Photo:0x35301d8 @attributes={""filename""=&gt;""""}, @new_record=true&gt;
</code></pre>

<p>However, the output that I got was:</p>

<pre><code>#&lt;Photo id: nil, filename: nil&gt;
</code></pre>

<p>From what I understand, when a new object is created in this manner a unique ID is generated to identify that object but it appears that in my case no unique id was generated. I've done quite a bit of googling on this and it's a difficult thing to search for because it's not an error message per-se; but I'm pretty sure something has gone wrong. So I thought I'd come to the stackoverflow community for help.</p>

<p>Thanks,
Adam</p>
","149392","","<p>If you're talking about the <code>0x35301d8</code> part: That unique id is always ""generated"" (actually it's the memory address of the object, so generated isn't the right word, but that doesn't matter). However ActiveRecord defines it's own <code>inspect</code> method which gives a bit more readable output and simply does not show the id.</p>

<p>You can still query the id by calling <code>photo.object_id</code>.</p>

<p>The reason that the id is displayed in the article is probably that the article uses an older version of rails, where ActiveRecord did not yet define this version of the <code>inspect</code> method.</p>

<p>The <code>id: nil</code> that's displayed in your version, is about a different id. That's the database id your ActiveRecord object has, and it won't be generated until you save your object to the db.</p>
"
"<p>What is a neat way to hold pairs of strings which are not necessarily key-values (might have duplicate keys), for a small collection? List[List[String]] works obviously but looks dirty.</p>

<p>Cheers<br>
Parsa</p>
","149392","","<p>Tuples are the ideal data structure to represent pairs.</p>

<p>So use a list of <code>(String, String)</code> tuples.</p>
"
"<p>What is an example (in code) of a O(n!) function?  It should take appropriate number of operations to run in reference to n; that is, I'm asking about time complexity.</p>
","149392","","<p>There you go. This is probably the most trivial example of a function that runs in <code>O(n!)</code> time (where <code>n</code> is the argument to the function):</p>

<pre><code>void nFac(int n) {
  for(int i=0; i&lt;n; i++) {
    nFac(n-1);
  }
}
</code></pre>
"
"<p>Simple problem: I am subclassing a FilterInputStream in Scala, which has a read method:</p>

<pre><code>public void read(byte [] b,int offset,int len)
</code></pre>

<p>The data being read will be put in b, but as parameters are ""vals"" in Scala methods, I see no way to properly subclass this. How do I set b to the data being read? The Java *InputStream really leaves me not much choice....</p>
","149392","","<p>You can put an item into <code>b</code> at index <code>i</code> simply by doing <code>b(i) = whatever</code>. That <code>b</code> is a <code>val</code> doesn't have an effect on this. It just means that you can't reassign <code>b</code> (which wouldn't be useful to do anyway).</p>
"
"<p>I'm trying to declare a function that will let me change a number in a char list list (I'm still working on the sudoku game from earlier). 
changesudo : char list list -> int * int * char -> char list list
I need to be able to call changesudo xs (r,s,c) where xs is the char list list, r is the list, s is the position in xs and c is the char. </p>

<p>This is what I have:</p>

<pre><code>fun changesudo xs (r,s,c) = 
                            let 
                              val g = hd (List.take (List.drop 
                                                     (xs , (r-1)) , 1)); 
                              val h = (List.take(g , s-1)) @ [c] 
                                      @ List.drop(g , s);
                            in
                              (List.take (xs , (r-1)) @ [h] @ List.drop(xs , r)) 
                            end;
</code></pre>

<p>and this is a 'a list list -> int * int * 'a -> 'a list list - so I'm almost there. </p>

<p>How do I fix it?</p>

<p>I get the char list list with <a href=""http://stackoverflow.com/questions/3918288/turning-a-string-into-a-char-list-list-using-sml"">this function</a></p>
","149392","","<p>There's nothing to fix. The type you've got is more general than the type you aimed for, but that's not a problem.</p>

<p>The type <code>'a list list -&gt; int * int * 'a -&gt; 'a list list</code> works perfectly well to change a character in a <code>char list list</code>. All it means is that you could also use it to change an integer in an <code>int int list</code>.</p>

<p>In other words: if you put in a <code>char list list</code> and a <code>char * int * int</code> tuple, you'll get out a <code>char list list</code> with the char at the given position replaced, so it works exactly like you want.</p>

<p>One word of caution: I don't know whether it's intentional or not, but your function is 1-indexed, i.e. the first item in the first list is at position <code>(1,1)</code> not <code>(0,0)</code>.</p>
"
"<p>Example for array</p>

<pre><code>arr = [""a"", ""b"", ""c""]
# TODO create an alias for arr[1] as x
x = ""X""
# arr should  be [""a"", ""X"", ""c""] here
</code></pre>

<p>Example for hash</p>

<pre><code>hash = { :a =&gt; ""aaa"", :b =&gt; ""bbb"" , :c =&gt; ""ccc"" }
# TODO create an alias for hash[:b] as y
y = ""YYY""
# hash should be { :a =&gt; ""aaa"", :b =&gt; ""YYY"" , :c =&gt; ""ccc"" } here
</code></pre>

<p>And also an alias for a variable?</p>

<pre><code>var = 5
# TODO create an alias for var as z
z = 7
# var should be 7 here
</code></pre>

<p>Motivation: I have a big large deep construct of data, and you can imagine the rest. I want to use it in a read-only manner, but due to performance reasons copy is not permissible.</p>

<p>Metaphor: I want to choose context from a larger data structure and I want to access it with a short and simple name.</p>

<p><strong>UPDATE</strong>: Problem solved as sepp2k advised. I just want to draw a summarizing picture here about the solution.</p>

<pre><code>irb(main):001:0&gt; arr = [ { ""a"" =&gt; 1, ""b"" =&gt; 2}, { ""x"" =&gt; 7, ""y"" =&gt; 8 } ]
=&gt; [{""a""=&gt;1, ""b""=&gt;2}, {""x""=&gt;7, ""y""=&gt;8}]
irb(main):002:0&gt; i = arr[0]
=&gt; {""a""=&gt;1, ""b""=&gt;2}
irb(main):004:0&gt; j = arr[1]
=&gt; {""x""=&gt;7, ""y""=&gt;8}
irb(main):007:0&gt; j[""z""] = 9
=&gt; 9
irb(main):008:0&gt; j
=&gt; {""x""=&gt;7, ""y""=&gt;8, ""z""=&gt;9}
irb(main):009:0&gt; arr
=&gt; [{""a""=&gt;1, ""b""=&gt;2}, {""x""=&gt;7, ""y""=&gt;8, ""z""=&gt;9}]
</code></pre>
","149392","","<p>What you want is not possible. There is no feature in ruby that you could use to make your examples work like you want.</p>

<p>However since you're saying you want to only use it read-only, there is no need for that. You can just do <code>x = myNestedStructure[foo][bar][baz]</code>. There will be no copying involved when you do that. Assignment does not copy the assigned object in ruby.</p>
"
"<p>i wrote a quick little application that takes a base file of code with some keywords, a file of replacements for the keywords, and outputs a new file with the keywords replaced.</p>

<p>When i was using Ruby 1.8, my outputs would look fine. Now when using Ruby 1.9, my replaced code has the newline characters in it instead of line feeds. </p>

<p>For example, i see something like:</p>

<pre><code>[""\r\nDim RunningNormal_1 As Boolean"", ""\r\nDim RunningNormal_2 As Boolean"", ""\r\nDim RunningNormal_3 As Boolean""]
</code></pre>

<p>instead of:</p>

<pre><code>Dim RunningNormal_1 As Boolean
Dim RunningNormal_2 As Boolean
Dim RunningNormal_3 As Boolean
</code></pre>

<p>i use a hash of replacements {""KEYWORD""=>[""1"",""2"",""3""]} and an array of the replaced lines.</p>

<p>i use this block to finish the replacement:</p>

<pre><code>resultingLibs.each do |x|
  libraryString.sub!(/(&lt;REPEAT&gt;(.*?)&lt;\/REPEAT&gt;)/im) do |match|
    x.each do |individual|
      individual.to_s 
    end
  end
end
#for each resulting group of the repeatable pattern,
#  
#Write out the resulting libs to a combined string
</code></pre>

<p>My hunch is that i'm printing out the array instead of the strings within the array. Any suggestions on a fix. When i debug and print my replaced string using puts, the output looks correct. When i use the to_s method (which is how my app writes the output to the output file), my output looks wrong.</p>

<p>A fix would be nice, but what i really want to know is what changed between Ruby 1.8 and 1.9 that causes this behavior. Has the to_s method changed somehow in Ruby 1.9?</p>

<p>*i'm inexperienced in Ruby</p>
","149392","","<p>Yes, you're calling <code>to_s</code> on an array of strings. In 1.8 that is equivalent to calling <code>join</code>, in 1.9 it is equivalent to calling <code>inspect</code>.</p>

<p>To get the behavior you want in both 1.8 and 1.9, call <code>join</code> instead of <code>to_s</code>.</p>
"
"<p>let's say I have the following array:</p>

<pre><code>arr = [[5,1], [2,7]]
</code></pre>

<p>and I want to find the minimum comparing the second element. i.e. The minimum will be [5,1] (since 1 is less than 7).  I can use the following code:</p>

<pre><code>arr.min {|a,b| a[1] &lt;=&gt; b[1]}
</code></pre>

<p>For calculating the maximum I can do the same:</p>

<pre><code>arr.max {|a,b| a[1] &lt;=&gt; b[1]}
</code></pre>

<p>That gives [2,7]. Now, what I do not want is repeat myself since I am basically given all the time the same block. I would like to have that block somewhere and provide it to the min/max function. I hoped something like:</p>

<pre><code>blo = lambda {|a,b| a[1] &lt;=&gt; b[1]}
arr.min blo
</code></pre>

<p>but didn't really work... so didn't work any of the other things I tried. 
Any Idea on how can I do this? </p>
","149392","","<p>Use the <code>&amp;</code> operator to turn a <code>Proc</code> object into a block.</p>

<pre><code>arr.min &amp;blo
</code></pre>
"
"<p>Both are terms whose type is the intersection of all types (uninhabited). Both can be passed around in code without failing until one attempts to evaluate them. The only difference I can see is that in Java, there is a loophole which allows <code>null</code> to be evaluated for exactly one operation, which is reference equality comparison (<code>==</code>)--whereas in Haskell <code>undefined</code> can't be evaluated at all without throwing an exception. Is this the only difference?</p>

<h2>Edit</h2>

<p>What I'm really trying to get at with this question is, why was including <code>null</code> in Java such an apparently poor decision, and how does Haskell escape it? It seems to me that the real problem is that you can do something <em>useful</em> with <code>null</code>, namely you can check it for <em>nullness</em>. Because you are allowed to do this, it has become standard convention to pass around null values in code and have them indicate ""no result"" instead of ""there is a logical error in this program"". Whereas in Haskell, there's no way to check if a term evaluates to bottom without evaluating it and the program exploding, so it could never be used in such a way to indicate ""no result"". Instead, one is forced to use something like <code>Maybe</code>.</p>

<p>Sorry if it seems like I'm playing fast and loose with the term ""evaluate""... I'm trying to draw an analogy here and having trouble phrasing it precisely. I guess that's a sign that the analogy is imprecise.</p>
","149392","","<p>Your description isn't quite correct. You're saying <code>null</code> can't be evaluated. However since java is an eager language, this would mean that <code>f(null)</code> would throw an NPE no matter what the definition of <code>f</code> is (because method arguments are always evaluated before the method runs).</p>

<p>The only reason that you can pass around <code>undefined</code> in haskell without getting an exception is that haskell is lazy and does not evaluate arguments unless needed.</p>

<p>One further difference between undefined and null is that <code>undefined</code> is a simple value defined in the standard library. If it weren't defined in the standard library you could define it yourself (by writing <code>myUndefined = error ""My Undefined</code> for example).</p>

<p>In Java <code>null</code> is a keyword. If there were no <code>null</code> keyword, you wouldn't be able to define it (doing the equivalent of the haskell definition, i.e. <code>Object myNull = throw(new Exception())</code>, wouldn't work because the expression would be evaluated right there).</p>
"
"<p>This code works:</p>

<pre><code>posToXY :: Float -&gt; Float -&gt; Integer
posToXY a b = do
        let y = a / b
        round y
</code></pre>

<p>But this doesn't work:</p>

<pre><code>posToXY :: Integer -&gt; Integer -&gt; Integer
posToXY a b = do
        let y = a / b
        round y
</code></pre>

<p>I understand that operation '/' doesn't define for Integer type, but I don't know how to fix code to work with Integer parameters.</p>
","149392","","<p>You can use <code>fromIntegral</code> to convert any Integral type into any Num type. So:</p>

<pre><code>let y = fromIntegral a / fromIntegral b
</code></pre>
"
"<p>I am a final year engineering student. Me and my friends have decided that our final year project would be ""Simulation of Turing Machine using Template Metaprogramming"".</p>

<p>I understand what ""Turing Machine"" and ""Template Metaprogramming"" are but my question is why the simulation would be tedious if we design the Turing Machine without TMP? What advantages can we get if we us TMP and what would we miss/gain if we don't using TMP but use a conventional approach?</p>

<p>Any suggestions as to how we shall proceed?</p>
","149392","","<p>The primary reason why one would implement Turing machines using template metaprogramming is not because it's easier than in ""ordinary"" C++ (it isn't), but to demonstrate that C++ templates are Turing complete.</p>
"
"<p>The following program yields an error in ghci:</p>

<pre><code>{-# LANGUAGE NoImplicitPrelude #-}

import Prelude (Integer, Bool)
import qualified Prelude

class Discrete a where
    (==) :: a -&gt; a -&gt; Bool

instance Discrete Integer where
    (==) = (Prelude.==)

class Monoid a where
    one :: a
    (*) :: a -&gt; a -&gt; a

    fromInteger :: Integer -&gt; a
    fromInteger 1 = one
</code></pre>

<p>Namely:</p>

<blockquote>
  <p>fromInteger.hs:17:16:<br>
     No instance for (Monoid Integer)<br>
       arising from the literal <code>1' at fromInteger.hs:17:16<br>
     Possible fix: add an instance declaration for (Monoid Integer)<br>
     In the pattern: 1<br>
     In the definition of</code>fromInteger': fromInteger 1 = one  </p>
</blockquote>

<p>How can I fix it so that 1 can be converted to the value <code>one</code> for Monoids? All other integers may (or should) yield <code>Prelude.undefined</code> when being applied to <code>(Monoid a) =&gt; fromInteger</code>.</p>

<p>Please be aware that I am a the opposite of an expert to Haskell so please forgive me in case the answer is obvious.</p>
","149392","","<p>The problem is that (with NoImplitPrelude) you can only use integer literals for types for which there is a <code>fromInteger</code> function in scope.</p>

<p>So in your code you can only use integer literals to represent instances of <code>Monoid</code> and since in your code, <code>Integer</code> is not an instance of <code>Monoid</code>, you can not use the literal <code>1</code> to represent the Integer 1.</p>

<p>To fix this you could create another module which does import the prelude and define <code>integerOne :: Integer = 1</code>.</p>

<p>You could then define your <code>fromInteger</code> function as:</p>

<pre><code>fromInteger x | x == integerOne = one
</code></pre>
"
"<p>I'm trying to make a function which drops the first n items of a list:</p>

<pre><code>let rec drop n h =
   if n == 0 then h else (drop n-1 (match h with a::b -&gt; b));;
</code></pre>

<p>This is giving:</p>

<pre><code>Characters 43-49:
   if n == 0 then h else (drop n-1 (match h with a::b -&gt; b));;
                          ^^^^^^
Error: This expression has type 'a -&gt; 'b but is here used with type int
</code></pre>

<p>What is wrong here? This is my first day in OCAML (with functional programming in general), i'm just following manuals and tutorials on the internet. I've no idea what this message means.</p>

<p>Also, this is a part of a larger homework which requires no use of Let except function definitions, and no use of extra libraries</p>
","149392","","<p><code>drop n-1</code> is parsed as <code>(drop n) - 1</code>, you want <code>drop (n-1)</code>.</p>
"
"<p>I'm just wondering how <code>$</code> works: I was expecting </p>

<pre><code>&gt; (flip (+).digitToInt) $ '4' 4

&lt;interactive&gt;:1:24:
    Couldn't match expected type `t -&gt; Char'
           against inferred type `Char'
    In the second argument of `($)', namely '4' 4
    In the expression: (flip (+) . digitToInt) $ '4' 4
    In the definition of `it': it = (flip (+) . digitToInt) $ '4' 4
</code></pre>

<p>to apply <code>(flip (+).digitToInt)</code> to <code>4 4</code>, however it didn't work. How come? I've found this works</p>

<pre><code>&gt;  (flip (+).digitToInt) '4' 4
8
it :: Int
</code></pre>

<p>And, I see the type of:</p>

<pre><code>&gt;  :t (flip (+).digitToInt)
(flip (+).digitToInt) :: Char -&gt; Int -&gt; Int
</code></pre>

<p>But, I don't understand why I can't call apply <code>(flip (+).digitToInt)</code> explicitly</p>

<p>This confusion comes from the basic observation that </p>

<blockquote>
  <p>digitToInt $ '5'</p>
</blockquote>

<p>and </p>

<blockquote>
  <p>digitToInt '5'</p>
</blockquote>

<p>are permitted with the same effect - except that the top has slightly more line noise.</p>
","149392","","<pre><code>(flip (+).digitToInt) $ '4' 4
</code></pre>

<p>is the same as</p>

<pre><code>(flip (+).digitToInt) $ ('4' 4)
</code></pre>

<p>Which of course does not work because <code>'4'</code> is not a function.</p>

<p>To get the behavior you want, you can do</p>

<pre><code>(flip (+).digitToInt $ '4') 4
</code></pre>

<p>Or just</p>

<pre><code>(flip (+).digitToInt) '4' 4
</code></pre>
"
"<p>Consider the following (Haskell) code:</p>

<pre><code>fib=0:1:zipWith (+) fib (tail fib)
</code></pre>

<p>A coworker is trying to assert that this is not a recursive function because <code>fib</code> is simply a list that defines itself with itself and that is somehow different than a function that does the same.  I think he's smoking crack. </p>

<p>What do you think?</p>
","149392","","<p>It's recursive. You can tell because the name on the LHS of the <code>=</code> also appears on the RHS.</p>

<p>It is however <em>not</em> a function. You can tell because the type of <code>fib</code> does not contain a <code>-&gt;</code>.</p>
"
"<p>As i understand Haskell does not have a global state, so is there any way to write a function f that will return f(n - 1) + 1, where n is a number of function call and f(1) = 0. </p>

<p>It should not accept any arguments and used like <code>func f</code></p>

<pre><code>Prelude&gt; f () 
0
Prelude&gt; f ()
1
</code></pre>
","149392","","<p>Without using tricks like <code>unsafePerform</code>, it is not possible to define a function that can be called like you showed in your example. However it is possible to define an IO action that does what you want and could be used like this:</p>

<pre><code>Prelude&gt; x &lt;- f 
Prelude&gt; x
0
Prelude&gt; x &lt;- f
Prelude&gt; x
1
</code></pre>

<p>Here's an example program that does what you want using IORefs:</p>

<pre><code>import Data.IORef

main = do counter &lt;- newIORef 0
          let f = do count &lt;- readIORef counter
                     modifyIORef counter (+ 1)
                     return count          
          x &lt;- f
          print x
          x &lt;- f
          print x
</code></pre>
"
"<p>I'm a newbie, and the monads get me totally confused. Given a list of filenames i'd like to know whether all the files exist.</p>

<p>Generally, i'd like to do:</p>

<pre><code>import System.Directory
allFilesPresent files = foldr (&amp;&amp;) True (map doesFileExist files)
</code></pre>

<p>However i do not know what's the right way to do it, because there's <code>IO Bool</code> instead of <code>Bool</code> involved here.</p>

<p>A help with and explanation would be really nice, thanks!</p>
","149392","","<p>You're right, your code doesn't work because <code>map doesFileExist files</code> returns a list of <code>IO Bool</code>s instead of <code>Bool</code>. To fix this, you can use <code>mapM</code> instead of <code>map</code>, which will give you an <code>IO [Bool]</code>. You can the unpack that using <code>&gt;&gt;=</code> or <code>&lt;-</code> inside a <code>do</code>-block and then use <code>foldr (&amp;&amp;)</code> on the unpacked <code>[Bool]</code> and <code>return</code> that. The result will be an <code>IO Bool</code>. Like this:</p>

<pre><code>import System.Directory
allFilesPresent files = mapM doesFileExist files &gt;&gt;=
                        return . foldr (&amp;&amp;) True
</code></pre>

<p>Or using do notation:</p>

<pre><code>import System.Directory
allFilesPresent files = do bools &lt;- mapM doesFileExist files
                           return $ foldr (&amp;&amp;) True bools
</code></pre>

<p>Or using <code>liftM</code> from <code>Control.Monad</code>:</p>

<pre><code>allFilesPresent files = liftM (foldr (&amp;&amp;) True) $ mapM doesFileExist files
</code></pre>

<p>Or using <code>&lt;$&gt;</code> from <code>Control.Applicative</code>:</p>

<pre><code>allFilesPresent files = foldr (&amp;&amp;) True &lt;$&gt; mapM doesFileExist files
</code></pre>
"
"<p>I thought I'd be getting along alright with F# since I'm decent at Haskell, but I feel like I'm being stumped by dead simple issues.  I have some parsing code for a simple JSON parser, like this:</p>

<pre><code>let rec parseObject tokens = function
 | '""' :: cs -&gt; parseString tokens cs
 | ':' :: cs -&gt; parseValue tokens cs
 | '}' :: cs -&gt; tokens, cs
 ...

let rec parseValue tokens = function
 | c :: cs when Char.IsWhiteSpace(c) -&gt; parseValue tokens cs
 | '{' :: cs -&gt; parseObject tokens cs
 ...
</code></pre>

<p>That won't work, because parseObject doesn't know about parseValue.  Can't reverse them either or I'd get the opposite problem.  So what am I supposed to do here?</p>
","149392","","<p>You define mutually recursive function using the <code>and</code> keyword. Like this:</p>

<pre><code>let rec parseObject tokens = function
 | '""' :: cs -&gt; parseString tokens cs
 | ':' :: cs -&gt; parseValue tokens cs
 | '}' :: cs -&gt; tokens, cs
 ...

and parseValue tokens = function
 | c :: cs when Char.IsWhiteSpace(c) -&gt; parseValue tokens cs
 | '{' :: cs -&gt; parseObject tokens cs
 ...
</code></pre>
"
"<p>I need a function that works like this:</p>

<pre><code>foo :: Integer -&gt; Integer -&gt; [Integer]
foo a b = do
           let result = []
           let Coord x y = boo a b
           if x &gt; 0
              let result = result ++ [3]
           if y &gt; 0 
              let result = result ++ [5]
           if x &lt; a
              let result = result ++ [7]
           if y &lt; b
              let result = result ++ [9]
           result
</code></pre>

<p>I can not use the guards because the result can have more then one element.  But as I see I can not use 'let' in the 'if' expression:</p>

<pre><code>all_possible_combinations.hs:41:14: parse error on input `let'
</code></pre>

<p>How can I check multiple expressions and add new elements in the list?
I search not only imperative solution, but the functional one.</p>
","149392","","<p>Three things:</p>

<ol>
<li><p>You <em>can</em> use <code>let</code> inside an <code>if</code> expression, but it needs to be followed by <code>in</code> or inside a <code>do</code> block. Either way the expression which uses the name you just bound with <code>let</code>, needs to be in the same <code>if</code>. I.e. you can do:</p>

<pre><code>if x &gt; 0
then let a = 42 in a+x
else 23      
</code></pre>

<p>but not</p>

<pre><code>if x &gt; 0
then let a = 42 in ()
else let a = 23 in ()        
print a
</code></pre></li>
<li><p>You can not use <code>let</code> to change the value of an existing variable. As a matter of fact, you can not change the value of a variable, ever.</p></li>
<li><p>If you use the name bound on the LHS of <code>=</code> on the RHS of the <code>=</code> it will refer recursively to itself - not to any previous binding. In other words <code>let x = x+1</code>, causes infinite recursion, it does not increase the value of <code>x</code> by one.</p></li>
</ol>

<p>To do what you want to, you'd need to restructure your code to something like this:</p>

<pre><code>let result1 = if x &gt; 0 then [3] else []
let result2 = if y &gt; 0 then result1 ++ [5] else result1
let result3 = if x &lt; a then result2 ++ [7] else result2
if y &lt; b then result3 ++ [9] else result3
</code></pre>

<p>Note that it's usually a bad idea, performance wise, to use <code>++</code> to append at the end, instead of using <code>:</code> and then <code>reverse</code>ing the list at the end.</p>
"
"<p>I have come across a small problem. Say I have two lists:</p>

<pre><code>list_A = ['0','1','2']
list_B = ['2','0','1']
</code></pre>

<p>I then have a list of lists:</p>

<pre><code>matrix = [
['56','23','4'],
['45','5','67'],
['1','52','22']
]
</code></pre>

<p>I then need to iterate through list_A and list_B and effectively use them as co-ordinates. For example I take the firs number from list A and B which would be '0' and '2', I then use them as co-ordinates: <code>print matrix[0][2]</code></p>

<p>I then need to do the same for the 2nd number in list A and B and the 3rd number in list A and B and so forth for however long List A and B how would be. How do this in a loop?</p>
","149392","","<pre><code>[matrix[int(a)][int(b)] for (a,b) in zip(list_A, list_B)]
</code></pre>
"
"<p>What is wrong here, is Lazy Evaluation too?  </p>

<p>teste.hs</p>

<pre><code>module Main where  

import Control.Parallel(par,pseq)  
import Text.Printf  
import Control.Exception  
import System.CPUTime  
import Data.List  
import IO  
import Data.Char  
import Control.DeepSeq  

--Calcula o tempo entre o inicio e o fim de rodagem do programa  
time :: IO t -&gt; IO t  
time a = do  
    start &lt;- getCPUTime  
    v &lt;- a
    end   &lt;- getCPUTime  
    let diff = (fromIntegral (end - start)) / (10^12)  
    printf ""Computation time: %0.3f sec\n"" (diff :: Double)  
    return v  

learquivo :: FilePath -&gt; IO ([[Int]])  
learquivo s = do   
            conteudo &lt;- readFile s   
            return (read conteudo)   

main :: IO ()  
main = do   
    conteudo &lt;- learquivo ""mkList1.txt""   
    mapasort &lt;- return (map sort conteudo)
    time $ mapasort  `seq` return ()  
</code></pre>

<blockquote>
  <p><code>*Main&gt; main<br>
  Computation time: 0.125 sec</code></p>
</blockquote>

<p>mkList1.txt is a list of 100 lists of 100 random numbers in each, more or less like this: [[23,45,89,78,89 ...], [4783, 44, 34 ...]...]</p>

<p>I did a test printing mapasort:</p>

<ul>
<li>time $ print (""Sort usando map = "", mapasort)</li>
</ul>

<p>And the computing time increased considerably so I think something is wrong.</p>

<p><code>Computation time: 1.188 sec</code></p>

<p>Thanks</p>
","149392","","<p>Yes, this is due to Haskell's laziness. You're trying to get around the laziness by using <code>seq</code>, but since <code>seq</code> is ""shallow"" (i.e. it doesn't traverse the whole structure of the expression - only the ""outer"" layer), it will force the evaluation of the <code>map</code>, but not the evaluation of the <code>sort</code>s.</p>

<p>To fix this either use <code>deepseq</code> instead of <code>seq</code> or, even better, use a library for benchmarking instead of using <code>getCPUTime</code>.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/3963269/split-a-number-into-its-digits-with-haskell"">Split a number into its digits with Haskell </a>  </p>
</blockquote>



<p>how can i convert integer to integer list 
Exmple: input: 1234 output:[1,2,3,4] any idee about this problem ?</p>
","149392","","<p>Using integer arithmetic:</p>

<pre><code>digits' 0 = []
digits' n = n `rem` 10 : digits (n `quot` 10)
digits n = reverse (digits' n)
</code></pre>
"
"<p>I'm trying to make a recursive function to get the transpose of a list of lists, <code>n x p</code> to <code>p x n</code>. But i'm unable to do so. I've been able to make a function to transpose a <code>3 x n</code> list of lists to an <code>n x 3</code> one:</p>

<pre><code>let rec drop1 list=
    [(match (List.nth list 0) with [] -&gt; [] | a::b -&gt; b);
     (match (List.nth list 1) with [] -&gt; [] | a::b -&gt; b);
     (match (List.nth list 2) with [] -&gt; [] | a::b -&gt; b);]

let rec transpose list=
    if List.length (List.nth list 0) == 0 then []
    else [(match (List.nth list 0) with [] -&gt; 0 | a::b -&gt; a);
          (match (List.nth list 1) with [] -&gt; 0 | a::b -&gt; a);
          (match (List.nth list 2) with [] -&gt; 0 | a::b -&gt; a)]
         :: transpose (drop1 list)
</code></pre>

<p>But I'm not able to generalize it. I'm surely thinking in the wrong direction. Is this generalizable? Is there a better solution? Please help.</p>
","149392","","<pre><code>let rec transpose list = match list with
| []             -&gt; []
| []   :: xss    -&gt; transpose xss
| (x::xs) :: xss -&gt;
    (x :: List.map List.hd xss) :: transpose (xs :: List.map List.tl xss)
</code></pre>
"
"<p>I'm struggling with this code right now. I want to determine whether an integer is divsible by 11. From what I have read, an integer is divisible to 11 when the sum (one time +, one time -) of its digits is divisible by 11. </p>

<p>For example: 56518 is divisible by 11, because 8-1+5-6+5 = 11, and 11 is divisible by 11. </p>

<p>How can i write this down in Haskell? Thanks in advance.</p>
","149392","","<p>A number <code>x</code> is divisible by <code>y</code> if it's remainder when divided by <code>y</code> is 0. So you can just do</p>

<pre><code>divisibleBy11 x = x `rem` 11 == 0
</code></pre>
"
"<p>I saw the following code:</p>

<pre><code>class NullClass {
public:
    template&lt;class T&gt; operator T*() const { return 0; }
};

const NullClass NULL;

void f(int x);
void f(string *p);

f(NULL); // converts NULL to string*, then calls f(string*)
</code></pre>

<p>Q1> I have problems to understand the following statement</p>

<pre><code>template&lt;class T&gt; operator T*() const { return 0; }
</code></pre>

<p>Specially, what is the meaning of <code>operator T*()</code>?</p>

<p>Q2> Why <code>f(NULL)</code> is finally triggering the <code>f(string*)</code>?</p>

<p>Thank you</p>
","149392","","<p><code>template&lt;class T&gt; operator T*()</code> means that there is an implicit conversion from <code>NullClass</code> to <code>T*</code> for any <code>T</code>.</p>

<p>When you're calling <code>f(NULL)</code>, the compiler needs to decide which overload to use. Since neither overload takes an object of type <code>NullClass</code>, it looks which implicit conversions exist. There is no conversion to <code>int</code>, but there is one to <code>string*</code>, so the conversion is applied and the <code>string*</code> overload is called.</p>
"
"<pre><code>class User &lt; ActiveRecord::Base 
     validates_each :name, :email do |model, attr, value|
             if value =~ /groucho|harpo|chico/i 
                   model.errors.add(attr, ""You can't be serious, #{value}"")
              end 
     end
end
</code></pre>

<p>Confused as to how this works.</p>

<p>Is :name, email the items it will loop?</p>
","149392","","<p><code>:name</code> and <code>:email</code> are the attributes that will be validates using this block.</p>

<p>So each time a User is validated, the block will be called once with <code>attr = :name</code> and once with <code>attr = :email</code> (and each time <code>value</code> will hold the value of that attribute).</p>
"
"<p>In Ruby, isn't an instance variable like <code>@foo</code> and a class variable, <code>@@bar</code>?</p>

<p>In some code, I see a few</p>

<pre><code>self.user_name = @name
</code></pre>

<p>or even </p>

<pre><code>a += 1 if name != user_name   # this time, without the ""self.""
                              # and it is the first line of a method so 
                              # it doesn't look like it is a local variable
</code></pre>

<p>what is the self for?  I thought it might be an accessor, but then can't it be just user_name instead of self.user_name?  And I don't even see any code to make it an accessor, like <code>attr_accessor</code>, and not in the base class either.</p>
","149392","","<blockquote>
  <p>what is the self for? I thought it might be an accessor</p>
</blockquote>

<p>It's a method at least - probably an accessor. <code>self.name = something</code> will call the method <code>name=</code> and <code>self.name</code>, or if no local variable called <code>name</code> exists, just <code>name</code> will call the method <code>name</code>.</p>

<blockquote>
  <p>but then can't it be just user_name instead of self.user_name?</p>
</blockquote>

<p>When invoking the <code>name=</code> method you need the <code>self</code> because <code>name = something</code> would just create a local variable called <code>name</code>. When invoking the <code>name</code> method, it doesn't matter whether you write <code>name</code> or <code>self.name</code> unless there is also a local variable called <code>name</code>.</p>

<blockquote>
  <p>And I don't even see any code to make it an accessor, like attr_accessor, and not in the base class either.</p>
</blockquote>

<p>If there is no call to <code>attr_accessor</code> and no explicit definition of <code>name</code> and <code>name=</code> anywhere, they might be handled by <code>method_missing</code> or defined by a different method than <code>attr_accessor</code>.</p>

<blockquote>
  <p>isn't self.user_name the same as @user_name</p>
</blockquote>

<p>Only if it's defined to be. If you define <code>user_name</code> and <code>user_name=? using</code>attr_accessor<code>they will get and set</code>@user_name`. However if you define them through other means (or manually), they can do whatever you want.</p>

<p>For example ActiveRecord uses <code>method_missing</code> to ""define"" getter and setter methods that correspond to data base columns. So if your ActiveRecord class belongs to a table with a <code>user_name</code> column, you'll have <code>user_name</code> and <code>user_name=</code> methods without defining them anywhere. The values returned by <code>user_name</code> and set by <code>user_name =</code> will also not correspond to instance variables. I.e. there will be no instance variable named <code>@user_name</code>.</p>

<p>Another way to automatically define <code>user_name</code> and <code>user_name=</code> without using instance variables is <code>Struct</code>:</p>

<pre><code>MyClass = Struct.new(:user_name)
</code></pre>

<p>Here <code>MyClass</code> will have the methods <code>user_name</code> and <code>user_name=</code>, but no instance variable <code>@user_name</code> will be set at any point.</p>
"
"<p>I have a Rails 2.3.8 app with an action that pulls a large amount of data from a database and renders it with anywhere from 300-600 partials (recursively rendering a tree-type structure). Benchmarking one request gives me response times of about 7 seconds. </p>

<p>I thought that upgrading my Ruby version to 1.9 from 1.8 would give me a performance gain, but as I benchmark the 1.9 version, I'm getting response times of about 9 seconds (2 seconds slower than on 1.8). This was quite surprising to me.</p>

<p>What factors would cause Ruby 1.9 to execute slower than Ruby 1.8?</p>

<p>Below is a portion of the log file.</p>

<p>Ruby 1.8</p>

<pre><code>Rendered family_index/descendants/_fi_hover (0.5ms)
Rendered family_index/descendants/_descendant (4.6ms)
Rendered search/_search_div (0.1ms)
Rendered family_index/descendants/_fi_hover (0.7ms)
Rendered family_index/descendants/_descendant (4.7ms)
Rendered search/_search_div (0.1ms)
Rendered family_index/descendants/_fi_hover (0.5ms)
Rendered family_index/descendants/_descendant (4.5ms)
Rendered family_index/descendants/_fi_hover (0.5ms)
Rendered family_index/descendants/_descendant (37.9ms)
Rendered family_index/surname_groups/_pedigree (3162.9ms)
Rendered shared/_headers (4.6ms)
Rendered shared/_new_messages (0.6ms)
Rendered shared/_home_logo (1.1ms)
Rendered shared/_login_box (4.0ms)
Rendered shared/_navigation (13.6ms)
Rendered shared/_flash_messages (0.8ms)
Rendered shared/_footer (1.0ms)
Rendered shared/_analytics (0.8ms)
Completed in 4552ms (View: 3352, DB: 147) | 200 OK [http://localhost/family_index/surname_groups/31]
</code></pre>

<p>Ruby 1.9</p>

<pre><code>Rendered family_index/descendants/_fi_hover (0.3ms)
Rendered family_index/descendants/_descendant (1.9ms)
Rendered search/_search_div (0.1ms)
Rendered family_index/descendants/_fi_hover (0.4ms)
Rendered family_index/descendants/_descendant (2.0ms)
Rendered search/_search_div (0.1ms)
Rendered family_index/descendants/_fi_hover (0.3ms)
Rendered family_index/descendants/_descendant (1.9ms)
Rendered family_index/descendants/_fi_hover (0.3ms)
Rendered family_index/descendants/_descendant (15.1ms)
Rendered family_index/surname_groups/_pedigree (762.8ms)
Rendered shared/_headers (2.6ms)
Rendered shared/_new_messages (0.7ms)
Rendered shared/_home_logo (0.9ms)
Rendered shared/_login_box (3.6ms)
Rendered shared/_navigation (7.3ms)
Rendered shared/_flash_messages (0.7ms)
Rendered shared/_footer (0.8ms)
Rendered shared/_analytics (0.6ms)
Completed in 5736ms (View: 942, DB: 128) | 200 OK [http://localhost/family_index/surname_groups/31]
</code></pre>

<p>It appears that Ruby 1.9 is rendering the views and processing the database faster, but is still completing the request slower.</p>

<p>Ruby 1.8:</p>

<pre><code>Completed in 4552ms (View: 3352, DB: 147) | 200 OK [http://localhost/family_index/surname_groups/31]
</code></pre>

<p>Ruby 1.9:</p>

<pre><code>Completed in 5736ms (View: 942, DB: 128) | 200 OK [http://localhost/family_index/surname_groups/31]
</code></pre>

<p><strong>Update 10-26-2010</strong></p>

<p>I've found the bottleneck in my code. It comes from a line that loads up a ton of ActiveRecord items using the lazy-eager loaded associations. The DB time is small, but I'm guessing that all of the object allocation is taking a toll. Here is my association:</p>

<pre><code>has_many  :deep_branches,
            :class_name =&gt; ""FamilyIndex::Branch"",
            :include =&gt; {
              :descendant =&gt; [:state, :county, {:wives =&gt; {:marriage =&gt; [:state,:county,:reference] }}, :reference, {
                :children =&gt; [:state, :county, {:wives =&gt; {:marriage =&gt; [:state,:county,:reference] }}, :reference, {
                  :children =&gt; [:state, :county, {:wives =&gt; {:marriage =&gt; [:state,:county,:reference] }}, :reference, {
                    :children =&gt; [:state, :county, {:wives =&gt; {:marriage =&gt; [:state,:county,:reference] }}, :reference] # add marriages to this data
                  }]
                }]
              }]
            }
</code></pre>

<p>Without doing the eager loading, the complete action takes about 40 seconds to complete, so using the :include gives about a 10x performance increase. Still looking for a way to speed this up. Perhaps caching is the only way to go from here.</p>
","149392","","<p>One area where 1.9 can be slower than 1.8 is string handling.</p>

<p>Since 1.9 has proper unicode support indexing or a slicing a unicode-encoded string can take significantly longer than in 1.8 because in 1.8 <code>string[i]</code> will just return the <code>i</code>th byte, while in 1.9 it has to go through the string to find the <code>i</code>th character.</p>

<p>If you do a lot of string handling and do not need proper unicode support, you can just set the encoding to ASCII or possibly binary, which should speed up the string handling considerably.</p>
"
"<p>I wrote a code:</p>

<pre><code>let rec compareVs v1 v2 =
 if List.length v1 == 0 then
  true
 else
  ((match v1 with [] -&gt; 0. | h::l -&gt; h) == (match v2 with [] -&gt; 0. | h::l -&gt; h)) &amp;&amp; 
  (compareVs(match v1 with [] -&gt; [] | h::l -&gt; l) (match v2 with [] -&gt; [] | h::l -&gt; l))
</code></pre>

<p>And ran it:</p>

<pre><code># compareVs [0.1;0.1] [0.1;0.1];;
- : bool = false
</code></pre>

<p>Can't seem to find the problem. Please help.</p>

<p><B>EDIT</B></p>

<p>The problem seams to be with float comparisons:</p>

<pre><code># 0.1 == 0.1;;
- : bool = false
# 1.0 == 1.0;;
- : bool = false
</code></pre>

<p>How else can we compare floats in ocaml?</p>
","149392","","<p>Use <code>=</code>, not <code>==</code>.</p>

<p>Floats are reference types in ocaml and <code>==</code> checks reference equality. So <code>0.1 == 0.1</code> is false.</p>

<p>Generally, you almost always want to use <code>=</code>, not <code>==</code> to compare two values.</p>

<p>Note that aside from that, your function will return <code>true</code> for two lists of different size. Assuming that's not intended you should only return true when both lists are empty and false when one of them is empty and the other is not.</p>

<p>As a style note, using <code>List.length</code> to check whether a list is empty is usually a bad idea (for one thing it's O(n) even though it can be done in O(1) with pattern matching). Using pattern matching right at the beginning will also clean your code up a bit.</p>

<p>Like this:</p>

<pre><code>let rec compareVs v1 v2 = match v1, v2 with
| [], []       -&gt; true
| [], _
| _, []        -&gt; false
| x::xs, y::ys -&gt; x = y &amp;&amp; compareVs xs ys
</code></pre>

<p>Oh and if this isn't just an exercise, note that you can just do <code>v1 = v2</code> and don't actually need to write a function for this.</p>
"
"<p>basically I'm not really a Java/Scala fan, but unfortunately I'm forced to use it for my studies. Anyways, I was given an assignment:</p>

<p>What the program gets is a list of objects like: <code>Mark(val name String, val style_mark Int, val other_mark Int)</code>.</p>

<p>How can I use groupBy, to group the marks by name, and get an average for style_mark and other_mark?</p>

<pre><code>Mark(""John"", 2, 5)
Mark(""Peter"", 3, 7)
Mark(""John"", 4, 3)
</code></pre>

<p>Should return:</p>

<pre><code>Mark(""John"", 3, 4)
Mark(""Peter"", 3, 7)
</code></pre>

<p>Thats the code:</p>

<pre><code>class Mark(val name: String, val style_mark: Int, val other_mark: Int) {}

object Test extends Application
  {
  val m1 = new Mark(""Smith"", 18, 16);
  val m2 = new Mark(""Cole"", 14, 7);
  val m3 = new Mark(""James"", 13, 15);
  val m4 = new Mark(""Jones"", 14, 16);
  val m5 = new Mark(""Richardson"", 20, 19);
  val m6 = new Mark(""James"", 4, 18);

  val marks = List(m1, m2, m3, m4, m5, m6);

  def avg(xs: List[Int]) = xs.sum / xs.length

  marks.groupBy(_.name).map { kv =&gt; Mark(kv._1, avg(kv._2.map(_.style_mark)), avg(kv._2.map(_.other_mark))) }

  println(marks);
  }
</code></pre>

<p>Any help would be greatly appreciated,</p>

<p>Paul</p>
","149392","","<p>As you already said, we can use <code>groupBy</code> to group the Marks by name. Now we have a <code>Map</code> where each key is the name and the value is a list of Marks with that name.</p>

<p>We can now iterate over that <code>Map</code> and replace each key-value pair with a Mark-object that has the key as its name, and the average of the <code>style_mark</code>s in the list as its <code>style_mark</code> and the average of <code>other_mark</code>s in the list as its <code>other_mark</code>. Like this:</p>

<pre><code>def avg(xs: List[Int]) = xs.sum / xs.length
marks.groupBy(_.name).map { kv =&gt;
  Mark(kv._1, avg(kv._2.map(_.style_mark)), avg(kv._2.map(_.other_mark)))
}
</code></pre>
"
"<p>Apple sometimes uses the Bitwise-Shift operator in their <strong>enum</strong> definitions. For example, in the <strong>CGDirectDisplay.h</strong> file which is part of Core Graphics:</p>

<pre><code>enum {
  kCGDisplayBeginConfigurationFlag  = (1 &lt;&lt; 0),
  kCGDisplayMovedFlag           = (1 &lt;&lt; 1),
  kCGDisplaySetMainFlag         = (1 &lt;&lt; 2),
  kCGDisplaySetModeFlag         = (1 &lt;&lt; 3),
  kCGDisplayAddFlag         = (1 &lt;&lt; 4),
  kCGDisplayRemoveFlag          = (1 &lt;&lt; 5),
  kCGDisplayEnabledFlag         = (1 &lt;&lt; 8),
  kCGDisplayDisabledFlag        = (1 &lt;&lt; 9),
  kCGDisplayMirrorFlag          = (1 &lt;&lt; 10),
  kCGDisplayUnMirrorFlag        = (1 &lt;&lt; 11),
  kCGDisplayDesktopShapeChangedFlag = (1 &lt;&lt; 12)
};
typedef uint32_t CGDisplayChangeSummaryFlags;
</code></pre>

<p>Why not simply use incrementing <strong>int</strong>'s like in a ""normal"" <strong>enum</strong>?</p>
","149392","","<p>This way you can add multiple flags together to create a ""set"" of flags and can then use <code>&amp;</code> to find out whether any given flag is in such a set.</p>

<p>You couldn't do that if it simply used incrementing numbers.</p>

<p>Example:</p>

<pre><code>int flags = kCGDisplayMovedFlag | kCGDisplaySetMainFlag; // 6
if(flags &amp; kCGDisplayMovedFlag) {} // true
if(flags &amp; kCGDisplaySetModeFlag) {} // not true
</code></pre>
"
"<p>Ok, I wouldn't be coming to You for help if I knew what to do, anyways, still having problems with my ""program"".</p>

<pre><code>class Mark(val name: String, val style_mark: Double, val other_mark: Double) {}

object Test extends Application
  {
  val m1 = new Mark(""Smith"", 18, 16);
  val m2 = new Mark(""Cole"", 14, 7);
  val m3 = new Mark(""James"", 13, 15);
  val m4 = new Mark(""Jones"", 14, 16);
  val m5 = new Mark(""Richardson"", 20, 19);
  val m6 = new Mark(""James"", 4, 18);

  val marks = List[Mark](m1, m2, m3, m4, m5, m6);

  def avg(xs: List[Double]) = xs.sum / xs.length

  val marksGrouped = marks.groupBy(_.name).map { kv =&gt; new Mark(kv._1, avg(kv._2.map(_.style_mark)), avg(kv._2.map(_.other_mark))) }

  val marksSorted = marksGrouped.sortWith((m1, m2) =&gt; m1._style_mark &lt; m2._style_mark)

  }
</code></pre>

<p>And this is the error I get: <code>error: value sortWith is not a member of scala.collection.immutable.Iterable[Mark]</code></p>
","149392","","<p>You'll have to call <code>toList</code> on <code>marksGrouped</code> first. <code>Iterable</code> does not have a <code>sortWith</code> method, but <code>List</code> does.</p>
"
"<p>I have a very small question. </p>

<p>How can I convert these:</p>

<pre><code>[172592596,93038592,154137572]
</code></pre>

<p>To look like these:</p>

<pre><code>['172592596','93038592','154137572']
</code></pre>

<p>Thankful for all help!</p>
","149392","","<p>If you want to turn an array of ints into an array of strings, you can do so easily using <code>map</code> and <code>to_s</code>.</p>

<pre><code>arr = [172592596,93038592,154137572]
arr.map {|x| x.to_s}
#=&gt; [""172592596"", ""93038592"", ""154137572""]
</code></pre>

<p>Since this is rails, you can also do (will also work in plain ruby if the version is at least 1.8.7):</p>

<pre><code>arr.map(&amp;:to_s)
</code></pre>

<p>To get the same result.</p>
"
"<p>I am having quite the difficulty using regex in ruby to split a string along several delimiters these delimiters are:</p>

<ul>
<li>,</li>
<li>/</li>
<li>&amp;</li>
<li>and</li>
</ul>

<p>each of these delimiters can have any amount of white space on either side of the delimiter but each item can contain a valid space.
a great example that I've been testing against is the string <code>1, 2 /3   and 4 12</code> </p>

<p>what I would like is something around the lines of <code>""1, 2 /3   and 4 12"".split(regex) =&gt;[""1"", ""2"", ""3"", ""4 12""]</code></p>

<p>The closest I've been able to get is <code>/\s*,|\/|&amp;|and \s*/</code> but this generates <code>[""1"", "" 2 "", ""3   "", ""4 12""]</code> instead of the desired results.</p>

<p>Realize this is very close and I could simply all trim on each item, but being so close and knowing it can be done is sort of driving me mad. Hopefully someone can help me keep the madness at bay.</p>
","149392","","<pre><code>/\s*,|\/|&amp;|and \s*/
</code></pre>

<p>This parses as <code>/(\s*,)|\/|&amp;|(and \s*)/</code>. I.e. the leading <code>\s*</code> only applies to the comma and the trailing <code>\s*</code> only applies to ""and"". You want:</p>

<pre><code>/\s*(,|\/|&amp;|and )\s*/
</code></pre>

<p>Or, to avoid capturing:</p>

<pre><code>/\s*(?:,|\/|&amp;|and )\s*/
</code></pre>
"
"<p>In Python there is dict.inspect() method that returns a list of tuples (<a href=""http://stackoverflow.com/questions/674519/how-can-i-convert-a-python-dictionary-to-a-list-of-tuples"">link</a>).
Is there a similar method in ruby to achieve, well, an array of arrays?</p>

<pre><code>#input
{:a =&gt; 1, :b =&gt; 2}

#result
[[:a, 1], [:b, 2]]
</code></pre>
","149392","","<p>Calling <code>to_a</code> on the hash will do that.</p>

<pre><code>{:a =&gt; 1, :b =&gt; 2}.to_a
#=&gt; [[:b, 2], [:a, 1]]
</code></pre>

<p>As you can see in the example output, the order is not necessarily preserved (at least not in ruby 1.8, in ruby 1.9 the order is preserved).</p>
"
"<p>I have never used ruby but need to translate this code to java.</p>

<p>Can anyone help me.</p>

<p>This is the code in Ruby.</p>

<pre><code>DEFAULT_PRIOR = [2, 2, 2, 2, 2]
## input is a five-element array of integers
## output is a score between 1.0 and 5.0
def score votes, prior=DEFAULT_PRIOR
posterior = votes.zip(prior).map { |a, b| a + b }
sum = posterior.inject { |a, b| a + b }
posterior.
map.with_index { |v, i| (i + 1) * v }.
inject { |a, b| a + b }.
to_f / sum
end
</code></pre>

<p>I obtained it from here so maybe some clues can be found there. its about calculating averages</p>

<p><a href=""http://all-thing.net/how-to-rank-products-based-on-user-input"" rel=""nofollow"">How to rank products based on user input</a></p>

<p>This was the solution. In case anyone needs it</p>

<pre><code>    static final int[] DEFAULT_PRIOR = {2, 2, 2, 2, 2};

static float  score(int[] votes) {
    return score(votes, DEFAULT_PRIOR);
}

private static float score(int[] votes, int[] prior) {

    int[] posterior = new int[votes.length];
    for (int i = 0; i &lt; votes.length; i++) {
        posterior[i] = votes[i] + prior[i];
    }
    int sum = 0;
    for (int i = 0; i &lt; posterior.length; i++) {
        sum = sum + posterior[i];
    }

    float sumPlusOne = 0;
    for (int i = 0; i &lt; posterior.length; i++) {
        sumPlusOne = sumPlusOne + (posterior[i] * (i + 1));
    }
    return sumPlusOne / sum;
}
</code></pre>
","149392","","<p>The code does the following things:</p>

<p>It set a constant named <code>DEFAULT_PRIOR</code> (java equivalent would be a static final variable) to an array containing the number 2 five times. In java:</p>

<pre><code>static final int[] DEFAULT_PRIOR = {2,2,2,2,2};
</code></pre>

<p>It defines a two-argument method named score where the second argument defaults to <code>DEFAULT_PRIOR</code>. In java this can be achieved with overloading:</p>

<pre><code>float score(int[] votes) {
    return score(votes, DEFAULT_PRIOR);
}
</code></pre>

<p>Inside the score method, it does the following:</p>

<pre><code>posterior = votes.zip(prior).map { |a, b| a + b }
</code></pre>

<p>This creates an array posterior, where each element is the sum of the corresponding element in votes and the corresponding element in prior (i.e. <code>posterior[i] = votes[i] + prior[i]</code>).</p>

<pre><code>sum = posterior.inject { |a, b| a + b }
</code></pre>

<p>This sets sum to be the sum of all elements in <code>posterior</code>.</p>

<pre><code>posterior.
map.with_index { |v, i| (i + 1) * v }.
inject { |a, b| a + b }.
to_f / sum
</code></pre>

<p>This bit multiplies each element in posterior with its index plus one and then sums that. The result is converted to a float and then divided by <code>sum</code>.</p>

<p>In java you would iterate over posterior with <code>for</code>-loop (not foreach) and in each iteration add <code>(i + 1) * posterior[i]</code> (where <code>i</code> is the index of the <code>for</code>-loop) to a variable <code>tmp</code>, which you set to 0 before the loop. Then you would cast <code>tmp</code> to <code>float</code> and divide it by <code>sum</code>.</p>
"
"<p>My question is like the one <a href=""http://stackoverflow.com/questions/3949072/char-list-list-bool"">here</a>.</p>

<p>I'm working on a char list list and I need to check that 1-9 are used once in every list, but also once in every position in the list.</p>

<p>My code looks like this:</p>

<pre><code>infix member
fun x member []         = false
  | x member (y::ys)    = x = y orelse x member ys;

fun rscheck xs =
                let
                  val ys = [#""1"",#""2"",#""3"",#""4"",#""5"",#""6"",#""7"",#""8"",#""9""]
                in
                  ys member xs
                end;
</code></pre>

<p>but this only checks if 1-9 are members of the lists, not if they're on the same position in different lists.</p>

<p>I had the idea to use this function:</p>

<pre><code>fun poslist xs n = map (fn x =&gt; List.nth (x , n)) xs;
</code></pre>

<p>(the function poslist is supposed to return whatever is in position n of the list xs, so I can isolate the individual lists in the char list list), but since poslist returns a char list rscheck can't work with it as it needs a char list list.</p>

<p>1) Can I improve poslist?</p>

<p>2) How do I fix rscheck?</p>

<p><strong>Edit</strong></p>

<pre><code>infix member
fun x member []         = false
  | x member (y::ys)    = x = y orelse x member ys;

fun samelist (x::xs) ys = x member ys andalso samelist xs ys
  | samelist [] _       = true;

fun takelist xs n = map (fn x =&gt; List.nth (x , n)) xs;

fun reverse xs     = List.tabulate (9 , fn x =&gt; takelist xs x);

fun rscheck xs     =
                    let
                      val s = [#""1"",#""2"",#""3"",#""4"",#""5"",#""6"",#""7"",#""8"",#""9""]
                    in
                      List.all (fn x =&gt; samelist s x) xs
                    end andalso rscheck (reverse xs);
</code></pre>
","149392","","<p>Your rscheck method just checks whether one of the rows is equal to <code>[#""1"",#""2"",#""3"",#""4"",#""5"",#""6"",#""7"",#""8"",#""9""]</code>. What it <em>should</em> do is check that all the rows contain the numbers in any order. Once you fix that you can solve the rest of the problem as follows:</p>

<p>The easiest way to check whether a matrix is a valid sudoku solution is to use your <code>rscheck</code> function on it, then transpose it (i.e. switch its rows and columns) and then use your <code>rscheck</code> on the transposed matrix. If it returns true both times, it's a valid sudoku solution.</p>

<p>To transpose the matrix you can either translate <a href=""http://stackoverflow.com/questions/3989776/transpose-of-a-list-of-lists/3989823#3989823"">this OCaml code</a> to SML, or simply use your poslist function for all indices from 0 to 8.</p>
"
"<p>how can i do this integer value is converted to integerlist with three pairs from the and of the integer
input :  24889375
output : [375,889,24] </p>
","149392","","<p>The same way you <a href=""http://stackoverflow.com/questions/3989240/int-int-convert/3989293#3989293"">do it with one digit</a>, except that you divide and mod by 1000 instead of 10.</p>
"
"<pre><code>private static int reverse(int n, int r) {
  if (n == 0) return r;
  return reverse(n/10, 10*r+n%10);
}
public static int reverse(int n) {
 return reverse(n, 0);
}
</code></pre>

<p>I've tested this and it works, I just cannot figure out how. I know that the number is divided by ten and then goes into the loop again, but it seem as if until n becomes a decimal &lt; 1, r isn't used at all. Help ?</p>
","149392","","<p><code>r</code> starts at 0 and at each recursive invocation the new value of <code>r</code> is set to <code>10*r+n%10</code>. In a loop the equivalent would be <code>r = 10*r+n%10</code>.</p>

<p>When <code>n</code> is 0 the final value of <code>r</code> (which will hold the final result) is returned.</p>

<p>Here's how you can translate the code into a loop:</p>

<pre><code>if (n == 0) return r;
</code></pre>

<p>If <code>n</code> is 0, no further recursion takes place. Since the function is tail-recursive (i.e. the result of each recursive result is simply returned), this means that the loop ends here. So our loop looks like this:</p>

<pre><code>while(n != 0) {
}
</code></pre>

<p>So what happens if <code>n</code> is not 0:</p>

<pre><code>return reverse(n/10, 10*r+n%10);
</code></pre>

<p>Ok, so the loop continues, with <code>n/10</code> as the new value of <code>n</code> and <code>10*r+n%10</code> as the new value for <code>r</code>. So this is the loop we get:</p>

<pre><code>while(n != 0) {
  n = n / 10;
  r = 10*r+n%10;
}
</code></pre>
"
"<pre><code>filename = filename.gsub(""_"","" "").nil? ? filename.gsub(""_"","" "") : filename
</code></pre>
","149392","","<pre><code>filename = filename.gsub(""_"", "" "")
</code></pre>

<p>Or if it's ok to mutate the string:</p>

<pre><code>filename.gsub!(""_"", "" "")
</code></pre>

<p>Checking whether <code>gsub</code> returns nil is completely unnecessary - <code>gsub</code> never returns <code>nil</code>. <code>gsub!</code> returns <code>nil</code> if no changes have been made, but if you use <code>gsub!</code>, you usually don't care about the return value anyway.</p>

<p>Also note that the code you gave will always return <code>filename</code> unchanged because you mixed up the <code>then</code>- and the <code>else</code>-part of your <code>?:</code>.</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br>
  <a href=""http://stackoverflow.com/questions/684648/a-clear-laymans-explanation-of-the-difference-between-and-in-c"">A clear, layman&#39;s explanation of the difference between | and || in c# ?</a><br>
  <a href=""http://stackoverflow.com/questions/96667/whats-the-difference-between-and-in-java"">What&#39;s the difference between | and || in Java?</a>  </p>
</blockquote>



<p>what is the difference between the operator | and the operator || ??
and also what is the difference between &amp; and &amp;&amp;  ??</p>

<p>thanks...</p>
","149392","","<p><code>|</code> and <code>&amp;</code> are available for booleans and integer types and don't short-circuit.</p>

<p><code>&amp;&amp;</code> and <code>||</code> are only available for booleans and they do short-circuit.</p>
"
"<p>Please explain in detail with examples. Thank you</p>
","149392","","<p>Operator overloading is a feature where the language allows you to define operators for your own types, so that you can write e.g. <code>o1 + o2</code> where <code>o1</code> and <code>o2</code> are instances of your own type, instead of built-in types.</p>

<p>Operator-overloading is not specific to C++, but it's not available in java. Here's an example in Python:</p>

<pre><code>class Vector3D():
  def __init__(self, x, y, z):
    self.x = x
    self.y = y
    self.z = z
  def __repr__(self):
    return ""Vector&lt;%f,%f,%f&gt;"" % (self.x, self.y, self.z)
  def __add__(self, other):
    return Vector3D(self.x + other.x,
                    self.y + other.y,
                    self.z + other.z)

a = Vector3D( 1, 2, 3)
b = Vector3D(-1,-2,-3)
print a+b # Vector&lt;0.000000,0.000000,0.000000&gt;
</code></pre>
"
"<p>This is <a href=""http://stackoverflow.com/questions/3974025/explicit-type-signatures-for-polymorphic-types"">a follow up to a previous question: I got an answer I didn't really understand and accepted</a>. So I'll ask again:</p>

<p>I still don't understand how this makes sense:</p>

<pre><code>type Parse a b = [a] -&gt; [(b,[a])]
build :: Parse a b -&gt; ( b -&gt; c ) -&gt; Parse a c
build p f inp = [ (f x, rem) | (x, rem) &lt;- p inp ]
</code></pre>

<p>Now, obviously, <code>p</code> binds to the first argument of type <code>Parse a b</code>. And, again obviously <code>f</code> binds to the second argument <code>(b -&gt; c)</code>. My question remains what does <code>inp</code> bind to?</p>

<p>If <code>Parse a b</code> is a type synonym for <code>[a] -&gt; [(b,[a])]</code> I thought from the last question I could just substitute it:</p>

<pre><code>build :: [a] -&gt; [(b,[a])] -&gt; ( b -&gt; c ) -&gt; [a] -&gt; [(c,[a])]
</code></pre>

<p>However, I don't see that making any sense either with the definition:</p>

<pre><code>build p f inp = [ (f x, rem) | (x, rem) &lt;- p inp ]
</code></pre>

<p>Someone pease help explain type synonyms.</p>
","149392","","<blockquote>
  <p>Now, obviously, p binds to the first argument of type Parse a b. And, again obviously f binds to the second argument (b -> c). My question remains what does inp bind to?</p>
</blockquote>

<p>The argument of type <code>[a]</code></p>

<blockquote>
  <p>If Parse a b is a type synonym for [a] -> [(b,[a])] I thought from the last question I could just substitute it:</p>

<pre><code>build :: [a] -&gt; [(b,[a])] -&gt; ( b -&gt; c ) -&gt; [a] -&gt; [(c,[a])]
</code></pre>
</blockquote>

<p>Almost; you need to parenthesize the substitutions:</p>

<pre><code>build :: ([a] -&gt; [(b,[a])]) -&gt; ( b -&gt; c ) -&gt; ([a] -&gt; [(c,[a])])
</code></pre>

<p>Because <code>-&gt;</code> is right-associative you can remove the parentheses at the end, but not at the beginning, so you get:</p>

<pre><code>build :: ([a] -&gt; [(b,[a])]) -&gt; ( b -&gt; c ) -&gt; [a] -&gt; [(c,[a])]
</code></pre>

<p>This should make it obvious why <code>inp</code> has type <code>[a]</code>.</p>
"
"<pre><code>class Foo
  def initialize
    bar = 10
  end
  fiz = 5
end
</code></pre>

<p>Is there a possibility to get these local values (outside the class) ?</p>
","149392","","<p>No. Once a local variable goes out of scope (for bar that is when the <code>initialize</code> method has run - for <code>fiz</code> when the <code>end</code> of the class definition has been reached), it's gone. No trace left.</p>

<p>While a local variable is still in scope you can see it (well, its name) with <code>local_variables</code> and get and set its value with <code>eval</code> (though that's definitely not recommended for sanity reasons), but once it's out of scope, that's it. No way to get it back.</p>
"
"<p>I am new to java, and going to bite the bullet by asking what is I am sure, a dumb question. I created some methods, and simply wanted to call them in main. I am getting an error for the while loop in the main method. The compiler is saying "" Exception in thread main java.lang.StringIndexOutOfBoundsException: String index out of range:0 at java.lang.String.charAt(String.java:686) at Project3.main(Project3.java:61)</p>

<p>Any help would be greatly appreciated. Thanks. Full Code is below:</p>

<pre><code>import javax.swing.JOptionPane;
import java.util.Scanner;
public class Project3
{
public static void main(String[] args)
{
 int iScore1;  //first variable input by user to calc average
 int iScore2;  //second variable input by user to calc average
 int iScore3;  //third variable input by user to calc average
 double dAverage; //returned average from the three test scores
 char cLetterGrade; //letter grade associated with the average
 double dGPA;  //the GPA associated with the letter grade
 char cIterate = 'Y';  // loop check
 String strAgain;   //string user inputs after being asked to run again

 System.out.print(createWelcomeMessage());


 //pause in program
 pressAnyKey();

 while (cIterate == 'Y')
 {
 //prompt user for test scores
 System.out.print(""\n\nPlease enter the first test score: "");
 Scanner keys = new Scanner(System.in);
 iScore1 = keys.nextInt();

 System.out.print(""\nPlease enter the second test score: "");
 iScore2 = keys.nextInt();

 System.out.print(""\nPlease enter the third test score: "");
 iScore3 = keys.nextInt();

 //calculate average from the three test scores
 dAverage = calcAverage(iScore1, iScore2,iScore3);
 System.out.print(""\nThe average of the three scores is: "" + dAverage);

 //pause in program
 pressAnyKey();

 //get letter grade associated with the average
 cLetterGrade = getLetterGrade(dAverage);
 System.out.print(""\nThe letter grade associated with the average is "" + cLetterGrade);

 //pause in program
 pressAnyKey();

 //get the GPA associated with the letter grade
 dPGA = calcGPA(cLetterGrade);
 System.out.print(""\nThe GPA associated with the GPA is ""+ dGPA);

 //pause in program
 pressAnyKey();

 System.out.print(""\nDo you want to run again?(Y or N):_\b"");
 strAgain = keys.nextLine;
 strAgain = strAgain.toUpperCase();
 cIterate = strAgain.charAt(0);
 }//end while

 //display ending message to user
 System.out.print(createEndingMessage());

 }//end main method
}//end class Project3

public static String createWelcomeMessage()
{
 String strWelcome;
 strWelcome = ""Why hello there!\n"";
 return strWelcome;
}//end createWelcomeMessage()

public static String createEndingMessage()
{
 String strSalutation;
 strSalutation = ""See you later!\n"";
 return strSalutation;
}//end createEndingMessage()

public static void pressAnyKey()
{
 JOptionPane.showMessageDialog(null, ""Press any key to continue: "");
}//end pressAnyKey()

public static int getTestSCore()
{
 int iScore;
 System.out.print(""Enter a test score: "");
 Scanner keys = new Scanner(System.in);
 iScore = keys.nextInt();
 return iScore;
}//end getTestSCore()

public static int calcAverage(int iNum1, int iNum2, int iNum3)
{
 double dAverage;
 dAverage = ((double)iNum1 + (double)iNum2 + (double)iNum3) / (double)3.0;
 return dAverage;
}//end calcAverage(int iNum1, int iNum2, int iNum3)

public static char getLetterGrade(double dGrade)
{
 char cLetter;

 if (dGrade &lt;60)
 {
  cLetter = 'F';
 }
 else if (dGrade &gt;=60 &amp;&amp; dGrade &lt;70)
 {
  cLetter = 'D';
 }
 else if (dGrade &gt;=70 &amp;&amp; dGrade &lt;80)
 {
  cLetter = 'C';
 }
 else if (dGrade &gt;=80 &amp;&amp; dGrade &lt;90)
 {
  cLetter = 'B';
 }
 else if (dGrade &gt;=90)
 {
  cLetter = 'A';
 }

 return cLetter;
}//end getLetterGrade(double dGrade)

public static double calcGPA(char cLetterGrade)
{
 double dGPA;

 if (cLetterGrade == 'A')
 {
  dGPA = 4.0;
 }
 else if (cLetterGrade == 'B')
 {
  dGPA = 3.0;
 }
 else if (cLetterGrade == 'C')
 {
  dGPA = 2.0;
 }
 else if (cLetterGrade == 'D')
 {
  dGPA = 1.0;
 }
 else
 {
  dGPA = 0.0;
 }
 return dGPA;
}//end calcGPA(char cLetterGrade)
</code></pre>
","149392","","<p>You're reading three ints using <code>scanner.nextInt()</code>. Since <code>nextInt</code> does not consume any whitespace or newline after the read token, that means that if the user enters a number and presses enter, there's still a linebreak in the stream.</p>

<p>So when you call <code>nextLine</code> later it just reads that linebreak and returns the empty string.</p>

<p>Since calling <code>charAt</code> on an empty string will cause an out of bounds error, you get the error you get.</p>

<p>To fix this, either use <code>next</code> instead of <code>nextLine</code>, which will read the next word (consuming any whitespace before it), instead of the next line, or call <code>nextLine</code> twice. Once to consume the linebreak and once to read the actual line.</p>

<p>You should still check whether the user enters an empty line though.</p>
"
"<p>my python version is 2.4.3.</p>

<p>Now I am developing a CLI with cmd module from python for a CD player. I have some classes like CDContainer (with method like addCD, removeCD, etc), CD (with method like play, stop, pause). Now, I want to add some options for the commands and also if the options inputs are not correct, the CLI could return proper information about either wrong input type or wrong values. e.g., I want to have ""addcd --track 3 --cdname thriller"". what I am doing now is to get all the arguments via , split it, and assign it to the relevant variables, as follows.</p>

<p>my question is in python, is there some module that is handy for my case to parse and analyse the options or arguments ?</p>

<p>REVISION: OK, I edit it, thanks to gclj5 comments.</p>

<pre><code>import cmd
class CDContainerCLI(cmd.Cmd):

    def do_addcd(self, line):
        args=line.split()
        parser = OptionParser()
        parser.add_option(""-t"", ""--track"", dest=""track_number"", type=""int"",
            help=""track number"")
        parser.add_option(""-n"", ""--cdname"", dest=""cd_name"", type=""string"",
            help=""CD name"")
        (options, positional_args) = parser.parse_args(args)
        cd_obj= CD()
        cd_obj.addCD(options.track_number, options.cd_name)
</code></pre>

<p>If possible, could you write some code samples, just to show how to do it?</p>

<p>Thank you very much!!</p>
","149392","","<blockquote>
  <p>my question is in python, is there some module that is handy for my case to parse and analyse the options or arguments ?</p>
</blockquote>

<p>Yes, the <a href=""http://docs.python.org/library/argparse.html#module-argparse"" rel=""nofollow"">argparse module</a>.</p>

<p>If you're already familiar with the getopt library from C, <a href=""http://docs.python.org/library/getopt.html"" rel=""nofollow"">that's also available as a python module</a> - though less easy to use, if you're not already used to it.</p>
"
"<pre><code>class SomeClass
end

some_local_var = 5

sc = SomeClass.new

def sc.should_work_closure
  puts some_local_var # how can I access ""some_local_var"", # doesn't this work like a closure ?
end

sc.should_work_closure()
</code></pre>

<p>Line 9:in <code>should_work_closure': undefined local variable or method</code>some_local_var' for # (NameError)
    from t.rb:12</p>
","149392","","<p>No, <code>def</code> does not work like a closure.</p>

<p>To make <code>sc</code> available in the <code>def</code> you could make it a constant, make it global (usually a bad idea) or use <code>define_method</code> with a block (which are closures).</p>

<p>However since you're not inside a class and <code>define_method</code> is a method for classes (and modules), you can't just use it. You have to use <code>class_eval</code> on the eigenclass of <code>sc</code> to get inside the class.</p>

<p>Example:</p>

<pre><code>class &lt;&lt;sc; self end.class_eval
  define_method(:should_work_closure)
    puts some_local_var
  end
end
</code></pre>

<p>This will work, but it looks a bit scary. It usually is a bad idea to access local variables from the surrounding scope in method definitions.</p>
"
"<p>This code is from <em><a href=""http://notes.langdale.com.au/Querying_a_Dataset_with_Scala_s_Pattern_Matching.html"" rel=""nofollow"">Querying a Dataset with Scala's Pattern Matching</a></em>:</p>

<pre><code>object &amp; { def unapply[A](a: A) = Some((a, a)) }

""Julie"" match {
  case Brothers(_) &amp; Sisters(_) =&gt; ""Julie has both brother(s) and sister(s)""
  case Siblings(_) =&gt; ""Julie's siblings are all the same sex""
  case _ =&gt; ""Julie has no siblings""
}

// =&gt; ""Julie has both brother(s) and sister(s)""
</code></pre>

<p>How does <code>&amp;</code> actually work? I don't see a Boolean test anywhere for the conjunction. How does this Scala magic work?</p>
","149392","","<p>Here's how <code>unapply</code> works in general:</p>

<p>When you do</p>

<pre><code>obj match {case Pattern(foo, bar) =&gt; ... }
</code></pre>

<p><code>Pattern.unapply(obj)</code> is called. This can either return <code>None</code> in which case the pattern match is a failure, or <code>Some(x,y)</code> in which case <code>foo</code> and <code>bar</code> are bound to <code>x</code> and <code>y</code>.</p>

<p>If instead of <code>Pattern(foo, bar)</code> you did <code>Pattern(OtherPattern, YetAnotherPatter)</code> then <code>x</code> would be matched against the pattern <code>OtherPattern</code> and <code>y</code> would be matched against <code>YetAnotherPattern</code>. If all of those pattern matches are successful, the body of the match executes, otherwise the next pattern is tried.</p>

<p>when the name of a pattern is not alphanumeric, but a symbol (like <code>&amp;</code>), it is used infix, i.e. you write <code>foo &amp; bar</code> instead of <code>&amp;(foo, bar)</code>.</p>

<hr>

<p>So here <code>&amp;</code> is a pattern that always returns <code>Some(a,a)</code> no matter what <code>a</code> is. So <code>&amp;</code> always matches and binds the matched object to its two operands. In code that means that</p>

<pre><code>obj match {case x &amp; y =&gt; ...}
</code></pre>

<p>will always match and both <code>x</code> and <code>y</code> will have the same value as <code>obj</code>.</p>

<p>In the example above this is used to apply two different patterns to the same object.</p>

<p>I.e. when you do</p>

<pre><code>obj match { case SomePattern &amp; SomeOtherPattern =&gt; ...}`
</code></pre>

<p>first the pattern <code>&amp;</code> is applied. As I said, it always matches and binds <code>obj</code> to its LHS and its RHS. So then <code>SomePattern</code> is applied to <code>&amp;</code>'s LHS (which is the same as <code>obj</code>) and <code>SomeOtherPattern</code> is applied to <code>&amp;</code>'s RHS (which is also the same as <code>obj</code>).</p>

<p>So in effect, you just applied two patterns to the same object.</p>
"
"<p>I have a string:</p>

<pre><code>TFS[MAD,GRO,BCN],ALC[GRO,PMI,ZAZ,MAD,BCN],BCN[ALC,...]...
</code></pre>

<p>I want to convert it into a list:</p>

<pre><code>list = (
[0] =&gt; ""TFS""
    [0] =&gt; ""MAD""
    [1] =&gt; ""GRO""
    [2] =&gt; ""BCN""
[1] =&gt; ""ALC""
    [0] =&gt; ""GRO""
    [1] =&gt; ""PMI""
    [2] =&gt; ""ZAZ""
    [3] =&gt; ""MAD""
    [4] =&gt; ""BCN""
[2] =&gt; ""BCN""
    [1] =&gt; ""ALC""
    [2] =&gt; ...
[3] =&gt; ...
)
</code></pre>

<p>How do I do this in Ruby?</p>

<p>I tried:</p>

<pre><code>(([A-Z]{3})\[([A-Z]{3},+))
</code></pre>

<p>But it returns only the first element in [] and doesn't make a comma optional (at the end of ""]"").</p>
","149392","","<p>You need to tell the regex that the <code>,</code> is not required after each element, but instead in front of each argument except the first. This leads to the following regex:</p>

<pre><code>str=""TFS[MAD,GRO,BCN],ALC[GRO,PMI,ZAZ,MAD,BCN],BCN[ALC]""
str.scan(/[A-Z]{3}\[[A-Z]{3}(?:,[A-Z]{3})*\]/)
#=&gt; [""TFS[MAD,GRO,BCN]"", ""ALC[GRO,PMI,ZAZ,MAD,BCN]"", ""BCN[ALC]""]
</code></pre>

<p>You can also use <code>scan</code>'s behavior with capturing groups, to split each match into the part before the brackets and the part inside the brackets:</p>

<pre><code>str.scan(/([A-Z]{3})\[([A-Z]{3}(?:,[A-Z]{3})*)\]/)
#=&gt; [[""TFS"", ""MAD,GRO,BCN""], [""ALC"", ""GRO,PMI,ZAZ,MAD,BCN""], [""BCN"", ""ALC""]]
</code></pre>

<p>You can then use <code>map</code> to split each part inside the brackets into multiple tokens:</p>

<pre><code>str.scan(/([A-Z]{3})\[([A-Z]{3}(?:,[A-Z]{3})*)\]/).map do |x,y|
  [x, y.split("","")]
end
#=&gt; [[""TFS"", [""MAD"", ""GRO"", ""BCN""]],
#    [""ALC"", [""GRO"", ""PMI"", ""ZAZ"", ""MAD"", ""BCN""]],
#    [""BCN"", [""ALC""]]]
</code></pre>
"
"<p>what does this sybol means please?
""&lt;&lt;""
for example:
if (1 &lt;&lt; var)</p>

<p>I want the name of the thing to study. Thank you.</p>
","149392","","<p>It shifts the bits in the integer 1 <code>var</code> positions to the left. So in effect it calculates 2 to the power of <code>var</code>.</p>

<p>See <a href=""http://en.wikipedia.org/wiki/Bit_shift#Shifts_in_C.2C_C.2B.2B.2C_C.23_and_Java"" rel=""nofollow"">the article on bit shifts on wikipedia</a>.</p>
"
"<p>I have this struct for people:</p>

<pre><code>(define-struct person  
    (  
    first    ; a string: first name  
    last     ; a string: last name  
    sex      ; a symbol: 'male, 'female  
    eyes     ; a symbol: 'blue, 'brown', 'green  
    hair     ; a symbol: 'blonde, 'brown, 'black, 'red  
    mother   ; a person: empty if not known  
    father   ; a person: empty if not known  
    born     ; a number: year of birth  
    )  
)
</code></pre>

<p>and then I make people:  </p>

<pre><code>(define P-00000 (make-person ""Alexandra"" ""Harper"" 'female 'blue 'red empty empty 1897))  
(define P-10000 (make-person ""Joshua"" ""Sherman"" 'male 'green 'blonde empty empty 1881))  
; ... etc
</code></pre>

<p>How can I now access specific paras in the struct.  Say for example I want to display the last name of P-00000 how can I do that?</p>

<p>Thanks</p>
","149392","","<pre><code>(structname-fieldname struct)
</code></pre>

<p>So for your example:</p>

<pre><code>(person-last P-00000)
</code></pre>
"
"<p>Can we anyhow change the size of the pointer from 2 bytes so it can occupy more than 2 bytes?</p>
","149392","","<p>If your pointer size is 2 byte that means you're running on a 16-bit system.</p>

<p>The only way to increase the pointer size is to use a 32-bit or 64-bit system instead (which would mean any desktop or laptop computer built in the last 15 years or so).</p>

<p>If you're running on some embedded device that uses 16-bit, your only option would be to switch to another device which uses 32-bits (or just live with your pointers being 16-bit).</p>
"
"<p>In C and many other languages, there is a <code>continue</code> keyword that, when used inside of a loop, jumps to the next iteration of the loop. Is there any equivalent of this <code>continue</code> keyword in Ruby?</p>
","149392","","<p>Inside for-loops and iterator methods like <code>each</code> and <code>map</code> the <code>next</code> keyword in ruby will have the effect of jumping to the next iteration of the loop (same as <code>continue</code> in C).</p>

<p>However what it actually does is just to return from the current block. So you can use it with any method that takes a block - even if it has nothing to do with iteration.</p>
"
"<p>Hey everyone. Trying to take a simple test.txt file and seperate the text and integers after its read in for array manipulation. The idea is to be able to use/require the attr_accessor from the seperate Person class.
So I can use :name, :hair_color, :gender</p>

<p>For example lets says we have in our text file which is all seperated by the tab delimiter, for shortness I just used space:</p>

<pre><code>Bob red_hair 38
Joe brown_hair 39
John black_hair 40
</code></pre>

<p>My class would read something like:</p>

<pre><code> class Person
    attr_accessor :name, :hair_color, :gender


   def initialize
    @place_holder = 'test'
   end

   def to_s
    @test_string = 'test a string'
   end
 end
</code></pre>

<p>My main file that I'm having strategy issues with so far:</p>

<pre><code> test_my_array = File.readlines('test.txt').each('\t')  #having trouble with 
</code></pre>

<p>I'm pretty sure its easier to manipulate line by line rather then one file. I'm not sure where to go after that. I know I need to seperate my data some how for :name, :hair_color, :gender. Throw some code up so I can try things out.</p>

<p>Thanks for the help!     </p>
","149392","","<p>If you make your <code>initialize</code> method accept values for <code>name</code>, <code>hair_color</code> and <code>gender</code>, you can do it like this:</p>

<pre><code>my_array = File.readlines('test.txt').map do |line|
  Person.new( *line.split(""\t"") )
end
</code></pre>

<p>If you can't modify your <code>initialize</code> method, you'll need to call the writer methods one by one like this:</p>

<pre><code>my_array = File.readlines('test.txt').map do |line|
  name, hair_color, gender = line.split(""\t"")
  person = Person.new
  person.name = name
  person.hair_color = hair_color
  person.gender = gender
  person
end
</code></pre>

<p>The easiest way to make initialize accept the attributes as argument without having to set all the variables yourself, is to use <code>Struct</code>, which shortens your entire code to:</p>

<pre><code>Person = Struct.new(:name, :hair_color, :gender)
my_array = File.readlines('test.txt').map do |line|
  Person.new( *line.split(""\t"") )
end
#=&gt; [ #&lt;struct Person name=""Bob"", hair_color=""red_hair"", gender=""male\n""&gt;,
#     #&lt;struct Person name=""Joe"", hair_color=""brown_hair"", gender=""male\n""&gt;,
#     #&lt;struct Person name=""John"", hair_color=""black_hair"", gender=""male\n""&gt;,
#     #&lt;struct Person name=""\n"", hair_color=nil, gender=nil&gt;]
</code></pre>
"
"<p><strong>Short version:</strong>  The default <code>inspect</code> method for a class displays the object's address.*  How can I do this in a custom <code>inspect</code> method of my own?</p>

<p>*(To be clear, I want the 8-digit hex number you would normally get from <code>inspect</code>.  I don't care about the actual memory address.  I'm just calling it a memory address because it <em>looks</em> like one.  I know Ruby is memory-safe.)</p>

<p><strong>Long version:</strong>  I have two classes, <code>Thing</code> and <code>ThingList</code>.  <code>ThingList</code> is a subclass of <code>Array</code> specifically designed to hold Things.  Due to the nature of Things and the way they are used in my program, Things have an instance variable <code>@container</code> that points back to the <code>ThingList</code> that holds the <code>Thing</code>.</p>

<p>It is possible for two Things to have exactly the same data. Therefore, when I'm debugging the application, the only way I can reliably differentiate between two Things is to use <code>inspect</code>, which displays their address.  When I <code>inspect</code> a <code>Thing</code>, however, I get pages upon pages of output because <code>inspect</code> will recursively inspect <code>@container</code>, causing every Thing in the list to be inspected as well!</p>

<p>All I need is the first part of that output.  How can I write a custom <code>inspect</code> method on <code>Thing</code> that will just display this?</p>

<pre><code>#&lt;Thing:0xb7727704&gt;
</code></pre>

<p><strong>EDIT:</strong>  I just realized that the default <code>to_s</code> does exactly this.  I didn't notice this earlier because I have a custom <code>to_s</code> that provides human-readable details about the object.</p>

<p>Assume that I cannot use <code>to_s</code>, and that I must write a custom <code>inspect</code>.</p>
","149392","","<p>You can get the address using object_id and multiplying it by 2<sup>*</sup>  and display it in hex using <code>sprintf</code> (aka <code>%</code>):</p>

<pre><code>""#&lt;Thing:0x%08x&gt;"" % (object_id * 2)
</code></pre>

<p>Of course, as long as you only need the number to be unique and don't care that it's the actual address, you can just leave out the <code>* 2</code>.</p>

<p><sup>*</sup> For reasons that you don't need to understand (meaning: I don't understand them), <code>object_id</code> returns half the object's memory address, so you need to multiply by 2 to get the actual address.</p>
"
"<p>I am trying to join multiple arrays of hashes in ruby using a common key. For example: </p>

<pre><code>country_info = [
  {country_id: ""US"", country_desc: ""United States""}, 
  {country_id: ""AU"", country_desc: ""Australia""}
]
country_stats = [
  {country_id:""US"", pageviews: 150},
  {country_id:""AU"", pageviews: 200}
]

i_want = [
  {country_id: ""US"", country_desc: ""United States"", pageviews:150}, 
  {country_id: ""AU"", country_desc: ""Australia"", pageviews:200}
]
</code></pre>

<p>This is something like the pv.nest function of protovis in Javascript. See: <a href=""http://protovis-js.googlecode.com/svn/trunk/jsdoc/symbols/pv.Nest.html"" rel=""nofollow"">http://protovis-js.googlecode.com/svn/trunk/jsdoc/symbols/pv.Nest.html</a></p>

<p>how can I do this in Ruby? </p>
","149392","","<p>If you put all the different hashes into one array, you can use <code>group_by</code> to group together those with the same <code>country_id</code>. You can then use <code>inject</code> with <code>merge</code> to <code>merge</code> those together:</p>

<pre><code>country_info_and_stats = country_info + country_stats
country_info_and_stats.group_by {|x| x[:country_id]}.map do |k,v|
  v.inject(:merge)
end
#=&gt; [{:country_id=&gt;""US"", :country_desc=&gt;""United States"", :pageviews=&gt;150},
#    {:country_id=&gt;""AU"", :country_desc=&gt;""Australia"", :pageviews=&gt;200}]
</code></pre>
"
"<p>Perhaps this just sounds ridiculous but I'm wondering is this possible with Ruby? Basically I have a function...</p>

<pre><code>def add a,b
 c = a + b
 return c
end
</code></pre>

<p>I'd like to be able to pass the ""+"" or another operator e.g ""-"" to the function so that it'd be something like...</p>

<pre><code>def sum a,b,operator
 c = a operator b
 return c
end
</code></pre>

<p>is this possible?</p>
","149392","","<p>Two possibilities:</p>

<p>Take method/operator name as a symbol:</p>

<pre><code>def sum a,b,operator
 a.send(operator, b)
end
sum 42, 23, :+
</code></pre>

<p>Or the more general solution: Take a block:</p>

<pre><code>def sum a,b
  yield a,b
end
sum 42, 23, &amp;:+
</code></pre>
"
"<p>I want to leverage the warning that Scala issues when a matching is missing (""not exhaustive"") - so that I don't forget one (I have dozens). The following simplified example shows my attempt:</p>

<pre><code>sealed case class MESSAGE()
class SUCCESS_MESSAGE extends MESSAGE
class FAILURE_MESSAGE extends MESSAGE

def log(str: String, msgType: MESSAGE) {
    msgType match {
        case t:SUCCESS_MESSAGE =&gt; println(""FAILURE: "" + str)
        case t:FAILURE_MESSAGE =&gt; println(""SUCCESS: "" + str)
    }
}
</code></pre>

<p>The problem is that it says ""match is not exhaustive!"" although all possible combinations are listed. If I'd put the ""case _ =>"" in there, the whole point of the warning is invalidated for me because I could add </p>

<pre><code>class INFO_MESSAGE extends MESSAGE
</code></pre>

<p>and no warning would be issued.</p>

<p>Is there a solution?</p>
","149392","","<p>You missed one case: The message might be an instance of <code>MESSAGE</code>, not one of its subclasses.</p>

<p>If you want to make this case impossible, you need to make <code>MESSAGE</code> abstract. This will make the warning go away.</p>
"
"<p>We've been taught various syntax and told how to write definitions, but we've never written any code an ran it. What is the order that Scheme code runs in?</p>

<p>Thanks!</p>
","149392","","<p>The question is a bit vague, but if you're asking about which evaluation strategy scheme uses:</p>

<p>Scheme uses <a href=""http://mitpress.mit.edu/sicp/full-text/sicp/book/node85.html"" rel=""nofollow"">applicative order evaluation</a>.</p>

<p>Edit: Ok, that wasn't what you were asking. So here is the answer to your question as I understand it now:</p>

<p>Scheme code is executed top-to-bottom: I.e. the first expression in the file is executed first, then the one beloew that, then the one below that and so one until the end of file is reached.</p>

<p>So if you have a file containing:</p>

<pre><code>(display ""hello "")
(display ""world\n"")
</code></pre>

<p>Then <code>(display ""hello "")</code> is executed first and then <code>(display ""world\n"")</code>.</p>
"
"<p>Is the keyword <code>unless</code> the same as <code>if</code>?</p>

<p>When do you use <code>?</code>?</p>

<p>I've seen:</p>

<pre><code>if someobject?
</code></pre>

<p>I know it checks against nil correct?</p>
","149392","","<blockquote>
  <p>Is the keyword 'unless' the same as 'if' ?</p>
</blockquote>

<p>No, it's the opposite.</p>

<p><code>unless foo</code> is the same as <code>if !foo</code></p>

<blockquote>
<pre><code>if someobject?
</code></pre>
  
  <p>I know it checks against nil correct?</p>
</blockquote>

<p>No it calls a method named <code>someobject?</code>. I.e. the <code>?</code> is just part of the method name.</p>

<p><code>?</code> can be used in methodnames, but only as the last character. Conventionally it is used to name methods which return a boolean value (i.e. either true or false).</p>

<p><code>?</code> can also be used as part of the conditional operator <code>condition ? then_part : else_part</code>, but that's not how it is used in your example.</p>
"
"<p>Is there a way to implode an array in Ruby to combine all elements into one string?</p>

<p>Example Array:</p>

<pre><code>@arr = ['&lt;p&gt;Hello World&lt;/p&gt;', '&lt;p&gt;This is a test&lt;/p&gt;']
</code></pre>

<p>Example Output:</p>

<pre><code>&lt;p&gt;Hello World&lt;/p&gt; &lt;p&gt;This is a test&lt;/p&gt;
</code></pre>

<p>Thanks in advance!</p>
","149392","","<p>Use the <code>Array#join</code> method (the argument to <code>join</code> is what to insert between the strings - in this case a space):</p>

<pre><code>@arr.join("" "")
</code></pre>
"
"<p>Godd Morning,</p>

<p>I am trying to perform a check sum on the following function</p>

<pre><code>Data = [&lt;&lt;""9""&gt;&gt;,""81"",
      &lt;&lt;1&gt;&gt;,
      &lt;&lt;""52=""&gt;&gt;,
      [[50,48,49,48,49,48,50,54,45,49,53,"":"",52,53,"":"",52,52]],
      &lt;&lt;1&gt;&gt;,
      &lt;&lt;1&gt;&gt;,
      [&lt;&lt;""9""&gt;&gt;,&lt;&lt;""0""&gt;&gt;,&lt;&lt;1&gt;&gt;],
      [&lt;&lt;""5""&gt;&gt;,&lt;&lt;""4""&gt;&gt;,&lt;&lt;1&gt;&gt;]]
</code></pre>

<p>Using:</p>

<pre><code>checksum(Data) -&gt;  checksum(Data, 0).
checksum([H | T], Acc) -&gt;
    if
        is_binary(H) -&gt;
            I = binary_to_list(H); 
        true -&gt;
            I = H 
    end,
    checksum(T,  I + Acc);

checksum([],  Acc) -&gt; Acc.
</code></pre>

<p>It basically needs to break the Data down into discrete numbers</p>

<p>ideally it would look like   [56,45,34,111,233,...]</p>

<p>and then add them all together.</p>

<p>The compiler gives me errors no matter what I try.  I had it solved before it was very simple, but now one change up the food chain affected this.</p>

<p>Please help, and best wishes!</p>
","149392","","<pre><code>if
    is_binary(H) -&gt;
        I = binary_to_list(H); 
    true -&gt;
        I = H
</code></pre>

<p>Here you're setting <code>I</code> to <code>H</code> which might be a list or <code>binary_to_llist(H)</code>, which is definitely a list.</p>

<pre><code>checksum(T,  I + Acc);
</code></pre>

<p>You're adding <code>I</code> and <code>Acc</code>, but <code>I</code> might be a list. You can't add a list to a number.</p>

<p>You should set I to be the checksum of <code>H</code> if <code>H</code> is a list or the checksum of <code>binary_to_list(H)</code> if <code>H</code> is a binary.</p>
"
"<p>So here's my code:</p>

<pre><code>(define *graph* (read(open-input-file ""starbucks4.sxml"")))

(define get-artifacts
  (lambda (l)
   (member (list 'opm:artifact) l)))
</code></pre>

<p>When I type <code>get-artifacts(*graph*)</code> I get an error saying <code>procedure application: expected procedure, given:...(the whole of my file contents)</code></p>

<p>Anyone see what I'm doing wrong? Thanks guys :)</p>

<p>PS: I'm really new to Scheme so it's probably some stupid syntax I'm forgetting!</p>
","149392","","<p>The syntax for calling a function in scheme is <code>(function-name arguments)</code>, not <code>function-name(arguments)</code>.</p>

<p>When you write <code>get-artifacts(*graph*)</code>, racket first evaluates <code>get-artifacts</code> which evaluates to itself.</p>

<p>Then it tries to evaluate <code>(*graph*)</code>, which it takes to be a function call with no arguments. That does not work because <code>*graph*</code> is a list and not a function. So you get the error.</p>
"
"<p>This is my code:</p>

<pre><code>   (define p (read(open-input-file ""starbucks4.sxml"")))

(define get-artifacts
  (lambda (l)
   (member (list 'opm:artifact) l)))



  (get-artifacts p)
</code></pre>

<p>I was told that the member function searches completely throughout a list. In the .sxml document there is a complicated list that has many elements called ""opm:artifact"" however this method returns #f and no list. </p>

<p>Can anyone see what I am doing wrong?</p>

<p>Sample of .sxml file:</p>

<pre><code>      (opm:account ((ref ""detailedAccount"")))
   ""\n            ""
   (opm:label ((value ""Provide other Beverage"")))
   ""\n        "")
  ""\n    "")
 ""\n    ""
 (opm:artifacts
  ()
  ""\n        ""
  (opm:artifact
   ((id ""a1""))
   ""\n            ""
   (opm:account ((ref ""detailedAccount"")))
   ""\n            ""
   (opm:label ((value ""order"")))
   ""\n        "")
  ""\n        ""
  (opm:artifact
   ((id ""a2""))
   ""\n            ""
   (opm:account ((ref ""detailedAccount"")))
   ""\n            ""
   (opm:label ((value ""cash"")))
   ""\n        "")
  ""\n        ""
</code></pre>

<p>I'm trying to look for all the opm:artifacts and the associated data (it's sublists).</p>
","149392","","<p>It does search through the whole list, but it doesn't search sublists.</p>

<p>So if your list is actually a nested list and the <code>(opm:artifact)</code> is only in one of its sublists, <code>member</code> won't find it.</p>

<p>Also note that you're looking for the list <code>(opm:artifact)</code>, not the symbol <code>opm:artifact</code> or any list containing <code>opm:artifact</code>.</p>

<p>Edit: To search sublists you can do something like this:</p>

<pre><code>(define (deep-search x lst)
  (if (empty? lst)
    #f
    (if (equal? x (car lst))
      #t
      (begin
        (if (list? (car lst))
          (let ((r (deep-search x (car lst))))
               (if r
                 r
                 (deep-search x (cdr lst))))
          (deep-search x (cdr lst)))))))
</code></pre>
"
"<p>I am writing a lambda calculus in F#, but I am stuck on implementing the beta-reduction (substituting formal parameters with the actual parameters).</p>

<pre><code>(lambda x.e)f
--&gt; e[f/x]
</code></pre>

<p>example of usage:</p>

<pre><code>(lambda n. n*2+3) 7
--&gt; (n*2+3)[7/n]
--&gt; 7*2+3
</code></pre>

<p>So I'd love to hear some suggestions in regards to how others might go about this. Any ideas would be greatly appreciated.</p>

<p>Thanks!</p>
","149392","","<p>Assuming your representation of an expression looks like</p>

<pre><code>type expression = App of expression * expression
                | Lambda of ident * expression
                (* ... *)
</code></pre>

<p>, you have a function <code>subst (x:ident) (e1:expression) (e2:expression) : expression</code> which replaces all free occurrences of <code>x</code> with <code>e1</code> in <code>e2</code>, and you want normal order evaluation, your code should look something like this:</p>

<pre><code>let rec eval exp =
  match exp with
  (* ... *)
  | App (f, arg) -&gt; match eval f with Lambda (x,e) -&gt; eval (subst x arg e)
</code></pre>

<p>The <code>subst</code> function should work as follows:</p>

<p>For a function application it should call itself recursively on both subexpressions.</p>

<p>For lambdas it should call itself on the lambda's body expression <em>unless</em> the lambda's argument name is equal to the identifier you want to replace (in which case you can just leave the lambda be because the identifier can't appear freely anywhere inside it).</p>

<p>For a variable it should either return the variable unchanged or the replacement-expression depending on whether the variable's name is equal to the identifier.</p>
"
"<p>All,</p>

<pre><code>def a(p):
    return p+1

def b(func, p):
    return func(p)

b(a,10)   # 11
</code></pre>

<p>here I do not want the result ""11"" actually, what I want is a function object with the parameter has been binded, let's name it c.</p>

<p>when I use <code>c()</code> or something alike, it will give me the result 11, possible? </p>

<p>Thanks!</p>
","149392","","<p>The only way to do that, is to wrap it in a lambda:</p>

<pre><code>c = lambda : b(a,10)
c() # 11
</code></pre>

<p>Though if you're going to name it anyway, that doesn't really buy you anything compared to</p>

<pre><code>def c():
  b(a,10)
</code></pre>
"
"<pre><code>class a(object):
 def __init__(self):
         self.b = 1
         self.c = 2
</code></pre>

<p>This gives the error: NameError: name 'self' is not defined</p>

<p>I looked at a previous post, but the error was for a different reason. Any help with this?</p>
","149392","","<p>I'm assuming the single space before <code>def __init__(self):</code> is actually a tab in your file and displayed as four spaces by your editor.</p>

<p>However python interprets a tab as 8 spaces, so the following two lines (which are indented by 8 spaces) are seen by python to be at the same level of indentation as the <code>def</code>.</p>

<p>This is exactly why you shouldn't mix tabs and spaces.</p>
"
"<p>Local Variable</p>

<pre><code>begin
  transaction  #Code inside transaction 
    object = Class.new attributes
    raise unless object.save!
  end 
rescue
  puts object.error.full_messages # Why can't we use local varible inside rescue ?
end
</code></pre>

<p>Instance Variable</p>

<pre><code>begin
  transaction  #Code inside transaction 
    @object = Class.new attributes
    raise unless @object.save!
  end 
rescue
  puts @object.error.full_messages # This is working fine.
end
</code></pre>
","149392","","<p>You most certainly can access local variables defined in a <code>begin</code>, in the corresponding <code>rescue</code> block (assuming of course, the exception has been raised, after the variable was set).</p>

<p>What you can't do is access local variables that are defined inside a block, outside of the block. This has nothing to do with exceptions. See this simple example:</p>

<pre><code>define transaction() yield end
transaction do
  x = 42
end
puts x # This will cause an error because `x` is not defined here.
</code></pre>

<p>What you can do to fix this, is to define the variable before the block (you can just set it to nil) and then set it inside the block.</p>

<pre><code>x = nil
transaction do
  x = 42
end
puts x # Will print 42
</code></pre>

<p>So if you change your code like this, it will work:</p>

<pre><code>begin
  object = nil
  transaction do  #Code inside transaction 
    object = Class.new attributes
    raise unless object.save!
  end 
rescue
  puts object.error.full_messages # Why can't we use local varible inside rescue ?
end
</code></pre>
"
"<p>I need to create a parser for a programming language. So far it is 95% done, I'd say, except for a tiny detail.</p>

<p>The program written in this language has the following structure:</p>

<pre><code>outputs
inputs
expressions
</code></pre>

<p>The requirement is that outputs cannot be mixed with inputs. For example:</p>

<pre><code>x := output of int;
y := output of in;
.....
z := input of int;
t := input of in;
.....
expressions
</code></pre>

<p>I can parse a single output just fine but if I try to use (many1 output), to allow multiple outputs, it doesn't work because it tries to parse the inputs as outputs.</p>

<p>My main parser looks like this:</p>

<pre><code>prog =
    do outs &lt;- many1 output
       ins &lt;- many1 input
       exs &lt;- expressions
       eof
       return (Prog outs ins exs) 
</code></pre>

<p>I know it seems easy but I tried a lot of stuff and just cannot get it to work. Please help.</p>
","149392","","<p>If your rule for output looks something like this:</p>

<pre><code>output = do name &lt;- ident
            string "":= output of""
            type &lt;- ident
            char ';'
            return $ Out name type
</code></pre>

<p>and your input rule looks the same except with ""input of"", then the problem is that both rules start with an <code>ident</code> and since parsec doesn't backtrack automatically, it will just try to apply <code>output</code> first, consuming the <code>ident</code> and then fail when it can't match ""output of"".</p>

<p>To fix this you can just wrap <code>output</code> and <code>input</code> in <code>try</code>, i.e.</p>

<pre><code>outs &lt;- many1 (try output)
ins &lt;- many1 (try input)
</code></pre>
"
"<p>My question is simple. Why wrong pattern matching  does not throw exception in Maybe monad. For clarity :</p>

<pre><code>data Task = HTTPTask {
 getParams   ::  [B.ByteString],
 postParams  ::  [B.ByteString],
 rawPostData ::  B.ByteString 
}  deriving (Show)

tryConstuctHTTPTask :: B.ByteString -&gt; Maybe Task
tryConstuctHTTPTask str = do
 case decode str of
    Left _  -&gt; fail """"
    Right (Object trie) -&gt; do
        Object getP    &lt;- DT.lookup (pack ""getParams"")   trie
        Object postP   &lt;- DT.lookup (pack ""postParams"")  trie
        String rawData &lt;- DT.lookup (pack ""rawPostData"") trie
        return $ HTTPTask [] [] rawData
</code></pre>

<p>Look at <strong>tryConstuctHTTPTask</strong> function. I think that when the pattern does not match (for example ""<em>Object getP</em>"") we must get something like ""<em>Prelude.Exception</em>"", instead i get the ""<em>Nothing</em>"". I like this behavior but i am not understand why.</p>

<p>Thanks.</p>
","149392","","<p>Doing <code>pattern &lt;- expression</code> in a <code>do</code>-block, will call <code>fail</code> when the pattern does not match. So it is equivalent to doing</p>

<pre><code>expression &gt;&gt;= \x -&gt;
case x of
  pattern -&gt; ...
  _ -&gt; fail
</code></pre>

<p>Since <code>fail</code> is defined as <code>Nothing</code> in the <code>Maybe</code> monad, you get <code>Nothing</code> for failed pattern matches using <code>&lt;-</code>.</p>
"
"<pre><code>dreiNplusEins :: Integer -&gt; [Integer]
dreiNplusEins n = if n == 1 then [1] else if n `mod` 2 == 0 then
                        [n] ++ dreiNplusEins (n `div` 2)
                                        else
                        [n] ++ dreiNplusEins (n * 3 + 1)

maxZyklus :: UntereGrenze -&gt; ObereGrenze -&gt; (UntereGrenze,ObereGrenze,MaxZyklaenge)
maxZyklus m n = if m &gt; n then (m,n,0) else if m == n then 
                         (m,n,length(dreiNplusEins m))
                         else 
                         (m,n,0)
type UntereGrenze = Integer
type ObereGrenze  = Integer
type MaxZykLaenge = Integer
</code></pre>

<p>this is my program and this gives error as Not in scope: type constructor or class `MaxZyklaenge'  how can i fix it ?</p>
","149392","","<p>You have a typo in the type name:</p>

<p>In the type signature of <code>maxZyklus</code> you write <code>MaxZyklaenge</code> (lower case l), but in the type definition you write <code>MayZykLaenge</code> (capital L).</p>
"
"<pre><code>AllDistinct(a1 , . . . , an )
if (n = 1)
return True
for i := n down to 2
   begin
   if (LinearSearch(a1 , . . . , ai−1 ; ai ) != 0)
     return False
   end
return True
</code></pre>

<p>Give a big-O bound on the running time of AllDistinct. For full credit, you must show
work or brieﬂy explain your answer.</p>

<p>So the actual answer for this according to the solution for this problem is O(n^2). However, since BigO is the worst case running time, could I have answered O(n^100000) and gotten away with it? Theres no way they can take points off for that since its technically the correct answer right? Although the more useful O(n^2) is obvious in this algorithm, I ask because we might have a more difficult algorithm on the upcoming exam, and incase I cant figure out the 'tight' bound, I could make up some extremely large value and it should still be correct, right?</p>
","149392","","<p>Yes, if a function is in <code>O(n^2)</code>, it is also in <code>O(n^1000)</code>.</p>

<p>Whether you'll get full (or any) credit for answering this way depends on the person grading your exam of course, so I can't tell you that (probably not though). But yes, it is technically correct.</p>

<p>If you do decide to go this way though, you should probably chose something like <code>O(n^n)</code> or <code>O(Ackermann(n))</code>, since for example exponential functions are not in <code>O(n^1000)</code>.</p>

<p>Another problem is that you will probably be asked to proof the bound as well. This will be hard to do if you don't actually know the running time of the function. ""<code>n^n</code> is really large, so the running time will probably be less than that"" is not a proof. Though on the upside if you manage to correctly proof that the function is in <code>O(n^n)</code>, you'll probably get at least partial credit.</p>
"
"<p>Can some one please tell me how can I find the following.</p>

<p>List from /etc/passwd the UID and the user having the highest UID.</p>
","149392","","<p><code>/etc/passwd</code> contains user information separated by colons. The user id is in the third column.</p>

<p>The <code>sort</code> command line tool can be used to sort the lines of a file. It has options, to choose which separator the columns are separated by, which column to sort by and whether to sort numerically or alphabetically.</p>

<p>So you can use <code>sort</code> to sort <code>/etc/passwd</code> by user id and then use <code>tail</code> to get the last line from that, which will contain the user with highest id.</p>
"
"<p>Such as the code:</p>

<pre><code>irb(main):001:0&gt; a = [1, 2, 3, 4, 5]
=&gt; [1, 2, 3, 4, 5]

irb(main):002:0&gt; a.sort {|d,e| (d - 3).abs &lt;=&gt; (e - 3).abs}
=&gt; [3, 2, 4, 1, 5]    # sort by closest distance away from the number 3
</code></pre>

<p>it is not so good to repeat the expression twice, and it is too trivial to create a function just for that expression.  Is there also a way to write something like</p>

<pre><code>irb(main):002:0&gt; a.sort {|e| (e - 3).abs}  # compare by this expression
</code></pre>
","149392","","<p>You're looking for the <code>sort_by</code> method:</p>

<pre><code>a.sort_by {|e| (e - 3).abs}
</code></pre>
"
"<p>I need to code a Caeser cipher in C, so I'm working step by step to understand everything I'm doing :')</p>

<p>I need to take care of special chars
example : if a user enters</p>

<p>""This is a déjà vù !"" 
it will convert this to 
 ""This is a deja vu""</p>

<p><strong>Is there a C function capable of doing this instead of doing it by hand for each special char in  ASCII code ?</strong></p>

<p>This is what I'm trying to avoid :</p>

<pre><code>case -85 :
case -86 :
case -87 :
case -88 :
*p = 'e';
</code></pre>
","149392","","<blockquote>
  <p>Is there a C function capable of doing this instead of doing it by hand for each special char in ASCII code ?</p>
</blockquote>

<p><a href=""http://en.wikipedia.org/wiki/Iconv"" rel=""nofollow"">Iconv</a> will do what you want when you choose <code>ASCII//TRANSLIT</code> as the target encoding.</p>
"
"<p>I'm trying to extract the given elements from a list, but I get an Match exception?</p>

<p>The goal is to make my function behave like:</p>

<pre><code>fun extract [#""a"",#""b"",#""c""] [0,1,0] = [#""a"",#""b"",#""a""];
</code></pre>

<p>And I'm trying to do it like this:</p>

<pre><code>fun extract [] _ = []
  | extract xr (y::yr) = List.nth(xr, y) :: extract xr yr;
</code></pre>

<p>But as said, I get an </p>

<pre><code>! Uncaught exception: 
! Match
</code></pre>

<p>Any ideas?
Maybe theres some more List functions I could use for this?
I've head about the curry function, which should make a function into a higher-order function, but I don't really know how that works?</p>
","149392","","<p>The reason that you get a match error is that there's no case for when the second list is empty, but the first is not (which will always happen unless the first list is empty to begin with because only the second list gets shorter).</p>

<p>Basically you can change the first line to <code>fun extract _ [] = []</code> and it will work.</p>

<p>And yes, you can also solve this using higher-order function. You can use <code>curry</code> to turn <code>List.nth</code> into a function of type <code>'a list -&gt; int -&gt; 'a</code> instead of <code>'a list * int -&gt; 'a</code>. You can then partially apply that function to <code>xr</code>, which turns it into a function of type <code>int -&gt; 'a</code>, which will return the <code>i</code>th list of <code>xr</code> when given a number <code>i</code>. You can then use <code>List.map</code> to apply the function to each number in the list of indices you're given. So the function becomes:</p>

<pre><code>fun extract xr yr = List.map (curry List.nth xr) yr
</code></pre>

<p>But what you came up with works fine, so you should just stick with that.</p>
"
"<p>Can someone tell me exactly what the args argument should look like for <a href=""http://www.sbcl.org/manual/#Running-external-programs"" rel=""nofollow"">sb-ext:run-program</a>?</p>

<p>If I do this:</p>

<pre><code>(sb-ext:run-program ""C:/Program Files/iTunes/iTunes.exe"" 
               ""C:/lispbox-0.7/opus.mid"")
</code></pre>

<p>I get this error:</p>

<pre><code>debugger invoked on a TYPE-ERROR:
  The value ""C:/lispbox-0.7/opus.mid"" is not of type LIST.
</code></pre>

<p>However, if I do this:</p>

<pre><code>(sb-ext:run-program ""C:/Program Files/iTunes/iTunes.exe"" 
               (list ""C:\lispbox-0.7\opus.mid""))
</code></pre>

<p>iTunes opens, but the MIDI file doesn't play, even though this invocation from the Windows command prompt works just fine:</p>

<pre><code>U:\&gt;""C:\Program Files\iTunes\iTunes.exe"" C:\lispbox-0.7\opus.mid
</code></pre>

<p>Note that this (with forward slashes):</p>

<pre><code>CL-USER&gt; (sb-ext:run-program ""C:/Program Files/iTunes/iTunes.exe"" 
               (list ""C:/lispbox-0.7/opus.mid""))
</code></pre>

<p>has the same effect: iTunes opens, but the file is not played.</p>
","149392","","<p>In the list version you're using single backslashes, which get parsed as escape sequences. You need to use double backslashes.</p>
"
"<p>I'm trying to declare a function <code>sort : real list -&gt; int list * real list</code> that sorts the list using mergesort and also returns an int list with the original positions of the individual numbers pre-sort. </p>

<p>Maybe this example will make it easier to understand:</p>

<pre><code>sort [5.4,7.2,1.5,9.6] = ([2,0,1,3], [1.5,5.4,7.2,9.6]
</code></pre>

<p>Now the sorting of the list is pretty easy, but I'm having a hard time figuring out how to get it to remember the original position and then make an int list with it.</p>

<p>Help?</p>
","149392","","<ol>
<li>Create a list of pairs that contains each item of the original list with its index (you can use ListPair.zip with a list of the indices (that you can create with List.tabulate), to do this).</li>
<li>Sort that list.</li>
<li>Use <code>ListPair.unzip</code> to turn the sorted list of pairs into a pair of lists.</li>
</ol>
"
"<p>So if a function or running time is not BigO of f(n), can we say its BigOmega of f(n)?</p>
","149392","","<p>No. For example the function</p>

<pre><code>        / n^n if 2|n
 f(n) = |
        \ 0   otherwise
</code></pre>

<p>is neither in <code>O(n)</code> nor in <code>Ω(n)</code>: for any values <code>N</code> and <code>c</code> there will always be a value <code>n &gt; N</code>, such that <code>f(n) &gt; c*n</code> (so it can't be in <code>O(n)</code>) and another value <code>m &gt; N</code> such that <code>f(m) &lt; c*m</code> (so it can't be in <code>Ω(n)</code>).</p>
"
"<p>I am looking to write a recursive function to merge to integer lists in F#</p>

<p>I started with this, but not sure what to do next.</p>

<pre><code>let rec merge xs ys =
    match xs with
    | [] -&gt; ys
    | 

let li = [1;3;5;7;]
let ll = [2;4;5;8;]
</code></pre>
","149392","","<p>You already have one of the base cases right: If xs is empty, just return ys.</p>

<p>Likewise, if ys empty, return xs.</p>

<p>For the case where both xs and ys are not empty, you need to look at xs's and ys's first elements (let's call them x and y):</p>

<p>If x is less than y, than it needs to be inserted before y in the final list. So you take <code>y</code> and prepend to the result of merging the tail of xs with ys (including y).</p>

<p>Otherwise y needs to come first. So prepend y to the result of merging xs (including x) with the tail of ys.</p>
"
"<p>I have a basic clisp function that I am making that just returns the number of atoms in a list.  The issue I am having is I need it to increment for atoms in a list that is in the list, instead of seeing a list as 1 element in the list.</p>

<p>The real question I guess is <strong>how do you differentiate in your code whether an element is a list or an atom</strong>?  If I can do that, I can send the lists to another function to add up and return the number of atoms they contain.</p>

<p>Clear as mud? :)</p>

<p>I have an example here:</p>

<pre><code>(defun list_length (a)
  (cond ((null a) 0)
        (t (+ 1 (list_length (cdr a))))))
</code></pre>

<p>This works great if there are no embedded lists in the parent list, for example,
<code>'(1 2 3 (4 5) 6)</code> would return 5.  I need it to include 4 and 5 instead of the list (4 5) as one.</p>

<p>Thanks for your help.</p>

<p>Jon</p>

<hr>

<p>EDIT:</p>

<pre><code>(defun list_length (a)
  (cond ((null a) 0)
        ((listp (car a)) (list_length (car a)))
        (t (+ 1 (list_length (cdr a))))))
</code></pre>

<hr>

<pre><code>[18]&gt; (list_length '(1 2 3 (4 5) 6))
1. Trace: (LIST_LENGTH '(1 2 3 (4 5) 6))
2. Trace: (LIST_LENGTH '(2 3 (4 5) 6))
3. Trace: (LIST_LENGTH '(3 (4 5) 6))
4. Trace: (LIST_LENGTH '((4 5) 6))
5. Trace: (LIST_LENGTH '(4 5))
6. Trace: (LIST_LENGTH '(5))
7. Trace: (LIST_LENGTH 'NIL)
7. Trace: LIST_LENGTH ==&gt; 0
6. Trace: LIST_LENGTH ==&gt; 1
5. Trace: LIST_LENGTH ==&gt; 2
4. Trace: LIST_LENGTH ==&gt; 2
3. Trace: LIST_LENGTH ==&gt; 3
2. Trace: LIST_LENGTH ==&gt; 4
1. Trace: LIST_LENGTH ==&gt; 5
5
[19]&gt; (dribble)
</code></pre>
","149392","","<p><code>(listp foo)</code> will return <code>t</code> if <code>foo</code> is a list and <code>nil</code> otherwise.</p>

<p>So you can make your <code>list_length</code> function handle nested lists by adding the following case to your <code>cond</code>:</p>

<pre><code>((listp (car a)) (+ (list_length (car a)) (list_length (cdr a))))
</code></pre>
"
"<p>While attempting to generate a list of subsets that exist within two sets, I am running into an issue with <strong>cons</strong>. A procedure takes in a list named <strong>result</strong> and attempts to construct a new list out of <strong>result</strong> and the <strong>car</strong> of another set. So far, the set is generated with the correct elements, but they are contained within a size <strong>N</strong> nested list, where N is the number of nestings and the number of elements within the subset for which I am searching. </p>

<p>How can I apply <strong>cons</strong> with <strong>result</strong> without creating a nested list? </p>

<p>Example: </p>

<pre><code>;These are two sets that I will be checking
(define s1 '(1 2 3 4))
(define s2 '(1 2 3))
;Result from running these lists through my procedure
(((() . 1) . 2) . 3)
;What I want to have generated
(1 2 3)
</code></pre>

<p>I need to be able to call <code> (car list)</code> and receive <code>1</code> not <code>((() . 1) . 2)</code></p>
","149392","","<p>First of all <code>(((() . 1) . 2) . 3)</code> is not a nested list - it's not a list at all. <code>(((() 1) 2) 3)</code> would be a nested list. <code>(((() . 1) . 2) . 3)</code> is a dotted pair whose first element is also a dotted pair.</p>

<p>So now to explain the behaviour you see: In the lisp family of languages <code>(cons a b)</code> creates a pair containing <code>a</code> as it's <code>car</code> and <code>b</code> as its <code>cdr</code>.</p>

<p>Now a list is either the empty list (<code>()</code>) or a pair whose <code>cdr</code> is also a list (the <code>car</code> might contain anything - if both the <code>cdr</code> and the <code>car</code> are a list, the list is called a nested list).</p>

<p>A pair that is not a list is called a dotted pair. This what you're creating here because you're calling <code>cons</code> with a second argument which is not a list.</p>

<h3>Conclusion:</h3>

<p>You can not use <code>cons</code> to append to the end of the list. If you need to append to the end of a list, you can use <code>concat</code> with a single-element list as the second argument.</p>

<p>Note however that appending to the end of a list, is an <code>O(n)</code> operation while appending at the front (using <code>cons</code>) is an <code>O(1)</code> operation, so if possible you should change your algorithm, so it only needs to append at the front.</p>
"
"<p>A factorial is a number that multiplies itself and minus one and so on and so forth until it reaches zero.</p>

<p>For example !5! = 5 * 4 * 3 * 2 * 1</p>

<p>How would I declare a recursive function for this? <em>Should</em> I declare a recursive function for this? Thanks for the help.</p>

<pre><code>//Factorials!
let factorial n = 
    result = ?
</code></pre>
","149392","","<blockquote>
  <p>How would I declare a recursive function for this?</p>
</blockquote>

<p>First of all, to define a recursive function, you'd use <code>let rec</code> instead of <code>let</code> (because <code>let</code> does not allow you to refer to the function you're defining recursively).</p>

<p>To define the factorial function recursively, the easiest (but not most efficient) way would be to use the standard mathematical definition of the factorial function.</p>

<p>A more efficient approach would be to define a tail-recursive helper function taking a second argument which stores the result calculated thus far.</p>
"
"<p><strong>How do I dynamically define a class in Ruby WITH a name?</strong></p>

<p>I know how to create a class dynamically <strong>without</strong> a name using something like:</p>

<pre><code>dynamic_class = Class.new do
  def method1
  end
end
</code></pre>

<p>But you can't specify a class name. I want to create a class dynamically <strong>with</strong> a name. </p>

<p>Here's an example of what I want to do but of course it doesn't actually work.<br>
(Note that I am not creating an instance of a class but a class definition)</p>

<pre><code>class TestEval
  def method1
    puts ""name: #{self.name}""
  end
end

class_name = ""TestEval""
dummy = eval(""#{class_name}"")

puts ""dummy: #{dummy}""

dynamic_name = ""TestEval2""
class_string = """"""
class #{dynamic_name}
  def method1
  end
end
""""""
dummy2 = eval(class_string)
puts ""dummy2: #{dummy2}"" # doesn't work
</code></pre>

<p>Actual output:  </p>

<pre><code>dummy: TestEval
dummy2: 
</code></pre>

<p>Desired output:</p>

<pre><code>dummy: TestEval
dummy2: TestEval2
</code></pre>

<p>======================================================</p>

<p><strong>Answer: A totally dynamic solution using sepp2k's method</strong></p>

<pre><code>dynamic_name = ""TestEval2""

Object.const_set(dynamic_name, Class.new)
dummy2 = eval(""#{dynamic_name}"")
puts ""dummy2: #{dummy2}""
</code></pre>
","149392","","<p>The name of a class is simply the name of the first constant that refers to it.</p>

<p>I.e. if I do <code>myclass = Class.new</code> and then <code>MyClass = myclass</code>, the name of the class will become <code>MyClass</code>. However I can't do <code>MyClass =</code> if I don't know the name of the class until runtime.</p>

<p>So instead you can use <code>Module#const_set</code>, which dynamically sets the value of a const. Example:</p>

<pre><code>dynamic_name = ""ClassName""
Object.const_set(dynamic_name, Class.new { def method1() 42 end })
ClassName.new.method1 #=&gt; 42
</code></pre>
"
"<p>Hey, I'm getting many errors with valgrind saying ""Conditional jump or move depends on uninitialised value(s)"".</p>

<p>Below is the one of the blocks. All of them are similar:</p>

<pre><code>vasm_sourceline_info_t* line = asmState-&gt;firstLine;
if (line == NULL) return;
while ((line = line-&gt;next) != NULL)
{
   printf (""[%s(%i)] %s\n"", line-&gt;fileName, line-&gt;lineNumber, line-&gt;data);
}
</code></pre>

<p>The error itself is on the while() line. vasm_sourceline_info is a doubly linked list structure. The code ~works~ but this error is worrying. Is there something else in code stomping on memory, or is the above function flawed in some way?</p>
","149392","","<p>There's nothing wrong with the code per se, but if one of the lines' <code>next</code> field has not been initialized (presumably the last line's <code>next</code> field), that would explain the message.</p>
"
"<p>Just to know more methods that can accomplish the same thing.</p>
","149392","","<p>There are only two methods in the standard library which match a regular expression multiple times: <code>gsub</code> (and <code>gsub!</code>, of course) and <code>scan</code>. <code>gsub</code> returns a single string, so, yes, <code>scan</code> is the only one the returns multiple results.</p>
"
"<p>I was watching a metaprogramming video from PragProg, and Dave Thomas showed this snippet of code:</p>

<pre><code>module Math
  class &lt;&lt; self
    def is_even?(num)
      (num &amp; 1) == 0 # What exactly is going on here? Particularly (num &amp; 1)
    end
  end
end

puts Math.is_even? 1 # =&gt; false
puts Math.is_even? 2 # =&gt; true
</code></pre>

<p>Now I understand what is going on here, but I don't know what exactly is happening with the <code>(num &amp; 1)</code> part of the <code>Math.is_even?</code> class method. I know it is a bitwise operation but that is about it. Can someone explain to me what is going with that line of code? Thanks.</p>
","149392","","<p><code>x &amp; y</code> is a number where for all <code>i</code> the <code>i</code>th bit is 1 if and only if the <code>i</code>th bit of <code>x</code> and the <code>i</code>th bit of <code>y</code> are 1 and 0 otherwise.</p>

<p>Since <code>1</code> is the number where only the last bit is 1, <code>x &amp; 1</code> is 1 if the last bit of <code>x</code> is 1 and 0 otherwise.</p>

<p>Since the last bit of a number is 1 if it's odd and 0 if it's even, checking whether <code>x&amp;1</code> is 0 is equivalent to checking whether a number is even.</p>
"
"<p>How can I extract a substring from within a string in Ruby?</p>

<p>Example:</p>

<pre><code>String1 = ""&lt;name&gt; &lt;substring&gt;""
</code></pre>

<p>I want to extract <code>substring</code> from <code>String1</code> (i.e. everything within the last occurrence of <code>&lt;</code> and <code>&gt;</code>).</p>
","149392","","<pre><code>String1.scan( /&lt;([^&gt;]*)&gt;/).last.first
</code></pre>

<p><code>scan</code> creates an array which, for each <code>&lt;item&gt;</code> in <code>String1</code> contains the text between the <code>&lt;</code> and the <code>&gt;</code> in a one-element array (because when used with a regex containing capturing groups, scan creates an array containing the captures for each match). <code>last</code> gives you the last of those array and <code>first</code> then gives you the string in it.</p>
"
"<p>I wish to produce the cartesian product of 2 lists in Haskell, but I cannot work out how to do it. The cartesian product gives all combinations of the list elements:</p>

<pre><code>xs = [1,2,3]
ys = [4,5,6]

cartProd :: [a] -&gt; [b] -&gt; [(a,b)]
cartProd xs ys ==&gt; [(1,4),(1,5),(1,6),(2,4),(2,5),(2,6),(3,4),(3,5),(3,6)]
</code></pre>

<p>This is not an actual homework question and is not related to any such question, but the way in which this problem is solved may help with one I am stuck on.</p>
","149392","","<p>This is very easy with list comprehensions. To get the cartesian product of the lists <code>xs</code> and <code>ys</code>, we just need to take the tuple <code>(x,y)</code> for each element <code>x</code> in <code>xs</code> and each element <code>y</code> in <code>ys</code>.</p>

<p>This gives us the following list comprehension:</p>

<pre><code>cartProd xs ys = [(x,y) | x &lt;- xs, y &lt;- ys]
</code></pre>
"
"<p>While trying to write a solution to the longest common sublist problem in Scheme, I'm having trouble figuring out what is wrong with what I have so far.  I think it's the right idea and before worrying about polynomial time I'm just trying to get one that works at all.  I haven't written in a functional language before and the syntactic differences can make things a little harder at first.</p>

<pre><code>(define (lcs lst1 lst2)
(if (or (null? lst1) (null? lst2)) '()
      (if (not (null? lcs)) lcs
          (if (equal? (car lst1) (car lst2))
              (cons (car lst1))(lcs (cdr lst1) (cdr lst2)))
          (let ((a (lcs (cdr lst1) lst2))
                (b (lcs lst1 (cdr lst2))))
            (if (&gt; (cadr a) (cadr b)) a b)))))
</code></pre>

<p>Is this on the right track?  What's wrong with it?
Any help is appreciated, thank you.</p>
","149392","","<pre><code>(if (not (null? lcs)) lcs
</code></pre>

<p>Here you're checking whether <code>lcs</code> (which is a function) is the empty list. If it isn't (which is always the case because a function is not a list), you return the function itself.</p>

<p>I assume what you meant to do was to call the function <code>lcs</code> and check whether the result was the empty list. To call a function, you need to surround the function in parentheses. Further if the function takes arguments (which <code>lcs</code> does), you need to specify those arguments when calling the function.</p>

<p>It is not clear to me what this <code>if</code> is supposed to accomplish and as far as I can tell, there's no need for it, so just remove it.</p>

<pre><code>(if (&gt; (cadr a) (cadr b)) a b)
</code></pre>

<p><code>cadr</code> returns the second element of a list, so here you're returning the list whose second element is greater. Given that your goal is to find the longest sublist, this makes no sense. You should be returning the list whose length is greater. To do this replace the condition with</p>

<pre><code>(&gt; (length a) (length b))
</code></pre>

<p>In addition to those logic errors, you have a small syntax error:</p>

<pre><code>(cons (car lst1)) (lcs (cdr lst1) (cdr lst2)))
</code></pre>

<p>Here you're calling <code>cons</code> with one argument (which is an error) and then calling <code>(lcs (cdr lst1) (cdr lst2))</code> as the else-part of the list. Since you obviously intended <code>(lcs (cdr lst1) (cdr lst2))</code> to be the second argument to <code>cons</code>, just remove the second closing paren after <code>car lst1</code>.</p>
"
"<pre><code>foo, bar = 1, 0/0 rescue 0, 0 # this won't work
foo.should eql 0
bar.should eql 0
</code></pre>

<p>How do I go about making this pass?</p>
","149392","","<pre><code>foo, bar = ([1, 0/0] rescue [0, 0])
</code></pre>
"
"<p>If the following example, which sets the IFS environment variable to a line feed character...</p>

<pre><code>IFS=$'\n'
</code></pre>

<ul>
<li>What does the <strong>dollar sign</strong> mean
<strong>exactly</strong>?</li>
<li>What does it do in this specific
case?</li>
<li>Where can I read more on this
specific usage (Google doesn't allow special characters in searches and I don't know what to look for otherwise)?</li>
</ul>

<p>I know what the IFS environment variable is, and what the \n character is (line feed), but why not just use the following form: 
<code>IFS=""\n""</code> (which does not work)?</p>

<p>For example, if I want to loop through every line of a file and want to use a for loop, I could do this:</p>

<pre><code>for line in (&lt; /path/to/file); do
    echo ""Line: $line""
done
</code></pre>

<p>However, this won't work right unless IFS is set to a line feed character. To get it to work, I'd have to do this:</p>

<pre><code>OLDIFS=$IFS
IFS=$'\n'
for line in (&lt; /path/to/file); do
    echo ""Line: $line""
done
IFS=$OLDIFS
</code></pre>

<p><strong>Note:</strong> I don't need another way for doing the same thing, I know many other already... I'm only curious about that $'\n' and wondered if anyone could give me an explanation on it.</p>

<p>Thanks!</p>
","149392","","<p>Normally <code>bash</code> doesn't interpret escape sequences in string literals. So if you write <code>\n</code> or <code>""\n""</code> or <code>'\n'</code>, that's not a linebreak - it's the letter <code>n</code> (in the first case) or a backslash followed by the letter <code>n</code> (in the other two cases).</p>

<p><code>$'somestring'</code> is a syntax for string literals with escape sequences. So unlike <code>'\n'</code>, <code>$'\n'</code> actually is a linebreak.</p>
"
"<p>What's the difference between Process.fork and the new Process.spawn methods in Ruby 1.9.2 and which one is better to run another program in a subprocess? As far as I understand Process.fork accepts block of code and Process.spawn takes a system command plus some other parameters. When I should use one instead of the other?</p>
","149392","","<blockquote>
  <p>What's the difference between Process.fork and the new Process.spawn methods in Ruby 1.9.2</p>
</blockquote>

<p><code>Process.fork</code> allows you to run ruby code in another process. <code>Process.spawn</code> allows you to run another program in another process. Basically <code>Process.spawn</code> is like using <code>Process.fork</code> and then calling <code>exec</code> in the forked process, except that it gives you more options.</p>

<blockquote>
  <p>and which one is better to run another program in a subprocess?</p>
</blockquote>

<p>If you need backwards compatibility, use <code>fork</code> + <code>exec</code> as <code>spawn</code> is not available in 1.8. Otherwise use <code>spawn</code> since running another program in a subprocess is exactly what <code>spawn</code> is made for.</p>

<blockquote>
  <p>As far as I understand Process.fork accepts block of code and Process.spawn takes a system command plus some other parameters.</p>
</blockquote>

<p>Exactly.</p>

<blockquote>
  <p>When I should use one instead of the other?</p>
</blockquote>

<p>Use <code>fork</code> if you need to run arbitrary ruby code in a separate process (you can't do that with <code>spawn</code>). Use <code>spawn</code> if you need to invoke an application in a subprocess.</p>
"
"<p>The command </p>

<pre><code>rails generate scaffold Post name:string title:string content:text
</code></pre>

<p>generated the following <code>20101109001203_create_posts.rb</code> file:</p>

<pre><code>class CreatePosts &lt; ActiveRecord::Migration
  def self.up
    create_table :posts do |t|
      t.string :name
      t.string :title
      t.text :content

      t.timestamps
    end
  end

  def self.down
    drop_table :posts
  end
end
</code></pre>

<p>Since I'm new to Ruby (just read <a href=""http://www.humblelittlerubybook.com/"" rel=""nofollow"">one book</a>), I have some questions on this block of code:</p>

<ol>
<li><p>What does <code>self.</code> means in <code>self.up</code> and <code>self.down</code> ? How it differs from simply <code>up</code> and <code>down</code> ?</p></li>
<li><p>What does all these colons (<code>:</code>) means in <code>:posts</code>, <code>:name</code>, etc. ? Is that just a part of the variable name ?</p></li>
<li><p>What does <code>t.string :name</code> means ? Is that a call to <code>string</code> function on object <code>t</code> with parameter <code>:name</code> ?</p></li>
</ol>

<p>Thanks a lot!!</p>
","149392","","<ol>
<li><p>If you define a method using <code>def foo</code>, you're creating an instance method called <code>foo</code>. I.e. if you have an instance of class <code>CreatePosts</code> you can do <code>the_instance.foo</code>. However by doing <code>def self.foo</code> (or alternatively <code>def CreatePosts.foo</code> which does the same thing, because <code>self == CreatePosts</code> in the <code>class ... end</code>-block), you're defining a singleton method which is only available on <code>CreatePosts</code> itself. I.e. it is called as <code>CreatePosts.foo</code> not <code>the_instance.foo</code> (this is somewhat similar to static methods in other languages, but not quite because you can use the same syntax to define singleton methods on objects that aren't classes).</p></li>
<li><p><code>:name</code> has nothing to do with any variable called <code>name</code>. It's a symbol literal, which is kind of like an interned immutable string (though the Symbol class does not define any methods for string-manipulation). You can think of symbols as some sort of mini-strings which are used when you just need to label something and don't need to do string manipulation.</p></li>
<li><p>Yes, exactly.</p></li>
</ol>
"
"<p>So I need to calculate the longest common subsequence of two lists, but it needs to be in polynomial time. The only problem i'm having is that I'm not allowed to use ""!"" at all. This means that I can't change the value of a vetcor or list using set!. I can't find a polynomial algorithm that doesn't require a 2d list or array of some sort. Anyone have any ideas?</p>
","149392","","<p>You don't need to use <code>set!</code> (or any other mutating operation) to use 2d lists or vectors.</p>

<p>You can use the standard dynamic programming algorithm with a 2d vector, but instead of changing the vector to insert the value you calculated for a given cell, you use <code>build-vector</code> to create a new vector which is the same as the old one, except you changed the value at the given position.</p>

<p>This is highly inefficient, but still polynomial, and I don't think it's possible to do this really efficiently without laziness or mutation.</p>

<p>Edit: Using <code>build-vector</code> to do this, would look something like this:</p>

<pre><code>(build-vector n (lambda (i)
  (build-vector n (lambda (j)
    (if (and (= i x) (= j y))
        new-value
        (vector-ref (vector-ref old-vector i) j))))))
</code></pre>

<p>Where <code>old-vector</code> is the <code>n*n</code> vector you want to copy, and you want to replace the value at position <code>x,y</code> with the value <code>new-value</code>. (Note: Using a function like this is almost always a mistake in real life because, as I said, this is quite inefficient).</p>
"
"<p>since symbols do not respond to the &lt;=> method used by sort, does anyone have a technique to sorting an array of symbols?  interested in seeing some other ideas.</p>
","149392","","<p>Well, <code>symbols.sort_by {|sym| sym.to_s}</code> works.</p>

<p>Also in 1.9 symbols <em>do</em> respond to <code>&lt;=&gt;</code>, so there you can just do <code>symbols.sort</code>.</p>
"
"<p>So I have a bit of code*, that when taking three points, is supposed to return a direction. I've written this solution, but every time I try to run it, it causes the GHCi to freeze, so I'm wondering what I'm doing wrong. Here's the code:</p>

<pre><code>--chapter 3 question 9
data Point x y = Point x y deriving (Eq, Show)
data Vector x y = Vector x y deriving (Eq, Show)

sub (Point x y) (Point a b) = (Vector (x-a) (y-b))
dot (Vector x y) (Vector a b) = (x*a)+(y*b)
perp (Vector x y) = (Vector (-y) x)
mag (Vector x y) = sqrt (dot v v) where v = (Vector x y)

data Direction = LeftTurn | RightTurn | Straight | Reverse | Stop | Undefined 
    deriving (Eq, Show)
getDirection (Point a b) (Point c d) (Point e f) 
    | a/=c &amp;&amp; b/=d &amp;&amp; c==e &amp;&amp; d==f = Stop
    | a==c &amp;&amp; b==d || c==e &amp;&amp; d==f || e==a &amp;&amp; f==b = Undefined
    | d &gt; 0 = LeftTurn
    | d &lt; 0 = RightTurn
    | otherwise = Straight
    where d = dot (sub p1 p0) (perp (sub p2 p1))
          where p0 = (Point a b)
                p1 = (Point c d)
                p2 = (Point e f)
</code></pre>

<p>There's no recursion that I can see, so I don't understand why it's behaving this way. So far the Haskell compiler has been very vocal about telling me when I'm doing something dumb, but this compiles just fine.</p>

<p>*This is Question 9 from Chapter 3 of ""Real World Haskell"" in case you're wondering.</p>
","149392","","<p>You're binding the name twice. First in the pattern <code>Point c d</code> than in the <code>where</code> clause.</p>

<p>Thus if you're trying to access the <code>d</code> bound by the pattern, you're actually referring to the <code>d</code> from the <code>where</code> clause recursively.</p>
"
"<p>In Ruby, if I were to loop over a collection, how many times would Ruby evaluate the enumerated collection?</p>

<p>Specifically, I'd like to sort a collection, and loop over the sorted collection. Since I have no need for keeping a copy of the sorted collection around, I figured I'd just write the loop as:</p>

<pre><code>for item in @items.sort{ |a,b| b.created_at &lt;=&gt; a.created_at } do
    #do some stuff
end
</code></pre>

<p>However, after crafting that lovely bit of code I began to wonder how many times I might be actually calling sort.</p>

<p>Would the above line indeed only sort the collection once? Or will Ruby end up sorting it N times for each item in the collection?</p>
","149392","","<p>You're calling <code>sort</code> once.</p>

<p>Except for scoping differences,</p>

<pre><code>for x in xs do
  some_stuff
end
</code></pre>

<p>is the same as</p>

<pre><code>xs.each do |x|
  some_stuff
end
</code></pre>

<p>And of course when you do <code>foo.bar(baz)</code>, <code>foo</code> is evaluated exactly once, no matter what <code>bar</code> does.</p>
"
"<p>I'm a beginner with Haskell and am having trouble figuring out some code.  What do I need to do to get the types right on this IO section of my code?</p>

<p>Thanks in advance.</p>

<pre><code>loadPeople :: FilePath -&gt; IO [Person]
loadPeople file = do
   lines &lt;- getLines file
   map parsePerson lines

getLines :: FilePath -&gt; IO [String]
getLines = liftM lines . readFile

parsePerson :: String -&gt; Person
parsePerson line = ...........
</code></pre>

<p><code>map</code> is underlined in red in Leksah, and the compile error I am receiving is:</p>

<pre><code>src\Main.hs:13:3:
    Couldn't match expected type `IO [Person]'
           against inferred type `[Person]'
    In the expression: map parsePerson lines
    In the expression:
        do { lines &lt;- getLines file;
             map parsePerson lines }
    In the definition of `loadPeople':
        loadPeople file
                     = do { lines &lt;- getLines file;
                            map parsePerson lines }
</code></pre>
","149392","","<p><code>map parsePerson lines</code> has type <code>[Person]</code>, but since you need the result type of <code>loadPeople</code> is <code>IO [Person]</code>, you need to wrap it in <code>IO</code> using <code>return</code>:</p>

<pre><code>return $ map parsePerson lines
</code></pre>
"
"<p>I want to do this:</p>

<p>case cost</p>

<pre><code>when cost between 1 and 3 then cost * 1.1
when cost between 3 and 5 then cost * 1.2
</code></pre>

<p>else
    0</p>
","149392","","<p>Yes, since <code>Range#===</code> is defined to be the same as <code>include?</code>, you can use ranges in <code>case</code> statements:</p>

<pre><code>case cost
when 1..3 then cost * 1.1
when 3..5 then cost * 1.2
</code></pre>
"
"<p>Does using <code>then</code> instead of semicolon or linebreak have only decorative purpose (to make code more <em>readable</em>)?</p>
","149392","","<p>The keyword <code>then</code> can appear in two places in ruby: <code>if</code> statements and <code>case</code> statements. In both cases it can be replaced with a linebreak or a semicolon.</p>

<p>So yes, it's merely decorative.</p>
"
"<p>Here is the test code for Ruby.</p>

<pre><code>class Me  
  puts ""i am me""
end

who = Me.new

myself = who.capitalize
</code></pre>

<p>I would expect that the string ""I am me"" would return, but I am mistaken. Ruby doesn't recognize the .capitalize method for a newly created object from a unique class. It's fine with returning who as the ""i am me"" string, but if I try to call .capitalize it doesn't recognize the method. Why?</p>
","149392","","<blockquote>
  <p>I thought all Ruby objects can call .capitalize method</p>
</blockquote>

<p>No. You can call <code>some_obj.some_method</code> if and only if the class of <code>some_obj</code> or one of its superclasses or included modules defines the method <code>some_method</code>. This means that for a method to be callable on any object, it needs to be defined in the <code>Object</code> class, which is the superclass of all classes, (or one of its included modules).</p>

<p><code>capitalize</code> is not defined on <code>Object</code> it is defined on <code>String</code> and for good reason. <code>42.capitalize</code> or <code>[].capitalize</code> would make no sense.</p>

<pre><code>class Me  
  puts ""i am me""
end
</code></pre>

<p>This code probably doesn't do what you think it does. When the class definition of <code>Me</code> is first read, the string <code>i am me</code> will be printed. This does not define any behaviour of the <code>Me</code> class. Basically it's the same as:</p>

<pre><code>class Me  
end
puts ""i am me""
</code></pre>

<p>I.e. you're creating an empty class.</p>

<p>If your intention was that the string <code>i am me</code> should be printed every time you do <code>Me.new</code>, <code>puts ""i am me""</code> needs to be placed in <code>Me</code>'s <code>initialize</code> method. But even so, you won't be able to call <code>String</code> methods on <code>Me</code> objects.</p>

<p>Also you seem to be under the impression that you can change a string after it has already been printed. This is of course not possible. Once you call <code>puts</code> on a string, it appears on the screen and you can't take it back (well you could using <code>termios</code> or terminal-specific control sequences, but that's not the point).</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/21574/what-is-the-difference-between-ruby-1-8-and-ruby-1-9"">What is the difference between Ruby 1.8 and Ruby 1.9</a>  </p>
</blockquote>



<p>I have found some differences in interpretation of global and local variables.</p>

<p>Can anyone point me to list of major differences?</p>
","149392","","<p>These are probably the most important changes:</p>

<ul>
<li><p>Ruby 1.9 changed from being
interpreted to being
bytecode-compiled (using the YARV
VM).</p></li>
<li><p>The String class has been redesigned
entirely to make it encoding-aware.</p></li>
<li><p>Regular expressions are now
implemented using the Oniguruma
engine, rather than the home-made one
used in ruby 1.8, enabling new
features like negative look-around.</p></li>
<li><p>The <code>enumerator</code> library from stdlib
has been added to core and most
<code>Enumerable</code> methods have been
changed to return an <code>Enumerator</code>
when invoked without a block.</p></li>
<li><p><code>Symbol#to_proc</code> has been added.</p></li>
<li><p>There's a new syntax for lambdas,
<code>-&gt;</code> which allows default arguments
and lambdas taking blocks.</p></li>
</ul>

<p>There's a more complete list of changes <a href=""http://eigenclass.org/hiki/Changes+in+Ruby+1.9"" rel=""nofollow"">here</a>.</p>
"
"<p>I have to write a function dump which takes an expression</p>

<pre><code>type expression = 
| Int of int
| Float of float
| Add of expression * expression
| Sub of expression * expression
| Mult of expression * expression
| Div of expression * expression
;;
</code></pre>

<p>and returns a string representation of it.
For example:</p>

<pre><code>dump (Add (Int 1, Int 2));;
dump (Mult (Int 5, Add(Int 2, Int 3)), Int 1)
</code></pre>

<p>should return respectively</p>

<pre><code>- : string = ""1+2""
- : string = ""5*(2+3)-1""
</code></pre>

<p>I've written something like this:</p>

<pre><code>let rec dump e = match e with
    | Int a -&gt; string_of_int a
    | Float a -&gt; string_of_float a
    | Add (e1,e2) -&gt; ""("" ^ (dump e1) ^ ""+"" ^ (dump e2) ^ "")""
    | Sub (e1,e2) -&gt; ""("" ^ (dump e1) ^ ""-"" ^ (dump e2) ^ "")""
    | Mult (e1,e2) -&gt; (dump e1) ^ ""*"" ^ (dump e2)
    | Div (e1,e2) -&gt; (dump e1) ^ ""/"" ^ (dump e2)
;;
</code></pre>

<p>and returned expressions are correct, but still not optimal.
(for Add (Int 1, Int 2)) it is (1+2) and should be 1+2 ). How can I fix this?
(without nested pattern matching which isn't a good idea)</p>
","149392","","<p>Let's think about when you need parens:</p>

<p>First of all always wrapping parens around certain operations is the wrong approach. Whether a term needs to be parenthesized or not does not only depend on which operator is used in the term, but also which operator the term is an operand to.</p>

<p>E.g. when <code>1+2</code> and <code>3+4</code> are operands to <code>+</code>, it should be <code>1+2+3+4</code> - no parens. However if the operator is <code>*</code>, it needs to be <code>(1+2) * (3+4)</code>.</p>

<p>So for which combinations of operators do we need parens?</p>

<p>The operands to <code>+</code> never need to be parenthesized. If the operands are products or quotients, they have higher precedence anyway, and if the operands are differences, you need no parens because <code>x + (y - z) = x + y -z</code>.</p>

<p>With <code>-</code> it's a bit different. <code>*</code> and <code>/</code> still don't need to be parenthesized because they have higher precedence, but <code>+</code> and <code>-</code> do iff they're in the second operand because <code>x + y - z = (x + y) - z</code>, but <code>x - y + z != x - (y + z)</code>.</p>

<p>With Mult both operands need to be parenthesized if they're Add or Sub, but not if they're Mult or Div.</p>

<p>With Div the first operand needs to be parenthesized if it's Add or Sub and the second always needs to be parenthesized (unless it's an Int or Float, of course).</p>
"
"<p>I have here problem with my tail recursion Fibonacci in Ruby.</p>

<p>When I run my code i have got always this error. Where did i do wrong?</p>

<pre><code>  1) Error:
test_fibo_rek(Test_fibo_rek):
ArgumentError: wrong number of arguments (1 for 3)
    /Test_Fibonacci.rb:14:in `test_fibo_rek'

1 tests, 0 assertions, 0 failures, 1 errors, 0 skips
</code></pre>

<hr>

<pre><code>def fibo(n)
  check_pre(
  nat?(n))
  fibo_rek(n,0,1)
end

def fibo_rek(n,fibo1,fibo2)
  if n == 0
    return fibo1
  else
    fibo_rek(n-1,fibo2,fibo1 + fibo2)
  end
end
</code></pre>

<hr>

<pre><code>class Test_fibo_rek &lt; Test::Unit::TestCase
  def test_fibo_rek

    assert_equal(0,fibo_rek(0))
    assert_equal(13,fibo_rek(7))


    assert_raise(RuntimeError) {fibo_rek('10')}
    assert_raise(RuntimeError) {fibo_rek(-5)}
  end
end
</code></pre>
","149392","","<p>In your assertions you're calling <code>fib_rek(0)</code> etc. even though <code>fib_rek</code> takes 3 arguments, not 1.</p>

<p>You meant to call <code>fib(0)</code> - fib is the one that only takes one argument.</p>
"
"<p>sorry, I am relatively new to bash, but</p>

<pre><code>if [ ! -d /home/$USER/testfoo ]; then mkdir /home/$USER/testfoo; fi
</code></pre>

<p>has the desired effect of making a directory testfoo if it does not exist</p>

<p>but</p>

<pre><code>TESTCMD=""if [ ! -d /home/$USER/testfoo ]; then mkdir /home/$USER/testfoo; fi""
$TESTCMD
</code></pre>

<p>returns </p>

<pre><code>if: command not found
</code></pre>

<p>What am I doing wrong?</p>
","149392","","<p>If you use a variable as a command like this, it interprets the contents of the variable as the name of the command, not as a command followed by its arguments.</p>

<p>So if you you do <code>VAR=""foo bar""</code> and then <code>$VAR</code> it looks for an executable (or built-in) called <code>foo bar</code>, not for an executable called <code>foo</code> that it calls with the argument <code>bar</code>.</p>

<p>To do what you want, you need to define a function:</p>

<pre><code>TESTCMD() {
  if [ ! -d /home/$USER/testfoo ]
  then
    mkdir /home/$USER/testfoo
  fi
}
TESTCMD
</code></pre>
"
"<p>This was a fairly hard bug to find in my code but once i found it i was surprised the compiler didn't catch it or understand why it was valid.</p>

<pre><code>val my_string =
    ""abc"" +
    ""def""
    ""ghi""
</code></pre>

<p>The value of <code>my_string</code> ended up being <code>""abcdef""</code> since i missed the <code>+</code> sign after <code>""def""</code>.  Why didn't the compiler complain and what happened to <code>""ghi""</code>?</p>
","149392","","<p>The code is valid because <code>""ghi""</code> is a valid expression on its own.</p>

<p>If this is inside a function (and not followed by anything else) then <code>""ghi""</code> is the return value of that function. Otherwise it's just ignored (like if you'd written <code>42 + 23</code> on a line on its own).</p>
"
"<p>Why are constants ignored in asymptotic analysis?</p>
","149392","","<p>Constant factors are ignored because running time and memory consumption (the two properties most often measured using the O-notation) are much harder to reason about when considering constant factors.</p>

<p>If we define <code>U( f(n) )</code> to be the set of all function <code>g</code> for which there exists an <code>N</code> such that for all <code>N &gt; n: g(n) &lt;= f(n)</code> (i.e. the same as <code>O</code> without the constant factor), it is much harder to show that an algorithm's running time is in <code>U( f(n) )</code> than <code>O( f(n) )</code>.</p>

<p>For one thing, we'd need an exact unit for measuring running time. Using a CPU instruction as the basic unit would work, but that'd depend on the exact implementation of the algorithm as well as the processor architecture it runs on.</p>

<p>It's similar for memory consumption: different implementations of the same algorithm will differ in their memory consumption (by a constant factor). Further if an implementation uses a lot of pointers, the same implementation will use about twice as much memory on a 64-bit machine than on a 32-bit machine. But saying things like ""this algorithm's memory consumption, when implemented using this C-code, is in <code>O(23 * n)</code> on a 32-bit Intel PC. It's in <code>O(42 * n)</code> on a 64-bit PC"" is just not useful.</p>

<p>Ignoring constants allows us to reason about the properties of an algorithm in an implementation- and platform-independent manner.</p>
"
"<p>Yesterday I discovered, that I can't reload my script <code>rss.rb</code> using <code>load</code>. It only do something unknown for me for several seconds, returns <code>true</code> and doesn't execute script. But It can be loaded (once) with no problems using <code>require_relative</code>. I had to rename script file, to use it as I wanted.<br>
<strong>So why <code>require_relative</code> works, but <code>load</code> doesn't? And how to know, which filenames can't be loaded with <code>load</code>?</strong><br>
I'm using <em>ruby 1.9.2p0 (2010-08-18) [i386-mingw32]</em></p>

<p>UPD: <pre>C:> type 1.rb
p load 'rss.rb'
p load '2.rb'
<br>C:> type rss.rb
p 'rss.rb loaded'
<br>C:> type 2.rb
p '2.rb loaded'
<br>C:> ruby 1.rb
true
""2.rb loaded""
true</pre></p>
","149392","","<p>You're loading the rss.rb from the standard library. <code>load</code> goes through the <code>$LOAD_PATH</code> first and only if the file is not found there, looks for the file in the current directory.</p>

<p>You can make it look only in the current directory by doing <code>load ""./rss.rb""</code>.</p>

<p>The reason it works with <code>require_relative</code> is that <code>require_relative</code> never looks at the <code>$LOAD_PATH</code>.</p>

<p>When using <code>load</code> you should keep in mind that <code>load</code>, unlike <code>require_relative</code> will look for the file in the current directory, not in the directory where the script is. So whether or not it finds the file depends on which directory you're in when invoking the script. (Of course the same was true for loading local files using <code>require</code> in previous ruby versions).</p>
"
"<p>I am switching to GNU emacs for my python and bash scripting. I really enjoy this, but I don't like the X-window portion of emacs. As such, I always use <code>emacs -nw &lt;my_file&gt;</code> to edit my files. However, when I associate my .py and .sh files with emacs, I end up opening emacs in X-window mode when I double-click on them from gnome-nautilus (Ubuntu 10.10).</p>

<p>What I would like to know is: What should I add to my .emacs file in order to use emacs without X-window when I double click on my files? Note: I do want emacs to open a terminal, possibly resize it according to my specifications (already have a .sh script for that), launch itself and open my file.</p>

<p>How should I accomplish that?</p>

<p>Cheers!</p>

<p><strong>EDIT</strong>: Thanks for all the answers! I have to give the check to the most complete one, although of course it builds on the preceding ones.</p>
","149392","","<p>Building on Gareth's answer:</p>

<p>To open a file in an existing emacs session if one is running, but open a new one in a terminal if there isn't one, you can do the following:</p>

<ol>
<li>Add <code>(server-start)</code> to your <code>.emacs</code></li>
<li><p>Create a script <code>run_emacs</code> with the following contents:</p>

<pre><code>#!/bin/bash
gnome-terminal -e ""emacs -nw $@""
</code></pre>

<p>and make it executable.</p></li>
<li><p>Set your application to open python and bash files to be <code>emacsclient -a /path/to/run_emacs %F</code> (if you place <code>run_emacs</code> somewhere in your <code>$PATH</code>, you can leave out the <code>/path/to/</code> bit).</p></li>
</ol>
"
"<p>I am very new to Haskell and to functional programming in general. My question is pretty basic. What is the difference between Pattern Matching and Guards?</p>

<p><strong>Function using pattern matching</strong></p>

<pre><code>check :: [a] -&gt; String
check [] = ""Empty""
check (x:xs) = ""Contains Elements""
</code></pre>

<p><strong>Function using guards</strong></p>

<pre><code>check_ :: [a] -&gt; String
check_ lst
    | length lst &lt; 1 = ""Empty""
    | otherwise = ""Contains elements""
</code></pre>

<p>To me it looks like Pattern Matching and Guards are fundamentally the same. Both evaluate a condition, and if true will execute the expression hooked to it. Am I correct in my understanding?</p>

<p>In this example I can either use pattern matching or guards to arrive at the same result. But something tells me I am missing out on something important here. Can we always replace one with the other?</p>

<p>Could someone give examples where pattern matching is preferred over guards and vice versa? </p>
","149392","","<blockquote>
  <p>To me it looks like Pattern Matching and Guards are fundamentally the same. Both evaluate a condition, and if true will execute the expression hooked to it. Am I correct in my understanding?</p>
</blockquote>

<p>Not quite. First pattern matching can not evaluate arbitrary conditions. It can only check whether a value was created using a given constructor.</p>

<p>Second pattern matching can bind variables. So while the pattern <code>[]</code> might be equivalent to the guard <code>null lst</code> (not using length because that'd not be equivalent - more on that later), the pattern <code>x:xs</code> most certainly is not equivalent to the guard <code>not (null lst)</code> because the pattern binds the variables <code>x</code> and <code>xs</code>, which the guard does not.</p>

<p>A note on using <code>length</code>: Using <code>length</code> to check whether a list is empty is very bad practice, because, to calculate the length it needs to go through the whole list, which will take <code>O(n)</code> time, while just checking whether the list is empty takes <code>O(1)</code> time with <code>null</code> or pattern matching. Further using `length´ just plain does not work on infinite lists.</p>
"
"<p>just curious why I cann't remove declared local variable from 'local_variables' array.</p>

<p>Example:</p>

<pre><code>x=1
myarr = local_variables.clone
p local_variables
=&gt; [:x, :_]
p myarr
=&gt; [:x, :_]
p local_variables.class
=&gt; Array
p myarr.class
=&gt; Array
myarr.delete :x
p myarr
=&gt; [:_]
local_variables.delete :x
p local_variables
=&gt; [:x, :_]
</code></pre>

<p>WTF ?</p>

<p>I did suspected calling local_variables.delete with parameter :x reinserts it back as it is declared anew. But if called with other previously undeclared symbol does not change it:</p>

<pre><code>p local_variables
=&gt; [:x, :_]
local_variables.delete :whatever
p local_variables
=&gt; [:x, :_]
</code></pre>

<p>Can somebody explain ?</p>

<p>Thx.</p>
","149392","","<p>Consider the following method:</p>

<pre><code>def foo
  [42, 23, 13]
end

foo #=&gt; [42, 23, 13]
foo.delete 23
foo #=&gt; [42, 23, 13]
</code></pre>

<p>Does that behaviour surprise you?</p>

<p>Every time you call <code>local_variables</code> (or <code>foo</code>) a new array is created. If you modify that new array that has no effect on what will happen if you call <code>local_variables</code> again.</p>
"
"<p>I want to study type system theory. I don't have any background in type system theory so I'm more or less a beginner (except the articles I've read on the subject and which I find intimidating because of the notation used). What are some good books that could get me started? I was looking at Benjamin C. Pierce's ""Types and Programming Languages"" book. Is that appropriate for a beginner or is it too difficult? If it's too difficult what else could I use to start my study?</p>

<p>Thanks,</p>

<p>--</p>

<p>Cheers,
Alex</p>
","149392","","<p>I think Types and Programming Languages would be a good choice.</p>

<p>When I've first read TaPL, I was a beginner in type theory as well, and I didn't find it too hard to understand.</p>

<p>You will see a lot of the notation used in the articles you've seen, but the notation will be explained before it's used, so it shouldn't be a problem. There isn't really anything intimidating about the notation once you know what it means<sup>1</sup>.</p>

<p><sup>1</sup> Which is quite often the case with these things. Sometimes I think that most of mathematics and formal computer science consists of inventing scary-looking notations for simple things, so the uneducated masses don't realize how easy it all really is.</p>
"
"<p>This is a rather unorthodox way to do the classic <a href=""http://stackoverflow.com/questions/437/what-is-your-solution-to-the-fizzbuzz-problem"">FizzBuzz exercise</a>, but it's just to illustrate the problem (and hey, it might be fast if you want to fizzbuzz to a billion).</p>

<pre><code>fizzer = ( Array.new( 2, '' ) &lt;&lt; 'Fizz' ).cycle
buzzer = ( Array.new( 4, '' ) &lt;&lt; 'Buzz' ).cycle

(1..100).each do |number|
  fizzbuzz = fizzer.next + buzzer.next # this line is giving me problems.
  puts ( fizzbuzz.empty? ? number : fizzbuzz )
end
</code></pre>

<p>How to generalize this code to accept a hash like {3 => 'Fizz', 5 => 'Buzz', 7 => 'Boozz'} ?</p>
","149392","","<p>Create an array of Fizzers, Buzzers, and Boozzers. Then in the loop call <code>next</code> on each fooer in that array and then sum the results with <code>inject</code>:</p>

<pre><code># The sort is needed so it prints fizzbuzz, not buzzfizz
# (hashes being unordered and all)
fooers = the_hash.sort_by {|k,v| k}.map do |k,v|
  ( Array.new(k - 1, '') &lt;&lt; v ).cycle
end

(1..100).each do |number|
  fizzbuzz = fooers.map(&amp;:next).inject(:+)
  puts ( fizzbuzz.empty? ? number : fizzbuzz )
end
</code></pre>
"
"<p>Hello I'm looking for some orientation or option of references.
I am building a compiler but I want it to handle heterogeneous types (like C struct). An array is homogeneous.
I want to know the theory, I know there are already techniques and methods, like modify something in the table of variables and stuff. I found something in Louden's book, but it is not complete =( the explanation it's left in the air.</p>

<p>I've been googling, but I don't know how to google this....</p>

<p>I would appreciate some orientation on how to find existing theories, and code generation, and such.</p>

<p>the language is STATIC TYPED</p>
","149392","","<p>If <code>foo</code> is a record type with the fields <code>a</code>, <code>b</code> and <code>c</code> of types <code>ta</code>, <code>tb</code> and <code>tc</code>, then a value of <code>foo</code> can be represented as a chunk of memory of size <code>sizeof(ta) + sizeof(tb) + sizeof(tc)</code>.</p>

<p>If your runtime environment (garbage collector, reflection facilities) requires additional information to be stored for each value, you'll need to reserve space for that as well.</p>

<p>Now if you have a value <code>x</code> of type <code>foo</code> and access e.g. the field <code>b</code> (by writing <code>x.b</code> or whatever your language's syntax for field access is) this can be compiled to adding <code>sizeof(tb)</code> to the address of <code>x</code> and then reading the value of type <code>tb</code> at that address.</p>

<p>You also might want to add some padding if the record's type have different sizes.</p>

<p>And that's all there is to it basically.</p>
"
"<p>I need help in adding the multiplication of values with variables and assigning these to a variable in Scheme.</p>

<p>for example I have..</p>

<pre><code>(define overall 0)
(define part1 0.15)
(define part2 0.20)
(define part3 0.4)
(define usrInput1 0)
(define usrInput2 0)
</code></pre>

<p>..</p>

<p>I need to do something like</p>

<blockquote>
  <p>overall = usrInput*part1 +
  usrInput*part2 + part3</p>
</blockquote>

<p>in Scheme</p>

<p>I know how to add 2 variables/scalars together, but here I am stuck, could you please advise...</p>

<p>thank you.</p>
","149392","","<p>Remove the <code>(define overall 0)</code>. Then define <code>overall</code> to be the expressions you gave, except in (fully parenthesized) prefix notation instead of infix:</p>

<pre><code>(define overall (+ (* usrInput1 part1) (* usrInput2 part2) part3))
</code></pre>

<p>The syntax to call any function/operator call in scheme is <code>(operator-name operand1 operand2 ... operandn)</code>, not matter whether the operands are scalars, variables or nested expressions.</p>
"
"<p>I am trying to remove members which exists in a string from a list consisting of those members.</p>

<p>Example:</p>

<p>String: <code>""ABC""</code></p>

<p>List: <code>('A 'B 'C 'D)</code></p>

<p>To do: Remove first element of string from the list</p>

<p>To remove the the element from the string:</p>

<p>I am converting it to a list using:</p>

<pre><code>(car (string-&gt;list""ABC"") 
</code></pre>

<p>This gives me character list and first element: <code>#\A</code></p>

<p>But I do not get how I can remove it from the list as both values do not compare: the character and list values.</p>

<p>Tried this weird approach which did not work:</p>

<pre><code>((eq? (make-string 1 (car (string-&gt;list""ABC""))) (car (list 'A 'B 'C 'D))))
</code></pre>

<p>Does not work as string value does not compare with the first list value.</p>

<p>How I can compare &amp; remove the first string alphabet from the original list??</p>
","149392","","<blockquote>
  <p>Error as list cannot have string element values:</p>
</blockquote>

<p>This is not true. A list can have strings as well as characters as its elements, no problem. You're getting the error because you're using <code>car</code> on a string, not a list.</p>

<pre><code>(car (list-&gt;string(list(car (string-&gt;list ""ABC"")))))
</code></pre>

<p>Ok, here you're calling <code>(string-&gt;list ""ABC"")</code> which gives you a list containing the character A, B and C. Now you're calling <code>car</code> on that and get the character A back. Up to here there's no problem.</p>

<p>But then you're calling <code>list</code> on that character getting a list which only contains the character A and then use <code>list-string</code> to turn this into the string <code>""A""</code>. This is still perfectly legal. But then you're calling <code>car</code> on the string <code>""A""</code> and that's the error because you're calling <code>car</code> on a string, but <code>car</code> only accepts a list (well, any pair actually) as its argument.</p>

<p>Since you're trying to compare A against that first element of <code>('A 'B 'C 'D)</code>, i.e. <code>'A</code>, which is a symbol, you probably want to convert the string <code>""A""</code> into the symbol <code>'A</code> (or the symbol <code>'A</code> into the string <code>""A""</code>). To do this, you can use the function <code>string-&gt;symbol</code> instead of <code>car</code>.</p>

<p>Once you have the symbol <code>A</code>, you can easily remove it from the list using the <code>filter</code> function:</p>

<pre><code>(let ((a (string-&gt;symbol (list-&gt;string (list (car (string-&gt;list ""ABC"")))))))
  (filter (lambda (x) (not (eq? x a))) '(A B C)))
</code></pre>
"
"<p>Numeric literals have a polymorphic type:</p>

<pre><code>*Main&gt; :t 3
3 :: (Num t) =&gt; t
</code></pre>

<p>But if I bind a variable to such a literal, the polymorphism is lost:</p>

<pre><code>x = 3
...
*Main&gt; :t x
x :: Integer
</code></pre>

<p>If I define a function, on the other hand, it is of course polymorphic:</p>

<pre><code>f x = 3
...
*Main&gt; :t f
f :: (Num t1) =&gt; t -&gt; t1
</code></pre>

<p>I could provide a type signature to ensure the <code>x</code> remains polymorphic:</p>

<pre><code>x :: Num a =&gt; a
x = 3
...
*Main&gt; :t x
x :: (Num a) =&gt; a
</code></pre>

<p>But why is this necessary? Why isn't the polymorphic type inferred?</p>
","149392","","<p>It's the <a href=""http://www.haskell.org/haskellwiki/Monomorphism_restriction"">monomorphism restriction</a> which says that all values, which are defined without parameters and don't have an explicit type annotation, should have a monomorphic type. This restriction can be disabled in ghc and ghci using <code>-XNoMonomorphismRestriction</code>.</p>

<p>The reason for the restriction is that without this restriction <code>long_calculation 42</code> would be evaluated twice, while most people would probably expect/want it to only be evaluated once:</p>

<pre><code>longCalculation :: Num a =&gt; a -&gt; a
longCalculation = ...

x = longCalculation 42

main = print $ x + x
</code></pre>

<p>Edit: Haskellwiki seems to be down at the moment. Here's the googlecached version of the above link: <a href=""http://webcache.googleusercontent.com/search?q=cache%3aI-DY5veZzBIJ%3awww.haskell.org/haskellwiki/Monomorphism_restriction+haskell+monomorphism+restriction"">Monomorphism restriction</a></p>
"
"<p>I need some help with types in Haskell...</p>

<p>Here's the code I'm working on:</p>

<pre><code>loadManyPeople :: [FilePath] →  IO [Person]
loadManyPeople fs = do
   return $ concat $ map loadPeople fs

loadPeople :: FilePath →  IO [Person]
loadPeople file = do
   lines ←  getLines file
   return $ map parsePerson lines
</code></pre>

<p>loadPeople is fine.  I want loadManyPeople to load all the Persons from each file, then concat them into one list of Persons.</p>

<p>I'm new to Haskell and need help with getting the types to work out.</p>

<p>Thanks for the help.
Alex</p>
","149392","","<p><code>loadPeople</code> gives you an <code>IO [Person]</code>, so <code>map loadPeople</code> gives you a <code>[IO [Person]]</code>, however to use <code>concat</code>, you'd need a <code>[[Person]]</code>.</p>

<p>To fix this, you can use sequence, which is a function of type <code>[IO a] -&gt; IO [a]</code>, so you can do the following:</p>

<pre><code>loadManyPeople fs = do
   manyPeople &lt;- sequence $ map loadPeople fs
   return $ concat manyPeople
</code></pre>

<p>However there's a shortcut for using <code>map</code> and then <code>sequence</code>: <code>mapM</code> which has type <code>(a -&gt; IO b) -&gt; [a] -&gt; IO [b]</code>. With <code>mapM</code> your code looks like this:</p>

<pre><code>loadManyPeople fs = do
   manyPeople &lt;- mapM loadPeople fs
   return $ concat manyPeople
</code></pre>

<p>This can be written more succinctly using Applicative:</p>

<pre><code>import Control.Applicative
loadManyPeople fs = concat &lt;$&gt; mapM loadPeople fs
</code></pre>
"
"<p>Is it possible to generate n-sized permutations of a list using only the basic scheme constructs?</p>
","149392","","<p>With <code>define</code> you can do it like this (without <code>define</code> the answer would be no, because you'll need to use recursion):</p>

<p>First define a function that takes a list of lists and a value and returns a list of lists where the given item has been prepended to each list in the original list of lists.</p>

<p>This can be done by writing a simple recursive function that uses <code>cons</code> to prepend the item to the first list (using <code>car</code> to get the first list) and then uses <code>cons</code> again to <code>prepend</code> the extended list to the result of calling the function on the other lists (i.e. on the <code>cdr</code> of the list of lists). If the list is empty (and thus doesn't have a <code>car</code> and <code>cdr</code>), return the empty list.</p>

<p>You'll also need a function that removes a given item from a list. This can also be done by defining a simple recursive function that takes an item and a list. At each step the `car´ of the given list should be prepended to the result of the recursive call if it is not equal to the item that is to be deleted. If it is equal, the result of the recursive call should be returned directly.</p>

<p>Further you'll need a function to concatenate lists. This can also be implemented recursively without too much trouble.</p>

<p>Then define a function that given a list of lists and an item calls the previous function with the item and each sublist as its argument.</p>

<p>Now define the a function that creates n-sized permutations. This function should take the number <code>n</code> and a list. If <code>n</code> is 0, it should return the empty list. Otherwise it should call itself recursively for each item <code>x</code> in the list with <code>(- n 1)</code> as the new value for <code>n</code> and the result of removing <code>x</code> from the list as the new value for the list. Then the results of the recursive calls should be concatenated.</p>
"
"<p>I often hear the phrase, guards are just syntactic sugar for if-then-else (or case statements).</p>

<p>Can somebody please desugar the following instance:</p>

<pre><code>halfOf :: Int -&gt; Int
halfOf x | even x = div x 2
</code></pre>

<p>(The function is intentionally partial)</p>

<p>Thanks,</p>
","149392","","<p>The semantics of pattern matching are defined in the following section of the standard: <a href=""http://www.haskell.org/onlinereport/exps.html#case-semantics"" rel=""nofollow"">Formal Semantics of Pattern Matching</a>.</p>

<p>The step that is relevant to your question is c. As you can see, pattern matches with guards of the form</p>

<pre><code>case v of { p | g1 -&gt; e1 ; ...
              | gn -&gt; en where { decls }
            _     -&gt; e' }
</code></pre>

<p>Are translated to pattern matches without guards as:</p>

<pre><code>case e' of
{y -&gt;
   case v of {
       p -&gt; let { decls } in
            if g1 then e1 ... else if gn then en else y ;
        _ -&gt; y }}
</code></pre>

<p>So pattern guards are defined in terms of <code>if</code> and ""fallthrough"" is implemented by binding the expression to a variable and then repeating it once in the <code>else</code> clause of the <code>if</code> and then in the pattern that you'd fall through to.</p>

<p>If there is no case to fall through to (as in your example) one will have been inserted by step b, which inserts a default case <code>_ -&gt; error ""No match""</code></p>
"
"<p>Say we have a list of coordinates like:<br>
    (1,2)<br>
    (0,3)<br>
    (4,1)<br>
    (0,3)<br>
    (-2,3)<br>
    (6,5)  </p>

<p>And we wanted to result in the following list, which is defined as the summation of each consecutive coordinates. (Sorry bad definition) like so:<br>
    (1,5)<br>
    (4,4)<br>
    (4,4)<br>
    (-2,6)<br>
    (4,8)  </p>

<p>So there exists a set A = (a,b,c,...,n) where a,b,c,...,n are coordinates in R^2.<br>
There exists a function f such that f(A) = B = (a+b,b+c,c+d,...,n-1+n). </p>

<p>~</p>

<p>How would you write something like that in a functional language like Haskell? A program that applies f to a given A to give B.  </p>
","149392","","<p>You can use <code>zip</code> to zip the list with its tail, you get pairs of pairs like <code>[((1,2), (0,3)), ((0,3),(4,1)), ...]</code>. Then you can use <code>map</code> to replace each pair of pairs with its sum. Or you can use <code>zipWith</code> which is basically <code>zip</code> + <code>map</code> in one function, except the function given to <code>zipWith</code> has type <code>a -&gt; b -&gt; c</code>, not <code>(a,b) -&gt; c</code>:</p>

<pre><code>summedCoords = zipWith (\ (a,b) (c,d) -&gt; (a+c, b+d)) coords (tail coords)
</code></pre>
"
"<p>Hi I'm trying to solve the exercise from <a href=""https://github.com/alexch/learn_ruby"" rel=""nofollow"">https://github.com/alexch/learn_ruby</a></p>

<p>I must write a method which should ""multiplies two numbers"" and ""multiplies an array of numbers"". I'm fresh to ruby and solved it, with only one method like this:</p>

<pre><code>  def multi(*l)
    sum = 1
    l.flatten! if l.is_a? Array
    l.each{|i| sum = sum*i}
    return sum
  end
</code></pre>

<p>I'm sure there are better ways, so how can I improve this method? to a more ruby like syntax :)</p>
","149392","","<p>The <code>if l.is_a? Array</code> is not necessary because the way <code>multi</code> is define, <code>l</code> will always be an array.</p>

<p>The pattern</p>

<pre><code>result = starting_value
xs.each {|x| result = result op x}
result
</code></pre>

<p>can be written more succinctly using <code>xs.inject(starting_value, :op)</code>.</p>

<p>So you can write your code as:</p>

<pre><code>def multi(*l)
    l.flatten.inject(1, :*)
end
</code></pre>

<p>If you're ok, with calling the method as <code>multi(*array)</code> instead of <code>multi(array)</code> to multiply an array, you can leave out the flatten, as well.</p>
"
"<p>I started learning functional programming (OCaml), but I don't understand one important topic about fp: signatures (I'm not sure if it's a proper name). When I type something and compile with ocaml, I get for example:</p>

<pre><code># let inc x = x + 1 ;;
val inc : int -&gt; int = &lt;fun&gt;
</code></pre>

<p>This is trivial, but I don't know, why this:</p>

<pre><code>let something f g a b = f a (g a b)
</code></pre>

<p>gives an output: </p>

<pre><code>val something : (’a -&gt; ’b -&gt; ’c) -&gt; (’a -&gt; ’d -&gt; ’b) -&gt; ’a -&gt; ’d -&gt; ’c = &lt;fun&gt;
</code></pre>

<p>I suppose, that this topic is absolutely basics of fp for many of you, but I ask for help here, because I haven't found <strong>anything</strong> on the Internet about signatures in OCaml (there are some articles about signatures in Haskell, but not explanations).</p>

<p>If this topic somehow will survive, I post here several functions, which signatures made me confused:</p>

<pre><code># let nie f a b = f b a ;; (* flip *)
val nie : (’a -&gt; ’b -&gt; ’c) -&gt; ’b -&gt; ’a -&gt; ’c = &lt;fun&gt;

# let i f g a b = f (g a b) b ;;
val i : (’a -&gt; ’b -&gt; ’c) -&gt; (’d -&gt; ’b -&gt; ’a) -&gt; ’d -&gt; ’b -&gt; ’c = &lt;fun&gt;


# let s x y z = x z (y z) ;;
val s : (’a -&gt; ’b -&gt; ’c) -&gt; (’a -&gt; ’b) -&gt; ’a -&gt; ’c = &lt;fun&gt;

# let callCC f k = f (fun c d -&gt; k c) k ;;
val callCC : ((’a -&gt; ’b -&gt; ’c) -&gt; (’a -&gt; ’c) -&gt; ’d) -&gt; (’a -&gt; ’c) -&gt; ’d = &lt;fun&gt;
</code></pre>

<p>Thank you for help and explanation.</p>
","149392","","<p>There are a couple of concepts you need to understand to make sense of this type signature and I don't know which ones you already do, so I tried my best to explain every important concept:</p>

<h1>Currying</h1>

<p>As you know, if you have the type <code>foo -&gt; bar</code>, this describes a function taking an argument of type <code>foo</code> and returning a result of type <code>bar</code>. Since <code>-&gt;</code> is right associative, the type <code>foo -&gt; bar -&gt; baz</code> is the same as <code>foo -&gt; (bar -&gt; baz)</code> and thus describes a function taking an argument of type <code>foo</code> and returning a value of type <code>bar -&gt; baz</code>, which means the return value is a function taking a value of type <code>bar</code> and returning a value of type <code>baz</code>.</p>

<p>Such a function can be called like <code>my_function my_foo my_bar</code>, which because function application is left-associative, is the same as <code>(my_function my_foo) my_bar</code>, i.e. it applies <code>my_function</code> to the argument <code>my_foo</code> and then applies the function that is returned as a result to the argument <code>my_bar</code>.</p>

<p>Because it can be called like this, a function of type <code>foo -&gt; bar -&gt; baz</code> is often called ""a function taking two arguments"" and I will do so in the rest of this answer.</p>

<h1>Type variables</h1>

<p>If you define a function like <code>let f x = x</code>, it will have the type <code>'a -&gt; 'a</code>. But <code>'a</code> isn't actually a type defined anywhere in the OCaml standard library, so what is it?</p>

<p>Any type that starts with a <code>'</code> is a so-called <em>type variable</em>. A type variable can stand for any possible type. So in the example above <code>f</code> can be called with an <code>int</code> or a <code>string</code> or a <code>list</code> or anything at all - it doesn't matter.</p>

<p>Furthermore if the same type variable appears in a type signature more than once, it will stand for the same type. So in the example above that means, that the return type of <code>f</code> is the same as the argument type. So if <code>f</code> is called with an <code>int</code>, it returns an <code>int</code>. If it is called with a <code>string</code>, it returns a <code>string</code> and so on.</p>

<p>So a function of type <code>'a -&gt; 'b -&gt; 'a</code> could take two arguments of any types (which might not be the same type for the first and second argument) and returns a value of the same type as the first argument, while a function of type <code>'a -&gt; 'a -&gt; 'a</code> would take two arguments of the same type.</p>

<p>One note about type inference: Unless you explicitly give a function a type signature, OCaml will always infer the most general type possible for you. So unless a function uses any operations that only work with a given type (like <code>+</code> for example), the inferred type will contain type variables.</p>

<h1>Now to explain the type...</h1>

<pre><code>val something : ('a -&gt; 'b -&gt; 'c) -&gt; ('a -&gt; 'd -&gt; 'b) -&gt; 'a -&gt; 'd -&gt; 'c = &lt;fun&gt;
</code></pre>

<p>This type signature tells you that <code>something</code> is a function taking four arguments.</p>

<p>The type of the first argument is <code>'a -&gt; 'b -&gt; 'c</code>. I.e. a function taking two arguments of arbitrary and possibly different types and returning a value of an arbitrary type.</p>

<p>The type of the second argument is <code>'a -&gt; 'd -&gt; 'b</code>. This is again a function with two arguments. The important thing to note here is that the first argument of the function must have the same type as the first argument of the first function and the return value of the function must have the same type as the second argument of the first function.</p>

<p>The type of the third argument is <code>'a</code>, which is also the type of the first arguments of both functions.</p>

<p>Lastly, the type of the fourth argument is <code>'d</code>, which is the type of the second argument of the second function.</p>

<p>The return value will be of type <code>'c</code>, i.e. the return type of the first function.</p>
"
"<p>I am being asked to make an haskell function that computes something like</p>

<pre><code>1^2 + 2^2 + 3^2 ...
</code></pre>

<p>While I find it quite easy to implement with list comprehensions</p>

<pre><code>sum [ k^2 | k &lt;- [1..100]]
</code></pre>

<p>or maps</p>

<pre><code>sum (map (\x -&gt; x*x) [1..100])
</code></pre>

<p>I'm having some hard time getting how to achieve it with foldls.</p>

<p>If I am not wrong, one needs no less than 3 parameters in a recursive function to achieve a result with this:</p>

<ol>
<li>The current position (1... up to n)</li>
<li>The current sum</li>
<li>Where to stop</li>
</ol>

<p>Even if I define this function, it will still return a tuple, not a number (like I need it to!).</p>

<p>Could anyone be kind enough to give me some clues on what I may be missing?</p>

<p>Thanks</p>
","149392","","<p>If you look at the definition of <code>sum</code>, it's just <code>sum = foldl (+) 0</code>. So if you replace <code>sum</code> with <code>foldl (+) 0</code> in either of your solutions, you have a solution using <code>foldl</code>.</p>

<p>You can also get rid of the need for list comprehensions or <code>map</code> by using <code>foldl</code> with a function that adds the square of its second argument to its first argument.</p>

<p>I'm not sure where your considerations about recursive functions figure into this. If you're using <code>foldl</code>, you don't need to use recursion (except in so far that <code>foldl</code> is implemented using recursion).</p>

<p>However, you are wrong that a recursive function would need three arguments: A recursive functions summing the squares of each element in a list, would most straight-forwardly implemented by taking a list and adding the head of the list to the result of calling the function on the list's tail. The base case being <code>squareSum [] = 0</code>. This has nothing to with <code>foldl</code>, though.</p>
"
"<p>I need a recursive LISP function that enumerates the number of elements in any list of numbers > 3. I'm not allowed to use lets, loops or whiles and can only use basic CAR, CDR, SETQ, COND, CONS, APPEND, PROGN, LIST...</p>

<p>This is my attempt at the function:</p>

<pre><code>(defun foo (lst) 
  (COND ((null lst) lst) 
    (T (IF (&gt; (CAR lst) 3) 
      (1+ (foo (CDR lst)))
      (foo (CDR lst)) ) ) ) )
</code></pre>

<p>The function call:</p>

<pre><code>(foo '(0 1 2 3 4 5 6))
</code></pre>
","149392","","<p>Your code is pretty close to correct, just a small mistake in the base case:</p>

<p>For the empty list you return the empty list. So if you have the list <code>(6)</code>, you add 6 to <code>foo</code> of the empty list, which is the empty list. That does not work because you can't add a number to a list.</p>

<p>You can easily fix it by making <code>foo</code> return <code>0</code> instead of <code>lst</code> when <code>lst</code> is empty.</p>

<p>As a style note: Mixing <code>cond</code> and <code>if</code> like this, seems a bit redundant. I would write it like this, using only <code>cond</code> instead:</p>

<pre><code>(defun foo (lst) 
  (cond
    ((null lst)
      0)
    ((&gt; (car lst) 3) 
      (1+ (foo (cdr lst))))
    (T
      (foo (cdr lst)))))
</code></pre>
"
"<p>Maybe I'm mistaken in my understanding of Big-O notation (it has been a while since I've taken a course on algorithms) but the following has never made too much sense to me:</p>

<p>This would be considered O(n^2):</p>

<pre><code>for (int i = 0; i &lt; num_1; i++)
{
    for (int j = 0; j &lt; num_2; j++) 
    {
        cout &lt;&lt; i &lt;&lt; "" "" &lt;&lt; j &lt;&lt; endl;
    }
}
</code></pre>

<p>This would be considered O(n):</p>

<pre><code>for (int z = 0; z &lt; num_3; z++) { cout &lt;&lt; z &lt;&lt; endl; }
</code></pre>

<p>My issue is when it comes to practical terms.  Lets assume that <code>num_1 = 10; num_2 = 20; num_3 = 1000;</code>.  In this case the first example, an O(n^2), would run considerably less iterations of it's interior than the O(n) second example.</p>

<p>In more general terms: when <code>num_3 &gt; num_1 * num_2</code> then the O(n^2) snippet does less than the O(n) snippet.  In real world applications, these two snippets may be doing two very separate tasks where there are functional bounds on <code>num_1</code>, <code>num_2</code>, and <code>num_3</code> are considerably different.  The nested <code>num_1</code> and <code>num_2</code> may be looping variable values between 0 and 255 but <code>num_3</code> may frequent values above a million.</p>

<p>Why should/would a coder trust an algorithm or snippet based on its Big-O notation when it doesn't take into consideration the <em>practical</em> or <em>operational</em> variable boundaries?</p>
","149392","","<p>Saying that something is in <code>O(n^2)</code> only makes sense if it is clear what `n´ is supposed to be. Usually it refers to the size of the input (or if the input is a number, it just refers to that number), but in your code, it's not clear what the input is.</p>

<pre><code>for (int i = 0; i &lt; num_1; i++)
{
    for (int j = 0; j &lt; num_2; j++) 
    {
        cout &lt;&lt; i &lt;&lt; "" "" &lt;&lt; j &lt;&lt; endl;
    }
}
</code></pre>

<p>Normally one would say that the above snippet's running time is in <code>O(num_1 * num_2)</code>. If <code>num_1</code> and <code>num_2</code> are both constants, this means it is in <code>O(1)</code>. If both <code>num_1</code> and <code>num_2</code> are linearly proportional to the size of your program's input (<code>n</code>), it is indeed <code>O(n^2)</code>. If both <code>num_1</code> and <code>num_2</code> are proportional to the square of the size of the input, it is in <code>O(n^4)</code>.</p>

<p>Bottom line: it depends entirely on what <code>num_1</code> and <code>num_2</code> are and how and depending on what factors they grow.</p>

<pre><code>for (int z = 0; z &lt; num_3; z++) { cout &lt;&lt; z &lt;&lt; endl; }
</code></pre>

<p>Now this code is in <code>O(num_3)</code>. To say what this is in terms of <code>n</code> would again require us to know how <code>num_3</code> is related to <code>n</code>.</p>

<p>If all of <code>num_1</code>, <code>num_2</code> and <code>num_3</code> are linearly proportional to <code>n</code>, then you can indeed say that the first snippet runs in <code>O(n^2)</code> time and the second in <code>O(n)</code>. However in that case it is not possible for <code>num_3</code> to be greater than <code>num_1 * num_2</code> for sufficiently large <code>n</code>.</p>
"
"<p>Let's say I have three value constructors:</p>

<pre><code>A { a :: Int }
B { b :: Char }
C { c :: Bool }
</code></pre>

<p>I would like to create two types <code>X</code> and <code>Y</code> such that a value of type <code>X</code> can be an <code>A</code>, <code>B</code> or <code>C</code>, something like this:</p>

<pre><code>data X = A {...} | B {...} | C {...}
</code></pre>

<p>and a value of type <code>Y</code> can be only an <code>A</code> or <code>B</code>, something like this:</p>

<pre><code>data Y = A {...} | B {...}
</code></pre>

<p>so that I can code something like this:</p>

<pre><code>foo :: X -&gt; Int -- can pattern match
foo (A _) = 1
foo (B _) = 2
foo (C _) = 3
bar :: Y -&gt; Bool -- also can pattern match with the same constructors
bar (A _) = true
bar (B _) = false
baz = A 1 -- baz is inferred to be a type that can fit in both X and Y
</code></pre>

<p>I know that I can wrap the constructors in the definitions of <code>X</code> and <code>Y</code> like this:</p>

<pre><code>data X = XA A | XB B | XC C
data Y = YA A | YB B
</code></pre>

<p>but this seems untidy (having to type <code>XA A</code> etc. all the time). I could expand the contents of <code>A</code>, <code>B</code>, and <code>C</code> into the definitions of <code>X</code> and <code>Y</code>, but <code>A</code> etc. are quite complicated and I would prefer not to duplicate the definition.</p>

<p>Is this possible with Haskell, including any GHC extensions?</p>

<p><strong>Edit</strong></p>

<p>It seems that GADTs can answer my question as asked (so I marked heatsink's answer as correct), but still aren't flexible enough for what I need. For example, as far as I know, you can't do something like:</p>

<pre><code>func1 :: [XY Y_] -- returns a list of items that can only be A or B
func1 = ...
func2 = func1 ++ [C True] -- adding a C item to the list
</code></pre>

<p><code>func2</code> should be typed as <code>[XY X_]</code>, but that isn't possible in Haskell (unless my experiment was wrong).</p>

<p>After more web searching, what I really want is OCaml's polymorphic variants which (as far as I know) exist only in OCaml (looking at the more ""practical"" as opposed to ""academic"" languages).</p>

<p><strong>Edit 2</strong></p>

<p>See comonad's answer. It seems that it really can be done, but I think I'd better not rewrite this question too many times. :-)</p>
","149392","","<pre><code>baz = A 1 -- baz is inferred to be a type that can fit in both X and Y
</code></pre>

<p>This would require Haskell to support some form of subtyping, which it does not. There are no ghc extensions that enable this either.</p>

<p>The best thing you can do is probably something like this:</p>

<pre><code>data Y = A ... | B ...
data X = XY Y | C ...
</code></pre>

<p>This way you don't have to repeat the constructors <code>A</code> and <code>B</code> and you don't have to write <code>Y (A foo)</code> either - you can just write <code>A foo</code> to get a value of type <code>Y</code>.</p>

<p>However you will have to write <code>X (A foo)</code> to get a value of type <code>X</code> which contains an <code>A</code>. This isn't quite what you want, but the closest you will get, I'm afraid.</p>
"
"<p>I am novice about ruby and getting lot of confusing what is ruby and where it used.
I am requesting a small description about ruby. How to get started with ruby.</p>

<p>Thank You</p>
","149392","","<p>Your title asks a question, which is significantly different from the one in your question's body, so I'll answer both separately.</p>

<p>First the one in the body:</p>

<blockquote>
  <p>What is ruby and where it used</p>
</blockquote>

<p>Ruby is a dynamic, object oriented programming language. It is a general purpose language, but most often used for scripting (as a replacement for perl or shell scripts) and web programming.</p>

<blockquote>
  <p>How to get started with ruby.</p>
</blockquote>

<p><a href=""http://www.ruby-doc.org"" rel=""nofollow"">ruby-doc.org</a> has a list of free tutorials and books for learning ruby.</p>

<p>Now the question in the title:</p>

<blockquote>
  <p>What is Ruby on Rails?</p>
</blockquote>

<p>Ruby on Rails is a web framework for ruby. It is used for programming web applications using the MVC paradigm.</p>
"
"<p>I'm trying to do some currying in ruby:</p>

<pre><code>def add(a,b)
  return a+b
end

plus = lambda {add}
curry_plus = plus.curry
plus_two = curry_plus[2] #Line 24
puts plus_two[3]
</code></pre>

<p>I get the error</p>

<pre><code>func_test.rb:24:in `[]': wrong number of arguments (1 for 0) (ArgumentError)
</code></pre>

<p>from func_test.rb:24:in `'</p>

<p>But if I do</p>

<pre><code>plus = lambda {|a,b| a+ b}
</code></pre>

<p>It seems to work. But by printing plus after the assigning with lambda both ways return the same type of object. What have I misunderstood?</p>
","149392","","<pre><code>lambda {|a,b| a+ b}
</code></pre>

<p>Creates a lambda which takes two arguments and returns the result of calling <code>+</code> on the first, with the second as its arguments.</p>

<pre><code>lambda {add}
</code></pre>

<p>Creates a lambda which takes no arguments and calls <code>add</code> without arguments, which is an error of course.</p>

<p>To do what you want, you should do</p>

<pre><code>plus = lambda {|x,y| add(x,y)}
</code></pre>

<p>or</p>

<pre><code>plus = method(:add).to_proc
</code></pre>
"
"<p>I have a file check and sort script. Now I wanted the user to be to choose how he/she wishes to have the final output sorted. Sadly Ruby seems to ignore the gets command. If I comment out the entire section the script finishes just fine. Please ignore the def readout. I never finished that one....</p>

<p>So my question is: Why does Ruby skip over the gets command.</p>

<pre><code>class Product
  attr_reader :id, :name, :price, :stock
  def initialize(id,name,price,stock)
    @id = id
    @name=name
    @price=price
    @stock=stock
  end
  def readout
    self.each do |product|
      print product.id
      print ""|""
      print product.name
      print ""|""
      print product.price
      print ""|""
      print product.stock
      puts """"
    end
  end
end

products = []
newproducts= []

if ARGV[0] != nil
  if File.exist?(ARGV[0])
    File.open(ARGV[0] , ""r"") do |f|
      f.each_line do |line|
        products &lt;&lt; line
      end
    end
    products.each do |product|
      data = product.split("","")
      newproducts.push(Product.new(data[0].strip, data[1].strip, data[2].strip.to_i, data[3].strip.to_i))
    end

    puts ""What to sort by?""
    question = gets.strip
    if question == ""name""
      newproducts.sort! {|a,b| b.name &lt;=&gt; a.name}
    elsif question == ""price""
      newproducts.sort! {|a,b| b.price &lt;=&gt; a.price}
    elsif question ==""id""
      newproducts.sort! {|a,b| b.id &lt;=&gt; a.id}
    elsif question == ""stock""
      newproducts.sort! {|a,b| b.stock &lt;=&gt; a.stock}
    else
      puts ""Wrong Answer.""
    end

    #End of File Check
  else
    puts ""File #{ARGV[0]} does not exist.""
  end

  if ARGV[1] != nil
    File.open(ARGV[1], ""w"") do |f|
      newproducts.each do |product|
        puts ""Added #{product.name} to the file.""
        data = {product.id, product.name, product.price, product.stock}
        f.puts(data)
      end
    end
    #End of ARGV check.
  else
    puts ""No output file assigned.""
  end

  #End of master ARGV check.
else
  puts ""No command given.""
end
</code></pre>
","149392","","<p>The <code>Kernel#gets</code> method reads from <code>ARGF</code> not <code>$stdin</code>. This means that if command line arguments were given (or more accurately if <code>ARGV</code> is not empty) it reads from the files in ARGV. Only otherwise does it read from stdin.</p>

<p>To always read from stdin, use <code>$stdin.gets</code> instead of <code>gets</code>.</p>
"
"<p>Can someone explain me, why do these functions 
have <strong>different number of arguments and behavior</strong>, but
the <strong>same type signature</strong>, yet they are both correct?</p>

<pre><code>comp1 :: (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
comp1 f g = g.f

comp2 :: (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
comp2 f g x = g (f x)
</code></pre>

<p>also, why does comp2 has</p>

<pre><code>comp2 :: (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</code></pre>

<p>instead of something like</p>

<pre><code>comp2 :: a -&gt; (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</code></pre>

<p>?</p>

<p>Thank you.</p>
","149392","","<pre><code>comp2 f g x = g (f x)
</code></pre>

<p>is syntactic sugar for</p>

<pre><code>comp2 = \f -&gt; \g -&gt; \x -&gt; g (f x)
</code></pre>

<p>Similarly</p>

<pre><code>comp1 f g = g.f
</code></pre>

<p>is sugar for</p>

<pre><code>comp1 = \f -&gt; \g -&gt; g.f
</code></pre>

<p>The definition of <code>.</code> is:</p>

<pre><code>f1 . f2 = \x -&gt; f1 (f2 x) -- Names of arguments have been changed to avoid confusion
</code></pre>

<p>So if we insert the definition into the desugared form of <code>comp1</code>, we get:</p>

<pre><code>comp1 = \f -&gt; \g -&gt; \x -&gt; g (f x)
</code></pre>

<p>This is exactly the same as the desugared form of <code>comp2</code>, so clearly the definitions are equivalent.</p>
"
"<p>Ruby has two ways of referring to the standard input: The <code>STDIN</code> constant , and the <code>$stdin</code> global variable.</p>

<p>Aside from the fact that I can assign a different <code>IO</code> object to <code>$stdin</code> because it's not a constant (e.g. before forking to redirect IO in my children), what's the difference between <code>STDIN</code> and <code>$stdin</code>? When should I use each in my code?</p>

<p>If I reassign <code>$stdin</code>, does it affect <code>STDIN</code>?</p>

<p>And does this also apply to <code>STDOUT</code>/<code>$stdout</code> and <code>STDER</code>/<code>$stderr</code>?</p>
","149392","","<p>If <code>$stdin</code> is reassigned, <code>STDIN</code> is not affected. Likewise <code>$stdin</code> is not affected when <code>STDIN</code> is reassigned (which is perfectly possible (though pointless), but will produce a warning). However if neither variable has been reassigned, they both point to the same IO object, so calling <code>reopen</code>¹ on one will affect the other.</p>

<p>All the built-in ruby methods use <code>$&lt;</code> (a.k.a. <code>ARGF</code>) to read input. If <code>ARGV</code> is empty, <code>ARGF</code> reads from <code>$stdin</code>, so if you reassign <code>$stdin</code>, that will affect all built-in methods. If you reassign <code>STDIN</code> it will have no effect unless some 3rd party method uses <code>STDIN</code>.</p>

<p>In your own code you should use <code>$stdin</code> to be consistent with the built-in methods².</p>

<p>¹ <code>reopen</code> is a method which can redirect an IO object to another stream or file. However you can't use it to redirect an IO to a StringIO, so it does not eliminate all uses cases of reassigning <code>$stdin</code>.</p>

<p>² You may of course also use <code>$&lt;</code>/<code>ARGF</code> to be even more consistent with the built-in methods, but most of the time you <em>don't</em> want the <code>ARGF</code> behavior if you're explicitly using the stdin stream.</p>
"
"<p>I'm having a hard time understanding the difference between <code>rest</code> and <code>next</code> in Clojure. <a href=""http://clojure.org/lazy"">The official site's page on laziness</a> indicates that the preference should probably be to use <code>rest</code>, but it doesn't really explain clearly the difference between the two. Can anybody provide some insight?</p>
","149392","","<p>As the page you linked described, <code>next</code> is stricter than (the new behaviour of) <code>rest</code> because it needs to evaluate the structure of the lazy cons to know whether to return <code>nil</code> or a seq.</p>

<p><code>rest</code> on the other hand always returns a seq, so nothing needs to be evaluated until you actually use the result of <code>rest</code>. In other words, <code>rest</code> is more lazy than <code>next</code>.</p>
"
"<p>In case I have to disassemble a data type as its variable size, can I still use the ""match and with, and if the answer is yes you could help me figure out how (I'm a beginner with this language), or do I or use other methods.</p>

<p>the type defined is this :</p>

<pre><code>type 'state formula = 
  | And      of 'state formula list
  | Or       of 'state formula list
  | Literal  of bool
  | Variable of 'state  
</code></pre>

<p>from the examples I've seen the ""match and with"" is used when the structure of the static type was, in my case as I do?</p>
","149392","","<p>So here's an example which uses <code>match</code> to work with your formula type:</p>

<pre><code>type 'state formula = | And of 'state formula list | Or of 'state formula list | Literal of bool | Variable of 'state

let rec count_vars form = match form with
| And forms 
| Or forms -&gt; List.fold_left (+) 0 (List.map count_vars forms)
| Literal _ -&gt; 0
| Variable _ -&gt; 1

let formula = And [ Variable ""q0""; Or[ Variable ""q1"";Variable ""q2""]; Variable ""q3""]

let vars_in_formula = count_vars formula (* 4 *)
</code></pre>
"
"<p>I'm learning ML, can somebody please explain what does it mean exhaustive patterns?</p>
","149392","","<p>A pattern match is exhaustive if it can not fail. I.e. all cases that could possibly occur are covered by a pattern.</p>

<p>For example the following pattern match is not exhaustive because it doesn't cover the case that the list is empty:</p>

<pre><code>fun sum (x::xs) = x + sum xs
</code></pre>

<p>The following is exhaustive because both cases are covered:</p>

<pre><code>fun sum (x::xs) = x + sum xs
  | sum [] = 0
</code></pre>

<p>Generally a pattern match on an algebraic data type is exhaustive if and only if there is a default case or there is a case for all constructors and the match for each sub-pattern is exhaustive.</p>
"
"<p>What is the best way to check if all the objects in the Ruby hash are defined (not nil)? </p>

<p>The statement should return false if at least one element in the hash is nil.</p>
","149392","","<p>You can use <code>all?</code> to check whether a given predicate is true for all elements in an enumerable. So:</p>

<pre><code>hash.values.all? {|x| !x.nil?}
</code></pre>

<p>Or</p>

<pre><code>hash.all? {|k,v| !v.nil?}
</code></pre>

<p>If you also want to check, all the keys are non-nil as well, you can amend that to:</p>

<pre><code>hash.all? {|k,v| !v.nil? &amp;&amp; !k.nil?}
</code></pre>
"
"<p>I'm a little confused about the distinction between mutable and immutable objects. I tried the following chunk of code to find the id's of objects:</p>

<pre><code>tuple1 = ('Object1', 'Object2')
print id(tuple1)
tuple2 = ('Object1', 'Object2')
print id(tuple2)
list1 = ['Object1', 'Object2']
print id(list1)
list2 = ['Object1', 'Object2']
print id(list2)
string1 = ""Foo bar""
print id(string1)
string2 = ""Foo bar""
print id(string2)
</code></pre>

<p>I got the same id for the strings, and different id's for the lists, but a different id for the tuples. Shouldn't they have the same id? I was wondering if someone could explain how that works?</p>

<p>Thanks</p>
","149392","","<p>You get the same id with the strings because string literals can be <a href=""http://en.wikipedia.org/wiki/String_interning"" rel=""nofollow"">interned</a>. You don't get the same id for the tuples because tuples are not interned.</p>

<p>A data structure that is mutable can not reasonably be interned (read: doing so would cause very confusing behaviour), so if strings were mutable, they could not be interned. However this does not mean that all immutable data structures are interned.</p>
"
"<p>What does this function do?</p>

<pre><code>    sub MyDigit {
       return &lt;&lt;END;
       0030\t0039
       END
    }
</code></pre>
","149392","","<p>It returns the string <code>""0030\t0039\n""</code> (<code>\t</code> being a tab and <code>\n</code> a newline that is being added because the line ends in a newline (obviously)).</p>

<pre><code>&lt;&lt;FOO
sometext
FOO
</code></pre>

<p>Is a so-called heredoc, a way to conveniently write multi-line strings (though here it is used with only one line).</p>
"
"<p>I am trying to create permutations of strings contained in a list in OCaml.
I have worked on the following snippet of code till now but am facing a problem passing the first string of the list to my method.</p>

<p>Logic for code:
Iterate to every element of a list and append each element with element of the list. Continue doing till all the elements have been appended to the list in every possible position.</p>

<p>Code:</p>

<pre><code>(* this function appends each string to each word in the list example: ""A"" with ""ABC"" *)
let appendtocode n word =
    let f x = n ^ x in
    f word    
;;

(* this function extracts every element of the list and appends it with the string.
Example: ""A"" with [""AAA"",""ABC"",""ACD""] etc.. *)
let appendtolist n list =
    let f x =
        if (List.length list) &gt; 0 then list
        else ((appendtocode n (List.hd list)) ^ (appendtolist n (List.tl list)) ) 
    in
    List.map f list
;;
</code></pre>

<p>Error:</p>

<p>I get this error:</p>

<p><strong>Unbound value appendtolist</strong></p>

<p>Occurs at call to : (appendtolist n List.tl list)</p>

<p>My list is only consisting of string.
I am still working on the code. But stuck at this because of this error.</p>

<p>Please help!!! Any input would be great.</p>
","149392","","<p>You're getting the ""Unbound value appendtolist"" error because you're calling <code>appendtolist</code> recursively without declaring as recursive.</p>

<p>You need to write <code>let rec appendtolist n list = ...</code> to be able to refer to <code>appendtolist</code> recursively within its definition.</p>
"
"<p>hello everyone I have this snippet of the code:</p>

<pre><code>local
 fun NTimesF(f, n:int) = 
    if n = 1 then fn (x) =&gt; f(x)
    else fn (x) =&gt; f(NTimesF(f, n - 1)(x))
in  
 fun compList f n = if n = 0  then []
                    else (NTimesF(f, n)) :: (compList f n-1)
end;
</code></pre>

<p>I need to write program which receives some function f and integer n and produce list of functions such as <code>[f1, f2, ... fn] &lt;- fn is the composition of the function n times</code> but every time I receive an error:</p>

<pre><code>- stdIn:7.11-7.46 Error: operator and operand don't agree [literal]
  operator domain: ('Z -&gt; 'Z) * ('Z -&gt; 'Z) list
  operand:         ('Z -&gt; 'Z) * int
  in expression:
    NTimesF (f,n) :: (compList f) n - 1
stdIn:6.6-7.46 Error: right-hand-side of clause doesn't agree with function result type [literal]
  expression:  int -&gt; _ list
  result type:  int -&gt; int
  in declaration:
    compList = (fn arg =&gt; (fn &lt;pat&gt; =&gt; &lt;exp&gt;))
- 
</code></pre>

<p>can somebody please help me, thanks in advance</p>
","149392","","<p>Because function application has higher precedence than the <code>-</code> operator, <code>compList f n-1</code> is parsed as <code>(compList f n) - 1</code>, which is obviously not what you want.</p>

<p>You need to write <code>compList f (n-1)</code>.</p>
"
"<p>hello everyone I have this snippet of the code:</p>

<pre><code>local
 helper(f, i, j) = local
                    fun NTimesF(f, n:int) = 
                    if n = 1 then fn (x) =&gt; f(x)
                    else fn (x) =&gt; f(NTimesF(f, n - 1)(x));
                   in
                    if(i &lt;= j) then NTimesF(f, i) :: helper(f, (i+1), j)
                    else []
                   end
in  
 fun compList f n = helper(f, 1, n);
end;
</code></pre>

<p>I need to write program which receives some function f and integer n and produce list of functions such as [f1, f2, ... fn] &lt;- fn is the composition of the function n times but every time I receive an error:</p>

<pre><code>- stdIn:1.1-2.9 Error: syntax error: deleting  LOCAL ID LPAREN
stdIn:2.10-2.14 Error: syntax error: deleting  COMMA ID COMMA
stdIn:2.16-2.25 Error: syntax error: deleting  RPAREN EQUALOP LOCAL
stdIn:3.6-3.17 Error: syntax error: deleting  FUN ID
stdIn:4.6-4.10 Error: syntax error: deleting  IF ID
stdIn:4.15-4.22 Error: syntax error: deleting  THEN FN
stdIn:4.27-4.31 Error: syntax error: deleting  DARROW ID
stdIn:5.6-5.13 Error: syntax error: deleting  ELSE FN
stdIn:5.16-5.22 Error: syntax error: deleting  RPAREN DARROW ID
stdIn:6.8-7.8 Error: syntax error: deleting  IN IF
stdIn:7.17-7.29 Error: syntax error: deleting  THEN ID
stdIn:8.6-8.13 Error: syntax error: deleting  ELSE LBRACKET RBRACKET
stdIn:9.8-11.5 Error: syntax error: deleting  END IN FUN
</code></pre>

<p>it seems that my nested local declarations are wrong, can somebody please explain why?</p>
","149392","","<p>There are two ways to define local functions and variables in SML: <code>local ... in ... end</code> and <code>let ... in ... end</code>.</p>

<p>The difference between <code>local</code> and <code>let</code> is that with <code>local</code> what comes between <code>in</code> and <code>end</code> are one or more variable or function declarations. With <code>let</code> what comes between <code>in</code> and <code>end</code> is an expression.</p>

<p>Unlike <code>local</code>, <code>let</code> is an expression and the value of a <code>let</code> expression is the value of the expression between <code>in</code> and <code>end</code>.</p>

<p>Since in your case you have an expression between <code>in</code> and <code>end</code> (and you want the function to evaluate to the result of that expression), you need to use <code>let</code>, not <code>local</code>.</p>
"
"<p>I am trying to make a small change to a Ruby script so i can specify a folder location at runtime. </p>

<p>I was pretty sure that this would be an easy task, even though i am not a Ruby programmer, but i cannot find the correct syntax.</p>

<pre><code>puts ""Enter folder name and press enter: ""
folder = gets

files = Dir.glob(""folder/[0-100]*.txt""); # What is the correct syntax to use, so the content of the variable folder will be used?

puts files
</code></pre>
","149392","","<p>To insert a variable (or any ruby expression) into a string, you can use <code>#{}</code>:</p>

<pre><code>Dir.glob(""#{folder}/[0-100]*.txt"")
</code></pre>

<p>Also note that the string returned by <code>gets</code> will have a newline (<code>\n</code>) at the end, which isn't valid in folder names of course. So you'll have to use the <code>chomp</code> method to get rid of that.</p>
"
"<p>I have finally figured out how to generate a random number, but the compiler still complains on my code.</p>

<p>Code:</p>

<pre><code>type Quot   = Integer

sign (p,q,g) (x,pub) d =
       do k &lt;- randomRIO(1,q-1 :: Integer)
   ki &lt;- kinv k q
   r &lt;- g^k `mod` p
   s &lt;- (160 + x*r)*ki mod q
   return (r,s)

kinv :: Integer -&gt; Quot -&gt; Integer
kinv k q =
   do (d,t,s) &lt;- gcdE(q,k)
      return s

gcdE(a,0) = (a,1,0)
gcdE(a,b) = (d,t,s - q*t)
    where r = a `mod` b
         q = a `div` b
        (d,s,t) = gcdE(b,r)
</code></pre>

<p>Error message:</p>

<pre><code>crypt.hs:24:7:
Couldn't match expected type `Integer' against inferred type `m a'
In a stmt of a 'do' expression: ki &lt;- kinv k q
In the expression:
    do { k &lt;- randomRIO (1, q - 1 :: Integer);
         ki &lt;- kinv k q;
         r &lt;- g ^ k `mod` p;
         s &lt;- (160 + x * r) * ki mod q;
         .... }
In the definition of `sign':
    sign (p, q, g) (x, pub) d
           = do { k &lt;- randomRIO (1, q - 1 :: Integer);
                  ki &lt;- kinv k q;
                  r &lt;- g ^ k `mod` p;
                  .... }

crypt.hs:37:10:
Couldn't match expected type `Integer'
       against inferred type `(Quot, Quot, b)'
In a stmt of a 'do' expression: (d, t, s) &lt;- gcdE (q, k)
In the expression:
    do { (d, t, s) &lt;- gcdE (q, k);
         return s }
In the definition of `kinv':
    kinv k q
           = do { (d, t, s) &lt;- gcdE (q, k);
                  return s }
</code></pre>

<p>All I want is for the variable k to take a random integer value between 0 &lt; k &lt; q. I am not so good with Haskell so this has taken a while. Thanks.</p>
","149392","","<p>Since there's nothing monadic about <code>kinv</code> or <code>gcdE</code>, neither of them should contain any <code>do</code>s, <code>&lt;-</code>s or <code>return</code>s.</p>

<p>Similarly you don't need to (and can't) use <code>&lt;-</code> to get the result of <code>kinv</code> and <code>gcdE</code>. The same is true for any arithmetic operators. Just use <code>let result = non-monadic operation</code>, not <code>result &lt;- non-monadic operation</code>.</p>
"
"<p>Is there a straightforward way in Ruby to produce a copy of a Proc? </p>

<p>I have a Proc called <code>@foo</code>. I want another method to periodically augment @foo with additional logic. For example:</p>

<pre><code># create initial Proc
@foo = lambda { |x| x }

# augment with more logic
@foo = lambda { |x| x &gt; 1 ? x*x : @foo[x] }
</code></pre>

<p>I <em>don't</em> want the second line that does the augmentation to produce a recursive function. Instead, I want @foo to be bound by value into the lexical scope of the new @foo definition, producing a function that looks more like this:</p>

<pre><code>@foo = lambda { |x| x &gt; 1 ? x*x : lambda{ |x| x }[x] }
</code></pre>

<p>I get an infinite recursion and an eventual stack overflow instead, due to the resulting function looking like this:</p>

<pre><code>@foo = lambda { |x| x &gt; 1 ? x*x : lambda { |x| x &gt; 1 ? x*x : { lambda |x| # etc...
</code></pre>

<p>I'd like the code to be like this:</p>

<pre><code># augment with more logic
@foo = lambda { |x| x &gt; 1 ? x*x : (@foo.clone)[x] }
</code></pre>

<p>but clone doesn't work on Procs. </p>

<p>Additionally, the standard Ruby deep copy hack, using marshal and unmarshal, doesn't work on Procs either. Is there some way to do this?</p>
","149392","","<p>Even if <code>clone</code> would work on <code>Proc</code>s, it wouldn't help you, because you'd still be calling <code>clone</code> on the new value of <code>@foo</code>, not on the previous one like you want.</p>

<p>What you can do instead is just store the old value of <code>@foo</code> in a local variable that the lambda can close over.</p>

<p>Example:</p>

<pre><code>def augment_foo()
  old_foo = @foo
  @foo = lambda { |x| x &gt; 1 ? x*x : old_foo[x] }
end
</code></pre>

<p>This way <code>old_foo</code> will refer to the value that <code>@foo</code> had when <code>augment_foo</code> was called and everything will work as you want.</p>
"
"<p>I am trying to work out a multiple if-else loop for my code.</p>

<p>My previous code was :</p>

<p>let rec appendtolist n list b  =</p>

<pre><code>let f x =

 if ( b == 0 ) then x

 else (append (appendtocode n (List.hd list)) (appendtolist n (List.tl list) (b-1)) ) 

in

 f list

;;
</code></pre>

<p>Modified code with nested loops:</p>

<p>let rec appendtolist n list b  =</p>

<pre><code>let f x =

 if ( b &lt; 0 ) then x

 else if (b == 0) then (appendtocode n (List.hd list) (b-1))

      else ((appendtocode n (List.hd list)) :: (appendtolist n (List.tl list) (b-1)) )

    in

        f list
;;
</code></pre>

<p>Error:</p>

<p>This function is applied to too many arguments, maybe you forgot a `;'</p>

<p>My code seems to be syntactically correct. Is this the right way to implement a nested loop in OCaml??
I followed an example for if-elseif loop found online which worked fine. </p>

<p>I need to finally output <strong>x</strong> which is the list formed after all the recursive calls to appendtocode and appendtolist in this function.</p>

<p>Am I going wrong anywhere??</p>

<p>Please guide.</p>

<p>Thank you.</p>
","149392","","<p>In your first code sample you're calling <code>appendtocode</code> like this:</p>

<pre><code>appendtocode n (List.hd list)
</code></pre>

<p>So I assume that <code>appendtocode</code> is a function taking 2 arguments.</p>

<p>In the second you're calling it like this:</p>

<pre><code>appendtocode n (List.hd list) (b-1)
</code></pre>

<p>So here you're calling it with 3 arguments. Since it only takes two, you get an error message telling you that you're calling it with too many arguments.</p>

<p>PS: If statements aren't loops.</p>
"
"<p>can we do multiple operations inside our if-else loop in ocaml?</p>

<p>I am trying to do the following:
    let rec appendtolist n list b  =</p>

<pre><code>    let f x =

        if ( b &lt; 0 ) then x

        **else if (b == 0) then ((appendtocode n (List.hd list) ) (b-1))**

        else ((appendtocode n (List.hd list)) :: (appendtolist n (List.tl list) (b-1)) )

    in

    f list

    ;;
</code></pre>

<p>I get a complain by the compiler on the line which I made bold that :</p>

<p>This expression is not a function, it cannot be applied</p>

<p>I want to call my function when b==0 and also decrement value of b.</p>

<p>How could I do it in this case? </p>

<p>Please advise.</p>

<p>Thank you.</p>
","149392","","<p>This is basically the same error as <a href=""http://stackoverflow.com/questions/4299102/nested-if-else-loop-error-ocaml"">before</a>.</p>

<p>You're evaluating</p>

<pre><code>appendtocode n (List.hd list)
</code></pre>

<p>which returns a value, which is <em>not</em> a function. Then you try to call it with <code>b-1</code> as its argument, but since it's not a function, you can't do that.</p>

<blockquote>
  <p>I want to call my function when b==0 and also decrement value of b.</p>
</blockquote>

<p>Decrement <code>b</code> for whom? <code>b</code> is an argument to the function <code>appendtolist</code>, so if you call <code>appendtolist</code> recursively, you can supply a new argument for <code>b</code>, which is what you're doing in the <code>else</code> case and that works fine. But in the <code>then</code> case you're not calling <code>appendtolist</code>. You're only calling <code>appendtocode</code> and <code>appendtocode</code> has not third argument <code>b</code>. So passing it <code>b-1</code> simply makes no sense.</p>

<p>My guess is that your program will work just fine if you remove the <code>b-1</code>.</p>

<p>PS: This issue is entirely unrelated to nested <code>if</code>s.</p>
"
"<p>Similar to <a href=""http://stackoverflow.com/questions/690151/getting-output-of-system-calls-in-ruby"">Getting output of system() calls in ruby</a> , I am running a system command, but in this case I need to output the STDOUT from the command as it runs.</p>
","149392","","<p>As in the linked question, the answer is again not to use <code>system</code> at all as <code>system</code> does not support this.</p>

<p>However this time the solution isn't to use <code>backticks</code>, but <a href=""http://ruby-doc.org/core-1.8.7/classes/IO.html#M000464""><code>IO.popen</code></a>, which returns an IO object that you can use to read the input as it is being generated.</p>
"
"<p>I am trying to read a file and return the element read from the file as an input to another function.</p>

<p>How can I return a value when I am reading from the file??
I tried everything I am aware of and am still hopelessly lost.</p>

<p>My code is as follows:</p>

<pre><code>let file = ""code.txt"";;

let oc  = open_out file in    (* create or truncate file, return channel *)

    fprintf oc ""%s\n"" (play);   (* write code to file returned from calling (play) function *)   

    close_out oc    ;;


(*read from file*)


let read l=

    let f x =

        let ic  = open_in file in

        let line = input_line ic in  (* read line from in_channel and discard \n *)

            print_endline line;          (* write the result to stdout *)

                ((x ^ line) :: l);

            flush stdout;                

            close_in ic ;
    in
     f l
    ;;

prompt:  read;; function call outputs:

- : unit = ()
</code></pre>

<p>My file contains a string which is a code needed as input for another function.</p>

<p>Please help. I am not sure where I am going wrong.</p>

<p>Thank you.</p>
","149392","","<p>If multiple expressions are sequenced together using <code>;</code> the value of the whole expression is the value of the last expression in the sequence.</p>

<p>So if you have something like <code>((x ^ line) :: l); close_in ic</code> the value of that expression is the value of <code>close_in ic</code>, which is <code>()</code>.</p>

<p>Obviously that's not what you want. In order to make <code>((x ^ line) :: l)</code> the result of the whole expression, you should place it after <code>close_in ic</code>.</p>
"
"<p>can somebody please explain, what does this warning mean? </p>

<pre><code>stdIn:18.35 Warning: calling polyEqual
</code></pre>

<p>and why do I have ""a and not 'a in the following statement:</p>

<pre><code>val alreadyVisited = fn : ''a * ''a list -&gt; bool
</code></pre>

<p>this is function:</p>

<pre><code>fun alreadyVisited(v, []) = false
    | alreadyVisited(v, x::xs) = if(x=v) then true
        else alreadyVisited(v, xs);
</code></pre>

<p>thanks in advance</p>
","149392","","<p><code>'a</code> means ""any type"", while <code>''a</code> means ""any type that can be compared for equality"". Since your <code>alreadyVisited</code> function compared <code>x</code> and <code>v</code> using <code>=</code>, <code>x</code> and <code>v</code> need to have a type that supports comparing them for equality, so you get the type <code>''a</code>.</p>

<p>The warning means that you're comparing two values with polymorphic type for equality.</p>

<p>Why does this produce a warning? Because it's less efficient than comparing two values of known types for equality.</p>

<p>How do you get rid of the warning? By changing your function to only work with a specific type instead of any type.</p>

<p>Should you care about the warning? Probably not. In most cases I would argue that having a function that can work for any type is more important than having the most efficient code possible, so I'd just ignore the warning.</p>
"
"<p>I do not understand what the problem is. 'a' is not a bool and should not be a bool. So why is bool expected?</p>

<p>Code:</p>

<pre><code>probablyPrime n 0 = False
probablyPrime n t =
      do a &lt;- randomRIO(3, n-1 :: Integer)      
         let comp = defComp(a,n)     
         let ret  = (not comp) &amp;&amp; (probablyPrime n t-1)
         return ret


defComp a n = xcon1 &amp;&amp; xcon2
where (s,m) = findsm n
      x = a^m `mod` n
      xcon1 = x /= 1 || x /= n-1
      xcon2 = comploop x n s


comploop x n 0 = False
comploop x n s = x1 || (comploop x n (s-1))
    where x1 = (x^2 `mod` n) == 1


findsm n = (s,m)
where m = findm n
      s = n/m


findm n = m
  where f = (logBase 2 n) - (truncate (logBase 2 n))
        m' = 2^f
        m = m_ify m'


m_ify m | m mod 1 == 0 = m
     | otherwise = m_ify (m*2)
</code></pre>

<p>Error:</p>

<pre><code>Couldn't match expected type `Bool' against inferred type `IO b'
In a stmt of a 'do' expression:
    a &lt;- randomRIO (3, n - 1 :: Integer)
In the expression:
    do { a &lt;- randomRIO (3, n - 1 :: Integer);
         let comp = defComp ...;
         let ret = (not comp) &amp;&amp; (probablyPrime n t - 1);
         return ret }
In the definition of `probablyPrime':
    probablyPrime n t
                    = do { a &lt;- randomRIO (3, n - 1 :: Integer);
                           let comp = ...;
                           let ret = ...;
                           .... }
</code></pre>
","149392","","<pre><code>probablyPrime n 0 = False
</code></pre>

<p>This tells haskell that the return type of <code>probablyPrime</code> is <code>Bool</code>. However in the second case, you're dealing with monads and returning <code>IO Bool</code>, so the types don't match.</p>

<p>Change <code>False</code> to <code>return False</code> and it will work.</p>

<p>You will also have to change</p>

<pre><code>let ret  = (not comp) &amp;&amp; (probablyPrime n t-1)
</code></pre>

<p>to</p>

<pre><code>prob &lt;- probablyPrime n (t-1)
let ret = (not comp) &amp;&amp; prob
</code></pre>

<p>or something like</p>

<pre><code>ret &lt;- liftM ((not comp) &amp;&amp;) (probablyPrime n (t-1))
</code></pre>

<p>as Andrew Jaffe pointed out.</p>
"
"<p>I am trying to implement a function in Haskell that'll take an arbitrary integer list <code>xs</code> and an integer <code>k</code>, and returns a set of lists with <code>k</code> in all possible positions.</p>

<p>For example, for a <code>xs = [0, 1]</code> and <code>k = 2</code>, we'd have</p>

<pre><code>myFunction [0, 1] 2 = [ [2, 0, 1], [0, 2, 1], [0, 1, 2] ]
</code></pre>

<p>I've implemented it as </p>

<pre><code>putOn xs x i = (take i xs) ++ (x:(drop i xs))
putOnAll xs x = map (putOn xs x) [0..(length xs)]
</code></pre>

<p>yet, I feel there must be other smarter ways to achieve the same. My code seems like someone trying to kill a bug with a missile. Could anyone make sugestions on ways to do something clever than this bit of code?</p>

<p>Thanks</p>
","149392","","<p>Taken from <a href=""http://stackoverflow.com/questions/3884121/haskell-i-am-too-old-for-this/3884182#3884182"">this question</a>:</p>

<pre><code>ins x []     = [[x]]
ins x (y:ys) = (x:y:ys):[ y:res | res &lt;- ins x ys]
</code></pre>
"
"<p>Let's define an arbitrary function</p>

<pre><code>someFunc a b = ...
</code></pre>

<p>if I ever need it, I know I can do something like</p>

<pre><code>map (someFunc a) [b0, b1, b2, ..., bn]
</code></pre>

<p>and I'll get as result</p>

<pre><code>[(someFunc a b0), (someFunc a b1), ..., (someFunc a bn)]
</code></pre>

<p>There is nothing new here. But what if instead of using the map's 2nd argument to vary <code>b</code>, I wanted to vary <code>a</code> (a ""inner"" argument)?</p>

<pre><code>map (someFunc ? b) [?0, ?1, ?2, ..., ?n]
</code></pre>

<p>Is there any way to accomplish this in Haskell? If not, what would be the work around for this?</p>

<p>I know I probably wasn't very clear about what I'm posting about. If needed, I can try to reformulate my question :(</p>
","149392","","<p>You can either use a lambda</p>

<pre><code>map (\a -&gt; someFunc a b) ...
</code></pre>

<p>or the  higher order function<code>flip</code>, which returns the given function with its arguments flipped around:</p>

<pre><code>map (flip someFunc b) ...
</code></pre>
"
"<p>I am creating a simple hash table in VS 2008 C++.</p>

<pre><code>#include &lt;map&gt;
std::map &lt;string, char&gt; grade_list;
grade_list[""John""] = 'B';
</code></pre>

<p>I am getting the error:
error C2057: expected constant expression</p>

<p>What does that mean? Does boost library have something better?</p>

<p>Thanks!</p>
","149392","","<p>First of all <code>std::map</code> is a treemap, not a hashmap.</p>

<p>The reason you get the error is that you did not <code>#include &lt;string&gt;</code> nor qualify the reference to <code>string</code> and thus the compiler does not know that <code>string</code> is a class.</p>
"
"<p>I would like to find the first valid image among a list in ruby. Here is my code:</p>

<pre><code> if(params[:id])

   @image = Image.find_by_id(params[:id])
   while @image.nil?
    :id-- ?
    @image = Image.find_by_id(params[:id])
   end
</code></pre>

<p>In that block, how can i keep decreasing the id # until a valid image is found? :/</p>

<p>Thanks!</p>
","149392","","<p>You can't subtract from a symbol. A symbol is not a number.</p>

<p>What you seem to want to do is to decrease the value of <code>params[:id]</code>, which is of course perfectly possible (after converting the id from string to integer) by doing <code>params[:id] = params[:id].to_i - 1</code> or</p>

<pre><code>id = params[:id].to_i
while @image.nil?
  @image = Image.find_by_id(id)
  id -= 1
end
</code></pre>

<p>The latter is better than the first because it does not mutate <code>params</code> (which there is no good reason to do).</p>

<p>However you should NOT do either of those, because you can achieve this with <em>much</em> less hassle, by letting the db do the work:</p>

<pre><code>Image.find(:first, :order =&gt; ""id DESC"", :conditions =&gt; [""id &lt;= ?"", params[:id]])
</code></pre>

<p>PS: Ruby doesn't have a <code>--</code> operator, so you have to use <code>-= 1</code> to decrement a number.</p>
"
"<p>Here is my code:</p>

<pre><code>sumOfSquare :: Int -&gt; Int -&gt; Int
sumOfSquare a b = a * a + b * b

hipotenuse :: Int -&gt; Int -&gt; Int
hipotenuse a b = truncate(sqrt(x))
           where x = fromIntegral(sumOfSquare a b)

squareCheck :: Int -&gt; Bool
squareCheck n = truncate(sqrt(x)) * truncate(sqrt(x)) == n
         where x = fromIntegral n

isItSquare :: Int -&gt; Int -&gt; Bool
isItSquare a b = squareCheck (sumOfSquare a b)

data SidesType = Sides Int Int Int deriving (Show)

calc :: Int -&gt; [SidesType]
calc a = [(Sides x y (hipotenuse x y)) | x &lt;- [1..a], y &lt;-[1..a], (isItSquare x y)]

test :: Int -&gt; SidesType
test a = (Sides 1 2 3)
</code></pre>

<p>I need to display result of calc.  It doesn't work:</p>

<pre><code>*Main&gt; calc
&lt;interactive&gt;:1:0:
    No instance for (Show (Int -&gt; [SidesType]))
      arising from a use of `print' at &lt;interactive&gt;:1:0-3
    Possible fix:
      add an instance declaration for (Show (Int -&gt; [SidesType]))
    In a stmt of an interactive GHCi command: print it
</code></pre>

<p>Call of test works correcly:</p>

<pre><code>*Main&gt; test 1
Sides 1 2 3
</code></pre>

<p>As I understanded the reason is the calc function return the list of SidesType and Haskell can display a SidesType, but cannot display the list of SidesType.</p>

<p>Do I need to change my SidesType description? Or do I need to fix error somehow else?</p>

<p>And another one question - can I display the result of calc function without defining new datatype:</p>

<pre><code>calc :: Int -&gt; (Int, Int, Int)
calc a = [x y (hipotenuse x y) | x &lt;- [1..a], y &lt;-[1..a], (isItSquare x y)]
</code></pre>

<p>?</p>
","149392","","<p>Haskell can display a list of <code>SidesType</code> just fine, it just can't display functions. <code>calc</code> is a function. If you want to display the <em>result</em> of <code>calc</code>, you'll have to call <code>calc</code> with an argument (of type <code>Int</code>).</p>
"
"<p>I posted a question today and someone helped but his code is not working. This is the link to the post <a href=""http://stackoverflow.com/questions/4341816/help-in-declaring-variable-number-of-arguments"">link to the post</a></p>

<p>When i run his code, i get an error :  ""parse error on input `.'""</p>

<p>The ""."" after the ""\t"" is causing the error. Am new in Haskell so i don't know why it is causing the error.</p>

<p>Need help in resolving this but.</p>

<p>thanks</p>

<p><strong>UPDATE</strong></p>

<p>I get error when i load the code. this is the error:</p>

<pre><code>Couldn't match expected type `a -&gt; Bool'
           against inferred type `[Bool]'
    In the first argument of `any', namely
        `(map (\ t -&gt; contains t b) c)'
    In the second argument of `(||)', namely
        `any (map (\ t -&gt; contains t b) c)'
    In the expression: a == b || any (map (\ t -&gt; contains t b) c)
</code></pre>

<p>need help in fixing it.</p>

<p>thanks</p>

<p>UPDATE</p>

<p>when i run the code after making the changes:</p>

<pre><code>data Tree a = Leaf a | Branch a [(Tree a)] deriving (Show)

contains :: Tree a -&gt; a -&gt; Bool 
contains (Leaf a) b = a == b
contains (Branch a c) b = a == b or (map (\ t -&gt; contains t b) c)
</code></pre>

<p>this is the error i now get:</p>

<pre><code>Occurs check: cannot construct the infinite type:
      a = ([Bool] -&gt; Bool) -&gt; [Bool] -&gt; a
    When generalising the type(s) for `contains'
</code></pre>

<p><em><strong>UPDATE 3</em></strong></p>

<p>Please this is my code and yet i still get error after making all the changes. I don't understand:</p>

<pre><code>data Tree a = Leaf a | Branch a [(Tree a)] deriving (Show)

contains :: Eq a =&gt; Tree a -&gt; a -&gt; Bool 
contains (Leaf a) b = a == b
contains (Branch a c) b = a == b || (map (\t -&gt; contains t b) c)
</code></pre>

<p>The Boolean doesn't work on my system so i have to use Bool. Now this is the error i get:</p>

<pre><code>Couldn't match expected type `Bool' against inferred type `[Bool]'
    In the second argument of `(||)', namely
        `(map (\ t -&gt; contains t b) c)'
    In the expression: a == b || (map (\ t -&gt; contains t b) c)
    In the definition of `contains':
        contains (Branch a c) b = a == b || (map (\ t -&gt; contains t b) c)
</code></pre>

<p>Will you please run the above code if it will work. Or maybe am missing something somewhere.
I want to thank you soo much for your time. I appreciate it.</p>

<p>thanks</p>
","149392","","<p>The syntax to separate a lambda's argument list from its body in Haskell is <code>-&gt;</code>, not <code>.</code> like in lambda calculus.</p>

<p>Btw: this has already been fixed in the post you linked to.</p>

<p>Edit: He also got the usage of <code>any</code> wrong - he's treating it as if it were <code>or</code>. It needs to be either</p>

<pre><code>or (map (\ t -&gt; contains t b) c)
</code></pre>

<p>or</p>

<pre><code>any (\t -&gt; contains t b) c
</code></pre>

<p>In addition to this the type signature is wrong (<code>Boolean</code> instead of <code>Bool</code> and missing <code>Eq</code> constraint). So either remove it or change it to:</p>

<pre><code>contains :: Eq a =&gt; Tree a -&gt; a -&gt; Bool
</code></pre>
"
"<p>I need your help in solving the following 2 functions/problems:</p>

<p><strong>1)</strong></p>

<p>I have to replace the elements in a tree. The Branch of the tree can have any number of sub branches as shown below in the code.</p>

<pre><code>data Tree a = Leaf a | Branch a [(Tree a)] deriving (Show)

mapmtree :: (a -&gt; a) -&gt; Tree a -&gt; Tree a
mapmtree f (Leaf a) = (f a)
mapmtree f (Branch a c) = Branch (map f a) (mapmtree f c)
</code></pre>

<p>I have to move through the elements and change them. My problem is in the last line. The mapmtree function accepts (Tree a) but the branch can have a list of sub branches so it is not possible to compile the above code since it gives error. How can i call the mapmtree function on the sub lists of the branch?</p>

<p>This is the error i get when i load it:</p>

<pre><code>Couldn't match expected type `Tree a'
           against inferred type `[Tree a]'
    In the second argument of `mapmtree', namely `c'
    In the second argument of `Branch', namely `(mapmtree f c)'
    In the expression: Branch (map f a) (mapmtree f c)
</code></pre>

<p><strong>2)</strong></p>

<p>The second one deals with turning a tree into list in <strong>depth-first</strong>  This is the code i have now but am stucked and don't know how to go further:</p>

<pre><code>data Tree a = Leaf a | Branch a [(Tree a)] deriving (Show)

mtree2list :: Tree a -&gt; [a]
mtree2list (Leaf a) = [a]
mtree2list (Branch a c) = a : (mtree2list c)
</code></pre>

<p>Need help also how to implement it. The same problem as the above, the Branch can have many sub trees and need to go through them in <strong>depth-first</strong> to make a list of the elements.</p>

<p>Please am a total beginner in Haskell so don't be angry at me.</p>

<p>Thanks</p>
","149392","","<p><strong>1)</strong></p>

<p>First off all I notice that you're doing <code>map f a</code> although <code>a</code> is a single value, not a list¹. So you should be doing <code>f a</code> not <code>map f a</code>.</p>

<p>Now to the problem you actually asked about:</p>

<p>You're right that it doesn't work because <code>c</code> is a list of trees and <code>mapmtree</code> only wants a single tree. So what do you do? You apply <code>mapmtree</code> to each tree in the list of trees and then use the list of resulting trees as the list of trees for the new Branch. How do you do that? Using <code>map</code> on the list:</p>

<pre><code>mapmtree f (Branch a c) = Branch (f a) (map (mapmtree f) c)
</code></pre>

<p><strong>2)</strong></p>

<p>As in 1) you use <code>map</code> to apply <code>mtree2list</code> to each tree in <code>c</code>. The result will be a list of lists². To turn this list of lists into a flat list, you can use the <code>concat</code> function, which does exactly that.</p>

<hr>

<p>¹ Unless you're calling <code>mapmtree</code> on a tree of lists, of course.</p>

<p>² Because each tree is mapped to a list by <code>mtree2list</code> and <code>map</code> then returns a list containing the results of calling <code>mtree2list</code>.</p>
"
"<p>I'm pretty new to OCaml and was trying to figure out how to call an external program from within OCaml.</p>

<p>I've been following the documentation <a href=""http://caml.inria.fr/pub/docs/manual-ocaml/libref/Unix.html"" rel=""nofollow"">here</a>, and making the following call:</p>

<pre><code>Unix.execv ""cat text_file"";;
</code></pre>

<p>This returns the following:</p>

<pre><code>string array -&gt; 'a = &lt;fun&gt;
</code></pre>

<p>How exactly do I access the returned anonymous function?</p>

<p><code>cat text_file</code> is a simple attempt to print the contents of the file, the command I actually want to run is a bit more complex.  However, I presume that if I can get this running, I should be able to get my real program running.</p>
","149392","","<p>The first argument to <code>execv</code> is the program you want to run and the second is an array containing the arguments. Also, <code>execv</code> requires the full path to the program; you can use <code>execvp</code> to look up the program in the execution path. Furthermore the first argument to the program is the name of the program itself.
So you want <code>""/bin/cat""</code> as the first argument, not <code>""cat text_file""</code>, and <code>[| ""cat""; ""text_file"" |]</code> as the second argument (or call <code>execvp</code> and pass <code>""cat""</code> as the first argument).</p>

<p>However, more often than not you actually want <code>system</code>, not <code>execv</code>.</p>

<p>Note that <code>system</code> allows you to pass a single string like you want and that <code>execv</code> (unlike <code>system</code>) never returns, i.e. once you call <code>execv</code> your program is done and the application you invoke takes over the process.</p>
"
"<p>I've got an array A. I'd like to check if it contains duplicate values. How would I do so?</p>
","149392","","<p>Just call <code>uniq</code> on it (which returns a new array without duplicates) and see whether the <code>uniq</code>ed array has less elements than the original:</p>

<pre><code>if a.uniq.length == a.length
  puts ""a does not contain duplicates""
else
  puts ""a does contain duplicates""
end
</code></pre>

<p>Note that the objects in the array need to respond to <code>hash</code> and <code>eql?</code> in a meaningful for <code>uniq</code> to work properly.</p>
"
"<p>What is wrong with this? </p>

<pre><code>class Vec2
  attr_accessor :x, :y
  # ...
  def += (v)
    @x += v.x
    @y += v.y
    return self
  end
  # ...
end
</code></pre>

<p>I've not been able to find much online. Someone said it is because += in ruby is done calling + and then =, he was kidding right? </p>

<p>In the amusing case he was right, is there some workaround (aside from defining a method called ""add"")?</p>
","149392","","<blockquote>
  <p>Someone said it is because += in ruby is done calling + and then =, he was kidding right?</p>
</blockquote>

<p>No, he is right (except that ""calling ="" is a bit inaccurate as <code>=</code> is not a method).</p>

<blockquote>
  <p>is there some workaround (aside from defining a method called ""add"")?</p>
</blockquote>

<p>You mean other than defining <code>+</code> and living with the fact that <code>+=</code> will change the variable and not the object?</p>

<p>You could change <code>+</code> to mutate the object and then return <code>self</code>, in which case <code>v1 += v2</code> would be the same as <code>v1 + v2</code> and would mutate the object. However I'd strongly advise against that as no one would expect <code>+</code> to be mutating (similarly most ruby-literate people would expect <code>+=</code> to reassign the variable and not mutate the object, so trying to change that might just be inadvisable altogether).</p>

<p>Other than that, no, there's no way to work around this.</p>
"
"<pre><code>class A
  X = 9
  Y = B::X
end

class B
  X = 8
  Y = A::X
end
</code></pre>

<p>I have two classes each defining some constants but requiring constants
from the other as shown above but this gives me an error:</p>

<p>circular.rb:7:in <code>&lt;class:A&gt;': uninitialized constant A::B (NameError)
 from circular.rb:5:in</code>'</p>

<p>Is there any way to resolve the error ?</p>

<p>Thanks.</p>
","149392","","<p>It works if you split the definition of A into two parts:</p>

<pre><code>class A
  X = 9
end

class B
  X = 8
  Y = A::X
end

class A
  Y = B::X
end
</code></pre>
"
"<p>I'm having trouble appending a list to another list. Below is my code. When I run (append '(1 2) '(3 4)) I get '(1 3 2 4).</p>

<p>I want the output to be '(1 2 3 4)</p>

<pre><code>(define (append l m)
 (if (null? l) '()
  (cons (car l) (append m (cdr l)))))
</code></pre>

<p>Thanks</p>
","149392","","<p>Well by switching the two lists around like that (switching the position of m and l when calling append recursively), you'll get the first item of the first list followed by the first item of the second list etc.</p>

<p>If you don't want that, you should keep l as the first argument and <code>m</code> as the second. So you get:</p>

<pre><code>(define (append l m)
 (if (null? l) '()
  (cons (car l) (append (cdr l) m))))
</code></pre>

<p>Of course this doesn't work as wanted either, because now you only get the first list back and nothing is appended at all. What you need to do is, once the first list is fully appended (i.e. once <code>l</code> is empty), you need to return the second one as the tail, like this:</p>

<pre><code>(define (append l m)
 (if (null? l) m
  (cons (car l) (append (cdr l) m))))
</code></pre>
"
"<p>Simple question for Haskellites: Does Haskell iterate an entire sequence to obtain the last value? Specifically, are a different number of instructions executed for these two expressions? </p>

<pre><code>Prelude&gt; last ""asdf""
'f'
Prelude&gt; last ""qwerty""
'y'
</code></pre>
","149392","","<p>Yes, Haskell's list are singly linked and thus <code>last</code> needs to walk through the entire list, making its runtime <code>O(n)</code>.</p>
"
"<p>I am just wondering what the advantages are to languages that allow functions to be passed through parameters?  And hopefully an couple examples to go with this.</p>

<p>What popular programming languages allow this?</p>
","149392","","<p>The advantage is that you can parametrize functions over things that aren't easily expressed as plain values.</p>

<p>For example if you want to find an item which satisfies a certain predicate in a collection, or you want to find out whether all items in a collection satisfy a predicate, the predicate is most naturally expressed as a function from the element type to bool.</p>

<p>Another really common example is a sorting function which takes a comparison function as its argument, so the elements of a collection can be sorted by a custom sort key.</p>

<p>Of course in languages that don't allow functions as arguments, but which do have an object system (read: in java), you can work around this by using an object which implements a certain interface to the sorting function.</p>

<blockquote>
  <p>What popular programming languages allow [passing functions as arguments]?</p>
</blockquote>

<p>C, C++, C#, Objective C, Python, Ruby, Perl, PHP, Javascript, and basically all functional or functionalish languages.</p>

<p>It should be noted that C and C++ (before C++0x), unlike the other languages in the list, don't have closures.</p>
"
"<p>Got a little puzzle I was wondering if you could help me clarify.</p>

<p>Let's define a function that returns a list:</p>

<pre><code>let f = replicate 3
</code></pre>

<p>What we want to do is map this function to an infinite list, concatenate the results, and then take only things that match a predicate.</p>

<pre><code>takeWhile (&lt; 3) $ concatMap f [1..]
</code></pre>

<p>Great! That returns <code>[1,1,1,2,2,2]</code>, which is what I want.</p>

<p>Now, I want to do something similar, but the function f now wraps its results in a Monad.  In my usecase, this is the IO monad, but this works for discussing my problem:</p>

<pre><code>let f' x = Just $ replicate 3 x
</code></pre>

<p>To map and concat, I can use:</p>

<pre><code>fmap concat $ mapM f' [1..5]
</code></pre>

<p>That returns: <code>Just [1,1,1,2,2,2,3,3,3,4,4,4,5,5,5]</code></p>

<p>If I want to use <code>takeWhile</code>, this still works:</p>

<pre><code>fmap (takeWhile (&lt; 3) . concat) $ mapM f' [1..5]
</code></pre>

<p>Which returns: Just [1,1,1,2,2,2].  Great!</p>

<p>But, if I make the list over which I map an infinite list this does not do what I expected:</p>

<pre><code>fmap (takeWhile (&lt; 3) . concat) $ mapM f' [1..]
</code></pre>

<p>Seems like the <code>takeWhile</code> is never happening. Somehow, I'm not getting the lazy computation I was expecting. I’m a bit lost.</p>
","149392","","<p>The problem isn't that <code>fmap</code> + <code>takeWhile</code> doesn't work with infinite lists wrapped in a monad. The problem is that <code>mapM</code> can't produce an infinite list (at least not in the Maybe monad).</p>

<p>Think about it: If <code>f'</code> returns <code>Nothing</code> for any item in the list, <code>mapM</code> has to return <code>Nothing</code>. However <code>mapM</code> can't know whether that will happen until it has called <code>f'</code> on all items in the list. So it needs to iterate through the whole list before it knows whether the result is <code>Nothing</code> or <code>Just</code>. Obviously that's a problem with infinite lists.</p>
"
"<p>I am trying to initialize a Hash of Arrays such as</p>

<pre><code>@my_hash = Hash.new(Array.new)
</code></pre>

<p>so that I can:</p>

<pre><code>@my_hash[""hello""].push(""in the street"")
=&gt; [""in the street""]
@my_hash[""hello""].push(""at home"")
=&gt; [""in the street"", ""at home""]
@my_hash[""hello""]
=&gt;[""in the street"", ""at home""]
</code></pre>

<p>The problem is that any new hash key also return <code>[""in the street"", ""at home""]</code></p>

<pre><code>@my_hash[""bye""]
=&gt; [""in the street"", ""at home""]
@my_hash[""xxx""]
=&gt; [""in the street"", ""at home""]
</code></pre>

<p>!!!???</p>

<p>What am I doing wrong what would be the correct way to initialize a Hash of Arrays?</p>
","149392","","<pre><code>@my_hash = Hash.new(Array.new)
</code></pre>

<p>This creates exactly one array object, which is returned every time a key is not found. Since you only ever mutate that array and never create a new one, all your keys map to the same array.</p>

<p>What you want to do is:</p>

<pre><code>@my_hash = Hash.new {|h,k| h[k] = Array.new }
</code></pre>

<p>or simply</p>

<pre><code>@my_hash = Hash.new {|h,k| h[k] = [] }
</code></pre>

<p>Passing a block to <code>Hash.new</code> differs from simply passing an argument in 2 ways:</p>

<ol>
<li><p>The block is executed every time a key is not found. Thus you'll get a new array each time. In the version with an argument, that argument is evaluated once (before <code>new</code> is called) and the result of that is returned every time.</p></li>
<li><p>By doing <code>h[k] =</code> you actually insert the key into the hash. If you don't do this just accessing <code>@my_hash[some_key]</code> won't actually cause <code>some_key</code> to be inserted in the hash.</p></li>
</ol>
"
"<p>I'm trying to add an instance declaration in Haskell for a new data type I've created unsuccessfully. Here what I've tried so far:</p>

<pre><code>data Prediction = Prediction Int Int Int
showPrediction :: Prediction -&gt; String
showPrediction (Prediction a b c) = show a ++ ""-"" ++ show b ++ ""-"" ++ show c
instance Show (Prediction p) =&gt; showPrediction p
</code></pre>

<p>Seems the last line is wrong but I'm not sure how to achieve what I want. Basically is to be able to call from the interpreter a Prediction variable and get it visualized without having to call the showPrediction. Right now this works:</p>

<pre><code>showPrediction (Prediction 1 2 3)
</code></pre>

<p>and shows:</p>

<pre><code>""1-2-3""
</code></pre>

<p>as expected, but I would like this to work (from the interpreter):</p>

<pre><code>Prediction 1 2 3
</code></pre>

<p>Any idea?</p>

<p>thanks!</p>
","149392","","<p>You've got the syntax for instances wrong. To create an instance of <code>Show</code> write:</p>

<pre><code>instance Show Foo where
  show = ...
  -- or
  show x = ...
</code></pre>

<p>where <code>...</code> contains your definition of the <code>show</code> function for <code>Foo</code>.</p>

<p>So in this case you want:</p>

<pre><code>instance Show Prediction where
  show = showPrediction
</code></pre>

<p>or, since there isn't an important reason to have <code>showPrediction</code> at all:</p>

<pre><code>instance Show Prediction where
  show (Prediction a b c) = show a ++ ""-"" ++ show b ++ ""-"" ++ show c
</code></pre>
"
"<p>I am studying for my finals &amp; I was reading context free grammars article from wikipedia and came across following example. </p>

<pre><code>S → SS- (1st production rule)

S → (S) - (2nd production rule)

S → () - (3rd production rule)
</code></pre>

<p>I am well aware of left and right derivation. When I tried to solve this problem I start with start symbol </p>

<pre><code>S-&gt; SS -&gt; (S)S-&gt; ()S-&gt; ()(S) -&gt; ()() 
</code></pre>

<p>but when I looked the answer, it was like this</p>

<pre><code>S → SS → SSS → (S)SS → ((S))SS → ((SS))S(S)
→ ((()S))S(S) → ((()()))S(S) → ((()()))()(S)
→ ((()()))()(())
</code></pre>

<p>I am not sure what goes wrong with my answer? Is it necessary to use first production rule twice? Could anybody help me with this.</p>
","149392","","<blockquote>
  <p>When I tried to solve this problem I start with start symbol</p>
</blockquote>

<p>What problem? The wikipedia article doesn't pose any problem. It just shows a grammar describing the language of well-matched parentheses and gives an example of a word in that language and how to derive it.</p>

<blockquote>
<pre><code>S-&gt; SS -&gt; (S)S-&gt; ()S-&gt; ()(S) -&gt; ()() 
</code></pre>
</blockquote>

<p>That's a perfectly valid derivation.</p>

<blockquote>
  <p>but when I looked the answer, it was like this</p>
</blockquote>

<p>That's not <em>the</em> answer (there was no question). It's just an example.</p>

<blockquote>
  <p>I am not sure what goes wrong with my answer?</p>
</blockquote>

<p>There's nothing wrong with your derivation. Both <code>()()</code> and <code>((()()))()(())</code> are valid words in the language.</p>

<blockquote>
  <p>Is it necessary to use first production rule twice?</p>
</blockquote>

<p>You can apply the production rules as often as you want (assuming of course the non-terminal you want to replace is present in the term) and in any order you want. It all just depends on which word you want to derive.</p>
"
"<p>How can I write a function that does logical and function between the elements of the list?</p>

<p>I have written this:</p>

<pre><code>iand :: [IO Bool] -&gt; IO Bool

iand [] = return (True)
iand (x:xs) = do
  a &lt;- x 
  b &lt;- iand(xs)
  return (a &amp;&amp; b)
</code></pre>

<p>But that seems to be unconscice.</p>

<p>How can this function be rewritten with foldM (liftM)?</p>

<p>Thank you.</p>
","149392","","<p>You can use <code>liftM</code> to turn <code>and</code> (which has type <code>[Bool] -&gt; Bool</code>) into a function of type <code>IO [Bool] -&gt; IO Bool</code> and <code>sequence</code> to turn your <code>[IO Bool]</code> into an <code>IO [Bool]</code>.</p>

<p>So your function becomes:</p>

<pre><code>iand ibs = liftM and (sequence ibs)
</code></pre>
"
"<p>I was just looking at the <a href=""http://en.literateprograms.org/Turing_machine_simulator_%28C_Plus_Plus,_Template_metaprogramming%29"" rel=""nofollow"">turing machine simulator code</a> and came across the following statements</p>

<p>""The tape maps time and position to symbols. To calculate the symbol, we have to look at the machine one step earlier. <em>If at that time, the head was at the <strong>requested position</strong>, the symbol has changed according to the table depending on the previous symbol at the same position and the state the machine was in. Otherwise, the symbol didn't change.</em>""</p>

<p>What does the part in italics mean? What does <strong><em>requested position</em></strong> mean in this context?</p>
","149392","","<p>By ""requested position"" he means the position that you're trying to read, i.e. the value of the template argument <code>pos</code> given to <code>tape</code>.</p>
"
"<p>One must decide, based on the value of:</p>

<blockquote>
  <p>(test 0 (p))</p>
</blockquote>

<p>where test is defined as :</p>

<pre><code>(define (test x y)
  (if (= x 0)
      0
      y))
</code></pre>

<p>and p is defined as :</p>

<pre><code>(define (p) (p))
</code></pre>

<p>When I evaluate <code>(test 0 (p))</code> the interpreter goes into an infinite loop, suggesting that it is evaluating <code>p</code>. This shows <strong><em>normal-order evaluation</em></strong>, because the operands are evaluated before being substituted for parameters. SICP says LISP uses applicative-order evaluation.</p>
","149392","","<blockquote>
  <p>This shows <em>normal-order evaluation</em>, because the operands are evaluated before being substituted for parameters</p>
</blockquote>

<p>Actually you got it the wrong way around. Applicative order is when the operands are evaluated first. Normal-order is when the arguments are substituted into the expression unevaluated.</p>

<p>So racket uses applicative order because as you said the arguments are evaluated first (unless you use ""Lazy Racket"" in which case it uses call-by-need aka lazy evaluation, which is like normal-order except each argument is evaluated at most once).</p>
"
"<p>I have a course called Algorithm Analysis at college, where we're currently studying the different complexity classes -- P, NP, NP-hard etc.</p>

<p>We've already discussed NP-complete problems as the intersection between NP and NP-hard, and P problems, contained in NP. We've also talked about some examples, mainly of NP-complete problems (k-coloring, k-clique, SAT).</p>

<p>Most of the time, we prove a problem is NP-complete by:</p>

<p>a. Finding a nondeterministic algorithm to solve it (that uses choice, success, fail);</p>

<p>b. Reducing a known NP-complete problem to it.</p>

<p>The thing is that these problems, when run on a deterministic machine (sequentially, instead of simultaneously branching when encountering a choice) have exponential-time solutions.</p>

<p>My question is this -- I've never encountered problems that were solvable neither in polynomial time neither in exponential time; polynomial time problems are in P and exponential-time problems are usually in NP-complete.</p>

<p>There's a helpful Venn diagram here:
<a href=""http://en.wikipedia.org/wiki/Np_complete"">http://en.wikipedia.org/wiki/Np_complete</a></p>

<ol>
<li><p>I'd like to know <strong>an example of a problem that is neither in P, neither in NP-complete, but in NP</strong>.</p></li>
<li><p>Also, are intrinsically exponential problems, like <strong>generating the power set of a set NP-complete?</strong> Or does that name only apply for problems for which an exponential time algorithm is used only because there's no other obvious method for solving it?</p></li>
</ol>

<p>Ok, so I gave the answer to <em>Rosh Oxymoron</em> because he actually listed some examples of problems suspected to be between P and NPC. Thanks for your help guys, and I actually noticed that I put this question in the wrong place.
There's also:
<a href=""http://cstheory.stackexchange.com/"">http://cstheory.stackexchange.com/</a></p>

<p>where I found the following very useful answers to my question:
<a href=""http://cstheory.stackexchange.com/questions/79/problems-between-p-and-npc"">http://cstheory.stackexchange.com/questions/79/problems-between-p-and-npc</a>
which is specifically about what I asked, and:
<a href=""http://cstheory.stackexchange.com/questions/52/hierarchies-in-np-under-the-assumption-that-p-np"">http://cstheory.stackexchange.com/questions/52/hierarchies-in-np-under-the-assumption-that-p-np</a>
which is generally interesting, if not exactly related to the initial question.</p>

<p>Thanks a lot,</p>

<p>Dan</p>
","149392","","<ol>
<li><p>There is no problem known to be in <code>NP \ NPC</code>.</p></li>
<li><p>A problem is in NP if and only if a non-deterministic turing machine can solve it in polynomial time (or, equivalently, a deterministic turing machine can decide it in polynomial time). This is not the case for your example.</p>

<p>Further it should be pointed out that we do not know whether <code>P = NP</code>, so it's perfectly possible (if highly unlikely) that all problems in <code>NP</code> can be solved in polynomial time. So if we know that a problem can not be solved in polynomial time, that problem is either not in NP or, if we can prove that it is indeed in NP, we just showed that <code>NP != P</code>.</p></li>
</ol>
"
"<p>I want to change the grammar in to Chomsky Normal Form(CNF). </p>

<p>This is example</p>

<pre><code>S--&gt; AB | ɛ

A--&gt; aASb | a

B--&gt; bS
</code></pre>

<p>I try to solve this </p>

<pre><code>S --&gt; [A] [B]

[A] --&gt; [aA] [Sb] | [a]

[aA] --&gt; [a] A

[Sb] --&gt; s [b]

[a] --&gt; a

[b] --&gt; b
</code></pre>

<p>I am not sure about the answer. Could anybody tell me if it is right or wrong?</p>
","149392","","<p>One mistake is that you removed the <code>S --&gt; ɛ</code> transition. You need that (<code>S --&gt; ɛ</code> is specifically allowed in CNF, even though <code>AnyNonTerminalOtherThanS --&gt; ɛ</code> is not).</p>

<p>Then the rule <code>[A] --&gt; [a]</code>, should be <code>[A] --&gt; a</code> because if you have only one item on the RHS, it needs to be a terminal.</p>

<pre><code>[aA] --&gt; [a] A
[Sb] --&gt; s [b]
</code></pre>

<p>These two seem like typos as <code>A</code> and <code>s</code> don't exist. You probably meant:</p>

<pre><code>[aA] --&gt; [a] [A]
[Sb] --&gt; [S] [b]
</code></pre>

<p>Other than that, what you have is correct.</p>
"
"<p>Still learning haskell, and I cannot really see the difference between</p>

<pre><code>data Tree a = Leaf a | Branch [Tree a]
</code></pre>

<p>and</p>

<pre><code>data Tree a = Leaf a | Branch (Tree a) (Tree a)
</code></pre>

<p>What is best according to you? What is the implication of these two ways of writing ?</p>
","149392","","<p>The former defines a tree where each branch can have arbitrarily many subtrees (represented as a list of trees) and the latter defines a tree where each branch has exactly two subtrees.</p>

<p>In other words the former is a general tree and the latter is a binary tree.</p>

<p>So which one to choose depends on whether you want to model a general tree or a binary tree.</p>
"
"<p>Consider these overloaded functions,</p>

<pre><code>void fun(Int2Type&lt;1&gt;) {}
void fun(Int2Type&lt;2&gt;) {}
void fun(Int2Type&lt;3&gt;) {}
void fun(Int2Type&lt;4&gt;) {}
</code></pre>

<p>I want to call these in this way, </p>

<pre><code>fun(1); // this should call first function
fun(4); // this should call fourth function
</code></pre>

<p>Is there a way to do that? If yes, so can we do the same with some runtime value, say this, 
<em>(please note that in the above calls, the argument is known at compile-time)</em></p>

<pre><code>fun(value); // value can be decided at runtime!
</code></pre>

<hr>

<p>Or any alternative if that is not possible? The goal is, different function should be called based on different integral value!</p>

<hr>

<h1>EDIT</h1>

<p>By the way, I cannot use any of the following:</p>

<ol>
<li>Using <code>switch(value)</code> </li>
<li>using some <code>SomeFuncTable funTable[] = {fun(Int2Type&lt;1&gt;(), fun(Int2Type&lt;2&gt;()}</code> etc</li>
</ol>
","149392","","<p>No, there's no way to use runtime values as a template parameter. The only thing you can do is something like:</p>

<pre><code>void fun(int x) {
    switch(x) {
    case 1:
        fun(Int2Type&lt;1&gt;());
        break;
    case 2:
        fun(Int2Type&lt;2&gt;());
        break;
    case 3:
        fun(Int2Type&lt;3&gt;());
        break;
    case 4:
        fun(Int2Type&lt;4&gt;());
        break;
    }
}
</code></pre>
"
"<p>(I admit this may be a n00b question - I know very little about CS theory, mostly a hands-on/hobby sort.)</p>

<p>I was googling up strongly-typed language for the official definition, and one of the top links I found was from <a href=""http://answers.yahoo.com/question/index?qid=20100502140122AArbWvI"" rel=""nofollow"">Yahoo Answers</a>, which suggested that case sensitive was a part of whether a language is loosely/strongly typed. </p>

<p>I had always thought the simple answer to the difference between a strongly typed/weakly typed language is that the first requires explicit type declarations, while the later is more open, even ""dynamic"".</p>

<p>The two S/O threads (<a href=""http://stackoverflow.com/questions/1546960/strongly-vs-weakly-typed-and-statically-vs-dynamically-typed-languages-and-m"">here</a> and <a href=""http://stackoverflow.com/questions/2690544/what-is-the-difference-between-a-strongly-typed-language-and-a-statically-typed-l"">here</a>) I found so far seem to suggest that (more or less), but they don't mention anything about case sensitivity. Is there a relation at all between case sensitive and strong/weak? </p>
","149392","","<p>A couple of clarifications:</p>

<ol>
<li><p>Case sensitivity has nothing to do with strong vs. weak typing, static vs. dynamic typing or any other property of the type system. I don't know why the answer on yahoo answers has gotten its one upvote, but it's completely wrong. Just ignore it.</p></li>
<li><p>Strong typing isn't a well-defined term, but it is often used to refer to languages with few implicit type conversions, i.e. languages where it is an error to perform operations on types that do not support that operation.</p>

<p>As an example multiplying the strings <code>""foo""</code> and <code>""bar""</code> gives <code>0</code> as the result in perl, while it causes a type error in ruby, python, java, haskell, ml and many other languages. Thus those languages are more strongly typed than perl.</p>

<p>Strong typing is also sometimes used as a synonym for static typing.</p></li>
<li><p>A statically typed language is a language in which the types of variables, functions and expressions are known at compile time (or before runtime anyway - a statically typed language need not be compiled per se, though in practice it usually is). This means that if a statically typed program contains a type error, it will not run. If a dynamically typed program contains a type error it will run up to the point where the error happens and then crash.</p></li>
</ol>

<p>Whether a language requires type annotations is (somewhat) independent of whether its type system is strong or weak or static or dynamic. In theory a dynamically typed language could require (or at least allow) type annotations and then throw runtime errors when those annotations are broken (though I don't know of any dynamically that actually does this).</p>

<p>More importantly there are many statically and strongly typed languages (e.g. Haskell, ML) that don't require type annotations, but instead use type inference algorithms to infer the types.</p>
"
"<p>I found some sample code, and changed it a little</p>

<pre><code>counter = unsafePerform $ newIORef 0

newNode _ = unsafePerformIO $
              do
                i &lt;- readIORef counter
                writeIORef counter (i+1)
                return i
</code></pre>

<p>Which returns 1 then 2 then 3 then 3 etc each time it's run.</p>

<p>But when I change it to</p>

<pre><code>newNode = unsafePerformIO $
              do
                i &lt;- readIORef counter
                writeIORef counter (i+1)
                return i
</code></pre>

<p>then I get 0 every time I run it. </p>

<p>Why is this happening, and what can I do to fix it?</p>
","149392","","<p>In your second version <code>newNode</code> is a simple value, not a function. So haskell evaluates it exactly once and then gives you the result of that evaluation whenever you access <code>newNode</code>.</p>

<p>A word of warning: Using <code>unsafePerformIO</code> on anything other than an IO action which you know to be referentially transparent is dangerous. It might interact badly with some optimizations and just generally not behave like you expect. There's a reason it's got the word ""unsafe"" in its name.</p>

<p>As a way to play around with <code>unsafePerformIO</code> your code is fine, but if you ever want to use something like it in real code, I'd strongly encourage you to reconsider.</p>
"
"<p>hello everyone I'm trying to write function which can unfold int in the list from any depth, for example if I have following <code>bigList: [12, [34], [11,[1]]]</code> I want to receive </p>

<pre><code>[(1,12),(2,34),(3,11),(4,1)]
</code></pre>

<p>first element in tuple is the depth and the second is the number
I wrote this code:</p>

<pre><code>datatype 'a bigList = Empty of unit
   | Element of 'a
   | List of 'a bigList list;


local
fun unfolder( Empty , n ) = []
 | unfolder( (Element l)::ls, n ) = (n, l)::unfolder( ls, n )
 | unfolder( (List l)::ls, n) = unfolder( l, n + 1)::unfolder(ls, n)

in
fun flat list = unfolder(list, 1)  
end;
</code></pre>

<p>every time I receive the following error:</p>

<pre><code>Standard ML of New Jersey v110.71 [built: Thu Sep 17 08:50:14 2009]
- datatype 'a bigList = Element of 'a | Empty of unit | List of 'a bigList list
stdIn:9.5-11.69 Error: data constructor Empty used without argument in pattern
stdIn:11.33-11.69 Error: operator and operand don't agree [tycon mismatch]
  operator domain: (int * 'Z) list * (int * 'Z) list list
  operand:         (int * 'Z) list * (int * 'Z) list
  in expression:
    unfolder (l,n + 1) :: unfolder (ls,n)
- 
</code></pre>

<p>thanks in advance for any help</p>
","149392","","<blockquote>
  <p>data constructor Empty used without argument in pattern</p>
</blockquote>

<p>You defined <code>Empty</code> as <code>Empty of unit</code>, which means you need to use it as <code>Empty ()</code>, which is pretty pointless. To use it as just <code>Empty</code>, you need to define it as <code>Empty</code> without the <code>of unit</code>.</p>

<blockquote>
<pre><code>unfolder (l,n + 1) :: unfolder (ls,n)
</code></pre>
</blockquote>

<p>The type of <code>::</code> is <code>'a * ['a] -&gt; ['a]</code>, which means that the left operand must be a single element and the right operand a list. In the above both operands are a list, so you get a type error.</p>

<p>To concatenate two lists use the <code>@</code> operator, not <code>::</code>.</p>
"
"<p>I am looking for a shorthand for the following ruby fragment:</p>

<pre><code>var = 'foo 123  456  789   bar';

var =~ /^foo +(\d+) +(\d+) +(\d+) +bar$/;

first=$1
second=$2
third=$3
</code></pre>

<p>It seems to me that there is certainly something like <code>(first, second, third) = ....</code> but I have no idea with what term I could go looking for it.</p>
","149392","","<p>If you use <code>match</code> instead of <code>=~</code>, you get back a <code>MatchData</code> object, which has a method <code>captures</code>, which returns the values matched by the capturing groups in an array:</p>

<pre><code>first, second, third = var.match(/.../).captures
</code></pre>
"
"<p>Is there any short way to pass zero-arity function to another function. For now I do it like this:</p>

<pre><code>let f a b c = ...;;
a (fun () -&gt; f a b c)
</code></pre>

<p>Is there any syntactic sugar for the second line?</p>
","149392","","<p>If <code>f</code> were defined as <code>f a b c () = ...</code>, you could just do <code>a (f a b c)</code>, but other than that no, there's no shorter way.</p>

<p>If you want to you can define the function <code>const</code> like this:</p>

<pre><code>let const x _ = x
</code></pre>

<p>And then use it like this:</p>

<pre><code>a (const (f a b c))
</code></pre>

<p>But that's not really much shorter (or clearer) than using <code>fun</code>. Also it evaluates <code>f a b c</code> immediately, which is probably not what you want anyway.</p>

<p>PS: The pedant in me needs to point out that <code>(fun () -&gt; ...)</code> is a unary function and there are no zero-arity functions in ocaml.</p>
"
"<pre><code>Prelude Data.Set&gt; :load hello
[1 of 1] Compiling Main             ( hello.hs, interpreted )

hello.hs:11:11: parse error on input `&lt;-'
Failed, modules loaded: none.
Prelude Data.Set&gt; h &lt;- IO.openFile ""testtext"" IO.ReadMode
Prelude Data.Set&gt; 
</code></pre>

<p>The same line [h &lt;- IO.openFile ""testtext"" IO.ReadMode] inside hello.hs throws the error. How do i fix this? What am I doing wrong?</p>

<p>[EDIT]
Source and output: <a href=""http://pastebin.com/KvEvggQK"">http://pastebin.com/KvEvggQK</a></p>
","149392","","<p>You can only use <code>&lt;-</code> inside a <code>do</code>-block¹ (which you're implicitly in in GHCI, but not in Haskell files).</p>

<p>In a Haskell file, you're only allowed to write bindings using <code>=</code>.</p>

<p>What you could do is put the following in the Haskell file:</p>

<pre><code>myHandle = do h &lt;- IO.openFile ""testtext"" IO.ReadMode
              return h
</code></pre>

<p>Though if you think about that for a bit, this is just the same as:</p>

<pre><code>myHandle = IO.openFile ""testtext"" IO.ReadMode
</code></pre>

<p>However this way <code>myHandle</code> is still wrapped in <code>IO</code> and you'll need <code>&lt;-</code> (or <code>&gt;&gt;=</code>) in ghci to unwrap it.</p>

<p>You can't write a Haskell file in such a way that just loading the file, will open <code>testtext</code> and give you the file handle.</p>

<hr>

<p>¹ Or a list comprehension, but there the right operand of <code>&lt;-</code> needs to be a list, so that has nothing to do with your situation.</p>
"
"<pre><code>head' :: [a] -&gt; a
head' [] = error ""No head for empty lists!""
head' (x:_) = x

head' :: [a] -&gt; a
head' xs = case xs of [] -&gt; error ""No head for empty lists!""
                      (x:_) -&gt; x
</code></pre>

<p>I am asking for a fairly easy question which I don't understand.</p>

<p>In the code above, I see that it takes a list for an input. </p>

<p>but on the third line, it says <code>(x:_)</code> which confuese me.</p>

<p>can anyone explain to me why they wrote <code>(x:_)</code> instead of <code>[x:_]</code></p>

<p>and plus, I don't understand what <code>(x:_)</code> means. </p>

<p>thank you </p>
","149392","","<p><code>:</code> is a constructor for lists, which takes the head of the new list as its left argument and the tail as its right argument. If you use it as a pattern like here that means that the head of the list you match is given to the right pattern and the tail to the left.</p>

<p>So in this case the head of the list is stored in the variable <code>x</code> and the tail is not used (<code>_</code> means that you don't care about the value).</p>

<p>And yes, you can also use <code>[]</code> to pattern match against lists, but only lists of fixed size. For example the pattern <code>[x]</code> matches a list with exactly one element, which is then stored in the variable <code>x</code>. Likewise <code>[x,y]</code> would match a list with two elements.</p>

<p>Your proposed pattern <code>[x:y]</code> would thus match a list with one element, which matches the pattern <code>x:y</code>. In other words, it would match a list of lists which contains exactly one list.</p>
"
"<pre><code>template &lt;int p&gt;    
bool FComapare (Node *lId, Node* rId)    
{    
    if(lId-&gt;getDiff(p) &lt; rId-&gt;getDiff(p))
        return true;
    else if(lId-&gt;getDiff(p) == rId-&gt;getDiff(p))
    {
        if(lId-&gt;getLT() &lt; rId-&gt;getLT())
            return true;
        else if(lId-&gt;getLT() == rId-&gt;getLT())
            return (lId-&gt;getTFG() &lt; rId-&gt;getTFG());
    } 
    return false;
}

vector&lt;set&lt;Node*, bool (*)(Node*,Node*) &gt; &gt; m_F;

for (int i = 0;i &lt; partNum; ++i)
{
    //This doesn`t workbecause of  const problem...
    set&lt;Node *, bool (*)(Node*,Node*) &gt; f(&amp;FComapare&lt;i&gt;);
    m_F.push_back(f);
}
</code></pre>

<p>I am getting following error</p>

<blockquote>
  <p><code>error C2664:
      'std::set&lt;_Kty,_Pr&gt;::set(bool (__cdecl
      *const &amp;)(Node *,Node *))' : cannot convert parameter 1 from 'bool
      (__cdecl *)(Node *,Node *)' to 'bool
      (__cdecl *const &amp;)(Node *,Node *)' 1&gt; 
      with 1&gt;        [ 1&gt;<br>
      _Kty=Node *, 1&gt;            _Pr=bool (__cdecl *)(Node *,Node *) 1&gt;        ]
       Reason: cannot convert from
      'overloaded-function' to 'bool
      (__cdecl *const )(Node *,Node *)' 1&gt;<br>
      None of the functions with this name
      in scope match the target type</code></p>
</blockquote>

<p>How can I solve the problem and get the same functionality?
How do I define correctly </p>

<pre><code>vector&lt;set&lt;Node*, bool (*)(Node*,Node*) &gt; &gt; m_F;
</code></pre>

<p>Thanks</p>
","149392","","<p>Template arguments need to be known at compile time. You can't use runtime values as template arguments.</p>

<p>Since there is no reason that <code>p</code> needs to be a template parameter in this case, this isn't a problem though. You can just put the logic of <code>FCompare</code> into the <code>operator()</code> of a class, which has <code>p</code> as a member variable and then pass an instance of that class as the argument to <code>set</code>'s constructor.</p>
"
"<p>I want to duplicate a hash using the same keys but different values. I coded up the following snippet, and encountered something I didn't expect:</p>

<pre><code>hsh = {:foo =&gt; 'foo', :bar =&gt; 'bar'}

hsh_copy = Hash[hsh.keys.zip([[]] * hsh.length)] # =&gt; {:foo=&gt;[], :bar=&gt;[]}
hsh_copy[:foo] &lt;&lt; 1
hsh_copy[:bar] &lt;&lt; 2

hsh_copy # =&gt; {:foo=&gt;[1, 2], :bar=&gt;[1, 2]}
</code></pre>

<p>It seems that instead of copying the nested array when using the <code>*</code> operator, it just continues to reference the first array.</p>

<p>I'd be very happy if someone could explain <em>why</em> this is happening. Additionally, a better way of duplicating the hash would be appreciated, but I'm more concerned with understanding why <code>*</code> doesn't work as expected here.</p>
","149392","","<p>If <code>Array#*</code> copied the elements of the array, it would break when used on arrays with non-copyable elements (which includes, among others, numbers), which would not be desirable.</p>

<p>As for how to do what you want to do: Replace <code>hsh.keys.zip([[]] * hsh.length)</code> with <code>hsh.map {|k,v| [k, []] }</code>.</p>
"
"<p>I've been learning Clojure, and since I come from a Ruby, and before that Java background, I have trouble thinking procedurally.</p>

<p>Is there a more 'lispy' way to write this code, or is this ok?</p>

<pre><code>(defn foo
  ([s t]
     (let [x (+ 4 (- t s))]
       (if (&gt; 2 (if (&gt; 6 x)
                  x
                  6)
              x)
         x
         2))))
</code></pre>
","149392","","<p>In clojure, like in any other language, it is usually best to use built-in functions whenever applicable. So since clojure has a <code>min</code> and a <code>max</code> function, so you can replace your <code>if</code>s with:</p>

<pre><code>(max 2 (min 6 x))
</code></pre>

<p>If those functions did not exist in clojure's standard library, I would have recommended defining them because putting the logic for <code>min</code> and <code>max</code> into their own function leads to much nicer code than having it all in the <code>foo</code> function.</p>
"
"<p>How to design the scope method to let it actually puts row.city?</p>

<pre><code>row.scope do 
  puts city
end
</code></pre>
","149392","","<p>Using <code>instance_eval</code>:</p>

<pre><code>class RowClass
  attr_accessor :city

  def scope(&amp;blk)
    instance_eval(&amp;blk)
  end
end

row = RowClass.new
row.city = ""bla""

row.scope do 
  puts city # prints ""bla""
end
</code></pre>
"
"<p>I provide some input set which contains known separated number of text blocks.</p>

<p>I want to make a program that automatically generate 1 or more regular expressions each of which matches every text block in the input set.</p>

<p>I see some relatively easy ways to implement a brute-force search. But I'm not an expert in compilers theory. That's why I'm curious:</p>

<p>1) is this problem solvable? or there are some principle impossibility to make such algorithm?</p>

<p>2) is it possible to achieve polynomial complexity for this algorithm and avoid brute forcing?</p>
","149392","","<p>Ok, in a comment you clarified that you want to match all strings which are either equal to one of the strings in the input set, or only differ from one of them within a given level of 'variation'. Since you didn't define 'variation' exactly, I'm going to use the <a href=""http://en.wikipedia.org/wiki/Levenshtein_distance"" rel=""nofollow"">Levenshtein distance</a>.</p>

<p>Given a string <code>s</code> and an integer <code>n</code>, you can build the regex, which matches exactly all strings that have a Levenshtein distance of <code>n</code> or less to that string, like this:</p>

<p>First we write a function that given <code>s</code> and <code>n</code> returns a list of simple regexen which when together match all strings with a distance of <code>n</code> or less to <code>s</code>. Here ""simple regex"" means a regex which only contains literal characters and wildcards.</p>

<p>For <code>n=0</code> that function just returns <code>[s]</code>. Otherwise it computes the list for <code>n-1</code> and then goes through each item in it. For each item <code>r</code> and each position <code>i</code> where <code>0 &lt;= i &lt; length(r)</code>, it adds the following regexen to the list:</p>

<ul>
<li>The regex where <code>.</code> has been added to <code>r</code> at position <code>i</code>.</li>
<li>The regex where the <code>i</code>th character of <code>r</code> has been deleted.</li>
<li>The regex where the <code>i</code>th character of <code>r</code> has been replaced by a <code>.</code>.</li>
</ul>

<p>Now to calculate the regex for a given set of strings and a given value for <code>n</code>, we calculate the list for each string and then <code>or</code> all the regexen together into one big regex.</p>

<p>Note that this will lead to very big regexen very soon.</p>
"
"<p>Say I have an array of arrays in Ruby,</p>

<pre><code>[[100,300], 
 [400,500]]
</code></pre>

<p>that I'm building by adding successive lines of CSV data.  </p>

<p>What's the best way, when adding a new subarray, to test if the range covered by the two numbers in the subarray is covered by any previous subarrays?  </p>

<p>In other words, each subarray comprises a linear range (100-300 and 400-500) in the example above.  If I want an exception to be thrown if I tried to add [499,501], for example, to the array because there would be overlap, how could I best test for this?</p>
","149392","","<p>Since your subarrays are supposed to represent ranges, it might be a good idea to actually use an array of ranges instead of an array of array.</p>

<p>So your array becomes <code>[100..300, 400..500]</code>.</p>

<p>For two ranges, we can easily define a method which checks whether two ranges overlap:</p>

<pre><code>def overlap?(r1, r2)
  r1.include?(r2.begin) || r2.include?(r1.begin)
end
</code></pre>

<p>Now to check whether a range <code>r</code> overlaps with any range in your array of ranges, you just need to check whether <code>overlap?(r, r2)</code> is true for any <code>r2</code> in the array of ranges:</p>

<pre><code>def any_overlap?(r, ranges)
  ranges.any? do |r2|
    overlap?(r, r2)
  end
end
</code></pre>

<p>Which can be used like this:</p>

<pre><code>any_overlap?(499..501, [100..300, 400..500])
#=&gt; true

any_overlap?(599..601, [100..300, 400..500])
#=&gt; false
</code></pre>

<p>Here <code>any_overlap?</code> takes <code>O(n)</code> time. So if you use <code>any_overlap?</code> every time you add a range to the array, the whole thing will be <code>O(n**2)</code>.</p>

<p>However there's a way to do what you want without checking each range:</p>

<p>You add all the ranges to the array without checking for overlap. Then you check whether any range in the array overlaps with any other. You can do this efficiently in <code>O(n log n)</code> time by sorting the array on the beginning of each range and then testing whether two adjacent ranges overlap:</p>

<pre><code>def any_overlap?(ranges)
  ranges.sort_by(&amp;:begin).each_cons(2).any? do |r1,r2|
    overlap?(r1, r2)
  end
end
</code></pre>
"
"<p>Well, I am asked to do the next thing:</p>

<p>To define a binary tree which can contain 2 different types: ('a,'b) abtree and these are the requirements:</p>

<ol>
<li>Any inner vertex (not a leaf) must be of the type 'a or 'b and the leafs have no value.</li>
<li><p>For every path in the tree all 'a values must appear before the 'b value: examples of paths:</p>

<pre><code>'a-&gt;'a-&gt;'a-'b (legal)
'a-&gt;'b-&gt;'b (legal)
'a-&gt;'a-&gt;'a (legal)
'b-&gt;'b-&gt;'b (legal)
'a-&gt;'b-&gt;'a (ILLEGAL)
</code></pre></li>
</ol>

<p>and also I need to define another tree which is like the one described above but now I have got also 'c and in the second requirement it says that for every path I 'a values appear before the 'b values and all the 'b values appear before the 'c values.</p>

<p>First, I am not sure how to define binary trees to have more than 1 type in them.
I mean the simplest binary tree is:</p>

<pre><code>datatype 'a tree =
          leaf
         | br of 'a * 'a tree * 'a tree;
</code></pre>

<p>And also how I can define a tree to have these requirements.</p>

<p>Any help will be appreciated.</p>

<p>Thanks.</p>

<hr>

<p>OK, thanks a lot. So you mean something like that:</p>

<pre><code>datatype 'b bTree = 
          leaf
        | bBranch of 'b * 'b bTree * 'b bTree
;
datatype ('a,'b) abTree = 
          leaf
        | aBranch of 'a * ('a, 'b) abTree * ('a,'b) abTree
        | bBranch of 'b * 'b bTree * 'b bTree
;
</code></pre>

<p>and that's what I did for the case it's a 3 type tree as I mentioned above:</p>

<pre><code>datatype 'c cTree =  
    leaf
    | cBranch of 'c * 'c cTree * 'c cTree
;


datatype ('b, 'c) bcTree = 
            leaf
    | bBranch of 'b * ('b, 'c) bcTree * ('b,'c) bcTree
    | cBranch of 'c * 'c cTree * 'c cTree

;

datatype ('a, 'b, 'c) abcTree = 
    leaf
            | aBranch of 'a * ('a, 'b, 'c) abcTree * ('a, 'b, 'c) abcTree
            | bBranch of 'b * ('b, 'c) bcTree * ('b, 'c) bcTree
    | cBranch of 'c * 'c cTree * 'c cTree
;
</code></pre>

<p>Am I right?</p>

<p>Also, what does the requirement of leafs means? The one that says that the leafs should have no value?</p>
","149392","","<blockquote>
  <p>First, I am not sure how to define binary trees to have more than 1 type in them.</p>
</blockquote>

<pre><code>datatype ('a, 'b) twotypetree = ...
</code></pre>

<blockquote>
  <p>And also how I can define a tree to have these requirements.</p>
</blockquote>

<p>Define a <code>twotypetree</code> to be either an <code>abranch</code> which contains an <code>'a</code> value and two <code>('a, 'b) twotypetree</code>s or a bbranch which contains a <code>'b tree</code>.</p>

<p>Since a <code>'b tree</code> can't contain any <code>'a</code>s, a <code>bnode</code> can't have any child nodes which contain <code>'a</code>s, so the requirement is met.</p>
"
"<pre><code>&gt;&gt;&gt; range(1,11)
</code></pre>

<p>gives you</p>

<pre><code>[1,2,3,4,5,6,7,8,9,10]
</code></pre>

<p>Why not 1-11?</p>

<p>Did they just decide to do it like that at random or does it have some value I am not seeing?</p>
","149392","","<p>Exclusive ranges do have some benefits:</p>

<p>For one thing each item in <code>range(0,n)</code> is a valid index for lists of length <code>n</code>.</p>

<p>Also <code>range(0,n)</code> has a length of <code>n</code>, not <code>n+1</code> which an inclusive range would.</p>
"
"<p>Consider the following imperative code which finds the largest palindrome among products of 3-digit numbers (yes, it's the one of the first tasks from ""Project of [outstanding mathematician of 18th century]"" site):</p>

<pre><code>curmax = 0
for i in range(999,100):
for j in range(999,100):
    if ((i*j) &lt; curmax): break
    if (pal(i*j)):
        curmax = i*j
        break
print curmax
</code></pre>

<p>As I'm learning Haskell currently, my question is, how do you translate this (<strong>and basically any imperative construct that contains something more complex than just plain iteration</strong>, e.g. breaks, continues, temporary variables and all this) to Haskell?</p>

<p>My version is</p>

<pre><code>maxpal i curmax
    | i &lt; 100 = curmax
    | otherwise = maxpal (i-1) (innerloop 999)
    where 
        innerloop j
            | (j &lt; 100) || (p &lt; curmax) = curmax
            | pal p = p
            | otherwise = innerloop (j-1)
            where p = i*j
main = print $ maxpal 999 0
</code></pre>

<p>but this looks like we're still in imperative uglytown.</p>

<p>So what could you advise, what are the approaches of dealing with such cases FP-style?</p>
","149392","","<p>If we do away with all the optimization and just multiply all combinations of numbers between 100 and 999, filter out the non-palindromes and take the maximum of that, we can write the function very concisely as:</p>

<pre><code>maximum $ filter pal [x*y | x &lt;- [100..999], y &lt;- [100..999]]
</code></pre>

<p>Of course this is basically the least efficient way to do it, but since the numbers are relatively small, this still finishes in under half a second on my machine.</p>

<p>However if we want something that is more along the lines of your python solution algorithmically, we can do it like this:</p>

<pre><code>import Data.Maybe
import Data.List

maxpal i curmax
    | i &lt; 100 = curmax
    | otherwise = maxpal (i-1) newmax
    where newmax = fromMaybe curmax (find pal bigger)
          bigger = takeWhile (&gt; curmax) (map (*i) [999, 998 ..])
</code></pre>

<p>Here the outer loop is basically the same as in your solution, but we replaced the inner loop using list functions instead.</p>

<p>We're using <code>map (*i) [999, 998, ...]</code> to create the product <code>i*j</code> for every <code>j</code> counting down from <code>999</code>. Using <code>takeWhile</code> we're saying that the list should stop once a value is not greater than <code>curmax</code>.</p>

<p>Then we're using <code>find</code> to see whether any item in that list is a palindrome. If it is, the first palindrome in the list is our new max. If it isn't we keep our old max. (<code>find</code> returns a <code>Maybe</code> and <code>fromMaybe</code> takes a default value and a <code>Maybe</code> and returns the value from the <code>Maybe</code> or the default value if there is no value in the <code>Maybe</code>)</p>
"
"<p>I started reading <a href=""http://pagesperso-systeme.lip6.fr/Marc.Shapiro/papers/RR-6956.pdf"" rel=""nofollow"">this paper on CRDTs</a>, which is a way of sharing modifiable data concurrently by ensuring that the operations that modify the data are commutative.  It seemed to me that this would be a good candidate for abstraction in Haskell - provide a typeclass for CRDTs that specifies a datatype and operations that commute on that type, then work on making library to actually share the updates between concurrent processes.</p>

<p>What I can't figure is how to phrase the contract that operations must commute in the specification of the typeclass.</p>

<p>For a simple example:</p>

<pre><code>class Direction a where
  turnLeft :: a -&gt; a
  turnRight :: a -&gt; a
</code></pre>

<p>There's no guarantee that <code>turnLeft . turnRight</code> is the same as <code>turnRight . turnLeft</code>.  I suppose the fallback is to specify the equivalent of the monad laws - use a comment to specify constraints that aren't enforced by the type system.</p>
","149392","","<blockquote>
  <p>What I can't figure is how to phrase the contract that operations must commute in the specification of the typeclass.</p>
</blockquote>

<p>The reason that you can't figure it out is that it's not possible. You can't encode this kind of property in types - not in Haskell at least.</p>
"
"<p>I'm trying to figure out Haskell's <a href=""http://hackage.haskell.org/package/json"">json</a> library.  However, I'm running into a bit of an issue in ghci:</p>

<pre><code>Prelude&gt; import Text.JSON
Prelude Text.JSON&gt; decode ""[1,2,3]""

&lt;interactive&gt;:1:0:
    Ambiguous type variable `a' in the constraint:
      `JSON a' arising from a use of `decode' at &lt;interactive&gt;:1:0-15
    Probable fix: add a type signature that fixes these type variable(s)
</code></pre>

<p>I think this has something to do with the a in the type signature:</p>

<pre><code>decode :: JSON a =&gt; String -&gt; Result a
</code></pre>

<p>Can someone show me:</p>

<ol>
<li>How to decode a string?</li>
<li>What's going with the type system here?</li>
</ol>
","149392","","<p>You need to specify which type you want to get back, like this:</p>

<pre><code>decode ""[1,2,3]"" :: Result [Integer]
-- Ok [1,2,3]
</code></pre>

<p>If that line was part of a larger program where you would go on and use the result of <code>decode</code> the type could just be inferred, but since ghci doesn't know which type you need, it can't infer it.</p>

<p>It's the same reason why <code>read ""[1,2,3]""</code> doesn't work without a type annotation or more context.</p>
"
"<pre><code>#include ""stdio.h""
#include ""conio.h""

int main(void)
{

        if(printf(""ABC""))
        {

        }
        else
        {
            printf(""XYZ"");
        }
        _getch();
        return 0;
}

output : ABC

----------------------------------------------------------------------------------------

#include ""stdio.h""
#include ""conio.h""

int main(void)
{

        if(puts(""ABC""))
        {

        }
        else
        {
            printf(""XYZ"");
        }
        _getch();
        return 0;
}

output : ABC XYZ 
</code></pre>

<p>(IDE : MSVC++)
what is the difference between printf and puts in if statement in above 2 programs??</p>
","149392","","<p><code>printf</code> returns the number of characters printed (so when successfully printing a non-empty strong, the return value is not 0 and thus true in a boolean context), while <code>puts</code> simply returns a non-negative number to indicate success (which might very well be 0 aka false).</p>
"
"<p>Said I have got 2 CNF logical phrases a,b and my distrib function should return the CNF form of a|b (a OR b).</p>

<p>Replacing rules that I've got are:</p>

<pre><code>1) Replace p|(q&amp;r) by (p|q)&amp;(p|r) 
2) Replace (q&amp;r)|p by (q|p)&amp;(r|p) 
</code></pre>

<p>A prop defined this way:</p>

<pre><code>datatype prop = Atom of string | Not of prop | And of prop*prop | Or of prop*prop;
</code></pre>

<p>The function:</p>

<pre><code>local
fun doOr(prop1,prop2) = (Or(prop1,prop2))

fun distrib1 (Or(Atom(sName1),Atom(sName2) ) ) = Or(Atom(sName1), Atom(sName2) )
    |distrib1 (Or(Not(Atom(sName1) ),Atom(sName2) ) ) = Or(Not(Atom(sName1) ), Atom(sName2) )
    | distrib1 (Or(Atom(sName1),Not(Atom(sName2) ) ) ) = Or(Atom(sName1), Not(Atom(sName2) ) )
    | distrib1 (Or(Not(Atom(sName1)),Not(Atom(sName2) ) ) ) = Or(Not(Atom(sName1)), Not(Atom(sName2) ) )
    | distrib1 (Or(prop1,And(prop2,prop3) ) ) = And( distrib1(Or(prop1,prop2) ), distrib1(Or(prop1,prop3) ) ) 
    | distrib1 (Or(And(prop1, prop2), prop3) ) ) = And( distrib1(Or(prop1,prop3) ), distrib1(Or(prop2,prop3) ) ) 

in
fun distrib (prop1,prop2) = distrib1(doOr(prop1,prop2) );
end;
</code></pre>

<p>Well, I don't know if the function itself is right although I just went through all the base options and the replacing rules but for now I get the above errors when the EQALOP appear after the distrib1 function and the constructors error appear the distrib function.</p>

<p>Why I get those errors? I am not sure but maybe I am supposed to use let and not local but then how can I transform it to a let structure?</p>

<p>Thanks.</p>
","149392","","<p>In the last case of <code>distrib1</code> you have a total of 3 opening parentheses, but 4 closing:</p>

<pre><code>| distrib1 (Or(And(prop1, prop2), prop3) ) ) =
</code></pre>

<p>Which is why you get the the syntax error about the RPAREN.</p>

<p>You're getting an error in <code>distrib</code> because <code>distrib1</code> has not been defined due to the syntax errors and thus it is an unknown variable. Fixing the syntax error in <code>distrib1</code> will fix this too.</p>
"
"<p>This question may be simple for experts  but for a beginner like me it is important. My question is are there any problems involving tree traversals that can be solved by BFS , DFS and not in-order, pre-order etc. In other words, whenever i see a tree problem, should I ONLY think of the 3 tree traversal methods, or also consider BFS,DFS</p>
","149392","","<p>Pre-order, in-order and post-order traversal are the three different kinds of depth first search that are possible. So it's not a question of whether to use DFS or one of those three. If you are using one of those three traversals, you <em>are</em> using DFS.</p>

<p>As for whether there are cases where BFS is preferable over DFS: Yes, there are. For example to find the shortest path between two nodes in an unweighted graph, you can use BFS because the first path found by a BFS happens to be the one with the fewest edges. The same is not true for DFS.</p>
"
"<p>In Ruby <code>Integer === 5</code> returns <code>true</code>. Similarly <code>String === ""karthik""</code> returns <code>true</code>.<br>
However, <code>5 === Integer</code> returns <code>false</code>. And <code>""karthik"" === String</code>.<br>
Why is the operator not commutative?</p>
","149392","","<p>One very simple reason is that the <code>is_a?</code> relationship for classes just can't be commutative. Consider the case where both operands are classes:</p>

<pre><code>Class === String
</code></pre>

<p>This will return true because <code>String.is_a?(Class)</code>. However <code>String === Class</code> will return false, because <code>Class.is_a?(String)</code> is false and that is of course as it should be.</p>

<p>Another reason is that the semantics of <code>===</code> depends on its left operand. This has again two reasons: a) In ruby the semantics always depend on the left operand, because the left operand is the receiver of the method call and b) it is useful, so you can use e.g. classes, ranges and regexen in a case statement with the intended semantics.</p>
"
"<p>I am working on rails and I want to check whether user key is present or not in session hash.
How can I check this?</p>

<p>PS: I don't want to check whether this value is nil or not. I want to check weather user KEY exists or not.</p>
","149392","","<p><code>Hash</code>'s <code>has_key?</code> method tells you whether a given key is present or not.</p>

<pre><code>session.has_key?(""user"")
</code></pre>
"
"<p>We have partially applied functions in Scala- </p>

<pre><code>def sum(a:Int,b:Int,c:Int) = a+b+c

val partial1 = sum(1,_:Int,8)
</code></pre>

<p>I was wondering what are the advantages of using Partially applied functions. Or is it just a syntactical addition?</p>
","149392","","<p>The advantage is that <code>sum(1,_,8)</code> is less to type and read than <code>x =&gt; sum(1,x,8)</code>.</p>

<p>That's all there is to it.</p>
"
"<p>Given a list of values, I want to reduce the list to T if all the elements are not NIL, NIL if not. This gives me an error:</p>

<pre><code>(apply #'and (get-some-list))
</code></pre>

<p>As does this:</p>

<pre><code>(reduce #'and (get-some-list))
</code></pre>

<p>This is the best I've come up with:</p>

<pre><code>[11]&gt; (defun my-and (x y) (and x y))
MY-AND

[12]&gt; (reduce #'my-and '(T T T T T))
T

[13]&gt; (reduce #'my-and '(T T T T NIL))
NIL
</code></pre>

<p>Why is ""#'and"" invalid? Is there a more idiomatic way to do this in Common Lisp?</p>
","149392","","<p><code>#'and</code> is invalid because <code>and</code> is a macro, not a function.</p>

<p>You can get around having to define a named function, by using a lambda:</p>

<pre><code>(reduce (lambda (x y) (and x y)) (get-some-list) :initial-value t)
</code></pre>

<p>There's no shortcut like <code>#'</code> though.</p>

<p>Alternatively you can also use <code>every</code> with the identify function as the predicate.</p>
"
"<p>I'm new to Haskell, and I'm trying a bit:</p>

<pre><code>isPrime :: Integer-&gt;Bool
isPrime x = ([] == [y | y&lt;-[2..floor (sqrt x)], mod x y == 0])
</code></pre>

<p>I have a few questions.</p>

<ol>
<li>Why when I try to load the .hs, WinHugs say: Instances of <code>(Floating Integer, RealFrac Integer)</code> required for definition of <code>isPrime</code>?</li>
<li>When the interpreter finds one element in the right set, it immediately stops or it computes all the set? I think you know what I mean.</li>
</ol>

<p>Sorry about my english.</p>
","149392","","<ol>
<li><p>Because <code>sqrt</code> has the type <code>Floating a =&gt; a -&gt; a</code>. This means the input has to be a <code>Floating</code> type and the output will be the same type. In other words <code>x</code> needs to be a <code>Floating</code> type. However you declared <code>x</code> to be of type <code>Integer</code>, which is not a <code>Floating</code> type. In addition <code>floor</code> needs a <code>RealFrac</code> type, so <code>x</code> needs to be that as well.</p>

<p>The error message suggests that you fix that by making <code>Integer</code> a <code>Floating</code> type (by defining an instance <code>Floating Integer</code> (and the same for <code>RealFrac</code>).</p>

<p>Of course this is not the correct approach in this case. Rather you should use <code>fromIntegral</code> to convert <code>x</code> to a <code>Real</code> (which is an instance of <code>Floating</code> and <code>RealFrac</code>) and then give that to <code>sqrt</code>.</p></li>
<li><p>Yes. As soon as <code>==</code> sees that the right operand has at least one element, it knows it is not equal to <code>[]</code> and thus returns <code>False</code>.</p>

<p>That being said, <code>null</code> is a more idiomatic way to check whether a list is empty than <code>[] ==</code>.</p></li>
</ol>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/3737139/reference-what-does-this-symbol-mean-in-php"">Reference - What does this symbol mean in PHP?</a>  </p>
</blockquote>



<p>What does the <code>&lt;&lt;</code> mean in this line of PHP?</p>

<pre><code>$count = (1 &lt;&lt; $count_log2) - 1;
</code></pre>
","149392","","<p><code>&lt;&lt;</code> and <code>&gt;&gt;</code> are the so-called bitshift operator.</p>

<p><code>x &lt;&lt; n</code> shifts the bits in the integer <code>x</code> <code>n</code> places to the left, effectively multiplying <code>x</code> with 2 to the power of <code>n</code>.</p>

<p>Similarly <code>x &gt;&gt; n</code> shifts to the left, dividing <code>x</code> by 2 to the power of <code>n</code>.</p>
"
"<p>I have a value X. I will use this value some time later on. I don't actually care what the value is, but some time later I will get another value Y, and I Want to know if X == Y.</p>

<p>One way to hold this sort of data is to create a closure like this:</p>

<pre><code>def createExactMatchClosure(str)
    return lambda { |t|
        return str == t
    }
end
</code></pre>

<p>Now I can use this code to test if another variable equals my original one:</p>

<pre><code>myOriginalValue = ""hello""
testerFunction = createExactMatchClosure(myOriginalValue)
puts testerFunction.call(""hello"").to_s # prints true
</code></pre>

<p>My question is, is the following any better/worse/different? I've seen both approaches used in tutorials.</p>

<pre><code>def createExactMatchClosure(str)
    string_to_test = str
    return lambda { |t|
        return string_to_test == t
    }
end
</code></pre>
","149392","","<p>Since the first version works perfectly fine, there is no reason to prefer the second.</p>

<p>The only difference between the first and the second version is that in the second version, there are two variables being closed over instead of just one (<code>str</code> and <code>string_to_test</code>).</p>

<p>However you can only see that by inspecting the lambda's binding using <code>binding</code> and <code>eval</code>, so in practice the difference does not matter.</p>
"
"<p>I wrote the function used to decompose a Boolean function, the problem is that the compilation I get this : ""Warning 5: this function application is partial, maybe some arguments are missing.""
How can I solve this problem? I've set wrong the patter matching or  I can not run this operation with pattern matching</p>

<p>The code is the following:</p>

<pre><code>         let rec decomposition state_init state prec formula =        
            match formula with        
            And form -&gt; (fun () -&gt; 
                    let f1 = List.hd form in
                    let f2 = And(List.tl form )in                      

                    let new_state = Forms (state_init,f1) in

                    decomposition state_init new_state state f1;            

                    decomposition state_init new_state state f2;

                    Hashtbl.add graph new_state (("""",false,state :: []) , []) ;

                    let x = Hashtbl.find graph state in
                    let succ = state :: snd x in
                    let (desc,last,ptrs) = fst x in

                    Hashtbl.replace graph state ( (""And-node"",last,ptrs) , succ))   
</code></pre>
","149392","","<p><code>decomposition state_init new_state state f1</code> has type <code>unit -&gt; unit</code> (because you're returning <code>fun () -&gt; ...</code>). So if you just call it like that, it won't do anything.</p>

<p>You either have to call it as <code>decomposition state_init new_state state f1 ()</code>, or remove the <code>fun () -&gt;</code> bit, so the unit argument isn't necessary.</p>
"
"<p>Is is possible to do something like <code>super.super</code> in the overriden method? That is, to bypass the direct parent's super and call ""grandparent's"" super?</p>
","149392","","<p>This is not recommended, but what you want <em>is</em> possible like this:</p>

<pre><code>grandparent = self.class.superclass.superclass
meth = grandparent.instance_method(:the_method)
meth.bind(self).call
</code></pre>

<p>This works by first getting the grandparent class, then calling <code>instance_method</code> on it to get an <code>UnboundMethod</code> representing the grandparent's version of <code>the_method</code>. It then uses <code>UnboundMethod#bind</code> and <code>Method#call</code> to call the grandparent's method on the current object.</p>
"
"<p>A recent convert to Ruby here. The following question isn't really practical; it's more of a question on how the internals of Ruby works. Is it possible to override the standard addition operator to accept multiple inputs? I'm assuming that the answer is no, given that the addition operator is a standard one, but i wanted to make sure i wasn't missing something.</p>

<p>Below is the code I wrote up quick to verify my thoughts. Note, it's completely trivial/contrived.</p>

<pre><code>class Point
    attr_accessor :x, :y

    def initialize(x,y)
        @x, @y = x, y
    end


    def +(x,y)
        @x += x
        @y += y
    end


    def to_s
        ""(#{@x}, #{@y})""
    end
end

pt1 = Point.new(0,0)
pt1 + (1,1) # syntax error, unexpected ',', expecting ')'
</code></pre>
","149392","","<p>You can define the <code>+</code> method like that, but you'll only be able to call it using normal method call syntax:</p>

<pre><code>pt1.+(1,1)
</code></pre>
"
"<p>Given this simple Ruby code:</p>

<pre><code>def testMethod
  testVar = 1
  def subTestMethod
    if testVar == 1
      puts 'Yes'
    else
      puts 'No'
    end
  end
  subTestMethod
end

testMethod
</code></pre>

<p>Is there any way to pass the local <code>testVar</code> variable to the sub-method without being forced to use a class variable?</p>
","149392","","<p>The code you have, very likely does not do what you want:</p>

<p>The inner <code>def</code> in your code does <em>not</em> define a local method. Instead it defines <code>subTextMethod</code> as a global method in the <code>Object</code> class as soon as <code>testMethod</code> is called for the first time. That means that after you call testMethod, you'll be able to call <code>subTestMethod</code> from anywhere.</p>

<p>The fact that <code>subTestMethod</code> is not local to <code>testMethod</code> of course also means that <code>subTestMethod</code> can't close over <code>testMethod</code>'s local variables.</p>

<p>To get the behaviour you want, you might want to use a lambda like this (or rethink your design so that you don't need any nested functions):</p>

<pre><code>def testMethod
  testVar = 1
  subTestLambda = lambda do
    if testVar == 1
      puts 'Yes'
    else
      puts 'No'
    end
  end
  subTestLambda.call
end
</code></pre>
"
"<p>Why is the addition ""operator"" a method while the assignment operator += not?</p>

<p>Why do operators work this way:</p>

<blockquote>
  <p>ruby-head > 2.+(4)<br>
  => 6</p>
</blockquote>

<p>While assignment operators work this way:</p>

<blockquote>
  <p>ruby-head > i = 1<br>
  => 1<br>
  ruby-head > i
  += 1<br>
  => 2<br>
  ruby-head > i.+=(1) 
  SyntaxError: (irb):26: syntax error,
  unexpected '=' i.+=(1)
      ^  from /Users/fogonthedowns/.rvm/rubies/ruby-head/bin/irb:17:in
  `'</p>
</blockquote>
","149392","","<p>Because assignment works on variables not objects and thus cannot be implemented as a method.</p>
"
"<p>Here is my situation. I have 2 Arrays</p>

<pre><code>@names = [""Tom"", ""Harry"", ""John""]

@emails = [""tom@gmail.com"", ""h@gmail.com"", ""j@gmail.com""]
</code></pre>

<p>I want to combine these two into some Array/Hash called <code>@list</code> so I can then iterate in my view something like this:</p>

<pre><code>&lt;% @list.each do |item| %&gt;
&lt;%= item.name %&gt;&lt;br&gt;
&lt;%= item.email %&gt;&lt;br&gt;
&lt;% end %&gt;
</code></pre>

<p>I'm having trouble understanding how I can achieve this goal. Any thoughts?</p>
","149392","","<p>You can use <code>zip</code> to zip together the two arrays and then <code>map</code> to create <code>Item</code> objects from the name-email-pairs. Assuming you have an <code>Item</code> class whose <code>initialize</code> methods accepts a hash, the code would look like this:</p>

<pre><code>@list = @names.zip(@emails).map do |name, email|
  Item.new(:name =&gt; name, :email =&gt; email)
end
</code></pre>
"
"<p>I'm trying to write a scheme func that behaves in a way similar to a loop. </p>

<p>(loop min max func)</p>

<p>This loop should perform the func between the range min and max (integers)</p>

<p>-- one of an example like this</p>

<pre><code>(loop 3 6 (lambda (x) (display (* x x)) (newline)))

9
16
25
36
</code></pre>

<p>and I define the function as </p>

<pre><code>( define ( loop min max fn)
    (cond
        ((&gt;= max min) ( ( fn min ) ( loop (+ min 1 ) max fn)  ) )
    )
)
</code></pre>

<p>when I run the code I get the result then an error occur.
I couldn't handle this error. </p>

<pre><code>(loop 3 6 (lambda (x) (display(* x x))(newline)))

9
16
25
36

Backtrace:
In standard input:
  41:  0* [loop 3 6 #&lt;procedure #f (x)&gt;]

In utku1.scheme:
   9:  1  (cond ((&gt;= max min) ((fn min) (loop # max fn))))
  10:  2  [#&lt;unspecified&gt; ...
  10:  3*  [loop 4 6 #&lt;procedure #f (x)&gt;]
   9:  4   (cond ((&gt;= max min) ((fn min) (loop # max fn))))
  10:  5   [#&lt;unspecified&gt; ...
  10:  6*   [loop 5 6 #&lt;procedure #f (x)&gt;]
   9:  7    (cond ((&gt;= max min) ((fn min) (loop # max fn))))
  10:  8    [#&lt;unspecified&gt; ...
  10:  9*    [loop 6 6 #&lt;procedure #f (x)&gt;]
   9: 10     (cond ((&gt;= max min) ((fn min) (loop # max fn))))
  10: 11     [#&lt;unspecified&gt; #&lt;unspecified&gt;]

**utku1.scheme:10:31: In expression `((fn min) (loop # max ...))`:
    utku1.scheme:10:31:Wrong type to apply: `#&lt;unspecified&gt;`
ABORT: (misc-error)**
</code></pre>
","149392","","<blockquote>
<pre><code>( ( fn min ) ( loop (+ min 1 ) max fn) )
</code></pre>
</blockquote>

<p>This is the problem. What you want this to do is to execute <code>(fn min)</code> and then <code>(loop (+ min 1 ) max fn)</code> afterwards. What it actually does do is, it executes <code>(fn min)</code>, then <code>(loop (+ min 1 ) max fn)</code> and then it tries to apply the result of <code>(fn min)</code> to the result of <code>(loop (+ min 1 ) max fn)</code>. Since the result of <code>(fn min)</code> is not a function, this is an error.</p>

<p>To get what you want, do <code>( begin (fn min) (loop (+ min 1) max fn) )</code>. <code>begin</code> allows you to execute multiple expressions after one another.</p>
"
"<p><a href=""http://nlpwp.org/book/chap-intro.xhtml"">This page</a> usages </p>

<p><code>$ ghci -XNoMonomorphismRestriction</code></p>

<p>to start the haskell interpreter. </p>

<p>What does <code>XNoMonomorphismRestriction</code> switch mean?</p>
","149392","","<p>It turns off the <a href=""http://www.haskell.org/haskellwiki/Monomorphism_restriction"">Monomorphism restriction</a>, which restricts values which are not defined using ""function notation""¹ to have a non-polymorphic type.</p>

<hr>

<p>¹ By ""not using function notation"" I mean that they're defined as <code>foo = something</code> and not <code>foo bar = something</code>, i.e. the definition does not contain explicit arguments.</p>
"
"<p>Okay, so I've looked through a couple of my ruby books and done some googling to no avail. </p>

<p>What is the difference between main and initialize in Ruby? I've seen code that uses  </p>

<pre><code>class Blahblah  
  def main  
    # some logic here  
  end  
  # more methods...
end 
</code></pre>

<p>and then calls it using Blahblah.new.</p>

<p>Isn't new reserved only for
  initialize? if not, then what's the difference between the two?</p>
","149392","","<p><code>Class#new</code> calls <code>alloc</code> on the class and then <code>initialize</code> on the created object. It does not call <code>main</code>.</p>

<p>The method name <code>main</code> has no special meaning in ruby's standard library. So unless you're inheriting from a class, which defines <code>new</code> or <code>initialize</code> in such a way, that <code>main</code> will be called, <code>main</code> will not be called automatically in any way.</p>
"
"<p>I need to merge consecutive repeating elements in an array, such that</p>

<pre><code>[1, 2, 2, 3, 1]
</code></pre>

<p>becomes</p>

<pre><code>[1, 2, 3, 1]
</code></pre>

<p><code>#uniq</code> doesn't work for this purpose. Why? Because <code>#uniq</code> will produce this:</p>

<pre><code>[1, 2, 3]
</code></pre>
","149392","","<pre><code>def remove_consecutive_duplicates(xs)
  [xs.first] + xs.each_cons(2).select do |x,y|
    x != y
  end.map(&amp;:last)
end

remove_consecutive_duplicates([1, 2, 2, 3, 1])
#=&gt; [1,2,3,1]
</code></pre>

<p>This returns a new array like <code>uniq</code> does and works in <code>O(n)</code> time.</p>
"
"<p>According to the javadoc: </p>

<p>Replaces every subsequence of the input sequence that matches the pattern with the given replacement string.</p>

<p>This seems to indicate that this call will not replace, unless a match is made.</p>

<p>And yet:</p>

<pre><code>public class MisMatch {
    public static void main(String args[]){
        Pattern doubleSlash = Pattern.compile(""\\\\"");
        String stringWithSingleSlash = ""maybe\\no"";
        System.out.println(""Matches:""+doubleSlash.matcher(stringWithSingleSlash).matches());
        String replace = doubleSlash.matcher(stringWithSingleSlash).replaceAll(""ABC"");
        System.out.println(replace);
        System.out.println(""Equal:""+(stringWithSingleSlash.equals(replace)));
    }
}
</code></pre>

<p>This prints:</p>

<p>Matches:false</p>

<p>maybeABCno</p>

<p>Equal:false</p>

<ul>
<li>so it is not matching, but still replacing. What am I missing here?</li>
</ul>
","149392","","<p><code>matches</code> on returns true if the whole string matches - it doesn't match substrings.</p>

<p>So if <code>stringWithSingleSlash</code> were just <code>""\\""</code> instead of <code>""mabye\\no""</code>, <code>matches</code> would return true.</p>

<p>If the fact that <code>doubleSlash</code> matches a single backslash confuses you, the explanation is that <code>""\\\\""</code> is a string with two backslashes and the regex engine interprets two backslashes as one escaped backslash (because the backslash is an escape character in regexes as well as in string literals).</p>
"
"<p>How can I change this list made with <code>cons</code> to a vector?</p>

<pre><code>((p b p b p b p b)
 (b p b p b p b p)
 (p b p b p b p b)
 (b p b p b p b p)
 (p b p b p b p b)
 (b p b p b p b p)
 (p b p b p b p b)
 (b p b p b p b p))
</code></pre>

<p>This is my code:</p>

<pre>
(define b ""black"")
(define w ""white"")

(define (board)
  (letrec ((ti
            (lambda (x)
          (if (eq? x 8) '()
          (cons (lh x 0) (ti (+ 1 x))))))
       (lh
        (lambda (x y)
          (if (eq? y 8) '()
          (cons (if (odd? (+ x y)) 'b 'w) (lh x (+ 1 y)))))))
    (ti 0)))

</pre>
","149392","","<p>Use the <a href=""http://docs.racket-lang.org/reference/vectors.html"" rel=""nofollow""><code>list-&gt;vector</code></a> function on the whole list and then on each sublist using <code>vector-map</code>.</p>

<p>Or alternatively first use <code>map</code> to apply <code>list-&gt;vector</code> to each sublist and then use <code>list-&gt;vector</code> on the whole list.</p>
"
"<p>I have the following hash:</p>

<pre><code>{
  ""groups"" =&gt; [
    {
      ""type"" =&gt; ""Nearby"", 
      ""venues"" =&gt; [
        {
          ""id"" =&gt; 4450132, 
          ""name"" =&gt; ""Position2"", 
          ""address"" =&gt; ""Domlur"", 
          ""city"" =&gt; ""Bangalore"", 
          ""state"" =&gt; ""Karnataka/India"", 
          ""zip"" =&gt; ""560037"", 
          ""verified"" =&gt; false, 
          ""geolat"" =&gt; 12.9566921, 
          ""geolong"" =&gt; 77.6407258, 
          ""stats"" =&gt; {
            ""herenow"" =&gt; ""0""
          }, 
          ""twitter"" =&gt; ""position2"", 
          ""hasTodo"" =&gt; ""false"", 
          ""distance"" =&gt; 0
          },...
</code></pre>

<p>I want to iterate through it and find all the 'name' attributes. My code looks like:</p>

<pre><code>response[""groups""][""Nearby""][""venues""].each do |key|
  logger.debug key['name']
end
</code></pre>

<p>But I keep on getting error:</p>

<pre><code>TypeError (can't convert String into Integer):
</code></pre>

<p>I am on ruby 1.9.</p>
","149392","","<p><code>response[""groups""]</code> is an Array. Arrays are indexed by integers, not strings.</p>

<p>If you want to get the group, whose type is ""Nearby"" you can use:</p>

<pre><code>response[""groups""].find {|h| h[""type""] == ""Nearby}[""venues""].each ...
</code></pre>
"
"<p>I have checked everywhere and I can't seem to locate the problem. The compiler is giving me this error: ""<code>error FS0039: The value or constructor 'dotProduct' is not defined</code>"". But dotProduct is currently defined.</p>

<p>Visual Studio 2010 is also highlighting the second let (<code>let rec dotProductAux list1 list2 acum =</code>) saying that the expression is unfinished.</p>

<pre><code>let dotProduct list1 list2 =
    let rec dotProductAux list1 list2 acum =
        match list1 ,list2 with
          | [],l | l,[] -&gt; acum
          | head1 :: tail1, head2 :: tail2 -&gt; let updated = (head1 * head2) + acum
                                              (dotProductAux tail1 tail2 updated)
</code></pre>

<p>This code multiplies and adds two list like this:</p>

<pre><code>dotProduct [1;4;7] [3;4;1];;   //(1*3) + (4*4) + (7*1)
</code></pre>

<p>I'm fairly new to F# and can't seem to get this code right. Any help?</p>
","149392","","<p>The body of <code>dotProduct</code> contains the definition of <code>dotProductAux</code>, but no actual expression. You need to actually call <code>dotProductAux</code> (i.e. you're missing the call <code>dotProductAux list1 list2 0</code> after the <code>let rec</code>).</p>

<p><s>Furthermore the case <code>| [],[]| l,[] -&gt; accum</code> will cause an error because the second pattern binds the variable <code>l</code>, while the first does not. You can fix that by replacing <code>l</code> with <code>_</code>, since you don't actually need it.</s> (Apparently you've already fixed this in an edit).</p>
"
"<p>I have the following list</p>

<pre><code>j=[4,5,6,7,1,3,7,5]
</code></pre>

<p>What's the simplest way to return <code>[5,5,6,7,7]</code> being the elements in j greater or equal to 5?</p>
","149392","","<p>You can use a list comprehension:</p>

<pre><code>[x for x in j if x &gt;= 5]
</code></pre>
"
"<h1>Question is about keeping track of counter variables.</h1>

<p>I forget how to keep track of the position of the loops in ruby. Usually <code>i</code> in javascript, as3, java, etc... </p>

<p>Please comment if I need to be more clear.</p>

<h1>.each</h1>

<pre><code>counter = 0
Word.each do |word,x|
   counter += 1
   #do stuff
end 
</code></pre>

<p>I really don't know how to keep track of counters in ruby.</p>

<h1>for</h1>

<p>same thing</p>

<h1>while</h1>

<p>same thing</p>

<h1>block</h1>

<pre><code>Word.each  {|w,x| }
</code></pre>

<p>This one I really don't know about.</p>
","149392","","<p>If you use <code>each_with_index</code> instead of <code>each</code>, you'll get an index along with the element. So you can do:</p>

<pre><code>Word.each_with_index do |(word,x), counter|
   #do stuff
end
</code></pre>

<p>For <code>while</code> loops you'll still have to keep track of the counter yourself.</p>
"
"<pre><code>f :: Integer -&gt; Integer -&gt; [Integer]
f i n = n : f (i+2) (n+i)
</code></pre>

<p>can someone explain to me what it does. i know it returns [0,1,4,9,16..] but i dont understand how and what <code>n : f</code> means </p>
","149392","","<p>The code in your question does nothing because it contains a type error and a syntax error.</p>

<pre><code>f :: Integer -&gt; Integer --&gt; [Integer]
</code></pre>

<p>As you can see from the highlighting the last bit is a comment because <code>--</code> starts a comment in Haskell. As a consequence, the declared type of <code>f</code> is <code>Integer -&gt; Integer</code>, which is wrong. To fix this change <code>--&gt;</code> to <code>-&gt;</code>.</p>

<pre><code>f i n = n : f (i+2) (n+i]
</code></pre>

<p>Here you have an opening <code>(</code> and then a closing <code>]</code>. Obviously that's wrong. To fix this change <code>(n+i]</code> to <code>(n+i)</code>.</p>

<p>Now that that that's done, here's what the fixed code does:</p>

<p><code>:</code> is a constructor for the list type. <code>x : xs</code> is the list which has <code>x</code> as its head and <code>xs</code> as its tail. <code>n : f (i+2) (n+i)</code> gets parsed as <code>n : (f (i+2) (n+i))</code> (not <code>(n : f) (i+2) (n+1)</code> as you seem to believe). So it creates a list whose head is <code>n</code> and its tail is the result of <code>f (i+2) (n+1)</code>.</p>
"
"<p>Here is the code I'm working with:</p>

<pre><code>class Trader

  def initialize(ticker =""GLD"") 
    @ticker = ticker
  end

  def yahoo_data(days=12)

    require 'yahoofinance'

    YahooFinance::get_historical_quotes_days( @ticker, days ) do |row|
      puts ""#{row.join(',')}""  # this is where a solution is required
    end
  end
end
</code></pre>

<p>The yahoo_data method gets data from Yahoo Finance and puts the price history on the console. But instead of a simple puts that evaporates into the ether, how would you use the preceding code to populate an array that can be later manipulated as object.       </p>

<p>Something along the  lines of :</p>

<pre><code>do |row| populate_an_array_method(row.join(',') end                                                                                                              
</code></pre>
","149392","","<p>If you don't give a block to <code>get_historical_quotes_days</code>, you'll get an array back. You can then use <code>map</code> on that to get an array of the results of <code>join</code>.</p>

<p>In general since ruby 1.8.7 most iterator methods will return an enumerable when they're called without a block. So if <code>foo.bar {|x| puts x}</code> would print the values 1,2,3 then <code>enum = foo.bar</code> will return an enumerable containing the values 1,2,3. And if you do <code>arr = foo.bar.to_a</code>, you'll get the array <code>[1,2,3]</code>.</p>

<p>If have an iterator method, which does not do this (from some library perhaps, which does not adhere to this convention), you can use <code>foo.enum_for(:bar)</code> to get an enumerable which contains all the values yielded by <code>bar</code>.</p>

<p>So hypothetically, if <code>get_historical_quotes_days</code> did not already return an array, you could use <code>YahooFinance.enum_for(:get_historical_quotes_days).map {|row| row.join("","") }</code> to get what you want.</p>
"
"<p>Does Haskell have similar syntactic sugar to <a href=""http://diveintopython.net/native_data_types/lists.html#d0e5623"" rel=""nofollow"">Python List Slices</a>?</p>

<p>For instance in Python:</p>

<pre><code>x = ['a','b','c','d']
x[1:3] 
</code></pre>

<p>gives the characters from index 1 to index 2 included (or to index 3 excluded):</p>

<pre><code>['b','c']
</code></pre>

<p>I know Haskell has the <code>(!!)</code> function for specific indices, but is there an equivalent ""slicing"" or list range function?</p>
","149392","","<p>There's no built-in function to slice a list, but you can easily write one yourself using <code>drop</code> and <code>take</code>:</p>

<pre><code>slice from to xs = take (to - from + 1) (drop from xs)
</code></pre>

<p>It should be pointed out that since Haskell lists are singly linked lists (while python lists are arrays), creating sublists like that will be <code>O(to)</code>, not <code>O(1)</code> like in python (assuming of course that the whole list actually gets evaluated - otherwise Haskell's laziness takes effect).</p>
"
"<p>I have a Haskell Map, containing strings as keys and some lambda functions as items .
Eg.:</p>

<pre><code>-- List of supported Operators -&gt; mapping with functions
ops = Map.fromList [(""+"", \x y -&gt; x + y),
                    (""-"", \x y -&gt; y - x),
                    (""*"", \x y -&gt; x * y),
                    (""/"", \x y -&gt; y / x)]
</code></pre>

<p>I want to write a function that takes as input:</p>

<ul>
<li>A string representing an operator [""+"", ""-"", ""*"", ""/""] </li>
<li>Two numbers </li>
</ul>

<p>Based on the operator and the ops map, the function will evaluate the sum/subtraction/etc. of the two numbers .</p>

<p>I've tried something like:</p>

<pre><code>(Map.lookup ""+"" a) 1 2
</code></pre>

<p>But it's not working .</p>

<p>The error is:</p>

<pre><code>Top level:
    No instance for (Show (Integer -&gt; Integer))
      arising from use of `print' at Top level
    Probable fix: add an instance declaration for (Show (Integer
    In a 'do' expression: print it

&lt;interactive&gt;:1:1:
    No instance for (Monad ((-&gt;) t))
      arising from use of `Data.Map.lookup' at &lt;interactive&gt;:1:1-
    Probable fix: add an instance declaration for (Monad ((-&gt;) t)
    In the definition of `it': it = (Data.Map.lookup ""+"" a) 1 2
</code></pre>

<p>... not very helpful for me.</p>

<p>Any suggestions ? Thank you !</p>
","149392","","<p>First of all the error you showed is not caused by the code you showed. Your code causes the following error (in ghc):</p>

<pre><code>Couldn't match expected type `t1 -&gt; t2 -&gt; t'
against inferred type `Data.Maybe.Maybe
</code></pre>

<p>That error is caused by the fact that <code>lookup</code> returns a <code>Maybe</code>. So you need to unwrap the <code>Maybe</code> first.</p>
"
"<p>I need a set of key-value pairs for configuration read in from a file. I tried using show on a Data.Map and it doesn't look at all like what I want. It seems this is something many others might have already done so I'm wondering if there is a standard way to do it and what library to use.</p>
","149392","","<p>The <a href=""https://github.com/jgoerzen/configfile/wiki"" rel=""nofollow"">configfile package</a> looks like what you want.</p>
"
"<p>I'm new to Big-O notation, so I need a little advice. Say I have a choice of two algorithms: one with several for loops in a row, or one with a thrice nested for loop. For example, one is structured similar to this:</p>

<pre><code>    for(int i = 0; i &lt; a.length; i++)
    {
       // do stuff
    }

    for(int i = 0; i &lt; b.length; i++)
    {
       for(int j = 0; j &lt; c.length; j++)
       {
          // do something with b and c
       }
    }

    for(int i = 0; i &lt; d.length; i++)
    {
       // do stuff
    }
</code></pre>

<p>And the other is structured this way:</p>

<pre><code>for(int i = 0; i &lt; a.length; i++)
{
   for(int j = 0; j &lt; b.length; j++)
   {
      for(int k = 0; k &lt; c.length; k++)
      {
         // do stuff
      }
   }
 }
</code></pre>

<p>These examples may not seem practical, but I guess I'm just trying to illustrate my real questions: what's the big O notation for each method and will an algorithm with 3 nested loops always be less efficient than an algorithm with many twice nested loops (but not 3)?</p>
","149392","","<blockquote>
  <p>what's the big O notation for each method</p>
</blockquote>

<p>The big O of a loop with n steps nested in a loop with m steps is <code>O(n * m)</code>. The big O of a loop with n steps followed by one with m steps is <code>O(n + m) = O(max(n,m))</code>.</p>

<p>So your first method is <code>O( max(a.length, b.length * c.length, d.length))</code> and the second method is <code>O( a.length * b.length * c.length)</code>. Which one is better depends on whether <code>d.length</code> is greater or less than <code>a.length * b.length * c.length</code>.</p>

<blockquote>
  <p>and will an algorithm with 3 nested loops always be less efficient than an algorithm with many twice nested loops (but not 3)?</p>
</blockquote>

<p>It depends on how many steps each loops has in relation to the other. If all loops have the same number of steps, the 3 nested loops will always be worse than the 2 nested ones.</p>
"
"<p>Okay,</p>

<p>I've got the next definition of sequence:</p>

<pre><code>datatype 'a seq = Nil | Cons of 'a * (unit-&gt; 'a seq);
</code></pre>

<p>I need to implement the next function: </p>

<pre><code>filterq_n:('a -&gt; bool) -&gt; int -&gt; 'a seq -&gt; 'a seq
</code></pre>

<p>The function gets a predicate function which returns true or false, n (integer) and sequence.</p>

<p>The functionality:</p>

<ol>
<li>if n&lt;=0 return the same seq. </li>
<li>else return a seq that its first n elements are the first n elements in the original seq that predicate returns true for them and the rest will be the same.</li>
</ol>

<p><em>For example, if the predicate is (x mod 2) and the seq is 1,2,3,4,5... and n is 3 so the new seq is
2,4,6,7,8,...</em></p>

<p>In addition, I should check another 2 options:</p>

<p>2.1) if the seq is finite and has less than n elements that predicate returns true for them then the new seq will contain <strong>only</strong> the elements that predicate returns true for them.</p>

<p>2.2) if the seq is infinite and has less than n elements that predicate returns true for them then the new seq will contain all the elements that predicate returns true for them and when trying to get the next element it will enter to an infinite loop. </p>

<p>My current code logically was planned for now without considering 2.1 and 2.2 (although I get errors and can find why?)</p>

<pre><code>fun     filter_n (predicate: 'a -&gt; bool ) (n: int)  Nil = Nil
|       filter_n (predicate: 'a -&gt; bool ) (n: int) (Cons(x, xf)) =      
            if(n &lt;= 0)  then Cons(x, xf) 
                        else 
                            if predicate x then Cons(x, fn() =&gt; filter_n predicate n-1 (xf()) ) 
                            else  filter_n predicate n-1 (xf())  
;
</code></pre>

<p>syntax errors or drastic change..I am not sure?</p>

<p>(also, for 2.1 ans 2.2 I just need to check that if I got (Nil and n>0) then return Nil? )</p>

<p>Thanks in advance for any help.</p>
","149392","","<p>You need to wrap <code>n-1</code> in parens, otherwise it's interpreted as multiple arguments. After you did that, it will compile.</p>

<p>However there's still a logic error in your code: You're decreasing <code>n</code> whether the predicate matches or not. However the specification says that you should select <code>n</code> elements where the predicate matches, not that you should check the predicate for <code>n</code> elements. So you should only decrease <code>n</code> if the predicate matches and keep the same <code>n</code> otherwise.</p>

<p>Once you've fixed that, your code should meet the specification (including 2.1 and 2.2).</p>
"
"<p>I'm running through the Koans tutorial (which is a great way to learn) and I've encountered this statement:</p>

<pre><code>assert_equal __, ""one two-three"".sub(/(t\w*)/) { $1[0, 1] }
</code></pre>

<p>In this statement the __ is where I'm supposed to put my expected result to make the test execute correctly. I have stared at this for a while and have pulled most of it apart but I cannot figure out what the last bit means:</p>

<pre><code>{ $1[0, 1] }
</code></pre>

<p>The expected answer is:</p>

<pre><code>""one t-three""
</code></pre>

<p>and I was expecting:</p>

<pre><code>""t-t""
</code></pre>
","149392","","<p><code>{ $1[0, 1] }</code> is a block containing the expression <code>$1[0,1]</code>. <code>$1[0,1]</code> evaluates to the first character of the string <code>$1</code>, which contains the contents of the first capturing group of the last matched regex.</p>

<p>When <code>sub</code> is invoked with a regex and a block, it will find the first match of the regex, invoke the block, and then replace the matched substring with the result of the block.</p>

<p>So <code>""one two-three"".sub(/(t\w*)/) { $1[0, 1] }</code> searches for the pattern <code>t\w*</code>. This finds the substring <code>""two""</code>. Since the whole thing is in a capturing group, this substring is stored in <code>$1</code>. Now the block is called and returns <code>""two""[0,1]</code>, which is <code>""t""</code>. So <code>""two""</code> is replaced by <code>""t""</code> and you get <code>""one t-three""</code>.</p>

<p>An important thing to note is that <code>sub</code>, unlike <code>gsub</code>, only replaces the first occurrence, not ever occurrence of the pattern.</p>
"
"<p>What is wrong with this function ?</p>

<pre><code>test :: Show s ⇒ s
test = ""asdasd""
</code></pre>

<p>String is an instance of Show class, so seems correct.</p>

<p>The error is </p>

<pre><code>src\Main.hs:224:7:
    Couldn't match expected type `s' against inferred type `[Char]'
      `s' is a rigid type variable bound by
          the type signature for `test' at src\Main.hs:223:13
    In the expression: ""asdasd""
    In the definition of `test': test = ""asdasd""
</code></pre>
","149392","","<p><code>test :: Foo a =&gt; a</code> means ""for any type which is an instance of <code>Foo</code>, <code>test</code> is a value of that type"". So in any place where you can use a value of type <code>X</code> where <code>X</code> is an instance <code>Foo</code>, you can use a value of type <code>Foo a =&gt; a</code>.</p>

<p>Something like <code>test :: Num a =&gt; a; test = 42</code> works because 42 can be a value of type <code>Int</code> or <code>Integer</code> or <code>Float</code> or anything else that is an instance of <code>Num</code>.</p>

<p>However <code>""asdasd""</code> can't be an <code>Int</code> or anything else that is an instance of <code>Show</code> - it can only ever be a <code>String</code>. As a consequence it does not match the type <code>Show s =&gt; s</code>.</p>
"
"<p>I need to turn a string such as this:</p>

<pre><code>'apple orange ""banana pear""'
</code></pre>

<p>into an array like this</p>

<pre><code>[""apple"", ""orange"", ""banana pear""]
</code></pre>

<p>This is like the way command line arguments are converted into the ARGV array. What's the best way to do this in Ruby?</p>
","149392","","<p>You can use the <code>Shellwords</code> module from ruby's standard library, which exists exactly for this purpose:</p>

<pre><code>require 'shellwords'
Shellwords.shellwords 'apple orange ""banana pear"" pineapple\ apricot'
#=&gt; [""apple"", ""orange"", ""banana pear"", ""pineapple apricot""]
</code></pre>

<p>As can be seen in the example above, this also allows you to escape spaces with backslashes the same way you can in the shell. And of course you can also use single quotes instead of double quotes and escape both kinds of quotes with a backslash to get a literal double or single quote.</p>
"
"<p>I often have a situation where I want to do some conditional logic and then return a part of the condition. How can I do this without repeating the part of the condition in the true or false expression?</p>

<p>For example:</p>

<pre><code>ClassName.method.blank? ? false : ClassName.method
</code></pre>

<p>Is there any way to avoid repeating <code>ClassName.method</code>?</p>

<p>Here is a real-world example:</p>

<pre><code>PROFESSIONAL_ROLES.key(self.professional_role).nil? ? 
    948460516 : PROFESSIONAL_ROLES.key(self.professional_role)
</code></pre>
","149392","","<p>Assuming you're okay with <code>false</code> being treated the same way as <code>nil</code>, you use <code>||</code>:</p>

<pre><code>PROFESSIONAL_ROLES.key(self.professional_role) || 948460516
</code></pre>

<p>This will return <code>948460516</code> if <code>key</code> returns <code>nil</code> or <code>false</code> and the return value of the call to <code>key</code> otherwise.</p>

<p>Note that this will only return 948460516 if <code>key</code> returns <code>nil</code> or <code>false</code>, not if it returns an empty array or string. Since you used <code>nil?</code> in your second example, I assume that's okay. However you used <code>blank?</code> in the first example (and <code>blank?</code> returns <code>true</code> for empty arrays and strings), so I'm not sure.</p>
"
"<p>As far as I know, eager evaluation/applicative order evaluates all arguments to a function before applying it, on the other hand, lazy evaluation/normal order evaluates the arguments only when needed.</p>

<p>So, what are the differences between the pair of terms <em>eager evaluation</em> and <em>applicative order</em>, and <em>lazy evaluation</em> and <em>normal order</em>?</p>

<p>Thanks.</p>
","149392","","<p>Lazy evaluation evaluates a term at most once, while normal order would evaluate it as often as it appears. So for example if you have <code>f(x) = x+x</code> and you call it as <code>f(g(42))</code> then <code>g(42)</code> is called once under lazy evaluation or applicative order, but twice under normal order.</p>

<p>Eager evaluation and applicative order are synonymous, at least when using the definition of applicative order found in Structure and Interpretation of Computer Programs, which seems to match yours. (<a href=""http://en.wikipedia.org/wiki/Evaluation_strategy#Strict_evaluation"">Wikipedia</a> defines applicative order a bit differently and has it as a special case of eager evaluation).</p>
"
"<p>I'd like to write one function that extracts only the odd numbers from a list. Something like:</p>

<pre><code>fun odd(nil) = nil
  | odd(a::nil) = a
  | odd(a::(b::c)) = a::odd(c);
</code></pre>

<p>But it causes this error:</p>

<blockquote>
  <p>operator and operand don't agree [circularity]</p>
</blockquote>
","149392","","<p>In your second case <code>odd(a::nil) = a</code> you return <code>a</code>, which is a single element. In the other two cases you return a list. If you change it to <code>odd(a::nil) = [a]</code>, so all cases return a list, it works.</p>
"
"<p>I would like to be able to find a match between the first letter of a word, and one of the letters in a group such as ""ABC"". In pseudocode, this might look something like:</p>

<pre><code>case Process(word) =&gt;
   word.firstLetter match {
      case([a-c][A-C]) =&gt;
      case _ =&gt;
   }
}
</code></pre>

<p>But how do I grab the first letter in Scala instead of Java? How do I express the regular expression properly? Is it possible to do this within a <a href=""http://www.scala-lang.org/node/107"">case class</a>?</p>
","149392","","<p>As delnan pointed out, the <code>match</code> keyword in Scala has nothing to do with regexes. To find out whether a string matches a regex, you can use the <code>String.matches</code> method. To find out whether a string starts with an a, b or c in lower or upper case, the regex would look like this:</p>

<pre><code>word.matches(""[a-cA-C].*"")
</code></pre>

<p>You can read this regex as ""one of the characters a, b, c, A, B or C followed by anything"" (<code>.</code> means ""any character"" and <code>*</code> means ""zero or more times"", so "".*"" is any string).</p>
"
"<p>I am lost in the following example on page 106 from the book titled Developing Applications with Objective Camel. </p>

<pre><code>let nil_assoc = function x -&gt; raise Not found ; ;
let l = ref nil_assoc;;
let add_assoc_again (k,v) l = l := (function x -&gt; if x=k then v else !l x) ; ;
add_assoc_again ('1',1) l ; ;
add_assoc_again ('2',2) l ; ;
</code></pre>

<p>The resulting value for l is a function that points at itself and therefore loops.</p>

<p>I would have thought that the value for l after <code>add_assoc_again ('1', 1) l ;;</code> is
function </p>

<pre><code>x -&gt; if x = '1' then 1 else nil_assoc x;;
</code></pre>

<p>In continuation, the resulting value for l after <code>add_assoc_again ('2', 2) l ;;</code> should be 
function </p>

<pre><code>x -&gt; if x ='2' then 2 else ( function x -&gt; if x = '1' then 1 else nil_assoc x ) x;;
</code></pre>

<p>I don't see why the resulting value for l is a function that points at itself and therefore the program hangs and loops</p>
","149392","","<p><code>!l</code> does not get evaluated when you call <code>add_assoc_again</code>, it is evaluated when you call the function created by the call. At this point <code>l</code> will point to that function, so that's why you get the infinite loop.</p>
"
"<p>Can anyone explain the difference between accessing an instance attribute via <code>self.attribute</code> and by <code>@attribute</code>?</p>
","149392","","<p><code>self.attribute</code> calls the method <code>attribute</code>.<br>
<code>self.attribute = value</code> calls the method <code>attribute=</code> with the argument <code>value</code>.<br>
<code>@attribute</code> and <code>@attribute = value</code> get/set the value of the instance variable <code>@attribute</code>.</p>

<p>So basically they're two entirely different things.</p>

<p>However if you call <code>attr_accessor :attribute</code> it defines the method <code>attribute</code> to return <code>@attribute</code> and the method <code>attribute=(value)</code> to set <code>@attribute = value</code>. So in that case, there is no difference.</p>
"
"<p>I am in the need of an regexp that checks if one numerical value is greater then another value. 
Pretty much like I would by writing <code>(if 10&gt;8)</code> ...</p>

<p>Clearly, my snippet won't make it happen and I lack the experience of regexp to sort it out by myself. Is this possible to do with regular expressions?</p>

<pre><code>^[1-9]+[0-9]+$
</code></pre>

<p>Thanks!</p>
","149392","","<p>If I understand your problem correctly, you want a regex which matches two consecutive numbers of arbitrarily length where the second is greater than the first. This is not possible to do with regexen. It's clearly not a regular language and none of the common extensions (backreferences, recursive references) are powerful enough to change that.</p>

<p>In some regex implementations (e.g. perl's) it's possible to embed code in the host language into the regex. In that case you can of course just embed the predicate <code>num1 &lt; num2</code> as perl code, but I don't think that counts as a solution as a regex.</p>
"
"<p>I would like to change the self value of a float instance.</p>

<p>I have the following method : </p>

<pre><code>class Float
  def round_by(precision)
    (self * 10 ** precision).round.to_f / 10 ** precision
  end
end
</code></pre>

<p>And I would like to add the round_by! method which will modify the self value.</p>

<pre><code>class Float
  def round_by!(precision)
    self = self.round_by(precision)
  end
end
</code></pre>

<p>But I got an error saying I can't change the value of self.</p>

<p>Any idea ?</p>
","149392","","<p>You can't change the value of <code>self</code>. It always points to the current object, you can't make it point to something else.</p>

<p>When you want to mutate the value of an object, you either do this by calling other mutating methods or setting or changing the values of instance variables, not by trying to reassign <code>self</code>. However in this case, that won't help you, because <code>Float</code> doesn't have any mutating methods, and setting instance variables won't buy you anything, because none of the default float operations are affected by any instance variables.</p>

<p>So the bottom line is: you can't write mutating methods on floats, at least not in the way you want.</p>
"
"<p>I'm trying to use Clojure's update-in function but I can't seem to understand why I need to pass in a function?</p>
","149392","","<p><code>update-in</code> takes a function, so you can update a value at a given position depending on the old value more concisely. For example instead of:</p>

<pre><code>(assoc-in m [list of keys] (inc (get-in m [list of keys])))
</code></pre>

<p>you can write:</p>

<pre><code>(update-in m [list of keys] inc)
</code></pre>

<p>Of course if the new value does not depend on the old value, <code>assoc-in</code> is sufficient and you don't need to use <code>update-in</code>.</p>
"
"<p>I have an input string and a pattern. I need to replace each match with a unique value. In C# I would do this:</p>

<pre><code>var result = Regex.Replace(input, pattern, e =&gt; GenerateNewString());
</code></pre>

<p>How can I do this in Ruby?</p>
","149392","","<p>The ruby equivalent of <code>Regex.Replace</code> is <code>gsub</code>, which is an instance method on <code>String</code>. The rest is basically the same as in the C# version (except for the syntax of course):</p>

<pre><code>input.gsub(pattern) { generate_new_string }
</code></pre>
"
"<p>Forgive the beginner question, but say I have an array:</p>

<pre><code>a = [1,2,3]
</code></pre>

<p>And a function somewhere; let's say it's an instance function:</p>

<pre><code>class Ilike
  def turtles(*args)
    puts args.inspect
  end
end
</code></pre>

<p>How do I invoke <code>Ilike.turtles</code> with <code>a</code> as if I were calling <code>(Ilike.new).turtles(1,2,3)</code>.</p>

<p>I'm familiar with <code>send</code>, but this doesn't seem to translate an array into an argument list.</p>

<p>A parallel of what I'm looking for is the Javascript <code>apply</code>, which is equivalent to <code>call</code> but converts the array into an argument list.</p>
","149392","","<p>As you know, when you define a method, you can use the <code>*</code> to turn a list of arguments into an array. Similarly when you call a method you can use the <code>*</code> to turn an array into a list of arguments. So in your example you can just do:</p>

<pre><code>Ilike.new.turtles(*a)
</code></pre>
"
"<p>I pretty much understand 3/4 the rest of the language, but every time I dip my feet into using classes in a meaningful way in my code I get permantently entrenched.</p>

<p>Why doesn't this extremely simple code work?</p>

<pre><code>data Room n = Room n n deriving Show

class HasArea a where
  width :: (Num n) =&gt; a -&gt; n

instance (Num n) =&gt; HasArea (Room n) where
  width (Room w h) = w
</code></pre>

<p>So, room width is denoted by ints or maybe floats, I don't want to restrict it at this point.  Both the class and the instance restrict the n type to Nums, but it still doesn't like it and I get this error:</p>

<pre><code>Couldn't match expected type `n1' against inferred type `n'
  `n1' is a rigid type variable bound by
       the type signature for `width' at Dungeon.hs:11:16
  `n' is a rigid type variable bound by
      the instance declaration at Dungeon.hs:13:14
In the expression: w
In the definition of `width': width (Room w h) = w
In the instance declaration for `HasArea (Room n)'
</code></pre>

<p>So it tells me the types doesn't match, but it doesn't tell me what types it thinks they are, which would be really helpful.  As a side note, is there any easy way to debug an error like this?  The only way I know to do it is to randomly change stuff until it works.</p>
","149392","","<pre><code>class HasArea a where
  width :: (Num n) =&gt; a -&gt; n
</code></pre>

<p>The type <code>(Num n) =&gt; a -&gt; n</code> means that for any type <code>n</code> which is an instance of <code>Num</code>, <code>width</code> must be able to return a value of that type. So for any value <code>v</code> of type <code>T</code>, where <code>T</code> is an instance of <code>HasArea</code> the following code must be valid:</p>

<pre><code>let x :: Integer = width v
    y :: Double = width v
in
    whatever
</code></pre>

<p>However this is not the case for your <code>Room</code> instances. For example for <code>Room Integer</code> <code>y :: Dobule = width v</code> is not valid.</p>

<p>To make your example work you could do something like this:</p>

<pre><code>data Room n = Room n n deriving Show

class HasArea a where
  width :: (Num n) =&gt; a n -&gt; n

instance HasArea Room where
  width (Room w h) = w
</code></pre>

<p>Here we don't say that <code>Room Integer</code>, <code>Room Float</code> etc. are instances of <code>HasArea</code>, but instead <code>Room</code> is an instance of <code>HasArea</code>. And the type of <code>width</code> is such that it produces a value of type <code>n</code> when given a value of type <code>a n</code>, so if you put in a <code>Room Integer</code>, you get back an <code>Integer</code>. This way the type fits.</p>
"
"<p>why is this syntax not legal..? Can you throw some light on what is the design issue in not allowing HashMap to be static with declarations like this.?  </p>

<pre><code>static HashMap&lt;String,  String&gt; map2 = new HashMap&lt;String,  String&gt; ();
</code></pre>
","149392","","<p>That declaration is perfectly legal on its own. I can think of two reasons why you'd get an error:</p>

<ul>
<li>You put that declaration somewhere where static declarations are not allowed (e.g. inside a method).</li>
<li>You did not import <code>java.util.HashMap</code> (of course in that case the error has nothing to do with your use of the <code>static</code> keyword).</li>
</ul>
"
"<p>I understand the concept of <code>some_instance.send</code> but I'm trying to figure out why you can call this both ways. The Ruby Koans imply that there is some reason beyond providing lots of different ways to do the same thing. Here are the two examples of usage:</p>

<pre><code>class Foo
  def bar?
    true
  end
end

foo = Foo.new
foo.send(:bar?)
foo.__send__(:bar?)
</code></pre>

<p>Anyone have any idea about this?</p>
","149392","","<p>Some classes (for example the standard library's socket class) define their own <code>send</code> method which has nothing to do with <code>Object#send</code>. So if you want to work with objects of any class, you need to use <code>__send__</code> to be on the safe side.</p>

<p>Now that leaves the question, why there is <code>send</code> and not just <code>__send__</code>. If there were only <code>__send__</code> the name <code>send</code> could be used by other classes without any confusion. The reason for that is that <code>send</code> existed first and only later it was realized that the name <code>send</code> might also usefully be used in other contexts, so <code>__send__</code> was added (that's the same thing that happened with <code>id</code> and <code>object_id</code> by the way).</p>
"
"<p>Help me answer the following question appears in <a href=""http://www.cs.berkeley.edu/~bh/ssch6/true.html"" rel=""nofollow"">Simply Scheme</a></p>

<p>6.7  Write a procedure type-of that takes anything as its argument and returns one of the words word, sentence, number, or boolean:</p>

<pre><code>&gt; (type-of '(getting better))
  SENTENCE

&gt; (type-of 'revolution)
  WORD

&gt; (type-of (= 3 3))
  BOOLEAN
</code></pre>

<p>(Even though numbers are words, your procedure should return number if its argument is a number.)</p>
","149392","","<p>You can use the form <code>cond</code> to check several conditions and execute an action accordingly. You can use the predicates <code>boolean?</code>, <code>number?</code>, <code>word?</code> and <code>sentence?</code>¹ to find out whether a value is a boolean, number, word or sentence respectively. That's basically all there is to it.</p>

<p>The only thing you need to consider is that the case for <code>number?</code> must come before the case for <code>word?</code> (because <code>word?</code> would also return true for numbers as the exercise helpfully points out).</p>

<hr>

<p>¹ The first two are standard scheme, the latter two are defined in simply.scm, which comes with the book.</p>
"
"<p>While learning Ruby I've come across the ""=>"" operator on occasion. Usually I see it in the form of </p>

<pre><code>:symbol =&gt; value
</code></pre>

<p>and it <em>seems</em> to be used frequently when passing values to functions. What exactly is that operator called? What does it do/mean? Is it built into Ruby or is it something that different frameworks like Rails and DataMapper add to the symbol class? Is it only used in conjunction with the symbol class? Thanks.</p>
","149392","","<p><code>=&gt;</code> separates the keys from the values in a hashmap literal. It is not overloadable and not specifically connected to symbols.</p>

<p>A hashmap literal has the form <code>{key1 =&gt; value1, key2 =&gt; value2, ...}</code>, but when used as the last parameter of a function, you can leave off the curly braces. So when you see a function call like <code>f(:a =&gt; 1, :b =&gt; 2)</code>, <code>f</code> is called with one argument, which is a hashmap that has the keys <code>:a</code> and <code>:b</code> and the values <code>1</code> and <code>2</code>.</p>
"
"<p>I am wondering if there is a Ruby method call that shows only the methods defined by the Ruby object it's called from, as opposed to all the methods defined by its ancestor classes, which is what <code>methods</code> seems to do.</p>
","149392","","<p><code>methods</code> takes an optional boolean parameter, which specifies whether to also list the methods from the object's class and its superclasses or just the object's singleton methods. So you can do <code>obj.methods(false)</code> to only get the singleton methods defined on <code>obj</code>.</p>

<p>If you want the methods defined by the object's class, but not those defined by its superclasses, you can get that by calling <code>instance_methods(false)</code> on the object's class, so it's <code>obj.class.instance_methods(false)</code>.</p>
"
"<p>is it possible to get element from the list in SML of New Jersey without using function head and tail, something like that:</p>

<pre><code>val a = [1,2,3];
a[1];
</code></pre>

<p>thanks in advance </p>
","149392","","<p>You can use the function <code>List.nth</code>, which takes a tuple containing a list and an index and returns the element at that index. So in your example, it'd be <code>List.nth (a, 1)</code>.</p>

<p>Note however that accessing the <code>n</code>th element of a linked list is <code>O(n)</code>, so if you use <code>List.nth</code> to iterate through a list, you'll end up with quadratic running time.</p>
"
"<p>I want to convert Roman numerals, such as ""mcmxcix"", to arabic integers like ""1999"".</p>

<p>My code looks like:</p>

<pre><code>#~ I = 1 V = 5 X = 10 L = 50
#~ C = 100 D = 500 M = 1000


def roman_to_integer roman
  len = roman.length
  x = 1
  while x &lt;= len
    arr = Array.new
    arr.push roman[x]
    x += 1
  end
  num = 0
  arr.each do |i|
    if i == 'I'
      num +=  1
    elsif i == 'V'
      num +=  5
    elsif i == 'X'
      num +=  10
    elsif i == 'L'
      num +=  50
    elsif i == 'C'
      num +=  100
    elsif i == 'D'
      num += 500
    elsif i == 'M'
      num +=  1000
    end
  end

  num
end    

puts(roman_to_integer('MCMXCIX'))
</code></pre>

<p>The output is 0, but I don't understand why?</p>
","149392","","<p>Ruby doesn't have a post-increment operator. When it sees <code>++</code> it interprets that as one infix <code>+</code> followed by one prefix (unary) <code>+</code>. Since it expects an operand to follow after that, but instead finds the keyword <code>end</code>, you get a syntax error.</p>

<p>You need to replace <code>x++</code> with <code>x += 1</code>.</p>

<p>Furthermore note that <code>x</code> isn't actually in scope inside the <code>roman_to_integer</code> method (which isn't a syntax error, but nevertheless wrong).</p>

<p>Additionally you'll have to replace all your <code>if</code>s except the first with <code>elsif</code>s. The way you wrote it all the <code>if</code>s are nested, which means that a) you don't have enough <code>end</code>s and b) the code doesn't have the semantics you want.</p>
"
"<p>I wanted to ask if you could call in a program written in Ocaml a program written in python , and if the answer is yes how do I do?</p>
","149392","","<p>You can execute commands using <code>Sys.command</code>, so you can just do <code>Sys.command ""python foo.py""</code>, assuming python is in your path and foo.py is in the current directory.</p>
"
"<p>I am writing a helper that adds an HTML attribute to a link_to tag in rails. So, my thinking is that my helper method should accept any parameters or blocks passed to it, call link_to with those same parameters, add it's attribute to what is returned, and return the result to the caller.</p>

<p>Like this:</p>

<pre><code>def link_to(*args, &amp;block)
  ... rails code in link_to ...
end

def myhelper(*args, &amp;block) # Notice that at this point, 'args' has already
  link_to()                 # become an array of arguments and 'block' has
  ... my code ...           # already been turned into a Proc.
end

myhelper() # Any arguments or blocks I pass with this call should make
           # it all the way thorugh to link_to.
</code></pre>

<p>So, as you can see, there seems to be no way (that doesn't involve lots of code and conditional branching) to pass what myhelper has received to link_to without turning all of the parameters back into what they looked like before they got to my method.</p>

<p>Is there a more 'Ruby-like' solution to this problem?</p>
","149392","","<p>You can use <code>*</code> and <code>&amp;</code> in method calls to turn arrays back into lists of arguments and procs back into blocks. So you can just do this:</p>

<pre><code>def myhelper(*args, &amp;block)
  link_to(*args, &amp;block)
  # your code
end
</code></pre>
"
"<p>i have learned that a program is measured by it's complexity - i mean by Big O Notation.
why don't we measure it by it's absolute running time?
thanks :)</p>
","149392","","<p>You use the complexity of an algorithm instead of absolute running times to reason about algorithms, because the absolute running time of a program does not only depend on the algorithm used and the size of the input. It also depends on the machine it's running on, various implementations detail and what other programs are currently using system resources. Even if you run the same application twice with the same input on the same machine, you won't get exactly the same time.</p>

<p>Consequently when given a program you can't just make a statement like ""this program will take 20*n seconds when run with an input of size n"" because the program's running time depends on a lot more factors than the input size. You can however make a statement like ""this program's running time is in O(n)"", so that's a lot more useful.</p>
"
"<pre><code>let rec filtersList2fromList1 (List1:string list) (List2:string list) : string list =  
 let finalList = [] in  
 match List1 with  
 | s :: tl -&gt; if List.mem s List2 = true   
 then finalList @ [s] else filtersList2fromList1 tl List2  
        | [] -&gt; []
</code></pre>

<p>so that,</p>

<pre><code>filtersList2fromList1 [""x"";""y"";""z""] [""z"";""x""] would be [""x"";""z""]  
filtersList2fromList1 [""x"";""y"";""z""] [""x""] would be [""x""]
</code></pre>

<p>what I would like to add is, if the ""if"" statement is true, not only it would execute ""finalList @ [s]"", but also ""filtersList2fromList1 tl List2"" so that it will be a recursion. Without executing ""filtersList2fromList1 tl List2"" when it is true, </p>

<p><code>filtersList2fromList1 [""x"";""y"";""z""] [""z"";""x""]</code> would only be <code>[""x""]</code>, which is wrong.</p>

<p>How should I solve this problem?</p>

<p>Thank you very much</p>
","149392","","<p>Note that since you mentioned recursion, I'm assuming that when you wrote <code>dolls_of</code> you meant <code>filtersList2fromList1</code>. Also I'm assuming that <code>List1</code> and <code>List2</code> are supposed to be <code>list1</code> and <code>list2</code>, since the former would be an error.</p>

<p>It should also be pointed out that <code>@</code> is an <code>O(n)</code> operation and it is not recommended to use it to build up lists. However as Niki pointed out in the comments, your use of <code>finalList</code> is pointless, so you don't actually need <code>@</code> anyway.</p>

<p>To answer your question: You can execute two expressions after another by separating them with a <code>;</code>. However <code>dolls_of</code> is a function without side effects, so executing it without doing anything with its result would make little sense.</p>

<p>What you actually want to do, as far as I can tell, is:</p>

<pre><code>if List.mem s list2   
then s :: filtersList2fromList1 tl list2
else filtersList2fromList1 tl list2
</code></pre>
"
"<p>What is the easiest way to convert </p>

<pre><code>[x1, x2, x3, ... , xN]
</code></pre>

<p>to</p>

<pre><code>[[x1, 2], [x2, 3], [x3, 4], ... , [xN, N+1]]
</code></pre>

<p>?</p>
","149392","","<p>If you're using ruby 1.8.7 or 1.9, you can use the fact that iterator methods like <code>each_with_index</code>, when called without a block, return an <code>Enumerator</code> object, which you can call <code>Enumerable</code> methods like <code>map</code> on. So you can do:</p>

<pre><code>arr.each_with_index.map { |x,i| [x, i+2] }
</code></pre>

<p>In 1.8.6 you can do:</p>

<pre><code>require 'enumerator'
arr.enum_for(:each_with_index).map { |x,i| [x, i+2] }
</code></pre>
"
"<pre><code>class node{
public:
  unsigned long long int value;
  int index;
};


bool comp2(node&amp; a,node&amp; b){
  if(a.value &lt; b.value) { return true; }
  return false;
}

vector &lt;node*&gt;llist,rlist;
sort(llist.begin(),llist.end(),comp2);
</code></pre>

<p>Above code was giving me some weired error that is too in some other lines(places latter in code), but when i changed comp2 function to following all error disappeared .</p>

<pre><code>bool comp2(node* a,node* b){
  assert(a &amp;&amp; b &amp;&amp; ""comp2 - null argument"");
  if(a-&gt;value &lt; b-&gt;value){ return true; }
  return false;
}
</code></pre>

<p>Any rationale on this ?</p>

<p>ERROR:<code>/usr/include/c++/4.4/bits/stl_algo.h|124|error: invalid initialization of reference of type ‘node&amp;’ from expression of type ‘node* const’|</code></p>

<p>If this(bellow) works then above should also work</p>

<pre><code>using namespace std;

void rep(int&amp; a,int&amp; b){

int c;
c=a;
a=b;
b=c;

}

int main(void){

int a=3,b=4;

rep(a,b);
cout&lt;&lt;a&lt;&lt;"" ""&lt;&lt;b;
return 0;
}
</code></pre>
","149392","","<p>The rational is that your vector contains values of type <code>node*</code>, so the comparison functions needs to compare values of type <code>node*</code>.</p>
"
"<p>When evaluation order is specified as ""left to right"" and language is a (pseudo) C-like, <strong>which are the sequence points in the following examples?</strong></p>

<pre><code>int x = 1;
int z = x-- + x; // z = 1 + 0 or z = 1 + 1?
my_func(x++); // x incremented before or after my_func execution?
my_func(x++ + --x); // combining those above
</code></pre>
","149392","","<p>A sequence point is what the language standard defines to be a sequence point. The answers I'm about to give apply to C, but another ""C-like"" language might very well define different sequence points and thus have different answers to those questions.</p>

<pre><code>int z = x-- + x; // z = 1 + 0 or z = 1 + 1?
</code></pre>

<p>Since <code>+</code> is not a sequence point in C, the result of the above statement is undefined.</p>

<pre><code>my_func(x++); // x incremented before or after my_func execution?
</code></pre>

<p><code>x</code> is incremented before <code>my_func</code> runs, but <code>my_func</code> is called with the old value of <code>x</code> as an argument.</p>

<pre><code>my_func(x++ + --x); // combining those above
</code></pre>

<p>Undefined for the same reason as the first one.</p>
"
"<p>My brain has gone a lot fuzzy just recently and I can't for the life of me remember why the following C code: </p>

<pre><code>char a[3][3] = { ""123"", ""456"", ""789"" };
char **b = a;
</code></pre>

<p>Generates the following warning:</p>

<pre><code>warning: initialization from incompatible pointer type
</code></pre>

<p>Could someone please explain this for me.  </p>

<p>Thank you.</p>
","149392","","<pre><code>char (*b)[3] = a;
</code></pre>

<p>This declares <code>b</code> as a pointer to char arrays of size 3. Note that this is not the same as <code>char *b[3]</code>, which declares <code>b</code> as an array of 3 char pointers.</p>

<p>Also note that <code>char *b = a</code> is wrong and still emits the same warning as <code>char **b = a</code>.</p>
"
"<p>How to change the following method to use <code>tap</code> to stop the warnings like</p>

<p><code>DEPRECATION WARNING: Object#returning has been deprecated in favor of Object#tap. (called from full_messages at /Users/millisami/apps/pandahr/config/initializers/fix_active_model_full_message.rb:17)
:</code></p>

<pre><code>ActiveModel::Errors.class_eval do
  # Remove complicated logic
  def full_messages
    returning full_messages = [] do
      self.each_key do |attr|
        self[attr].each do |msg|
          full_messages &lt;&lt; msg if msg 
        end 
      end 
    end 
  end 
end 
</code></pre>
","149392","","<p>In general you can replace the <code>returning</code> line with this call to <code>tap</code>:</p>

<pre><code>[].tap do |full_messages|
</code></pre>

<p>However your method looks like it's equivalent to <code>values.compact</code>, so you can just replace your code with that.</p>
"
"<p>My database is:</p>

<pre><code>eat(magi,limo).
eat(nona,banana).
</code></pre>

<p>How do I ask: ""Who's not eating limo?"" This:</p>

<pre><code>eat(X,not(limo)).
</code></pre>

<p>Doesn't work. :(</p>
","149392","","<p>First of all <code>limo</code> is a symbol and you can't negate symbols. What you want to do is negate the predicate, i.e. <code>not(eat(X, limo))</code>.</p>

<p>However this still does not give you <code>nona</code> as a result. Why not? Well there are infinitely many values X for which <code>eat(X, limo)</code> will be false. The system needs more information than ""X does not eat limo"" to know which one you want. Instead we need to ask for an <code>X</code> such that ""X eats something, but X does not eat limo"". This leads us to the following query:</p>

<pre><code>eat(X,Y), not(eat(X, limo)).
</code></pre>

<p>Which gives us <code>nona</code> as the solution for <code>X</code>.</p>
"
"<p>This, will be a very strange question. And I really doubt it is possible. Some will call this stupid, and I wouldn't agree more. But it is for mere curiosity!</p>

<pre><code>class MyClass
  def initialize
    print ""Ha""
  end
end
</code></pre>

<p>Is there a way to print the class file? I mean, create a .txt file, containing exactly the code above?</p>
","149392","","<p>Sure. You can use the magic constant <code>__FILE__</code> which contains the path to the file that you use it in:</p>

<pre><code>class MyClass
  def initialize
    puts File.read(__FILE__)
  end
end
</code></pre>

<p>This will print the contents of the file containing the definition of <code>MyClass</code> every time you create a <code>MyClass</code> object.</p>
"
"<p>Is a dictionary basically just a hash table?</p>

<p>Also bonus: In the Ruby code ""Hash.new {0}"" what is the ""{0}"" at the end for?</p>
","149392","","<p>The words table, dictionary and map are often used synonymously (in the context of data structures). A hash table/hash map is one kind of table/dictionary/map.</p>

<p>The <code>{0}</code> is a block (anonymous function) which ignores its argument and returns the number 0. The block given to <code>Hash.new</code> is called to produce a default value when a key is not found in the hash map.</p>

<p>I.e. if I do <code>h = Hash.new {0}</code> and then <code>h[""key that does not exist""]</code>, I get back 0, instead of <code>nil</code> (which I'd get without the <code>{0}</code>). Note that in this case where the default value is immutable and does not depend on the key, you don't need to use the block form of <code>Hash.new</code>, you can just do <code>Hash.new(0)</code> to set 0 as the default value.</p>
"
"<p>In Ruby, the array subtraction or <code>reject</code></p>

<pre><code>&gt;&gt; [1,3,5,7,7] - [7]
=&gt; [1, 3, 5]

&gt;&gt; [1,3,5,7,7].reject{|i| i == 7}
=&gt; [1, 3, 5]
</code></pre>

<p>will remove all entries in the array.  Is there an easy to remove just 1 occurrence?</p>
","149392","","<p>The best I can think of is:</p>

<pre><code>found = false
[1,3,5,7,7].reject{|i| found = true if !found &amp;&amp; i == 7}
</code></pre>

<p>Or destructively:</p>

<pre><code>arr = [1, 2, 3, 5, 7, 7]
arr.delete_at( arr.index(7))
arr #=&gt; [1, 2, 3, 5, 7]
</code></pre>
"
"<p>Write a function that returns the running sum of list. e.g. running [1,2,3,5] is [1,3,6,11]. I write this function below which just can return the final sum of all the values among the list.So how can i separate them one by one?</p>

<pre><code>sumlist' xx=aux xx 0
    where aux [] a=a
          aux (x:xs) a=aux xs (a+x)
</code></pre>
","149392","","<p>You can adjust your function to produce a list by simply prepending <code>a+x</code> to the result on each step and using the empty list as the base case:</p>

<pre><code>sumlist' xx = aux xx 0
    where aux [] a = []
          aux (x:xs) a = (a+x) : aux xs (a+x)
</code></pre>

<p>However it is more idiomatic Haskell to express this kind of thing as a fold or scan.</p>
"
"<p>I am new to Haskell and I am reading the book  <a href=""http://book.realworldhaskell.org/read/functional-programming.html#fp.tailrecursion"" rel=""nofollow"">""Real World Haskell""</a>. In the Chapter 4 of the book the author asks as an exercise to rewrite the groupBy function using fold. One of the readers of the book (Octavian Voicu ) gave the following solution:</p>

<pre><code>
theCoolGroupBy :: (a -> a -> Bool) -> [a] -> [[a]]
theCoolGroupBy eq xs = tail $ foldr step (\_ -> [[]]) xs $ (\_ -> False)
                       where step x acc = \p -> if p x then rest p else []:rest (eq x)
                                          where rest q = let y:ys = acc q in (x:y):ys
</code></pre>

<p><strong>My question is simple:</strong> I know that foldr takes 3 arguments: a function, an initial value and a list. But in the second line of the code foldr takes 4 arguments. <strong>Why this happens?</strong>
Thank you.</p>
","149392","","<p>In this case <code>foldr</code> is used to build up a function. <code>(\_ -&gt; False)</code> is the argument to that function.</p>
"
"<p>I have the following code:</p>

<pre><code>if (element.matches(""class Int""))
      true
    else
      false
</code></pre>

<p>Is it possible to use a function like the *.getOrElse for Sets to have cleaner code?</p>
","149392","","<pre><code>if(condition) true else false
</code></pre>

<p>is equivalent to just <code>condition</code>, so you can remove the <code>if</code> statement in your code and just use</p>

<pre><code>element.matches(""class Int"")
</code></pre>

<p>Also note that your pattern doesn't actually contain any regex operators and <code>String.matches</code> matches the whole string, so the whole thing is equivalent to checking whether <code>element</code> is equal to <code>""class Int""</code>. So you don't actually need to use <code>matches</code> at all.</p>
"
"<p>I'm trying to write a very simple program in C++ that finds the modulus of two numbers as follows:</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;
int n;
int d;
int modulus;
int main()
{
cout&lt;&lt;""***Welcome to the MODULUS calculator***"";
cout&lt;&lt;""Enter the numerator, then press ENTER: "";
cin&gt;&gt;n;
cout&lt;&lt;""Enter the denominator, then press ENTER: "";
cin&gt;&gt;d;
modulus=n%d;
cout&lt;&lt;""The modulus is ---&gt; ""&lt;&lt;modulus;
return 0;
}
</code></pre>

<p>But, when I try to compile it, I get the following:</p>

<p><img src=""http://i.stack.imgur.com/u14PK.png"" alt=""alt text""></p>

<p>How can this be solved?</p>

<p>Thanks.</p>
","149392","","<p>You get the error because the name of your global variable <code>modulus</code> clashes with <code>std::modulus</code>. To fix this, you can:</p>

<ul>
<li>Make <code>modulus</code> a local variable</li>
<li>Rename the <code>modulus</code> variable</li>
<li>Remove <code>using namespace std</code> and either import the names you need from <code>std</code> individually or qualify them with <code>std::</code></li>
</ul>
"
"<pre><code>ghci&gt; zipWith' (zipWith' (*)) [[1,2,3],[3,5,6],[2,3,4]] [[3,2,2],[3,4,5],[5,4,3]]
</code></pre>

<p>The function zipWith' use function '*' and parameters after it to get the return.But in this case,how the function zipWith' to get the result [[3,4,6],[9,20,30],[10,12,12]] .</p>

<p>The code example using zipWith' was taken verbatim from the free online book <a href=""http://learnyouahaskell.com/higher-order-functions"" rel=""nofollow"">Learn You a Haskell for Great Good</a>.</p>
","149392","","<p><code>zipWith</code> calls the given function pairwise on each member of both lists. So <code>zipWith f [a,b,c] [x,y,z]</code> evaluates to <code>[f a x, f b y, f c z]</code>. In this case <code>f</code> is <code>zipWith (*)</code> and the elements of the lists are again lists, so you get:</p>

<pre><code>[ zipWith (*) [1,2,3] [3,2,2],
  zipWith (*) [3,5,6] [3,4,5], 
  zipWith (*) [2,3,4] [5,4,3] ]
</code></pre>

<p>Now the inner calls to <code>zipWith</code> multiply the elements of the inner lists pairwise, so you get:</p>

<pre><code>[ [3,4,6],
  [9,20,30],
  [10,12,12] ]
</code></pre>
"
"<pre><code>let gen_xy vals comp o = 
  List.fold_left ( fun a ( x, y ) -&gt; comp ( fst a ) x, comp ( snd a ) y ) o vals

let max_xy vals = gen_xy vals max ( min_int, min_int )
</code></pre>

<p>What would be the initial value assigned to min_int at the time when 
<code>max_xy [ (1,2);(3,4) ]</code> is entered at the #prompt?</p>

<p>Thanks for any input </p>
","149392","","<p><code>min_int</code> is a global constant, whose value is system dependent. On a 64 bit system (with a 64 bit version of ocaml to go with it), it will be -4611686018427387904.</p>

<p>Note that the value of <code>min_int</code> will not change during the run of your program, so talking about <code>min_int</code>'s ""initial value"" is a bit misleading.</p>
"
"<p>Take a look at the following and see if you can make any sense of it:</p>

<pre><code>Welcome to Scala version 2.8.1.final (Java HotSpot(TM) Client VM, Java 1.6.0_17).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; class A
defined class A

scala&gt; val a = new A
a: A = A@1643e4b

scala&gt; a.apply(""foo"")
&lt;console&gt;:8: error: value apply is not a member of A
       a.apply(""foo"")
         ^
</code></pre>

<p>It looks completely normal up to here. But then we add an implicit conversion.</p>

<pre><code>scala&gt; implicit def anyToFunc(any: Any) = { x: String =&gt; ""bar"" }
anyToFunc: (any: Any)(String) =&gt; java.lang.String

scala&gt; a.apply(""foo"")
res1: java.lang.String = bar
</code></pre>

<p>And suddenly A has a <code>apply</code> method that accepts an argument of same type that the function that the implicit returns takes!</p>

<p>Let's inspect it a little more:</p>

<pre><code>scala&gt; class B { override def toString = ""an instance of class B"" }
defined class B

scala&gt; implicit def anyToFunc(any: Any) = { x: String =&gt;
     | println(""any is "" + any.toString)
     | println(""x is "" + x)
     | ""bar"" }
anyToFunc: (any: Any)(String) =&gt; java.lang.String

scala&gt; val b = new B
b: B = an instance of class B

scala&gt; b.apply(""test"")
any is an instance of class B
x is test
res8: java.lang.String = bar
</code></pre>

<p>Is this a ""hidden feature""? If so, what are the uses for it?</p>
","149392","","<p>You're calling <code>apply</code> on an object of type <code>A</code>. <code>A</code> does not have an <code>apply</code> method. However <code>A</code> is implicitly convertible to <code>Function[String, String]</code>, which does have an <code>apply</code> method. Thus the implicit conversion is applied and <code>apply</code> is called on the converted object.</p>

<p>There's nothing magic or hidden about this feature. If an object doesn't have the method you're calling on it, but is implicitly convertible to one that does, it will be converted. It's exactly what implicit conversions are for.</p>
"
"<p>I'm working my way through Accelerated C++ and have decided to mess around with the one of structs that were defined in there. While doing so, I've come across a problem: creating a vector of these structs and modifying the elements in each one seems to modify the elements in all of them.</p>

<p>I realize that this probably means I've initialized all the structs in the vector to a struct at a single memory address, but I used the .push_back() method to insert ""dummy"" structs in to the vector. I was under the impression that .push_back() pushes a copy of its argument, effectively creating a new struct.</p>

<p>Here is the header for the struct:</p>

<pre><code>#ifndef _STUDENT_INFO__CHAPTER_9_H
#define _STUDENT_INFO__CHAPTER_9_H

#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;

class Student_info9{
public:
    Student_info9(){homework = new std::vector&lt;double&gt;;};
    Student_info9(std::istream&amp; is);

    std::string getName() const {return name;};
    double getMidterm() const {return midterm;};
    double getFinal() const {return final;};
    char getPassFail() const {return passFail;};

    std::vector&lt;double&gt; *getHw(){return homework;};

    void setName(std::string n) {name = n;};
    void setMidterm(double m) {midterm = m;};
    void setFinal(double f) {final = f;};


private:
    std::string name;
    double midterm;
    double final;
    char passFail;

    std::vector&lt;double&gt; *homework;
};


#endif  /* _STUDENT_INFO__CHAPTER_9_H */
</code></pre>

<p>And here is the code that i'm fooling around with (excuse the excessive print statements... the result of some time trying to debug :) ):</p>

<pre><code>vector&lt;Student_info9&gt; did9, didnt9;

bool did_all_hw9(Student_info9&amp; s)
{
    vector&lt;double&gt;::const_iterator beginCpy = s.getHw()-&gt;begin();
    vector&lt;double&gt;::const_iterator endCpy = s.getHw()-&gt;end();
    return(find(beginCpy, endCpy, 0) == s.getHw()-&gt;end());
}

void fill_did_and_didnt9(vector&lt;Student_info9&gt; allRecords)
{
    vector&lt;Student_info9&gt;::iterator firstDidnt = partition(allRecords.begin(), allRecords.end(), did_all_hw9);


    vector&lt;Student_info9&gt; didcpy(allRecords.begin(), firstDidnt);


    did9 = didcpy;

    vector&lt;Student_info9&gt; didntcpy(firstDidnt, allRecords.end());
    didnt9 = didntcpy;


}

int main(int argc, char** argv) {

    vector&lt;Student_info9&gt; students;

    Student_info9 record;

    for(int i = 0; i &lt; 5; i++)
    {
        students.push_back(record);
    }

    for(int i = 0; i &lt; students.size(); i++)
    {
        students[i].setMidterm(85);
        students[i].setFinal(90);

        students[i].getHw()-&gt;push_back(90);
        std::cout &lt;&lt; ""student["" &lt;&lt; i &lt;&lt; ""]'s homework vector size is "" &lt;&lt; students[i].getHw()-&gt;size() &lt;&lt; std::endl;
        students[i].getHw()-&gt;push_back(80);
        std::cout &lt;&lt; ""student["" &lt;&lt; i &lt;&lt; ""]'s homework vector size is "" &lt;&lt; students[i].getHw()-&gt;size() &lt;&lt; std::endl;
        students[i].getHw()-&gt;push_back(70);
        std::cout &lt;&lt; ""student["" &lt;&lt; i &lt;&lt; ""]'s homework vector size is "" &lt;&lt; students[i].getHw()-&gt;size() &lt;&lt; std::endl;

        std::cout &lt;&lt; ""Just pushed back students["" &lt;&lt; i &lt;&lt; ""]'s homework grades"" &lt;&lt; std::endl;

        if(i == 3)
            students[i].getHw()-&gt;push_back(0);
    }

    std::cout &lt;&lt; ""student[3]'s homework vector size is "" &lt;&lt; students[3].getHw()-&gt;size() &lt;&lt; std::endl;

    for(vector&lt;double&gt;::const_iterator it = students[3].getHw()-&gt;begin(); it != students[3].getHw()-&gt;end(); it++)
        std::cout &lt;&lt; *it &lt;&lt; "" "";

    std::cout &lt;&lt; std::endl;

    std::cout &lt;&lt; ""students[3] has "" &lt;&lt; ( ( find(students[3].getHw()-&gt;begin(),students[3].getHw()-&gt;end(), 0) != students[3].getHw()-&gt;end()) ? ""atleast one "" : ""no "" )
            &lt;&lt; ""homework with a grade of 0"" &lt;&lt; std::endl;

    fill_did_and_didnt9(students);


    std::cout &lt;&lt; ""did9's size is: "" &lt;&lt; did9.size() &lt;&lt; std::endl;
    std::cout &lt;&lt; ""didnt9's size is: "" &lt;&lt; didnt9.size() &lt;&lt; std::endl;

}
</code></pre>

<p>As you can see by the print statements, it seems that the homework grades are being added only to one Student_info9 object, copies of which seem to be populating the entire vector. I was under the impression that if you were to use consecutive copies of .push_back() on a single object, it would create copies of that object, each with different memory addresses. </p>

<p>I'm not sure if that's the source of the problem, but hopefully someone could point me in the right direction.</p>

<p>Thanks.</p>
","149392","","<p>When you push a StudentInfo onto the vector, it is indeed copied, so that's not the problem. The problem is the vector containing the homework grades. Since you only store a pointer to that vector in StudentInfo, only the pointer, not the vector, is copied when you copy a StudentInfo. In other words you have many different StudentInfos that all have a pointer to the same homework vector.</p>

<p>To fix this you should define a copy constructor which takes care of copying the homework vector.</p>
"
"<p>I have an array of filenames, is there any way to sort these files by modification date?</p>
","149392","","<p>You can use the <code>sort_by</code> method in conjunction with <code>File.mtime</code> method, which returns the last modification time of the given file.</p>

<pre><code>filenames.sort_by {|filename| File.mtime(filename) }
</code></pre>
"
"<p>How to replace an item by another in a list in DrScheme when given paramters are two items and a list?</p>
","149392","","<p>Use <code>map</code> with a function which returns the replacement item when its argument is equal to the item you want to replace and the argument otherwise.</p>
"
"<p>I've a program that just adds two vectors v1 and v2 like this : v1+=v2. At each iteration v2 gets added to v1. Consider the following program:</p>

<pre><code>    #include &lt;iostream&gt;
    #include &lt;vector&gt;
    #include &lt;iterator&gt;

    using namespace std;

    typedef vector&lt;double&gt; v_t;

    int main(){

    v_t v1;
    v_t v2;

    for (int i = 1; i&lt;10; i++){
      v1.push_back(i);
      v2.push_back(i);
      if (i == 5){            // Just want to insert a 0 inbetween
        v1.push_back(0);
        v2.push_back(0);
      }
    }

 // v1 :  1 2 3 4 5 0 6 7 8 9
 // v2 :  1 2 3 4 5 0 6 7 8 9

    v_t::iterator it2(v2.begin());
      for(v_t::iterator it(v1.begin()), end(v1.end()); it != end; )
      *(it++) += *(it2++);

    copy(v1.begin(), v1.end(), ostream_iterator&lt;double&gt;(cout, "" ""));
      cout &lt;&lt; endl;
    }
</code></pre>

<p>The output of the program is:</p>

<pre><code> 2 4 6 8 10 0 12 14 16 18  // This is correct and what I need
</code></pre>

<p>but if I modify the for loop like this :</p>

<pre><code>.
.
.
v_t::iterator it2(v2.begin());
  for(v_t::iterator it(v1.begin()), end(v1.end()); it != end &amp;&amp; ( *(it++) += *(it2++) ); );

 copy(v1.begin(), v1.end(), ostream_iterator&lt;double&gt;(cout, "" ""));
      cout &lt;&lt; endl;
    }
</code></pre>

<p>Now the output is :</p>

<pre><code>2 4 6 8 10 0 6 7 8 9 
</code></pre>

<p>i.e. whenever it encounters 0 at the same place in both the vectors it stops adding. Why ? More over 0 doesn't mark the end of any vector, does it? It is also an value.</p>

<p>Please feel free to edit the title of my question if you feel it's not meaningful.</p>
","149392","","<p>Your for-loop's condition is <code>it != end &amp;&amp;  *(it++) += *(it2++)</code>. If both <code>*it</code> and <code>*it2</code> are 0, <code>*(it++) += *(it2++)</code> will evaluate to 0, so your condition is false and the loop exits.</p>

<p>Rather than putting this in the condition part of your for-statement you should put it in the last part, which you left empty:</p>

<pre><code>for(v_t::iterator it(v1.begin()), end(v1.end()); it != end; *(it++) += *(it2++))
</code></pre>
"
"<p>I'm hoping to get my Ruby script to start at an inputted number, say 100, and itterate all the way up to the end of the range; 1000. Having all the numbers in between saved to a file.</p>

<p>This is a code I have so far:</p>

<pre><code>#!/usr/bin/env ruby

if ARGV.length ==0; 
 puts ""Enter the start number""
 else puts ARGV.size  
ARGV.each do |a| 


for i in 0..1000 do
 puts i;

     end  
 end
end
</code></pre>

<p>To run it I'm typing:</p>

<pre><code>ruby increment.rb 100 &gt; increment.txt 
</code></pre>

<p>However, it ignores the input number and starts at 1 regardless.</p>

<p>What am I doing wrong?</p>
","149392","","<p>It starts at 0 because you're giving it the range <code>0..1000</code>, which starts at 0. If you want to use the numeric value of <code>a</code> as the starting point, use <code>a.to_i</code> instead of 0.</p>
"
"<p>Came across this snippet that does :</p>

<pre><code>@@dataList[i] = [[0,[]]]
</code></pre>

<p>What do the double brackets do? What if I wrote :</p>

<pre><code>@@dataList[i] = [0,[]]
</code></pre>

<p>.. would it work any different?</p>
","149392","","<p><code>[0,[]]</code> is an array of size 2 whose first element is the number 0 and whose second element is an empty array.</p>

<p><code>[ [0,[]] ]</code> is an array of size 1 whose first and only element is an array of size 2.</p>
"
"<p>I have problems understanding lambda calculus operators precedence.</p>

<p>For example the following code:</p>

<pre><code>lambda x.x z lambda y.x y
</code></pre>

<p>is going to be:</p>

<pre><code>lambda x. (x (z lambda y. x y))
</code></pre>

<p>or    </p>

<pre><code>lambda x. ((x z) (lambda y. x y))
</code></pre>

<p>?</p>

<p>Even more complicated examples:</p>

<pre><code>(lambda x.x z) lambda y.w lambda w.w x y z
</code></pre>

<p>where in the above example the parentheses go ?</p>

<p>I know that lambda application is left associative but does lambda values
have higher precedence over applications?</p>
","149392","","<p>Application has higher precedence than abstraction. Together with the fact that application is left-associative and abstraction is right-associative, this leads to the following:</p>

<pre><code>lambda x.x z lambda y.x y
</code></pre>

<p>is</p>

<pre><code>lambda x. ( (x z) (lambda y. (x y)) )
</code></pre>

<p>and</p>

<pre><code>(lambda x.x z) lambda y.w lambda w.w x y z
</code></pre>

<p>is</p>

<pre><code>(lambda x. (x z)) (lambda y. (w (lambda w. (((w x) y) z))))
</code></pre>
"
"<p>Rails 2.3.5, Ruby 1.86</p>

<p>I'm not really understanding this warning.   I'm getting one warning for each record containted in <code>@directories</code> when using <code>@directories</code> in a <code>collection_select</code>.   I've tried playing around with the <code>:id</code> instances using them differently but with no luck.  I'm sure it's something simple (I'm still pretty new).   </p>

<p>Thanks in Advance!</p>

<p>error:</p>

<blockquote>
  <p>C:/Ruby186/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_options_helper.rb:328:</p>
  
  <p>warning: do not use Fixnums as Symbols</p>
</blockquote>

<p>The offending code:</p>

<pre><code>&lt;% if !params[:directory].nil? %&gt;
  &lt;%= collection_select :directory, :id, @directories, (:id).to_i, :name,
                      {:selected =&gt; params[:directory][:id].map{|id|id.to_i}}, {:size =&gt; 7, :multiple =&gt; true} %&gt;
&lt;% else %&gt;
  &lt;%= collection_select :directory, :id, @directories, (:id).to_i, :name,
                      {:selected =&gt; @directory_ids}, {:size =&gt; 7, :multiple =&gt; true} %&gt;
&lt;% end %&gt;
</code></pre>
","149392","","<p>You're passing in <code>(:id).to_i</code> as an argument to <code>collection_select</code>. <code>collection_select</code> then uses it as an argument to <code>send</code>. Since <code>(:id).to_i</code> is an integer and <code>send</code> being called with an integer as an argument is almost always a mistake, <code>send</code> emits the warning you get.</p>

<p>It should be noted that there is no reason to use <code>:id.to_i</code> instead of just <code>:id</code> here since the only difference between <code>send(:symbol)</code> and <code>send(:symbol.to_i)</code> is that the latter produces a warning.</p>
"
"<p>I have this line:</p>

<pre><code>;Last updated: Sunday, January 23, 2011
</code></pre>

<p>I would like to replace the date with the current time. So, I used replace-regxp with the following key combinations:</p>

<pre><code>M-x replace-regexp RET \(Last updated: \)[A-Z ,]*[0-9 ,]* RET \1\,(format-time-string ""%A, %B %e, %Y"")
</code></pre>

<p>But this yields the following result:</p>

<pre><code>;Last updated: Tuesday, January 25, 2011unday, January 23, 2011
</code></pre>

<p>How can I get replace-regexp to replace the whole of the old date instead of just the first letter?</p>
","149392","","<p>Your regex only matches upper case letters. Since the <code>u</code> in <code>Sunday</code> is lower case, it only matches <code>Last updated: S</code>, so that's all that gets replaces.</p>

<p>To fix this add <code>a-z</code> to the character range.</p>
"
"<p>In Ruby, is it possible to rescue all exceptions except for a specified one?</p>
","149392","","<p>Not as such no. But you can rescue all exceptions and reraise the exception if it is a MyException.</p>
"
"<p>I'm new to ruby world and i'm currently studying it.  I have read over the google about <code>nil</code> object, but still can`t figure out what it is ?</p>

<p>Can anyone explain me in more details or share some link for further reading ?</p>
","149392","","<p><code>nil</code> is the one and only instance of the <code>NilClass</code> class. It doesn't have any special behavior (other than the fact that it's interpreted as false in a boolean context (e.g. in an <code>if</code> condition), as Andrew Grimm helpfully pointed out). The purpose of <code>nil</code> is to signify ""no result"".</p>

<p>For example a method which is supposed to find an item meeting a certain condition would return <code>nil</code> if there is no item that meets the condition. Or accessing the <code>i</code>th element of an array which has less than <code>i</code> elements will return <code>nil</code>.</p>

<p>It has a similar purpose to the null pointer in other languages, except that you can call <code>Object</code> methods (i.e. methods which are defined on every object) on it without causing an exception.</p>
"
"<p>Would this cause a compilation error?  </p>

<pre><code>#include&lt;iostream.h&gt;
#include&lt;conio.h&gt;
void main()
{clrscr();
int x=2;
switch (x)
     {case 1: cout&lt;&lt;""i am 1"";
defult: cout&lt;&lt;""i made a typo"";}   }
</code></pre>

<p>If not, why not?</p>
","149392","","<p>Assuming <code>conio.h</code> and <code>iostream.h</code> exist, <code>cout</code> is defined in the global namespace and your compiler accepts the non-standard signature <code>void main()</code> for the <code>main</code> function, your code will compile without errors.</p>

<p>You're probably wondering why <code>defult:</code> is not an error: That is because it is interpreted as a label. I.e. your switch statement has a single case and inside that case there is a label named ""defult"", which you can jump to using <code>goto defult</code>.</p>

<p>It should be noted that after I removed the references to <code>conio.h</code> and <code>clrscr</code>, changed <code>iostream.h</code> to <code>iostream</code>, referred to <code>cout</code> as <code>std::cout</code> and changed the type of <code>main</code> to <code>int</code>, <code>g++ -Wall</code> compiled the code without errors, but produced the warning ""warning: label ‘defult’ defined but not used"". So while the code is indeed valid code and will compile fine, a decent compiler will warn you about the typo.</p>
"
"<p>Is there a difference between</p>

<pre><code>x = Class.new( or method)
x.method
</code></pre>

<p>and</p>

<pre><code>Class.new(or method) do |x|
x.method
end
</code></pre>
","149392","","<pre><code>x = SomeClass.new
x.some_method
</code></pre>

<p>This first creates an instance of <code>SomeClass</code> (calling <code>initialize</code> with no arguments). It then calls the method <code>some_method</code> on that instance.</p>

<pre><code>SomeClass.new do |x|
  x.some_method
end
</code></pre>

<p>This creates an instance of <code>SomeClass</code>, calling <code>initialize</code> with a block as its argument. That block takes one argument and calls <code>some_method</code> on that argument. Whether and how often the block will be called and what the argument will be depends entirely on what <code>SomeClass</code>'s initialize method does.</p>

<p>In many cases the pattern</p>

<pre><code>SomeClass.some_creation_method do |x|
  x.some_method
end
</code></pre>

<p>is used, so that <code>some_creation_method</code> creates a <code>SomeClass</code> instance, yields it to the block and then frees all the resources used by that instance after the block finishes (e.g. it could close file handles, delete temporary files etc.). This is what <code>File.open</code> does.</p>

<hr>

<p>In the case where the class in question is literally <code>Class</code> the block will be <code>class_eval</code>ed on the newly created class, i.e.</p>

<pre><code>c = Class.new do
  some_code
end
</code></pre>

<p>is equivalent to</p>

<pre><code>c = Class.new
c.class_eval do
  some_code
end
</code></pre>
"
"<p>Say I have the following classes:</p>

<pre><code>class Foo
  attr_accessor :name, :age
end

class Bar
    def initialize(name)
        @foo = Foo.new
        @foo.name = name
    end
end
</code></pre>

<p>I'd like to define an accessor on Bar that is simply an alias to foo.name. Easy enough:</p>

<pre><code>def name
  @foo.name
end

def name=(value)
  @foo.name = value
end
</code></pre>

<p>With only one property, this is easy enough. However, say Foo exposes several properties that I want to expose through Bar. Rather than defining each method manually, I want to do something like this, though I know the syntax isn't right:</p>

<pre><code>[:name, :age].each do |method|
  def method
    @foo.method
  end

  def method=(value)
    @foo.method = value
  end
end
</code></pre>

<p>So...what is the correct way of defining methods like this?</p>
","149392","","<p>To define a method dynamically you can use <code>define_method</code> which takes the method name as a symbol or string argument.</p>

<p>To call a method dynamically you can use <code>send</code> which also takes the method name as a symbol or string.</p>

<pre><code>[:name, :age].each do |method|
  define_method(method) do
    @foo.send(method)
  end

  define_method(""#{method}="") do |value|
    @foo.send(""#{method}="", value)
  end
end
</code></pre>
"
"<p>In my controller i have the following:</p>

<pre><code>@documents = Document.find(:all, :order =&gt; ""section asc, sub_section asc, position asc, name asc"")
@files = Dir.glob(""public/downloads/*"").sort
</code></pre>

<p>In my view i have the following:</p>

<pre><code>&lt;% @documents.each do |d| -%&gt;
    &lt;tr class=""&lt;%= cycle("""",""alt"") %&gt;""&gt;
        &lt;td&gt;&lt;%= d.name %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%= d.file_name %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%= d.description %&gt;&lt;/td&gt;
        &lt;td&gt;
            &lt;%= link_to ""Edit"", edit_document_path(d) %&gt;&lt;br&gt;
            &lt;%= link_to ""Del"", document_path(d), :confirm =&gt; ""Are you sure boogerhead?"", :class =&gt; ""destroy"", :method =&gt; :delete %&gt;
        &lt;/td&gt;
    &lt;/tr&gt;
&lt;% end -%&gt;
</code></pre>

<p>If file_name is not contained in @files then the link on another page that is dependent on that name (file_name) will not work. If there is not a match, I'll color code file_name to indicate there is a problem. How do i check to see if file_name is contained in @files?</p>

<p>Thanks</p>
","149392","","<p>The <code>Array#include?</code> method checks whether a given item is contained in an array, so you can do:</p>

<pre><code>if @files.include?(d.file_name)
  # It is included
else
  # It isn't
end
</code></pre>
"
"<p>Recently I discovered that <code>tap</code> can be used in order to ""drily"" assign values to new variables; for example, for creating and filling an array, like this:</p>

<pre><code>array = [].tap { |ary| ary &lt;&lt; 5 if something }
</code></pre>

<p>This piece of code will push 5 into array if something is true; otherwise, array will remain empty.</p>

<p>But I cannot understand why after executing this piece of code:</p>

<pre><code>array = [].tap { |ary| ary += [5] if something }
</code></pre>

<p>array will be still empty. Can someone help me?</p>
","149392","","<p>In the first case <code>array</code> and <code>ary</code> point to the same object. You then mutate that object using the <code>&lt;&lt;</code> method. The object that both <code>array</code> and <code>ary</code> point to is now changed.</p>

<p>In the second case <code>array</code> and <code>ary</code> again both point to the same array. You now reassign the <code>ary</code> variable, so that <code>ary</code> now points to a new array. Reassigning <code>ary</code> however has no effect on <code>array</code>. In ruby reassigning a variable never effects other variables, even if they pointed to the same object before the reassignment.</p>

<p>In other words <code>array</code> is still empty for the same reason that <code>x</code> won't be 42 in the following example:</p>

<pre><code>x = 23
y = x
y = 42 # Changes y, but not x
</code></pre>

<p>Edit: To append one array to another in-place you can use the <code>concat</code> method, which should also be faster than using <code>+=</code>.</p>
"
"<p>I have seen a lot usage of double colon in rails before class name.</p>

<p>For example </p>

<pre><code>require ::File.expand_path('../config/environment',  __FILE__)
</code></pre>

<p>I know what <code>Module::Class::Constant</code> means but <code>::Class</code> ?</p>
","149392","","<p>It means that you're referring to the constant <code>File</code> from the toplevel namespace. This makes sense in situations like this:</p>

<pre><code>class MyClass #1
end

module MyNameSpace
  class MyClass #2
  end

  def foo # Creates an instance of MyClass #1
    ::MyClass.new # If I left out the ::, it would refer to
                  # MyNameSpace::MyClass instead.
  end
end
</code></pre>
"
"<pre><code>   ARGF.each_with_index do |line, idx|
      print( ""[#{idx}] #{line} x: "" );
      indent = Indent
         # do stuff
      indent = """"
   end #ARGF e
</code></pre>

<p>Each line from STDIN is displayed as,</p>

<pre><code>   x: [1] W:\sandbox\tmp\for_each\for_each.rake
</code></pre>

<p>Which is <em>not good</em> / <strong><em>odd</em></strong>, if you ask me.</p>

<p>One further unexplained result, the line ... </p>

<pre><code> print( ""ab: [#{idx}] #{line} x: "" );
</code></pre>

<p>Displays:</p>

<pre><code>x: ab: [1] W:\sandbox\tmp\for_each\for_each.rake
</code></pre>

<p>I just get weird feelings here.  Three questions, is this a:</p>

<ol>
<li><em>HOW</em> does the ""x:"" string wind-up at the beginning of each '<strong><em>line</em></strong>' the string??!</li>
<li>Ruby v1.8.7 bug or my bug?</li>
<li>How to fix it?</li>
</ol>

<p>Help wanted.  I keep looking at this and wonder if I what really dumb thing I did?  Many thanks in advance.</p>

<p>aloha, Will</p>
","149392","","<p><code>each_line</code> does not remove the newlines at the end of the lines, so the strings yielded by <code>each_line</code> will contain newlines. <code>print</code> on the other hand will not add newlines to the end of strings (if you want that, use <code>puts</code>). So <code>print ""hello\nworld:</code> followed by <code>print ""lala""</code>, will print</p>

<pre><code>hello
world:lala
</code></pre>

<p>which explains why your output looks the way it does.</p>

<p>To get the output you want, use <code>line.chomp</code> instead of <code>line</code>, which will remove the newline at the end of <code>line</code> and thus prevent your strings from containing a line break before <code>x:</code>.</p>
"
"<p>I'm trying to learn Clojure but my synapses seem to be hard-wired to Smalltalk.</p>

<p>What's the equivalent of this function?</p>

<pre>
[:n :k | (1 to: k) inject: 1 into: [:c :i | c * (n - k + i / i)]]
</pre>

<ul>
<li>this is the binomial coefficient for n, k - also known as ""choose"" function, representing the number of combinations of n things taken k times</li>
</ul>
","149392","","<p>The clojure equivalent of <code>lst inject: s into: f</code> is <code>(reduce f s lst)</code></p>
"
"<pre><code>[[0, 1, 2],
 [2, 1, 0],
 [0, 1, 2]]
</code></pre>

<p>What is an easy way to check of this matrix has all values down a column the same?</p>

<pre><code>[[0, 1, 0],
 [2, 2, 2],
 [0, 1, 2]]
</code></pre>

<p>And then horizontally?</p>
","149392","","<p>To check whether there's a row in which all items are the same, you can do:</p>

<pre><code>array.any? do |row|
  row.all? {|item| row[0] == item }
end
</code></pre>

<p>To check whether there's a column, you can first transpose the array and then do the same.</p>
"
"<p>In Python, you can use the <code>_</code> field to grab the last computed value. That's really useful in IDLE. Does Ruby have an equivalent for IRB?</p>

<p>An example from Python:</p>

<pre><code>&gt;&gt;&gt; 2 + 2
4
&gt;&gt;&gt; _
4
&gt;&gt;&gt; ""Me "" + ""You""
'Me You'
&gt;&gt;&gt; _
'Me You'
</code></pre>
","149392","","<p>In IRB you can use <code>_</code> as well.</p>
"
"<p>I am really, really new to programming, but am eager to learn, so please excuse this question if it's a dumb one. I've created this game thing in order to help me learn OOP and I'm having trouble with part of it. Here's what's causing me problems:</p>

<p>I have two classes. On line 3 of class Player, I have some code which is probably way wrong, but basically what I'm trying to do is use armor to modify how much damage a player receives. I'm getting an error, though: ""undefined method 'protection' for nil:NilClass (NoMethodError)</p>

<p>I have Armor as another class. I think the problem might relate to the fact that I am calling @armor.protection when protection is mentioned in Armor and @armor is mentioned in Player, but I am unsure how to fix this. I have added all the code I believe is relevant to my question below. And, like I said, I'm really new at this. I've pretty must just read ""Learn to Program"" by Chris Pine, so please use the noobiest (is that a word?) terms you can and please be nice. :P</p>

<pre><code>class Player
  def equip(armor)
    @armor = armor
  end

  def hit(damage)
    #damage = damage - @armor.protection
    @health -= damage
  end
end  

class Armor
  def initialize(name, protection)
    @protection = protection
  end
end
</code></pre>

<p>EDIT: added additional code to show all of what I've got going on for clarification. <strong>I don't expect anyone to read all of what I've got</strong>, though. :S It's probabably scary and snarled up. :P </p>

<pre><code>class Player 

  def initialize(name, health) 
    @name = name 
    @health = health 
  end 

  def equip(armor) 
    @armor = armor 
  end 

  def health 
    @health 
  end 

  def health=(value) 
    @health = value 
  end 

  def hit(damage) 
damage = damage - @armor.protection 
    @health -= damage 
  end 

  def dead? 
if @health &lt;= 0 
return true 
elsif @health &gt; 0 
return false 
end 
  end 

  def name 
    @name 
  end 

  def attack(target) 
    damage = rand(30) 
    puts ""#{@name} attacks #{target.name}"" 
target.hit(damage) 
puts ""#{@name} hits #{target.name} for #{damage} damage."" 
  end 
end 

class Armor 
  def initialize(name, protection) 
  @protection = protection 
  end 
end 


player1 = Player.new(""Melanie"", 100) 
player2 = Player.new(""a Monster"", 200) 
shirt = Armor.new('shirt', 4) 
player1.equip(shirt) 

while player1.dead? == false &amp;&amp; player2.dead? == false 
  player1.attack(player2) 
    if player2.health &gt; 0 
      puts ""#{player2.name}'s health is at #{player2.health}."" 
    elsif player2.health &lt;= 0 
puts ""#{player2.name} has no health."" 
end 
  player2.attack(player1) 
    if player1.health &gt; 0 
      puts ""#{player1.name}'s health is at #{player1.health}."" 
    elsif player1.health &lt;= 0 
puts ""#{player1.name} has no health."" 
end 
end 

if player1.health &gt; player2.health 
  puts ""#{player2.name} is dead."" 
  puts ""#{player1.name} wins."" 
elsif player2.health &gt; player1.health 
  puts ""#{player1.name} is dead."" 
  puts ""#{player2.name} wins."" 
elsif player2.health == player1.health 
  puts ""#{player1.name} and #{player2.name} killed each other."" 
end 
</code></pre>
","149392","","<p>If your Armor class has a <code>protection</code> method, it would work fine. However it doesn't, so even if you were to call it from inside the <code>Armor</code> class, you'd get the same error. To define it you can either use <code>attr_reader</code> or <code>attr_accessor</code> or define it by hand.</p>

<pre><code>class Armor
  attr_accessor :protection

  def initialize(name, protection)
    @protection = protection
  end
end
</code></pre>

<p>or</p>

<pre><code>class Armor
  def initialize(name, protection)
    @protection = protection
  end

  def protection
    @protection
  end
end
</code></pre>
"
"<p>I want to use nested lists of nestedness 2 to represent matrix (e.g. <code>[[1,2,3],[4,5,6]]</code>). How would I define a function that process small submatrices (say 2*2)? I expected something like this:
<code>f (a1:a2:a) : (b1:b2:b) : x = ...</code>
Where a1, a2 are two consecutive elements of first row and b1, b2 — second row. a, b are rests of first and second row correspondigly. x is the rest of matrix rows.</p>

<p>But this clearly doesn't work.</p>

<p>Thanks in advance!</p>
","149392","","<blockquote>
  <p>I expected something like this: <code>f (a1:a2:a) : (b1:b2:b) : x = ...</code></p>
</blockquote>

<p>You've got the right idea. All you're missing is a pair of parentheses:</p>

<pre><code>f ((a1:a2:a) : (b1:b2:b) : x) = ...
</code></pre>
"
"<p>I would like to do:</p>

<pre><code>(mapcar #'assoc '(a s) '((a . b) (c . d) (s . f)))
</code></pre>

<p>and have it return</p>

<pre><code>((A . B) (S . F))
</code></pre>

<p>Which seems pretty reasonable, considering <code>(assoc 'a '((a . b) (c . d) (s . f)))</code> returns <code>(A . B)</code> and <code>(assoc 's '((a . b) (c . d) (s . f)))</code> returns <code>(S . F)</code>. But alas it does not work:</p>

<pre><code>*** - ASSOC: A is not a list
The following restarts are available:
ABORT          :R1      Abort main loop
</code></pre>

<p>Any thoughts?</p>
","149392","","<p>When used with two lists, <code>mapcar</code> applies the function pair-wise to the lists (and with three lists it applies them triple-wise etc.). So</p>

<pre><code>(mapcar #'assoc '(a s) '((a . b) (c . d) (s . f)))
</code></pre>

<p>is the same as</p>

<pre><code>( (assoc 'a (a . b)) (assoc 's (c . d)) )
</code></pre>

<p>(when used with lists of different length, <code>mapcar</code> uses the size of the smallest list). To get what you want, you should do:</p>

<pre><code>(mapcar (lambda (x) (assoc x '((a . b) (c . d) (s . f)))) '(a s))
</code></pre>
"
"<p>I'm looking to learn Ruby, I have some basic programming experience but would still class myself as a rookie to be honest. Which languages do I need to be aware and familiar with before  beginning to learn Ruby?</p>
","149392","","<p>None. Ruby works well without prior knowledge/experience.</p>

<p>Ruby draws inspiration from Smalltalk, Lisp and Perl, but there's no reason you'd need to know them before learning ruby (as a matter of fact it's probably easier to learn than the former two and learning Perl will probably teach you some habits you'll need to unlearn to write idiomatic ruby).</p>
"
"<p>I am trying to handle an array with Ruby v1.9.2 but it has some strange behavior. </p>

<p>The best explanation may be done with examples:</p>

<hr>

<p><em>CASE 1 TEST</em></p>

<pre><code>@test1 = ""image/bmp, image/gif, image/jpg"".split(',')
</code></pre>

<p>Debug @test1:</p>

<pre><code>--- 
- image/bmp    # why this?!
- "" image/gif""
- "" image/jpg""
</code></pre>

<hr>

<p><em>CASE 2 TEST</em></p>

<pre><code>@test2 = "", image/bmp, image/gif, image/jpg"".split(',')
</code></pre>

<p>Debug @test2:</p>

<pre><code>--- 
- """"           # why this?!
- "" image/bmp""
- "" image/gif""
- "" image/jpg""
</code></pre>

<hr>

<p><strong>WHAT I NEED</strong></p>

<p>Notice: I can use the CASE 2 TEST, but I would like to do things right and better.</p>

<p>Debug that I would like to have:</p>

<pre><code>--- 
- "" image/bmp""
- "" image/gif""
- "" image/jpg""
</code></pre>
","149392","","<p>In the test case 1 there is no space before ""image/bmp"" in the result because there is no space before ""image/bmp"" in the original string.</p>

<p>In the test case 2 there is an empty string at the beginning because the string starts with a comma, and for every separator in the string there is a string in the resulting array, containing what comes before that separator (which in this case means the empty string).</p>

<p>If you want the result you've shown, you could just add a space (but no comma) before ""image/bmp"" in the source string. Alternatively you could split by <code>/, */</code> and then add one space before each string with map. Though frankly I don't get why you want a space before each string.</p>
"
"<p>I would like to execute a list of functions over a list of corresponding values:</p>

<pre><code>let f1 x = x*2;;  
let f2 x = x+70;;

let conslist = [f1;f2];;

let pmap2 list1 list2 =   
  seq { for i in 0..1 do yield async { return list1.[i] list2.[i] } }  
  |&gt; Async.Parallel  
  |&gt; Async.RunSynchronously;;  
</code></pre>

<p>Result:</p>

<pre><code>  seq { for i in 0..1 do yield async { return list1.[i] list2.[i] } }
----------------------------------------------^^^^^^^^^
</code></pre>

<blockquote>
  <p>stdin(213,49): error FS0752: The
  operator 'expr.[idx]' has been used an
  object of indeterminate type based on
  information prior to this program
  point. Consider adding further type
  constraints</p>
</blockquote>

<p>I would like to execute: pmap2 conslist [5;8];; (in parallel)</p>
","149392","","<p>As the error message suggests, you need to add type annotations to <code>list1</code> and <code>list2</code>. Once you do that, it works fine (though I would recommend using arrays instead of list since you're random-accessing them).</p>
"
"<p>I know I could do </p>

<pre><code>self.value_at_location=(x,y,value)
</code></pre>

<p>by defining the method as <code>value_at_location=(x,y,value)</code></p>

<p>but for readability, I think it would be AWESOME if <code>value_at_location(x,y)=(value)</code> was possible. or something like it.</p>

<p>Any suggestions?</p>
","149392","","<p>No, you can't define a setter method to do <code>foo(x,y) = value</code>.</p>

<p>But what you can do is define <code>[]=(x,y,value)</code>, so that you can call <code>self[x,y] = value</code>.</p>
"
"<p>For learning purposes I am trying to write my own implementation of the <code>zipWith</code> function. However, I am hitting an issue with pattern matching on edge cases with <code>_</code>. First I will describe the good case, then the bad case. Hopefully someone will be able to explain why they behave differently. Thanks</p>

<p>If I write the <code>zipWith</code> function as follows, it works (Note the order of the edge cases matching empty list on lines 2 &amp; 3):-</p>

<pre><code>zipWith' :: (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
zipwith' _ [] _ = []
zipWith' _ _ [] = []
zipWith' f (x:xs) (y:ys) = f x y : zipWith' f xs ys
</code></pre>

<p>Compiling in GHCI:-</p>

<pre><code>ghci&gt; :l ZipWith.hs 
[1 of 1] Compiling Main             ( ZipWith.hs, interpreted )
</code></pre>

<p>Ok, the above is fine, yet if I swap the pattern matching for the edge cases around GHCI throws 'Multiple declarations of' error for lines 2 and 4.</p>

<pre><code>zipWith' :: (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
zipWith' _ _ [] = []
zipwith' _ [] _ = []
zipWith' f (x:xs) (y:ys) = f x y : zipWith' f xs ys
</code></pre>

<p>Compiling in GHCI:-</p>

<pre><code>ZipWith.hs:4:0:
    Multiple declarations of `Main.zipWith''
    Declared at: ZipWith.hs:2:0
                 ZipWith.hs:4:0
Failed, modules loaded: none.
</code></pre>

<p>I'm stumped...</p>

<ol>
<li>Looking at the patterns on lines 2 and 4 they seem mutually exclusive but i'm obviously missing something fundamental here</li>
<li>Why would switching the patterns on lines 2 and 3 cause the compilation error to go away.</li>
</ol>
","149392","","<p>The error message isn't complaining about overlapping patterns (your patterns do overlap in the case of two empty lists, but that's neither the problem, nor a problem), but multiple definitions of the <code>zipWith</code> function.</p>

<p>The reason for that is that in your second case you have one definition of <code>zipWith</code> followed by an unrelated definition of <code>zipwith</code> (note the lower case <code>w</code>), followed by a new, conflicting definition of <code>zipWith</code>. In other words it's a simple typo. (Did take me a while to see though - quite a sneaky typo)</p>
"
"<p>Such as cls for cmd.exe. It's very annoy if I can't do this.</p>
","149392","","<p>You can use <code>screen:clear-window</code> to do this like this:</p>

<pre><code>(screen:with-window (screen:clear-window screen:*window*))
</code></pre>

<p>For me information see the documentation on <a href=""http://clisp.sourceforge.net/impnotes/screen.html"" rel=""nofollow"">screen</a>. Also note that these functions are specific to clisp.</p>
"
"<p>I have a class, Foo.  I want to be able to pass the constructor a Foo instance, foo and get the same instance back out.</p>

<p>In other words, I want this test to pass:</p>

<pre><code>class Foo; end

foo = Foo.new
bar = Foo.new(foo)

assert_equal foo, bar
</code></pre>

<p>Anyone know how I can do that?  I tried this:</p>

<pre><code>class Foo
  def initialize(arg = nil)
    return arg if arg
  end
end

foo = Foo.new
bar = Foo.new(foo)

assert_equal foo, bar  # =&gt; fails
</code></pre>

<p>but it doesn't work.</p>

<p>Help?</p>

<p><strong>EDIT</strong></p>

<p>Because a number of people have asked for my rationale:</p>

<p>I'm doing rapid analysis of lots of data (many TB) and I am going to have a lot of instances of a lot of objects.  For some of these objects, it doesn't make sense to have two different instances with the same data.  For example, one such object is a ""window"" (as in temporal window) object that has two properties:  start time and end time.  I want to be able to use the constructor in any of these ways and get a window object back:</p>

<pre><code>window = Window.new(time_a, time_b)
window = Window.new([time_a, time_b])
window = Window.new(seconds_since_epoch_a, seconds_since_epoch_b)
window = Window.new(window_obj)
window = Window.new(end =&gt; time_b, start =&gt; time_a)
...
</code></pre>

<p>Some other object that needs a window might be instantiated this way:</p>

<pre><code>obj = SomeObj.new(data =&gt; my_data, window =&gt; window_arg)
</code></pre>

<p>I don't necessarily know what's in window_arg, and I don't really care -- it will accept any single argument that can be interpreted by the Window constructor.  In the case of already having a Window instance, I'd rather just use that instance.  But the job of interpreting that seems like a concern of the Window constructor.  Anyway, as I mentioned I'm churning through many TB of data and creating lots of instances of things.  If a window object gets passed around, I want it just to be recognized as a window object and used.</p>
","149392","","<p><code>initialize</code> is called by <code>new</code> which ignores its return value. Basically the default <code>new</code> method looks like this (except that it's implemented in C, not in ruby):</p>

<pre><code>class Class
  def new(*args, &amp;blk)
    o = allocate
    o.send(:initialize, *args, &amp;blk)
    o
  end
end
</code></pre>

<p>So the newly allocated object is returned either way, no matter what you do in <code>initialize</code>. The only way to change that is overriding the <code>new</code> method, for example like this:</p>

<pre><code>class Foo
  def self.new(arg=nil)
    if arg
      return arg
    else
      super
    end
  end
end
</code></pre>

<p>However I'd strongly advise against this since it runs counter to many expectations that people have when calling <code>new</code>:</p>

<ul>
<li>People expect <code>new</code> to return a new object. I mean it's even called <code>new</code>. If you want a method that does not always create a new object, you should probably call it something else.</li>
<li>At the very least people expect <code>Foo.new</code> to return a <code>Foo</code> object. Your code will return whatever the argument is. I.e. <code>Foo.new(42)</code> would return 42, an Integer, not a <code>Foo</code> object. So if you're going to do this, you should at the very least only return the given object, if it is a <code>Foo</code> object.</li>
</ul>
"
"<p>I'm writing a predicate to check if a matrix is (square) <strong>lower triangular</strong>.</p>

<p>The <strong>idea</strong> is to return <em>true</em> if all elements of the <em>first</em> row (except the element at index 0) are all zero, and then call again the predicate on the <strong>sub-matrix</strong> obtained <em>excluding</em> 1 row and 1 column. Recursion should end when the submatrix is just 1 number (e.g. [[x]]) which is of course lower triangular.</p>

<p>Question: how can I match [[x]] where x is just a number?</p>

<pre><code>lowertriangular (???) = True
lowertriangular (x:xs) = all (==0) (tail x) &amp;&amp; lowertriangular (map tail xs)
</code></pre>

<p><strong>Edit</strong>:</p>

<pre><code>m = [[1,0,0],[2,-3,0],[4,5,6]]

lt m = all (==0) [0, 0] &amp;&amp; lt [[-3, 0], [5, 6]]
     = all (==0) [0, 0] &amp;&amp; (all (==0) [0] &amp;&amp; lt [6])
</code></pre>

<p>lt [6] should match [[_]] that returns True.</p>
","149392","","<p>You can match <code>[[x]]</code> using the pattern <code>[[x]]</code> - or <code>[[_]]</code> since you don't actually care about the value of <code>x</code>. I.e.</p>

<pre><code>lowertriangular [[_]] = True
</code></pre>

<p>will return true when called with a 1x1 matrix.</p>

<hr>

<p>However it should be noted that the 1x1 matrices are already perfectly handled by the case <code>lowertriangular (x:xs) = ...</code>, so there's no need for you to handle them explicitly. What you need to handle is the case where you get an empty list, like this:</p>

<pre><code>lowertriangular [] = True
</code></pre>
"
"<p>I assume there is a nice one-line way to say in ruby</p>

<pre><code>if mystr == ""abc"" or ""def "" or ""ghi"" or ""xyz""
</code></pre>

<p>but cannot find how to do that in the online references I normally consult... </p>

<p>Thanks!</p>
","149392","","<p>You can use <code>Array#include?</code> like this:</p>

<pre><code>if [""abc"", ""def "", ""ghi"", ""xyz""].include?(mystr)
</code></pre>
"
"<p>Why cant I do this?</p>

<pre><code>&gt;&gt; s = String
&gt;&gt; s(42)
s(42)
NoMethodError: undefined method `s' for main:Object
        from (irb):86
        from /home/sam/.rvm/rubies/ruby-1.9.2-p0/bin/irb:17:in `&lt;main&gt;'
</code></pre>

<p>Next.</p>

<pre><code>&gt;&gt; String.new 42
String.new 42
TypeError: can't convert Fixnum into String
        from (irb):90:in `initialize'
        from (irb):90:in `new'
        from (irb):90
        from /home/sam/.rvm/rubies/ruby-1.9.2-p0/bin/irb:17:in `&lt;main&gt;'
</code></pre>

<p>How does String() convert a Fixnum to a String if String.new cannot? I assume String() calls to_s. But then what is String.new looking for besides a string to copy? Is new an alias for dup?</p>
","149392","","<p>The reason that <code>s(42)</code> does not work in your example, is that there is a constant named <code>String</code> (which points to the class) as well as a method named <code>String</code> (which converts the argument to a string using <code>to_s</code>). When you do <code>s = String</code>, <code>s</code> will now point to the same class as <code>String</code>. However when you call <code>s(42)</code>, ruby will look for a method named <code>s</code>, which does not exist and you get an error.</p>

<p>The key here is that in ruby there can be a variable or constant and a method with the same name without them having anything to do with each other.</p>

<p>The reason for the differing behaviour between <code>String(42)</code> and <code>String.new(42)</code> is that <code>String</code> calls <code>to_s</code> and <code>String.new</code> calls <code>to_str</code>.</p>
"
"<p>Currently developing a small bash script, my needs are a progress bar that doesn't 
come with a cancel button. I have been looking into the zenity progress bar, but 
haven't found a way to get rid of the cancel button.</p>

<p>The non-existence of the cancel button is of the essence, since it would completely ruin
the means of the progress bar. I saw a terminal-based progress bar around, but since I use
zenity dialogs for all other cases, I want to use it for the progress bar as well.</p>

<p>Any idéas how to solve my issue? Any other progress bars around, or is it possible to 
get rid of the cancel button? </p>

<p>Any help is very appreciated, thanx!</p>
","149392","","<p><code>zenity</code> supports the <code>--no-cancel</code> flag, which removes the cancel button.</p>

<p>For me information see <code>zenity --help-progress</code>.</p>
"
"<p>I initialize an array this way:</p>

<pre><code>array = Array.new
array &lt;&lt; '1' &lt;&lt; '2' &lt;&lt; '3'
</code></pre>

<p><strong>Is it possible to do that in one step? If so, how?</strong></p>
","149392","","<p>You can initialize an array in one step by writing the elements in <code>[]</code> like this:</p>

<pre><code>array = ['1', '2', '3']
</code></pre>
"
"<p>Let's say I have this:</p>

<pre><code>data PT1
data PT2
data DT1 a = DT1 { field :: Int }

newtype DT2 a = DT2 (DT1 a)

f :: Int -&gt; DT2 a -&gt; Int
f x (DT2 (DT1 PT1 field)) = 5 -- How do I specify the type param?
f x (DT2 (DT1 PT2 field)) = 7 -- How do I specify the type param?
</code></pre>

<p>The question is there in comments. The above doesn't compile. I want to pattern match differently based on the type parameter. How do I do so?</p>
","149392","","<p>You can't pattern match on the type. What you can do is use a typeclass like this:</p>

<pre><code>class Effable t where
  f :: Int -&gt; t -&gt; Int

instance Effable (DT2 PT1) where
  f x (DT2 _) = 5

instance Effable (DT2 PT2) where
  f x (DT2 _) = 7
</code></pre>
"
"<p>I have the following hash:</p>

<pre><code>{""title""=&gt;""ga:browser=Firefox"", ""dimensions""=&gt;[{:browser=&gt;""Firefox""}], ""metrics""=&gt;[{:pageviews=&gt;25474}], ""id""=&gt;""http://www.google.com/analytics/feeds/data?ids=ga:3906565&amp;amp;ga:browser=Firefox&amp;amp;start-date=2010-02-06&amp;amp;end-date=2011-02-06"", ""updated""=&gt;#&lt;DateTime: 212163710400001/86400000,-1/3,2299161&gt;}
</code></pre>

<p>How would I print the value of pageviews?</p>
","149392","","<p>Well, you have a hashmap (not an array) which maps the key <code>""metrics""</code> to an array. That array contains a hash as its only element. And that hash maps the key <code>:pageviews</code> to the value <code>25474</code>. So to get that value you can do:</p>

<pre><code>the_hash[""metrics""][0][:pageviews]
</code></pre>

<p>This assumes that the hash with the <code>:pageviews</code> key will always be at position 0 in the array, which the key <code>""metrics""</code> is mapped to.</p>
"
"<p>For example, I'm trying to convert 2011-01-19T00:00:00Z to 01/19/2011. What's the simplest way of accomplishing this?</p>
","149392","","<p>You can use <code>Time.parse</code> to parse a time string like that into a <code>Time</code> object. You can then use <code>strftime</code> to turn this into any string format you like:</p>

<pre><code>require 'time'
Time.parse(""2011-01-19T00:00:00Z"").strftime(""%m/%d/%Y"")
#=&gt; ""01/19/2011""
</code></pre>
"
"<p>In my rails app I have a <strong>models/foo.rb</strong> and <strong>models/foo/exceptions.rb</strong>:</p>

<pre><code>class Foo
   include Foo::Exceptions
end

module Foo::Exceptions
  class MySpecialException &lt; Exception; end
end
</code></pre>

<p>At the rails console, I then see this:</p>

<pre><code>&gt;&gt; Foo::MySpecialException
Foo::Exceptions::MySpecialException &lt; Exception
&gt;&gt; Foo::MySpecialException == Foo::Exceptions::MySpecialException
true
&gt;&gt; Foo::MySpecialException === Foo::Exceptions::MySpecialException
false
</code></pre>

<ol>
<li>What do you think of my file structure / namespacing?</li>
<li>Is my inclusion line in <code>Foo</code> necessary, or does Rails autoinclude those modules?</li>
<li>Why does <code>MySpecialException</code> exist in the top level <code>Foo</code> namespace and point to <code>Foo::Exceptions::MySpecialException</code>?</li>
<li>What does it mean that those two classes are <code>==</code> but not <code>===</code>?</li>
</ol>

<p>I explored this in irb but kept running into errors that were inconsistent with the behavior I (think) I've seen in Rails.</p>

<p>related: <a href=""http://stackoverflow.com/questions/4829788/what-is-a-good-place-to-keep-custom-exception-definitions-in-a-rails-project"">What is a good place to keep custom Exception definitions in a rails project?</a></p>
","149392","","<blockquote>
  <p>What is the relationship between a ruby class and module with the same name?</p>
</blockquote>

<p>A class and a module can't have the same fully qualified name in ruby. It's possible to have a class <code>Foo::Bar</code> and a module <code>Baz::Bar</code>, in which case there is no relation between the class and the module. However it is not possible to both have class <code>Foo::Bar</code> and a module <code>Foo::Bar</code> at the same time.</p>

<p>(I'm not sure what this has to do with the rest of your question though)</p>

<blockquote>
  <p>Is my inclusion line in Foo necessary, or does Rails autoinclude those modules?</p>
</blockquote>

<p>Rails will not automatically include your modules. However that does not mean it's necessary to include yourself, you could just access it qualified. I.e. use <code>Exceptions::MySpecialException</code> instead of just <code>MySpecialException</code> inside the <code>Foo</code> class.</p>

<blockquote>
  <p>Why does MySpecialException exist in the top level Foo namespace and point to Foo::Exceptions::MySpecialException?</p>
</blockquote>

<p>Because you included <code>Foo::Exceptions</code> into <code>Foo</code>. Because of that all instance methods of <code>Foo::Exceptions</code> are also instance methods of <code>Foo</code> and all constants of <code>Foo::Exceptions</code> are also constants of <code>Foo</code> - including <code>MySpecialException</code>.</p>

<blockquote>
  <p>What does it mean that those two classes are == but not ===?</p>
</blockquote>

<p><code>==</code> means that it's the same class. That it's not <code>===</code> means that the class is not an instance of itself (since <code>x === y</code> is the same as <code>y.is_a?(x)</code> if <code>x</code> is a class).</p>
"
"<h2>Error:</h2>

<pre><code>rescue_from 'NotAuthorizedException' do |exception|
    a = 'b' if true else 'c'
end
</code></pre>

<h2>No error:</h2>

<pre><code>rescue_from 'NotAuthorizedException' do |exception|
    a = 'b'
end
</code></pre>

<p>The error I'm getting is: <code>syntax error, unexpected keyword_else, expecting keyword_end</code></p>

<p>Am I missing something obvious? This happens even when I add parentheses around the method argument: <code>rescue_from('NotAuthorizedException') ...</code>.</p>

<h2>Update:</h2>

<p>Well, sepp2k is right: the syntax isn't valid. <strong>However</strong>, the following method results in the <code>object</code> being raised as an exception with the value <code>'a'</code>, at least when run within my Rails app. I'm going to try to create a reproducible stand-alone program in which this syntax <em>seems</em> to be valid.</p>

<pre><code>def test
  object = 'a' if true else 'b'
  raise object.to_yaml
end
</code></pre>

<h2>Update 2:</h2>

<p>It works in <code>irb</code> (without the <code>to_yaml</code>), but the following warning is shown:</p>

<pre><code>warning: else without rescue is useless
</code></pre>

<h2>Update 3:</h2>

<pre><code>def test
  object = 'a' if true else 'b'
end
</code></pre>

<p>This results in the same warning, but <code>'b'</code> is displayed. I'm done digging!</p>
","149392","","<pre><code>a = 'b' if true else 'c'
</code></pre>

<p>is invalid syntax in ruby whether it's in a block or not (you're probably thinking of python where the syntax is legal). You need to either use</p>

<pre><code>a = if true then 'b' else 'c' end
</code></pre>

<p>or</p>

<pre><code>a = true ? 'b' : 'c'
</code></pre>
"
"<p>I have a midterm coming up next week and I was just going over the sml notes provided in class. I came across a currying example and I was not sure exactly how it worked.</p>

<p>It is a simple function which computes the power of a number. Here is the function definition:</p>

<pre><code>fun pow 0 n = 1 | pow k n = n*pow(k-1)n
</code></pre>

<p>I'm not sure how this function works when we pass it the following arguments:</p>

<pre><code>val x = pow 2 2
</code></pre>

<p>This is the way I see it:</p>

<pre><code>=2*pow(1)2
=2*(2*pow(0)2)2
=2*(2*(1)2)2) 
</code></pre>

<p>The result we should be getting is four but I don't see how we get this result from the steps I have carried out above.</p>

<p>Help Please. Thank-You.</p>
","149392","","<pre><code>2*pow(1)2 =2*(2*pow(0)2)2 
</code></pre>

<p>Here you expand <code>pow 1</code> to <code>2 * pow 0 2</code> and leave the 2 after it be. This is wrong. <code>pow 1</code> on its own would expand to <code>(fn n =&gt; n * pow 0 2)</code>, only when applying it to the second argument as well it becomes <code>2 * pow 0 2</code>. So the above should read:</p>

<pre><code>2*pow(1)2 =2*(2*pow(0)2)
</code></pre>

<p>Now if we apply <code>pow 0 2</code>, we get 1 so the end result is:</p>

<pre><code>2*pow(1)2 = 2*(2*pow(0)2) = 2*(2*1) = 4
</code></pre>
"
"<p>I'm using <a href=""http://documentcloud.github.com/jammit/"">Jammit</a> to package assets up for a Rails application and I have a few asset files that I'd like to be included in each of a few groups. For example, I'd like <a href=""http://github.com/quirkey/sammy"">Sammy</a> and its plugins to be in both my <code>mobile</code> and <code>screen</code> JS packages.</p>

<p>I've tried this:</p>

<pre><code>sammy: &amp;SAMMY
  - public/javascripts/vendor/sammy.js
  - public/javascripts/vendor/sammy*.js

mobile:
  &lt;&lt;: *SAMMY
  - public/javascripts/something_else.js
</code></pre>

<p>and this:</p>

<pre><code>mobile:
  - *SAMMY
</code></pre>

<p>but both put the Sammy JS files in a nested Array, which Jammit can't understand. Is there a syntax for including the elements of an Array directly in another Array?</p>

<p><strong>NB</strong>: I realize that in this case there are only two elements in the <code>SAMMY</code> Array, so it wouldn't be too bad to give each an alias and reference both in each package. That's fine for this case, but quickly gets unmaintainable when there are five or ten elements that have a specific load order.</p>
","149392","","<p>If you want <code>mobile</code> to be equal to <code>sammy</code>, you can just do:</p>

<pre><code>mobile: *SAMMY
</code></pre>

<p>However if you want <code>mobile</code> to contain other elements in addition to those in <code>sammy</code>, there's no way to do that in YAML to the best of my knowledge.</p>
"
"<p>I recently decided I wanted to list all the <code>users</code> in my Ruby On Rails application - since I couldn't figure out how to list them any other way, I decided to use partials.
I have the following on my administration page (just hooked up to a its own administration controller):</p>

<pre><code>&lt;%= render :partial =&gt; User.find(:all) %&gt;
</code></pre>

<p>I then have a file called <code>_user.html.erb</code> in my users view folder. This contains the following:</p>

<pre><code>&lt;ul&gt;
&lt;% div_for @user.object_id do %&gt;
    &lt;li&gt;&lt;%= link_to user.username, user.username %&gt;&lt;/li&gt;
&lt;% end %&gt;
&lt;/ul&gt;
</code></pre>

<p>When the application runs and I go to the administration page, I get the following error:</p>

<blockquote>
  <p>undefined method `id' for 4:Fixnum</p>
</blockquote>

<p>It says it's because of this line (which is in the partial file):</p>

<pre><code>&lt;% div_for @user.object_id do %&gt;
</code></pre>

<p>I'm unsure why this happens (and have googled for hours to try and find results and only find solutions that don't work for me). I think it's something to do with my usage of the <code>@user</code> instance variable, but I'm not totally sure.</p>

<p>Any help would be appreciated.</p>
","149392","","<p>You get that error because <code>div_for</code> expects an active record object as an argument, which it calls the <code>id</code> method on. You pass in a fixnum (the result of <code>@user.object_id</code>), which is not an active record object and does not have an <code>id</code> method.</p>

<p>So pass in <code>@user</code> instead of <code>@user.object_id</code> and it will work.</p>

<p>Also you should use <code>user</code> instead of <code>@user</code>, rails 3 does not set instance variables for partials anymore.</p>
"
"<p>I'm creating a model in Rails 3 as follows:</p>

<pre><code>class Foo &lt; ActiveRecord::Base
  attr_accessible :bar

  type_regex = /(dog)|(cat)|(bird)/

  validates :bar,  :presence =&gt; true,
                   :format =&gt; { :with =&gt; type_regex }
end
</code></pre>

<p>I need the type to match either dog, cat or bird exactly.  In the above class, however, type_regex will match doggy, cathrine, etc.</p>

<p>How do I make the validation match those strings exactly?</p>

<p>Thank you</p>
","149392","","<p>You'll need to add anchors to the regex. Specifically you need to add <code>\A</code> to the beginning and <code>\Z</code> to the end of the regex (<code>\A</code> and <code>\Z</code> meaning beginning- and end-of-string respectively).</p>

<p>Be careful with precedence though: due to the low precedence of <code>|</code> you'll either have to put a non-capturing group around the alternation or anchor each of the words separately. I.e. you have to do <code>/\A(?:(dog)|(cat)|(bird))\Z/</code>. Doing <code>/\A(dog)|(cat)|(bird)\Z/</code> will not work because that way the <code>\A</code> will only apply to <code>dog</code> and the <code>\Z</code> only to <code>bird</code>.</p>

<p>The same is true if you use <code>^</code> and <code>$</code> instead of <code>\A</code> and <code>\Z</code>. On that subject let me explain the difference between those: <code>^</code> and <code>$</code> match the beginning and end of a line, not the string. So the string ""dog\ngy"" would still match the regex <code>/^dog$/</code>, but not the regex <code>/\Adog\Z/</code>.</p>
"
"<p>i have a algorithm that opens a textfile, reads between 5 and 20 words, store them into an array and closes the textfile again.</p>

<p>Has this algorithm a Big O Natation (1) or (n)?</p>
","149392","","<p>I'm going to go against common opinion here and say it's <code>O(n)</code> where <code>n</code> is the average word length. Clearly if the length of those 20 words doubles, so does the amount of work you need to do to read them.</p>

<p>If the maximum length of the words is also constant however, it will be <code>O(1)</code>.</p>
"
"<pre><code>findMult lst n = [x | x &lt;- lst, x `mod` n == 0]

primes num = 
    let n = [2..num]
        x = ceiling (sqrt num)
        nsqrt = [2..x]
        not_prime = map (findMult n) nsqrt
    in diff2 n (concat not_prime)   
</code></pre>

<p>has the following problem when i try to run it</p>

<pre><code>&lt;interactive&gt;:1:0:
    Ambiguous type variable `t' in the constraints:
      `RealFrac t' arising from a use of `primes' at &lt;interactive&gt;:1:0-8
      `Floating t' arising from a use of `primes' at &lt;interactive&gt;:1:0-8
      `Integral t' arising from a use of `primes' at &lt;interactive&gt;:1:0-8
    Probable fix: add a type signature that fixes these type variable(s)
</code></pre>

<p>I tried using fromIntegral but i don't think i used correctly as that gives me compilation error. Please help.</p>

<p>The purpose of this is to find all the prime numbers up until num.</p>
","149392","","<p>You get error messages like this when you use an integral value where a floating value was expected (or vice versa).</p>

<p>In this case the problem is that you're calling <code>sqrt</code>, which takes a floating point value as an argument, on <code>num</code> making the compiler think <code>num</code> is a floating point value. But also use <code>num</code> as an upper limit for <code>n</code>, which is a list of integral values (because it's used as an argument to <code>findMult</code> which needs a list of integral values).</p>

<p>So before calling <code>sqrt</code> on <code>num</code> call <code>fromIntegral</code> on it, like this:</p>

<pre><code>x = ceiling (sqrt (fromIntegral num))
</code></pre>
"
"<p>I just started playing with JRuby. This is my first ruby post. I had a hard time understanding classes vs objects in Ruby. It doesnt mean like what classes &amp; objects in other Object oriented laguages. for an example</p>

<pre><code>Class.is_a? Object
</code></pre>

<p>returns <strong>true</strong>
and</p>

<pre><code>Object.is_a? Object
</code></pre>

<p><strong>too</strong>.</p>

<p>so class &amp; Object are both objects</p>

<p>here comes another one</p>

<pre><code>Class.is_a? Class
</code></pre>

<p>returns <strong>true</strong>
and</p>

<pre><code>Object.is_a? Class
</code></pre>

<p><strong>too</strong>.</p>

<p>wait, i am not done yet</p>

<pre><code> Object.instance_of? Class
 Class.instance_of? Class
</code></pre>

<p>Both are true</p>

<pre><code> Object.instance_of? Object
 Class.instance_of? Object
</code></pre>

<p>Both are false. right, nothing can be instance of object.</p>

<p>And </p>

<pre><code> Class.kind_of? Class
 Object.kind_of? Class
</code></pre>

<p>both are true</p>

<pre><code> Class.kind_of? Object
 Object.kind_of? Object
</code></pre>

<p>both are true</p>

<p>So both are exactly same, then why do we have both these.?</p>

<p>After some more digging, i wrote this simple method to return method list supported by both</p>

<pre><code>irb(main):054:0&gt; def print_methods(obj)
irb(main):055:1&gt;    obj.methods.each do |mm|
irb(main):056:2*        puts mm
irb(main):057:2&gt;    end
irb(main):058:1&gt; end
</code></pre>

<p>Only method difference between print_methods(Object) and print_methods(Class) is</p>

<pre><code>     Nesting
</code></pre>

<p>if Nesting means inheritance, Is Object similar to the sealed class??</p>

<p>Can someone clarify me what is all this?</p>

<p><strong>Update:</strong> To Edds comment</p>

<p>Interestingly i see lot of differences in the method list in</p>

<pre><code>c=Class.new
print_methods(c)
</code></pre>

<p>&amp;</p>

<pre><code>o=Object.new
print_methods(o)
</code></pre>

<p>Now I understand Instance of a class is really an class instance (And this class instance is actually a Object) not an  object instance. And even this instance allow me to span another instances</p>

<pre><code>  xx = c.new //works - c is an Object / and xx is a instance of an Object c
  yy = o.new //nope  - o is already a instance of an Object, so it cannot be instantiated again
</code></pre>

<p>So Finally, Object is really an instance of a Class. Because</p>

<pre><code>  xx.is_a? Class 
</code></pre>

<p>is false, but</p>

<pre><code>  xx.is_a? Object 
</code></pre>

<p>returns true </p>

<p>Am i right, ??</p>


","149392","","<p>Basically the key thing to understand is that every class is an instance of the <code>Class</code> class and every class is a subclass of <code>Object</code> (in 1.8 - in 1.9 every class is a subclass of <code>BasicObject</code>). So every class is an object in the sense that it is an instance of a subclass of <code>Object</code>, i.e. <code>Class</code>.</p>

<p>Of course this means that <code>Class</code> is an instance of itself. If that makes your brain hurt, just don't think about it too deeply.</p>

<h3><code>Object</code> and <code>Class</code> are <code>is_a? Object</code></h3>

<p><code>x.is_a? y</code> returns <code>true</code> if <code>x.class == y or x.class &lt; y</code>, i.e. if <code>x</code>'s class is <code>y</code> or <code>x</code>'s class inherits from <code>y</code>. Since every class inherits from object <code>x.is_a? Object</code> returns true no matter what <code>x</code> is. (In 1.8 anyway, in 1.9 there's also <code>BasicObject</code> which is now the most basic class in the inheritance hierarchy).</p>

<h3>They are also <code>is_a? Class</code></h3>

<p>Both <code>Object</code> and <code>Class</code> are indeed classes, so that should not be surprising.</p>

<h3>They are also <code>instance_of? Class</code>, but not <code>instance_of? Object</code>.</h3>

<p>Unlike <code>is_a?</code>, <code>x.instance_of? y</code> only returns true if <code>x.class == y</code>, not if <code>x.class</code> is a subclass of <code>y</code>. So since both <code>x</code> and <code>y</code> are <code>instance_of? Class</code>, they're not <code>instance_of? Object</code>.</p>

<blockquote>
  <p>right, nothing can be instance of object.</p>
</blockquote>

<p>That's not true. <code>Object.new.instance_of? Object</code> is true.</p>

<h3>kind_of?</h3>

<p><code>kind_of?</code> is an alias for <code>is_a?</code>, so see above.</p>

<blockquote>
  <p>So both are exactly same, then why do we have both these.?</p>
</blockquote>

<p>It should be pointed out that everything up to now is true for all classes. E.g. <code>String.is_a? Object</code>, <code>String.is_a? Class</code> and <code>String.instance_of? Class</code> are true and <code>String.instance_of? Object</code> is false for the same reasons as above. (Also <code>String.is_a? String</code> and <code>String.instance_of? String</code> are both false for the same reasons - String is a class, not a string).</p>

<p>You can not conclude from this that all the classes are the same. They're just all instances of the same class.</p>

<h3>Comparing methods</h3>

<p>Since both <code>Object</code> and <code>Class</code> are classes, they both have all the instance methods defined by <code>Class</code>. <code>Class</code> additionally has the singleton method <code>nesting</code>. <code>nesting</code> tells you which module you're currently nested in, it has nothing to do with inheritance.</p>

<p>For any given class <code>TheClass.methods</code> will return the instance methods defined by <code>Class</code> (e.g. <code>superclass</code>, which returns the class which <code>TheClass</code> inherits from, and <code>new</code> which creates a new instance of <code>TheClass</code>) plus the singleton methods defined by that class.</p>

<p>Anyway <code>methods</code> only tells you which methods can be called directly on a given object. It does not tell you which methods can be called on an instance of a class. For that you can use <code>instance_methods</code>, which returns significantly different results for <code>Object</code> and <code>Class</code>.</p>
"
"<p>I think I understand Lisp macros and their role in the compilation phase.</p>

<p>But in Python, you can pass a function into another function</p>

<pre><code>def f(filename, g):
  try:                                
     fh = open(filename, ""rb"") 
     g(fh)
  finally:
     close(fh) 
</code></pre>

<p>So, we get lazy evaluation here. What can I do with macros and not with functions as first class objects?</p>
","149392","","<p>First of all Lisp has first-class functions too, so you could as well ask: ""Why do I need macros in Lisp if I already have first-class functions"". The answer to that is that first-class functions don't allow you to play with syntax.</p>

<p>On a cosmetic level, first-class functions allow you to write <code>f(filename, some_function)</code> or <code>f(filename, lambda fh: fh.whatever(x))</code>, but not <code>f(filename, fh, fh.whatever(x))</code>. Though arguably that's a good thing because in that last case it is a lot less clear where <code>fh</code> suddenly comes from.</p>

<p>More importantly functions can only contain code that is valid. So you can't write a higher-order function <code>reverse_function</code> that takes a function as an argument and executes it ""in reverse"", so that <code>reverse_function(lambda: ""hello world"" print)</code> would execute <code>print ""hello world""</code>. With a macro you can do this. Of course this particular example is quite silly, but this ability is enormously useful when embedding domain specific languages.</p>

<p>For example you couldn't implement common lisp's <code>loop</code> construct in python. Hell, you couldn't even implement python's <code>for ... in</code> construct in python if it wasn't really built-in - at least not with that syntax. Sure you could implement something like <code>for(collection, function)</code>, but that's a lot less pretty.</p>
"
"<p>I've just started playing with GHCi. I see that list generators basically solve an equation within a given set:</p>

<pre><code>Prelude&gt; [x|x&lt;-[1..20], x^2 == 4]
[2]
</code></pre>

<p>(finds only one root, as expected)</p>

<p>Now, why can't I solve equations with results in R, given that the solution <strong>is</strong> included in the specified range?</p>

<pre><code>[x|x&lt;-[0.1,0.2..2.0], x*4 == 2]
</code></pre>

<p>How can I solve such equations within real numbers set?</p>

<p>Edit: Sorry, I meant 0.1, of course.</p>
","149392","","<p><s>First of all <code>[0.01,0.2..2.0]</code> wouldn't include 0.5 even if floating point arithmetic were accurate. I assume you meant the first element to be <code>0.1</code>.</s></p>

<p>The list <code>[0.1,0.2..2.0]</code> does not contain 0.5 because floating point arithmetic is imprecise and the 5th element of <code>[0.1,0.2..2.0]</code> is <code>0.5000000000000001</code>, not 0.5.</p>
"
"<p>What are ancestors in Ruby? What are they used for and what is their basic purpose?</p>
","149392","","<p>An ancestor of a class is either the class itself, a module included by any of the class's ancestors or the superclass of any of the class's ancestors. In short the ancestors of a class are all the classes and modules in which ruby will look for the method definition when you call a method on an object of that class.</p>

<p>Similarly a module's ancestors are the module itself and any module included by any of the module's ancestors.</p>

<p>Their purpose is to enable inheritance, which is a basic concept of object oriented programming.</p>
"
"<pre><code>let x = [for p in db.ParamsActXes do
                                            if p.NumGroupPar = grp then
                                                yield p.Num, p.Name]
</code></pre>

<p>Here is my sequence but the problem is it returns the list of tuples, I can't access single tuple element like</p>

<pre><code>let str = ""hello"" + x.[1]
</code></pre>

<p>and that is the trouble.</p>

<p>how can I realize this functionary ?</p>
","149392","","<p>To access the second element of a 2-tuple you can either use <code>snd</code> or pattern matching. So if <code>tup</code> is a 2-tuple, where the second element of <code>tup</code> is a string, you can either do:</p>

<pre><code>let str = ""hello"" + snd tup
</code></pre>

<p>or</p>

<pre><code>let (a,b) = tup
let st = ""hello"" + b
</code></pre>

<p>Note that <code>snd</code> only works with 2-tuples, not tuples with more than two elements.</p>
"
"<p>I saw this question on one of the job postings and its asking what's a lambda function and what its relation to higher order function. I already know how to use lambda function but not quite confident explaining it so I did a little googling and found this: <a href=""http://stackoverflow.com/questions/16501/what-is-a-lambda-function"">What is a lambda (function)?</a> and this <a href=""http://en.wikipedia.org/wiki/Higher-order_function"">http://en.wikipedia.org/wiki/Higher-order_function</a></p>

<p>The definition of HOF which says should at least take one or more function or return a function fits on what a lambda is, so my question is.. is a lambda a type of HOF?</p>

<p>Or anyone who could explain their relation further?</p>
","149392","","<blockquote>
  <p>The definition of HOF which says should at least take one or more function or return a function fits on what a lambda is</p>
</blockquote>

<p>Does it? <code>(lambda (x) (x+1))</code> (or <code>x =&gt; x+1</code> or <code>\x -&gt; x+1</code> or <code>fun x -&gt; x+1</code>, depending on your language's syntax) is a lambda. However it neither takes a function as its argument (it takes an int), nor does it return one.</p>

<p>So no, lambdas aren't necessarily higher order functions, though they can be.</p>

<p>A lambda is an anonymous function. As such it is a function. But it's only a higher-order function if it takes or returns a function, which most lambdas do not. However lambdas are most often used as arguments to higher functions (i.e. if you do <code>Where(s =&gt; s.Length &gt; 5)</code> <code>Where</code> is a higher-function and <code>s =&gt; s.Length &gt; 5</code> is a (first-order) lambda), so they are related.</p>
"
"<p>The goal is to start with <code>['a','b','c']</code> and end up with <code>{'a'=&gt;{'b'=&gt;{'c'=&gt;{}}}}</code></p>

<p>so, getting my bearings, i did this:</p>

<pre><code>['a','b','c'].inject({}){|h,v| h.update(v =&gt; {})}
# =&gt; {""a""=&gt;{}, ""b""=&gt;{}, ""c""=&gt;{}} 
</code></pre>

<p>and then figured, if i actually pass on the result hash, it will recurse and nest, but:</p>

<pre><code>['a','b','c'].inject({}){|h,v| h.update(v =&gt; {}); h[v]}
# =&gt; {} 
</code></pre>

<p>Why is this? Any idea how to achieve the desired result in an elegant one-liner?</p>
","149392","","<p>Zetetic already gave you a working solution, but here's the reason why yours didn't work:</p>

<pre><code>['a','b','c'].inject({}){|h,v| h.update(v =&gt; {}); h[v]}
</code></pre>

<p>This will indeed create the hash <code>{'a'=&gt;{'b'=&gt;{'c'=&gt;{}}}}</code> however, <code>inject</code> will not return that hash, it returns the result of the last call to the block and that 's <code>{}</code> because <code>h</code> will be the hash created for the last element, i.e. <code>{'c' =&gt; {}}</code> and thus <code>h[v]</code> will be <code>{}</code>.</p>

<p>To see that the hash you want actually does get created, just not returned, you can store the hash you pass in in a variable first, like this:</p>

<pre><code>hash = {}
['a','b','c'].inject(hash){|h,v| h.update(v =&gt; {}); h[v]}
</code></pre>

<p>This way the <code>inject</code> will still return <code>{}</code>, but <code>hash</code> will now contain the hash <code>{'a'=&gt;{'b'=&gt;{'c'=&gt;{}}}}</code>. That being said zetetic's solution is better as it's clearer what's going on. Mutating the accumulator in inject is usually confusing and more trouble than it's worth.</p>
"
"<p>F# does allow overloading of arithmetic operators like +, but seems to disallow this for boolean operators like ||. The following code generates a warning and two errors:</p>

<pre><code>type MyBool =
    val Value : bool
    new(value) = { Value = value }
    static member (||) (v1: MyBool, v2 : MyBool) =
        new MyBool(v1.Value || v2.Value)
let b1 = new MyBool(true)
let b2 = new MyBool(false)
let b3 = b1 || b2
</code></pre>

<p>Warning (on the static member (||) definition): The name '(||)' should not be used as a member name. If defining a static member for use from other CLI languages then use the name 'op_BooleanOr' instead.</p>

<p>Error (on b1 and b2 in the 'let b3' statement): This expression was expected to have type bool but here has type MyBool</p>

<p>If I use op_BooleanOr instead of (||) the warning disappears, but the errors remain.</p>

<p>When I do exactly the same thing for the + operator in a MyInt type there are no warnings or errors. So, why do these warnings/errors appear when I try to overload || or &amp;&amp;?</p>
","149392","","<p><code>&amp;&amp;</code> and <code>||</code> differ from other operators in that they're short-circuiting and can thus not be implemented simply as methods. Because of this .net defines <a href=""http://msdn.microsoft.com/en-us/library/aa691312%28v=vs.71%29.aspx"" rel=""nofollow"">special rules</a> you need to follow to enable the usage of <code>&amp;&amp;</code> and <code>||</code> with your own types.</p>

<p>In short: you need to define <code>operator true</code> and <code>operator false</code> as well.</p>
"
"<p>How does the following process work:</p>

<pre><code>(define integers
  (cons-stream 1 
     (stream-map (lambda (x) (+ x 1)) 
        integers))
</code></pre>
","149392","","<p>The important thing to realize here that only those expressions are evaluated which are neccessary to calculate the element of the list you're accessing.</p>

<p>So when you access the first element, it evaluates the first argument to <code>cons-stream</code> which is <code>1</code>.</p>

<p>When you access the second element, it evaluates the first element of <code>stream-map (lambda (x) (+ x 1)) integers</code>. For that it needs to get the first element of <code>integers</code> which is <code>1</code> and then adds <code>1</code> to that and you get <code>2</code>.</p>

<p>When you access the third element, it evaluates the second element of <code>stream-map (lambda (x) (+ x 1)) integers</code>. So it takes the second element of <code>integers</code> (<code>2</code>) and adds <code>1</code> to that to get <code>3</code>. And so on.</p>
"
"<p>How can I implement this in Ruby? Is there any one line of code technique?
Let's say I want to get rid of all the elements which are less than 3 of an integer array.</p>
","149392","","<p>You can use either <code>new_array = array.reject {|x| x &lt; 3}</code> (<code>reject</code> returns a new array) or <code>array.reject! {|x| x &lt; 3}</code> (<code>reject!</code> aka <code>delete_if</code> modifies the array in place).</p>

<p>There's also the (somewhat more common) <code>select</code> method, which acts like <code>reject</code> except that you specify the condition to keep elements, not to reject them (i.e. to get rid of the elements less than 3, you'd use <code>new_array = array.select {|x| x &gt;= 3}</code>).</p>
"
"<p>My lovely function:</p>

<pre><code>(defun f (x)
  (lambda (y) (+ x y)))
</code></pre>

<p>Then, I expect this:</p>

<pre><code>(funcall (f 2) 2)
</code></pre>

<p>To return 4. But alas, I got this instead:</p>

<pre><code>Debugger entered--Lisp error: (void-variable x)
</code></pre>

<p>So how can I capture variable from inner function?</p>
","149392","","<p>You've been bitten by elisp's dynamic scoping. The <code>x</code> in the lambda refers to the variable <code>x</code> that is in scope when the lambda is called (and since in this case there is no <code>x</code> in scope when you call it, you get an error), not to the <code>x</code> which is in scope when you create the lambda.</p>

<p>Some ways of simulating lexical closures in elisp are explained on <a href=""http://www.emacswiki.org/emacs/FakeClosures"">this page on the EmacsWiki</a>.</p>
"
"<p>What's exactly wrong about the following hypothetical Haskell code?  When I compile it in my brain, it should output ""1"".</p>

<pre><code>foo :: forall a. forall b. forall c. (a -&gt; b) -&gt; c -&gt; Integer -&gt; b
foo f x n = if n &gt; 0 then f True else f x

bar :: forall a. a -&gt; Integer
bar x = 1

main = do
     putStrLn (show (foo bar 1 2))
</code></pre>

<p>GHC complains:</p>

<pre><code>$ ghc -XRankNTypes -XScopedTypeVariables poly.hs 

poly.hs:2:28:
     Couldn't match expected type `a' against inferred type `Bool'
       `a' is a rigid type variable bound by
           the type signature for `foo' at poly.hs:1:14
     In the first argument of `f', namely `True'
     In the expression: f True
     In the expression: if n &gt; 0 then f True else f x

poly.hs:2:40:
     Couldn't match expected type `Bool' against inferred type `c'
       `c' is a rigid type variable bound by
            the type signature for `foo' at poly.hs:1:34
     In the first argument of `f', namely `x'
     In the expression: f x
     In the expression: if n &gt; 0 then f True else f x
</code></pre>

<p>What does that mean?  Isn't it valid Rank-N polymorphism?
(Disclaimer: I'm absolutely not a Haskell programmer, but OCaml doesn't support such explicit type signatures.)</p>
","149392","","<p>You're not actually using rank-N polymorphism in your code.</p>

<pre><code>foo :: forall a. forall b. forall c. (a -&gt; b) -&gt; c -&gt; Integer -&gt; b
</code></pre>

<p>This is an ordinary rank-1 type. It reads: forall a,b and c this function can take a function of type <code>a -&gt; b</code>, a value of type <code>c</code> and an <code>Integer</code> and return a value of type <code>b</code>. So it says that it can take a function of type <code>Bool -&gt; Integer</code> or a function of type <code>Integer -&gt; Integer</code>. It does <strong>not</strong> say that the function has to be polymorphic in its argument. To say that, you need to use:</p>

<pre><code>foo :: forall b. forall c. (forall a. a -&gt; b) -&gt; c -&gt; Integer -&gt; b
</code></pre>

<p>Now you're saying that the type of the function needs to be <code>forall a. a -&gt; b</code>, where <code>b</code> is fixed, but <code>a</code> is a newly introduced variable, so the function needs to be polymorphic in its argument.</p>
"
"<p>How can I do exponentiation in clojure?
For now I'm only needing integer exponentiation, but the question goes for fractions too. </p>
","149392","","<p>You can use java's <code>Math.pow</code> or <code>BigInteger.pow</code> methods:</p>

<pre><code>(Math/pow base exponent)

(.pow (bigint base) exponent)
</code></pre>
"
"<p>I have a custom class,</p>

<pre><code>class Result

end
</code></pre>

<p>and i want to create an array of objects from it, but i cannot figure out how to do it? Because results = Array.new creates a new array, but i cannot find where to pass the class?</p>
","149392","","<p><code>results = Array.new</code> creates an empty array (as would <code>results = []</code>, which is more succinct). To create an array containing result objects, either create an empty array and add elements to it, or use an array literal like <code>[element1, element2, ...]</code>.</p>

<p>For example <code>results = [Result.new, Result.new, Result.new]</code> would create an array containing three <code>Result</code> objects.</p>
"
"<p>I noticed that <code>[H|T] = [1].</code> succeeds but <code>[H|T] = [].</code> fails. I guess that's just how it works, but is there any reason the designer didn't chose to let this pattern matching succeed and result in assignment of <code>H=[]</code> and <code>T=[]</code>?</p>

<pre><code>9&gt; [H|T] = [1].
[1]
10&gt; H.
1
11&gt; T.
[]
12&gt; [H|T] = [].
** exception error: no match of right hand side value []
</code></pre>
","149392","","<p>If <code>[H|T]</code> would match <code>[]</code> with <code>H=T=[]</code>, then <code>[[]]</code> would not be distinguishable from <code>[]</code> using pattern matching.</p>

<p>Further the patterns <code>[]</code> and <code>[H|T]</code> would no longer be mutually exclusive, so if you accidentally matched <code>[H|T]</code> first in a recursive function, where <code>[]</code> is the base case, you'd cause infinite recursion.</p>

<p>Also using <code>[]</code> as a symbol for ""this list does not have a head"" seems quite arbitrary and might surprise a lot of users.</p>
"
"<p>Using F# for the first time for a production thing and need a little help. Please see this code where I added the warnings I get as comments on each line:</p>

<pre><code>type AssetClass = 
    | Corp
    | Corp_SME
    | Res_Mort
    | Qual_Ret
    | Ret_Oth

let Correlation assetClass pd sales = 
    match assetClass with 
    | Corp -&gt; 0.12 
    | CORP_SME -&gt; 0.24 // warning FS0049: Uppercase variable identifiers
    | Res_Mort -&gt; 0.15 // warning FS0026: This rule will never be matched
    | Qual_Ret -&gt; 0.04 // warning FS0026: This rule will never be matched
    | Ret_Oth  -&gt; 0.03 // warning FS0026: This rule will never be matched
</code></pre>

<p>I checked and it's not bluffing, the third and other cases really are ignored. What am I not getting here? (The pd and sales inputs I do use in the real implementation, I just left out the formulas here.)</p>

<p>What I want to do is use the discriminated union as I would use an enum in C#, and then switch on it. So in C# I would have typed this:</p>

<pre><code>    enum AssetClass {
        Corp,
        Corp_SME,
        Ret_Oth
    }

    float Correlation(AssetClass assetClass){
        switch(assetClass){
            case Corp: return 0.12; 
            case Corp_SME: return 0.12;
            case Ret_Oth: return 0.12; 
        }
    }
</code></pre>

<p>Could someone help me out? </p>

<p>Thanks in advance,</p>

<p>Gert-Jan</p>
","149392","","<p>You called your constructor <code>Corp_SME</code> but try to match it with <code>CORP_SME</code> (all caps). Since this is not the name of any constructor, <code>F#</code> assumes it's a variable name (thus the warning about upper case variable names), which then of course matches everything not previously matched (thus the subsequent warnings).</p>
"
"<p>Is there an easier way of doing this instead of inserting each element into the array manually </p>

<pre><code>stack_of_cards &lt;&lt; Card.new(""A"", ""Spades"", 1)
stack_of_cards &lt;&lt; Card.new(""2"", ""Spades"", 2)
stack_of_cards &lt;&lt; Card.new(""3"", ""Spades"", 3)
stack_of_cards &lt;&lt; Card.new(""4"", ""Spades"", 4)
stack_of_cards &lt;&lt; Card.new(""5"", ""Spades"", 5)
stack_of_cards &lt;&lt; Card.new(""6"", ""Spades"", 6)
stack_of_cards &lt;&lt; Card.new(""7"", ""Spades"", 7)
stack_of_cards &lt;&lt; Card.new(""8"", ""Spades"", 8)
stack_of_cards &lt;&lt; Card.new(""9"", ""Spades"", 9)
stack_of_cards &lt;&lt; Card.new(""10"", ""Spades"", 10)
stack_of_cards &lt;&lt; Card.new(""J"", ""Spades"", 11)
stack_of_cards &lt;&lt; Card.new(""Q"", ""Spades"", 12)
stack_of_cards &lt;&lt; Card.new(""K"", ""Spades"", 13)

stack_of_cards &lt;&lt; Card.new(""A"", ""Hearts"", 1)
stack_of_cards &lt;&lt; Card.new(""2"", ""Hearts"", 2)
stack_of_cards &lt;&lt; Card.new(""3"", ""Hearts"", 3)
stack_of_cards &lt;&lt; Card.new(""4"", ""Hearts"", 4)
stack_of_cards &lt;&lt; Card.new(""5"", ""Hearts"", 5)
stack_of_cards &lt;&lt; Card.new(""6"", ""Hearts"", 6)
stack_of_cards &lt;&lt; Card.new(""7"", ""Hearts"", 7)
stack_of_cards &lt;&lt; Card.new(""8"", ""Hearts"", 8)
stack_of_cards &lt;&lt; Card.new(""9"", ""Hearts"", 9)
stack_of_cards &lt;&lt; Card.new(""10"", ""Hearts"", 10)
stack_of_cards &lt;&lt; Card.new(""J"", ""Hearts"", 11)
stack_of_cards &lt;&lt; Card.new(""Q"", ""Hearts"", 12)
stack_of_cards &lt;&lt; Card.new(""K"", ""Hearts"", 13)

stack_of_cards &lt;&lt; Card.new(""A"", ""Diamonds"", 1)
stack_of_cards &lt;&lt; Card.new(""2"", ""Diamonds"", 2)
stack_of_cards &lt;&lt; Card.new(""3"", ""Diamonds"", 3)
stack_of_cards &lt;&lt; Card.new(""4"", ""Diamonds"", 4)
stack_of_cards &lt;&lt; Card.new(""5"", ""Diamonds"", 5)
stack_of_cards &lt;&lt; Card.new(""6"", ""Diamonds"", 6)
stack_of_cards &lt;&lt; Card.new(""7"", ""Diamonds"", 7)
stack_of_cards &lt;&lt; Card.new(""8"", ""Diamonds"", 8)
stack_of_cards &lt;&lt; Card.new(""9"", ""Diamonds"", 9)
stack_of_cards &lt;&lt; Card.new(""10"", ""Diamonds"", 10)
stack_of_cards &lt;&lt; Card.new(""J"", ""Diamonds"", 11)
stack_of_cards &lt;&lt; Card.new(""Q"", ""Diamonds"", 12)
stack_of_cards &lt;&lt; Card.new(""K"", ""Diamonds"", 13)

stack_of_cards &lt;&lt; Card.new(""A"", ""Clubs"", 1)
stack_of_cards &lt;&lt; Card.new(""2"", ""Clubs"", 2)
stack_of_cards &lt;&lt; Card.new(""3"", ""Clubs"", 3)
stack_of_cards &lt;&lt; Card.new(""4"", ""Clubs"", 4)
stack_of_cards &lt;&lt; Card.new(""5"", ""Clubs"", 5)
stack_of_cards &lt;&lt; Card.new(""6"", ""Clubs"", 6)
stack_of_cards &lt;&lt; Card.new(""7"", ""Clubs"", 7)
stack_of_cards &lt;&lt; Card.new(""8"", ""Clubs"", 8)
stack_of_cards &lt;&lt; Card.new(""9"", ""Clubs"", 9)
stack_of_cards &lt;&lt; Card.new(""10"", ""Clubs"", 10)
stack_of_cards &lt;&lt; Card.new(""J"", ""Clubs"", 11)
stack_of_cards &lt;&lt; Card.new(""Q"", ""Clubs"", 12)
stack_of_cards &lt;&lt; Card.new(""K"", ""Clubs"", 13)
</code></pre>
","149392","","<p>Yes, there is: Create an array of faces and an array of suits then iterate over them in a nested loop. Also change the <code>Card</code> class so that you don't need to specify the face as a string an integer as that is redundant. It's most convenient if you only need to specify the int parameter.</p>

<p>This way the code would look like this:</p>

<pre><code>faces = 1..13
suits = %w(Spades Hearts Diamonds Clubs)
cards = suits.flat_map do |suit|
  faces.map |face_int_value|
    Card.new(suit, face_int_value)
  end
end
</code></pre>

<p>Or in ruby before 1.9.2:</p>

<pre><code>faces = 1..13
suits = %w(Spades Hearts Diamonds Clubs)
cards = suits.map do |suit|
  faces.map |face_int_value|
    Card.new(suit, face_int_value)
  end
end.flatten
</code></pre>
"
"<p>if (1=1) then print ""sdfsdfs"" and print ""sdfsdfsdfsdf"" else print ""sdfsdf"";
this gives an error i want to do two things if the condition matches ...how could i do it
could someone help it out</p>
","149392","","<p>Parenthesize the commands and separate them with a semicolon:</p>

<pre><code>if 1=1
then (print ""sdfsdfs""; print ""sdfsdfsdfsdf"")
else print ""sdfsdf""
</code></pre>
"
"<p>I'm sure it's right here in front of me, but I'm missing it. Examine the following:</p>

<pre><code>(assoc :position entity
      (add (:position entity) (:velocity entity)))
</code></pre>

<p>What I want to do is something like this (with a fake function called altermap):</p>

<pre><code>(altermap :position entity #((add % (:velocity entity)))
</code></pre>

<p>What is the suggested method? Is there a built-in function do do #2?</p>
","149392","","<p><code>update-in</code> is almost exactly like your <code>altermap</code> function, except that it takes a vector of keys instead of a single key. So:</p>

<pre><code>(update-in entity [:position] #(add % (:velocity entity)))
</code></pre>

<p>To the best of my knowledge there is no single-key variant of <code>update-in</code>, but having to put brackets around the key shouldn't be too cumbersome.</p>
"
"<p>How can we get something from user in prolog : 
for example :</p>

<pre><code>animal(dog).
animal(cat).
write('please type animal name:'),nl.
/* How to read from user and store it to X 
and then check that user has typed animal name ?*/
?-animal(X).
</code></pre>
","149392","","<p>You can use <code>read</code> for that. For example you could write <code>read(X), animal(X).</code> into the prolog interpreter or write this into a script file:</p>

<pre><code>:- read(X), animal(X).
</code></pre>

<p>If you then enter a valid animal name into the prompt, it will be bound to X. If you enter an invalid name, it won't.</p>

<p>Or you could define a procedure like this:</p>

<pre><code>read_animal(X) :-
  write('please type animal name:'),
  nl,
  read(X),
  animal(X).
</code></pre>

<p>And then call it in the in the interpreter like <code>read_animal(X).</code>.</p>

<p>Note that the input needs to be terminated by a <code>.</code>.</p>
"
"<p>one thing I like very much is reading about different programming languages. Currently I'm learning Scala but that doesn't mean I'm not interested in Groovy, Clojure, Python, and many others. All these languages have a unique look and feel and some characteristic features. In the case of clojure I don't understand one of these design decisions. As far as I know Clojure puts great emphasis on its functional paradigm and pretty much forces you to use immutable ""variables"" whereever possible. So if half of your values are immutable, why is the language dynamically typed ?
The clojure website says:</p>

<blockquote>
  <p>First and foremost, Clojure is dynamic. That means that a Clojure program is not just something you compile and run, but something with which you can interact.</p>
</blockquote>

<p>Well that sounds completely strange. If a program is compiled you can't change it anymore. Sure you can ""interact"" with it, that's what UIs are used for but the website certainly doesn't mean a neat ""dynamic"" GUI.</p>

<p><strong>How does Clojure benefit from dynamical typing</strong></p>

<p>I mean the special case of Clojure and not general advantages of dynamic typing.</p>

<p><strong>How does the dynamic type system help improve functional programming</strong></p>

<p>Again, I know the pleasure of not spilling ""int a;"" all over the sourcecode but type inference can ease a lot of the pain. Therefore I would just like to know how dynamic typing supports the concepts of a functional language.</p>
","149392","","<p>Well first of all Clojure is a Lisp and Lisps traditionally have always been dynamically typed.</p>

<p>Second as the excerpt you quoted said Clojure is a dynamic language. This means, among other things, that you can define new functions at runtime, evaluate arbitrary code at runtime and so on. All of these things are hard or impossible to do in statically typed languages (without plastering casts all over the place).</p>

<p>Another reason is that macros might complicate debugging type errors immensely. I imagine that generating meaningful error messages for type errors produced by macro-generated code would be quite a task for the compiler.</p>
"
"<p>For example, if we</p>

<pre><code>def c=(foo)
  p ""hello""
end

c = 3
c=(3)
</code></pre>

<p>and no ""hello"" will be printed.  I know it can be invoked by <code>self.c = 3</code> but why?  and in what other ways can it be invoked?</p>
","149392","","<p><code>c = 3</code> (and <code>c = (3)</code>, which is completely equivalent to it) is always interpreted as a local variable assignment. You might say it should be interpreted as a local variable assignment only if a method <code>c=</code> is not defined on self, but there are various problems with that:</p>

<ol>
<li><p>At least MRI needs to know at parse time which local variables are defined in a given scope. However it is not known at parse time, whether a given method is defined or not. So ruby couldn't know whether <code>c = 3</code> defines the variable <code>c</code> or calls the method <code>c=</code> until runtime, which means it wouldn't know whether a local variable <code>c</code> is defined at parse time. This means that MRI would need to change the way it handles local variables in the parser, to make it work like you want it to.</p></li>
<li><p>It wouldn't be possible to define a local variable named <code>c</code> if a method is <code>c=</code> is already defined. You might say that's okay, because having local variables and methods with the same name is confusing anyway. However consider the case, where you define <code>method_missing</code> so that <code>foo=</code> is defined for every possible foo (as is the case on <code>OpenStruct</code>s for example). In that case it would not be possible to define local variables at all.</p></li>
<li><p>You can't tell for sure, whether an object responds to <code>c=</code> without running it because it might be handled by <code>method_missing</code>. So the whole thing would actually be undecidable.</p></li>
</ol>
"
"<p>Is there a way to change a database records ""created_at"" variable after it created?</p>
","149392","","<p>Sure, since rails 2.3 you can change it like any other column: get the object from the database, set the value for the column, save it.</p>

<pre><code>my_model = MyModel.find(42)
my_model.created_at = Date.today
my_model.save
</code></pre>
"
"<p>I was playing with Haskell and ghci when I found this which really bothers me:</p>

<pre><code>foldl (++) [[3,4,5], [2,3,4], [2,1,1]] []
</code></pre>

<p>I expected to get this: <code>[3,4,5,2,3,4,2,1,1]</code>
However it gets:</p>

<pre><code>[[3,4,5],[2,3,4],[2,1,1]]
</code></pre>

<p>As far as I understand foldl, it should be this:</p>

<pre><code>(([] ++ [3, 4, 5]) ++ [2, 3, 4]) ++ [2, 1, 1]
</code></pre>

<p>If I type this in ghci it really is <code>[3,4,5,2,3,4,2,1,1]</code>.</p>

<p>And the other strange thing is this:</p>

<pre><code>Prelude&gt; foldl1 (++) [[3,4,5], [2, 3, 4], [2, 1, 1]]
[3,4,5,2,3,4,2,1,1]
</code></pre>

<p>I expect foldl and foldl1 to behave in the same way. So what does foldl actually do?</p>
","149392","","<p>You switched the arguments around. <code>foldl</code> takes the accumulator's starting value first, then the list to fold. So what happens in your case is that <code>foldl</code> folds over the empty list and thus returns the starting value, which is <code>[[3,4,5], [2, 3, 4], [2, 1, 1]]</code>. This will do what you want:</p>

<pre><code>foldl (++) [] [[3,4,5], [2, 3, 4], [2, 1, 1]]
</code></pre>
"
"<p>I am writing a function that takes two lists and needs to make a new list like this:</p>

<p>(a b)(c d e f) --> ((a b c) (a b d) (a b e) (a b f))</p>

<p>ie, each element of the second list is added as an element to the first list, one for each element of the second list.</p>

<p>I can't figure out how to do this.  I have tried variations of:</p>

<p>(map list (list1) (list2))</p>

<p>with no success.</p>

<p>Any advice is appreciated.</p>
","149392","","<p>Using <code>map</code> with multiple arguments will iterate the lists in parallel, which is not what you want.</p>

<p>What you want is basically to prepend the first list to each of the elements in the second list. So you want something like:</p>

<pre><code>(map (lambda (x) (append list1 (list x))) list2)
</code></pre>

<p>Note that appending to the end of a list is an <code>O(n)</code> operation, so if you can restructure your algorithm so that you can prepend each item at the beginning of the list, that would be better.</p>
"
"<p>I am stuck on the part in chapter 6. It is a dungeon text-adventure game with rooms and a player that moves around. I keep getting a noMethod error for the .detect method used in the find_room_in_dungeon method. I assume that I am probably missing something but I just can't figure out what. I would really appreciate if someone could help me out. thanks.</p>

<pre><code>class Dungeon
  attr_accessor :player

  def initialize(player_name)
    @player=Player.new(player_name)
    @room  = []
  end

  def add_room(reference, name, description, connections)
    @room &lt;&lt; Room.new(reference, name, description, connections)
  end

  def start(location)
    @player.location=location
    show_current_description
  end

  def show_current_description
    puts find_room_in_dungeon(@player.location).full_description
  end

  ###
  def find_room_in_dungeon(reference)
    @rooms.detect { |room| room.reference == reference }
  end
  ###

  def find_room_in_direction(direction)
    find_room_in_dungeon(@player.location).connections[direction]
  end

  def go(direction)
    puts ""you go "" + direction.to_s
    @player.location= find_room_in_direction(direction)
    show_current_description
  end

  class Player
    attr_accessor :name, :location

    def initialize(name)
      @name = name
    end

  end

  class Room
    attr_accessor :reference, :name, :description, :connections

    def initialize(reference, name, description, connections)
      @reference  =reference
      @name       =name
      @description=description
      @connections=connections
    end

    def full_description
      @name + ""/n/n you are in"" + @description
    end

  end
end
my_dungeon= Dungeon.new(""adventurer"")
my_dungeon.add_room(:largecave, ""large cave"", ""a very large cave"", {:west =&gt; :smallcave})
my_dungeon.add_room(:smallcave, ""smallcave"", ""a small cave"", {:east =&gt; :largecave})
my_dungeon.start(:largecave)
</code></pre>
","149392","","<p>You called the variable <code>@room</code> when you assigned it and when you access it in <code>add_room</code>, but <code>@rooms</code> when you try to access it in <code>find_room_in_dungeon</code>. If you rename it to be the same in all three cases, it will work.</p>

<p>I would suggest naming the variable <code>@rooms</code> everywhere rather than <code>@room</code> as it is an array of (possibly) multiple rooms, not a single room.</p>
"
"<p>I need check that string begins with a digit and ends with a digit, even the length is one symbol.</p>

<p>Examples:</p>

<pre><code>""1"" =&gt; true
""1a1"" =&gt; true
""1a"" =&gt; false
""a1"" =&gt; false
</code></pre>
","149392","","<pre><code>^\d.*\d$|^\d$
</code></pre>

<p>Assuming <code>^</code> and <code>$</code> mean the beginning and the end of the string in your regex dialect. Otherwise use <code>\A</code> and <code>\Z</code> or whatever your regex dialect uses for the beginning and the end of the string.</p>

<p>Or in cases like java's <code>match</code>, where regexen are anchored by default, you can just use <code>\d.*\d|\d</code>.</p>
"
"<p>I wanted to see the type of the multiplication function (*), so I tapped it into the OCaml toplevel.</p>

<pre><code># (*)
</code></pre>

<p>However, the toplevel echoed:</p>

<pre><code>(*);; 1: this is the start of a comment.
</code></pre>

<p>and then consumed any further input I put in. I figured that I had to get out of the comment mode by pressing <code>Ctrl+d</code> to send EOF. Great. But surely, I should be able to query the type of any function, including our mysterious multiplication function <code>(*)</code>?!</p>

<p>I would be incredibly disappointed if that is a limitation of the toplevel.</p>
","149392","","<p>It does recognize <code>*)</code> as the end of the comment, but it's still waiting for the end of the expression. I.e. if you enter two semicolons, it will give you a syntax error and allow you to enter another expression.</p>

<p>To get the function <code>*</code> type <code>( * );;</code> with spaces to distinguish it from comment symbols.</p>
"
"<p>That simple. I want to generate all sublists of a list using list comprehension.</p>

<p>i.e: getSublist [1,2,3] is [[1], [2], [3], [1,2], [1,3], [2, 3], [1,2,3]]</p>

<p>Thanks</p>
","149392","","<p>This is already implemented as <code>Data.List.subsequences</code>, but if you want to define it yourself (for learning purposes), you can do it like this:</p>

<p>You can't do it with only list comprehensions, but with some recursion it looks like this:</p>

<pre><code>sublists [] = [[]]
sublists (x:xs) = [x:sublist | sublist &lt;- sublists xs] ++ sublists xs
</code></pre>

<p>Read: The only sublist of the empty list is the empty list. The sublists of <code>x:xs</code> (i.e. the list with the head <code>x</code> and the tail <code>xs</code>) are all of the sublists of <code>xs</code> as well as each of the sublists of <code>xs</code> with <code>x</code> prepended to them.</p>
"
"<pre><code>#!/bin/bash
i=1
until [ $i -gt 6 ]
do
    echo ""Welcome $i times.""
    i=$(( i+1 ))
done
</code></pre>

<p>Why we use double () in i=$(( i+1 )),and
why if we change the program to</p>

<p><code>i=$( i+1 )</code></p>

<p>or </p>

<pre><code>i++
</code></pre>

<p>or</p>

<pre><code>$i=$i+1
</code></pre>

<p>, it is not correct? </p>
","149392","","<p><code>$( foo )</code> tries to execute <code>foo</code> as a command in a subshell and returns the result as a string. Since <code>i+1</code> is not a valid shell command, this does not work.</p>

<p><code>$(( foo ))</code> evaluates <code>foo</code> as an arithmetic expression.</p>

<p>It's just two similar (but different) syntaxes that do different things.</p>
"
"<p>I have a collection <code>List&lt;CustomClass&gt;</code> which I am trying to find a way to return a field which corresponds to another field that occurs the highest number of times. 
I've asked a similar question in the past, but I'm not sure how to extend the logic to a custom class.
For instance.</p>

<p>My <code>CustomClass</code> has three public properties:</p>

<pre><code>Title
Mid
Eid
</code></pre>

<p>And a <code>List&lt;CustomClass&gt; MatchedFeatures = List&lt;CustomClass&gt;();</code> is populated in a loop.</p>

<p>I need to perform a Linq operation to return the <code>Mid</code> of the class that has the largest number of occurring identical <code>Eid</code>'s. So we are counting the identical <code>Eid</code> columns.</p>

<p>I have tried using</p>

<pre><code>var TopResult = MatchedFeatures.GroupBy(MatchedFeature =&gt; MatchedFeature).OrderByDescending(group =&gt; group.Count()).FirstOrDefault();
</code></pre>

<p>But it doesn't return what I am looking for.</p>

<p>Can anyone see where I am going wrong? I am using C#</p>

<p>Here is the previous asked question, which seems to work fine. Now how to extend it in this case...?
<a href=""http://stackoverflow.com/questions/4888537/simple-linq-question-in-c"">Simple LINQ question in C#</a></p>

<p>Many thanks,
Brett</p>
","149392","","<p>If you want to group those features where the <code>Eid</code> property is the same, you should use <code>GroupBy(MatchedFeature =&gt; MatchedFeature.Eid)</code>.</p>

<p>If you leave out the <code>.Eid</code> it will only group those features together which are entirely the same - not the ones that have the same <code>Eid</code>.</p>
"
"<p>I thought </p>

<pre><code>class ApplicationController &lt; ActionController::Base
  include Foo
</code></pre>

<p>is to add a ""mixin"" -- so that all methods in the Foo module are treated as methods of the ApplicationController.</p>

<p>But now I see code that is</p>

<pre><code>include Bar

class ApplicationController &lt; ActionController::Base
  include Foo
</code></pre>

<p>So why is it outside of <code>ApplicationController</code>?  How is that different from the more common use of putting it inside of <code>ApplicationController</code>?    </p>
","149392","","<p>Yes, <code>include Foo</code> inside a class adds <code>Foo</code> to that class's ancestors and thus makes all of <code>Foo</code>'s instance methods available to instances of those class.</p>

<p>Outside of any class definition <code>include Foo</code> will add <code>Foo</code> to the ancestors of <code>Object</code>. I.e. it is the same as if you did <code>include Foo</code> inside the definition of the <code>Object</code> class. The use doing this is that all of <code>Foo</code>'s instance methods are now available everywhere.</p>
"
"<p>What does <code>~&gt;</code> mean in the context of Ruby gem depenedencies?</p>

<p>For example, when opening a legacy project in the RubyMine IDE, I get this
message</p>

<pre>
Gems required for project are not attached:
arel (~> 2.0.2),
rspec-expectation (~> 2.5.0)...
</pre>

<p>I've seen this tilde-greater-than notation elsewhere in the Ruby world (it's not
specific to RubyMine). Does this operator have a name other than the
awkward-sounding <em>tilde-greater-than</em>?</p>
","149392","","<p>It means ""equal to or greater than in the last digit"", so e.g. <code>~&gt; 2.3</code> means
""equal to 2.3 or greater than 2.3, but less than 3.0"", while <code>~&gt; 2.3.0</code> would
mean ""equal to 2.3.0 or greater than 2.3.0, but less than 2.4.0"".</p>

<p>You can pronounce it as ""approximately greater than"".</p>

<p><a href=""http://guides.rubygems.org/patterns#pessimistic_version_constraint"">&sect; Pessimistic version constraint</a></p>
"
"<p>In using the <strong>EntityFramework</strong>, I get the error ""<code>A lambda expression with a statement body cannot be converted to an expression tree</code>"" when trying to compile the following code:</p>

<pre><code>Obj[] myArray = objects.Select(o =&gt;
{
    var someLocalVar = o.someVar;

    return new Obj() { 
    Var1 = someLocalVar,
    Var2 = o.var2 };
}).ToArray();
</code></pre>

<p>I don't know what the error means and most of all how to fix it. Any help? Thanks</p>
","149392","","<p>It means that you can't use lambda expressions with a ""statement body"" (i.e. lambda expressions which use curly braces) in places where the lambda expression needs to be converted to an expression tree (which is for example the case when using linq2sql).</p>
"
"<p>I'm reading about algorithms in Python but I'm also new in Python.</p>

<p>I just need to understand how this is made:</p>

<pre><code>a, b, c, d, e, f, g, h = range(8)
N = [
[b, c, d, e, f], # a
[c, e], # b
[d], # c
[e], # d
[f], # e
[c, g, h], # f
[f, h], # g
[f, g] # h
]
print(N[a])

--&gt; Result: [1, 2, 3, 4, 5]
</code></pre>

<p>How can Python knows that the N[a] correspond to [1, 2, 3, 4, 5]?</p>
","149392","","<p>The first line sets <code>a=0</code>, <code>b=1</code>, <code>c=2</code> etc. The next lines set <code>N</code> to a list of lists. The first item in this list is <code>[b, c, d, e, f]</code>, which is <code>[1, 2, 3, 4, 5]</code> because that's what the values for b, c, d, e and f are.</p>

<p>On the last line you're accessing <code>N[a]</code>, which is <code>N[0]</code> because <code>a</code> is 0. And since <code>N[0]</code> means ""the first element in <code>N</code>"" and that's <code>[1, 2, 3, 4, 5]</code>, that's what you get.</p>
"
"<pre><code>my $str='expire=0';

if ($str =~/expire\s*=\s* (?: 0[1-9]|[1-9][0-9])/){
    print "" found it "";
}
</code></pre>

<p>its not working </p>

<p>Condition <code>expire=</code> should be followed by a number between <code>1-99</code>?</p>
","149392","","<p>If you want to use spaces in your regex without them actually matching spaces, you need to use the <code>x</code> modifier on your regex. I.e. <code>/ foo /x</code> matches the string ""foo"", while <code>/ foo /</code> only matches "" foo "".</p>
"
"<p>I'm trying to get some code to display based on a condition. I have a boolean field in a table called ""show_weekly"". What I'm attempting is: If the column == 1 then display the first line else display the 2nd line of code. for some reason it's only showing the 2nd line.</p>

<pre><code>&lt;% if @listing.show_weekly == 1 %&gt;

&lt;%= number_to_currency(@listing.price/4, :unit =&gt; ""&amp;pound;"") %&gt; / week

&lt;% else %&gt;

&lt;%= number_to_currency(@listing.price, :unit =&gt; ""&amp;pound;"") %&gt; / month
&lt;% end %&gt;
</code></pre>

<p>any help is greatly appreciated. thanks</p>
","149392","","<p>The value of a boolean column will either be <code>false</code> or <code>true</code> in ruby, not <code>0</code> or <code>1</code>. So you should do:</p>

<pre><code>&lt;% if @listing.show_weekly %&gt;
</code></pre>

<p>instead of <code>&lt;% if @listing.show_weekly == 1 %&gt;</code></p>
"
"<p>How can I convert <code>[(char,Int)]</code> to a String of the Int in the second component gives the number of repetitions of the character in the first component? For example the input <code>[(a,9),(b,10)]</code> should give <code>[""aaaaaaaaa"",""bbbbbbbbbb""]</code> as output.</p>
","149392","","<p>I'm assuming the input is supposed to be <code>[('a', 9), ('b', 10)]</code> since without the <code>'</code>s it would only make sense if <code>a</code> and <code>b</code> were previously defined, which you did not mention.</p>

<p>In that case you can use <code>replicate</code> to create a list which contains a given element a given number of times (note that the string <code>""aaaaaaaaaa""</code> is a list containing the element <code>'a'</code> 9 times). To do that for every tuple in the list, you can use <code>map</code> on the list. Now you have a list containing the strings for each character. To turn that into a single string separated by commas, you can use <code>intercalate</code>, which takes a separator and a list of lists and returns a single li.</p>
"
"<p>I am not understanding the pre/post incrementing of this code example:</p>

<pre><code>int1 = 14;
int2 = ++int1;
// Assert: int1 == 15 &amp;&amp; int2 == 15
</code></pre>

<p>In this pre-incrementing example why does int1 == 15? Why is int1 incremented and not just int2?</p>

<p>Then we have:</p>

<pre><code>int1 = 14;
int2 = int1++;
// Assert: int1 == 15 &amp;&amp; int2 == 14
</code></pre>

<p>In this post-incrementing example why does int2 == 14? Why is int2 not incremented but int1 is?</p>
","149392","","<p>Both <code>++int1</code> and <code>int1++</code> increment <code>int1</code> because that's what the increment operators do: they increment their operand.</p>

<p>The reason that <code>int2</code> is 15 in the first example and 14 in the second example because the pre-increment and post-increment operators differ in their return value: The post-increment operator increments the operand, but returns the value that the operand had before being incremented. The pre-increment operator returns the new value of the operand.</p>
"
"<p>This is the error message I am getting:</p>

<pre><code>Couldn't match expected type `[(Char, Int)]'
       against inferred type `(a, b)'
In the pattern: (c, n)
In the definition of `decode':
    decode (c, n) = map (\ (c, n) -&gt; replicate n c)
</code></pre>

<p>and this is my code</p>

<pre><code>decode :: [(Char,Int)] -&gt; String
decode (c, n) = map (\ (c, n) -&gt; replicate n c)
</code></pre>
","149392","","<p>The pattern <code>(c,n)</code> has type <code>(a,b)</code> which does not match the type <code>[(Char, Int)]</code>. In other words you're saying the argument is a list of pairs, but your pattern only matches a single pair.</p>

<p>Also the return value of <code>map</code> will be a list of strings, not a single string as your type signature suggests. If you want a single string, you need to use <code>concatMap</code>.</p>

<p>So your code would look like this:</p>

<pre><code>decode pairs = concatMap (\ (c, n) -&gt; replicate n c) pairs
</code></pre>

<p>or just</p>

<pre><code>decode = concatMap (\ (c, n) -&gt; replicate n c)
</code></pre>
"
"<p>I have a question about Ruby arrays but it's kind of hard to describe so I could not find much from reading other questions. Here it is. </p>

<p>Currently I have the following code that works (part of Prawn's table)</p>

<p>Snippet A:</p>

<pre><code>  students = all_students.map do |student|          
      [
      student[:first_name],
      student[:last_name],
      student[:email],
      student[:given_name]
      ]
  end
  pdf.table students
</code></pre>

<p>This works fine, but now I'd like to omit some of the columns (e.g. don't show last_name). 
Say I get an array of column names, let's say pickedColumns:</p>

<p>Snippet B:</p>

<pre><code>  pickedColumns = []
  pickedColumns &lt;&lt; :first_name &lt;&lt; :email &lt;&lt; :given_name  #NOTE: no (:last_name) there!

  students = all_students.map do |student|
      studentCols = pickedColumns.each do |studentCol|
        student[studentCol]
      end
  end
  p.table students
</code></pre>

<p>I haven't been able to achieve the effect of snippet A, using the replaced code in snippet B. All I get in snippet B are not the actual values of ""student[:first_name]"" of just a string ""first_name"" for each row. </p>

<p>If my description is not 100% clear, please let me know.</p>

<p>Thanks for you help!</p>

<p>Regards</p>
","149392","","<pre><code>students = all_students.map do |student|
  studentCols = pickedColumns.each do |studentCol|
    student[studentCol]
  end
end
</code></pre>

<p>Make that</p>

<pre><code>students = all_students.map do |student|
  pickedColumns.map do |studentCol|
    student[studentCol]
  end
end
</code></pre>

<p>and it will work.</p>

<p>PS: To adhere to ruby's naming convention you should change your variable names to use all lower case and underscores, rather than camelCase.</p>
"
"<p>What does it mean in Unix when you use <code>. ./&lt;filename&gt;</code>?</p>

<p>Thanks for the help</p>
","149392","","<p>The <code>.</code> or <code>source</code> command reads the given file into the current shell. I.e. basically the given file is a shellscript which is run by typing <code>. filename</code>, however using <code>.</code> (or <code>source</code>, which is equivalent) differs from running the file ordinarily as a shell script in that it doesn't spawn a subshell and thus retains variables that are exported by the script. So if the script sets and exports variables, they will still be set when the script finishes.</p>
"
"<p>I am learning about Context Free Grammars for a Compilers course I'm attending to. I was trying to define a Grammar for function's signatures. Examples would be:</p>

<pre><code>int a
int b, int c
Object a, Object d
...
</code></pre>

<p>The closest I could achieve to something like that was:</p>

<pre><code>Params -&gt; Params, Param
       |  Param
       |  lambda

Param -&gt; paramType paramName
</code></pre>

<p>Yet this isn't what I want. This grammar allows incorrect string as <code>, int a</code>. I've been here for a while and I can't think of a better way to get to a correct grammar.</p>

<p>Any help would be appreciated.</p>
","149392","","<p>Basically what we want is <code>(Param,)* Param | lambda</code>, so how do that in production rules? Well we can introduce another rule for <code>(Param,)*</code>, like this:</p>

<pre><code>ParamCommas -&gt; Param, ParamCommas
            |  lambda
</code></pre>

<p>Then we can use it in <code>Params</code> like this:</p>

<pre><code>Params -&gt; ParamCommas Param
       |  lambda
</code></pre>

<p>Note that we don't need an extra rule for a single <code>Param</code> as <code>ParamCommas</code> can already be <code>lambda</code>.</p>
"
"<pre><code>hash = { ""d"" =&gt; [11, 22], ""f"" =&gt; [33, 44, 55] }
</code></pre>

<p>is there an one liner to get a string like below:</p>

<pre><code>d:11,d:22,f:33,f:44,f:55
</code></pre>

<p>thanks!</p>

<p>Great, thanks for the tip.  Why this code doesn't work, only difference is I replaced <code>vs.map</code> with <code>vs.each</code>:</p>

<pre><code>hash.map {|k,vs| vs.each {|v| ""#{k}:#{v}""}}.join("","")
</code></pre>

<p>which returns <code>""11,22,33,44,55""</code></p>
","149392","","<p>Use two nested calls to <code>map</code> to get an array of arrays of ""key:value"" strings, and then use <code>join</code> to turn it into one comma-separated string:</p>

<pre><code>hash.map {|k,vs| vs.map {|v| ""#{k}:#{v}""}}.join("","")
</code></pre>
"
"<p>I have a list of time-spans (given as Integer-Tuples), e.g.:</p>

<pre><code>timespans = [ (1200, 1210)
        , (1202, 1209)
        , (1505, 1900)
        , (1300, 1500)
        , (1400, 1430)
        ]   
</code></pre>

<p>I want to find an elegant Haskell solution to determine time gaps which are not covered by the timespans in the list.</p>
","149392","","<p>First I would sort the spans by their starting time. Then you can merge overlapping spans pretty easily. Once you have that you can find the gaps by just iterating over the merged spans in pairs (by zipping it with its tail). The gap will be the span from the end time of the first item of the pair to the starting time of the second item.</p>

<p>In code this would look like this:</p>

<pre><code>mergeSortedSpans [] = []
mergeSortedSpans ((from1, to1):(from2, to2):spans) | to1 &gt;= from2 =
   mergeSortedSpans $ (from1, max to1 to2):spans
mergeSortedSpans (span:spans) = span : mergeSortedSpans spans

inPairs _ [] = []
inPairs f (x:xs) = zipWith f (x:xs) xs

gap (_, to1) (from2, _) = (to1, from2)

gaps = inPairs gap . mergeSortedSpans . sort
</code></pre>

<p>Usage:</p>

<pre><code>gaps timespans
-- [(100,500),(1210,1300),(1500,1505)]
</code></pre>
"
"<p>Can I return nothing in ruby?</p>

<p><em>Just for educational purpose</em></p>

<p>For example:</p>

<pre><code>myarray = [1,2,3]
myarray &lt;&lt; some_method

def some_method
  if Date.today.day &gt; 15
    return ""Trololo""
  else
    return __NOTHING__
  end
end
</code></pre>

<p>So if today is 11'th March <code>myarray</code> won't add new item. I don't want <code>nil</code> - because <code>nil</code> is not nothing :)</p>

<p>And I understand, that I can use <code>if | unless</code> statement like <code>myarray &lt;&lt; some_method if some_method</code> etc. I want to understand can I return <strong>nothing</strong> or every time in ruby I am returning <strong>something</strong> (least I can get is Nil Object)</p>
","149392","","<p>No, you can't return nothing. In ruby you always return something (even if it's just <code>nil</code>) - no way around that.</p>
"
"<p>I have a function similar to the following:</p>

<pre><code>def check
  return 2 == 2 || 3 != 2 || 4 != 5
end
</code></pre>

<p>My question is, will Ruby perform all the comparisons even though the first is true, and thus the function return true. My checks are much more intensive, so I'd like to know if I should break this out in a different way to avoid making all the checks every time.</p>

<pre><code>irb(main):004:0&gt; 2 == 2 || 3 != 2 || 4 != 5
=&gt; true
</code></pre>

<p>Thank you.</p>
","149392","","<p><code>||</code> short-circuits as soon as the first condition is true. So yes, it will help if you put the most expensive conditions at the end.</p>
"
"<p>How to simplify a fraction in C#? For example, given <code>1 11/6</code>, I need it simplified to <code>2 5/6</code>.</p>
","149392","","<p>If all you want is to turn your fraction into a mixed number whose fractional part is a proper fraction like the previous answers assumed, you only need to add <code>numerator / denominator</code> to the whole part of the number and set the numerator to <code>numerator % denominator</code>. Using loops for this is completely unnecessary.</p>

<p>However the term ""simplify"" usually refers to reducing a fraction to its lowest terms. Your example does not make clear whether you want that as well, as the example is in its lowest terms either way.</p>

<p>Here's a C# class that normalizes a mixed number, such that each number has exactly one representation: The fractional part is always proper and always in its lowest terms, the denominator is always positive and the sign of the whole part is always the same as the sign of the numerator.</p>

<pre><code>using System;

public class MixedNumber {
    public MixedNumber(int wholePart, int num, int denom)
    {  
        WholePart = wholePart;
        Numerator = num;
        Denominator = denom;
        Normalize();
    }

    public int WholePart { get; private set; }
    public int Numerator { get; private set; }
    public int Denominator { get; private set; }

    private int GCD(int a, int b)
    {  
        while(b != 0)
        {  
            int t = b;
            b = a % b;
            a = t;
        }
        return a;
    }

    private void Reduce(int x) {
        Numerator /= x;
        Denominator /= x;
    }

    private void Normalize() {
        // Add the whole part to the fraction so that we don't have to check its sign later
        Numerator += WholePart * Denominator;

        // Reduce the fraction to be in lowest terms
        Reduce(GCD(Numerator, Denominator));

        // Make it so that the denominator is always positive
        Reduce(Math.Sign(Denominator));

        // Turn num/denom into a proper fraction and add to wholePart appropriately
        WholePart = Numerator / Denominator;
        Numerator %= Denominator;
    }

    override public String ToString() {
        return String.Format(""{0} {1}/{2}"", WholePart, Numerator, Denominator);
    }
}
</code></pre>

<p>Sample usage:</p>

<pre><code>csharp&gt; new MixedNumber(1,11,6);     
2 5/6
csharp&gt; new MixedNumber(1,10,6);   
2 2/3
csharp&gt; new MixedNumber(-2,10,6);  
0 -1/3
csharp&gt; new MixedNumber(-1,-10,6); 
-2 -2/3
</code></pre>
"
"<p>I have the following code: <a href=""http://scrp.at/FB"" rel=""nofollow"">http://scrp.at/FB</a></p>

<pre><code># Error:
# bin/rpg:5:in `&lt;main&gt;': uninitialized constant RubyPasswordGenerator::Korben (NameError)
</code></pre>

<p>In file ""bin/rpg""</p>

<pre><code>#!/usr/bin/env ruby

require_relative ""../lib/ruby_password_generator""

puts RubyPasswordGenerator::Korben.new
</code></pre>

<p>In ""lib/ruby_password_generator.rb""</p>

<pre><code>require_relative ""ruby_password_generator/ruby_password_generator""
require_relative ""ruby_password_generator/password_generator""
require_relative ""ruby_password_generator/version""

# DEBUG
require ""pp""

module RubyPasswordGenerator
end

require_relative ""ruby_password_generator/algo/korben""
</code></pre>

<p>In ""algo/korben.rb""</p>

<pre><code>module RubyPasswordGenrator

  class Korben

    M_LOWERCAS_LETTERS    = (""a""..""z"").to_a
    M_UPPERCASE_LETTERS   = (""A""..""Z"").to_a
    M_NUMBERS             = (0..9).to_a
    M_SPECCIAL_CHARACTERS = ""!@#()_-+=[]{}"".split("""")

    def initialize(length = 42)
      raise ArgumentError unless length.is_a?(Integer)
      raise ArgumentError unless length &gt;= 3 &amp;&amp; length &lt;= 255

      @length = length
    end

    def generate
      password = """"
      (0...@length).each do
        char = (M_LOWERCAS_LETTERS + M_UPPERCASE_LETTERS + M_NUMBERS + M_SPECCIAL_CHARACTERS).shuffle.sample
        password &lt;&lt; char
      end

      password
    end

  end
end
</code></pre>

<p>The file structure looks like:</p>

<pre><code># .
# ├── Gemfile
# ├── Gemfile.lock
# ├── LICENSE.markdown
# ├── NERD_tree_3
# ├── README.markdown
# ├── Rakefile
# ├── bin
# │   └── rpg
# ├── lib
# │   ├── ruby_password_generator
# │   │   ├── algo
# │   │   │   ├── korben.rb
# │   │   │   └── marvin.rb
# │   │   ├── helpers
# │   │   ├── password_generator.rb
# │   │   ├── ruby_password_generator.rb
# │   │   └── version.rb
# │   └── ruby_password_generator.rb
# ├── ruby_password_generator.gemspec
# └── spec
#     ├── algo
#     │   ├── korben_spec.rb
#     │   └── marvin_spec.rb
#     ├── password_generator_spec.rb
#     ├── ruby_password_generator_spec.rb
#     └── spec_helper.rb
#
# 7 directories, 19 files
</code></pre>

<p>I really don't know why I am getting an <code>uninitialized constant</code> ""NameError"" error. I included the file properly using <code>require_relative</code>. I also tried autoload and require, but that didn't solve anything. I am using ruby 1.9.2-p180.
If anybody knows what's going on please explain me.</p>
","149392","","<pre><code>module RubyPasswordGenrator
  class Korben
</code></pre>

<p>You're missing an e in the module name. Thus the Korben class exists in the <code>RubyPasswordGenrator</code> module not the <code>RubyPasswordGenerator</code> module and <code>RubyPasswordGenerator::Korben</code> does indeed not exist.</p>
"
"<p>I was wondering, is it possible to integrate haskell's powerful type system into a language like C, and still be able to do efficent low level programming?</p>
","149392","","<p>There have been attempts to create low-level languages which use advanced type systems to make low-level programming safe. Those type systems are often actually even more advanced than Haskell's and allow things like ensuring at compile-time that pointers are accessed safely and arrays are not accessed out of bounds.</p>

<p>One such language is <a href=""http://www.ats-lang.org/"">ATS (Applied Type System)</a> which besides many of Haskell's type system features also supports linear and dependent types.</p>
"
"<p>for the above 2 big O's, what happens if n>>m . How does the big O change? Does it become O(n) in the first case. If yes ,why?</p>
","149392","","<p>It depends on what you know about what the maximum value of <code>m</code> could be (depending on <code>n</code>).</p>

<p>If both <code>m</code> and <code>n</code> are independent variables <code>O(mn)</code> is <code>O(mn)</code> and cannot be further simplified. If you know that <code>m</code> will never be greater than <code>n</code>, but nothing else, you can also write it as <code>O(n^2)</code>. If you know for example that <code>m</code> will never be greater than <code>log n</code> (which would satisfy <code>n &gt;&gt; m</code>), <code>O(mn)</code> can be written as <code>O(n log n)</code>.</p>
"
"<p>Why can't I do something like</p>

<pre><code>let sum = List.fold + 0 aListOfNumbers
</code></pre>
","149392","","<p>Because if you write it that way, F# thinks that you're trying to call <code>+</code> with <code>List.fold</code> as its left argument and <code>0 aListOfNumbers</code> as its right argument.</p>

<p>To give an infix operator as an argument to a function you need to parenthesize it:</p>

<pre><code>let sum = List.fold (+) 0 aListOfNumbers
</code></pre>
"
"<p>I was going through some notes and I realized something is amiss.</p>

<p>When emulating lazy computation (without <code>open Lazy;</code>) one can do the following for a stream of ones.</p>

<pre><code>datatype 'a susp = Susp of (unit -&gt; 'a)

datatype 'a stream' = Cons of 'a * ('a stream') susp
type 'a stream = ('a stream') susp

fun delay (f ) = Susp(f);

fun force  (Susp(f)) = f ();

val rec ones' = fn () =&gt; Cons(1, delay(ones'));

val ones = delay(ones')

fun ltail(Susp(s)) = ltail'(force s)   
and ltail' (Cons(x,s)) = s
</code></pre>

<p>But for getting a suspended tail the types do not match up.</p>

<pre><code>operator domain: 'Z susp   
operand:         unit -&gt; 'Y
</code></pre>

<p>What will need to change for the proper types for ltail ?
I know what happens with a tail not suspended.
I just want to figure out what the notes were saying for the suspended version.</p>
","149392","","<pre><code>fun ltail(Susp(s)) = ltail'(force s)
</code></pre>

<p>The problem here is that <code>force</code> takes a value of type <code>susp</code>, but you call it with a value of type <code>() -&gt; 'a</code>. I.e. you take the function out of the <code>susp</code> value and then call <code>force</code> on the function instead of the <code>susp</code> value. You should just do:</p>

<pre><code>fun ltail s = ltail' (force s)
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/2424412/what-is-the-easiest-way-to-convert-list-with-str-into-list-with-int"">What is the easiest way to convert list with str into list with int?</a>  </p>
</blockquote>



<p>current array: <code>['1','-1','1']</code>
desired array: <code>[1,-1,1]</code></p>
","149392","","<p>Use <code>int</code> which converts a string to an int, inside a list comprehension, like this:</p>

<pre><code>desired_array = [int(numeric_string) for numeric_string in current_array]
</code></pre>
"
"<p>I have this method </p>

<pre><code>  private def getAddresses(data: List[Int], count: Int, len: Int): Tuple2[List[Address], List[Int]] = {
    if (count == len) {
      (List.empty, List.empty)
    } else {
      val byteAddress = data.takeWhile(_ != 0)
      val newData = data.dropWhile(_ != 0).tail
      val newCount = count + 1
      val newPosition = byteAddress.length + 1
      val destFlag = byteAddress.head
      if (destFlag == SMEAddressFlag) {
        (SMEAddress().fromBytes(byteAddress) :: getAddresses(newData, newCount, len)._1, newPosition :: getAddresses(newData, newCount, len)._2)
      } else {
        (DistributionList().fromBytes(byteAddress) :: getAddresses(newData, newCount, len)._1, newPosition :: getAddresses(newData, newCount, len)._2)
      }
    }
  }
</code></pre>

<p>I am tempted to rewrite it thus</p>

<pre><code>  private def getAddresses(data: List[Int], count: Int, len: Int): Tuple2[List[Address], List[Int]] = {
    if (count == len) {
      (List.empty, List.empty)
    } else {
      val byteAddress = data.takeWhile(_ != 0)
      val newData = data.dropWhile(_ != 0).tail
      val newCount = count + 1
      val newPosition = byteAddress.length + 1
      val destFlag = byteAddress.head
      val nextIter = getAddresses(newData, newCount, len)
      if (destFlag == SMEAddressFlag) {
        (SMEAddress().fromBytes(byteAddress) :: nextIter._1, newPosition :: nextIter._2)
      } else {
        (DistributionList().fromBytes(byteAddress) :: nextIter._1, newPosition :: nextIter._2)
      }
    }
  }
</code></pre>

<p>My questions are</p>

<ol>
<li>Is the first one tail recursive?</li>
<li>How does it work? I am calling the method twice in the last line. Does it evaluate to separate method calls what?</li>
<li>Which version is more efficient, or how can I write it more efficiently.</li>
</ol>

<p>Pardon me if the code <strong>smells</strong> I am new to scala.</p>

<p>Thanks</p>
","149392","","<ol>
<li>No. A method is tail-recursive if the last call in a given execution path is a recursive call. The last call evaluated here will be <code>::</code>, which is not a recursive call, so it's not tail recursive.</li>
<li>Yes, if you call a method twice, it will be evaluated twice.</li>
<li>The second one is more efficient as here you're only calling the method once.</li>
</ol>
"
"<pre><code>    let rec add_tail l e = match l with
      | [] -&gt; [e]
      | (h::t) -&gt; h::(add_tail t e)

    let rec fill_help l x n = match n = 0 with
      true -&gt; l
      | false -&gt; add_tail(l, x); fill_help(l, x, n-1)

    let fill x n = 
      let l = [] in
      fill_help(l, x, n)
</code></pre>

<p>and I'm getting the error in the interpreter</p>

<pre><code>    # #use ""prac.ml"";;
    val prod : int list -&gt; int = &lt;fun&gt;
    val add_tail : 'a list -&gt; 'a -&gt; 'a list = &lt;fun&gt;
    File ""prac.ml"", line 13, characters 21-27:
    Error: This expression has type 'a * 'b
           but an expression was expected of type 'c list
</code></pre>

<p>line 13 would be </p>

<pre><code>    | false -&gt; add_tail(l, x); fill_help(l, x, n-1)
</code></pre>
","149392","","<p>First of all you call <code>fill_help</code> with a tuple as an argument (<code>(l, x, n-1)</code>) even though it's not defined to take one. You should call <code>fill_help</code> as <code>fill_help l x (n-1)</code> instead. Same for <code>add_tail</code>.</p>

<p>Secondly you call a side-effect-free function (<code>add_tail</code>) and throw away its return value. This is almost always an error. It looks like you expect <code>l</code> to be different after the call to <code>add_tail</code>. It won't be. You probably want <code>fill_help (add_tail l x) x (n-1)</code>.</p>
"
"<p>Lets say i have  </p>

<pre><code>data A = B Char Integer
</code></pre>

<p>and I have a variable called var <code>in</code> type <code>A</code>.
How can I access the integer value of <code>var</code> variable and use it?
Is there any operator to get it? I don't know, something like <code>var-&gt;int</code> would give me it?</p>
","149392","","<p>You can define a function for this using pattern matching:</p>

<pre><code>getIntegerFromA :: A -&gt; Integer
getIntegerFromA (B _ int) = int
</code></pre>

<p>Though depending on where you want to use it, you can probably get the value using pattern matching right there instead of defining a separate function.</p>
"
"<pre><code>datatype term = node of string*term list
         | vnode of string
</code></pre>

<p>i have a value of type term. How do i print it in sml to standard output.</p>
","149392","","<p>You need to first create a string out of the <code>term</code> and then print that using <code>print</code>. To turn a <code>term</code> into a string, you could define a function like this:</p>

<pre><code>fun termToString (node (str, terms)) =
    ""node("" ^ str ^ "", "" ^ termListToString terms ^ "")""
  | termToString (vnode str) =
    ""vnode("" ^ str ^ "")""
and termListToString terms =
    ""["" ^ String.concatWith "", "" (map termToString terms) ^ ""]""
</code></pre>
"
"<p>I'm trying to learn Common Lisp (sbcl) and getting practice with basic defuns. I'm trying to write one now that adds the lengths of all the strings in a list.</p>

<p>An early step is testing whether the first element is a string. I assumed you could call this with</p>

<p><code>(stringp (car '(s1 s2)))</code></p>

<p>where s1 and s2 are strings. Testing s1 with stringp, and asking for the car of the list seem to work ok, but combining them together doesn't give me what I expect:</p>

<pre><code>CL-USER&gt; (car '(s1 s2))
S1
CL-USER&gt; (stringp s1)
T
CL-USER&gt; (stringp (car '(s1 s2)))
NIL
</code></pre>

<p>Am I misunderstanding the stringp function, or the way lists work?</p>

<p>Thank you</p>
","149392","","<p><code>'(s1 s2)</code> is a list containing the symbols <code>s1</code> and <code>s2</code>. So <code>(car '(s1 s2))</code> returns the symbol <code>s1</code> (as you can see by the fact that the REPL prints <code>S1</code> and not whatever string is stored in the variable <code>s1</code>. Since a symbol is not a string, <code>stringp</code> returns false.</p>

<p>If you actually use a list of strings, it will work as you expect:</p>

<pre><code>* (car (list s1 s2))
""contents of s1""

* (stringp (car (list s1 s2)))
T
</code></pre>
"
"<pre><code>&gt;&gt;&gt; (()) == ()
True
&gt;&gt;&gt; (())
()
</code></pre>
","149392","","<p>For the same reason that <code>(4) == 4</code>: adding parentheses around an expression does not alter its meaning (unless it would otherwise have been grouped differently of course).</p>

<p>Note that <code>( foo )</code> is <strong>not</strong> a 1-tuple. Otherwise things like <code>3 * (4 + 5)</code> would be an error as <code>(4 + 5)</code> would be a 1-tuple containing 9 and you can't add a number to a 1-tuple.</p>
"
"<p>Consider following code:</p>

<pre><code>typedef  SomeType type_t[2];
SomeType * arr1 = new type_t; //new or new[] ???
type_t * arr2 = new type_t[3]; //new or new[] ???
</code></pre>

<p>According standard which version of <code>new</code> will be called in 1-st and 2-nd cases ( <code>new</code> or <code>new[]</code>) and how to delete <code>arr1</code> and <code>arr2</code> (with <code>delete</code> or <code>delete[]</code>) ?</p>
","149392","","<p>It will use <code>new[]</code> in both cases. You can verify this yourself by defining <code>operator new[]</code> for <code>SomeType</code> and printing something to the screen. You will see that it will be printed in both cases.</p>
"
"<p>the first strange thing about map in clojure is in following snippet:</p>

<pre><code>(apply map list '((1 a) (2 b) (3 c)))
</code></pre>

<p>The result is surprising for me:</p>

<pre><code>((1 2 3) (a b c))
</code></pre>

<p>Anyone could explain how it works?</p>
","149392","","<p><code>(apply f x '(y z))</code> is equivalent to <code>(f x y z)</code>, so your code is equivalent to <code>(map list '(1 a) '(2 b) '(3 c))</code>.</p>

<p>When called with multiple lists, <code>map</code> iterates the lists in parallel and calls the given function with one element from each list for each element (i.e. the first element of the result list is the result of calling the function with the first element of each list as its arguments, the second is the result for the second elements etc.).</p>

<p>So <code>(map list '(1 a) '(2 b) '(3 c))</code> first calls <code>list</code> with the first elements of the lists (i.e. the numbers) as arguments and then with the second elements (the letters). So you get <code>((list 1 2 3) (list 'a 'b 'c))</code>.</p>
"
"<p>I've currently wrote a program to use on a .txt file but whenever i try to run it i get the error:  </p>

<blockquote>
  <p>cat quux.txt | ./wordCount  </p>
</blockquote>

<pre><code>&lt;interactive&gt;:1:14: parse error on input `|'  
</code></pre>

<p>Am i typing in my code wrong to work it on the ghc or?</p>
","149392","","<p>You can't use shell syntax in ghci. You should type the command into the shell instead.</p>
"
"<p>I have a variable ""x"" in my view. I need to display some code ""x"" number of times.</p>

<p>I basically want to set up a loop like this:<br></p>

<pre><code>for i = 1 to x
  do something on (i)
end
</code></pre>

<p>Is there a way to do this?</p>
","149392","","<p>You can perform a simple <code>each</code> loop on the range from 1 to `x´:</p>

<pre><code>(1..x).each do |i|
  #...
end
</code></pre>
"
"<p>I'm really an absolute newbie at Haskell, so I'm at a total loss as to how to debug some functions I wrote. When I call <code>shuntingYard [""3+4""]</code> I get back <code>[]</code>, whereas I want to get back <code>[34+]</code>. Any and all help would be greatly, greatly appreciated.</p>

<pre><code>import Char

isOperator :: Char -&gt; Bool
isOperator x = elem x ['+','-','*','/','%','^','!','=','&lt;','&gt;']

associativityOf :: Char -&gt; String
associativityOf x = if elem x ['+','-','*','/','%']
                    then ""Left""
                    else ""Right""

precedenceOf :: Char -&gt; Int
precedenceOf x
    | elem x ""=&lt;&gt;""   = 1 
    | elem x ""+-""    = 2
    | elem x ""*/%""   = 3
    | elem x ""^!""    = 4
    | otherwise      = 0

operatorActions :: [[Char]] -&gt; [[Char]] -&gt; [[Char]]
operatorActions stmt stack
    | ( tokenAssoc == ""Left""  &amp;&amp; tokenPrecedence &lt;= stackPrecedence ) ||        
      ( tokenAssoc == ""Right"" &amp;&amp; tokenPrecedence &lt;  stackPrecedence ) =
        [stackOper] : _shuntingYard stmt (tail stack)
    | otherwise   = _shuntingYard (tail stmt) ((head stmt) : stack)
    where tokenAssoc       = associativityOf (head (head stmt))
          tokenPrecedence  = precedenceOf    (head (head stmt))
          stackOper        = if (not (null stack))
                           then (head (head stack))
                           else '='
          stackPrecedence  = precedenceOf stackOper

stackOperations :: [[Char]] -&gt; [[Char]]                                
stackOperations stack
    | ((not (null stack)) &amp;&amp; (head (head stack)) == '(') = 
      error ""Unbalanced parens.""
    | null stack = []
    | otherwise  = (head stack) : _shuntingYard [] (tail stack)

_shuntingYard :: [[Char]] -&gt; [[Char]] -&gt; [[Char]]
_shuntingYard stmt stack
    | null stmt          = stackOperations stack
    | all isDigit (head stmt) = (head stmt) : _shuntingYard (tail stmt) stack
    | isOperator  (head (head stmt)) = operatorActions stmt stack
    | (head (head stmt)) == '('=
      _shuntingYard (tail stmt) ((head stmt) : stack)
    | (head (head stmt)) == ')' = if (head (head stack)) == '('
                            then _shuntingYard (tail stmt) (tail stack)
                            else (head stack) : _shuntingYard stmt (tail stack)
    | otherwise = _shuntingYard (tail stmt) stack

shuntingYard :: [[Char]] -&gt; [[Char]]
shuntingYard stmt = _shuntingYard stmt []
</code></pre>
","149392","","<p>Ok, let's just play through what happens when you call <code>shuntingYard [""3+4""]</code>:</p>

<ol>
<li>It calls <code>_shuntingYard [""3+4""] []</code></li>
<li>It goes through the guards of <code>_shuntingYard</code>:
<ol>
<li><code>null stmt = null [""3+4""] = false</code></li>
<li><code>all isDigit (head stmt) = all isDigit ""3+4"" = false</code> as <code>+</code> is not a digit</li>
<li><code>isOperator  (head (head stmt)) = isOperator '3' = false</code></li>
<li>Also false as <code>'3' /= '('</code></li>
<li>Also false as <code>'3' /= ')'</code></li>
</ol></li>
<li>Since none of the guards matched, so we go into the default case and call <code>_shuntingYard (tail stmt) stack = _shuntingYard [] []</code></li>
<li>This time the first guard(<code>null stmt = null []</code>) matches, so we call <code>stackOperations []</code> and get <code>[]</code>.</li>
</ol>
"
"<p>I noticed that I can extend a class and at the same time pass parameters to the extended class:</p>

<pre><code>scala&gt; class SomeClass(val str: String)
defined class SomeClass

scala&gt; class SubclassOne extends SomeClass(""one"")
defined class SubclassOne

scala&gt; class SubclassTwo extends SomeClass(""two"")
defined class SubclassTwo

scala&gt; val obj : SomeClass = new SubclassOne
obj: SomeClass = SubclassOne@2dca4eb4

scala&gt; obj.str
res0: String = one
</code></pre>

<p>I'm working a lot with case classes, where <code>ClassName(args)</code> actually creates an object, so to me it looks like I'm extending an object, but I'm not sure here.</p>

<p>Does it perhaps mean that I'm extending the class, and automatically pass an argument to the super constructor?</p>
","149392","","<blockquote>
  <p>Does it perhaps mean that I'm extending the class, and automatically pass an argument to the super constructor?</p>
</blockquote>

<p>Yes, that is exactly what it means.</p>
"
"<p>Newbie Regex question / C#:</p>

<p>Consider (.*)=(.*) and how it would match ""A = B = C""</p>

<p>I exepected to get two match objects back since there are two ways to group and match:</p>

<pre><code>(A = B) = (C)   

     or 

(A) = (B = C)
</code></pre>

<p>However I get back only one match object (the first case).  So I guess I don't understand why the match collection is a collection - since I can't seem to get more than one item into it.  Can someone explain ?</p>

<hr>

<p>fyi - for the above test I just used the immed window:</p>

<pre><code>?Regex.Matches(""A = B = C"", ""(.*)=(.*)"").Count
 1

?Regex.Matches(""A = B = C"", ""(.*)=(.*)"")[0].Groups[1].Captures[0]
 Value: ""A = B""

?Regex.Matches(""A = B = C"", ""(.*)=(.*)"")[0].Groups[1].Captures[1]
 Value: ""C""
</code></pre>
","149392","","<p>The collection returned by <code>Matches</code> contains consecutive matches, not alternative matches for the same section of the string. So if you pass in a string like ""A = B\nC = D"", you'll get back two matches: one for ""A = B"" and one for ""C = D"" (as <code>.</code> does not match line breaks).</p>
"
"<p>This is absolutely driving me nuts.  The supposed simplest thing I can imagine and I can't do it.</p>

<p>I just want to computer factorial inputting an int and output a real.</p>

<p>I've tried to coerce in numerous way.</p>

<pre><code>fun factorial 0 = 1 |
    factorial n = n * factorial(n-1);
</code></pre>
","149392","","<p>To convert an int to a real, you use <code>Real.fromInt</code>. If you want to return reals, you should also return <code>1.0</code> instead of <code>1</code> as the base case. So your code becomes:</p>

<pre><code>fun factorial 0 = 1.0
  | factorial n = (Real.fromInt n) * factorial(n-1);
</code></pre>
"
"<p>I wish to call class on the String class. How can I access this static method?</p>
","149392","","<p>You can call a static method using <code>(ClassName/methodName arguments)</code>.</p>

<p>However <code>class</code> is not a static method, it's a java keyword and you don't need it in clojure. To get the Class object associated with the String class, just use <code>String</code>.</p>
"
"<p>I have read quite a few posts here for matching nested braces in Ruby using Regexp. However I cannot adapt it to my situation and I am stuck. The Ruby 1.9 book uses the following to match a set of nested braces</p>

<pre><code>/\A(?&lt;brace_expression&gt;{([^{}]|\g&lt;brace_expression&gt;)*})\Z/x
</code></pre>

<p>I am trying to alter this in three ways. 1. I want to use parentheses instead of braces, 2. I want a character in front (such as a hash symbol), and 3. I want to match anywhere in the string, not just beginning and end. Here is what I have so far.</p>

<pre><code>/(#(?&lt;brace_expression&gt;\(([^\(\)]|\g&lt;brace_expression&gt;)*\)))/x
</code></pre>

<p>Any help in getting the right expression would be appreciated.</p>
","149392","","<p>Using the regex modifier <code>x</code> enables comments in the regex. So the <code>#</code> in your regex is interpreted as a comment character and the rest of the regex is ignored. You'll need to either escape the <code>#</code> or remove the <code>x</code> modifier.</p>

<p>Btw: There's no need to escape the parentheses inside <code>[]</code>.</p>
"
"<p>I have just started out in Vala, and I tried to make a simple program that asks two inputs:</p>

<ol>
<li>An int that specifies a cycle degree; and</li>
<li>A char that contains I / R for either an iterative or recursive process.</li>
</ol>

<p>Just before compiling, I got this error:</p>

<pre><code>test0.vala:8.5-8.16: error: Access to instance member `test0.test_exec' denied
        test_exec(q);
        ^^^^^^^^^^^ //the entire statement
Compilation failed: 1 error(s), 0 warning(s)
</code></pre>

<p>The pastebin for the very simple program is located <a href=""http://pastebin.com/wz3VGBY9"" rel=""nofollow"">here</a>.</p>

<p>Here's a snippet:</p>

<pre><code>public static void main(string[] args)
{
    stdout.printf(""Greetings! How many cycles would you like? INPUT: "");
    int q=0;
    stdin.scanf(""%d"", out q);
    test_exec(q);
}

public void test_exec(int q)
{
    //method code here
}
</code></pre>

<p>Can you please enlighten me about what to do, and some tips? Thanks.</p>
","149392","","<p>You defined <code>test_exec</code> as an instance (non-static) method. Unlike a static method, an instance method needs to be called on an instance of the given class. However you're trying to call it without such an instance and thus get an error.</p>

<p>So you either need to create an instance of the <code>test0</code> class and call <code>test_exec</code> on that (though that would make little sense since <code>test_exec</code> does not depend on or change any state of the object - as a matter of fact the <code>test0</code> class  does not have any state) or make <code>test_exec</code> as well as the other methods called by <code>test_exec</code> static.</p>
"
"<p>Here is working code:</p>

<pre><code>p = (10..14).map { |a|
  (a..14).map { |b|
    a * b
  }
flatten.select { |p|
  p.to_s == p.to_s.reverse
}
</code></pre>

<p>But I want to keep the information about 'a' and 'b' which produced 'a * b':</p>

<pre><code>p = (10..14).map { |a|
  (a..14).map { |b|
    [a, b, a * b, '=']
  }
}.select { |v|
  v[2].to_s == v[2].to_s.reverse
}

puts p
</code></pre>

<p>This code print not palindromic number. I guess that reason is a Array flatten. How do I need to change code to get palindromic number?</p>
","149392","","<p>Yes, since you don't call <code>flatten</code> in the second version, the array is too nested and the select doesn't work because <code>v</code> is a row of elements, not a single elements. However if you'd just call <code>flatten</code> like in the first version, the resulting array would be too flat.</p>

<p>There are multiple ways to solve this:</p>

<ol>
<li>In 1.9.2 you can replace the outer call to ´map<code>with</code>flat_map<code>which works like</code>map`, but automatically produces a flat array.</li>
<li>In 1.8.7+ you can call <code>flatten(1)</code> instead of <code>flatten</code>, which will flatten the array by exactly one level of nesting, resulting in the structure you want.</li>
<li>Instead of an array you could define a class to represent a number, which avoids the problem of accidentally flattening the inner arrays lets you access the properties of the number more meaningfully.</li>
</ol>

<p>Option 3 could look like this:</p>

<pre><code>Product = Struct.new(:factor1, :factor2) do
  def product
    factor1 * factor2
  end

  def to_s
    ""#{factor1} * #{factor2} = #{product}""
  end
end

products = (10..14).map { |a|
  (a..14).map { |b|
    Product.new(a,b)
  }
}.flatten.select { |prod|
  prod.product.to_s == prod.product.to_s.reverse
}

puts products
</code></pre>
"
"<pre><code> def normalized?

    matches = match(/[^A-Z]*/)
    return matches.size == 0

  end
</code></pre>

<p>This is my function operating on a string, checking wether a string contains only uppercase letters. It works fine ruling out non matches, but when i call it on a string like <code>""ABC""</code> it says no match, because apparently <code>matches.size</code> is 1 and not zero. There seems to be an empty element in it or so.</p>

<p>Can anybody explain why?</p>
","149392","","<p><code>MatchData#size</code> returns the number of capturing groups in the regex plus one, so that <code>md[i]</code> will access a valid group iff <code>i &lt; md.size</code>. So the value returned by <code>size</code> only depends on the regex, not the matched string, and will never be 0.</p>

<p>You want <code>matches.to_s.size</code> or <code>matches[0].size</code>.</p>
"
"<p>I was wondering about the following questions:</p>

<ol>
<li>What does it mean ""<a href=""http://www.c2.com/cgi/wiki?ForeignFunctionInterface"">some language is
a subset/superset of another</a>""? Can
it be defined in mathematics? Is it
related to the subset/superset
concept in elementary set theory?</li>
<li><p>Are almost all existing languages
implemented/written in some small
number of low-level languages? For
example, are most languages written
in C? Is C++ written in C?</p>

<p>Is there some relation between the
implementation relation and the
concept of subset/superset of
languages?</p></li>
<li><p>In terms of language features, some
languages have more than some other.
In some cases, some has all the
features of some other, for example,
does C++ have all the features of C?</p>

<p>Is there some relation between the
subset/superset relation in terms of
the set of features and the
subset/superset relation between
languages?</p></li>
<li>Are there other aspects that
characterize relation between
languages?</li>
</ol>

<p>Thanks and regards!</p>
","149392","","<blockquote>
  <p>What does it mean ""some language is a subset/superset of another""?</p>
</blockquote>

<p>Syntactically a language A is a subset of a language B if every program that is valid in language A is also valid in language B. Semantically it is a subset if it is a syntactic subset and each valid A program also exhibits the same behavior in language B.</p>

<blockquote>
  <p>Can it be defined in mathematics? Is it related to the subset/superset concept in elementary set theory?</p>
</blockquote>

<p>Syntactic subset: If <code>P_A</code> is the set of all valid programs in language A and <code>P_B</code> is the set of all valid programs in language B, then language <code>A</code> is a syntactic subset of language <code>B</code> exactly if <code>P_A</code> is a subset of <code>P_B</code>.</p>

<p>Semantic subset: Let <code>A(p)</code> be a function which describes the behavior of program <code>p</code> in language A, and <code>B(p)</code> describe the behavior of program <code>p</code> in language B. A is a subset of B if and only if for all <code>p</code> for which <code>A(p)</code> is defined, <code>B(p)</code> is also defined and <code>A(p) = B(p)</code>.</p>

<blockquote>
  <p>Are almost all existing languages implemented/written in some small number of low-level languages?</p>
</blockquote>

<p>This depends on your definition of ""almost all"" of course, but I'm inclined to say no. Many compilers and interpreters are written in C and C++ (simply because a lot of software in general is implemented in C and C++), but by far not all.</p>

<blockquote>
  <p>For example, are most languages written in C? Is C++ written in C?</p>
</blockquote>

<p>As has been pointed out in comments already, C++ is a language not a piece of software. <code>g++</code> which is the GNU C++ compiler is written in C, but there are also C++ compilers which are written in different languages (probably).</p>

<blockquote>
  <p>In terms of language features, some languages have more than some other. In some cases, some has all the features of some other, for example, does C++ have all the features of C?</p>
</blockquote>

<p>Yes (unless you count simplicity as a feature).</p>

<blockquote>
  <p>Is there some relation between the subset/superset relation in terms of the set of features and the subset/superset relation between languages?</p>
</blockquote>

<p>If a language is a superset of another language, the set of that language's features will also have to be a superset of the other language's features (again unless you count simplicity or things like ""the language does not allow X"" as a feature).</p>

<p>This is not applicable in the other direction however (i.e. just because A's features are a superset of B's features, A does not have to be a superset of B).</p>
"
"<pre><code>Enumerable.Range(0, int.MaxValue)
          .Select(n =&gt; Math.Pow(n, 2))
          .Where(squared =&gt; squared % 2 != 0)
          .TakeWhile(squared =&gt; squared &lt; 10000).Sum()
</code></pre>

<p>Will this code iterate over all of the integer values from 0 to max-range or just through the integer values to satisfy the take-while, where, and select operators?
Can somebody clarify?</p>

<p><strong>EDIT:</strong> My first try to make sure it works as expected was dumb one. I revoke it :)</p>
","149392","","<p>Your first code will only iterate as long the <code>TakeWhile</code> condition is met. It will not iterate until <code>int.MaxValue</code>.</p>

<p><code>int.MaxValue + 5</code> will result in a negative integer. <code>Enumerable.Range</code> throws an ArgumentOutOfRangeException if its second argument is negative. So that's why you get the exception (before any iteration takes place).</p>
"
"<p>I'm just starting Scala and so getting my head around doing things in a more functional style.</p>

<p>Just wondering if there is a more functional way to achieve something like the following:</p>

<pre><code>def expand(exp: String): String = {
  var result = exp
  for ((k,v) &lt;- libMap) {result = result.replace(k, ""(%s)"".format(v))}
  result
}
</code></pre>

<p>Or in general terms, given a string and some iterable collection, go through the collection and for every element, incrementally modify the input string.</p>

<p>Cheers</p>
","149392","","<p>Generally the pattern</p>

<pre><code>var result = init
for (foo &lt;- bar) { result = f(result, foo)}
result
</code></pre>

<p>can be expressed functionally as</p>

<pre><code>bar.foldLeft(init)(f)
</code></pre>

<p>So for your case this becomas:</p>

<pre><code>libMap.foldLeft(exp){ case(result, (k,v)) =&gt; result.replace(k, ""(%s)"".format(v))}
</code></pre>
"
"<p>I'm new to haskell, I was trying to write a string split function </p>

<pre><code>delim = '|'
splitStr::[Char]-&gt;[[Char]]-&gt;[[Char]]
splitStr list y                 
                | sL &gt; 0 &amp;&amp; sL &lt; length(list) = splitStr (drop (sL+1) list) [subList]++y
                | otherwise = [subList]++y
                where 
                    subList = takeWhile (\x -&gt; x /= delim) list 
                    sL = length(subList)

split s = splitStr s []
</code></pre>

<p>However, the above code always returns the String in reverse order</p>

<pre><code>Main&gt; split ""foo|bar|java|python""
[""python"",""java"",""bar"",""foo""]
</code></pre>

<p>changing from <code>y++[subList]</code> to <code>[subList]++y</code> still gives the same result. 
I know there maybe better ways to do it, but I want to know why the above is happening.</p>
","149392","","<pre><code>splitStr (drop (sL+1) list) [subList]++y
</code></pre>

<p>This is parsed as <code>(splitStr (drop (sL+1) list) [subList])++y</code>. What you wanted is probably <code>splitStr (drop (sL+1) list) ([subList]++y)</code>.</p>
"
"<p>I need to list all files of a directory using the Clean programming language, but I don't know any function to do so. Can someone help me?</p>
","149392","","<p>You can use the function <code>getDirectoryContents</code> from the <a href=""http://wiki.clean.cs.ru.nl/Directory"" rel=""nofollow""><code>Directory</code> module</a>, which is bundled with the Clean distribution.</p>
"
"<p>I have some questions about the following program.</p>

<pre><code>import Data.List(nub) 
import qualified Text.PrettyPrint.HughesPJ as PP
import Text.PrettyPrint.HughesPJ(Doc,text,int,(&lt;&gt;),(&lt;+&gt;),($+$),render)

data Prop a = 
     LetterP a
   | AndP (Prop a) (Prop a)
 deriving Eq

class PPLetter a where
  ppLetter :: a -&gt; Doc

instance PPLetter Int where
  ppLetter a = text (""p""++show a)

instance PPLetter Char where
  ppLetter = PP.char

instance PPLetter a =&gt; PPLetter [a] where
  ppLetter = PP.hcat . (map ppLetter)

class PP a where
  pp :: a -&gt; Doc

instance PP Bool where
  pp True = text ""True""
  pp False = text ""False""

parens n (term@(LetterP _)) = pp term

instance PPLetter a =&gt; PP(Prop a) where   
  pp (LetterP a) = ppLetter a
  pp (AndP x y) = PP.sep [ parens 4 x, text ""/\\"", parens 4 y]

instance PPLetter a =&gt; Show (Prop a) where
  show x = render (pp x)

main = do
    let p = LetterP 1
    print p
</code></pre>

<ol>
<li><p>I can't see a definition of <code>LetterP</code>, so I assume it is from an imported package. Is that correct?</p></li>
<li><p>When I compile it, I get an error:</p>

<pre><code>ho8.hs:19:12: parse error on input `='
Failed, modules loaded: none.
</code></pre>

<p>why do I get this error, and how do I solve it? I tried to print <code>LetterP</code> but it didn't
work.</p></li>
<li><p>What does <code>parens n (term@(LetterP _)) = pp term</code> mean, what do <code>parens</code> do and what is <code>term@</code>? Why is there no definition of <code>term</code>?</p></li>
<li><p>After removing <code>{}</code>, I get the following error. Why?</p>

<pre><code>ho8.hs:43:9:
    Ambiguous type variable `a0' in the constraints:
      (PPLetter a0) arising from a use of `print' at ho8.hs:43:9-13
      (Num a0) arising from the literal `1' at ho8.hs:42:25
    Probable fix: add a type signature that fixes these type variable(s)
    In the expression: print p
    In the expression:
      do { let p = LetterP 1;
           print p }
    In an equation for `main':
        main
          = do { let p = ...;
                 print p }
Failed, modules loaded: none.
</code></pre></li>
</ol>
","149392","","<p><code>LetterP</code> is a data constructor for the type <code>Prop</code>. It is defined in the following part of your code:</p>

<pre><code>data Prop a = 
     LetterP a
   | AndP (Prop a) (Prop a)
 deriving Eq
</code></pre>

<p>It can not be printed because it does not derive <code>Show</code> and there is also no manual instance for <code>Show (Prop a)</code> in your code. However the error you posted is a syntax error and not related to that.</p>

<p>The <code>(var@pattern)</code> syntax is used to give a name to the value matched by the pattern. So <code>parens n (term@(LetterP _)) = pp term</code> matches if the second argument is a value using the constructor <code>LetterP</code> and assigns that value to the argument <code>term</code>.</p>

<p><code>AndP</code> like <code>LetterP</code> is a constructor for the type <code>Prop</code>.</p>
"
"<pre><code>(ns src.helloworld)

(defn fibonacci[a b] (println a b (fibonacci (+ b 1) a + b)))

(fibonacci 0 1)
</code></pre>

<p>I'm new to Functional Programming and decided to start learning Clojure as it's <strong>very</strong> different from C#. I'd like to broaden my horizons.</p>

<p>Here's the error I get:</p>

<pre><code>Clojure 1.2.0
java.lang.IllegalArgumentException:
Wrong number of args (4) passed to:
helloworld$fibonacci
(helloworld.clj:0) 1:1 user=&gt;
#&lt;Namespace src.helloworld&gt; 1:2 src.helloworld=&gt;
</code></pre>

<p>Math problems never were my strong suit and I never really made anything that manipulated numbers like this, so I would like any guidance you can give.</p>

<p><strong>Please don't give me the entire solution.</strong> </p>

<p>Preferably I would like some good hints and maybe a skeleton of how it should look like.</p>
","149392","","<pre><code>(fibonacci (+ b 1) a + b)
</code></pre>

<p>Here you're calling the function <code>fibonacci</code> with four arguments: The result of <code>(+ b 1)</code>, the value of the variable <code>a</code>, the function <code>+</code> and the value of the variable <code>b</code>. Since <code>fibonacci</code> was defined to only take two arguments, you get the error you do.</p>

<p>Once you fix this, you'll get a stack overflow error without seeing any output. This is because you put the recursive call to <code>fibonacci</code> as the argument to <code>println</code>. So it will try to execute the recursive call before executing <code>println</code>. Since the recursion is infinite, the call to <code>println</code> will never happen. What you should do is first print the number and then call <code>fibonacci</code> recursively.</p>

<p>Once you do this the programm will print a lot of numbers, but the stack will still overflow eventually. This is because clojure does not optimize away tail-calls, so even when using tail recursion, infinite recursion will cause a stack overflow. To prevent this use the <code>recur</code> form instead of normal recursion.</p>

<p>In addition to these points, your program will print the wrong numbers as you implemented the Fibonacci sequence wrongly.</p>
"
"<p>I am trying to implement the quick sort algorithm using ruby. See what I did:</p>

<pre><code>class Array

  def quick_sort  #line 14
    less=[];greater=[]
    if self.length&lt;=1
      self[0]
    else
      i=1
      while i&lt;self.length
        if self[i]&lt;=self[0]
          less &lt;&lt; self[i]
        else
          greater &lt;&lt; self[i]
        end
      i=i+1
      end
    end
    less.quick_sort + self[0] + greater.quick_sort #line 29
  end
end
[1,3,2,5,4].quick_sort #line 32
</code></pre>

<p>This generated the error:</p>

<pre><code>bubble_sort.rb:29:in `quick_sort': stack level too deep (SystemStackError)
    from bubble_sort.rb:29:in `quick_sort'
    from bubble_sort.rb:32
</code></pre>

<p>Why is this happening? </p>
","149392","","<pre><code>less.quick_sort + self[0] + greater.quick_sort
</code></pre>

<p>This line is outside of the if statement, so it gets executed whether <code>self.length&lt;=1</code> is true or not. Consequently the method recurses infinitely, which causes the stack to overflow.</p>

<p>It should also be pointed out that <code>self[0]</code> does not return an array (unless <code>self</code> is an array of arrays), so it does not make sense to use <code>Array#+</code> on it. Nor does it make sense as a return value for your quick_sort method.</p>
"
"<p>Just a basic Casaer Cipher. I've tested all of the sub functions, just encryptChar() does not particularly work.  I get an infinite loop.  It's supposed to be recursive.  Here's the all code:</p>

<pre><code>fun replace (str : string, index : int, newChar : char) : string = String.substring(str,0,index) ^ String.str(newChar) ^ String.substring(str,index+1,(size str) - index - 1;

fun encryptChar (msgStr : string, shiftAmnt : int, index : int) : string =   
    let val asciiCode = 0  
    in  
        if (not (String.sub(msgStr, index) = #"" "")) then  
        (  
            asciiCode = ord( String.sub(msgStr, index) ) + shiftAmnt;  
            if (asciiCode &lt; ord(#""A"")) then asciiCode = asciiCode + 26  
            else if (asciiCode &gt; ord(#""Z"")) then asciiCode = asciiCode - 26  
            else asciiCode = asciiCode;  
            msgStr = replace(msgStr, index, chr(asciiCode))  
        )  
        else asciiCode = asciiCode;  
        index = index + 1;  
        if (index &lt; (size msgStr - 1)) then encryptChar(msgStr, shiftAmnt, index)  
        else msgStr  
    end  
;  

fun encrypt(msgStr : string, shiftAmnt : int) : string = encryptChar (String.map Char.toUpper msgStr, shiftAmnt mod 26, 0);
</code></pre>
","149392","","<p>The problem here is that you're misusing <code>=</code>. Outside of a variable definition, <code>=</code> is simply a boolean function which checks its arguments for equality. So if you do for example <code>asciiCode = ord( String.sub(msgStr, index) ) + shiftAmnt;</code>, it will simply return <code>false</code> (because <code>asciiCode</code> is not equal to <code>ord( String.sub(msgStr, index) ) + shiftAmnt</code>) and then throw that result away (because you have additional expressions after the <code>;</code>). It will not reassign <code>asciiCode</code>.</p>

<p>Variables in SML are immutable. If you want to emulate mutable variables you can use <code>ref</code>s and the <code>:=</code> operator. However I would not recommend that approach as it is generally not good functional style and not necessary in this case. The preferable approach would be to rewrite the code in a way that each variable is only assigned once.</p>
"
"<p>Is it possible to do so? Let's say I want to get the last element of a list, I would create a variable <code>i = 0</code>, and increment it until it equals to length. Any idea? An example would be greatly appreciated.</p>

<p>Thanks,</p>
","149392","","<p>Yes, it's possible to define local variables in scheme, either using <code>let</code> or <code>define</code> inside a function. Using <code>set!</code>, it's also possible to reassign a variable like you imagine.</p>

<p>That being said, you should probably not solve your problem this way. In Scheme it's generally good practice to avoid <code>set!</code> when you don't need to (and in this case you definitely don't need to). Further iterating over a list using indices is usually a bad idea as scheme's lists are linked lists and as such random access O(n) (making the <code>last</code> function as you want to implement it <code>O(n^2)</code>).</p>

<p>So a simple recursive implementation without indices would be more idiomatic and faster than what you're planning to do and as such preferable.</p>
"
"<p>By default, an activerecord model has attr_accessor for all the table columns correct?</p>
","149392","","<p>No, this is not correct. An active record object will have getter and setter methods for all columns, but these are not defined using <code>attr_accessor</code> nor do they act like ones that are defined using <code>attr_accessor</code>:</p>

<p>While the getters and setters defined by <code>attr_accessor</code> get and set instance variables, the getters and setters on an active record objects get and set values in the <code>@attributes</code> hash, which every active record object has.</p>
"
"<p>In scala, when I use the <strong>ensuring</strong> predef, it works only on the <em>else</em> part of an if-else expression:</p>

<pre><code>def evenIt(x:Int) = {
    if(x % 2 == 0)
            x+1 //return odd on purpose!
    else{
      x + 1
    } ensuring( _ % 2 == 0)
}

//Test it:
evenIt(3)
&gt; 4
evenIt(4)
&gt; 5  //&lt;--- ensuring does not catch this!
</code></pre>

<p>But I thought that ""if-else"" was an expression in scala. So it should just return a value - which in turn should be passed to <strong>ensuring</strong>?</p>

<p>Or am I confusing something here? Thanks.</p>

<p>EDIT: In the book Programming in Scala the author uses it as follows:</p>

<pre><code>private def widen(x: Int) : Element =
   if(w &lt;= width)
      this
   else {
      val left = elem(' ', (w - width) / 2, height)
      var right = elem(' ', w - width - left.width, height)
      left beside this beside right
   } ensuring ( w &lt;= _.width
</code></pre>

<p>Does he apply it only to else part here?</p>
","149392","","<p>Yes, if-else is an expression, but the way you bracketed it, you only apply <code>ensuring</code> to <code>x+1</code>, not to the <code>if</code>-expression. If you put the <code>ensuring</code> after the closing brace surrounding the <code>if</code>, it will do what you want:</p>

<pre><code>def evenIt(x:Int) = {
    if(x % 2 == 0)
        x + 1 //return odd on purpose!
    else
        x + 1
} ensuring( _ % 2 == 0)
</code></pre>
"
"<p>I ran into a syntax error.  I accept that it's a syntax error, but I'm somewhat curious as to <em>why</em> it's a syntax error.</p>

<p>This works exactly as you'd expect it to:</p>

<pre><code>(0..9).each { |n| puts n.to_s + ""^2 = "" + (n**2).to_s }
</code></pre>

<p>This throws an error:</p>

<pre><code>(0..9).each { |n| puts n.to_s +""^2 = ""+ (n**2).to_s }
</code></pre>

<p>The error:</p>

<pre><code>NoMethodError: undefined method '+@' for ""^2 = "":String
</code></pre>

<p>Oddly, I can move the second plus sign wherever and Ruby seems to have no problem with it, but if that first one happens to touch the double quote, I get a syntax error.</p>

<p>Why exactly does this happen?</p>
","149392","","<p><code>n.to_s +""^2 = ""</code> is parsed as <code>n.to_s(+""^2 = "")</code>, which is syntactically valid and means ""perform the unary plus operations on the string <code>^2 =</code> and then pass the result as an argument to <code>to_s</code>"". However since strings don't have a unary plus operation (represented by the method <code>+@</code>), you get a <code>NoMethodError</code> (<em>not</em> a syntax error).</p>

<p>The reason that it's parsed this way and not as <code>n.to_s() + ""^2 = ""</code> is that if it were parsed this way then <code>puts +5</code> or <code>puts -x</code> would also have to be parsed as <code>puts() + 5</code> and <code>puts() - x</code> rather than <code>puts(+5)</code> and <code>puts(-x)</code> - and in that example it's rather clear that the latter is what was intended.</p>
"
"<p>I've read that Scala'a <code>case class</code> construct automatically generates a fitting <code>equals</code> and <code>hashCode</code> implementation. What does exactly the generated code look like?</p>
","149392","","<p>The generated <code>hashCode</code>  just calls <code>scala.runtime.ScalaRunTime._hashCode</code>, which is defined as:</p>

<pre><code>def _hashCode(x: Product): Int = {
  val arr =  x.productArity
  var code = arr
  var i = 0
  while (i &lt; arr) {
    val elem = x.productElement(i)
    code = code * 41 + (if (elem == null) 0 else elem.hashCode())
    i += 1
  }
  code
}
</code></pre>

<p>So what you get is <code>elem1 * 41**n + elem2 * 41**(n-1) .. elemn * 1</code>, where <code>n</code> is the arity of your case class and <code>elemi</code> are the members of that case class.</p>
"
"<p>Hi 
I'm new in Python, I write this code but I face whit this error: </p>

<pre><code>""SyntaxError: invalid syntax""

a =[][]

for i in range(3):

    for j in range(3):

        a[i][j] = i+j
</code></pre>

<p>Can anybody help me? Error is in the first line and the last bracket.</p>
","149392","","<p>As you know, <code>[]</code> is the empty list. Further <code>some_list[i]</code> accesses <code>some_list</code> at index <code>i</code>. So when python sees <code>[][]</code> it first sees the empty list, followed by a opening bracket. It then assumes you want to access the empty list and expects an index or a slice. When it then encounters the closing bracket instead, this is unexpected and causes your syntax error.</p>

<p>To create a list containing lists, you can do <code>[[], [], []]</code> (which is a list containing three empty lists). However since you're using a loop, you rather want to populate the array in the loop, which would look like this:</p>

<pre><code>a =[]
for i in range(3):
    a.append( [] )
    for j in range(3):
        a[i].append( i+j )
</code></pre>

<p>However that is still not really what you want to do is that is much too verbose. What you should do is use a list comprehension like this:</p>

<pre><code>a = [[i+j for j in range(3)] for i in range(3)]
</code></pre>
"
"<p>Hey i have a question.
 say <code>t(n) = O(n log(n))</code> and u know that this is true.</p>

<p>and then your given these statements and told to say whether they must be true or false. <code>t(n) = n^4</code> and <code>t(n) = O(N^4)</code>    </p>

<p>The statement <code>t(n) = n^4</code> is false while the statement <code>t(n) = O(N^4)</code>  is true. Why?</p>
","149392","","<p>You have to remember that when you write <code>t(n) = O(n log(n))</code> and <code>t(n) = O(N^4)</code>, what it actually means is that <code>t(n)</code> is <strong>in</strong> <code>O(...)</code>, not that it's equal to it (as <code>O(...)</code> is a set of functions and a function can not be equal to a set of functions). However when you write <code>f(n) = n^4</code>, that means that <code>f(n)</code> is equal to <code>n^4</code>.</p>

<p>Now if <code>f(n)</code> is in <code>O(n log n)</code>, it is also in <code>O(n^4)</code> because <code>O(n^4)</code> is a superset of <code>O(n log n)</code>. However it can not be equal to <code>n^4</code>, because <code>n^4</code> is not in <code>O(n log n)</code>.</p>
"
"<p>Why does the following code result in the error 'undefined local variable or method `foo_client' for Foo::People:Class'</p>

<pre><code>class Foo::People

  class &lt;&lt; self
    def get_account_balance(account_num)
      foo_client.request :get_account_balance, :body =&gt; {""AccountNum"" =&gt; account_num}
    end
  end

  def foo_client
    @@client ||= Savon::Client.new do|wsdl, http|
      wsdl.document = PEOPLE_SERVICE_ENDPOINT[:uri] + ""?WSDL""
      wsdl.endpoint = PEOPLE_SERVICE_ENDPOINT[:uri]
    end
  end

end
</code></pre>
","149392","","<p><code>def get_account_balance</code> is inside the <code>class &lt;&lt; self</code> block, so it's a class method. <code>def foo_client</code> is not, so it's an instance method. So you can't call <code>foo_client</code> from <code>get_account_balance</code> because you're not calling it on an instance of <code>People</code>.</p>
"
"<p>I have this function </p>

<pre><code>let items = ['a'; 'a'; 'a'; 'a'; 'b'; 'b'; 'a'; 'a'; 'c'; 'd'; 'd'; 'e'; 'e';] 

open System
let rng = new Random()

let randomSelect list toget = let randomList k len = List.init k (fun _ -&gt; rng.Next(1,len))
                              let getK l k = List.nth l k 
                              let primeGet = getK list
                              List.length list
                              |&gt; randomList toget 
                              |&gt; List.iter (fun i -&gt; primeGet i) 

let res23 = randomSelect items 3
</code></pre>

<p>but for some reason the function is expecting a unit list, not a generic one</p>

<p>The type 'unit' does not match the type 'char'</p>

<p>why is this happening ? </p>
","149392","","<p>Because <code>List.iter</code> expects a function which returns <code>unit</code> and the function <code>fun i -&gt; primeGet i</code> returns <code>unit</code> if and only if <code>list</code> is a list of <code>unit</code>.</p>

<p>Note that even if your code did compile, it wouldn't do anything, because <code>List.iter</code> returns <code>unit</code> and is only used for the function's side-effects, which in this case don't exist. My guess is you probably want to use <code>map</code> instead of <code>iter</code>, which returns a list with the results of <code>primeGet</code>. This would also fix your type error.</p>
"
"<p>I need to add my own data type to a list which is in a function, here's my code: </p>

<pre><code>type Car = (String, String, Int, String)

testDatabase :: [Car] 
testDatabase = [(""Ford"", ""Petrol"", 2006, ""Sport"")]

addNewCar :: Car 
addNewCar newCar = newCar:testDatabase
</code></pre>

<p>Here's the error I get:</p>

<pre><code>ERROR file:.\template.hs:20 - Type error in explicitly typed binding
*** Term : addNewCar
*** Type : ([Char],[Char],Int,[Char]) -&gt; [([Char],[Char],Int,[Char])]
*** Does not match : Car
</code></pre>

<p>(sorry its a rubbish explanation im just struggling a tad with Haskell). Thank you in advance!!</p>

<p>Ash!</p>
","149392","","<p>The inferred type of <code>addNewCar</code> is <code>([Char],[Char],Int,[Char]) -&gt; [([Char],[Char],Int,[Char])</code>, which is the same as <code>Car -&gt; [Car]</code>. This type says that <code>addNewCar</code> is a function which takes a car and returns a list of cars. This is exactly the type you want.</p>

<p>However your type signature says that <code>addNewCar</code> is simply a value of type <code>Car</code>. This is wrong and clashes with the inferred type. That's why you get the error. So to fix this, simply remove the type signature or change it to <code>addNewCar :: Car -&gt; [Car]</code>.</p>
"
"<p>This is something that really confuses me, it seems like time and time again I run into methods in ruby native data types that do the same thing (essentially), and yet have different names.  If duck typing is so strongly encouraged by ruby and the ruby community, why aren't these methods named consistently across types?</p>
","149392","","<p>You seem to imply that Hash does not have a <code>length</code> method and/or that other enumerables don't have a <code>count</code> method. That is not true.</p>

<p><code>count</code> is a method defined in the <code>Enumerable</code> module and thus available on all enumerables. It differs from <code>size</code> and <code>length</code> in the following ways:</p>

<ol>
<li>It (optionally) takes a block specifying which kind of elements to count.</li>
<li>It's available on all enumerables - not just those that keep track of their size - however it has a runtime in <code>O(n)</code> for those that don't (and always when given a block of course).</li>
</ol>

<p><code>length</code> and <code>size</code> (which are synonyms) are methods defined on all enumerable classes that keep track of their size (including <code>Hash</code>). They differ from count in that they always return the length in <code>O(1)</code> time and don't take a block.</p>

<p>In summary: You can call <code>length</code> or <code>size</code> on any object that keeps track of its size and you can call <code>count</code> on any enumerable. So duck typing is not hampered in any way.</p>
"
"<p>Is there a simple way in Ruby to count the number of days from YYYY-MM-DD to another YYYY-MM-DD and list them?</p>
","149392","","<p>You can use <code>Date.parse</code> to convert the strings to <code>Date</code> objects and then simply use the two <code>Date</code> objects in a range and call <code>to_a</code> on that range. I.e.:</p>

<pre><code>( Date.parse(string1) .. Date.parse(string2) ).to_a
</code></pre>
"
"<p>I have been trying to understand if you need to create a proc or lambda before something is a closure in Ruby or not.</p>

<p>As a canonical example we can look at the inject method. It's using the yield keyword but is it a closure or just a block?</p>

<pre><code>def inject(init)
  result = init
  each do |item|
    result = yield(result, item)
  end
  result
end
</code></pre>
","149392","","<p>A piece of code is a closure if it captures the enclosing scope, which a block does, so blocks (as well as lambdas and procs) are closures.</p>

<p>Methods defined using <code>def</code> however, don't close over anything, so <code>inject</code> is not a closure.</p>
"
"<p>How can I create a newline inside a String type? Is it possible without using IO ()?</p>

<pre><code>formatRow :: Car -&gt; String
formatRow (a, d:ds, c, x:xs) = a ++ "" | "" ++ x ++ concat xs ++ "" | "" ++ show c ++ "" | "" ++ d ++ concat ds ++ (show '\n')
</code></pre>
","149392","","<p>To create a string containing a newline, just write <code>""\n""</code>.</p>

<p>Note that calling <code>show</code> on it will escape the newline (or any other meta-characters), so don't do <code>foo ++ (show ""\n"")</code> or <code>foo ++ (show '\n')</code> - just use <code>foo ++ ""\n""</code>.</p>

<p>Also note that if you just evaluate a string expression in ghci without using <code>putStr</code> or <code>putStrLn</code>, it will just call <code>show</code> on it, so for example the string <code>""foo\n""</code> will display as <code>""foo\n""</code> in ghci, but that does not change the fact that it's a string containing a newline and it will print that way, once you output it using <code>putStr</code>.</p>
"
"<p>In the following ruby example, what does the <code>&amp;</code> represent? Is it along the line of <code>+=</code> in a loop?</p>

<pre><code>payments.sum(&amp;:price)
</code></pre>

<p>Thanks,</p>

<p>Rich</p>
","149392","","<p>No, it has nothing to do with <code>+=</code>. The unary <code>&amp;</code> operator, when used in a method call, turns the given Proc object into a block. If the operand is not a Proc (as in this case where it is a symbol), first <code>to_proc</code> is called on it and then the resulting Proc object is turned into a block.</p>
"
"<pre><code>puts ""Hello! Reading temperature value from data file...""
num = File.read(""temp.dat"")
puts ""The number is #{num}...""
celsius = num.to_i
fahrenheit = (celsius.to_i * 9 / 5) + 32
puts ""The Fahrenheit value is: #{ fahrenheit }.""
</code></pre>

<p>In the third line, the <code>...</code> after the <code>#{num}</code> block are printed in a new line. I was under the impression that using that block was passing parameter to the display allowing easier formatting.</p>

<p>Why are the dots going to a new line?</p>
","149392","","<p>Presumably temp.dat ends with a newline character, <code>num</code> contains a newline character. To remove the newline character, you can use the <code>String#chomp</code> method, which removes any newline character at the end of a string.</p>
"
"<p>I have a function <code>main</code>, which has a sub-function <code>menu</code>. In <code>main</code>, I load a file, ask for the user to input their name, then call <code>menu</code> to display a menu. After each action in the menu has been completed, I'm going to call <code>menu</code> again until an exit condition is met. </p>

<p>I'm having trouble passing the file I'm loading in <code>main</code> into <code>menu</code> - I want to perform an action on the database for each command. </p>

<p>This is my code so far (i've cut out bits that are irrelevant):</p>

<pre><code>main :: IO ()
main = do contents &lt;- readFile ""myfile.txt""
          let finalDatabase = (read contents :: [Film])
          putStr ""Please enter your name: ""
          name &lt;- getLine
          menu finalDatabase
          where menu db = do putStrLn ""Please select an option:""
                             putStrLn ""1: Display all films""
                             putStr ""Choice: ""
                             choice &lt;- getLine
                             case choice of {
                                 ""1"" -&gt; displayAll db;
                             }
                             menu
</code></pre>

<p>The <code>displayAll</code> function just prints out a Database nicely. </p>

<p>I'm getting the following error in WinHugs:</p>

<pre><code>ERROR file:.\films.hs:152 - Type error in function binding
*** Term           : menu
*** Type           : [([Char],[[Char]],Int,[[Char]])] -&gt; IO a
*** Does not match : IO a
</code></pre>

<p>I thought that if I didn't specify a line like <code>menu :: Database -&gt; IO ()</code>, it would accept any parameters without being concerned with their type. </p>

<p>Any suggestions?</p>

<p><strong>Edit:
Stupid mistake, I just forgot to pass the database when calling menu again after the case statement!</strong></p>
","149392","","<p>First of all, no, not specifying a type, does not mean that the function will accept any time. It means that the type will be inferred.</p>

<p>The reason that you're getting that particular type error is that at the end of <code>menu</code>'s <code>do</code> block, you write <code>menu</code>, which is a function and not a value of type <code>IO</code>. I'm not exactly sure why you do that. If you want to create an infinite loop, you should change the last call to <code>menu db</code>, instead of returning the function unapplied. If you don't want an infinite loop, I don't see why you use <code>menu</code> at the end at all.</p>
"
"<p>Suppose I have a haskell expression like:</p>

<pre><code>foo (Nothing, Just a) = bar a
foo (Just a, Nothing) = bar a
</code></pre>

<p>Is there any haskell syntax to collapse those cases, so I can match either pattern and specify <code>bar a</code> as the response for both?  Or is that about as succinct as I can get it?</p>
","149392","","<p>That's as succinct as it gets in Haskell. In ML there is a syntax for what you want (by writing multiple patterns, which bind the same variables, next to each other separated by <code>|</code> with the body after the last pattern), but in Haskell there is not.</p>
"
"<p>If I have <code>arr = [1, 2, 3, 4]</code> I know I can do the following...</p>

<pre><code>&gt; arr.each_slice(2) { |a, b| puts ""#{a}, #{b}"" }
1, 2
3, 4
</code></pre>

<p>...And...</p>

<pre><code>&gt; arr.each_with_index { |x, i| puts ""#{i} - #{x}"" }
0 - 1
1 - 2
2 - 3
3 - 4
</code></pre>

<p>...But is there a built in way to do this?</p>

<pre><code>&gt; arr.each_slice_with_index(2) { |i, a, b| puts ""#{i} - #{a}, #{b}"" }
0 - 1, 2
2 - 3, 4
</code></pre>

<p>I know I can built my own and stick it into the array method. Just looking to see if there is a built in function to do this.</p>
","149392","","<p>Like most iterator methods, <code>each_slice</code> returns an enumerable when called without a block since ruby 1.8.7+, which you can then call further enumerable methods on. So you can do:</p>

<pre><code>arr.each_slice(2).with_index { |(a, b), i| puts ""#{i} - #{a}, #{b}"" }
</code></pre>
"
"<p>How can I flatten a nested list like this:</p>

<pre><code>[1, 2, 3, 4] == flatten [[[1,2],[3]],[[4]]]
</code></pre>
","149392","","<p>You can remove one level of nesting using <code>concat</code>, and consequently you can apply n levels of nesting by applying <code>concat</code> n times.</p>

<p>It is not possible to write a function which removes an arbitrary level of nestings, as it is not possible to express the type of a function, which takes an arbitrarily nested list and returns a flat list, using Haskell's type system (using the list datatype that is - you can write your own datatype for arbitrarily nested lists and write a flatten function for that).</p>
"
"<p>In <a href=""http://stackoverflow.com/questions/6009653/how-do-i-limit-the-number-of-replacements-when-using-gsub/6010980#6010980"">How do I limit the number of replacements when using gsub?</a>, someone suggested the following way to do a limited number of substitutions:</p>

<pre><code>str = 'aaaaaaaaaa'
count = 5
p str.gsub(/a/){if count.zero? then $&amp; else count -= 1; 'x' end}
# =&gt; ""xxxxxaaaaa""
</code></pre>

<p>It works, but the code mixes up how many times to substitute (5) with what the substitution should be (""x"" if there should be a substitution, <code>$&amp;</code> otherwise). Is it possible to seperate the two out?</p>

<p>(If it's too hard to seperate the two things out in this scenario, but it can be done in some other scenarios, post that as an answer)</p>
","149392","","<p><code>gsub</code> will call the block exactly as often as the regex matches the string. The only way to prevent that is to call <code>break</code> in the block, however that will also keep <code>gsub</code> from producing a meaningful return value.</p>

<p>So no, unless you call break in the block (which prevents any further code in the yielding method from running and thus prevents the method from returning anything), the number of times a method calls a block is solely determined by the method itself. So if you want <code>gsub</code> to yield only 5 times, the only way to do that is to pass in a regex which only matches the given strings five times.</p>
"
"<p>i've a situation where i need to convert a binary value to hex in ruby as follows:<br/>
if bin = ""0000111"" then my ouput should be:  hex = ""07"" <br/>
&amp; suppose if bin = ""010001111"" then o/p should be: hex = ""08f"" <br/> 
could someone help me out on how to do this.. Thanks in advance.. </p>
","149392","","<p>Both <code>String#to_i</code> and <code>Integer#to_s</code> take an optional integer argument specifying the base. So you can convert your binary string to an integer using base 2 and then convert that integer back to a string using base 16.</p>
"
"<p>Is there an elegant way to find and replace any integers superior to 3 (as example) in a multidimensional array? The array may have the dimension 1, 2, 3, or more. Just an example of a such array:</p>

<pre><code>[ [ [ 3, 3, 5 ], 
    [ 4, 3, 3 ] ], 
  [ [ 3, 2, 3 ], 
    [ 0, 3, 8 ] ] ]
</code></pre>

<p>I would like to do so without flatten the array.</p>
","149392","","<p>You can write a <code>deep_map</code> method, which calls <code>map</code> on the array and then for each element test whether it's a sub-array. If it is, call <code>deep_map</code> recursively with the sub-array, otherwise yield the element.</p>

<p>You can then use that <code>deep_map</code> method to transform the inner elements of your multi-dimensional array without affecting its structure.</p>
"
"<p>I'm new to Ruby and just started to pick up the language a couple of days back. As an exercise, I tried to implement a simple quicksort</p>

<pre><code>class Sort
  def swap(i,j)
    @data[i], @data[j] = @data[j], @data[i]
  end

  def quicksort(lower=0, upper = @data.length - 1)
    return nil if lower &gt;= upper
    m = lower
    i = 0
    ((lower+1)..upper).each do |i|
      swap(++m, i) if @data[i] &lt; @data[lower]
    end

    swap(m, lower)

    quicksort1(lower, m -1)
    quicksort1(m+1, upper)
  end
end
</code></pre>

<p>Calling quicksort on say 10000 integers gives me a stack-level error. After googling, I figured out that tail-recursion isn't supported yet in Ruby (<a href=""http://ephoz.posterous.com/ruby-and-recursion-whats-up-in-19"" rel=""nofollow"">kind of</a>). But then I found the following snippet (from <a href=""http://en.wikibooks.org/wiki/Algorithm_Implementation/Sorting/Quicksort"" rel=""nofollow"">here</a>)</p>

<pre><code>def qs(v)
  return v if v.nil? or v.length &lt;= 1
  less, more = v[1..-1].partition { |i| i &lt; v[0] }
  qs(less) + [v[0]] + qs(more)
end
</code></pre>

<p>Running the second snippet works perfectly well even with a million integers. Yet, as far as I can tell, there's tail recursion at the end. So what am I not understanding here? </p>
","149392","","<p>Neither of the methods you've shown are tail recursive (well technically the first one is half tail-recursive: the second recursive call is a tail call, but the first one is not - the second method is not tail recursive at all).</p>

<p>The reason that the first method overflows the stack, but the second one does not is that the first method recurses much deeper than the second (linearly instead of logarithmically) because of a bug (<code>++m</code> just applies the unary + operator to <code>m</code> twice - it does not actually do anything to <code>m</code>).</p>

<p>When given a large enough array both versions will overflow (and would do so even if ruby did perform TCO), but without the bug 10000 elements is not nearly large enough.</p>
"
"<p><code>[]</code> = empty <code>list</code></p>

<p><code>()</code> = empty <code>tuple</code></p>

<p><code>{}</code> = empty <code>dict</code></p>

<p>Is there a similar notation for an empty <code>set</code>?
Or do I have to write <code>set()</code>?</p>
","149392","","<p>No, there's no literal syntax for the empty set. You have to write <code>set()</code>.</p>
"
"<p>I download ""SML of new jersey"" for windows vista.</p>

<p>I work on ML file which call ""a.ml"" in libary c.</p>

<p>Now I want to load all the commands in the file to the interpter, but I don't succsses.</p>

<p>I tried (use ""c:\a.ml"");</p>

<p>Thank you for your help.</p>
","149392","","<p>The <code>\a</code> in the string is interpreted as an escape sequence (specifying the bell character) - not a backslash followed by an a. You need to escape the backslash with another backslash for it to be interpreted as a literal backslash. I.e.:</p>

<pre><code>use ""c:\\a.ml"";
</code></pre>

<p>You can also use forward slashes instead of backslashes to avoid having to escape anything.</p>

<p>Also note that if you invoke the interpreter from within the directory the ml file is in, you don't need to specify a directory at all, i.e. <code>use ""a.ml"";</code> will do in that case.</p>
"
"<p>I have the following list:</p>

<pre><code>[[a,b,c],
 [d,e,f],
 [g,h,i]]
</code></pre>

<p>and would like to get the following (e.g. if I extract 0th element of a list within the list):</p>

<pre><code>[[a],[d],[g]]
</code></pre>

<p>I've been able to do it for one element (e.g. <code>([[a,b,c],[d,e,f],[g,h,i]])!!0!!0 = a</code>) but I can't seem to get the function to work for all elements in that column.</p>
","149392","","<p>You already know that you can use <code>!! i</code> to get the <code>i</code>th element of a list. So how do you get the <code>i</code>th element of each list in a list of lists? By applying <code>(!! i)</code> to each list in the list of lists. And how do you do that? By using <code>map</code> which can apply any function to each element in a list.</p>

<p>So by using <code>map</code> with <code>(!! i)</code> we get a list containing the <code>i</code>th column of each row, which would be <code>[a, d, g]</code> in your example. From that you can get to your expected output easily enough.</p>

<p>Though if you want to access your matrix by column a lot, you might be better off <a href=""http://haskell.org/ghc/docs/latest/html/libraries/base/Data-List.html#v%3atranspose"" rel=""nofollow"">transposing</a> your matrix once and then using the transposed matrix.</p>
"
"<p>I'm working through a demo program written by someone else, and I'm very confused about some of the statements they are using. I'm not very familiar with C++ (moreso with Obj-C) and I'm not sure if this is valid code or not. Take, for example, the following: (comments are mine)</p>

<pre><code>int main(int argv, char** argc)
{
    int perm [20]; //OK, so declare an array of ints, size = 20
    for (int i=0; i &lt; 20; i++)
        perm = i; //whaaaaa??? thought you need to specify an element to assign to an array...
}
</code></pre>

<p>That is one example - my compiler throws an ""incompatible types in assignment of 'int' to 'int [20]' error, but apparently others have been able to compile the program. Am I nuts, or is this bad code?</p>

<p>Here's another piece I just don't get:</p>

<pre><code>int d[20] = {0}; //OK, another int array of size 20, initialized to 0's
for (int i = 1; i &lt; n; i++)
{
    d = d[i - 1]; //this I don't get - assign the array to one of its own elements??
    if (invperm[i - 1] &lt; b)
        d++;  //this would just increment to the next element? 
}
</code></pre>

<p>I suspect the error is one of comprehension on my part, as if the code was bad other people would've commented on that fact...if anyone has a good explanation and/or resource I can read to understand this, I would be most appreciative!</p>

<p>Thanks!</p>

<p>*<strong><em>EDITED TO ADD</em>*</strong></p>

<p>In response to the answers below, I did copy/paste that code, and it looks intact to me...I can only assume when the original author posted it, it mangled it somehow. Thanks for the replies, I'm glad I had the right understanding, and I'll try and contact the author to see if there is an un-mangled copy out there somewhere!</p>
","149392","","<p>Your understanding is fine, that code is just entirely nonsensical.</p>

<pre><code>d++;  //this would just increment to the next element?
</code></pre>

<p>It would if <code>d</code> were a pointer. However since <code>d</code> is an array, it's simply illegal.</p>
"
"<p>I open a file in ""SML of New Jersey"" with the command: use ""c:\work.sml"";</p>

<p>and It gives me the next problem: </p>

<pre><code>[openning c:\\work5.sml]
[use failed: Io: openln failed on ""c:\\work.sml"", Win32TextPrimIO:openRd: failed]
uncaught Exception error
raised at:../complier/TopLevel/interact.sml:24.14-24.28
</code></pre>

<p>in ""work.sml"" I have just one line:</p>

<pre><code>- datatype ’a seq = Nil | Cons of ’a * (unit -&gt; ’a seq);
</code></pre>

<p>thank you.</p>
","149392","","<p>Your file contains two errors:</p>

<ol>
<li>The <code>-</code> at the beginning of the line needs to be removed.</li>
<li>The <code>’</code>s should be <code>'</code>s.</li>
</ol>

<p>However these should cause a syntax error and a bunch of ""illegal token"" errors respectively, not an IO error.</p>

<p>The only reason I can think of that you get the error you do is that you mistyped the file name.</p>
"
"<p>How does Haskell code work even without the Type declaration?</p>
","149392","","<p>Note: I'm assuming that you mean type signatures because if you remove type definitions like <code>type Foo = Bar</code> or <code>data X = Y</code>, the code will not work anymore (assuming the defined type is actually used of course).</p>

<p>Haskell code works without type signatures because the type of a variable/function is simply inferred by the compiler if you do not specify a signature. The algorithm used to make this inference is a variant of the <a href=""http://en.wikipedia.org/wiki/Type_inference#Hindley.E2.80.93Milner_type_inference_algorithm"" rel=""nofollow"">Hindley-Milner type inference algorithm</a>.</p>
"
"<p>Just started learning Haskell.</p>

<p>I have an empty source file with this inside:</p>

<pre><code>pe :: (Integral a) =&gt; a -&gt; a
pe y = sum [x | x &lt;- [1..y-1], x `mod` 3 == 0 || x `mod` 5 == 0]
</code></pre>

<p>Now if I ghci this, I can call pe like so:</p>

<pre><code>*Main&gt; pe 1000
233168
</code></pre>

<p>How do I call it from within my source file? If I have </p>

<pre><code>pe 1000
</code></pre>

<p>it returns a cryptic error:</p>

<pre><code>GHC stage restriction: `pe'
   is used in a top-level splice or annotation,
   and must be imported, not defined locally
 In the expression: pe 1000
</code></pre>

<p>Do I need to declare it in main or something? </p>
","149392","","<p>A Haskell source file contains a sequence of definitions, not expressions. So you can't just put an expression in the top level of the file, you have to put it inside the body of a definition. So since <code>pe 1000</code> is not a definition, you get an error.</p>

<p>But why such a cryptic error message? GHC has an extension called Template Haskell, which allows you to programmatically create definitions at compile time. To achieve this it allows you to put an expression in a place where usually only definitions are allowed and evaluates the expression at compile time and replace the expression with its result (which must be a definition) - this is called splicing and the expression is then called a splice. Such a splice needs to meet two requirements:</p>

<ol>
<li>Any identifiers used in the expression must be defined in a different source file (this is required so that the used functions are already compiled when the expression is encountered and thus can be called during compile-time)</li>
<li>The type of the expression must be a Template Haskell type which represents a valid definition.</li>
</ol>

<p>So since your expression <code>pe 1000</code> appears somewhere where only definitions are allowed, GHC assumes it is a splice. However since it does not meet the first of the above criteria, i.e. it is defined in the current file instead of a different file, GHC complains about that. Of course it doesn't meet the second condition either, but GHC hasn't gotten to that yet, when it produces the error message. If <code>pe</code> were defined in a different source file, you'd have gotten an error message complaining about the fact that <code>pe</code> has the wrong type.</p>
"
"<p>I'm working my way through <a href=""http://www.cis.upenn.edu/~bcpierce/tapl/"">Types and Programming Languages</a>, and Pierce, for the call by value reduction strategy, gives the example of the term <code>id (id (λz. id z))</code>. The inner redex <code>id (λz. id z)</code> is reduced to <code>λz. id z</code> first, giving <code>id (λz. id z)</code> as the result of the first reduction, before the outer redex is reduced to the normal form <code>λz. id z</code>.</p>

<p>But call by value order is defined as 'only outermost redexes are reduced', and 'a redex is reduced only when its right-hand side has already been reduced to a value'. In the example <code>id (λz. id z)</code> appears on the right-hand side of the outermost redex, and is reduced. How is this squared with the rule that only outermost redexes are reduced?</p>

<p>Is the answer that 'outermost' and 'innermost' only refers to lambda abstractions? So for a term <code>t</code> in <code>λz. t</code>, <code>t</code> can't be reduced, but in a redex <code>s t</code>, <code>t</code> is reduced to a value <code>v</code> if this is possible, and then <code>s v</code> is reduced?</p>
","149392","","<blockquote>
  <p>Is the answer that 'outermost' and 'innermost' only refers to lambda abstractions? So for a term t in λz. t, t can't be reduced, but in a redex s t, t is reduced to a value v if this is possible, and then s v is reduced?</p>
</blockquote>

<p>Yes, that's exactly right.</p>
"
"<p>I'm trying out rails for the first time and I keep getting this undefined method error. All I did so far was just use rails to create a new project and the scaffold to create my database table called test. After applying the rate command everything works but when i run it in a web browser it gives me this error:</p>

<pre><code>ActionView::TemplateError (undefined method `^' for ""7"":String) on line #3 of app/views/tests/new.html.erb:
1: &lt;h1&gt;New test&lt;/h1&gt;
2: 
3: &lt;% form_for(@test) do |f| %&gt;
4:   &lt;%= f.error_messages %&gt;
5: 
6:   &lt;p&gt;
</code></pre>

<p>Anyone with any ideas on how I can deal with this error?</p>

<p><strong>EDIT:-</strong></p>

<p>""new"" action in controller:-</p>

<pre><code>def new
  @test = Test.new 
  respond_to do |format| 
     format.html # new.html.erb 
     format.xml { render :xml =&gt; @test } 
  end
end
</code></pre>
","149392","","<p>The error message complains because Rails tried to use the <code>^</code> operator on the string ""7"", which doesn't support that operation (the number 7 would support that operation). The line indicated in the backtrace is <code>form_for(@test)</code>, so <code>form_for</code> does something to <code>@test</code> which causes <code>^</code> to be called on <code>7</code>. The most likely reason for that is that Rails tries to xor <code>@test</code>'s id somewhere and unexpectedly <code>@test.id</code> returns the string <code>""7""</code> instead of the number <code>7</code>.</p>

<p>In other words you probably set up the <code>tests</code> table to have an id column with a string type instead of integer, which Rails does not like.</p>
"
"<p>I came across the following code snippet and am confused about what the <code>not:</code> is doing. Is it a tag? If so, are there any other uses for it? </p>

<pre><code>var foo = {
   not: function(bool) { return !bool; }
}
</code></pre>

<p>Can you provide me with a possible use scenario for this kind of syntax?</p>
","149392","","<p>In Javascript the syntax <code>{ property: value }</code> creates an object with the property <code>property</code>, whose value is <code>value</code>. So your code defined an object which has the property <code>not</code>, whose value is a function which returns the negation of its argument.</p>
"
"<pre><code>elem (1,2,3) [(1,2,3)] -&gt; works (true)

elem (1,2,_) [(1,2,3)] -&gt; doesnt work (want it return true as well)
</code></pre>

<p>What Im trying to do is if the first two elements of tuple matches one in the list return true. </p>
","149392","","<p>You can use the prelude function <code>any</code> to find out whether at least one element in a list meets a given condition (the condition in this case being ""it matches the pattern <code>(1, 2, _)</code>"").</p>

<p>An example for this case would be:</p>

<pre><code>any (\x -&gt; case x of (1,2,_) -&gt; True; _ -&gt; False) [(1,2,3),(4,5,6)]
</code></pre>

<p>Or a bit more concisely:</p>

<pre><code>or [True | (1,2,x) &lt;- [(1,2,3),(4,5,6)]]
</code></pre>
"
"<p>I'm having a simple problem when it comes to writing up typeclasses that inherit from one another. I'm trying to create a hierarchy of typeclasses to achieve some level of representational abstraction. Let's say I want a collections typeclass:</p>

<pre><code>{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE FlexibleInstances #-}

class Collection c a where
  isMember :: a -&gt; c -&gt; Bool
</code></pre>

<p>And I've defined a tree type:</p>

<pre><code>data Tree a = Empty | Node a (Tree a) (Tree a)
  deriving (Show, Eq)
</code></pre>

<p>I'd like to make my tree a collection, so:</p>

<pre><code>inOrder :: Tree a -&gt; [a]
inOrder Empty = []
inOrder (Node a l r) = (inOrder l) ++ [a] ++ (inOrder r)

instance (Eq a) =&gt; Collection (Tree a) a where
  isMember a c = a `elem` (inOrder c)
</code></pre>

<p>This doesn't quite work right:</p>

<pre><code>*Main&gt; (isMember '2' Empty)
&lt;interactive&gt;:1:1:
    No instance for (Collection (Tree a) Char)
      arising from a use of `isMember' at &lt;interactive&gt;:1:1-18
    Possible fix:
      add an instance declaration for (Collection (Tree a) Char)
    In the expression: (isMember '2' Empty)
    In the definition of `it': it = (isMember '2' Empty)
</code></pre>

<p>Presumably the value of the typeclass would be lost if I had to create an implementation for each concrete type. So I'm not writing the instance declaration correctly. But I can't quite figure out how to proceed.</p>
","149392","","<p>The problem is that <code>Empty</code>'s type is <code>Tree a</code> and ghc doesn't have enough information to know that you want the <code>a</code> to be <code>Char</code> in this case. If you manually specify the type, it works:</p>

<pre><code>isMember '2' (Empty::Tree Char)
</code></pre>

<p>The reason ghc can't just infer that <code>a</code> needs to be <code>Char</code> is that theoretically you could have one instance <code>Collection (Tree Char) Char</code> and another <code>Collection (Tree Int) Char</code>. In that case there would be no way to infer which one should be used, unless you specify so explicitly.</p>
"
"<p>Give an ugly example:</p>

<pre><code>data Bighead = Big

little = 1 

f1 = little :: Int

f2 = Big :: BigHead
</code></pre>

<p>In my opinion:</p>

<p><code>f1</code> and <code>f2</code> all point to some data. the only different of (<code>little</code> and <code>Big</code>) is
little has a piece of code to do evaluation. but Big doesn't.</p>

<p>They all have a rewritable body, little can be transformed from a collection of data to a result, and Big is just don't do the last step --- it always holds this data forms (but recursively they can be evaluated).</p>

<p>But in syntax form, they are almost the same: can be applied, can be evaluated.</p>

<p>One big deal may be that functions can't alter its applied params, but data can do.</p>

<p>Is this the only reason that Haskell treats data and function's names differently?</p>

<p>Call for analysis :-)</p>

<p><strong>edit: some more pads</strong></p>

<pre><code>data A = B Int
</code></pre>

<p>type of <code>B</code>:</p>

<pre><code>B :: Int -&gt; A

b :: Int -&gt; A

b = B 
</code></pre>
","149392","","<p>Constructor names need to be syntactically different from variable/function names to differentiate between variables and constructors in pattern matches. Example:</p>

<pre><code>f (Foo bar) Baz bay = bar + bay
</code></pre>

<p>Here Haskell knows that <code>Foo</code> and <code>Baz</code> are constructors it should match against and <code>bar</code> and <code>bay</code> are variables it should introduce because of the way they are capitalized.</p>
"
"<p>I have the following struct (or class?) in JavaScript:</p>

<pre><code>function ImageStruct() {
    this.id = -1;
    this.isCover = true;
    this.isPaired = false;
    this.row = -1;
    this.column = -1;
} 
</code></pre>

<p>I add this class to a bidimensional array.</p>

<pre><code>var imgStruct = new ImageStruct();
imgStruct.id = id;
imgStruct.row = row;
imgStruct.column = column;

$.myNameSpace.matrixPos[row][column] = imgStruct;
</code></pre>

<p>When I do something like this:</p>

<pre><code>var imgStrc = $.myNameSpace.matrixPos[row][column];
</code></pre>

<p>If I modify <code>imgStrc</code>, object in <code>$.myNameSpace.matrixPos[row][column]</code> doesn't reflect that changes.</p>

<p>Is there any way to 'fix' this?</p>
","149392","","<p>If you modify <code>imgStrc</code> it by changing its properties (e.g. by doing <code>imgStrc.id = 42</code>), that change <em>will</em> affect the object in <code>$.myNameSpace.matrixPos[row][column]</code> (as it is in fact the same object).</p>

<p>Only if you modify <code>imgStrc</code> by reassigning it, it won't. There is no way to 'fix' this, other than setting <code>$.myNameSpace.matrixPos[row][column] = imgStrc</code> or wrapping the whole thing into a wrapper object (or one-element array).</p>
"
"<p>For example:</p>

<pre><code>str1 = ""pppp(m)pppp""
str2 = ""(m)""
str1 = str1.sub(/#{str2}/, ""&lt;&gt;#{str2}&lt;&gt;"")
</code></pre>

<p>I will got this:</p>

<pre><code>""pppp(&lt;&gt;(m)&lt;&gt;)pppp""
</code></pre>

<p>I expected to get this:</p>

<pre><code>""pppp&lt;&gt;(m)&lt;&gt;pppp""
</code></pre>

<p>Why it's happening and how to avoid this?</p>
","149392","","<p>In <code>(</code> and <code>)</code> have a special meaning in regexen and do not actually match the characters <code>(</code> and <code>)</code>. The regex <code>/(m)/</code> will match any <code>m</code> whether or not it is enclosed in parentheses (and if it is, it won't match the parentheses).</p>

<p>To match literal parentheses use <code>\(</code> and <code>\)</code> - or in a case like this where you're interpolating a string, you can just use <code>Regexp.escape</code> on the string, i.e. <code>/#{ Regexp.escape(str2) }/</code>.</p>
"
"<p>If I do the following with warnings turned on under Ruby 1.9:</p>

<pre><code>$VERBOSE = true
x = 42
5.times{|x| puts x}
</code></pre>

<p>I get </p>

<pre><code>warning: shadowing outer local variable - x
</code></pre>

<p>Presumably it's to do with using x as a block parameter as well as a variable outside of the block, but what does ""shadowing"" mean?</p>
","149392","","<p>Shadowing is when you have two different local variables with the same name. It is said that the variable defined in the inner scope ""shadows"" the one in the outer scope (because the outer variable is now no longer accessible as long as the inner variable is in scope, even though it would otherwise be in scope).</p>

<p>So in your case, <strong>you can't access the outer <code>x</code> variable in your block, because you have an inner variable with the same name.</strong></p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/3270680/how-does-python-compare-string-and-int"">How does Python compare string and int?</a>  </p>
</blockquote>



<p>An intern was just asking me to help debug code that looked something like this:</p>

<pre><code>widths = [image.width for image in images]
widths.append(374)
width = max(widths)
</code></pre>

<p>...when the first line should have been:</p>

<pre><code>widths = [int(image.width) for image in images]
</code></pre>

<p>Thus, the code was choosing the string '364' rather than the integer 374.  How on earth does python compare a string and an integer?  I could understand comparing a single character (if python had a <code>char</code> datatype) to an integer, but I don't see any straightforward way to compare a string of characters to an integer.</p>
","149392","","<p>When comparing values of incompatible types in python 2.x, the ordering will be arbitrary but consistent. This is to allow you to put values of different types in a sorted collection.</p>

<p>In CPython 2.x any string will always be higher than any integer, but as I said that's arbitrary. The actual ordering does not matter, it is just important that the ordering is consistent (i.e. you won't get a case where e.g. <code>x &gt; y</code> and <code>y &gt; z</code>, but <code>z &gt; x</code>).</p>
"
"<p>From the rails <a href=""https://github.com/rails/rails/blob/75dc9fbac76a2da78b8d21e1ede16fea38d16564/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb"" rel=""nofollow"">postgresql_adapter.rb</a>.  I get what it's trying to do, I just don't get how it happens.  It's really to do with the &lt;&lt;-SQL that I'm lost.</p>

<pre><code>exec_query(&lt;&lt;-SQL, 'SCHEMA', binds).rows.first[0].to_i &gt; 0
  SELECT COUNT(*)
  FROM pg_tables
  WHERE tablename = $1
  #{schema ? ""AND schemaname = $2"" : ''}
SQL
</code></pre>

<p>I've seen code before where you could say:</p>

<pre><code>blah = &lt;&lt;-X
 some
 lines
 of
 test
X
</code></pre>

<p>But I've never seen this done within the argument to a function call.  I'm really confused by this.  Can someone explain to me what exactly is going on here?</p>
","149392","","<p>You can use a heredoc-marker (like <code>&lt;&lt;-SQL</code> in your example) anywhere (or even multiple times) in a line and the heredoc will then start on the following line and continue until the end-marker is met (in case of multiple markers, the (n+1)th heredoc will start after the nth end-marker and continue up to the (n+1)th end-marker). The content of each heredoc will then be inserted at the place where the corresponding marker was used.</p>

<p>So</p>

<pre><code>foo(&lt;&lt;BAR, 42)
bar
BAR
</code></pre>

<p>is the same as</p>

<pre><code>foo(""bar\n"", 42)
</code></pre>

<p>and</p>

<pre><code>foo(&lt;&lt;BAR, &lt;&lt;BAZ)
bar
BAR
baz
BAZ
</code></pre>

<p>is the same as</p>

<pre><code>foo(""bar\n"", ""baz\n"")
</code></pre>
"
"<p>Can a python function be an argument of another function?
say:</p>

<pre><code>def myfunc(anotherfunc, extraArgs):
    # run anotherfunc and also pass the values from extraArgs to it
    pass
</code></pre>

<p>So this is basically two questions:
1) is it allowed at all?
2) and if it is, how to use the function inside the other function? Would I need to use exec(), eval() or something like that? Never needed to mess with them.</p>

<p>BTW, extraArgs is a list/tuple of anotherfunc's arguments.</p>
","149392","","<ol>
<li>Yes, it's allowed.</li>
<li>You use the function as you would any other: <code>anotherfunc(*extraArgs)</code></li>
</ol>
"
"<p><code>Data.Lists.Split</code> is actually not working winHugs interpreter. which can be get by <code>splitEvery 3 ['a'..'z']</code> function </p>

<p>is it possible to achieve this without <code>Data.Lists.Split</code> ?
list of separate integers <code>[5,5,5,6,6,6]</code> -> to be <code>[555,666]</code>  to <strong>concat</strong> every three numbers !  </p>

<p>should be <strong>[Int]->[Int]</strong></p>
","149392","","<p>Yes, it's quite possible. You can proceed like this:</p>

<ul>
<li>First write a function that takes three digits and ""concat""s them into one number (this is quite easy using multiplication and addition).</li>
<li>Then you write another function which takes a list and processes its elements in threes using the previous function. Basically the definition of that function will look like the definition of map, except that you process three elements instead of one in the non-empty case (i.e. you use a pattern like <code>x1:x2:x3:xs</code>), and you call the previously defined function instead of one given as an argument.</li>
</ul>
"
"<p>I'm working on a homework assignment and am probably psyching myself out about this thing a little too much, so I am just seeking some input. Here's the basic code:</p>

<pre><code>for(x = 100; x &gt; 0; x = x + x) {
    sum = sum + x;
</code></pre>

<p>There are two versions: one where <code>x</code> is a <code>float</code> and one where it is an <code>int</code>. The question is are these infinite loops.  </p>

<p>I am thinking that when <code>x</code> is an <code>int</code>, it will eventually overflow, making it less than zero and the loop will stop.  When <code>x</code> is a <code>float</code>, <code>x</code> will reach infinity and the loop will be infinite.  </p>

<p>Am I close?</p>
","149392","","<p>The behavior when a signed integer is increased beyond its limit is undefined. So the loop may end or it may be infinite. Or it may crash (or the loop may never run at all). Or as some C gurus like to say, demons may fly out of your nose - though personally I doubt any compiler implementor would go through the trouble of implementing nasal demon functionality.</p>

<p>As far as floating point values are concerned, you are correct that it will be an infinite loop.</p>
"
"<pre><code>#include &lt;iostream&gt;

int main()
{
    int myArray[5];     // array of 5 integers lol
    int i;
    for (i=0; i&lt;5; i++ )  // 0 - 4
    {
        std::cout &lt;&lt; ""Value for myArray["" &lt;&lt; i &lt;&lt; "" ]: "";
        std::cin &gt;&gt; myArray[i];
    }
    for (i = 0; i&lt;5; i++)
    std::cout &lt;&lt; i &lt;&lt; "": "" &lt;&lt; myArray[i] &lt;&lt; std::endl;
    return 0;
}
</code></pre>

<p>Why is i++ required for this program to work?</p>
","149392","","<p>Because if you don't execute <code>i++</code> (or any other statement which increments <code>i</code>), <code>i</code> will remain <code>0</code>, the condition <code>i &lt; 5</code> will always remain true and the loop will never end.</p>
"
"<p>hello I am very beginer of haskell</p>

<p>I am making GUI program that</p>

<ol>
<li><p>open file selection dialog</p></li>
<li><p>take word</p></li>
<li><p>search the word in selected txt file</p></li>
<li><p>print number of found to label</p></li>
</ol>

<p>but I stuck with error which I can't solve it</p>

<p>I paste error and code here</p>

<p>could somebody please help me?</p>

<p>thank you</p>

<p>the full code is here</p>

<pre><code>--GUI routine
import Graphics.UI.Gtk
import Text.Regex.Posix ((=~))
import Control.Monad (when)
--core routine
matchWord :: String -&gt; String -&gt; Int
matchWord file word = length . filter (== word) . concat $ file =~ ""[^- \"".,\n]+""
--main start
main :: IO ()
main =
      do initGUI
         win &lt;- windowNew
         windowSetTitle win ""WORD SEARCHER""
         win `onDestroy` mainQuit

         fch &lt;- fileChooserWidgetNew FileChooserActionOpen
         containerAdd win fch 

         targetFile &lt;- fileChooserGetFilename fch --wrong?

         ent &lt;- entryNew
         btn &lt;- buttonNew
         st &lt;- labelNew $ Just ""Found : 0      ""

         col &lt;- vBoxNew False 5
         containerAdd col ent
         containerAdd col btn
         containerAdd col st    

         buttonSetLabel btn ""Click to search""

         btn `onClicked` do targetWord &lt;- entryGetText ent
                            fileData &lt;- readFile targetFile
                            found &lt;- matchWord fileData targetWord
                            labelSetText st found
         containerAdd win col
         widgetShowAll win
         mainGUI
</code></pre>

<p>the error is here</p>

<pre><code>gui-word-search.hs:33:49:
    Couldn't match expected type `FilePath'
       against inferred type `Maybe FilePath'
    In the first argument of `readFile', namely `targetFile'
    In a 'do' expression: fileData &lt;- readFile targetFile
</code></pre>
","149392","","<p><code>fileChooserGetFilename</code> can't always return a filename (the user might click on ""cancel"" for example). For that reason its return type is <code>Maybe FilePath</code>, not <code>FilePath</code>. So if a file was chosen, it returns a <code>Just</code> containing the <code>FilePath</code>. If no file was chosen it returns <code>Nothing</code>.</p>

<p>However <code>readFile</code> takes a <code>FilePath</code> as an argument, not a <code>Maybe FilePath</code> (calling <code>readFile</code> with <code>Nothing</code> makes no sense).</p>

<p>So what you need to do is you need to pattern match on <code>targetFile</code>. If it is <code>Nothing</code>, you need to handle that somehow (you could print an error message, or just keep asking the user for a file until he picks one), and if it's a <code>Just</code>, you take the <code>FilePath</code> it contains and feed that to <code>readFile</code>.</p>
"
"<p>I have this scope:</p>

<pre><code>scope :search, lambda {|q| where(""name LIKE ?"", ""%#{q}%"") }
</code></pre>

<p>However, I want to compare <code>q</code> and <code>name</code> irregardless of capitalization. So I can do <code>#{q.downcase}</code> but how can I get <code>name</code> lowercased?</p>
","149392","","<p>You can use the SQL <code>lower</code> function:</p>

<pre><code>scope :search, lambda {|q| where(""LOWER(name) LIKE ?"", ""%#{ q.downcase }%"") }
</code></pre>
"
"<p><a href=""http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html"" rel=""nofollow"">Here</a> are the full rules, but as a quick example, if <code>A</code> is a 3D array with type <code>'a list list list</code> and <code>f</code> a function with type <code>'a list -&gt; 'b</code>, I would like a function <code>map'</code> that takes lifts <code>f</code> to type <code>'a list list list -&gt; 'b list list</code>.  For the specific example, <code>map'</code> would be equivalent to this code:</p>

<pre><code>fun map' fList aListListList = map (fn aListList =&gt; map fList aListList) A
</code></pre>

<p>Except, of course, I would like this <code>map'</code> to work regardless of how many dimensions <code>A</code> had.  I'm having trouble writing the type signature, which is often a sign that I'm doing it wrong.</p>

<p><strong>edit</strong>: How's this as a workaround?</p>

<pre><code>fun map' levels f A = 
  if levels &lt; 1
  then return f(A)
  else return map' (levels - 1) f A
</code></pre>
","149392","","<p>You're having problems coming up with the right type, because the right type for this function can't be expressed in SML's type system. You can't abstract over a nested list's nesting depth like this. The function you want can simply not be expressed in SML.</p>

<p>The only thing you can do is define your own type for nested lists and then write a function <code>map' : ('a list -&gt; 'b) -&gt; 'a nestedlist -&gt; 'b nestedlist</code>. However as you can see the nesting depth of a <code>nestedlist</code> would not be encoded in its type, nor would the fact that <code>map'</code> strips exactly one level of nesting visible from its type (or verified by the compiler).</p>
"
"<p>How can one get a list of matches in a string from multiple different Regexps, and have these matches ordered relatively by their position in the string?</p>

<p>The string can contain multiple matches from the same Regexp.</p>

<hr>

<p><strong>Based on sepp2k's answer, here's the solution I implemented (simplified example):</strong></p>

<pre><code>test_data = ""
  a_word
  another_word  
  23445
  12432423
  third_word
""

regexps = /(?&lt;word&gt;[a-zA-Z_]+)/, /(?&lt;number&gt;[\d]+)/
words = regexps.map{|re| re.names}.flatten!

matches = []
test_data.scan(Regexp.union(regexps)) do
  words.each do |word|
    m = Regexp.last_match
    matches &lt;&lt; {word =&gt; m.to_s} if m[word]
  end
end

p matches
</code></pre>

<p>This outputs:</p>

<pre><code>[{""word""=&gt;""a_word""}, {""word""=&gt;""another_word""}, {""number""=&gt;""23445""}, {""number""=&gt;""12432423""}, {""word""=&gt;""third_word""}]
</code></pre>
","149392","","<p>You can use <code>Regexp.union</code> to turn all the regexps into one regexp and then use <code>String#scan</code> to find all matches. The array returned by <code>scan</code> will be ordered by the position of the match.</p>
"
"<pre><code>exception div;  
fun f(x,y) =   
    let  
        val before = 2.0 * x + 3.0 * y  
    in   
        (before + (1.0 / (if x &gt; 0.0001 then x else raise div)) + 2.0 / y) handle div =&gt; before / 6.0
    end
</code></pre>

<p>This code yields some compile error.</p>

<p>That is</p>

<blockquote>
  <p>e.sml:4.8-4.14 Error: expression or pattern begins with infix identifier ""before""<br>
  e.sml:6.8-6.14 Error: expression or pattern begins with infix identifier ""before""<br>
  e.sml:6.57-6.60 Error: expression or pattern begins with infix identifier ""div""<br>
  e.sml:6.81-6.84 Error: expression or pattern begins with infix identifier ""div""<br>
  e.sml:6.88-6.94 Error: expression or pattern begins with infix identifier ""before""  </p>
</blockquote>

<p>Why this error occured?
I didn't use infix code, but just use variable and exception.</p>
","149392","","<p><code>before</code> and <code>div</code> are infix operators defined in SML's Basis library, so you can't use them as names for variables or exceptions with overriding their infix declaration first.</p>
"
"<p>why i can not cout string like here :</p>

<pre><code>  string text ;
  text = WordList[i].substr(0,20) ;
  cout &lt;&lt; ""String is  : "" &lt;&lt; text &lt;&lt; endl ;
</code></pre>

<p>when I do this , I get error in cout .</p>

<p><strong>Error 2   error C2679: binary '&lt;&lt;' : no operator found which takes a right-hand operand of type 'std::string' (or there is no acceptable conversion)  c:\users\mollasadra\documents\visual studio 2008\projects\barnamec\barnamec\barnamec.cpp    67  barnamec</strong></p>

<p>it is amazing , even using </p>

<pre><code>  string text ;
  text = ""hello""  ;
  cout &lt;&lt; ""String is  : "" &lt;&lt; text &lt;&lt; endl ;
</code></pre>

<p>is not working </p>
","149392","","<p>There are several problems with your code:</p>

<ol>
<li><code>WordList</code> is not defined anywhere. You should define it before you use it.</li>
<li>You can't just write code outside a function like this. You need to put it in a function.</li>
<li>You need to <code>#include &lt;string&gt;</code> before you can use the string class and iostream before you use <code>cout</code> or <code>endl</code>.</li>
<li><code>string</code>, <code>cout</code> and <code>endl</code> live in the <code>std</code> namespace, so you can not access them without prefixing them with <code>std::</code> unless you use the <code>using</code> directive to bring them into scope first.</li>
</ol>
"
"<p>Is there a way to offset the value that has been passed in the code block.</p>

<p>For example</p>

<p>C# - This will always print 5</p>

<pre><code>for (int i = 0; i &lt; 10; i++)
{
  i=5
  Console.WriteLine(i);
}
</code></pre>

<p>Ruby - This will print 5 for only 10 times.</p>

<pre><code>10.times do |i|
  i = 5
  puts i
end
</code></pre>

<p>Is there a way to get |i| to get back to 5?</p>

<p>and another question. How can you make .times block skip(not increasing by 1 all the time)</p>
","149392","","<p>No, you can't reset the counter of <code>times</code>, <code>upto</code> etc. from within the block.</p>

<p>You can use <code>redo</code> to restart the current iteration of the loop, which in this case will have a similar effect:</p>

<pre><code>10.times do |i|
  i = 5
  puts i
  redo
end
</code></pre>

<p>This will print 5 forever (though take note, that the initial value of <code>i</code> will still be <code>0</code> at each iteration).</p>

<p>If you need more control than this, you need to use a <code>while</code> loop. Though I'd advice that in most cases where you think you need this, you actually don't and you're just approaching your problem from the wrong angle.</p>
"
"<p>Below is the code for standard maxsum of an array containing +ve and -ve numbers. I think, the below programs works correct. Bot how do I print the optimal path?
By keeping a pointer to optimal parent, I can print the path in backwards direction easily, but how to print it in forward direction, preferably without keeping too much extra bookkeeping.</p>

<pre><code>#include &lt;stdio.h&gt;

main()
{
    int array[]={5,-5,3,4,-2};
    int n=5;
    int i;
    int maxsumendingat[n];
    int parent[n];
    int maxsum=-9999; // better way to code?
    int optimallastindex;

    maxsumendingat[0]=array[0];

    for(i=1;i&lt;n;i++)
    {
       if(maxsumendingat[i-1] &lt;= 0)

       { 
           maxsumendingat[i]=array[i]; 
           parent[i]=i; 
       }
      else
      { 
           maxsumendingat[i]=array[i]+maxsumendingat[i-1];  // also keep backtracking info
           parent[i]=i-1;
      }
    }

     // now print results
    for(i=0;i&lt;n;i++) 
    {
      if(maxsum &lt; maxsumendingat[i]) 
      { 
         maxsum=maxsumendingat[i]; 
         optimallastindex=i;
      }
    }

    // now print path. how to print it in fwd direction?
    i=optimallastindex;
    printf(""%d "",array[i]);
    while(parent[i]!= i)
    {
        printf(""%d "",array[parent[i]]);
        i=parent[i];

    }

}
</code></pre>
","149392","","<p>Just store the reversed path in a temporary array and then iterate that array backwards.</p>
"
"<p>I need to write a function to find the position of one specific element in a list.
i was writing like this:</p>

<pre><code>findPos list elt | list == [] = -1
                 | head list == elt = 0
                 | otherwise = 1 + (findPos (tail list) elt)
</code></pre>

<p>but how to do in the case that the element is repeated within the list?
For example: <code>list= [2,4,9,4,8]</code> and i want the position of the element ""4"", then has 2 position : second and fourth. How would be a simply function for that?</p>
","149392","","<p>You could make it return a list of indices. To make this work, you'll need to change a couple of things in the function:</p>

<ol>
<li>Instead of -1 return the empty list for the empty case (returning -1 is a bad idiom anyway, you should have returned a Maybe instead as that is more meaningful).</li>
<li>Instead of calling <code>findPos</code> recursively and adding 1 to the result, you should create a helper function taking a counter (which starts at 0) and increase the counter by 1.</li>
<li>When you find the element, instead of returning 0, you should return the current value of the counter prepended to the result of recursing on the tail of the list (with an increased counter).</li>
</ol>

<p>However this functionality already exists in <code>Data.List</code> and is called <code>elemIndices</code>. So unless this is a pure learning exercise or homework, you don't need to reimplement this at all.</p>
"
"<p>I'm making a bot which gives full links for wikilinks like [[Foo]] given on IRC. What I want to do is to have '[[foo]]', 'before [[foo]], '[[foo]] after' and 'before [[foo]] after' match, but not '`[[foo]]', 'before `[[foo]]', etc., '`' being a sort of ""escape"" character in the program. So far I got</p>

<pre><code>/[^`]\[\[(.+)\]\]/
</code></pre>

<p>However, that doesn't match ""[[foo]]"". If I add a ? after the negated character class, it defeats its purpose and all the backticked links still match.</p>

<p>How could I do this?</p>

<p>P.S. I want to have a <em>single</em> regex.</p>
","149392","","<p>Just add the beginning of the line as an alternative to ""a character that is not <code>`</code>"":</p>

<pre><code>/(?:[^`]|^)\[\[(.+)\]\]/.
</code></pre>
"
"<p>Here's what I tried to do in ghci:</p>

<pre><code>import Data.Text
strip ""  abc  ""
</code></pre>

<p>I get this error message:</p>

<pre><code>&lt;interactive&gt;:1:6:
    Couldn't match expected type `Text' against inferred type `[Char]'
    In the first argument of `strip', namely `""  abc  ""'
    In the expression: strip ""  abc  ""
    In the definition of `it': it = strip ""  abc  ""
</code></pre>

<p>I was expecting this to work because it was given on many web pages including this answer: <a href=""http://stackoverflow.com/questions/6270324/in-haskell-how-do-you-trim-whitespace-from-the-beginning-and-end-of-a-string/6270382#6270382"">In Haskell, how do you trim whitespace from the beginning and end of a string?</a></p>

<p>What am I doing wrong?</p>
","149392","","<p>You'll need to enable <a href=""http://www.haskell.org/ghc/docs/7.0.3/html/users_guide/type-class-extensions.html#overloaded-strings"">overloaded string literals</a> in order to use string literals as <code>Text</code> values (otherwise string literals will always have the type <code>String = [Char]</code>).</p>

<p>Without overloaded string literals, you'll have to use <code>pack</code> to create a <code>Text</code> from a <code>String</code>, so:</p>

<pre><code>strip $ pack ""  abc  ""
</code></pre>
"
"<p>I coded like this,</p>

<pre><code>@claim = Item.find(:something)  
unless @claim.nil?  
  if @claim &gt;= a_condition  
    do_something
  end
end
</code></pre>

<p>Even if @claim is a nil value,It is going inside the unless condition and giving the error ""comparison of Fixnum with nil failed""  </p>

<p>What is the wrong in my code.</p>
","149392","","<p>Using the code you posted, the inside of the <code>unless</code> statement will definitely <em>not</em> execute if <code>@claim</code> is nil. If you get the error message you posted on line 3 of that code, it must be because <code>a_condition</code> is nil, not <code>@claim</code>.</p>
"
"<p>My friend and I, (when we were younger) had our own secret language. Recently he challenged me to make a translator so that I could input a word and it would convert it to the right word. It's silly, but it was just for fun. </p>

<p>The problem I have is that the output puts the converted word on separate lines. </p>

<p>What it should do: </p>

<p>Word to translate: Banana</p>

<p>Translated word: ananabang </p>

<p>What it does: </p>

<p>Word to translate: Banana</p>

<p>Translated word:</p>

<p>anana</p>

<p>bang</p>

<p>This is the code I've written. </p>

<pre><code>puts ""Enter word to translate \n \n""    
input = gets
firstCharacter = input[0].chr 
ang = ""ang""

if firstCharacter =~ /\A(a|b|c|d|A|B|C|D)\Z/
        input.slice!(0)
        puts firstCharacter + input + ""ang"" 
end
</code></pre>

<p>I wonder if anyone can help me with the outputting issue..? </p>

<p>Thanks</p>

<p>EDIT: I've been a retard, fixed it with gets.chomp.</p>
","149392","","<p><code>gets</code> returns the entered string with a newline at the end. If you change your second line to <code>input = gets.chomp</code>, it will work as expected because <code>chomp</code> removes the trailing newline.</p>
"
"<p>I'm really newbie with Haskell and I have serious problems with Data.HashMap. What I'm doing wrong?</p>

<p>Here is what I have tried:</p>

<pre><code>&gt; ghci -v
GHCi, version 6.12.1: http://www.haskell.org/ghc/  :? for help 
Glasgow Haskell Compiler, Version 6.12.1, for Haskell 98, stage 2 booted by GHC version 6.12.1
Using binary package database: /usr/lib/ghc-6.12.1/package.conf.d/package.cache
Using binary package database: /home/joni/.ghc/x86_64-linux-6.12.1/package.conf.d/package.cache
package utf8-string-0.3.4-15837bafc9579c596819d4381db0f19b is shadowed by package utf8-string-0.3.4-75a948ddecbeae79ab3ec3d9f9bcdb65
package vimirc-0.0.0.1-d41d8cd98f00b204e9800998ecf8427e is unusable due to missing or recursive dependencies:
  utf8-string-0.3.4-15837bafc9579c596819d4381db0f19b
hiding package base-3.0.3.2 to avoid conflict with later version base-4.2.0.0
hiding package bytestring-0.9.1.5 to avoid conflict with later version bytestring-0.9.1.10
wired-in package ghc-prim mapped to ghc-prim-0.2.0.0-9d35c97e886f807a1e6d024aaa91dcec
wired-in package integer-gmp mapped to integer-gmp-0.2.0.0-9a51ffb34a83618a1a3d4e472b9977a0
wired-in package base mapped to base-4.2.0.0-2cc27b7e43511c4ca001642a7f77a8f6
wired-in package rts mapped to builtin_rts
wired-in package haskell98 mapped to haskell98-1.0.1.1-0fdaf3b26bc38c43ce8371edf538dbf6
wired-in package template-haskell mapped to template-haskell-2.4.0.0-bbc7c61990d2fe9d20be2deb924f833c
wired-in package dph-seq mapped to dph-seq-0.4.0-52cfd6db5fc09a2abf793cd6a856a392
wired-in package dph-par mapped to dph-par-0.4.0-b4f339fed900d7bc4b3db61526caf863
Hsc static flags: -static
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
Prelude&gt; t &lt;- Data.HashTable.new (==) Data.HashTable.hashString
*** Parser:
*** Desugar:
*** Simplify: 
*** CorePrep:
*** ByteCodeGen:
Prelude&gt; Data.HashTable.insert t ""Joni"" 1
*** Parser:

&lt;interactive&gt;:1:31:
    No instance for (Num GHC.Prim.Any)
      arising from the literal `1' at &lt;interactive&gt;:1:31
    Possible fix: add an instance declaration for (Num GHC.Prim.Any)
    In the third argument of `Data.HashTable.insert', namely `1'
    In the expression: Data.HashTable.insert t ""Joni"" 1
    In the definition of `it': it = Data.HashTable.insert t ""Joni"" 1

Prelude&gt; Data.HashTable.insert t ""Joni"" ""1""
*** Parser:

&lt;interactive&gt;:1:31:
    Couldn't match expected type `GHC.Prim.Any'
           against inferred type `[Char]'
    In the third argument of `Data.HashTable.insert', namely `""1""'
    In the expression: Data.HashTable.insert t ""Joni"" ""1""
    In the definition of `it': it = Data.HashTable.insert t ""Joni"" ""1""
</code></pre>
","149392","","<p>You have to tell it which type you want to store in the hashtable. This works:</p>

<pre><code>t &lt;- Data.HashTable.new (==) Data.HashTable.hashString :: IO (Data.HashTable.HashTable String Integer)
Data.HashTable.insert t ""Joni"" 1
</code></pre>
"
"<p>In some code I am maintaining, I have found the expression:</p>

<pre><code>$r-&gt;{DISPLAY} =~ s/\Device//s;
</code></pre>

<p>What surprises me is that it matches both device and Device!</p>

<p>I have not found any mention of \D in the documentation, only \d.</p>

<p>Can someone clarify please...</p>
","149392","","<p><code>\D</code> is the negation of <code>\d</code>, i.e. it matches anything that is not a digit.</p>
"
"<p>I am currently working on a Ruby Problem quiz but I'm not sure if my solution is right. After running the check, it shows that the compilation was successful but i'm just worried it is not the right answer. </p>

<p>The problem:</p>

<blockquote>
  <p>A string S consisting only of characters '(' and ')' is called properly nested if:</p>
  
  <ul>
  <li>S is empty, </li>
  <li>S has the form ""(U)"" where
  U is a properly nested string, </li>
  <li>S has
  the form ""VW"" where V and W are
  properly nested strings. </li>
  </ul>
  
  <p>For example, ""(()(())())"" is properly nested and ""())"" isn't.</p>
  
  <p>Write a function</p>

<pre><code>def nesting(s)
</code></pre>
  
  <p>that given a string S returns 1 if S
  is properly nested and 0 otherwise.
  Assume that the length of S does not
  exceed 1,000,000. Assume that S
  consists only of characters '(' and
  ')'.</p>
  
  <p>For example, given S = ""(()(())())""
  the function should return 1 and given
  S = ""())"" the function should return
  0, as explained above.</p>
</blockquote>

<p>Solution:</p>

<pre><code>def nesting ( s )
    # write your code here

    if s == '(()(())())' &amp;&amp; s.length &lt;= 1000000
        return 1
    elsif s == ' ' &amp;&amp; s.length &lt;= 1000000
        return 1
    elsif 
        s == '())'
        return 0
    end
end
</code></pre>
","149392","","<p>You're not supposed to just enumerate the given examples. You're supposed to solve the problem generally. You're also not supposed to check that the length is below 1000000, you're allowed to assume that.</p>

<p>The most straight forward solution to this problem is to iterate through the string and keep track of how many parentheses are open right now. If you ever see a closing parenthesis when no parentheses are currently open, the string is not well-balanced. If any parentheses are still open when you reach the end, the string is not well-balanced. Otherwise it is.</p>

<p>Alternatively you could also turn the specification directly into a regex pattern using the recursive regex feature of ruby 1.9 if you were so inclined.</p>
"
"<p>I have an array of objects of variable length n. Defined by the number of records in my database.</p>

<p>I need a function to grab subsets (keeping the objects in order and always beginning at index 0) of the array of specified length m where m can be any integer I pass in.</p>

<p>e.g. if n = 10 and m = 4</p>

<p>array foo = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</p>

<p>subset a = [0, 1, 2, 3]
subset b = [4, 5, 6, 7]
subset c = [8, 9]</p>

<p>So, I need to programmatically be able to say, ""Give me the i-th subset of length m from an array, given the array is length n."" Using the previous example: ""Give me the second subset of length four from foo"" => returns the items at positions [4, 5, 6, 7].</p>

<p>I hope that made sense. Assistance with a ruby solution would be much appreciated! thx!</p>
","149392","","<p>You can use <code>Enumerable#each_slice</code>:</p>

<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].each_slice(4).to_a
#=&gt; [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9]]
</code></pre>
"
"<p>I am wondering if it is possible to debug/execute a Ocaml program step by step, for instance like debugging C++ programs in Visual Studio. In other words, I would like to run a Ocaml program line by line, also it would be great if we could ""watch"" the value of some variables.</p>

<p>By the way, I am using Emacs as editor.</p>

<p>Could anyone help? Thank you very much</p>

<p>Edit-1: As sepp2k suggested, I am trying to run camldebug under Emacs. I have a problem in the beginning: the web page mentions ""The Caml debugger is started under Emacs by the command <code>M-x camldebug</code>, with argument the name of the executable file <code>progname</code> to debug."" Actually I have only 3 choices: </p>

<pre><code>M-x camldebug
M-x camldebug-mode
M-x camldebug-step
</code></pre>

<p>Edit-2: When I type <code>M-x camldebug</code>, enter, it shows <code>Symbol's value as variable is void: caml-mode-map</code> which does not allow me to enter the executable file.</p>

<p>Could anyone help? Thank you! </p>
","149392","","<p>You can step through the code using the debugger <a href=""http://caml.inria.fr/pub/docs/manual-ocaml/manual030.html"" rel=""nofollow"">ocamldebug</a>, which can be <a href=""http://caml.inria.fr/pub/docs/manual-ocaml/manual030.html#toc131"" rel=""nofollow"">run in emacs</a>.</p>
"
"<p>I have just started learning SML and still in the process of making sense of its error messages.</p>

<p>when trying to input the function definition below</p>

<pre><code>val rec : real-&gt;real = fn 0.0 =&gt; 0.0 | n:real =&gt; 1.0/n;
</code></pre>

<p>i get the following error :</p>

<pre><code>stdIn:25.9-25.17 Error: syntax error: deleting  COLON ID ARROW
stdIn:25.24-25.33 Error: syntax error: deleting  FN REAL DARROW
stdIn:25.38 Error: syntax error found at BAR
</code></pre>

<p>can someone point out what i am doing wrong ?</p>

<p>thank you.</p>
","149392","","<p>You have two errors in your code:</p>

<ol>
<li>Between <code>val rec</code> and the type annotation there should be the name of the value you're defining.</li>
<li>You can't use pattern matching on <code>real</code>s. Since <code>real</code>s are inexact, they aren't equality types, so you can't use <code>=</code> on them either. You need to use <code>Real.==</code> to compare reals for equality (or better: don't compare them for equality, but compare them against some delta instead).</li>
</ol>
"
"<p>I have a string ""This is my {foo} string"".</p>

<p>I want to replace the contents of the curly brackets with some manipulated value e.g.:</p>

<p>""This is my FOO string""</p>

<p>I have got this far:</p>

<pre><code>result = mystring.gsub(/\{(.*?)\}/){|m| m.upcase}
</code></pre>

<p>But this returns ""This is my {FOO} string"" - i.e. the curly brackets are still there. </p>

<p>How do I phrase my regular expression so that the curly brackets are also replaced? </p>
","149392","","<p>The string that is yielded is the whole match, so it includes the braces. Since you only want to work with the part in the first capturing group, you can use <code>$1</code> instead of <code>m</code> in the block.</p>
"
"<p>What the <code>...</code> argument means in the declaration <code>static void info(const char *fmt,...)</code> ? </p>

<p>It's part of an <code>C</code> library I recently started to use. Sorry if it's basic <code>C</code> stuff but I never saw that before and google is not so verbose about <code>...</code> !</p>
","149392","","<p>If a functions last argument is written as <code>...</code> that means that the function takes arbitrarily many arguments (of arbitrary types as far as the compiler concerned - the function may of course require specific types, but the compiler has no way of enforcing those types).</p>

<p>These arguments can then be accessed using the <code>va_*</code> set of functions from <code>stdarg.h</code>.</p>
"
"<p>Hello Haskellers and Haskellettes,</p>

<p>I've been fiddling around with Haskell for quite a while but there is this concept of classes I cannot quite grasp. In the following example I have the datatype of <code>ExprTree</code> </p>

<pre><code>data Val a = Num a | Var String deriving (Eq, Ord, Show)
data ExprTree = Leaf {lab::Label, val::(Val a)=&gt; a}
          | Node {lab::Label, fun::Fun, lBranch::ExprTree, rBranch::ExprTree}
          deriving(Eq,Ord)
</code></pre>

<p>which leads to </p>

<pre><code>Type constructor `Val' used as a class In the definition
of data constructor `Leaf' In the data type declaration for `ExprTree'
</code></pre>

<p>i also tried</p>

<pre><code>data ExprTree' = Leaf {lab::Label, val::Val}
         ...
</code></pre>

<p>but randomly changing type signature - neither sounds efficent nor provides enlightenment.</p>

<p>now as far as i know <code>Num a</code> denotes something of class <code>Num</code> but is this is no instance of a datatype - and doesn't let me compile.
So what do i have to do in order to make <code>ExprTree</code> well defined.</p>

<p>Thanks in advance for hints and ideas!</p>

<hr>

<p><strong>Edit</strong>:</p>

<p>1) Thanks for the fast answers!</p>

<p>2) I changed the <code>val::(Val a)=&gt;a</code> to <code>val::Val a</code></p>

<p>i had something similar in mind - but then the error: <code>Not in scope type variable a</code> occurs
do you have additional advice ??</p>
","149392","","<p>To answer the question in the title: When talking about Haskell, the word ""class"" is almost always used to mean ""typeclass"" as that's the only kind of class there is in Haskell. So there is no difference.</p>

<p>To answer the question in your body:</p>

<pre><code>data ExprTree a =
    Leaf {lab::Label, val::(Val a)}
    | Node {lab::Label, fun::Fun, lBranch::(ExprTree a), rBranch::(ExprTree a)}
    deriving(Eq,Ord)
</code></pre>

<p>Writing <code>(Val a)=&gt;a</code> makes no sense because <code>Val</code> isn't a typeclass and you can't just introduce typeclass constraints on the right hand side of a type definition (without extensions anyway - and either way it's not what you want).</p>
"
"<p>What is the regular expression for removing ONE space? 
e.g:  </p>

<pre><code>H e l l o  W o r l d  ----&gt;  Hello World
</code></pre>

<p>(Notice that there's still one space in between Hello World.  It has two space in between to begin with)</p>

<p>FYI, I'm working with C# regex:
Previously I did something like this, but it doesn't work properly for the above case:</p>

<pre><code>Regex pattern = new Regex(@""[ ]{2,}"");
pattern.Replace(content, @"" "")
</code></pre>
","149392","","<p>If I understand you want to remove exactly one space for each occurrence of one or more consecutive spaces.</p>

<p>For that you need to create a regex which matches each such occurrence putting all but one of the spaces into a capturing group and then replace each occurrence with capturing group. So if there are 2 spaces next to each other, they're found as one match and the second space goes in the capturing group. So after the replacement two spaces have been reduced to one space.</p>

<pre><code>Regex pattern = new Regex(@"" ( *)"");
String newString = pattern.Replace(""H e l l o  W o r l d"", ""$1"");
// newString == ""Hello World""
</code></pre>
"
"<p>I have a question about manipulating a map as a global variable. In the beginning of my file, I have:</p>

<pre><code>module IntOrd = struct type t = int let compare = ( - ) end
module IntMap = Map.Make( IntOrd )
</code></pre>

<p>Then I want to declare a global variable by <code>let variables = IntMap.empty</code>, then <code>variables</code> will be modified in some functions in this file. For instance, in a function <code>let analyze (p: s_program) : unit =</code> I want to fill in <code>variables</code> with some values in <code>p</code>. But I don't see how to do it, because it seems that I could not modify <code>variables</code> anymore; <code>IntMap.add : key -&gt; 'a -&gt; 'a t -&gt; 'a t</code> would not work either because it does not change directly the values.</p>

<p>Do I have to make this global variable as a reference?</p>

<p>Could anyone help? Thank you very much</p>
","149392","","<p>Yes, if you want to be able to modify the map, you'll have to make it a reference. Then you can change it using <code>variables := IntMap.add foo bar !variables</code>.</p>
"
"<p>As Erlang is an almost pure functional programming language, I'd imagine this was possible:</p>

<pre><code>case X of
    foo(Z) -&gt; ...
end.
</code></pre>

<p>where <code>foo(Z)</code> is a <em>decidable-invertible</em> pure (side-effect free) bijective function, e.g.:</p>

<pre><code>foo(input) -&gt; output.
</code></pre>

<p>Then, in the case that <code>X = output</code>, <code>Z</code> would match as <code>input</code>.</p>

<p>Is it possible to use such semantics, with or without other syntax than my example, in Erlang?</p>
","149392","","<p>No, what you want is not possible.</p>

<p>To do something like this you would need to be able to find the inverse of any bijective function, which is obviously undecidable.</p>
"
"<p>I'm using <code>getArgs</code> in my Haskell program to parse arguments from the command line. However, I've noticed that I have problems when I call my program like this:</p>

<pre><code>runhaskell Main *.hs .
</code></pre>

<p>As you can imagine, <code>Main</code> looks at <code>*.hs</code> files in the <code>.</code> directory.</p>

<p>But there's a problem. The code below doesn't behave as I'd expect.</p>

<pre><code>import System

main :: IO ()
main = do
    args &lt;- getArgs
    print args
</code></pre>

<p>I want to see</p>

<pre><code>args = [""*.hs"","".""]
</code></pre>

<p>but instead I see</p>

<pre><code>args = [""file1.hs"",""file2.hs"",""file3.hs"","".""]
</code></pre>

<p>My program needs to expand the glob expression itself because it does it in multiple directories. But how can I have <code>getArgs</code> return the raw list of arguments instead of trying to be magical and do the parsing itself?</p>
","149392","","<p>getArgs doesn't parse the glob expressison - getArgs never sees the glob expression. The glob expression is parsed and expanded by your shell before your program even starts.</p>

<p>There's nothing you can do inside your program to prevent this - your only option is to escape the glob in the shell (by adding a backslash before the <code>*</code> for example or surrounding the argument with single quotes).</p>
"
"<p>I've tried the following:</p>

<pre><code>def next_seven_days
  today = Date.today
  (today .. today + 7).each { |date| puts date } 
end 
</code></pre>

<p>But this just gives me the first and last date. I can't figure out how to get all the ones in between.</p>

<p>I was trying to follow the example here: <a href=""http://www.whynotwiki.com/Ruby_/_Dates_and_times"">http://www.whynotwiki.com/Ruby_/_Dates_and_times</a></p>
","149392","","<p>Your code will definitely print all eight days to stdout. Your problem is that you're looking at the return value (which since <code>each</code> returns <code>self</code> will be <code>(today .. today + 7)</code>).</p>

<p>Note that if you print to stdout inside an erb template, that won't cause the output to show up in the rendered template.</p>
"
"<p>Recently I've been reading some materials about functional programming in Python, one of them is here: <a href=""http://www.ibm.com/developerworks/linux/library/l-prog2/index.html"" rel=""nofollow"">http://www.ibm.com/developerworks/linux/library/l-prog2/index.html</a></p>

<p>I type the code:</p>

<pre><code>from functional import *

taxdue        = lambda: (income-deduct)*rate
incomeClosure = lambda income,taxdue: closure(taxdue)
deductClosure = lambda deduct,taxdue: closure(taxdue)
rateClosure   = lambda rate,taxdue: closure(taxdue)

taxFP = taxdue
taxFP = incomeClosure(50000,taxFP)
taxFP = rateClosure(0.30,taxFP)
taxFP = deductClosure(10000,taxFP)

print""Functional taxes due ="",taxFP()

print""Lisp-style taxes due ="", \
      incomeClosure(50000,
          rateClosure(0.30,
              deductClosure(10000, taxdue)))()
</code></pre>

<p>but end up with following error information:</p>

<pre><code>Functional taxes due =
Traceback (most recent call last):
  File ""E:/Study/python/FP/FP1.py"", line 16, in &lt;module&gt;
    print""Functional taxes due ="",taxFP()
  File ""E:/Study/python/FP/FP1.py"", line 5, in &lt;lambda&gt;
    taxdue =        lambda: (income-deduct)*rate
NameError: global name 'income' is not defined
</code></pre>

<p>I'm using python 2.7.1, I want to know what the problem is, thank you in advance.</p>
","149392","","<p>The problem is that the variables <code>income</code>, <code>deduct</code> and <code>rate</code> aren't defined anywhere when you do <code>lambda: (income-deduct)*rate</code>.</p>

<p>Maybe you intended to make them parameters to the lambda?</p>
"
"<pre><code>boolean flag = false;
if(!flag) System.out.println(!flag); // prints true
</code></pre>

<p>I wonder why <code>!flag</code> being considered as <code>false</code> when it's a conditional parameter passed to <code>if statement</code> and as <code>true</code> elsewhere?</p>
","149392","","<p><code>!flag</code> where <code>flag</code> is <code>false</code> evaluates to <code>true</code> in all contexts, including if statements.</p>
"
"<p>I don't know if this is actually good ruby code, but what I am trying to do is split a String into two separate sections and put the two as values to two specific keys. For example:</p>

<pre><code>  name_a = ""Henry Fillenger"".split(/\s+/,2)
  name = {:first_name =&gt; name_a[0], :last_name =&gt; name_a[1]}
</code></pre>

<p>I was wondering if this could be done in a single line through some ruby magic however.</p>
","149392","","<p>You can use <code>Hash[]</code> and <a href=""http://www.ruby-doc.org/core-2.1.0/Array.html#method-i-zip"" rel=""nofollow""><code>zip</code></a> to do this:</p>

<pre><code>name = Hash[ [:first_name, :last_name].zip(""Henry Fillenger"".split(/\s+/,2)) ]
</code></pre>

<p>However I'd say your version is more readable. Not everything has to be on one line.</p>
"
"<p>from what I understand of the <code>self</code> keyword, it simply refers to the current instance of the class. Isn't this the default behaviour at all times anyways? For example, isn't</p>

<p><code>self.var_one = method(args)</code> equivalent to just <code>var_one = method(args)</code> ?</p>

<p>If so then what is the use of self?</p>
","149392","","<p>In most cases <code>self.foo</code> is indeed redundant because you can just write <code>foo</code> for the same effect, but in this case it is not and the <code>self</code> is required.</p>

<p><code>var_one = method(args)</code> will create a local variable called <code>var_one</code>, it will not call any method or do anything else to <code>self</code>.</p>

<p><code>self.var_one = method(args)</code> will call the method <code>var_one=</code> on <code>self</code> with the argument <code>method(args)</code>.</p>

<p>Another case where the use of <code>self</code> is non-optional would be if you want to pass it as an argument to a method, i.e. <code>some_method(self)</code> - you can't do that without the <code>self</code> keyword.</p>
"
"<p>How can I refactor this code in functional style (scala idiomatic)</p>

<pre><code>def findFirst[T](objects: List[T]):T = {
  for (obj &lt;- objects) {
    if (expensiveFunc(obj) != null) return obj
  }
  null.asInstanceOf[T]
}
</code></pre>
","149392","","<p>This is almost exactly what the <code>find</code> method does, except that it returns an <code>Option</code>. So if you want this exact behavior, you can add a call to <code>Option.orNull</code>, like this:</p>

<pre><code>objects.find(expensiveFunc).orNull
</code></pre>
"
"<p>The following Java code is a very simple piece of code, but what are the equivalent constructs in Scala?</p>

<pre><code>for (int i=10; i&gt; 0; i-=2) {
    System.out.println(i);
}
</code></pre>
","149392","","<p>To iterate from 10 to 0 (exclusive) in steps of 2 in Scala, you can create a Range using the <code>until</code> and <code>by</code> methods and then iterate over them in a for loop:</p>

<pre><code>for(i &lt;- 10 until 0 by -2)
</code></pre>
"
"<p>I am learning Scala (coming from a background of mostly Java). I am trying to wrap my head around the following code:</p>

<pre><code>object Main {
  def main(args : Array[String]) {
    for (file &lt;- filesEnding("".txt""))
      println(file.getName)
  }

  private val filesHere = (new java.io.File(""."")).listFiles

  def filesMatching(matcher: String =&gt; Boolean) =
    for (file &lt;- filesHere; if matcher(file.getName))
        yield file

  def filesEnding(query: String) = filesMatching(_.endsWith(query))
  /* Other matcher functions */
}
</code></pre>

<p>In particular I am confused where Scala gets the value for <code>_</code> in each of the matcher functions. I can see that <code>filesEnding</code> is called with an argument of <code>.txt</code>. That argument is assigned to <code>query</code>. <code>filesEnding</code> then calls <code>filesMatching</code> with an argument consistent with a <code>String =&gt; Boolean</code> function. Finally I can see that <code>file.getName</code> is what eventually replaces the <code>_</code> placeholder.</p>

<p>What I don't get is how Scala knows to put <code>file.getName</code> in place of <code>_</code>. I am having trouble tracing this code in my head and the eclipse debugger isn't much help in this situation. Can somebody walk me through what is happening in this code?</p>
","149392","","<p>If you write <code>_.someMethod(someArguments)</code>, this desugars to <code>x =&gt; x.someMethod(someArguments)</code>, so <code>filesMatching(_.endsWith(query))</code> desugars to <code>filesMatching(x =&gt; x.endsWith(query))</code>.</p>

<p>So <code>filesMatching</code> is called with <code>matcher</code> being the function <code>x =&gt; x.endsWith(query)</code>, i.e. a function which takes one argument <code>x</code> and calls <code>x.endsWith(query)</code> on that argument.</p>
"
"<p>Here is an example I picked up from this ebook (http://www.cs.cornell.edu/riccardo/prog-smlnj/notes-011001.pdf)</p>

<pre><code>-fun curry (f:'a * 'b -&gt; 'c) = fn (x:'a) =&gt; fn (y:'b) =&gt; f (x,y);
val curry = fn : ('a * 'b -&gt; 'c) -&gt; 'a -&gt; 'b -&gt; 'c
</code></pre>

<p>How do I interpret this function. Curry takes as argument a function f of type 'a * 'b -> 'c. I can't understand the part after '='. What is the associativity order? </p>

<p>Here is another example:</p>

<pre><code>fun add’ (x:int) (y:int):int = x + y;
</code></pre>

<p>How is this parsed? </p>

<p>Wikipedia says ""currying is the technique of transforming a function that takes multiple arguments (or an n-tuple of arguments) in such a way that it can be called as a chain of functions each with a single argument (partial application)"". Which is the single argument: the first or the last one out of the multiple arguments?</p>
","149392","","<p><code>fn (x:'a) =&gt; fn (y:'b) =&gt; f (x,y)</code> is parsed as <code>fn (x:'a) =&gt; (fn (y:'b) =&gt; f (x,y))</code>. So you have a function, which takes an argument x of type a and returns another function, which takes an argument y of type b. This other function then returns the result of calling <code>f (x,y)</code>.</p>

<p><code>fun foo x y = ...</code> is syntactic sugar for <code>val foo = fn x =&gt; fn y =&gt; ...</code>, so again <code>foo</code> is a function, which takes one argument x and returns another function, which takes one argument y.</p>

<p>Similarly the call <code>foo 1 2</code> will be parsed as <code>(foo 1) 2</code>, i.e. it calls the function <code>foo</code> with the argument 1 and then calls the resulting function with the argument 2.</p>
"
"<p>Consider the following example:</p>

<pre><code>data Dot = Dot Double Double
data Vector = Vector Double Double
</code></pre>

<p>First, i would like to overload <code>+</code> operator for <code>Vector</code> addition. If i wanted to overload equality(<code>==</code>) operator, i would write it like:</p>

<pre><code>instance Eq Vector where ...blahblahblah
</code></pre>

<p>But I can't find if there is <code>Add</code> typeclass to make <code>Vector</code> behave like a type with addition operation. I can't even find a complete list of Haskell typeclasses, i know only few from different tutorials. Does such a list exist?</p>

<p>Also, can I overload <code>+</code> operator for adding <code>Vector</code> to <code>Dot</code>(it seems rather logical, doesn't it?).</p>
","149392","","<p>The operator + in Prelude is defined by the typeclass Num. However as the name suggests, this not only defines addition, but also a lots of other numeric operations (in particular the other arithmetic operators as well as the ability to use numeric literals), so this doesn't fit your use case.</p>

<p>There is no way to overload just + for your type, unless you want to hide Prelude's + operator (which would mean you have to create your own Addable instance for Integer, Double etc. if you still want to be able to use + on numbers).</p>
"
"<p>Why</p>

<pre><code># encoding: utf-8
out=File.open(""z\\test.txt"", ""a"") 
out.puts ""ç""  
out.close
out=File.open(""z\\test.txt"", ""r"")
puts out.read+""ś""
</code></pre>

<p>results in ""incompatible character encodings: UTF-8 and CP852 (Encoding::CompatibilityError)""?</p>
","149392","","<p>The comment at the beginning of your ruby file, only determined the source encoding, i.e. it tells ruby which encoding the ruby file is encoded in. It does not tell it which encoding the files you're opening are encoded in - for that it still uses the system's default encoding unless you specifically request another one.</p>

<p>Apparently your system's default encoding is CP852, so if you want to open a file using utf-8, you'll have to specify that encoding when opening the file (passing the <code>:encoding =&gt; ""utf-8""</code> as an argument to <code>File.open</code>).</p>
"
"<p>I mean, I don't declare</p>

<pre><code>my_var = new variable
</code></pre>

<p>or something like that.
I just go with</p>

<pre><code>my_var = 1;
</code></pre>

<p>Similarly, why can't I just</p>

<pre><code>books[""War and peace""] = :masterpiece
</code></pre>

<p>Why I need to define in advance?</p>

<pre><code>books = {}
</code></pre>
","149392","","<p><code>books[""War and peace""] = :masterpiece</code> calls the <code>[]=</code> method on <code>books</code> with <code>""War and peace""</code> and <code>:masterpiece</code> as its arguments. If <code>books</code> doesn't exist, you can't call a method on it.</p>

<p>Or to approach the question a different way: If ruby did do some magic to automatically initialize variables, when you use <code>[]=</code> on them, how should ruby know that you want <code>books</code> to be a hash in the above example? Any class can have <code>[]</code> and <code>[]=</code> operators which accept strings as an index.</p>
"
"<p>(Newbie question. :-) )</p>

<p>Suppose you have a sequence of operations (sanity checks on the outside world). If sanity fails, one has to holler.</p>

<p>However, Haskell ifs require both branches be defined. The case of <code>fail</code> is a monad. However, I'm unsure what the correct type to generate in the else case. The compiler thinks the inferred type is IO a. However, I'm not sure how to create an no-op IO a. </p>

<pre><code>holler msg test =  
  do
    if not test 
      then
      fail msg
      else
      -- ??? no-op

main :: IO ()
main = do
  holler ""Go"" True
</code></pre>
","149392","","<p>The inferred type is <code>IO a</code> because <code>fail msg</code> may return anything (since it does in fact never return). However the else part doesn't actually have to produce an <code>IO a</code>, it's perfectly fine to make it into something more specific, i.e. <code>IO WhateverYouWant</code>.</p>

<p>In this case you don't care about the return value, so you should just use <code>IO ()</code>, i.e. put <code>return ()</code> in the <code>else</code> case.</p>

<p>And as it turns out there's already a function called <code>when condition action</code> in the <code>Control.Monad</code> module, which does exactly <code>if condition then action else return ()</code>, so you can just use that one (or its counterpart <code>unless</code>, which negates the condition saving you the <code>not</code>) instead of typing out the <code>if</code>.</p>
"
"<p>What is the difference in using a forward slash and backslash in navigating file systems. Also what is the diffrence in a ./ and ../ ?</p>
","149392","","<p>Well in most languages backslashes need to be escaped in string literals, slashes do not. Further backslashes only work on Windows, while slashes work pretty much everywhere.</p>

<p>On the other hand when passing path names as arguments to windows programs, using slashes might not work because many Windows programs use slashes to signify command line flags, so you need to use backslashes.</p>

<p>On <code>.</code> vs. <code>..</code>: <code>.</code> is the current directory, <code>..</code> is the parent directory.</p>
"
"<p>In Obj-C, the method to invoke can be decided at runtime using selector mechanism.</p>

<p>Is there anything similar in Ruby so that I can convert a method string into a method symbol at runtime and invoke it?</p>
","149392","","<p>You want the <code>send</code> method:</p>

<p><code>obj.send(method_name)</code>, where <code>method_name</code> can be either a string or a symbol, will invoke the method with the given name on <code>obj</code>.</p>

<p>Any arguments you want to pass to the method, can be given as additional arguments to <code>send</code>, i.e. <code>obj.send(method_name, argument1, argument2)</code>.</p>
"
"<p>I was reading the C++ FAQs and I noticed one sentence.</p>

<blockquote>
  <p>main() cannot be inline. </p>
</blockquote>

<p>Why is this?</p>
","149392","","<p>In C++ it is not legal to call the main function in your code, so there'd be no way it could ever be inlined.</p>
"
"<p>I am trying to use F# to generate a list of random triples -> two random numbers and their sum:</p>

<pre><code>let foo minNum maxNum = 
    let rnd = System.Random()
    let first = rnd.Next(minNum, maxNum)
    let second = rnd.Next(minNum, maxNum)
    let third = first + second
    first, second, third
</code></pre>

<p>which can be called like this and works well (always gives a new random number) (when using F# interactive)</p>

<pre><code>foo 0 50
</code></pre>

<p>When trying to generate a list of random triples like this</p>

<pre><code>List.init 100 (fun index -&gt; foo 0 50)
</code></pre>

<p><strong>I would like this to be a list of 100 randomized triples</strong>, but instead they all come out with the same value. I can see that the function doesn't depend on the index and therefore does not need to recalculate, but I am not sure how to work around it (I tried introducing the index as an unused dummy variable, also tried introducing the index as a random seed, but neither helped)</p>
","149392","","<p>You're assuming that the reason that your code does not work like you want it to is that the compiler erroneously applies some sort of common subexpression elimination, which causes <code>foo 0 50</code> to be evaluated only once. This is not the case. The compiler knows very well that functions may be impure and won't perform optimizations that would break with impure code (unless the specific code that is being optimized can be proven to be pure). So you don't have to worry about making the compiler think that you're using the argument.</p>

<p>The problem isn't that <code>foo 0 50</code> is called only once - it is indeed called 100 times like you want. The problem is that it returns the same value each of the 100 times it is called.</p>

<p>But why would it do that when it returns different values when you test it manually?</p>

<p>Because you create a new Random object every time you call <code>foo</code>. Since you don't provide a seed value to that random object, it will be seeded with the current system time. So if you call the function multiple times with some time passing in between, it will return different values each time. However if you call it 100 times in such a short amount of time that the system time does not change in between, you'll get back the same value 100 times.</p>

<p>So the solution to your problem is to reuse the same random object, instead of creating a new one each time <code>foo</code> is called.</p>
"
"<p>I'm trying to solve the <em>count a sequence</em> excercise at <a href=""http://4clojure.com/problem/22#prob-title"">4clojure.com</a>. The excercise is to count the number of elements in a collection without using the <code>count</code> function.</p>

<p>I thought I can do this via recursion, by the usage of <code>rest</code>. If what I get isn't empty, I return <code>1 + recur on the sequence rest returned</code>. The problem is, that I end up getting</p>

<pre><code>java.security.PrivilegedActionException: java.lang.UnsupportedOperationException:
Can only recur from tail position
</code></pre>

<p>even though I'm calling <code>recur</code> as the very last statement. </p>

<pre><code>(fn [coll] (let [tail (rest coll)]
             (if (empty tail)
               1
               (+ 1 (recur tail)))))
</code></pre>

<p>Am I missing something?</p>
","149392","","<p>The last statement is the addition, not the call to <code>recur</code>, which is why it doesn't work. The fact that it's inside an if has nothing to do with it. <code>(fn [coll] (let [tail (rest coll)] (+ 1 (recur tail))))</code> wouldn't work either.</p>

<p>The usual way to turn a function like this into a tail-recursive one is to make the function take a second argument, which holds the accumulator for the value you're adding up and then recurse like this: <code>(recur tail (+ acc 1))</code> instead of trying to add 1 to the result of <code>recur</code>.</p>

<p>As a general rule: If you're doing anything to the result of <code>recur</code> (like for example adding 1 to it), it can't be in a tail position, so it won't work.</p>
"
"<p>I'm thinking of developing an application that deals with computability and complexity.
Its initial list of features would be:  </p>

<ol>
<li>Receiving a function and checking if it is computable (i.e. whether it belongs to R,RE,coRE).  </li>
<li>Receiving a computable function and checking to which complexity class it belongs.</li>
</ol>

<p>And few more,this is more or less the direction.<br>
Are you familiar with any application like this?<br>
If so, what are this program's features, where can I find it and can you think of a new feature that is missing from this program or not working well?</p>
","149392","","<p>No, there's no program that does this since what you want the program to check is undecidable. The easiest part to proof undecidable is checking whether a function is in R:</p>

<p>If you could decide whether a function was in R or not, you could also easily decide the Halting Problem (a function <code>f</code> halts on the input <code>x</code> if and only if the function <code>f'</code>, which works the same as <code>f</code> except it hardcodes the input <code>x</code> and ignores its actual argument), which of course you can't.</p>
"
"<p>I have functions with the definition <code>def test(&amp;param)</code> and <code>def test(:&amp;param)</code>. What is the difference between both?  </p>
","149392","","<p>The difference is that <code>def test(:&amp;param)</code> causes a syntax error and <code>def test(&amp;param)</code> does not.</p>
"
"<p>Imagine you have a rating like</p>

<pre><code>Rating = OneStar | TwoStars | ThreeStars | FourStars | FiveStars
</code></pre>

<p>What is the best way to instanciate/implement ""Ord"" for such an algebraic data type in Haskell?</p>
","149392","","<p>The best way would be to just add <code>deriving (Eq, Ord)</code> to the type's definition.</p>

<p>Since you listed your constructors in ascending order, the derived <code>Ord</code> instance will give you exactly the order you want.</p>

<p>However, if changing the order in the definition is not an option for some reason you can still derive Eq, since for that the order does not matter. Given an instance of Eq, we can manually write an instance for Ord. The most succinct way to define compare would probably be to spell out all the combinations for which compare should return LT and then simply use compare x y | x == y = Eq; compare _ _ = GT for the remaining combinations.</p>
"
"<p>My apologies if my question is not well worded but I seem to have a lack of words to specifically ask.</p>

<p>I found a line that results in a list of all multiples of three from 1 to 1000 while searching for Haskell learning rescources. I understand what this line does, it is not too difficult to see evaluated in GHCi.</p>

<pre><code>[n | n &lt;- [1..1000], n `rem` 3 == 0]
</code></pre>

<p>My actual problem is i do not know how to read this line in plain englisch and how exactly the list is generated and what <code>n | n &lt;- [1..1000]</code> means.
Can this be read similar to a for loop?</p>

<p>Such an expression was not covered in the basic tutorials I read. Where can I find documentation that is to be considered beginners read and covers how to plain read expressions?</p>

<p>It would greatly improve my learing process if I actually had some vocabulary describing what I type there ;)</p>
","149392","","<p><code>[n | n &lt;- [1..1000], n</code>rem<code>3 == 0]</code> is the list of all <code>n</code> such that <code>n</code> is in <code>[1 .. 1000]</code> and <code>n `rem` 3 == 0</code>.</p>

<p>It's meant to read similarly to set notation (i.e. <code>{n | n ∈ (1..1000), n ≡ 0 mod 3}</code>).</p>
"
"<p>When I submit to GHC the code</p>

<pre><code>{-# LANGUAGE MultiParamTypeClasses, FunctionalDependencies, ScopedTypeVariables #-}


class Modular s a | s -&gt; a where modulus :: s -&gt; a



newtype M s a = M {unM :: a} deriving (Eq, Show)



normalize :: (Modular s a, Integral a) =&gt; a -&gt; M s a
normalize x :: M s a = M (x `mod` (modulus (undefined :: s)))
</code></pre>

<p>I get the following error:</p>

<pre><code>config1.hs:10:1: Parse error in pattern: normalize
</code></pre>

<p>Can you help?</p>

<p>Eric Macaulay</p>
","149392","","<pre><code>normalize x :: M s a = -- ...
</code></pre>

<p>This is just wrong. There's no reason to declare the return type in the definition like this, you've already declared it in the type signature on the line before. And as a matter of fact it isn't syntactically valid and the reason why you get the parse error.</p>

<p>However once you've fixed the parse error (by removing <code>:: M s a</code>), it still won't work because you're not actually using scoped type variables yet:</p>

<p>In order to make use of the scoped type variables extension, you need to explicitly declare your type variables using the <code>forall</code> keyword. The fixed definition will look like this:</p>

<pre><code>normalize :: forall s a. (Modular s a, Integral a) =&gt; a -&gt; M s a
normalize x = M (x `mod` (modulus (undefined :: s)))
</code></pre>
"
"<p>In the following snippet:</p>

<pre><code>import qualified Data.Set as Set

data Nat = Zero | Succ Nat deriving (Eq, Show, Ord)

instance Enum Nat where
  pred (Succ x)     = x
  succ x            = Succ x
  toEnum 0          = Zero
  toEnum x          = Succ (toEnum (x-1))
  fromEnum Zero     = 0
  fromEnum (Succ x) = 1 + (fromEnum x)

nats :: [Nat]
nats = [Zero ..]

natSet :: Set.Set Nat
natSet = Set.fromList nats
</code></pre>

<p>Why does: </p>

<ul>
<li><code>elem (toEnum 100) nats</code> == <code>True</code></li>
</ul>

<p>but</p>

<ul>
<li><code>Set.member (toEnum 100) natSet</code> never ends?</li>
</ul>
","149392","","<p>You can't have infinite sets. This doesn't just affect <code>Set.member</code>, whenever you do anything which will cause <code>natSet</code> to be evaluated even one step (even <code>Set.null</code>), it will go into an infinite loop.</p>
"
"<p>I want to write a method that loops through all the params to make sure they aren't all blank.</p>

<p>My params are:</p>

<pre><code>params[:search][:company]
params[:search][:phone]
params[:search][:city]
params[:search][:state]
params[:search][:email]
</code></pre>

<p>I have this method:</p>

<pre><code>def all_blank_check(params)
  array=[]

  params[:search].each do |key, value|
    array &lt;&lt; value unless value.blank?
  end

  if array.count &lt; 1
      return true
  else
     return false
  end
end
</code></pre>

<p>But when I try something like <code>all_blank_check(params)</code> I get the following error:</p>

<pre><code>NoMethodError (undefined method `all_blank_check' for #&lt;Class:0x108c08830&gt;):
</code></pre>

<p>Do I need to convert the params to an array first?  Can't I perform a method on params?</p>

<p>Edit - full source:
<pre>
        def index
          @customers = Customer.search_search(params)
        end</p>

<code>    def self.search_search(params)
      search_field = []
      search_values = []
      array = []
      test = ''    

      if !params[:search].nil? &amp;&amp; all_blank_check(params[:search]


              if !params[:search].nil? &amp;&amp; !params[:search][:company].blank?
              search_field &lt;&lt; 'customers.company LIKE ?'
              search_values &lt;&lt; ""%#{params[:search][:company]}%""

              end

              if !params[:search].nil? &amp;&amp; !params[:search][:city].blank?
              search_field &lt;&lt; 'customers.city = ?'
              search_values &lt;&lt; ""#{params[:search][:city]}""
              end

              if !params[:search].nil? &amp;&amp; !params[:search][:phone].blank?
              search_field &lt;&lt; 'customers.phone_1 = ?'
              search_values &lt;&lt; ""%#{params[:search][:phone]}%""
              end

            conditions = [search_field.join(' AND ')] + search_values

            Customer.where(conditions).includes(:customer_contacts).limit(10)
        end
    end


    def all_blank_check(params)
        params[:search].each do |key, value|
          array &lt;&lt; value unless value.blank?
        end

        if array.count &lt; 1
            return false
          end
          if array.count &gt; 1
            return true
        end
    end
</code></pre>

<p></p>
","149392","","<p>The problem is not the type of <code>params</code>, the problem is that the method <code>all_blank_check</code> does not exist on the object you call it on.</p>

<p>You defined it as an instance method and you're trying to call it from the class method <code>search_param</code>, which won't work.</p>

<p>If you want to make <code>all_blank_check</code> a class method you need to change the definition to <code>def self.all_blank_check(params)</code> - same as <code>search_param</code>.</p>
"
"<p>I saw this in Apple's framework files</p>

<pre><code>enum
{
    kAudioFormatLinearPCM               = 'lpcm',
    kAudioFormatAC3                     = 'ac-3'
}
</code></pre>

<p>What is the type of <code>'lpcm'</code>and <code>'ac-3'</code>?<br>
With a single character in the single quote like this <code>'a'</code>, I know it is a char; With double quotes like this <code>""text""</code>, I know it is a string. </p>

<p>But this? This makes me confused.</p>
","149392","","<p>Contrary to popular belief the type of <code>'c'</code> in C is <code>int</code>, not <code>char</code>. When you do something like <code>char c = 'c';</code>, there will be an implicit conversion from <code>int</code> to <code>char</code>, same as if you had written <code>char c = 99;</code>.</p>

<p>So to answer your question: the type of <code>'abcd'</code> is <code>int</code>, same as the type of <code>'c'</code>.</p>
"
"<p>When I run my code I get the following:</p>

<pre><code>cities.rb:70:in `sell_is_valid': undefined method `[]' for nil:NilClass (NoMethodError)
    from cities.rb:103
    from cities.rb:79:in `each'
    from cities.rb:79
</code></pre>

<p>Here is the code for that: </p>

<pre><code>def sell_is_valid(num, type)
    puts ""The most loads of #{type} you can sell is #{@train[num]}."" #Line 66
    puts ""How many #{type} would you like to sell?""
    prompt; value = gets.chomp.to_i
    if @train[num] &lt;= value
        @wallet = @wallet + (value * @cities[@current_location][num]) #Line 70
        @storage = @storage + value
        @train[num] = @train[num] - value
    else
        puts ""You're trying to buy too much!""
    end
end
</code></pre>

<p>So then what I did was did a puts on line 70.</p>

<pre><code>puts @wallet
puts @cities[@current_location][num]
</code></pre>

<p>Same error this time on the  puts @cities[@current_location][num] line. So I know that is what is making it do this. However, I use that line all through my code. For example, do the to the flow of my game (you have to buy something before you can sell it) that exact same line is executed three times in the buy_is_valid function with no issues. I also did a puts on num and it is giving me a valid number. It also is being used correctly in line 66.</p>

<p>Any ideas on how to track this down?</p>

<p><em><strong>EDIT</em></strong></p>

<pre><code>p @cities
p @current_location
</code></pre>

<p>returns</p>

<pre><code>{:new_york=&gt;[2, 25, 12], :chicago=&gt;[18, 12, 2], :dallas=&gt;[16, 12, 4], :omaha=&gt;[16, 5, 5], :seattle=&gt;[2, 29, 16]}
""new_york""
</code></pre>
","149392","","<p>The error message is saying, that you're calling <code>[]</code> on <code>nil</code>. Since in the expression <code>@cities[@current_location][num]</code>, you're first calling <code>[]</code> on <code>@cities</code> and then on the result of <code>@cities[@current_location]</code>, this means that either <code>@cities</code> or <code>@cities[@current_location]</code> is <code>nil</code>.</p>

<p>To find out which one is the case, you should trying printing out <code>@cities</code> and <code>@current_location</code> using <code>p @cities, @current_location</code>. If <code>@cities</code> is <code>nil</code>, that's the reason for the error. If it isn't it should now at least be apparent why <code>@current_location</code> isn't a valid key for it.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/5481539/what-does-t-mean-in-c11"">What does T&amp;&amp; mean in C++11?</a>  </p>
</blockquote>



<p>For some reason, this is eluding my intuition, and I cannot find any explanation on the internet. What does it mean for a C++ function to take a reference of a reference?  For example:</p>

<pre><code>void myFunction(int&amp;&amp; val);     //what does this mean?!
</code></pre>

<p>I understand the idea of passing-by-reference, so</p>

<pre><code>void addTwo(int&amp; a)
{
    a += 2;
}

int main()
{
    int x = 5;
    addTwo(x);

    return 0;
}
</code></pre>

<p>works and is intuitive to me.</p>
","149392","","<p>It's not a reference to a reference. It's a new syntax introduced in C++0x for so-called <a href=""http://en.wikipedia.org/wiki/C%2B%2B0x#Rvalue_references_and_move_constructors"" rel=""nofollow"">Rvalue references</a>.</p>
"
"<p>I am currently experimenting with Ruby and Rails, and I've hit a few sections in tutorials and books about metaprogramming.  Many mention that it is an essential component of Ruby but they don't really go into detail.  It's as if metaprogramming is the final frontier for Ruby programmers.  Coming from a .NET background I am struggling to understand why it is supposedly so useful.</p>

<ul>
<li>What benefits are gained when using metaprogramming?   </li>
<li>What is an eigenclass and how is it different from a singleton?  </li>
<li>In what situations is using metaprogramming common?</li>
<li>What ethical implications are there around using code to modify the behaviour of other code, especially code which is not your own?</li>
</ul>
","149392","","<ul>
<li><p>What benefits are gained when using metaprogramming?</p>

<p>You can create more expressive APIs than without it (for example ActiveRecord uses metaprogramming to define accessor methods based on a table's column names, so you can write things like <code>person.age</code> instead of something like <code>person.read_attribute(""age"")</code>, where <code>person</code> is an active record object and the <code>people</code> table has a column called <code>age</code>) and you can accomplish some things with significantly less code than you otherwise would.</p></li>
<li><p>What is an eigenclass and how is it different from a singleton? </p>

<p>The terms ""eigenclass"" and ""singleton class"" are used interchangeably in the context of ruby.</p></li>
<li><p>In what situations is using metaprogramming common?</p>

<p>In situations where you'd otherwise have a lot of boiler plate code or when creating DSLs.</p>

<p>Example of use case 1:</p>

<p>Instead of writing something boiler-plate code like this:</p>

<pre><code>class Foo
  def bar
    @bar
  end

  def bar=(b)
    @bar = b
  end

  def baz
    @baz
  end

  def baz=(b)
    @baz = b
  end
end
</code></pre>

<p>You can write this much shorter code using the metaprogramming method <code>attr_accessor</code>, which automatically defines getter and setter methods with names based on the arguments you give it:</p>

<pre><code>class Foo
  attr_accessor :foo, :bar
end
</code></pre>

<p>If <code>attr_accessor</code> didn't already exist in the standard library, you could define it yourself like this (to give you an idea what metaprogramming in ruby looks like):</p>

<pre><code>class Module
  def attr_accessor(*variable_names)
    variable_names.each do |variable_name|
      define_method( variable_name ) do
        instance_variable_get( ""@#{ variable_name }"" )
      end

      define_method( ""#{ variable_name }="" ) do |value|
        instance_variable_set( ""@#{ variable_name }"", value)
      end
    end
  end
</code></pre>

<p>end</p></li>
<li><p>What ethical implications are there around using code to modify the behaviour of other code, especially code which is not your own?</p>

<p>None.</p></li>
</ul>
"
"<p>So i'm making a menu in a simple console app.
My code is pretty much: (LINKS TO ACTUAL CODE AT THE BOTTOM!)</p>

<pre><code>int input;
bool LOOPING = true;

while(LOOPING)
{
cout &lt;&lt; ""Select an option:\n"";
cout &lt;&lt; ""1 - option 1\n"";
cout &lt;&lt; ""2 - option 2\n"";
cout &lt;&lt; ""3 - option 3\n"";
cout &lt;&lt; ""4 - option 4\n&gt;"";
cin &gt;&gt; input;

switch(input) {
    case 1:
        game();
        break;
    case 2:
        game();
        break;
    case 3:
        game();
        break;
    case 4:
        game();
        break;
    default:
        cout &lt;&lt; ""ERROR: invalid input!\nPlease enter in a number!\n\n"";
        break;
}
}
// rest of app...
</code></pre>

<p>My problem is, the program just goes into a constant loop of text! Why is this happening? Why does <code>default:</code> not stop that from happening and how do i stop this from occuring?</p>

<p>Thanks in advance!</p>

<p>EDIT: asked for real code.</p>

<pre><code>http://pastie.org/2415852
http://pastie.org/2415854
http://pastie.org/2415855
</code></pre>
","149392","","<p>Your code is looping infinitely because you never set <code>LOOPING</code> to false. In the real code you only set it to false when the user chooses to exit, which will never happen because the user is not able to enter input anymore after he inputs a non-number for the first time.</p>

<p>The reason that it doesn't keep asking you for input after you entered a character is that <code>&gt;&gt;</code> does not consume invalid input. I.e. if <code>&gt;&gt;</code> is supposed to write into an <code>int</code>, but what the user enters is not a valid int, it will not write to the int, but it will also not remove the user input from the stream (instead it will simply set <code>cin</code>'s error flag, which you should check).</p>

<p>The input will stay in the stream until you write it somewhere else or discard it. Until you do that every subsequent attempt to read an <code>int</code> will fail because the invalid input is still in the stream.</p>
"
"<p>So recently I got into a debate about how to solve a problem, the problem specifically was: How do I find all the pallindromes between 1 and 1 million.  I said,  ""Use atoi to make a string, use a for loop to reverse the string, the use strcmp to compare the string(s) in question.  </p>

<p>A few minutes later someone asked ""Why would you use a C-style solution in C++.""  I found myself confused of a simple, more ""C++"" way of solving this with code as direct and easy to understand.   Anyone care to illuminate me on this one?</p>

<p>edit: itoa not atoi</p>
","149392","","<p>The C++ equivalent to your solution would be to:</p>

<ol>
<li>Use stringstream to turn the number into a std::string.</li>
<li>Use <code>std::reverse_copy</code> to reverse the string.</li>
<li>Use == to compare the strings.</li>
</ol>

<p>1 is better than using <code>itoa</code> (which you probably meant) because you don't have to allocate the memory for the created string yourself and there's no chance of a buffer overrun.</p>

<p>2 is better because again you don't have to worry about allocating memory for the reversed string and you don't duplicate existing functionality.</p>

<p>3 is better because <code>string1 == string2</code> reads better than using strcmp.</p>
"
"<p>Without hitting the filesystem, is it possible to see whether the glob <code>""foo*""</code> would match <code>""food""</code> in Ruby?</p>

<p><strong>Background</strong>: one of my scripts produce files, and I'd like to unit test that other scripts would be able to detect such files with their current glob.</p>
","149392","","<p>Yes, it is possible using the <a href=""http://ruby-doc.org/core/classes/File.html#M000001""><code>fnmatch</code></a> method:</p>

<pre><code>File.fnmatch(""foo*"", ""food"") #=&gt; true
</code></pre>
"
"<p>I am new to Agda.  I'm reading the paper ""Dependent Types at Work"" by Ana Bove and Peter Dybjer.  I don't understand the discussion of Finite Sets (on page 15 in my copy).</p>

<p>The paper defines a <code>Fin</code> type:</p>

<pre><code>data Fin : Nat -&gt; Set where
    fzero : {n : Nat} -&gt; Fin (succ n)
    fsucc : {n : Nat} -&gt; Fin n -&gt; Fin (succ n)
</code></pre>

<p>I must be missing something obvious.  I don't understand how this definition works.  Could someone simply translate the definition of <code>Fin</code> into everyday English?  That might be all I need to understand this part of the paper.</p>

<p>Thanks for taking the time to read my question.  I appreciate it.</p>
","149392","","<pre><code>data Fin : Nat -&gt; Set where
</code></pre>

<p>Fin is a data type parametrized by a natural number (or: <code>Fin</code> is a type-level function which takes a <code>Nat</code> and returns a <code>Set</code> (basic type), i.e. for any natural number <code>n</code> <code>Fin n</code> is a <code>Set</code>).</p>

<pre><code>    fzero : {n : Nat} -&gt; Fin (succ n)
</code></pre>

<p>For all natural numbers <code>n</code> <code>fzero</code> is a member of the type/set <code>Fin (succ n)</code> (from which follows that for all positive numbers (i.e. all naturals except zero) <code>n</code> <code>fzero</code> is a member of <code>Fin n</code>).</p>

<pre><code>    fsucc : {n : Nat} -&gt; Fin n -&gt; Fin (succ n)
</code></pre>

<p>For all natural numbers <code>n</code> and all values <code>m</code> of type <code>Fin n</code>, <code>fsucc m</code> is a member of type <code>Fin (succ n)</code>.</p>

<hr>

<p>So <code>fzero</code> is a member of <code>Fin n</code> for all <code>n</code> except zero and <code>fsucc m</code> is a member of <code>Fin n</code> for all <code>n</code> which represent a number greater than <code>fsucc m</code>.</p>

<p>Basically <code>Fin n</code> represents the Set of all natural numbers smaller than <code>n</code>, i.e. of all valid indices for lists of size <code>n</code>.</p>
"
"<p>I'm having a hard time with exercise 1.2 in SICP.</p>

<p>Translate the following to prefix form:</p>

<pre>5 + 4 + (2 - (3 - (6 + 4/5))) / 3(6 - 2)(2 - 7)</pre>

<p>Here's what I have, and I can't figure out why it doesn't work. What am I missing?</p>

<pre><code>(/
 (+
  (+ 4 5)
  (- 2
     (- 3
        (+ 6
           (/ 4 5)))))
 (* 3
    (*
     (-6 2)
     (- 2 7))))
</code></pre>
","149392","","<pre><code>(-6 2)
</code></pre>

<p>Here you're trying to call <code>-6</code> with <code>2</code> as its argument, which doesn't work of course as <code>-6</code> is not a function. You rather want to call the <code>-</code> function with <code>6</code> and <code>2</code> as its arguments.</p>

<p>tl;dr: You forgot a space between <code>-</code> and <code>6</code>.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/6945707/java-operator-problem"">java operator ++ problem</a>  </p>
</blockquote>



<pre><code>public class A {

public static void main(String[] args) {

    int nir = 5;
    nir = nir++;

    System.out.print(nir);
    }
}
</code></pre>

<p>Why is the output 5 and not 6?</p>

<p>Please don't tell me what to do in order to get 6.. obviously I am able to get to 6, it's just that the syntax looks fine to me and an explanation about what wrong with that will do better, thanks. </p>
","149392","","<p>Because the expression <code>nir++</code> evaluates to the old value of <code>nir</code>. So <code>exp(nir++)</code> is equivalent to:</p>

<pre><code>int oldValue = nir;
nir = nir + 1;
exp(oldValue);
</code></pre>

<p>In your case that means:</p>

<pre><code>int oldValue = nir;
nir = nir + 1;
nir = oldValue;
</code></pre>

<p>Which of course makes no sense because it basically does nothing.</p>
"
"<p>I was playing around with composable failures and managed to write a function with the signature</p>

<pre><code>getPerson :: IO (Maybe Person)
</code></pre>

<p>where a Person is:</p>

<pre><code>data Person = Person String Int deriving Show
</code></pre>

<p>It works and I've written it in the do-notation as follows:</p>

<pre><code>import Control.Applicative

getPerson = do
    name &lt;- getLine -- step 1
    age  &lt;- getInt  -- step 2
    return $ Just Person &lt;*&gt; Just name &lt;*&gt; age 
</code></pre>

<p>where</p>

<pre><code>getInt :: IO (Maybe Int)
getInt = do
    n &lt;- fmap reads getLine :: IO [(Int,String)]
    case n of
        ((x,""""):[])   -&gt; return (Just x)
        _ -&gt; return Nothing
</code></pre>

<p>I wrote this function with the intent of creating composable possible failures. Although I've little experience with monads other than Maybe and IO this seems like if I had a more complicated data type with many more fields, chaining computations wouldn't be complicated.</p>

<p>My question is how would I rewrite this without do-notation? Since I can't bind values to names like name or age I'm not really sure where to start.</p>

<p>The reason for asking is simply to improve my understanding of (>>=) and (&lt;*>) and composing failures and successes (not to riddle my code with illegible one-liners). </p>

<p>Edit: I think I should clarify, ""how should I rewrite getPerson without do-notation"", I don't care about the getInt function half as much.</p>
","149392","","<p><code>do</code>-blocks of the form <code>var &lt;- e1; e2</code> desugar to expressions using <code>&gt;&gt;=</code> as follows <code>e1 &gt;&gt;= \var -&gt; e2</code>. So your <code>getPerson</code> code becomes:</p>

<pre><code>getPerson =
    getLine &gt;&gt;= \name -&gt;
    getInt  &gt;&gt;= \age -&gt;
    return $ Just Person &lt;*&gt; Just name &lt;*&gt; age
</code></pre>

<p>As you see this is not very different from the code using <code>do</code>.</p>
"
"<p>I have follwing ruby scripts
rubyScript.rb:</p>

<pre><code>require ""rScript""
t1 = Thread.new{LongRunningOperation(); puts ""doneLong""}
     sleep 1
     shortOperation()
     puts ""doneShort""
     t1.join
</code></pre>

<p>rScript.rb:</p>

<pre><code>def LongRunningOperation()
  puts ""In LongRunningOperation method""
  for i in 0..100000
  end
 return 0
end
def shortOperation()
  puts ""IN shortOperation method""
  return 0
end
</code></pre>

<p>THE OUTPUT of above script i.e.(ruby rubyScript.rb)</p>

<p>1) With use of sleep function</p>

<pre><code>In veryLongRunningOperation method
doneLong
IN shortOperation method
doneShort
</code></pre>

<p>2) Without use of sleep function i.e. removing sleep function.(ruby rubyScript.rb)</p>

<pre><code>In veryLongRunningOperation method
IN shortOperation method
doneShort
doneLong
</code></pre>

<p>why there is difference in output. What sleep does in ablve case. Thannks in advance.</p>
","149392","","<p><code>sleep 1</code> makes the current thread sleep (i.e. do nothing) for one second. So <code>veryLongRunningOperation</code> (which despite being a very long running operation still takes less than a second) has enough time to finish before <code>shortOperation</code> even starts.</p>
"
"<p>A bit more [indirectly] regarding my <a href=""http://stackoverflow.com/questions/7233587/isomorphism-lenses"">previous question</a>: there, my definition of lens was</p>

<pre><code>data Iso α β = Iso { fw :: α -&gt; β, bw :: β -&gt; α }
data Lens α β = forall r. Lens (Iso α (β, r))
</code></pre>

<p>And this is fine, as long as the module is imported unqualified. Problems begin with the case where it is, and, for <code>import qualified Util.Lens as L</code>, I get an error about <code>fw</code> not being a (visible) field of constructor <code>Iso</code>. The code itself is trivial,</p>

<pre><code>data BValue = BValue { p :: Float, d :: Float, q :: Float } deriving Show
pLens :: L.Lens BValue Float
pLens = L.Lens (L.Iso { fw = pFwd, bw = pBwd })
</code></pre>

<p>The Util.Lens exports both <code>Lens(..)</code> and <code>Iso(..)</code>. TIA.</p>
","149392","","<p>The record fields need to be qualified as well, i.e.:</p>

<pre><code>L.Iso { L.fw = pFwd, L.bw = pBwd }
</code></pre>
"
"<p>If I use the <code>+</code> operator, Haskell automatically infers the type class <code>Num</code>:</p>

<pre><code>&gt; let add x y = x + y
&gt; :t add
add :: Num a =&gt; a -&gt; a -&gt; a
</code></pre>

<p>Does this mean I cannot have multiple type classes with a <code>+</code> operator?</p>
","149392","","<p>You can't have multiple type classes defining <code>+</code> in the same module (the same applies to any other function name of course - not just <code>+</code>).</p>

<p>And if you import multiple modules which define <code>+</code> (whether it be as part of a typeclass or not), you either need to hide <code>+</code> when importing all but one of them, import all but one of them as qualified or always refer to <code>+</code> qualified.</p>
"
"<p>I have been through various papers/articles/blogs and what not about Monads. People talk about them in various context like category theory (what in world is that?) etc. After going through all this and trying to really understand and write monadic code, I came to the understanding that monads are just syntactic sugar (probably the most glorified of them all). Whether it is do notation in Haskell or the Computation Expressions in F# or even the LINQ select many operator (remember LINQ syntax is also a syntactic sugar in C#/VB).</p>

<p>My question is if anyone believe monads are more then syntactic sugar (over nested method calls) then please enlighten me with ""practicality"" rather than ""theoretical concepts"".</p>

<p>Thanks all.</p>

<p><strong>UPDATE:</strong></p>

<p>After going through all the answers I came to the conclusion that implementation of monad concept in a particular language is driven through a syntactic sugar BUT monad concept in itself is not related to syntactic sugar and is very general or abstract concept. Thanks every body for the answer to make the difference clear between the concept itself and the ways it is being implemented in languages. </p>
","149392","","<p><code>do</code> notation, computation expressions and similar language constructs are of course syntactic sugar. This is readily apparent as those constructs are usually defined in terms of what they desugar to. A monad is simply a type that supports certain operations. In Haskell <code>Monad</code> is a typeclass which defines those operations.</p>

<p>So to answer your question: <code>Monad</code> is not a syntactic sugar, it's a type class, however the <code>do</code> notation is syntactic sugar (and of course entirely optional - you can use monads just fine without <code>do</code> notation).</p>
"
"<p>Can someone explain this behavior to me?</p>

<pre class=""lang-none prettyprint-override""><code>&gt;&gt; ""#$""
SyntaxError: (irb):3: unterminated string meets end of file
    from /Users/milan/.rvm/rubies/ruby-1.9.2-head/bin/irb:16:in `&lt;main&gt;'

&gt;&gt; ""#@""
SyntaxError: (irb):4: syntax error, unexpected $undefined
(irb):4: unterminated string meets end of file
    from /Users/milan/.rvm/rubies/ruby-1.9.2-head/bin/irb:16:in `&lt;main&gt;'

&gt;&gt; ""#$$""
""10994""
</code></pre>

<p>Did I miss some new feature of 1.9.2? Confused.</p>
","149392","","<p>As you probably know you can use <code>#{ expression }</code> inside a double quoted value to insert the value of <code>expression</code> into the string at that position. A little known sub-feature is that if the expression is just a global or instance variable, you can leave out the braces. I.e. <code>#$foo</code> inside a double quoted string will insert the value of the global variable <code>$foo</code> and <code>#@foo</code> will do the same for instance variables.</p>

<p>So your first two examples error out, because it thinks you want to get the variables <code>$""</code> or <code>@""</code> respectively (the latter of which is not a variable name - though the first one is - which is why you get two error messages for the second and just one for the first), leaving the string unclosed. And the third example simply gives you the value of the variable <code>$$</code>.</p>

<p>If you don't want this to happen you can escape the <code>#</code> with a backslash in front of it (or simply use single quotes instead of double quotes if you don't need any double-quote-specific behavior).</p>

<p>This behavior is not specific to ruby 1.9 - it has always been like this.</p>
"
"<p>I gotta do the Pythagorean triple in Haskell without symmetrical solutions. My try is:</p>

<pre><code>terna :: Int -&gt; [(Int,Int,Int)]
terna x = [(a,b,c)|a&lt;-[1..x], b&lt;-[1..x], c&lt;-[1..x], (a^2)+(b^2) == (c^2)]
</code></pre>

<p>and I get as a result:</p>

<pre><code>Main&gt; terna 10
[(3,4,5),(4,3,5),(6,8,10),(8,6,10)]
</code></pre>

<p>As you can see, I´m getting symmetrical solutions like: (3,4,5) (4,3,5). I need to get rid of them but I don´t know how. Can anyone help me?</p>
","149392","","<p>Every time you have a duplicate you have one version in which a is greater than b and one where b is greater than a. So if you want to make sure you only ever get one of them, you just need to make sure that either <code>a</code> is always equal to or less than <code>b</code> or vice versa.</p>

<p>One way to achieve this would be to add it as a condition to the list comprehension.</p>

<p>Another, more efficient way, would be to change <code>b</code>'s generator to <code>b &lt;- [1..a]</code>, so it only generates values for <code>b</code> which are smaller or equal to <code>a</code>.</p>

<p>Speaking of efficiency: There is no need to iterate over <code>c</code> at all. Once you have values for <code>a</code> and <code>b</code>, you could simply calculate <code>(a^2)+(b^2)</code> and check whether it has a natural square root.</p>
"
"<p>I've created a wxHaskell grid control, and it displays fine, the user can enter data etc.</p>

<p>It's also fairly obvious how to programatically write data into it (<a href=""http://wxhaskell.sourceforge.net/doc/Graphics-UI-WXCore-WxcClassesAL.html#v%3agridSetCellValue"" rel=""nofollow""><code>gridSetCellValue</code></a>).</p>

<p>But how do I read the data from it? There's <a href=""http://wxhaskell.sourceforge.net/doc/Graphics-UI-WXCore-WxcClassesAL.html#v%3agridGetTable"" rel=""nofollow""><code>gridGetTable</code></a> which might or might not be relevant, but that returns a <a href=""http://wxhaskell.sourceforge.net/doc/Graphics-UI-WXCore-WxcClassTypes.html#t%3aGridTableBase"" rel=""nofollow""><code>GridTableBase</code></a> and while I can see that it's indirectly a pointer type, I can't find anything in the API to actually get at the data in it.</p>
","149392","","<p>To get the data of a specific cell you can just use <a href=""http://wxhaskell.sourceforge.net/doc/Graphics-UI-WXCore-WxcClassesAL.html#v%3agridGetCellValue"" rel=""nofollow""><code>gridGetCellValue</code></a>, which is the obvious counter part to <code>gridSetCellValue</code>.</p>
"
"<p>I am trying to make some Haskell types which are parametrized not by types but by elements of a type, specifically, integers.  For instance, a (linear-algebra) vector in R^2 and a vector in R^3 are different typed objects.  Specifically, I am writing a K-D tree in Haskell and I want to parametrize my data-structure by a positive integer so a 3-D tree and 4-D tree have different type.  </p>

<p>I've tried to parametrize my tree by tuples, but it didn't seem to be going anywhere (and it seems somewhat unlikely this can be pushed through, especially since it doesn't seem that triples or anything bigger are even functors (and I don't know any way to say like, instance HomogeneousTuple a => Functor a).  I want to do something like this:</p>

<pre><code>data (TupleOfDoubles a) =&gt; KDTree a b = ... ---so in a 3DTree a is (Double,Double,Double)
</code></pre>

<p>that would be nice, or something like this would be equally good</p>

<pre><code>data KDTree Int a = ... -- The Int is k, so KDTree has kind Int -&gt; * -&gt; *
</code></pre>

<p>Does anybody know if either of these effects are workable or reasonable?</p>

<p>Thanks
-Joseph</p>
","149392","","<p>There's a GHC extension being worked on called <a href=""http://hackage.haskell.org/trac/ghc/wiki/TypeNats"">TypeNats</a>, which would be exactly what you want. However the milestone for that is currently set to be 7.4.1 according to <a href=""http://hackage.haskell.org/trac/ghc/ticket/4385"">the ticket</a>, so that'll be a bit of a wait still.</p>

<p>Until that extension is available, the only thing you can do is encode the dimension using types. For example something along these lines might work:</p>

<pre><code>{-# LANGUAGE ScopedTypeVariables #-}
class MyTypeNat a where
    toInteger :: a -&gt; Integer

data Zero
data Succ a

instance MyTypeNat Zero where
    toInteger _ = 0

instance MyTypeNat a =&gt; MyTypeNat (Succ a) where
    toInteger _ = toInteger (undefined :: a) + 1

data KDTree a b = -- ...

dimension :: forall a b. MyTypeNat a =&gt; KDTree a b -&gt; Integer
dimension = toInteger (undefined :: a)
</code></pre>

<p>The downside of an approach like this is of course that you have to write something like <code>KDTree (Succ (Succ (Succ Zero))) Foo</code> instead of <code>KDTree 3 Foo</code>.</p>
"
"<p>I have redefined the &lt;&lt; operator and I want it to take a reference of pointer.</p>

<pre><code>class foo
{
    foo();
    virtual ~foo();

    void operator &lt;&lt; (BaseService*&amp; iRight);
}
</code></pre>

<p>Somewhere in the code, having a foo instance, and a service which is a specialization of the BaseService class I do :</p>

<pre><code>Service* service_pointer = new Service();
foo_instance &lt;&lt; service_pointer;
</code></pre>

<p>But I get this error :
   error: no match for 'operator&lt;&lt;'in 'foo_instance &lt;&lt; service_pointer'
   note: candidates are: void foo::operator&lt;&lt;(BaseService*&amp;)</p>

<p>Nothing changes if I dynamic_cast my service_pointer to BaseService</p>

<pre><code>Service* service_pointer = new Service();
foo_instance &lt;&lt; dynamic_cast&lt;BaseService*&gt;(service_pointer);
</code></pre>

<p>Any idea ?</p>
","149392","","<p>The first version does not work because you can't pass in a reference to a pointer to a subtype and rightly so: What if the implementation of <code>operator&lt;&lt;</code> made the pointer point to an instance <code>MyService</code> (which is a subclass of <code>BaseService</code>, but not of <code>Service</code>)? Clearly it would be illegal for a <code>Service*</code> to point to a <code>MyService</code>. So passing in a <code>Service*</code> is not allowed.</p>

<p>The second version is not allowed because <code>dynamic_cast</code> does not return an l-value, so you can't pass it as a non-const reference.</p>

<p>The only thing you can do is define another variable of type <code>BaseService*</code> and pass that as an argument to <code>&lt;&lt;</code>. If <code>&lt;&lt;</code> then reassigns the pointer, that change will be visible for the newly created variable only and not affect <code>ServicePointer</code>.</p>

<p>That being said (and not knowing your use case) I have to advice you that having <code>operator&lt;&lt;</code> take a non-const reference to anything as its right operand strikes me as bad practice. You wouldn't usually expect <code>&lt;&lt;</code> to modify it's right operand.</p>
"
"<p>For the ruby .times do is there a counter or do I have to do the following</p>

<pre><code>count = 0
4.times do
puts ""this is the count #{count}""
count = count+1
</code></pre>
","149392","","<p>Yes, <code>times</code> yields a counter:</p>

<pre><code>4.times do |count|
  puts ""this is the count #{count}""
end
</code></pre>
"
"<p>I've to admit that I don't know much about functional programming. I read about it from here and there, and so came to know that in functional programming, a function returns the same output, for same input, no matter how many times the function is called.  It's exactly like mathematical function which evaluates to same output for same value of input parameter which involves in the function expression. </p>

<p>For example, consider this:</p>

<pre><code>f(x,y) = x*x + y; //it is a mathematical function
</code></pre>

<p>No matter how many times you use <code>f(10,4)</code>, its value will always be <code>104</code>. As such, wherever you've written <code>f(10,4)</code>, you can replace it with <code>104</code>, without altering the value of the whole expression. This property is referred to as <a href=""http://en.wikipedia.org/wiki/Referential_transparency_%28computer_science%29"">referential transparency</a> of an expression.</p>

<p>As Wikipedia says (<a href=""http://en.wikipedia.org/wiki/Functional_programming"">link</a>),</p>

<blockquote>
  <p>Conversely, in functional code, the output value of a function depends only on the arguments that are input to the function, so calling a function f twice with the same value for an argument x will produce the same result f(x) both times. </p>
</blockquote>

<p>So my question is: can a time function (which returns the <em>current</em> time) exist in functional programming? </p>

<ul>
<li><p>If yes, then how can it exist? Does it not violate the principle of functional programming? It particularly violates <a href=""http://en.wikipedia.org/wiki/Referential_transparency_%28computer_science%29"">referential transparency</a> which is one of the property of functional programming (if I correctly understand it).</p></li>
<li><p>Or if no, then how can one know the current time in functional programming?</p></li>
</ul>
","149392","","<p>Most functional programming languages are not pure, i.e. they allow functions to not only depend on their values. In those languages it is perfectly possible to have a function returning the current time. From the languages you tagged this question with this applies to scala and f# (as well as most other variants of ML).</p>

<p>In languages like Haskell and Clean, which are pure, the situation is different. In Haskell the current time would not be available through a function, but a so-called IO action, which is Haskell's way of encapsulating side effects.</p>

<p>In Clean it would be a function, but the function would take a world value as its argument and return a fresh world value (in addition to the current time) as its result. The type system would make sure that each world value can be used only once (and each function which consumes a world value would produces a new one). This way the time function would have to be called with a different argument each time and thus would be allowed to return a different time each time.</p>
"
"<p>I wrote a program which had <code>if...else if</code> inside a <code>do..end</code> block in Ruby. Something like this:</p>

<pre><code>[1..100].each do |num|
    if num % 3 == 0 and num % 5 == 0 
        tf += 1
    else if num % 3 == 0 and num % 5 != 0 
        t += 1
    end
    end
end
</code></pre>

<p>My question is: why is it necessary to put three <code>ends</code> at the end? From what is shown in the <a href=""http://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Control_Structures#if-elsif-else_expression"" rel=""nofollow"">Ruby Wikibook</a>, the <code>if..else if</code> requires only one <code>end</code> and the <code>do..end</code> requires only one <code>end</code> too. </p>
","149392","","<p>You only need one <code>end</code> to close an <code>if</code> block (even if that <code>if</code> block contains multiple <code>elsif</code>s like in the wikibook). However in your code there are two <code>if</code> blocks: one outside and another one in the <code>else</code> part of the outer <code>if</code> block.</p>

<p>Long story short: if you use <code>elsif</code> instead of <code>else if</code>, you only need one <code>end</code> to close the <code>if</code>.</p>

<p>Also note that <code>[1..100].each</code> will yield exactly once because <code>[1..100]</code> is an array with just one single element: the range object <code>1..100</code>. You probably want <code>(1..100).each</code> instead.</p>
"
"<p>I get hat isa/2 is a rule, that takes two objects or terms. But what would isa2/2 imply? That isa is defined twice? </p>
","149392","","<p><code>isa2/2</code> simply refers to a predicate named <code>isa2</code> taking 2 arguments, i.e. the first 2 is simply part of the name, not a special notation.</p>
"
"<p>I'm having an parsing error on the input 'else' but I have no idea how to solve it. I'm still new to this haskell thing.</p>

<pre><code>depot = 
do
putStr (""Enter deposit amount: "")
deAmount &lt;- getLine
let redeAmount = read deAmount
if redeAmount &gt; 0 then 
    let accBal = redeAmount + accBal
    else 
        putStrLn ""Please enter amount greater than 0""
</code></pre>
","149392","","<p>The first mistake is that the <code>do</code> (and everything after it) needs to be indented.</p>

<p>The next mistake is that syntactically <code>let accBal = redeAmount + accBal</code> can't stand on its own like that. Either it needs to be followed by an <code>in</code> or it must be directly inside a <code>do</code> block (being inside an <code>if</code> which is inside a <code>do</code> block does not count).</p>

<p>However even if you fix the syntax, it won't do what you want. You can't use <code>let</code> to reassign variables. As a matter of fact you can't reassign variables at all. If you fix the syntax of your <code>let</code>, it will simply create a new variable <code>accBal</code> which will shadow the old variable <code>accBal</code>. The scope of that new variable will be the <code>then</code>-block of the <code>if</code>. Once you leave the <code>if</code>-block, you'll <code>accBal</code> will again refer to the old value of <code>accBal</code> no matter what you did inside the <code>if</code>.</p>

<p>So to fix your issue, you need to restructure your logic, so it doesn't depend on <code>accBal</code> being reassigned.</p>
"
"<p>I am trying to debug native C code for an Android application, where I am getting the following segfault:</p>

<pre><code>Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 1640]
0x8463022c in new_field_info (tree=0x7c1a98, hfinfo=0x865b6344, tvb=0xa65100, start=8, item_length=2) at proto.c:3491
3491    proto.c: No such file or directory.
        in proto.c
(gdb) bt
#0  0x8463022c in new_field_info (tree=0x7c1a98, hfinfo=0x865b6344, tvb=0xa65100, start=8, item_length=2) at proto.c:3491
#1  0x846303dc in alloc_field_info (tree=0x7c1a98, hfindex=30607, tvb=0xa65100, start=8, length=0xbeb703b0) at proto.c:3519
#2  0x8462fcdc in proto_tree_add_pi (tree=0x7c1a98, hfindex=30607, tvb=0xa65100, start=8, length=0xbeb703b0, pfi=0xbeb70398) at proto.c:3328
</code></pre>

<p>The relevant code is:</p>

<pre><code>static field_info *
new_field_info(proto_tree *tree, header_field_info *hfinfo, tvbuff_t *tvb,
         const gint start, const gint item_length)
{
  field_info    *fi;

  FIELD_INFO_NEW(fi);

  if(fi == NULL)
    throwDissectorException(""proto.c"", 3483, ""fi==NULL"");

  fi-&gt;hfinfo = hfinfo;  // THIS IS LINE 3491  &lt;----- SEGFAULT
  fi-&gt;start = start;
  fi-&gt;start+=(tvb)?TVB_RAW_OFFSET(tvb):0;
  fi-&gt;length = item_length;
  fi-&gt;tree_type = -1;
  fi-&gt;flags = 0;

  ...

  return fi;
}
</code></pre>

<p>I verify that fi is not NULL, as shown, throwing an Exception which is caught by my Java application.  I never see an Exception thrown (which I have tested).  So, fi is guaranteed to be non-NULL.</p>

<p>If that is the case, then how can this segfault?</p>

<hr>

<p>EDIT:  FIELD_INFO_NEW() is in fact a macro.  This is code that belongs to Wireshark that I am trying to debug, since it keeps crashing my application.</p>

<pre><code>#define FIELD_INFO_NEW(fi)          \
  SLAB_ALLOC(fi, field_info)

/* we never free any memory we have allocated, when it is returned to us
   we just store it in the free list until (hopefully) it gets used again
*/
#define SLAB_ALLOC(item, type)          \
  if(!type ## _free_list){        \
    int i;            \
    union type ## slab_item *tmp;     \
    tmp=g_malloc(NITEMS_PER_SLAB*sizeof(*tmp)); \
    for(i=0;i&lt;NITEMS_PER_SLAB;i++){     \
      tmp[i].next_free = type ## _free_list;  \
      type ## _free_list = &amp;tmp[i];   \
    }           \
  }             \
  item = &amp;(type ## _free_list-&gt;slab_item);    \
  type ## _free_list = type ## _free_list-&gt;next_free;
</code></pre>

<p>I don't think I should be checking if fi->hfinfo is valid, right?  Because, I think from this code SLAB_ALLOC will allocate (or pull in already existing memory) the proper size for fi.  Because, hfinfo is a pointer.  Therefore, I'm just trying to give that pointer a value, and that assignment is causing the crash:</p>

<pre><code>/** Contains the field information for the proto_item. */ 
typedef struct field_info { 
  header_field_info *hfinfo;          /**&lt; pointer to registered field information */ 
  gint         start;           /**&lt; current start of data in field_info.ds_tvb */ 
  gint         length;          /**&lt; current data length of item in field_info.ds_tvb */ 
  gint         appendix_start;  /**&lt; start of appendix data */ 
  gint         appendix_length; /**&lt; length of appendix data */ 
  gint         tree_type;       /**&lt; one of ETT_ or -1 */ 
  item_label_t    *rep;             /**&lt; string for GUI tree */ 
  guint32        flags;           /**&lt; bitfield like FI_GENERATED, ... */ 
  tvbuff_t      *ds_tvb;          /**&lt; data source tvbuff */ 
  fvalue_t       value; 
} field_info; 
</code></pre>
","149392","","<p>Just because it's not null doesn't mean that you can safely access it or write to it. It could be pointing to freed memory, read-only memory or memory that just doesn't belong to you. Either of those could cause a segmentation fault.</p>
"
"<p>I'm an F# beginner. I ran this code:</p>

<pre><code>let printMsg() =
    let msg = ""Important""
    printfn ""%s"" msg
    let innerMsgChange() =
        let msg = ""Very Important""
        printfn ""%s"" msg
    printfn ""%s"" msg
    innerMsgChange()
    printfn ""%s"" msg

printMsg()
</code></pre>

<p>I expected that text output would be in this sequence:</p>

<blockquote>
  <p>Important, Very Important, Important, Important</p>
</blockquote>

<p>or this</p>

<blockquote>
  <p>Important, Very Important, Very Important, Important</p>
</blockquote>

<p>but I got this</p>

<blockquote>
  <p>Important, Important, Very Important, Important</p>
</blockquote>

<p>it seems that these functions don't comply with code execution order. Why is that, am I missing something?</p>
","149392","","<p>First of all its important to point out that <code>innerMsgChange</code> does not do what its name promises: It creates a new variable called <code>msg</code> (which is entirely unrelated to the outer variable which is also called <code>msg</code>) with the value ""Very Important"" and then prints it. So in essence it prints the string ""Very Important"" and that's it.</p>

<p>So which order is the code executed in? Simple:</p>

<ol>
<li>The variable <code>msg</code> is set to ""Important""</li>
<li>That variable is printed.</li>
<li>The <code>innerMsgChange</code> function is defined, but not called (that isn't a step that's actually executed as such, so basically nothing happens on this line(s))</li>
<li>The variable <code>msg</code> is printed again</li>
<li><p><code>innerMsgChange()</code> is called</p>

<p>5.1. The inner variable <code>msg</code> is set to ""Very Important"". Let's refer to it as <code>innerMsg</code> to disamiguate.</p>

<p>5.2. <code>innerMsg</code> is printed.</p></li>
<li><p><code>msg</code> (which still has the value ""Important"" because it's entirely unrelated to <code>innerMsg</code>) is printed again.</p></li>
</ol>
"
"<p>Given the following function, I receive a parse error from GHC.</p>

<pre><code>has_empty_string :: [String] -&gt; Bool
has_empty_string col =
  not foldl (\acc now -&gt; if and [acc == True, now == """"] then False else True) True col
</code></pre>

<p>I've checked a variety of tutorials and I don't see the error. </p>

<p>What is more confusing is that GHC takes it, when I prepend <code>let</code> to the definition. </p>

<hr>

<p>Rewritten to use any_null.</p>

<p>I have a suspicion that the error is actually elsewhere...</p>

<pre><code>module Main where
import System.Cmd
import System.Directory
import System.Environment
import System.IO
import System.Process
import Text.Regex.Posix
import Data.CSV.Enumerator
import Data.Spreadsheet

import Data.Char (isSpace)

--------------------------------------------------
slurp :: String -&gt; IO String
slurp path = do
  withFile path ReadMode (\handle -&gt; do
                             contents &lt;- hGetContents handle
                             last contents `seq` return contents )

--------------------------------------------------
has_empty_string :: [String] -&gt; Bool
has_empty_string col =
  any null

main :: IO ()
main = do
  [filename] &lt;- getArgs
  raw_data &lt;- slurp filename
  let csv_data = fromString '""' ',' raw_data
  -- checking to see if the 5th column is an empty string
  content_hashes = get_hashrow csv_data
                   where get_hashrow = map (\row -&gt; row !! 5) csv_data
  is_good_csv = has_empty_hash content_hashes
  putStrLn $ show csv_data
</code></pre>
","149392","","<p>When I try to compile your code with <code>ghc</code> I get a type error, not a parse error. That error is because you're trying to call <code>not</code> with <code>foldl</code> as its first argument and <code>(\ acc now -&gt; ...)</code> as the second argument. You need to add a <code>$</code> after <code>not</code> or wrap the call to <code>foldl</code> in parentheses.</p>

<p><s>You probably got the parser error you mentioned in ghci. In ghci you're not allowed to write definitions the way you would in a file. You're only allowed to enter expressions (which will then be evaluated and the result printed - or executed if it's an IO action) or anything you could write inside an IO <code>do</code> block (i.e. <code>foo &lt;- bar</code> and <code>let foo = bar</code>).</p>

<p>So in ghci you can define variables and functions only by using <code>let</code> and you can't define types at all.</s></p>

<p>The parse error you get is actually caused by <code>main</code> where you try to define local variables without <code>let</code>. Just add ´let<code>before</code>content_hashes = ...<code>and</code>is_good_csv = ...` and the parse error will disappear.</p>
"
"<pre><code>puts [1,2,3].map do |x| 
  x + 1 
end.inspect
</code></pre>

<p>With ruby 1.9.2 this returns</p>

<pre><code>&lt;Enumerator:0x0000010086be50&gt;
</code></pre>

<p>ruby 1.8.7:</p>

<pre><code># 1
# 2
# 3
</code></pre>

<p>assigning a variable...</p>

<pre><code>x = [1,2,3].map do |x| 
  x + 1 
end.inspect

puts x
</code></pre>

<p>[2, 3, 4]</p>

<p>Moustache blocks work as expected:</p>

<pre><code>puts [1,2,3].map { |x| x + 1 }.inspect
</code></pre>

<p>[2, 3, 4]</p>
","149392","","<pre><code>puts [1,2,3].map do |x| 
  x + 1 
end.inspect
</code></pre>

<p>Is parsed as:</p>

<pre><code>puts([1,2,3].map) do |x| 
  x + 1 
end.inspect
</code></pre>

<p>I.e. <code>map</code> is called without a block (which will make it return the unchanged array in 1.8 and an enumerator in 1.9) and the block is passed to puts (which will just ignore it).</p>

<p>The reason that it works with <code>{}</code> instead of <code>do end</code> is that <code>{}</code> has different precedence so it's parsed as:</p>

<pre><code>puts([1,2,3].map { |x| x + 1 }.inspect)
</code></pre>

<p>Similarly the version using a variable works because in that case there is simply no ambiguity.</p>
"
"<p>How are ruby arrays internally implemented (mainly in CRuby, but any other info is welcomed)?</p>

<p>Are they growable arrays like a c++ vector or are they list based? What's the complexity of shift/unshift and accessing an element by index?</p>
","149392","","<p>They're growable arrays which ""grow at the end"".</p>

<p><code>shift</code> is <code>O(1)</code>, <code>unshift</code> is <code>O(n)</code> and accessing by index is <code>O(1)</code>. To the best of my knowledge this holds true for all ruby implementations, but it definitely does in MRI.</p>
"
"<p>I have some problems in understanding how this function works, 
in particular I' don't understand the control flow of itregarding the last line.
Can someone explain me the steps it does, maybe with a pseudocode?    </p>

<pre><code>    let traduit_pair a b =
            let a = traduit mark a in let b = traduit mark b in (a, b) in
    let (teq1, teq2, lneq) =
            let rec f l1 l2 l3 =
            (function
                 | [] -&gt; ((Uplet l1), (Uplet l2), l3)
                 | EqualIF (a, b) :: fin -&gt;
                     let (a, b) = traduit_pair a b
                     in f (a :: l1) (b :: l2) l3 fin
                 | NotEqualIF (a, b) :: fin -&gt;
                         let (a, b) = traduit_pair a b
                     in f l1 l2 ((a, b) :: l3) fin)
            in f [] [] [] (List.rev condlst)
</code></pre>
","149392","","<p>The general flow of your code is like this:</p>

<p>First the function <code>traduit_pair</code> is defined. It takes two arguments <code>a</code> and <code>b</code> and returns a pair containing the result of applying <code>traduit mark</code> to each of them.</p>

<p>Then the variables <code>teq1</code>, <code>teq2</code> and <code>lneq</code> are defined to each contain one element of the triple returned by <code>f [] [] [] (List.rev condlst)</code>, where <code>f</code> is defined as follows:</p>

<p>First of all let's look at why <code>f</code> can be called with four arguments when its definition only names three arguments: As you probably know ML allows curried function definitions and the definition <code>let f x y = blabla</code> is really just a shortcut for <code>let f = fun x =&gt; fun y =&gt; blabla</code>.</p>

<p>So when we talk about a function taking two arguments, we're really talking about a function taking one argument and returning another function which takes another argument. Likewise a function which takes three arguments and then returns another function taking another argument, is the same thing as a function taking four arguments.</p>

<p>The <code>function</code> keyword which is used in the definition of <code>f</code> is a syntactic shortcut to create a function taking an argument and pattern matching on it. That is to say <code>function | p1 -&gt; e1 | p2 -&gt; e2</code> is a shortcut for <code>fun x =&gt; case x of | p1 -&gt; e1 | p2 -&gt; e2</code>. So <code>let rec f l1 l2 l3 = function | p1 -&gt; e1 | p2 -&gt; e2</code> is the same as <code>let rec f l1 l2 l3 = fun l4 =&gt; case l4 of | p1 -&gt; e1 | p2 -&gt; e2</code>, which is the same as <code>let rec f l1 l2 l3 l4 = case l4 of | p1 -&gt; e1 | p2 -&gt; e2</code>, which is easily identifiable as a function taking four arguments.</p>
"
"<p>I am currently on Lesson 9 in ""Learn Ruby the hard way"".</p>

<p>I have typed the the line number 6 exactly as the way its being instructed but still I am getting error while executing.</p>

<p>It says:</p>

<pre><code>Syntax error, unexpected tCONSTANT, expecting $end
</code></pre>



<pre><code>puts "" Here ^ are the days : "", days 
</code></pre>
","149392","","<p>The error message means that the ruby parser encountered a constant (i.e. an identifier starting with a capital letter) where it did not expect one (specifically the parser expected the file to end at that point).</p>

<p>Since the code you've shown does not even contain a constant, the problem is likely caused by another part of your code.</p>
"
"<p>I'd like to create a Scheme function that yields true if it is passed a list that is composed entirely of identical elements. Such a list would be '(1 1 1 1). It would yield false with something like '(1 2 1 1).</p>

<p>This is what I have so far:</p>

<pre><code>    (define (list-equal? lst)
      (define tmp (car lst))
      (for-each (lambda (x) 
                   (equal? x tmp))
                 lst)
      )
</code></pre>

<p>Clearly this is incorrect, and I'm new to this. I guess I'm unable to express the step where I'm supposed to return <code>#t</code> or <code>#f</code>.</p>

<p>Thanks in advance!</p>

<p>EDIT: 
I fiddled a bit and found a solution that seems to work very well, and with a minimal amount of code:</p>

<pre><code>(define (list-equal? lst)
 (andmap (lambda (x) 
        (equal? x (car lst)))
      lst))
</code></pre>

<p>Thanks again for the help everyone.</p>
","149392","","<p>In R6RS there's the <code>for-all</code> function, which takes a predicate and a list, and returns <code>#t</code> if the predicate returns true for all elements in the list and <code>#f</code> otherwise, which is exactly what you need here.</p>

<p>So if you're using R6RS (or any other scheme dialect that has the <code>for-all</code> function), you can just replace <code>for-each</code> with <code>for-all</code> in your code and it will work.</p>
"
"<p>Suppose </p>

<pre><code>S(n) = Big-Oh(f(n)) &amp; T(n) = Big-Oh(f(n)) 
</code></pre>

<p>both <code>f(n)</code> identically belongs from the same class. </p>

<p>My ques is: Why <code>S(n)/T(n) = Big-Oh(1)</code> is incorrect?</p>
","149392","","<p>Here's one counter example:</p>

<p>Let's say <code>f(n) = n^2</code>, <code>S(n) = n^2</code> and <code>T(n) = n</code>. Now both S and T are in <code>O(f(n))</code> (you have to remember that <code>O(n^2)</code> is a superset of <code>O(n)</code>, so everything that's in <code>O(n)</code> is also in <code>O(n^2)</code>), but <code>U(n) = S(n)/T(n) = n^2/n = n</code> is definitely not in <code>O(1)</code>.</p>
"
"<p>I am reading <a href=""http://cs.union.edu/~striegnk/learn-prolog-now/html/node3.html#subsec.l1.kb1"" rel=""nofollow"">http://cs.union.edu/~striegnk/learn-prolog-now/html/node3.html#subsec.l1.kb1</a>
but I am having trouble running the following predicate:</p>

<pre><code>SICStus 4.0.1 (x86-win32-nt-4): Tue May 15 21:17:49 WEST 2007
| ?- woman(mia).
! Existence error in user:woman/1
! procedure user:woman/1 does not exist
! goal:  user:woman(mia)
| ?- 
</code></pre>

<p>If in the other hand, I write it to a file and run consult the file, it seems to work fine. Am I only allowed to define predicates in a file having later to consult them? Can't I just do it in the editor itself?</p>
","149392","","<p>You should enter <code>woman(mia).</code> into a file to assert it as a fact. If you write it into the interpreter, it's taken as a query, not a fact.</p>

<p>From the <a href=""http://www.swi-prolog.org/FAQ/ToplevelMode.txt"" rel=""nofollow"">SWI Prolog FAQ</a>:</p>

<blockquote>
  <p>Terms that you enter at the toplevel are processes as queries, while
  terms that appear in a file that is loaded into Prolog is processed as
  a set of rules and facts. If a text reads as below, this is a rule.</p>

<pre><code>carnivore(X) :- animal(X), eats_meat(X).
</code></pre>
  
  <p>Trying to enter this at the toplevel results in the error below. Why?
  Because a rule is a term :-(Head, Body), and because the toplevel
  interprets terms as queries. There is no predicate with the name :-
  and two arguments.</p>

<pre><code>?- carnivore(X) :- animal(X), eats_meat(X). ERROR: Undefined
procedure: (:-)/2 ERROR:   Rules must be loaded from a file ERROR:  
See FAQ at http://www.swi-prolog.org/FAQ/ToplevelMode.txt
</code></pre>
  
  <p>Isn't this stupid? Well, no. Suppose we have a term
  eats_meat(rataplan). If this appears in a file, it states the fact
  that rataplan eats meat. If it appears at the toplevel, it asks Prolog
  to try proving whether rataplan eats meat.</p>
  
  <p>If a text reads</p>

<pre><code>:- use_module(library(clpfd)).
</code></pre>
  
  <p>This is a directive. Directives are similar to queries, but instead of
  asking the toplevel to do something, they ask the compiler to do
  something. Like rules and facts, such terms belong in files.</p>
</blockquote>

<p>Instead of writing to a file you can also use <code>assert</code> in the toplevel (as explained later in the FAQ as well).</p>
"
"<p>Can anyone provide an example showing the addition of two arrays in Haskell please?</p>

<p>I'm fairly new to Haskell, and I generally find that I can learn quicker by taking something simple that I understand in one language and seeing how another programmer might do it in their language.</p>

<p>It would be great to see some code that creates two arrays of floats and calls a function which results in an array with the summed values. Something equivalent to the following C code.</p>

<pre><code>void addTwoArrays(float *a, float *b, float *c, int len) {
    int idx=0;
    while (idx &lt; len) {
        c[idx] = a[idx] + b[idx];
    }
}

int N = 4;
float *a = (float*)malloc(N * sizeof(float));
float *b = (float*)malloc(N * sizeof(float));
float *c = (float*)malloc(N * sizeof(float));

a[0]=0.0; a[1]=0.1; a[2]=0.2; a[3]=0.4;
b[0]=0.0; b[1]=0.1; b[2]=0.2; b[3]=0.4;
addTwoArrays(a,b,c,N);
</code></pre>

<p>Seeing Haskell code that achieved the same result would help my understanding a lot.  I guess the haskell version would create the result array and return it, like c = addTwoArrays(a,b,N)?</p>

<p>Thanks.</p>
","149392","","<p>For simplicity's sake I'm going to use (linked) lists instead of arrays, as they can be more easily created using list literals.</p>

<pre><code>a = [0, 0.1, 0.2, 0.4]
b = [0, 0.1, 0.2, 0.4]
c = zipWith (+) a b
</code></pre>

<p><code>zipWith</code> is a function which takes another function and two lists and then creates a new list by applying the given function to each pair of elements of the lists at the same index. So here the function we give to <code>zipWith</code> is <code>+</code> and thus it adds the elements of the two lists.</p>

<p>If we wanted to do this without using <code>zipWith</code> we could define <code>addTwoLists</code> like this:</p>

<pre><code>addTwoLists [] _ = []
addTwoLists _ [] = []
addTwoLists (x:xs) (y:ys) = (x+y) : (addTwoLists xs ys)
</code></pre>

<p>The logic here is that when one of the lists is empty, addTwoLists will return an empty list. Otherwise it will return the sum of the heads of the two lists (i.e. <code>a+b</code>) prepended to the result of adding together their tails.</p>
"
"<p><code>numberp</code> is a predicate in Lisp, and <code>(numberp 1)</code> returns T as expected. But if I only type <code>numberp</code> in the console, it prompts that the variable name is undefined.</p>

<p>What's the difference between these 2?</p>
","149392","","<p>Functions and variables live in different namespaces in Common Lisp.</p>

<p>So when you use a name in a position where a function is expected (i.e. at the head of a list that is being evaluated), it looks for a function (or macro) with that name. If you use the same name at a position where a variable is expected, it looks for a variable with that name.</p>

<p>In your case there is a function named numberp, but not variable named numberp, so the second case causes an error.</p>
"
"<p>I am using Intype: </p>

<p>I have a problem with this:</p>

<pre><code>def convert_html_entities(text)
    text = text.gsub(/[""]/, '&amp;quot;')   
end 
</code></pre>

<p>The Intype colors it all green because there is missing a ""</p>

<p>I have tried this solution it removed all the green text and the code appeared normal:</p>

<pre><code>def convert_html_entities(text)
    text = text.gsub(/['""']/, '&amp;quot;') 
end 
</code></pre>

<p>But it just gave an error in view:</p>

<pre><code>undefined method `convert_html_entities' for #&lt;XmlController:0x448cef0&gt;

Rails.root: C:/Rails/kimnew
Application Trace | Framework Trace | Full Trace

lib/update_xml.rb:21:in `block in update_xml'
lib/update_xml.rb:19:in `update_xml'
app/controllers/xml_controller.rb:21:in `test'
</code></pre>
","149392","","<p>Apparently you did not define <code>convert_html_entities</code> as an instance method of XmlController, so you can't use it as one.</p>

<p>Another problem with your code is that reassigning a method parameter, doesn't have any effect on the outside. So <code>text = text.gsub(/['""']/, '&amp;quot;')</code> is the same as <code>text.gsub(/['""']/, '&amp;quot;')</code>. If you want to mutate your argument, you need to use <code>gsub!</code>. That being said: Don't mutate method arguments. That's bad style.</p>
"
"<p>So here I have the following on GHCI</p>

<pre><code>&gt;let addlist [] [] = []
&gt;let addlist (a:as) (b:bs) = (a+b) : addlist as bs
&gt;let x = [1..5]
&gt;let y = [6..10]
&gt;addlist x y
</code></pre>

<p>The last line gives me: 
   [7,9,11,13,15*** Exception: :1:5-49: Non-exhaustive patterns in function addlist</p>

<p>I am merely trying to add two list together into one list...:(</p>

<p>What did I do wrong?</p>

<p>Thanks</p>
","149392","","<p>If you want to define a function using pattern matching inside a <code>let</code>, you can't use one let per pattern as you did - that will simply define two independent functions (the second one shadowing the first).</p>

<p>You need to use a single let and separate the patterns using linebreaks or, in ghci where you can't use linebreaks, semicolons. So:</p>

<pre><code>let addlist [] [] = []; addlist (a:as) (b:bs) = (a+b) : addlist as bs
</code></pre>
"
"<p>Here's the type error I am getting, followed by the code in question. This may be due to an incorrect use of function composition, if so I'd like an explanation as to how I can fix that. If it's something else, I'd like to talk about that too.</p>

<pre><code>frameworkDaemon.lhs:125:5:
Couldn't match expected type `IO ()' with actual type `a0 -&gt; c0'
In the expression: popJobState . popProcessConfig . readJobFile
In an equation for `makeJobState':
    makeJobState world
      = popJobState . popProcessConfig . readJobFile
      where
          readJobFile
            = do { let ...;
                   .... }
            where
                getFileContents (x : xs) = readFile (ixiaRoot ++ ""/"" ++ (show x))
          popProcessConfig = undefined
          popJobState = undefined
</code></pre>

<p>Failed, modules loaded: none.</p>

<pre><code> makeJobState :: JobState -&gt; IO ()
 makeJobState world =
   popJobState . popProcessConfig . readJobFile -- f .g . h -&gt; f(g(h))
      where readJobFile = do
               let directoryPath = ixiaRoot ++ ""/jobs""
                   processedPath = map (directoryPath &lt;/&gt;) . filter (`notElem` [""."",""..""])
               jobFileNames &lt;- processedPath &lt;$&gt; getDirectoryContents directoryPath
               let numStrings = map (last . splitOn ""/"") jobFileNames
                   sortJobNumbers = map read numStrings :: [Int]
               getFileContents $ sort $ sortJobNumbers
                       where getFileContents (x:xs) = readFile (ixiaRoot ++ ""/"" ++ (show x))

            popProcessConfig = undefined
            popJobState =  undefined
</code></pre>
","149392","","<pre><code>-- f .g . h -&gt; f(g(h))
</code></pre>

<p><code>f . g . h</code> is <strong>not</strong> equivalent to <code>f(g(h))</code>, it's equivalent to <code>\x -&gt; f(g(h x))</code>, so <code>h</code> needs to be a function, but <code>readJobFile</code> (which is the <code>h</code> in your example) is an <code>IO ()</code>. That's why the error message complains about expecting a function where you gave it an <code>IO ()</code>.</p>
"
"<p>I have a nested hash table.</p>

<p>If i write </p>

<pre><code> json.each{|key, value|
    puts value;
    puts;
    puts value[x];
    puts;
    puts value[x][0];
 }
</code></pre>

<p>I get a result along the lines of</p>

<p>Title1<br/>
name1<br/>
Title2<br/>
name2</p>

<p>Title1<br/>
name1</p>

<p>Title1</p>

<p>What I would like is be able to do something along the lines of </p>

<pre><code>value[value.size][0] = Title3;
value[value.size][1] = name3;
</code></pre>

<p>so that this appends to the end of the values a new set however 
what i just did throws undefined method '[]=' so I was wondering
if anyone could help me to append values either this way or some other way
so that i can increase the amount of values associated to the same key whilst
maintaining the order in which they are associated with it. 
(Important for when I am logging the json values)</p>
","149392","","<p>Since <code>value[value.size]</code> evaluated to nil, <code>value[value.size][0] = Title3</code> evaluates to <code>nil[0] = Title3</code>, which is why you get the error you do. What you want to do instead is to append an array containing Title3 and name3 to value, so:</p>

<pre><code>value[value.size] = [Title3, name3]
</code></pre>

<p>Or better use the method <code>push</code> instead of <code>value[value.size] =</code>:</p>

<pre><code>value.push([Title3, name3])
</code></pre>
"
"<p>In an attempt to learn Haskell, I have come across a situation in which I wish to do a fold over a list but my accumulator is a Maybe. The function I'm folding with however takes in the ""extracted"" value in the Maybe and if one fails they all fail. I have a solution I find kludgy, but knowing as little Haskell as I do, I believe there should be a better way. Say we have the following toy problem: we want to sum a list, but fours for some reason are bad, so if we attempt to sum in a four at any time we want to return Nothing. My current solution is as follows:</p>

<pre><code>import Maybe

explodingFourSum :: [Int] -&gt; Maybe Int
explodingFourSum numberList =
    foldl explodingFourMonAdd (Just 0) numberList
    where explodingFourMonAdd =
        (\x y -&gt; if isNothing x
                    then Nothing
                    else explodingFourAdd (fromJust x) y)

explodingFourAdd :: Int -&gt; Int -&gt; Maybe Int
explodingFourAdd _ 4 = Nothing
explodingFourAdd x y = Just(x + y)
</code></pre>

<p>So basically, is there a way to clean up, or eliminate, the lambda in the <code>explodingFourMonAdd</code> using some kind of Monad fold? Or somehow currying in the >>=
operator so that the fold behaves like a list of functions chained by >>=?</p>
","149392","","<blockquote>
  <p>So basically, is there a way to clean up, or eliminate, the lambda in the explodingFourMonAdd using some kind of Monad fold?</p>
</blockquote>

<p>Yapp. In Control.Monad there's the <code>foldM</code> function, which is exactly what you want here. So you can replace your call to <code>foldl</code> with <code>foldM explodingFourAdd 0 numberList</code>.</p>
"
"<p>Hia! I was wondering about an interesting thing recently. Say I have this snippet:</p>

<pre><code>params['path'].split('/').delete_at(-1).each do |dir|
   # some work
</code></pre>

<p>where </p>

<pre><code>params['path'] = 'lorem/ipsum/dir/file.ext' #for instance
</code></pre>

<p>What I actually want to do is to iterate over all members of the ad hoc array except the last one. The snippet obviously doesn't work, because <code>delete_at</code> returns the deleted element.</p>

<p>Is there any way to slice array with ""inline"" syntax? Or am I terribly missing something? Do you know some other tricks to make similar method chaining easier?</p>
","149392","","<p>Just use <code>Array#[]</code> with a range:</p>

<pre><code>params['path'].split('/')[0..-2].each
</code></pre>
"
"<p>Is it possible to change the class of a Ruby object once it has been instantiated, something like:</p>

<pre><code>class A
end

class B
end

a = A.new
a.class = B
</code></pre>

<p>or similar.</p>

<p>(the above code does not run as class is a read only variable)</p>

<p>I know this is not advisable, a bit strange, and not something I plan on doing, but is it possible?</p>
","149392","","<p>No, this is not possible from within ruby.</p>

<p>It is theoretically possible from within a C extension by changing the <code>klass</code> pointer of the given object, but it should be noted that this will be completely implementation-specific, will not work for immediate types (i.e. you definitely can't change the class of e.g. a fixnum), and might blow up in various ways.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/533008/what-is-the-difference-or-value-of-these-block-coding-styles-in-ruby"">What is the difference or value of these block coding styles in Ruby?</a>  </p>
</blockquote>



<pre><code># This works

method :argument do
  other_method
end

# This does not

method :argument {
  other_method
}
</code></pre>

<p><strong>Why?</strong></p>

<p>It seems like the interpreter is confused and thinks that the { ... } is a hash.</p>

<p>I always get angry when an interpreter can't understand a code that is actually valid. It resembles PHP that had many problems of this kind.</p>
","149392","","<p>It doesn't think it's a hash - it's a precedence issue. <code>{}</code> binds tighter than <code>do end</code>, so <code>method :argument { other_method }</code> is parsed as <code>method(:argument {other_method})</code>, which is not syntactically valid (but it would be if instead of a symbol the argument would be another method call).</p>

<p>If you add parentheses (<code>method(:argument) { other_method }</code>), it will work fine.</p>

<p>And no, the code is not actually valid. If it were, it would work.</p>
"
"<p>How is it that this works? When the following is run <code>""hi from class""</code> is printed twice. What is going on inside ruby to make this behave like this? Am I NOT in fact making an instance method for class</p>

<pre><code>class Class
  def foo
    puts ""hi from class"" 
  end
end

Class.foo
x = Class.new
x.foo
</code></pre>
","149392","","<p>I don't know whether you're aware of that, but when you do <code>class Class ... end</code>, you're not creating a new class named <code>Class</code>, you're reopening the existing class <code>Class</code>.</p>

<p>Since <code>Class</code> is the class that all classes are instances of that means that <code>Class</code> is an instance of itself. And because of that you can call any instance methods of <code>Class</code> directly on <code>Class</code> the same way you can on any other class.</p>
"
"<p><strong>Please ignore the ruby meaning of 'self' in my question.</strong> I mean it in the standard English way.</p>

<p>I've got a model called subscription and I have added a definition called subscribed.</p>

<p>I want to do something like:</p>

<pre><code>  def subscribed
    @subscription = Subscription.where(:thread_id =&gt; this.thread_id, :user_id =&gt; this.user_id)
  end
</code></pre>

<p>where <code>this</code> refers to the current instance, not some global class.</p>

<p>How do I do this?</p>
","149392","","<p>If you use <code>self</code> in the places where you wrote <code>this</code> (or just leave it out altogether), it <strong>will</strong> refer to the current instance and not ""some global class"".</p>
"
"<p>If there are two different datatypes but they got a similar function:</p>

<pre><code>type model = String
type priceOfC = Int
data Car = Cars model priceOfC

ComparePricesCar :: Car -&gt; Car -&gt; Int
.... (some codes here to compare prices between two cars)

type color = String
type priceOfB = Int
data Bike = Bikes color priceOfB

ComparePricesBike :: Bike -&gt; Bike -&gt; Int
.... (some codes here to compare prices between two bikes)
</code></pre>

<p>The problem I got is to implement a type class ""Traffic"" and let Car and Bike become instances of Traffic. And  all the instances will implement a function called ""comparePrice"". </p>

<p>I've tried:</p>

<pre><code>class Traffic a where
comparePrice :: a -&gt; a -&gt; Int

instance Traffic Car where
comparePrice (Cars a b)(Cars c d) = ComparePricesCar (Cars a b)(Cars c d)

instance Traffic Bike where
comparePrice (Bikes a b)(Bikes c d) = ComparePricesBike (Bikes a b)(Bikes c d)
</code></pre>

<p>It seems not working with error msg that I've declared comparePrice multiple times. How to makes codes working as the problem description? Any help, thx!</p>
","149392","","<p>You need to indent the body of the class and instance definitions. Otherwise it thinks that the body is empty and the definition of comparePrice is meant to be independent of the Traffic class.</p>
"
"<p>I'm looking for a way to do while-loops or for-loops in Miranda. </p>

<p>I'm trying to do something like</p>

<pre><code>while(blablanotfinished)
{
if(a=true)blabla
else blabla
}
</code></pre>
","149392","","<p>Miranda doesn't have while- or for-loops (which wouldn't make much sense without mutable state anyway). In most cases you can use higher order functions instead. In cases where there is no higher-order function which does what you need, you can use recursion.</p>

<p>For example if you have the following while-loop in an imperative language:</p>

<pre><code>f(start) {
    x = start
    while( !finished(x) ) {
        x = next(x)  
    }
    return x
}
</code></pre>

<p>You would express it recursively in Miranda like this:</p>

<pre><code>f x = if finished x then x else f (next x)
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/1434937/namespace-functions-versus-static-methods-on-a-class"">Namespace + functions versus static methods on a class</a>  </p>
</blockquote>



<p>I want to group similar functions togther.  I can do it one of two ways.  To me they are just syntactical differences...in the end it does not matter.  Is this view accurate?</p>

<p>Namespace:</p>

<pre><code>namespace util
  {
  void print_array(int array[])
    {
    int count = sizeof( array ) / sizeof( array[0] );
    for (int i = 0; i &lt;= count; i++) cout &lt;&lt; array[i];
    }
  }
</code></pre>

<p>Class:  </p>

<pre><code>class Util
  {
  public:
    static void print_array(int array[])
      {
      int count = sizeof(array);
      for (int i = 0; i &lt;= count; i++) cout &lt;&lt; array[i];
      }
  };
</code></pre>

<p>Call with </p>

<pre><code>Util::print_array()  // Class
</code></pre>

<p>or </p>

<pre><code>util::print_array()  // Namespace
</code></pre>
","149392","","<p>There are some differences in that the second way allows you to do a couple of (nonsensical) things that the first way does not:</p>

<ul>
<li>Using the second way you can create instances of Util using either <code>Util foo;</code> or <code>Util* foo = new Util();</code>.</li>
<li>You can also use <code>Util</code> as a type parameter for templates (or anywhere else where typenames are allowed). So you could e.g. create a <code>vector&lt;Util&gt;</code>.</li>
<li>You can also calculate the size of Util instances using <code>sizeof(Util)</code>.</li>
</ul>

<p>Since there's no reason you'd want to be able to do either of those things, you should use the first way. Generally you should almost always rethink using a class when there are no circumstances under which you'd want to instantiate it.</p>

<p>On an unrelated note: In your code <code>sizeof(array)</code> is equivalent to <code>sizeof(int*)</code> and almost certainly doesn't do what you think it does (i.e. it does <strong>not</strong> tell you how many elements are in the array).</p>
"
"<p>I am trying to write the following list comprehension in Haskell and it doesn't typecheck. I am new at this and can't really figure out why.</p>

<pre><code>something :: Int -&gt; [Int]
something n = [[ 2 * x + 1 | x &lt;- xs]|xs &lt;- [3..n],i &lt;- [1..],j &lt;-[1..] ,xs == i+j+2*i*j,i&lt;=j,i&gt;=1]
</code></pre>

<p>This is what I see:</p>

<pre><code>Couldn't match expected type `Int' with actual type `[t0]'
    In the expression: [2 * x + 1 | x &lt;- xs]
</code></pre>

<p>NB: There could be a lot more wrong with this piece of code.</p>

<p>Here's what I am really trying to learn to do. From a list of all naturals from 3 to n(which is the Int input to the function), I want to extract just the subset of numbers which can be written as i+j+2*i*j where i, j are integers and the i&lt;=j and i>=1. To this subset list , I want to apply the function 2*x+1 to each element x and output a final list.<br>
Hope that makes sense.</p>
","149392","","<p>First of all you have a nested list comprehension, so you're creating a list of lists, so the return type should be <code>[[Int]]</code> (list of lists of ints) and not <code>[Int]</code> (list of ints).</p>

<p>Second of all <code>xs</code> is a number (because you take it out of a list of numbers), but its name suggests that it's a list and when you do <code>x &lt;- xs</code> you're actually treating it as if it was a list.</p>

<p>In response to your edit: I don't really see why you thought you needed nested list comprehensions for this. If we just remove the nesting from your code, we get something that is pretty close to working (I've also renamed <code>xs</code> to <code>x</code> because calling a number <code>xs</code> is just confusing - I've also removed the condition that <code>i</code> is at least 1 because that's already a given since you take <code>i</code> from the list <code>[1..]</code>):</p>

<pre><code>[ 2 * x + 1 | x &lt;- [3..n], i &lt;- [1..],j &lt;-[1..] ,x == i+j+2*i*j,i&lt;=j]
</code></pre>

<p>Now this compiles, but it will loop forever. Why does it loop forever? Because you take i and j from infinite lists. This means it will start with x=3, i=1, j=1 and then try all values for j from 1 to infinity before it will try the next value of i (so in other words it will never try the next value of i).</p>

<p>So what we need to do is to give <code>i</code> and <code>j</code> upper bounds. An easy upper bound to pick is <code>x</code> (if <code>i</code> or <code>j</code> are greater than <code>x</code> (and neither is smaller than 1), <code>i+j+2*i*j</code> can't possibly be equal to <code>x</code>), so you get:</p>

<pre><code>[ 2 * x + 1 | x &lt;- [3..n], i &lt;- [1..x],j &lt;-[1..x], x == i+j+2*i*j, i&lt;=j]
</code></pre>

<p>This works, but it can still be simplified a bit by somewhat: If we take <code>j</code> from the list <code>[i..n]</code> instead of <code>[1..n]</code>, we guarantee that <code>j</code> is at least <code>i</code> and we don't need the condition <code>i&lt;=j</code> anymore, so we can write:</p>

<pre><code>[ 2 * x + 1 | x &lt;- [3..n], i &lt;- [1..x], j &lt;-[i..x], x == i+j+2*i*j]
</code></pre>

<p>PS: Doing it this way (iterating over all x and then iterating over all possible values of <code>i</code> and <code>j</code> for each <code>x</code>) is a bit inefficient, so you might reconsider your approach. On the other hand if all you need is something that works, this is fine.</p>
"
"<p>I'm working through ""Write yourself a scheme interpreter in 48 hours"" and one exercise is to write a function using do notation. This is the function:</p>

<pre><code>parseNumber :: Parser LispVal
parseNumber = liftM (Number . read) $ many1 digit
</code></pre>

<p>I tried the following, but that didn't work:</p>

<pre><code>parseNumber2 :: Parser LispVal
parseNumber2 = do digits &lt;- many1 digit
                  return $ liftM $  (Number . read) digits
</code></pre>

<p>Never mind. I indented the code incorrectly</p>
","149392","","<p>Once you've unpacked <code>digits</code>, you don't need the <code>liftM</code> anymore. So it's just:</p>

<pre><code>return $ Number $ read digits
</code></pre>
"
"<p>I have a string:</p>

<pre><code>s = ""&lt;aaa&gt;bbb&lt;/ccc&gt;""
</code></pre>

<p>I want to get aaa and bbb in ruby block for sub method.
If I call:</p>

<pre><code>s.sub(/&lt;([a-z]+)&gt;([\s\S]+)&lt;\/[a-z]+&gt;/,""first=\\1 second=\\2"")
</code></pre>

<p>everything works as I expect, so the output is ""first=aaa second=bbb"".
Then I call the same regexp with ruby-block, but it returns only the whole string but not \\1 and \\2 parts:</p>

<pre><code>s.sub(/&lt;([a-z]+)&gt;([\s\S]+)&lt;\/[a-z]+&gt;/) { |x,y| puts x; puts y; }
</code></pre>

<p>This case output is </p>

<pre><code>&lt;aaa&gt;bbb&lt;/ccc&gt;, nil. 
</code></pre>

<p>How can I get sentences in braces like \\1, \\2 in ruby-block for sub method?</p>
","149392","","<p>The string yielded by <code>sub</code> will always be the full match. To get at the captures, you can use <code>$1</code> and <code>$2</code> inside the block.</p>
"
"<p>Both snippets below product the same output.
I understand how Func encapsulates a method with a single parameter, and returns a bool value.  And you can either assign it a
method, anonymous method or a lambda expression.</p>

<pre><code>Func&lt;int, bool&gt; deleg = i =&gt; i &lt; 5;
Console.WriteLine(""deleg(4) = {0}"", deleg(4));
</code></pre>

<p>Below is using expression trees which I don't fully understand yet.  Why would I want to do it this way? Is it more flexible, what advantage does it give me?</p>

<pre><code>System.Linq.Expressions.Expression&lt;Func&lt;int, bool&gt;&gt; expr = i =&gt; i &lt; 5;
Func&lt;int, bool&gt; deleg2 = expr.Compile();
Console.WriteLine(""deleg2(4) = {0}"", deleg2(4));
</code></pre>
","149392","","<p>The point of expression trees is that you can do more with them than just compile them to a function. You can inspect them, modify them and compile them to something other than .net functions.</p>

<p>For example Linq2SQL compiles expression trees to SQL code. You couldn't do that with a plain .net function.</p>
"
"<p>I have the following function that iterates over a list <code>[(Map String SqlValue)]</code></p>

<pre><code>extractPatternStrings ∷ IO [(Map String SqlValue)] → IO [String] 
extractPatternStrings [] = do
    return []
extractPatternStrings lst = do
    (m:ms) ←  lst
    return $ (toString m) : (extractPatternStrings ms)
    where
        toString ∷  Map String SqlValue → String 
        toString m = (fromSql . fromJust . (Map.lookup ""word""))∷ String
</code></pre>

<p>Execpt the empty list case is telling me that it couldn't match the expected <code>IO [Map String SqlValue]</code> with actual <code>[t0]</code>.</p>

<p>I thought the <code>do = return</code> would have taken care of this. How should I correct this?</p>

<p>Edit: To answer why I am using IO:</p>

<p>The function is being called from <code>selectAll ↠ extractPatternStrings</code> where selectAll reads from a database. </p>
","149392","","<p>The <code>return</code> wraps your return value in <code>IO</code>, so that takes care of the return type <code>IO [String]</code>. However it doesn't help you with your argument type, which is <code>[(Map String SqlValue)]</code>, but which you're trying to pattern match against the empty list. Basically you can't pattern match against IO values.</p>

<p>So you should either get rid of the IOs (which do seem wholly unnecessary in your code) or if you really do want the function to take an IO (though I can't imagine why you would), you have to unwrap your argument before you can pattern match against it, which would look like this:</p>

<pre><code>extractPatternStrings lstIO = do
  lst &lt;- lstIO
  case lst of
    [] -&gt; ...
    (m:ms) -&gt; ...
</code></pre>
"
"<p>Using sml-mode in Emacs I have been able to send my buffer contents directly to an inferior SML process using <code>C-c C-b</code>. Now I want to do the same thing only with Haskell. Haskell-mode does not seem to support this, so I'm wondering: What is the right way to go about this with Emacs and Haskell? </p>

<p>While learning SML I've been using <code>C-c C-b</code> almost non-stop to easily evaluate my program as I go, instantly seeing the results of assigning values etc. But if I use <code>C-c C-l</code> in haskell-mode on a saved file containing two lines, <code>let foo = ""foo""</code> and <code>let bar = ""bar""</code> - I get <code>""parse error (possibly incorrect indentation)""</code></p>
","149392","","<p>You can't do that with ghci (or hugs) for the simple reason that you can't write top-level definitions in ghci (or hugs). So even if you manually pasted your file's contents into ghci, all you'd get would be a syntax error.</p>

<p>So loading a file using C-c C-l is the best you can do.</p>
"
"<p>Returning a datatype.
For instance, let's say that I had made a datatype:</p>

<pre><code>data Something = Something Int [Char]
</code></pre>

<p>And, then I did some manipulation with the following function (the exact function of which is irrelevant):</p>

<pre><code>manipulativeFunc::Something-&gt;[Something]
</code></pre>

<p>I keep getting these strange error messages that </p>

<pre><code>Top level:
    No instance for (Show (Int -&gt; IO ()))
        arising from use of 'print' at Top level
    Probable fix: add an instance declaration for (Show (Int -&gt; IO ()))
    In a 'do' expression: print it
</code></pre>

<p>Note that I don't have any uses of print anywhere in my program, nor do I have any uses of IO. The data declaration and the <code>manipulativeFunc</code> are all I have on it.</p>

<p>What could I be doing wrong?</p>

<p>EDIT: From commenters, I get the message that I may need to declare a Show instance for this task. So, what if I had </p>

<pre><code>data Something = Something Int Int
</code></pre>

<p>Then how would I write a Show instance function for it?</p>
","149392","","<p>Every time you evaluate an expression in ghci, ghci will print the result of that expression. If the expression has a type which can't be printed, you get the above error message.</p>

<p>So the problem is that you entered an expression of type <code>Int -&gt; IO ()</code>, which ghci can't print because it's a function.</p>
"
"<p>Funcional Programming is very new to me and can't seem to understand how to use a function as an argument for another function. finalvalue is supposed to calculate the final value after a period, and finalvalue2 after 2 periods.</p>

<pre><code>interest :: Float -&gt; Float -&gt; Float
interest capital rate = capital * rate * 0.01

finalvalue :: Float -&gt; Float -&gt; Float
finalvalue capital rate = capital + interest capital rate

finalvalue2 :: Float -&gt; Float -&gt; Float
finalvalue2 capital rate = finalvalue capital rate + interest finalvalue capital rate rate
</code></pre>

<p>I get this:</p>

<pre><code>Couldn't match expected type `Float'
       against inferred type `Float -&gt; Float -&gt; Float'
In the first argument of `interest', namely `finalvalue'
In the second argument of `(+)', namely
    `interest finalvalue capital rate rate'
In the expression:
      finalvalue capital rate + interest finalvalue capital rate rate
</code></pre>

<p>I'm sure I'm missing a basic point here but I just can't find out what it is.</p>
","149392","","<pre><code>interest finalvalue capital rate rate
</code></pre>

<p>Here you're calling <code>interest</code> with four arguments, the first of which is a function. Since <code>interest</code>'s first argument needs to be a Float, not a function, you get the error message you do.</p>

<p>What you probably intended to write was <code>interest (finalvalue capital rate) rate</code>, which calls <code>interest</code> with two floats, the first of which is the result of calling <code>finalvalue</code> with <code>capital</code> and <code>rate</code> as arguments.</p>
"
"<p>I'm learning ruby dev coming from java and I dont understand why im getting below error. @test is a class variable so I should be able to output it ?</p>

<p>C:/Projects/RubyPlayground/Tester.rb:6:in <code>test': wrong number of arguments (ArgumentError)
    from C:/Projects/RubyPlayground/Tester.rb:6:in</code>testMethod'
    from C:/Projects/RubyPlayground/Tester.rb:10</p>

<pre><code>class Tester

  @test = ""here""

  def testMethod()
    puts test
  end

  s = Tester.new()
  s.testMethod()

end
</code></pre>
","149392","","<p>In your code you're calling the method <code>Kernel#test</code> with no arguments. However <code>Kernel#test</code> requires arguments, so you're getting an error telling you that you did not supply enough arguments (i.e. you didn't supply any at all).</p>

<p>If there would be no method test already defined in ruby, you would have gotten an error message telling you, you're trying to call an undefined method, which would probably have been less confusing to you.</p>

<p>Obviously it was not your intent to call a method named <code>test</code> - you wanted to access the instance variable <code>@test</code>. For that you have to write <code>puts @test</code> instead of <code>puts test</code>. However that still does not do what you want, because you've never set the variable <code>@test</code> on your new <code>Test</code> instance. You only set the <code>@test</code> variable once for the class. Instead you should set <code>@test</code> in the <code>initialize</code> method of <code>Test</code>.</p>
"
"<p>I've got a quick question. Haskell is throwing the <code>57 - Undefined variable ""f"" error</code> at me and I've no idea why. I'd appreciate it if you could have a look at this.</p>

<p>Code:</p>

<pre><code>eval :: Expr -&gt; Environment -&gt; Float
eval expr env = eval' expr
    where
    eval' :: Expr-&gt; Float
    eval' (Num num) = num
    eval' (App app exprs) = foldl1 (f) (map eval' exprs) -- **Line 57**
    eval' (Id id) = 5
        where
        f = getFunctionForApp app                    -- **f is here** 
        getFunctionForApp :: String -&gt; (Float-&gt;Float-&gt;Float)
        getFunctionForApp ""+"" = (+)
        getFunctionForApp ""-"" = (-)
        getFunctionForApp ""*"" = (*)
        getFunctionForApp ""/"" = (/)
        getIdVal :: String -&gt; Environment -&gt; Float
        getIdVal id ((curId, val):envrs) 
            |curId == id = val
            | otherwise = getIdVal id envrs
</code></pre>

<p>Type definition:</p>

<pre><code>data Expr = Num Float | Id String | App String [ Expr ]
           deriving (Eq, Ord, Show)
type Environment = [ ( String, Float ) ]
</code></pre>
","149392","","<p>The where block applies only to the case directly before it, not to all cases of the <code>eval'</code> function. So <code>f</code> is defined (but not used) in <code>eval' (Id id) = 5</code>, but it's not in scope in line 57. To fix this you need to move the where block directly after line 57.</p>
"
"<p>this is the facts I entered in the knowledge base and average takes a list and returns the result but when i pose the query </p>

<p>""average([],X)."" </p>

<p>it returns X=0 then when i press ; it gives me zero divisor error and I dont understand why,I tried posing the following 4 facts in the KB</p>

<p>average(0,0).</p>

<p>average([],0).</p>

<p>average(0/0,0).</p>

<p>average(0,0/0).</p>
","149392","","<p>I'm not sure what you trying to achieve by writing <code>0/0</code> (as a matter of fact I'm not sure what any of the facts other than <code>average([],0).</code> are there for), but clearly dividing 0 by 0 will cause a division by zero error.</p>

<p>So that's your problem. Remove the occurrences of <code>0/0</code> and the error will disappear.</p>
"
"<p>I was trying to do something like this but i don't know much about this language:</p>

<p><code>def teste (*array1, *array2)</code></p>

<p>Is this possible to do? I have to pass one array of numbers and strings and one only of strings but i dont know how much elements each one has.</p>
","149392","","<p>You can't have two variadic lists of arguments in a method. If it were legal to define a method with two variadic lists of arguments like you want to, how would ruby know which argument should go in which array when you call say <code>teste(a,b,c)</code>? Should this result in <code>array1 = [a]; array2 = [b,c]</code> or <code>array1 = [a,b]; array2=[c]</code>? It's impossible to say.</p>

<p>If you want to pass two arrays to a method, just define it to take two regular arguments and then call it with two arrays.</p>
"
"<p>I need to know how to set the ChildrenRect height and width for a grid element??</p>

<pre><code> Grid {
             id: grid1
             anchors.fill: parent
             rows: 10
             columns: 10


             childrenRect.height: background.height/10
             childrenRect.width: background.width/10

         }
</code></pre>

<p>it says its a read-only element that cannot be changed when i try to do this.</p>
","149392","","<p>You can't set them. The <code>childrenRect</code> properties are calculated from the item's children. The only way to affect them is by setting the children's dimensions. There's no way to set them yourself.</p>
"
"<p>I'm pretty new to QML. According to the QML documentation at <a href=""http://doc.qt.nokia.com/4.7-snapshot/qdeclarativescope.html"" rel=""nofollow"">http://doc.qt.nokia.com/4.7-snapshot/qdeclarativescope.html</a>, the Text object should show 15, but instead it only outputs 5. Can anyone help me out?</p>

<pre><code>Text {
    id: counter
    x: 300;
    y: 300;
    property int a: 5;
    function randNumber(a){
        var a = a+10;
        return a;
    }
    text: a;
}
</code></pre>
","149392","","<p>You're never actually calling your <code>randNumber</code> function, so it will have no effect. If you want to set <code>text</code> to the result of <code>randNumber(a)</code>, you should be doing <code>text: randNumber(a)</code>. Or without defining a function:</p>

<pre><code>text : {
    var a = a+10;
    return a;
}
</code></pre>

<p>If you remove the <code>var</code>, the <code>a</code> property will also be set to 15 (with the above code only <code>text</code> would be set to 15 and <code>a</code> would remain 5).</p>
"
"<p>Say I have a Ruby class, <code>Flight</code>. <code>Flight</code> has an <code>attr_accessor :key</code> on it. If there's an array of instances of this class: <code>flights = [flight1, flight2, flight3]</code>, I have a ""target key"", say ""2jf345"", and I want to find a flight based on it's key, from that array - what sort of code should I use?</p>

<p>This is the code I was going to use: </p>

<p><code>flights[flights.map { |s| s.key }.index(target_key)]</code></p>

<p>But it seems like with Ruby, there should be a simpler way. Also, the code above returns an error for me - <code>`[]': no implicit conversion from nil to integer (TypeError)</code>. I assume this means that it's not returning an index at all.</p>

<p>Thanks for any help.</p>
","149392","","<p>You can just use <code>find</code> to get the Flight object, instead of trying to use <code>index</code> to get the index:</p>

<pre><code>flights.find {|s| s.key == target_key }
</code></pre>

<p>However your error message suggests that <code>index(target_key)</code> returns <code>nil</code>, which means that you don't actually have a flight with the key you're looking for, which means that <code>find</code> will return <code>nil</code> as well.</p>
"
"<p>I have found this question about the special function ""or"" in scheme:</p>

<blockquote>
  <p>Joe Hacker states loudly that there is no reason or in Scheme needs to be special -- it can just be defined by the programmer, like this:</p>

<pre><code>(define (or x y)
    (if x
        #t
        y))
</code></pre>
  
  <p>Is Joe right? </p>
</blockquote>

<p>I can't figure out why it shouldn't be possible to do that.</p>

<p>Could some scheme-expert please explain if this works, and if no: why not?</p>
","149392","","<p>Whether it works or not depends on what you want it to do. It certainly works in the sense that for two given boolean values it will return the expected resulted. However it will not be functionally equivalent to regular <code>or</code> because it does not short-circuit, i.e. given your definition <code>(or #t (/ 0 0))</code> will cause an error because you're dividing 0 by 0 while using regular <code>or</code> it would just return <code>#t</code> and not try to evaluate <code>(/ 0 0)</code> at all.</p>
"
"<p>I get the error:</p>

<pre><code>main.o(.text+0x1ed): In function `main':
: undefined reference to `avergecolumns'
collect2: ld returned 1 exit status
</code></pre>

<p>when I gcc *.o.  I'm not quite sure what causes this error.  Other posters have explained it as the function is not found or the function is empty.  If someone could clarify or refine, it would be greaty appreciated!</p>

<p>Here is my function's code(I'm trying to calculate the average of the column in 2D arrays):</p>

<pre><code>#include ""my.h""

void averagecolumns (int x, int y, int** a)
{
    int i;
    int j;
    float sum;
    float colAvg;

    sum = 0;
    colAvg = 0;

    printf(""i.  The column averages are: \n"");
    for(i = 0; i &lt; x; i++)
        {
            for(j = 0; j &lt; y; j++)
                {
                    sum += a[i][j];
                    colAvg = sum / (float)x;
                }
            printf(""Column: %3d, Average: %6.2f"", j, colAvg);
            sum = 0;   
            colAvg = 0;
        }
</code></pre>

<p>The relavent parts of main are:</p>

<pre><code>#include ""my.h""

int main (int argc, char* argv[])
{
     int** a;
     float** colAvg;
     int ROWS;
     int COLS;
     int i;
     int j;
     int** table;
     FILE* fpmyfile;
     int closeResult;

....

             printme (ROWS, COLS, a);                              // call functions a - j
             oddvalues (ROWS, COLS, a);
             oddlocations (ROWS, COLS, a);
             countoddrows (ROWS, COLS, a);
             addrows (ROWS, COLS, a);
             findfirstsmall (ROWS, COLS, a);
             findlastlarge (ROWS,COLS, a);                          
             addcolumns (ROWS, COLS, a);
             avergecolumns (ROWS, COLS, a);

....

}
</code></pre>

<p>Also, is this a linker or a compile error (I wasn't sure which tag to add).</p>
","149392","","<p>It's a linker error. <code>ld</code> is the linker, so if you get an error message ending with ""ld returned 1 exit status"", that tells you that it's a linker error.</p>

<p>The error message tells you that none of the object files you're linking against contains a definition for <code>avergecolumns</code>. The reason for that is that the function you've defined is called <code>averagecolumns</code> (in other words: you misspelled the function name when calling the function (and presumably in the header file as well - otherwise you'd have gotten a different error at compile time)).</p>
"
"<p>I'm doing pattern matching and I keep getting an error saying the expression was expected type 'a list. Why is that?</p>
","149392","","<p>If ocaml expects an expression to have a certain type that's because you're performing some operation on that expression, which only works with that type. So in this case you're probably pattern matching on the expression using list patterns (i.e. the constructors <code>::</code> and <code>nil</code> or list literals like <code>[x,y,z]</code>).</p>

<p>If you try that with an expression that does not evaluate to a list, that's of course an error, which is what the error message is telling you.</p>
"
"<p>I'm getting a missing case definition when I'm calling this</p>

<pre><code>check c (n:nx) state (l:ls,r:rs)
=true,if((isprefix state c)&amp;(r=n))
=false, otherwise
</code></pre>

<p>I've checked this and it works on its own no matter what I send it. </p>

<p>This is where I'm calling it from (warning: it's a bit badly written for now):</p>

<pre><code>readword input state tape
=output tape, if (((haltcheck sWord sNum state tape)=true)&amp;(isprefix "" halt"" rline))
=doinst rline state tape , if ((check sWord sNum state tape)=true)
=readword tail state tape, otherwise
  where
  theline = dropwhile notit input
  start = dropwhile  isspace theline
  sWord = takewhile letter start
  ends = dropwhile notspace start 
  distart = dropwhile isspace ends
  sNum = takewhile notspace distart
  tail = dropwhile notspace distart
  rline = takewhile notit tail
</code></pre>
","149392","","<p>Missing case definition means that you're pattern matching and you don't cover all cases. This happens twice in the definition of your <code>check</code> function: You're matching the second parameter with the pattern <code>n:nx</code>, but not against the pattern <code>[]</code> (so you're not covering the case that the second argument may be the empty list). Similarly you're matching the fourth argument against <code>(l:ls, r:rs)</code>, not accounting for the possibility that either of the pair's elements may be the empty list.</p>

<p>So what's happening to cause the error is that when you're calling <code>check</code> from <code>readword</code> either <code>sNum</code> is empty or one of the lists in <code>tape</code> is empty.</p>
"
"<p>I have a little alternative implementation of <code>groupBy</code>, which is more useful to me than the version in <code>Data.List</code>, because it doesn't require the test to be an equivalence relation:</p>

<pre><code>groupBy' :: (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [[a]]
groupBy' f = foldr step []
    where step x [] = [[x]]
          step x (xs:xss)
              | x `f` head xs = (x:xs):xss
              | otherwise     = [x]:xs:xss
</code></pre>

<p>However, it's too eager and won't start computing for inputs like <code>groupBy' (&lt;) [1,2,3,2,3,4,1,undefined]</code>. I have read the <a href=""http://www.haskell.org/haskellwiki/Maintaining_laziness"" rel=""nofollow"">HaskellWiki</a> and <a href=""http://en.wikibooks.org/wiki/Haskell/Laziness"" rel=""nofollow"">Wikibooks</a> articles which explain why certain things, like pattern matches, can make functions less lazy, and I think I understand most of the examples given there. Still, I don't understand why this function can't start producing output until it hits the <code>undefined</code>. Are the pattern matches causing this behavior?</p>

<p>Since I have just read those articles, it's maybe lack of experience that makes me fail to apply what I read there to my example code. So, how could this particular implementation be changed in order to behave more lazily?</p>
","149392","","<p><code>foldr step [] [1,2,3,...]</code> will expand to <code>step 1 (foldr step [] [2,3])</code>. Now <code>step</code> needs to decide whether to go in its first case or the second. For that it needs to know whether <code>foldr step [] [2,3,...]</code> evaluates to an empty list. For that it needs to know whether <code>step 2 (foldr step [] [3,...])</code> returns the empty list (which it never will, but Haskell does not know that). This goes on until the end of the list is reached (and if the list doesn't have an end, it goes on forever).</p>
"
"<p>In my Qt quick application I use c++ to generate a number between 1 and 6, which is then sent with a signal to a QML function. I have six custom <code>Block</code> objects or elements (I'm not sure what you call them). The blocks are called <code>block1</code> - <code>6</code>. I want the the function to something like <code>block""i"".visible = true</code>, but I'm not sure exactly how to do that. If someone could please help it would be greatly appreciated.</p>
","149392","","<p>Here's a way you can avoid having to manually create the blocks in javascript:</p>

<p>Assuming all the blocks are children of the same parent, you can access them as <code>parentsId.children[0]</code> through <code>parentsId.children[5]</code> (or <code>parentsId.children[n]</code> through <code>parentsId.children[n+5]</code> if the parent has <code>n</code> children that come before the boxes).</p>

<p>So something like this would work:</p>

<pre><code>Rectangle {
    // ...

    Item {
        id: blocks

        Block {
            id: block1
            // ...
        }
        // ...

        Block {
            id: block6
            // ...
        }
    }
    // ...

    function makeBlockVisible(i) {
        // subtracting 1 from i because you said i is a number between 1 and 6
        // and we need an index between 0 and 5
        blocks.children[i-1].visible = true;
    }
}
</code></pre>
"
"<p>Python noob; please explain why this loop doesn't exit.</p>

<pre><code>for i in range(0,10):
  print ""Hello, World!""
  if i == 5: i = 15
  print i
next
</code></pre>

<p>regards</p>
","149392","","<p>Because <code>for i in whatever</code> means that for each element in <code>whatever</code>, the loop body will be executed once setting <code>i</code> to that element. There is no rule that says that at the end of each iteration, <code>i</code> must still be an element of <code>whatever</code>.</p>

<p>Reassigning <code>i</code> in the loop body has no effect whatsoever on how often the loop body executes or which value <code>i</code> will hold in the next iteration.</p>
"
"<p>So I realize this is a possible duplicate question, as there a number of those errors reported on Stack Overflow, but none of the solutions seem to apply to my problem.</p>

<p>So I have the following function:</p>

<pre><code>elementAt' :: Integral b =&gt; [a] -&gt; b -&gt; a
elementAt' [x:_] 1 = x
elementAt' [x:xs] y = elementAt' xs yminus1
    where yminus1 = y - 1
</code></pre>

<p>In case you're wondering it's problem 3 from <a href=""http://haskell.org/haskellwiki/H-99%3a_Ninety-Nine_Haskell_Problems"">99 Haskell Problems</a>.  The goal of the function is to take as input a list and an index, and return the value at that index (starting at 1).  I don't want a solution to the problem, if I did I could just look at the ones provided.  But I'm getting an error I don't understand.  I'm using eclipseFP, the eclipse plugin for haskell and it's underlining the ""[x:_]"" and ""[x:xs]"" portions of the function with the following error:</p>

<pre><code>Couldn't match type `a' with `[a]'
`a' is a rigid type variable bound by
the type signature for elementAt' :: Integral b =&gt; [a] -&gt; b -&gt; a
</code></pre>

<p>In all the threads that discuss this error that I've looked at the problem usually occurs when someone tries to give an incorrect output to something which expects a certain type.  For example, returning the length of something (which is of type Int) to what should be a ""Num a"" variable type.</p>

<p>But in my case I'm not even providing a type for variable a.  It should be able to be ANYTHING, right?  So why am I getting this error?  If I understood why I was getting the error I could fix it, but I just don't understand.</p>

<p>Could someone please explain to me why I'm receiving this error?</p>

<p>Your help is much appreciated, thank you.
-Asaf</p>

<p>Edit: Every answer provided so far is correct, thank you all for the helpful information.  I'm going to pick the one I believe to be most clear (I have to wait 5 minutes to do it though).</p>
","149392","","<blockquote>
  <p>But in my case I'm not even providing a type for variable a. It should be able to be ANYTHING, right?</p>
</blockquote>

<p>It has to be able to be anything. According to your type signature the user of your function has to be able to call your function with <code>a</code> being <code>Int</code>, with <code>a</code> being <code>[Char]</code> or with `a´ being whatever else the user wants to.</p>

<p>However the error message is telling you that you defined your function so that it's only possible to call it with <code>a</code> being a list of something. I.e. you defined it, so that the first argument has to be a list of lists - it can't be a list of anything else. And that contradicts your type signature.</p>
"
"<p>Dont understand why I am getting stack level too deep when I run this program. </p>

<pre><code>module A
     class Fruit

    def initialize
        puts ""pears""
    end

    [:orange, :apple].each do |fruit|
        class_eval %Q{
            def #{fruit}
                puts #{fruit}
            end
        }
    end

    puts ""pineapple""
end

a_fruit = Fruit.new
a_fruit.apple
end

another_fruit = A::Fruit.new
another_fruit.orange
</code></pre>

<p>The output of this program is</p>

<pre><code>(eval):3:in `apple': stack level too deep (SystemStackError)
    from (eval):3:in `apple'
    from testquestion.rb:20
</code></pre>
","149392","","<pre><code>class_eval %Q{
    def #{fruit}
        puts #{fruit}
    end
}
</code></pre>

<p>Let's look at what this expands to for <code>fruit = :apple</code>:</p>

<pre><code>def apple
    puts apple
end
</code></pre>

<p>It should now be clear why that causes infinite recursion.</p>
"
"<p>I was asked how can a value of a const variable can be changed.</p>

<p>My my obvious answer was ""pointers!"" but I tried the next piece of code and I'm puzzled...</p>

<pre><code>int main()
{
    const int x = 5;
    int *ptr = (int *)(&amp;x); // ""Cast away"" the const-ness..
    cout &lt;&lt; ""Value at "" &lt;&lt; ptr &lt;&lt; "":""&lt;&lt; (*ptr) &lt;&lt;endl;
    *ptr = 6;
    cout &lt;&lt; ""Now the value of ""&lt;&lt; ptr &lt;&lt; "" is: "" &lt;&lt; (*ptr) &lt;&lt;endl;
    cout &lt;&lt; ""But the value of x is still "" &lt;&lt; x &lt;&lt;endl;
    return 0;
}
</code></pre>

<p>And the output was:</p>

<pre><code>Value at &lt;some address&gt; :5
Now the value of &lt;same address&gt; is: 6
But the value of x is still 5
</code></pre>

<p>Now, I'm not sure exactly what is returned from '&amp;x' but it's definitely not the actual address of x, since the value at x wasn't changed! </p>

<p>But on the over hand, ptr <strong>did</strong> contain the value of x at the beginning!
So, what is it exactly?</p>

<p><strong>EDIT</strong> compiled with VS2010</p>
","149392","","<p>Your program invokes undefined behavior (writing to a const variable through a pointer is undefined behavior), so anything might happen. That being said here's the most likely explanation why you get the behavior you see on your particular implementation:</p>

<p>When you do <code>&amp;x</code>, you do get the address of <code>x</code>. When you do <code>*ptr = 6</code>, you do write 6 to <code>x</code>'s memory location. However when you do <code>cout &lt;&lt; x</code>, you don't actually read from <code>x</code>'s memory location because your compiler optimized the code by replacing <code>x</code> with 5 here. Since <code>x</code> is <code>const</code> the compiler is allowed to do that since there is no legal C++ program in which doing so would change the program's behavior.</p>
"
"<p>I want to define a macro that randomly chooses one of the given expressions and evaluates it. For example,</p>

<pre><code>(equal-chance
  (println ""1"")
  (println ""2""))
</code></pre>

<p>should print ""1"" half the time and ""2"" the other half.</p>

<p>I tried using,</p>

<pre><code>(defmacro equal-chance
  [&amp; exprs]
    `(rand-nth '~exprs))
</code></pre>

<p>but this returns one of the quoted forms, rather than evaluating it (i.e. it would return <code>(println ""1"")</code> rather than actually printing ""1""). I cannot use <code>eval</code> because it does not preserve the bindings. For example,</p>

<pre><code>(let [x 10] (eval '(println x)))
</code></pre>

<p>complains that it is unable to resolve symbol x.</p>

<p>Is there a way to evaluate a quoted form in the local scope? Or maybe there is a better way to go about this?</p>
","149392","","<p>Just don't quote the call to <code>rand-nth</code> or the expressions. This will do what you want:</p>

<pre><code>(defmacro equal-chance
  [&amp; exprs]
    (rand-nth exprs))
</code></pre>
"
"<p>I'm building an API between two models. I don't care if it returns a [] or Seq or anything Foldable is fine. But if I try to do that, I get errors.</p>

<pre><code>module Main where
import Prelude hiding (foldr)
import Data.Foldable
import Data.Sequence

data Struct = Struct

main = do
  print $ foldr (+) 0 $ list Struct
  print $ foldr (+) 0 $ listFree Struct


listFree :: Foldable f =&gt; a -&gt; f Int
listFree s = singleton 10

class TestClass a where
  list :: Foldable f =&gt; a -&gt; f Int

instance TestClass Struct where
  list s = singleton 10
</code></pre>

<p>Both the listFree and the list definitions give the same error:</p>

<pre><code>TestFoldable.hs:19:12:
Could not deduce (f ~ [])
from the context (Foldable f)
  bound by the type signature for
             list :: Foldable f =&gt; Struct -&gt; f Int
  at TestFoldable.hs:19:3-15
  `f' is a rigid type variable bound by
      the type signature for list :: Foldable f =&gt; Struct -&gt; f Int
      at TestFoldable.hs:19:3
In the expression: [10]
In an equation for `list': list s = [10]
In the instance declaration for `TestClass Struct'
</code></pre>

<p>Why is that? And what is the ""right"" way to accomplish what I'm trying to do here?</p>

<p>What I'm trying to accomplish is to hide the implementation from the caller. The actual data structure might be a Seq, IntMap, or anything else and most likely is not a list.</p>

<p>I'm getting responses that say ""just return a list"". But that means conversion, doesn't it? What if it's a 1,000,000 element structure? Converting it to an intermediate data structure just because of limitations of the API seems a poor solution.</p>

<p>And this is a general problem. How does one have a return value that conforms to some API? To hide the concrete implementation so the implementer is free to choose whatever structure is best for them and can change it without having to change the users of the API.</p>

<p>Another way of putting it is: how can I return an interface instead of a concrete type?</p>

<p><strong>Closing Note:</strong></p>

<p>The Haskell community on StackOverflow is (SuperlativeCompliment c => forall c. c)</p>

<p>Existential quantification seems like the general solution to this situation.</p>

<p>Another possibility to consider, which is not a general solution but might have worked for this specific case, that might avoid the extra wrapper value required by existential solution is to return a closure of the fold for the client:</p>

<pre><code>list :: a -&gt; ((Int -&gt; b -&gt; b) -&gt; b -&gt; b)
list = \f a0 -&gt; foldr f a0 (singleton 10)
</code></pre>
","149392","","<blockquote>
  <p>Why is that?</p>
</blockquote>

<p>The type <code>Foldable f =&gt; a -&gt; f Int</code> does <em>not</em> mean that the function might return any foldable it wants. It means that the function will return whichever type the user wants. I.e. if the user uses the function in a context where a list is required that should work and if he uses it in a context where a Seq is required that should also work. Since this is clearly not the case with your definition, it doesn't match its type.</p>

<blockquote>
  <p>And what is the ""right"" way to accomplish what I'm trying to do here?</p>
</blockquote>

<p>The easiest way would be to just make your function return a list.</p>

<p>However if you do need to hide the fact that you're using lists from your users, the easiest way would be to create a wrapper type around the list and not export that type's constructor. I.e. something like:</p>

<pre><code>module Bla (ListResult(), list) where
data ListResult a = ListResult [a]

instance Foldable (ListResult a) where
    foldr op s (ListResult xs) = foldr op s xs

list s = ListResult [10]
</code></pre>

<p>Now if the user imports your module, it can fold over a ListResult because it's foldable, but it can't unpack it to get at the list because the constructor is not exported. So if you later change <code>ListResult</code>'s definition to <code>data ListResult a = ListResult (Seq a)</code> and <code>list</code> to also use a <code>Seq</code> instead of a list, that change will be completely invisible to the user.</p>
"
"<p>I am extremely new to SML and we just got out first programming assignment for class and I need a little insight. </p>

<p>The question is: write an ML function, called <code>minus: int list * int list -&gt; int list</code>, that takes two non-decreasing integer lists and produces a non-decreasing integer list obtained by removing the elements from the first input list which are also found in the second input list. </p>

<p>For example,</p>

<pre><code>minus( [1,1,1,2,2], [1,1,2,3] ) = [1,2]

minus( [1,1,2,3],[1,1,1,2,2] ) = [3]
</code></pre>

<p>Here is my attempt at answering the question. Can anyone tell me what I am doing incorrectly? I don't quite understand parsing lists.</p>

<pre><code>fun minus(xs,nil) = []
| minus(nil,ys) = []
| minus(x::xs,y::ys) = if x=y then minus(xs,ys) else x :: minus(x,ys);
</code></pre>

<p>Here is a fix I just did, I think this is right now?</p>

<pre><code>fun minus(L1,nil) = L1
| minus(nil,L2) = []
| minus(L1,L2) = if hd(L1) &gt; hd(L2) then minus(L1,tl(L2))
    else if hd(L1) = hd(L2) then minus(tl(L1),tl(L2))
    else hd(L1) :: minus(tl(L1), L2);
</code></pre>
","149392","","<p>You have a type in your else-clause:</p>

<pre><code>x :: minus(x,ys)
</code></pre>

<p>That second <code>x</code> should be <code>xs</code>.</p>
"
"<p>On this code:</p>

<pre><code>def plot(div_name = """", series , options = {} )
</code></pre>

<p>I'm getting a syntax error:</p>

<pre><code>unexpected '=', expecting ')' (SyntaxError).
</code></pre>

<p>Why is that?
Assigning a default value to series solves the problem. </p>
","149392","","<p>You're not allowed to have optional arguments followed by non-optional arguments followed by further optional arguments. If that were allowed, it would be ambiguous whether <code>plot(foo, bar)</code> should be <code>plot(foo, bar, {})</code> or <code>plot("""", foo, bar)</code>.</p>
"
"<p>How would I answer a question such as ""what does the below expression evaluate to"".</p>

<pre><code>""2 + 2 "" + 3 + 4; 
</code></pre>

<p>because I'm having a really hard time on the website practice-it and have tried everything from <strong>2234</strong> to <strong>11</strong> as possible answers.</p>
","149392","","<p>In Java if either side of an addition is a string, the non-string operand is converted to a string and the two strings are concatenated. Never will a string be converted to an integer by using addition. Nor will a string containing an integer expression ever be evaluated.</p>

<p>So since addition is left-associative <code>""2 + 2 "" + 3 + 4</code> is parsed as <code>(""2 + 2 "" + 3) + 4</code>, which will evaluate to <code>""2 + 2 3"" + 4</code>, which will in turn evaluate to <code>""2 + 2 34""</code>.</p>
"
"<p>I have written the same program (open text file and display contents) in C and C++. Now am doing the same in Python (on a Linux machine).</p>

<p>In the C programs I used the code if (argc!=2) {//exit program}</p>

<p><strong>Question: What is used in Python to check the number of arguments</strong></p>

<pre><code>#!/usr/bin/python
import sys
try:
    in_file = open(sys.argv[1], ""r"")
except:
    sys.exit(""ERROR. Did you make a mistake in the spelling"")
text = in_file.read()
print text
in_file.close()
</code></pre>

<p>Current output:</p>

<p>./python names.txt = Displays text file (correct)
./python nam = error message: stated from the sys.ext line (correct)
./python = error message: stated from the sys.ext line (wrong: want it to be a separate error message stating <em>no file name input</em>)</p>
","149392","","<p>In python a list knows its length, so you can just do <code>len(sys.argv)</code> to get the number of elements in <code>argv</code>.</p>
"
"<p>I have the following 2 regular expressions in a ruby file. They run fine when i use the <code>ruby</code> command but if i try to run via <code>./apachereport.rb</code> it generates an error.</p>

<p>regex:</p>

<pre><code>urls = parse(@file, /(?&lt;=GET )\S+/)
codes = parse(@file, /(?&lt;=HTTP\/[0-9]\.[0-9]"" )\S+/)
</code></pre>

<p>error:</p>

<pre><code>./apachereport.rb:34: undefined (?...) sequence: /(?&lt;=GET )\S+/
./apachereport.rb:47: undefined (?...) sequence: /(?&lt;=HTTP\/[0-9]\.[0-9]"" )\S+/
</code></pre>

<p>The shebang I'm using is as follows, which seems to work fine with other ruby files:</p>

<pre><code>#!/usr/bin/ruby
</code></pre>
","149392","","<p>The most likely explanation for this is that you have multiple versions of ruby installed. The version installed in <code>/usr/bin</code> (which is the one you're using in your shebang line) is 1.8.X, which did not support <code>?&lt;=</code> (look-behind) in regexen. The one you execute when you type <code>ruby apachereport</code> is probably ruby 1.9, which does support <code>?&lt;=</code>.</p>

<p>To verify that this is the case type in <code>which ruby</code> and notice that it prints something other than <code>/usr/bin/ruby</code> and/or compare the results of <code>/usr/bin/ruby --version</code> to <code>ruby --version</code>.</p>
"
"<p>I have a treetop grammar with only two rules: </p>

<pre><code>grammar RCFAE
    rule num
        [0-9]+ &lt;Num&gt;
    end

    rule identifier
        [a-zA-Z] [a-zA-Z]* &lt;ID&gt;
    end
end
</code></pre>

<p>I'm trying to parse simple strings (""A"" and ""5"").  The ""5"" is recognized as a Num if I put that rule first, and returns nil if i put that rule second.  Similarly, ""A"" is recognized as an ID if I put that rule first, and returns nil if I put that rule second.  I can't understand how these two rules overlap in any way.  It's driving me crazy!</p>

<p>Is there something I'm missing or don't understand about treetop or regular expressions?  Thanks in advance for your help.</p>
","149392","","<p>Treetop expects the first rule to be the ""main rule"". It doesn't try to apply all the rules you defined until one matches - it only applies the main rule and if that does not match, it fails.</p>

<p>To do what you want, you need to add a main rule which might be a num or an identifier, like this:</p>

<pre><code>grammar RCFAE
    rule expression
        num / identifier
    end

    rule num
        [0-9]+ &lt;Num&gt;
    end

    rule identifier
        [a-zA-Z] [a-zA-Z]* &lt;ID&gt;
    end
end
</code></pre>
"
"<p>Just need a confirmation on something real quick. 
If an algorithm takes <code>n(n-1)/2</code> tests to run, is the big oh <code>O(n^2)</code>?</p>
","149392","","<p>Yes, it is. <code>n(n-1)/2</code> is <code>(n^2 - n)/2</code>, which is clearly smaller than <code>c*n^2</code> for all <code>n&gt;=1</code> if you pick a <code>c</code> that's at least 1.</p>
"
"<p>I don't know if I'm just being a total fool, most likely I am, it's been a long day, but this isn't working as I want it to, and, well, I don't see why. </p>

<p>It should be able to have 11 numbers entered, a new number on each line, add them to the array, then total them, yet it's just not working. It's not stopping to exit the loop, even though I am incrementing i.</p>

<p>Any ideas?</p>

<pre><code>int main(void) {
 int array[10];
 int i;
 int sum = 0;
  for ( i = 0; i &lt; 11; i++){
   scanf(""%d"", &amp;array[i]);
  }
  for (i = 0; i &lt; 11; i++) {
   sum += array[i];
  }
printf(""%d"", sum);

return 0;
</code></pre>

<p>}</p>
","149392","","<p>You're storing eleven numbers into an array of size 10. Thus you're storing the last element out of bounds, which invokes undefined behavior.</p>

<p>The reason that this undefined behavior manifests itself as an infinite loop in your case is probably that <code>i</code> is stored after <code>array</code> in memory on your system and when you write a number into <code>array[10]</code> (which is out of bounds, as I said), you're overwriting <code>i</code>. So if you entered a number smaller than 11 this will cause the loop to continue and ask for input once more.</p>
"
"<p>The code below was copied from Bruce Eckel's Thinking in C++ Volume 2 Chapter 16</p>

<pre><code>//: C07:Wrapped.cpp
// From Thinking in C++, 2nd Edition
// Available at http://www.BruceEckel.com
// (c) Bruce Eckel 2000
// Copyright notice in Copyright.txt
// Safe, atomic pointers

#include &lt;fstream&gt;
#include &lt;cstdlib&gt;
using namespace std;
ofstream out(""wrapped.out"");

// Simplified. Yours may have other arguments.
template&lt;class T, int sz = 1&gt; class PWrap
{
    T* ptr;

    public:
    class RangeError {}; // Exception class
    PWrap() { ptr = new T[sz]; out &lt;&lt; ""PWrap constructor"" &lt;&lt; endl; }
    ~PWrap() { delete []ptr; out &lt;&lt; ""PWrap destructor"" &lt;&lt; endl; }
    T&amp; operator[](int i) throw(RangeError)
    {
        if(i &gt;= 0 &amp;&amp; i &lt; sz) return ptr[i];
        throw RangeError();
    }
};

class Cat
{
    public:
    Cat() { out &lt;&lt; ""Cat()"" &lt;&lt; endl; }
    ~Cat() { out &lt;&lt; ""~Cat()"" &lt;&lt; endl; }
    void g() {}
};

class Dog
{
    public:
    void* operator new[](size_t sz) { out &lt;&lt; ""allocating a Dog"" &lt;&lt; endl; throw int(47); }
    void operator delete[](void* p) { out &lt;&lt; ""deallocating a Dog"" &lt;&lt; endl; ::delete p; }
};

class UseResources
{
    PWrap&lt;Cat, 3&gt; Bonk;
    PWrap&lt;Dog&gt; Og;

    public:
    UseResources() : Bonk(), Og() { out &lt;&lt; ""UseResources()"" &lt;&lt; endl; }
    ~UseResources() { out &lt;&lt; ""~UseResources()"" &lt;&lt; endl; }
    void f() { Bonk[1].g(); }
};

int main()
{
    try
    {
        UseResources ur;
    }
    catch(int)
    {
        out &lt;&lt; ""inside handler"" &lt;&lt; endl;
    }
    catch(...)
    {
        out &lt;&lt; ""inside catch(...)"" &lt;&lt; endl;
    }
}
</code></pre>

<p><strong>I have no problem with the code itself. But I'm having some trouble understanding the following comment about the class exception <code>RangeError</code>:</strong></p>

<p>""The <code>PWrap</code> template shows a more typical use of exceptions than you’ve seen so far: A
nested class called <code>RangeError</code> is created to use in <code>operator[ ]</code> if its argument is out of range.
Because <code>operator[ ]</code> returns a reference it cannot return zero. (There are no null references.)
This is a true exceptional condition – you don’t know what to do in the current context, and
you can’t return an improbable value.""</p>
","149392","","<p>He emphasizes this to explain why throwing an exception is the only option in this case.</p>

<p>If the operator returned a pointer, it could return a null-pointer instead of throwing an exception in case of errors. But since it returns a reference and there's no such thing as a null-reference the only way to handle errors is to throw an exception.</p>
"
"<p>Is there a way to create a completely new window instance, as a child window of the main QML window in a QmlApplication?</p>

<pre><code>// ChildWindow.qml
Rectangle {
    id: childWindow
    width: 100
    height: 100
    // stuff
}

// main.qml
Rectangle {
    id: window
    width: 1000
    height: 600

    MouseArea {
        anchors.fill: parent
        onClicked: createAWindow(childWindow);
    }
}
</code></pre>

<p>I am trying to avoid writing a <code>Q_OBJECT</code> class just for instanciating the new window within a new <code>QmlApplicationViewer</code>.</p>
","149392","","<p>There is no way to create top-level windows using only built-in QML functionality.</p>

<p>However there's a project on Qt Labs called <a href=""http://labs.qt.nokia.com/2011/03/10/qml-components-for-desktop/"" rel=""nofollow"">Desktop Components</a>, which among other things contains a <a href=""http://labs.qt.nokia.com/2011/08/26/toplevel-windows-and-menus-with-qt-quick/"" rel=""nofollow"">Window component</a>, which allows you to create new top-level windows.</p>
"
"<p>I've got a series of network requests, that each take >10 seconds.<br>
So that the user knows what's happening, I give updates:</p>

<pre><code>main = do putStr ""Downloading the first thing... ""
          {- Net request -}
          putStrLn ""DONE""
          putStr ""Downloading the second thing... ""
          {- Net request -}
          putStrLn ""DONE""
</code></pre>

<p>With GHCi this works as expected, but compiled or with runghc, ""Downloading"" doesn't print till ""DONE"" does.</p>

<p>I've rewritten it with (>>=) and (>>), but I get the same problem.</p>

<p>What's going on?</p>
","149392","","<p>The problem here isn't with the execution order. The statements execute in exactly the order you expect. The problem is that due to buffering, you don't actually see the results as soon as they happen.</p>

<p>Specifically terminal IO is line-buffered by default. This means that no output will appear on the screen until you print a newline or flush the buffer. So you need to either flush the´output stream using <a href=""http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#v%3ahFlush""><code>hFlush</code></a> after executing <code>putStr</code> or you need to change stdout's buffering mode using <a href=""http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#v%3ahSetBuffering""><code>hSetBuffering</code></a> to not use line buffering.</p>
"
"<p>The signature of <code>reduceLeft</code> on some <code>Seq[A]</code> is </p>

<pre><code>def reduceLeft [B &gt;: A] (f: (B, A) =&gt; B): B 
</code></pre>

<p>The type of <code>A</code> is known, but the lower bound <code>&gt;:</code> tells us that <code>B</code> can be any supertype of <code>A</code>.</p>

<p>Why is it like this? Why not</p>

<pre><code>def reduceLeft (f: (A, A) =&gt; A): A
</code></pre>

<p>We already know that the head of the sequence is type <code>A</code> and so I can't think of how <code>B</code> could be anything other than equal to <code>A</code>. Can you provide an example where <code>B</code> is some super-type?</p>
","149392","","<p>Let's say your class B has a method <code>combine(other:B): B</code>. Now you call <code>reduceLeft((b,a) =&gt; b.combine(a))</code> on a list of <code>A</code>s. Since the return type of <code>combine</code> is <code>B</code> the type parameter to <code>reduceLeft</code> needs to be <code>B</code>.</p>
"
"<p>I wanted the following code to work. How do I make one-level variables expand?</p>

<pre><code>(let* ((data1 10)
       (data2 '(data1 20)))
  (progn data2))
</code></pre>

<p>I expected <code>(10 20)</code> but in the fact I got <code>(data1 20)</code>. Also I'd like to get <code>(10 20 (data2))</code> from the following:</p>

<pre><code> (let* ((data1 10)
        (data2 30)
        (data3 '(data 10 20 '(data2)))
   (progn data3))
</code></pre>
","149392","","<p>The reason that the variable does not expand is that you quoted the whole list using <code>'</code>. <code>'</code> is not how you create lists in lisp, it's how you quote them (i.e. cause them not to be evaluated).</p>

<p>To create a list containing the contents of <code>data1</code> and the number 20, just use <code>(list data1 20)</code>.</p>
"
"<pre><code>proc_obj = -&gt; proto { print proto; puts(""World"")}

puts proc_obj[""Hi""]

puts proc_obj.call(""Hello"") #Is this is the same as above
</code></pre>

<p>please refer me to some link to demystify this ...</p>
","149392","","<p>What is happening to that lambda is that you're calling its <code>[]</code> method, which causes the lambda to be executed with the argument <code>""Hi""</code>. And yes, calling <code>call</code> is the same as calling <code>[]</code>.</p>
"
"<p>I just started learning ruby on rails. I'm using 'Agile Web Development with Rails, 4th Edition, Rails 3.1' book. I have rails 3.1.3 installed. </p>

<p>In the examples in the book show the code like this:</p>

<pre><code>&lt;%= f.text_area :description, rows: 6 %&gt;
</code></pre>

<p>but this code doesn't work. I have to change to code to:</p>

<pre><code>&lt;%= f.text_area :description, :rows=&gt; 6 %&gt; 
</code></pre>

<p>This works but I have no idea why. Could someone explain why it is in the book like this?
<p>Thanks</p>
","149392","","<p>The book uses ruby 1.9's new syntax for hash literals. Apparently you're still using ruby 1.8, so that syntax does not work on your version.</p>

<p>Note that this is about ruby syntax and not specific to rails.</p>
"
"<p>The following sample of code if from a book ""C++ von A bis Z"" (second edition, translation: C++ from A to Z) at page 364. The sample is wrong.</p>

<pre><code>// overload operator +=
#include &lt;iostream&gt;
#include &lt;cstring&gt;
using namespace std;

class String {
private:
    char* buffer;
    unsigned int len;

public:
    String(const char* s="""") {
        // cout &lt;&lt; ""Constructor: "" &lt;&lt; s &lt;&lt; ""\n"";
        len = strlen(s);
        buffer = new char [len+1];
        strcpy(buffer, s);
    }
    ~String() {
        // cout &lt;&lt; ""Destructor: "" &lt;&lt; buffer &lt;&lt; ""\n"";
        delete [] buffer;
    }
    String(const String&amp; s) {
        // cout &lt;&lt; ""Copy_Constructor: "" &lt;&lt; s.get_buffer() &lt;&lt; ""\n"";
        len = s.len;
        buffer = new char [len+1];
        strcpy(buffer, s.buffer);
    }
    char* get_buffer() const {
        return buffer;
    }

    // returning a reference is more efficent
    // String&amp; operater+=(const String&amp; str1)
    String operator+=(const String&amp; str1) {
        // cout &lt;&lt; ""Assignment_Operator +=: "" &lt;&lt; str1.get_buffer() &lt;&lt; ""\n"";
        String tmp(*this);
        delete [] buffer;
        len = tmp.len + str1.len;
        // invalid pointer
        // buffer = new char[len+1];
        buffer = new char [len]+1;
        strcpy(buffer, tmp.buffer);
        strcat(buffer, str1.buffer);
        // wrong return_type
        // return *this;
        return buffer;
    }
};

int main(void) {
    String string1(""Adam"");
    String string2(""Eva"");
    string1+="" und "";
    string1.operator+=(string2);
    cout &lt;&lt; string1.get_buffer() &lt;&lt; ""\n"";
    return 0;
}
</code></pre>

<p>The lines with the comments are my ""fixes"". Now I want to know what ""new char [len]+1"" does? I think the following:</p>

<ul>
<li>it allocates sizeof(char)*len memory from heap</li>
<li>and returns the WRONG address to the pointer *buffer</li>
<li>but what is the wrong address: ""first address of the new memory on heap + 1"" or ""first address of the new memory on heap + sizeof(char)*1)?</li>
</ul>

<p>What happens?
Thanks</p>

<p>// edit
Thank you all! You helped me!
I just wanted to know, what this statement will return.</p>

<pre><code>new char [len]+1;
</code></pre>

<p>The line itself is, of course, a typo from the author of the book.</p>
","149392","","<p>If you add an integer <code>i</code> to a <code>T*</code>, this will add <code>sizeof(T) * i</code> to the pointer. So in this case, since <code>new char[len]</code> returns a <code>char*</code>, <code>+ 1</code> will indeed add <code>sizeof(char) * 1</code> to it.</p>
"
"<p>I'm trying to create ""autorequire"" for a package, namely if Ruby encounters an unknown constant it tries to require it, and continues where it left off if the require succeeds. Now I have something like this:</p>

<pre><code>def autoload(&amp;block)
  yield
rescue NameError =&gt; e
  if e.message[/constant/]
    require e.name.to_s.downcase rescue LoadError raise
    retry
  end
  raise
end
</code></pre>

<p>So if I use this like</p>

<pre><code>autoload {
   print ""Hello, ""
   x = ArrayFields.new
   x &lt;&lt; ""World!""
   puts x[0]
}
</code></pre>

<p>As expected, it will print <code>Hello, Hello, World!</code>. So it handles the requiring of the constant, but executes the entire given block from the beginning. So how do I skip to where the fail occurred? This is mostly for academic interest, so I'm also interested in any dangers in attempts like this. </p>
","149392","","<p>It is not possible to jump back to the point right before the exception from a rescue-clause. A more feasible approach to do what you want would be to override <a href=""http://ruby-doc.org/core-1.9.3/Module.html#method-i-const_missing"" rel=""nofollow""><code>const_missing</code></a>.</p>
"
"<p>I'm trying to learn C++ and OpenGL...</p>

<p>I want to return the first pointer of the array... but maintaing the const correctness...</p>

<p>it happened that:</p>

<pre><code>   class Foo{
   private:
       GLubyte array[64][64][4];
   public:
       const GLubyte&amp; get_array(){return array;}
   }
</code></pre>

<p>gives me this compiler error:</p>

<pre><code>:28: error: invalid initialization of reference of type 'const GLubyte&amp;' from expression of type 'GLubyte (*)[64][4]'
</code></pre>

<p>can you help me out in understanding how to return the <strike>const correctness</strike> first pointer?</p>
","149392","","<p>This has nothing to do with const correctness. You can't return an array of <code>GLubyte</code>s as if it was a single <code>GLubyte</code>. You would get the same error message if you removed the <code>const</code> and the <code>&amp;</code> (except that the error message would no longer contain the <code>const</code> and the <code>&amp;</code> either, of course).</p>

<p>Edit in response to your edit: If you want to return a <em>reference</em> to the first element, just return the first element: <code>return array[0][0][0];</code>. If you want to return a <em>pointer</em> to the first element, return the address of the first element (<code>return &amp;array[0][0][0]</code>) and change the return type to <code>GLubyte*</code> instead of <code>GLubyte&amp;</code>.</p>
"
"<p>I’ve created a function in which I can use (as far as I know) case expressions or guards.</p>

<pre><code>foo a b c = case a of 1 -&gt; [...]
                      2 -&gt; [...]
                      3 -&gt; [...] 
                      [...]
                      otherwise -&gt; error ""...""
</code></pre>

<p>or</p>

<pre><code>foo a b c | a == 1 = [...]
          | a == 2 = [...]
          | a == 3 = [...] 
          | [...]
          | otherwise = error ""...""
</code></pre>

<p>So, the question is: which of those 2 (case or guards) are “better” coding? Are both basically the same?</p>
","149392","","<p>When a guard can be rewritten as a (guardless) case-statement on one of the parameters, it's not actual necessary. I.e. you can just write it as:</p>

<pre><code>foo 1 b c = [...]
foo 2 b c = [...]
foo 3 b c = [...]
[...]
</code></pre>

<p>Which is the preferred way to write it. You'd use guards when the condition you want can't be expressed as a pattern. And you'd use a case-statement when you need to match on something other than one of the parameters.</p>
"
"<p>Regarding the size in memory for the</p>

<pre><code>List&lt;long&gt; ListOfLongs;
long[] ArrayOfLongs;
</code></pre>

<p>If each has N elements, how much memory they eat up?</p>

<p>I am asking that because as of my knowledge, .NET has not template (generics) specialization.</p>
","149392","","<blockquote>
  <p>I am asking that because as of my knowledge, .NET has not template (generics) specialization.</p>
</blockquote>

<p>.Net doesn't have template specialization in the sense that you (as the programmer) can supply different code depending on the type arguments. But the compiler still can (and does) produce different code for value types than for reference type, i.e. (unlike in Java) value types are not boxed when put into a generic container. They're stored efficiently.</p>
"
"<p>We can create, for example, new array following way:</p>

<pre><code>values = Array.new(5) { rand(6) + 1 } # [3, 2, 3, 3, 2]
</code></pre>

<p>But how does it work in terms of function arguments?</p>

<p>For example if I define some function:</p>

<pre><code>def some_func(a, b, c)
end
</code></pre>

<p>Function is defined with 3 arguments, I can make some of them optional but either way to call this function I would use</p>

<pre><code>some_func(value1)
some_func(value1, value2)
some_func(value1, value2, value3)
</code></pre>

<p>But it doesn't make sense to me in case of Array, where this block to define values go? </p>

<p><code>5</code> is definitely argument to a <code>new</code> function but what about block?</p>

<p>Thank you.</p>
","149392","","<p>Passing a block to Array.new works the same way as passing a block to any other method: It's a sort of implicit argument. It does not appear in the method's argument list (unless you ""reify"" it into a Proc using <code>&amp;</code>), but you can call it using <code>yield</code> and check whether it is there using <code>block_given?</code>.</p>

<p>For example if your <code>some_func</code> method were to take a block, it could look like this:</p>

<pre><code>def some_func(a,b,c)
  if block_given?
    yield a+b+c
  else
    a+b+c
  end
end

some_func(1,2,3) #=&gt; 6
some_func(1,2,3) {|x| x*2} #=&gt; 12
</code></pre>
"
"<p>Why does the following code compile:</p>

<pre><code>int main()
{
   int j = 1;
   int *jp = &amp;j;

   cout &lt;&lt; ""j is "" &lt;&lt; j &lt;&lt; endl;
   cout &lt;&lt; ""jp is "" &lt;&lt; jp &lt;&lt; endl;
   cout &lt;&lt; ""*jp is "" &lt;&lt; *jp &lt;&lt; endl;
   cout &lt;&lt; ""&amp;j is "" &lt;&lt; &amp;j &lt;&lt; endl;
   cout &lt;&lt; ""&amp;jp is "" &lt;&lt; &amp;jp &lt;&lt; endl;
}
</code></pre>

<p>but not this?</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;
int main()
{
   int j = 1;
   int *jp;
   *jp =&amp; j; // This is the only change I have made.
   cout &lt;&lt; ""j is "" &lt;&lt; j &lt;&lt; endl;
   cout &lt;&lt; ""jp is "" &lt;&lt; jp &lt;&lt; endl;
   cout &lt;&lt; ""*jp is "" &lt;&lt; *jp &lt;&lt; endl;
   cout &lt;&lt; ""&amp;j is "" &lt;&lt; &amp;j &lt;&lt; endl;
   cout &lt;&lt; ""&amp;jp is "" &lt;&lt; &amp;jp &lt;&lt; endl;
}
</code></pre>

<p>This compiles when I do <code>jp = &amp;j</code>, why? I have only initialized <code>jp</code> in another line, this is not making sense to me.</p>
","149392","","<p><code>*jp =&amp; j;</code> says ""write the value of <code>&amp;j</code> to the location that <code>jp</code> points to"". This is wrong a) because <code>jp</code> doesn't point to anything and b) because <code>&amp;j</code> is a pointer and the value that <code>jp</code> points to should be an int, not a pointer.</p>
"
"<p>Essentially, I'd like to do the following as a one-liner:</p>

<pre><code>        int sum = initialValue;
        for (int n : collectionOfInts) {
            sum += n;
        }
        return sum;
</code></pre>

<p>I see that there's <a href=""http://functionaljava.org/examples/1.5/#Array.foldLeft"" rel=""nofollow"">http://functionaljava.org/examples/1.5/#Array.foldLeft</a>, but I'd rather not have to copy the collection.</p>
","149392","","<blockquote>
  <p>I see that there's <a href=""http://functionaljava.org/examples/1.5/#Array.foldLeft"" rel=""nofollow"">http://functionaljava.org/examples/1.5/#Array.foldLeft</a>, but I'd rather not have to copy the collection.</p>
</blockquote>

<p>If you use the foldLeft from <a href=""http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/data/IterableW.html#foldLeft%28fj.F,%20B%29"" rel=""nofollow"">IterableW</a> instead of Array, you won't have to copy anything.</p>
"
"<p>When I call <code>next()</code> I have an extraneous <code>[]</code> in <code>@current</code>. How can I fix this?</p>

<pre><code>class Result    
  attr_accessor :current

  def initialize(*previous)
    @current = previous
    p @current
  end

  def next()
    res = Result.new(@current)
  end
end

res = Result.new([2,2], [3,3], [4,4])
nextArray = res.next
</code></pre>
","149392","","<p>You'll need to do <code>Result.new(*@current)</code> with an asterisk before the <code>previous</code>, so the array gets ""splatted"" back into a list of arguments, so you're calling <code>Result.new</code> with three arguments rather than one array containing three arrays.</p>
"
"<p>For example, in OCaml when you are appending an item to a list of length n.</p>

<pre><code>x@[mylist]
</code></pre>
","149392","","<p>Yes, the runtime of <code>@</code> in OCaml is <code>O(n)</code> (where <code>n</code> is the length of the left operand).</p>

<p>Generally appending to the end of an immutable singly linked list (or an immutable doubly linked list for that matter) will always be <code>O(n)</code>.</p>
"
"<p>Running:</p>

<pre><code>lazy val s: Stream[Int] = 1 #:: 2 #:: {val x = s.tail.map(_+1); println(""&gt; "" + x.head); x}
s.take(5).toList
</code></pre>

<p>I'd expect:</p>

<pre><code>&gt; List(2, 3)
&gt; List(2, 3, 4)
List(1, 2, 3, 4, 5)
</code></pre>

<p>And I get:</p>

<pre><code>&gt; 3
List(1, 2, 3, 4, 5)
</code></pre>

<p>Could you explain it to me?</p>
","149392","","<p>The reason that you're getting an <code>Int</code> instead of a <code>List</code> is that <code>s</code> is a stream of integers, so it contains integers, not lists.</p>

<p>The reason why you get 3 is that the tail of (1,2,3,4,5,...) (i.e. <code>s</code>) is (2,3,4,5,...) and if you map +1 over that, you will get (3,4,5,6,7,...) and the head of that is 3.</p>

<p>The reason why only one integer is printed is that the expression is only evaluated once to get the stream for the tail. After that only the stream returned by <code>s.tail.map(_+1)</code> is evaluated (which doesn't contain any print statements).</p>
"
"<p>I would like to generate a powerset of a rather big set (about 30-50 elements) and I know that it takes <code>2^n</code> to store the powerset.</p>

<p>Is it possible to generate one subset at a time? </p>

<p>I.e. generate a powerset of a set with iterations, saving each generated subset to disk/database, removing it from the stack/memory and only then continuing to generate other subsets? </p>

<p>Unfortunately I have failed to modify <a href=""http://rosettacode.org/wiki/Power_set#Erlang"" rel=""nofollow"">Erlang</a> and <a href=""http://rosettacode.org/wiki/Power_set#Ruby"" rel=""nofollow"">Ruby</a> examples to my needs.</p>
","149392","","<p>One way to generate a powerset of a list (which is in fact the one that your Erlang example uses) is to iterate over all numbers <code>x</code> from 0 to 2^n (exclusive) and for each <code>x</code>, generate the list that contains the <code>i</code>th element of the original list if and only if the <code>i</code>th bit of <code>x</code> is set.</p>

<p>Since using this approach generating the current list only depends on the value of <code>x</code> and not on any of the previously generated lists, you don't have to keep the lists in memory after using them. So this approach can be used to do what you want.</p>
"
"<p>Given the following code:</p>

<pre><code>bool doGoodThing;

switch (some_variable)
{
case 1:
case 2:
    doGoodThing = true;

default:
    doGoodThing = false;
}
</code></pre>

<p>Latest <code>gcc</code> version are smart enough to detect when variables are being assigned to but still not used, etcetera. Is there any compiler or flag that could trigger a warning saying that the whole switch does not make any sense for a code like this?</p>

<p><strong>UPDATE</strong>: The question is not about <code>doGoodThing</code> variable. It is about a silly <code>switch</code> statement that doesn't make much sense.</p>

<p><strong>UPDATE 2</strong>: Passing ""dupe"" voters, before you mark it as a duplicate - read a question one more time. This is not about a warning for a missing ""break"" statement after ""case"". This is about dead code, logical errors, static semantics analysis of the code by compiler. I do not need a warning if ""break"" is not there.</p>
","149392","","<p>Okay, so we're looking for a rule by which</p>

<pre><code>bool doGoodThing;

switch (some_variable)
{
case 1:
case 2:
    doGoodThing = true;

default:
    doGoodThing = false;
}
</code></pre>

<p>would produce a warning, but</p>

<pre><code>bool doGoodThing;

switch (some_variable)
{
case 1:
case 2:
    doGoodThing = true;
    break;

default:
    doGoodThing = false;
}
</code></pre>

<p>(which presumably is the intended code here) would not. One relatively simple way to go about this would be to always warn about fall-through except if a case is empty. I.e. don't warn about the fall through from case 1 to case 2 because there's no code in between, but warn about the fall through from 2 to default. However this approach would still warn about code that might be intentional.</p>

<p>A more sophisticated rule would be this: Produce a warning whenever there is an assignment to a variable <code>x</code> such that there is no possible execution path, such that the assigned value would be used. I.e. in all possible execution paths that involve <code>x</code> being assigned the value <code>v</code>, <code>x</code> will either be reassigned to something else or go out of scope before any code that uses <code>x</code> is executed. This would warn about your code, but not the fixed example.</p>

<p>Performing this analysis is definitely possible. However I'm not aware of any compiler that currently does such analysis (though all that really means is that gcc doesn't).</p>
"
"<p>I am new to ruby and I want to extract <code>[ ""a"" , ""3"" ]</code> from <code>""a[3]""</code>. I am using the following:</p>

<pre><code>pin = ""a[3]""
a = Array.new
a = pin.split(/\[/)
if a.length == 1
  return a
elsif a.length == 2
  a[1].gsub( /\]/, // )
  return a
else
  raise "" Error , Invalid syntax for pin #{pin}. ""
end
</code></pre>

<p>I am getting this error:</p>

<pre><code>t:8:in `gsub': can't convert Regexp into String (TypeError)
</code></pre>

<p>I couldn't understand it.</p>
","149392","","<p>The second argument to <code>gsub</code> needs to be a string(<code>""""</code>), not a regex(<code>//</code>).</p>
"
"<p>Say I have class B derived from class A</p>

<p>Is it possible to invoke overrided method of A like this?</p>

<pre><code>class A
  def method1
  end
  def method2
  end
end

class B &lt; A
  def method1
  ### invoke method2 of class A is what I want to do here
  end
  def method2
  end
end
</code></pre>

<p># not exactly duplicate to <a href=""http://stackoverflow.com/questions/5215873/how-do-i-call-an-overridden-parent-class-method-from-a-child-class"">How do I call an overridden parent class method from a child class?</a>      , but we seem want to do the same thing.</p>
","149392","","<p>I'm assuming here that B is supposed to inherit from A and you simply made a typo in your example code. If this is not the case, there is no way to do what you want.</p>

<p>Otherwise you can do what you want using reflection by binding <code>A</code>'s <code>method2</code> instance method to your current <code>B</code> object and calling it like this:</p>

<pre><code>class A
  def method1
  end
  def method2
  end
end

class B &lt; A
  def method1
    A.instance_method(:method2).bind(self).call
  end
  def method2
  end
end
</code></pre>

<p>Note though that you shouldn't pull out the big black-magic-guns like this unless you really need to. In most cases redesigning your class hierarchy so that you don't need to do this is the better alternative.</p>
"
"<p>I have a hash like this:</p>

<pre><code>{
 1=&gt;[""a"", ""b""], 
 2=&gt;[""c""], 
 3=&gt;[""a"", ""d"", ""f"", ""g""], 
 4=&gt;[""q""]
}
</code></pre>

<p>How can I iterate it in order to get output like this:</p>

<pre><code>1-----

a

b

2-----

c

3-----

a 

d

f

g
</code></pre>
","149392","","<pre><code>hash.each do |key, array|
  puts ""#{key}-----""
  puts array
end
</code></pre>

<p>Regarding order I should add, that in 1.8 the items will be iterated in random order (well, actually in an order defined by Fixnum's hashing function), while in 1.9 it will be iterated in the order of the literal.</p>
"
"<pre>
class A
  def a
    puts 'in #a'
  end
end

class B &lt; A
  def a
    b()
  end
  def b
    # here i want to call A#a.
  end
end  
</pre>
","149392","","<p>There's no nice way to do it, but you can do <code>A.instance_method(:a).bind(self).call</code>, which will work, but is ugly.</p>

<p>You could even define your own method in Object to act like super in java:</p>

<pre><code>class SuperProxy
  def initialize(obj)
    @obj = obj
  end

  def method_missing(meth, *args, &amp;blk)
    @obj.class.superclass.instance_method(meth).bind(@obj).call(*args, &amp;blk)
  end
end

class Object
  private
  def sup
    SuperProxy.new(self)
  end
end

class A
  def a
    puts ""In A#a""
  end
end

class B&lt;A
  def a
  end

  def b
    sup.a
  end
end
B.new.b # Prints in A#a
</code></pre>
"
"<p>One of my colleagues told me today that some projects use a weird, IMHO, way of versioning their releases. If the release is unstable, the minor version is an odd number, eg. 1.3, 1.5. On the other hand, stable releases have an even minor version number, eg. 1.2, 1.4.</p>

<p>At first I couldn't believe my ears, it seemed unreal. Then <a href=""http://en.wikipedia.org/wiki/Software%5Fversioning#Odd-numbered%5Fversions%5Ffor%5Fdevelopment%5Freleases"" rel=""nofollow"">Wikipedia</a> enlightened me that it is a practice coming from the Linux kernel community, although it seems(?) to have been dropped recently.</p>

<p>A few hours later, I'm reading <a href=""http://whytheluckystiff.net/ruby/pickaxe/html/preface.html"" rel=""nofollow"">Programming Ruby's preface</a>, and what do I see? Ruby uses the same convention for version numbers.</p>

<p>What's your experience with this? What (open-source) projects/products you know of that use this versioning schema? Is there an easy way to figure it out quickly if they observe this convention? Is it that popular? I've begun software development a little more than 3 years ago and haven't heard about this practice before.</p>

<p>Thanks for your responses.</p>
","149392","","<p>GTK+ and GNOME also use that versioning scheme. Note that ruby does not use this scheme anymore since 1.9 (which is stable).</p>
"
"<p>Suppose we have N numbers(integers, floats, whatever you want) and want to find their arithmetic mean. Simplest method is to sum all values and divide by number of values:</p>

<pre><code>def simple_mean(array[N]): # pseudocode
    sum = 0
    for i = 1 to N
       sum += array[i]
    return sum / N
</code></pre>

<p>It works fine, but requires big integers.
If we don't want big integers and we are fine with rounding errors, and N is the power of two, we can use 'divide-and-conquer' :  <code>((a+b)/2 + (c+d)/2)/2 = (a+b+c+d)/4</code>,  <code>((a+b+c+d)/4 + (e+f+g+h)/4)/2 = (a+b+c+d+e+f+g+h)/8</code>, so on.</p>

<pre><code>def bisection_average(array[N]):
   if N == 1: return array[1]
   return (bisection_average(array[:N/2])+bisection_average(array[N/2:]))/2
</code></pre>

<p>Any other ways? </p>

<p>PS. <a href=""http://codepad.org/wCRCbeFl"">playground for lazy</a></p>
","149392","","<p>Here's a way to calculate the mean using just integers without rounding errors and avoiding big intermediate values:</p>

<pre><code>sum = 0
rest = 0
for num in numbers:
  sum += num / N
  rest += num % N
  sum += rest / N
  rest = rest % N

return sum, rest
</code></pre>
"
"<p>My regex pattern looks something like</p>

<pre><code>&lt;xxxx location=""file path/level1/level2"" xxxx some=""xxx""&gt;
</code></pre>

<p>I am only interested in the part in quotes assigned to location. Shouldn't it be as easy as below without the greedy switch? </p>

<pre><code>/.*location=""(.*)"".*/
</code></pre>

<p>Does not seem to work.</p>
","149392","","<p><code>location=""(.*)""</code> will match from the "" after <code>location=</code> until the "" after <code>some=""xxx</code> unless you make it non-greedy. So you either need <code>.*?</code> (i.e. make it non-greedy) or better replace <code>.*</code> with <code>[^""]*</code>.</p>
"
"<p>Python language has a well known feature named <a href=""http://docs.python.org/tutorial/interpreter.html#interactive-mode"" rel=""nofollow"">interactive mode</a> where the interpreter can read commands directly from tty.<br>
I typically use this mode to test if a given module is in the classpath or to play around and  test some snippets.</p>

<p>Do you know any other programming languages that have Interactive Mode?</p>

<p>If you can, give the name of the languages and where possible, a web reference.<br>
 If it is already mentioned, you can just vote for it. </p>
","149392","","<p>Most (all?) lisps (including common lisp, scheme and clojure), sml, ocaml, haskell, F#, erlang, scala, ruby, python, lua, groovy, prolog.</p>
"
"<p>I'm designing a programming language, purely for fun, and want to add as many experimental features as I can, just to make programming in it something completely different, and that not in a bad way like Brainf*ck or Malbolge.</p>

<p>However, I seem to be quite bad at coming up with new things for it but I'm sure that there are tons of things out there that have been talked about but never really tried out.</p>

<ul>
<li>What experimental language features or concepts not implemented in mainstream languages are there at the moment?</li>
</ul>

<p>E.g: If I asked this in, let's say, 1960, an answer could be ""Object-oriented programming"".</p>

<p>I'm sure that there are a lot of unimplemented ideas computer-scientists have (recently) come up with, at least I was told so.</p>
","149392","","<p>One current area of research are <a href=""http://en.wikipedia.org/wiki/Dependent_type"" rel=""nofollow"">dependent types</a>. There's still a lot of things you can do with those, that hasn't been done yet.</p>
"
"<p>Are there any open source projects out there that are written in a functional programming language and that people can contribute on? I am trying to increase my area of expertise to a functional programming language and I think contributing to a project might be the way to go. Maybe some OCaml  or Lisp projects?</p>
","149392","","<p><a href=""http://www.mldonkey.org/"" rel=""nofollow"">MLdonkey</a> is written in OCaml.</p>

<p>Of course various libraries for functional languages are also generally written in the respective language. So you can find a lot of projects on the language's ""library hub"". For example for haskell there's <a href=""http://hackage.haskell.org/"" rel=""nofollow"">hackage</a>, which is full of open source haskell projects.</p>
"
"<p>Well that may sound like a troll question, but since C++ seems hard to fully master (and I never really knew STL was actually ""part"" of it), I wanted to know what are the disadvantages to use C instead of C++ when not relying much on OOP.</p>

<p>C++ can have a very much sophisticated syntax sometimes, which is kinda confusing me while trying to use OGRE3D for example...</p>
","149392","","<p>Non-OO features that C++ has that C does not:</p>

<ol>
<li>Templates</li>
<li>Function overloading</li>
<li>References</li>
<li>Namespaces</li>
<li>You can use <code>struct</code>s and <code>enum</code>s without writing <code>struct</code> or <code>enum</code> before every declaration or using typedefs.</li>
<li>Even if you don't define your own classes, using C++'s string and container classes is still often more convenient and safe to work with than c-style strings and arrays.</li>
<li>Type safety (even though some would call it weak)</li>
<li>Exceptions</li>
<li>Variable declarations in conditionals, C99 only has it in <code>for</code></li>
</ol>
"
"<p>The following function will not load:</p>

<pre><code>charName :: a -&gt; String
charName 'a' = ""Alpha""
charName 'b' = ""Bravo""
charName 'c' = ""Charlie""
charName 'd' = ""Delta""
charName 'e' = ""Echo""
charName 'f' = ""Foxtrot""
charName 'g' = ""Golf""
charName 'h' = ""Hotel""
charName 'i' = ""India""
charName 'j' = ""Juliet""
charName 'k' = ""Kilo""
charName 'l' = ""Lima""
charName 'm' = ""mike""
charName 'n' = ""November""
charName 'o' = ""Oscar""
charName 'p' = ""Papa""
charName 'q' = ""Quebec""
charName 'r' = ""Romeo""
charName 's' = ""Sierra""
charName 't' = ""Tango""
charName 'u' = ""Uniform""
charName 'v' = ""Victor""
charName 'w' = ""Whiskey""
charName 'x' = ""X-ray""
charName 'y' = ""Yankee""
charName 'z' = ""Zulu""
charName 0 = ""Zero""
charName 1 = ""One""
charName 2 = ""Two""
charName 3 = ""Three""
charName 4 = ""Four""
charName 5 = ""Five""
charName 6 = ""Six""
charName 7 = ""Seven""
charName 8 = ""Eight""
charName 9 = ""Nine""
charName x = """"
</code></pre>

<p>It gives me the following error:</p>

<blockquote>
  <p>[1 of 1] Compiling Main             ( baby.hs, interpreted )</p>
  
  <p>baby.hs:41:9:
      Couldn't match expected type <code>a' against inferred type</code>Char'
        <code>a' is a rigid type variable bound by
            the type signature for</code>charName' at baby.hs:40:12
      In the pattern: 'a'
      In the definition of `charName': charName 'a' = ""Alpha""</p>
  
  <p>baby.hs:67:9:
      No instance for (Num Char)
        arising from the literal <code>0' at baby.hs:67:9
      Possible fix: add an instance declaration for (Num Char)
      In the pattern: 0
      In the definition of</code>charName': charName 0 = ""Zero""
  Failed, modules loaded: none.</p>
</blockquote>

<p>Not sure how I can get this to work.  Does anybody have any ideas?</p>
","149392","","<p>The types of the argument in the different cases of <code>charName</code> do not match. Sometimes you use a <code>Char</code> (for example <code>'a'</code>) and sometimes you use a number (for example <code>9</code>).</p>

<p>There is no way you can make this work by just changing the type signature. (Well, there is one way: add an instance <code>Num Char</code>, but that would be a really bad idea).</p>

<p>The only sane way to achieve what you intended to do is change the numbers to <code>Char</code>s (i.e. <code>'0'</code> instead of <code>0</code> etc.).</p>
"
"<p>I've been playing with Clojure recently and it got me thinking...</p>

<p>What are you looking for from a programming language before you will consider using it out of choice? What is it about a language that will make you take notice and look into it?</p>

<p>Things that immediately sprang to my mind are the tools available. I find having a very good debugger, profiler and possibly a REPL all make using a language more enjoyable. </p>
","149392","","<ol>
<li>Higher order functions</li>
<li>Type inference (preferred) or dynamic typing</li>
<li>Pattern matching is nice, but not an absolute requirement</li>
<li>Same for good meta-programming facilities</li>
</ol>
"
"<p>Which way of writing this condition is better?</p>

<p>1)</p>

<pre><code>(self.expense_gl_dist_code.dist_type == GlDistCode::PERCENTAGE || self.expense_gl_dist_code.dist_type == GlDistCode::MIXED)
</code></pre>

<p>2) </p>

<pre><code>[""GlDistCode::PERCENTAGE"",""GlDistCode::MIXED""].include?(self.expense_gl_dist_code.dist_type)
</code></pre>
","149392","","<p>I find the second clearer for two reasons:</p>

<p>1) In the second version the elements being checked for are all next to each other, separated by commas. In the first version there's always <code>self.expense_gl_dist_code.dist_type ==</code>, so it's less easy to scan them all at once.</p>

<p>2) In the second version it's immediately obvious that all elements are checked for the same condition, while in the first version it could say something like </p>

<pre><code>dist_type == GlDistCode::PERCENTAGE || dist_type == GlDistCode::MIXED || dist_type != GlDistCode::WHATEVER
</code></pre>

<p>and you might not notice right away.</p>
"
"<p>What are some examples of large projects (e.g., web sites) programmed in Lisp or a Lisp framework?</p>
","149392","","<p>Most of emacs and its many extensions/modes are written in <a href=""http://en.wikipedia.org/wiki/Emacs_Lisp"" rel=""nofollow"">emacs lisp</a>.</p>
"
"<p>I read a book about scheme, and it has the next example:</p>

<pre><code>(define map
   (lambda (f s)
     (if (null? s)
         '()
          (cons (f (car s))
                (map f (cdr s)))))

(map (lambda (s)
        (set! s '(1 2 3 4))
        'hello)
     '(a b c d))
</code></pre>

<p>It say that in dynamic scope, we will enter to infinite loop. But why? As I understood, After we apply the application, we arrive to map with </p>

<pre><code>f = (lambda (s)
        (set! s '(1 2 3 4))
        'hello)
</code></pre>

<p>and s= <code>'(a b c d)</code>. Now, for the first run, we will apply <code>f</code> on <code>(car '(a b c d)</code>:</p>

<pre><code>((lambda (s)
    (set! s '(1 2 3 4))
    'hello)
 (car '(a b c d)))
</code></pre>

<p>And now, It change <code>a</code> to be <code>(1 2 3 4)</code>. And so on.. Where is the loop here?</p>
","149392","","<p>I think what the author means is that after <code>f (car s)</code> executes, the value of <code>s</code> will be <code>'(1 2 3 4)</code>, so the value of <code>(cdr s)</code> will be <code>'(2 3 4)</code>, so you'll call <code>(map f '(2 3 4))</code> every time ad infinitum.</p>

<p>However I do not think this is an accurate depiction of dynamic scoping. Since <code>s</code> is a parameter to the lambda (and thus not a free variable), only that parameter should be affected by the <code>set!</code> and the <code>s</code> of the <code>map</code> function should be unaffected. So there should be no infinite loop - whether you're using dynamic scoping or not. And if I translate the code to elisp (which is dynamically scoped), the code does in fact not cause an infinite loop. So I'd say your book is wrong in saying there'd be an infinite loop using dynamic scoping.</p>
"
"<p>I am writing a prolog code and in the middle I want to add 2 variables and store it in one of them
I want to write some like this</p>

<pre><code>N is N+R.
</code></pre>

<p>but it wont accept this can anyone tell me why and whats is the correct syntax
Thank you</p>
","149392","","<p>There is no correct syntax. N can't be equal to N+R (unless R is 0, in which case N will be N+R no matter what the value of N is). You can't update the value of a variable to something new the way you intend to. Prolog doesn't work like that.</p>

<p>Prolog doesn't have the concept of a variable having one value at one point in time and then having another value after a given statement executes. All you can ever do to a variable is restrict its possible values.</p>

<p>Obviously I don't know the big picture of what you're trying to do here, but perhaps you can achieve what you want by calling your predicate recursively with <code>NPR</code> being the new value for N (where <code>NPR is N + R</code>).</p>
"
"<p>I am learning Scheme and want to write a recursive procedure which output to the console in each run level: </p>

<pre><code>(define (dummy count)
    (if (= 0 count)        
        (runtime)
        ((display ""test"" console-i/o-port) (dummy (- count 1)))))
</code></pre>

<p>And then test with: </p>

<pre><code>(dummy 10)
</code></pre>

<p>But it appears that only the output of the last procedure called will be printed out.
What should I do to make it happen? Thanks. (I am using Mit-scheme)</p>
","149392","","<pre><code>((display ""test"" console-i/o-port) (dummy (- count 1)))
</code></pre>

<p>This is a function call where <code>(display ""test"" console-i/o-port)</code> is the function that's supposed to be called and <code>(dummy (- count 1))</code> is the argument to that function. Since `(display ""test"" console-i/o-port) does not actually return a function, this will cause an error (after printing test).</p>

<p>To do what you actually want to do (first execute <code>(display ...)</code> and then execute <code>(dummy ...)</code>), you can use the <code>begin</code> form like this:</p>

<pre><code>(begin (display ""test"" console-i/o-port) (dummy (- count 1)))
</code></pre>
"
"<p>When reading up on type classes I have seen that the relationship between Functors, Applicative Functors, and Monads is that of strictly increasing power. Functors are types that can be mapped over. Applicative Functors can do the same things with <em>certain</em> effects. Monads the same with <em>possibly unrestrictive</em> effects. Moreover:</p>

<pre><code>Every Monad is an Applicative Functor
Every Applicative Functor is a Functor
</code></pre>

<p>The definition of the Applicative Functor shows this clearly with:</p>

<pre><code>class Functor f =&gt; Applicative f where
  pure  :: a -&gt; f a
  (&lt;*&gt;) :: f (a -&gt; b) -&gt; f a -&gt; f b
</code></pre>

<p>But the definition of Monad is:</p>

<pre><code>class Monad m where
  return :: a -&gt; m a
  (&gt;&gt;=)  :: m a -&gt; (a -&gt; m b) -&gt; m b
  (&gt;&gt;)   :: m a -&gt; m b -&gt; m b
  m &gt;&gt; n = m &gt;&gt;= \_ -&gt; n
  fail   :: String -&gt; m a
</code></pre>

<p>According to Brent Yorgey's great <a href=""http://www.haskell.org/haskellwiki/Typeclassopedia#Monad"">typeclassopedia</a> that an alternative definition of monad could be:</p>

<pre><code>class Applicative m =&gt; Monad' m where
  (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b
</code></pre>

<p>which is obviously simpler <em>and</em> would cement that Functor &lt; Applicative Functor &lt; Monad. So why isn't this the definition? I know applicative functors are new, but according to the <a href=""http://www.haskell.org/definition/haskell2010.pdf"">2010 Haskell Report</a> page 80, this hasn't changed. Why is this?</p>
","149392","","<p>Changing the definition of Monad at this point, would have broken a lot of existing code (any piece of code that defines a Monad instance) to be worthwhile.</p>

<p>Breaking backwards-compatibility like that is only worthwhile if there is a large practical benefit to the change. In this case the benefit is not that big (and mostly theoretical anyway) and wouldn't justify that amount of breakage.</p>
"
"<p>I am learning RX (Reactive Extensions), I tried to use some code samples from internet, the source code was in C#:</p>

<pre class=""lang-cs prettyprint-override""><code>var input = Observable.Range(1, 100); 
input.Sum().Subscribe(x =&gt; Console.WriteLine(""The Sum is {0}"", x)); 
</code></pre>

<p>Since I don't really ""SPEAK"" C#, so I want to use F# to do the same thing.
I download RX, and create a F# windows application, add reference to System.Reactive.  My IDE is VS 2010 Ultimate, RX version is: 1.1.11111
Here is my code:</p>

<pre><code>#light
open System
open System.Collections.Generic
open System.ComponentModel
open System.Linq
open System.Text
open System.Reactive
open System.Reactive.Linq

let input = Observable.Range(1, 100)
let x = input.Sum().Subscribe()
printfn ""%A"" x
</code></pre>

<p>The result should be 5050, as the sum of 1 to 100 is 5050. However, I can see only this:
System.Reactive.AutoDetachObserver`1[System.Int32]</p>

<p>Please let me know how I can see the result for 5050.
I hope the C# code will work in F# too.  If not, please let me know what I can do.
Thanks and Happy New Year to you all!</p>
","149392","","<p>The <code>Subscribe</code> method takes a function as its argument (<code>x =&gt; foo</code> is an anonymous function (lambda expression) in C#). So you should also call it with a function as its argument:</p>

<pre><code>let input = Observable.Range(1, 100)
input.Sum().Subscribe(fun x -&gt; printfn ""%A"" x)
</code></pre>

<p>Or</p>

<pre><code>let input = Observable.Range(1, 100)
input.Sum().Subscribe(printfn ""%A"")
</code></pre>
"
"<pre><code>  int x = 4;
  int* q = &amp;x;                 // Is it always equivalent to int *q = &amp;x;  ?
  cout &lt;&lt; ""q = "" &lt;&lt; q &lt;&lt; endl; // output: q = 0xbfdded70
  int i = *q;                  // A
  int j = *(int*)q;            // B, when is this necessary?
  cout &lt;&lt; ""i = "" &lt;&lt; i &lt;&lt; endl; // output: i = 4
  cout &lt;&lt; ""j = "" &lt;&lt; j &lt;&lt; endl; // output: j = 4
</code></pre>

<p>My question is what does lines A and B do, and why the outputs are both 4?</p>
","149392","","<p>Line A takes the value that <code>q</code> points to and assigns it to <code>i</code>. Line b casts <code>q</code> to the type <code>int*</code> (which is <code>q</code>'s type already, so that cast is entirely redundant/pointless), then takes the value that q points to and assigns it to <code>j</code>.</p>

<p>Both give you 4 because that's the value that <code>q</code> points to.</p>
"
"<p>This is very junior, but how does one express a ""but"" as a conditional statement? The language really doesn't matter. I was trying to wrap my brain around how it's interpreted in code and couldn't seem to find any information when researching.</p>

<p>for example in pseudo-code</p>

<pre><code> I like Apples, but I like Washington apples more
</code></pre>
","149392","","<p>I can't think of any context in which ""but"" means something other than ""and"" (except for the fact that it implies a sense of contradiction, but I don't see how that would translate into code), so just use the language's ""and""-operator, i.e. <code>&amp;&amp;</code> for most languages.</p>
"
"<p>When compiling</p>

<pre><code>void ambig(  signed long) { }
void ambig(unsigned long) { }

int main(void) { ambig(-1); return 0; }
</code></pre>

<p>I get</p>

<pre><code>error C2668: 'ambig' : ambiguous call to overloaded function
    could be 'void ambig(unsigned long)'
    or 'void ambig(long)'
while trying to match the argument list '(int)'
</code></pre>

<p>I know I can 'fix' it by saying <code>-1L</code> instead of <code>-1</code>, but why/how exactly is this considered ambiguous in the first place?</p>
","149392","","<p>The constant <code>-1</code> has the type <code>int</code>. So you're calling <code>ambig</code> with an <code>int</code> as an argument. <code>ambig</code> doesn't have an overload that accepts an <code>int</code>, so we'll have to look at the implicit conversions that we could do. An <code>int</code> can be implicitly converted to a <code>long</code> or an <code>unsigned long</code> (among other things), both of which would be valid arguments to <code>ambig</code>. So the compiler doesn't know which conversion to pick and you need to cast manually (or use a long constant (<code>-1l</code>) instead of an int constant to begin with).</p>

<p>The fact that <code>-1</code> is a negative number doesn't factor into it because the compiler doesn't look at the arguments value, just its type.</p>
"
"<p>I'm trying to write a program which generates a pseudo-random number and allows the user to guess it. When the user guesses the number wrong, as is most likely, I would like the function to return to the beginning of the conditional loop, not the very beginning of the function (which would cause it to generate a new pseudo-random number). Here's what I have so far:</p>

<pre><code>def guessingGame():
    import random
    n = random.random()
    input = raw_input(""Guess what integer I'm thinking of."")
    if int(input) == n:
        print ""Correct!""
    elif int(input) &lt; n:
        print ""Too low.""
        guessingGame()
    elif int(input) &gt; n:
        print ""Too high.""
        guessingGame()
    else:
        print ""Huh?""
        guessingGame()
</code></pre>

<p>How could make the pseudo-random number locally immutable so that after a wrong guess the number would not change?</p>
","149392","","<p>The simplest thing to do here would probably be to just use a loop here - no recursion.</p>

<p>However if you're set on using recursion, you can just put the conditional into its own function that takes the random number as an argument and can the recursively call itself without recalculating the number.</p>
"
"<p>I'm running my Ubuntu install in the swedish language so when I compile my c++ program thru emacs it spits out the warnings in swedish. That makes it harder to search for solutions to problem and to ask questions here on Stack Overflow. Therefor I ask how I can make Emacs change the LANG-parameter before executing <code>make -k</code>. It seems like it should'nt be that hard. But I could'nt figure it out by googleing.</p>

<h1>Solution</h1>

<p>Based om sepp2k:s answer this is what I added to my .emacs file:</p>

<pre><code>; Change compile-command
(add-hook 'c-mode-common-hook
  (lambda ()
    (set (make-local-variable 'compile-command) ""LANG=C make -k"")))
</code></pre>
","149392","","<p>You can just use <code>LANG=C make -k</code> as your compilation command. This will invoke <code>make</code> with <code>LANG</code> set to <code>C</code>.</p>
"
"<p>Can somebody please explain the error in the following snippet of code. in this code i have tried to implement the inorder traversal of BST while taking the input from the user</p>

<pre><code>import System.IO

loop :: Int -&gt; [Int] -&gt; IO [Int]
loop 0 ls = return ls
loop n ls = do newNumber &lt;- readLn
               loop (n-1) (newNumber:ls)

data Tree a = EmptyTree | Node a ( Tree a) ( Tree a) deriving ( Show,Read, Eq)

singleton :: a -&gt; Tree a 
singleton x = Node x EmptyTree EmptyTree

treeInsert :: ( Ord a) =&gt; a -&gt; Tree a -&gt; Tree a
treeInsert x EmptyTree = singleton x
treeInsert x ( Node a left right)
                    | x==a = Node x left right
                    | x&lt;a = Node a (treeInsert x left) right
                    | x&gt;a = Node a left (treeInsert x right)

inorder :: Tree a -&gt; [a]
inorder EmptyTree = []
inorder (Node a left right) = inorder left ++ [a] ++ inorder right

main = do
   putStrLn "" Please enter the number""
   number &lt;- readLn :: IO Int
   putStrLn $ ""The num is:"" ++ show number
   xs &lt;- loop number []
   let numtree = foldr treeInsert EmptyTree xs
   print numtree
   ys &lt;- inorder numtree
   print ys
</code></pre>

<p>the error i get is:</p>

<pre><code>Couldn't match expected type `IO t0' with actual type `[a0]'
In the return type of a call of `inorder'
In a stmt of a 'do' expression: ys &lt;- inorder numtree
In the expression:
  do { putStrLn "" Please enter the number"";
       number &lt;- readLn :: IO Int;
         putStrLn $ ""The num is:"" ++ show number;
       xs &lt;- loop number [];
       .... }
</code></pre>
","149392","","<p>Some problems I see with the code are:</p>

<ol>
<li>You're calling a <code>loop</code> function that you did not define or import anywhere</li>
<li>You did not indent the contents of <code>main</code></li>
<li>You write <code>ys &lt;- inorder numtree</code>, which implies that <code>inorder</code> returns an <code>IO something</code>, but it does not. You should use <code>let</code> instead.</li>
<li>Your <code>do</code>-block ends with a <code>&lt;-</code> assignemnt - it should end with an expression.</li>
</ol>
"
"<p>I have a function defined like this:</p>

<pre><code> let test_func lis =
   match lis with h::t -&gt;
    match h with h2::t2 -&gt;
      h2
    | [] -&gt;
      []
  | [] -&gt;
    [];;
</code></pre>

<p>When compiled, I get a warning that this function does not match the pattern [] - even though I defined it as the second case! I have found that I can fix this by surrounding the second match statement with parens:</p>

<pre><code> let test_func lis =
   match lis with h::t -&gt;
    (match h with h2::t2 -&gt;
      h2
    | [] -&gt;
      [])
  | [] -&gt;
    [];;
</code></pre>

<p>but I was wondering why this is necessary. In addition, swapping the first and second case in the top level match statement also works:</p>

<pre><code> let test_func lis =     
   match lis with [] -&gt;
     []
   | h::t -&gt;
    match h with h2::t2 -&gt;
      h2
    | [] -&gt;
      [];;
</code></pre>

<p>Thanks!</p>
","149392","","<p>If we fix the indentation of your code, it looks like this:</p>

<pre><code>let test_func lis =
  match lis with h::t -&gt;
    match h with h2::t2 -&gt;
      h2
    | [] -&gt;
      []
    | [] -&gt;
      [];;
</code></pre>

<p>If you look at that, it becomes obvious that there's no difference between the first and the second <code>| [] -&gt; []</code>. So the compiler has no way of knowing that you intended the second one to belong to the outer match-statement and not to the inner one. Thus you need to parentheses to tell the compiler that the inner match statement should end after the first <code>| [] -&gt; []</code>.</p>

<p>In your second version the first <code>| [] -&gt; []</code> clearly belongs to the outer match-statement because the inner match-statement doesn't even appear until farther down in the program. So there's no ambiguity and thus no need for parentheses.</p>
"
"<p>I am getting unexpected behaviour using popen3, which I want to use to run a command like tool ala <code>cmd &lt; file1 &gt; file2</code>. The below example hangs, so that <code>stdout done</code> is never reached. Using other tools than <code>cat</code> may cause hanging, so that <code>stdin done</code> is never reached. I suspect, I am suffering from buffering, but how do I fix this? </p>

<pre><code>#!/usr/bin/env ruby

require 'open3'

Open3.popen3(""cat"") do |stdin, stdout, stderr, wait_thr|
  stdin.puts ""foobar""

  puts ""stdin done""

  stdout.each_line { |line| puts line }

  puts ""stdout done""

  puts wait_thr.value
end

puts ""all done""
</code></pre>
","149392","","<p><code>stdout.each_line</code> is waiting for further output from <code>cat</code> because <code>cat</code>'s output stream is still open. It's still open because <code>cat</code> is still waiting for input from the user because its input stream hasn't been closed yet (you'll notice that when you open <code>cat</code> in a terminal and type in <code>foobar</code>, it will still be running and waiting for input until you press <code>^d</code> to close the stream).</p>

<p>So to fix this, simply call <code>stdin.close</code> before you print the output.</p>
"
"<p>I implemented a feature that lets users set default profile photos and photo-album cover photos.</p>

<p>I have the following tables in my database:</p>

<ul>
<li>User(s) - has one profile, has many PhotoAlbums</li>
<li>Profile(s) - belongs to user</li>
<li>PhotoAlbum(s) - belongs to user, has many photos</li>
<li>Photo(s) - belongs to PhotoAlbum</li>
</ul>

<p>The action for setting a default profile photo is:</p>

<pre><code>def set_default_profile_photo
  photo = Profile.find_by_user_id(current_user.id)
  photo.photo_id = params[:photo_id]
  photo.save
  redirect_to :back
  flash[:success] = ""Default photo set!""
end
</code></pre>

<p>That works fine.</p>

<p>Setting my default album photo was a little trickier:</p>

<pre><code>def set_default_album_photo
  photo = PhotoAlbum.where(:id =&gt; Photo.where(:id =&gt; params[:photo_id]).first.photo_album_id)
  photo.first.photo_id = params[:photo_id]
  photo.first.save
  redirect_to :back
  flash[:success] = ""Default album photo set!""
end
</code></pre>

<p>This is the action that didn't work:</p>

<pre><code>def set_default_album_photo
  photo = PhotoAlbum.where(:id =&gt; Photo.where(:id =&gt; params[:photo_id]).first.photo_album_id)
  photo.photo_id = params[:photo_id]
  photo.save
  redirect_to :back
  flash[:success] = ""Default album photo set!""
end
</code></pre>

<p>I got it working, and the undefined <code>photo_id method</code> error went away, but that was after changing these lines from:</p>

<pre><code>photo.photo_id = params[:photo_id]
photo.save
</code></pre>

<p>to:</p>

<pre><code>photo.first.photo_id = params[:photo_id]
photo.first.save
</code></pre>

<p>I am not sure what is happening, and why that change made things work, and want to understand what is going on.</p>
","149392","","<p><code>find_by_foo</code> returns a single object. <code>where</code> returns a collection (relation). Obviously you can't do <code>photo.photo_id</code> when <code>photo</code> is a collection of <code>Photo</code> objects (instead of a single <code>Photo</code>).</p>

<p><code>first</code> returns the first object of a collection. So by calling <code>first</code> on the collection returned by <code>where</code>, you get a single <code>Photo</code> object that you can work with.</p>

<p>Note that <code>Foo.where(:id =&gt; bla).first</code> is the same as <code>Foo.find(bla)</code>, so you can just use</p>

<pre><code>PhotoAlbum.find( Photo.find(params[:photo_id]).photo_album_id )
</code></pre>

<p>instead of </p>

<pre><code>PhotoAlbum.where(:id =&gt; Photo.where(:id =&gt; params[:photo_id]).first.photo_album_id).first
</code></pre>
"
"<p>I'm new to SML, and am using the SMLNJ dialect.</p>

<p>For some purpose I have been trying to typecast 3 to 3.0 (int to real).</p>

<p>Could not find a way out. How can I do this? How can I convert between types?</p>
","149392","","<p>You can use the function <code>real</code> (or <code>Real.fromInt</code>) to convert an <code>int</code> to a <code>real</code>.</p>

<p>For further information you can see a list of functions available in the Top-level environment <a href=""http://www.standardml.org/Basis/top-level-chapter.html#section%3asec%3atop-level-env"">here</a> and an overview of the Basis library <a href=""http://www.standardml.org/Basis/overview.html"">here</a>.</p>
"
"<p>Since (list 1 2 3) yields (1 2 3) and (quote (1 2 3)) yields (1 2 3), what is the rationale for having both?</p>

<p>Since Scheme is otherwise so spare, these must have some meaningful difference.  What is that?</p>
","149392","","<p>In the example you mentioned <code>quote</code> and <code>list</code> have the same result because numeric constants evaluate to themselves. If you use expressions that are not self-evaluating in the list (say variables or function calls), you'll see the difference:</p>

<p><code>(quote (a b c))</code> will give you a list that contains the symbols <code>a</code>, <code>b</code> and <code>c</code> while <code>(list a b c)</code> will give you a list containing the values of the variables <code>a</code>, <code>b</code> and <code>c</code> (or an error if the variables do not exist).</p>
"
"<p>Just wondering if what I mentioned in the title is a good practice. It makes sense to me, we're overriding GetHashCode to return a value based on two properties that if match, the two objects should be treated as equal. Logic seems fine and the code works, but I don't know if it can cause other problems.</p>

<p>This is using GetHashCode:</p>

<pre><code>public static bool operator ==(CartesianCoordinates a, CartesianCoordinates b)
{
    return a.GetHashCode() == b.GetHashCode(); // Using GetHashCode here
}

public static bool operator !=(CartesianCoordinates a, CartesianCoordinates b)
{
    return !(a == b);
}

public override bool Equals(object obj)
{
    return this == (CartesianCoordinates)obj; // This just uses the == override
}

public override int GetHashCode()
{
    return (this.X + this.Y.ToLower()).GetHashCode(); // GetHashCode hashes the two properties we care about
}
</code></pre>

<p>And this is how I had it before:</p>

<pre><code>public static bool operator ==(CartesianCoordinates a, CartesianCoordinates b)
{
    return a.X == b.X &amp;&amp; string.Equals(a.Y, b.Y, StringComparison.CurrentCultureIgnoreCase); // The difference is here
}

public static bool operator !=(CartesianCoordinates a, CartesianCoordinates b)
{
    return !(a == b);
}

public override bool Equals(object obj)
{
    return this == (CartesianCoordinates)obj;
}

public override int GetHashCode()
{
    return (this.X + this.Y.ToLower()).GetHashCode();
}
</code></pre>

<p><strong>Important Note:</strong></p>

<p>In the CartesianCoordinates object, X is an int and Y is a string:</p>

<pre><code>public int X { get; set; }
public string Y { get; set; }
</code></pre>

<p>Lmk, thanks in advance!</p>
","149392","","<p>No, it's not good practice (or even correct) to define equality using the hash code since different objects may have the same hash code (and in the case of String.GetHashCode that can definitely happen).</p>

<p>In your particular case it should also be noted that your GetHashCode method doesn't even match your <code>Equals</code> method because your <code>GetHashCode</code> will return different hash codes for strings that are equal except for case, while your <code>Equals</code> will return true in that case.</p>
"
"<p>I'm very new to Scheme and I'm getting an ""ill-formed special form"" error when I try to use this function. I want the function to return <em>left</em> if the length of <em>original</em> is 0. Else I want it to execute the calls to append and the recursive call. I imagine I've probably done something really silly that is causing this. ANy help? </p>

<pre><code>(define (partition left right original)
(if (= (length original) 0) left
    (append left (car original))
        (append right (car (reverse original)))
              (partition left right (reverse original))))
</code></pre>
","149392","","<p>An <code>if</code> form consists of 4 parts:</p>

<ol>
<li>The word <code>if</code>.</li>
<li>The condition.</li>
<li>The then-branch.</li>
<li>The else-branch.</li>
</ol>

<p>Your <code>if</code>-form however consists of 6 parts. <code>(= (length original) 0)</code> is the condition. <code>left</code> is the then-branch and <code>(append left (car original))</code> is the else-branch. But what are the other two supposed to be? To the reader it's obvious, that they're still supposed to be part of the else-branch, but the compiler can't know that. As far as the compiler knows you might just as well have intended for <code>left</code> and <code>(append left ...)</code> to go in the then-branch and for the other two to go in the <code>else</code> branch.</p>

<p>If you want to execute multiple expressions inside an <code>if</code>, you need some way to group together the expressions that belong in the same branch. You do that using <code>begin</code> like this:</p>

<pre><code>(if condition
  (begin
    (do-something-in-the-then-branch)
    (do-something-else-in-the-then-branch))
  (begin
    (do-something-in-the-else-branch)
    (do-something-else-in-the-else-branch)))
</code></pre>

<p>However in your case this won't actually help because <code>append</code> doesn't work in-place. I.e. if you do <code>(append left (car original))</code>, the value of <code>left</code> won't actually be changed. Instead <code>append</code> will return a new list that contains the contents of <code>left</code> and <code>(car original)</code> without actually changing either of the lists. So to make use of <code>append</code>'s result, you'll need to use its return value.</p>

<p>So to make your function work, you should either pass the calls to append directly as arguments to <code>partition</code> or use <code>let</code> to assign the results to variables and pass the variables to <code>partition</code>.</p>
"
"<p>I'm trying to execute a program, to compare elements in two linked list with each other. 
one way, i can do this is by executing two for loops and iterating over both the lists comparing each element in list1 with list2 using .equals().
the other way is, just iterating over the first list and checking if list1.contains(list1.get(i))
.. the java documentation says, that .contains does .equals internally. 
if that's the case, how is that my running time for the former is longer when compared to the latter? 
Did I misinterpret the documentation? If I did, how exactly does the internal comparison take place when I use contains? </p>

<pre><code>            using equals:
            for (int i = 0; i &lt; list_one.size(); i++) {
              for (int j = 0; j &lt; list_one.size(); j++) {
                  if (list_one.get(i).equals(list_two.get(j))) { count++; }

            using contains:
            for (int i = 0; i &lt; list_one.size(); i++) {
                 if (list_two.contains(list_one.get(i)) == true) { count++; }
</code></pre>
","149392","","<p>The implementation of <code>contains</code> will stop iterating once <code>equals</code> returns true, so it doesn't iterate the whole list if the element you're looking for is somewhere at the beginning of the list. If your version does not do that, that would explain why it is slower.</p>

<p>PS: Either way the running time will still be quadratic. There are smarter ways to solve this problem that do not involve iterating through the second list for every item in the first list (for example by sorting the two lists first or using a set).</p>
"
"<p>I'm taking a look at an application that defines a large set of constant arrays. What really confuses me is the use of two pound signs next to each other in a macro. For example:</p>

<pre><code>#define r0(p,q,r,s) 0x##p##q##r##s
</code></pre>

<p>What do those two pound signs mean?</p>
","149392","","<p><code>##</code> concattenates symbols. So for example if the value of <code>p</code> is <code>ab</code>, <code>0x##p</code> would become <code>0xab</code>.</p>
"
"<p>I'm learning sml, and wrote the following simple function:</p>

<pre><code>(* Return a list with every other element of the input list *)
fun everyOther [] = []
  | everyOther [x] = [x]
  | everyOther x = let
        val head::head2::tail = x
    in
        head::everyOther(tail)
    end;
</code></pre>

<p>Which is generating the following warning:</p>

<pre><code>! Toplevel input:
!   val head::head2::tail = x
!       ^^^^^^^^^^^^^^^^^
! Warning: pattern matching is not exhaustive
</code></pre>

<p>I believe the function can never fail, since <code>val head::head2::tail</code> will always work for lists with two or more elements and the case of one element and zero elements is covered. As far as I can tell, this function works as expected. I think the issue might be related to the use of <code>[]</code> but I really don't know.</p>

<p>My question is actually three fold:</p>

<ol>
<li>Why does sml think that this is not exhaustive (how am I misinterpreting this)?</li>
<li>Is there a case where this function will fail?</li>
<li>Am I doing something dumb writing the function this way?</li>
</ol>
","149392","","<ol>
<li><p>SML gives you that warning because it doesn't know that <code>x</code> has at least two elements. All it knows is that <code>x</code> is a list, it doesn't remember the fact that <code>x</code> had to have not matched the first two patterns, to go into the third case.</p></li>
<li><p>No, the code can not fail.</p></li>
<li><p>There is no reason to perform the pattern match in the let-statement. You can just put the pattern to the <code>fun</code> statement, which will result in less code and remove the warning:</p>

<pre><code>fun everyOther [] = []
  | everyOther [x] = [x]
  | everyOther (head::head2::tail) = head :: everyOther tail;
</code></pre></li>
</ol>
"
"<p>are there a limited amount of basic O Notations, considering you are meant to 'distil' them down to their most important part? </p>

<p>O(n^2):</p>

<p>O(n):</p>

<p>O(1):</p>

<p>O(log n) logarithmic</p>

<p>O(n!) factorial</p>

<p>O(na) polynomial</p>

<p>Or are you expected to work out variations such as O(n^4) etc... and if so, is that the only exception? the power of X one?</p>
","149392","","<p>No, the number of different O-classes is not finite.</p>

<p>As you already mentioned O(n^x) describes a different set for every x. And that is not the only ""exception"". O(x^n) is also a different set for every x. Likewise O(n^n), O(n^n^n), O(n^n^n^n) etc. are all different sets (and you can of course continue that ad infinitum).</p>
"
"<p>Is this behavior correct? I'm running some code like the following:</p>

<pre><code>@a_hash = {:a =&gt; 1}
x = @a_hash
x.merge!({:b =&gt; 2})
</code></pre>

<p>At the end of all that, x's value has been changed as expected but so has the value for @a_hash. I'm getting {:a => 1, :b => 2} as the value for both of them. Is this normal behavior in Ruby?</p>
","149392","","<p>Yes, that's normal behavior in ruby (and most other languages). Both <code>x</code> and <code>@a_hash</code> are references to the same object. By calling <code>merge!</code> you change that object and that change in visible through all variables that refer to it.</p>

<p>If you don't want that behavior, you should either not use mutating methods (i.e. use <code>x = x.merge(...)</code> instead) or copy the object before you mutate it (i.e. <code>x = @a_hash.dup</code>).</p>
"
"<p>I have an error in my program which says that
'count' cannot be used as a function.</p>

<p>it points to the below line</p>

<pre><code>mycount = (int) count (t1q1.begin(), t1q1.end(), 1);
</code></pre>

<p>i have already included algorithm, using namespace std, but still it shows the error.</p>

<p>This is what I do with my vector t1q1
The below code allows the program to read in the file and extract the certain information and push it back to the vector</p>

<p>MY FUNCTION TO READ FILE AND STORE IT IN VARIABLES</p>

<pre><code>void checkForAnswers(char *ptr)
{
    char String[256];
    int count = 0;

    while ( *ptr != ':')
    {
        String[count] = *ptr;
        ptr++;
        count++;
    }

    String[count] = '\0';

     //if topic is 1.
     if (strcmp(String, ""1"") == 0)
    {
         currentPtr=Travels(':',startPtr);
         int answerone1 = (int)atoi(currentPtr);
         currentPtr=Travels(':',currentPtr);
         int answertwo2 = (int)atoi(currentPtr);
         currentPtr=Travels(':',currentPtr);
         int answerthree3 = (int)atoi(currentPtr);
         currentPtr=Travels(':',currentPtr);
         int answerfour4 = (int)atoi(currentPtr);
         currentPtr=Travels(':',currentPtr);
         int answerfive5 = (int)atoi(currentPtr);

         t1q1.push_back(answerone1);
         t1q2.push_back(answertwo2);
         t1q3.push_back(answerthree3);
         t1q4.push_back(answerfour4);
         t1q5.push_back(answerfive5);
    }

    if (strcmp(String, ""2"") == 0)
    {
        currentPtr=Travels(':',startPtr);
        int answerone1 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answertwo2 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answerthree3 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answerfour4 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answerfive5 = (int)atoi(currentPtr);

        t2q1.push_back(answerone1);
        t2q2.push_back(answertwo2);
        t2q3.push_back(answerthree3);
        t2q4.push_back(answerfour4);
        t2q5.push_back(answerfive5);
    }

     if (strcmp(String, ""3"") == 0)
     {
        currentPtr=Travels(':',startPtr);
        int answerone1 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answertwo2 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answerthree3 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answerfour4 = (int)atoi(currentPtr);
        currentPtr=Travels(':',currentPtr);
        int answerfive5 = (int)atoi(currentPtr);

        t3q1.push_back(answerone1);
        t3q2.push_back(answertwo2);
        t3q3.push_back(answerthree3);
        t3q4.push_back(answerfour4);
        t3q5.push_back(answerfive5);
    }

        currentPtr=0;
} 
</code></pre>

<p>MY MAIN</p>

<pre><code>  char Lines1[256];
        int count1 = 0;

        ifstream resultfile(""results.txt"");
        if (resultfile.is_open())
        {
            do
            {
            resultfile.getline(Lines1, 256);
            startPtr = Lines1;
            checkForAnswers(startPtr);
            count1++;
            }while(resultfile.eof() == false);
        resultfile.close();
        }


    int mycount;
    cout&lt;&lt; ""\n"";
    cout&lt;&lt; ""TABULATION RESULTS\n"";
    cout&lt;&lt; ""------------------\n"";
    cout&lt;&lt; ""Topic 1, Question 1\n"";
    mycount = (int) count (t1q1.begin(), t1q1.end(), 1);
    cout&lt;&lt; ""Option 1: ""&lt;&lt; mycount &lt;&lt; "" time(s)\n"";
</code></pre>

<p>Hope you guys will be able to help me out.
Thanks in advance to those who helped!
:)</p>
","149392","","<p>In your code <code>count</code> refers to the local variable <code>count</code>, which has type <code>int</code> and thus cannot be used as a function. You should name the variable something else or refer to the function using its qualified name <code>std::count</code>.</p>

<p>Also make sure that you <code>#include &lt;algorithm&gt;</code> (and have an appropriate <code>using</code> declaration if you go the route of renaming the variable and calling the function using its unqualified name).</p>
"
"<p>I have a program that will trap <kbd>Ctrl + c</kbd>, but it can be trapped just once. When you type <code>exit</code> to exit from the irb session, the signal generated by <kbd>Ctrl + c</kbd> can't be trapped again. Any ideas? This is the program:</p>

<pre><code>require 'irb'
#trap ""INT"" do
#    IRB.start
#end

Signal.trap(""INT"")  { IRB.start }

count = 0

loop do
    count += 1
    puts count
    puts ""Value = #{@value}"" if defined? @value
    sleep 1
end
</code></pre>
","149392","","<p>The problem is that IRB sets its own handler for sigint when you invoke it, which overrides your handler. To fix this, you can reset your handler again, after IRB is finished, like this:</p>

<pre><code>def set_trap
  Signal.trap(""INT"")  do
    IRB.start
    set_trap
  end
end

set_trap
</code></pre>

<p>This will cause a bunch of warning when you invoke IRB the second time though, but that's a general problem with invoking IRB multiple times.</p>
"
"<pre><code>--bmicalculator
bmicalculator::IO()
bmicalculator=do bmicalculator::(RealFloat a)=&gt;a-&gt;a-&gt;String
putStrLn ""Please Input your weight""
weight&lt;-getLine
putStrLn ""Please Input your height""
height&lt;-getLine
|bmi&lt;=17.5=""You are anorexia!""
|bmi&lt;=20.7=""You are Under weight""
|bmi&lt;=26.4=""You are in normal range""
|bmi&lt;=27.8=""You are marginally overweight""
|bmi&lt;=31.1=""You are overweight""
|bmi&gt;31.1=""You are super OBESE!!""
where bmi=weight/height^2
</code></pre>

<p>the error happened in </p>

<pre><code>weight&lt;-getLine
</code></pre>

<p>how could i prompt user to input ""weight"" and ""height"" then calculate and return string like what i create the datatype <code>bmicalculator::(RealFloat a)=&gt;a-&gt;a-&gt;String</code></p>
","149392","","<p>First of all your indentation is wrong (which is to say: non-existent). The contents of the do-block should be indented.</p>

<p>Then you gave two type signatures that don't match each other to bmicalculator. The second one is inside the do-block where it clearly does not belong.</p>

<p>Then you seem to be using pattern-guards inside the do-block, outside of any pattern matching construct. This is syntactically invalid. You're probably missing a <code>case bmi of</code> there. You also need to replace <code>=</code> with <code>-&gt;</code>.</p>

<p>Lastly you can't use variables which are local to the do-block inside a where-block that comes after the <code>do</code>-block. You should use a <code>let</code> inside the <code>do</code>-block instead. Furthermore <code>weight</code> and <code>height</code> are string, so you can't do arithmetic on them without converting them to numbers first.</p>
"
"<p>First, I'm not realy having a problem, but I like to keep things as simple as possible.
I'm using a templated class named <code>Math</code> and besides a lot of other stuff there are random functions.</p>

<p>Different types of random functions, and a function to set the random seed. So every function except the seed function uses the type <code>class Real</code>. But when I want to set the seed I have to pass some random (haha) type to be able to call the function:</p>

<pre><code>Math&lt;u32&gt;::SeedRandom(System::time());
</code></pre>

<p>Again this is not a real problem, but I'm curious if it's possible to get the same result without the need to use the <code>&lt;u32&gt;</code>.</p>

<p>Here a snippet from the Math class:</p>

<pre><code>template &lt;class Real&gt;
class Math
{
public:
    static void SeedRandom(u32 seed) { srand(seed); }
    static Real UnitRandom() { return (Real)((f64)rand() / (f64)RAND_MAX); }
};
</code></pre>

<p>btw. <code>f64</code> is typedef'd to <code>double</code> and <code>u32</code> to <code>unsigned int</code>.</p>
","149392","","<p>There's no way to make the function callable as <code>Math::SeedRandom</code> (except making <code>Math</code> non-templated of course). The best you could do is move <code>SeedRandom</code> into a separate, non-templated class or just live with calling it as <code>Math&lt;whatever&gt;::SeedRandom</code>.</p>
"
"<p>I'm working on better understanding the application of a depth-first search algorithm. I understand how to use it to traverse a binary search tree to produce a sorted list. My Python implementation looks like this:</p>

<pre><code>class bst_node:
    def __init__(self, x):
        self.x     = x
        self.left  = None
        self.right = None        

def get_dfs_path(bst_node):
    """""" Returns a depth-first search path for a BST """"""

    left  = [] if bst_node.left  == None else get_dfs_path(bst_node.left)
    right = [] if bst_node.right == None else get_dfs_path(bst_node.right)

    return left + [bst_node] + right    
</code></pre>

<p>Which works quite nicely. I'm struggling to understand, however, whether this algorithm can be meaningfully applied to a digraph in general, rather than the more strict BST. Consider the following digraph node implementation:</p>

<pre><code>class di_node:
    def __init__(self, x):
        self.x = x
        self.visited = False
        self.children = []
</code></pre>

<p>Since a node in a digraph can have an arbitrary number of children, the dfs logic can't simply construct the path as <code>dfs_path(left) + parent_node + dfs_path(right)</code>. Can someone help me understand if/how dfs applies to a digraph?</p>

<p>EDIT</p>

<p>Ok, based on the responses let me attempt a dfs traversal for a di_node. Please let me know if I'm anywhere close to the mark:</p>

<pre><code>def get_dfs_path(di_node):
    """""" Returns a depth-first search path for a digraph """"""
    if di_node.visited:
        return []
    else:
        di_node.visited = True
        return [di_node] + [ get_dfs_path(child) for child in di_node.children) ]
</code></pre>
","149392","","<p>As you noticed in-order traversal (left-subtree, current node, right subtree) doesn't make much sense for general graphs since a node can have more than two subtrees. However a depth first search can also use pre-order (process the current node first, then the subtrees) or post-order (first process the subtrees, then the current node) traversal. Those two work just fine with graphs.</p>

<p>One thing you have to keep track of when performing DFS on graphs is which nodes you already visited. Otherwise you'd get infinite loops when traversing cyclic graphs.</p>
"
"<p>I'm very new to Scala, and while reading the <a href=""http://www.scala-lang.org/docu/files/ScalaTutorial.pdf"" rel=""nofollow"">ScalaTutorial.pdf</a> Section 6: <em>Case classes and pattern matching</em></p>

<p>I find no information on how to run its example which is:</p>

<pre><code>package my

abstract class Tree
case class Sum(l: Tree, r: Tree) extends Tree
case class Var(n: String) extends Tree 
case class Const(i: Int) extends Tree 

object TestTree {

  type Environment = String =&gt; Int

  def eval(t: Tree, env: Environment): Int = t match {
    case Sum(l, r) =&gt; eval(l, env) + eval(r, env)
    case Var(n) =&gt; env(n)
    case Const(v) =&gt; v
  }

  def main(args: Array[String]){

    val s : Sum = Sum(Var(""x""), Const(10))
    // Then how to define a variable of type environment to pass it to the `eval` function:
    //eval(s, Environment) ??
  }
}
</code></pre>

<p>I don't know how to pass the Environment to the <code>eval</code> function </p>
","149392","","<pre><code>type Environment = String =&gt; Int
</code></pre>

<p>This says that the type <code>Environment</code> is equal to the type <code>String =&gt; Int</code>, i.e. the type of functions that take a <code>String</code> and return an <code>Int</code>. It should be noted that in Scala a map is a kind of function (which is to say <code>Map[K,V]</code> is a subtype of <code>K =&gt; V</code>). So any function that takes a function as an argument can also take a map instead.</p>

<p>So to use <code>eval</code> you can pass it a function of type <code>String =&gt; Int</code>, which might either be an actual function that you defined and that takes a string and returns an int, or a map that maps strings to integers.</p>
"
"<pre><code>    #include &lt;iostream&gt;

    using namespace std;
    template &lt;typename T&gt;
    class DynamicArray
    {
        T *array;
        unsigned int elements;
        unsigned int size;


    public:
        void expand_array(int extra_size)
        {
            T *new_array= new T[size + extra_size];
            //copy integers from old array
            memcpy(new_array,array,elements*sizeof(T));
            //make 0 the integers from new part of the array
            memset(new_array + size, 0, extra_size * sizeof(T));
            delete [] array;
            array = new_array;
            size += extra_size;
        }
        //constructors
        DynamicArray()
        {
            array = new T[8];
            elements = 0;
            size = 8;
            memset(array,0,size*sizeof(T));
        }
        DynamicArray(const unsigned int  size)
        {
            array= new T[size];
        }
        virtual ~DynamicArray()
        {
            delete [] array;
        }
        void add(T new_element)
        {
            if(elements&gt;=size)
                    expand_array(8);
            array[elements++] = new_element;
        }
        int get (const unsigned int index) const
        {
            if(index&lt; elements)
                    return array[index];
            return -1;
        }
        void add(const unsigned int index, T new_element)
        {
            if(index&gt;size)
                expand_array(index- size +1);
            array[index] = new_element;
            elements = index +1;

        }
        DynamicArray &amp;operator=(DynamicArray &amp;ab)
        {
            elements=ab.elements;
            size=ab.size;
            if (this == &amp;ab)
                return *this;
            delete array;
            if(ab.array)
            {
                array= new T[size];
                memcpy(array,ab.array,elements*sizeof(T));
            }
            else
            {
                array=0;
            }
            return *this;
        }
        DynamicArray(const DynamicArray&amp; source)
        {
            elements=ab.elements;
            size=ab.size;
            if(ab.array)
            {
                array= new T[size];
                memcpy(array,ab.array,elements*sizeof(T));
            }
            else
            {
                array=0;
            }
        }

    };



    int main()
    {
        DynamicArray&lt;int&gt; da(2);
        DynamicArray&lt;int&gt; db(2);

        DynamicArray&lt; DynamicArray&lt;int&gt; &gt; array_of_arrays(2);

        array_of_arrays[0] = da;/ 
        //array_of_arrays[1] = db;
        /*
        da[0]=5;
        da[1]=2;
        db[0]=3;
        db[1]=4;
        cout&lt;&lt;array_of_arrays[0][0]&lt;&lt;endl;
        */
        system(""color 0C"");
        system(""pause"");
        return 0;
    }
</code></pre>

<p>I need help in understanding why this gives me an error:</p>

<blockquote>
  <p>error C2676: binary '[' : '<code>DynamicArray&lt;T&gt;</code>' does not define this operator or a conversion to a type acceptable to the predefined operator</p>
</blockquote>

<p>i added this </p>

<pre><code>          T&amp; operator[](unsigned int index)//important to provide this operator
                {
                    if (index &gt; size)
                     {
                            expand_array(index-size);
                    }
                    return array[index];
                }
</code></pre>

<p>but subequently i got invalid allocation size error during runtime.I try to try it and figure that the problem is somewhere about this area</p>

<pre><code>                    if(ab.array)
            {
                array= new T[size];
                memcpy(array,ab.array,elements*sizeof(T));
            }
</code></pre>

<p>but i have no idea why is that so.
Any ideas?</p>

<p>Thanks I figured it out: One of the attributes are not initialise to a proper valuein one of the constructors
DynamicArray(const unsigned int  size)
.
Thanks for all the help.</p>
","149392","","<p>The error has nothing to do with templates. The problem is that you use the <code>[]</code> operator on <code>array_of_arrays</code>. However the <code>DynamicArray</code> class does not define <code>operator[]</code>.</p>

<p>What it does define is a method named <code>add</code>, so maybe you meant to call that instead? I.e. <code>array_of_arrays.add(0, da);</code> instead of <code>array_of_arrays[0] = da;</code>.</p>

<p>However it would probably be more idiomatic to simply define <code>operator[]</code> on your class.</p>
"
"<p>I've written an answer to the bounded knapsack problem with one of each item in Scala, and tried transposing it to Haskell with the following result:</p>

<pre><code>knapsack :: [ ( Int, Int ) ] -&gt; [ ( Int, Int ) ] -&gt; Int -&gt; [ ( Int, Int ) ]
knapsack xs [] _   = xs
knapsack xs ys max =
    foldr (maxOf) [ ] [ knapsack ( y : xs ) ( filter (y /=) ys ) max | y &lt;- ys
        , weightOf( y : xs ) &lt;= max ]

maxOf :: [ ( Int, Int ) ] -&gt; [ ( Int, Int ) ] -&gt; [ ( Int, Int ) ]
maxOf a b = if valueOf a &gt; valueOf b then a else b

valueOf :: [ ( Int, Int ) ] -&gt; Int
valueOf [ ]        = 0
valueOf ( x : xs ) = fst x + valueOf xs

weightOf :: [ ( Int, Int ) ] -&gt; Int
weightOf [ ]        = 0
weightOf ( x : xs ) = snd x + weightOf xs
</code></pre>

<p>I'm not looking for tips on how to clean up the code, just to get it working. To my knowledge it should be doing the following:</p>

<ul>
<li>For each tuple option (in ys)
<ul>
<li>if the weight of the current tuple (y) and the running total (xs) combined is less than the capacity</li>
<li>get the optimal knapsack that contains the current tuple and the current total (xs), using the available tuples (in ys) less the current tuple</li>
</ul></li>
<li>Finally, get the most valuable of these results and return it</li>
</ul>

<p>*<em>Edit: *</em> Sorry, forgot to say what's wrong... So it compiles alright, but it gives the wrong answer. For the following inputs, what I expect and what it produces:</p>

<pre><code>knapsack [] [(1,1),(2,2)] 5
Expect: [(1,1),(2,2)]
Produces: [(1,1),(2,2)]

knapsack [] [(1,1),(2,2),(3,3)] 5
Expect: [(2,2),(3,3)]
Produces: []

knapsack [] [(2,1),(3,2),(4,3),(6,4)] 5
Expect: [(2,1),(6,4)]
Produces: []
</code></pre>

<p>So I was wondering what could be the cause of the discrepancy?</p>

<p>The solution, thanks to sepp2k:</p>

<pre><code>ks = knapsack []

knapsack :: [ ( Int, Int ) ] -&gt; [ ( Int, Int ) ] -&gt; Int -&gt; [ ( Int, Int ) ]
knapsack xs [] _   = xs
knapsack xs ys max =
    foldr (maxOf) [ ] ( xs : [ knapsack ( y : xs ) ( ys #- y ) max
                             | y &lt;- ys, weightOf( y : xs ) &lt;= max ] )

(#-) :: [ ( Int, Int ) ] -&gt; ( Int, Int ) -&gt; [ ( Int, Int ) ]
[ ]        #- _ = [ ]
( x : xs ) #- y = if x == y then xs else x : ( xs #- y )

maxOf :: [ ( Int, Int ) ] -&gt; [ ( Int, Int ) ] -&gt; [ ( Int, Int ) ]
maxOf a b = if valueOf a &gt; valueOf b then a else b

valueOf :: [ ( Int, Int ) ] -&gt; Int
valueOf [ ]        = 0
valueOf ( x : xs ) = fst x + valueOf xs

weightOf :: [ ( Int, Int ) ] -&gt; Int
weightOf [ ]        = 0
weightOf ( x : xs ) = snd x + weightOf xs
</code></pre>

<p>Which returns the expected results, above.</p>
","149392","","<p>Your first case fires when <code>ys</code> contains. so for <code>knapsack [foo,bar] [] 42</code>, you get back <code>[foo, bar]</code>, which is what you want. However it does not fire when <code>ys</code> contains nothing except elements that would put you over the max weight, i.e. <code>knapsack [(x, 20), (y,20)] [(bla, 5)]</code> will return <code>[]</code> and thus discard the previous result. Since this is not what you want you should adjust your cases so that the second case only fires if there's at least one element in <code>ys</code> that's below the max weight.</p>

<p>One way to do that would be to throw out any elements that put you over the max weight when recursing, so that that scenario simply can't happen.</p>

<p>Another way would be to switch the order of the cases and add a guard to the first case that says that <code>ys</code> must contain at least one element that does not put you over the total weight (and adjust the other case to not require <code>ys</code> to be empty).</p>

<p>PS: Another, unrelated problem with your code is that it ignores duplicates. I.e. if you use it on the list <code>[(2,2), (2,2)]</code> it will act as if the list was just <code>[(2,2)]</code> because <code>filter (y /=) ys</code> will throw out all occurrences of <code>y</code>, not just one.</p>
"
"<p>I'm trying use the Str[fixnum] to return a specific portion of a string.</p>

<pre><code># Given
Str = ""James""

Str[0]
# Should yield `""J""'.
# Instead its yielding `74`.
</code></pre>

<p>The strange thing is yesterday evening it yielded the ""J""</p>

<p>Does anyone have any idea of what might be going on here. Have I inadvertently changed a setting that is causing the function to return the ascii character number. I'm stumped. </p>

<p>Update:  I have confirmed that 74 is in fact the ascii number representation for ""J"".  So the question is the function return the ascii instead of the actual character. </p>
","149392","","<p><code>String#[]</code> with a single integer <code>i</code> as an argument returns the <code>i</code>th byte as an integer in ruby 1.8. In ruby 1.9 it returns a one-character string.</p>

<p>So when you tried it yesterday, you were probably using ruby 1.9, while you're using 1.8 today.</p>

<p>To get a one-character string in ruby 1.8, you can use <code>str[i, 1]</code>, which has the same behavior in 1.8 and 1.9.</p>
"
"<p>I am a bit unclear of what exactly will be the value of <code>var_c</code> in this function definition in OCaml. Is it assigning <code>var_c</code> a default value of the result of the function? Or a default value of <code>Enum.peek var_c</code> to var_c?</p>

<pre><code>let rec read var_a ?(var_b = var_a) var_c = match Enum.peek var_c with
    None -&gt; None
    ...
</code></pre>

<p>Thanks for your help.</p>
","149392","","<p><code>var_c</code> does not have a default value in the snippet you posted. It is not optional and must be given as an argument. <code>var_b</code> does have a default value (namely the value of <code>var_a</code>).</p>

<p><code>match Enum.peek var_c with ...</code> will be the result of the function. It is not the default value of anything.</p>
"
"<p>How to write a function <code>countTo(n)</code> that counts from 1 to n and prints each number without using explicit loops (only recursion)?</p>

<p>The solution must be asymptotically optimal in space and time, <em>even without tail call optimisation</em>, given arbitrarily big <code>n</code>.</p>

<p>Note: the optimal time complexity is <em>O</em>(1) while the optimal space complexity is <em>O</em>(log <em>n</em>) – even in the iterative case, since the (arbitrarily large) number needs to be printed.</p>

<p>The question comes from <a href=""http://www.lesswrong.com/lw/2u9/quixey_engineering_screening_questions"" rel=""nofollow"">lesswrong.com</a>, and the relevant details are taken from the discussion there (otherwise the question becomes impossible to answer since their original statement makes misleading assumptions).</p>
","149392","","<p>If you want the rewritten version to still be recursive, there is no way. Any function call will consume stack space.</p>

<p>There are languages in which calls that are in a tail position will not consume stack space. In such languages you could rewrite your function to be tail-recursive, so it would run in O(1) space. However Python is not one of those languages.</p>
"
"<p>MyClass objects have a, b, and c instance variables (forgive my vague abstractions). Additionally, when writing these classes, I want to be able to set <code>a</code>, <code>b</code>, and <code>c</code>, but I don't want my users to be able to.</p>

<pre><code>class MyClass
  attr_accessor :a, :b, :c
  private :a=, :b=, :c=
end
</code></pre>

<p>I would like MyClass to be instantiated via either of 2 ways such that I would like to be able to call the following:</p>

<pre><code>f = MyClass.create_from_foo foo_data
b = MyClass.create_from_bar bar_data
</code></pre>

<p>and get instances of MyClass in <code>f</code> and <code>b</code>. <code>f</code> and <code>b</code> are indistinguishable once instantiated, but of course were created in different ways. After these calls, both <code>f</code> and <code>b</code> have an <code>a</code>, <code>b</code>, and <code>c</code>.</p>

<p>I would not like MyClass to be instantiated through <code>new</code>. Since these 2 ways of creating are both equally valid, I feel like ""preferring"" foo_data over bar_data or vice versa isn't an implication I'd like to make. Therefore, I feel like I should privatize <code>new</code> and only allow instances of MyClass to be created by these class methods to try to level the playing field. In other words, I'm trying to <strong>avoid</strong> this:</p>

<pre><code>#don't want this
f = MyClass.new foo_data
b = MyClass.create_from_bar bar_data #not quite ""fair"" to bar_data
</code></pre>

<p>So, let me start to write these <code>create_from_&lt;type&gt;</code> class methods:</p>

<pre><code>class MyClass

  #from earlier
  attr_accessor :a, :b, :c
  private :a=, :b=, :c=

  private_class_method :new

  def MyClass.create_from_foo foo_data
    #some parsing of foo_data and computation of a, b, and c
    myclass = MyClass.new
    myclass.a = a
    myclass.b = b
    #...
  end

  def MyClass.create_from_bar bar_data
    #again, computation of bar_data
    myclass.a = a
    myclass.b = b
    #...
  end
end
</code></pre>

<p>Now, if you've been following along, you'd notice I can't do this! I blocked myself out!</p>

<ul>
<li>I privatized <code>new</code> because I didn't want my users to make MyClass objects this way. I want them to use the class methods. And in the class method definition space, I'm basically a user.</li>
<li>I privatized <code>a=</code>, <code>b=</code>, and <code>c=</code> because I don't want my users to change this stuff. (It would break my real world example). Again, however, I'm a user when defining a class method.</li>
</ul>

<p>So, this is what I'm working with. How can I create instances of a ""restrictive"" class in class methods?</p>
","149392","","<p>It is perfectly possible to call the private class methods from other class methods. However in Ruby you can't call private methods (other than setters) with an explicit receiver.</p>

<p>So if you just write <code>new</code> instead of <code>MyClass.new</code>, it will work fine.</p>
"
"<pre><code>#lang eopl

(define (vectorSum V b e)    ; b is starting index, and e is ending index
  (cond
    [ (eqv? b e) vector-ref V b]
    [ (&gt; b e)
      (eopl:error 'vectorSum ""starting index must be smaller than or equal to the end index"")]
    [ else (+ (vector-ref V b) (vectorSum V (+ b 1) e))]))


(define A #(1 1 1 1 1))
</code></pre>

<p>When I try this, I am getting the wrong result. What's the problem here?</p>

<pre><code>&gt; (vectorSum A 0 4)
8
&gt; (vectorSum A 0 1)
2
&gt; (vectorSum A 0 3)
6
&gt; (vectorSum A 1 3)
5
&gt; (vectorSum A 1 2)
3

&gt; (vectorSum A 0 1)
2
&gt; (vectorSum A 1 2)
3
</code></pre>

<p>Take (vectorSum A 0 3), when I expanded the recursion, I thought it was supposed to be</p>

<pre><code>+ 1 + VectorSum (1 3)
    + 1 + VectorSum (2, 3)
        + 1 + VectorSum (3, 3)
            + 1   (I hit the first case, there is no more recursion)
= 4
</code></pre>

<p>Instead, I get 6. Why?</p>

<p>Thanks.</p>

<hr>

<p>Look at 0,1 and 1,2 the answers aren't equal.</p>
","149392","","<p>Your understanding of how the recursion unfolds is correct. Your problem is that you forgot to parenthesize your call to <code>vector-ref</code> in the first case. The way you wrote it <code>vector-ref V b</code> is interpreted as three independent expressions. The last of which (<code>b</code>) is the value of the expression. So since in your example <code>b</code> is 3, you'll get <code>1 + 1 + 1 + 3 = 6</code>.</p>

<p>Simply add the parentheses to make it a function call, and it will work like you want it to.</p>
"
"<p>If i cast an object to the base type and store it in a std::map, and then get it back and recast it to the derived type, do i still have the correct data in the derived class members ?</p>

<p>Do i need to make a specific kind of cast ?</p>
","149392","","<p>If you're casting pointers to the object, it's no problem because the pointers will still point to the same object.</p>

<p>If you're casting the actual object, all information from the subclass will be lost when its converted to the superclass, so casting it back won't restore that information.</p>
"
"<p>I have tried this in multiple ways: if-then-else, guards, case statements but I never manage to get it compiled. I think from the code it is quite clear what I want to do. Why is this not possible and what must I do to get it straight?</p>

<pre><code>appendMsg :: String -&gt; (String, Integer) -&gt; Map.Map (String, Integer) [String] -&gt; Map.Map (String, Integer) [String]
appendMsg  a (b,c) m = do
      let Just le1 = length . concat &lt;$&gt; Map.lookup (b,c) m
          le2 = le1 + length a
      if le2 &lt; 1400 then (let m2 = Map.adjust (x ++ [a]) (b, c) m) else (print (le1, le2))
      return (m2)
</code></pre>

<p>The error message I get here is <code>parse error on input `)'</code>. If I change the brackets I get <code>parse error on input `else'</code>. If I say in the else path (let m2 = m) then I get again the bracket error.</p>

<p>What I try to achieve is, if le2 &lt;= 1400 then m2 should be created by using </p>

<pre><code>f x = x ++ [a]
m2 = Map.adjust f (b, c) m
</code></pre>

<p>if le2 > 1400 then an other function should be called that takes the same arguments than appendMsg and appendMsg should simply return nothing.</p>

<p>An additional problem is that as soon as this is set right according to all recommendations below: </p>

<p><code>if le2 &lt; 1400 then let m2 = Map.adjust (++ [a]) (b, c) m in return (m2) else return ()</code></p>

<p>I get an error saying </p>

<pre><code> No instance for (Monad (Map.Map (String, Integer)))
      arising from a use of `return'
</code></pre>

<p>That is by the way the same error I eventually got when I used guards. The problem is that there is little I can do in the remaining code with this strange type. Can I convert this type then in any way back to (Map.Map (String, Integer) [String]) or avoid it altogether?</p>
","149392","","<p><code>let</code> must either be followed by <code>in</code> or be directly inside a <code>do</code> block. <code>let</code> must not be the last statement in a <code>do</code> block. These rules are a consequence of the fact that it makes no sense to create a variable that goes out of scope immediately without any chance of being used.</p>

<p>In your code you create a variable called <code>m2</code> inside the <code>then</code> branch of the <code>if</code>, but you never use it. You do (try to) use it outside the <code>if</code>, but outside the <code>if</code> <code>m2</code> doesn't exist. You can't use a variable that's been created inside an <code>if</code> outside of that <code>if</code>. What should the value of <code>m2</code> be when the <code>if</code> condition was false?</p>
"
"<p>I'm working through the book <a href=""http://www.manning.com/petricek/"" rel=""nofollow"">Real-World Functional Programming</a>, and I tried to come up with my own example of tail recursion before reading the book's example (listing 10.2, p. 265). The book's example works; mine causes a stack overflow.</p>

<p>I've found if I use a tuple argument or pre-calculate <code>a + accum</code> then mine will work. I want to understand why. </p>

<pre><code>let rnd = new System.Random()
let test2 = List.init 1000000 (fun _ -&gt; rnd.Next(-50, 51))

let rec sum2 list accum =
  match list with
  | [] -&gt; accum
  | a::b -&gt; sum2 b a + accum

let result = sum2 test2 0

printfn ""%d"" result
</code></pre>
","149392","","<pre><code>sum2 b a + accum
</code></pre>

<p>Note that this is parsed as <code>(sum2 b a) + accum</code>, not <code>sum2 b (a + accum)</code>.</p>

<p>So this calls <code>sum2 b a</code>. Then it takes the result of that call and adds <code>accum</code> to it. So the last expression evaluated is the addition, not the call to <code>sum2</code>. Thus the call to <code>sum2</code> is not a tail call.</p>
"
"<p>In a simple program that use a function doSomething() to print out a ""hello, world"". I only typed a prototype of this function in the main.cpp file and the declaration for this function in another file named do.cpp.</p>

<p>when I compile the program it run properly even though I did not specify which file the declaration of the doSomething() will be.</p>
","149392","","<p>The linker will simply consider all the files you're linking against when looking for the definition of the function.</p>

<p>It is not possible to link against multiple object files that define a function of the same name, so there's no ambiguity.</p>
"
"<p>Consider the following from the Scala interpreter:</p>

<pre><code>scala&gt; JSON.parseFull(""""""{""name"":""jack"",""greeting"":""hello world""}"""""")
res6: Option[Any] = Some(Map(name -&gt; jack, greeting -&gt; hello world))
</code></pre>

<p>Why is the Map returned in Some() thing? And how do I work with it?</p>

<p>I want to put the values in an xml template:</p>

<pre><code>&lt;test&gt;
  &lt;name&gt;name goes here&lt;/name&gt;
  &lt;greeting&gt;greeting goes here&lt;/greeting&gt;
&lt;/test&gt;
</code></pre>

<p>What is the Scala way of getting my map out of Some(thing) and getting those values in the xml?</p>
","149392","","<p><code>parseFull</code> returns an <code>Option</code> because the string may not be valid JSON (in which case it will return <code>None</code> instead of <code>Some</code>).</p>

<p>The usual way to get the value out of a <code>Some</code> is to pattern match against it like this:</p>

<pre><code>result match {
    case Some(map) =&gt;
        doSomethingWith(map)
    case None =&gt;
        handleTheError()
}
</code></pre>

<p>If you're certain the input will always be valid and so you don't need to handle the case of invalid input, you can use the <code>get</code> method on the <code>Option</code>, which will throw an exception when called on <code>None</code>.</p>
"
"<p>I am looking into creating a terminal based RPG, what are the accepted and recommended methods for writing this in a cross platform way?
I'm not sure what language I will be using yet, but i will need something with the functionality to move the curser and change the foreground color.
Inspired by games like NetHack, this kind of control would be ideal, and
I want to be able to write it so i can release it for windows and unix systems.
I have used ncurses for C++ and i was wondering if there is something similar to this for use with cross platform projects.</p>

<p>Considering:
Java
C++
C
C#</p>
","149392","","<p>I don't think there is a platform-independent alternative to ncurses. Your best bet would be to use ncurses for Unix systems and <a href=""http://pdcurses.sourceforge.net/"" rel=""nofollow"">pdcurses</a> for Windows. Since the APIs are largely the same, you hopefully won't end up with too much duplicated code - just a couple of <code>#ifdef</code>s here and there.</p>
"
"<p>Is there some Haskell function that can take a list, say of doubles, like this:</p>

<pre><code>[0.5, 0.6, 0.1, 0.7]
</code></pre>

<p>and return a list of integers, which represent indices of the items in order. In the above case it would be:</p>

<pre><code>[2, 0, 1, 3]
</code></pre>

<p>NOTE: What I am trying to achieve is some function (let's call it <code>consistent</code>) that can compare two lists of doubles, and tell the user if the lists's relative ordering is consistent:</p>

<pre><code>&gt; consistent [1.0, 2.0, 3.0] [2.1 3.5 4.6]
True
&gt; consistent [1.0, 2.0, 3.0] [3.0, 2.0, 1.0]
False
</code></pre>
","149392","","<p>You can zip the list with <code>[0..]</code> to pair each item with its index. Then you can sort that list and use map to get the second element of every pair (the index).</p>
"
"<p>I have a rails application and i keep getting this error </p>

<pre><code>  /srv/projects/app/controllers/application_controller.rb:174: invalid multibyte char (US-ASCII) /srv/projects/app/controllers/application_controller.rb:174: invalid multibyte char (US-ASCII) /srv/projects/app/controllers/application_controller.rb:174: syntax error, unexpected $end, expecting ')' ...e_title = h(""#{project_name} — #{name || translate_locatio... ... ^
</code></pre>

<p>and the fix should be <a href=""http://stackoverflow.com/questions/1739836/invalid-multibyte-char-us-ascii-with-rails-and-ruby-1-9"">here</a> but when i added the line on top of my application controller i still get the error...i even restarted apache</p>

<p>Here is my application controller</p>

<pre><code># Filters added to this controller apply to all controllers in the application.
# Likewise, all the methods added will be available for all controllers.

# encoding: utf-8


class ApplicationController &lt; ActionController::Base
# encoding: utf-8
</code></pre>
","149392","","<p>The encoding comment must be on top of the file before anything else - including other comments (except the shebang if you have one).</p>
"
"<p>I have a program written to evaluate postfix expressions. I have the code fully functioning with no compiler warnings when I compile and run it from a Windows IDE (Codeblocks), however, when I try to compile the source code in a Linux environment, I get a ton or warnings. They are listed below:</p>

<pre><code>postfix.c: In function ‘infixToPostfix’:
postfix.c:20: warning: passing argument 1 of ‘stackInit’ from incompatible pointer type
stack.h:25: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:36: warning: passing argument 1 of ‘stackPush’ from incompatible pointer type
stack.h:31: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:40: warning: passing argument 1 of ‘stackIsEmpty’ from incompatible pointer type
stack.h:37: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:42: warning: passing argument 1 of ‘stackPeek’ from incompatible pointer type
stack.h:43: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:44: warning: passing argument 1 of ‘stackPeek’ from incompatible pointer type
stack.h:43: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:45: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:49: warning: passing argument 1 of ‘stackPush’ from incompatible pointer type
stack.h:31: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:54: warning: passing argument 1 of ‘stackPeek’ from incompatible pointer type
stack.h:43: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:56: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:59: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:63: warning: passing argument 1 of ‘stackIsEmpty’ from incompatible pointer type
stack.h:37: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:65: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:69: warning: passing argument 1 of ‘stackDestroy’ from incompatible pointer type
stack.h:28: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c: In function ‘evaluatePostfix’:
postfix.c:139: warning: passing argument 1 of ‘stackInit’ from incompatible pointer type
stack.h:25: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:146: warning: passing argument 1 of ‘stackPush’ from incompatible pointer type
stack.h:31: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:150: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:151: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:154: warning: passing argument 1 of ‘stackPush’ from incompatible pointer type
stack.h:31: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:159: warning: passing argument 1 of ‘stackPop’ from incompatible pointer type
stack.h:34: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
postfix.c:160: warning: passing argument 1 of ‘stackDestroy’ from incompatible pointer type
stack.h:28: note: expected ‘struct stack *’ but argument is of type ‘struct stack **’
/tmp/ccPMgl0G.o: In function `applyOperator':
postfix.c:(.text+0x6bd): undefined reference to `pow'
collect2: ld returned 1 exit status
</code></pre>

<p>They all seem to be related to my postfix.c source and my stack.h header. The postfix.c source I completely modified myself, but the stack.h header was supplied by my instructor. All the errors for the postfix.c source seem to point to lines where I have code in the following manner:</p>

<blockquote>
  <p>stackInit(&amp;s);</p>
</blockquote>

<p>I believe it is referring to my use of the ampersand as a parameter for the function... but there isn't any other way for me to indicate that I am modifying the immediate value of 's' is there? Is there something I should be including before hand? Also... for the 'pow' issue, I have included the header file:</p>

<blockquote>
  <p>math.h</p>
</blockquote>

<p>So it should be able to reference it... I don't know why it won't compile :/ I have been using this to compile my 3 source files together:</p>

<blockquote>
  <p>gcc prog2.c stack.c postfix.c</p>
</blockquote>

<p>Is there another way I should be doing this? Thank you in advance.</p>

<p>Source Code:</p>

<pre><code>/* function to convert an infix to postfix */
char *infixToPostfix(char *infixStr)
{
    static char pfline[30];
    int i;
    stack * s;
    stackInit(&amp;s);

    char * token = strtok(infixStr, "" "");

    for(i = 0; i &lt; 30; ++i) {
        pfline[i] = '\0';
    }

    while(token != NULL)
    {
        if(isOperand(token) != 0) {
            strcat(pfline, token);
            strcat(pfline, "" "");
        }

        if(isLeftParen(token))
            stackPush(&amp;s, token);

        if(isOperator(token))
        {
            if(!stackIsEmpty(&amp;s))
            {
                if(isOperator(stackPeek(&amp;s)))
                {
                    if(stackPrecedence(stackPeek(&amp;s)) &gt;= inputPrecedence(token))
                        strcat(pfline, stackPop(&amp;s));
                        strcat(pfline, "" "");
                }
            }
            stackPush(&amp;s, token);
        }

        if(isRightParen(token))
        {
            while(!isLeftParen(stackPeek(&amp;s)))
            {
                strcat(pfline, stackPop(&amp;s));
                strcat(pfline, "" "");
            }
            stackPop(&amp;s);
        }
        token = strtok(NULL, "" "");
    }
    while(!stackIsEmpty(&amp;s))
    {
        strcat(pfline, stackPop(&amp;s));
        strcat(pfline, "" "");
    }
    printf(""%s\n"", pfline);
    stackDestroy(&amp;s);
    return pfline;
}

int evaluatePostfix(char *postfixStr)
{
    stack * s;
    int x = 0, y = 0, z = 0;

    stackInit(&amp;s);
    char * token = strtok(postfixStr, "" "");

    while(token != NULL)
    {

        if(isOperand(token) != 0)
            stackPush(&amp;s, token);

        if(isOperator(token))
        {
            y = atoi(stackPop(&amp;s));
            x = atoi(stackPop(&amp;s));
            char *str = malloc(10 * sizeof(char));
            sprintf(str, ""%d"", applyOperator(x, y, token));
            stackPush(&amp;s, str);
        }
        token = strtok(NULL, "" "");
    }

    z = atoi(stackPop(&amp;s));
    stackDestroy(&amp;s);
    return z;
}
</code></pre>

<p>Here is my stack.h header file that was provided which is an interface for the stack:</p>

<pre><code>/*
 * This is an interface for a stack of strings.
 *
 */

#ifndef _STACK_H
#define _STACK_H

#include &lt;stdbool.h&gt;

typedef char * stkElement;

struct stkNode {
  stkElement element;
  struct stkNode *next;
};

typedef struct stkNode stkNode;

typedef struct {
  stkNode *top;
} stack;

/* function to initialize a new stack variable */
void stackInit(stack *stkPtr);

/* function to free the memory associated with the stack */
void stackDestroy(stack *stkPtr);

/* function to add an element to the top of the stack */
void stackPush(stack *stkPtr, stkElement element);

/* function that removes the element from the top of the stack */
stkElement stackPop(stack *stkPtr);

/* function that returns a true value if the stack is empty */
bool stackIsEmpty(stack *stkPtr);

/* function that returns the number of elements in the stack */
int stackLength(stack *stkPtr);

/* function that returns the top element in the stack without removing it */
stkElement stackPeek(stack *stkPtr);

#endif  /* _STACK_H */
</code></pre>
","149392","","<p>You didn't post the relevant code, but in order for the error message to make sense, I have to assume that s is a pointer to a stack and stackInit takes a pointer to a stack.</p>

<p>In that case, you should call it as <code>stackInit(s)</code> and calling it as <code>stackInit(&amp;s)</code> is simply wrong. If you really want stackInit to accept a pointer to a pointer to a stack, you should change the declaration to say so (however I can't imagine that that would make sense).</p>

<p>That being said the only actual compile errror here is ""undefined reference to 'pow'"", which is unrelated to the warnings. That error can be fixed by linking against the math library using the <code>-lm</code> flag to gcc.</p>
"
"<p>I want </p>

<pre><code>(member? 'a '((d d) (d d)))
</code></pre>

<p>to return false</p>

<p>what am I doing wrong</p>

<pre><code>(define (member? x list)
 (cond
  ((null? list) #t )
   (else ( or (or (eq? (car (car list)) x) (eq? (cdr (car list)) x)) (member? x (cdr list) ))  
)))
</code></pre>

<p>If someone can tell me what is wrong with my member function I would greatly appreciate it.</p>
","149392","","<p>((null? list) #t )</p>

<p>You're returning true if the list is empty. That's wrong.</p>
"
"<p>I hope this is not painfully obvious. I am getting this cryptic error : </p>

<pre><code>fold.cpp:92: error: expected primary-expression before ‘)’ token
</code></pre>

<p>The line that it is referring to is:</p>

<pre><code>if (binary_search (corpus.begin(),corpus.end(), left, customArray::operator&lt;(customArray)))
</code></pre>

<p>I arrived at this error after using the simpler call:</p>

<pre><code>if (binary_search (corpus.begin(),corpus.end(), left))
</code></pre>

<p>and getting this error message (the important part is the note at the end, saying to change it to the above call)</p>

<pre><code>In function ‘bool std::binary_search(_ForwardIterator, _ForwardIterator, const _Tp&amp;)     [with _ForwardIterator = std::_List_iterator&lt;customArray&gt;, _Tp = std::string [3]]’:
fold.cpp:92:   instantiated from here
/usr/include/c++/4.2.1/bits/stl_algo.h:4240: error: no match for ‘operator&lt;’ in ‘__val &lt;    __i. std::_List_iterator&lt;_Tp&gt;::operator* [with _Tp = customArray]()’
/usr/include/c++/4.2.1/bits/stl_algo.h: In function ‘_ForwardIterator   std::lower_bound(_ForwardIterator, _ForwardIterator, const _Tp&amp;) [with _ForwardIterator =   std::_List_iterator&lt;customArray&gt;, _Tp = std::string [3]]’:
/usr/include/c++/4.2.1/bits/stl_algo.h:4239:   instantiated from ‘bool    std::binary_search(_ForwardIterator, _ForwardIterator, const _Tp&amp;) [with _ForwardIterator =   std::_List_iterator&lt;customArray&gt;, _Tp = std::string [3]]’
fold.cpp:92:   instantiated from here
/usr/include/c++/4.2.1/bits/stl_algo.h:2906: error: no match for ‘operator&lt;’ in   ‘__middle. std::_List_iterator&lt;_Tp&gt;::operator* [with _Tp = customArray]() &lt; __val’
fold.cpp:16: note: candidates are: bool customArray::operator&lt;(customArray)
</code></pre>

<p>Essentially, I am trying to use a binary search on a linked list of custom (array type) objects. The rest of the relavent code is here:</p>

<pre><code>// here is the custom class I am using in the list
class customArray
{
public:

  // this is a somewhat lame way to compare, but it seems to work
  bool operator&lt; (customArray temp)
  {
    return array[0] &lt; temp.array[0];
  }

 bool operator&gt; (customArray temp)
  {
    return array[0] &gt; temp.array[0];
  }

  bool operator== (customArray temp)
  {
    return ((array[0] == temp.array[0]) &amp;&amp; (array[1] == temp.array[1]) &amp;&amp; (array[2] == temp.array[2]));
  }

  string array[3];
};

//All of this stuff is in main

customArray one;
//some processing here to fill one
corpus.push_back (one);

// sort the list 
corpus.sort();
corpus.unique();

string left [3];

if (binary_search (corpus.begin(),corpus.end(), left, customArray::operator&lt;(customArray)))
{

}
</code></pre>

<p>I hope this is easy to understand. Let me know if there is any way that I can clarify.</p>
","149392","","<p>Your first error message was because <code>binary_search</code> uses <code>&lt;</code> on the iterators, but list's iterators don't support <code>&lt;</code>. This error has nothing to do with whether or not you pass a comparison function as an argument to <code>binary_search</code>.</p>

<p>Your second error message is because you specified the type when passing the function as an argument. That's basically the same as calling a function as <code>f(int x)</code> instead of <code>f(x)</code>, which is syntactically incorrect. It should just be <code>customArray::operator&lt;</code>. However, as I said before, that won't help you because you'll just get the first error message again.</p>

<p>Basically you can't perform a binary search on a linked list.</p>
"
"<p>I want create sea ​​battle game. I have two classes: Ship and Cell.</p>

<pre><code>#pragma once
#include""stdafx.h""
#include""Globals.h""
#include&lt;vector&gt;
#include""MCell.h""

 class Ship 
 {

 private:
    int lenght;
    int oriantation;
    vector&lt;Cell*&gt; cells;
    vector&lt;Cell*&gt; aroundCells;
</code></pre>

<p>...</p>

<pre><code>#pragma once
#include&lt;vector&gt;
#include""MShip.h""

 class Cell
{

private:
    bool haveShip;
    bool selected;
    bool around;
    int x;
    int y;
    Ship* ship; 
</code></pre>

<p>And i have got many error like those:</p>

<pre><code>1&gt;projects\seewar\seewar\mship.h(13): error C2065: 'Cell' : undeclared identifier
1&gt;projects\seewar\seewar\mship.h(13): error C2059: syntax error : '&gt;'
1&gt;projects\seewar\seewar\mship.h(14): error C2065: 'Cell' : undeclared identifier
1&gt;projects\seewar\seewar\mship.h(14): error C2059: syntax error : '&gt;'
1&gt;projects\seewar\seewar\mship.h(17): error C2143: syntax error : missing ';' before '{'
1&gt;projects\seewar\seewar\mship.h(20): error C2143: syntax error : missing ';' before '}'
1&gt;projects\seewar\seewar\mship.h(24): error 
</code></pre>

<p>What wrang with code?</p>
","149392","","<p>Your header files depend on each other. However one of them will have to be read before the other. So you need to rewrite one of them (or both of them) to not depend on the other. You can do that by forward-declaring the classes instead of including the header file that defines them.</p>

<p>So in MShip.h you should put a declaration <code>class Cell;</code> instead of including MCell.h and/or vice versa.</p>
"
"<p>I'm working on a <a href=""http://mperham.github.com/sidekiq/"" rel=""nofollow"">Sidekiq</a> worker that's sole purpose is to make several long-running system calls. I have the following requirements:</p>

<ul>
<li>Able to set environment variables</li>
<li>Real-time output (stdout, stderr) stream</li>
<li>Block thread until finished</li>
<li>Get exit code</li>
<li>Thread-safe, since sidekiq is multi-threaded (read: no <code>$?</code>)</li>
</ul>

<p>I'm running on Ruby 1.9.2. Thanks for your input!</p>
","149392","","<p><code>$?</code> (as well as most other ""magical"" variables like <code>$1</code> etc.) is local to the current thread and thus using <a href=""http://ruby-doc.org/core-1.9.2/Kernel.html#method-i-system"" rel=""nofollow""><code>system</code></a> and <code>$?</code> is perfectly thread-safe and meets all your criteria.</p>
"
"<p>In <a href=""http://www.cprogramming.com/tips/tip/swap-with-out-using-temporary"">Cprogramming.com</a> I found this piece of code:</p>

<pre><code>int a,b;
scanf(""%d %d"",&amp;a,&amp;b);
b=(a+b)-(a=b);
printf(""%d %d"",a,b);
</code></pre>

<p>It is claimed to be a tip/trick to ""swap without using temporary"". My tests on Linux gcc prove it. However, wouldn't the order how different compilers or platforms computing this expression matters here? Is it safe to use such code?</p>
","149392","","<blockquote>
  <p>However, wouldn't the order how different compilers or platforms computing this expression matters here?</p>
</blockquote>

<p>Yes.</p>

<blockquote>
  <p>Is it safe to use such code?</p>
</blockquote>

<p>No, it's undefined behavior.</p>
"
"<p>In ""Types and Programming Languages"", section 6.1.2 they talk about a <em>naming context</em> used to number free variables in lambda expressions.  Using the example scheme they've provided, both <code>λx.xb</code> and <code>λx.xx</code> will have their de Bruijn representation as <code>λ.00</code> when they're clearly different terms.  How does this work?</p>
","149392","","<p>As you mentioned the book uses a naming context which maps <code>n</code> free variables to the numbers from <code>0</code> to <code>n-1</code>. However if you look closely at the examples in the book, you'll notice that it doesn't use those numbers directly to represent the variables. For example it represents <code>λw. y w</code> as <code>λ. 4 0</code> even though the mapping for <code>y</code> is 3, not 4.</p>

<p>What's happening here is that he adds the nesting depth of the variable to the number. I.e. if a free variable <code>v</code> is nested in <code>d</code> lambdas, it gets the index <code>Γ(v)+d</code>, not just <code>Γ(v)</code>.</p>

<p>So in your example using the context <code>Γ {b -&gt; 0}</code> <code>λx.xb</code> would be represented as <code>λ. 0 1</code>, not <code>λ. 0 0</code>. Thus there's no ambiguity.</p>
"
"<p>Recently in a job interview I was asked this following question (for Java):</p>

<p>Given:</p>

<pre><code>String s1 = ""abc"";
String s2 = ""abc"";
</code></pre>

<p>What is the return value of </p>

<pre><code>(s1 == s2)
</code></pre>

<p>I answered with it would return false because they are two different objects and == is a memory address comparison rather than a value comparison, and that one would need to use .equals() to compare String objects. I was however told that although the .equals(0 methodology was right, the statement nonetheless returns true. I was wondering if someone could explain this to me as to why it is true but why we are still taught in school to use equals()?</p>
","149392","","<p>You're right that <code>==</code> uses memory address. However when the java compiler notices that you're using the same string literal multiple times in the same program, it won't create the same string multiple times in memory. Instead both <code>s1</code> and <code>s2</code> in your example will point to the same memory. This is called string interning.</p>

<p>So that's why <code>==</code> will return true in this case. However if you read <code>s2</code> from a file or user input, the string will not automatically interned. So now it no longer points to the same memory. Therefor <code>==</code> would now return false, while <code>equals</code> returns true. And that's why you shouldn't use <code>==</code>.</p>
"
"<p>Is it possible to include the C++ standard library in a single statement, or must you do it header by header?</p>
","149392","","<p>No, there is no shortcut to include all the standard headers.</p>
"
"<p>Microsoft (R) F# 2.0 Interactive build 4.0.40219.1</p>

<p>I'm trying to define new record type:</p>

<pre><code>type TestOptions =
   { perRunGC : bool;
     collectGCStat : bool;
   }
</code></pre>

<p>All is fine, but let's add one more field:</p>

<pre><code>type TestOptions =
   { perRunGC : bool;
     collectGCStat : bool;
     highPriority : bool;
   }               ^
</code></pre>

<p>And I am getting parser error in a position marked above:</p>

<pre><code>error FS0010: Unexpected character ' ' in field declaration
</code></pre>

<p>What's wrong with my code? Is it compiler bug?</p>
","149392","","<p>Errors like this are often caused by unicode characters in your source file.</p>

<p>In this case you probably have a non-breaking space (or any other kind of special space) instead of a regular space at the location where the compiler chokes.</p>
"
"<p>Is there a difference between these two functions?</p>

<p>ghct says:</p>

<pre><code>Prelude&gt; :t (+1)
(+1) :: Num a =&gt; a -&gt; a
Prelude&gt; :t \x-&gt;x+1
\x-&gt;x+1 :: Num a =&gt; a -&gt; a
</code></pre>

<p><strong>But</strong></p>

<p>When I used (+1) syntax in this piece of code:</p>

<pre><code>data B = B { 
    pos :: Int, 
    cells :: [Int] 
} deriving (Show)

createB :: Int -&gt; B
createB n = B 0 (take n $ repeat 0)

size :: B -&gt; Int
size b = length $ cells b

get_curr :: B -&gt; Int
get_curr b = (cells b) !! (pos b)

apply :: (Int -&gt; Int) -&gt; B -&gt; B
apply f b = let n = pos b
                h = take n $ cells b       -- head
                t = drop (n + 1) $ cells b -- tail
                in B n $ h ++ [f (get_curr b)] ++ t

-- ...
eval :: [Char] -&gt; StateT B IO ()
eval [] = return ()
eval (x:xs) = do
                b &lt;- get

                put $ case x of
                        '+'         -&gt; apply (+1) b
                        '-'         -&gt; apply (-1) b
                        '&gt;'         -&gt; fwd b
                        '&lt;'         -&gt; back b
                        otherwise   -&gt; b
                -- ...
</code></pre>

<p>prelude (as well as compiler) said:</p>

<pre><code>&gt; :load BrainFuck.hs 
[1 of 1] Compiling BrainFuck        ( BrainFuck.hs, interpreted )

BrainFuck.hs:49:40:
    No instance for (Num (Int -&gt; Int))
      arising from the literal `1'
    Possible fix: add an instance declaration for (Num (Int -&gt; Int))
    In the expression: 1
    In the first argument of `apply', namely `(- 1)'
    In the expression: apply (- 1) b
Failed, modules loaded: none.
</code></pre>

<p>What am I doing wrong?
sorry if code is not-so-cool (full source here: <a href=""https://github.com/nskeip/bf/blob/a755b2d27292593d63fe1e63c2a6e01cebc73520/BrainFuck.hs"">https://github.com/nskeip/bf/blob/a755b2d27292593d63fe1e63c2a6e01cebc73520/BrainFuck.hs</a>)</p>
","149392","","<p>There is no difference between <code>(+1)</code> and <code>\x -&gt; x + 1</code> and if you look closely, <code>(+1)</code> isn't what's causing your error. <code>(-1)</code> is. And that's because unlike <code>(+1)</code>, <code>(-1)</code> is not an operator section, it's negative one.</p>
"
"<p><code>(log n)^k = O(n)? For k greater or equal to 1.</code></p>

<p>My professor presented us with this statement in class, however I am not sure what it means for a function to a have a time complexity of O(n). Even stuff like <code>n^2 = O(n^2)</code>, how can a function f(x) have a run time complexity? </p>

<p>As for the statement how does it equal O(n) rather than O((logn)^k)?</p>
","149392","","<blockquote>
  <p>(log n)^k = O(n)?</p>
</blockquote>

<p>Yes. The definition of big-Oh is that a function <code>f</code> is in O(g(n)) if there exist constants N and c, such that for all <code>n &gt; N</code>: <code>f(n) &lt;= c*g(n)</code>. In this case <code>f(n)</code> is <code>(log n)^k</code> and <code>g(n)</code> is <code>n</code>, so if we insert that into the definition we get: ""there exist constants N and c, such that for all <code>n &gt; N</code>: <code>(log n)^k &lt;= c*n</code>"". This is true so <code>(log n)^k</code> is in O(n).</p>

<blockquote>
  <p>how can a function f(x) have a run time complexity</p>
</blockquote>

<p>It doesn't. Nothing about big-Oh notation is specific to run-time complexity. Big-Oh is a notation to classify the growth of functions. Often the functions we're talking about measure the run-time of certain algorithms, but we can use big-Oh to talk about arbitrary functions.</p>
"
"<p>I'm working on an automatic summarization system in my C++ class and have a question regarding one of the ASCII comparisons I'm doing. Here's the code: </p>

<pre><code>    char ch;
    string sentence;
    pair&lt;char, char&gt; sentenceCheck;
    int counter = 0;
    while (!ifs2.eof())
    {
        ch = ifs2.get();
        ch = tolower(ch);

        if (ch == 13)
            ch = ifs2.get();

        if (ch != 10 &amp;&amp; ch != '?' &amp;&amp; ch != '!' &amp;&amp; ch != '.')
            sentence += ch;

        sentenceCheck.first = sentenceCheck.second;
        sentenceCheck.second = ch;

        cout &lt;&lt; sentenceCheck.first &lt;&lt; ""-"" &lt;&lt; (int)sentenceCheck.first &lt;&lt; "" ---- "" &lt;&lt; sentenceCheck.second &lt;&lt; ""-"" &lt;&lt; (int)sentenceCheck.second &lt;&lt; endl;

        if(sentenceCheck.second == ' ' || sentenceCheck.second == 10 || sentenceCheck.second == -1)
        {
            if(sentenceCheck.first == '?' || sentenceCheck.first == '!' || sentenceCheck.first == '.')
            {
                istringstream s(sentence);
                while(s &gt;&gt; wordInSentence)
                {
                    sentenceWordMap.insert(pair&lt;string, int&gt;(wordInSentence, 0));
                }
                //sentenceList.push_back(pair&lt;string, int&gt;(sentence, 0));
                sentence.clear();
            }
        }
    }
</code></pre>

<p>What is being done here (with the two if statements) is checking whether a new sentence has begun in the text that is to be analyzed and dealt with later. The conditionals work but only because we discovered that we have to check for that -1 as well. Any ideas what that represents?</p>
","149392","","<p>As an ASCII character -1 doesn't represent anything (which is to say -1 is not a valid ASCII value). As the return value from get() it means that the read operation failed - most likely due to the end of file being reached.</p>

<p>Note that the eof() function doesn't return true if the next call to get will fail because of the end of file being reached - it returns true if the <strong>previous</strong> call to get failed because of the end of file being reached.</p>
"
"<p>I always wrote my list-producing recursive functions in this format:</p>

<pre><code>recursiveFunc :: [a] -&gt; [b]
recursiveFunc (x:xs) = [change x] ++ resursiveFunc xs where
    change :: a -&gt; b
    change x = ...
</code></pre>

<p>I realize any function like the above could be written for the <code>a -&gt; b</code> case and then simply <code>map</code>ed over a set <code>[a]</code>, but please take this watered-down situation as an example.</p>

<p>HLint suggests replacing <code>[change x] ++ recursiveFunc xs</code> with <code>change x : recursiveFunc xs</code>.</p>

<p>Is this suggestion purely aesthetic, or is there some effect on how Haskell executes the function?</p>
","149392","","<p>When using <code>[change x] ++ recursiveFunc xs</code> you create a superfluous one-element list, which is then taken apart by the <code>++</code> function. Using <code>:</code> that doesn't happen.</p>

<p>Plus <code>++</code> is a function which then will use the <code>:</code> constructor. When you use <code>:</code> directly, there's no need to invoke a function.</p>

<p>So using <code>:</code> is more efficient in theory (the compiler might optimize those differences away, though).</p>
"
"<p>I'm fairly new to ruby. Recently, I wanted to extract a portion of a string from the n'th character of said string to the end.</p>

<p>Doing something like s[n,(s.size - n)] seemed pretty inelegant to me, so I asked a couple of friends.</p>

<p>One suggested I try s[n..-1], and sure enough that works, but he couldn't give me a good reason why it should work. I find the fact that it works rather puzzling, as the following output from irb1.9 should explain:</p>

<pre><code>
> s = ""0123456789""
=> ""0123456789""
> s[2..-1]
=> ""23456789""
> (2..-1).to_a
=> []
</code></pre>

<p>So as you can see, the range object 2..-1 is empty -- it has no members, which is absolutely what you expect if you go upwards in value from 2 to -1. This is consistent with the documentation for how range objects should work.</p>

<p>The documentation for indexing a string with a range clearly says: ""If given a range, a substring containing characters at offsets given by the range is returned"" -- but that is an empty set.</p>

<p>I also can find no examples in ""The Ruby Programming Language"" or in the Ruby docs in which a string is indexed using <code>s[n..-1]</code> or the like, and can find no examples of it in other official sources. It appears to be folklore, however, that it works even though nothing in the manuals indicate that you can index a string with a range this way, and get the result you get even though the range has no members.</p>

<p>Yet, my friend was correct, it works.</p>

<p>So, could someone please explain <em>why</em> this works to me? I'm also very much interested in knowing if the fact that it works is a fluke of MRI/YARV or if this is absolutely expected to work in all Ruby implementations, and if so, where is it documented to work?</p>

<p>EDITED TO ADD:</p>

<p>An answerer below claimed that only the range's <code>begin</code> and <code>end</code> attributes matter for these purposes, but I can find no documentation of that in TRPL or in the Ruby documentation. The answer also claims that there are indeed examples of such ""mixed-sign"" range indexing, but the only one I could find was in a context where the mixed-range index was shown to produce <code>nil</code>, not a slice of a string. I therefore don't find that answer satisfying.</p>

<p>EDITED TO ADD:</p>

<p>It appears that the correct answer is that this is indeed a defect in the Ruby documentation.</p>

<p>EDITED TO ADD:</p>

<p>The bug was fixed by the Ruby documentation team: see <a href=""https://bugs.ruby-lang.org/issues/6106"" rel=""nofollow"">https://bugs.ruby-lang.org/issues/6106</a></p>
","149392","","<p>You're right that the range <code>n..-1</code> is empty. However that doesn't matter because <code>String#[]</code> doesn't treat the range as a collection - it just uses the range's <code>begin</code> and <code>end</code> attributes.</p>

<p>Regarding documentation: <a href=""http://ruby-doc.org/core-1.9.3/String.html#method-i-5B-5D"" rel=""nofollow"">The rdoc documentation of <code>String#[]</code></a> lists the behavior of <code>String#[]</code> for every possible type of argument (including ranges with negative numbers) with examples. So you don't have to rely on folklore. Relevant quote:</p>

<blockquote>
  <p>If given a range, a substring containing characters at offsets given by the range is returned. [...] if an offset is negative, it is counted from the end of str.
  [...]</p>

<pre><code>a = ""hello there""
# ...
a[-4..-2]              #=&gt; ""her""
</code></pre>
</blockquote>
"
"<p>How can I create an array of length <code>n</code>, all zeroes, except for some index <code>i</code> being equal to 1.0?</p>

<p>For example, if my magic function is <code>foo</code> it would work as follows:</p>

<pre><code>foo:: Int -&gt; Int -&gt; [Double]
&gt; foo 3 0
[1.0, 0.0, 0.0]
&gt; foo 2 1
[0.0, 1.0]
&gt; foo 1 1
** Exception: index greater than length! 
</code></pre>

<p>Having a brain freeze...any help appreciated.</p>
","149392","","<p>To create a list (as your type signature and examples suggest), you can use range syntax to create a list of indices and then call <code>map</code> to go over the indices, compare each index to the index the user supplied and map it to 1.0 or 0.0 accordingly.</p>
"
"<p>This must be something very basic. I'm not familiar with the syntax, and this is my first most difficult problem. <code>connection</code> below returns something of type <code>IO Connection</code> - but I don't understand how IO and Connection are connected / what does it mean. If you can, please tell what is the purpose of IO in this operation and how can I loose it.</p>

<pre><code>{-# LANGUAGE OverloadedStrings #-}

import Database.MySQL.Simple

-- This returns `IO Connection'
connection :: Connection
connection = do
             c &lt;- connect defaultConnectInfo
                          { connectPassword = ""password"",
                            connectDatabase = ""database"" }
             return c
-- Possibly need to do something to `c', but don't know what

first_table :: IO String
first_table = do
              [Only i] &lt;- query_ connection ""show tables""
              return i

test_query :: IO Int
test_query = do
             [Only i] &lt;- query_ connection ""select 2 + 2""
             return i
</code></pre>

<p>However, my final goal was to find a way <strong>to only connect to the database once</strong>, store the connection handle somewhere and reuse it when first or second functions are called. I'm nowhere near understanding how that may be done (in Erlang, for example, I'd need to open a separate process and wait for messages requesting the connection, which is extremely cumbersome and uncomfortable - so I hope, I wouldn't need to go through anything like that...).</p>

<p>Thanks in advance.</p>

<p>EDIT:</p>

<pre><code>{-# LANGUAGE OverloadedStrings #-}

import Database.MySQL.Simple
-- I need, instead of this function something that only connects once to the databse.
connection :: IO Connection
connection = do
             c &lt;- connect defaultConnectInfo
                          { connectPassword = ""password"",
                            connectDatabase = ""database"" }
             return c

first_table :: IO String
first_table = do
              c &lt;- connection
              [Only i] &lt;- query_ c ""show tables""
              return i

test_query :: IO Int
test_query = do
             c &lt;- connection
             [Only i] &lt;- query_ c ""select 2 + 2""
             return i
</code></pre>

<p>Think of <code>connection</code> as if it was, well, let it be Java for a change:</p>

<pre><code>public Connection getConnection() {
    if (connection == null) connection = /* JDBC does it's dirty job 
                             and creates connection handle */
    return connection;
}
</code></pre>
","149392","","<p><code>IO</code> is parametrized type (called type constructor in Haskell or generic in C#/Java). In this case <code>String</code> is its type argument.</p>

<p><code>IO String</code> in Haskell would be written as <code>IO&lt;String&gt;</code> in Java/C#/C++.</p>
"
"<p>I am reading <a href=""http://www.haskell.org/haskellwiki/All_About_Monads#An_example"" rel=""nofollow"">this monad tutorial</a>. I am trying to implement <code>Sheep</code> that will work with this tutorial.</p>

<p>I tried this </p>

<pre><code>-- No Sheep or Name, Father Sheep, Mother Sheep
data Sheep = Nothing | String Sheep Sheep
</code></pre>

<p>but it isn't working. </p>
","149392","","<p>The first part of a constructor definition is the name of the constructor. The types of its arguments come after that. Also if a constructor has no argument, the name isn't followed by anything, so no ""Nothing"". So if we were to name your constructors ""NoSheep"" and ""Sheep"", it would be:</p>

<pre><code>data Sheep = NoSheep | Sheep String Sheep Sheep
</code></pre>
"
"<p>I'm trying to track every class variable's history by metaprogramming. I'm not a fan of asking such questions but It took me 5 hours to be able to write these and from now on I have no idea how to proceed (I'm new to ruby, and this is the first time I'm playing with metaprogramming).</p>

<p>In my understanding; when <code>attr_accessor_with_history</code> initializes in a class, it should execute the code it is containing. Thus, every time this method initializes, by the merits of metaprogramming every class is going to have its own method for the problem I described.</p>

<p>In the code I submitted, readers are initialized properly but I can't say the same about the code in <code>class_eval</code> part. I need clarification about why the code isn't working, and metaprogramming in general.</p>

<pre><code>class Class
  def attr_accessor_with_history(attr_name)
    attr_name = attr_name.to_s
    attr_reader attr_name
    attr_reader attr_name + ""_history""

    class_eval ""%Q{
    @#{attr_name}_history=[nil] 
    def #{attr_name}=(value)
        #{attr_name}=value
        #{attr_name}_history.push(value)
    end
    }
    ""
  end
end

class Klass
  attr_accessor_with_history :kamil
  def initialize(value)
    kamil = value
  end
end

a = Klass.new(5)
a.kamil = 1
puts ""#{a.kamil_history}""
</code></pre>
","149392","","<p>To call a setter method on self, you'll need to write <code>self.foo = bar</code>. If you just write <code>foo = bar</code> it will just create local variable named bar and not call any method. So you'll need to change lines 11 and 23 accordingly.</p>

<p>Also by using %Q{} inside quotes, your whole eval will actually just evaluate to a string. You should use %Q{} or quotes - not both. In fact you probably shouldn't use a string at all, but call class_eval with a block and use <code>define_method</code> inside the block.</p>
"
"<p>I'm trying to make a standard ml function which takes 3 elements as input and returns a  sorted list which is sorted from smallest to largest. I used 3 helper methods that gets me the min, max and the mid elements. the codes are below:</p>

<pre><code>- fun min3 (a, b, c):real = 
    if a &lt; b andalso a &lt; c then a
        else if b &lt; a andalso b &lt; c then b
        else c;

- fun mid3 (a, b, c):real = 
    if (a &lt; b andalso a &gt; c) orelse (a &gt; b andalso a &lt; c) then a
        else if (b &lt; a andalso b &gt; c) orelse (b &gt; a andalso b &lt; c) then b
        else c;

- fun max3 (a, b, c):real = 
    if a &gt; b andalso a &gt; c then a
    else if b &gt; a andalso b &gt; c then b
        else c;

- fun sort3 (a, b, c):real = 
    min3(a, b, c)::mid3(a, b, c)::max3(a, b, c)::[];
</code></pre>

<p>the following worked perfectly when dealing with ints, but when i changed them to reals, the helper methods returned the correct results but i get error when typing the sort method which is the following (couldnt copy the error text so i took a screen shot) : </p>

<p><img src=""http://i.stack.imgur.com/smTl1.jpg"" alt=""enter image description here""></p>

<p>what could be wrong in the code?
Thanks</p>

<p>Also, is there another way of sorting 3 elements other than the way i posted here or not?</p>
","149392","","<p>When changing the types, you've made a mistake with the return value of <code>sort3</code>. The error message is telling you that you declared <code>sort3</code> to return a real while in fact it returns a list of reals.</p>
"
"<p>I read few questions here on SO about this topic which seems yet confusing to me. I've just begun to learn C++ and I haven't studied templates yet or operator overloading and such.</p>

<p>Now is there a simple way to overload</p>

<pre><code>class My {
public:
    int get(int);
    char get(int);
}
</code></pre>

<p>without templates or strange behavior? or should I just </p>

<pre><code>class My {
public:
    int get_int(int);
    char get_char(int);
}
</code></pre>

<p>?</p>
","149392","","<p>There is no way to overload by return type in C++. Without using templates, using <code>get_int</code> and <code>get_char</code> will be the best you can do.</p>
"
"<p>Up until recently this use to work fine:</p>

<pre><code>module Demo
  class &lt;&lt; self
    attr_accessor_with_default :x, ""hey""
  end
end
</code></pre>

<p>However that's no longer the case.</p>

<p>attr_accessor_with_default has been removed and I am left without a clue how to set this attribute a default value.</p>
","149392","","<p>For normal instance variables, you'd just set the variable to its default value inside initialize. For class instance variables, you can set it inside the class body:</p>

<pre><code>module Demo
  class &lt;&lt; self
    attr_accessor :x
  end

  @x = ""hey""
end
</code></pre>
"
"<p>How I can do something like this:</p>

<pre><code>class Some &lt; String
    def m1(a, b)
        self = a + b
    end
end

s = Some.new(""hello"")
s.m1(""one "", ""two"")
p s # =&gt; ""one two"" 
</code></pre>
","149392","","<p>That depends on how exactly you define ""something like"".</p>

<p>If you want to make it so that all variables that point to the given <code>Some</code> object, now instead point to the string that is the result of <code>a + b</code>, that's not possible.</p>

<p>If you want to change the string contents of the given <code>Some</code> object, you can use the <code>replace</code> method, i.e. <code>replace(a+b)</code>.</p>

<p>To illustrate the difference between using <code>replace</code> and reassignment:</p>

<pre><code>class Some &lt; String
    def m1(a, b)
        replace( a + b )
    end
end

s1 = Some.new(""hello"")
p s1.object_id # some number
s1.m1(""one "", ""two"")
p s1 # ""one two""
p s1.object_id # the same number as above
p s1.class # Some

s2 = Some.new(""hello"")
p s2.object_id # some number
s2 = ""one "" + ""two""
p s2 # ""one two""
p s2.object_id # a different number
p s2.class # String
</code></pre>

<p>The latter behavior is not achievable using a method.</p>
"
"<p>I've spent some time, trying to understand Clojure multimethods. The main ""pro"" multimethod argument, as far as I understand, is their flexibility, however, I'm confused with the argumentation of why multimethods are better than a simple if or case statement. Could someone, please, explain, where is the line between polymorphism and an overglorified case statement drawn?</p>

<p>EDIT: I should have been clearer in the question, that I'm more interested in comparison with the 'if' statement. Thanks a lot for the answers!</p>
","149392","","<p>The difference between multimethods and a big if-statement is that you need to modify the function that contains the case-statement to add cases to the if-statement. You can add a new method without touching the previously existing methods.</p>

<p>So if you define a multimethod inside your library and you want your users to be able to extend it for their own data types, that's no problem. If you had used an if-statement instead, it would be a big problem.</p>
"
"<p>Like the question says.</p>

<p>This was found in <code>List[() =&gt; Unit]</code> which was used to store callback functions.</p>

<p>I understand <code>List[type]</code> and that <code>Unit</code> is a return type of a function that doesnt return anything.</p>
","149392","","<p><code>(T1,...,Tn) =&gt; T</code> is the type of functions that take parameters of types <code>T1</code> through <code>Tn</code> and return type <code>T</code>. So <code>() =&gt; Unit</code> is the type of functions that take no parameters and have return type Unit. Consequently <code>List[() =&gt; Unit]</code> is the type of lists containing such functions.</p>
"
"<p>What's the best practice for hiding variables in a Ruby file, like the equivalent of a (function() {})() closure in JavaScript?</p>

<p>So if I have a file:</p>

<pre><code>foo = 5
bar = foo * foo
</code></pre>

<p>I only want to expose bar, not foo, when someone requires it.</p>
","149392","","<p>If you have a file containing those two lines and someone requires that file, neither of the two variables will be exposed. Local variables are still local to the file even if they appear at the global scope.</p>

<p>If you want to expose <code>bar</code>, you'll need to turn it into a global variable <code>$bar</code> or, if you don't intend for the variable to change, into a constant <code>Bar</code>. By not doing the same thing to <code>foo</code> it will automatically not be exposed.</p>

<p>You might also consider wrapping the whole thing up in a module or class.</p>
"
"<p>I am inside a subclass and when I am trying to find the name of super class, I tried super.getClass() , but it is returning me the name of the subclass only.
Why?</p>
","149392","","<p>If you override a method from your superclass (or your superclass's superclass etc.), <code>super.theMethod()</code> will invoke the original method instead of the one you overrode it with. If you did not actual override <code>theMethod</code>, <code>super.theMethod()</code> will act exactly like <code>theMethod()</code>.</p>

<p>In this case I assume you did not override <code>getClass()</code> (in fact I know you didn't because it's final), so <code>super.getClass()</code> acts exactly like <code>getClass()</code>, i.e. either way the <code>getClass</code> method of the <code>Object</code> class is called.</p>
"
"<p>Why is this <code>for ((;;)); do sl; done;</code> not working? I try to list all files in Ubuntu?</p>
","149392","","<p>You didn't specify an error message, so it's hard to say, but I assume that it's not working because you don't have a program named <code>sl</code> installed in any directories in your <code>$PATH</code>.</p>

<p>Maybe you meant <code>ls</code> instead?</p>
"
"<p>Are there any reasons one would prefer to use Math.Floor vs casting to an integral type?</p>

<pre><code>double num;
double floor = Math.Floor(num);
</code></pre>

<p>OR</p>

<pre><code>double num;
long floor = (long)num;
</code></pre>
","149392","","<p>There are some differences between casting to an integral type and using Math.Floor:</p>

<ol>
<li>When casting to an integral type, you'll end up with an integral type (obviously). So if you want to keep the number as a double, using Floor is easier.</li>
<li>As a consequence of 1, casting will not work correctly if the given number is too large to be represented by the given integral type (a double can represent much larger numbers than a long).</li>
<li>Floor rounds towards negative infinity. Casting rounds towards zero.</li>
</ol>
"
"<p>Hello I am new at Haskell and i'm having problems trying to get this script to work. 
This script reads in arguements from a command line and find them in a seperate text file.</p>

<p>E.G: cat.txt | ./redact  house big cat (in compiler)</p>

<p>It redacts certain words in a text file by replacing them with stars (<em>*</em>*)asterisks. 
The number of stars used for each redacted word should equal the
number of characters in the word.</p>

<pre><code>module Main where

import System
import Data.Char
import Data.List

lowercase :: String -&gt; String
lowercase = map toLower

main = do 
arg1 &lt;- getArgs
txt &lt;- getContents
putStr (redact txt arg1)

redact :: String -&gt;[String] -&gt; String
redact input xWords = unlines [ work line | line &lt;- lines input ]
where work line = unwords [ foo word | word &lt;- words line ]
      foo w | lowercase(w) == lowercase(xWords) = convertWord w 1
        | otherwise                         = w

convertWord :: Eq a =&gt; [a] -&gt; [a]
convertWord :: map (const '*') 
</code></pre>

<p>However, when i try to compile this, GHCi returns the error: ""redact.hs:21:27: parse error on input "" ' "". 
So the code:</p>

<pre><code>convertWord :: map (const '*') 
</code></pre>

<p>is causing the problem.</p>

<p>And finaly when I enter: (cat.txt | ./redact  house big cat) in the compiler I get the error: ""interactive:1:14: parse error on input '|' "" 
So I would also like a solution for this error.</p>

<p>Info:
Windows 7
GHCi Compiler, Version 7.0.4</p>
","149392","","<pre><code>convertWord :: map (const '*')
</code></pre>

<p>The <code>::</code> operator is used to declare something to have a given type. So the above line is saying ""<code>convertWord</code> has the type <code>map (const '*')</code>"", which obviously doesn't make any sense. You probably wanted a <code>=</code> there.</p>

<pre><code>cat.txt | ./redact house big cat
</code></pre>

<p>I don't know who told you to write that into GHCi, but that's not valid Haskell code. It's shell script - you need to type that into a (unix) shell.</p>
"
"<p>Am I just being blind or does this <code>if</code> statement genuinely not do what it's meant to?</p>

<pre><code>Dim textSample as String = ""F""
If Not textSample = ""D"" Or Not textSample = ""E"" Or Not textSample = ""F"" Then
    MessageBox.Show(""False"")
End If
</code></pre>

<p>This displays the message box even though textSample is one of the letters. In my eyes that <code>if</code> statement should see that textSample is one of those letters and skip it, whereas if it was Z it would ""Not"" be equal to any of those and would therefore show the message box.</p>

<p>Why does it step into the <code>if</code> statement?</p>
","149392","","<p><code>cond1 Or cond2 Or ... Or condn</code> is true if and only if at least one of the given conditions are true. In your case it is always the case that at least one of the conditions is true (in fact at least two of the conditions will be true in each case). For example if <code>textSample</code> is <code>""D""</code> then the condition <code>Not textSample = ""E""</code> and the condition <code>Not textSample = ""F""</code> will be true. So the whole condition will be true.</p>

<p>Long story short: Use And instead of Or.</p>
"
"<pre><code>let impfac i = 
  let l = ref i in
  let result = ref 1 in
  let k = ref 2 in
  while !k &lt; !l do
    result := !result * !k
      k:=!k+1
  done;
  !result
</code></pre>

<p>The error message is:</p>

<pre><code>let impfac i = 
  let l = ref i in
  let result = ref 1 in
  let k = ref 2 in
  while !k &lt; !l do
    result := !result * !k
      k:=!k+1
  done;
  !result;;
                Characters 121-123:
      result := !result * !k
                          ^^
Error: This expression is not a function; it cannot be applied
#
</code></pre>
","149392","","<pre><code>result := !result * !k
  k:=!k+1
</code></pre>

<p>You're missing a semicolon at the end of the first line. Because of this it is read as:</p>

<pre><code>result := !result * (!k k:=!k+1)
</code></pre>

<p>i.e. it thinks you're trying to call <code>!k</code> with <code>k:=!k+1</code> as its argument.</p>

<p>This is also why your editor indented the line with <code>k := !k+1</code> farther to the right than the line above it. That should have been the first sign that something's wrong with the syntax.</p>
"
"<p>I'm trying to make a function in standard ml that takes a list of pairs of ints, and I should return a list of int that contains the max element from the pairs. <code>(int * int) list -&gt; int list</code>. Now so far,I've written a code but it doesnt work and I cant seem to figure the problem from the error it gave.</p>

<p>Here's the code:</p>

<pre><code>- fun maxpairs x = 
=   foldr (fn (a, b) =&gt; if a &gt; b then a else b) [] x;
</code></pre>

<p>And here's the error I'm getting:</p>

<pre><code>stdIn:15.2-15.50 Error: operator and operand don't agree [overload]
  operator domain: 'Z
  operand:         'Y list
  in expression:
    (foldr (fn (&lt;pat&gt;,&lt;pat&gt;) =&gt; if &lt;exp&gt; then &lt;exp&gt; else &lt;exp&gt;)) nil
</code></pre>
","149392","","<p><code>foldr</code> takes a function of type <code>('a * 'b) -&gt; 'b</code>, a value of type <code>'b</code> and a list of type <code>['a]</code>. In your case the list is a list of pairs and the value of type <code>'b</code> is an empty list. That means in the function <code>fn (a,b) =&gt; ...</code> <code>a</code> will be a pair and <code>b</code> will be a list. You then try to compare <code>a</code> and <code>b</code> using <code>&gt;</code>. Since <code>&gt;</code> can't be used with a pair as its left operand and a list as its right operand, that doesn't work. Also you can't have an if-statement where the then-expression and the else-expression have different types.</p>

<p>If I were you I'd use map for this, which seems to fit the problem better than using a fold.</p>
"
"<p>I'm making a dice simulator for school, and I need to calculate the percentage a certain number has been rolled, and I gave it a test run, but somehow I got this:</p>

<pre><code>How many dice do you want to roll?
3
How many times do you want to roll the dice?
1000000
144414: 1000000 196039 %
</code></pre>

<p>This is the code for my main class:</p>

<pre><code>#include &lt;iostream&gt;
#include ""Dice.h""
#include ""DiceSimulator.h""

using namespace std;

static int inputNumber(const string question);

int main(int argc, const char * argv[])
{
    int numberOfDice = inputNumber(""How many dice do you want to roll?"");

    const int times = inputNumber(""How many times do you want to roll the dice?"");

    DiceSimulator sim(times, numberOfDice);

    cout &lt;&lt; sim.howManyTimesDidWeRollACertainNumber(11) 
    &lt;&lt; "": "" &lt;&lt; times &lt;&lt; "" "" 
    &lt;&lt; ((sim.howManyTimesDidWeRollACertainNumber(11) * 100.0) / times) 
    &lt;&lt; "" %"" &lt;&lt; endl;

    return 0;
}

int inputNumber(const string question)
{
    int number = 0;
    cout &lt;&lt; question &lt;&lt; endl;
    cin &gt;&gt; number;
    return number;
}
</code></pre>

<p>This is my DiceSimulator.cpp:</p>

<pre><code>#include &lt;iostream&gt;
#include ""DiceSimulator.h""

using namespace std;

DiceSimulator::DiceSimulator(const int times, const int numberOfDice)
{
    this-&gt;numberOfDice = numberOfDice;
    int timesRolled[6 * numberOfDice - 2];
    Dice dice[numberOfDice];

    for(int i = numberOfDice; i &lt;= 6 * numberOfDice; i++)
    {
        timesRolled[i - numberOfDice] = 0;
    }

    for(int i = 0; i &lt; times; i++)
    {
        int roll = 0;
        for(int j = 0; j &lt; numberOfDice; j++)
        {
            roll = roll + dice[j].roll();
        }

        timesRolled[roll - numberOfDice]++;
    }

    this-&gt;timesRolled = timesRolled;
}

int DiceSimulator::howManyTimesDidWeRollACertainNumber(int number)
{
    if(number &lt; numberOfDice || number &gt; numberOfDice * 6)
        return 0;

    return timesRolled[number - numberOfDice];
}
</code></pre>

<p>And this is DiceSimulator.h</p>

<pre><code>#include ""Dice.h""

#ifndef _3_01_Dice_Simulator_DiceSimulator_h
#define _3_01_Dice_Simulator_DiceSimulator_h

class DiceSimulator
{
    int numberOfDice;
    int *timesRolled;
public:
    DiceSimulator(const int times, const int numberOfDice);
    int howManyTimesDidWeRollACertainNumber(int number);
};

#endif
</code></pre>

<p>You would think that 144414 divided by 1000000 multiplied by 100 is 14.4414, right? How is it possible that this gives a wrong result?</p>
","149392","","<pre><code>int timesRolled[6 * numberOfDice - 2];
// ...
this-&gt;timesRolled = timesRolled;
</code></pre>

<p>You can't do that. <code>timesRolled</code> is a local variable that will go out of scope at the end of the constructor. Once that happens the memory is no longer valid and accessing any pointer to that memory will lead to undefined behavior.</p>
"
"<p>Given a unsorted sequence of a[1,...,n] of integers, give an O(nlogn) runtime algorithm to check there are two indices i and j such that a[i] =2*a[j]. The algorithm should return i=0 and j=2 on input 4,12,8,10 and false on input 4,3,1,11.</p>

<p>I think we have to sort the array anyways which is O(nlogn). I'm not sure what to do after that. </p>
","149392","","<p>You're right that the first step is sorting the array.</p>

<p>Once the array is sorted, you can find out whether a given element is inside the array in <code>O(log n)</code> time. So if for every of the <code>n</code> elements, you check for the inclusion of another element in  <code>O(log n)</code> time, you end up with a runtime of <code>O(n log n)</code>.</p>

<p>Does that help you?</p>
"
"<p>I'm trying to write a Haskell function that checks if a list of integers is in order without using any of the already existing functions to order or check the order of the list. I have written the following code but I do not understand why it does not work. I get the error:  </p>

<pre><code>No instance for (Ord integer)
      arising from a use of `&lt;='
    In the expression: x &lt;= (head xs)
</code></pre>

<p>I don't understand what this means. Is there a different way that I should be writing this function? Here is my code so far.</p>

<pre><code>isordered :: [integer] -&gt; Bool
isordered [] = True
isordered (x:[]) = True
isordered (x:xs)|x &lt;= (head xs) = isordered xs
                |otherwise = False
</code></pre>

<p>Thanks in advance!!!</p>
","149392","","<p>In Haskell type names start with capital letters and type variables start with lower case letters. So if you write <code>integer</code>, that's a type variable. So your type is the same as <code>[a] -&gt; Bool</code>, i.e. you take a list of anything and return a Bool. So since there's no restriction on what type of item might be in the list, you're not allowed to use <code>&lt;=</code> on it.</p>

<p>To fix this you can either just change it to <code>Integer</code>, which is what you wanted, or add an Ord constraint like this: <code>Ord a =&gt; [a] -&gt; Bool</code>. The latter will make your function work with any type that implements the <code>Ord</code> typeclass (which provides the comparison operators such as <code>&lt;=</code>).</p>
"
"<p>Whenever I use the <code>splice</code> method in Javascript like so:</p>

<pre><code>Array.prototype.mymethod = function() {
  return this[num].splice();
}
</code></pre>

<p>It returns an error in my tests saying that <code>splice()</code> is not a method in Javascript. The test only contains an array consisting of <code>['a', 'b', 'c']</code>, however it's not working when the prototype I'm using tries to <code>splice()</code> the array. Can't seem to figure out what's going on. Thanks.</p>
","149392","","<p>You're calling splice on an element of the array, not on the array itself.</p>
"
"<p>It gives me this error for my if structure:
if: expected a question and two answers, but found 4 parts</p>

<p>However  i am doing it according to the syntax.</p>

<pre><code> (if (or (null? list1) (null? list2))
    display(result-list)
    (begin
    (append result-list (list((car list1) list2)))
    (inner ((cdr list1) list2 result-list)))
     )
</code></pre>

<p>Could you please tell me where am i doing it wrong?</p>
","149392","","<p>The second line should be <code>(display result-list)</code>.</p>

<p>The way you wrote it, <code>display</code> is the then-part of the if, <code>(result-list)</code> is the else-part and the begin-block is the superfluous fourth part that your compiler/interpreter complains about.</p>
"
"<p>I'm reading a following datatype:</p>

<pre><code>data Ne
  = NVar Id
  | Ne :.. (Clos Term)
  | NSplit Ne (Bind (Bind (Clos Term)))
  | NCase Ne (Clos [(Label, Term)])
  | NForce Ne
  | NUnfold Ne (Bind (Clos Term))
  deriving (Show, Eq)
</code></pre>

<p>What is <strong>:..</strong> in the second member declaration?</p>
","149392","","<p>The name of a constructor can either be alpha-numeric starting with a capital letter or symbolic starting with a colon. In the latter case the operator will be used infix just like infix functions.</p>

<p>So <code>:..</code> is an infix constructor for the <code>Ne</code> type, which takes an argument of type <code>Ne</code> (left operand) and one of type <code>Clos Term</code> (right operand).</p>
"
"<p>could someone please tell me why the dynamic_cast in the following code (five lines from the bottom) fails? I'm afraid it's something obvious, but I can't see it.</p>

<pre><code>//dynamic_cast.h
#ifndef DYNAMIC_CAST_H
#define DYNAMIC_CAST_H
#include &lt;QObject&gt;
class Parent: public QObject
{
 Q_OBJECT
 public:
 Parent(QObject * parent = 0) {}
};
class Child: public QObject
{
 Q_OBJECT
 public:
 Child(QObject * parent = 0) {}
};
#endif // DYNAMIC_CAST_H


//dynamic_cast.cpp
#include &lt;iostream&gt;
#include ""dynamic_cast.h""
using namespace std;
int main (int argc, char *argv[])
{
  Parent * aParent = new Parent;
  Child * aChild = new Child(aParent);
  Parent * anotherParent = dynamic_cast &lt;Parent *&gt;(aChild-&gt;parent());
  if (anotherParent==0)
      cout &lt;&lt; ""Assigned null pointer"" &lt;&lt; endl;
  else cout &lt;&lt;""No problem!"";
  return 0;
}
</code></pre>
","149392","","<pre><code>Child(QObject * parent = 0) {}
</code></pre>

<p>You're not doing anything with the <code>parent</code> pointer - you're just throwing it away. You should pass the pointer to QObject's constructor like this:</p>

<pre><code>Child(QObject * parent = 0) : QObject(parent)
{}
</code></pre>

<p>Without that the default constructor of <code>QObject</code> will be called and the parent argument ignored.</p>
"
"<p>Just trying to write a simple Ruby program here. I'm trying to get the program to ask for the user's favorite number and then suggest a new favorite number that's one greater. What's wrong with the code below?</p>

<pre><code>puts ""hey, whats your favorite number?"" 

favnumber = gets.chomp 

newfavnumber = favnumber.to_i + 1 

puts ""how about "" + newfavnumber ""?""
</code></pre>
","149392","","<pre><code>puts ""how about "" + newfavnumber ""?""
</code></pre>

<p>First of all, you probably wanted a <code>+</code> before the <code>""?""</code> there. The way this is written now, it parses as <code>puts(""how about "" + newfavnumber(""?""))</code>, i.e. you're calling a function called <code>newfavnumber</code>, which is obviously not what you want.</p>

<p>However if you change it to <code>puts ""how about "" + newfavnumber + ""?""</code>, which you presumably intended, it still won't work: <code>newfavnumber</code> is a number and <code>""how about ""</code> is a string. In ruby you can't add numbers to strings. To fix this you can call <code>to_s</code> on <code>newfavnumber</code> to convert it to a string.</p>

<p>A better way to write this would be using string interpolation: <code>puts ""how about #{newfavnumber}?""</code>. This way you don't need to call <code>to_s</code> because you can use any type inside <code>#{}</code>.</p>
"
"<p>Why is there no list-style infinite type error when I define something like this in Haskell (GHC)?</p>

<pre><code>data Broken = Broken { title :: String,
                       loop  :: Broken }
</code></pre>

<p>It compiles without a type error, but clearly it's an unusable type: I'd have to define </p>

<p><code>foo = Broken ""one"" (Broken ""two"" (Broken ""three""</code> ...</p>
","149392","","<p>There's nothing broken about it. It's perfectly possible to define a value of that type:</p>

<pre><code>foo = Broken ""one"" foo
</code></pre>

<p>Basically it's the same thing as defining a list type that has no nil value (which is also perfectly legal). It's perfectly possible to define values of that type, but all such values will have to be infinite.</p>
"
"<p>I want to write this program to find a keyword in a list. If found then print the list. But errors occur, i can't solve it. Please give me some suggestions. I am a newbie for lisp.</p>

<p>The main program is two dolist(two for in C) and find keyword in a list of list(two dimension array).</p>

<pre><code>(defun kanna_find (key)
  (let (
        (result 0)
        (kanna-table (list 
                (list ""あ"" ""ア"" ""a"")
                (list ""い""　""イ""　""i"")
               )
        )                               ;; End of kanna table
    )                                   ;; End of let var define
    (dolist (result kanna-table) 
      (dolist (item result)
      (if (string= item key)
          (print result))
        )                               ;; End of the second dolist
      )                                 ;; End of the first dolist
    )                                   ;; End of let
)

(kanna_find ""あ"")
</code></pre>

<p>Below is the debug info</p>

<pre><code>Debugger entered--Lisp error: (void-variable 　)
  (list ""い"" 　 ""イ"" 　 ""i"")
  (list (list ""あ"" ""ア"" ""a"") (list ""い"" 　 ""イ"" 　 ""i""))
  (let ((result 0) (kanna-table ...)) (dolist (result kanna-table) (dolist ... ...)))
  kanna_find(""あ"")
  eval((kanna_find ""あ""))
  eval-last-sexp-1(nil)
  eval-last-sexp(nil)
  call-interactively(eval-last-sexp nil nil)
  recursive-edit()
</code></pre>
","149392","","<pre><code>(list ""あ"" ""ア"" ""a"")
(list ""い""　""イ""　""i"")
</code></pre>

<p>Do you notice how the spaces in the second line are longer than the ones on the first line? That's because they're not ASCII spaces, so emacs doesn't recognize them as spaces. Rather emacs thinks they're variable names, so it complains to you that there's no variable called ""　"" (thus the space in the void-variable error).</p>
"
"<p>i keep getting the following compilling errors in my program. I'm suppose to write a program which uses the array <code>p[]</code> which is passed to a function, the function calculates the polynomial of the nth degree which is defined as 5 and returns the value.</p>

<p>My errors are as follows:</p>

<blockquote>
  <p>poly.c:4:39: error: expected ‘;’, ‘,’ or ‘)’ before numeric constant
  poly.c:16:39: error: expected ‘;’, ‘,’ or ‘)’ before numeric constant</p>
</blockquote>

<pre><code>#include &lt;stdio.h&gt;
#define N 5

double eval(double p[], double x, int N)

int main()
{
double p[N+1] = {0,1,2,3,4};
double x;
printf(""what value of x would you like?: "");
scanf(""%lf"", &amp;x);
p[N+1] = eval(p[], x, n);
printf(""%lf"", p[N+1]);
}

double eval(double p[], double x, int N)
{
double y;
y = x^(p[N+1]);
return y;
}
</code></pre>
","149392","","<pre><code>#define N 5

double eval(double p[], double x, int N)
</code></pre>

<p>Since you #defined N to be 5, the above will look like this after preprocessing:</p>

<pre><code>double eval(double p[], double x, int 5)
</code></pre>

<p>Obviously that's wrong. Also function declarations need to be terminated with a semicolon.</p>
"
"<p>Why does the outer loop in the following program terminate when we provide ctrl+z for the inner loop only?</p>

<pre><code>#include&lt;iostream&gt;
int main()
{
    string s1,s2;

    while(cin &gt;&gt; s1)
    {
        cout&lt;&lt;""In loop1\n"";
        while(cin&gt;&gt;s2)
            cout&lt;&lt;""In loop 2\n"";
        cin.ignore();
    }
}
</code></pre>
","149392","","<p>Hitting Ctrl+z (on Windows) closes the standard input stream. Once it's closed, it stays closed. It doesn't magically reopen once the inner loop is finished. There's just no reason why it would.</p>
"
"<p>There are lots of recursion questions and I basically understand some simple recursion algorithm such as sum of array elements. However, my friend gave me this code which reverses an array:</p>

<pre><code>void r(int a[], int s)
{
     if(s &lt;=2 ) return;
     int t = a[0];
     a[0] = a[s-1];
     a[s-1] = t;

     r(&amp;a[1], s-2); //  this line confused me, why &amp;a[1]
}
</code></pre>

<p>I know how to reverse an array using a normal for loop. But this code really confused me about recursion.</p>

<p>Can anyone explain the above line of code?</p>
","149392","","<p>The important thing to realize is that <code>a</code> is a pointer to the first element of the array, so <code>a</code> is the same as <code>&amp;a[0]</code>. <code>&amp;a[1]</code> is a pointer to the second element of the array. So if you call the function with <code>&amp;a[1]</code> as its argument, it works on the subarray that starts with the second element.</p>
"
"<p>Good evening I was wondering if someone could please provide me with a simple pseudocode example of a deterministic algorithm... I will greatly appreciate it and surely give you points!!. thanks </p>
","149392","","<p>Here's pseudo code for a deterministic algorithm that checks whether a given number is odd:</p>

<pre><code>function is_odd(n):
    if n mod 2 = 1
    then return true
    else return false
</code></pre>
"
"<p>Here is a module containing some methods:</p>

<pre><code>module M
  def x; y; end
  def y; ...; end
end
</code></pre>

<p>Here's a class:</p>

<pre><code>class C
  def z; ...; end
end
</code></pre>

<p>I have two instances of <code>C</code>:</p>

<pre><code> c1 = C.new
 c2 = C.new
</code></pre>

<p>Is there something I can do to <code>c1</code> such that <code>c1.class</code> has <code>x</code> and <code>y</code>, but <code>c2.class</code> doesn't? I don't see a straightforward way to subvert the method lookup.</p>
","149392","","<p>You could override <code>c1.class</code> to return something other than C (and that other thing would extend M). Other than that, no.</p>

<p>Note that overriding <code>c1.class</code> is almost certainly a bad idea. An object shouldn't lie about what its class is.</p>
"
"<p>What could be the cause of the this <code>TemplateSyntaxError</code> in Django?</p>

<pre><code>Invalid block tag: 'endfor', expected 'endblock'
</code></pre>

<p>My template is pretty simple so far:</p>

<pre><code>{% extends 'base.html' %}
{% block content %}
    &lt;div id='beerslist'&gt;
        {$ for beer in beers %}
        {{ beer }}
        {% endfor %}
    &lt;/div&gt;
{% endblock %}
</code></pre>

<p>After looking at the traceback list, the 'beer' variable exists and is returning an array. How can I fix this syntax error?</p>
","149392","","<pre><code>{$ for beer in beers %}
</code></pre>

<p>You typed a <code>$</code> instead of <code>%</code>. That's why it doesn't recognize the <code>for</code> and complains that there's no <code>for</code> block for it to close when it sees the <code>endfor</code>.</p>
"
"<p>If I have two arrays:</p>

<pre><code>a = [1,2,3]
b = [2,3,4]
</code></pre>

<p>Is there a pre-built function to add the two arrays to give</p>

<pre><code>c = a + b = [3,5,7]
</code></pre>

<p>i.e. add the values of each element in the array? </p>
","149392","","<p>No, there isn't one method for this. But you can combine <code>zip</code> and <code>map</code> like this:</p>

<pre><code>c = a.zip(b).map {|a,b| a+b}
</code></pre>
"
"<p>I'm having a hard time with templates and would like to ask some help.</p>

<p>First of all, I'm implementing a dynamic list, where the ""data"" of the node can be used to point whatever I need. It's a generic list to all the application, and the way I found to make it was with templates.</p>

<p>Here is the .h where I implemented it:</p>

<pre><code>#ifndef DYNAMICLIST_H_
#define DYNAMICLIST_H_

// **** Node ****
template &lt;typename T&gt;
class Node
{
public:
    Node(int _nodeID, T* _data)
    {
        nodeID = _nodeID;
        next = NULL;
        data = _data;
    }

    Node()
    {

    }

    ~Node()
    {
        if(data)
            delete data;
    }

    //sets e gets

    Node* GetNext() const
    {
        return next;
    }

    void SetNext(Node* _next)
    {
        next = _next;
    }

    int GetNodeID() const
    {
        return nodeID;
    }

    T* GetNodeData() const
    {
        return data;
    }

    void SetData(T* _data) //provavelmente não será usada
    {
        data = _data;
    }

private:

    int nodeID; //numero usado na busca
    Node* next; //ponteiro pro proximo node
    T* data;    //ponteiro pra uma imagem, uma mensagem, um som, o que quer que seja que precisar ser guardado
};





// **** DynamicList ****
class DynamicList
{
public:
    DynamicList(Node* _node)
    {
        this-&gt;SetHead(_node);
    }

    ~DynamicList()
    {
        this-&gt;DeleteList();
    }

    //sets e gets
    Node* GetHead() const
    {
        return head;
    }

    void SetHead(Node* _head)
    {
        head = _head;
    }

    Node* GetNode(int _nodeID) const
    {
        Node *Finder;
        if (!head)
            return false;
        Finder = head;
        for (; Finder; Finder = Finder-&gt;GetNext()) 
        {
            if (Finder-&gt;GetNodeID() == _nodeID) //se o nome for igual, retorna o ponteiro do node
                return Finder;
        }
        return false;
    }

    void NewNode (Node* _node) // Método para adicionar um elemento novo ao final da lista.
    {   
        if (!this-&gt;GetHead())
        {
            this-&gt;SetHead(_node);
        }
        else
        {
            Node *Finder = this-&gt;GetHead();
            while (Finder-&gt;GetNext())
                Finder = Finder-&gt;GetNext();
            Finder-&gt;SetNext(_node);
        }
    }

    //outras
    bool Delete(int _nodeID)
    {
        Node* deleter;
        Node* aux;

        if(!this-&gt;GetNode(_nodeID) ) //não há mensagem com esse Id na lista
            return false;

        if(head-&gt;GetNodeID() == _nodeID)
        {
            if (!head-&gt;GetNext()) //se não houver outro nó além da head, não deletar
            {
                delete head;
                head = NULL;
            }
            else
            {
                aux = head-&gt;GetNext(); //se head tiver a mensagem a ser deletada, head agora aponta para o nó seguinte
                delete head;
                head = aux;
                return true;
            }
        }
        else
        {
            deleter = head;

            while (deleter) //enquanto não chegar no fim
            {
                if (deleter-&gt;GetNext()) //se há um próximo node
                {
                    if (deleter-&gt;GetNext()-&gt;GetNodeID() == _nodeID) //verifica se o próximo tem a node mensagem procurada
                    {
                        aux = deleter-&gt;GetNext()-&gt;GetNext(); //caso tenha, perde o ponteiro do proximo node e pega o do seguinte
                        delete deleter-&gt;GetNext();
                        deleter-&gt;SetNext(aux);
                        return true;
                    }
                }
                deleter = deleter-&gt;GetNext(); //passa para o próximo
            }
            return false;
        }
    }

    void DeleteList()
    {
        Node* superDeleter;
        Node* aux;

        superDeleter = head;

        if(!superDeleter)
            return;
        else
        {
            while(superDeleter-&gt;GetNext()) //se há um próximo node
            {
                aux = superDeleter-&gt;GetNext(); //guarda o proximo
                delete superDeleter; //deleta o primeiro
                superDeleter = aux; //aponta para o proximo
            }
            delete superDeleter; //deleta o ultimo restante
        }
    }

private:

    Node* head;
};

#endif
</code></pre>

<p>My intention was to use template to make data a generic pointer to keep the class in the queue.
Check the methods in the class. Most of them use Node*, which I cursed by making it a template.
Now the Node* can't be used without specifying the type in the declarations?
Is there a way to declare Node* so I can use it in this methods? My biggest problem is that inside the methods I can't specify the node template, it should work with all types.</p>

<p>Thanks.</p>
","149392","","<blockquote>
  <p>My biggest problem is that inside the methods I can't specify the node template, it should work with all types</p>
</blockquote>

<p>Yes, you can: just make <code>DynamicList</code> a template as well and then use <code>Node&lt;T&gt;*</code>. That way it will work with all types.</p>
"
"<p>Consider the following sample ruby class</p>

<pre><code>class User
  def hello
    puts ""hello""
  end
end
</code></pre>

<p>now, for initialization. there are two ways</p>

<p><strong>normal variable</strong></p>

<pre><code>1.9.3p125  &gt; tr = User.new
 =&gt; #&lt;User:0x98778c4&gt;
1.9.3p125  &gt; tr.hello
 Hello world
 =&gt; nil`
</code></pre>

<p><strong>Instance variables:</strong></p>

<pre><code>1.9.3p125 &gt; @tr = User.new
 =&gt; #&lt;User:0x9890f2c&gt;
1.9.3p125 &gt; @tr.hello
Hello world
 =&gt; nil
</code></pre>

<p>Now, in both cases it works the same. so what is the difference between normal variable vs instance variable?</p>
","149392","","<p>A local variable can be used only within the method in which it is defined (or, when the variable is defined at the top level, only outside of any method). An instance variable can be used from any method that is called on the same instance.</p>

<p>Here's an example where you can see the difference:</p>

<pre><code>@tr = User.new

def foo
  @tr.hello
end

foo
# Hello World


tr = User.new

def bar
  tr.hello
end

bar
# Exception because tr is not accessible from within bar
</code></pre>
"
"<p>what the result will be after execute the C-like program, if the parameter passing mechanism is pass-by-name-result?</p>

<pre><code>procedure swap(int x, int y){
    int t = x;
    x = y;
    y = t;
}

main(){
     int v = 1;
     int list[5] = {1,3,5,7,9};
     swap(v, list[v]);
}
</code></pre>
","149392","","<p><sup>(Note: I'm assuming that the question is about call-by-name as the question's body suggests - not call-by-value-result as the title suggests.)</sup></p>

<p>When using call-by-name you can figure out the result of a function call by inserting the function's body at the call site and replacing each occurrence of the parameter names in the function's body with the (unevaluated) arguments.</p>

<p>In this case that means replacing each occurrence of <code>x</code> with <code>v</code> and each occurrence of <code>y</code> with <code>list[v]</code>. If you do that and execute the resulting code in your head, you'll see what the result is.</p>
"
"<p>The Ruby (1.9.3) documentation seems to imply that scan is equivalent to =~ except that </p>

<ol>
<li>scan returns multiple matches, while =~ returns only the first occurrence, and</li>
<li>scan returns the match data, while =~ returns the index. </li>
</ol>

<p>However, in the following example, the two methods seem to return different results for the same string and expression. Why is that?</p>

<pre><code>1.9.3p0 :002 &gt; str = ""Perl and Python - the two languages""
 =&gt; ""Perl and Python - the two languages"" 
1.9.3p0 :008 &gt; exp = /P(erl|ython)/
 =&gt; /P(erl|ython)/ 
1.9.3p0 :009 &gt; str =~ exp
 =&gt; 0 
1.9.3p0 :010 &gt; str.scan exp
 =&gt; [[""erl""], [""ython""]] 
</code></pre>

<p>If the index of first match is 0, shouldn't scan return ""Perl"" and ""Python"" instead of ""erl"" and ""python""?</p>

<p>Thanks</p>
","149392","","<p>When given a regular expression without capturing groups, <code>scan</code> will return an array of strings, where each string represents a match of the regular expression. If you use <code>scan(/P(?:erl|ython)/)</code> (which is the same as your regex except without capturing groups), you'll get <code>[""Perl"", ""Python""]</code>, which is what you expect.</p>

<p>However when given a regex with capturing groups, <code>scan</code> will return an array of arrays, where each sub-array contains the captures of a given match. So if you have for example the regex <code>(\w*):(\w*)</code>, you'll get an array of arrays where each sub-array contains two strings: the part before the colon and the part after the colon. And in your example each sub-array contains one string: the part matched by <code>(erl|ython)</code>.</p>
"
"<p>I've looked high and low and maybe I am just a bit out of practice but I cannot seem to find how to do the following.</p>

<p>I have a String/Symbol, for example <code>""a""</code> or <code>:a</code>. The class, <code>B</code>, contains a data member, <code>@a</code>. I am looking to access the member in such a fashion:</p>

<pre><code>def method object_of_class_B, string_or_symbol_referencing_the_member
    object_of_class_B.some_other_method string_or_symbol_referencing_the_member = 010
end
</code></pre>

<p>so I can call:</p>

<pre><code>method c, :a
</code></pre>

<p>and have the same effect as if I had written:</p>

<pre><code>c.a = 010
</code></pre>

<p>Can anyone point me in the direction of a solution? Did I just completely miss a key piece of Ruby in my learning?</p>
","149392","","<p>You can use <code>send</code> to invoke the setter method like this:</p>

<pre><code>object_of_class_B.send(""#{ string_or_symbol_referencing_the_member }="", 010)
</code></pre>
"
"<p>is there a cleaner way of doing this? I'm trying to do pattern matching of a</p>

<p><code>(a' option * (char * nodeType) list ref</code></p>

<p>the only way I found was doing this : </p>

<pre><code>match a with
| _, l -&gt; match !l with
  | (c, n)::t -&gt; doSomething 
</code></pre>

<p>Wouldn't there be a way to match <code>a</code> with something else like ...</p>

<pre><code>match a with
| _, ref (c,n)::t -&gt; doSomething
</code></pre>

<p>... or something similar? In this example it doesn't look heavy to just do another match with, but in the real case it can somewhat be...</p>

<p>Thanks for your answers.</p>
","149392","","<p>The <code>ref</code> type is defined as a record with a mutable field:</p>

<pre><code>type 'a ref = {
    mutable contents : 'a;
}
</code></pre>

<p>This means that you can pattern match against it using record syntax like this:</p>

<pre><code>match a with
| _, { contents = (c,n)::t } -&gt; doSomething
</code></pre>
"
"<p>the following question just shot through my head. For the c++ stl iterators, a common practice is to have something like:</p>

<pre><code>for (iterator it=obj.begin(); it!=obj.end(); it++)
</code></pre>

<p>what I am wondering is actually that obj.begin() could have told ""it"" when to stop which would make the for loop look like:</p>

<pre><code>for (iterator it=obj.begin(); !it.end(); it++)
</code></pre>

<p>The benefit would be to make the iterator more self contained, and one could save (iterator end()) in the container class.</p>
","149392","","<p>If the iterator API would be designed like that, a pointer wouldn't be a valid iterator (since a pointer obviously wouldn't have an <code>end()</code>) method. So that would rule out the most straight-forward way to implement iterators for data structures with contiguous memory.</p>
"
"<p>I have written a class, and I want it to work with STL algorithm sort() function.
Let me give some code snippets;</p>

<pre><code>class bignum_index_cont
{
private:
mpz_class a;
long int index;
public:
bignum_index_cont() {a=0; index=0;}
bignum_index_cont(const bignum_index_cont &amp;big) {a=big.a; index=big.index;}

void bignum_set(mpz_class &amp;c, long int d) {a=c;index=d;}

bool operator==(bignum_index_cont &amp;big) {return a==big.a;}
bool operator==(mpz_class &amp;big) {return a==big;}
bool operator&gt;(bignum_index_cont &amp;big) { return a&gt;big.a;}
bool operator&gt;=(bignum_index_cont &amp;big) {return a&gt;=big.a;}
bool operator&lt;(bignum_index_cont &amp;big) {return a&lt;big.a;}
bool operator&lt;=(bignum_index_cont &amp;big) {return a&lt;=big.a;}

//some more functions..... that I think will not be needed here.
};
</code></pre>

<p>then I took <code>vector&lt;bignum_index_cont&gt; hashtx1(pow(2,20)+1);</code> in the global space.
now, in <code>main()</code> I some how managed to take inputs to all elements of <code>vector&lt;bignum_index_cont&gt;</code>
Then I decided I will sort this vector. So, I called, <code>sort(hashtx1.begin(), hashtx1.end());</code>..
but I got a huge list of errors. They are:</p>

<pre><code>c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_algo.h||In function '_RandomAccessIterator std::__unguarded_partition(_RandomAccessIterator, _RandomAccessIterator, const _Tp&amp;) [with _RandomAccessIterator = __gnu_cxx::__normal_iterator&lt;bignum_index_cont*, std::vector&lt;bignum_index_cont&gt; &gt;, _Tp = bignum_index_cont]':|
c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_algo.h:2253|70|instantiated from '_RandomAccessIterator std::__unguarded_partition_pivot(_RandomAccessIterator, _RandomAccessIterator) [with _RandomAccessIterator = __gnu_cxx::__normal_iterator&lt;bignum_index_cont*, std::vector&lt;bignum_index_cont&gt; &gt;]'|
c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_algo.h:2284|54|instantiated from 'void std::__introsort_loop(_RandomAccessIterator, _RandomAccessIterator, _Size) [with _RandomAccessIterator = __gnu_cxx::__normal_iterator&lt;bignum_index_cont*, std::vector&lt;bignum_index_cont&gt; &gt;, _Size = int]'|
c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_algo.h:5407|4|instantiated from 'void std::sort(_RAIter, _RAIter) [with _RAIter = __gnu_cxx::__normal_iterator&lt;bignum_index_cont*, std::vector&lt;bignum_index_cont&gt; &gt;]'|
C:\Users\poneer\Desktop\Cryptography\bignum.cpp:121|40|instantiated from here|
c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_algo.h|2212|error: no match for 'operator&lt;' in '__first.__gnu_cxx::__normal_iterator&lt;_Iterator, _Container&gt;::operator* [with _Iterator = bignum_index_cont*, _Container = std::vector&lt;bignum_index_cont&gt;, __gnu_cxx::__normal_iterator&lt;_Iterator, _Container&gt;::reference = bignum_index_cont&amp;]() &lt; __pivot'|
c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_algo.h|2212|note: candidates are:|
C:\Users\poneer\Desktop\Cryptography\bignum.cpp|39|note: bool bignum_index_cont::operator&lt;(bignum_index_cont&amp;)|
C:\Users\poneer\Desktop\Cryptography\bignum.cpp|39|note:   no known conversion for argument 1 from 'const bignum_index_cont' to 'bignum_index_cont&amp;'|
c:\mingw\bin\..\lib\gcc\mingw32\4.6.2\include\c++\bits\stl_pair.h|207|note: template&lt;class _T1, class _T2&gt; bool std::operator&lt;(const std::pair&lt;_T1, _T2&gt;&amp;, const std::pair&lt;_T1, _T2&gt;&amp;)|
//+ a lot of errors similar to this
C:\Files\GMP\GMP\include\gmpxx.h|3150|note: template&lt;class T, class U&gt; bool operator&lt;(long double, const __gmp_expr&lt;T, U&gt;&amp;)|
//+ a lot similar to this
</code></pre>

<p>Note that, if I take <code>vector&lt;mpz_class&gt; hashtx1(pow(2,20)+1)</code> and use the sort() function, it compiles just fine.
How can I improve my code so that it works with the <code>sort()</code> function?</p>

<p>Another point is that I have even tried using a recursive quicksort() function to sort the vector. But it terminates while running.</p>

<pre><code>void quicksort(long int left, long int right)
{
long int i=left, j=right;
bignum_index_cont pivot, temp;
pivot=hashtx1[(left+right)/2];

while(i&lt;=j)
{
    while(hashtx1[i]&lt;pivot)
        i++;
    while(hashtx1[j]&gt;pivot)
        j--;
    if(i&lt;=j)
    {
        temp=hashtx1[i];
        hashtx1[i]=hashtx1[j];
        hashtx1[j]=temp;
        i++; j--;
    }

}
quicksort(left, j);
quicksort(i, right);
}
</code></pre>

<p>I called it using <code>quicksort(0,pow(2,20))</code>.</p>
","149392","","<p>You need to make the arguments to your comparison operators const-references and make the operators const themselves.</p>
"
"<p>I was reading some C++ text at the address: <a href=""http://www.parashift.com/c++-faq-lite/new/istream-and-while.html"" rel=""nofollow"">http://www.parashift.com/c++-faq-lite/new/istream-and-while.html</a>.</p>

<p>According to the text, the I wrote this code:</p>

<pre><code>int sum = 0, value;
while(cin &gt;&gt; value) 
{
    cout &lt;&lt; ""value: "" &lt;&lt; value &lt;&lt; endl;
    sum += value;
}
cout &lt;&lt; ""sum: "" &lt;&lt; sum &lt;&lt; endl;
</code></pre>

<p>If the input was: <code>1 2 3 4 5</code></p>

<p>Then the while loop did not stop as I expected. Am I misunderstanding something? (I was using MS Visual C++ 2005)</p>
","149392","","<p>Your while loop will read input until the input stream is closed. In the Windows console that means until the user presses Ctrl+Z.</p>

<p>If you want to read input until the user presses enter, you need to do things differently. For example you could read the entire line using getline and then put that line into a stringstream and read from that in a while-loop - or you could use the <code>peek()</code> method of the <code>istream</code> class after reading each value, to check whether the next character in the stream is a newline.</p>
"
"<p>I.e., something like:</p>

<pre><code>(defn dowith [f &amp; arglists]
  (doseq [args arglists] (apply f args)))
</code></pre>

<p>Is there a built-in function like that in Clojure?</p>
","149392","","<p>No, there is no built-in function that does that.</p>
"
"<p>I am attempting to use an overloaded function to get a string.</p>

<pre><code>void get(char prompt[], int size,const std::string b = """")
{
    std::cout &lt;&lt; prompt &lt;&lt; "": "";  
    std::cin.get(b, size);  
    std::cin.ignore(10, '\n');  
}
</code></pre>

<p>Now I did just change the last argument from a character array to a string at the advice of another poster on this site, so I'm a little lost.  I'm getting error message at the '.' in between cin and get.  I've also tried cin.getline (I have no idea if there's a difference or what it is)</p>

<blockquote>
  <p>Error message : cannot convert parameter 1 from 'const std::string' to
  'char *'</p>
</blockquote>

<p>The error has a lot of other stuff, but I think that's the important bit.</p>
","149392","","<p>When working with strings, you need to use the free function getline from the string header, not the member function getline from iostream. So it would be <code>std::getline(std::cin, b);</code>.</p>

<p>That being said <code>getline</code> won't accept a <code>const string</code> as its argument for the simple reason that the whole point of calling <code>getline</code> is to write to the string. Also note that unless you make <code>b</code> a (non-const) reference, any changes you perform on <code>b</code> inside your <code>get</code> method will not be visible outside of the method since strings are copied if you pass them by value.</p>

<p>The difference between <code>istream::get(char*, streamsize)</code> and <code>istream::getline(char*, streamsize)</code> is that the latter discards the newline character (as does the <code>getline</code> method for strings) while the former does not.</p>
"
"<p>I over heard someone saying that <code>system()</code> call from <code>libc</code> is not safe.</p>

<p>One reason i can think of is that it launches shell utility e.g. <code>/bin/bash</code> and if <code>system(""rm -rf $input"")</code> is started and $input is un-sanitized user input then it can potentially wreck havoc if $input=""/"".
What are the other reasons?</p>
","149392","","<p>You don't even have to call rm for malicious input to erase the hard drive. If you execute <code>system(""harmless_command $input"")</code> and <code>$input</code> is <code>; rm -rf /</code>, that will execute <code>harmless_command</code> followed by <code>rm -rf /</code>. So if you want to interpolate user input in a command and malicious input would be a problem¹, using system would be a bad idea.</p>

<p>In addition to security concerns, using system can also lead to bugs. For example if you do <code>system(""some_command $filename"")</code> and $filename contains spaces (or other shell meta characters), the command will blow up unless you properly escape the file name first.</p>

<p>If you use the exec* family of functions (which take an array or variadic argument list containing the arguments of the command, instead of a single string that goes through the shell), none of these problems exist.</p>

<hr>

<p>¹ In cases where the code runs on the user's computer with the user's permissions, one could argue that malicious input wouldn't be a problem. If the user enters malicious input which causes his hard drive to be erased, that's really the user's own fault. But if the code runs on a remote server or locally with enhanced permissions, it's a different matter.</p>
"
"<p>The following code does not compile:</p>

<pre><code>let x = ""hello"" in
Printf.printf x
</code></pre>

<p>The error is:</p>

<pre><code>Error: This expression has type string but an expression was expected of type
     ('a, out_channel, unit) format =
       ('a, out_channel, unit, unit, unit, unit) format6
</code></pre>

<p>1) Can someone give an explanation of the error message?</p>

<p>2) And why would a string cannot be passed to printf ?</p>
","149392","","<p>The first argument to printf must be of type <code>('a, out_channel, unit) format</code> not string. String literals can be automatically converted to an appropriate format type, but strings in general can't.</p>

<p>The reason for that is that the exact type of a format string depends on the contents of the string. For example the type of the expression <code>printf ""%d-%d""</code> should be <code>int -&gt; int -&gt; ()</code> while the type of <code>printf ""%s""</code> should be <code>string -&gt; ()</code>. Clearly such type checking is impossible when the format string is not known at compile time.</p>

<p>In your case you can just do <code>printf ""%s"" x</code>.</p>
"
"<p>As far as I know,any programming language which doesn't require to write type annotations in the source while writing a function or module and if that chunk of code is ""type-correct"" , compiler will infer the types and compiles the code. is there more to it?</p>

<p>is(are) there a such language(s)? if yes are there any limitations on it's type system?</p>

<p>Update 1:
Just to be <strong>really</strong> clear , I am asking about a statically typed,fully type-inferred programming language not a dynamically typed programming language.</p>
","149392","","<p>The limitation of full type inference is that it doesn't work with many advanced type system features. As an example consider Haskell and OCaml. Both of these languages are <em>almost</em> fully type inferred, but have some features that can interfere with type inference.</p>

<hr>

<p>In Haskell it's type classes combined with polymorphic return types:</p>

<pre><code>readAndPrint str = print (read ""asd"")
</code></pre>

<p>Here <code>read</code> is a function of type <code>Read a =&gt; String -&gt; a</code>, which means ""for any type <code>a</code> that supports the type class <code>Read</code> the function <code>read</code> can take a <code>String</code> and return an <code>a</code>. So if <code>f</code> is a method that takes an int, I can write <code>f (read ""123"")</code> and it will convert ""123"" to the Int 123 and call <code>f</code> with it. It knows that it should convert the string to an Int because <code>f</code> takes an Int. If f took a list of ints, it would try to convert the string to a list of Ints instead. No problem.</p>

<p>But for the <code>readAndPrint</code> function above that approach does not work. The problem here is that <code>print</code> can take an argument of any type that can be printed (that is any type that supports the <code>Show</code> typeclass). So there's no way for the compiler to know whether you want to convert the string to an int, or a list of ints, or anything else that can be printed. So in cases like this you need to add type annotations.</p>

<hr>

<p>In OCaml the problematic feature is polymorphic functions in classes: If you define a function that takes an object as its argument and calls a method on that object, the compiler will infer a monomorphic type for that method. For example:</p>

<pre><code>let f obj = obj#meth 23 + obj#meth 42
</code></pre>

<p>Here the compiler will infer that <code>obj</code> must be an instance of a class that has a method named <code>meth</code> of type <code>int -&gt; int</code>, i.e. a method that takes an Int and returns an Int. You can now define a bunch of classes that have such a method and pass instances of that class as arguments to <code>f</code>. No problem.</p>

<p>The problem occurs if you define a class with a method of type <code>'a. 'a -&gt; int</code>, i.e. a method that can take an argument of any type and return an int. You can not pass an object of that class as an argument to <code>f</code> because it doesn't match the inferred type. If you want <code>f</code> to take such an object as its argument, the only way is to add a type annotation to <code>f</code>.</p>

<hr>

<p>So those were examples of languages that are almost fully type inferred and of cases where they're not. If you'd remove the problematic features from those languages, they'd be fully type inferred.</p>

<p>Consequently basic dialects of ML without such advanced features are fully type inferred. For instance I assume that Caml Light is fully type inferred since it's basically OCaml without classes (however I don't actually know the language, so that's just an assumption).</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/4897844/is-sizeofbool-implementation-defined-in-c"">Is sizeof(bool) implementation defined in C++?</a>  </p>
</blockquote>



<p>Im writing code that is compiled in vc++ with a g++ lib (libpng) and need to know if bool is the same size and bits in g++ and vc++. All I know is false is all 0's and that sizeof(bool) is 1 in vc++</p>
","149392","","<p>There are versions of <code>g++</code> (and versions of Visual C++ as well for that matter) for which on some platforms <code>sizeof(bool)</code> is not equal to 1. So no, you can't assume that it will be the same on g++ and Visual C++. You can't even assume that it's the same on different versions of the same compiler or the same version on different platforms.</p>
"
"<pre><code>end1 = ""C""
end2 = ""h""
end3 = ""e""
end4 = ""e""
end5 = ""s""
end6 = ""e""
end7 = ""b""
end8 = ""u""
end9 = ""r""
end10 = ""g""
end11 = ""e""
end12 = ""r""

puts end1, end2, end3, end4, end5, end6, end7, end8, end9, end10, end11, end12
</code></pre>

<p>Does the comma mean the next string would be printed on the next line of the previous string?</p>
","149392","","<p>The comma separates the arguments of the call to the <code>puts</code> method. In other words the <code>puts</code> method is called with 12 arguments here.</p>

<p>The <code>puts</code> method is defined to print out each argument followed by a line break (unless the given string already ends with a line break), so yes, each string will be printed on a separate line.</p>

<p>If you want to print each string on the same line, you can use the <code>print</code> method instead of <code>puts</code>.</p>
"
"<p>I am relatively new to <a href=""https://live.gnome.org/Vala/Tutorial#Interfaces"" rel=""nofollow"">Vala</a> and I'm trying to port some C# code into vala by hand and I have started out with a trivial example to test it out.</p>

<p>C# coders will recognize the snippet below as being 1-1 mapping to C#.</p>

<p>Here is the test vala file Universe.vala:</p>

<pre><code>namespace Universe
{
    public interface Planet
    {
        string Name { get; }
    }
}
</code></pre>

<p>I get the compilation error: </p>

<blockquote>
  <p>Universe.vala: error: property getter must have a body</p>
</blockquote>

<p>It would appear that Vala does not support get(set)ter properties in interfaces - or am I missing something?. How do I fix this?</p>
","149392","","<p>In Vala interfaces can still contain non-abstract properties and methods (but no variables). This means if you want to define an abstract property or method, you still need to use the <code>abstract</code> keyword, just like you would in an abstract class.</p>

<p>Since you did not use the <code>abstract</code> keyword here, the compiler thinks you're trying to define a non-abstract property. However non-abstract properties in interfaces need an explicit body (because the default implementation would need to use variables, which are not allowed). So that's why the error message is complaining about the missing body.</p>

<p>Just add the <code>abstract</code> keyword and it will work fine.</p>
"
"<p>I encountered the following in Scala code:</p>

<pre>class MyClass {
  ...
  val a = new A; import a._

}</pre>

<p>What does exactly <code>val a = new A; import a._</code> mean ?</p>
","149392","","<p>It imports the methods and variables of the a object. So if you want to call <code>a.foo()</code>, you can just call <code>foo()</code> instead.</p>
"
"<p>[dcl.attr.noreturn] provides next example :</p>

<pre><code>[[ noreturn ]] void f() {
throw ""error"";
// OK
}
</code></pre>

<p>but I do not understand what is the point of <code>[[ noreturn ]]</code>, because the return type of the function is already void.</p>

<p>So, what is the point of noreturn attribute? How is it suppose to be used?</p>
","149392","","<p>The noreturn attribute is supposed to be used for functions that don't return to the caller. That doesn't mean void functions (which do return to the caller - they just don't return a value), but functions where the control flow will not return to the calling function after the function finishes (e.g. functions that exit the application, loop forever or throw exceptions as in your example).</p>

<p>This can be used by compilers to make some optimizations and generate better warnings. For example if <code>f</code> has the noreturn attribute, the compiler could warn you about <code>g()</code> being dead code when you write <code>f(); g();</code>. Similarly the compiler will know not to warn you about missing return statements after calls to <code>f()</code>.</p>
"
"<p>I'm presently playing with gtk.pixbuf in python. In the API, the subpixbuf function is described as returning a pixbuf that shares data with the original pixbuf :</p>

<blockquote>
  <p>The subpixbuf() method creates a new gtk.gdk.Pixbuf that represents a sub-region of the pixbuf. The new pixbuf shares its pixels with the original pixbuf, so writing to one affects both.</p>
</blockquote>

<p>But...</p>

<p>when I'm trying to divide a pixbuf in a list of subpixbuf and assign a value to each item, the original pixbuf stays the same. </p>

<pre><code>animation.subpixbuf=[]
animation.pixbuf.fill(self.LIGHT_SQ_COLOR)
for i in range(64) :
   animation.subpixbuf += [animation.pixbuf.subpixbuf((7-i%8)*self.sq_width (i/8)*self.sq_width,w,w)]
   animation.subpixbuf[i]=self.squares[63-i]
</code></pre>

<p>Any ideas on how to compose a pixbuf from a bunch of subpixbufs ?</p>

<p>Thanks.</p>
","149392","","<p>When you do <code>animation.subpixbuf[i]=self.squares[63-i]</code>, you're assigning <code>subpixbuf[i]</code> to a new Pixbuf object. You're not changing the Pixbuf previously stored in <code>subpixbuf[i]</code>.</p>

<p>To do what you want to do you should take a look at the <code>copy_area</code> method of the Pixbuf class.</p>
"
"<p>A common pattern with templated classes is that template argument is typedef'ed inside the class to be easily accessible:</p>

<pre><code>#include &lt;type_traits&gt;
template&lt;class T&gt; struct Foo{
    typedef T type;
};
static_assert(std::is_same&lt;Foo&lt;int&gt;::type,int&gt;::value,"""");
</code></pre>

<p>How can I do the same with non-type template argument? I only had the following idea, but there gotta be something more elegant?</p>

<pre><code>template&lt;int I&gt; struct Bar{
   constexpr static int getI(){ return I; }
};
static_assert(Bar&lt;5&gt;::getI()==5,""error"");
</code></pre>
","149392","","<p>You can just use a static const variable:</p>

<pre><code>template&lt;int I&gt; struct Bar{
    static const int i = I;
};

static_assert(Bar&lt;5&gt;::i==5,""error"");
</code></pre>
"
"<p>I'm having trouble understanding some concepts. In the Unicode spec, there's a property called <a href=""http://unicode.org/reports/tr44/#General_Category_Values"" rel=""nofollow""><em>general category</em></a>. </p>

<p>OK I understood what are each of letters (usual characters; <code>GC=L</code>), numbers (like digits 0–9 and other characters that have numeric values; <code>GC=N</code>) and separators (dividers; <code>GC=Z</code>). But it's really hard to distinguish between symbols (<code>GC=S</code>), punctuation (<code>GC=P</code>), and marks (<code>GC=M</code>). </p>

<p>I looked up a list of them, but I couldn't find conceptual difference. And the document doesn't help me a lot. What's the difference between all these?</p>
","149392","","<p>Marks aren't standalone characters, but are applied to another character. Non-spacing marks are displayed over the target character, spacing marks are displayed attached to the target character and enclosing marks are displayed surrounding the target character. For example here's an a in a box (the character ""a"" combined with the enclosing square character):
a⃞</p>

<p>Regarding punctuations versus symbols: As the text you linked explains, some edge cases are classified rather arbitrarily, but in principle the difference is that punctuation is used ""to organize and delimit textual units"" (i.e. to mark the end of a sentence, separate different parts of a sentence, separate the elements of an enumeration etc.) and symbols ""to represent concepts"" (like units for example or mathematical notations).</p>
"
"<p>I'm new to GTK+ and I get a segmentation fault error when I try to compile my program. I've isolated the cause of the error down to the following lines of code.</p>

<pre><code>      GtkTextBuffer *buffer; 
      char buffers[65535];
      struct ip  *ip;          
      .
      .
      .
      ip = (struct ip *)buffers;
      gtk_text_buffer_insert_at_cursor (buffer,ip-&gt;ip_protocol, -1);
</code></pre>

<p>(ip_protocol is a variable in the struct ip)</p>

<p>I'm trying to insert,at the cursor of a textview,the value of the char,""ip_protocol"",situated in ""buffers"" using a pointer.Unfortunately I have to use a pointer in this case.Can anyone help with rectifying my code?</p>
","149392","","<p><s>You never initialize your <code>buffer</code> variable (or the contents of <code>buffers</code> for that matter), so its value is undefined when you pass it do <code>gtk_text_buffer_insert_at_cursor</code>. You need to make it point to a <code>GtkTextBuffer</code> before you pass it to the function.</s> (According to your comment you initialize your variables in the part of the code you left out, so this paragraph doesn't apply to your real code).</p>

<p>Furthermore you said that your <code>ip_protocol</code> variable is a <code>char</code>, but the second argument to <code>gtk_text_buffer_insert_at_cursor</code> should be a pointer. So it's unsurprising that this causes a segmentation fault.</p>
"
"<p>With what function should I fetch a file from the web using gtk libs?</p>

<p>If my file is from:</p>

<p>gchar *path = ""http://xxx.yyyServer/sharing/temp.txt""</p>

<p>What should I do to download it?</p>

<p>For the local files I simply use C libraries like fopen and fread.</p>

<p>How should I do the above?</p>

<p>There is unfortunately no examples of file handling in the Tutorials. I can only see a File chooser from File Dialog boxes.</p>

<p>Please help this noob.</p>

<p>Thanks</p>

<p>UPDATED WITH WORKING CODE FROM COMMENTS:
The code below works for binary files of unknown sizes.</p>

<pre><code>char *name= http://127.0.0.1:8000/mybinfile


int getFile(char *name)
{

    GFile *f = g_file_new_for_uri(name);
    GFileInputStream *fis = NULL;
    GDataInputStream* dis = NULL;
    GError *err = NULL;
    //char buffer[2048];
    char *buffer;
    size_t length;
    int ret = -1;

    GFileInfo *info;

    int total_size = -1;

    /* get input stream */
    fis = g_file_read(f, NULL, &amp;err);

    if (err != NULL) {
        fprintf(stderr, ""ERROR: opening %s\n"", name);
        g_object_unref(f);
        return -1;
    }

    info = g_file_input_stream_query_info (G_FILE_INPUT_STREAM (fis),G_FILE_ATTRIBUTE_STANDARD_SIZE,NULL, &amp;err);
    if (info)
    {
        if (g_file_info_has_attribute (info, G_FILE_ATTRIBUTE_STANDARD_SIZE))
            total_size = g_file_info_get_size (info);
            printf( ""total_size = %d\n"", total_size);
            g_object_unref (info);
    }

    // fill buffer
    if(total_size &gt; 0){
        buffer = (char *) malloc(sizeof(char) * total_size);
        memset(buffer, 0, total_size);
        if ((length = g_input_stream_read (G_INPUT_STREAM(fis),
                    buffer, total_size, NULL, &amp;err)) != -1) {
                printf( ""reading file\n"");
        }
        printf( ""File length = %d\n"", length);

            ret = 0;
        }
        // close streams
        g_object_unref(fis);
        g_object_unref(f);   
        return ret;
    }
</code></pre>
","149392","","<p>HTTP is one of the protocols supported by GIO, so you can open an HTTP URI just like any other file when using the GIO functions instead of standard C functions. Just use <a href=""http://developer.gnome.org/gio/stable/GFile.html#g-file-new-for-uri""><code>g_file_new_for_uri</code></a> to create the file object and then you can read it just like a local file.</p>

<p>You can use <code>g_file_read</code> to get a GFileInputStream for the given URI and then <code>g_data_input_stream_new</code> to get a GDataInputStream for the input stream, which you can then use to read the file line-by-line. You have to upcast the GFileInputStream to a GInputStream before you can pass it to <code>g_data_input_stream_new</code> (or before you can do anything else useful with it), but if you're programming GTK in C, you're probably used to that by now.</p>
"
"<p>I have the following code</p>

<pre><code>FRAME frameArray[5][10]; // Create the array of frames
int trackBufferFull[5] = {0, 0, 0, 0, 0};// Keeps track of how full the buffer for each node is
int trackFront[5] = {0, 0, 0, 0, 0}; // Array to keep track of which is the front of the array
int trackTail[5] = {0, 0, 0, 0, 0};


// Function to add to the array (CHANGE int frame)
void addFrame (int nodeNumber, FRAME frame)
{
    //Calc tail
    int tail = trackTail[nodeNumber-1];

    // Calc frames in buffer
    int framesinBuffer = trackBufferFull[nodeNumber-1];

    if (framesinBuffer == 10)
    {
        printf(""Buffer is full\n"");
    }
    else
    {

        // Add frame to frameArray
        frameArray[nodeNumber-1][tail] = frame; 
        printf(""\nAdded a frame in node: %i to the buffer\n"", nodeNumber);

        // Increment the count
        trackBufferFull[nodeNumber-1]++;
        trackTail[nodeNumber-1] = ++trackTail[nodeNumber-1] % 10;


    }  
}
</code></pre>

<p>The arrays I use for frameArray is a wrap-around/cyclic array of length 10, hence why I have the code</p>

<pre><code>trackTail[nodeNumber-1] = ++trackTail[nodeNumber-1] % 10;
</code></pre>

<p>Everything works perfectly in a standalone file, however when run inside of a larger file, I get the following compile errors:</p>

<pre><code>$ cnet GARETH -m 30
compiling gareth.c
gareth.c: In function ‘addFrame’:
gareth.c:77:27: error: operation on ‘trackTail[nodeNumber + -0x00000000000000001]’ may be undefined [-Werror=sequence-point]
gareth.c: In function ‘removeFirstFrame’:
gareth.c:98:28: error: operation on ‘trackFront[nodeNumber + -0x00000000000000001]’ may be undefined [-Werror=sequence-point]
gareth.c:105:1: error: control reaches end of non-void function [-Werror=return-type]
cc1: all warnings being treated as errors
</code></pre>

<p>Line 77 is the line </p>

<pre><code>trackTail[nodeNumber-1] = ++trackTail[nodeNumber-1] % 10;
</code></pre>

<p>Help. </p>

<p>To see the code with line numbers and the errors side by side, I've uploaded an image to:
<a href=""http://i.imgur.com/wyO5a.png"">http://i.imgur.com/wyO5a.png</a></p>
","149392","","<pre><code>trackTail[nodeNumber-1] = ++trackTail[nodeNumber-1] % 10;
</code></pre>

<p>Yep, that's undefined behavior just as the error message says. You're not allowed to modify the same value twice without a sequence point in between. In this case that means you're not allowed to both increment <code>trackTail[nodeNumber-1]</code> using <code>++</code> and reassign it using <code>=</code>.</p>

<p>If you just use <code>+ 1</code> instead of <code>++</code>, it will work fine.</p>
"
"<p>I am creating a text editor as a way of getting more familiar with C and gtk+.  I am using gtk+-2.0 &amp; gtksourceview-2.0, and gtk_scrolled_window .  As a first attempt at creating a goto function browser I thought I would just simply create an array of functions found in the document and a corresponding array of lines on which they occur.  I have that much done.  I was surprised to find that there is no goto line capability that I can easily find in devhelp.  It sounds like  gtk_text_view_scroll_to_mark () is what I want (after creating a mark), but all the *scroll_to functions require a within_margin, which to be honest I don't really understand.:</p>

<p>From devhelp:</p>

<p>The effective screen for purposes of this function is reduced by a margin of size within_margin.</p>

<p>What does that mean?</p>

<p>Am I even close?  How can I create this scroll to line number functionality?</p>

<p>Thanks.</p>

<p><strong>UPDATE:</strong> The following three functions were used to scroll to a line in the buffer:</p>

<pre><code>gtk_text_iter_set_line (&amp;start, lineNums[9]);
gtk_text_buffer_add_mark (tbuffer, scroll2mark, &amp;start);  
gtk_text_view_scroll_to_mark (text_view, scroll2mark, 0.0, TRUE, 0.0, 0.17);
</code></pre>

<p>The last parameter of gtk_text_view_scroll_to_mark was used to get the target line number to line up with the very top line in the buffer.  I imagine this parameter will not work on all screen sizes, but I have not tested it.</p>

<p>The gtk_text_view_scroll_mark_onscreen function got me close to the line number, but it was just a couple of lines off the bottom of the text area.  </p>
","149392","","<p>The within_margin parameter controls the area of the screen in which the scrolled-to text should appear or more precisely it sets the amount of space at the border of the screen in which the text should not appear.</p>

<p>This exists so that when you set use_align to false (i.e. you don't want the text to appear at a specific position on the screen), you can still make sure that the text doesn't appear directly at the top of bottom of the screen (which might be bad for readability purposes).</p>

<p>If you don't care at all about the position at which the text will appear, you can use <code>g_text_view_scroll_mark_on_screen</code> which only takes the text view and a mark and no further arguments. This will always scroll the minimum amount to make the text appear on screen.</p>
"
"<p>I'm working on a function that adds up all of the digits in a number, and to keep adding up digits until the number is reduced to a single digit. For example, the number <code>99999999999</code> should be evaluated like this:</p>

<pre><code>99999999999
9+9+9+9+9+9+9+9+9+9+9
99
9+9
18
1+8
9
</code></pre>

<p>However, when I try running the number <code>99999999999</code> through my function, it returns <code>7</code>, even though it should return <code>9</code>. I've gone over my code several times, and I can't think of any reason why.</p>

<p>Here's the code:</p>

<pre><code>sumdr x
  | x &lt;= 9 = x
  | otherwise = sumdr $ addupnums x

addupnums y = foldl (+) 0 $ map read1 $ show y

read1 :: Char -&gt; Int
read1 '1' = 1
read1 '2' = 2
read1 '3' = 3
read1 '4' = 4
read1 '5' = 5
read1 '6' = 6
read1 '7' = 7
read1 '8' = 8
read1 '9' = 9
read1 '0' = 0
read1 x = error ""needs to be a number""
</code></pre>
","149392","","<p>This works fine for me on a 64-bit system. If you're on a 32 bit system, 99999999999 doesn't fit into an Int, so it will overflow and give you wrong results.</p>

<p>If you change the type to Integer, it should work.</p>
"
"<p>I am really confused about classes in haskell. If I had the code: </p>

<pre><code>class GetResult n where res :: n -&gt; Int
class (GetResult n) =&gt; Model n where
                                     starting :: Int -&gt; [Int] -&gt; n
                                     starting i j = .....
                                     test :: n -&gt; n
                                     test n = ......
</code></pre>

<p>What type is n? What type would starting output and test take as input?</p>
","149392","","<p>Your confusion might be caused by the fact that type classes in Haskell have nothing to do with classes in OO. Most importantly type classes don't describe objects, they describe types.</p>

<p>A type class describes a set of methods. You can implement those methods for a given type to make that type an instance of the class. So your type class definition of GetResult can be read as ""A type n can be made an instance of GetResult by implementing the method <code>res</code> of type <code>n -&gt; Int</code>"". So <code>n</code> is simply the type that wants to become an instance of <code>GetResult</code>.</p>

<p>As an example if you wanted to make <code>Int</code> an instance of <code>GetResult</code>, you could use the following instance declaration:</p>

<pre><code>instance GetResult Int where
    res :: Int -&gt; Int
    res i = i
</code></pre>

<p>In this case <code>n</code> would be <code>Int</code>.</p>
"
"<p>I am brand new to javascript so please bear with me.  I am trying to get a span to appear on click which I have accomplished, however I need it to return to being hidden once another link is clicked.  This is what I have so far.</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;style&gt;
aside.apps{
    position:relative;
}

span.socialApp{
    visibility:hidden;
    position:absolute;
    top:20px;
    left: 0;
    background-color:#e9e9e9;
}
&lt;/style&gt;

&lt;script&gt;
var state = 'hidden'; 

function showApp(a) { 

    if (state == 'visible') { 
        state = 'hidden'; 
    } 
    else { 
        state = 'visible'; 
    } 

    if (document.getElementById &amp;&amp; !document.all) { 
        x = document.getElementById(a); 
        x.style.visibility = state; 
    } 
} 
&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;

        &lt;aside class=""apps""&gt;
            &lt;a href=""javascript://"" onclick=""showApp('app1');""&gt;link1&lt;/a&gt;
                &lt;span class=""socialApp"" id=""app1""&gt;stuff goes here1&lt;/span&gt;
            &lt;a href=""javascript://"" onclick=""showApp('app2');""&gt;link2&lt;/a&gt;
                &lt;span class=""socialApp"" id=""app2""&gt;stuff goes here2&lt;/span&gt;
            &lt;a href=""javascript://"" onclick=""showApp('app3');""&gt;link3&lt;/a&gt;
                &lt;span class=""socialApp"" id=""app3""&gt;stuff goes here3&lt;/span&gt;
            &lt;a href=""javascript://"" onclick=""showApp('app4');""&gt;link4&lt;/a&gt;
                &lt;span class=""socialApp"" id=""app4""&gt;stuff goes here4&lt;/span&gt;
        &lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Currently when link1 is clicked app1 appears, then once link2 is clicked app2 appears over top of link1.  When link2 is then closed link1 is still visible.  I need to check all 4 and make all hidden except the current selection.</p>
","149392","","<p>You should keep track of the currently visible item in a variable (which is initially <code>null</code>).</p>

<p>Every time <code>showApp</code> is called, hide the currently visible item.</p>

<p>Then make the span that has just been clicked visible and remember that it is now the currently visible item (unless the one that has just been clicked is the same one that has been visible until now - in that case you shouldn't make anything visible and there no longer is a currently visible item).</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/154136/why-are-there-sometimes-meaningless-do-while-and-if-else-statements-in-c-c-mac"">Why are there sometimes meaningless do/while and if/else statements in C/C++ macros?</a>  </p>
</blockquote>



<p>When one needs to execute multiple statements within preprocessor macro, it's usually written like</p>

<pre><code>#define X(a) do { f1(a); f2(a); } while(0)
</code></pre>

<p>so when this macro is used inside expressions like:</p>

<pre><code>if (...)
    X(a);
</code></pre>

<p>it would not be messed up.</p>

<p>The question is: wherever I've seen such expression, it's always <code>do { ... } while(0);</code>. Is there any reason to prefer such notion over (in my opinion more clear one) <code>if (1) { ... }</code>? Or am I wrong in my observations and they are equally popular?</p>
","149392","","<p>Consider this:</p>

<pre><code>if(foo)
    X(a);
else
    whatever();
</code></pre>

<p>This would expand to:</p>

<pre><code>if(foo)
    if(1) { ... }
else
    whatever();
</code></pre>

<p>Which is bad because now the else belongs to the wrong if.</p>
"
"<pre><code>scala&gt; class Rectangle (Length: Int, Width: Int) {; def getLlength (): Int = println (Length); def getWidth ():Int = println (Width); }
&lt;console&gt;:11: error: type mismatch;
 found   : Unit
 required: Int
       class Rectangle (Length: Int, Width: Int) {; def getLlength (): Int = println (Length:Int); def getWidth ():Int = println (Width:Int); }
                                                                                     ^
&lt;console&gt;:11: error: type mismatch;
 found   : Unit
 required: Int
       class Rectangle (Length: Int, Width: Int) {; def getLlength (): Int = println (Length:Int); def getWidth ():Int = println (Width:Int); }
                                                                                                                                 ^
</code></pre>
","149392","","<p>The error message is telling you that println has the return type Unit, so since your getLlength method returns the result of println, it will return Unit. This is an error because you said that getLlength should have a return type of Int.</p>

<p>If you want your getLlength method to print the length, you probably should change its return type to Unit (and change the name to something that makes this clear).</p>

<p>If you want your getLlength method to return the length, your should not be calling println, but rather just return the length.</p>
"
"<p>I wonder why the first approach to factorial does not work (infinite loop) in ruby while the second does.</p>

<pre><code>def fac (x)
  if x == 0
    return 1
  else
    return (fac (x-1) * x)
  end
end

def fact( num )
  return 1 if num == 0

  fact(num - 1) * num
end
</code></pre>
","149392","","<p>The difference is the space after the method name, not the way you structured your if-else.</p>

<p><code>fac (x-1) * x</code> is parsed as <code>fac((x-1) * x)</code>. Basically if a method name is followed by a space (or any token that is not an opening parenthesis), ruby assumes you're calling the method without parentheses. So it interprets the parentheses around <code>x-1</code> as grouping, not a part of the method call syntax.</p>
"
"<p>I'm trying to mix a module into a class, and I want some of the methods to behave as class methods and others to be instance methods.</p>

<p>However, I don't want to both <code>include</code> <em>and</em> <code>extend</code> the module.  I'd rather just <code>include</code> it.</p>

<p>When I wrap the methods I want to be class methods in this notation, it works:</p>

<pre><code>class &lt;&lt;
  # ...
end
</code></pre>

<p>However, when I use this notation it doesn't work:</p>

<pre><code>class &lt;&lt; self
  # ...
end
</code></pre>

<p>I suspect the <code>self</code> keyword is establishing an explicit binding to the module, rather than the class it gets mixed into.  But I've not seen any documentation that recommends leaving the <code>self</code> keyword off when using the <code>class &lt;&lt;</code> notation.</p>

<p>Does anyone know what's going on with this?</p>

<hr>

<p><strong>UPDATE: Here's some sample code for more clarity:</strong></p>

<pre><code>module M
  class &lt;&lt;
    def class_method
      puts ""From inside the class_method""
    end
  end

  def instance_method
    puts ""From inside the instance_method""
  end
end

class Object
  include M
end

class C
end


C.class_method

obj = C.new
obj.instance_method
</code></pre>
","149392","","<p><code>class &lt;&lt;</code> must always be followed by an object. Just <code>class &lt;&lt;; end</code> is a syntax error. In your case it looks like it works because of the following:</p>

<pre><code>class &lt;&lt;
  def class_method
    puts ""From inside the class_method""
  end
end
</code></pre>

<p>is the same as</p>

<pre><code>class &lt;&lt; def class_method
    puts ""From inside the class_method""
  end
end
</code></pre>

<p>which is the same as</p>

<pre><code>temp = def class_method
  puts ""From inside the class_method""
end
class &lt;&lt; temp
end
</code></pre>

<p>which is the same as</p>

<pre><code>def class_method
  puts ""From inside the class_method""
end
class &lt;&lt; nil
end
</code></pre>

<p>which is the same as</p>

<pre><code>def class_method
  puts ""From inside the class_method""
end
</code></pre>

<p>Of course that doesn't actually define a class method. It defines an instance method.</p>
"
"<p>This is from SICP Video Lectures, Lecture 2a around the 39:51 mark.</p>

<pre><code>(DEFINE (SQRT X)
   (FIXED-POINT
      (AVERAGE-DAMP (LAMBDA Y (/ X Y)))
      1)) 

(DEFINE AVERAGE-DAMP
   (LAMBDA f
      (LAMBDA x (AVERAGE (f x) x))))
</code></pre>

<p>What does the <code>x</code> in the second lambda do in AVERAGE-DAMP and how is it being accessed? I don't understand what exactly is being passed to it. </p>
","149392","","<p>The value of <code>x</code> will be the argument that <code>fixed-point</code> passes to the function.</p>

<p>Now you didn't supply the definition of <code>fixed-point</code>, but from the name I would would imagine, it will first call the function with the argument <code>1</code> (because that's what was given as the second argument to <code>fixed-point</code>) and will then continue to call the function with its previous result as the argument until the result is the same as the previous result.</p>

<p>So on the first invocation <code>x</code> would be 1, on the second it would be <code>(average (f 1) 1)</code>, on the third it would be <code>(average (f (average (f 1) 1)) (average (f 1) 1))</code> and so on.</p>
"
"<p>Is there any difference between these two usage?</p>

<p><strong>1.</strong></p>

<pre><code>void Foo(const double &amp;n)
{
   cout&lt;&lt; ""Hello: "" &lt;&lt; n &lt;&lt; endl;
}
</code></pre>

<p><strong>2.</strong></p>

<pre><code>void Foo(double n)
{
   cout&lt;&lt; ""Hello: "" &lt;&lt; n &lt;&lt;endl;
}
</code></pre>

<p>I'm looking for a general answer, not only for this context. (<code>1.</code> usage makes me confused.)</p>
","149392","","<p>If you use a reference and the value that the reference refers to changes, that change will be visible through the reference. If you pass by value, the change won't be visible. Example:</p>

<pre><code>#include &lt;iostream&gt;

using namespace std;

double x;

void Foo1(const double&amp; n) {
    cout &lt;&lt; n &lt;&lt; endl;
    x = 23.0;
    cout &lt;&lt; n &lt;&lt; endl;
}

void Foo2(double n) {
    cout &lt;&lt; n &lt;&lt; endl;
    x = 23.0;
    cout &lt;&lt; n &lt;&lt; endl;
}

int main()
{
    x = 42.0;
    Foo1(x); // Will print 42.0, then 23.0

    x = 42.0;
    Foo2(x); // Will print 42.0 twice

    return 0;
}
</code></pre>
"
"<p>I searched for the meaning of these expressions but couldn't understand the exact differnce between them.
This is what they say:</p>

<ul>
<li><code>?:</code> Match expression but do not capture it.</li>
<li><code>?=</code> Match a suffix but exclude it from capture.</li>
<li><code>?!</code> Match if suffix is absent.</li>
</ul>

<p>I tried using these in simple RegEx and got similar results for all.
example: the following 3 expressions give very similar results.</p>

<ul>
<li><code>[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(?!\.[a-zA-Z0-9]+)*</code></li>
<li><code>[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(?=\.[a-zA-Z0-9]+)*</code></li>
<li><code>[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9]+)*</code></li>
</ul>
","149392","","<p>The difference between <code>?=</code> and <code>?!</code> is that the former requires the given expression to match and the latter requires it to <strong>not</strong> match. For example <code>a(?=b)</code> will match the ""a"" in ""ab"", but not the ""a"" in ""ac"". Whereas <code>a(?!b)</code> will match the ""a"" in ""ac"", but not the ""a"" in ""ab"".</p>

<p>The difference between <code>?:</code> and <code>?=</code> is that <code>?=</code> excludes the expression from the entire match while <code>?:</code> just doesn't create a capturing group. So for example <code>a(?:b)</code> will match the ""ab"" in ""abc"", while <code>a(?=b)</code> will only match the ""a"" in ""abc"". <code>a(b)</code> would match the ""ab"" in ""abc"" <em>and</em> create a capture containing the ""b"".</p>
"
"<p>I'm a complete newbie in Haskell. One thing that always bugs me is the ambiguity in whether Haskell is a managed(term borrowed from MS) language like Java or a compile-to-native code like C?</p>

<p>The GHC page says this ""GHC compiles Haskell code either directly to native code or using LLVM as a back-end"".</p>

<p>In the case of ""compiled to native code"", how can features like garbage collection be possible without something like a JVM?</p>

<p>/<em>Update</em>/</p>

<p>Thanks so much for your answer. Conceptually, can you please help point out which one of my following understandings of garbage collection in Haskell is correct:</p>

<p>GHC compiles Haskell code to native code. In the processing of compiling, garbage collection routines will be added to the original program code?</p>

<p>OR</p>

<p>There is a program that runs along side a Haskell program to perform garbage collection? </p>
","149392","","<p>As far as I am aware the term ""managed language"" specifically means a language that targets .NET/the Common Language Runtime. So no, Haskell is not a managed language and neither is Java.</p>

<p>Regarding what Haskell is compiled to: As the documentation you quoted says, GHC compiles Haskell to native code. It can do so by either directly emitting native code or by first emitting LLVM code and then letting LLVM compile that to native code. Either way the end result of running GHC is a native executable.</p>

<p>Besides GHC there are also other implementations of Haskell - most notably Hugs, which is a pure interpreter that never produces an executable (native or otherwise).</p>

<blockquote>
  <p>how can features like garbage collection be possible without something like a JVM?</p>
</blockquote>

<p>The same way that they're possible with the JVM: Every time memory is allocated, it is registered with the garbage collector. Then from time to time the garbage collector runs, following the steps of the given garbage collection algorithm. GHC-compiled code uses generational garbage collection.</p>

<hr>

<p>In response to your edit:</p>

<blockquote>
  <p>GHC compiles Haskell code to native code. In the processing of compiling, garbage collection routines will be added to the original program code?</p>
</blockquote>

<p>Basically. Except that saying ""garbage collection routines will be added to the original program code"" might paint the wrong picture. The GC routines are just part of the library that every Haskell program is linked against. The compiled code simply contains calls to those routines at the appropriate places.</p>

<p>Basically all there is to it is to call the GC's alloc function every time you would otherwise call malloc.</p>

<p>Just look at any GC library for C and how it's used: All you need to do is to #include the library's header and link against the library, and replace each occurence of malloc with the GC library's alloc function (and remove all calls to <code>free</code>) and bam, your code is garbage collected.</p>

<blockquote>
  <p>There is a program that runs along side a Haskell program to perform garbage collection?</p>
</blockquote>

<p>No.</p>
"
"<p>I create an application to compute the primes numbers in 64-bit range so when i tried to compute the square root of 64-bit number using <code>sqrt</code> function from <code>math.h</code> i found the answer is not accurate for example when the input is <code>~0ull</code> the answer should be <code>~0u</code> but the one I get is <code>0x100000000</code> which is not right, so i decided to create my own version using assembly x86 language to see if this is a bug, here is my function:</p>

<pre>
inline unsigned prime_isqrt(unsigned long long value)
{
    const unsigned one = 1;
    const unsigned two = 2;

    __asm
    {
        test dword ptr [value+4], 0x80000000
        jz ZERO
        mov eax, dword ptr [value]
        mov ecx, dword ptr [value + 4]

        shrd eax, ecx, 1
        shr  ecx, 1
        mov  dword ptr [value],eax 
        mov  dword ptr [value+4],ecx

        fild value
        fimul two
        fiadd one
        jmp REST
ZERO: 
        fild value
REST: 
        fsqrt
        fisttp value
        mov eax, dword ptr [value]
    }
}
</pre>

<p>the input is an odd number to get its square root. When i test my function with same input the result was the same.</p>

<p>What i don't get is why those functions round the result or to be specific why <code>sqrt</code> instruction round the result?</p>
","149392","","<p><code>sqrt</code> doesn't round anything - you do when you convert your integer into a double. A double can't represent all the numbers that a 64-bit integer can without loss of precision. Specifically starting at 2<sup>53</sup>, there are multiple integers that will be represented as the same double value.</p>

<p>So if you convert an integer above 2<sup>53</sup> to double, you lose some of the least significant bits, which is why <code>(double)(~0ull)</code> is 18446744073709552000.0, not 18446744073709551615.0 (or to be more precise the latter is actually equal to the former because they represent the same double number).</p>
"
"<p>I am trying to write a bootstrap algorithm in F# that takes a collection of inputs and creates a list of outputs. If I only need to use the previous element it is straightforward to use recursion :</p>

<pre><code>let buildElement head previous =
    // do something to create new float 
    1.0

let buildList inputs =
    let rec bootstrap elements previous = 

        let addElement head tail =
            let newElement = buildElement head previous
            newElement :: bootstrap tail newElement   

        match inputs with
            | []    -&gt; []
            | h::t  -&gt; addElement h t
    bootstrap inputs 1.0
</code></pre>

<p>However, if I want to use the previously created elements (eg say I wanted to pass in an average of the new values as the previous value), how do I access them in the inner functions? Do I create a collection in the outer function and fill it up in the inner function? If so, do I need to make it mutable?</p>
","149392","","<p>In case of the average function you could pass the partial sum and the number of processed items around and use that calculate the average.</p>

<p>For a general solution, you can take the list of previous results as an argument, prepend the next result to it using <code>::</code> and reverse the whole thing when you're done. This has the added benefit of making your function tail-recursive.</p>
"
"<p>As far as I know, the <code>isDefinedAt</code> method should work like types <code>contains</code> method. But strangely enough, it behaves differently - it does not check elements for repeated occurence.</p>

<pre><code>val randomizer = new Random

def next(acc: List[Int], n: Int): List[Int] = {
   if(n &gt; 0) {
      val r = randomizer.nextInt(15)
      println(""generating, r="" + r + "" is defined="" + acc.isDefinedAt(r))
      if(!acc.isDefinedAt(r)) next(r :: acc, n - 1) // check for NO coincidence
      else next(acc, n)
   } else acc
}

println(""indices = "" + next(List[Int](), 6))
</code></pre>

<p>Ofcourse, I can use Sets for that instead of lists, but nevertheless, why does it act like this?</p>

<p>The output that I get is like</p>

<pre><code>generating, r=8 is defined=false
generating, r=13 is defined=false
generating, r=2 is defined=false
generating, r=8 is defined=false
generating, r=9 is defined=false
generating, r=3 is defined=true
generating, r=2 is defined=true
generating, r=7 is defined=false

indices = List(7, 9, 8, 2, 13, 8)
</code></pre>
","149392","","<p>The <code>isDefineAt</code> method tells you whether a given partial function is defined for a given argument, i.e. whether it will give you a value when you call it with the given argument.</p>

<p>Since Lists are treated as partial functions from their indices to their values, <code>isDefinedAt</code> will tell you whether a given index is valid for a List. It will not tell you whether a given value is contained in the list, that's what <code>contains</code> is for.</p>

<p>Note that despite the fact that you called your list <code>indices</code>, 7, 9, 8, 2, 13 and 8 are the <em>values</em> of that list. The indices of that list are 0, 1, 2, 3, 4 and 5.</p>
"
"<p>Why does this crash? I did find out malloc() doesnt call constructors, so I called them myself manually, but it still crashes, I do not understand why.</p>

<p>PS. I know std::vector and new[] exists. Do not tell me to use vectors/new[] as an answer.</p>

<pre><code>struct MyStruct {
    vector&lt;int&gt; list;
};
void make_crash(){
    MyStruct *array = (MyStruct *)malloc(100*sizeof(MyStruct));
    MyStruct element; // initialize element here since malloc() doesnt do it.
    array[0] = element; // copy, everything should be alright?
    array[0].list.push_back(1337); // nope, BANG!
    // The above line makes these:
    // First-chance exception at 0x7c970441 in test.exe: 0xC0000005: Access violation reading location 0xbaadf005.
    // First-chance exception at 0x00401cd0 in test.exe: 0xC0000005: Access violation reading location 0xbaadf00d.
    // Unhandled exception at 0x00401cd0 in test.exe: 0xC0000005: Access violation reading location 0xbaadf00d.
}
</code></pre>
","149392","","<p>On the line <code>array[0] = element;</code> you're invoking the <code>operator=</code> of <code>array[0]</code>. Since <code>array[0]</code> is uninitialized, this is undefined behavior. Calling any method or operator, including <code>operator=</code> on an object whose constructor has not been invoked, is undefined behavior.</p>

<p>To fix your issue, you'd either need to use placement new to invoke the constructor of <code>array[0]</code> or just use <code>new</code> instead of <code>malloc</code>. Unless you have a good reason to use <code>malloc</code>, the latter is greatly preferable (or even better: use a vector).</p>
"
"<p>Studying Haskell, i'm trying to code a function <code>takeIf</code> that given a condition and a list returns all the list's element that satisfies the condition.</p>

<p>Examples of desired output:</p>

<pre><code>takeIf (&gt;0) [] --&gt; []
takeIf (&gt;0) [-1, 0, 1, 2] --&gt; [1,2]
</code></pre>

<p>I tried this definition:</p>

<pre><code>takeIf cond [] = []
takeIf cond (x:xs) = if (cond x) 
                    then x:(takeIf cond xs)
                    else []:(takeIf cond xs)
</code></pre>

<p>but it doesn't work.</p>

<p>My first question is: I have</p>

<pre><code>:t takeIf --&gt; ([a] -&gt; Bool) -&gt; [[a]] -&gt; [[a]]
</code></pre>

<p>why? Why not:</p>

<pre><code>:t takeIf --&gt; (a -&gt; Bool) -&gt; [a] -&gt; [a]
</code></pre>

<p>How can I get this code to work?</p>

<p>This is the error I get:</p>

<p><img src=""http://i.stack.imgur.com/f83hV.png"" alt=""enter image description here""></p>

<p>If helpful i'm using <code>ghci</code></p>
","149392","","<pre><code>[]:(takeIf cond xs)
</code></pre>

<p>Here you're trying to prepend [] as the new first element to the result of <code>takeIf cond xs</code>. Since <code>[]</code> is a list, GHC infers from that that the result of <code>takeIf cond xs</code> must be a list of lists. Since the result of takeIf has the same type as its argument, that means <code>xs</code> must also be a list of lists. And since <code>x</code> is an element of <code>xs</code>, <code>x</code> must consequently be a list.</p>

<p>It seems like you intended <code>[]:</code> to mean ""prepend nothing to the list"", but <code>[]</code> isn't nothing, it's the empty list. <code>[] : []</code>, doesn't give you <code>[]</code>, it gives you <code>[[]]</code>. Likewise <code>[] : [1,2,3]</code> would give you <code>[[], 1, 2, 3]</code> - except that that's not well-typed, so what it really gives you is a type error.</p>

<p>If you want to prepend nothing to a list, just don't prepend anything to the list, i.e. just use <code>someList</code> instead of <code>[] : someList</code>.</p>
"
"<p>I have the following code that implements the Sieve of Eratosthenes:</p>

<pre><code>primes :: [Int]
primes = primes' [2..]

primes' :: [Int] -&gt; [Int]
primes' [] = []
primes' (p:ps) = p:(primes' [p' | p' &lt;- ps, not (p' `isMultiple` p)])

a `isMultiple` b = (a `mod` b) == 0

main = print (sum (primes' [2..100000]))
</code></pre>

<p>I would like to change main to something like</p>

<pre><code>main = print (sum [p | p &lt;- primes, p &lt; 100000]))
</code></pre>

<p>Not surprisingly, this hangs because it must compare p against every element of the infinite list primes. Since I know that primes is in increasing order, how do I truncate the infinite list as soon as I find an element that exceeds my upper limit?</p>

<p>p.s. In theory, primes' filters the input list to return a list of primes. I know there will be some issues if I start the list at something other than 2. I'm still working on how to address this issue on my own, so please no spoilers. Thanks ;-)</p>
","149392","","<p>In cases like this where you know that once the predicate returns false for an element, it won't ever return true for a later element, you can replace <code>filter</code> with <code>takeWhile</code>, which stops taking elements as soon as the predicate returns false for the first time.</p>
"
"<p>I have a quick question about Haskell. I've been following <a href=""http://learnyouahaskell.com/starting-out#tuples"" rel=""nofollow"">Learn You a Haskell</a>, and am just a bit confused as to the execution order / logic of the following snippet, used to calculate the side lengths of a triangle, when all sides are equal to or less than 10 and the total perimeter of the triangle is 24:</p>

<p><code>[(a,b,c) | c &lt;- [1..10], b &lt;- [1..c], a &lt;- [1..b], a^2 + b^2 == c^2, a+b+c==24]</code></p>

<p>The part that is confusing to me is the upper expansion bound on the <code>b</code> and <code>a</code> binding. From what I gather, the <code>..c</code> and <code>..b</code> are used to remove additional permutations (combinations?) of the same set of triangle sides.</p>

<p>When I run it with the <code>..c/b</code>, I get the answer:</p>

<p><code>[(6,8,10)]</code></p>

<p>When I don't have the <code>..c/b</code>:</p>

<p><code>[(a,b,c) | c &lt;- [1..10], b &lt;- [1..10], a &lt;- [1..10], a^2 + b^2 == c^2, a+b+c==24]</code></p>

<p>as I didn't when I initially typed it in, I got:</p>

<p><code>[(8,6,10),(6,8,10)]</code></p>

<p>Which is obviously representative of the same triangle, save for the <code>a</code> and <code>b</code> values have been swapped. </p>

<p>So, can someone walk me through the logic / execution / evaluation of what's going on here?</p>
","149392","","<p>The original version considers all triplets (a,b,c) where c is a number between 1 and 10, b is a number between 1 and c and a is a number between 1 and b. (6,8,10) fits that criteria, (8,6,10) doesn't (because here a is 8 and b is 6, so a isn't between 0 and 6).</p>

<p>In your version you consider all triplets (a,b,c) where a, b and c are between 1 and 10. You make no restrictions on how a, b and c relate to each other, so (8, 6, 10) is not excluded since all numbers in it are indeed between 1 and 10.</p>

<p>If you think of it in terms of imperative for-loops, your version does this:</p>

<pre><code>for c from 1 to 10:
  for b from 1 to 10:
    for a from 1 to 10:
      if a^2 + b^2 == c^2 and a+b+c==24:
        add (a,b,c) to the result
</code></pre>

<p>while the original version does this:</p>

<pre><code>for c from 1 to 10:
  for b from 1 to c:
    for c from 1 to b:
      if a^2 + b^2 == c^2 and a+b+c==24:
        add (a,b,c) to the result
</code></pre>
"
"<p>I know how to do the equivalent of Scheme's (or Python's) <code>map</code> and <code>filter</code> functions with the list monad using only the ""bind"" operation.</p>

<p>Here's some Scala to illustrate:</p>

<pre><code>scala&gt; // map
scala&gt; List(1,2,3,4,5,6).flatMap {x =&gt; List(x * x)}                        
res20: List[Int] = List(1, 4, 9, 16, 25, 36)

scala&gt; // filter    
scala&gt; List(1,2,3,4,5,6).flatMap {x =&gt; if (x % 2 == 0) List() else List(x)}
res21: List[Int] = List(1, 3, 5)
</code></pre>

<p>and the same thing in Haskell:</p>

<pre><code>Prelude&gt; -- map
Prelude&gt; [1, 2, 3, 4, 5, 6] &gt;&gt;= (\x -&gt; [x * x])
[1,4,9,16,25,36]

Prelude&gt; -- filter
Prelude&gt; [1, 2, 3, 4, 5, 6] &gt;&gt;= (\x -&gt; if (mod x 2 == 0) then [] else [x])
[1,3,5]
</code></pre>

<p>Scheme and Python also have a <code>reduce</code> function that's often grouped with <code>map</code> and <code>filter</code>. The <code>reduce</code> function combines the first two elements of a list using the supplied binary function, and then combines that result the the next element, and then so on. A common use to to compute the sum or product of a list of values. Here's some Python to illustrate:</p>

<pre><code>&gt;&gt;&gt; reduce(lambda x, y: x + y, [1,2,3,4,5,6])
21
&gt;&gt;&gt; (((((1+2)+3)+4)+5)+6)
21
</code></pre>

<p>Is there any way to do the equivalent of this <code>reduce</code> using just the bind operation on a list monad? If bind can't do this on its own, what's the most ""monadic"" way to perform this operation?</p>

<p>If possible, please limit/avoid the use of syntactic sugar (ie: <code>do</code> notation in Haskell or sequence comprehensions in Scala) when answering.</p>
","149392","","<p>One of the defining properties of the bind operation is that the result is still ""inside"" the monad¹. So when you perform bind on a list, the result will again be a list. Since the reduce operation² often results in something other than a list, it can't be expressed in terms of the bind operation.</p>

<p>In addition to that the bind operation on lists (i.e. concatMap/flatMap) only looks at one element at a time and offers no way of reusing the result of previous steps. So even if we're okay with getting the result wrapped in a single-element list, there's no way to do it just with monad operations.</p>

<hr>

<p>¹ So if you have a type that allows you to perform no operations on it except the ones defined by the monad type class, you can never ""break out"" of the monad. That's what makes the IO monad works.</p>

<p>² Which is called fold in Haskell and Scala by the way.</p>
"
"<p>in order to become familar with Erlang, i'm trying
to write my own Bubblesort Algorithm. Right now, i have
the following code in my module:</p>

<pre><code>-module(mysort).
-export([bubblesort/1]).

bubblesort(L) -&gt;
    sort_sequence(L, []).

sort_sequence([H1|[H2|T]], Sorted) -&gt;
    if H2 &gt;= H1 -&gt;
        sort_sequence(T, Sorted ++ [H1, H2]);
    H2 &lt; H1 -&gt;
        sort_sequence(T, Sorted ++ [H2, H1])
    end;
sort_sequence([H|T], Sorted) -&gt;
    Sorted ++ H;
sort_sequence([], Sorted) -&gt;
    Sorted.
</code></pre>

<p>first of all: <strong>please don't give me suggestions to my code</strong>
i want to figure it out myself ^^</p>

<p>the problem is: if i say <code>mysort:bubblesort([2,1,3,4,5]).</code>
the output is as i would expect: <code>[1,2,3,4,5]</code></p>

<p>but if i say <code>mysort:bubblesort([2,1,3,5,4]).</code>
the output is: <code>[1,2,3,5|4].</code></p>

<p>my only question is: <strong>what does this ""|"" sign mean in between the listitems ?!</strong></p>

<p>thank you all!</p>
","149392","","<p>A list can have two forms: Either it is empty (<code>[]</code>), or it has a head and a tail (<code>[H|T]</code>). So <code>[]</code> is an empty list, <code>[1 | []]</code> is a list whose head is 1 and whose tail is <code>[]</code>, and <code>[1|2]</code> is a list whose head is 1 and whose tail is 2.</p>

<p>A list is called a <em>proper</em> list if it is empty or its tail is a proper list. So <code>[]</code> is a proper list because its empty and <code>[1|[]]</code> is a proper list because its tail is the empty list (which is a proper list), but <code>[1|2]</code> is not a proper list because its tail is 2 and 2 is not a proper list.</p>

<p>Since proper lists are the most common types of lists and reading and writing them as nested lists like that is kind of cumbersome, there's a special syntax for them: A proper list is displayed and can be written by separating the heads of the sublists with commas. So if we have the proper list <code>[1 | [2 | [3 | []]]]</code> it is displayed as <code>[1,2,3]</code> (and we can also write it that way), which is much more readable.</p>

<p>This format is also used to display the beginning of improper lists if they ""start out"" proper up to the point where the non-proper tail is, which will be separated with a <code>|</code>. So for example if we have the improper list <code>[1 | [2 | [3|4]]]</code> (which is improper because the innermost tail is 4, which is not a proper list), it will be displayed as <code>[1,2,3|4]</code> to distinguish it from the proper list <code>[1 | [2 | [ 3 | [4 | []]]]]</code>, which would be displayed as <code>[1,2,3,4]</code>.</p>

<p>So if you see something like that, you somehow created a list whose tail is not a proper list.</p>
"
"<p>I can't get my head around why this won't compile:</p>

<pre><code>#include &lt;map&gt;
#include &lt;string&gt;

std::map&lt;std::string, std::string&gt; m;
m[""jkl""] = ""asdf"";
</code></pre>

<p>I receive <a href=""http://codepad.org/aFyQS0br"" rel=""nofollow"">this compiler error</a>:</p>

<p><code>Line 5: error: expected constructor, destructor, or type conversion before '=' token
compilation terminated due to -Wfatal-errors.</code></p>

<p>I swear I must be missing something simple here.</p>
","149392","","<p><code>m[""jkl""] = ""asdf""</code> is an expression. You can't have an expression on its own outside of a function body. The only thing allowed outside of function bodies are declarations and definitions.</p>
"
"<p>I wonder why the value of <code>i</code> is <code>0</code> after <code>sscanf</code> has been previously called. I was expecting value of <code>i</code> to be modified.</p>

<p>I am using cygwin gcc in windows 7, version 3.4.4</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main()
{
    unsigned char a[] = {1, 2, 3, 4, 5};
    int i = 0;

    printf(""\nread value %d\n"", sscanf(&amp;a, ""%d"", &amp;i));
    printf(""\nvalue is %d\n"", i);
    printf(""\nbuffer is %s\n"", a);
}
</code></pre>

<p>output is </p>

<blockquote>
  <p>read value is 0 </p>
  
  <p>value is 0 </p>
  
  <p>buffer is some special characters</p>
</blockquote>
","149392","","<p>First of all the first argument to sscanf should be a pointer to char, but you're passing in a pointer to a char array, which is the wrong type. That's only tangential to the question though.</p>

<p>To answer your question: sscanf (like the other *scanf functions, too) only writes a value if the format specifier for that value is matched in the string. So if you have the format specifier ""%d"", an int will be written to the given int pointer only if the string starts with a number. As you said yourself, your string only contains garbage: the (unprintable) characters with values 1 through 5 followed by whatever's in memory after <code>a</code>. So it doesn't start with a number and thus no number is written.</p>
"
"<p>I start exploring the fundation of Ruby, it is the C,</p>

<pre><code>printf('%%\\');
</code></pre>

<p>Does the code above allowed in C?</p>
","149392","","<p>No, the code is not allowed.</p>

<p>In Ruby single quotes are used to write string literals, i.e. values of type string. In C <code>'%%\\'</code> has the type int. Since <code>printf</code> expects a string (<code>char*</code>) as its first argument, <code>'%%\\'</code> is not a valid first argument to <code>printf</code>.</p>
"
"<p>I was experimenting with array of pointers address calculation arithmetic.I got confused with the output of the above code.Could anyone explain whats happening?</p>

<pre><code>void foo()
{
    int i=10,k=3,l=20,m=30;
    int *ary[2];
    ary[0]=&amp;i;
    int b=20;
    ary[1]=&amp;k;

    printf(""%d\n"",ary[0][1]);
}
</code></pre>

<p><strong>Output is 3</strong></p>

<p><strong>Second program</strong></p>

<pre><code>void foo()
{
    int i=10,k=3,l=20,m=30;
    int *ary[2];
    ary[0]=&amp;i;
    int b=20;
    ary[1]=&amp;b;

    printf(""%d\n"",ary[0][1]);
}
</code></pre>

<p><strong>Output is 20.</strong></p>

<p>How is address calculation done in these above codes?</p>
","149392","","<p>In both code samples <code>ary[0]</code> is a pointer to a single integer. So when you do <code>array[0][1]</code> you're accessing that pointer out of bounds. So the behavior of both of your code samples is undefined.</p>

<p>The reason that you're getting the behavior you're seeing on your particular compiler is probably, that all the variables whose address you don't take are stored in registers and not in memory (or possibly they aren't stored at all because you never use them).</p>

<p>So in example 1 the only variables in memory are i and k. And in example 2 the only variables in memory are i and b. So in example 1 <code>k</code> is the variables that comes directly after <code>i</code> in memory and example 2 that variable is <code>b</code>.</p>
"
"<p>According to the <a href=""http://www.ruby-doc.org/core-1.9.3/Array.html"">docs</a>, <strong>Array.include?</strong> uses the <strong>==</strong> comparison on objects. I come from Java where such things are (usually) done with <strong>.equals()</strong> which is easy to override for a particular object.</p>

<p>How can I override <strong>==</strong> in Ruby to allow me to specify the behaviour of <strong>Array.include?</strong> for my particular object?</p>

<p>Many thanks.</p>
","149392","","<p>In Ruby <code>==</code> is just a method (with some syntax sugar on top allowing you to write <code>foo == bar</code> instead of <code>foo.==(bar)</code>) and you override <code>==</code> just like you would any other method:</p>

<pre><code>class MyClass
  def ==(other_object)
    # return true if self is equal to other_object, false otherwise
  end
end
</code></pre>
"
"<p>When I <code>man -a close</code>, the first page is the POSIX man page, then I have a <code>close(2)</code>, (2 means system api or kernel func). This means there are at least 2 versions of <code>close()</code>.</p>

<p>For example, a code piece like this:</p>

<pre><code>int fd = open(""xxx"");
........
close(fd);   -----here, which version is called,
                  is that one from the POSIX lib, or the raw system API?
</code></pre>

<p>P.S.: Hence my linux system includes a POSIX wrapper for most system API calls, how to discern whether my code is calling POSIX lib or original system API?</p>
","149392","","<p>POSIX is not a library, it's a standard. The POSIX version of a manual page tells you what the POSIX standard says the function should do (and what version of POSIX the page is based on). If you only rely on the behavior described in this page, your code should work on all systems that implement the POSIX standard (as long as they implement a current enough version).</p>

<p>The Linux version of the manpage tells you what the function actually does on your system. In the vast majority of cases the behavior described here will be a superset of the behavior described in the POSIX page, i.e. the Linux behavior will adhere to the POSIX standard, but it might also define cases that are undefined by POSIX or a function might accept additional options that aren't mandated by POSIX.</p>

<p>If you rely on any behavior not specified by POSIX, your code will likely only work on Linux systems.</p>
"
"<p>I have a C++ application, and I want the application to always run one of my scripts with source.</p>

<p>I used:</p>

<pre><code>system(""source myscript"");
</code></pre>

<p>but it doesn't work and does not recognize the ""source"" command. If I omit ""source"" myscript will execute but with source it doesn't work.</p>

<p>Is there any solution to run source command in C++?</p>
","149392","","<p>You can't invoke <code>source</code> using <code>system</code> because it is a shell-builtin and not an actual executable.</p>

<p>If you want to source a shell script's variables, you'll have to somehow get at the variables set in the script another way. One way would be to write a wrapper script that sources your script and then simply prints out all exported variables to stdout. Your C program could then invoke the wrapper script, iterate over the output line by line and set each of its environment variables to the value outputted by the script (this assumes that the wrapped script itself doesn't produce any output).</p>
"
"<p>are STL maps ordered?</p>

<p>Specifically I need to know if std::map is ordered. So if I iterate over it, it will iterate with the first insert string first.</p>

<p>So will the below iterate A, C then B consistantly?</p>

<pre><code>std::map&lt;string,string&gt; str_map;

str_map.insert(std::make_pair(""A"",""Data"");
str_map.insert(std::make_pair(""C"",""Data"");
str_map.insert(std::make_pair(""B"",""Data"");
</code></pre>

<p>Thanks a lot.</p>
","149392","","<p><code>std::map</code>s are sorted using either the given type's <code>operator&lt;</code> or using a custom comparison function/functor if one is supplied as an argument to the constructor.</p>

<p>So no, when you iterate over the map, the first item you get won't be the one you inserted first - it will be the one that comes first alphabetically.</p>

<p>Of course for your sample code that doesn't make a difference because ""A"" is the first key you inserted and also the first one alphabetically.</p>
"
"<p>I have written two version of nqueens problem and I think they should have similar efficiency but it is not so. I think that it is due to lazy evaluation behavior of Haskell. Can someone please explain how it works for the following example,</p>

<pre><code>nqueens1 n 1 = [[i] | i &lt;- [1..n]]
nqueens1 n k = [ i:q | i &lt;- [1..n], q &lt;- (nqueens1 n (k - 1)), isSafe i q k]

isSafe i q n  = isSafeHelper i (zip q [(n-1),(n-2)..1]) 
         where isSafeHelper i []  = True
               isSafeHelper i (x:xs) = (i /= fst x) &amp;&amp; abs(i - (fst x)) /= abs(n - (snd x)) &amp;&amp; 
                                       isSafeHelper i xs
nqueens2 n 1 = [[i] | i &lt;- [1..n]]
nqueens2 n k = [ i:q | i &lt;- [1..n], q &lt;- boards, isSafe i q k]
           where boards = nqueens2  n (k-1)
</code></pre>

<p>You can evaluate them by calling nqueens1 8 8 or nqueens2 8 8 to evaluate it for a board of size 8.</p>

<p>While nqueens2 works quite efficiently nqueens1 has performance issues. I believe it is because the recursive call (nqueens n (k-1)) is being evaluated multiple times. From my understanding of Haskells lazy evaluation this should not be the case.</p>

<p>Please help me in understanding this behavior.</p>

<p>Thanks in advance.</p>
","149392","","<p>Yes, the recursive call is evaluated multiple times. Specifically it is evaluated once for each value for <code>i</code>.</p>

<p>If you want to avoid this, you can rearrange the generators so that the <code>q &lt;-</code> part comes before the <code>i &lt;-</code> part:</p>

<pre><code>[ i:q | q &lt;- nqueens2 n (k - 1), i &lt;- [1..n], isSafe i q k]
</code></pre>

<p>However this will change the order of the results. If that's not acceptable, you can use <code>let</code> to calculate the result of the recursive call once and then use it like this:</p>

<pre><code>[ i:q | let rec = nqueens2 n (k - 1), i &lt;- [1..n], q &lt;- rec, isSafe i q k]
</code></pre>
"
"<p>I made this code right here on my first try with re2:</p>

<pre><code>string s;
RE2::PartialMatch("".+\\.com"",""http://example.com/"", &amp;s);
</code></pre>

<p>It doesn't work; <code>s</code> doesn't change and remains blank.  I could change that first line to <code>string s = ""foo"";</code> and after the second line runs, <code>s</code> would stay as <code>""foo""</code>.</p>

<p>What am I doing wrong?</p>
","149392","","<p>There are two things wrong with your usage of <code>PartialMatch</code>:</p>

<ol>
<li>As already mentioned by Jesse Good, the regex should be the second argument not the first.</li>
<li>The pointer arguments to PartialMatch are used to store the substrings matched by the capturing groups of the regular expression. Your regular expression doesn't contain any capturing groups, so nothing is written to the pointer.</li>
</ol>

<p>This should work:</p>

<pre><code>RE2::PartialMatch(""http://example.com/"", ""(.+\\.com)"", &amp;s);
</code></pre>

<p>Or if you don't want s to include the "".com"" part:</p>

<pre><code>RE2::PartialMatch(""http://example.com/"", ""(.+)\\.com"", &amp;s);
</code></pre>
"
"<p>The question is a bit vague, but I am not really sure why this happens:</p>

<p>I have the following code:</p>

<pre><code>p user.room.users.length
user.room.users.each {|usr| puts ""b"" }
user.room.users.each {|usr| puts ""a""; usr.enter(Room[Config::entrance]) }
</code></pre>

<p>which outputs:</p>

<pre><code>5
b
b
b
b
b
a
a
a
</code></pre>

<p>I also made User#enter count how many times it's been called and it returns <code>3</code>! I am completely baffled by this behaviour. I doubt the code within User#enter is the cause, but if someone thinks it might be relevant I can provide it (I don't want to clutter the question unnecessarily).</p>

<hr>

<h3>Edit</h3>

<p>If it's relevant I am using <code>ruby-1.9.3-p125</code></p>
","149392","","<p>This kind of behavior often happens when you change a collection while iterating over it. So if <code>usr.enter</code> modifies <code>user.room.user</code> that would explain the behavior you're seeing.</p>
"
"<p>I have some troubles with my school project.</p>

<p>I have a class:</p>

<pre><code>#include ""Group.h""
#include &lt;vector&gt;
#include &lt;string&gt;
using namespace std;

class User{
    private :
        string username;
        vector&lt;Group*&gt; groups;
        void show() {
            for(int i=0; i&lt;groups.size(); i++)
                cout &lt;&lt; groups[i]-&gt;getName() &lt;&lt; ""\n"";
        }
        string getUsername(){return username;}

};
</code></pre>

<p>and </p>

<pre><code>#include ""User.h""
#include &lt;vector&gt;
#include &lt;string&gt;
using namespace std;

class Group{
    private :
        string name;
        string getName(){return name;};
        User *f;
        vector&lt;User*&gt; m;
        void show(){
            for(int i=0; i&lt;m.size(); i++)
                cout &lt;&lt; m[i]-&gt;getUsername() &lt;&lt; ""\n"";
        }
};
</code></pre>

<p>When I try compile it, it gives me errors:</p>

<blockquote>
  <p>E:\Group.h|31|error: ISO C++ forbids declaration of 'User' with no
  type| E:\Group.h|31|error: expected ';' before '<em>' token|
  E:\Group.h|33|error: 'User' was not declared in this scope|
  E:\Group.h|33|error: template argument 1 is invalid|
  E:\Group.h|33|error: template argument 2 is invalid|
  E:\Group.h|36|error: 'User' was not declared in this scope|
  E:\Group.h|36|error: template argument 1 is invalid|
  E:\Group.h|36|error: template argument 2 is invalid|
  E:\Group.h|47|error: 'User' has not been declared|
  E:\Group.h|47|error: 'User' was not declared in this scope|
  E:\Group.h|47|error: template argument 1 is invalid|
  E:\Group.h|47|error: template argument 2 is invalid|
  E:\Group.h|58|error: ISO C++ forbids declaration of 'User' with no
  type| E:\Group.h|58|error: expected ';' before '</em>' token|
  E:\Group.h|59|error: 'User' has not been declared|
  E:\Group.h|60|error: 'User' was not declared in this scope|
  E:\Group.h|60|error: template argument 1 is invalid|
  E:\Group.h|60|error: template argument 2 is invalid|
  E:\Group.h|61|error: 'User' was not declared in this scope|
  E:\Group.h|61|error: template argument 1 is invalid|
  E:\Group.h|61|error: template argument 2 is invalid| ||=== Build
  finished: 21 errors, 4 warnings ===|</p>
</blockquote>

<p>what's wrong?</p>

<p>It compiles only if i add <code>class User;</code> to Group.h file, and <code>class Group;</code> to User.h file but its not the point i'm looking for the right solution, not only the temporery one.</p>

<p><strong>MY WHOLE PROJECT:</strong> <a href=""http://www.speedyshare.com/jXYuM/proj.tar"" rel=""nofollow"">http://www.speedyshare.com/jXYuM/proj.tar</a></p>
","149392","","<p>You <em>are</em> using templates. You're using <code>vector</code>, which is a template.</p>

<p>You're getting the error you do because the User class is not defined when you reach the following part of the code:</p>

<pre><code>User *f;
vector&lt;User*&gt; m;
</code></pre>

<p>Why is it not defined - after all you're including the User.h header? Yes, but the User.h header also includes the Group.h header, so one of the two will have to be read before the other.</p>

<p>To fix this you need to change your headers, so that only one of them includes the other (or they both don't include the other). To do this you first need to move your method definitions into a c++ file, so that no method calls to the other class's method appear in the header. Then you can forward-declare the other class and remove the #include.</p>
"
"<p>First program i'm writing while reading various Haskell tutorials gives me a ""Kind mis-match"" error</p>

<pre><code>import qualified Data.Vector as V

class SupervisedLearner l where
    learn :: l (Input n) -&gt; Output n

data Input n = Supervised (V.Vector n ,V.Vector n) | Unsupervised (V.Vector n)
data Output n =  Regression n | KClass (V.Vector n) | Bernoulli (n, n)
newtype Perceptron  = Perceptron (V.Vector Float)

instance SupervisedLearner Perceptron  where
    learn = undefined
</code></pre>

<p>What's confusing me is when i try to follow the type signature of the error,</p>

<pre><code>Kind mis-match
The first argument of `SupervisedLearner' should have kind `*
                                                            -&gt; *',
but `Perceptron' has kind `*'
In the instance declaration for `SupervisedLearner Perceptron'
</code></pre>

<p>I just can't seem to understand where I should look to even begin to correct it.
So my question is two fold, where is the error, and a generally sense, am I using the Haskell typeclass system correctly? </p>
","149392","","<p>According to your class definition, you need to define a method <code>learn</code> of type <code>l (Input n) -&gt; Output n</code> to make <code>l</code> an instance of <code>SupervisedLearner</code>. So to make Perceptron an instance of <code>SupervisedLearner</code>, <code>learn</code> would have to have the type <code>Perceptron (Input n) -&gt; Output n</code>.</p>

<p>But the <code>Perceptron</code> type doesn't take any type arguments, so <code>Perceptron (Input n)</code> is not a valid type. That's what the error message is complaining about (kind <code>*</code> means that a type doesn't take any type arguments and kind <code>* -&gt; *</code> means that a type takes one type argument).</p>
"
"<p>So lately I have a list of strings, and need to independently go over each one and perform some <code>IO</code> function. </p>

<p>So basically what I have is this:</p>

<pre><code>goOverList :: [String] -&gt; IO ()
goOverList (x:[]) = do
    putStrLn x
goOverList (x:xs) = do
    goOverList [x]
    goOverList xs

main = do
    let myList = [""first"", ""second"", ""third""]
    goOverList myList
</code></pre>

<p>My <code>IO</code> is a bit more complicated but that is the gist of it (needing to have a function go over a list and do <code>IO</code> based on the list member) I was hoping someone might show me how to do this better.   </p>
","149392","","<p>Your <code>goOverList</code> function is almost equivalent to <code>mapM_ putStrLn</code>. (Just almost because <code>mapM_</code> also works with the empty list while your function does not).</p>

<p><a href=""http://hackage.haskell.org/packages/archive/haskell98/latest/doc/html/Prelude.html#v%3amapM""><code>mapM</code></a> is a function that applies a function of type <code>a -&gt; IO b</code>¹ to each item in a list of <code>a</code>s and gives you back an <code>IO</code>² with a list of <code>b</code>s. <code>mapM_</code> is the same as <code>mapM</code> except that it doesn't store the results in a list (which doesn't make sense for actions that return <code>()</code> like <code>putStrLn</code> does).</p>

<p>¹ Actually it's more general than that: The function has type <code>a -&gt; m b</code> where <code>Monad m</code>, but in this case <code>m</code> is <code>IO</code>.</p>

<p>² Again it's actually m.</p>
"
"<p>Writing code for my application_controller to translate user input into query, this works:</p>

<pre><code>result_set =  model  # some implementation of ActiveRecord::Base as a Class
.includes(:metric_template =&gt; [:group]) #still need to abstract this
.where(f)  
.order(sort_string)
.limit(rows)
.offset((page-1)*rows)
</code></pre>

<p>this does not work because the where method seems not to be called:</p>

<pre><code>result_set =  model
.includes(:metric_template =&gt; [:group])  #still need to abstact this
.tap{|o| o.where(f) if f}
.order(sort_string)
.limit(rows)
.offset((page-1)*rows)
</code></pre>

<p>I'd really like .tap() to work here.  Why doesn't it?  Is it not available as a class method?  Can it be convinced?</p>

<p>Appreciate any guidance.</p>
","149392","","<p><code>where</code> gets called just fine. The problem is that <code>where</code> doesn't have any visible side-effects - it's used only for its return value.</p>

<p>Since <code>tap</code> doesn't do anything with the block's return value, there's no point in using <code>tap</code> with a block that doesn't have visible side-effects.</p>
"
"<p>I was asked in one of the interviews, what does the following line print in C? In my opinion following line has no meaning:</p>

<pre><code>""a""[3&lt;&lt;1];
</code></pre>

<p>Does anyone know the answer?</p>
","149392","","<p>""some_string""[i] returns the ith character of the given string. <code>3&lt;&lt;1</code> is 6. So <code>""a""[3&lt;&lt;1]</code> tries to return the 6th character of the string ""a"".</p>

<p>In other words the code invokes undefined behavior (and thus, in a sense, really does have no meaning) because it's accessing a char array out of bounds.</p>
"
"<p>I was hoping someone could explain the following behavior in GHCi, when using the function fromIntegral: </p>

<pre><code>Prelude&gt; let x = 1 :: Integer                                                                                                                                                    
Prelude&gt; :t x                                                                                                                                                                    
x :: Integer                                                                                                                                                                     
Prelude&gt; sqrt $ fromIntegral x                                                                                                                                                   
1.0                                                                                                                                                                              
Prelude&gt; let y = fromIntegral x                                                                                                                                                  
Prelude&gt; sqrt y                                                                                                                                                                  

&lt;interactive&gt;:181:1:                                                                                                                                                             
No instance for (Floating Integer)                                                                                                                                           
  arising from a use of `sqrt'                                                                                                                                               
Possible fix: add an instance declaration for (Floating Integer)                                                                                                             
In the expression: sqrt y                                                                                                                                                    
In an equation for `it': it = sqrt y                                                                                                                                         
</code></pre>

<p>Why does it matter whether I set <code>y</code> and then take its <code>sqrt</code> or just directly take the <code>sqrt</code>? </p>
","149392","","<p><code>fromIntegral</code> is polymorphic in its return type. So the type of <code>y</code> in your code could be expected to be <code>Num a =&gt; a</code>. This type would allow you to use <code>y</code> as the argument to <code>sqrt</code> without problem.</p>

<p>However due to the monomorphism restriction, the type of <code>y</code> is not allowed to be polymorphic. Therefore it is defaulted to the default Num type, which is <code>Integer</code>.</p>

<p>When you do <code>sqrt $ fromIntegral x</code> the monomorphism restriction does not apply because it only applies to global variables and you don't store the result of <code>fromIntegral</code> in a variable this time.</p>

<p>You can fix this issue by either adding a type signature to y (<code>let y :: Num a =&gt; a; y = fromIntegal x</code>) or by disabling the monomorphism restriction.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/8617090/double-negation-in-c-is-it-guaranteed-to-return-0-1"">double negation in C : is it guaranteed to return 0/1?</a>  </p>
</blockquote>



<pre><code>int main(void)
{
  int i = 2, j = 1;

  printf(""%d"", !!i +!j);
  return 0;
}
</code></pre>

<p>From what I understand, the !! turns the expression into a bool, so is it saying since i not equal to 2 the value is 0 + j which is not equal to 1 the value is 0, and since 0 is equal to false it reads: false + false = true which represents the value of 1.  Please help I am new to C programming.</p>
","149392","","<p><code>!x</code> is 0 if <code>x</code> is true (i.e. not equal to 0) or 1 if <code>x</code> is false (i.e. equal to 0). Since your example <code>i</code> is 2, <code>!i</code> will be 0 and thus <code>!!i</code> will be 1. Likewise <code>!j</code> will be 0. So the result of the expression will be <code>1 + 0 = 1</code>.</p>

<p>Note that there are no circumstances under which <code>0 + 0</code> (i.e. false + false) would equal 1.</p>
"
"<p>In toplevel, i get the following output:</p>

<pre><code>#`B
- : [&gt; `B ] = `B
</code></pre>

<p>then what does `B mean ?  Why do we need it ?</p>

<p>Sincerely!</p>
","149392","","<p>It's a polymorphic variant. From the <a href=""http://caml.inria.fr/pub/docs/manual-ocaml/manual006.html#toc36"" rel=""nofollow"">documentation</a>:</p>

<blockquote>
  <p>Variants as presented in section 1.4 are a powerful tool to build data structures and algorithms. However they sometimes lack flexibility when used in modular programming. This is due to the fact every constructor reserves a name to be used with a unique type. One cannot use the same name in another type, or consider a value of some type to belong to some other type with more constructors.</p>
  
  <p>With polymorphic variants, this original assumption is removed. That is, a variant tag does not belong to any type in particular, the type system will just check that it is an admissible value according to its use. You need not define a type before using a variant tag. A variant type will be inferred independently for each of its uses.</p>
</blockquote>
"
"<p>I am new to Haskell and was trying to create a class with an instance.</p>

<p>I have the following code and I am trying to say that: 
1) Branch can hold any type in its first position, 
2) Make a class Linear which takes the linear thing and returns a number
3) Make Branch an instance of Linear if the first thing the Branch holds is something that is part of the Num class.</p>

<pre><code>data Branch a = Branch a Integer deriving (Show, Eq)

class Linear l where
    length :: (Num a) =&gt; l -&gt; a

instance (Num a) =&gt; Linear (Branch a) where
    length (Branch len _) = len
</code></pre>

<p>I get the error:
Could not deduce (a ~ a1) 
from the context (Num a) bound by the instance declaration at.....</p>

<p>Does anybody know how to express in Haskell what it is I'm trying to say?</p>
","149392","","<p>Your class definition says that <code>length</code> must be able to return any Num type that the user requests. So if the user wants an Integer, the length method must give him an Integer. And if he wants an Int or a Double instead, length must give him that too.</p>

<p>However the length function you supply in your instance declaration does not meet the requirement. For example when you call length on a <code>Branch Integer</code>, length will return an <code>Integer</code>. It won't return an <code>Int</code> or a <code>Double</code> even if the user asks for it.</p>

<p>One way to make your code work would be to use multi-parameter type classes to define Linear with two parameters where the second type is the numeric type <code>length</code> should return. You could then have an instance for <code>Linear (Branch a) a</code>. You may also want to use the Functional Dependencies extension to make this more usable. Instead of a second type parameter, you may also use the Type Families extension to achieve a similar effect.</p>

<p>Another way would be to change the instance declaration to require <code>Integral a</code> instead of <code>Num a</code> and then use <code>fromIntegral len</code> as the return value. This will convert the integral type stored in the Branch to whichever numeric type the User requested. The caveat is, of course, that you branches with non-integral numeric values, won't be instances of <code>Linear</code> this way.</p>
"
"<p>This is a university assignment to make GUI's in C - I am using windows 7</p>

<p>I have followed several tutorials and nothing seems to work. To give you an idea of what I have done</p>

<p>I have gtk, msys and minGW all installed. </p>

<p>I believe I have all the necessary cygwin packages (is this relevant??)</p>

<p>When I try to compile a C program with gtk stuff included in cygwin just to see if I have installed whatever I needed to I get</p>

<pre><code>$ gcc base.c -o base `gtk-config --cflags --libs`

Sunny@Sunny-Brain ~
$ ./base

Gtk-WARNING **: cannot open display:
</code></pre>

<p>I am not sure what this mean. It seems to compile and then fails on running.</p>

<p>I have used <a href=""https://mail.gnome.org/archives/gtk-list/2008-May/msg00116.html"" rel=""nofollow"">https://mail.gnome.org/archives/gtk-list/2008-May/msg00116.html</a> as the method of setting gtk up but it asks me to unzip and untar a pixman file which doesnt work. I downloaded gtk as a bundle and it is in my C: drive eager to make GUI's for me. </p>

<p>In case it helps - I have a pixman-0.26.2 and inside, a pixman-0.26.2.tar.gz - also in my C: drive.</p>

<p>At this point I am willing to try anything.</p>
","149392","","<p>You seem to have installed the X11 version of GTK using Cygwin. The X11 version of GTK requires an X server to be running in order to use it. The error message is telling you that the environment variable telling GTK which X server to connect to is not set. That probably means that no X server is running.</p>

<p>I recommend that you install the <strong>Windows</strong> version of GTK (which does not require an X server and also uses a native Windows look and feel by default) and compile using that and MinGW. You shouldn't need to use Cygwin at all.</p>
"
"<p>I'm messing around with Haskell at the moment and for the life of me I cannot figure out why the following works.....    </p>

<pre><code>square :: (Num a) =&gt; a -&gt; a 
square x = x * x 
dx = 0.0000001
deriv1 :: (Fractional a) =&gt; (a -&gt; a) -&gt; (a -&gt; a)
deriv1 g = (\x -&gt; ((g (x + 2) - (g x)) / 0.0000001 ))   
main = printf ""res==%g %g\n"" (square 5.12::Double) ((deriv1 square) 2::Float)
</code></pre>

<p>but this doesn't....</p>

<pre><code>square :: (Num a) =&gt; a -&gt; a 
square x = x * x 
dx = 0.0000001
deriv1 :: (Fractional a) =&gt; (a -&gt; a) -&gt; (a -&gt; a)
deriv1 g = (\x -&gt; ((g (x + 2) - (g x)) / dx ))          
main = printf ""res==%g %g\n"" (square 5.12::Double) ((deriv1 square) 2::Float)
</code></pre>

<p>note I've used <code>dx</code> in the derv1 function this time. I'm new to Haskell so any in depth discussion on types will likely whoosh past me so fast I'll die spinning. It's imperative I have something resembling an imperative answer or it will almost certainly be lost on me this early in my Haskell career.</p>

<p>The error message I'm getting is:</p>

<pre><code>Inferred type is less polymorphic than expected
  Quantified type variable `a' is mentioned in the environment:
    dx :: a (bound at sicp-1.40.hs:12:0)
When trying to generalise the type inferred for `deriv1'
  Signature type:     forall a. (Fractional a) =&gt; (a -&gt; a) -&gt; a -&gt; a
  Type to generalise: (a -&gt; a) -&gt; a -&gt; a
In the type signature for `deriv1'
When generalising the type(s) for `deriv1'
</code></pre>
","149392","","<p>Due to the monomorphism restriction, the type of <code>dx</code> is defaulted to Double. So when you divide by <code>dx</code> in <code>deriv1</code>, Haskell infers that the other operand to <code>/</code> and the result must also have type Double. But since your type signature says <code>a</code>, you get the error you do.</p>

<p>You can fix this by either explicitly declaring <code>dx</code> to have the type <code>Fractional a =&gt; a</code> or by disabling the monomorphism restriction.</p>
"
"<p>Why does this bit of Clojure code:</p>

<pre><code>user=&gt; (map (constantly (println ""Loop it."")) (range 0 3))
</code></pre>

<p>Yield this output:</p>

<pre><code>Loop it.
(nil nil nil)
</code></pre>

<p>I'd expect it to print ""Loop it"" three times as a side effect of evaluating the function three times.</p>
","149392","","<p><code>constantly</code> doesn't evaluate its argument multiple times. It's a function, not a macro, so the argument is evaluated exactly once before <code>constantly</code> runs. All <code>constantly</code> does is it takes its (evaluated) argument and returns a function that returns the given value every time it's called (without re-evaluating anything since, as I said, the argument is evaluated already before <code>constantly</code> even runs).</p>

<p>If all you want to do is to call <code>(println ""Loop it"")</code> for every element in the range, you should pass that in as the function to map instead of <code>constantly</code>. Note that you'll actually have to pass it in as a function, not an evaluated expression.</p>
"
"<p>In Ruby, my understanding is that <code>self</code> is the implied receiver for any bare method call. However:</p>

<pre><code>~: irb
&gt;&gt; puts ""foo""
foo
=&gt; nil
&gt;&gt; self.puts ""foo""
NoMethodError: private method `puts' called for main:Object
</code></pre>

<p>What explains this?</p>

<p>In case it's any help:</p>

<pre><code>&gt;&gt; method(:puts).owner
=&gt; Kernel
</code></pre>
","149392","","<p>You're correct that <code>self</code> is the implied receiver when you don't specify one explicitly. The reason that you're not allowed to do <code>self.puts</code> is that you may not call private methods with an explicit receiver (even if that receiver is <code>self</code>) and as the error message says, <code>puts</code> is a private method.</p>
"
"<p>I am trying to do the fractional knapsack problem in haskell so far I have</p>

<p>Code:</p>

<pre><code>{- Input ""how much can the knapsack hole &lt;- x"" ""Possible items in sack [(label, value, weight), ...]"" -}
knap x [] = []
knap x y = if length y == 1 then 
</code></pre>

<p>The input list is in the form [([Char], Integer, Integer), ... ] a list of lists of (list of chars, integer, and integer). </p>

<p>My problem is trying to pull out the label, value, and weight of each item that could possibly be put in the knapsack. (pulling values out of the list of lists)</p>

<p>In my prelude> prompt I am doing some trying by doing</p>

<p>ghci output:</p>

<pre><code>Prelude&gt; let x = [(""label 1"", 2, 14), (""label 2"", 1, 15)]
Prelude&gt; :t x
x :: [([Char], Integer, Integer)]
Prelude&gt; length x
2
Prelude&gt; x !! 0
(""label 1"",2,14)
Prelude&gt; x !! 0 !! 1

&lt;interactive&gt;:1:1:
    Couldn't match expected type `[a0]'
                with actual type `([Char], Integer, Integer)'
    Expected type: [[a0]]
      Actual type: [([Char], Integer, Integer)]
    In the first argument of `(!!)', namely `x'
    In the first argument of `(!!)', namely `x !! 0'
</code></pre>

<p>As you can see I am trying to do list !! index !! index to try and pull a weight off of a ""item"". What is the proper syntax to do this?</p>
","149392","","<p><code>(a,b,c)</code> is a tuple, not a list. You can't use <code>!!</code> on tuples. After all: what would the type of <code>!!</code> be for tuples?</p>

<p>The way to get values out of tuple is to use pattern matching like this:</p>

<pre><code>let (name, x, y) = theTuple in
-- ...
</code></pre>

<p>Pattern matching is also usually the preferred way to get at the head of a list. So a function working on a list of tuples would usually look something like this:</p>

<pre><code>f [] = -- handle the empty list
f ((name, x, y) : rest) =
  -- do something with name, x and y and then recurse on rest
</code></pre>
"
"<pre><code>class Account
  def initialize(starting_balance = 0)
     @balance = starting_balance
  end

  def balance #instance getter method
     @balance #instance variable visible only to this object
  end
</code></pre>

<p><b></p>

<pre><code>  def balance=(new_amount)
     @balance = new_amount
  end
</code></pre>

<p></b></p>

<pre><code>  def deposit(amount)
     @balance+=amount
  end
</code></pre>

<p><b></p>

<pre><code>  @@bank_name= ""MyBank.com"" # class (static) variable

  # A class method
  def self.bank_name
     @@bank_name
  end
  # or: def SavingsAccount.bank_name : @@bank_name : end
</code></pre>

<p></b></p>

<pre><code>end
</code></pre>

<p>I want to understand the code snippets in bold. What do they do? what is the difference between a setter and initialize method.
If I had an object test=Account.new() and why is test(30) giving an error. Isn't that suppose to call the setter method with parameter 30 and set the balance?</p>
","149392","","<p><code>initialize</code> is the method that is called on the newly created object when you do <code>Account.new</code> or <code>Account.new(my_starting_balance)</code>. In the first case <code>initialize</code> would be called with the default value <code>0</code> for <code>starting_balance</code> and in the second with <code>my_starting_balance</code>.</p>

<p>The setter method <code>balance=</code> is called when you do <code>my_account.balance = some_value</code> where <code>my_account</code> is an instance of the class <code>Account</code>. So if you have the following code, <code>initialize</code> will be called on line 1 (with 0 as its argument) and <code>balance=</code> on line 2 (with 23) as its argument:</p>

<pre><code>my_account = Account.new
my_account.balance = 23
</code></pre>

<p>Of course in this case I could just as well write the following and not use the setter method at all:</p>

<pre><code>my_account = Account.new(23)
</code></pre>

<p>However that doesn't always work because some times you might want to change the value of <code>balance</code> <em>after</em> the object has already been created.</p>

<blockquote>
  <p>If I had an object test=Account.new() and why is test(30) giving an error.</p>
</blockquote>

<p>Because <code>test(30)</code> means ""call the method <code>test</code> with the argument 30"" and there is no method called <code>test</code> in your code.</p>

<hr>

<p>Regarding the second bolded part of your code: As the comments indicate, it sets a class variable named <code>@@bank_name</code> and defines a class method that returns that variable's value.</p>
"
"<p>While toying with a tail recursion example I noticed a small discrepancy between the results of a normal recursive call and a tail recursive call:</p>

<pre><code>scala&gt; def fact(n: Int): Double = if(n &lt; 1) 1 else n * fact(n - 1)
fact: (n: Int)Double

scala&gt; fact(30)
res31: Double = 2.6525285981219103E32

scala&gt; @tailrec def fact(n: Int, acc: Double = 1): Double = if(n &lt; 1) acc else fact(n - 1, n * acc)
fact: (n: Int, acc: Double)Double

scala&gt; fact(30)
res32: Double = 2.652528598121911E32
</code></pre>

<p>Just out of curiosity, can someone please explain to me why or where the rounding is happening. My guess is that because the Scala compiler translates the tail recursive version to a loop, the <code>acc</code> parameter is assigned at each iteration of the loop, and that the small rounding error slips in there.</p>
","149392","","<p>The difference isn't about the fact that Scala turns the tail recursion into a loop. The result would be the same without that optimization. Also recursion doesn't act differently with regards to rounding errors than loops do.</p>

<p>The difference is the order in which the numbers are multiplied. Your first solution recurses down all the way to 1 before it starts multiplying the numbers. So it will end up calculating <code>n * ( (n - 1) * (... * (2 * 1)))</code>. The tail recursive version starts multiplying right away, so it ends up calculating <code>n * (n-1) * ... * 2 * 1</code>.</p>

<p>Of course usually, we'd say that those two are the same because multiplication is associative, but that's not true for floating point arithmetic. Using floating points <code>(x * y) * z</code> may very well be different from <code>x * (y * z)</code> because rounding errors propagate differently. So that explains your behavior.</p>

<p>Note that you'll see the same difference when using a for-loop that counts from 1 to n versus one that counts from n to 1 to implement the factorial.</p>
"
"<p>I have a very strange problem. The following code gives different results when compiled as compared to running in ghci,</p>

<pre><code>main = do
  putStr ""Please enter your name: ""
  name &lt;- getLine
  putStr (""Hello, "" ++ name ++ "", how are you?"")
</code></pre>

<p>When run it in ghci it does as one would expect,</p>

<pre><code>Please enter your name: dglmoore
Hello, dglmoore, how are you?
</code></pre>

<p>However, when I compile the code to an executable it requires that I provide the input before any output is generated so I end up with this,</p>

<pre><code>dglmoore
Please enter your name: Hello, dglmoore, how are you?
</code></pre>

<p>I've seen a similar problem before, but I cannot seem to find it again.</p>

<p>I am using ghc version 7.4.1 from the Haskell Platform version 2012.2.0.0.</p>

<p>Anyone have any idea why they give different results and how I can get both versions to do the ""correct"" thing?</p>
","149392","","<p>It's a buffering issue. Usually IO is line buffered (i.e. the output doesn't actually show up on the screen until you print a new line or exceed the buffer size) unless you explicitly flush the buffer. In ghci it isn't, so the issue doesn't show up.</p>

<p>You can use <code>hFlush stdout</code> to flush stdout, causing the output to be printed to the screen, before you call <code>getLine</code>.</p>

<p>Alternatively you can use <code>hSetBuffering NoBuffering</code> to disable buffering altogether, removing the need for <code>hFlush</code>. That could have a negative impact on IO performance though.</p>
"
"<p>I'm working on creating a bunch of instances for a Fraction data type in Haskell, and I'm wondering if there's a place I would be able to implement the <code>^</code> operator.</p>

<p>What I mean is, I've got several instances of various <code>Num</code> types, and within those instances, I define common operations such as <code>+</code>, <code>-</code>, etc. </p>

<p>With that, the data type behaves as a normal number, as I want it to (meaning I can call things like <code>(Frac 1 2) + (Frac 1 4)</code> and get back <code>Frac 3 4</code>)</p>

<p>What I'm trying to do is implement <code>^</code> directly. Right now, I've got it defined like this:</p>

<pre><code>(|^|) :: Fraction -&gt; Int -&gt; Fraction
(|^|) f = foldr (*) mempty . flip replicate f  
</code></pre>

<p>When I try to change the name of the function to <code>^</code>, I get an error because it conflicts with Prelude's definition of <code>^</code>. Is there a <code>Num</code> type I can give my <code>Fraction</code> type an instance of to allow me to use the <code>^</code> operator on it?</p>

<p>Thanks!</p>
","149392","","<p><code>Prelude.^</code> is not part of any type class, so the only way you can define your own <code>^</code> function would be to hide the one from <code>Prelude</code>.</p>

<p>Note that since the signature of <code>Prelude.^</code> is <code>(Num a, Integral b) =&gt; a -&gt; b -&gt; a</code>, you'll be able to use it on values of your <code>Frac</code> type just fine as long as it's an instance of <code>Num</code>. You just wouldn't be providing your own implementation.</p>
"
"<p>While trying to generate power set for a given list, I came across this function over the internet. There was no explanation, but testing suggests that it seems to work correctly. I am not able to understand how this function is working. I will be thankful for any such explanations.</p>

<pre><code>generateSubset [] = [[]]
generateSubset (x:xs) = let p = generateSubset xs in p ++ map (x:) p
</code></pre>
","149392","","<p>The power set of the empty list is a list containing only the empty list.</p>

<p>To calculate the power set of a non-empty list it first calculates the power set of the tail. It then concatenates that power set with a version of the power set where the head has been prepended to all the subsets. So if the power set of the tail is <code>[[2,3],[2],[3],[]]</code> and the head is <code>1</code>, the resulting power set will be <code>[[], [3], [2], [2,3], [1],[1,3],[1,2],[1,2,3]]</code>.</p>
"
"<p>As far as I know the output should be like 3.14,3.14,3.14 and 256,256,256 right? But this produces a different output. Can anyone please guide me through this and tell me why this happens?</p>

<pre><code>    main()
    {
     float a = 3.14;
     int b = 256;
     char *p, *p1;
     p = (char *) &amp;a;
     p1 = (char *) &amp;b;
     printf(""\nFLOAT:"");
     printf(""\nValue of *p=%f"",*p);
     printf(""\nValue of a=%f"",a);
     printf(""\nValue of *p=%f"",*p);
     printf(""\n\nINTEGER:"");
     printf(""\nValue of *p1=%d"",*p1);
     printf(""\nValue of b=%d"",b);
     printf(""\nValue of *p1=%d"",*p1);
    }

    Output:
    FLOAT:
    Value of *p=0.000000
    Value of a=3.140000
    Value of *p=3.140001

    INTEGER:
    Value of *p1=0
    Value of b=256
    Value of *p1=0
</code></pre>
","149392","","<p>The expression <code>*p</code> has type <code>char</code>. The format specifier <code>%f</code> requires an argument of type <code>float</code>. Passing an argument of the wrong type to a variadic function like <code>printf</code> invokes undefined behavior.</p>
"
"<p>I am not really proficient in Haskell, so it might be a very easy question.</p>

<p>What language limitation do <a href=""http://hackage.haskell.org/trac/haskell-prime/wiki/Rank2Types"">Rank2Types</a> solve?<br>
Do not functions in Haskell already support polymorphic arguments?</p>
","149392","","<blockquote>
  <p>Do not functions in Haskell already support polymorphic arguments?</p>
</blockquote>

<p>They do, but only of rank 1. This means that while you can write a function that takes different types of arguments without this extension, you can't write a function that uses its argument as different types in the same invocation.</p>

<p>For example the following function can't be typed without this extension because <code>g</code> is used with different argument types in the definition of <code>f</code>:</p>

<pre><code>f g = g 1 + g ""lala""
</code></pre>

<p>Note that it's perfectly possible to pass a polymorphic function as an argument to another function. So something like <code>map id [""a"",""b"",""c""]</code> is perfectly legal. But the function may only use it as monomorphic. In the example <code>map</code> uses <code>id</code> as if it had type <code>String -&gt; String</code>. And of course you can also pass a simple monomorphic function of the given type instead of <code>id</code>. Without rank2types there is no way for a function to require that its argument must be a polymorphic function and thus also no way to use it as a polymorphic function.</p>
"
"<p>I have an expression involving <code>REAL</code> as:</p>

<pre><code>xf=w1*x1 + w2*x2 + w3*x3 + w1*y1 + w2*y2 + w3*y3
</code></pre>

<p>I want to know if the (Intel Fortran) compiler optimized it to:</p>

<pre><code>xf=w1*(x1+y1) + w2*(x2+y2) + w3*(x3+y3)
</code></pre>

<p>How do I see the expression tree which was generated for this expression?</p>
","149392","","<blockquote>
  <p>How do I see the expression tree which was generated for this expression?</p>
</blockquote>

<p>If your compiler has an option to display the tree after a given optimization phase, you can use that option. To find out whether that's the case, consult your compiler's optimization.</p>

<p>If your compiler does not have such an option, you won't be able to see which trees (or other internal representations) the compiler generated during its run. In that case your best bet would be to simply look at the generated assembly to see which arithmetic operations will be performed.</p>
"
"<p>I've setup Java 7 at <code>/usr/bin/java</code> in ubuntu 12.04 to replace the default which is Java 6.</p>

<p>I have done the same for <code>/usr/bin/javaws</code>.</p>

<p>Do I also need to do this for <code>/usr/bin/javac</code> in order to be fully consistent?  For some reason <code>/usr/bin/javac</code> does not exist by default.  Running <code>javac -verion</code> only produces a suggestion that I use <code>apt-get</code> to install it but hesitate to jump to the conclusion that it is not installed.  Of course if I use <code>javac</code> I would want to be consistent and have version 7, but I'm not sure if I use <code>javac</code>.  </p>

<p>I create <code>.jar</code> files using Eclipse and I'm not sure what goes on inside Eclipse. </p>
","149392","","<p>Eclipse uses its own Java compiler - it does not use javac. So if your package manager tells you that you don't have javac installed, you probably don't - Eclipse wouldn't care whether you have javac installed or not. It will also be unaffected by which version of javac you have installed because, as I said, it doesn't use it.</p>
"
"<p>I have this Clojure code:</p>

<pre><code>(defn apply-all-to-arg [&amp; s]
    (let [arg (first s)
          exprs (rest s)]
        (for [condition exprs] (condition arg))))

(defn true-to-all? [&amp; s]
    (every? true? (apply-all-to-arg s)))
</code></pre>

<p>This is test code:</p>

<pre><code>(apply-all-to-arg 2 integer? odd? even?)
</code></pre>

<p>=> (true false true)</p>

<pre><code>(every? true? (apply-all-to-arg 2 integer? odd? even?)
</code></pre>

<p>=> false</p>

<pre><code>(true-to-all? 2 integer? odd? even?)
</code></pre>

<p>=> true</p>

<p>My question is:
Why does the function true-to-all? return true (it must have returned false instead)</p>
","149392","","<p><code>true-to-all?</code> calls <code>apply-all-to-arg</code> with the single argument <code>s</code>. So you're not calling <code>(every? true? (apply-all-to-arg 2 integer? odd? even?)</code>, but rather:</p>

<pre><code>(every? true? (apply-all-to-arg (list 2 integer? odd? even?))
</code></pre>

<p>So in <code>apply-all-to-arg</code> the value of <code>arg</code> will be that list and the value of <code>exprs</code> will be the empty list. Since <code>every?</code> will be true for the empty list no matter what the condition is, you'll get back true.</p>

<p>To fix this you can either change <code>apply-all-to-arg</code>, so that it accepts a list instead of a variable number of arguments, or you can change <code>true-to-all?</code>, so that it passes the contents of <code>s</code> as multiple arguments rather than a single list (by using <code>apply</code>).</p>
"
"<p>I presume that in Standard ML :</p>

<ul>
<li>int is 32 bit on 32bit linux</li>
</ul>

<p>On 64 bit linux is int also 32 bit? Furthermore is there a place (url) where the size of different datatypes is outlined, for Standard ML? Thanks</p>
","149392","","<p>The size of integers is implementation-specific - it's not specified by the standard. In MoscowML uses 31-bit integers on 32-bit platforms and 63-bit integers on 64-bit platforms according to <a href=""http://www.itu.dk/~sestoft/mosmllib/Int.html"" rel=""nofollow"">its documentation</a>.</p>

<p>SML/NJ apparently uses 31-bit integers on both 64-bit and 32-bit systems (I say apparently because I didn't find this documented anywhere - I just tested it on my 64-bit machine).</p>

<p>In MLton the size of Int can even be set using the <code>-default-type</code> command line argument to the compiler.</p>
"
"<p>I want to multiply two numbers , and I know that my numbers are always positive , then : </p>

<pre><code>unsigned int mulPositiveNumbers(unsigned int a ,unsigned int b)
{
    assert(a &gt; 0);
    assert(b &gt; 0);
    return (a*b);
}
</code></pre>

<p>Now ,I'm using assert to tell myself that ""the given numbers are always positive"" .</p>

<p>But when I run : </p>

<pre><code>int main()
{

    unsigned int res = mulPositiveNumbers(-4,3);

        // more stuff goes here

}
</code></pre>

<p>The code doesn't fail , even though that I'm using a negative number . Why ? </p>
","149392","","<p>Because <code>a</code> and <code>b</code> are unsigned, they can never be negative. The only way your assertions can fail is if one of them is 0.</p>

<p>When you call your function with a signed int as a parameter, it will simply be converted to an unsigned it before the function executes (and thus before your asserts are checked). Converting a negative integer to an unsigned it will produce a positive integer because, as I said, there are no negative unsigned integers.</p>
"
"<p>I have the following C/C++ program, and I compile it with all warnings on.</p>

<p><code>int foo(int x) { return 5; }</code></p>

<p>The C++ compiler gives me a warning about unreferenced formal parameter. When I remove ""x"" so that the signature reads ""int foo(int)"", the compiler is happy.</p>

<p>The C compiler, on the other hand, likes the named parameter and issues warning when it is unnamed.</p>

<p><strong>EDIT</strong>: It issues an error, not warning.</p>

<p>Why the difference? What's the rationale?</p>

<p>P.S. I'm using the GNU compiler toolchain.</p>
","149392","","<p>As you said, you can fix the warning in C++ by removing the parameter names. In C it is not allowed to leave out parameter names. So if your C compiler produced the same warning, there would be no way for you to remove it. So your C compiler does not produce such a warning.</p>
"
"<p>I apologize in advance for asking this question again. I asked this question previously with respect to a Haskell implementation <a href=""http://stackoverflow.com/q/11960809/1177119"">here</a>, but I'm still having difficulty wrapping my head around how this works. Also, I find the concept of a minimalistic programming language absolutely fascinating and can't get away from it... anyways, this is no place to be nostalgic about the beauty of functional programming. </p>

<p>So! I found a website about esoteric programming languages and discovered Iota. Iota is arguably the smallest functional language. You can read more about it here: <a href=""http://semarch.linguistics.fas.nyu.edu/barker/Iota/"" rel=""nofollow"">""Iota and Jot: the simplest languages?""</a> Here is the reference implementation of Iota in Scheme:</p>

<pre><code>(let iota ()
   (if (eq? #\* (read-char)) ((iota)(iota))
       (lambda (c) ((c (lambda (x) (lambda (y) (lambda (z) ((x z)(y z))))))
                    (lambda (x) (lambda (y) x))))))
</code></pre>

<p>But, when I try something equivalent in elegance to the Scheme implementation in Ruby it ends up spitting out a ""bad proc"". Can anyone help me understand why Ruby is behaving this way and how this can be implemented better. While trying to get this to work, I kept <code>S</code>, <code>K</code>, and <code>BASIS</code> separate just for readability.</p>

<p>I included two tests at the bottom. The first should return <code>I</code> (<code>BASIS[BASIS]</code>), but instead it returns a proc that doesn't produce the same result as <code>I</code>. The second test should return <code>K</code>, but instead it returns an error.</p>

<pre><code>S = lambda {|f| lambda {|g| lambda {|x| f[x][g[x]] }}}
K = lambda {|x| lambda {|y| x }}
BASIS = lambda {|c| c[S][K] }

iota = lambda{|s|
   s = s.chars
   i = lambda {
      if s.next == '*'
         i[i]
      else
         BASIS
      end
   }
}

p BASIS[BASIS][1]         # =&gt; 1
p iota[""*ii""][1]          # =&gt; #&lt;Proc:0x000000010016b290&gt;

p K[1][2]                 # =&gt; 1
p iota[""*i*i*ii""][1][2]   # =&gt; line 3:in `[]': can't convert Proc into Integer (TypeError)
</code></pre>
","149392","","<p>On line 9, you're calling <code>i[i]</code>, but <code>i</code> doesn't take any arguments - only the lambda returned by <code>i</code> does. So you should call <code>i</code> with no arguments and then call the result of calling <code>i</code> with <code>i</code> as its argument, i.e. <code>i[][i]</code>.</p>
"
"<p>It is a common programmer hobby to write programs which accomplish a task in 1 line of source code. But that is a bit trivial: I can take 1 000 000 lines of code, delete all the line breaks, and voila! 1 line!</p>

<p>So to make things interesting, we can count <em>statements</em>. For a C-style language, a simple of way of counting statements is counting semicolons: So nesting a million if-elses is fine.</p>

<p>Say you've got a program <strong><em>P</em></strong> with <strong><em>n</em></strong> statements. It goes through a sequence of states (variable values) <strong><em>s</em></strong> (where <strong><em>s</em></strong> is a vector) and produces output <strong><em>x</em></strong>. We can pose two questions:</p>

<ol>
<li>Can a program with fewer than <strong><em>n</em></strong> statements produce output <strong><em>x</em></strong>?</li>
<li>Can a program with fewer than <strong><em>n</em></strong> statements go through some subset of <strong><em>s</em></strong>?</li>
</ol>

<p>Immediately, some things become obvious. Take the following program:</p>

<pre><code>int sum = a+b;
float mean = sum/2.0;
return mean;
</code></pre>

<p>We can refactor (or should I say ""defactor"") this into a one liner:</p>

<pre><code>return (a+b)/2.0;
</code></pre>

<p>Can every program be defactored to one line? Take this program:</p>

<pre><code>string x = """";
for (int i = 0; i&lt;a; i++)   // Should these semicolons count?
{
    x = x + ""."";
}
return x;
</code></pre>

<p>It's a bit more challenging.</p>

<p>The question can be answered exhaustively by trying every possible program with less than <strong><em>n</em></strong> statements, a number which is finite (theoretically you could have constants with infinitely many possible values, but no real language has infinite memory to store them or infinite disk space to accommodate the source code).</p>

<p>However:</p>

<p>A. Is it possible to prove for a program <strong><em>P</em></strong> which produces <strong><em>x</em></strong> (perhaps through <strong><em>s</em></strong>) with <strong><em>n</em></strong> statements that no <strong><em>Q</em></strong> which can do it in <strong><em>m</em></strong> statements can be found (in an efficient manner)?</p>

<p>B. Can the minimum <strong><em>n</em></strong> be found (in an efficient manner)?</p>

<p>C. Is minimum <strong><em>n</em></strong> guaranteed to be 1?</p>

<p>You can assume any language you want, although real languages would be more interesting. Please provide a definition of a ""statement"" in your language if your language is unusual.</p>

<p>I have assumed imperative languages, but adaptations of the problem to functional languages are welcome.</p>

<p>There is a trivial solution: For any <strong><em>P</em></strong>, run <strong><em>P</em></strong> and record <strong><em>x</em></strong>. Now write a program <strong><em>Q</em></strong> which simply prints <strong><em>x</em></strong>. For programs with input, make a very long if-else with each input mapped to a correct output.</p>

<p>This solution is unsatisfactory, although I'm not entirely sure why. Firstly, for infinite possible inputs it's impossible (but I already covered my ass by saying real programs are finite, so we can say real input is finite). Second, it only technically passes through a subset of <strong><em>s</em></strong>: Namely the empty set. Third, it's really anticlimactic.</p>

<p>Any help with defining away this little clever trick is also appreciated.</p>

<p><strong>PS:</strong> For whatever my word is worth, this isn't homework. I simply got curious about the problem and tried to phrase it as clearly as I could. Of course, I would still say that if it <em>was</em> homework, so...</p>
","149392","","<p>Since the concept of a statement is language specific, there are languages where every program can be written as a single statement or expression. Hell, there are even languages where every program <em>must</em> be written as a single expression.</p>

<p>That said, assuming a language where this is not the case (and there definitely are such languages), the problem of finding the minimum of statements to solve a given problem will be neither in P nor NP - it's undecidable.</p>

<blockquote>
  <p>The question can be answered exhaustively by trying every possible program with less than n statements, a number which is finite</p>
</blockquote>

<p>Since some of those programs won't terminate and it's impossible to know which ones will (halting problem), that doesn't work.</p>

<p>Also the number of programs with less than n statements is <strong>not</strong> finite in most languages. For example there are an infinite number of statements of the form <code>return foo + bar + ... + baz;</code> in most languages.</p>

<blockquote>
  <p>A. Is it possible to prove for a program P which produces x (perhaps through s) with n statements that no Q which can do it in m statements can be found (in an efficient manner)?</p>
</blockquote>

<p>(I'm assuming you forgot a <code>m &lt; n</code> here, otherwise the question doesn't make sense.)</p>

<p>No, it can't be proven at all.</p>

<blockquote>
  <p>B. Can the minimum n be found (in an efficient manner)?</p>
</blockquote>

<p>No, it can't be found at all.</p>

<blockquote>
  <p>C. Is minimum n guaranteed to be 1?</p>
</blockquote>

<p>As I said at the beginning, it depends on the language and for the purpose of the above questions I assumed a language where the answer to this is no.</p>
"
"<p>I did a Compilers course and now I'm practicing for my exam. One of the topics covered was <a href=""http://en.wikipedia.org/wiki/Live_variable_analysis"" rel=""nofollow"">variable liveness</a>.</p>

<p>Now, outside of a loop, if we have</p>

<pre><code>1. int a = 1;
2. a++;
3. int b = 2;
4. a = b;
</code></pre>

<p>then variable ""a"" is live in 1-2 and 4, right?</p>

<p>Inside of a loop, if we have</p>

<pre><code>1. for (int i = 1; i &lt; 3; i++)
</code></pre>

<p>and then no other operations using the value of ""i"" inside the loop, such as checking its value and so on, then ""i"" is only live at the point of assignment/increment, right?</p>

<p>Basically the question is, for a loop such as the one mentioned above, is the control variable live within the loop or just when incrementing? Unless of course, that variable is used inside the loop.</p>
","149392","","<blockquote>
  <p>variable ""a"" is live in 1-2 and 4, right?</p>
</blockquote>

<p>Yes, that is correct. Or, since we usually talk about a variable being live after or before (not during) a given step, I should say: <code>a</code> is live after step 1, before step 2 and after step 4 (assuming <code>a</code> will be used some time after those instructions).</p>

<blockquote>
  <p>for a loop such as the one mentioned above, is the control variable live within the loop or just when incrementing?</p>
</blockquote>

<p>You have to think about when each step of the loop happens. The execution of a loop will look something like this:</p>

<ol>
<li>i is initialized</li>
<li>the body executes</li>
<li>the loop condition is checked (reading the value of i which was set in step 1)</li>
<li>i is incremented (assuming the loop condition was true)</li>
<li>the body excutes</li>
<li>the loop condition is check (reading the value of i which was set in step 4)</li>
<li>... and so on until the condition is false</li>
</ol>

<p>So each time after the body executes the condition is checked by reading the value of i that was set before the body was executed. This means that i has to be live during the entire execution of the body.</p>
"
"<p>My compiler (gcc) throws warnings (not errors!) on the line which declares <code>fp</code>:</p>

<pre><code>int fd = open(""filename.dat"", O_RDONLY);
FILE* fp = fdopen(fd, ""r""); // get a file pointer fp from the file descriptor fd
</code></pre>

<p>These are the warnings:</p>

<pre><code>main.c: In function ‘main’:
main.c:606: warning: implicit declaration of function ‘fdopen’
main.c:606: warning: initialization makes pointer from integer without a cast
</code></pre>

<p>I do not understand these warnings since the return value of <code>fopen</code> is a <code>FILE*</code>. What is the mistake I am making here?</p>

<p><strong>EDIT</strong>: I am including <code>stdio.h</code> (and I am also on Linux).</p>
","149392","","<p>The <code>fdopen</code> function is not part of the C standard and is not available as part of the standard headers if you compile in standard C mode. So you either need to use <code>-std=gnu99</code> instead of <code>-std=c99</code> to compile your source or declare the function yourself.</p>
"
"<pre><code>class AiClassGame
    def calculate_cpuNum(sum)
        if sum &lt;= 79
            cpuNum = 80 - sum
        elsif sum &lt;= 88
            cpuNum = 89 - sum
        else
            cpuNum = 100 - sum
        end
        #puts 'calculate method'
    end
</code></pre>

<p><hr/><p>calculate_cpuNum is the method i get the error for calling</p>

<pre><code>if sum &gt;= 71
        calculate_cpuNum(sum)
    else
        sum += cpuNum
        checkPlayer = false
        puts 'sum = ' + sum.to_s
        break if sum &gt;= 100
    end
    puts 'Computer has choosen : ' + cpuNum.to_s, 'sum = ' + sum.to_s
end
</code></pre>

<p>I get the error</p>

<pre><code>ai_class_game.rb:39 in &lt;class:AiClassGame&gt;: undefined methodcalculate_cpuNum` for AiClassGame:Class (NoMethodError)from ai_class_game.rb:7:in `&lt;main&gt;`
</code></pre>
","149392","","<p>You define <code>calculate_cpuNum</code> as an instance method of the <code>AiClassGame</code> class. However the code in which you call the method is written directly in the class body - not inside an instance method.</p>

<p>The only methods you can call (without an explicit receiver) from within the class body are class methods. Instance methods can only be called from other methods of the same class or by calling them on an object of the given class using <code>my_ai_class_game_object.calculate_cpuNum</code>.</p>

<p>I should also point out that it's highly unusual to write your code directly inside the class body like that.</p>

<p>Another unrelated error that you have in your code is that you're using the <code>cpuNum</code> variable outside of the <code>calculate_cpuNum</code> method. <code>cpuNum</code> is a local variable and can not be used outside of the method in which you defined it.</p>
"
"<p>noob here. The following is a fragment from a class definition I came accross in a book example:</p>

<pre><code>double&amp; operator[](int i);
double operator[](int i) const;
</code></pre>

<p>My question is: <strong>why is this not ambiguous?</strong> When compiling the files of the project, the compiler doesn't give any error.
Also, in the following (imagine AnyClass contains a <code>valarray&lt;double&gt;</code> object for example and I want to access it directly):</p>

<pre><code>AnyClass test;
cout &lt;&lt; test[2]
</code></pre>

<p>which version does the compiler use?</p>
","149392","","<p>It's not ambiguous because the <code>const</code> is part of the signature and can be used for overload resolution. So if you use <code>operator[]</code> on a non-const object, it picks the overload without <code>const</code> because that's the most specific one. And if you use it on a const object, it picks the overload with <code>const</code> because that's the only one that applies.</p>
"
"<p>Please tell me what is the problem? </p>

<pre>
data Stack' v = Stack' [v] Int deriving (Show)
...
type StackInt = Stack' Int 

main = print(StackInt [1,2,3] 4)
</pre>

<p>The error i am getting is </p>

<pre>
Not in scope: data constructor `Stackint'
</pre>

<p>What is wrong? </p>
","149392","","<p>The name of the constructor is <code>Stack'</code>, not <code>StackInt</code>. Creating a type alias using <code>type</code> does not create an alias for the constructors (which wouldn't make sense since there may be many constructors for the type and their names don't have to be related the type name at all).</p>
"
"<pre><code>data Exp  
  = Let String Exp Exp
  | Exp1 Exp1
  deriving Show
</code></pre>

<p>What does the Let keyword from the <a href=""http://www.haskell.org/happy/doc/html/sec-using.html"" rel=""nofollow"">documentation page</a> example mean? (I am aware of the normal meaning of let)</p>
","149392","","<p>It's not a keyword. It's simply a name given to the first constructor of the <code>Exp</code> type. The first <code>Exp1</code> on the second line is the name of the second constructor.</p>
"
"<p>So I think of Lambdas as demonstrated in Learn You a Haskell:</p>

<pre><code>(filter (\xs -&gt; length xs &gt; 15) (map chain [1..100])) 
</code></pre>

<p>The input for xs is the list generated from <code>(map chain [1..100]))</code>
That's easy enough to read.</p>

<p>So here's where I get confused, looking at some Real World Code (tm).</p>

<p>Here's a function from
<a href=""https://github.com/snoyberg/conduit/blob/master/resourcet/Control/Monad/Trans/Resource.hs"" rel=""nofollow"">conduit</a></p>

<pre><code>fmap f (ResourceT m) = ResourceT $ \r -&gt; fmap f (m r)
</code></pre>

<p>Where is the input for r coming from?</p>
","149392","","<p><code>r</code> won't have a value until the function <code>\r -&gt; fmap f (m r)</code> is actually called. In the definition of <code>fmap</code>, the function is never called - it's only stored in a <code>ResourceT</code>. It can then later be taken out of the <code>ResourceT</code> and called. That's when <code>r</code> will get a value.</p>
"
"<p>If we define a function something like</p>

<pre><code>(defun foo(x)
  (setf x somevalue))
</code></pre>

<p>Is <code>x</code> defined as a local variable or global? using setf/q is setting the value to be global.
if it is global can anyone tell me how to define a local variable in lisp other than <code>let</code>?</p>

<p>Thanks!</p>

<p>Consider the following example </p>

<pre><code>(let ((x 0)) 
  (defun foo (y) 
    (when (equal x 0) (setq x y)) 
    (when (&lt; x y) (setq x y))
    x))
</code></pre>

<p>when I am giving some input to <code>foo</code> like <code>(foo 2)</code> , it is returning 2 and if we execute the function again with <code>(foo 1)</code> it still returns 2 and <code>(foo 3)</code> returns 3.This is what i actually want it do.But the question is how is this possible, because if I try to access the variable <code>x</code> outside the function from the clisp terminal, I am unable to.If I am accessing the function again, it seems to retain the previous value of <code>x</code>. </p>

<p>thank you!</p>
","149392","","<p>In your code <code>x</code> is a parameter to the <code>f</code> function and thus local to the function. The call to <code>setf</code> does not create new variable, but simply sets the value of the existing local variable <code>x</code>. Using <code>setq</code> instead of <code>setf</code> would behave the same.</p>
"
"<p>I have started this a new question as it became a follow-on from my previous question.</p>

<p>If I have two data types which are composed of similar constructors:</p>

<pre><code>data A = X | Y | Z
data B = X | Y
</code></pre>

<p>is there no way I can somehow represent this as:</p>

<pre><code>data A = C | Z
data B = C

data C = X | Y
</code></pre>

<p>if you can see what I am doing- I am trying to group the X | Y into one data type, which can then be used by multiple other data types. I cannot seem to get the compiler to allow this, or if it does, I cannot pattern-match against the X or Y, only the C??</p>

<p>I get the error message that C has been declared multiple times.</p>

<p>I thought I could maybe use types, but they do not allow multiple typings.</p>

<p>EDIT</p>

<p>Even if I declare the long way (like below), it still won't compile and says X and Y have multiple declarations:</p>

<pre><code>data A = X | Y | Z
data B = X | Y
</code></pre>
","149392","","<p>Not only can't you do this, you also can't do your first option - i.e. you can't have two types in the same module that both have constructors named <code>X</code> and <code>Y</code>.</p>

<p>If you could do this, what should the type of <code>X</code> be - <code>C</code>, <code>A</code> or <code>B</code>? The most obvious answer would be <code>C</code>, but then you wouldn't be able to use it in a context where an <code>A</code> or a <code>B</code> are required (note that Haskell has no subtyping), so that would defeat the purpose of the whole construct.</p>

<p>The best you can do is to wrap C in a constructor of A and B, i.e.:</p>

<pre><code>data A = AC C | Z
data B = BC C
data C = X | Y
</code></pre>

<p>Then you could wrap a C with either the <code>AC</code> or the <code>BC</code> constructor to create a value of type <code>A</code> or <code>B</code> respectively.</p>
"
"<p>I have a question about the performance of IP and FP.
Let's say I have a function to compute nth Fibonacci number.</p>

<p>In imperative programming I have a choice to computing the nth Fibonacci number using iterative way, recursion, or dynamic programming.  Of course iterative way and dynamic programming will perform better compared to recursion asymptotically.</p>

<p>In functional programming, assume there is no state involved, then I can only do it in recursion way.  </p>

<p>In this case, doesn't that mean functional programming will always perform as equal or slower compared to imperative programming in terms of efficiency (asymptotically)?</p>

<p>How does real world functional programming deal with this issue?</p>
","149392","","<p>There is no one recursive way to implement the Fibonacci numbers. You can easily write a recursive function that calculates the nth Fibonacci numbers in O(n) time - it would work the same way as the iterative version (i.e. it'd keep track of the last two numbers you've calculated), but using tail recursion instead of an imperative loop. Since many functional languages require implementations to perform tail call optimization, there won't even be constant overhead compared to the iterative version.</p>

<p>And of course there are even ways to calculate the nth Fibonacci number in sublinear time (using the closed form or matrix multiplication), which work just as well in functional languages as in imperative languages.</p>

<p>Regarding dynamic programming: It is perfectly possible to do dynamic programming in functional languages. Since dynamic programming algorithms don't change a field of the array once it has been written for the first time, there is really no contradiction to functional programming here. All you need is to be able to access the already constructed parts of the array while the array is being constructed. Lazy arrays as they exist in Haskell work well for this.</p>
"
"<pre><code>fun temp(x) = 
let val a = x
in if a mod (x-1) = 0 then x
   else temp(x-1)
end;
</code></pre>

<p>this is example Standard ML code. </p>

<p>What I want to know is that 
for example user call temp(10); then a = 10 and the temp(x-1) is called.</p>

<p>then the variable 'a' will change to 9. Can I keep it as 10 in Standard ML?</p>
","149392","","<p>If your function contains <code>val a = x</code>, then for any invocation of <code>temp(x)</code>, the value of <code>a</code> will be equal to the value of <code>x</code>. If you want to remember the value of <code>a</code> from a previous invocation when you recurse, you need to pass it around as a parameter like this:</p>

<pre><code>fun temp_helper x a =
  if a mod (x-1) = 0 then x
  else temp_helper (x-1)

fun temp x = temp_helper x x
</code></pre>

<p>You could also make the helper function an inner function. If you do that, you can actually remove <code>a</code> as a parameter and instead close over <code>a</code> like this:</p>

<pre><code>fun temp x =
let
  val a = x
  fun helper x =
    if a mod (x-1) = 0 then x
    else helper (x-1)
in
  helper x
end
</code></pre>
"
"<p>In Haskell, I am having some problems defining functions because the types of my argument does not match the required type.</p>

<p>For example, I would like to write a function that takes an <code>n :: Int</code> and produces the list of integers from 1 to the <code>floor</code> of the square root of <code>n</code>. Hence I would to have a function such as:</p>

<pre><code>list :: Int -&gt; [Int]
</code></pre>

<p>Originally I defined the function as follows: </p>

<pre><code>list :: Int -&gt; [Int]

list n = [1 .. floor (sqrt n)]
</code></pre>

<p>When I loaded the sript, there is an error message of the types not matching. However, I am not sure if I am not matching the type of the <code>sqrt</code> function or the <code>floor</code> function. The error message is the follow: </p>

<pre><code>No instance for (Floating Int)
  arising from a use of 'sqrt' at pe142.hs:6:22-27
Possible fix: add an instance declaration for (Floating Int)
In the first argument of 'floor', namely '(sqrt n)'
In the expression: floor (sqrt n)
In the expression: [1 .. floor (sqrt n)]
Failed, modules loaded: none.
</code></pre>

<p>Could someone explain to me what is causing the error and how it can be fixed?</p>
","149392","","<p><code>sqrt</code> requires an argument of the <code>Floating</code> class, e.g. a <code>Double</code>. You're passing it an <code>Int</code>, which is not an instance of the <code>Floating</code> class - that's what the error message is telling you.</p>

<p>So to fix the error, convert your <code>Int</code> to a <code>Double</code> before calling <code>sqrt</code>. You can use the <code>fromIntegral</code> function for that.</p>
"
"<p>I am completely new to Scheme and functional languages in general.  I am trying to create a binary search tree.  The format of a node is a list of three elements, the first being the value at the node, the second being the left child node, and the third being the right child node.  I have a ""make"" function, which creates an empty tree: ( () () () ).  I also have the insert function.  Here is the code:</p>

<pre><code>;Inserts a number into the tree
(define (insert t x)
  (cond ((null? (car t))
      (list x (make) (make)))
      ((&lt; x (car t))
       ((list (car t) ((insert (cadr t)  x)) (caddr t))))
      ((&gt; x (car t))
       ((list (car t) (cadr t) ((insert (caddr t) x)) )))

  )
)

;Makes a new empty tree
(define (make)
  (list (list) (list) (list))
)
</code></pre>

<p>To test it, I run the following lines:</p>

<pre><code>&gt; (define b1 (make))
&gt; (define b2 (insert b1 1))
&gt; b2
(1 (() () ()) (() () ()))
&gt; (define b3 (insert b2 2))
</code></pre>

<p>I then receive the following error:</p>

<pre><code>application: not a procedure;
expected a procedure that can be applied to arguments
given: (2 (() () ()) (() () ()))
arguments...: [none]
</code></pre>

<p>I have checked and re-checked my parentheses...and running it in debug mode, I see it fails at the END of inserting 2 into the tree.  Until the, it works as planned.  Is this the cause of a foolish syntax/logic error on my part?</p>
","149392","","<pre><code>((list (car t) ((insert (cadr t)  x)) (caddr t)))
</code></pre>

<p>The outer pair of parentheses is the problem here. <code>(list (car t) ((insert (cadr t)  x)) (caddr t))</code> gives you a list. By wrapping another pair of parentheses around it, you're trying to apply that list as if it was a function, which you can't - thus the error message.</p>
"
"<p>I am reading ""Real World Haskell"" (great book) and I have some confusion about how the compiler selects an overloaded function.</p>

<p>If I have a type class</p>

<pre><code>type JSONError = String

class JSON a where
    toJValue :: a -&gt; JValue
    fromJValue :: JValue -&gt; Either JSONError a
</code></pre>

<p>and two instances like these</p>

<pre><code>instance JSON Bool where
    toJValue = JBool
    fromJValue (JBool b) = Right b
    fromJValue _ = Left ""not a JSON boolean""
</code></pre>

<p>and</p>

<pre><code>instance JSON String where
    toJValue = JString
    fromJValue (JString s) = Right s
    fromJValue _ = Left ""not a JSON string""
</code></pre>

<p>How can the compiler choose between the two ""fromJValue"" functions, given, for example, an Integer?</p>
","149392","","<p>If you use <code>fromJValue someValue</code> as part of some expression, Haskell picks the the type that is required by the expression. So if you do for example:</p>

<pre><code>case fromJValue someValue of 
    Right str -&gt; putStr str
    Left _ -&gt; error
</code></pre>

<p>the instance for <code>JSON String</code> is chosen because <code>putStr</code> takes a string.</p>

<p>In cases where the required type can't be unambiguously determined, you'll get an ""ambiguous type variable"" error and will have to add a type annotation to manually pick which instance to use.</p>

<p>Note that it's entirely irrelevant which kind of <code>JValue</code> <code>someValue</code> contains.</p>
"
"<p>In Clojure, what is the difference between fn and fn*? I see fn* when I syntax quote a function created with the # macro. For example, in the REPL:</p>

<pre><code>user=&gt; `#(inc %)   
(fn* [p1__342__343__auto__] (clojure.core/inc p1__342__343__auto__))
</code></pre>

<p>Is this simply used for debugging purposes to identify that the function was created by # rather than fn directly?</p>
","149392","","<p>According to <a href=""https://groups.google.com/forum/?fromgroups=#!msg/clojure/f8iovY57J4k/gO8lhZVq8PEJ"" rel=""nofollow"">this post on google groups</a> <code>fn*</code> is a primitive form to create functions and <code>fn</code> is a macro built on top of it to implement higher-level features like destructuring.</p>
"
"<p>Trying to create a recursive function that prints the highest element of an array. </p>

<p>It's saying it needs a <code>;</code> before <code>else maxi=xs.head</code> and a <code>}</code> after <code>max(xs.tail)</code></p>

<p>I didn't think scala uses semi colons, when should you use them and what are some other basic syntactical rules.</p>

<pre><code>var maxi = 0 
def max(xs: List[Int]): Int = {if (xs.isEmpty) throw new java.util.NoSuchElementException() 
      else if (xs.tail.isEmpty) maxi
      else if (xs.tail.head &gt; xs.head) maxi = xs.tail.head
      max(xs.tail)
      else maxi=xs.head
      max(xs.tail)
}
</code></pre>
","149392","","<p>Scala uses semicolons, but they're optional at the end of a line. That is if a semicolon would be legal at the end of a line (i.e. the line doesn't end in the middle of an expression (like <code>a +</code>)), one is automatically inserted.</p>

<p>That said, despite the error message your problem doesn't actually have anything to do with semicolons. Your problem is that you need braces if you want to have more than expression in an if- or else-block.</p>

<p>PS: Note that using a mutable non-local variable to keep track of your state is a bad idea design-wise and will give you trouble if you call your method more than once (without resetting the variable in between).</p>

<p>PPS: You should closely look at what you do when <code>xs.tail</code> is empty. Are you sure that logic is correct?</p>
"
"<p>My professor is teaching us Scala using Horstmann's book ""Scala for the impatient"", and one of our homework exercises are straight from the book; Chapter 4, exercise 2.  </p>

<p>We are expected to read in the eBook in text format, the professor has specified that the input file should be ""Moby Dick"", available for free from the Guttenberg project here: <a href=""http://www.gutenberg.org/ebooks/2701.txt.utf-8"" rel=""nofollow"">http://www.gutenberg.org/ebooks/2701.txt.utf-8</a></p>

<p>My code works, as far as counting instances of words.  However, he has added the requirement that we must we must format the output in two two columns, with words left justified, and counts right justified.  To do so, I am determining the longest word in the book so I can figure the width of the ""word"" column.  However, the values I am getting for the length of the strings is just wrong.  In fact, it tells me that all the strings are the same length.  ""a"" is being reported as length 26, just as is ""Whale"", ""Ishmael"", etc... </p>

<p>Here's the code:</p>

<pre><code>object Chapter4Exercise2 extends App {

  //for sorting
  import util.Sorting._

  //grab the file
  val inputFile = new java.util.Scanner(new java.io.File(""moby.txt""))

  //create a mutable map where key/values == word/count
  val wordMap = collection.mutable.Map[String, Int]() withDefault (_ =&gt; 0)

  //for formatting output (later), the longest word length is relevant
  var longestWord = 0
  var theWord: String = """"

  //start reading each word in the input file
  while (inputFile hasNext) {
    //grab the next word for processing, convert it to lower case, trim spaces and punctuation
    var nextWord = inputFile.next().toLowerCase().trim().filter(Character.isLetter(_))
    //if it's the longest word, update both theWord and longestWord
    if (nextWord.size &gt; longestWord) longestWord = nextWord.size; theWord = nextWord; println(theWord + "" "" + longestWord)
    //update the map value for the key with same value as nextWord
    wordMap(nextWord) += 1
  }

    println(""Longest word is "" + theWord + "" at "" + longestWord + "" Characters"")
}
</code></pre>

<p>The output of these lines:</p>

<pre><code>    if (nextWord.size &gt; longestWord) longestWord = nextWord.size; theWord = nextWord; println(theWord + "" "" + longestWord)
</code></pre>

<p>and</p>

<pre><code>    println(""Longest word is "" + theWord + "" at "" + longestWord + "" Characters"")
</code></pre>

<p>is way off.  It's telling me that EVERY word in the input file is 26 characters long!</p>

<p>Here's a small sample of what's being output:</p>

<p>husks 26</p>

<p>on 26</p>

<p>a 26</p>

<p>surfbeaten 26</p>

<p>beach 26</p>

<p>and 26</p>

<p>then 26</p>

<p>diving 26</p>

<p>down 26</p>

<p>into 26</p>

<p>What am I missing/doing wrong?</p>
","149392","","<pre><code>if (nextWord.size &gt; longestWord) longestWord = nextWord.size; theWord = nextWord; println(theWord + "" "" + longestWord)
</code></pre>

<p>You shouldn't write multiple statements on a single line like that. Let's write this out in multiple lines and properly indent it:</p>

<pre><code>if (nextWord.size &gt; longestWord)
    longestWord = nextWord.size
theWord = nextWord
println(theWord + "" "" + longestWord)
</code></pre>

<p>Do you see the problem now?</p>
"
"<p>I'm doing a scala course and one of the examples given is the sumInts function which is defined like : </p>

<pre><code>  def sumInts(a: Int, b: Int) : Int = 
    if(a &gt; b) 0  
    else a + sumInts(a + 1 , b)
</code></pre>

<p>I've tried to understand this function better by outputting some values as its being iterated upon : </p>

<pre><code>class SumInts {
      def sumInts(a: Int, b: Int) : Int = 
        if(a &gt; b) 0 else 
        {     
          println(a + "" + sumInts(""+(a + 1)+"" , ""+b+"")"")       
          val res1 = sumInts(a + 1 , b)
          val res2 = a
          val res3 = res1 + res2
          println(""res1 is : ""+res1+"", res2 is ""+res2+"", res3 is ""+res3)
          res3
        }
}
</code></pre>

<p>So the code : </p>

<pre><code>object SumIntsMain {

    def main(args: Array[String]) {

      println(new SumInts().sumInts(3 , 6));

  }

}
</code></pre>

<p>Returns the output : </p>

<pre><code>3 + sumInts(4 , 6)
4 + sumInts(5 , 6)
5 + sumInts(6 , 6)
6 + sumInts(7 , 6)
res1 is : 0, res2 is 6, res3 is 6
res1 is : 6, res2 is 5, res3 is 11
res1 is : 11, res2 is 4, res3 is 15
res1 is : 15, res2 is 3, res3 is 18
18
</code></pre>

<p>Can someone explain how these values are computed. I've tried by outputting all of the created variables but still im confused.</p>
","149392","","<p>You mentioned the substitution model, so let's apply it to your <code>sumInts</code> method:</p>

<p>We start by calling <code>sumInts(3,4)</code> (you've used 6 as the second argument, but I chose 4, so I can type less), so let's substitute 3 for <code>a</code> and 4 for <code>b</code> in the definition of <code>sumInts</code>. This gives us:</p>

<pre><code>if(3 &gt; 4) 0  
else 3 + sumInts(3 + 1, 4)
</code></pre>

<p>So, what will the result of this be? Well, <code>3 &gt; 4</code> is clearly false, so the end result will be equal to the else clause, i.e. 3 plus the result of <code>sumInts(4, 4)</code> (4 being the result of <code>3+1</code>). Now we need to know what the result of <code>sumInts(4, 4)</code> will be. For that we can substitute again (this time substituting 4 for <code>a</code> and <code>b</code>):</p>

<pre><code>if(4 &gt; 4) 0
else 4 + sumInts(4 + 1, 4)
</code></pre>

<p>Okay, so the result of <code>sumInts(4,4)</code> will be 4 plus the result of <code>sumInts(5,4)</code>. So what's <code>sumInts(5,4)</code>? To the substitutionator!</p>

<pre><code>if(5 &gt; 4) 0
else 5 + sumInts(5 + 1, 4)
</code></pre>

<p>This time the if condition is true, so the result of <code>sumInts(5,4)</code> is 0. So now we know that the result of <code>sumInts(4,4)</code> must be <code>4 + 0</code> which is 4. And thus the result of <code>sumInts(3,4)</code> must be <code>3 + 4</code>, which is 7.</p>
"
"<p>I want to use if (condition) then Statement 1 , statement 2, ...  else statement 1, statement 2,... ;
in SML Programming Language.
I could not use and, simple space or ,. Any suggestions if this is possible at all?
note: I do not mean nested if else. It is pretty clear though.</p>
","149392","","<p>You can use the construct <code>(expr1; expr2; ... ; exprn)</code> to execute multiple expressions sequentially. So:</p>

<pre><code>if condition then (
  expression1;
  expression2
) else (
  expression1;
  expression2
)
</code></pre>
"
"<p>I have a problem when using case expression in Haskell.</p>

<pre><code>filterSth::[a]-&gt;(b,c)-&gt;[a]
filterSth (x:xs) (b, c) =
    case (b,c) of
        (1,0) -&gt; ...
        (1,2) -&gt; ...
        ...
</code></pre>

<p>can I do something like above ?</p>
","149392","","<p>Yes, you can do something like the above except that <code>b</code> and <code>c</code> need to have a numeric type if you want to pattern match them against numeric constants.</p>
"
"<p>Is member function virtual by default in scala? Is it different than Java in this matter?</p>

<p>When a method is overriden you have to explicitly state that, but there is no ""virtual"".</p>
","149392","","<blockquote>
  <p>Is member function virtual by default in scala?</p>
</blockquote>

<p>Yes.</p>

<blockquote>
  <p>Is it different than Java in this matter?</p>
</blockquote>

<p>No, in Java methods are also virtual unless they're explicitly defined as <code>final</code>.</p>

<p>However Java is different from Scala in that Java doesn't require (or have) the <code>override</code> keyword in order to override methods - it does have an <code>@override</code> annotation though (since Java 1.5) and gives a warning when you override a method without that annotation.</p>
"
"<p>My question is about Odersky's lecture 3.5 (not the assignment!):</p>

<p>The exercise at 19:15 asks: ""What is the type of: <code>if (true) 1 else false</code>""</p>

<p>In his explanation, Odersky argues that the type is <code>AnyVal</code> because it is the most specific supertype of <code>Int</code> and <code>Boolean</code> (the types of the two conditional branches).</p>

<p>I am asking myself why the type checker is not smart enough to see that only the first branch is actually relevant, and the type could thus be inferred to <code>Int</code>?</p>
","149392","","<p>Because the type-checker does not make any assumptions about the execution of the program. It does not try to predict which branch of an if-statement will execute. In the general case that would not be decidable and this specific case will not occur often enough in practice to make any such predictions worthwhile.</p>

<p>Doing such predictions would also complicate the logic of the typing rules. If the type of an if-statement is Int and one of the branches has a type that is not a subtype of Int, that would surely contradict people's expectations - even if the branch will never be executed. In a way that would be the same as if the type checker would not complain about type errors in branches that it knows won't execute - nobody would want that.</p>
"
"<p>Ok, I can't figure this one out even though I have an idea what it's doing...</p>

<pre><code>let t = [""APE"", ""MONKEY"", ""DONKEY""]
</code></pre>

<p>Now consider three cases:</p>

<pre><code>map (length.group) t
(map length.group) t
map (map length.group) t
</code></pre>

<p>This returns these three answers:</p>

<pre><code>[3,6,6]
[1,1,1]
[[1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1]]
</code></pre>

<p>Now, can someone explain to me in details what's going on. A crucial part of this question is that I assume that map needs a list to work on and I don't see two maps being passed in the third case for example.</p>
","149392","","<pre><code>map (length.group) t
</code></pre>

<p>This composes the functions <code>length</code> and <code>group</code>. The result is a function that takes a list (string) and returns the number of ""groups"" in that list (where a group is a sequence of the same character repeating 1 or more times, so ""abc"" contains 3 groups and so does ""aabbcc"").</p>

<p>This function is then applied to each string in <code>t</code> using <code>map</code>.</p>

<pre><code>(map length.group) t
</code></pre>

<p>Here the function <code>map length</code> (which takes the length of each sublist in a list of lists) is composed with the function <code>group</code> and the composed function is applied to <code>t</code>. In other words it's the same as <code>map length (group t)</code>.</p>

<pre><code>map (map length.group) t
</code></pre>

<p>Here the function <code>map length . group</code> is applied to each string in <code>t</code>, i.e. <code>map length (group str)</code> is calculated for each string <code>str</code> in <code>t</code>.</p>
"
"<p>How does the below scala implementation of FizzBuzz work ?</p>

<p>Here is what I think, but im not sure if im on the right track : 
  The use of <code>=&gt;</code> Is this a high order function, if so it is just returning a String
  <code>i</code> is a String which contains either <code>""FizzBuzz""</code> , <code>""Fizz""</code> or <code>""Buzz""</code></p>

<pre><code>package fizzbuzz

object FizzBuzz {
  def main(args : Array[String]) {
    (1 until 100).map(_ match {                
      case i : Int if ((i % 3) == 0 &amp;&amp; (i % 5) == 0) =&gt; ""FizzBuzz""
      case i : Int if ((i % 3) == 0) =&gt; ""Fizz""
      case i : Int if ((i % 5) == 0) =&gt; ""Buzz""
      case i : Int =&gt; i.toString
    }).foreach(println _)
  }
}
</code></pre>
","149392","","<blockquote>
  <p>The use of => Is this a high order function</p>
</blockquote>

<p>No, the <code>=&gt;</code> here is part of the match-case syntax. It separates the pattern for the given case from the case's body, i.e. the syntax is <code>case pattern =&gt; body</code> where <code>pattern</code> a pattern to match against the given value and <code>body</code> is the code that's supposed to execute if <code>pattern</code> matches.</p>

<p>The code works by iterating over the numbers from 1 until 100 (by using map) and matching each number against the patterns in the <code>match</code> block. The patterns use pattern guards to check whether each number is divisible by 3, 5 or both (or neither). The result is a sequence of strings. The code then iterates over that sequence using <code>foreach</code> and prints each item using <code>println</code>.</p>
"
"<p>This is an alpha conversion. Although I have completed this, I am not too sure whether this is a correct answer or not.</p>

<pre><code>λx y.((λx y.x) x ((λx. x) y)) ((λx y. y)((λy. y) x) y)
=λx y.((λx1 y1. x1) x((λx2. x2) y1)) ((λx3 y2. y2)((λy3. y3) x3) y)
</code></pre>

<p>Is this a correct answer?</p>
","149392","","<p>You've made two mistakes. The bolded variables are not in scope when you use them:</p>

<p>λx y.((λx1 y1. x1) x((λx2. x2) <strong>y1</strong>)) ((λx3 y2. y2)((λy3. y3) <strong>x3</strong>) y)</p>
"
"<p>Is it possible that I might possibly write a code that corrupts the compiler? Means can bad programming practices lead to such a situation where I might end up harming the compiler and I am assuming that the code I have written is not some sort of virus which is specifically designed to do this?</p>
","149392","","<p>No, that's not possible except if there's a very strange and unlikely bug in the compiler that would be triggered by such code.</p>
"
"<p>I don't understand why Haskell can't figure out the type for line 8 in the following code. Doesn't the type signature of the expressMaybe function establish that the result type is the same as the type of the two input parameters?</p>

<pre><code>{-# LANGUAGE MultiParamTypeClasses #-}

class Gene g n where
  express :: g -&gt; g -&gt; g
  -- there will be other functions that use the ""n"" type parameter

expressMaybe :: Gene g n =&gt; Maybe g -&gt; Maybe g -&gt; Maybe g
expressMaybe (Just a) (Just b) = Just (express a b) -- line 8
expressMaybe (Just a) Nothing  = Just a
expressMaybe Nothing (Just b)  = Just b
expressMaybe Nothing Nothing   = Nothing
</code></pre>

<p>The error I get is:</p>

<pre><code>Amy20.hs:8:40:
    Ambiguous type variable `n0' in the constraint:
      (Gene g n0) arising from a use of `express'
    Probable fix: add a type signature that fixes these type variable(s)
    In the first argument of `Just', namely `(express a b)'
    In the expression: Just (express a b)
    In an equation for `expressMaybe':
        expressMaybe (Just a) (Just b) = Just (express a b)
Failed, modules loaded: none.
</code></pre>

<p>I tried playing around with RankNTypes and ScopedTypeVariables, but I couldn't figure out how to make the error go away.</p>

<p>Thank you in advance for your help!</p>

<p>Edit: Now that I understand the problem, I used fundeps, because I'm familiar with them, and for my application it doesn't make much sense to have more than one ""alphabet"" for encoding genes. I've never used type families before, though, so I'll look into that too.</p>

<pre><code>{-# LANGUAGE MultiParamTypeClasses, FunctionalDependencies #-}

class Gene g n | g -&gt; n where
  express :: g -&gt; g -&gt; g
  -- there will be other functions that use the ""n"" type parameter

expressMaybe :: Gene g n =&gt; Maybe g -&gt; Maybe g -&gt; Maybe g
expressMaybe (Just a) (Just b) = Just (express a b) -- line 8
expressMaybe (Just a) Nothing  = Just a
expressMaybe Nothing (Just b)  = Just b
expressMaybe Nothing Nothing   = Nothing
</code></pre>
","149392","","<p>Consider this:</p>

<pre><code>instance Gene String Int where
  express _ _ = ""INT""

instance Gene String Double where
  express _ _ = ""DOUBLE""

expressMaybe (Just """") (Just """")
</code></pre>

<p>Should that code produce <code>(Just ""INT"")</code> or <code>(Just ""DOUBLE"")</code>? Yes, Haskell knows that the result of <code>expressMaybe</code> will have the same type as the arguments. But that doesn't mean it knows which instance to use here since there can be multiple instances for the same type <code>g</code> with different <code>n</code>.</p>

<p>If in your case there will only ever be one type <code>n</code> for each type <code>g</code>, you might consider using extensions like type families or functional dependencies with which you can express that fact to the type system.</p>
"
"<p>Can someone give me some help building an ocaml interpreter for the language with the syntax:</p>

<pre><code>Prog ::= Def* Expr
Def ::= id id* = Expr
Expr ::= int | id | Expr '+' Expr | Expr '*' Expr | id Expr* | if Expr then Expr else Expr
</code></pre>

<p>so far i did this:</p>

<pre><code>type expr = I of int
| Id of string
| Add of expr * expr
| Multiply of expr * expr
| If of  expr * expr * expr

let rec evaluate = function
| I n -&gt; n 
| Add(e1,e2) -&gt; evaluate e1 + evaluate e2
| Multiply(e1,e2) -&gt; evaluate e1 * evaluate e2
| If(a,b,c) -&gt; if evaluate a&lt;&gt;0 then evaluate b else evaluate c
</code></pre>

<p>Is this any good ? </p>
","149392","","<p>In your grammar a single id can either be matched by the production <code>Expr ::= id</code> or <code>Expr ::= id Expr*</code>. In other words there's no way to distinguish between a nullary function application (assuming the <code>id Expr*</code> production is supposed to match function applications) and variables. Maybe you meant <code>id Expr+</code> instead (disallowing nullary function applications).</p>

<p>Your existing code looks fine, but it's incomplete:</p>

<p>Your <code>expr</code> type is missing a constructor for the <code>id Expr*</code> production of the grammar, i.e. you're missing a constructor that represents function applications. You should add one and then add a case for it to the <code>evaluate</code> function as well.</p>

<p>In your <code>evaluate</code> function you're missing a case for the <code>Id</code> constructor. That case should lookup the value of the given identifier in a mapping from identifiers to values (ints). To that end your <code>evaluate</code> function should take such a mapping as an additional argument. It should also take another mapping from identifiers to functions, which you can then use to loop up function names in the case for function applications.</p>

<p>Speaking of those mappings, you currently don't have any code to represent or process definitions. You should come up with a type to represent a definition and another to represent functions. The latter type should contain the name of the function parameters and the body as an <code>expr</code>.</p>

<p>Then you should write a function that takes a list of definitions and creates the mappings for variables and functions. For each variable definition it should evaluate the expression on the right and add the resulting values to your variable mapping. For each function definition, you should add a value of your function type to the function mapping. After processing the definitions, you should evaluate the final expression by calling your <code>evaluate</code> function with that expression and the two mappings you created as arguments.</p>

<p>Finally you don't have any code for actually parsing the program, but I think that might be intentional.</p>
"
"<p>Is there a function in SML that adds two tuples of equal lengthes like (3,1,2) and (4,3,1) and returns (7,4,3)?</p>

<p>Thank You</p>
","149392","","<p>No, there is no such function.</p>

<p>There also is no way to write one yourself without hard-coding the length, i.e. you can write a function that takes two tuples of length 2 or a function that takes two tuples of length 3, but it's not possible to write one that takes two tuples of arbitrary (but equal) length. SML's type system simply does not allow you to abstract over a tuple's length like that.</p>

<p>For a specific length, you can, of course, easily define it yourself:</p>

<pre><code>fun addPairs (x1, y1) (x2, y2) = (x1 + x2, y1 + y2)
</code></pre>
"
"<p>I am trying to use the <code>:::</code> method (is this an operator method?) from <code>List</code>. Okay I know what it is doing now after typing in two lists in the REPL and seeing what was going on. However the API definition of the ::: method was hard to read and understand. I only ""got it"" by reading what it ""returns"".</p>

<pre><code>def :::[B &gt;: A](prefix: List[B]): List[B]
    Adds the elements of a given list in front of this list.
    prefix  The list elements to prepend.
    returns list resulting from the concatenation of the given list prefix and this list.
    Example:  List(1, 2) ::: List(3, 4) = List(3, 4).:::(List(1, 2)) = List(1, 2, 3, 4)
</code></pre>

<p>In particular what does this part mean: <code>[B &gt;: A](prefix: List[B])</code>. I mean I was able to understand what the method returns by reading what the method returns and playing with it. For the future, I would like to be able to read the API for a different method and try to understand everything. That is why I am asking this question.</p>
","149392","","<p><code>[B &gt;: A]</code> means that the method is generic and takes one type argument called <code>B</code> that must be a supertype of <code>A</code>. <code>(prefix : List[B])</code> means that it takes one actual argument called <code>prefix</code> of type <code>List[B]</code>.</p>
"
"<p>I've just been exploring Rank2Types and RankNTypes to try to get familiar with them. But I can't work out why the following does not work.</p>

<pre><code>g :: (forall a. forall b. a -&gt; b) -&gt; x -&gt; y -&gt; (u,v)
g p x y = (p x, p y)
</code></pre>

<p>This definition  is accepted by the compiler, but it fails when I try to use it:</p>

<pre><code>ghci&gt; g id 1 2

&lt;interactive&gt;:35:3:
    Couldn't match type `a' with `b'
      `a' is a rigid type variable bound by
          a type expected by the context: a -&gt; b at &lt;interactive&gt;:35:1
      `b' is a rigid type variable bound by
          a type expected by the context: a -&gt; b at &lt;interactive&gt;:35:1
    Expected type: a -&gt; b
      Actual type: a -&gt; a
    In the first argument of `g', namely `id'
    In the expression: g id 1 2
</code></pre>

<p>I'm struggling to understand why <code>a-&gt;a</code> is not acceptable type for the expected <code>a-&gt;b</code>.</p>
","149392","","<p>For all types <code>a</code> and <code>b</code> a function of type <code>forall a. forall b. a -&gt; b</code> must be able to take a value of type <code>a</code> and produce a value of type <code>b</code>. So it must, for example, be possible to put in an <code>Int</code> and get out a <code>String</code>.</p>

<p>You can not get a <code>String</code> out of <code>id</code> if you put in an <code>Int</code> - you only ever get back the same type that you put in. So <code>id</code> is not of type <code>forall a. forall b. a -&gt; b</code>. In fact there can be no total function of that type without typeclass constraints.</p>

<hr>

<p>It turns out, you can sort-of-kind-of do something close(ish) to what you want using ConstraintKinds, but it's neither pretty to write nor pretty to use:</p>

<p>The idea is to parametrize <code>g</code> with constraints which specify which conditions need to be met by <code>x</code>, <code>y</code>, <code>u</code> and <code>v</code> and what the relationships between <code>x</code> and <code>u</code> and between <code>y</code> and <code>v</code> need to be. Since we don't need all those constraints in all cases, we also introduce two dummy typeclasses (one for constraints on individual parameters and one for the ""relationship constraints), so that we can use those as the constraints where no constraints are needed (GHC is not able to infer constraints if we don't specify them ourselves).</p>

<p>Some example constraints to make this more clear:</p>

<ul>
<li>If we pass in <code>id</code> as the function, <code>x</code> must be equal to <code>u</code> and <code>y</code> must be equal to <code>v</code>. There are no constraints on <code>x</code>, <code>y</code>, <code>u</code> or <code>v</code> individually.</li>
<li>If we pass in <code>show</code>, <code>x</code> and <code>y</code> must be instances of <code>Show</code> and <code>u</code> and <code>v</code> must be equal to <code>String</code>. There are no constraints on the relationship between <code>x</code> and <code>u</code> or <code>y</code> and <code>v</code>.</li>
<li>If we pass in <code>read . show</code>, <code>x</code> and <code>y</code> need to be instances of <code>Show</code> and <code>u</code> and <code>v</code> need to be instances of <code>Read</code>. Again no constraints on the relationships between them.</li>
<li>If we have a type class <code>Convert a b where convert :: a -&gt; b</code> and we pass in <code>convert</code>, then we need <code>Convert x u</code> and <code>Convert y v</code> and no constraints on individual parameters.</li>
</ul>

<p>So here's the code to implement this:</p>

<pre><code>{-# LANGUAGE Rank2Types, ConstraintKinds, FlexibleInstances, MultiParamTypeClasses #-}

class Dummy a
instance Dummy a

class Dummy2 a b
instance Dummy2 a b

g :: forall c. forall d. forall e. forall x. forall y. forall u. forall v.
     (c x, c y, d u, d v, e x u, e y v) =&gt;
     (forall a. forall b. (c a, d b, e a b) =&gt; a -&gt; b) -&gt; x -&gt; y -&gt; (u,v)
g p x y = (p x, p y)
</code></pre>

<p>And here's how to use it:</p>

<p>Using <code>show . read</code> to convert between different types of numbers:</p>

<pre><code>&gt; (g :: (Show x, Show y, Read u, Read v, Dummy2 x u, Dummy2 y v) =&gt; (forall a. forall b. (Show a, Read b, Dummy2 a b) =&gt; a -&gt; b) -&gt; x -&gt; y -&gt; (u,v)) (read . show) 1 2 :: (Double, Int)
(1.0,2)
</code></pre>

<p>Using <code>id</code>:</p>

<pre><code>&gt; (g :: (Dummy x, Dummy y, x~u, y~v) =&gt; (forall a. forall b. (Dummy a, Dummy b, a~b) =&gt; a -&gt; b) -&gt; x -&gt; y -&gt; (u,v)) id 1 2.0
(1,2.0)
</code></pre>

<p>Using <code>show</code>:</p>

<pre><code>&gt; (g :: (Show x, Show y, String~u, String~v, Dummy2 x u, Dummy2 x y) =&gt; (forall a. forall b. (Show a, String~b, Dummy2 a b) =&gt; a -&gt; b) -&gt; x -&gt; y -&gt; (u,v)) show 1 2.0
(""1"",""2.0"")
</code></pre>

<p>As you can see, this is horribly verbose and unreadable because you need to specify a signature for <code>g</code> every time you use it. Without this, I don't think it's possible to get GHC to correctly infer the constraints (or at least I don't know how).</p>
"
"<p>Just reading through <a href=""http://rads.stackoverflow.com/amzn/click/0198568614"">category theory book</a>, and decided to apply it to haskell.</p>

<p>The author defines Monoid as:</p>

<blockquote>
  <p>Monoid is a set L equipped with a binary operation *:LxL->L and a distinguished unit element u in L such that etc...</p>
</blockquote>

<p>Taking a ""List"" structure as a monoid, it is clear that binary operation is <code>concat</code> and unit is <code>[]</code>.</p>

<p>But what is the set M here?
I tried <code>L = {set of all lists}</code> but I think that leads me into trouble with ""is L in L?"" question, which seems to be the same problem as sets have.</p>

<p>Or am I thinking of something incorrectly?</p>

<p>EDIT: As pointed out by @applicative, Haskell's lists are monoids called the <a href=""http://en.wikipedia.org/wiki/Free_monoid"">Free monoids</a>!</p>
","149392","","<p>Instead of saying ""List is a Monoid"", it would be more accurate to say ""For all types a, the type <code>[a]</code> is a Monoid"". So for any particular type <code>a</code>, your L will be <code>L = {set of all lists of as}</code>. And with that definition, L can of course not contain itself.</p>
"
"<p>I have this newbie question: in Standard ML, how can you catch an exception like ""Error: unbound variable or constructor: foo""?</p>

<p>I tried to do this with the following program:</p>

<pre><code>(foo())
handle Error msg =&gt; ();
</code></pre>

<p>But REPL complains: ""Error: non-constructor applied to argument in pattern: Error""</p>

<p>Thanks in advance.</p>
","149392","","<p>First of all it's <code>handle Error =&gt; ...</code> (or <code>handle error =&gt; ...</code> or <code>handle TheSpecificExceptionIWantToCatch =&gt; ...</code>), not <code>handle Error msg =&gt; ...</code>. You can only write <code>handle Foo msg =&gt; ...</code> if <code>Foo</code> is a constructor with one argument, which, as the error message suggests, <code>Error</code> is not.</p>

<p>Secondly ""unbound variable"" is a compilation error, not an exception, so it can't be caught.</p>
"
"<pre><code>(defparameter *objects* '(whiskey bucket frog chain))

(defparameter *object-locations* '((whiskey living-room)
                                   (bucket living-room)
                                   (chain garden)
                                   (frog garden)))

(defun objects-at (loc objs obj-locs)
  (labels ((at-loc-p (obj)
             (eq (cadr (assoc obj obj-locs)) loc)))
    (remove-if-not #'at-loc-p objs)))

(objects-at 'living-room *objects* *object-locations*)
</code></pre>

<p>returns <code>(WHISKEY BUCKET)</code> in REPL.</p>

<p>How is <code>obj</code> getting passed into <code>at-loc-p</code>? None of the parameters for <code>objects-at</code> is named <code>obj</code>.</p>
","149392","","<p>None of the parameters of <code>objects-at</code> is named <code>obj</code>, but one of the parameters (in fact the only parameter) of <code>at-loc-p</code> is. So when <code>at-loc-p</code> is called with an argument (by <code>remove-if-not</code>), that argument will be passed to <code>at-loc-p</code> with the name <code>obj</code>.</p>
"
"<p>I am working on a program in LISP, using CLISP to run the program.</p>

<p>My function has a while statement in it, but CLISP is returning</p>

<pre><code>*** - EVAL: undefined function WHILE
</code></pre>

<p>Function is nothing fancy, </p>

<pre><code>(defun heap-insert (heap item key)
  ""Put an item into a heap. [Page 150 CL&amp;R].""
  ;; Note that ITEM is the value to be inserted, and KEY is a function
  ;; that extracts the numeric value from the item.
  (vector-push-extend nil heap)
  (let ((i (- (length heap) 1))
    (val (funcall key item)))
    (while (and (&gt; i 0) (&gt;= (heap-val heap (heap-parent i) key) val))
      do (setf (aref heap i) (aref heap (heap-parent i))
               i (heap-parent i)))
        (setf (aref heap i) item)))
</code></pre>
","149392","","<p>There's no function or macro (or ""statement"") with the name <code>while</code> in Common Lisp, so CLISP is right to give you that error message.</p>

<p>Maybe you meant to use the <code>loop</code> macro, which accepts <code>while</code> as part of its syntax.</p>
"
"<p>I am just starting to learn SML and having issues with my code. I want to compare an int with List of ints and return a list of numbers less than my int</p>

<pre><code> fun less(e, L): L =
  if L = [] then []
  else (hd[L] &lt; e :: less tl(hd))
</code></pre>

<p>I want to return a list of all numbers less than e by comparing it to the list L. What I'm I doing wrong?</p>
","149392","","<pre><code>hd[L] &lt; e :: less tl(hd)
</code></pre>

<p>First of all <code>less tl(hd)</code> is the same as just <code>less tl hd</code> or <code>(less tl) hd</code>. Writing <code>f g(x)</code> does not mean ""apply g to x and f to the result"". For that you'd need to write <code>f (g x)</code>. In general putting parentheses around atomic expressions won't change anything and by leaving out the space before the opening parentheses, you make the syntax look like something it's not, so you should avoid that.</p>

<p>Then <code>tl hd</code> simply doesn't make much sense as <code>hd</code> is a function and <code>tl</code> expects a list. You probably meant to apply <code>tl</code> to <code>L</code>, not to <code>hd</code>.</p>

<p>Then <code>hd [L]</code> takes the first element of the list <code>[L]</code>. <code>[L]</code> is a list with a single element: <code>L</code>. So writing <code>hd [L]</code> is the same thing as just writing <code>L</code>. You probably meant tot take the head of <code>L</code>. For that you'd just write <code>hd L</code> without the brackets.</p>

<p>Now the problem is that you're trying to prepend the result of <code>(hd L) &lt; e</code>, which is a boolean, to the list. This will work (as in compile and run without error), but it will result in a list of booleans (which will contain a <code>true</code> for any element less than e and a <code>false</code> for any other element). That's not what you said you wanted. To get what you want, you should have an <code>if</code> which appends the head to the list if it is less than <code>e</code> and doesn't prepend anything when it's not.</p>

<p>Fixing these problems should make your code work as intended.</p>

<p>PS: Usually it's preferred to use pattern matching to find out whether a list is empty and to split a non-empty list into its head and tail. The functions <code>hd</code> and <code>tl</code> are best avoided in most circumstances and so is <code>= []</code>. However if you haven't covered pattern matching yet, this is fine for now.</p>

<p>PPS: You can do what you want much more easily and without recursion by using the <code>filter</code> function. But again: if you haven't covered that yet, your way is fine for now.</p>
"
"<p>Exception IO has structure:</p>

<pre><code>Exception IO of {
name: string
....
...}
</code></pre>

<p>some other arguments that I do not understand.</p>

<p>Do I have to assign all these. I mean what do I do after this?</p>

<pre><code>exception IO of {inputfile}
</code></pre>

<p>I usually define exception and then raise. but I do not even define an exception this way.</p>

<p>All I want to do is raise an exception if input file is not existant. What do I do here?</p>

<p>Thank You</p>
","149392","","<p>Yes, you have to supply all three fields when creating an exception of type Io. The meanings of the fields are explained in <a href=""http://www.standardml.org/Basis/io.html#IO%3aSIG%3aSPEC"" rel=""nofollow"">the documentation</a>:</p>

<blockquote>
  <p>This is the principal exception raised when an error occurs in the I/O subsystem. The components of Io are:</p>
  
  <ul>
  <li>name: The name component of the reader or writer. </li>
  <li>function: The name of the function raising the exception. </li>
  <li>cause: The underlying exception raised by the reader or writer, or detected at the stream I/O level.</li>
  </ul>
  
  <p>Some of the standard causes are:</p>
  
  <ul>
  <li>OS.SysErr if an actual system call was done and failed.
  *Subscript if ill-formed arguments are given.</li>
  <li>BlockingNotSupported</li>
  <li>NonblockingNotSupported</li>
  <li>ClosedStream </li>
  </ul>
  
  <p>The cause field of Io is not limited to these particular exceptions. Users who create their own readers or writers may raise any exception they like, which will be reported as the cause field of the resulting Io exception.</p>
</blockquote>

<p>Note that <code>openIn</code> already raises an <code>Io</code> exception if the file does not exist (with <code>""openIn""</code> as the function, the filename as the name and a <code>SysErr</code> as the cause), so there's no need for you to raise your own.</p>
"
"<p>Suppose I have a function that returns a certain value when it satisfies a given condition and does not return any value when the condition is not satisfied.</p>

<p>e.g.</p>

<p>fun foo(n)= if n&lt; 100000 then n else (something like exit function. We have it in other programming languages. Do we have something like that here?)</p>

<p>I initially wanted to write () but it says mismatch in two conditions of if or something. </p>

<p>Becoming more explicit, I want to write a function that takes a number, any number and combines to a list if it is valid integer and disregards it if it is not integer.</p>
","149392","","<p>In SML a function always has to return a value¹. One way to represent a function that may or may not have a useful result would be using the <code>OPTION</code> type. Using <code>OPTION</code> your function would return <code>SOME value</code> if it has something useful to return, or <code>NONE</code> if it does not.</p>

<p>For your particular use-case another alternative would be to take the list as a second argument and then either return the result prepended to the list or the list unchanged.</p>

<p>¹ In fact I'm not aware of any language where a non-void function is allowed to not return a value (without invoking undefined behavior). In some languages you can return <code>null</code> in place of a proper return value, but in most languages that isn't allowed for functions with return type <code>int</code>. Either way SML doesn't have a null value.</p>
"
"<p>Is there a output in textIO signature to write integers to a file? output only writes vectors, outputsstring writes substrings and output1 writes only characters. My problem with not using vectors is I have to write each integer into a line in the output file.</p>

<p>I am having tough time with SML.</p>

<p>Thank You.</p>
","149392","","<p>To write an int to a file as a string, just convert it to a string using <code>Int.toString</code> and then write the string to the file.</p>

<p>To write a number to a file as a byte, use BinIO instead of TextIO. As the name suggests TextIO is for dealing with text - not binary data.</p>
"
"<p>I have just begun to write OCaml code lately hence this might be a naive question.But i could not figure this out myself.</p>

<p>I have the following type declaration in OCaml.</p>

<pre><code>type myType =
| Int of int 
</code></pre>

<p>Now i have an object of type myType. </p>

<p>Is there a way to access the value of int that this object holds? If yes, how?</p>
","149392","","<p>You can access the value using pattern matching:</p>

<pre><code>match value_of_my_type with
| Int i -&gt; do_something_with i
</code></pre>
"
"<p>I'm using the <code>-XExistentialQuantification</code> GHC extension to create a heterogeneous container for values of a specific type class (<code>Shape</code>):</p>

<pre><code>-- Container type
data Object = forall a. Shape a =&gt; Object a

-- 'Shape' class. Methods not important
class Eq s =&gt; Shape s where
    doStuff :: s -&gt; s
</code></pre>

<p>Given that all instances of <code>Shape</code> are also instances of <code>Eq</code>, is there a way to make <code>Object</code> an instance of <code>Eq</code> as well?</p>
","149392","","<p>A value of a type which implements <code>Eq</code> can only be compared with another value of the same type - not of any other type that implements <code>Eq</code>. So if you have two values of different types, you can't compare them even if they're both instances of <code>Shape</code> (and thus <code>Eq</code>). Therefore it's also impossible to have an <code>Eq</code> instance for <code>Object</code> as an <code>Object</code> can contain values of different types - at least using the types' Eq instances.</p>

<p>What you'd need would be a function of type <code>(Shape a, Shape b) =&gt; a -&gt; b -&gt; Bool</code> that can be used to compare any shape to any other shape. If you have such a function, you can use that to create an <code>Eq</code> instance for <code>Object</code>. However you won't be able to define such a function in a way that's consistent with the types' <code>Eq</code> instances.</p>
"
"<p>My interpretation of <code>_._1</code> is: </p>

<p><code>_</code> = wildcard parameter
<code>_1</code> = first parameter in method parameter list
But when used together with <code>.</code> what does it signify?</p>

<p>This is how its used : </p>

<pre><code>.toList.sortWith(_._1 &lt; _._1)
</code></pre>

<p>For this statement: </p>

<pre><code>_++_
</code></pre>

<p>I'm lost. Is it concatenation two wildcard parameters somehow? 
This is how its used: </p>

<pre><code>.reduce(_++_)
</code></pre>

<p>I would be particularly interested if they above code could be made more verbose and remove any implicits, just so I can understand it better?</p>
","149392","","<p><code>_1</code> is a method name. Specifically tuples have a method named <code>_1</code>, which returns the first element of the tuple. So <code>_._1 &lt; _._1</code> means ""call the _1 method on both arguments and check whether the first is less than the second"".</p>

<p>And yes, <code>_++_</code> concatenates both arguments (assuming the first argument has a <code>++</code> method that performs concatenation).</p>
"
"<pre><code>import Data.ByteString as B
import Data.ByteString.Internal as I
import Data.Bits
main = do input &lt;- getLine
      let bs = B.pack input
      let intermediatebs  =  unfoldrN ((B.length bs)*2) unfld 0
      where unfld i
      |Prelude.rem i 2 == 0 = Just (top4 $ B.index bs (i/2) , i+1)
      |otherwise =  Just (bottom4 $ B.index bs (i/2) , i+1)
      top4bits x = shiftR x 4
      bottom4bits x = x .&amp;. 0x0F
      top4 x = convertASCIIword8 $ top4bits x
      bottom4 x = convertASCIIword8 $ bottom4bits x
      convertASCIIword8 x
      |x &lt;= 9 = I.c2w '0' + x
      |otherwise = I.c2w 'A' + (x-10)
      let outputbs = B.map I.w2c $ intermediatebs
      in do putStrLn (outputbs)
</code></pre>

<p>i am getting this compilation error
The last statement in a 'do' construct must be an expression:
    let intermediatebs = unfoldrN ((B.length bs) * 2) unfld 0</p>
","149392","","<p>The error message is not caused by an indentation error so much as an ordering error. You seem to have inserted the <code>where</code>-block in the middle of your <code>do</code>-block. That does not work. The entire <code>do</code>-block, including the final expression, should come before the <code>where</code> block.</p>

<p>That said, you do have indentation error in your definitions inside your <code>where</code>-block: you need to indent the pattern guards.</p>
"
"<p>I am learning Prolog and what i want is to do a simple ""calculation""(i dont know how its called in Prolog) of the members of a simle family.</p>

<p>For example i have:</p>

<pre><code> 1)father of steve is petter
 2)brother steve is john
 3)A person is a son to a Father when the brother of the person has  as father the Father
</code></pre>

<p>(it seems funny and completely out of logic  when its out of my mind :)  )</p>

<pre><code>father(steve,petter).
brother(john,steve).
father(X,Y):-brother(X,Z),father(Z,Y)).
</code></pre>

<p>and my question is who is the father of john(the correct awnser would be petter)</p>

<pre><code>?-father(john,X).
</code></pre>

<p>But it always giving me false.</p>
","149392","","<p>When you enter <code>father(john, X).</code>, it starts by trying to find a <code>Z</code> such that <code>brother(john, Z)</code> is true. No such <code>Z</code> exists, so it returns false.</p>

<p>Note that <code>brother(steve, john)</code> does not imply <code>brother(john, steve)</code> unless you tell Prolog that it should.</p>
"
"<p>Can someone explain meaning and difference of <code>keep</code> function from simple <code>map(array, fun)</code></p>

<pre><code>var array = [1, 2, 3, 4];
var even = function (x) { return x % 2 === 0; };

array.map(even);
</code></pre>

<p><a href=""http://clojuredocs.org/clojure_core/clojure.core/keep"" rel=""nofollow"">Description of keep function in Closure docs</a></p>
","149392","","<p>Look at this example from the docs you linked:</p>

<pre><code>user&gt; (keep #(if (odd? %) %) (range 10))
(1 3 5 7 9)
user&gt; (map #(if (odd? %) %) (range 10))
(nil 1 nil 3 nil 5 nil 7 nil 9)
</code></pre>

<p>As you can see <code>keep</code> does not include <code>nil</code> values in the resulting list - <code>map</code> does.</p>
"
"<p>Can anyone please explain to me how to figure out the type of the following function, fold, as defined below?</p>

<pre><code>fun fold func [] base = base
|   fold func (x::xs) base = fold func xs (func x base);
</code></pre>

<p>My answer is 'c->'a list->'b->'b, but I see that after plugging in the code to my SML program that the type should actually be ('a->'b->'b)->'a list->'b->'b. </p>

<p>I understand where the 'a list->'b->'b comes from, but the first part is confusing me.  Is it because func takes two arguments, an 'a and a 'b, and returns the type of base, which is 'b?</p>

<p>Any help would be greatly appreciated.</p>
","149392","","<blockquote>
  <p>Is it because func takes two arguments, an 'a and a 'b, and returns the type of base, which is 'b?</p>
</blockquote>

<p>Yes, exactly.</p>

<p>If the first part were just <code>'c</code> as you first assumed, that would mean the first argument to <code>fold</code> could be any value - an <code>int</code> for example. Clearly it should not be legal to pass in an <code>int</code> (or anything else that isn't a function) as the first argument to <code>func</code>, so the first argument needs to have a type that tells the type system to only allow functions for this argument.</p>

<p>And in fact it should not just allow any functions, but only functions of the appropriate type. And the appropriate type for <code>func</code> is <code>'a -&gt; 'b -&gt; 'b</code> for the reasons you state above.</p>
"
"<p>I feel like this should be easier than I'm making it, but I'm having some trouble with this function that should change a set to a list.</p>

<pre><code>fun explode(st(x, xs)) =
    let
        val listTemp = []
    in
        if isEmpty(xs) then listTemp::x else explode(xs)::x
    end
  | explode(nilset) = [];
</code></pre>

<p>I'm getting a type clash, saying I'm trying to go from <code>''a list list</code> to <code>''a list</code>.  Any help would be much appreciated.</p>

<p>edit: said ''a list -> ''a list list... oops.</p>
","149392","","<p>The left operand of the <code>::</code> operator should be an element and the right operand a list. You're using it with a list as the left operand and an element as the right operand. That's the type error.</p>

<p>Assuming the order of the generated list does not matter, you can simply switch the operands. If it does matter, you can still switch the operands and then use <code>List.rev</code> to reverse the resulting list after building the complete list.</p>
"
"<p>Parse errors are currently my least favorite type of Haskell error. So I'm writing a function where I  get a list of pairs where the second component contains some variables (this is determined by <code>vars</code> which I previously defined in my code as <code>vars :: a -&gt; [String]</code>. If the list is empty then there aren't any free variables and the substitution is considered solved.</p>

<p>I've done this but I'm getting a <code>parse error on '|'</code></p>

<pre><code>solved :: Subst a -&gt; Bool
solved xs = null [(S(xs,d) | (S(xs,d)) &lt;- xs, not (null (vars d)))]
</code></pre>

<p>I previously defined my data type as </p>

<pre><code>data Subst a = S [(String,a)]
</code></pre>

<p>I despise parse errors because it takes forever to figure out whats wrong (lol). Any ideas from anyone?</p>
","149392","","<p>You're getting the parse error because the <code>|</code> is inside a pair of parentheses - it needs to be directly inside the square brackets of the list comprehension to be syntactically valid.</p>

<p>After fixing that, you'll get a type error because your type signature says that your function takes a <code>Subst a</code>, but you're treating your argument like a list.</p>

<p>I also suspect that you'll run into problems with your <code>vars</code> function since there can't really be a sensible function of type <code>a -&gt; [String]</code> (where by ""sensible"" I mean one that doesn't just return the same list of strings for every argument).</p>
"
"<p>I'm having a hard time understanding Higher Kind vs Higher Rank types. Kind is pretty simple (thanks Haskell literature for that) and I used to think rank is like kind when talking about types but apparently not! I read the Wikipedia article to no avail. So can someone please explain what is a Rank? and what is meant by Higher Rank? Higher Rank Polymorphism? how that comes to Kinds (if any) ? Comparing Scala and Haskell would be awesome too. </p>
","149392","","<p>The concept of rank is not really related to the concept of kinds.</p>

<p>The rank of a polymorphic type system describes where <code>forall</code>s may appear in types. In a rank-1 type system <code>forall</code>s may only appear at the outermost level, in a rank-2 type system they may appear at one level of nesting and so on.</p>

<p>So for example <code>forall a. Show a =&gt; (a -&gt; String) -&gt; a -&gt; String</code> would be a rank-1 type and <code>forall a. Show a =&gt; (forall b. Show b =&gt; b -&gt; String) -&gt; a -&gt; String</code> would be a rank-2 type. The difference between those two types is that in the first case, the first argument to the function can be any function that takes one showable argument and returns a String. So a function of type <code>Int -&gt; String</code> would be a valid first argument (like a hypothetical function <code>intToString</code>), so would a function of type <code>forall a. Show a =&gt; a -&gt; String</code> (like <code>show</code>). In the second case only a function of type <code>forall a. Show a =&gt; a -&gt; String</code> would be a valid argument, i.e. <code>show</code> would be okay, but <code>intToString</code> wouldn't be. As a consequence the following function would be a legal function of the second type, but not the first (where <code>++</code> is supposed to represent string concatenation):</p>

<pre><code>higherRankedFunction(f, x) = f(""hello"") ++ f(x) ++ f(42)
</code></pre>

<p>Note that here the function <code>f</code> is applied to (potentially) three different types of arguments. So if <code>f</code> were the function <code>intToString</code> this would not work.</p>

<p>Both Haskell and Scala are Rank-1 (so the above function can not be written in those languages) by default. But GHC contains a language extension to enable Rank-2 polymorphism and another one to enable Rank-n polymorphism for arbitrary n.</p>
"
"<p>I've written a Haskell function like so:   </p>

<pre><code>shift :: Subst a -&gt; Subst a
shift (S s) = [(x, (subst s' d)) | (x,d) &lt;- s] where 
      s' = [(x,d) | (x,d) &lt;- s, null (vars d)]
</code></pre>

<p>With a data type like so <code>data Subst a = S [(String,a)]</code></p>

<p>I've declared <code>subst</code> as <code>subst :: Subst a -&gt; a -&gt; a</code> and <code>vars</code> as<code>vars :: a -&gt; [String]</code>. When I run this, I get a type error. Any ideas why?</p>
","149392","","<p>Your <code>shift</code> function is declared to return a <code>Subst</code>, but it really returns a list. You probably meant to wrap the <code>Subst</code> constructor around the list.</p>

<p>Then your <code>subst</code> function is declared to take a <code>Subst</code> argument, but you're calling it with a list - same issue basically.</p>

<p>Also your <code>vars</code> function probably contains a type error as well because, as I indicated in my answer to your previous question, you can't define a meaningful function of type <code>a -&gt; [String]</code>.</p>
"
"<p>I keep getting</p>

<pre><code>Forward reference extends over definition of value a
</code></pre>

<p>error while trying to compile my application (inside SBT).</p>

<p><code>a</code> is just <code>val a = """"</code>, the error is triggered by accessing a particular parameter (of the function) right before <code>a</code> definition. The parameter is of a simple case class type with all three fields of <code>Option[...]</code> type (2 of <code>Option[org.joda.time.DateTime]</code> and 1 of Option of an enumeration value).</p>

<p>What can ""Forward reference extends over definition of value"" mean at all and what can be the ways to fight it?</p>
","149392","","<p>The error message means that you have a forward reference to a method, i.e. you're calling a method before you define it, and that the definition of the value <code>x</code> appears between that forward reference and the definition of the method. It is only legal to have forward references if there are no value definition between the reference and the referred method definiton.</p>
"
"<p>The code: </p>

<pre><code>(defun len (x count)
  (cond ((null x) ())
        (t (+ count 1)
           (len (cdr x)))))
</code></pre>

<p>I try to call this function with (len '(a b c) 0) and I get an error saying that I'm only sending the function one argument and it requires two.</p>

<p>What am I doing wrong? I'm especially confused because I ran the function once with no errors using this exact same code, but then it decided that it didn't want to work anymore.</p>
","149392","","<p>The <code>(len '(a b c) 0)</code> has the right number of arguments, however your recursive call inside the function, <code>(len (cdr x))</code>, does not. It's missing a second argument for the count.</p>

<p>On a related note, you're calculating <code>(+ count 1)</code>, but then not doing anything with the result of the calculation.</p>
"
"<p>It's either a simple identifier (like <code>cow</code>) something surrounded by brackets (<code>(...)</code>) something that looks like a method call (<code>...(...)</code>) or something that looks like a member access (<code>thing.member</code>):</p>

<pre><code>def expr = identifier | 
           ""("" ~&gt; expr &lt;~ "")"" | 
           expr ~ (""("" ~&gt; expr &lt;~ "")"") | 
           expr ~ ""."" ~ identifier
</code></pre>

<p>It's given in Scala Parser Combinator syntax, but it should be pretty straightforward to understand. It's similar to how expressions end up looking in many programming languages (hence the name <code>expr</code>) However, as it stands, it is left-recursive and causes my nice PEG parser to explode. </p>

<p>I have not succeeded in factoring out the left-recursion while still maintaining correctness for cases like <code>(cow.head).moo(dog.run(fast))</code>. How can I refactor this, or would I need to shift to some parser-generator that can tolerate left recursive grammars?</p>
","149392","","<p>The trick is to have multiple rules where the first element of each rule is the next rule instead of being a recursive call to the same rule, and the rest of the rule is optional and repeating. For example the following would work for your example (not using Scala generator notation because I don't know it):</p>

<pre><code>expr ::= method_call
method_call ::= member_access ( ""("" expr "")"" )*
member_access ::= atomic_expression ( ""."" identifier)*
atomic_expression ::= identifier | ""("" expr "")""
</code></pre>
"
"<p>I am new to SML.
How do I use the AND operator inside IF statements?
Here is my code:</p>

<pre><code>val y = 1;
val x = 2;
if (x = 1 AND y = 2) then print (""YES "") else print(""NO "");
</code></pre>

<p>My error is:
stdIn:66.9-67.3 Error: unbound variable or constructor: AND
stdIn:66.3-67.9 Error: operator is not a function [literal]
  operator: int
  in expression:
    1 
stdIn:66.3-67.9 Error: operator and operand don't agree [literal]
  operator domain: bool * bool
  operand:         bool * int
  in expression:
    x = (1 ) y = 2</p>

<p>Thank you</p>
","149392","","<p>There is no <code>AND</code> operator in SML (unless you define one yourself). There is an <code>and</code> keyword, but you can't use it inside <code>if</code> statements (or generally as a part of any expression) because it's not an operator. It's used in combination with <code>fun</code> to define mutually recursive functions.</p>

<p>You're probably looking for the <code>andalso</code> operator, which takes two boolean operands and returns true if and only if both operands are true.</p>
"
"<p>I recently found out that I can use any dialect of Lisp for the functional programming course at school, if it follows the Common Lisp standard. Does Clojure follow this standard? Is it too different?</p>
","149392","","<p>Clojure is its own language - not an implementation of the Common Lisp language. So it does not follow the Common Lisp standard.</p>
"
"<p>Consider what follows to be my code</p>

<pre><code> import Data.Char
 import Data.List

-- square
square :: Int -&gt; Int
square n = n * n
</code></pre>

<p>Although this square functions looks neat and clear, when I run it</p>

<pre><code>ghci ./square.hs
</code></pre>

<p>It returns</p>

<pre><code>[1 of 1] Compiling Main             ( ./LabSheet1-solns.hs, interpreted )

./LabSheet1-solns.hs:5:1:
    parse error on input `square'
Failed, modules loaded: none.
</code></pre>

<p>There should probably be something wrong with my interpreter.</p>

<p>I am running on OS X 10.8.1</p>

<pre><code>$ ghci --version
The Glorious Glasgow Haskell Compilation System, version 7.4.2
</code></pre>

<p>Any clue?</p>
","149392","","<p>Your <code>import</code> statements are indented by one space. This basically sets ""one space"" as the base indentation level for the file. Since your definition of <code>square</code> is not indented by one space, you get a syntax error.</p>

<p>To fix the problem, either indent all lines by one space, or preferably don't indent the <code>import</code> statements.</p>
"
"<p>How to use polymorphism in functional programming (with dynamic type system)?</p>

<p>Let's consider following example (first in OOP second in FP). The program is very simple - there are list of figures and we need to draw all of them, different figures use different drawing algorithms.</p>

<p>In OOP it can be done trivially, but how to do it in FP? Especially in languages with dynamic type system, like Scheme, Clojure (without static type resolving at compile time)?</p>

<p>I created simple code ( live version <a href=""http://tinkerbin.com/0C3y8D9Z"">http://tinkerbin.com/0C3y8D9Z</a> , press 'Run' button ). I used if/else switch in FP sample, but it's a very bad approach. How such problem can be solved better? </p>

<p>Samples are in JavaScript, but it's only for purpose of simplicity, it would be interesting to see a solution in any functional language with dynamic typing system.</p>

<p><strong>OOP</strong></p>

<pre><code>var print = function(message){document.write(message + ""\n&lt;br/&gt;"")}

// Object Oriented Approach.
var circle = {
  draw: function(){print(""drawing circle ..."")}
}
var rectangle = {
  draw: function(){print(""drawing rectangle ..."")}
}

var objects = [circle, rectangle]
objects.forEach(function(o){
  o.draw()
})
</code></pre>

<p><strong>FP</strong></p>

<pre><code>var print = function(message){document.write(message + ""\n&lt;br/&gt;"")}

// Functional Approach.
var circle = {type: 'Circle'}
var drawCircle = function(){print(""drawing circle ..."")}

var rectangle = {type: 'Rectangle'}
var drawRectangle = function(){print(""drawing rectangle ..."")}

var objects = [circle, rectangle]
objects.forEach(function(o){
  if(o.type == 'Circle') drawCircle(o)
  else if(o.type == 'Rectangle') drawRectangle(o)
  else throw new Error('unknown type!')
})
</code></pre>
","149392","","<p>There really isn't anything non-functional about your first code sample. Even in languages that have no support for object orientation, you can do the same thing. That is you can create a record/structure/map that contains functions and then put those into your list.</p>

<p>In your simple example where there's only one function, you could also just create a list of functions directly, like <code>objects = [drawCircle, drawRectangle]</code>.</p>
"
"<p>Wondering if you can comment on why following two scenarios behave differently:</p>

<p>The following works:</p>

<pre><code>var la= List(12, 13 , 14 ,15);
var func = (x:Int) =&gt; println(x)
la.foreach(func)                   // 1
la.foreach(func(_))                // 2
</code></pre>

<p>But the following does not:</p>

<pre><code>var la= List(12, 13 , 14 ,15);
var func1 = (x:Int) =&gt; {
    for (i &lt;- 0 to x) yield i*2
 } mkString
la.foreach(println(func1))         // similar to 1 above
la.foreach(println(func1(_)))      // similar to 2 above
</code></pre>

<p>error: type mismatch;
 found   : Unit
 required: Int => ?
la.foreach(println(func1(_)))</p>
","149392","","<p>In the second code snippet, you're calling <code>println</code> with a function as its argument and then trying to pass the result of that call as an argument to <code>foreach</code>. Since <code>println</code> does not return a function, but <code>foreach</code> wants one, that does not work.</p>
"
"<p>In <code>OCaml</code>, we have two kinds of <code>equity comparisons</code>:</p>

<p><code>x = y</code> and <code>x == y</code>,</p>

<p>So what's exact the difference between them?</p>

<p>Is that <code>x = y</code> in ocaml just like <code>x.equals(y)</code> in Java? </p>

<p>and <code>x == y</code> just like <code>x == y (comparing the address)</code> in Java?</p>
","149392","","<blockquote>
  <p>Is that x = y in ocaml just like x.equals(y) in Java?</p>
  
  <p>and x == y just like x == y (comparing the address) in Java?</p>
</blockquote>

<p>Yes, that's it. Except that in OCaml you can use <code>=</code> on every kind of value, whereas in Java you can't use <code>equals</code> on primitive types. Another difference is that floating point numbers in OCaml are reference types, so you shouldn't compare them using <code>==</code> (not that it's generally a good idea to compare floating point numbers directly for equality anyway).</p>

<p>So in summary, you basically should always be using <code>=</code> to compare any kind of values.</p>
"
"<p>This is confusing but working code. I just want some help in understanding why k::ks is taken as a'list list list and not a'list list.
I want to take a list and a list of lists and check whether the first list is necessary.
By necessary I mean, whether all of the elements on first list can be found in another.</p>

<pre><code>fun do1(a,[],_)=false
|do1(a,k::ks,n)=if a=List.nth(k,n)orelse do1(a,ks,n) then true else false;

val n=0;
fun do2([],k::ks,_)=[]
|do2(_,[],_)=raise unexpected
|do2(l,k::ks,n)=if List.nth(l,n-1)=0 then do2(l,k::ks,n+1)
                        else 
                        if do1(l,k::ks,n) then []
                        else l;
</code></pre>

<p>Question Repeated:  I just want some help in understanding why k::ks is taken as a'list list list and not a'list list.</p>

<p>Thank You.</p>
","149392","","<p>In the definition of <code>do2</code>, <code>l</code> is a list. <code>do2</code> then calls <code>do1</code> with <code>l</code> as the first argument, so the first parameter of <code>do1</code>, <code>a</code>, is also a list. Now on line 2, you do <code>a = List.nth(k,n)</code>. So since <code>a</code> is a list, <code>List.nth(k,n)</code> must also be a list. This means that <code>k</code> must be a list of lists. And that in turn means that <code>k::ks</code> must be a list of lists of lists.</p>

<p>PS: Generally when trying to find out why the compiler infers a different type than expected, it helps to add type annotations to your function definitions. Often the resulting type errors will give you a much clearer idea of where the compiler's opinion of the types involved starts to differ from yours.</p>
"
"<p>I am learning <a href=""http://www.cs.caltech.edu/courses/cs134/cs134b/book.pdf"">Jason Hickey's Introduction to Objective Caml</a>. Just have a question about the expression thing.</p>

<hr>

<p>So it says:</p>

<p><code>Definitions using let can also be nested using the in form.</code></p>

<p><code>let identifier = expression1 in expression2</code>
<code>
The expression expression2 is called the body of the let. The variable named identifier
is defined as the value of expression1 within the body. The identifier is defined only in
the body expression2 and not expression1.</code></p>

<p><code>A let with a body is an expression; the value of a let expression is the value of
the body.</code></p>

<pre><code>let x = 1 in
    let y = 2 in
        x + y;;


let z =
    let x = 1 in
        let y = 2 in
            x + y;;
</code></pre>

<p><code>val z : int = 3</code></p>

<hr>

<p>Ok. I don't understand much about the above statements. </p>

<h3>First</h3>

<p><code>The variable named identifier
is defined as the value of expression1 within the body. The identifier is defined only in
the body expression2 and not expression1.</code></p>

<p>What does this mean? So <code>identifier</code> is <code>the value of expression1</code>, but only in the body <code>expression2</code>? Does it mean that <code>identifier</code> is effective only in <code>expression2</code>but has the value of <code>expression1</code>? Then does defining <code>identifier</code> make sense, as it is only in <code>expression2</code>?</p>

<h3>Second</h3>

<p>Let's see the example: </p>

<pre><code>let x = 1 in
    let y = 2 in
        x + y;;
</code></pre>

<p>So I don't see the point of this <code>let</code> statement. <code>x = 1</code> for sure, what's the point of giving a body of <code>let y=2 in x+y;;</code>?</p>

<h3>Third</h3>

<p>let z =
    let x = 1 in
        let y = 2 in
            x + y;;</p>

<p>So how can I sort out the logic of this statement?</p>

<p>if take this definition form: <code>let identifier = expression1 in expression2</code></p>

<p>What's the <code>expression1</code> in the <code>let</code> statement above? Is it <code>let x = 1</code>?</p>

<hr>

<p><strong>Can anyone tell me the logic of <code>nesting let</code> in a kind of <code>Java</code> way? or more understandable way?</strong></p>
","149392","","<blockquote>
  <p>What does this mean? So identifier is the value of expression1, but only in the body expression2? Does it mean that identifier is effective only in expression2, but has the value of expression1?</p>
</blockquote>

<p>Yes. When I do <code>let x = 42 in x+x</code>, then <code>x</code> has the value <code>42</code> in the expression <code>x+x</code>, but <code>x</code> doesn't have any value outside of the <code>let</code> expression. So if you typed something like this in the interpreter:</p>

<pre><code>let x = 42 in x+x;;
x*2;;
</code></pre>

<p>The result of <code>x+x</code> would be <code>84</code>, but the result of <code>x*2</code> would be an error because <code>x</code> is not defined in that scope.</p>

<blockquote>
  <p>Then does defining identifier make sense, as it is only in expression2?</p>
</blockquote>

<p>Sure, why not? I mean in this specific example where <code>x</code> is defined to be a single number, it might not make all that much sense, but in a real world scenario, it would probably be a larger expression and not having to repeat it multiple times becomes a big advantage.</p>

<p>Also <code>expression1</code> might have side-effects that you only want to execute once (e.g. if you want to assign user-input to a variable).</p>

<blockquote>
  <p>So I don't see the point of this let statement. x = 1 for sure, what's the point of giving a body of let y=2 in x+y;;?</p>
</blockquote>

<p>You mean: why not just write <code>1+2</code>? Again, in a real world scenario you'll have more complicated expressions and you don't want to have them all on one line. Also giving names to values generally increases readability (though not really in this example).</p>

<blockquote>
  <p>let z = let x = 1 in let y = 2 in x + y;;</p>
  
  <p>What's the expression1 in the let statement above? Is it let x = 1?</p>
</blockquote>

<p>Here <code>let z = ...</code> is a <code>let</code> statement, i.e. it defines the name <code>z</code> globally and doesn't have a body. So the entire expression to the right of the first <code>=</code> is the value of <code>z</code>. For the <code>let x = ... in ...</code> bit, <code>1</code> is the <code>expression1</code> and <code>let y = 2 in x+y</code> is the <code>expression2</code>. And for <code>y</code> <code>2</code> is the <code>expression1</code> and <code>x+y</code> is the <code>expression2</code>.</p>
"
"<p>I want to create a button which, when pressed, adds a new input (or textarea) to the form.</p>
","149392","","<p>If you want a text field to be added each time the button is clicked, that means that you want the number of displayed text fields to be equal to the number of times the button has been clicked. We can create a signal that tells us how often the button has been clicked by using the <code>countIf id</code> on the button's <code>clicked</code> signal¹.</p>

<p>If we have a list of inputs, we can use <code>flow</code> to display them beneath (or besides) each other. It is fairly straight forward to write a function that takes a number <code>n</code> and produces a list containing a button and <code>n</code> text fields.</p>

<p>So now we can just use <code>lift</code> to hook that function up to our signal that counts the number of button clicks, combine that with the <code>flow</code> function, and voilà, we have a button that dynamically creates inputs.</p>

<pre class=""lang-hs prettyprint-override""><code>(btn, clicked) = Input.button ""Click me!""

-- Count how often the clicked signal is true
clicks = countIf id clicked

main = lift2 flow (constant down) $ lift nInputs clicks

nInputs n =
  let helper n acc =
    if n&lt;=0 then btn : acc
    else
      -- Input.textField returns a pair containing the field as well as a signal
      -- that you can use to access the field's contents. Since I don't actually
      -- ever do anything with the contents, I just ignore the signal here.
      -- In your real code, you'd probably want to keep the signal around as well.
      let (field, _) = Input.textField $ ""input "" ++ (show n)
      in helper (n-1) $ field : acc
  in helper n []
</code></pre>

<p>¹  Just using <code>count</code> would count how often the signal changes. Since each click causes the signal's value to change to true and then right back to false, that would count 2 changes per click. By using <code>countIf id</code> we only count the number of times the signal is true and thus the number of clicks.</p>
"
"<p>I'm learning accumulation and foldr but something in my code is wrong. I'd like compare elements in all the list but foldr use only first and second element. Here is my code:</p>

<pre><code>(define accum?
  (lambda (list1 pre?)
  (foldr (lambda (x y) 
               (if (pre? (car list1) (cadr list1)) #t #f))
         #f
         list1)))

(accum? '(1 2 3 4) &lt;) --&gt; #t
(accum? '(3 2 3 4) &lt;) --&gt; #f
(accum? '(1 2 5 4) &lt;) --&gt; #t (should be #f)
(accum? '(5 7 2 3) &lt;) --&gt; #t (should be #f)
</code></pre>

<p>Do you have any idea where is a mistake? By the way, it is better to use only (pre? (car list1) (cadr list1)) without if --> (if &lt;...> #t #f)?</p>
","149392","","<p>It's only using the first and second element because you explicitly use <code>(car list1)</code> and <code>(cadr list1)</code>, which get the first and second element.</p>

<p>Note that when you're not actually using <code>x</code> and <code>y</code>, the arguments passed to the lambda. This is a sure sign you're doing something wrong.</p>

<p>PS: This is unrelated to your problem, but writing <code>(if condition #t #f)</code> is pretty much the same thing as just writing <code>condition</code>. So yes, leaving out the <code>if</code> is better as it serves no purpose.</p>
"
"<p>I'm still starting to explore Haskell. I know this code ""runs"" in the <code>IO</code> monad. When it goes from the <code>l &lt;- ...</code> line to the next one, the <code>IO - bind</code> is called.</p>

<p>One could think that because Haskell is <strong>lazy</strong>, the <code>l</code> is never evaluated. But ""<code>bind</code>"" always evaluates the previous command, is that right? Because the program produces the ""file-not-found"" error.</p>

<pre><code>main = do
    l &lt;- mapM readFile [ ""/tmp/notfound"" ]
    return ()
</code></pre>
","149392","","<p>If you expand the <code>do</code> notation in your code, you get:</p>

<pre><code>main = (mapM readFile [""/tmp/notfound""]) &gt;&gt;= (\l -&gt; return ())
</code></pre>

<p>So yes, <code>l</code> is never evaluated, but that doesn't mean that the call to <code>mapM</code> is never evaluated. <code>&gt;&gt;=</code> always needs to evaluate its left operand in order to produce a value at least to some degree (at least in the IO monad and in any other monad that comes to mind).</p>
"
"<p>I'm trying to understand yield in Ruby. In the self.save method of the Gateway class, it has 'yield gateway'.  I understand that when yield is called the block from Person#save is called, but what does 'gateway' become in that block? Can you please explain a little with this code example</p>

<pre><code>class Person
  attr_accessor :first_name, :last_name, :ssn
    def save
      Gateway.save do |persist|
       persist.subject = self
       persist.attributes = [:first_name, :last_name, :ssn]
       persist.to = 'http://www.example.com/person'
      end
   end
end


class Gateway
  attr_acessor :subject, :attributes, :to

  def self.save
    gateway = self.new
    yield gateway
    gateway.execute
  end

  def execute
    request = Net::HTTP::Post.new(url.path)
    attribute_hash = attributes.inject({}) do | result, attribute |
        result[attribute.to_s] = subject.send attribute
        result
      end
      request.set_form(attribute_hash)
      Net::HTTP.new(url.host, url.post).start { |http| http.request(request) }
   end

   def url
     URI.parse(to)
   end

end
</code></pre>
","149392","","<p>The argument to <code>yield</code> will be parsed as an argument to the block. So in your example <code>gateway</code>'s value is assigned to the <code>persist</code> parameter of the block.</p>
"
"<p>I am trying to initialise the <code>hash pair</code> and then look for the key using <code>has.key</code> in the hash pair value. I have given the condition see below:</p>

<pre><code>if seen.has.key?(var)
    &lt;Execute Condition&gt;
</code></pre>

<p>Could you shed lights on it how this actually works? I have tried looking around but still confuses me. Thanks</p>
","149392","","<p><code>seen={}</code> assigns an empty hashmap to the variable <code>seen</code> and <code>has.key</code> calls the method <code>key</code> on the object <code>has</code>. Assuming that <code>has</code> is a hashmap, <code>key</code> is a method that takes a value as its argument and returns the key that maps to the given value in the hashmap.</p>

<p><code>seen.has.key?(var)</code> calls the <code>has</code> method on <code>seen</code> and then calls the <code>key?</code> method with the argument <code>var</code> on the result of that. Since hashmap objects don't have a <code>has</code> method, this will cause a <code>NoMethodError</code>.</p>
"
"<p>I'm trying to read a file which has input(time and price) as: <code>12:23:31
67 12:31:23 78 [...]</code> I created a <code>struct</code> which holds values of hour,
minutes and seconds. I used <code>strtok</code> to tokenize the individual values
and use <code>atof</code> to store them. However, I'm getting an error when I try
to tokenize the time: cannot convert <code>std::string' to 'char*' for argument 1 to 'char*'</code></p>

<pre><code>struct time
{
    int hours;
    int minutes;
    int seconds;
    double price;
};

int main()
{
    string file, input;
    time* time_array;
    char* tok;

    cout &lt;&lt; ""Enter a file name to read input: "";
    cin &gt;&gt; file;

    ifstream file_name(file.c_str());

    file_name &gt;&gt; input;
    file_name &gt;&gt; input;

    //while(!file_name.eof())
    for(int i = 0; i &lt; 4; i++)
    {
        time_array = new time;
        file_name &gt;&gt; input;
        tok = strtok(input, "":""); //ERROR HERE
        while(tok != NULL)
        {
            *time_array.hours = atof(tok[0]);
            *time_array.minutes = atof(tok[1]);
            *time_array.seconds = atof(tok[2]);
        }
        file_name &gt;&gt; input;
        *time_array.prine = atof(input);
    }
}
</code></pre>
","149392","","<p><code>strtok</code> doesn't take a <code>string</code> as its argument - it takes a <code>char*</code>. Like all functions in the <code>cstring</code> header it's a C function that works with C strings - not C++ strings - and should generally not be used in C++.</p>

<p>Use the methods of the string class instead.</p>
"
"<p>I am trying to implement b-tree from pseudocode, here is some explanation about b-tree:</p>

<p><a href=""http://cs.utsa.edu/~dj/ut/utsa/cs3343/lecture17.html"" rel=""nofollow"">http://cs.utsa.edu/~dj/ut/utsa/cs3343/lecture17.html</a>
<a href=""http://www.di.ufpb.br/lucidio/Btrees.pdf"" rel=""nofollow"">http://www.di.ufpb.br/lucidio/Btrees.pdf</a>
<a href=""http://homepages.ius.edu/RWISMAN/C455/html/notes/Chapter18/BT-Basics.htm"" rel=""nofollow"">http://homepages.ius.edu/RWISMAN/C455/html/notes/Chapter18/BT-Basics.htm</a></p>

<p>So i want to implement the code in python, but only one thing is not clear for me, what is the purpose of ""t"" in this code:</p>

<pre><code>def bTreeInsert(T, k):              #k is the key
    r = T.root                      #r - root node
    if r.n == 2*t - 1:              #t = ???
        s = AlocateNode()
        T.root = s
        s.leaf = False
        s.n = 0
        s.c[1] = r                  
        bTreeSplitChildren(s, 1)
        bTreeInsertNonfull(s, k)
    else:
        bTreeInsertNonfull(r, l)
</code></pre>

<p>Any ideas?</p>
","149392","","<p><code>t</code> is the minimum degree of the tree, i.e. the minimum number of children each node in the tree must have (and also half of the maximum number of children each node may have).</p>
"
"<p>I have the following:</p>

<pre><code>int a = 1, b = 2, c = 3, d = 4;
a = b, c = d;
printf(""%d, %d, %d, %d"", a, b, c, d);
</code></pre>

<p>The output is:</p>

<pre><code>2, 2, 4, 4
</code></pre>

<p>How does the comma operator work with assignment operators? From what I have known it would evaluate and return the second expression if we have,</p>

<pre><code>(exp1, exp2)
</code></pre>

<p>So, why would it evaluate <code>a = b</code> ?</p>
","149392","","<p>The comma operator evaluates both its operands (the left one first) and returns the value of the right one. This is not specific to the operands being assignments.</p>
"
"<p>I'm trying to compare two booleans : </p>

<pre><code>(if (equal? #f (string-&gt;number ""123b""))
      ""not a number""
      ""indeed a number"")  
</code></pre>

<p>When I run this in the command line of <strong>DrRacket</strong> I get <code>""not a number""</code> , however , when I 
put that piece of code in my larger code , the function doesn't return that string (<code>""not a number""</code>) , here's the code : </p>

<pre><code>(define (testing x y z)

    (define badInput ""ERROR"")  

    (if (equal? #f (string-&gt;number ""123b""))
          ""not a number""
          ""indeed a number"")  

    (display x))
</code></pre>

<p>And from command line : <code>(testing ""123"" 1 2)</code>
displays : <code>123</code></p>

<p>Why ? </p>

<p>Furthermore , how can I return a value , whenever I choose ? </p>

<p>Thanks</p>
","149392","","<p>The value of a function is the value of the last expression in its body. The last expression in your <code>testing</code> function's body is <code>(display x)</code>, so that's the value of your function. Since your <code>if</code> is not the last expression in the body and it does not have any side-effects, it basically does nothing.</p>

<p>If you move your <code>if</code> after the call to <code>display</code>, <code>testing</code> will display <code>x</code> and then return ""not a number"".</p>
"
"<p>I'm told to write a function that would check if the punctuations in a string are all spaces. i.e.:</p>

<pre><code>haskell&gt; f ""Hello my name is Brad""
True

haskell&gt; f ""Hello my name is Brad!""
False
</code></pre>

<p>I wrote an auxiliary function as follows,</p>

<pre><code>import Data.Char
isPunc x = not (isDigit x || isAlpha x)
</code></pre>

<p>which was accepted by Haskell and worked fine. But as soon as I used it in the following function,</p>

<pre><code>--function f defined
f :: String -&gt; Bool
f xs = and [ x == ' ' | x &lt;- xs, isPunc x]
</code></pre>

<p>it gives me this error:</p>

<pre><code>ambiguous occurence 'isPunc', could mean ""Main.isPunc"" or ""Data.Char. isPunc""
</code></pre>

<p>I am partially getting what it's complaining about, but having imported Data.Char, I don't really see why it's complaining.</p>
","149392","","<p>(This post is written under the assumption that you really named your function <code>isPunctuation</code>, not <code>isPunc</code>)</p>

<p>It's ambiguous because Haskell doesn't know whether you're referring to your own <code>isPunctuation</code> function (<code>Main.isPunctuation</code>) or <code>Data.Char</code>'s <code>isPunctuation</code> function when you call <code>isPunctuation</code>. It's ambiguous <em>because</em> you imported <code>Data.Char</code> - if you hadn't imported it or if you imported it qualified, there would be no ambiguity as <code>isPunctuation</code> could only refer to <code>Main.isPunctuation</code>.</p>

<p>To fix the ambiguity, either don't import <code>isPunctuation</code> from <code>Data.Char</code> (by changing the import line to <code>import Data.Char hiding (isPunctuation)</code>), import <code>Data.Char</code> qualified (so you have to refer to its functions as <code>Data.Char.functionName</code> rather than just <code>functionName</code>), or give your function a different name that doesn't conflict with anything from <code>Data.Char</code>.</p>
"
"<p>Is the answer to this : </p>

<p>Instantiation of the object uses 'val' instead of 'var'.</p>

<p>Each member variable of the object being created is also 'val' instead of 'var'. This is to prevent users updating an object value after its set.</p>
","149392","","<p>An object is immutable if there is no way for the user of that object to mutate it. This means that it must have no public methods that reassign any of its member variables or mutate any objects referred to by those variables. If all the object's members are <code>val</code>s this ensures the former (i.e. they can't be reassigned), but not the latter (i.e. if the objects referred to by those variables are themselves mutable, they can still be mutated by calling mutating methods on them even if they're referred to only by <code>val</code>s).</p>

<p>Also note that even if the members are declared as <code>var</code>s, the object can still be immutable if none of the object's methods actually reassign the variables (or call mutating methods on them) - assuming of course, they're private.</p>

<p>So having only <code>val</code> members is neither necessary nor sufficient for an object being immutable. Whether the object is referred to by a <code>val</code> or a <code>var</code> (or both) makes no difference in that matter.</p>
"
"<p>I'm just trying to pass copywords from the function get_string in to fileinput in main. </p>

<p>the compiler says error in function get_string while referencing line 5 which is the first line of main. </p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

char get_string (char * copywords[100])
int main (){
char fileinput[100];
get_string(fileinput[100]);
;


char get_string (char * copywords[100]) {
FILE *fp;
int c;
char copywords[100];
fp = fopen(""gues20.txt"", ""r"");
if (fp == NULL)
exit(1);
else {
while(fgets(copywords , 100, fp) == EOF){
}
fclose(fp);
}
return (copywords);
}
</code></pre>
","149392","","<p>You don't have a semicolon after the declaration of <code>get_string</code>, so the compiler doesn't know that the declaration is over and when it sees the <code>int</code> from <code>int main</code>, it gets confused because <code>int</code> isn't legal after the parameter list of a function declaration.</p>

<p>PS: Your main function also doesn't have a closing brace, but that's a different issue.</p>
"
"<p>I understand that local variables are limited to the scope they were declared in and instance variables exist as long as the class exists, but what happens if you declare a local variable in the class scope without prefixing it with <code>@</code>? Doesn't that implicitly it is an instance variable, even though you didn't use an <code>@</code> to declare it as one?</p>
","149392","","<blockquote>
  <p>instance variables exist as long as the class exists</p>
</blockquote>

<p>They exist as long as the object exist. Instance variables are per-object, not per-class.</p>

<blockquote>
  <p>what happens if you declare a local variable in the class scope without prefixing it with @?</p>
</blockquote>

<p>Then the variable is in scope within the class definition, but not within any <code>def</code>s inside that class definition as those introduce a new scope.</p>

<blockquote>
  <p>Doesn't that implicitly make it an instance variable, even though you didn't use an @ to declare it as one?</p>
</blockquote>

<p>No.</p>

<p>If you use <code>define_method</code> instead of <code>def</code> to create methods, the local variable will be accessible within the methods, but since the variable only exists once (not once per object), they'd act more like class variables than instance variables in that case. I also can't think of a good reason why you'd use them that way.</p>
"
"<p>I am writing a small compiler using Ocaml. I want to typecheck Ast and then put into Sast. </p>

<p>But I always get error as follows:</p>

<pre><code>  File ""typecheck_debug.ml"", line 93, characters 28-35:
    Error: This expression has type Sast.var_decl
           but an expression was expected of type Ast.var_decl
</code></pre>

<p>The code is:</p>

<pre><code>    let rec trans_lval env = function
          Ast.Id(n) -&gt; let vdecl = (find_variable env.scope n) in
                       Sast.Id(vdecl), vdecl.vvtype 

    ocamllex scanner.mll
    ocamlyacc parser.mly
    ocamlc -c ast.mli
    ocamlc -c parser.mli
    ocamlc -c scanner.ml
    ocamlc -c parser.ml
    ocamlc -c sast.mli
    ocamlc -c typecheck_debug.ml
</code></pre>

<p>I do not understand why. Is there something wrong with my project process?</p>
","149392","","<p>It's hard to tell from only that little bit of code, but it sounds like <code>Sast.Id</code> expects a value of type <code>Sast.var_decl</code> as its argument, but <code>find_variable</code> produces a value of type <code>Ast.var_decl</code>, so that's the type of <code>vdecl</code>.</p>

<p>I'm assuming here that line 93, characters 28-35 is <code>(vdecl)</code>. If that is not the case, please clarify.</p>
"
"<p>I'm learning Scala and have a quick question: Can someone please explain to me why the following two sets of code yield different results?</p>

<pre><code>def grey0(n: Int): List[List[String]]={
  if (n==0) List(Nil)
  else for(i&lt;-List(""0"",""1""); j&lt;-grey0(n-1)) yield i :: j 
 }
</code></pre>

<p>versus </p>

<pre><code>def grey1(n: Int): List[List[String]]={
  if (n==0) Nil
  else for(i&lt;-List(""0"",""1""); j&lt;-grey0(n-1)) yield i :: j 
 }
</code></pre>

<p>The first option yields the result I am looking for. What I don't understand is, why does the second option just return the empty list? I would have thought the other results would cons on to it and if anything, I would get some sort of flat list rather than a <code>List[List[String]]</code> (which is what I want).</p>
","149392","","<p>In your first version <code>grey0(0)</code> will return a 1-element list that contains the empty list. <code>grey0(1)</code> will, for each element in <code>grey0(0)</code> create two lists, so you get a total of two lists because <code>grey0(0)</code> contains one list. Likewise <code>grey0(2)</code> will contain 4 lists because for each of the two elements in <code>grey0(1)</code> it creates 2 lists.</p>

<p>In your second version <code>grey0(0)</code> will return the empty list. <code>grey0(1)</code> will create two lists for each element in <code>grey0(0)</code>. Since <code>grey0(0)</code> has 0 elements, that makes a total of <code>0*2=0</code> elements in the result.</p>
"
"<p>I'm beginning work with Haskell, but this equality check I'm attempting to make isn't working out.</p>

<p>I have a function, <code>countLetter a [b] c</code>, where <code>a</code> is a char, <code>b</code> is a list of chars and <code>c</code> is an int. (The type declarations passed through fine.) But I run into problems with this expression:</p>

<pre><code>if a == head(b)
</code></pre>

<p>Gives me the following message:</p>

<pre><code>Type error in application

*** Expression     : a == head b
*** Term           : a
*** Type           : [a]
*** Does not match : a
*** Because        : unification would give infinite type
</code></pre>

<p>My code in full, if it's needed, is this:</p>

<pre><code>countLetter :: char -&gt; [char] -&gt; int

countLetter a [b] c = if null b

                       then []
                       else
                       if a == head(b)
                       then countLetter a tail(b) c+1
                    else
                    countLetter head(b) tail(b) c
</code></pre>

<p>Any help or advice would be greatly appreciated. Thank you.</p>
","149392","","<p>First of all, types in Haskell start with capital letters. If you use identifiers starting with lower case letters in a type signature, they're interpreted as type variables. So your type <code>char -&gt; [char] -&gt; int</code> is the same as <code>a -&gt; [a] -&gt; b</code>, which is not a sensible type for your function. Your want <code>Char -&gt; [Char] -&gt; Int</code>.</p>

<p>Secondly <code>[]</code> is not a valid value of type <code>Int</code>. Fixing your type signature should produce an error message that tells you this in less ambiguous terms.</p>

<p>It should then also tell you that <code>null b</code> is a type error because <code>b</code> is of type <code>Char</code> (the second argument of your function is of type <code>[Char]</code> and you've matched it against the pattern <code>[b]</code>, binding <code>b</code> to the single <code>Char</code> contained in that list) and <code>null</code> takes a list, not a Char, as its argument.</p>

<p>To clarify the last point a bit:</p>

<p>The second argument to your function is a list. By writing <code>[b]</code> in your parameter list, you're matching that argument against the pattern <code>[b]</code>. In other words writing <code>countLetter a [b] c = blabla</code> is the same as writing:</p>

<pre><code>countLetter a theList c =
    case theList of
        [b] -&gt; blabla
</code></pre>

<p>So you're saying: ""the second argument to the function must be a list with one single element and that element shall be called <code>b</code>"". That is not what you want to be saying. What you want to be saying is ""the second argument to the function (which, incidentally, is a list) shall be called <code>b</code>"". For that you simply writie <code>countLetter a b c = blabla</code>.</p>

<p>Parameters of type list don't have to be denoted any differently than other types of parameters.</p>
"
"<p>Is there a more elegant way to do this:</p>

<pre><code>widget.notes.where(:author_id =&gt; a).first.message= widget.notes.where(:author_id =&gt; a).first.message &lt;&lt; ""Potato""
</code></pre>

<p>For example, the following do not work:</p>

<pre><code>widget.notes.where(:author_id =&gt; a).first.message &lt;&lt; ""Potato""
widget.notes.where(:author_id =&gt; a).first.message &lt;&lt;! ""Potato""
</code></pre>

<p>Respectively not modifying, or returning an error (as there is no </p>

<pre><code>&lt;&lt;!
</code></pre>

<p>operator)</p>

<p>key: widget is an instance of Widget. Widgets can have notes. Notes have an attr_accessible for :message. 'a' is just a user instance.</p>
","149392","","<p>This is not a problem of <code>&lt;&lt;</code> not modifying the string in-place - it does modify the string in-place. <code>&lt;&lt;</code> might not have a <code>!</code> in its name, but it still acts like a bang-method. You can see this easily if you replace <code>&lt;&lt;</code> with a call to <code>gsub!</code> (which does have a <code>!</code> in its name) in your example code: it won't make a bit of difference.</p>

<p>In your case you get back the unchanged string because widget.notes.where(:author_id => a).first presumably returns a new object each time, which will have its own independent string.</p>

<p>Further, if <code>message</code> corresponds to a database column, not an instance variable, I'm not sure whether calling mutating methods on it will even work as it would circumvent calling ActiveRecord's (or whichever ORM you're using) setter methods. Using <code>+=</code> might be your safest bet here.</p>

<p>This should work as you want:</p>

<pre><code>note = widget.notes.where(:author_id =&gt; a).first
note.message += ""Potato""
note.save
</code></pre>
"
"<p>I try to write the Xtext BNF for Configuration files (known with the <code>.ini</code> extension)</p>

<p>For instance, I'd like to successfully parse</p>

<pre><code>[Section1]
a = Easy123
b = This *is* valid too

[Section_2]
c = Voilà # inline comments are ignored
</code></pre>

<p>My problem is matching the property value (what's on the right of the '=').</p>

<p>My current grammar works if the property matches the <code>ID</code> terminal (eg <code>a = Easy123</code>). </p>

<pre><code>PropertyFile hidden(SL_COMMENT, WS):
    sections+=Section*;

Section:
    '[' name=ID ']'
    (NEWLINE properties+=Property)+
    NEWLINE+;

Property:
    name=ID (':' | '=') value=ID ';'?;

terminal WS:
    (' ' | '\t')+;

terminal NEWLINE:
// New line on DOS or Unix 
    '\r'? '\n';

terminal ID:
    ('A'..'Z' | 'a'..'z') ('A'..'Z' | 'a'..'z' | '_' | '-' | '0'..'9')*;

terminal SL_COMMENT:
// Single line comment
    '#' !('\n' | '\r')*;
</code></pre>

<p>I don't know how to generalize the grammar to match any text (eg <code>c = Voilà</code>).</p>

<p>I certainly need to introduce a new terminal
    Property:
        name=ID (':' | '=') value=TEXT ';'?;</p>

<p>Question is: <em>how should I define this <code>TEXT</code> terminal?</em></p>

<p>I have tried</p>

<ul>
<li><p><code>terminal TEXT: ANY_OTHER+;</code>
This raises a warning </p>

<blockquote>
  <p>The following token definitions can never be matched because prior tokens match the same input: RULE_INT,RULE_STRING,RULE_ML_COMMENT,RULE_ANY_OTHER</p>
</blockquote>

<p>(I think it doesn't matter).</p>

<p><strong>Parsing Fails</strong> with </p>

<blockquote>
  <p>Required loop (...)+ did not match anything at input 'à'</p>
</blockquote></li>
<li><p><code>terminal TEXT: !('\r'|'\n'|'#')+;</code>
This raises a warning </p>

<blockquote>
  <p>The following token definitions can never be matched because prior tokens match the same input: RULE_INT</p>
</blockquote>

<p>(I think it doesn't matter).</p>

<p><strong>Parsing Fails</strong> with </p>

<blockquote>
  <p>Missing EOF at [Section1]</p>
</blockquote></li>
<li><p><code>terminal TEXT: ('!'|'$'..'~');</code> (which covers most characters, except <code>#</code> and <code>""</code>) 
No warning during the generation of the lexer/parser.
However <strong>Parsing Fails</strong> with </p>

<blockquote>
  <p>Mismatch input 'Easy123' expecting RULE_TEXT</p>
  
  <p>Extraneous input 'This'  expecting RULE_TEXT</p>
  
  <p>Required loop (...)+  did not match anything at 'is'</p>
</blockquote></li>
</ul>

<p>Thanks for your help (and I hope this grammar can be useful for others too)</p>
","149392","","<p>The problem (or one problem anyway) with parsing a format like that is that, since the text part may contain <code>=</code> characters, a line like <code>foo = bar</code> will be interpreted as a single TEXT token, not an ID, followed by a '=', followed by a <code>TEXT</code>. I can see no way to avoid that without disallowing (or requiring escaping of) <code>=</code> characters in the text part.</p>

<p>If that is not an option, I think, the only solution would be to make a token type <code>LINE</code> that matches an entire line and then take that apart yourself. You'd do that by removing <code>TEXT</code> and <code>ID</code> from your grammar and replacing them with a token type <code>LINE</code> that matches everything up to the next line break or comment sign and must start with a valid ID. So something like this:</p>

<pre><code>LINE :
    ('A'..'Z' | 'a'..'z') ('A'..'Z' | 'a'..'z' | '_' | '-' | '0'..'9')*
    WS* '=' WS*
    !('\r' | '\n' | '#')+
;
</code></pre>

<p>This token would basically replace your <code>Property</code> rule.</p>

<p>Of course this is a rather unsatisfactory solution as it will give you the entire line as a string and you still have to pick it apart yourself to separate the ID from the text part. It also prevents you from highlighting the ID part or the = sign as the entire line is one token and you can't highlight part of a token (as far as I know). Overall this does not buy you all that much over not using <code>XText</code> at all, but I don't see a better way.</p>
"
"<p>Out of practice to make myself more familiar with the scheme interface, I'm trying to write a procedure in Dr. Racket (though compatible with MIT Scheme) that checks between various different strings given and returns the appropriate strings depending on what is provided. What I have so far is this:</p>

<pre><code>(define (conversation input)
    (cond ((eq? (or ""hello Racket"" ""hi Racket"" ""what's up, Racket?"" 
    ""hey Racket"" ""what's happening, Racket?"") input) ""hey coder"")
      (else ""no hablo ingles."")))
</code></pre>

<p>*the space in between the strings is just so it will fit on here. It's one long statement in the interpreter.</p>

<p>The desired effect is that if I put in:</p>

<pre><code>(conversation ""hello Racket"")
(conversation ""hi Racket"")
(conversation ""hey Racket"")
</code></pre>

<p>They will all return the same result, which is ""hey coder"". However, that is not what's happening. The only one that returns ""hey coder"" is (conversation ""hello Racket""). All the rest return ""no hable ingles."" As with many other aspects of the language, I'm not all too savvy with strings in scheme. I'm fairly certain that the problem lies within the or statement, though I wouldn't know of the alternatives that would work in this context. I've tried looking up solutions, though I haven't run across anything that fits this type of description. Does anyone know of any alternatives to the code that would work?</p>
","149392","","<p><code>or</code> takes a list of arguments and checks whether any of its arguments are ""truthy"" (that is not <code>#f</code>). If so, it returns the first of its arguments that is truthy. If not, it returns <code>#f</code>. So <code>(or ""string1"" ""string2"" ...)</code> simply returns ""string1"". So all you're doing is checking whether the given string equals ""hello Racket"" and ignoring the other options (you might object here that it doesn't work for ""hello Racket"" either - I'll get to that). What you want to be doing is to give whole conditions to <code>or</code>, not just the strings. So it should look like <code>(or (eq? ""string1"" input) (eq? ""string2"" input) ...)</code>.</p>

<p>However this doesn't work either. Why not? Because <code>eq?</code> is the wrong function to use to compare strings. It only returns true if two strings reside in the same location in memory. If two strings reside in different memory locations, but have the same contents, it returns <code>#f</code>. This is also why your current code returns <code>#f</code> for ""hello Racket"". What you should be using is <code>equal?</code>, which compares the contents of the strings.</p>

<p>This should work now, but it's a bit clunky - repeating the call to <code>equal?</code> for every possible string. A nicer approach would be to create a list with the valid strings and then check whether the input string is contained in the list using the <code>member</code> function.</p>
"
"<p>I'm trying to define a helper function that wraps <code>clojure.test/deftest</code>. Here's my general idea:</p>

<pre><code>(defn test-wrapper
  [name &amp; body]
  (deftest (symbol (clojure.string/replace name #""\W"" ""-"")) body)))
</code></pre>

<p>However, since the first argument to <code>deftest</code> is unevaluated, it throws an exception since it is a form and not a symbol. Is there any way to force the form to evaluate first?</p>
","149392","","<p>There's no way to make a macro (that you didn't write) evaluate its arguments.</p>

<p>The best way to make your <code>test-wrapper</code> do what you want it to would be to turn it into a macro itself. Then it could evaluate the call to <code>symbol</code> itself and then expand to a call to <code>deftest</code> with the result of the call to <code>symbol</code> as the first argument.</p>
"
"<p>I'm using scala 2.9.1, when I try this code:</p>

<pre><code>import scala.collection.mutable
val a = mutable.Set(1,2,3,4,7,0,98,9,8)
a.foreach(x =&gt; { println(x); a.remove(x) })
</code></pre>

<p>the result was something like</p>

<pre><code>0
98
2
1
4
3
8
</code></pre>

<p>which did not list all the elements of a. After this, a becomes Set(9, 7) instead of empty set. It looks very weird to me, is it a bug or we just cannot modify the set itself when doing foreach?</p>
","149392","","<p>You may not modify a collection while traversing or iterating over it.</p>

<p>This is the same in Scala as it is in Java (and most other programming languages/libraries). Except that in Java, the <code>Iterator</code> class provides a <code>remove</code> method that can be used instead of the collection's <code>remove</code> method to remove elements while iterating using that <code>Iterator</code> (but will invalidate any other iterators of that collection that might be in use). Scala Iterators provide no such method.</p>
"
"<p>I have a data type</p>

<pre><code>data Time = Time {hour :: Int,
                  minute :: Int
                 }
</code></pre>

<p>for which i have defined the instance of Show as being</p>

<pre><code>instance Show Time where
  show (Time hour minute) = (if hour &gt; 10
                             then (show hour)
                             else (""0"" ++ show hour))
                            ++ "":"" ++
                            (if minute &gt; 10
                             then (show minute)
                             else (""0"" ++ show minute))
</code></pre>

<p>which prints out times in a format of <code>07:09</code>.</p>

<p>Now, there should be symmetry between <code>Show</code> and <code>Read</code>, so after reading (but not truly (i think) understanding) <a href=""http://stackoverflow.com/questions/5520940/creating-instance-of-read-type-class-in-haskell-for-custom-data-type"">this</a> and <a href=""http://stackoverflow.com/questions/7851275/how-to-create-instance-of-read-for-a-datatype-in-haskell"">this</a>, and reading the <a href=""http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Read.html#t%3aRead"" rel=""nofollow"">documentation</a>, i have come up with the following code:</p>

<pre><code>instance Read Time where
  readsPrec _ input =
    let hourPart = takeWhile (/= ':')
        minutePart = tail . dropWhile (/= ':')
    in (\str -&gt; [(newTime
                  (read (hourPart str) :: Int)
                  (read (minutePart str) :: Int), """")]) input
</code></pre>

<p>This works, but the <code>""""</code> part makes it seem wrong. So my question ends up being:</p>

<p>Can anyone explain to me the correct way to implement Read to parse <code>""07:09""</code> into <code>newTime 7 9</code> and/or show me?</p>
","149392","","<p>If the input to <code>readsPrec</code> is a string that contains some other characters after a valid representation of a <code>Time</code>, those other characters should be returned as the second element of the tuple.</p>

<p>So for the string <code>12:34 bla</code>, the result should be <code>[(newTime 12 34, "" bla"")]</code>. Your implementation would cause an error for that input. This means that something like <code>read ""[12:34]"" :: [Time]</code> would fail because it would call <code>Time</code>'s <code>readsPrec</code> with <code>""12:34]""</code> as the argument (because <code>readList</code> would consume the <code>[</code>, then call <code>readsPrec</code> with the remaining string, and then check that the remaining string returned by <code>readsPrec</code> is either <code>]</code> or a comma followed by more elements).</p>

<p>To fix your <code>readsPrec</code> you should rename <code>minutePart</code> to something like <code>afterColon</code> and then split that into the actual minute part (with <code>takeWhile isDigit</code> for example) and whatever comes after the minute part. Then the stuff that came after the minute part should be returned as the second element of the tuple.</p>
"
"<p>I understand that a method can have code like this:</p>

<pre><code>def m(p1:Int =&gt; Int) ...
</code></pre>

<p>Which means this method takes a function p1 that returns an Int</p>

<p>But while browsing the Play! framework code i found a trait with indecipherable methods:</p>

<pre><code>trait Secured {

  def username(request: RequestHeader) = request.session.get(Security.username)

  def onUnauthorized(request: RequestHeader) = Results.Redirect(routes.Auth.login)

  def withAuth(f: =&gt; String =&gt; Request[AnyContent] =&gt; Result) = {
    Security.Authenticated(username, onUnauthorized) { user =&gt;
      Action(request =&gt; f(user)(request))
    }
  }

  /**
   * This method shows how you could wrap the withAuth method to also fetch your user
   * You will need to implement UserDAO.findOneByUsername
   */
  def withUser(f: User =&gt; Request[AnyContent] =&gt; Result) = withAuth { username =&gt; implicit request =&gt;
    UserDAO.findOneByUsername(username).map { user =&gt;
      f(user)(request)
    }.getOrElse(onUnauthorized(request))
  }
}
</code></pre>

<p><a href=""http://www.playframework.org/documentation/2.0.1/ScalaSecurity"">Play! Scala Security</a></p>

<p>What does the <code>f: User =&gt; Request[AnyContent] =&gt; Result</code> mean? At first glance it looks like a method that returns a function <code>r</code> of type Request; <code>r</code> then returns a <code>Result</code>. </p>

<p>Is this the right assumption? </p>
","149392","","<blockquote>
  <p>What does the f: User => Request[AnyContent] => Result mean? At first glance it looks like a method that returns a function r of type Request; r then returns a Result.</p>
</blockquote>

<p><code>f</code> returns a function of type <code>Request[AnyContent] =&gt; Result</code>, i.e. a function that takes a <code>Request[AnyContent]</code> and returns a <code>Result</code>.</p>

<p>In other words <code>f</code> is a curried function. You could call it as <code>f(user)(request)</code> to get back a <code>Result</code>.</p>
"
"<pre><code>main()
{
int i;
int a[5];
for (i = 1; i &lt;= 5; i++)
    a[i] = 0;
printf(""Hello, how are you? "");
}
</code></pre>

<p>why is the program not coming out of the loop?</p>
","149392","","<p>You're accessing the array out of bounds (the legal indices for an array of size 5 are indices 0 to 4, not 1 to 5). As far as the standard is concerned, this means your program invokes undefined behavior and can behave any way it pleases.</p>

<p>In terms of the actual implementation, what's actually happening is probably that your last array access (i.e. <code>a[5] = 0;</code>) write over variable that comes after <code>a</code> in memory, which happens to be <code>i</code> on your system. So <code>i</code> is reset to 0 and the loop continues forever.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/8225776/why-does-sizeofx-not-increment-x"">Why does sizeof(x++) not increment x?</a>  </p>
</blockquote>



<p>Just wondering why the increment operator is not working in the below code snippet:</p>

<pre><code>    int main()
    {
        int a = 10;
        int b = sizeof(a++);
        cout&lt;&lt;""a: ""&lt;&lt;a&lt;&lt;endl;
        cout&lt;&lt;""b: ""&lt;&lt;b&lt;&lt;endl;
        return 0;
    }
</code></pre>

<p>Output-</p>

<p>a: 10</p>

<p>b: 4</p>
","149392","","<p><code>sizeof</code> does not evaluate its argument. It calculates the argument's size statically at compile-time without causing any code to be executed.</p>
"
"<p>I have this Ruby code:</p>

<pre><code>var1 = 10
puts var1.object_id
var1 = var1 + 0
puts var1.object_id
var1 = var1 + 1
puts var1.object_id
</code></pre>

<p>The output is:</p>

<pre><code>1&gt; 21
2&gt; 21
3&gt; 23
</code></pre>

<p>Question: why does Ruby create a new object when adding a non-zero value but not when adding 0?</p>
","149392","","<p>Internally Ruby¹ does not create objects at all when working with Fixnums. Instead the implementation uses ""tagged"" pointers, that is if the least significant bit of a pointer is set, Ruby understand that this pointer does not actually point to an object, but rather encodes the value of a Fixnum directly. Therefore a Fixnum with the same numeric value will always be represented by the same pointer value.</p>

<p>¹ By which I mean the official Ruby interpreter - other implementations may handle this differently.</p>
"
"<p>What's the difference between these two functions?</p>

<pre><code>auto func(int a, int b) -&gt; int;

int func(int a, int b);
</code></pre>
","149392","","<p>They use different syntax and only one of them is valid in C++ versions prior to C++11. Other than that there are no differences between the two function declarations that you've shown in your question.</p>
"
"<p>I have the following data structure:</p>

<pre><code>data TempUnit = Kelvin Float
              | Celcius Float
              | Fahrenheit Float
</code></pre>

<p>I want to implement a function which converts a temperature from Kelvin to another Unit. How can I pass the return type unit to the function?</p>
","149392","","<p>There is only one type in your code and that's <code>TempUnit</code>. <code>Kelvin</code>, <code>Celcius</code> and <code>Fahrenheit</code> aren't types, they're data constructors. So you can't use polymorphism to select between them.</p>

<p>If you want to use return type polymorphism, you'd need to define 3 distinct types and make them instances of the same type class. That could look something like this:</p>

<pre><code>newtype Kelvin = Kelvin Float
newtype Celsius = Celsius Float
newtype Fahrenheit = Fahrenheit Float

class Temperature t where
  fromKelvin :: Kelvin -&gt; t
  toKelvin :: t -&gt; Kelvin

instance Temperature Kelvin where
  fromKelvin = id
  toKelvin = id

instance Temperature Celsius where
  fromKelvin (Kelvin k) = Celsius $ -- insert formula here
  toKelvin (Celsius c) = Kelvin $ -- insert formula here

instance Temperature Fahrenheit where
  -- same as for Celsius
</code></pre>

<p>You could then select which conversion you want by supplying type annotations (or using the result in a context where a specific type is required):</p>

<pre><code>myTemp :: Celsius
myTemp = fromKelvin $ Kelvin 42
</code></pre>

<p>However this does not seem like a good use of polymorphism. An approach where you have an algebraic data type <code>TemperatureUnit</code> and then represent a temperature as a number combined with a unit, seems much more reasonable. That way conversion functions would simply take the target unit as an argument - no polymorphism involved.</p>
"
"<p>In emacs, the clisp can run in its own buffer as below:</p>

<pre><code>(defun clisp ()
    (interactive)
    (async-shell-command ""clisp -q -modern -ansi"" ""*clisp*""))
(global-set-key ""\C-c\C-l"" 'clisp)
</code></pre>

<p>Without using emacs, we can use <code>xterm -e clisp</code> to run it. Can clisp be run inside a xmonad window without using xterm ?</p>

<p>Sincerely!</p>
","149392","","<blockquote>
  <p>Can clisp be run inside a xmonad window without using xterm ?</p>
</blockquote>

<p>You could use a terminal emulator other than xterm, but other than that: no, you can not run a console application in its own window without using a terminal emulator.</p>
"
"<p>Coming from a java background I always mark instance variables as private. I'm learning scala and almost all of the code I have viewed the val/var instances have default (public) access. Why is this the access ? Does it not break information hiding/encapsulation principle ?</p>
","149392","","<p>One important difference between Java and Scala here is that in Java you can not replace a public variable with getter and setter methods (or vice versa) without breaking source and binary compatibility. In Scala you can.</p>

<p>So in Java if you have a public variable, the fact that it's a variable will be exposed to the user and if you ever change it, the user has to change his code. In Scala you can replace a public <code>var</code> with a getter and setter method (or a public <code>val</code> with just a getter method) without the user ever knowing the difference. So in that sense no implementation details are exposed.</p>

<hr>

<p>As an example, let's consider a rectangle class:</p>

<pre><code>class Rectangle(val width: Int, val height:Int) {
  val area = width * height
}
</code></pre>

<p>Now what happens if we later decide that we don't want the area to be stored as a variable, but rather it should be calculated each time it's called?</p>

<p>In Java the situation would be like this: If we had used a getter method and a private variable, we could just remove the variable and change the getter method to calculate the area instead of using the variable. No changes to user code needed. But since we've used a public variable, we are now forced to break user code :-(</p>

<p>In Scala it's different: we can just change the <code>val</code> to <code>def</code> and that's it. No changes to user code needed. </p>
"
"<p>The following is a part of a function.</p>

<pre><code>l-&gt;length[l-&gt;cl] = atoi(p-&gt;wds[p-&gt;cw]);
printf(""FD %d\n"", l-&gt;length[l-&gt;cl]);
p-&gt;cw = p-&gt;cw + 1;
l-&gt;cl = l-&gt;cl + 1; 
printf(""prevent from seg fault\n"");
instr(p);
</code></pre>

<p>If I remove the <code>printf(""prevent from seg fault\n"");</code> I get segmentation fault, but if I keep it it runs and go to the nest function and so on.</p>

<p>So my question is just in general why does this happen, I know I am not showing enough of my code so you can see why the segmentation happen, but if there is any general explanation for this, I also had this in another place in my program but at the end I could remove it?</p>

<p>Regards Orri</p>
","149392","","<p>As far as the standard is concerned any changes made to a program that invokes undefined behaviour can have any result - there doesn't have to be a logic behind it. And in fact it is very seldom fruitful to try to reason about how a given implementation behaves when encountering undefined behaviour.</p>

<p>That said if a call to <code>printf</code> (or any other function) changes the behaviour of your program (beyond the obvious change of printing what it's supposed to, of course), one possible explanation is that you have an invalid pointer somewhere that points to a local variable that's out of scope. If that variable previously lived in the stack memory that's now used by <code>printf</code> for its own local variables, that means the memory that the pointer points to will now be overridden with a new value. And that can of course change the behaviour of any code that use the pointer.</p>
"
"<p>Here is a while loop in Ruby</p>

<pre><code>x = 0
while x &lt; 1 do
   inside_var = ""I'm inside""
   x += 1
end

puts inside_var
</code></pre>

<p>Although, <code>inside_var</code> is defined inside a while loop, it's visible outside of it. It's totally different from Java, C#, etc. </p>

<p>I wonder, did I miss something? Is it really how it works? Is it true for any kind of loop in Ruby?</p>
","149392","","<p>Yes, it really is how it works. It applies to all built-in control structures (<code>while</code>, <code>for</code>, <code>if</code>, <code>begin ... end</code>), but not to blocks. So if you rewrite your code using <code>each</code> or <code>times</code>, it will behave like you expect.</p>
"
"<p>I'm trying the project euler problems to learn common lisp and I'm stuck pretty early.  On  problem 1, the question is the sum of integers from 1 to 1000.  I think the code below should do it, but it always returns the value of <code>end</code> (if it's mod 3 or mod 5) or 0 instead.</p>

<pre><code>(defun mod3or5 (n)                                                                 
  (cond                                                                            
    ((equal (mod n 5) 0) n)                                                        
    ((equal (mod n 3) 0) n)                                                        
    (0))))                                                                         

(defun mod-sum (start end)                                                         
  (cond                                                                            
    ((equal start end) (mod3or5 start))                                            
    (+ (mod3or5 start) (mod-sum (+ start 1) end)))) 
</code></pre>

<p>For example</p>

<pre><code>(mod-sum 1 9)
=&gt; 9
(mod-sum 1 8)
=&gt; 0
</code></pre>

<p>I would expect the answers to be 23 and 14 respectively. </p>
","149392","","<p>Each form given to <code>cond</code> has the form <code>(condition exp1 ... expn)</code>. If <code>condition</code> is true, it will evaluate all the expressions and return the value of <code>expn</code>. If <code>condition</code> is false, it will continue with the next form.</p>

<p>Your last form is this: <code>(+ (mod3or5 start) (mod-sum (+ start 1) end))</code>. So here <code>+</code> is the condition (which will always be true because <code>+</code> is a function and thus not <code>nil</code>), <code>(mod3or5 start)</code> is the first expression (which will be evaluated, but not returned) and <code>(mod-sum (+ start 1) end)</code> is the last expression (which will be evaluated and then returned).</p>

<p>""Else branches"" in <code>cond</code> are implemented by choosing <code>t</code> as the condition. So your last form should look like this:</p>

<pre><code>(t (+ (mod3or5 start) (mod-sum (+ start 1) end)))
</code></pre>
"
"<p>I am learning the <code>union</code> bit of OCaml and I got quite confused.</p>

<hr>

<p>In C, a union is like this</p>

<pre><code>union {
    int i;
    float f;
} x;
x.i = 0x27;
printf (""%f\n"", x.f);
</code></pre>

<p>So, <strong>does union in OCaml serve the same purpose?</strong></p>

<p>Let's take an example. Below is a union definition:</p>

<p><img src=""http://i.stack.imgur.com/eJKCB.png"" alt=""enter image description here""></p>

<p><strong>how do I use this union like the C example above?</strong></p>

<hr>

<p>Also for this one </p>

<p><img src=""http://i.stack.imgur.com/cJBwX.png"" alt=""enter image description here""></p>

<p><strong>Is <code>type 'a set</code> a union definition? How about <code>type 'a set = 'a list</code>? and why?</strong></p>
","149392","","<p>A discriminated union in OCaml is like a C union combined with an enum. So your example of a <code>number</code> type could be represented like this in C:</p>

<pre class=""lang-c prettyprint-override""><code>enum number_tag {
    ZERO, INTEGER, REAL
};

union number_value {
    int i; /* Only access this if tag is INTEGER */
    float f; /* Only access this if tag is REAL */
};

struct number {
    enum number_tag tag;
    union number_value value;
};
</code></pre>

<p>So you can ask what a number's type is by accessing the enum and then access the appropriate field of the union based on the value of the enum. Of course C won't stop from accessing the wrong field of the union.</p>

<p>OCaml on the other hand eliminates the possibility of accessing the wrong field. Since you can only access the values by pattern matching, you know that you always have the right type.</p>

<p>Pattern matching on a value of the <code>number</code> type would look like this in OCaml:</p>

<pre><code>match value_of_type_number with
| Zero -&gt;
    (* Handle the case that the number is Zero *)
| Integer i -&gt;
    (* Handle the case that the number is an Integer with the value i *)
| Float f -&gt;
    (* Handle the case that the number is a Float with the value f *)
</code></pre>

<p>The equivalent of that would be this:</p>

<pre class=""lang-c prettyprint-override""><code>switch(value_of_type_number.tag) {
case ZERO:
    /* Handle the case that the number is Zero */
    break;
case INTEGER:
    int i = value_of_type_number.value.i;
    /* Handle the case that the number is an Integer with the value i */
    break;
case FLOAT:
    float f = value_of_type_number.value.f;
    /* Handle the case that the number is a Float with the value f */
    break;
}
</code></pre>

<hr>

<blockquote>
  <p>Is <code>type 'a set</code> a union definition? How about <code>type 'a set = 'a list</code>? and why?</p>
</blockquote>

<p><code>type 'a set</code> is not a definition at all. It just specifies the interface. It says that an implementation of this interface must define a type named <code>set</code> which takes one type parameter.</p>

<p><code>type 'a set = 'a list</code> is a definition, but not of a discriminated union. It's simply a type alias. That is it says ""<code>'a set</code> is just another name for <code>'a list</code>'. A definition of a discriminated union would have a constructor as the first thing after the equals sign. Constructors always start with capital letters.</p>
"
"<p>I am using a <code>ref</code> count to count how many times the function executes, but what if I want to get rid of the ref? I'm a noobie to ocaml, please give me some advice, here is what i got:</p>

<pre><code>let count =ref 0;;  
let rec addtive n=
if n&lt;9 then count 
else(
     incr count;
     addtive(sum(digit(n)))
) ;;

# a 551515;;
- : int ref = {contents = 2}
</code></pre>

<p>but i want to get like </p>

<pre><code>-: int = 2
</code></pre>
","149392","","<p>You should pass the count around as a second parameter (defining a helper method if necessary):</p>

<pre><code>let additive n =
  let rec helper n count =
    if n&lt;9 then count
    else helper (sum (digit n)) (count + 1)
  in
  helper n 0
</code></pre>
"
"<p>Follow &lt;Real World Haskell&gt; , it is said  <code>foldl'</code> are strict version of <code>foldl</code>.</p>

<p>But it's hard for me to understand , what does <code>strict</code> mean??</p>

<pre><code>foldl f z0 xs0 = lgo z0 xs0
         where
            lgo z []     =  z
            lgo z (x:xs) = lgo (f z x) xs


foldl' f z0 xs0 = lgo z0 xs0
    where lgo z []     = z
          lgo z (x:xs) = let z' = f z x in z' `seq` lgo z' xs
</code></pre>
","149392","","<p>A strict function is a function whose arguments are evaluated before the body is.</p>
"
"<p>I have a code</p>

<pre><code>class A &lt; BasicObject

    def initialize var1, *args, &amp;block
      if var1 == :lambda
        @var1 = lambda &amp;block
      end
    end
end

a = A.new :lambda, 123  do |var|
  puts ""ha ha ha""
end
</code></pre>

<p>why does it cause an error?</p>

<pre><code>undefined method `lambda' for #&lt;A:0x00000001687968&gt; (NoMethodError)
</code></pre>

<p>unlike this one (it doesn't cause it)</p>

<pre><code>class A
   def initialize var1, *args, &amp;block
      if var1 == :lambda
        @var1 = lambda &amp;block
      end
    end
end
</code></pre>
","149392","","<p>The <code>lambda</code> method is defined in the <code>Kernel</code> module. <code>Object</code> includes <code>Kernel</code>. <code>BasicObject</code> does not. So if you want to use <code>lambda</code> from a BasicObject, you have to call it as <code>::Kernel.lambda</code>.</p>

<p>Note that this is not specific to <code>lambda</code> - it applies to any other Kernel method (like e.g. <code>puts</code>) as well.</p>

<p>PS: Note that <code>@var1 = lambda &amp;block</code> does the same thing as just writing <code>@var1 = block</code>, so the use of <code>lambda</code> isn't actually necessary here.</p>
"
"<p>I'm learning interface design in Python 3 and Glade with GObject introspection, and I don't understand how you can pass another variable (or class?) to another class, like this:</p>

<pre><code>from gi.repository import Gtk

class DemoWindow(Gtk.Window):
</code></pre>

<p>And what is the difference between class() and class - Does class() initiate the <code>__init__</code>function, and class is used for referencing other functions, like <code>class.function()</code>?</p>

<p>And is it possible to pass a variable to a class and use it in other functions?</p>
","149392","","<p>The syntax <code>class MyClassName(SomeOtherClassName):</code> defines a class called <code>MyClassName</code> which inherits from the (previously existing) class <code>SomeOtherClassName</code>. So in your example <code>DemoWindow</code> inherits from the class <code>Gtk.Window</code>.</p>

<blockquote>
  <p>And what is the difference between class() and class</p>
</blockquote>

<p><code>MyClassName(args)</code> creates a new object of the <code>MyClassName</code> class and calls its <code>__init__</code> method with the arguments <code>args</code>. <code>MyClassName.my_function()</code> calls <code>my_function</code> without going through an object, i.e. no <code>self</code> argument will be passed implicitly (unless <code>my_function</code> is defined as a class method).</p>

<blockquote>
  <p>And is it possible to pass a variable to a class and use it in other functions?</p>
</blockquote>

<p>Sure. Just let the <code>__init__</code> function take it as an argument and then set it as an attribute on <code>self</code>. Other methods of the class can then use it through <code>self</code>.</p>
"
"<p>Consider 2 <code>Scheme</code> functions</p>

<pre><code>; Define function
(define (square n) (* n n ))
(square 12)
144

; Another way to define same function
(define square (lambda (n) (* n n)))
(square 12)
144
</code></pre>

<p>Both seem to produce the same result. </p>

<p>Is there any functional difference between these function declarations? Should one be preferred over another in some situations?</p>
","149392","","<p>There is no difference between the two definitions - the former is syntactic sugar for the latter.</p>

<p>Which one you prefer is a matter of style, but my impression is that the former is generally the preferred way of defining functions as it is somewhat more succinct and perhaps also more readable.</p>

<p>Introductory texts often use the latter to make it clear that a named function is simply a variable holding a lambda - something that's not that clear when using the first variant.</p>
"
"<p>recently I found <code>typedef</code> in my code works really different than what I proposed. An example like this:</p>

<pre><code>typedef int *ptype;
ptype v1 = 0, v2 = 0;
</code></pre>

<p>The result: both v1 and v2 were defined as a pointer to <code>int</code> type. But if you simply replace <code>ptype</code> by <code>int *</code> in the second sentence as <code>int *v1 = 0, v2 = 0;</code> or <code>int* v1 = 0, v2 =0;</code>, only v1 will be the pointer and v2 is normal <code>int</code>. It seems <code>typedef</code> does not do a simple replacement. What's more, when it comes to complicate modifier like:</p>

<pre><code>typedef int *ptype;
const ptype v3 = 0;
</code></pre>

<p>The result will be: v3 is a <code>const</code> pointer, not a pointer to the <code>const</code> int if we write <code>const int *v3 = 0;</code>. In the above code <code>const</code> stands as the modifier to the whole <code>ptype</code>, not the <code>int</code> inside <code>ptype</code>. Thus it really looks like <code>typedef</code> combines the compound type <code>int*</code> and creates a new type.</p>

<p>However, the authoritative C/C++ reference website <a href=""http://www.cplusplus.com/doc/tutorial/other_data_types/"" rel=""nofollow"">cplusplus</a> says ""typedef does not create different types. It only creates synonyms of existing types."" so I was really confused and hope someone can help explain the behavior of <code>typedef</code>. Thanks!</p>
","149392","","<p>When cplusplus.com says that <code>typedef</code> doesn't create a new type, what they mean is that anywhere where you can use a value of <code>ptype</code> you can also use a value of type <code>int*</code> and vice-verse. So if you define a function that takes a <code>ptype</code> parameter, you can pass it an <code>int*</code> without any conversions being necessary.</p>

<p>That does not mean that a <code>typedef</code> is implemented as purely textual substitution like a <code>#define</code> would be.</p>
"
"<p>In this code dolist binds x to symbols 'foo and 'bar.</p>

<pre><code>(dolist (x '(foo bar))
  (print (symbolp x) t))
</code></pre>

<p>This is a problem if I want to use values of foo and bar, like:</p>

<pre><code>(dolist (x '(foo bar))
  (print x t))
</code></pre>

<p>How to get around it?</p>
","149392","","<p><code>x</code> is bound to the symbols <code>foo</code> and <code>bar</code> because <code>'(foo bar)</code> is a list containing the symbols <code>foo</code> and <code>bar</code>. If you want a list that contains the values of the variables <code>foo</code> and <code>bar</code>, you can use <code>(list foo bar)</code>.</p>
"
"<p>False alarm! (read the edit)</p>

<p>I'm trying to make a small game, using SDL. When an entity is created, its image should up the refcount, and that's no problem. The problem comes when it's time to use ""SDL_FreeSurface(image)"" (do decrease it), this should happen within the entity itself so I'm trying to create my own destructor, as a test to see if it got called at all I added a cout, but it's called every tick for some reason? It's not deleting anything so I suppose I also have to take care of all the entities values when I do get it to work (thought that I only had to take care of the special cases, such as this).</p>

<pre><code>Entity::~Entity()
{
    cout &lt;&lt; ""I'm deleted"" &lt;&lt; endl;
    //SDL_FreeSurface(image);
}
</code></pre>

<p>If destructors are supposed to be called all the time (?) why is that?</p>

<p>EDIT
I just realized that during each tick I use some temporary entities, it's probably those that get deconstructed, sorry feel free to lock this. </p>
","149392","","<p>Your destructor will be called every time an object of class Entity is destroyed and only then.</p>

<p>If your destructor is called at every tick, that means an object is destroyed at every tick. Likely you're creating a temporary Entity object at every tick and it gets destroyed right away (for example you might be passing an Entity object by value).</p>
"
"<p>As far as I know in Simple ML, tuples are being accessed via <code>#n</code>s and previously I have seen it working but now it does not work! </p>

<p>I have tried this following line:</p>

<pre><code>val a =#2 (""one"", ""2"", ""three"")
</code></pre>

<p>But it is giving me the following error back:</p>

<pre><code>first.sml:25.26 Error: syntax error found at EOF

uncaught exception Compile [Compile: ""syntax error""]
  raised at: ../compiler/Parse/main/smlfile.sml:15.24-15.46
             ../compiler/TopLevel/interact/evalloop.sml:44.55
             ../compiler/TopLevel/interact/evalloop.sml:296.17-296.20
-
</code></pre>

<p>Weird!</p>
","149392","","<p>Standard ML allows you to define your own arbitrary operators. This means that when you mix infix and prefix operators, you need to have spaces between them - otherwise they'd be interpreted as one operator.</p>

<p>In other words, SML thinks you're trying to call the non-existent <code>=#</code> operator in your code. If you add a space between the <code>=</code> and the <code>#</code>, it will work fine.</p>
"
"<p>I have just started playing with Ruby and I'm stuck on something. Is
there some trick to modify the <code>casefold attribute</code> of a Regexp object after
it's been instantiated?</p>

<p><em>The best idea what I tried is the following:</em></p>

<pre><code>irb(main):001:0&gt; a = Regexp.new('a')
=&gt; /a/
irb(main):002:0&gt; aA = Regexp.new(a.to_s, Regexp::IGNORECASE)
=&gt; /(?-mix:a)/i
</code></pre>

<p><em>But none of the below seems to work:</em></p>

<pre><code>irb(main):003:0&gt; a =~ 'a'
=&gt; 0
irb(main):004:0&gt; a =~ 'A'
=&gt; nil
irb(main):005:0&gt; aA =~ 'a'
=&gt; 0
irb(main):006:0&gt; aA =~ 'A'
=&gt; nil
</code></pre>

<p>Something I don't understand is happening here. Where did the 'i' go on line
8?</p>

<pre><code>irb(main):07:0&gt; aA = Regexp.new(a.to_s, Regexp::IGNORECASE)
=&gt; /(?-mix:a)/i
irb(main):08:0&gt; aA.to_s
=&gt; ""(?-mix:a)""
irb(main):09:0&gt;
</code></pre>

<p>I am using Ruby 1.9.3.</p>

<p>I am also unable understand the below code: why returning <code>false</code>:</p>

<pre><code>/(?i:a)/.casefold?      #=&gt; false
</code></pre>
","149392","","<p>As Frederick already explains, calling <code>to_s</code> on a regex will add modifiers around it that ensure that its properties like case-sensitiveness are preserved. So if you insert a case-sensitive regex into a case-insensitive regex, the inserted part will still be case-sensitive. Likewise the modifiers given to Regexp.new will have no effect if the first argument is a regex or the result of calling to_s on one.</p>

<p>To solve this issue, call <code>source</code> on the regex instead of <code>to_s</code>. Unlike <code>to_s</code>, <code>source</code> simply returns the source of regex without adding anything:</p>

<pre><code>aA = Regexp.new(a.source, Regexp::IGNORECASE)
</code></pre>

<blockquote>
  <p>I am also unable understand the below code: why returning false:</p>

<pre><code>/(?i:a)/.casefold? 
</code></pre>
</blockquote>

<p>Because <code>(?i:...)</code> sets the <code>i</code> flag locally, not globally. It only applies to the part of the regex within the parentheses, not the whole regex. Of course in this case the whole regex is within the parentheses, but that doesn't matter as far as methods like <code>casefold?</code> are concerned.</p>
"
"<p>This is just a question wondering why this doesn't work. I have figured out a better way, but I don't know why previously it wasn't working.</p>

<pre><code>global mydict
mydict = {}
</code></pre>

<p>This seems to work fine, and has made the mydict dictionary global. I even print mydict and it works. However, doing this:</p>

<pre><code>global bool
bool = False
</code></pre>

<p>Does not seem to work. If trying to print bool in my code, I get:</p>

<pre><code>UnboundLocalError: local variable 'bool' referenced before assignment
</code></pre>

<p>So why does it work for the dictionary and not the boolean?</p>

<p>Oh, also, if anyone was wondering how I figured out a better way, I initialised a class and made bool global in the class by doing: self.bool = False which worked. I got it from this question: <a href=""http://stackoverflow.com/questions/10775411/making-all-variables-global"">Making all variables global</a></p>

<hr>

<p>EDIT: As requested, I'll post the necessary code:</p>

<pre><code>import chatbot
global mydict
mydict = {}
global haveamessage
haveamessage = False

class MyBot(chatbot.ChatBot):
    def __init__(self, username, password, site):
        chatbot.ChatBot.__init__(self,username,password,site)

    def on_message(self, c, e):
        print mydict
        print haveamessage

if __name__ == '__main__':
    bot = MyBot(""MyUsername"", ""MyPassword"", ""MySite"")
    bot.start()
</code></pre>

<p>I'll try explain this code. Pretty much the chatbot module is to allow users to create bots in wikis on Wikia, a company that allows wikis to be created which anyone can edit. On a wiki there is a chat extension where users can talk to. This script allows a bot to join the chat and do commands. on_message() goes off when someone posts something in the Chat.</p>

<p>So this prints:</p>

<pre><code>{}
Traceback (most recent call last):
  File ""file.py"", line 146, in &lt;module&gt;
    bot.start()
  File ""/Library/Python/2.7/site-packages/chatbot.py"", line 371, in start
    self.on_message(self.c, e)
  File ""file.py"", line 12, in on_message
    print haveamessage
UnboundLocalError: local variable 'haveamessage' referenced before assignment
</code></pre>

<hr>

<p>I'd like to clarify that the reason this isn't producing an error for all of you is because you are not in a Wikia chat. the function on_message() only runs when someone posts something in the Chat. For example, I may have:</p>

<pre><code>def on_message(self, c, e):
    if e.text == 'hello': # e.text is what a user posts in the chat. e = event
        c.send('Hello!') # c.send simply sends back a message in the chat. c = connection
</code></pre>

<p>So when someone posts in chat hello, the Bot posts back Hello!</p>
","149392","","<p>The code you've posted does not produce the error you claim it does. However using the <code>global</code> keyword outside of a function has no effect, so it's not surprising that it doesn't work like you expect.</p>

<p>I assume that in your real code, you're actually trying to assign to <code>haveamessage</code> inside <code>on_message</code>. If so, you need a <code>global</code> statement inside that method.</p>

<p>Basically the rule is: If you try to assign a global variable from within a function, you need to use the <code>global</code> keyword within that function. Otherwise you don't need the <code>global</code> keyword at all. Whether or not the variable is a boolean makes no difference.</p>
"
"<p>I am back again with a basic question.! ;)</p>

<p>I have learned some of the List functions. ""List.nth"" is one of them. When I use this function in SML command window, It is working fine. But when used inside Let..in..end; block , It is not working.</p>

<p>I hope, Somebody would be able to help out.</p>

<pre><code>let
  val actualDays = 0;

in
  actualDays = List.nth([10,20,31,50,45], 2);
  actualDays
end;
</code></pre>

<p>Expected output:</p>

<pre><code> val it = 31 : int
</code></pre>

<p>Actual output:</p>

<pre><code> val it = 0 : int
</code></pre>

<p>Thanks in Advance!</p>
","149392","","<p>The reason that this does not work as you intend has nothing to do with the <code>List.nth</code> function or the fact that you're inside a <code>let</code> expression. The reason that this does not work as you intend is that <code>=</code> is the equality operator, not an assignment operator, in SML.</p>

<p>The only assignment operator in SML is the <code>:=</code> operator and its left operand needs to be a <code>ref</code>, not a plain integer. So one way to fix your code would be to change <code>actualDays</code> to be an <code>int ref</code> rather than just an <code>int</code> and to use <code>:=</code> instead of <code>=</code>. However mutating variables isn't very idiomatic in SML. A better solution would be to adjust your logic to not need any mutation - probably by using recursive functions or, depending on what exactly you're trying to do, higher order functions.</p>
"
"<p>Since OCaml has different operations for multiplying integers and doubles, how it can be object-oriented? Doesn't this mean OCaml has no polymorphism?</p>
","149392","","<p>Yes, OCaml has polymorphism. Here are some reasons why arithmetic operations aren't implemented as polymorphic methods:</p>

<ol>
<li>Integers and doubles aren't objects in OCaml, so they can't have methods.</li>
<li>Operators in OCaml are functions, not methods. Of course the language could have been designed to make them methods instead, but then you could not define custom operators for anything that isn't an object.</li>
<li>If you write a function like <code>f (x, y) = x + y</code> the inferred type is <code>int * int -&gt; int</code>. If you changed the language to make operators methods and ints objects, the inferred type would be <code>&lt; + : 'a -&gt; 'b; .. &gt; * 'a -&gt; 'b</code>. Having such a complicated type for such a simple function would probably not be desirable.</li>
<li>Paying the cost of polymorphic dispatch every time an arithmetic operation is used would be bad for performance.</li>
</ol>

<p>Also note that in many mainstream languages that support operator overloading, operators tend to be implemented as non-virtual (and thus non-polymorphic) methods or functions as well. Presumably for the performance reason I mentioned above. Having polymorphic operators is rather uncommon.</p>

<p>PS: In the context of functional languages the term ""polymorphism"" is most often used to refer to ""parametric polymorphism"" (what OO languages sometimes call ""generics""), while in OO languages it is most often used to refer to ""subtype polymorphism"". This answer assumes that you were using the latter meaning of the word since you explicitly mentioned object orientation and since the former meaning doesn't really make sense in this context.</p>
"
"<p>Let's say I have a macro, inside the macro I have this let: </p>

<pre><code>let[
    elements# //stuff// 
    #newlist (for [e# elements#] (if (number? e#) (**add e# to #newlist**)))
]
</code></pre>

<p>Since I am having a really hard time finding proper information on the really simple Clojure stuff, I'm here to ask: what do I need to do to accomplish this task above? I <em>think</em> it should be possible to do this but I don't know the most crucial part! </p>
","149392","","<p>It looks like you're trying to create a list called <code>newlist</code> which contains all those elements of <code>elements</code> that are numbers. If so, you can just use the <code>filter</code> function like this:</p>

<pre><code>(let
  [elements whatever
   newlist (filter number? elements)]
  do-stuff-with-newlist)
</code></pre>

<p><code>filter</code> takes a predicate function and a list and returns a new list that contains those items for which the predicate returns a true result.</p>

<p>Note that your initial idea of adding to a list inside a for-loop would not work because lists are immutable, so you can not add to them in-place. You could re-assign a variable holding the list inside a for loop (something like <code>(set! my-list (cons e my-list))</code>, but that would not be idiomatic Clojure code. It would also create the list in reverse.</p>
"
"<p>I have some confusion with the function monad. The function monad is defined as follow:</p>

<pre><code>instance Monad ((-&gt;) r) where
     return x = \_ -&gt; x
     h &gt;&gt;= f = \w -&gt; f (h w) w
</code></pre>

<p>I tried to play around with it by writing a binding operation:</p>

<pre><code>( (*2) &gt;&gt;= (+10) ) 3 

(return 3) :: ((-&gt;) Int)
</code></pre>

<p>But it caused errors. And I also try to rewrite a function AddStuff into the binding operations.</p>

<pre><code>addStuff = do
           a &lt;- (*2)
           b &lt;- (+10)
           return (a+b)
</code></pre>

<p>then convert this function into</p>

<pre><code>addStuff' w = (*2)  w &gt;&gt;= (\a -&gt;
              (+10) w &gt;&gt;= (\b -&gt;
              return (a+b) ))
</code></pre>

<p>I check the type of the new function as see</p>

<pre><code>addStuff :: (Monad m, Num (m b), Num b) =&gt; m b -&gt; m b 
</code></pre>

<p>Why is that? How can I fix that?</p>
","149392","","<p>In <code>addStuff'</code> you write <code>(*2) w</code> and <code>(+10) w</code>. Those are equivalent to <code>w*2</code> and <code>w+10</code> respectively. So <code>addStuff'</code> is equivalent to this:</p>

<pre><code>addStuff' w = w*2 &gt;&gt;= \a -&gt;
              w+10 &gt;&gt;= \b -&gt;
              return (a+b)
</code></pre>

<p>Writing it this way should make it obvious that here the left operands to <code>&gt;&gt;=</code> are numbers, not functions. That's why the inferred type is telling you that your function only works for numbers that are monads.</p>

<p>When eliminating <code>do</code> notation the left operand to <code>&gt;&gt;=</code> should be exactly the same as the right operand of <code>&lt;-</code>. Also eliminating <code>do</code> notation does not add any arguments to the function. So the correct rewriting would look like this:</p>

<pre><code>addStuff' = (*2) &gt;&gt;= \a -&gt;
            (+10) &gt;&gt;= \b -&gt;
            return (a+b)
</code></pre>

<hr>

<p>As to why your earlier pieces of code don't work:</p>

<pre><code>( (*2) &gt;&gt;= (+10) ) 3 
</code></pre>

<p>The operator <code>&gt;&gt;=</code> has type <code>m a -&gt; (a -&gt; m b) -&gt; m b</code>. For simplicity let's assume that all the numbers in this code have type <code>Int</code>, then your left operand has type <code>Int -&gt; Int</code> or <code>m Int</code> if <code>m</code> is <code>(-&gt;) Int</code>. So for some type <code>b</code> the right operand should have type <code>Int -&gt; ((-&gt;) Int) b</code> or, more readably, <code>Int -&gt; Int -&gt; b</code>. The type it actually has though is <code>Int -&gt; Int</code>. Therefore your expression is ill-typed.</p>

<pre><code>(return 3) :: ((-&gt;) Int)
</code></pre>

<p><code>((-&gt;) Int)</code> has kind <code>* -&gt; *</code> - the type of a value must have kind <code>*</code>.</p>

<p>Or to approach this differently: <code>return 3</code> has type <code>m Int</code> for some <code>m</code> (still assuming that all integer literals have type <code>Int</code> for simplicity). So if <code>m</code> is <code>`((-&gt;) Int)</code>, the type of <code>return 3</code> will be <code>((-&gt;) Int) Int</code> or <code>Int -&gt; Int</code>, not <code>((-&gt;) Int)</code>.</p>
"
"<p>I am trying to understand for myself, which form of polymorhism does OCaml language have.</p>

<p>I was provided by an example</p>

<pre><code>let id x = x
</code></pre>

<p>Isn't this example equivalent to C++ template function </p>

<pre><code>template&lt;class A&gt; A id(A x) { return x; }
</code></pre>

<p>If so then my question is: are there any other forms of polymorphism in OCaml? This notion is called ""generic algorithm"" in the world of imperative languages, not ""polymorphism"".</p>
","149392","","<p>There are basically three language features that are sometimes called polymorphism:</p>

<ul>
<li><a href=""http://en.wikipedia.org/wiki/Parametric_polymorphism"">Parametric polymorphism</a> (i.e. ""generics"")</li>
<li><a href=""http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming"">Subtype polymorphism</a>, this is the ability of a subtype of a type to offer a more specific version of an operation than the supertype, i.e. the ability to override methods (and the ability of the the runtime system to call the correct implementation of a method based on the runtime type of an object). In OO languages this is often simply referred to as ""polymorphism"".</li>
<li>So-called <a href=""http://en.wikipedia.org/wiki/Ad-hoc_polymorphism"">ad-hoc polymorphism</a>, i.e. the ability to overload functions/methods.</li>
</ul>

<p>As you already discovered, OCaml has parametric polymorphism. It also has subtype polymorphism. It does not have ad-hoc polymorphism.</p>

<p>Since in your title you've asked for examples, here's an example of subtype polymorphism in OCaml:</p>

<pre class=""lang-ml prettyprint-override""><code>class c = object
    method m x = x+1
end

class d = object
    inherit c
    method m x = x+2
end

let main = 
    let o:c = new d in
    print_int (o#m 2)
</code></pre>

<p>This will print <code>4</code>.</p>
"
"<p>I'm trying to learn SML and some of my professor notes talk about the <code>map</code> function ""which has type ('a -> 'b) -> ('a list -> 'b list).""  He goes on to explain that this means that ""you give me a function that transforms 'a s into 'b s..."".</p>

<p>However, he the implementation looks like:</p>

<pre><code>fun map f [] = []
  | map f (a::l) = (f a)::(map f l)
</code></pre>

<p>This appears to me that it's taking the equivalent of 2 arguments (I know that everything in sml technically only takes one argument, but using tuples or currying it can look like 2).  It appears that it's taking a function and a list.  However, the explanation above makes it sound like it's only taking a function.  What am I missing?</p>
","149392","","<p>As you said yourself SML doesn't really have polyadic functions, it only simulates using tuples or currying. In this case <code>map</code> is a curried function. The reason that your professors statement makes sense is that a curried function is simply a function that takes one argument and returns a function that takes the next argument.</p>

<p>One way to see this is to rewrite <code>fun</code> in terms of <code>val</code>. In general <code>fun f x y = bla</code> is equivalent to <code>val rec f = fn x =&gt; fn y =&gt; bla</code>. So the definition of <code>map</code> can equivalently be written like this:</p>

<pre><code>val rec map = fn f =&gt; fn as =&gt; case as of
    [] =&gt; []
  | (a::l) =&gt; (f a)::(map f l)
</code></pre>

<p>Looking at that definition it's clear that the first <code>fn</code> creates a function that returns another function (the second <code>fn</code>).</p>

<p>We can also see that this is the case by observing that it is legal to call <code>map</code> with only one argument and the result is a function:</p>

<pre><code>val my_map = map my_function
val mapped_list = my_map my_list
</code></pre>

<p>In the above <code>my_map my_list</code> is equivalent to <code>map my_function my_list</code>. This shows us that calling <code>map my_function my_list</code> (which is equivalent to <code>(map my_function) my_list</code> due to function application being left-associative) simply calls <code>map</code> with the argument <code>my_function</code> and then calls the function retuned by <code>map</code> with <code>my_list</code> as its argument.</p>

<p>That's what currying is all about.</p>
"
"<p>I came across this sample of code from a <a href=""http://en.wikipedia.org/wiki/Radix_sort#Example_in_Python"">radix sort</a>:</p>

<pre class=""lang-py prettyprint-override""><code>def getDigit(num, base, digit_num):
    # pulls the selected digit
    return (num // base ** digit_num) % base
</code></pre>

<p>What does the '<code>//</code>' do in Python?</p>
","149392","","<p><code>//</code> is the integer division operator.</p>

<p>In Python 3 the ordinary <code>/</code> division operator returns floating point values even if both operands are integers, so a different operator is needed for integer division. This is different from Python 2 where <code>/</code> performed integer division if both operands where integers and floating point division if at least one of the operands was a floating point value.</p>

<p>The <code>//</code> operator was first introduced for forward-compatibility in Python 2.2 when it was decided that Python 3 should have this new ability. Together with the ability to enable the Python 3 behaviour via <code>from __future__ import division</code> (also introduced in Python 2.2), this enables you to write Python 3-compatible code in Python 2.</p>
"
"<p>I would like to do recursion over a binary, and in each call read up to 32 bits from the binary, and return it in a new binary. But I can't get the pattern matching to work as I want.</p>

<pre><code>binaryToBinary(Source) -&gt;
    binaryToBinaryAux(Source, &lt;&lt;&gt;&gt;).

binaryToBinaryAux(&lt;&lt;&gt;&gt;, Target) -&gt;
    Target;
binaryToBinaryAux(&lt;&lt;H:32/binary, T/binary&gt;&gt;, Target) -&gt;
    binaryToBinaryAux(&lt;&lt;T/binary&gt;&gt;, &lt;&lt;Target/binary, H&gt;&gt;).
</code></pre>

<p>Here is the error I get for the pattern matching:</p>

<pre><code>10&gt; mymodule:binaryToBinary(&lt;&lt;""JonasPonas""&gt;&gt;).
** exception error: no function clause matching
                    mymodule:binaryToBinaryAux(&lt;&lt;""JonasPonas""&gt;&gt;,&lt;&lt;&gt;&gt;) 
                                                          (mymodule.erl, line 51)
</code></pre>

<p>What am I doing wrong with the pattern matching of the binary?</p>
","149392","","<p>The pattern <code>&lt;&lt;H:32/binary, T/binary&gt;&gt;</code> matches a binary containing at least 32 bytes, assigning the first 32 bytes to H and the remaining bytes to T. The pattern <code>&lt;&lt;&gt;&gt;</code> matches the empty binary. These are your only patterns.</p>

<p><code>&lt;&lt;""JonasPonas""&gt;&gt;</code> is neither empty nor does it have at least 32 bytes. Therefore it does not match either of your patterns and you get the error you do.</p>

<p>To fix this add a pattern that handles binaries that have less than 32 bytes (you can also get rid of the empty pattern as it will then be redundant).</p>
"
"<p>I wish to undestand an example from book cited below. I understand that this is something about pattern matching, but where can I find full and exact description of what <code>match</code> expression means?</p>

<pre><code># let rec sort lst =
# match lst with
# [] -&gt; []
# | head :: tail -&gt; insert head (sort tail)
# and insert elt lst =
# match lst with
# [] -&gt; [elt]
# | head :: tail -&gt; if elt &lt;= head then elt :: lst else head :: insert elt tail
# ;;
</code></pre>
","149392","","<p><a href=""http://caml.inria.fr/pub/docs/manual-ocaml/expr.html#@manual.kwd46"" rel=""nofollow"">This page in the OCaml manual</a> explains how <code>match</code> works:</p>

<blockquote>
  <p>The expression</p>

<pre><code>match expr 
with  pattern1    -&gt;  expr1 
| … 
| patternn    -&gt;  exprn
</code></pre>
  
  <p>matches the value of expr against the patterns pattern1 to patternn.
  If the matching against patterni succeeds, the associated expression
  expri is evaluated, and its value becomes the value of the whole match
  expression. The evaluation of expri takes place in an environment
  enriched by the bindings performed during matching. If several
  patterns match the value of expr, the one that occurs first in the
  match expression is selected. If none of the patterns match the value
  of expr, the exception Match_failure is raised.</p>
</blockquote>

<p>That is, it tries one pattern after the other until it finds one that matches. Once it does, it returns the expression associated with that pattern (i.e. the expression on the right side of the <code>-&gt;</code>). If no pattern matches, you get an exception.</p>

<p>Which kinds of patterns there are and what they mean is explained on <a href=""http://caml.inria.fr/pub/docs/manual-ocaml/patterns.html"" rel=""nofollow"">this page of the manual</a>. That's a bit much though, so here's a summary of the relevant bits:</p>

<p>The most important patterns are variable patterns and variant patterns:</p>

<p>A variable pattern is simply a variable name. This pattern always matches and allows you to refer to the matched expression by the given name on the right side of the <code>-&gt;</code>. Instead of a name you can also use <code>_</code>, which also always matches, but doesn't allow you to refer to the value on the right side of the <code>-&gt;</code>.</p>

<p>A variant pattern is the name of a constructor of a variant type followed by as many patterns as the constructor takes arguments. This pattern matches if the value you're matching against is using that specific constructor and if each of the elements inside that value match the corresponding patterns.</p>

<p>In your example, the first pattern is <code>[]</code>. This is the constructor of the <code>list</code> type that represents empty lists. The <code>[]</code> constructors takes no arguments. So this pattern matches if the list is empty.</p>

<p>The second pattern is <code>head :: tail</code>. <code>::</code> is the constructor of the <code>list</code> type that represents non-empty lists. The <code>::</code> constructor takes two arguments: the head of the list and the tail of the list. <code>head</code> and <code>tail</code> are variable patterns that are matches against those two arguments of the <code>::</code> constructor. So this pattern matches if the list is non-empty and assigns the variables <code>head</code> and <code>tail</code> to the head and the tail of the non-empty list respectively.</p>
"
"<p>I've got a method that receives a variable int. That variable constitutes an array size (please, don't offer me a vector). Thus, I need to init a const int inside my method to initialize an array of specific size. Question: how do I do that?</p>

<pre><code>void foo(int variable_int){
    int a[variable_int] = {0}; //error
}
</code></pre>
","149392","","<p>You can easily make a const variable from a non-const variable by writing <code>const int bar = variable_int;</code> - however that won't help you. In C++ the size of an array with automatic storage must be a <em>compile-time</em> constant. You can't turn a variable into a compile-time constant, so what you want is simply not possible.</p>

<p>Depending on your needs, you could make <code>a</code> a pointer and allocate memory using <code>new</code> (and then later <code>delete</code> it) or, if the parameter to <code>foo</code> will always be known at compile-time, you could turn <code>foo</code> into a template function like this:</p>

<pre><code>template&lt;int n&gt; void foo() {
    int a[n] = {0};
}
</code></pre>
"
"<p>I am trying to create a simple function that takes two dates of format int*int*int and return if the first one is older than the second or not.</p>

<pre><code>fun is_older (date1: (int*int*int), date2: (int*int*int)) =
    val in_days1 = (#1 (date1) * 365) + (#2 (date1) * 30) + #3 date1;
    val in_days2 = (#1 (date2) * 365) + (#2 (date2) * 30) + #3 date1;

    if in_days1 &lt; in_days2
    then true
    else false
</code></pre>

<p>I get this error:</p>

<blockquote>
  <p>hwk_1.sml:1.53 Error: syntax error: inserting  EQUALOP</p>
  
  <p>uncaught exception Compile [Compile: ""syntax error""]</p>
  
  <p>raised at: ../compiler/Parse/main/smlfile.sml:15.24-15.46</p>
  
  <p>../compiler/TopLevel/interact/evalloop.sml:44.55</p>
  
  <p>../compiler/TopLevel/interact/evalloop.sml:296.17-296.20</p>
</blockquote>

<p>Can anyone help please?</p>
","149392","","<pre><code>val in_days1 = (#1 (date1) * 365) + (#2 (date1) * 30) + #3 date1;
val in_days2 = (#1 (date2) * 365) + (#2 (date2) * 30) + #3 date1;
</code></pre>

<p>Local <code>val</code> definitions need to be between <code>let</code> and <code>in</code>.</p>
"
"<p>I am newbie in ML programming, I have a homework to write a function is_older that takes two dates and evaluates to true or false. It evaluates to true if the first argument is a date that comes before the second argument.<br>
(If the two dates are the same,
the result is false.)</p>

<pre><code>val is_older = fn : (int * int * int) * (int * int * int) -&gt; bool // Binding Like
</code></pre>

<p>I tried this (using SML of New Jersy cmd prompt) </p>

<pre><code>fun is_older((y1,m1,d1),(y2,m2,d2))= if (y1&lt;y2) then true 
else if (y1=y2 andalso m1&lt;m2) then true 
else if (y1=y2 andalso m1=m2 andalso d1&lt;d2) then true;
</code></pre>

<p>Its gives error </p>

<pre><code>Error syntax error: deleting SEMICOLON ID 
</code></pre>
","149392","","<p>Your last <code>if</code> does not have an <code>else</code> - that's a syntax error in SML.</p>
"
"<p>I have just started learning Haskell using ""Learn you a Haskell for Great Good"". 
I am currently reading ""Types and Typeclasses"" chapter, so my knowledge is pretty .. non-existent.
I am using Sublime Text 2 with SublimeHaskell package which builds/checks file on every save.</p>

<p>The problem: I'm trying to make function type declaration like this:</p>

<pre><code>funcName :: [Char] -&gt; [Char]
</code></pre>

<p>I'm getting this warning:</p>

<blockquote>
  <p>Warning: Use String
    Found:
      [Char] -> [Char]
    Why not:
      String -> String</p>
  
  <p>Build FAILED</p>
</blockquote>

<p>Can you explain to me why is it a bad idea to use Char array instead of String or give me a link to an explanation of possible repercussions etc. I've googled and found nothing.</p>

<p>P.S. I'm a C# developer, I understand the difference between char array and strings in c-like languages.</p>
","149392","","<p><code>String</code> is nothing more than a type alias for <code>[Char]</code>, so there is no practical between the two - it's simply a matter of readability.</p>
"
"<p>In Scala it is possible, so I wonder if this possible in SML as well, consider such code:</p>

<pre><code>fun in_list(elem,coll) =   
  case coll of
      [] =&gt; false
    | elem :: tail =&gt; true
    | head :: tail =&gt; in_list(elem,tail);
</code></pre>

<p>In the second line of <code>case</code> I would like to use <code>elem</code> from the arguments, but SML treats it as a placeholder and throw an error on redundant case (the third line).</p>

<p>So -- is it possible to use <code>elem</code> here and if yes, how?</p>
","149392","","<p>No, it's not possible. You'll have to use an <code>if</code>:</p>

<pre><code>fun in_list(elem,coll) =   
  case coll of
      [] =&gt; false
    | head :: tail =&gt;
        if head = elem
        then true
        else in_list(elem,tail)
</code></pre>

<p>Or, in this case, you could also use logical operators instead of an <code>if</code>:</p>

<pre><code>fun in_list(elem,coll) =   
  case coll of
      [] =&gt; false
    | head :: tail =&gt;
        head = elem orelse in_list(elem,tail)
</code></pre>
"
"<p>In the terminal of Mac OSX, I open <code>SML</code>, if I type something wrong, I wish to move my cursor to that place to modify something or add/delete something, but once I hit <code>&lt;-</code> (the left arrow ) on the keyboard, the <code>REPL</code> gives me </p>

<p><img src=""http://i.stack.imgur.com/Z97nE.jpg"" alt=""enter image description here""></p>

<p>Yes, that <code>^[[D</code> thing.</p>

<p>So how do I move the cursor?</p>
","149392","","<p>Yes, the REPL of SML/NJ does not support arrow keys. You can use the <a href=""http://utopia.knoware.nl/~hlub/rlwrap/#rlwrap"" rel=""nofollow""><code>rlwrap</code> tool</a> to fix this. That allows you to use the left and right arrow keys to navigate within a line and the up and down arrow keys to recall lines you've entered earlier.</p>

<p>If you're using Emacs to write your SML files, you can also run SML in an Emacs buffer.</p>
"
"<p>I am doing a programming assignment with SML. One of the functions requires me to return a list of triple tuples of ints ( (int * int * int) list ) use to other lists. The function sorts through dates and months to see if any of them coincide, if they do, then they add it to the list. Here is the code for that.</p>

<pre><code>fun dates_in_month (dates : (int * int * int) list, month : int) =
    if null dates
    then []
    else
        if #2 (hd dates) = month
        then (hd dates) :: dates_in_month(tl dates, month)
        else dates_in_month(tl dates, month)

fun dates_in_months (dates : (int * int * int) list, months : int list) =
    if null months orelse null dates
    then []
    else
        dates_in_month(dates, hd months) ::
        dates_in_months(dates, tl months)
</code></pre>

<p>Using this code works to a point, however the function returns an (int * int * int) list list, instead of a (int * int * int) list. I think the problem lies with the 
<code>then []</code> statement. Any help would be appreciated.</p>
","149392","","<p>The problem is not the <code>then []</code>, the problem lies here:</p>

<pre><code>dates_in_month(dates, hd months) ::
dates_in_months(dates, tl months)
</code></pre>

<p>Here you take the result of <code>dates_in_month(dates, hd months)</code>, which is a list, and use it as the first argument to <code>::</code>. As you know, <code>h :: t</code> produces a list whose first element is <code>h</code>. So in this case you create a list whose first element is a list. That is you're creating a list of lists.</p>

<p>Since you don't want that, you shouldn't use <code>::</code>. You can use <code>@</code>, which takes two lists as its operands and concatenates them. So while <code>[1,2] :: [3,4] :: []</code> would produce <code>[[1,2], [3,4]]</code>, <code>[1,2] @ [3,4] @ []</code> will produce <code>[1,2,3,4]</code>, which is what you want.</p>
"
"<p>I have an algorithm for calculating the nth Fibonacci number, in Python it's expressed as:</p>

<pre><code>def fib(n):
    if n == 0:
        return 1
    if n == 1:
        return 1
    else:
        return fib(n-1) + fib(n-2)
</code></pre>

<p>and in Haskell:</p>

<pre><code>fib :: Integer -&gt; Integer
fib 0 = 1
fib 1 = 1
fib n = fib (n-1) + fib (n-2)
</code></pre>

<p>I would have expected Haskell to evaluate faster or around the same time, but if using a number above say n=40, python code evaluates much (~x3) faster. I'm using GHCi and Ipython but I didn't think that should make a difference.</p>
","149392","","<p>You said that you ran the Haskell code in GHCI, which means that you ran it without optimizations. That means that no strictness analysis was done, so the whole thing was evaluated lazily, creating a lot of unnecessary thunks. That would explain why it was slower.</p>

<p>Also as delnan pointed out in a comment, ghci is much slower than compiling the code with ghc and then running it - even without optimizations. When I test your code on my PC, running after compiling without optimizations takes twice as long as with optimizations, but still less time than running the Python code. Running in ghci takes a whole lot longer than that.</p>
"
"<p>Given that <code>Enumerable#inject</code> can take either a symbol or a block as the method to be used in the iteration, as explained in an answer to <a href=""http://stackoverflow.com/questions/14526290"">this question</a>, is there any reason to use the <code>&amp;</code> in conjunction with <code>Symbol#to_proc</code> within <code>Enumerable#inject</code>? The following pairs return the same result:</p>

<pre><code>[1, 2, 3, 4, 5].inject(:+)
[1, 2, 3, 4, 5].inject(&amp;:+)

[:a, :b, :c].inject({a: {b: {c: 1}}}, :fetch)
[:a, :b, :c].inject({a: {b: {c: 1}}}, &amp;:fetch)
</code></pre>

<p>Is there any use case where using a symbol and using a block (created by <code>&amp;</code>) have different results? Are there any cases where one can be used and not the other?</p>
","149392","","<p>If you have to support old versions of Ruby (1.8.6 or older) and you're using a library that defines <code>Symbol#to_proc</code> for those versions (like active support), the version using <code>&amp;</code> will work and the other will not.</p>

<p>Other than that the only differences between the two versions are that the version using a symbol is faster and that the version using <code>&amp;</code> will be affected if you redefine <code>Symbol#to_proc</code> - though I can't think of a case where that'd be useful. So no, if you don't need to support Ruby 1.8.6, there's no reason to not use the symbol form.</p>
"
"<pre><code>(define-struct student (first last major))

(define student1 (make-student ""John"" ""Smith"" 'CS))
(define student2 (make-student""Jane"" ""Jones"" 'Math))
(define student3 (make-student ""Jim"" ""Black"" 'CS))

#;(define (same-major? s1 s2)
  (symbol=? (student-major s1)
            (student-major s2)))
</code></pre>

<p>when I type these in, I get the answer I expect.</p>

<pre><code>;;(same-major? student1 student2) -&gt; FALSE
;;(same-mejor? student1 student3) -&gt; True
</code></pre>

<p>But when I want to find out if the students have the same first name, it tells me that they expect a symbol as a 1st argument, but given John.</p>

<pre><code>(define (same-first? s1 s2)
  (symbol=? (student-first s1)
            (student-first s2)))
</code></pre>

<p>What am I doing wrong?</p>
","149392","","<p><code>'CS</code> and <code>'Math</code> are symbols, ""John"", ""Jane"" and ""Jim"" are not (they're strings). As the error message is telling you, the arguments to <code>symbol=?</code> need to be symbols.</p>

<p>To compare strings for equality, you can use <code>string=?</code> or just <code>equal?</code> (which works with strings, symbols and pretty much everything else).</p>
"
"<p><a href=""http://www-ee.eng.hawaii.edu/~tep/EE160/Book/chap14/subsection2.1.1.8.html"" rel=""nofollow"">http://www-ee.eng.hawaii.edu/~tep/EE160/Book/chap14/subsection2.1.1.8.html</a>
This page says local variables and parameters passed are allocated on stack, So I tried:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#define A 2000000
#define B 2

typedef struct {
    int a[A][A];
} st;

void fun(st s){}

void main()
{
    st s;
    //fun(s);
}
</code></pre>

<p>No error reported after compiled and run. But when I de-annotate <code>//fun(s)</code> , Then SIGSEGV is caught. Can anyone tell why?</p>
","149392","","<blockquote>
  <p>Where is local variable allocated? Heap or stack?</p>
  
  <p>This page says local variables and parameters passed are allocated on stack</p>
</blockquote>

<p>Exactly.</p>

<blockquote>
  <p>But when I de-annotate //fun(s) , Then SIGSEGV is caught. Can anyone tell why?</p>
</blockquote>

<p>Memory on the stack is much more limited than on the heap¹. You're allocating a 2000000x2000000 array on the stack and then passing it to a function. This is very likely to exceed the available stack space, causing a segmentation fault.</p>

<p>As for why the segmentation fault doesn't happen when the function call is commented out. First of all, as Jonathan Leffer pointed out, the compiler will probably optimize <code>s</code> away completely because it isn't used. But even if it didn't, you might not get a segfault because allocating memory on the stack just means incrementing the stack pointer. And on most implementations that itself will never cause a segmenetation fault. The segmentation fault will only happen once you try to access the allocated memory and the system realizes you're exceeding the bounds of the stack (and in this case of the entire memory as well).</p>

<p>¹ Though in this case that doesn't make a difference because, as slugonamission pointed out, the array takes up 16TB and thus would exceed the available memory on the heap as well.</p>
"
"<p>When I run this code in the REPL, it throws <code>Error: syntax error: inserting DOT</code>. I would like to know what that error message means.</p>

<p>I have since fixed the code and still want to know the meaning of that message for future reference.</p>

<p><code>part_dir</code> is function that returns a custom datatype <code>direction</code> with possible patterns <code>Left</code> and <code>Right</code>.</p>

<pre><code>fun same (fs)=
    case fs of
         (f1::f2::fs') =&gt; case (part_dir(f1),part_dir(f2)) of
                               (dir1=dir2) =&gt; same (f2::fs')
                             | _           =&gt; false
        | _            =&gt; true
</code></pre>
","149392","","<p>""syntax error: inserting DOT"" means that there's an unexpected token at the position it's complaining about and that a dot would be legal at that position. However that does not mean that a dot would be the only thing allowed in that position or that replacing the token with a dot would fix your error.</p>

<p>For the most part the error message is useless beyond telling you that there's a syntax error at that position. You should probably just ignore the ""inserting DOT"" part as it generally doesn't lead you in the right direction. Just look at the line and column it's complaining about and try to find what the syntax error is there.</p>

<p>In your case the problem is that <code>dir1=dir2</code> is not a legal pattern. A legal pattern would be the constructor of a datatype with patterns for each of its argument, a variable name, <code>_</code> or a constant or a tuple of patterns. There is no pattern to say ""a tuple that contains two elements that are equal"". For that you need the pattern <code>(dir1, dir2)</code> and then the condition <code>dir1=dir2</code> in an <code>if</code>.</p>

<p>In your case you don't even need an <code>if</code> though. You can just write:</p>

<pre><code>(dir1, dir2) =&gt; dir1 = dir2 andalso same (f2 :: fs)
</code></pre>
"
"<p>I thought that changes to variables passed to a python function remain in the function's local scope and are not passed to global scope. But when I wrote a test script:</p>

<pre><code>#! /usr/bin/python
from numpy import *

def fun(box, var):
    box[0]=box[0]*4
    var=var*4
    return 0

ubox,x = array([1.]), 1.
print ubox,x
fun(ubox,x)
print ubox,x
</code></pre>

<p>The output is:</p>

<pre><code>[myplay4]$ ./temp.py 
[ 1.] 1.0
[ 4.] 1.0
</code></pre>

<p>The integer variable x is not affected by the operation inside the function but the array is. Lists are also affected but this only happens if operating on list/array slices not on individual elements.</p>

<p>Can anyone please explain why the local scope passes to global scope in this case?</p>
","149392","","<p>The important thing to realize is that when pass an object to a function, the function does not work with an independent copy of that object, it works with the same object. So any changes to the object are visible to the outside.</p>

<p>You say that changes to local variables remain local. That's true, but it only applies to changing variables (i.e. reassigning them). It does not apply to mutating an object that a variable points to.</p>

<p>In your example, you reassign <code>var</code>, so the change is not visible on the outside. However you're mutating <code>box</code> (by reassigning one of its elements). That change is visible on the outside. If you simply reassigned <code>box</code> to refer to a different object (<code>box = something</code>), that change would not be visible on the outside.</p>
"
"<p>I have learned (from a SML book) that functions in SML always takes just one argument: a tuple.  A function that takes multiple arguments is just a function that takes one tuple as argument, implemented with a tuple binding in function binding. I understand this point.</p>

<p>But after this, the book says something that I don't understand:</p>

<p><code>this point makes SML language flexible and elegant design, and you can do something useful that you cannot do in Java.</code></p>

<p>Why does this design make the language Flexible? What is the text referring to, that SML can but java cannot?</p>
","149392","","<p>Using tuples instead of multiple arguments adds flexibility in the sense that higher-order functions can work with functions of any ""arity"". For example to create the list <code>[f x, f y, f z]</code>, you can use the higher-order function <code>map</code> like this:</p>

<pre><code>map f [x, y, z]
</code></pre>

<p>That's easy enough - you can do that in any language. But now let's consider the case where <code>f</code> actually needs two arguments. If <code>f</code> were a true binary function (supposing SML had such functions), we'd need a different version of <code>map</code> that can work with binary functions instead of unary functions (and if we'd want to use a 3-ary functions, we'd need a version for those as well). However using tuples we can just write it like this:</p>

<pre><code>map f [(x,a), (y,b), (z,c)]
</code></pre>

<p>This will create the list <code>[f (x,a), f (y,b), f (z,c)]</code>.</p>

<p>PS: It's not really true that all functions that need multiple arguments take tuples in SML. Often functions use currying, not tuples, to represent multiple arguments, but I suppose your book hasn't gotten to currying yet. Curried functions can't be used in the same way as described above, so they're not as general in that sense.</p>
"
"<p>What is the time complexity when the size of input increases the time diminishes?</p>
","149392","","<p>That depends on how quickly the time diminishes. For example if doubling the input size halves the runtime, the run time will be in <code>O(1/n)</code>.</p>

<p>Basically this isn't any different than the usual case where increasing the input size also increases the run time.</p>

<p>Of course this is strictly theoretical as in practice there can be no algorithm whose runtime keeps decreasing as the input size approaches infinity.</p>
"
"<p>I'm reading this book ""<a href=""http://rads.stackoverflow.com/amzn/click/1933988657"" rel=""nofollow"">The Well-Grounded Rubyist</a>"" and this random question came to me.  I know in Ruby that it's possible to re-open a class and overwrite the method.</p>

<p>Example:</p>

<pre><code>class A
  def x
    ""First definition of x""
  end

  def x
    ""Second definition of x""
  end
end

test = A.new
test.x #returns ""Second definition of x""
</code></pre>

<p>Based on the results above, I was curious if it was possible to overwrite the class method <code>attr_accessor</code> with my own (random) definition.  Here's what I'm thinking:</p>

<pre><code>class Dummy
  attr_accessor :test

  def self.attr_accessor(method_name)
    puts ""Overwrite the default functionality of attr_accessor by printing this text instead.""
  end
end

d = Dummy.new
d.test #not sure why this returns nil instead of putting my message
Dummy.attr_accessor(test) #fails because of ArgumentError: wrong number of arguments (0 for 2..3)
</code></pre>

<p>For the two examples above, I'm hoping to understand Ruby better by tinkering around and asking questions to get your insight.</p>
","149392","","<p>In your <code>Dummy</code> class the <code>Class</code> version of <code>attr_accessor</code> is called because the <code>Dummy</code> version has not been defined yet at the point when <code>attr_accessor</code> is called. If you move the definition before the call, the behaviour will be different.</p>

<pre><code>class Dummy    
  def self.attr_accessor(method_name)
    puts ""Overwrite the default functionality of attr_accessor by printing this text instead.""
  end

  attr_accessor :test
end
</code></pre>

<p>This will print your message when the class definition is read. When you try to call the method <code>test</code> on a <code>Dummy</code> object, you'll get an error because no such method was defined.</p>
"
"<pre><code>(define-struct animal (name species age breakfasthour dinnerhour))
(define-struct attendant (name a1 a2 a3))


(define gorilla (make-animal ""Koko"" ""Gorilla"" 4 ""8"" ""10""))
(define bat (make-animal ""Bruce"" ""Bat"" 1 ""23"" ""5""))
(define mandrill (make-animal ""Manny"" ""Mandrill"" 5 ""8"" ""7""))
(define crocodile (make-animal ""Swampy"" ""Crocodile"" 1 ""10"" ""8""))
(define ocelot (make-animal ""Ozzy"" ""Ocelot"" 7 ""7"" ""17""))
(define capybara (make-animal ""Capy"" ""Capybara"" 4 ""6"" ""8""))
(define potto (make-animal ""Spot"" ""Potto"" 2 ""2"" ""6""))
(define tapir (make-animal ""Stripey"" ""Tapir"" 3 ""10"" ""6""))
(define vulture (make-animal ""Beaky"" ""Vulture"" 10 ""9"" ""6""))


(define attendant1 (make-attendant ""Dave"" gorilla bat mandrill))
(define attendant2 (make-attendant ""John"" crocodile ocelot capybara))
(define attendant3 (make-attendant ""Joe"" potto tapir vulture))
</code></pre>

<p>I need a function that takes an animal and returns whether its mealtime, if i take  gorilla, then dinner time would be at 10. This is what I've done. ignore the quotes on the numbers above. </p>

<pre><code>(define (meal-time? e1 e2)
  (string=? (animal-species e1)
            (animal-dinnerhour e2)))
</code></pre>

<p>it runs, but wnt give me an output. any reason why it wont give me an output?</p>

<p>edit- <code>(meal-time? gorilla 10)</code>tells me it expects an animal, but given 10.</p>
","149392","","<p>Your <code>meal-time?</code> function takes two animals as arguments (because you use <code>animal-</code> accessor functions on both arguments), but you call it with an animal and a number. So you get an error message telling you that the second argument should be an animal.</p>

<p>If you call your function with two animals as arguments, you'll get no error any more. You'll get <code>#f</code>. What your function does is: it checks whether the species of the first animal is equal to the the dinner hour of the second animal. Since there is no species whose name is a number, that will never be true.</p>
"
"<p>In Scheme, if you have a list of pairs, like :</p>

<p><code>((4 . 7) (4 . 9))</code></p>

<p>isn't this basically a list of 2 element tuples? So if you were to write this in python, would it be like:</p>

<p><code>[[4, 7], [4,9]]</code> or <code>[(4, 7), (4,9)]</code>? </p>

<p>I want it to be as close as possible to python. Or would creating a class be even closer?</p>
","149392","","<p>In Scheme terms it does not make sense to refer to pairs as two-element tuples because that would imply that there's such a thing as a three-element tuple or a four-element tuple in Scheme, but there's not.</p>

<p>That said the closest Python concept to a Scheme pair would indeed be a two-element tuple. A list of pairs is definitely not the same as a list of lists.</p>

<p>Oh and to answer the question you implied in your title:</p>

<p>In Scheme a list is either the empty list (<code>()</code>) or a pair whose second element is a list. So every list is a pair, but some pairs aren't list. For example the pair <code>(1 . (2 . ()))</code> is a list (more commonly written as <code>(1 2)</code>), but the pair <code>(1 . 2)</code> is not a list because <code>2</code> is not a list.</p>

<p>None of this applies to Python. Python lists are growable arrays - not linked lists made out of pairs/tuples.</p>
"
"<p>To practice python, I made a simple class for a tree structure in which each node can have infinite child nodes.</p>

<pre><code>class Tree():

  def __init__(self, children, val):
    self.children = children
    self.val = val

  def add(self, child):
    self.children.append(child)

  def remove(self, index):
    child = self.children[index]
    self.children.remove(child)
    return child

  def print(self):
    self.__print__(0)

  def __print__(self, indentation):
    valstr = ''
    for i in range(0, indentation):
      valstr += ' '
    valstr += self.val
    for child in self.children:
      child.__print__(indentation + 1)
</code></pre>

<p>However, I have a syntax error in the line <code>def print(self):</code>. Where is the error? I have been looking for a long time, and it seems like the right way to define a python function.</p>

<p>I have also tried</p>

<pre><code>  @override
  def print(self):
    self.__print__(0)
</code></pre>

<p>to no avail.</p>
","149392","","<p>In Python 2 <code>print</code> is a keyword, so you can't use it as the name of a function or method.</p>
"
"<pre><code>def doSomething(value)
    if (value.is_a?(Integer))
        print value * 2
    else
        print ""Error: Expected integer value""
        exit
    end
end
</code></pre>

<p>Can I tell a Ruby method that a certain parameter <em>should</em> be an Integer, otherwise crash? Like Java.</p>
","149392","","<p>No, you can't. You can only do what you're already doing: check the type yourself.</p>
"
"<p>While trying to play with Options in scala I have come across this peculiar problem.</p>

<p>I started off with creating a List[Option[Int]] as follows:</p>

<pre><code>scala&gt; List(Some(1),Some(2),None,Some(3))
res0: List[Option[Int]] = List(Some(1), Some(2), None, Some(3))
</code></pre>

<p>Then I tried to map an addition to 1 over the entries of the list in res0 as follows:</p>

<pre><code>scala&gt; res0 map (_ + 1)
</code></pre>

<p>This gave me the error:</p>

<pre><code>&lt;console&gt;:9: error: type mismatch;
 found   : Int(1)
 required: String
              res0 map (_ + 1)
                            ^
</code></pre>

<p>Then I tried flatMapping an addition over the entries as follows:</p>

<pre><code>scala&gt; res0 flatMap (_ + 1)
</code></pre>

<p>This gave me the same error:</p>

<pre><code>&lt;console&gt;:9: error: type mismatch;
 found   : Int(1)
 required: String
              res0 flatMap (_ + 1)
                                ^
</code></pre>

<p>But something like <code>res0.flatMap(r =&gt; r)</code> works just fine with a result of:</p>

<pre><code>res9: List[Int] = List(1, 2, 3)
</code></pre>

<p>Can anybody tell me why adding the entry to 1 would fail for both map and flatMap?</p>
","149392","","<p>Both the function given to <code>flatMap</code> as well as the function given to <code>map</code> take a value of the list's element type - in this case <code>Option[Int]</code>. But your function <code>_ + 1</code> expects an <code>Int</code>, not an <code>Option[Int]</code>, so you can't use it as the argument to either <code>map</code> or <code>flatMap</code> in this case. Further the function given to <code>flatMap</code> should return an iterable¹, but your function would return a number.</p>

<p>This will do what you want: <code>res0 flatMap (_ map (_ + 1))</code>. Here the function given to <code>flatMap</code> takes an <code>Option[Int]</code> and returns an <code>Option[Int]</code> by calling <code>map</code> on the option. <code>flatMap</code> then takes the options returned by the function and concatenates them.</p>

<p>¹ Technically a <code>GenTraversableOnce</code>.</p>
"
"<p>How can I sort array of hashes if I have pre-determined order I have an array that needs to be sorted like this :</p>

<pre><code>   array =  [{:attr_name=&gt;:phone, :attr_value=&gt;30}, {:attr_name=&gt;:name, :attr_value=&gt;20}, {:attr_name=&gt;:similarity, :attr_value=&gt;0}, {:attr_name=&gt;:weight, :attr_value=&gt;50}]
</code></pre>

<p>and I've got a hash based on which I want it to be sorted :</p>

<pre><code>pre_sorted = {
            :name =&gt; 0,
            :phone =&gt; 1,
            :weight=&gt; 2,
            :similarity =&gt; 3
        }
</code></pre>

<p>After sorting my array should look like this :</p>

<pre><code>[{:attr_name=&gt;:name, :attr_value=&gt;20}, {:attr_name=&gt;:phone, :attr_value=&gt;30}, {:attr_name=&gt;:weight, :attr_value=&gt;50}, {:attr_name=&gt;""similarity"", :attr_value=&gt;0}]
</code></pre>

<p>I've looked at the ruby sort and sort by docs and found related questions on So but couldn't figure it out because I'm just starting with rails.</p>
","149392","","<p>To sort an array by a given criterion, you can use <code>sort_by</code>. In your case you want to sort by the entry in the <code>pre_sorted</code> hash, so:</p>

<pre><code>array.sort_by do |hash|
  pre_sorted[ hash[:attr_name] ]
end
</code></pre>
"
"<p>Is there any difference between <code>(list f 1 2)</code> and <code>(f 1 2)</code>? </p>

<p>If yes, then is <code>(f 1 2)</code> equivalent to <code>((f 1) 2)</code> (currying)?</p>

<p>If yes, then is <code>(a b)</code> mean ""add <code>b</code> to the end of list <code>a</code>""?</p>

<p>If yes, then what <code>append</code> function is for?</p>
","149392","","<blockquote>
  <p>Is there any difference between (list f 1 2) and (f 1 2)?</p>
</blockquote>

<p>Yes: <code>(list f 1 2)</code> calls the function <code>list</code> with the arguments <code>f</code>, <code>1</code> and <code>2</code>, which creates a list containing those elements. <code>(f 1 2)</code> calls the function <code>f</code> with the arguments <code>1</code> and <code>2</code>, which does whatever <code>f</code> was defined to do.</p>

<blockquote>
  <p>is (f 1 2) equivalent to ((f 1) 2) (currying)?</p>
</blockquote>

<p>No. Functions in Lisp aren't curried automatically. If you call a function as <code>(f 1 2)</code> it must be a real binary function, not a curried function.</p>

<blockquote>
  <p>is (a b) mean ""add b to the end of list a""?</p>
</blockquote>

<p>No, it means ""call the function <code>a</code> with the argument <code>b</code>"".</p>
"
"<p>I am new to OCaml, so I am learning the basics. I am writing a function that determines whether a list contains a given integer. </p>

<pre><code>let rec int_member (x: int) (l: int list) : bool 
begin match l with
| [] -&gt; false
| hd :: rest -&gt; x = hd || int_member rest x
end
</code></pre>

<p>as a test case...</p>

<pre><code>let test (): bool =
(int_member 1 [1;2;3]) = true
;; run_test ""contains 1 [1;2;3]"" test
</code></pre>

<p>I am getting an error saying that ""this expression has type int list but an expression was expected of type int"". How can I fix this?</p>
","149392","","<blockquote>
  <p>int_member rest x</p>
</blockquote>

<p>The first argument to <code>int_member</code> should be an <code>int</code>. You're passing an <code>int list</code> as the first argument. That's what the error message is complaining about.</p>

<p>You simply switched around the order of the arguments.</p>

<p>PS: The <code>begin ... end</code> in your code is superfluous.</p>
"
"<p><strong>CODE-I</strong></p>

<pre><code>def sample
  x = ""hi""
  puts "" #{x}""
  x = yield
  puts "" #{x}""
end
</code></pre>

<p>In the below code <code>block {}</code> from here => <code>sample {""hellooo""}</code> called
<code>yield</code> and assigned ""hellooo"" to <code>x</code>. Looks good and as expected.</p>

<pre><code>sample{'helloo'}
# &gt;&gt;  hi
# &gt;&gt;  helloo
</code></pre>

<p><strong>CODE-II</strong></p>

<pre><code>o = Object.new
def o.each
  x = yield
  p x
  x = yield
  p x
  x = yield
  p x
end
e = o.to_enum # =&gt; #&lt;Enumerator: #&lt;Object:0x007fd1d20494e8&gt;:each&gt;
</code></pre>

<p><strong>Why the same not happened in the below call with <code>e.next ""sample""</code>, as the p didn't printed anything?</strong></p>

<pre><code>e.next {""sample""} # =&gt; nil
e.next # =&gt; nil
# &gt;&gt; nil
</code></pre>

<p><strong>EDIT</strong> (Here how <code>enum#feed</code> did the change with the help of <code>yield</code>?)</p>

<pre><code>o = Object.new
=&gt; #&lt;Object:0x2299d88&gt;
def o.each
x = yield         
p x       
x = yield
p x 
x = yield
p x 
end
=&gt; nil
e=o.to_enum
=&gt; #&lt;Enumerator: #&lt;Object:0x2299d88&gt;:each&gt;
e.next
=&gt; nil
e.feed ""hi""
=&gt; nil
e.next
""hi""
=&gt; nil
</code></pre>
","149392","","<p><code>next</code> does not take a block. So if you pass it one, it simply ignores it.</p>

<p>It is not possible to simulate something being returned from the block when using the <code>next</code> method of an enumerator. When using an <code>to_enum</code>, the block given to the <code>each</code> method will always return <code>nil</code> except if a value has previously supplied by the <code>feed</code> method.</p>
"
"<p>I am new to Haskell. I am extremely confused about modules, what they are, and how to use them. For example, I created a <code>add.hs</code> file that contains a simple function as follows:</p>

<pre><code>add a b = a + b
</code></pre>

<p>There are some test cases in a file called <code>addTestCases.hs</code>, that check for the functionality of <code>add.hs</code>.</p>

<p>I am somehow supposed to load the testcases to GHC, which will automatically run, and find the <code>add.hs</code> function.</p>

<p>I am really not sure how to accomplish this, and would appreciate any clarification, as I have spent a lot of time trying to figure this out.</p>

<p>Many thanks in advance.</p>
","149392","","<p>Add <code>module Add where</code> as the first line of your add.hs file. Then all the functions you define in the file, will be inside the module <code>Add</code> and can be imported from other files by writing <code>import Add</code> in those files.</p>
"
"<p>say I am given the expression (i will refer to l as lambda):</p>

<p>lx.f1 f2 x</p>

<p>where f1 and f2 are functions and x suppose to some number.</p>

<p>how do you interpret this expression? is lx.(f1 f2) x the same as lx.f1 (f2 x)?</p>

<p>as an exemple, what will be the diffrence in the result of lx.(not eq0) x and lx.not (eq0 x)?
(eq0 is a function that return true if the parm equals 0 and not is the well known not function)</p>

<p>more formally T=lx.ly.x ,F=lx.ly.y ,not = lx.xFT and eq0 = lx.x(ly.F)T</p>
","149392","","<p><code>f1 f2 x</code> is the same as <code>(f1 f2) x</code>. Function application is left-associative.</p>

<blockquote>
  <p>is ln.(f1 f2) x the same as ln.f1 (f2 x)?</p>
</blockquote>

<p>No, not at all. <code>(f1 f2) x</code> calls <code>f1</code> with <code>f2</code> as its argument and then calls the resulting function with <code>x</code> as its argument. <code>f1 (f2 x)</code> calls <code>f2</code> with <code>x</code> as its argument and then calls <code>f1</code> with the result of <code>f2 x</code> as its argument.</p>

<blockquote>
  <p>ln.(not eq0) x and ln.not (eq0 x)?</p>
</blockquote>

<p>If we're talking about a typed lambda calculus and <code>not</code> expects a boolean as an argument, the former will simply cause a type error (because <code>eq0</code> is a function and not a boolean). If we're talking about the untyped lambda calculus and <code>true</code> and <code>false</code> are represented as functions, it depends on how <code>not</code> is defined and how <code>true</code> and <code>false</code> are represented.</p>

<p>If <code>true</code> and <code>false</code> are Church booleans, i.e. <code>true</code> is a two-argument function that returns its first argument and <code>false</code> is a two-argument function that returns its second argument, then <code>not</code> is equivalent to the <code>flip</code> function, i.e. it takes a two-argument function and returns a two-argument function whose arguments have been reversed. So <code>(not eq0) x</code> will return a function that, when applied to two other arguments <code>y</code> and <code>z</code>, will evaluate to <code>((eq0 y) x) z</code>. So if <code>y</code> is 0, it will return <code>x</code>, otherwise <code>z</code>.</p>
"
"<p>Just learning ML and I was looking for a built-in function similar to Haskell's const. It would be defined something like:</p>

<pre><code>fun const a b = a
</code></pre>

<p>Kind of easy to implement myself of course :) but I thought there might be an equivalent standard function that I'm overlooking.</p>
","149392","","<p>There is no such function in the standard library, so you'll have to define it yourself like you did.</p>
"
"<p>I am new to Haskell and have been trying to pick up the basics.</p>

<p>Assume I have the following list y:</p>

<p><code>3:3:2:1:9:7:3:[]</code></p>

<p>I am trying to find a way to delete the first occurrence of 3 in list y. Is this possible using simple list comprehension? </p>

<p>What I tried (this method deletes all instances from a list):</p>

<pre><code>deleteFirst _ [] = [] 
deleteFirst a (b:bc) | a == b    = deleteFirst a bc 
                     | otherwise = b : deleteFirst a bc
</code></pre>
","149392","","<p>No, it's not possible using a list comprehension. In a list comprehension you make a decision which element to keep based on that element only. In your example, you want to treat the first 3 you encounter differently than other 3s (because you only want to remove the first one), so the decision does not depend on the element alone. So a list comprehension won't work.</p>

<p>Your attempt using a recursive function is already pretty close, except that, as you said, it removes all instances. Why does it remove all instances? Because after you removed the first one, you call <code>deleteFirst</code> again on the rest of the list, which will remove the next instance and so on. To fix this, just do not call <code>deleteFirst</code> again after removing the first instance. So just use <code>bc</code> instead of <code>deleteFirst a bc</code> in that case.</p>
"
"<p>How to match pattern</p>

<pre><code>Maybe (Either (Int, String) String)
</code></pre>

<p>I need to write function with such kind of input and how it is possible to parse such input?</p>
","149392","","<p>The <code>Maybe a</code> type has the patterns <code>Just a</code> and <code>Nothing</code>. The <code>Either a b</code> type has the patterns <code>Left a</code> and <code>Right b</code>. So a value of type <code>Maybe (Either (Int, String) String)</code> can match the following patterns:</p>

<ul>
<li><code>Nothing</code></li>
<li><code>Just (Left (x,y))</code> where <code>x</code> is an <code>Int</code> and <code>y</code> is a <code>String</code></li>
<li><code>Just (Right z)</code> where <code>z</code> is a <code>String</code>.</li>
</ul>
"
"<p>I would appreciate if someone could guide me here, I really want to understand what I did wrong and why? </p>

<p>This is my code:</p>

<pre><code>fun get_longest xs = foldl((fn (x ,y ) =&gt; if  String.size x &gt;= String.size y then x
else y),[],xs)
</code></pre>

<p>My function should take a list of strings and return the longest string; if the list is empty, just <code>return []</code>.</p>

<p>But I'm getting this error:</p>

<pre><code>Error: operator and operand don't agree [tycon mismatch]
  operator domain: 'Z * 'Y -&gt; 'Y
  operand:         (string * string -&gt; string) * int * 'X
  in expression:
  foldl ((fn (&lt;pat&gt;,&lt;pat&gt;) =&gt; if &lt;exp&gt; then &lt;exp&gt; else &lt;exp&gt;),0,xs)

uncaught exception Error
  raised at: ../compiler/TopLevel/interact/evalloop.sml:66.19-66.27
             ../compiler/TopLevel/interact/evalloop.sml:44.55
             ../compiler/TopLevel/interact/evalloop.sml:296.17-296.20
</code></pre>
","149392","","<p><code>foldl</code> is a curried functions, it's type is <code>('a * 'b -&gt; 'b) -&gt; 'b -&gt; 'a list -&gt; 'b</code>. Therefore it should be called as <code>foldl f s xs</code>. You're calling it as <code>foldl (f, s, xs)</code>. That's wrong because it calls <code>foldl</code> with a tuple as its argument and <code>foldl</code> does not expect a tuple. If it did, its type would be <code>('a * 'b -&gt; 'b) * 'b * 'a list -&gt; 'b</code>.</p>
"
"<p>Suppose I was to define <code>(+)</code> on Strings but not by giving an instance of <code>Num String</code>.</p>

<p>Why does Haskell now hide <code>Num</code>s <code>(+)</code> function? After all, the function I have provided:</p>

<pre><code>(+) :: String -&gt; String -&gt; String
</code></pre>

<p>can be distinguished by the compiler from Prelude's <code>(+)</code>. Why can't both functions exist in the same namespace, but with different, non-overlapping type signatures?</p>

<p>As long as there is no call to the function in the code, Haskell to care that there's an ambiguitiy. Placing a call to the function with arguments will then determine the types, such that appropriate implementation can be chosen.</p>

<p>Of course, once there is an instance <code>Num String</code>, there would actually be a conflict, because at that point Haskell couldn't decide based upon the parameter type which implementation to choose, if the function were actually called.<br>
In that case, an error should be raised.</p>

<p>Wouldn't this allow function overloading without pitfalls/ambiguities?</p>

<p>Note: I am <em>not</em> talking about dynamic binding.</p>
","149392","","<p>Haskell simply does not support function overloading (except via typeclasses). One reason for that is that function overloading doesn't work well with type inference. If you had code like <code>f x y = x + y</code>, how would Haskell know whether <code>x</code> and <code>y</code> are Nums or Strings, i.e. whether the type of <code>f</code> should be <code>f :: Num a =&gt; a -&gt; a -&gt; a</code> or <code>f :: String -&gt; String -&gt; String</code>?</p>

<p>PS: This isn't really relevant to your question, but the types aren't strictly non-overlapping if you assume an open world, i.e. in some module somewhere there might be an instance for <code>Num String</code>, which, when imported, would break your code. So Haskell never makes any decisions based on the fact that a given type does not have an instance for a given typeclass. Of course, function definitions hide other function definitions with the same name even if there are no typeclasses involved, so as I said: not really relevant to your question.</p>

<hr>

<p>Regarding why it's necessary for a function's type to be known at the definition site as opposed to being inferred at the call-site: First of all the call-site of a function may be in a different module than the function definition (or in multiple different modules), so if we had to look at the call site to infer a function's type, we'd have to perform type checking across module boundaries. That is when type checking a module, we'd also have to go all through the modules that import this module, so in the worst case we have to recompile all modules every time we change a single module. This would greatly complicate and slow down the compilation process. More importantly it would make it impossible to compile libraries because it's the nature of libraries that their functions will be used by other code bases that the compiler does not have access to when compiling the library.</p>
"
"<p>The following function gives a compilation error at the point I try to match an empty list:</p>

<pre><code>let rec tuplesToList (acc: int list) (remaining: int*int list) =
    match remaining with
    | [] -&gt; acc
    | (a, b) :: tail -&gt; tuplesToList (a :: b :: acc)
</code></pre>

<p>The error is:</p>

<pre><code>This expression was expected to have type int * int list but here has type 'a list
</code></pre>

<p>This works fine when <code>remaining</code> is a simple list of <code>int</code>s rather than tuples.  How can I match an empty list of tuples?</p>
","149392","","<p><code>[]</code> is just fine to match an empty list of tuples. But according to your type annotation, <code>remaining</code> is not a list of tuples, it's a tuple containing an int and an int list. A list of tuples would be <code>(int*int) list</code>. <code>int * int list</code> is parsed as <code>int * (int list)</code>, not <code>(int * int) list</code>.</p>

<p>If you fix the type, your code should work fine.</p>
"
"<p>I am trying to run a help function by all element from a list as the parameter</p>

<pre><code>-- Help FUnction
helpFun :: Int -&gt; Int -&gt; Int
helpFun x y = x+y

-- Main Functiion
mainfun :: [Int] -&gt; [Int]
mainfun x = helpfun 2 [j | j &lt;- x]
</code></pre>

<p>If we assume x is a list of int [0,1,2,3,4,5,6]
What should I change to make it run helpfun for all element in the list?? 
I want to get all number from <code>helpFun 2 0 to helpFun 2 6</code></p>

<p>so just something like </p>

<pre><code>for a in list:
    tt = helpFun 2 a
    return tt
</code></pre>

<p>Thanks</p>
","149392","","<p>There's no such a thing as a for loop in Haskell.</p>

<p>To apply a function to each element in a list, you can either use <code>map</code> or a list comprehension. Since you already have a list comprehension (which currently does not do anything), let's just use that:</p>

<pre><code>mainfun xs = [helpfun 2 x | x &lt;- xs]
</code></pre>

<p>The alternative using <code>map</code> would be:</p>

<pre><code>mainfun xs = map (helpfun 2) xs
</code></pre>
"
"<p>I want to create a <code>hash</code> but I'm only interested in the <code>keys</code>. As a consequence, I want the <code>values</code> to have the <em>smallest memory footprint</em> possible. What would be the most suitable object to assign?</p>

<ul>
<li><code>nil</code> ?</li>
<li>a very short symbol like <code>:a</code> ?</li>
<li>Something even smaller?</li>
</ul>
","149392","","<p>The following applies to the official Ruby implementation. Other implementations may differ in this regard.</p>

<p><code>nil</code>, <code>true</code>, <code>false</code> and <code>Fixnum</code>s are encoded inside the pointer at the C level, whereas all other objects would involve a pointer that actually points somewhere (so you'd have the space consumption of the pointer plus the space it points to). So these objects are the ones with the smallest memory footprint.</p>

<p>Of these, <code>nil</code> makes the most sense semantically.</p>
"
"<p>For the following code, how do I specify which phone number type (HomePhone or WorkPhone) the function storePhone is storing the Int as?    </p>

<pre><code>type HomePhone = Int
type WorkPhone = Int

data Phone = HomePhone
           | WorkPhone

storePhone :: int -&gt; Phone 
storePhone num = num

main :: IO ()
main = print $ storePhone 12345678
</code></pre>

<p>This question was a simplified version of the question I have for a side project I'm doing.
I have a module that parses a file to the relevant data type (aka like in sample the Phone type).  All the data is Double but have different semantic meaning.  In another module, I have methods that use the data.  Each method takes different permutations of data types(aka HomePhone, WorkPhone) as arguments.  I could have made HomePhone and WorkPhone data type or even newtype, but it would have made the methods that used the data look messy with lots of pattern matching and stuff.  So was just wondering if I could simplify the data type(aka Phone) so that it was a bit more elegant and still type safe.  Cheers!
I guess I should do the following?</p>

<pre><code>type HomePhone = Int
type WorkPhone = Int

data Phone = HomePhone HomePhone 
           | WorkPhone WorkPhone 
</code></pre>
","149392","","<p>In its current form the <code>Phone</code> type isn't capable of storing any phone numbers. It has two constructors that both take zero arguments and thus can't store anything. The fact that the constructors' names are equal to the type names you defined earlier doesn't mean anything.</p>

<p>You probably intended something like this:</p>

<pre><code>type PhoneNumber = String -- Storing phone numbers as ints is a bad idea

data PhoneType = HomePhone
               | WorkPhone
                 deriving Show

data Phone = Phone PhoneType PhoneNumber
             deriving Show

storePhone :: PhoneNumber -&gt; PhoneType -&gt; Phone
storePhone number typ = Phone typ number

main :: IO ()
main = print $ storePhone ""12345678"" HomePhone
</code></pre>
"
"<p>So I wrote a function ""filter"" that is applied to the given predicate to each element in the input list and checks whether it should be included in the output.</p>

<pre><code>let rec filer (pred: 'a -&gt; bool) (l: 'a list) : 'a list =
begin match l with
| [] -&gt; []
| hd :: rest -&gt; if (pred hd) then hd :: (filter pred rest) else filter pred rest
end
</code></pre>

<p>Now I'm writing a predicate that can be passed to filter to keep just multiples of five.</p>

<pre><code>let multiples_of_five_pred: int -&gt; bool =
filter (fun (x: int) -&gt; x mod 5)
</code></pre>

<p>I don't know what I'm missing here...I'm getting a syntax error that says ""this expression has type int but an expression was expected of type bool"". </p>
","149392","","<p>The function given to <code>filter</code> needs to produce an boolean, but as the error message is telling you, the function you give to <code>filter</code> produces an integer, not a boolean. You need to change it to produce a boolean instead.</p>

<p>Once you fix that, you'll have another type error: Applying <code>filter</code> to a function that takes an integer will produce a function of type <code>int list -&gt; int list</code>, but according to your type signature, you want the type <code>int -&gt; bool</code>.</p>

<p>Also note that you say that <code>multiples_of_five_prod</code> should be a function that is <em>given</em> to <code>filter</code>, but you actually call <code>filter</code> inside the function. That doesn't fit. You should remove the call to <code>filter</code>.</p>
"
"<p>I was wondering if there is a way find out where the list position x is at in a function?</p>

<pre><code>hep list = [if x==""you"" then ""u"" else if x==""are"" then ""r"" else x | x &lt;- list]
</code></pre>

<p>Something like:</p>

<pre><code>hep list = [if x==""by"" &amp;&amp; elemAt(x+1)==""the"" &amp;&amp; elemAt(x+2)==""way"" then ""btw"" else if x==""are"" then ""r"" else x | x &lt;- list]
</code></pre>
","149392","","<p>You can get the index by zipping the given list with <code>[0..]</code>, but accessing list items by index is neither an idiomatic nor an efficient way to do what you want to do.</p>

<p>A better solution would be to use recursion and pattern matching to iterate over the list, taking multiple elements at once.</p>
"
"<pre><code>type foo = A of int * int | B of (int * int)
</code></pre>

<p>What is the difference between <code>int * int</code> and <code>(int * int)</code> there? The only difference I see is in pattern matching:</p>

<pre><code>let test_foo = function
  | A (f, s) -&gt; (f, s)
  | B b -&gt; b
</code></pre>

<p>Is it just a syntactic sugar? How do you select which one to use? Is there any performance difference between these two forms?</p>
","149392","","<p>Yes, there is a performance difference:</p>

<p>In memory <code>A (23, 42)</code> will contain a tag identifying it as an <code>A</code> and the two integers 23 and 42. <code>B (23, 42)</code> will contain a tag identifying it as a <code>B</code> and a pointer to a tuple containing the integers <code>23</code> and <code>42</code>. So there will be one additional memory allocation when creating a <code>B</code> and one additional level of indirection when accessing the individual values inside a <code>B</code>. So in cases where you don't actually use the constructor arguments as a tuple, using <code>A</code> will involve less overhead than using <code>B</code>.</p>

<p>On the other hand your <code>test_foo</code> function will create a new tuple every time it is called with an <code>A</code> value, but when it is called with a <code>B</code> value it will simply return the tuple that already exists in memory. So <code>test_foo</code> is a cheaper operation for <code>B</code> than it is for <code>A</code>. So if you'll be using the constructor's arguments as a tuple and you will do so multiple times for the same value, using <code>B</code> will be cheaper.</p>

<p>So if you're going to be using the constructor arguments as a tuple, it makes sense to use a constructor taking a tuple because you can get at the tuple using pattern matching with less code and because it will avoid having to create tuples from the same value multiple times. In all other cases not using a tuple is preferable because it involves less memory allocation and less indirection.</p>
"
"<p>I am trying to use pattern matching and recursion to replace some words in a list with other words. The pattern matching does not work in all cases, and my code does not produce a list of strings changed, using pattern matching, in all cases.</p>

<p>I was wondering if someone can help me identify why this is?</p>

<p>Many thanks in advance.</p>

<pre><code>pattr :: [[Char]] -&gt; [[Char]]
pattr [] = []
pattr (""you"":as) = (""u"":pattr as)
pattr (""see"":""you"":as) = (""seaya"":pattr as)
pattr (""by"":""the"":""way"":as) = (""btw"":pattr as)
pattr (""laugh"":""out"":""loud"":as) = (""lol"":pattr as)
pattr (""for"":""your"":""information"":as) = (""fyi"":pattr as)
pattr (x:as) = (x:as)
</code></pre>

<p>Input </p>

<pre><code>pattr [""milk"", ""see"", ""you"", ""soon""] 
</code></pre>

<p>output</p>

<pre><code>[""milk"", ""see"", ""you"", ""soon""] 
</code></pre>

<p>Input</p>

<pre><code>pattr [""see"", ""you"", ""soon""]
</code></pre>

<p>output</p>

<pre><code>[""cya"", ""soon""]
</code></pre>
","149392","","<p>You're not recursing in your last case. So if the first word in your list doesn't match any of the patterns, it just stops and doesn't check the words that come later in the list.</p>
"
"<p>After learning some Scala and the benefits of FP, I am reimplementing some of my previous CS assignments to better understand FP. However, I got to one assignment that seems impractical to implement with FP (or at least trivially translate).</p>

<p>When solving a simple 2D maze it is necessary to remember which nodes have been visited. However, without shared state, how can each recursive call know what nodes the other recursive calls have examined? I could pass the maze as a parameter to each recursive call and return a new maze containing the places visited, but that seems too computationally intensive to copy an entire maze each recursive call. Would a more advanced approach be required to implement an immutable maze solver?</p>
","149392","","<p>You can pass around a set containing the visited nodes (or their ids/names if nodes themselves are comparable for equality in your setup). Adding items to an immutable set generally takes <code>O(log n)</code>, so does checking whether an element is contained in the set. So that's significantly cheaper than copying the maze.</p>
"
"<p>I am trying to create a new data declaration called place.</p>

<p>It looks like this:</p>

<p><code>data place = United States | France | England | Germany | Mexico | Canada</code></p>

<p>My hope is to then use a function called cap to take the place to its capital like so:</p>

<pre><code>cap :: place -&gt; String
cap a = case a of

            Spain           -&gt; ""Madrid""
            France          -&gt; ""Paris""
            England         -&gt; ""London""
            Germany         -&gt; ""Berlin""
            Mexico          -&gt; ""Mexico City""
            Canada          -&gt; ""Ottawa""
            _               -&gt; undefined
</code></pre>

<p>However the last case, where I am attempting to catch all other entries that may not exist in the data declaration does not work. If I enter <code>capital Wales</code> for instance in GHCI, I don't get an undefined response. Instead I get a not in scope error. Can someone help me with my confusion and perhaps provide a legitimate way of trying to catch other cases?</p>
","149392","","<p>The problem isn't with how you handle missing cases - how you're doing it is fine. The problem is that the <code>Wales</code> constructor simply does not exist. So just like when you try to use a variable or function that has not been defined, you get a compilation error. Your <code>cap</code> function never even gets called, so no changes you could do to it, would affect this behaviour. There's nothing you can do to make code that uses non-existing constructors compile.</p>
"
"<p>I'm trying to write a function that accepts a list of comparators and returns a comparator that will compare a pair of values using the first comparator, then the second one if the first comparator returned <code>EQ</code> etc.</p>

<p>What I came up with was the following function:</p>

<pre><code>import Data.Monoid

chainCompare :: [a -&gt; a -&gt; Ordering] -&gt; a -&gt; a -&gt; Ordering
chainCompare = mconcat . map ($)
</code></pre>

<p>EDIT: <code>chainCompare</code> can also be written as (thanks to Vitus for pointing it out):</p>

<pre><code>chaincompare = mconcat
</code></pre>

<p>An example of using this function is the following:</p>

<pre><code>import Data.List
import Data.Ord

sortBy (chainCompare [comparing length, comparing sum]) [[1..100], [1..20], [100..200]]
</code></pre>

<p>However, this function requires using comparing explicitly, so I tried to modify the function like this:</p>

<pre><code>chainCompare :: Ord b =&gt; [a -&gt; b] -&gt; a -&gt; a -&gt; Ordering
chainCompare = mconcat . map (comparing $)
</code></pre>

<p>However, <code>chainCompare</code> will cause a compile error in this case (Also, even if this example did compile, it would not work for empty strings):</p>

<pre><code> sortBy (chainCompare [length, head]) [['a'..'z'], ['A'..'Z'], ""Lorem ipsum dolor sit amet""]
</code></pre>

<p>Is it possible to make <code>chainCompare</code> polymorphic in the sense that <code>b</code> can be any type of <code>instance Ord</code>? I have seen some Haskell code using the <code>forall</code> extensions and tried searching for them, but I still cannot figure out what each specific extension is useful for.</p>
","149392","","<p><code>chainCompare [f, g]</code> will always cause an error if <code>f</code> and <code>g</code> are functions with different types - no matter how you define <code>chainCompare</code>. You can even remove the <code>chainCompare</code> and just write <code>[f, g]</code> and it will still cause an error. The reason for that is that it is simply not possible to have values of different types in a list.</p>

<p>Sometimes when you want to store values of different types in the same list it can make sense to use existential types (a GHC extension). With that you could define an existential type <code>Comparator</code> and use the list <code>[Comparator length, Comparator head]</code>. However that has no benefit over using <code>comparing</code> like you did in your first example, so it would be quite pointless in this case.</p>

<p>So your first code using <code>comparing</code> is really the best you can do.</p>

<p>For the record, here's how the code would look like using existential types:</p>

<pre><code>{-# LANGUAGE ExistentialQuantification #-}

import Data.Monoid
import Data.Ord

data Comparator a = forall b. Ord b =&gt; Comparator (a -&gt; b)

chainCompare :: [Comparator a] -&gt; a -&gt; a -&gt; Ordering
chainCompare = mconcat . map comp
  where comp (Comparator f) = comparing f

-- Usage:
list = [['a'..'z'], ['A'..'Z'], ""Lorem ipsum dolor sit amet""]
sortedList = sortBy (chainCompare [Comparator length, Comparator head]) list
</code></pre>

<p>The only difference in usage over your first version is that you have to write <code>Comparator</code> instead of <code>comparing</code> and that it's not possible to use a comparison function that does not compare based on a key. So as I said, it doesn't really add any benefit over your first version.</p>
"
"<p>I have a funciton which compiles successfully in haskell.</p>

<p>It looks like this:</p>

<pre><code>suffix :: Int -&gt; String
suffix i 
   | i==0                 = ""th""
   | i==1                 = ""st""
   | i==2                 = ""nd""
   | i==3                 = ""rd""
   | i&gt;=4 || i&lt;=9         = ""th""
   | i&lt;0                  = error ""Must be positive integer""     ----------NOT WORKING?
   | otherwise            = suffix(i `rem` 10)      
</code></pre>

<p>It does not work that I can tell at least with the error line for the <code>i&lt;0</code> guard. When I enter into GHCI and add a ""-"" to the a number: <code>suffix -5</code> I get the same error message I would get if I completely left this case off. </p>

<p>I'd like it to display my error message obviously. Hopefully someone can spot my issue. Thanks!</p>
","149392","","<p>When you write <code>suffix -5</code> that is interpreted as ""subtract 5 from suffix"", i.e. it thinks you're trying to apply the binary operator <code>-</code> to the arguments <code>suffix</code> and <code>5</code>. Of course that won't work because you can't subtract a number from a function.</p>

<p>If you write <code>suffix (-5)</code>, it will work fine.</p>
"
"<p>How should I unquote in the following:</p>

<pre><code>(def a '(1 2 (+ 1 2)))
</code></pre>

<p>So that it evaluates to:</p>

<pre><code>(1 2 3)
</code></pre>

<p>Doing a:</p>

<pre><code>(def a '(1 2 ~(+ 1 2)))
</code></pre>

<p>evaluates as below in the REPL:</p>

<pre><code>(1 2 (clojure.core/unquote (+ 1 2)))
</code></pre>

<p>I know I can do a:</p>

<pre><code>(list 1 2 (+ 1 2))
</code></pre>

<p>But I was wondering whether there might be some syntax for the purpose.</p>
","149392","","<p>Use <code>`</code> instead of <code>'</code>. Unquoting does not work with <code>'</code>.</p>
"
"<p>I am wondering are all infinite languages undecidable?</p>

<p>They must be right, as the TM trying to decide an infinite language would just loop forever, which makes it a recgonizer, not a decider.</p>

<p>Thanks guys.</p>
","149392","","<p>No, there are many infinite languages that are decidable. One trivial example is the language <code>{n € N | a^n}</code>, i.e. the language of words that only contain the letter ""a"". This language can be matched by the regular expression <code>a*</code>. so it is a regular language and thus decidable.</p>
"
"<p>To the vultures who might say ""Look it up in your textbook"", or ""Hoogle it"", I did. </p>

<p>I came across the statement</p>

<p><code>recipe = (== ""000001"")</code></p>

<p>It looks like some sort of boolean to me but I'm not sure. I've tried testing it in different ways in GHCi but I couldn't figure out anything that works. 
Can  someone explain what it means, and this question will be a result the next time someone Googles ""Haskell (==""</p>
","149392","","<p><code>(== arg)</code> or <code>(arg ==)</code> is an operator section (it works for other operators as well - not just <code>==</code>). What it does is to partially apply the operator to the given operand. So <code>(== ""foo"")</code> is the same as <code>\x -&gt; x == ""foo""</code>.</p>
"
"<p>So I am studying Build Awesome Command-Line Applications in Ruby. On page 81, we're supposed to use STDIN to enter more than one task into a project.</p>

<pre><code> File.open(global_options[:filename], 'a+') do |todo_file|
  if task_names.empty?
    puts ""Reading new tasks from stdin...""
    task_names = STDIN.readlines.map {|a| a.chomp}
  end
  tasks = 0
  task_names.each do |task|
    todo_file.puts [task, Time.now].join(', ')
    tasks+=1
  end
  if tasks == 0
    raise ""You must provide tasks on the command-line or standard input""
  end
end
</code></pre>

<p>The usual way to enter tasks into a project it's like this <code>$todo new ""Rake leaves</code> but with the code above we can to what's in the example below.</p>

<p>It does work. But how do I tell STDIN to stop listening? The example on how to use it is this...</p>

<pre><code>$ todo new
Rake leaves
Take out trash
Clean garage
Put away dishes
^D
</code></pre>

<p>What does the <code>^D</code> represent?</p>
","149392","","<p>You can close STDIN by pressing Ctrl-d on Unix-like systems or Ctrl-z on Windows.</p>

<blockquote>
  <p>What does the ^6 represent?</p>
</blockquote>

<p>Are you sure it says <code>^6</code> and not <code>^d</code>? If so, that's probably a typo.</p>
"
"<p>I have this function that checks a list of parsers if they work or not. I get error: EQUALO LPAREN FN. Any help?</p>

<pre><code>fun oneOf [] = fn inp =&gt; NONE
 | oneOf (p::ps) = (fn inp =&gt; case parse p inp of
       NONE =&gt; oneOf ps inp
     | SOME (v,out) =&gt; SOME (v,out))
</code></pre>
","149392","","<p>A function defined with <code>fn</code> can have multiple cases just like a function defined with <code>fun</code>. So you can write something like <code>fun pat1 =&gt; exp1 | pat2 =&gt; exp2</code>. This means that when the SML parser sees the <code>|</code> at the beginning of line 2, it assumes that it belongs to the <code>fn</code> on line 1, not to the <code>fun</code> (because the <code>fn</code> came more recently). So when it reaches the <code>=</code>, it's confused because it expected a <code>=&gt;</code>.</p>

<p>To fix your issue surround the <code>fn</code> on line 1 with parentheses.</p>
"
"<p>Given the following function in SML: </p>

<pre><code>fun i a b = let fun j()=a+1 in j end;
</code></pre>

<p>The data type of the function is: </p>

<pre><code>val i = fn : int -&gt; 'a -&gt; unit -&gt; int
</code></pre>

<p>I don't understand why <code>int -&gt; 'a -&gt; unit -&gt; int</code>? </p>

<p>And why not <code>(int * a') -&gt; unit -&gt; int</code>, since the function <code>i</code> receives two inputs. </p>
","149392","","<p>If you defined the function as <code>fun i (a,b) = ...</code> then it would take a tuple as an argument and its type would indeed be <code>(int * 'a) -&gt; unit -&gt; int</code>. It would be called as <code>i (23,42) ()</code> (<code>(23,42)</code> being a tuple and <code>()</code> being the unit value).</p>

<p>However you defined it as <code>fun i a b = ...</code>, which defines a function that takes an argument and then returns another function that takes the next argument. It is a shortcut for <code>fun i a = fn b =&gt; ...</code>. It can be called as <code>i a b ()</code>.</p>
"
"<p>I would like a working version of this:</p>

<pre><code>let x = ""a"" ^ 0;;
</code></pre>
","149392","","<p>As you undoubtedly noticed, you can only concatenate strings with other strings - not integers. So you'll have to convert your integer to a string before you can concatenate it. If the integer is really hard coded like in your example, you can just write <code>""0""</code> instead of <code>0</code> (in fact in your example you can just write <code>""a0""</code> and not concatenate anything at all).</p>

<p>If the integer is not a constant, you can use <code>string_of_int</code> to convert it to a string. So this will work:</p>

<pre><code>let x = ""a"" ^ string_of_int my_integer
</code></pre>
"
"<p>I'm just curious, these two functions would do the same thing. But which one should I use?</p>

<pre><code>let f a =
    match a with
        b -&gt; a;; 
let f a =
    match a with
        b -&gt; b;;
</code></pre>

<p>Or it just depends on your preference?<br>
I feel the second one would be better but I'm not sure. </p>
","149392","","<p>Performance wise there is no difference. Style-wise <code>b -&gt; a</code> is a bit problematic because you have an unused variable <code>b</code>. <code>_ -&gt; a</code> would make more sense. Other than that, it's just preference.</p>

<p>Personally I would prefer <code>_ -&gt; a</code> over <code>b -&gt; b</code> because it doesn't introduce an extra variable.</p>

<p>PS: I assume in your real code there are more cases than just <code>b</code> - otherwise you could just write <code>let f a = a</code>.</p>
"
"<p>I'm trying to filter a list non-recursively but I'm not sure how to go about going it.
For a simple example, say I have a list [1, 2, 3, 4, 5, 6, 7] and I want to filter it so it returns a list of numbers greater than 3, ie [4, 5, 6, 7].</p>

<p>I can do it recursively no problem but I'm stuck here. Unfortunately, I'm new to sml and the best I can think of is using map but I don't think map was made for this.</p>
","149392","","<p>You're right: <code>map</code> wasn't made for this - the list produced by <code>map</code> will always have the same size as the list given to <code>map</code>.</p>

<p><code>List.filter</code> however <em>was</em> made for this. If you call <code>List.filter</code> with a function as an argument that returns true if a number is greater than 3, it will do exactly what you want.</p>
"
"<p>Im trying to figure out whats wrong. Seems like something wrong with types, but the same expression alone works fine. </p>

<p>Here is the code:</p>

<pre><code>a = [9, 4, 12, 0, -6, 16] :: [Int]

qsort:: [Int] -&gt; [Int] 
qsort [] = []
qsort [x] = [x]
qsort xs = (qsort l)++(qsort r)
    where   m = (realToFrac(sum xs)) / (realToFrac(length xs))
            l = filter (&lt;=m) xs
            r = filter (&gt;m) xs

main::IO()
main = do
        print (show (qsort a))
</code></pre>

<p>It throws:</p>

<pre><code>main.hs:7:36:
    No instance for (Fractional Int)
      arising from a use of `/'
    Possible fix: add an instance declaration for (Fractional Int)
    In the expression: (realToFrac (sum xs)) / (realToFrac (length xs))
    In an equation for `m':
        m = realToFrac (sum xs) / (realToFrac (length xs))
    In an equation for `qsort':
        qsort xs
          = (qsort l) ++ (qsort r)
          where
              m = realToFrac (sum xs) / (realToFrac (length xs))
              l = filter (&lt;= m) xs
              r = filter (&gt; m) xs
</code></pre>

<p>But that works well:</p>

<pre><code>a = [9, 4, 12, 0, -6, 16] :: [Int]
main::IO()
main = do
    print (show (   (realToFrac(sum a)) / (realToFrac(length a))   ))
</code></pre>
","149392","","<p><code>realToFrac(sum xs) / (realToFrac(length xs))</code> does work, but its result is a fractional number. So in your code <code>m</code> is a fractional number. But you compare <code>m</code> with the items in your list, which are Ints. Since you can only only compare values of the same type and Ints aren't fractional numbers, this causes the type error.</p>

<p>To fix your issue you can either use integer division (<code>div</code>) or convert the integers in the list to fractional numbers before comparing them with <code>m</code>.</p>
"
"<p>I think I do understand the <em>list monad</em> but then I found I am not. Here is the story.</p>

<p>Given list <code>m</code> and function <code>k</code></p>

<pre><code>&gt; let m = [1..10]
&gt; :t m
m :: [Integer]

&gt; let k = replicate 2
&gt; :t k
k :: a -&gt; [a]
</code></pre>

<p>Playing with bind <code>&gt;&gt;=</code> give what I expect</p>

<pre><code>&gt; :t (&gt;&gt;=)
(&gt;&gt;=) :: Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
&gt; :t m &gt;&gt;= k
m &gt;&gt;= k :: [Integer]
&gt; m &gt;&gt;= k
[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10]
</code></pre>

<p>but for <code>&gt;&gt;</code></p>

<p>Expected (from experiencing with IO monad, everything on left side would be discarded)</p>

<pre><code>m &gt;&gt; m
[1,2,3,4,5,6,7,8,9,10]
</code></pre>

<p>Got</p>

<pre><code>&gt; :t (&gt;&gt;)
(&gt;&gt;) :: Monad m =&gt; m a -&gt; m b -&gt; m b
:t m &gt;&gt; m
m &gt;&gt; m :: [Integer]
&gt; m &gt;&gt; m
[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5 ... 9,10] -- truncated, real output is 100 elements
</code></pre>

<p>Please explain why <code>&gt;&gt;</code> is not behave like I expected (of course I must have misunderstanding) and what is the correct way to interpret <code>&gt;&gt;</code> ?</p>
","149392","","<p><code>foo &gt;&gt; bar</code> is the same as <code>foo &gt;&gt;= \_ -&gt; bar</code>. So in the case of IO it executes the left action, ignoring the return value of that action, and then executes the right action. In the case of lists it maps over each element in the left list, ignoring the value of each elements, and inserts the right list at each point.</p>

<p>Another way to look at it is that <code>&gt;&gt;=</code> for lists is the same as <code>flip concatMap</code>, <code>&gt;&gt;</code> is the same as <code>flip (concatMap . const)</code>.</p>
"
"<p>Does OCaml use <code>mutable</code> or <code>immutable</code> data structure in implementation of sort?</p>

<p>For many sort algorithms, we need to exchange data between positions in list or array or something.</p>

<p>I am just wondering, if OCaml is always intended to use <code>immutable data structures</code>, then each exchange operation will create a new copy?</p>

<p>Will that impact the <code>performance</code>?</p>
","149392","","<blockquote>
  <p>For many sort algorithms, we need to exchange data between positions in list or array or something.</p>
</blockquote>

<p>Not necessarily.</p>

<blockquote>
  <p>I am just wondering, if OCaml is always intended to use immutable data structures</p>
</blockquote>

<p>No, OCaml has both mutable and immutable data structures. Using immutable data structures is generally preferred though.</p>

<blockquote>
  <p>then each exchange operation will create a new copy?</p>
</blockquote>

<p>That would depend on the data structure in question. But generally you wouldn't want to express your sorting algorithm in terms of swapping individual elements when working with an immutable data structure (and as I indicated above, you certainly don't need to).</p>

<p><code>List.sort</code> for example works on an immutable data structure (lists) and is perfectly efficient. It uses the merge sort algorithm (in current implementations of OCaml).</p>
"
"<p>here are the doc:</p>

<hr>

<pre><code>val sort : ('a -&gt; 'a -&gt; int) -&gt; 'a list -&gt; 'a list
</code></pre>

<p>Sort a list in increasing order according to a comparison function. The comparison function must return 0 if its arguments compare as equal, a positive integer if the first is greater, and a negative integer if the first is smaller (see Array.sort for a complete specification). For example, compare is a suitable comparison function. The resulting list is sorted in increasing order. List.sort is guaranteed to run in constant heap space (in addition to the size of the result list) and logarithmic stack space.</p>

<p>The current implementation uses Merge Sort. It runs in constant heap space and logarithmic stack space.</p>

<pre><code>val stable_sort : ('a -&gt; 'a -&gt; int) -&gt; 'a list -&gt; 'a list
</code></pre>

<p>Same as List.sort, but <code>the sorting algorithm is guaranteed to be stable</code> (i.e. elements that compare equal are kept in their original order) .</p>

<p>The current implementation uses Merge Sort. It runs in constant heap space and logarithmic stack space.</p>

<hr>

<p>I thought <code>merge sort</code> anyway is stable, right? </p>

<p>How can OCaml produce a <code>non-stable merge</code> sort? </p>

<p>In the <code>non-statble merge sort</code> version, is it faster?</p>
","149392","","<p>Merge sort is stable, but the fact that sort uses merge sort is not part of its contract. Note that it only says ""the current implementation uses..."". There is no guarantee that it will keep using merge sort in the future, so if you use <code>List.sort</code> in your code there is no guarantee that the sort will be stable even if it might happen to be stable in the current implementation.</p>

<p>As long as every code that requires a stable sort uses <code>stable_sort</code>, no code will break if future versions (or alternative implementations) of Ocaml switch to an unstable algorithm for <code>sort</code>.</p>
"
"<p>map2 takes two lists, ls1 and ls2 and a function F, and returns a list that is the same length as the shortest of ls1 and ls2, and in which the ith element is the result of applying F to the ith elements of ls1 and ls2 (in that order)    </p>

<pre><code>module Map2 where

map2 lst1 lst2 f = map2_iter lst1 lst2 f len 0 []
    where len = (min (length lst1), (length lst2))
map2_iter (x:lst1) (y:lst2) f len i acc = if (i == len)
                      then acc
                      else let res = (f x y) in
                      map2_iter (lst1) (lst2) (f) (len) (i+1) ((res):acc)
map2_iter [] [] f len i acc = []
</code></pre>

<p><strong>I got the following error</strong></p>

<pre><code>Map2.hs:3:20:
No instances for (Eq (Int -&gt; Int), Num (Int -&gt; Int, Int))
  arising from a use of `map2_iter'
Possible fix:
  add instance declarations for
  (Eq (Int -&gt; Int), Num (Int -&gt; Int, Int))
In the expression: map2_iter lst1 lst2 f len 0 []
In an equation for `map2':
    map2 lst1 lst2 f
      = map2_iter lst1 lst2 f len 0 []
      where
          len = (min (length lst1), (length lst2))
</code></pre>

<p>I'm not really sure what this error means. Can anyone provide any help?</p>

<p>Also, this is not hw but rather test prepation. </p>
","149392","","<p>The error message is telling you that you can't compare <code>Int -&gt; Int</code> functions for equality and that <code>(Int -&gt; Int, Int)</code> tuples aren't numbers. Why is it telling you this? Because <code>len</code> in your code is an <code>(Int -&gt; Int, Int)</code> tuple and you're trying to both compare it for equality and treat it as a number.</p>

<p>So how did <code>len</code> end up being a number? <code>(,)</code> is used to create tuples in Haskell. Writing <code>(x,y)</code> creates a tuple whose first element is <code>x</code> and whose second element is <code>y</code>. So <code>(min (length lst1), (length lst2))</code> creates a tuple whose first element is <code>min (length lst1)</code> and whose second element is <code>length lst2</code>. So you end up with a tuple that contains a function (because <code>min (length lst1)</code> evaluates to a function) and a number.</p>

<p>PS: I should also point out that writing this function tail-recursively like you did is not a good idea. The way you wrote it, you won't be able to access the first element of the result until the entire result is generated (also the resulting list will have the wrong order). Writing it in the more ""naive"" non-tail-recursive way would be lazier and thus perform better. It would also be simpler.</p>
"
"<p>I'm really stuck with functions types in Haskell. There are the types of two functions given and I cannot explain what's the real difference between those.</p>

<pre class=""lang-hs prettyprint-override""><code>a :: Int -&gt; (Int -&gt; (Int -&gt; (Int -&gt; Int)))

b :: (((Int -&gt; Int) -&gt; Int) -&gt; Int) -&gt; Int
</code></pre>

<p>I still don't get the point. I know what the purpose of currying is -- but I cannot see the concept of currying in this example!</p>

<p>function a: an <code>Int</code> is passed in, and the result is another that takes an <code>Int</code> ... and so on.</p>

<p>function b: How is this different from function A?</p>
","149392","","<p>Function <code>b</code> takes a function as its argument - it does not produce a function as its result. That is a big difference:</p>

<p><code>a 42</code> will produce a function that takes additional arguments. <code>b 42</code> will produce a type error because <code>42</code> is not a function. <code>b myfun</code> where <code>myfun</code> has type <code>((Int -&gt; Int) -&gt; Int) -&gt; Int)</code> will produce an <code>Int</code>. <code>a myfun</code> will cause a type error because <code>myfun</code> is not an integer.</p>
"
"<pre><code>type Name = string;
datatype Expr = Const of int
    | Var of Name
    | Neg of Expr
    | Plus of Expr * Expr
    | Mult of Expr * Expr
    | App of Fun * Expr
    and Fun = Def of Name * Expr

(* substitute every x in expression z with expression y *)

fun substitute (Name x, Expr y, Expr z) = if x = z then y else z;
</code></pre>

<p>I just want to compare the string values of x and z and if they are the same return y, and otherwise return z, but I keep getting this error?</p>

<pre><code>e.sml:13.33-13.39 Error: non-constructor applied to argument in pattern: Expr
e.sml:13.25-13.31 Error: non-constructor applied to argument in pattern: Expr
e.sml:13.17-13.23 Error: non-constructor applied to argument in pattern: Name
e.sml:13.50 Error: unbound variable or constructor: z
e.sml:13.46 Error: unbound variable or constructor: x
e.sml:13.57 Error: unbound variable or constructor: y
e.sml:13.64 Error: unbound variable or constructor: z

uncaught exception Error
  raised at: ../compiler/TopLevel/interact/evalloop.sml:66.19-66.27
         ../compiler/TopLevel/interact/evalloop.sml:44.55
         ../compiler/TopLevel/interact/evalloop.sml:296.17-296.20
</code></pre>
","149392","","<p>You seem to think that the syntax for function parameters is <code>typename variablename</code>. It's not. The syntax is <code>pattern : typename</code> or just <code>pattern</code> where the simplest form of a pattern is simply a variable name.</p>

<p>Writing things like <code>Name x</code> would imply that <code>Name</code> is a constructor of some datatype and that you're trying to pattern match your first argument (which must be a value of that datatype) against that constructor. That's not what you want.</p>

<p>To define a function that takes the arguments <code>x</code>, <code>y</code> and <code>z</code>, you should just write:</p>

<pre><code>fun substitute (x, y, z) = ...
</code></pre>

<p>Or, if you want to spell out the types of parameters:</p>

<pre><code>fun substitute (x: Name, y: Expr, z: Expr) = ...
</code></pre>

<p>PS: In the body of your function you write <code>x = z</code>, but that can't work because <code>x</code> and <code>z</code> are values of different types - they can't possibly be equal to each other.</p>
"
"<p>I got a bit stuck with a for loop - what I can see it is doing appears correct but isn't exactly what I'm trying to accomplish with it. I've come from a C background but any advice here would be beneficial.</p>

<pre><code>def deal(player_num, cards):
    a = 0
    z = 0
    i = 0
    b = 0
    c = player_num
    hand = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]    
    for a in range(player_num):
        hand[a] = cards[i] + cards[i+b+c]
        b == b+1
        i == i+1
        z == z+1
    return hand 
</code></pre>

<p>So the <code>for a in range(player_num)</code> seems to be working (appends <code>a++</code>) but <code>hand[0]</code>, <code>hand[1]</code>, etc. gets the same hand. I guess it loops a but not the other variables, so I need to use more than 1 nested loop to get <code>i++</code>, <code>b++</code> and <code>c++</code>?</p>
","149392","","<p><code>==</code> is the equality operator in Python. <code>=</code> is the assignment operator.</p>

<p><code>==</code> checks whether its left operand and its right operand are equal and return True or False accordingly. <code>b</code> and <code>b+1</code> will never be equal to each other and either way it does not make sense to perform an operation without side-effect (like comparing two values for equality) and then do nothing with its result.</p>

<p>If you want to change the values of your variables, use the assignment operator <code>=</code> instead of <code>==</code>.</p>
"
"<p>I am learning some Haskell, and I am trying to get my head around how pattern matching works.
In doing so, I have written a simple <code>nth</code> function.</p>

<pre><code>nth' :: Integer -&gt; [a] -&gt; a
nth' n [] = error ""Index out of bound""
nth' n (x:xs) = if n == 0 then x else nth' (n - 1) xs
</code></pre>

<p>This first implementation seem to work as expected. </p>

<pre><code>-- nth' 25 ['a'..'z']
-- 'z'
-- nth' 26 ['a'..'z']
-- *** Exception: Index out of bound
</code></pre>

<p>However, when I refactor it replacing the if statement with pattern matching, I end up getting the ""Index out of bound"" exception where I clearly should not.</p>

<pre><code>nth' :: Integer -&gt; [a] -&gt; a
nth' _ [] = error ""Index out of bound""
nth' 0 (x:[]) = x
nth' n (_:xs) = nth' (n - 1) xs

-- nth' 2 ['a'..'z']
-- *** Exception: Index out of bound
</code></pre>

<p>What am I doing wrong?</p>
","149392","","<p>The pattern <code>x:[]</code> matches a list that contains exactly one element. So your <code>nth' 0 (x:[])</code> case will be executed only if the first argument is 0 and the second argument is a one-element list. If the second argument is a list with more than one argument, it'll go into the last case.</p>

<p>You need to change the second case to <code>nth' 0 (x:_) = x</code>, so that it matches no matter how many elements are in the list (as long as it's at least one).</p>
"
"<p>I have made a simple program that deals with queue data structure that I have implemented. Here is my code</p>

<pre><code>transf :: Queue -&gt; [Char]
transf emptyQueue = []  
transf queue = [front queue] ++ transf (dequeue queue)
</code></pre>

<p>where Queue is</p>

<pre><code>newtype Queue = Q [Char] deriving (Show)

emptyQueue :: Queue
emptyQueue = Q []

queueIsEmpty :: Queue -&gt; Bool
queueIsEmpty (Q []) = True
queueIsEmpty (Q _) = False

enqueue :: Char -&gt; Queue -&gt; Queue
enqueue x (Q q) = Q (q ++ [x])

dequeue :: Queue -&gt; Queue
dequeue (Q (_:xs)) = Q xs
dequeue (Q []) = error ""dequeue: empty queue""

front :: Queue -&gt; Char
front (Q (x:_)) = x
front (Q []) = error ""front: empty queue""
</code></pre>

<p>My program doesn't convert queue into string. Where is the problem?
Thanks in advance.</p>
","149392","","<pre><code>transf emptyQueue = []
</code></pre>

<p>Here <code>emptyQueue</code> is simply the name of your parameter. You are not pattern matching against the contents of the global <code>emptyQueue</code>. You can't pattern match against variables like that - only against constructors.</p>

<p>You have to write <code>transf (Q [])</code> to match the empty queue, but note that your whole function could simply be defined as <code>transf (Q xs) = xs</code>.</p>
"
"<p>I can't understand why the following function causes an infinite loop:</p>

<pre><code>import Data.List

isTrue = foldl' (&amp;&amp;) False (repeat False)
</code></pre>
","149392","","<p>Both <code>foldl</code> and <code>foldl'</code> are defined in such a way that they have to go through the entire list before they can produce even a partial result (in fact there is no way to define them such that that wouldn't be the case). So neither works on infinite lists.</p>
"
"<p>I want to write a merge function that takes multiple x sorted lists and merges them into just one sorted list by incremental values (smallest to largest). I think I can do two lists and combine into one, but can't figure out the base case for multiple lists and combining into one sorted.</p>

<pre><code>merge :: [[a]] -&gt; [a]
</code></pre>
","149392","","<p>If you can define the function for two lists, then you can generalize it to arbitrarily many lists by simply going through each sublist and merging it with the current result until you've merge all the lists. This can be expressed as a fold like this:</p>

<pre><code>merge = foldr merge2 []
</code></pre>
"
"<p>I'd like to define a function as infix, so that users don't have to manually surround the function with backticks to call it. Specifically, I'm writing a DSL-like function that accepts a Rank and Suit and contructs a Poker card record:</p>

<pre><code>-- pseudocode
data PokerCard = PokerCard { rank :: Rank, suit :: Suit } deriving (Eq)

of :: Rank -&gt; Suit -&gt; PokerCard
r of s = PokerCard { rank = r, suit = s }

pokerDeck = [
  Ace of Spades,
  Two of Spades,
  ...
  ]
</code></pre>

<p>I believe <code>of</code> is reserved as syntax for <code>case ... of</code> expressions, so I'd have to rename it something like <code>of'</code>, <code>.of</code>, <code>+of</code>, etc.</p>
","149392","","<p>There's no way to define a function with an alphanumeric name as infix. Haskell's syntax rules only allow for functions with symbolic names or function names surrounded with backticks to be used infix - there's no way to change that.</p>
"
"<p>What exactly is GTK? </p>

<p>Is it some library, that is available for all the programming languages? i.e. I can <code>#include</code> it in C or maybe in Java I have the packets available that I can import?</p>

<p>Can someone describe it in easy terms?  thanks.</p>
","149392","","<p>GTK is a library written in and for C. It has bindings for many other languages (including Java). So yes, once you've installed it (and, if you want to use it in Java, the Java bindings), you can just <code>#include</code> the appropriate headers in C or <code>import</code> the classes in Java and then start using it.</p>
"
"<p>When we do <code>l1 @ l2</code>, it is <code>O(length(l1))</code> because we have to go through l1 and connect l1 and l2.</p>

<p><strong>So my question is that why the implementation does not maintain a <code>last_element</code> pointer?</strong></p>

<p>I ask this because I want to learn/understand the decision making process of <code>OCaml</code>'s standard library implementation.</p>
","149392","","<p>Just going to the last element of <code>l1</code> would not help us. We need to copy the entire contents of <code>l1</code> and we can't do that without going through it. So having a pointer to the end of <code>l1</code> wouldn't help us.</p>
"
"<p>I have this haskell code. In that I have created two data types, then I want to to create a new class <code>Mord</code> that can do comparing functions with <code>Mlist</code> types.</p>

<pre><code>import Data.List

data Mlist a = Mlist [a]

data Mordering = MLT deriving (Eq, Show)

s = Mlist [1, 2, 3]
t = Mlist [1, 4, 2, 3]

class Mord a where 
    mcompare :: a -&gt; a -&gt; Mordering


instance Mord a =&gt; Mord (Mlist a) where
    mcompare (Mlist xs) (Mlist ys) = MLT
</code></pre>

<p>But if I try <code>mcompare s t</code> I get</p>

<pre><code>&lt;interactive&gt;:1:1:
    No instance for (Mord Integer)
      arising from a use of `mcompare'
    Possible fix: add an instance declaration for (Mord Integer)
    In the expression: mcompare s t
    In an equation for `it': it = mcompare s t
</code></pre>

<p>Does anyone see the problem?</p>

<p><strong>EDIT</strong>:</p>

<p>Here is my new code:</p>

<pre><code>import Data.List

data Mlist a = Mlist [a]

data Mordering = MEQ | MIN deriving (Eq, Show)

s = Mlist [1, 2, 3]
t = Mlist [1, 4, 2, 3]

class Mord a where 
    mcompare :: a -&gt; a -&gt; Mordering

instance Mord (Mlist a) where
    mcompare (Mlist xs) (Mlist ys)
           | length xs == length ys &amp;&amp; null (xs \\ ys) = MEQ
           | otherwise = MIN
</code></pre>

<p>But the error I get now is:</p>

<pre><code>    No instance for (Eq a)
      arising from a use of `\\'
    In the first argument of `null', namely `(xs \\ ys)'
    In the second argument of `(&amp;&amp;)', namely `null (xs \\ ys)'
    In the expression: length xs == length ys &amp;&amp; null (xs \\ ys)
Failed, modules loaded: none.
</code></pre>
","149392","","<pre><code>instance Mord a =&gt; Mord (Mlist a) where
</code></pre>

<p>Here you said that <code>Mlist a</code> is an instance of <code>Mord</code> if and only if <code>a</code> is an instance of <code>Mord</code>. <code>Integer</code> is not an instance of <code>Mord</code>, so <code>Mlist Integer</code> is also not an instance of <code>Mord</code>. If you define an instance <code>Mord Integer</code>, your code will work.</p>

<p>In response to your edit: Your new code doesn't work because <code>\\</code> only works on lists of values that can be compared for equality (i.e. values of types that are instances of the <code>Eq</code> typeclass). Since you don't have an <code>Eq</code> constraint on your instance, you're saying that it should work for all types, but since <code>\\</code> doesn't work with all types, you can't do that. Adding an <code>Eq</code> constraints to your instance (i.e. <code>instance (Eq a) =&gt; Mord (Mlist a) ...</code>) will fix your issue.</p>
"
"<p>I am trying to think of the best way to word this to get to my exact question without having someone have to explain what Aggregate does because I know that's been covered in depth here and elsewhere on the internet. When calling Aggregate() and using a linq statement like </p>

<pre><code>(a,b) =&gt; a+b
</code></pre>

<p>What is a and what is b? I know a is the current element, but what is b? I've seen examples where it seemed like b was simply one element ahead of a and other examples where it seemed like a was the result of the previous function and other examples where it seemed like b was the result of the previous function.</p>

<p>I've looked through the examples on the actual C# documentation pages here
<a href=""http://msdn.microsoft.com/en-us/library/bb548744.aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/bb548744.aspx</a>
and here
<a href=""http://www.dotnetperls.com/aggregate"" rel=""nofollow"">http://www.dotnetperls.com/aggregate</a></p>

<p>But I just need some clarification of the difference between the two arguments in the linq expression. If I'm missing some fundamental Linq knowledge that answers this, feel free to put me in my place.</p>
","149392","","<p><code>a</code> isn't the current element - <code>b</code> is. The first time that the lambda expression is invoked, <code>a</code> will be equal to the <code>seed</code> argument you gave to <code>Aggregate</code>. Each subsequent time it will be equal to the result of the previous invocation of the lambda expression.</p>
"
"<p>From the <a href=""http://www.ruby-doc.org/core-2.0/Object.html#method-i-define_singleton_method"" rel=""nofollow""><code>Doc of define_singleton_method</code></a></p>

<p>I got two syntax to define the <code>singleton</code> method as below :</p>

<blockquote>
  <p><strong>define_singleton_method(symbol) { block } -> proc</strong> : </p>
</blockquote>

<p>With the above syntax I tried the below code and the syntax I understood:</p>

<pre><code>define_singleton_method :foo do |params = {}|
 params
end
#=&gt; #&lt;Proc:0x20e6b48@(irb):1 (lambda)&gt;

foo
#=&gt; {}

foo(bar: :baz)
#=&gt; {:bar=&gt;:baz}

foo(bar: :baz ,rar: :gaz )
#=&gt; {:bar=&gt;:baz, :rar=&gt;:gaz}
</code></pre>

<p>But need someone's help to figure out one example of each with the below syntax.</p>

<blockquote>
  <p><strong>define_singleton_method(symbol, method) -> new_method</strong></p>
</blockquote>

<p>as per the doc - The method parameter can be a <em><code>Proc</code></em>, a <em><code>Method</code></em> or an <em><code>UnboundMethod</code></em> object. I didn't get any examples there.</p>

<p>Can anyone help me here to get one example of against the <strong><em>italic</em></strong> words?</p>
","149392","","<p>A <code>Proc</code> object is created by using <code>lambda</code>, <code>proc</code>, <code>-&gt;</code>, <code>Proc.new</code> or the <code>&amp;</code> syntax in a parameter list. A <code>Method</code> object can be obtained by using the <code>method</code> method and an <code>UnboundMethod</code> can be obtained by using the <code>instance_method</code> method. So here are examples of each of these:</p>

<pre><code>p = Proc.new {|x| puts x}
m = method(:puts)
um = Object.instance_method(:puts)

define_singleton_method(:my_puts1, p)
define_singleton_method(:my_puts2, m)
define_singleton_method(:my_puts3, um)

my_puts1 42
my_puts2 42
my_puts3 42
</code></pre>
"
"<p>I'm having issues replicating a for loop in python. </p>

<p>Here is my c style script with just the for loop aspects.</p>

<pre><code>for ($c=0 ; $c&lt;size($verts); $c++)
{ 
//// do some code here 
$verts = remove($verts[c],$verts); /// remove this item from the $verts list
$c-=1; /// lower the index becuase an item was removed
     for ($n=0 ; $n&lt;size($verts); $n++) 
         {
         if($condition)
         $verts = remove($verts[$n],$verts); /// remove this item from the $verts list
         $n-=1;  /// lower the index becuase an item was removed
         }        
}         
</code></pre>

<p>In python there it doesn't seem to be possible to subtract the index:</p>

<pre><code>item = range(10); 
for i in item :
del item[i]
i-=1 # this doesn't do anything for the next interation
</code></pre>

<p>What is the best way to write the above c loop in Python?</p>

<p>Edit:
Here is the loop working as I need in python</p>

<pre><code>count = range(len(vtx)) 
for num in count: 
if len(vtx) != 0:    
    p.append ([]); p[len(p)-1].append(vtx[0])
    v.append ([]); v[len(p)-1].append(vec[0])    
    a = vec[0] 
    del vtx[0]    
    del vec[0]
    count2 = range(len(vtx))
    n2  = 0;
    for num2 in count2:
        b = vec[n2]
        distance = math.sqrt((a[0] - b[0])**2 + (a[1]- b[1])**2 + (a[2]- b[2])**2);
        if distance &lt;= threshold  : 
            p[len(p)-1].append (vtx[n2])
            v[len(p)-1].append (vec[n2])
            vtx.remove(vtx[n2])  
            vec.remove(vec[n2])
        else:
            n2+=1 
</code></pre>
","149392","","<p>You seem to think that <code>i</code> is an index in your code. It's not. <code>i</code> is a value from the list. To iterate over a range of indices use <code>for i in range(len(item)):</code>.</p>

<p>However a better way of deleting items from a list is to use a list comprehension, rather than manually iterating with an index and using <code>del</code>. List comprehensions will create a new list rather than modifying a new one, but hopefully they're still applicable for your use case.</p>
"
"<p>I'm trying to use Haskell (which I am completely new too) and Every time I attempt to compile this using ghci I get <code>Not in scope: 'isNumber'</code>, what am I doing wrong?</p>

<pre><code>digits :: [a] -&gt; Bool
digits a = digits a True


digits1 :: [a] -&gt; Bool -&gt; Bool
digits1 [] False      = False           
digits1 [] True       = True            
digits1 (l:ls) True   = digits ls isNumber l
digits1 (l:ls) False  = False
</code></pre>
","149392","","<p>You get that error message because <code>isNumber</code> is defined in the <code>Data.Char</code> module, which you didn't import it. Importing it will fix that error.</p>

<p>That's not your only problem though. One other problem is that <code>digits ls isNumber l</code> is calling <code>digits</code> with four arguments, but you've defined <code>digits</code> to only take one argument.</p>

<p>Similarly the call <code>digits a True</code> calls <code>digits</code> with two arguments - same problem. You probably meant to write <code>digits1 a True</code> here, as <code>digits1</code> does take two arguments.</p>

<p>Lastly both <code>digits</code> and <code>digits1</code> are defined to take arbitrary lists as arguments, but you seem to want to call <code>isNumber</code> on the list's elements. Since <code>isNumber</code> is a function that only works on <code>Char</code>s - not arbitrary values - you should probably take a list of <code>Char</code>s (i.e. a <code>String</code>) instead.</p>
"
"<p>I want to read one byte at a time from the standard input in ruby, however, if there is no new data available, I want the method to return immediately so each_byte etc. are not an option for me, as far as I can see, because they block program execution.</p>

<p>Ideally the method would me allow to do something like this:</p>

<pre><code>byte = STDIN.next_byte_or_nil
if(byte)
#Process
else
#Do something else
end
</code></pre>

<p>How do I achieve that?</p>
","149392","","<p>You can use <code>read_nonblock</code> which throws an <code>Errno::WOULDBLOCK</code> exception if a read operations would block. So <code>STDIN.read_nonblock(1) rescue nil</code> will read a byte without blocking or return <code>nil</code>.</p>

<p>Since you only use the <code>nil</code> value to check whether the call was successful, you don't really need the <code>rescue nil</code> though:</p>

<pre><code>begin
  byte = STDIN.read_nonblock(1)
  #Process
rescue Errno::WOULDBLOCK
  #Do something else
end
</code></pre>
"
"<p>So, I have a very simple function that take two parameters : the first is a hour (between 0 and 23) and the second one is a minute (between 0 and 59). This function return the hour plus one minute, and format the hour in a beautiful style. By example, <code>hour 11 12</code> return <code>11 heures et 13 minutes</code>. Sorry for the french format of the hour. </p>

<p>So, I use in this function the <code>show</code> function, and the parameters need to be a number, so I have the type declaration <code>(Num a, Show a) =&gt; a -&gt; a -&gt; String</code>. But, when I try the function, I got an error and GHC say to me to add the <code>Eq</code> type constraint, but I don't understand why I need the <code>Eq</code> type constraint in this case. There is the code (again, sorry for the french text used in the function, but I think that it's not very important if you don't understand the function name and the text) : </p>

<pre><code>heure :: (Num a, Eq a, Show a) =&gt; a -&gt; a -&gt; String
heure 23 59 = ""Minuit""
heure 12 m  = ""Midi et "" ++ show (m+1) ++ "" minutes""
heure h 59  = show (h+1) ++ "" heures""
heure h m   = show h ++ "" heures et "" ++ show (m+1) ++ "" minutes""
</code></pre>

<p>So : if I don't use <code>Eq</code>, I have an error and when I use it my code is correct. Why?</p>

<p>Thank you for your explanations!</p>
","149392","","<p>You need the <code>Eq</code> constraint because you're checking whether <code>h</code> is equal to <code>23</code> or <code>12</code> and whether <code>m</code> is equal to <code>59</code>. You're doing it using pattern matching, not <code>==</code>, but pattern matching against numeric literals that way still requires <code>Eq</code> (unlike pattern matching against constructors).</p>
"
"<p>I accidentally deleted my post, but I'm reposting this question for clarification.</p>

<p>If I have a function:<br>
<code>const x = 1</code></p>

<p>If I ask Haskell:<br>
<code>const (1/0)</code></p>

<p>It will return <code>1</code> because lazy evaluation doesn't actually calculate what <code>1/0</code> is, right? It doesn't need to.</p>
","149392","","<p>Yes, that's right. <code>const</code>, as you defined it, will always produce 1 when it is evaluated - no matter what the argument is. And since the argument is not relevant to the result, it is not evaluated. Thus any error or non-termination that might be caused by evaluating the argument will not occur.</p>
"
"<p>For example, one function creates a list via consing:</p>

<pre><code>fun example1 _ _ [] = []
  | example1 f g (x::xs) =
    if f x
    then (g x)::(example1 f g xs)
    else x::(example1 f g xs)
</code></pre>

<p>One creates a list via tail-call accumulator:</p>

<pre><code>fun example2 f g xs =
    let fun loop acc [] = acc
          | loop acc (x::xs') =
            if f x
            then loop (acc@[(g x)]) xs'
            else loop (acc@[x]) xs'
    in
        loop [] xs
    end
</code></pre>

<p>to produce the same list given the same arguments. </p>

<p>Which function has better running time? </p>

<p>Does append operation <code>@</code> traverse to the end of the list to append and end up with the same running time with consing solution, but using much less space and slightly more complicated code?</p>

<p>Does consing or appending create an entire new element (deep copy of object), even if there's no change to the original element or it simply reuses the existing elements?</p>

<p>This question gives a more concrete example for <a href=""http://stackoverflow.com/questions/15585971/efficiency-of-list-operations-in-functional-languages/15591140?noredirect=1#15591140"">this question</a></p>
","149392","","<p><code>x :: xs</code> creates one new list cell whose head is <code>x</code> and whose tail is <code>xs</code>. It does not create a copy of <code>xs</code> - neither deep nor shallow. So it's an O(1) operation.</p>

<p><code>xs @ [x]</code> creates a shallow copy of <code>xs</code> with the change that the tail of the previously last node is now <code>[x]</code>. This is an <code>O(n)</code> operation.</p>

<p>So the time complexity of your <code>example1</code> function is <code>O(n)</code> and that of your <code>example2</code> function is <code>O(n^2)</code>. Both functions consume <code>O(n)</code> auxiliary space. <code>example1</code> because of its stack usage and <code>example2</code> because <code>@</code> creates lists on the heap that aren't part of the resulting list.</p>

<p>If you change <code>example2</code> to use <code>::</code> rather than <code>@</code> and then use <code>List.rev</code> on the result when you reach the end of the list, it's running time will be <code>O(n)</code>, but it will still be somewhat slower than <code>example1</code> because of the additional cost of reversing the list at the end. However that might be an acceptable price to pay to be able to handle large lists without stack overflow.</p>
"
"<p><a href=""http://www.rubydoc.info/stdlib/core/Enumerable#detect-instance_method"" rel=""nofollow""><code>enum#detect</code></a> says :</p>

<blockquote>
  <p>Passes each entry in enum to block. Returns the first for which block is not false. If no object matches, calls ifnone and returns its result when it is specified, or returns nil otherwise.</p>
</blockquote>

<p>Now i was trying the below:</p>

<pre><code>nil.call
#NoMethodError: undefined method `call' for nil:NilClass
#       from (irb):13
#       from C:/Ruby200/bin/irb:12:in `&lt;main&gt;'


(1..10).detect(x = 2) { |i| i % 5 == 0 and i % 7 == 0 }
#NoMethodError: undefined method `call' for 2:Fixnum
#       from (irb):15:in `detect'
#       from (irb):15
        from C:/Ruby200/bin/irb:12:in `&lt;main&gt;'
</code></pre>

<p>Now my question is why the same error not occurred for the below:</p>

<pre><code>(1..10).detect(x = nil) { |i| i % 5 == 0 and i % 7 == 0 }
#=&gt; nil
(1..10).detect(x = nil) { |i| p x; i % 5 == 0 and i % 7 == 0 }
#nil
#nil
#nil
#nil
#nil
#nil
#nil
#nil
#nil
#nil
#=&gt; nil
</code></pre>
","149392","","<blockquote>
  <p>If no object matches, calls ifnone and returns its result when it is specified, or returns nil otherwise.</p>
</blockquote>

<p>I think you're parsing that sentence differently than it was intended. What is meant here is:</p>

<pre><code>if no object matches
  if ifnone is set
    return ifnone.call
  else
    return nil
  end
end
</code></pre>

<p>If you pass in <code>nil</code> as the argument, that counts as <code>ifnone</code> not being set, so it is not called. It will only be called if you pass a value other than <code>nil</code> for it.</p>
"
"<p>Using a semicolon doesn't work when mixing <code>exec</code> commands and <code>print</code> commands.What is the best way to do this?</p>

<pre><code>print ""Initializing tests...\n""
print 'Testing 00_hello\n'
exec  'cd 00_hello; rspec hello_spec.rb; cd ..'
print 'Testing 01_temperature\n'
exec  'cd 01_temperature; rspec temperature_spec.rb; cd ..'
</code></pre>
","149392","","<p>If you're asking why the last two lines of your file won't execute, that has nothing to do with your use of semicolons. <code>exec</code> replaces the current process. Any code following a call to <code>exec</code> will not execute because the process stops executing as soon as <code>exec</code> is called. In most cases you want to use <code>system</code>, not <code>exec</code>.</p>

<p>I should also point out that it's not necessary to do <code>cd ..</code> at the end of a command given to <code>exec</code> or <code>system</code>. <code>cd</code> only affects the shell it is executed in and any processes spawned from that shell -- it does not affect the parent process. So if you <code>cd</code> inside a shell command, your ruby process won't be affected by that, so there's no need to <code>cd</code> back.</p>

<p>Oh and you can't use escape sequences like <code>\n</code> inside single quoted strings, they will just appear as a backslash followed by the letter n. You need to use double quoted strings if you want to use <code>\n</code>. If you use <code>puts</code> instead of <code>print</code>, it'll automatically insert a linebreak at the end, so you won't need the <code>\n</code> at all.</p>
"
"<p>I know that there are more than one way of calculating the factorial of an integer as well as there is a <code>math</code> module. However I tried to put together a simple function that is returning a wrong result. I would love to know what went wrong here. Such as if I pass 2 as parameter it returns 3, if 3 it returns 8.</p>

<pre><code>&gt;&gt;&gt;def factorial(n):

        if n &gt; 0:
            result = n * n-1
            factorial(n-1)
            return result 

&gt;&gt;&gt;factorial (2)

   3
</code></pre>

<p>How can I fix this?</p>
","149392","","<p>There are a couple of things wrong with your function:</p>

<ul>
<li>You don't return anything if the condition <code>n &gt; 0</code> is false.</li>
<li><code>n * n-1</code> calculates <code>(n * n) - 1</code>, you probably intended <code>n * (n - 1)</code></li>
<li>You call <code>factorial</code> recursively, but then don't do anything with the result. Currently your code acts just like if you had only written <code>return n * n - 1</code> inside the if.</li>
</ul>
"
"<p>I'm beginning to learn Haskell with ""Learn You a Haskell for Great Good!"" and I've made a strange mistake, which I can't find the reason for.</p>

<p>Here is the code I typed:</p>

<pre><code>let xs = [if x &lt; 3 then ""bang"" else ""boom"" | x &lt;- xs]
</code></pre>

<p>And the the text of the error in GHCi:</p>

<pre><code>No instance for (Num [Char])
arising from the literal `3'
Possible fix: add an instance declaration for (Num [Char])
In the second argument of `(&lt;)', namely `(3)'
In the expression: x &lt; (3)
In the expression: if x &lt; (3) then ""bang"" else ""boom""
</code></pre>

<p>But when I type:</p>

<pre><code>let boom xs = [if x &lt; 3 then ""bang"" else ""boom"" | x &lt;- xs]
</code></pre>

<p>which is the example of the book, I don't have any problem.</p>

<p>Could someone explain my mistake?</p>
","149392","","<p>Your definition of <code>xs</code> is recursive, that is you're using <code>xs</code> inside its own definition. I don't think that's what you intended.</p>

<p>Since you're using <code>""bang""</code> and <code>""boom""</code> inside the list comprehensions, Haskell knows that <code>xs</code> must be a list of strings (because <code>xs</code> is equal to the result of the list comprehension). Further you say that <code>x</code> is an element of <code>xs</code> (<code>x &lt;- xs</code>), so <code>x</code> must be a String (a.k.a. <code>[Char]</code>). However you do <code>x &lt; 3</code>, which implies that <code>x</code> is a number. The error message means ""a String is not a number"".</p>
"
"<p>In Michael Sipser's Introduction to the Theory of Computation, he states:</p>

<blockquote>
  <p>""some languages are not decidable or even Turing recognizable, for the reason that there are uncountably many languages <strong>yet only countably many Turing machines</strong>. Because each Turing machine can recognize a single language and there are more languages than Turing machines, some languages are not recognized by any Turing machine"" (178).</p>
</blockquote>

<p>Isn't a Turing machine a hypothetical machine that can simulate any computer algorithm? And aren't there theoretically an infinite number of algorithms you could come up with? I'm having trouble wrapping my head around this concept. An 'explain like I'm 5' answer would be greatly appreciated, but of course any help is better than none.</p>
","149392","","<p>There are a <em>countable</em> number of Turing machines. That doesn't mean there's a finite number. The set of Turing machines is countably infinite, which means that Turing machines can be numbered using natural numbers. That is you can create a 1-to-1 mapping between natural numbers and Turing machines.</p>
"
"<p>I'm new to Scheme and was just curious about 'define'. I've seen things like:
<code>(define (square x) (* x x))</code>
which makes sense [Function name 'square' input parameter 'x']. However, I found some example code from the 90's and am trying to make sense of:
<code>(define (play-loop-iter strat0 strat1 count history0 history1 limit) (~Code for function~)</code>
Except for the function name, are all of those input parameters?</p>
","149392","","<p>Yes, <code>strat0</code> through <code>limit</code> are the parameters of the <code>play-loop-iter</code> function.</p>
"
"<p>I want to encode If-the-else in Z3 python, but cannot find any docs or sample on how to do that.</p>

<p>I have a sample code like below.</p>

<pre><code>F = True
tmp = BitVec('tmp', 1)
tmp1 = BitVec('tmp1', 8)
</code></pre>

<p>Now how can I encode this condition into F: </p>

<pre><code>if tmp == 1, then tmp1 == 100. otherwise, tmp1 == 0 
</code></pre>

<p>Thanks so much.</p>
","149392","","<p>You can use <code>If</code> for this. <code>If</code> takes three arguments: the condition, an expression that should be true if the condition is true and an expression that should be true if the condition is false. So to express your logic, you'd write:</p>

<pre><code>If(tmp==1, tmp1==100, tmp1==0)
</code></pre>
"
"<p>I have the following code :</p>

<pre><code>List&lt;? super Integer&gt; numbers = new ArrayList&lt;Number&gt;();
numbers.add(new Integer(10));
Number object = numbers.get(0);  //this doesn't compile??

Object object = numbers.get(0);  //this does compile
</code></pre>

<p>Then if I do :</p>

<pre><code>numbers.add(new Object()); //doesn't compile in contradiction to above statement
</code></pre>

<p>What is the reason for this?</p>
","149392","","<p><code>Number object</code> doesn't work because the compiler doesn't know that <code>numbers</code> is a list of <code>Number</code>s - it only knows that it's a list of something that's a superclass of <code>Integer</code>. So it might be a list of <code>Object</code>s for example, in which case storing the result of <code>get</code> in a <code>Number</code> variable wouldn't work. Thus the compiler doesn't allow it.</p>

<p><code>Object object</code> is allowed because storing the result of <code>get</code> in an <code>Object</code> variable always works because you can store anything in an <code>Object</code> variable.</p>

<p>The reason that <code>numbers.add( new Object() )</code> doesn't work is that you're only allowed to add <code>Object</code>s to <code>List&lt;Object&gt;</code>s, but <code>numbers</code> may very well be a <code>List&lt;Integer&gt;</code> or a <code>List&lt;Number&gt;</code> (and in fact it is the latter), so that's not allowed.</p>

<p>Basically you have to think of it like this: <code>numbers</code> may be a list of <code>Integer</code>s, a list of <code>Number</code>s or a list of <code>Object</code>s, so you're only allowed to perform those actions that would work on either one of those three.</p>
"
"<p>I just started learning Haskell, but the absence of loops is infinitely frustrating right now. I figured out how to write loops for functions. My problem, however, is that I want to output some results while iterating the loop. It seems that I have to use debug to perform this simple task.</p>

<p>So right now I would just appreciate an example of how to print out a string 10 times in the main structure.</p>

<p>In other words, I want to do this 10 times:</p>

<pre><code>main = do  
    putStrLn ""a string"" 
</code></pre>

<p>Thanks. I feel this will be very illuminating for my task.</p>
","149392","","<p>You could define a recursive function that prints ""a string"" n times (n being the parameter of the function), like this:</p>

<pre><code>printStringNTimes 0 = return ()
printStringNTimes n =
 do
  putStrLn ""a string""
  printStringNTimes (n-1)

main = printStringNTimes 10
</code></pre>

<p>A somewhat more general approach would be to define a function that repeats any IO action n times:</p>

<pre><code>repeatNTimes 0 _ = return ()
repeatNTimes n action =
 do
  action
  repeatNTimes (n-1) action

main = repeatNTimes 10 (putStrLn ""a string"")
</code></pre>

<p>The above function already exists in <code>Control.Monad</code> under the name <code>replicateM_</code>.</p>
"
"<p>I'm sure it's very basic and I should understand it, but I don't!</p>

<p>I'm given this to do:</p>

<p>Loop through and print out all even numbers from the numbers list in the same order they are received. Don't print any numbers that come after 237 in the sequence.</p>

<p>This is the program i have for these numbers.</p>

<pre><code>numbers = [
    951, 402, 984, 651, 360, 69, 408, 319, 601, 485, 980, 507, 725, 547, 544, 
    615, 83, 165, 141, 501, 263, 617, 865, 575, 219, 390, 984, 592, 236, 105, 942, 941, 
    386, 462, 47, 418, 907, 344, 236, 375, 823, 566, 597, 978, 328, 615, 953, 345, 
    399, 162, 758, 219, 918, 237, 412, 566, 826, 248, 866, 950, 626, 949, 687, 217, 
    815, 67, 104, 58, 512, 24, 892, 894, 767, 553, 81, 379, 843, 831, 445, 742, 717, 
    958, 609, 842, 451, 688, 753, 854, 685, 93, 857, 440, 380, 126, 721, 328, 753, 470, 
    743, 527
]

# your code goes here
for x in numbers:
    if x % 2 == 0:
        print x
    if x == 237:
        break
</code></pre>

<p>I get the right solution and everything right but I have no idea what the ==0 is there for.
The only reason I used it is because it was used in the other example during the lesson before the practice!</p>

<p>thank you!</p>
","149392","","<p><code>== 0</code> means ""equal to 0 (zero)"". So <code>if foo == 0:</code> means ""do the following if <code>foo</code> is equal to 0"", thus <code>if x % 2 == 0:</code> means ""do the following if <code>x % 2</code> is equal to 0"".</p>
"
"<p>I have a function foo that takes in a character. I want to map that function over each character in a string.</p>

<pre><code>fun foo (ch : char) =
    ch;
fun bar (str : string) =
    map foo [(str)];
</code></pre>

<p>Clearly this won't work due to a string being applied to a function that expects a char. So I tried using String.explode(str) to break it up into a char array, but then I can't seem to map over each char in the array and apply the char to the foo function.</p>

<pre><code>fun foo (ch : char) =
     ch;
fun bar (str : string) =
    map foo [(String.explode(str))];
</code></pre>

<p>How can I map a function over each character in a string?</p>

<p>EDIT:
I wanted to change foo to take 2 parameters</p>

<pre><code>fun foo(ch : char, i : int) =
    ch;
fun bar(str : string) =
    map foo (String.explode(str), 1);
</code></pre>

<p>But that gives me a tycon mismatch</p>

<pre><code>operator domain: (char * int) list
operand:         char list * int
</code></pre>

<p>How come previously the String.explode(str) was understood by the map function to map over each char, but now it sees it as a full char list?</p>

<p>EDIT 2: Nevermind, figured it out.</p>

<pre><code>fun bar(str : string) =
    map (fn x =&gt; foo (x, 1)) (String.explode(str));
</code></pre>
","149392","","<p>When you want to <code>map</code> over each character, then the list you give to <code>map</code> must be a list of characters. <code>explode</code> returns a list of characters, so using <code>explode</code> is definitely the right idea. But you're putting the list returned by <code>explode</code> into another list, resulting in a list <em>of lists</em> of characters. That's why you get a type error.</p>

<p>Just remove the outer list and your code will work as you intend.</p>
"
"<p>Considering the ref operator I'm having trouble to understand its application and the sense of the follow instructions:</p>

<p><strong>1.</strong></p>

<p>In this definition what am I defining?</p>

<pre><code> - val ref x=ref 9;

 val x = 9 : int
</code></pre>

<p><strong>2.</strong></p>

<p>and here what am I doing with ref x:= ref 12?</p>

<pre><code> - val x= ref 8;

 val x = ref 8 : int ref

 - ref x := ref 12; 

 val it = () : unit

 - x;

 val it = ref 8 : int ref
</code></pre>
","149392","","<p><code>val ref x = ref 9</code> defines <code>x</code> to be <code>9</code> - just as if you had written <code>val x = 9</code>. This is because <code>ref</code> is a constructor, so it's pattern matching the value <code>ref 9</code> against the pattern <code>ref x</code>, which binds <code>x</code> to 9. Of course writing it like this instead of just writing <code>val x = 9</code> makes very little sense.</p>

<p>When you write <code>ref x := ref 12</code>, you create a new <code>ref</code> (of type <code>int ref ref</code>) that refers to <code>x</code>. You then immediately change that new <code>ref</code> to refer to <code>ref 12</code> rather than to <code>x</code>. Since the new <code>ref</code> you created is never stored anywhere where you might access, this will have no observable effect.</p>
"
"<p>I have a method that is basically a loop and it calls itself at the end each time. What is the best way for the method to not call itself when the date reaches a certain point? Each iteration through adds 1 day and basically processes stats for that day. It looks like the below:</p>

<pre><code>def loop(start_day)
  date = start_day

  #do a bunch of stuff

  date = date +1.day

  if date &gt; Time.now
    puts ""loop should be over""
  end

  loop(date)
end
</code></pre>
","149392","","<blockquote>
  <p>Each iteration through adds 1 day</p>
</blockquote>

<p>That's not true for the code you've posted. In your code you add 1 day to the start date <em>once</em> and then you keep processing the same date over and over again because you recurse on the old date (<code>start_date</code>), not the incremented date (<code>date</code>).</p>

<blockquote>
  <p>What is the best way for the method to not call itself when the date reaches a certain point?</p>
</blockquote>

<p>Just put the recursive call inside an <code>if</code> or, in this case, inside of the <code>else</code> of the <code>if</code> that you already have.</p>
"
"<p>I have a problem concerning Haskell <code>floor</code> function - it's supposed to return ""the greatest integer not greater than the argument"" but the expression</p>

<p><code>floor 3.9999999999999999</code></p>

<p>returns 4 rather than 3. It may have something to do with <code>Double</code> type precision but then it shouldn't compile given the importance of Haskell type safety, anyway in this case it returns the number greater than the argument which contradicts its definition.</p>
","149392","","<blockquote>
  <p>in this case it returns the number greater than the argument which contradicts its definition.</p>
</blockquote>

<p>It returns a number equal to its argument. As you said, it's about double precision. The numbers 3.9999999999999999 and 4 are simply equal to each other under 64-bit floating point rules.</p>

<blockquote>
  <p>but then it shouldn't compile given the importance of Haskell type safety</p>
</blockquote>

<p>The problem is that Fractional literals like that have the polymorphic type <code>Fractional a =&gt; a</code>. That is they don't have to be doubles. For example, you could write <code>floor (3.9999999999999999 :: Rational)</code>, which will correctly return 3 because 3.9999999999999999 can be represented as a <code>Rational</code> without any loss in precision.</p>

<p>If Haskell made it an error to write <code>3.9999999999999999</code>, then you also wouldn't be able to write <code>3.9999999999999999 :: Rational</code>, which would be bad. So since a <code>Fractional</code> literal can be represented using many different types, some of which have infinite precision, it would be a big mistake for Haskell to restrict the number of legal <code>Fractional</code> literals based on <code>Double</code>'s limitations.</p>

<p>One might argue that Haskell should restrict <code>3.9999999999999999</code> when used as a <code>Double</code>, but not when used a <code>Rational</code>. However this would require instances of the <code>Fractional</code> type class to declare information about their precision (so that Haskell can use that information to decide whether a given literal is valid for that type), which it currently does not and which would be difficult (or impossible) to implement in a general, efficient and user-friendly manner (taking into account that the term ""precision"" can mean quite different things depending on whether we're talking about floating point numbers or fixed point numbers and whether they use base 2 or 10 (or anything else) to represent the numbers - either of which would be possible for instances of the <code>Fractional</code> type class).</p>
"
"<p>I'm trying to represent a generic binary tree as a pair.</p>

<p>I'll use the SML syntax as example. This is my btree type definition:</p>

<pre><code>datatype btree = leaf | branch of btree*btree;
</code></pre>

<p>So, I'd like to write a function that, given a btree, print the following:</p>

<pre><code>bprint leaf = 0
bprint (branch (leaf,leaf)) = (0,0)
bprint (branch (leaf, branch (leaf,leaf))) = (0, (0, 0))
</code></pre>

<p>and so on.</p>

<p>The problem is that this function always return different types. This is obviously a problem for SML and maybe for other functional languages.</p>

<p>Any idea?</p>
","149392","","<p>Since all you want to do is to print the tree structure to the screen, you can just do that and have your function's return type be <code>unit</code>. That is instead of trying to return the tuple <code>(0, (0, 0))</code> just print the string (0, (0, 0)) to the screen. This way you won't run into any difficulties with types.</p>
"
"<p>I am very new to scheme and i am trying to open it to try some codes. </p>

<p>Scheme  is located at</p>

<pre><code>/usr/local/bin/scheme
</code></pre>

<p>I am coming to the directory and writing</p>

<pre><code>scheme
</code></pre>

<p>to start it but it does not work. I get</p>

<pre><code>scheme command not found
</code></pre>

<p>error.</p>

<p><img src=""http://i.stack.imgur.com/qsG9J.jpg"" alt=""enter image description here""></p>

<p>What should i do to start the scheme and write the code? This should be a trivial question, sorry for that but i could not find what to do.</p>

<p>Thank you</p>
","149392","","<p>If you get a ""command not found"" error, that must mean that <code>/usr/local/bin</code> is not in your <code>$PATH</code>. You can either add it to your <code>$PATH</code>, call scheme using its absolute path (i.e. type <code>/usr/local/bin/scheme</code> instead of just <code>scheme</code>) or its relative path (i.e. type <code>./scheme</code> while in the <code>/usr/local/bin</code> directory).</p>
"
"<p>I have <code>data RegEx</code> and I want to implement <code>instance Show a =&gt; Show RegEx a</code>. Here's my code:</p>

<pre><code>showAtom :: Show a =&gt; RegEx a -&gt; String
showAtom (Lit x) = show x
showAtom r       = ""("" ++ (show r) ++ "")""

instance Show a =&gt; Show (RegEx a) where
    show (Lit x)   = show [x]
    show (Opt r)   = (showAtom r) ++ ""?""
    show (Alt p q) = (showAtom p) ++ ""|"" ++ (showAtom q)
    show (Seq p q) = (show p) ++ (show q)
    show (Rep r)   = (showAtom r) ++ ""*""
</code></pre>

<p>The <code>showAtom</code> function is just an implementation detail. Is there any way for me to hide it, such that it is visible only withing the <code>instance</code> definition? Or better yet, make it visible only within <code>show</code>.</p>
","149392","","<p>You can make <code>showAtom</code> local to the module by not exporting it, but that will still make it visible within the entire module - not just the instance or the <code>show</code> function.</p>

<p>To make it local to the <code>show</code> function, you'd need to use <code>let</code> or <code>where</code>, but neither of those apply to multiple cases when using pattern matching in the function parameter list. You can make it work by moving the pattern matching into a <code>case</code> statement like this:</p>

<pre><code>instance Show a =&gt; Show (RegEx a) where
    show re =
      let
        showAtom :: Show a =&gt; RegEx a -&gt; String
        showAtom (Lit x) = show x
        showAtom r       = ""("" ++ (show r) ++ "")""
      in
        case re of
          (Lit x)   -&gt; show [x]
          (Opt r)   -&gt; (showAtom r) ++ ""?""
          (Alt p q) -&gt; (showAtom p) ++ ""|"" ++ (showAtom q)
          (Seq p q) -&gt; (show p) ++ (show q)
          (Rep r)   -&gt; (showAtom r) ++ ""*""
</code></pre>
"
"<p>One of the exercises in <a href=""http://rubymonk.com/learning/books/4-ruby-primer-ascent/chapters/44-collections/lessons/98-iterate-filtrate-and-transform#solution4313"" rel=""nofollow"">this tutorial</a> is:</p>

<blockquote>
  <p>Exploit the fact that <code>map</code> always returns an array: write a method <code>hash_keys</code> that accepts a hash and maps over it to return all the keys in a linear <code>Array</code>.</p>
</blockquote>

<p>The solution is:</p>

<pre><code>def hash_keys(hash)
    hash.map { |pair| pair.first }
end
</code></pre>

<p>However, I'm having trouble understanding why the above works. For example, I wrote a solution as follows that also works:</p>

<pre><code>def hash_keys(hash)
    # Initialize a new array
    result = Array.new

    # Cycle through each element of the hash and push each key on to our array
    hash.map { |x,y| result.push(x) }

    # Return the array
    result
end
</code></pre>

<p>I can understand why my method works, but I don't understand their proposed solution. For example, they are not even creating an Array object. They are not returning anything. It seems they are just listing the first element in each key/value element array.</p>
","149392","","<p>I think you misunderstood the point of <code>map</code>. It doesn't just iterate over the given collection (that's what <code>each</code> is for) - it creates an array where each element is the result of calling the block with the corresponding element of the original collection.</p>

<p>Your solution could (and should) just as well be written using <code>each</code> instead of <code>map</code> as you aren't really making use of what <code>map</code> does - you're only making use of the fact that it invokes its block once for each element in the given collection.</p>
"
"<p>I am new to functional programming and trying to write a function that takes a list parameter and returns true if the list consists of symbols where each symbol is of length 1. More specifically, </p>

<pre><code>;(sequence? '(a b c)) ----&gt; true
; (sequence? '(aa b c)) ---&gt; false since aa has length 2
; (sequence? '(a 1 c)) ----&gt; false since 1 is not a symbol
; (sequence? '(a (b c))) --&gt; false since (b c) is not a symbol
</code></pre>

<p>I am thinking about doing the following: For each symbol in the list, i check whether it is a symbol and it is of length 1. </p>

<pre><code>(define sequence?
      (lambda (inSeq)
      (if ( for each item in the list inSeq, all are symbols and length=1) #t #f)

      )
)
</code></pre>

<p>Then according to result i return true or false. But i do not know how to iterate over the list. I do not want to convert the list into a string and use string functions. Do we have any statements like ""foreach"", or for loop to do what i think? or any other suggestions?</p>

<p>Note: I also thought about using car and then removing it and looking at the rest of the list, but since i do not know the length, i do not know how many times should i use the car, i.e. whether it should be car, caar, caaar, etc.</p>

<p>Thank you</p>
","149392","","<blockquote>
  <p>Do we have any statements like ""foreach"", or for loop to do what i think? </p>
</blockquote>

<p>No.</p>

<blockquote>
  <p>or any other suggestions?</p>
</blockquote>

<p>To iterate over a list in scheme, you'd either use pre-existing functions that iterate over the list (like <code>map</code>, <code>filter</code> or <code>fold-left</code>) or you write your own using recursion. Depending on which Scheme dialect you're using, there might already be a function (called <code>every</code> or <code>andmap</code>) that takes a list and a condition and returns <code>#t</code> iff the condition is true for every item in the list. Otherwise, you'd have to write it recursively or as a fold (though not all Scheme dialects have fold function either).</p>

<p>A recursive function that iterates over a list usually looks something like this:</p>

<pre><code>(define (do-something-with-list lst)
  (if (null? lst)
    (handle-the-case-that-list-is-empty)
    (combine
      (some-transformation-on (car lst))
      (do-something-with-list (cdr lst)))))
</code></pre>

<p>For example to sum all numbers in a list that are greater than 5 (without using <code>filter</code> or <code>fold-left</code>), you'd write:</p>

<pre><code>(define (sum-all-numbers&gt;5 numbers)
  (if (null? numbers)
    ; Sum of the empty list is 0
    0 
    (+
      ; If the head of the list is &gt; 5, add the number to the result, else
      ; add 0
      (if (&gt; (car numbers) 5) (car numbers) 0)
      (sum-all-numbers&gt;5 (cdr numbers)))))
</code></pre>

<p>You can use the same approach to define your function.</p>

<p>PS: <code>(if condition #t #f)</code> is redundant -- you can just write <code>condition</code> (unless <code>condition</code> is something other than a boolean and you need to convert it to a boolean, but I can't think of a scenario where that'd be necessary).</p>
"
"<p>I'm trying to declare a variable that will be available to multiple .c files. It's a malloced array of pointers to structs. </p>

<p>From what I understand I'll have to declare it with extern in a header file, but since I can't malloc in the header file do I declare it in the header file and then malloc in the .c file? I can't see how this would be done.</p>
","149392","","<p>You put the declaration in the header, the definition inside a .c file and the call to <code>malloc</code> in a function that gets executed before the first time you dereference the pointer (like the <code>main</code> function for example). So it will look something like this:</p>

<p>foo.h:</p>

<pre><code>extern struct your_struct** pointer;
void foo_init();
void foo_cleanup();
</code></pre>

<p>foo.c:</p>

<pre><code>#include &lt;stdlib.h&gt;
#include ""foo.h""

struct your_struct** pointer;

void foo_init() {
    pointer = malloc(sizeof(your_struct*) * some_size);
    // initialize the pointer in the array
}

void foo_cleanup() {
    // free the pointers in the array if you used malloc to initialize them
    free(pointer);
}
</code></pre>

<p>main.c:</p>

<pre><code>#include ""foo.h""

int main() {
    foo_init();
    // do other stuff
    foo_cleanup();
    return 0;
}
</code></pre>
"
"<p>What is the complexity of the following code:</p>

<pre><code>int data[] = { /* some numbers here */ };
n = data.length;

int lessThanCounter = 0;
for (int i=0; i&lt;n; i++)
    for (int j=n-1; j&gt;i; j--)
        if (data[i]&lt;data[j]) lessThanCounter++;
</code></pre>

<p>By my calculations it is O(n^2) - is this correct?</p>
","149392","","<p>Yes, that's correct. The body of the inner loop is executed <code>n-1</code> times on the first iteration of the outer loop, <code>n-2</code> times on the second iteration and so on until the <code>n</code>th iteration when it iterates <code>n-n = 0</code> times. So it's executed <code>n-1 + n-2 + ... + 0 = (n-1)*n/2 = (n^2-n)/2</code> times total, which is indeed in <code>O(n^2)</code>.</p>
"
"<p>Here's an excerpt of a class which I have created inside a header file :</p>

<pre><code>typedef double real;

class Grid{
   public :

      explicit Grid ();
      explicit Grid(size_t level );
      Grid(const Grid &amp; grid );

      ~ Grid ();


      const Grid &amp; operator =( const Grid &amp; grid );

      inline real &amp; operator ()( size_t i , size_t j );
      inline real operator ()( size_t i ,size_t j ) const;

      void fill( real value );
      void setBoundary ( real value );

 private :

   size_t y_ ; // number of rows 
   size_t x_ ; // number of columns 
   real h_ ; // mesh size 
   real * v_ ; //  values 
};
</code></pre>

<p>and here's an excerpt from the code I have written for the previously declared functions in a separate .cpp file. Note that I have only included parts which were relevant to my error.</p>

<pre><code>  inline real&amp;  Grid :: operator ()( size_t i , size_t j ){
    if( (i &gt;= y_) || (j&gt;=x_ ) )
      throw std::invalid_argument( ""Index out of bounds"" );
    return v_ [i* x_ +j];
  }

  inline real Grid::operator ()( size_t i ,size_t j ) const{
    if( (i &gt;= y_) || (j&gt;=x_ ) )
      throw std::invalid_argument( ""Index out of bounds"" );
    return v_[i* x_+j];
  }


  void Grid::fill( real value ){
   for(size_t i=1;i&lt;y_;++i){
    for(size_t j=1;j&lt;x_;++j)
     v_(i,j)=value;
   }

  }

 void Grid::setBoundary ( real value ){
    size_t i = 0;
    for(size_t j=0;j&lt;x_;++j){
     v_(i,j)=value;
    }
    i = y_;
    for(size_t j=0;j&lt;x_;++j){
     v_(i,j)=value;
    }
    size_t j = 0;
    for(size_t i=0;i&lt;y_;++i){
     v_(i,j)=value;
    }
    j = x_;
    for(size_t i=0;i&lt;y_;++i){
     v_(i,j)=value;
    }
  }
</code></pre>

<p>I am getting an error</p>

<blockquote>
  <p><code>((Grid*)this)-&gt;Grid::v_</code> cannot be used as a function</p>
</blockquote>

<p>whenever I am trying to use the overloaded <code>()</code> operator, inside the <code>fill</code> and <code>setBoundary</code> function. I have tried looking for similar errors online, but unfortunately couldn't make much progress. Do you have any suggestions, because I think the implementation of the overloaded operator is correct and as far as I know I haven't named any function with the same name as a member variable.</p>
","149392","","<p><code>v_</code> is a <code>real*</code>, i.e. a pointer. Pointers don't have an <code>operator()</code>, so you can't write <code>v_(something)</code>.</p>

<p>You've provided an overload of <code>operator()</code> for your <code>Grid</code> class. If you want to use that overload, you need to use <code>()</code> on an object of your <code>Grind</code> class. <code>v_</code> is not an object of your <code>Grid</code> class.</p>

<p>You probably want to invoke <code>operator()</code> on the current object (i.e. the object that <code>fill</code> or <code>setBoundary</code> are being called on). To do that, you'd write <code>(*this)(arguments)</code>.</p>
"
"<p>I have the following code:</p>

<pre><code>(define (play-loop strat0 strat1 strat2 game-limit)
 (define (play-loop-iter strat0 strat1 strat2 count history0 history1 history2 limit)
  (cond ((= count limit) (print-out-results history0 history1 history2 limit))
      (else (let ((result0 (strat0 history0 history1 history2))
                  (result1 (strat1 history0 history1 history2)
                  (result2 (strat2 history0 history1 history2)))
              (play-loop-iter strat0 strat1 strat2 (+ 1 count)
                              (extend-history result0 history0)
                              (extend-history result1 history1)
                              (extend-history result2 history2)
                              limit)))))
 (play-loop-iter strat0 strat1 strat2 0 '() '() '() game-limit)))
</code></pre>

<p>When I run it in racket it gives me the following error:</p>

<p>begin (possibly implicit): no expression after a sequence of internal definitions in:...</p>

<p>I seems everything is OK but there is an error and looked me very interesting.</p>

<p>What is the problem?</p>

<p>Thank you...</p>
","149392","","<p>It's telling you that your <code>play-loop</code> function only contains the definition of the <code>play-loop-iter</code> function and no other expression in its body.</p>

<p>It looks like you want the call to <code>play-loop-iter</code> to be part of <code>play-loop</code>'s body, but it's not - it's part of <code>play-loop-iter</code>'s body. Check the parentheses.</p>
"
"<p>I'm writing my own LISP based on Write Yourself a Scheme in 48 hours. (The code is <a href=""https://github.com/klrr/oct"" rel=""nofollow"">here</a>.) As a last exercise I want to implement macros. How can this be done considering that I represent expressions as a list of immutable datatypes. Can this be done simply in LISP itself or do I have to implement some function in Haskell?</p>

<p>My current implementation is written in Haskell and pretty much works like this:</p>

<ul>
<li>Parse input and turn it into a list of expressions</li>
<li>Evaluates the expressions and substitute it tills it's a single expression</li>
<li>Return that expression and print it</li>
</ul>

<p>The expressions is represented in Haskell like this:</p>

<pre><code>data Expr
  = Sym String
  | List [Expr]
  | Num Int
  | Str String
  | Bool Bool
  | Func Env [String] Expr
  | Prim ([Expr] -&gt; ErrorOr Expr)
  | Action ([Expr] -&gt; IOErrorOr Expr)
</code></pre>

<p>Okey, now to the real problem. Macros doesn't evaluates its arguments but instead transforms into an expression by ""placing"" the arguments inside the form. Returning valid expression that may be evaluated or returned as a quoted list. I was thinking of implementing this by having a special evaluation function which only evaluates the symbols in the macros' form. How this could be achieved though is something I have problem understanding. The proper solution feels like I should ""simply"" modify the form by replacing the symbols inside it with the arguments, but that's not possible due to Haskell's immutability.</p>

<p>So, <a href=""http://clojuredocs.org/clojure_core/clojure.core/defmacro"" rel=""nofollow"">Clojure</a> seems to have implemented macros in Lisp itself though. I can't interpret Clojure's solution but if this can be done it feels like being a bit easier than doing it in Haskell. I have no idea what macroexpand1(which macroexpand call) do, does it call some function from within Clojure's implementation? If so, then I still have to implement it inside Haskell.</p>

<p>If we look at how functions are evaluated:</p>

<pre><code>eval env (List (op:args)) = do
  func &lt;- eval env op
  args &lt;- mapM (eval env) args
  apply func args

apply :: Expr -&gt; [Expr] -&gt; IOErrorOr Expr
apply (Prim func) args = liftToIO $ func args
apply (Action func) args = func args
apply (Func env params form) args =
  case length params == length args of
    True -&gt; (liftIO $ bind env $ zip params args)
        &gt;&gt;= flip eval form
    False -&gt; throwError . NumArgs . toInteger $ length params
apply _ _ = error ""apply""
</code></pre>

<p>So, if I wanna implement a macro system, then I could probably remove the evaluation part of the arguments, then bind the macros parameters to its arguments, and have a special eval which only evaluates every symbol in the form, returning a new form that has the arguments put inside it instead. This is what I can't implement though, and I'm not even sure the logic is correct.</p>

<p>I understand this question is quite wide and could probably be more simply asked with ""How do I implement a macro system in my LISP implementation written in Haskell</p>
","149392","","<p>You don't need a special version of <code>apply</code>. Just call the regular <code>apply</code> without evaluating the arguments and then <code>eval</code> the expression returned by <code>apply</code>.</p>
"
"<p>In <a href=""http://stackoverflow.com/questions/16507677/how-to-do-for-each-on-output-from-find"">this</a> question the answer was</p>

<pre><code>find . -type f -name \*.mp4 -exec sh -c 'ffprobe ""$0"" 2&gt;&amp;1 |
   grep -q 1920x1080 &amp;&amp; echo ""$0""' {} \;
</code></pre>

<p>which will output all mp4 files that are <code>1920x1080</code>.</p>

<p>I don't understand why <code>sh -c</code> is there. If I remove it, then it doesn't find anything.</p>

<p>The author says</p>

<blockquote>
  <p>The new shell is required to handle the flow control inside the exec'd
  command.</p>
</blockquote>

<p>but I guess I am missing some fundamental knowledge to understand the answer.</p>

<p><strong>Question</strong></p>

<p>Can anyone explain why <code>sh -c</code> have to be there, and why it only works then <code>ffprobe</code> is opened in a new shell?</p>
","149392","","<p><code>find</code> executes the arguments given to <code>exec</code> as a command directly (that is it invokes the first argument as an application with the following arguments as arguments to that command) without doing any processing on it other than replacing <code>{}</code> with the file name. That is it does not implement any shell features like piping or input redirection. In your case the command contains pipes and input redirections. So you need to run the command through <code>sh</code>, so that <code>sh</code> handles those.</p>
"
"<p>I have a array <code>int b[MAXN][MAXN];</code></p>

<p>When I use <code>int a[][MAXN] = b;</code> (I know that <code>int (*a)[MAXN]</code> is OK)
It gives me an error.</p>

<p>But If I have a function <code>void f(int a[][MAXN])</code>
When I call <code>f(b);</code>
It works!</p>

<p>Does someone can tell me why?</p>
","149392","","<p>When declaring function parameters, <code>T[]</code> is treated the same as <code>T*</code>, i.e. it declares the parameter as a pointer. So <code>void f(int a[][MAXN])</code> simply declares the parameter <code>a</code> to be a pointer to  <code>int</code> arrays of size <code>MAXN</code>.</p>

<p>For other kinds of variables, it is not the same though. That is when you write <code>int a[][MAXN] = b</code>, this declares <code>a</code> as an array or arrays, not a pointer to arrays. And that's why that doesn't work (because you can't make arrays ""point"" to other arrays like that).</p>

<p>Note that this isn't specific to arrays of arrays. It's the same if you compare <code>void f(int a[])</code> to <code>int a[] = b</code>. In the former case the parameter <code>a</code> would simply be an <code>int</code> pointer (just as if you had written <code>int *a</code>) and in the latter case <code>a</code> would be an array and you'd get an error for the same reason as above.</p>
"
"<p>Please, could someone explain why here the function type is inferred to be string -> string?</p>

<pre><code>let myFunc a:string = 
    match a with 
    | ""A"" -&gt; 1
    | _ -&gt; 0
</code></pre>

<p>This works fine when the argument is generic, but as soon as I add :string the type changes. Why?</p>

<p><strong>Edit:</strong>
I want to declare the argument type to be a string as I actually want to use String.ToUpper() for the match:</p>

<pre><code>let myFunc a:string = 
    match a.ToUpper() with 
    | ""A"" -&gt; 1
    | _ -&gt; 0
</code></pre>

<p>A bit awkward solution would, be this </p>

<pre><code>let myFunc a = 
    match a.ToString().ToUpper() with 
    | ""A"" -&gt; 1
    | _ -&gt; 0
</code></pre>

<p>But I really know it will be a string</p>
","149392","","<p>By writing <code>:string</code> at the end of the function signature, you're declaring the return type  to be <code>string</code>. The type of <code>a</code> is inferred to be <code>string</code> because you pattern match it against strings, so the type of the function becomes <code>string -&gt; string</code>.</p>

<p>Presumably you meant for the <code>:string</code> to apply to <code>a</code>, not the result of the function. To achieve this you'd need to surround it with parentheses like this:</p>

<pre><code>let myFunc (a : string) =
</code></pre>

<p>Or if you want to specify both the argument type and the return type:</p>

<pre><code>let myFunc (a : string) : bool =
</code></pre>
"
"<p>I wrote a code in Python 2.7 for creating list of prime numbers. The code is</p>

<pre><code>def primes_list(num):
    ans = [2]
    for i in range(3, num, 2):
        for j in ans:
            if i % j == 0:
                break
        else:
            ans.append(i)
    else:
        return ans
</code></pre>

<p>Is this more efficient than <a href=""http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes"" rel=""nofollow"">Sieve of Eratosthenes</a> or not? I think the memory-efficiency should be better but I have doubts about time-efficiency. How to calculate the time and memory efficiency and how to benchmark the efficiencies?</p>
","149392","","<p>Since <code>range</code> in Python 2 returns a list, your algorithm's space complexity is still <code>O(n)</code>, so it is not more space efficient (at least not asymptotically). If you used xrange (or range in Python 3), it would be somewhat more space efficient because you'd only be storing the primes - not all numbers up to <code>n</code>.</p>

<p>Your time efficiency will be worse than a sieve either way.</p>
"
"<p>an array can't be defined as c[0], it at least has to be like c[1]
Why is the following code correct? What is he doing there?
Thank you for the explanation.</p>

<p><strong>edit: sorry guys, I'm writing C++ code in VS2012</strong></p>

<pre><code>int foo(double c[], int n) 
{

    if (n==1) {
        c[0] = 0;      //why is this possible?
    } else {
.
.
.

}
</code></pre>
","149392","","<p>In a variable declaration <code>c[0]</code> means ""c is an array of size 0"". Since arrays of size 0 don't exist (and wouldn't make sense) in C or C++, that is, as you point out, illegal.</p>

<p>As an expression <code>c[0]</code> means ""get the element at index 0 of c"". Since C arrays are 0-indexed valid indices for an array of size n are 0 through n-1. Since the size of an array always has to be greater than 0, 0 is always a valid index for any array. So it's always legal to write <code>c[0]</code> if <code>c</code> is an array or a pointer to valid memory.</p>

<p>And since <code>c[i]</code> is an expression that produces an lvalue, it is also always legal to write <code>c[0] = someValue</code> (unless <code>c</code> is <code>const</code>).</p>
"
"<p>Suppose you have to write a program that will test all programs in search of one that completes a specific task. For example, consider this JavaScript function:</p>

<pre><code>function find_truth(){
    for(n=0;;++n){
        try {
            var fn = Function(string(n));
            if (fn() == 42)
                return fn;
        } catch() {
            continue;
        }
    }
}
</code></pre>

<p>As long as string(n) returns the nth string possible (""a"", ""b"", ""c"", ... ""aa"", ""ab"" ...), this program would eventually output a function that evaluated to <code>42</code>. The problem with this method is that it is enumerating strings that could or couldn't be a valid program. My question is: is it possible to enumerate programs themselves? How?</p>
","149392","","<p>It is certainly possible to enumerate all programs in a given language that are syntactically valid (and in a statically typed language even only those that type check): You could simply enumerate all strings like you proposed, try to feed each one into a parser for the language and then reject those that can't be parsed. So if that's your definition of a valid program, then yes, it's possible.</p>

<p>It is however not true that your program would necessarily output a function that returns 42 eventually - even if you replace <code>string</code> with a function that only returns syntactically valid programs. If a returned function contains an infinite loop, it will run forever and thus your program will never get to try another function. Thus you might never reach a function that returns 42.</p>

<p>To avoid this issue, you might say that the <code>string(n)</code> function should only produce code that is syntactically valid <em>and</em> does not contain an infinite loop (while still being able to return all such functions). That, however, is not possible because that would entail deciding the Halting Problem (which is, of course, undecidable).</p>
"
"<p>I'm trying to figure out why my curried function operates in the following way. I built the function <em>ensure</em> to take a more function approach instead of multiple if-then statements that would accomplish the same thing.  </p>

<p>I discovered a bug today will running some tests where if the condition in the first ensure function e.g. <strong>ensure(contents.hasNext &amp;&amp; acc != null)</strong> is true, the false condition or second arguement still gets evaluated and becomes the overriding function.  </p>

<p>I can fix the problem if I simple change this: <strong>ensure(contents.hasNext)</strong> to this: <strong>ensure(contents.hasNext &amp;&amp; acc == null)</strong> but i'm struggling with WHY this is happening. </p>

<p>Is there a more obvious (or just better) solution to this?</p>

<pre><code>  def ensure[T](f: =&gt; Boolean)(truth: =&gt; T, lie: T) = if (f) truth else lie


  def lines(): Stream[String] = {
    def matchLine(text: String, acc: String): Stream[String] = text match {
      ...
      case NewLine(string) =&gt;
        ensure(contents.hasNext &amp;&amp; acc != null)(acc +: matchLine(contents.next, string),
          ensure(contents.hasNext)(matchLine(contents.next, string), acc +: string +: empty))
      ...
    }
    ensure(contents.hasNext)(matchLine(contents.next, null), empty)
  } 
</code></pre>
","149392","","<pre><code>(truth: =&gt; T, lie: T)
</code></pre>

<p>This means that the expression given for the <code>truth</code> parameter, will be evaluated each time that <code>truth</code> is used within your function (and only then), while <code>lie</code> will be executed exactly once before your function starts executing. In other words: <code>truth</code> is passed by name and <code>lie</code> isn't. To achieve the behaviour you want, you'd need to pass both by name (on the other passing the condition by name is not really necessary since it will be evaluated exactly once at the beginning of the function in all cases):</p>

<pre><code>ensure[T](f: Boolean)(truth: =&gt; T, lie: =&gt; T) = if (f) truth else lie
</code></pre>

<p>That said, I wouldn't agree that replacing if-then-else expressions with a function that's basically a wrapper around if-then-else, makes your code more functional.</p>
"
"<p>My lecturer has provided the following code:</p>

<pre><code>(define (length list)
(cond (( null ? list) 0 )
(( atom ? list) 1 )
( else
( + 1 ( length (cdr list))))
</code></pre>

<p>However it wouldn't compile and Scheme kept waiting for input, so I rewrote it in  a way that looks tider to me and noticed it had 2 missing brackets (please note this is the first time I've touched Scheme, I'm not sure of the correct way of laying it out and writing it):</p>

<pre><code>(define 
    (hello list)
    (cond 
        (( null ? list) 0 )
        (( atom ? list) 1 )
        (else
            (+1
                ( hello (cdr list))
            )
        )
    )
)
</code></pre>

<p>I also renamed it to <code>hello</code> just to make it obvious that this is my code executing. </p>

<p>Running it however gets the following error:</p>

<pre><code>]=&gt; (hello '(a b c))

;Unbound variable: ?
</code></pre>

<p>What's wrong with my function?</p>
","149392","","<pre><code>(null ? list)
</code></pre>

<p>This calls the function <code>null</code> with the arguments <code>?</code> and <code>list</code>. However, as the error message states, there is no variable named <code>?</code> (nor is there a function named <code>null</code>, but Scheme didn't get that far, so the error message didn't mention it).</p>

<p>There is however a function named <code>null?</code>, which is almost certainly the function you meant to call. So:</p>

<pre><code>(null? list)
</code></pre>

<p>Note that the <code>?</code> in <code>null?</code> is simply part of the function name and you can't put a space in the middle of a name.</p>

<p>The same applies to <code>(atom ? list)</code> on the next line.</p>
"
"<p>I was reading the ""<a href=""http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.22.7806"" rel=""nofollow"">Fun with functional dependencies</a>"" </p>

<p>This part is said to statically computed ie performed at the compile time</p>

<pre><code>data Nat = Zero | Succ Nat
three = Succ(Succ(Succ Zero)))
even Zero = True
even (Succ n) = odd n
odd Zero = False
odd (Succ n) = even n

(odd three)
</code></pre>

<p>But I don't quite get what would be statically computed. And I also don't find anything unusual the compiler to compute to check types</p>
","149392","","<p>Nothing in that code is computed statically. Note that the code you've posted is from the section ""Dynamic Computation"", not ""Static Computation"".</p>
"
"<p>I'm trying to handle exceptions from my request parser:</p>

<pre><code>   go bs =                                                                 
       case try $ parseRequest reader bs secure of                             
         Left  ex             -&gt; exceptionHandler writer ex                 
         Right (request, bs') -&gt; do                                         
            sendResponse writer =&lt;&lt; app request                             
            go bs'                                                               
</code></pre>

<p>But I have an issue when using <code>try</code>:</p>

<pre><code>Couldn't match expected type `IO (Either e0 (Request, ByteString))'
            with actual type `Either t0 t1'
In the pattern: Left ex
In a case alternative: Left ex -&gt; exceptionHandler writer ex
In the expression:
  case try $ parseRequest reader bs secure of {
    Left ex -&gt; exceptionHandler writer ex
    Right (request, bs')
      -&gt; do { sendResponse writer =&lt;&lt; app request;
              go bs' } }
</code></pre>

<p><code>IO (Either e0 (Request, ByteString))</code> is exactly what I except to get from <code>try</code> because its type is <code>try :: Exception e =&gt; IO a -&gt; IO (Either e a)</code>, but instead I get <code>Either e a</code>.</p>

<p>What am I missing?</p>
","149392","","<p><code>try</code> does produce an <code>IO (Either e a)</code>. You're getting the error message because you're matching the value produced by <code>try</code> against the pattern <code>Left ex</code>, which has the type <code>Either a b</code>, not <code>IO a</code>.</p>

<p>To fix your code, you'd need to get the <code>Either</code> out of the <code>IO</code> (using <code>&gt;&gt;=</code> or <code>&lt;-</code> inside <code>do</code>) and then pattern match against that.</p>
"
"<p>Why does this function have the type: 
<code>deleteAllMp4sExcluding :: [Char] -&gt; IO (IO ())
</code> instead of <code>deleteAllMp4sExcluding :: [Char] -&gt; IO ()</code></p>

<p>Also, how could I rewrite this so that it would have a simpler definition?</p>

<p>Here is the function definition:</p>

<pre><code>import System.FilePath.Glob
import qualified Data.String.Utils as S

deleteAllMp4sExcluding videoFileName =
  let dirGlob = globDir [compile ""*""] "".""
      f = filter (\s -&gt; S.endswith "".mp4"" s &amp;&amp; (/=) videoFileName s) . head . fst 
      lst = f &lt;$&gt; dirGlob
  in mapM_ removeFile &lt;$&gt; lst
</code></pre>
","149392","","<p><code>&lt;$&gt;</code> when applied to <code>IO</code>s has type <code>(a -&gt; b) -&gt; IO a -&gt; IO b</code>. So since <code>mapM_ removeFile</code> has type <code>[FilePath] -&gt; IO ()</code>, <code>b</code> in this case is <code>IO ()</code>, so the result type becomes <code>IO (IO ())</code>.</p>

<p>To avoid nesting like this, you should not use <code>&lt;$&gt;</code> when the function you're trying to apply produces an <code>IO</code> value. Rather you should use <code>&gt;&gt;=</code> or, if you don't want to change the order of the operands, <code>=&lt;&lt;</code>.</p>
"
"<p><strong>Why <code>fread()</code> doesn't work but <code>fwrite()</code> works?</strong></p>

<p>If I get <code>fwrite()</code> into comments and <code>fread()</code> out of comments, the output file is of <code>0 bytes</code> size... But if <code>fwrite()</code> is out of comments, the output file is of <code>64 bytes</code> size..</p>

<p>What is the matter?</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main()
{
    FILE *input = fopen( ""01.wav"", ""rb"");

        if(input == NULL)
        {
            printf(""Unable to open wave file (input)\n"");
            exit(EXIT_FAILURE);
        }

    FILE *output = fopen( ""01_out.wav"", ""wb"");


    //fread(output, sizeof(char), 64, input);
    fwrite(input, sizeof(char), 64, output);

    fclose(input);
    fclose(output);

    return 0;
}
</code></pre>
","149392","","<pre><code>fread(output, sizeof(char), 64, input);
</code></pre>

<p>This line will read 64 bytes from the input file and store those 64 bytes at the memory that <code>output</code> points to. It will not write anything to the output file. Since <code>output</code> is a file pointer and not a pointer to an array, it does not make sense to use it like this.</p>

<pre><code>fwrite(input, sizeof(char), 64, output);
</code></pre>

<p>This line will read 64 bytes from the memory that <code>input</code> points to and write them to the output file. It will not read anything from the input file. Again this won't do what you want since the memory that <code>input</code> points to simply contains a <code>FILE</code> object and not the contents of the input file.</p>
"
"<p>In a Ruby script, I'm using <code>string#gsub</code> to generate a string that is used as a regex. This regex has to match against a <code>+</code> character, so I'm using <code>\+</code> to escape it.</p>

<p>This example code isolates my source of confusion. In this code, the regex I want to create is <code>/a\+b/</code>. However, when I use <code>#gsub</code>, the regex that is returned is <code>/ab/</code>.</p>

<pre><code>string = 'a\+b'
expected = Regexp.new(string)
actual = Regexp.new('x'.gsub('x', string))

# expected returns /a\+b/
# actual returns /ab/
</code></pre>

<p>I couldn't find anything in the Ruby documentation about <code>#gsub</code> and <code>+</code> characters. Can anybody help me understand what is happening to produce this result?</p>

<p>For now, to make my code work, I'm matching against <code>\x2B</code>, the ANSI hex code for the <code>+</code> character. Is there a way to achieve this that isn't so obfuscated?</p>

<p>Thanks in advance!</p>
","149392","","<p>Inside a replacement string <code>\+</code> is used to refer to the value of the last capturing group (so if the regex includes, for example, 3 capturing groups <code>\+</code> is the same as <code>\3</code>). If you use the block form of <code>gsub</code> instead, these substitutions will not be performed:</p>

<pre><code>string = 'a\+b'
actual = Regexp.new( 'x'.gsub('x') { string } )
# actual is now /a\+b/
</code></pre>
"
"<pre><code>class ProfileController &lt; ApplicationController

def show
    @user = current_user
    @first_name = @user.first_name
    @last_name = @user.last_name
end

def settings
end

def pics
    @photos = current_user.photos.all
end


end
</code></pre>

<p>in the view of _pics.html.erb, I have</p>

<pre><code>&lt;% @photos.each do |p| %&gt;
&lt;%= image_tag p.image(:medium) %&gt;
&lt;% end %&gt;
</code></pre>

<p>If I change it to current_user.photos.each do |p|, it works, which is weird. I don't get an error from this code on my other computer.</p>
","149392","","<p>In a comment you said, that you render the <code>pics</code> partial from your <code>show</code> view. Since the <code>show</code> view is rendered by the <code>show</code> action and the <code>show</code> action does not set the <code>@photos</code> variable, you can't use that variable. So to fix your problem, you'd need to set the variable in the <code>show</code> action.</p>

<p>You seem to think that rendering the <code>pics</code> partial will invoke the <code>pics</code> action, but that's not the case. An action will only be invoked if an URL is accessed that's mapped to that using the routing system. Rendering partials does not invoke any actions.</p>

<p>Also it should just be <code>@photos = current_user.photos</code> without the <code>all</code>.</p>
"
"<p>I'm working on a project that uses the Happy parser generator. This is what have I done until now: </p>

<pre><code>Exp   : Exp1                    { $1 }

Exp1  : Exp1 '+' Term           { \p -&gt; $1 p + $3 p }
      | Exp1 '-' Term           { \p -&gt; $1 p - $3 p }
      | Term                    { $1 }

Term  : Term '*' Factor         { \p -&gt; $1 p * $3 p }
      | Term '/' Factor         { \p -&gt; $1 p / $3 p }
      | sqrt Factor             { \p -&gt; sqrt $2 p }
      | Factor                  { $1 }

Factor                    
      : double                  { \p -&gt; $1 }
      | '(' Exp ')'             { $2 }
</code></pre>

<p>The problem is that I get the following error:</p>

<pre><code>Parser.hs:158:38:
No instance for (Floating ([a0] -&gt; Double))
  arising from a use of `happyReduction_7'
Possible fix:
  add an instance declaration for (Floating ([a0] -&gt; Double))
In the second argument of `happySpecReduce_2', namely
  `happyReduction_7'
In the expression: happySpecReduce_2 6 happyReduction_7
In an equation for `happyReduce_7':
    happyReduce_7 = happySpecReduce_2 6 happyReduction_7
</code></pre>

<p>Do you know how can I solve this?</p>

<p>Update: I solved it but now it works only if I write ""sqrt2""(no space between sqrt and 2); if I write ""sqrt 2"" I get ""parse error"".</p>

<p>This is what I have in the Alex(lex) file:</p>

<pre><code>       tokens :-

       $white+         ;
       ""--"".*          ;
       ""sqrt""                   { \s -&gt; TokenSqrt}
       ""sin""                    { \s -&gt; TokenSin}
       ""log""                    { \s -&gt; TokenLog}
       @doubleNumber            { \s -&gt; TokenDouble (read s) }
       @var                     { \s -&gt; TokenVar s }
       ""+""                      { \s -&gt; TokenPlus }
       ""-""                      { \s -&gt; TokenMinus }
       ""*""                      { \s -&gt; TokenMul }
       ""/""                      { \s -&gt; TokenDiv }
       ""(""                      { \s -&gt; TokenOB }
       "")""                      { \s -&gt; TokenCB }
       ""=""                      { \s -&gt; TokenEq }
</code></pre>
","149392","","<pre><code>sqrt $2 p
</code></pre>

<p>This calls <code>sqrt</code> with the function <code>$2</code> as its argument and then applies the resulting function to the argument <code>p</code>. This would only makes sense if <code>sqrt</code> could take a function and produce a function as a result, which would be the case if and only if there was a <code>Floating</code> instance for functions, which there is not. Thus the error message.</p>

<p>What you doubtlessly intended to do was to apply the function <code>$2</code> to the argument <code>p</code> and then apply <code>sqrt</code> to the result, for which you'd write:</p>

<pre><code>sqrt ($2 p)
</code></pre>
"
"<p><code>(car ''abracadabra)</code> is equivalent to <code>(car (quote (quote abracadabra))</code>, and it evaluates to <code>(car (quote abracadabra))</code> --> <code>quote</code></p>

<p>On the othe hand <code>(car (quote (a b)))</code> evaluates to <code>a</code>, which to me makes sense intuitively.</p>

<p>So my question is, why does Scheme not evaluate the second quote in <code>(car (quote (quote abracadabra))</code> (i.e. evaluate <code>(car (quote abracadabra))</code> to <code>(car abracadabra)</code>), but does evaluade the quote in <code>(car (quote (a b)))</code> (i.e. why isn't the answer <code>quote</code>)?</p>
","149392","","<p>Scheme doesn't evaluate the inner quote because the inner quote is inside the outer quote and expressions inside a quote aren't evaluated. That is if you write <code>(quote foo)</code>, then <code>foo</code> will never be evaluated - even if <code>foo</code> is another call to <code>quote</code>.</p>
"
"<p>I was trying to understand why Haskell's <code>show</code> treats
a list of chars different from a list of e.g. integers
even without the <code>FlexibleInstances</code> Pragma.</p>

<p>Having read through the documentation of <code>Show</code>, I realized
that I don't really understand how Haskell chooses methods
for instances of type classes.</p>

<p>Consider the following code:</p>

<pre><code>class MyShow a where
    myShow :: a -&gt; String
    myShowList :: [a] -&gt; String
    myShowTuple :: (a, b) -&gt; String

    myShowList xs = ""Default List Implementation""
    myShowTuple t = ""Default Tuple Implementation""

instance MyShow Char where
    myShow c = ""One Char""
    myShowList xs = ""List of Chars""
    myShowTuple t = ""Char Tuple""

instance MyShow Int where
    myShow n = ""One Int""
    myShowList xs = ""List of Integers""
    myShowTuple t = ""Int Tuple""

instance MyShow Float where
    myShow n = show n

instance (MyShow a) =&gt; MyShow [a] where
    myShow = myShowList

instance (MyShow a) =&gt; MyShow (a, b) where
    myShowTuple t = ""foo""
    myShow = myShowTuple
</code></pre>

<p>Now if I call e.g.</p>

<pre><code>myShow (5::Int,5::Int)
</code></pre>

<p>I would expect that Haskell thinks
'Oh, <code>myShow</code> got a tuple as an argument. Let's see which
implementation I have to call.'
and chooses the last one which in return would result
in <code>""foo""</code>.
Obviously, this is not the case.
Haskell seems to look at the content of the tuple (namely
the type of <code>a</code>) and decides to call the corresponding method,
resulting in <code>""Int Tuple""</code>.</p>

<p>Why is this?</p>
","149392","","<p>When you write <code>myShow (5::Int, 5::Int)</code>, Haskell <em>does</em> say ""Oh, myShow got a tuple as an argument. Let's see which implementation I have to call."" and it <em>does</em> choose the last one, i.e. <code>myShow = myShowTuple</code>. But that doesn't mean the result will be ""foo"". It means that the result of calling <code>myShow (5::Int, 5::Int)</code> will be the same as the result of calling <code>myShowTuple (5 :: Int, 5 :: Int)</code>.</p>

<p>So now Haskell has to decide which version of <code>myShowTuple</code> it has to call. Since <code>myShowTuple</code> has type <code>MyShow a =&gt; (a, b) -&gt; String</code>, the version of <code>myShowTuple</code> that's defined on the second-to-last line has type <code>MyShow a =&gt; ((a, c), b) -&gt; String</code>, so that one doesn't fit. The one defined on line 17 has type <code>(Int, b) -&gt; String</code>, so that one does fit. So that's the one that is picked.</p>
"
"<p>I'm working on an RPN Calculator and think I'm almost there, except it's returning the expression not the solution.  </p>



<pre class=""lang-rb prettyprint-override""><code>def evaluate(expression)
  expression = expression.split

  operators = expression.select { |v| v =~ /\W/}
  operands  = expression.select { |v| v =~ /\d/}

  new_expression = operands.zip(operators)
  eval = new_expression.join
end
</code></pre>

<p>This should return <code>-7</code>:</p>

<pre class=""lang-rb prettyprint-override""><code>puts evaluate('5 8 + 4 - 5 *')
#=&gt; 5+8-4*5
</code></pre>
","149392","","<pre><code>eval = new_expression.join
</code></pre>

<p>This calls <code>new_expression.join</code> and stores the result in a local variable called <code>eval</code>. Since you never use that local variable, you could as well just have written:</p>

<pre><code>new_expression.join
</code></pre>

<p>If it was your intention to call Ruby's <code>eval</code> method with the result of <code>new_expression.join</code> as its argument, you should remove the assignment operator:</p>

<pre><code>eval new_expression.join
</code></pre>

<p>That said using <code>eval</code> to evaluate the expression is only a good idea if you're only ever evaluating trusted input.</p>
"
"<p>What is the difference between <code>List</code> and <code>List&lt;?&gt;</code>? I know I can't add any element to the <code>List&lt;?&gt;</code>. I have a code:</p>

<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;();
processList(myList);
processListGeneric(myList);

public static void processList(List myList) {
Iterator it = myList.iterator();
while(it.hasNext())
    System.out.println(it.next());
}

public static void processListGeneric(List&lt;?&gt; myList) {
    Iterator&lt;?&gt; it = myList.iterator();
    while(it.hasNext())
        System.out.println(it.next());
}
</code></pre>

<p>The name of the two methods cannot be the same, because it causes compile time error. So is there any difference in these two approaches?</p>
","149392","","<p>Just writing <code>List</code> without a type parameter is deprecated, but otherwise the same as writing <code>List&lt;Object&gt;</code>. So the question becomes ""What's the difference between <code>List&lt;Object&gt;</code> and <code>List&lt;?&gt;</code> and which one should I use?"".</p>

<p>As you already know, you can't add (anything other than <code>null</code>) to a <code>List&lt;?&gt;</code>, so if you need to add to a list, you should use a <code>List&lt;Object&gt;</code> (or a more specific type where applicable, of course). On the other hand, a method that takes a <code>List&lt;Object&gt;</code>, only accepts <code>List&lt;Object&gt;</code>s and not any lists that contain a subclass of <code>Object</code>. That is, it would not accept a <code>List&lt;String&gt;</code>. If the method takes a <code>List&lt;?&gt;</code> however, it accepts any kind of list. So if you don't need to add to the list, you should use <code>List&lt;?&gt;</code> as it is more general.</p>
"
"<p>I wonder how I/O were done in Haskell in the days when IO monad was still not invented. Anyone knows an example.</p>

<p>Edit: Can I/O be done without the IO Monad in modern Haskell? I'd prefer an example that works with modern GHC.</p>
","149392","","<p>Before the IO monad was introduced, <code>main</code> was a function of type <code>[Response] -&gt; [Request]</code>. A <code>Request</code> would represent an I/O action like writing to a channel or a file, or reading input, or reading environment variables etc.. A <code>Response</code> would be the result of such an action. For example if you performed a <code>ReadChan</code> or <code>ReadFile</code> request, the corresponding <code>Request</code> would be <code>Str str</code> where <code>str</code> would be a <code>String</code> containing the read input. When performing an <code>AppendChan</code>, <code>AppendFile</code> or <code>WriteFile</code> request, the response would simply be <code>Success</code>. (Assuming, in all cases, that the given action was actually successful, of course).</p>

<p>So a Haskell program would work by building up a list of <code>Request</code> values and reading the corresponding responses from the list given to <code>main</code>. For example a program to read a number from the user might look like this (leaving out any error handling for simplicity's sake):</p>

<pre><code>main :: [Response] -&gt; [Request]
main responses =
  [
    AppendChan ""stdout"" ""Please enter a Number\n"",
    ReadChan ""stdin"",
    AppendChan ""stdout"" . show $ enteredNumber * 2
  ]
  where (Str input) = responses !! 1
        firstLine = head . lines $ input
        enteredNumber = read firstLine 
</code></pre>

<p>As Stephen Tetley already pointed out in a comment, a detailed specification of this model is given in chapter 7 of the <a href=""http://haskell.cs.yale.edu/wp-content/uploads/2011/01/haskell-report-1.2.pdf"">1.2 Haskell Report</a>.</p>

<hr>

<blockquote>
  <p>Can I/O be done without the IO Monad in modern Haskell?</p>
</blockquote>

<p>No. Haskell no longer supports the <code>Response</code>/<code>Request</code> way of doing IO directly and the type of <code>main</code> is now <code>IO ()</code>, so you can't write a Haskell program that doesn't involve <code>IO</code> and even if you could, you'd still have no alternative way of doing any I/O.</p>

<p>What you can do, however, is to write a function that takes an old-style main function and turns it into an IO action. You could then write everything using the old style and then only use IO in <code>main</code> where you'd simply invoke the conversion function on your real main function. Doing so would almost certainly be more cumbersome than using the <code>IO</code> monad (and would confuse the hell out of any modern Haskeller reading your code), so I definitely would not recommend it. However it <em>is</em> possible. Such a conversion function could look like this:</p>

<pre><code>import System.IO.Unsafe

-- Since the Request and Response types no longer exist, we have to redefine
-- them here ourselves. To support more I/O operations, we'd need to expand
-- these types

data Request =
    ReadChan String
  | AppendChan String String

data Response =
    Success
  | Str String
  deriving Show

-- Execute a request using the IO monad and return the corresponding Response.
executeRequest :: Request -&gt; IO Response
executeRequest (AppendChan ""stdout"" message) = do
  putStr message
  return Success
executeRequest (AppendChan chan _) =
  error (""Output channel "" ++ chan ++ "" not supported"")
executeRequest (ReadChan ""stdin"") = do
  input &lt;- getContents
  return $ Str input
executeRequest (ReadChan chan) =
  error (""Input channel "" ++ chan ++ "" not supported"")

-- Take an old style main function and turn it into an IO action
executeOldStyleMain :: ([Response] -&gt; [Request]) -&gt; IO ()
executeOldStyleMain oldStyleMain = do
  -- I'm really sorry for this.
  -- I don't think it is possible to write this function without unsafePerformIO
  let responses = map (unsafePerformIO . executeRequest) . oldStyleMain $ responses
  -- Make sure that all responses are evaluated (so that the I/O actually takes
  -- place) and then return ()
  foldr seq (return ()) responses
</code></pre>

<p>You could then use this function like this:</p>

<pre><code>-- In an old-style Haskell application to double a number, this would be the
-- main function
doubleUserInput :: [Response] -&gt; [Request]
doubleUserInput responses =
  [
    AppendChan ""stdout"" ""Please enter a Number\n"",
    ReadChan ""stdin"",
    AppendChan ""stdout"" . show $ enteredNumber * 2
  ]
  where (Str input) = responses !! 1
        firstLine = head . lines $ input
        enteredNumber = read firstLine 

main :: IO ()
main = executeOldStyleMain doubleUserInput
</code></pre>
"
"<p>I am starting to learn Scheme and well, I am trying to implement my own max function that gives the max of just two parameters.</p>

<p>I've written the function like this:
<code>(define (myMax x y) (cond ((&gt; x y) (x)) ((&lt; x y) (y))))</code></p>

<p>But every time I try calling it <code>(myMax 100 40)</code>(example) I get an error that says:<br>
<code>The object 100 is not applicable.</code></p>

<p>Searching the documentation of GNU's MIT-Scheme, they say:
<code>This type indicates an error in which a program attempted to apply an object that is not a procedure. The object being applied is saved in the datum field, and the arguments being passed to the object are saved as a list in the operands field.</code> <br>
But what is that supposed to mean? </p>

<p>Weird thing is, I implemented a very simple function that adds two numbers and it works just fine, also an absolute value function that works fine; could it be the conditional is messed up? </p>

<p>Thanks </p>
","149392","","<p>In Scheme <code>(function-name arguments)</code> is the syntax for applying a function to the given arguments. So <code>(x)</code> means ""apply the function <code>x</code> to no arguments"". However <code>x</code> is not a function, which the compiler is trying to tell you by saying that it's not ""applicable"".</p>

<p>Since you don't actually want to apply <code>x</code>, simply remove the parentheses around it. Same for <code>(y)</code> in the other case of the <code>cond</code>.</p>
"
"<p>I'm working through the <a href=""http://en.wikibooks.org/wiki/Write_Yourself_a_Scheme_in_48_Hours/Parsing"" rel=""nofollow"">Write Yourself a Scheme</a> tutorial, and one code block made me wonder about the difference between bind and assignment:</p>

<pre><code> parseAtom = do first &lt;- letter &lt;|&gt; symbol
            rest &lt;- many (letter &lt;|&gt; digit &lt;|&gt; symbol)
            let atom = first:rest
            return $ case atom of 
                       ""#t"" -&gt; Bool True
                       ""#f"" -&gt; Bool False
                       _    -&gt; Atom atom
</code></pre>

<p>Why <code>let atom =</code> instead of <code>atom &lt;-</code>? Thus, I tried:</p>

<pre><code>parseAtom = do first &lt;- letter &lt;|&gt; symbol
           rest &lt;- many (letter &lt;|&gt; digit &lt;|&gt; symbol)
           atom &lt;- first : rest
           return $ case atom of
                ""#t"" -&gt; Bool True
                ""#f"" -&gt; Bool False
                _ -&gt; Atom atom
</code></pre>

<p>And I get the compile error:</p>

<pre><code>    Couldn't match expected type `[Char]'
       against inferred type `Text.Parsec.Prim.ParsecT
                                String () Data.Functor.Identity.Identity Char'
In a stmt of a 'do' expression: atom &lt;- first : rest
</code></pre>

<p>I can't figure precisely what this means, which is probably due to an imprecise understanding of <code>do</code> or monads. (I've read <a href=""http://learnyouahaskell.com/"" rel=""nofollow"">Learn You a Haskell</a> along with various other monad/do tutorials, and other SO questions note that indentation oftens causes issues here, but I think I'm indenting correctly)</p>
","149392","","<p>You're inside the parser monad, so the right side of <code>&lt;-</code> needs to be a parser expression. However <code>first : rest</code> is simply a list (a string, specifically), not a parser expression.</p>

<p>What <code>v &lt;- someParser</code> does is it applies the given parser to the input and then stores the matched text in <code>v</code>. A string is not a parser and it can't be applied to the input and there would be no matched text to store in <code>v</code>. So all that you could do is to store the string in <code>v</code>, which you'd do by writing <code>let v = someString</code>.</p>
"
"<p>Why is <code>(range)</code> in the following example able to reproduce index values? I would like to write a defn-defined function, but cannot see how this example works to reproduce what it does. I understand that # is creating an anonymous function.</p>

<p>So, assuming <code>(def d1 [:a :b :c])</code> how is range generating indexes in the following?</p>

<pre><code>(#(map list % (range)) d1)
((:a 0) (:b 1) (:c 2))
</code></pre>
","149392","","<p>If we apply the anonymous function, we get <code>(map list d1 (range))</code>. <code>range</code> without arguments, creates a list from 2 to infinity. So we're calling <code>map</code> with <code>list</code> as the function argument and <code>d1</code> and a sequence from 0 to infinity as the other arguments. What <code>map</code> does is: it applies the given function to elements from the given sequences until one of the sequences runs out of elements. So the elements we get are <code>(list first-element-of-d1 first-element-of-range)</code>, <code>(list second-element-of-d1 second-element-of-range)</code> and so on until we've been over every element in <code>d1</code>.</p>
"
"<p>After hours of fixing the following code I got stuck in the following compile error message and no matter what I try, I cannot fix it.</p>

<p>Error: syntax error: deleting  END RPAREN FUN</p>

<p>the code is:</p>

<pre><code> fun we  (array1 , k, n, fif1) = if Queue.isEmpty fif1 then (array1, ~1 , n ,
   fif1 )
    else (  
     let
        val b = Queue.head(fif1)
        val y = Queue.dequeue(fif1)
        val z = #1 b
        in 
            if ( (Array.sub (array1 , z))  = (What) ) then (array1 , #2 y ,    n    , fif1 ) else 
            (
            if (Array.sub (array1 ,(z+n) ) &lt;&gt; ( Block) ) then (
            ( Queue.enqueue ( fif1 , (z, (#2 b) ))) ; Array.update (array1 , ((z)+n) , Block)) else (); 
            if ( (Array.sub (array1 , (z+1)) ) &lt;&gt; ( Block) ) then (
            Queue.enqueue ( fif1 ,((z+1), ((#2b) + 1)));  Array.update (array1 , (z+1) , Block)) else () ; 
            if (Array.sub (array1 , (z-1 ) ) &lt;&gt; ( Block) ) then (
            Queue.enqueue ( fif1 , (((z-1), ((#2 b)+1) ) )) ; Array.update (array1 , (z-1) , Block)) else () ; 
            if ( (Array.sub (array1 , (z-n ) )) &lt;&gt; (Block) ) then 
            ( Queue.enqueue ( fif1 , ((z-n), ((#2 b)+2 )) );  Array.update (array1 , (z-n) , Block) ) else () ;
            we (array1 , k, n , fif1));
        end ) 

fun tb filename =
let
 val (n, array1) = parse filename
 val c = findt (T, array1, 0) 
 val fif1 = Queue.mkQueue ()
in
  #2 we (array1, 0, n, Queue.enqueue (fif1 , (c,0) ) )
end
</code></pre>

<p>and the error message is about this part of the code </p>

<pre><code>we (array1 , k, n , fif1));
            end ) 

    fun tb filename =
</code></pre>

<p>any possible help would be greatly appreciated, thanks in advance!</p>
","149392","","<pre><code>            we (array1 , k, n , fif1));
        end )
</code></pre>

<p>In SML <code>;</code> is a statement <em>separator</em>, not a statement <em>terminator</em>. What this means is: if you have a block containing multiple statements, you put <code>;</code>s between the statements, but you do not put a <code>;</code> after the last statement in the block. In other words: there should be no <code>;</code> after <code>we (array1 , k, n , fif1))</code>.</p>

<pre><code>#2 we (array1, 0, n, Queue.enqueue (fif1 , (c,0) ) )
</code></pre>

<p>Here you're calling <code>#2</code> with two arguments: the function <code>we</code> and the tuple <code>(array1,...)</code>. What you meant to do is to call <code>we</code> with the tuple as its argument and then call <code>#2</code> with the result as its argument. That would be <code>#2 (we (array1, 0, n, Queue.enqueue (fif1 , (c,0) ) ) )</code>.</p>
"
"<p>I have a simple fonction that represents the function map : </p>

<pre><code>let f a b = fold_right (fun x y -&gt; a(x)::y) b []
</code></pre>

<p>I would like to know the signification of the parentheses for  a(x)::y</p>

<p>thanks!</p>
","149392","","<p>The parentheses around <code>x</code> in <code>a(x)</code> don't have any significance - they're entirely redundant. The author of the code could just as well have written:</p>

<pre><code>let f a b = fold_right (fun x y -&gt; a x :: y) b []
</code></pre>
"
"<p>given the problem from: </p>

<p><a href=""http://arunrocks.com/treeify_-_converting_tree_data_structures/"" rel=""nofollow"">http://arunrocks.com/treeify_-_converting_tree_data_structures/</a></p>

<p>For a hobby project, I was faced with an interesting problem of converting a flat representation of a tree into a nested data structure. A flat representation of a tree looks like this:</p>

<p>0
0
1
1
2
3
2
1</p>

<p>Each number refers to the nesting level within a tree. After conversion to a nested structure, it should look as follows (square brackets is the Python syntax for a list):</p>

<p>[ 0,
  0,
  [ 1,
    1,
    [ 2,
      [ 3 ],
    2],
1]]</p>

<p>How can I do this in Haskell? </p>
","149392","","<p>In Haskell all elements of a list need to have the same type. So you can't have a list where one element is an integer and another element is a list. Therefore <code>[1, [2, 3]]</code> would cause a type error in Haskell.</p>

<p>So if you want to represent arbitrarily nested structures like this, you'll need to define your own type for that. That could look like this:</p>

<pre><code>data Tree a =
    Leaf a
  | Branch [Tree a]
</code></pre>

<p>A value of that type could then look like this:</p>

<pre><code>Branch [
  Leaf 0, Leaf 0,
  Branch [
    Leaf 1, Leaf 1, Branch [
      Leaf 2, Branch [
        Leaf 3],
      Leaf 2],
    Leaf 1]]
</code></pre>
"
"<p>I guess my brain is going soggy. Can somebody explain to be the best way to achieve the following task?</p>

<p>I want to open a file, do some stuff with it, and then close it. I want to ensure that in all circumstances, the file is definitely closed. I also want to run a particular I/O action if opening the file fails (does not exist, access denied, etc)</p>

<p>For cleanup, I presumably want <code>bracket</code>, and for handling the open failure I presumably want some variant of <code>try</code>. But I can't decide the best way to combine these so that it does the right thing, without leaving any ""gaps"" (places where an exception at the wrong moment could break stuff).</p>
","149392","","<p>Use <code>try</code> to open the file. If successful use <code>finally</code> to work with the file handle and close the file afterwards. If opening the file was not successful, go into your error case. So the code should look something like this:</p>

<pre><code>do
  res &lt;- try (openFile filename mode)
  case res of
    Right handle -&gt;
      finally (workWith handle) (hClose handle)
    Left (e :: SomeException) -&gt;
      handleOpeningError e
</code></pre>

<p>This will execute the <code>handleOpeningError</code> action if <code>openFile</code> failed and it will close the file handle under all circumstances. If an exception occurs during <code>workWith handle</code>, that exception will be re-thrown after the file handle has been closed (if I understood you correctly, you only want to handle exceptions that are thrown by <code>openFile</code> and otherwise you only want to ensure the file was closed).</p>
"
"<p>I'm trying to run the Elm input examples from <a href=""http://elm-lang.org/examples/Basic.elm"" rel=""nofollow"">this page</a>. Specifically, the <a href=""http://elm-lang.org/edit/examples/Reactive/TextField.elm"" rel=""nofollow"">Text Field</a> example, and I'm getting an error saying that the <code>Graphics.Input</code> module is missing. </p>

<p>I've got this in a file called <code>Main.elm</code>:</p>

<pre><code>import Graphics.Input as Input

main = let (field, state) = Input.field ""Type here!""
       in  lift2 display field state

display field state =
  field `above` asText state
</code></pre>

<p>If I run <code>elm-server</code> and navigate to <code>localhost:8000</code>, I get the error</p>

<pre><code>Your browser may not be supported. Are you using a modern browser?

Runtime Error in Main module:
Error: Module 'Graphics.Input' is missing. Compile with --make flag or load missing module in a separate JavaScript file.

The problem may stem from an improper usage of:
Input.field, above
</code></pre>

<p>Compiling the project with <code>elm --make Main.elm</code> gives me</p>

<pre><code>elm: Graphics/Input.elm: openFile: does not exist (No such file or directory)
</code></pre>

<p>Is there something extra I need to do to install the <code>Graphic.Input</code>?</p>

<p><strong>Additional Notes:</strong> </p>

<ul>
<li>I'm running this on a Debian machine, and installed it using <code>cabal install elm</code> fairly recently (Jun 15 2013). The current version is labeled <code>Elm-0.7.1.1</code>.</li>
<li>If I hop into the <code>chromium</code> JS prompt and poke around, it turns out there's no <code>Elm.Graphics.Input</code> module, but there <em>is</em> an <code>Elm.Input</code>. There isn't a function called <code>field</code>, there's a similar looking one called <code>textField</code>, but it isn't trivially interchangeable. </li>
</ul>

<p>Running this:</p>

<pre><code>import Input

main = let (field, state) = textField ""Type here!""
       in  lift2 display field state

display field state =
  field `above` asText state
</code></pre>

<p>gives me the error</p>

<pre><code>Your browser may not be supported. Are you using a modern browser?

Runtime Error in Main module:
TypeError: a is undefined

The problem may stem from an improper usage of:
above
</code></pre>
","149392","","<p>The <code>Graphics.Input</code> package is new in <a href=""http://elm-lang.org/blog/announce/version-0.8.elm#dynamic-inputs"">version 0.8</a>. So, since you're running version 0.7, that explains your problem.</p>

<p>0.8 was released somewhat recently, but it's definitely been out longer than June 15th, so you probably just forgot to <code>cabal update</code> before installing it. Running <code>cabal update</code> now and then updating elm to 0.8 should fix your issue.</p>
"
"<p>I am working on a specialized version of the Gnome Cheese app for a photo-booth. At the moment though I am simply trying to get rid of unnecessary code and simply the app before I add the features I want. This has the added benefit of letting me get comfy with vala which I have never used before, as well as a project like this which I have also never worked on.</p>

<p>The problem I am running into is I see no easy way to go about testing it, and despite having cheese already installed on my computer (so I know all required apps are installed), I am still getting errors in there.  </p>

<pre><code>  /usr/bin/gnome-autogen.sh
checking for autoconf &gt;= 2.53...
  testing autoconf2.50... not found.
  testing autoconf... found 2.69
checking for automake &gt;= 1.9...
  testing automake-1.12... not found.
  testing automake-1.11... found 1.11.6
checking for libtool &gt;= 1.5...
  testing libtoolize... found 2.4.2
checking for intltool &gt;= 0.30...
  testing intltoolize... found 0.50.2
checking for pkg-config &gt;= 0.14.0...
  testing pkg-config... found 0.26
checking for gtk-doc &gt;= 1.0...
  testing gtkdocize... found 1.18
Checking for required M4 macros...
Checking for forbidden M4 macros...
**Warning**: I am going to run `configure' with no arguments.
If you wish to pass any to it, please specify them on the
`./autogen.sh' command line.

Processing ./configure.ac
Running libtoolize...
libtoolize: putting auxiliary files in AC_CONFIG_AUX_DIR, `build-aux'.
libtoolize: copying file `build-aux/ltmain.sh'
libtoolize: putting macros in AC_CONFIG_MACRO_DIR, `m4'.
libtoolize: copying file `m4/libtool.m4'
libtoolize: copying file `m4/ltoptions.m4'
libtoolize: copying file `m4/ltsugar.m4'
libtoolize: copying file `m4/ltversion.m4'
libtoolize: copying file `m4/lt~obsolete.m4'
Running intltoolize...
Running gtkdocize...
Running aclocal-1.11...
Running autoconf...
Running autoheader...
Running automake-1.11...
Running ./configure --enable-maintainer-mode ...
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... no
checking for mawk... mawk
checking whether make sets $(MAKE)... yes
checking whether to enable maintainer-specific portions of Makefiles... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking whether gcc and cc understand -c and -o together... yes
checking for valac... /usr/bin/valac
checking /usr/bin/valac is at least version 0.18.0... yes
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking how to print strings... printf
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for fgrep... /bin/grep -F
checking for ld used by gcc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B
checking the name lister (/usr/bin/nm -B) interface... BSD nm
checking whether ln -s works... yes
checking the maximum length of command line arguments... 1572864
checking whether the shell understands some XSI constructs... yes
checking whether the shell understands ""+=""... yes
checking how to convert x86_64-unknown-linux-gnu file names to x86_64-unknown-linux-gnu format... func_convert_file_noop
checking how to convert x86_64-unknown-linux-gnu file names to toolchain format... func_convert_file_noop
checking for /usr/bin/ld option to reload object files... -r
checking for objdump... objdump
checking how to recognize dependent libraries... pass_all
checking for dlltool... no
checking how to associate runtime and link libraries... printf %s\n
checking for ar... ar
checking for archiver @FILE support... @
checking for strip... strip
checking for ranlib... ranlib
checking command to parse /usr/bin/nm -B output from gcc object... ok
checking for sysroot... no
checking for mt... mt
checking if mt is a manifest tool... no
checking how to run the C preprocessor... gcc -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for dlfcn.h... yes
checking for objdir... .libs
checking if gcc supports -fno-rtti -fno-exceptions... no
checking for gcc option to produce PIC... -fPIC -DPIC
checking if gcc PIC flag -fPIC -DPIC works... yes
checking if gcc static flag -static works... yes
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.o... (cached) yes
checking whether the gcc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no
checking for pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.24... yes
checking whether gcc understands -Wno-sign-compare... yes
checking what warning flags to pass to the C compiler... -Wall -Wmissing-prototypes -Wnested-externs -Wpointer-arith -Wno-sign-compare
checking what language compliance flags to pass to the C compiler... 
checking whether NLS is requested... yes
checking for intltool &gt;= 0.50.0... 0.50.2 found
checking for intltool-update... /usr/bin/intltool-update
checking for intltool-merge... /usr/bin/intltool-merge
checking for intltool-extract... /usr/bin/intltool-extract
checking for xgettext... /usr/bin/xgettext
checking for msgmerge... /usr/bin/msgmerge
checking for msgfmt... /usr/bin/msgfmt
checking for gmsgfmt... /usr/bin/msgfmt
checking for perl... /usr/bin/perl
checking for perl &gt;= 5.8.1... 5.14.2
checking for XML::Parser... ok
checking host operating system... Linux
checking for gudev-1.0... found
checking sys/videoio.h usability... no
checking sys/videoio.h presence... no
checking for sys/videoio.h... no
checking X11/extensions/XTest.h usability... no
checking X11/extensions/XTest.h presence... no
checking for X11/extensions/XTest.h... no
checking for CHEESE... no
configure: error: Package requirements (glib-2.0 &gt;= 2.28.0
  gio-2.0 &gt;= 2.32.0
  x11
  gobject-2.0 &gt;= 2.28.0
  gdk-pixbuf-2.0
  gstreamer-plugins-base-1.0 &gt;= 0.11.0 gstreamer-1.0 &gt;= 0.11.0 gstreamer-pbutils-1.0 &gt;= 0.11.0
  gstreamer-plugins-bad-1.0 &gt;= 0.11.0
  gnome-desktop-3.0 &gt;= 2.91.6
  cairo &gt;= 1.10.0
  pangocairo &gt;= 1.28.0
  clutter-1.0 &gt;= 1.12.0
  clutter-gst-2.0 &gt;= 1.9.0
  gudev-1.0) were not met:

No package 'gstreamer-plugins-base-1.0' found
No package 'gstreamer-1.0' found
No package 'gstreamer-pbutils-1.0' found
No package 'gstreamer-plugins-bad-1.0' found
No package 'gnome-desktop-3.0' found
No package 'clutter-1.0' found
No package 'clutter-gst-2.0' found

Consider adjusting the PKG_CONFIG_PATH environment variable if you
installed software in a non-standard prefix.

Alternatively, you may set the environment variables CHEESE_CFLAGS
and CHEESE_LIBS to avoid the need to call pkg-config.
See the pkg-config man page for more details.
</code></pre>

<p>That is what I get when I do sh autogen.sh.
I feel there has got to be a better way and I was wondering if anyone had any ideas or solutions to make this work.</p>

<p>Thanks, my code can be found: <a href=""https://github.com/river226/Say-Cheese"" rel=""nofollow"">here</a></p>
","149392","","<blockquote>
  <p>having cheese already installed on my computer (so I know all required apps are installed)</p>
</blockquote>

<p>You might have all the required libs installed as binaries, but apparently you do not have the corresponding headers installed.</p>

<p>To run a dynamically linked application, you need to have the <code>.so</code> files of the dependencies installed. To <em>compile</em> an application, you also need to have the dependencies' header (and, in case of libraries that work with <code>pkg-config</code>, <code>.pc</code>) files installed, which, according to the error message, you don't.</p>

<p>Most package management systems are set up, so that a libraries' header and <code>.pc</code> files (and generally all files that are only relevant when compiling an application that uses the library - not when running it) are contained in <code>-dev</code> packages. So you need to install <code>clutter-dev</code> and so on.</p>
"
"<p>Why this definition fails in GHCi?</p>

<pre><code>let f = (*2)+1
</code></pre>

<p>With</p>

<pre><code>No instance for (Num (a0 -&gt; a0))
  arising from a use of `+'
Possible fix: add an instance declaration for (Num (a0 -&gt; a0))
In the expression: (* 2) + 1
In an equation for `f': f = (* 2) + 1
</code></pre>

<p>How is it different from the following?</p>

<pre><code>let f x = x*2+1
</code></pre>
","149392","","<p><code>(*2)</code> is a function. So you're trying to add <code>1</code> to a function, which does not work (barring a <code>Num</code> instance for functions).</p>
"
"<p>I have written a method that will return an <code>Object[][]</code> to use as the data for a <code>JTable</code>. I read the data in from a Microsoft Access Database and then put each piece of information into a cell in the <code>Object [][]</code>. My problem is the return statement of my method which gives me a <code>RuntimeException</code>. When I use a <code>System.out.println()</code> to print out each element of the object all the data is there and it works fine, but when it gets to the returning of that object then it falls through.</p>

<pre><code>public Object [] [] AllWorldBestTimes() throws SQLException
{
  DatabaseConnection connection = new DatabaseConnection();

  ResultSet result = connection.SelectStatements(""SELECT * FROM WorldBestTimes"");

  count = 24;

  Object [] [] data = new String[count][4];    

    int row = 0;

    while(row &lt; count)
    {
        data [row][0] = result.getString(1); 
        data [row][1] = result.getString(2);
        data [row][2] = result.getString(3);
        data [row][3] = result.getString(4);
        result.next();  

        System.out.println(data [row][0]);
        System.out.println(data [row][1]);
        System.out.println(data [row][2]);
        System.out.println(data [row][3]);

        row++;
    }

    connection.close();

    return data;
}
</code></pre>

<p>The above code displays the exact data that needs to be returned when it is printed out but returning it gives me a <code>RuntimeException</code>.</p>

<p><strong>UPDATE</strong></p>

<p>Stacktrace:</p>

<blockquote>
  <p>Exception in thread ""AWT-EventQueue-0"" java.lang.RuntimeException: Uncompilable source code - unreported exception java.sql.SQLException; must be caught or declared to be thrown</p>
</blockquote>
","149392","","<blockquote>
  <p>Exception in thread ""AWT-EventQueue-0"" java.lang.RuntimeException: Uncompilable source code - unreported exception java.sql.SQLException; must be caught or declared to be thrown </p>
</blockquote>

<p>This error message indicates that you are running a partially compiled program and the part that failed to compile, did so because it called a method that may throw an <code>SQLException</code> without either catching that exception or declaring <code>throws SQLException</code>. Since the given method actually does declare <code>throws SQLException</code>, I assume that the error is actually in a different method (probably the one that calls this one).</p>

<p>Note that this excpetion does not indicate that any SQLException is actually thrown - only that it might be thrown and you don't account for that possibility.</p>
"
"<p>I was reading some example and come across this code and google failed me. </p>

<pre><code>let id = fun x -&gt; x in fun x -&gt; if x&gt; 0 then id [] else (id x) :: [];;
- : int -&gt; int list = &lt;fun&gt;
</code></pre>

<p>As Caml tells us this is testified to be a function in general. </p>

<p>But it has ""let"" instead of ""let rec"" and the function name id appears in the function body several times on the other hand.</p>

<p>This looks illogical in the first glance. </p>

<p>So I was thinking </p>

<pre><code>1. is this actually a recursive function? 

2. Or they just happen to be different types reusing the same name confusingly. 
</code></pre>

<p>Could you show your insightful ideas with clear reasoning standing on concrete base?</p>
","149392","","<p>There are two functions in your code. The first one is <code>fun x -&gt; x</code>. This function is not recursive (it just returns <code>x</code> unchanged without calling any other function including itself) and it is given the name <code>id</code> using <code>let</code>.</p>

<p>The other function is <code>fun x -&gt; if x &gt; 0 then id [] else (id x) :: []</code>. This function does not have a name. It is also not recursive since the only function that it calls is <code>id</code> and <code>id</code> doesn't call it back.</p>

<p>The name <code>id</code> is not reused in this code. It is only ever used to refer to the function <code>fun x -&gt; x</code>. The only name that is being reused is <code>x</code>: In the definition of <code>id</code> it is used to refer to <code>id</code>'s argument and in the definition of the other function it is used to refer to that function's argument.</p>
"
"<p>I am reading the <a href=""http://learnyouahaskell.com/making-our-own-types-and-typeclasses#recursive-data-structures"" rel=""nofollow"">book</a>, and it talks about the definition of typeclass <code>Eq</code></p>

<p>There are two functions <code>==</code>, <code>/=</code> in the Eq, and they are implemented as:</p>

<pre><code>  x == y = not (x /= y)  
  x /= y = not (x == y)  
</code></pre>

<p>The book says that they are mutual recursion, the result of the function is in item of another function. </p>

<p>What I don't understand is that I don't see a base case in the mutual recursion, and I don't understand why the functions will stop and return a result.</p>
","149392","","<p>With those definitions, the mutual recursion won't stop - it will recurse infinitely. The idea is that you override one of the two definitions with your own base case when implementing the <code>Eq</code> typeclass.</p>

<p>So for example if you have a type <code>data Foo = Bar | Baz</code> your <code>Eq</code> instance could look like this:</p>

<pre><code>instance Eq Foo where
  Bar == Bar = True
  Baz == Baz = True
  _   == _   = False
</code></pre>

<p>Here we only defined <code>==</code>, not <code>/=</code>, so <code>/=</code> will use its default definition <code>not (x == y)</code>. However our definition of <code>==</code> will not call <code>/=</code> back, so its no longer mutually recursive and will terminate without problems.</p>

<p>The reason that <code>Eq</code> provides default implementations for both <code>==</code> and <code>/=</code> is so that you can decide whether you want to provide a definition for <code>==</code> or <code>/=</code> and you get the other one for free even if you choose <code>/=</code>.</p>
"
"<p>What does <code>(n+1)</code> mean? I understand both are recursive Haskell functions and are using pattern matching.</p>

<p>I don't understand how it will pattern match <code>factorial (n+1)</code> as well as the <code>(n+1)</code> on the RHS of <code>factorial =</code>.</p>

<p>And with the <code>drop</code> function why is it <code>drop 0 xs = xs</code>? And what about <code>drop (n+1) [] = []</code>?</p>

<pre><code>--Example 1
factorial 0 = 1
factorial (n+1) = (n+1) * factorial n

--Example 2
drop :: Int -&gt; [a] -&gt; [a]
drop 0 xs = xs
drop (n+1) [] = []
drop (n+1) (_:xs) = drop n xs
</code></pre>

<p>By the way I get errors when compiling.</p>

<ul>
<li>Code failed to compile</li>
<li>Parse error in pattern: n + 1</li>
</ul>

<p>Update:
Thanks for pointing me to the correct terminology. I found this <a href=""http://www.haskell.org/haskellwiki/Things_to_avoid#n.2Bk_patterns"" rel=""nofollow"">n+k patterns</a>.
Since n+k patterns have been removed since 2010 I also found this question on <a href=""http://stackoverflow.com/questions/14250717/haskell-parse-error-in-pattern-for-nk-pattern"">how to enable this pattern</a>.</p>
","149392","","<p>This is a so called <code>n+k</code> pattern. The pattern <code>(n+1)</code> matches any positive integer and gives <code>n</code> the value of that integer minus one. So if you call <code>drop 1 xs</code> the value of <code>n</code> will be 0.</p>

<blockquote>
  <p>why is it <code>drop 0 xs = xs</code></p>
</blockquote>

<p>Because if you remove 0 elements from a list, you end up with the same list.</p>

<blockquote>
  <p>And what about <code>drop (n+1) [] = []</code>?</p>
</blockquote>

<p>That says that if you remove any amount of items from the empty list, you end up with a list that's still empty. Other than failing with an error message, that's really the only sensible thing you can do in that case.</p>
"
"<p>How can I create a new data type <code>('a, 'b) myList</code> that starts only with <code>type1</code>, and end only with <code>type2</code>?</p>

<p>For example :</p>

<pre><code>[4,5,6,8,9.3,4.2,5.1]        (*starts with int ends with real*)
[“hi”, “hello”, true, false] (*starts with string ends with bool*)
[4,5,6,8,9.3,4.2,5]          (*can't because starts with int and ends with int*)
</code></pre>
","149392","","<p>First note that <code>[]</code> always creates values of type <code>list</code>, so defining your own types won't change the fact that you can only use one type within <code>[]</code>. So if that's your goal, you won't be able to accomplish it.</p>

<p>What you could do is to simply define <code>myList</code> to contain one value of type <code>'a</code> (the first element), an <code>('a 'b alternative) list</code> and a value of type <code>'b</code> (the last element), where <code>'a 'b alternative</code> is a type that you define so that it can contain either an <code>'a</code> or a <code>'b</code>.</p>

<p>Then you could create <code>myList</code>s by writing something like <code>MyList (""hi"", [B true, B false, A ""hello"", B true], false)</code>.</p>
"
"<p>I was performing a odd number check on this Haskell function and although it does work with positive numbers when it comes to negative numbers it returns an error.. </p>

<pre><code>myodd :: Integer -&gt; Bool
myodd = rem n 2 == 1
</code></pre>

<p>I thought it would work if I place the abs somewhere.. like this: </p>

<pre><code>myodd :: Integer -&gt; Bool
myodd = rem (abs(n)) 2 == 1
</code></pre>

<p>but I still receive an error when placing negative numbers..</p>

<p>I don't know what else I could do... any idea would be very appreciated :)</p>
","149392","","<p>As written, your code won't compile. <code>myodd :: rem (abs(n)) 2 == 1</code> isn't legal syntax (and neither is <code>myodd :: rem n 2 == 1</code>) because <code>::</code> should be followed by a type, not an expression (and anyway, you already gave a type signature in the preceding line). To define <code>myodd</code> you should use <code>=</code> and you should give it a parameter named <code>n</code> because you use <code>n</code> in the body:</p>

<pre><code>myodd :: Integer -&gt; Bool
myodd n = rem (abs(n)) 2 == 1
</code></pre>

<p>Now this code compiles and works exactly like you want it to. No runtime error will occur if you call it with a negative number.</p>
"
"<p>Do <code>&lt;</code> and <code>&gt;</code> need escaped in a C# regex? I'm uncertain because of named groups and because <a href=""http://www.cheatography.com/davechild/cheat-sheets/regular-expressions/"" rel=""nofollow"">this regex cheat sheet</a> has them listed in the metacharacters section.</p>

<pre><code>html = Regex.Replace(html, ""(&lt;body.*?&gt;)"", replacement);
</code></pre>

<p>or</p>

<pre><code>html = Regex.Replace(html, ""(\&lt;body.*?\&gt;)"", replacement);
</code></pre>
","149392","","<p>It is never necessary to escape <code>&lt;</code> or <code>&gt;</code> in regexen. The only context in which they have a special meaning is if the <code>&lt;</code> comes after <code>(?</code>. And since regular characters aren't allowed directly after <code>(?</code> escaping the <code>&lt;</code> there would make no sense (i.e. <code>(?\&lt;blabla\&gt;)</code> would be ill-formed).</p>

<p>If you want to match the literal sequence <code>?&lt;bla&gt;</code>, you'd need to escape the <code>?</code>, not the <code>&lt;</code> and in all other cases <code>&lt;</code> and <code>&gt;</code> have no special meaning.</p>
"
"<p>In Ruby, I have an array of simple values (possible encodings):</p>

<pre><code>encodings = %w[ utf-8 iso-8859-1 macroman ]
</code></pre>

<p>I want to keep reading a file from disk until the results are valid. I could do this:</p>

<pre><code>good = encodings.find{ |enc| IO.read(file, ""r:#{enc}"").valid_encoding? }
contents = IO.read(file, ""r:#{good}"")
</code></pre>

<p>...but of course this is dumb, since it reads the file twice for the good encoding. I could program it in gross procedural style like so:</p>

<pre><code>contents = nil
encodings.each do |enc|
  if (s=IO.read(file, ""r:#{enc}"")).valid_encoding?
    contents = s
    break
  end
end
</code></pre>

<p>But I want a functional solution. I could do it functionally like so:</p>

<pre><code>contents = encodings.map{|e| IO.read(f, ""r:#{e}"")}.find{|s| s.valid_encoding? }
</code></pre>

<p>…but of course that keeps reading files for every encoding, even if the first was valid.</p>

<p>Is there a simple pattern that is functional, but does not keep reading the file after a the first success is found?</p>
","149392","","<p>If you sprinkle a <code>lazy</code> in there, <code>map</code> will only consume those elements of the array that are used by <code>find</code> - i.e. once <code>find</code> stops, <code>map</code> stops as well. So this will do what you want:</p>

<pre><code>possible_reads = encodings.lazy.map {|e| IO.read(f, ""r:#{e}"")}
contents = possible_reads.find {|s| s.valid_encoding? }
</code></pre>
"
"<p>I read about C++ reference variables and somewhere I found this:</p>

<blockquote>
  <p>A declaration of a const reference is redundant since reference can never be made to refer to another object.</p>
</blockquote>

<p>what does it mean?</p>

<p>Here, for example, I can change the object that the reference is referring to:</p>

<pre><code>void p(int&amp; i) {
    int a = 7,c = 0;
    i = a;
}
</code></pre>

<p>So what does it mean that ""Reference can never be made to refer to another object""?</p>

<p>thanks in advance.</p>
","149392","","<p>If you do <code>int &amp;r = x;</code> this means that <code>r</code> refers to <code>x</code> and every time you change <code>r</code>, you really change <code>x</code>. Likewise every time you change <code>x</code> that change is visible through <code>r</code>.</p>

<p>Now what ""Reference can never be made to refer to another object"" means is that once you do <code>int &amp;r =x</code>, you can't make <code>r</code> refer to <code>y</code>. You can do <code>r = y;</code>, but all that does is to set <code>x</code> equal to <code>y</code>. It does not means that changing <code>r</code> afterwards will change <code>y</code> nor does it mean that changes to <code>y</code> will be visible through <code>r</code>.</p>
"
"<p>Can someone explain to me using substitutions how we get a number ""zero"" or the rest of natural numbers ? </p>

<p>For example the value: ""zero"" </p>

<pre><code>λf.λx.x
</code></pre>

<p>if i apply this expression on an another expression: </p>

<pre><code>""(λf.(λx.x)) a""
</code></pre>

<p>then using substitution </p>

<pre><code>:=[a/f](λx.x)
:=(λx.x)
</code></pre>

<p>what am i missing ? how should i interpret these number expressions? </p>
","149392","","<p>The church numeral <code>n</code> is a function that takes another function <code>f</code> and returns a function that applies <code>f</code> to its argument <code>n</code> times. So <code>0 a</code> (where <code>0</code> is, as you said, <code>λf.λx.x
</code>) returns <code>λx.x</code> because that applies <code>a</code> to <code>x</code> 0 times.</p>

<p><code>1 a</code> gives you <code>λx. a x</code>, <code>2 a</code> gives you <code>λx. a (a x)</code> and so on.</p>
"
"<p>Why on applying regular expression(rx) on data(d) gives output(o) ?<br/>
Regular expression (rx):</p>

<pre><code>s/(?&lt;!\#include)[\s]*\&lt;[\s]*([^\s\&gt;]*)[\s]*\&gt;/\&lt;$1\&gt;/g
</code></pre>

<p>Data (d):</p>

<pre><code>#include  &lt;a.h&gt;  // 2 spaces after e
</code></pre>

<p>output (o):</p>

<pre><code>#include &lt;a.h&gt;  // 1 space is still there
</code></pre>

<p>Expected output is:</p>

<pre><code>#include&lt;a.h&gt;  // no space after include
</code></pre>

<p></p>
","149392","","<p><code>?&lt;!\#include)[\s]</code> is a space that is not directly preceded by <code>#include</code>. The first space in <code>#include  &lt;a.h&gt;</code> is directly preceded by <code>#include</code>, so it isn't matched. The second one isn't (it's preceded by the other space), so that's where the match starts.</p>
"
"<p>I am converting from Python into Java. </p>

<p>My question is what is the 'args' doing? </p>

<pre><code>args = [this.scrath[c] for c in this.connections(n)]; //Python
</code></pre>

<p>Is it: </p>

<pre><code>[this.scrath[c] //get data at index c of this.scratch[]

for c in // for number of c in connections

this.connections(n)]; //connections to ANN_Neuron n
</code></pre>

<p>In which case is ""this.scratch[c]"" checking the data matches c in ""this.connections(n)""?</p>

<pre><code>this.scratch = Arrays.copyOfRange(inputValues, this.scratch.length-this.input_length, this.scratch.length+1); //JAVA

//inputValues given as negative values.
for (int i=0; i&lt;this.scratch.length; i++){
    this.scratch[i] = inputValues[i]*-1;
}

//loop through the active genes in order
for (ANN_Neuron n : nodes){
    if (n.active){
        float func = n.function;
        for (ANN_Connection c : n.connections){
        //Argument here!!
        }
    }

    args = [this.scrath[c] for c in this.connections(n)]; //Python

    //apply function to the inputs from scratch, save results in scratch
    this.scratch[n] = function(*args);
}
</code></pre>
","149392","","<p><code>[a for b in c]</code> is a list comprehension. It produces a list by going through every element in the list (or other iterable) <code>c</code>, calls that element <code>b</code> and then evaluates the expression <code>a</code> and puts the result in the resulting list.</p>
"
"<p>I'm doing some exercises from ""Real World Haskell"". One is to design a safe version of <code>init :: [a] -&gt; [a]</code>. </p>

<p>I'm supposed to start from <code>safeInit :: [a] -&gt; Maybe [a]</code></p>

<p>This is what I have at the moment.</p>

<pre><code>safeInit :: [a] -&gt; Maybe [a]
safeInit [] = Nothing
safeInit [a] = if length [a] &lt;= 1
    then Nothing
    else Just (take (length [a] -1) [a])
</code></pre>

<p>In GCHi, when testing <code>safeInit [1,2]</code> I get the error message </p>

<blockquote>
  <p><em>*</em> Exception: ch4exercise.hs:(21,1)-(24,44): Non-exhaustive patterns in function safeInit</p>
</blockquote>

<p>I was under the impression that <code>[a]</code> simply stands for a list (of any size) of <code>a</code>'s. What am I doing wrong?</p>
","149392","","<p>As a type, <code>[a]</code> does stand for ""a list of any size of <code>a</code>s"". As a pattern however, <code>[a]</code> stands for ""a list containing exactly one element, which shall henceforth be known by the name <code>a</code>"". Similarly <code>[a,b]</code> would mean ""a list containing two elements, the first of which shall be known as <code>a</code> and the second of which shall be known as <code>b</code>"" and so. <code>[]</code>, as you already seem to know, stands for ""a list containing exactly 0 elements"".</p>

<p>This is analogous to how you'd write list literals as expressions. I.e. if you write <code>myList = []</code>, <code>myList</code> is the empty list and if you write <code>myList = [x]</code>, <code>myList</code> is a list containing exactly one element, which is the value of the variable <code>x</code>.</p>
"
"<p>I was trying to write a program that lists the factors of a given number. It works when I write this:</p>

<pre><code>int main () {

  int num, i;

  printf(""\nEnter a number: "");
  scanf(""%d"", &amp;num);

    for(i == 0; i &lt;= num; ++i) {
        if (num % i == 0) {
        printf(""\n\t%d"", i);
        }
    }
 }
</code></pre>

<p>but not when the for loop is</p>

<pre><code>for(i = 0; i &lt;= num; ++i)
</code></pre>

<p>I'm confused as I thought this was the format of a for loop. Could someone point out my error please?</p>
","149392","","<p><code>i == 0</code> is an expression with no side effects, so writing <code>for(i == 0; i &lt;= num; ++i)</code> is the same as writing <code>for(; i &lt;= num; ++i)</code>, i.e. it just does nothing in the initialization part. Now since you never initialize <code>i</code> anywhere this means that you invoke undefined behaviour.</p>

<p>If you do <code>i = 0</code>, <code>i</code> is initialized, but you still invoke undefined behaviour: <code>num % i</code> will cause division by zero because <code>i</code> will be 0 at the beginning.</p>

<p>Now it happened that on your system the division by zero caused your program to crash, while the version where you used i uninitialized happened to run without crashing. That's why it may have appeared to you that the version using <code>i==0</code> ""worked"".</p>
"
"<p>Consider having the piece of code:</p>

<pre><code>public class Base {
    int a = 1;

    public int getA() {
        System.out.print(""Super"");
        return a;
    }

    public static void main(String[] argv) {
        Base base = new Sub();
        System.out.println(base.a + "" "" + base.getA());
        System.out.println(base.getA());
        System.out.println(base.a);
    }
}

class Sub extends Base {
    int a = 2;

    public int getA() {
        System.out.print(""Sub"");
        return a;
    }

}
</code></pre>

<p>And the output is:</p>

<pre><code>Sub1 2
Sub2
1
</code></pre>

<p>Can somebody explain me the output? Why <code>System.out.println(base.a + "" "" + base.getA());</code> and <code>System.out.println(base.getA());System.out.println(base.a);</code> give different output?</p>

<p>I consider that the output to <code>System.out.println(base.a + "" "" + base.getA());</code> should be <code>Sub2 1</code></p>

<p>Do you have any ideas?</p>
","149392","","<blockquote>
  <p>Why <code>System.out.println(base.a + "" "" + base.getA());</code> and <code>System.out.println(base.getA());System.out.println(base.a);</code> give different output?</p>
</blockquote>

<p>In the first case you're printing <code>base.a</code> first and <code>base.getA()</code> second. In the second case you're printing <code>base.getA()</code> first and <code>base.a</code> second. So obviously the numbers will be the other way around.</p>
"
"<p>Today I've seen <code>|=</code> for the first time and I'm trying to understand how it works and when it can be useful.</p>

<p>Some experiments show:</p>

<pre><code>var |= nil
# =&gt; false
var |= false
# =&gt; false
var |= true
# =&gt; true
var |= 1
# =&gt; true
var |= nil
# =&gt; true
var |= false
# =&gt; true
var
# =&gt; true
</code></pre>

<p><a href=""https://github.com/jch/html-pipeline/blob/master/lib/html/pipeline/%40mention_filter.rb#L113"" rel=""nofollow"">Found in Github's html-pipeline gem</a>.</p>

<pre><code>  def link_to_mentioned_user(login)
    result[:mentioned_usernames] |= [login]
    url = File.join(base_url, login)
    ""&lt;a href='#{url}' class='user-mention'&gt;"" +
    ""@#{login}"" +
    ""&lt;/a&gt;""
  end
</code></pre>

<p><strong>I'm assuming that <code>|=</code> works like a guarded assignment with <code>||=</code>, but casts the return value of the expession to be assigned to a boolean.</strong> 
This means as long as <code>var</code> is falsy or undefined, the expression gets evaluated and the return value cast to a boolean gets assigned. As soon as <code>var |= some_truthy_expression</code> is called, <code>var</code> will be <code>true</code> and further calls to <code>var |= expression_will_not_be_called</code> will not evaluate the expression. </p>

<ol>
<li>Does it work like that, where can one find <code>|=</code> in the Ruby docs?</li>
<li>When can <code>|=</code> come in handy?</li>
</ol>
","149392","","<p><code>foo |= bar</code> expands to <code>foo = foo | bar</code>, which calls the <code>|</code> method on the object <code>foo</code> with the argument <code>bar</code>. So the relevant documentation would be the documentation for the <code>|</code> operator in whatever the class of <code>foo</code> is.</p>

<p>If the left operand of <code>|</code> is a boolean or nil, it will perform a logical ""or"" operation. It will have the same result as <code>||</code> except that it will always return a boolean. Another difference with <code>||</code> is that it will not short-circuit. It is a method call, so both the receiver and the argument will be evaluated before the method body is executed.</p>

<p>If the left operand of <code>|</code> is an integer, the right operand must also be an integer and the result will be the bitwise or of the two integers.</p>

<p>If the left operand is an array or set, the right operand must also be an array or set and the result will be the set union of the two arrays or sets (similarly <code>&amp;</code> will be the set intersection).</p>

<p>If the left operand is a class that does not define a <code>|</code> method (which will be the case for most standard classes that I did not mention here), you will get a <code>NoMethodError</code>.</p>
"
"<p>I came across code like this from the <a href=""http://en.cppreference.com/w/cpp/utility/functional/reference_wrapper"" rel=""nofollow"">C++ reference page</a>:</p>

<pre><code>#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;

int main()
{
    std::list&lt;int&gt; l = {-4, -3, -2, -1, 0, 1, 2, 3, 4};
    std::vector&lt;std::reference_wrapper&lt;int&gt;&gt; v(l.begin(), l.end());
    return 0;
}
</code></pre>

<p>This is a snippet from the ""Examples"" section. The code compiles and runs as expected. But how is it possible? The <code>std::reference_wrapper&lt;int&gt;</code> is not default constructible. How can you make a <code>std::vector</code> of those things? I always imagined <code>std::vector</code> as a dynamic array. But how can you initialize a block of memory freshly given to you by OS in such a way from a <code>std::list</code>? </p>

<p>This may sound like a confusing question, but for some reason I cannot fully understand what is happening in the code above. What is going on in there?</p>
","149392","","<p>All the objects in the vector are constructed using a one argument constructor that takes an int. So that's why you don't need a default constructor semantically.</p>

<p>As far as the implementation is concerned, this behavior can be implemented by allocating the memory with <code>malloc</code> instead of <code>new</code> (so no constructor is being called) and then using placement <code>new</code> when elements are added to the vector.</p>
"
"<p>I am reading Linux System Programming.</p>

<p>When introducing the <code>system(command)</code> function, the book states that during execution of the <code>command</code>, <code>SIGINT</code> is ignored.</p>

<p>So, assuming that <code>os.system</code> is just a wrapper of the underlying system function, I try the following:</p>

<p>loop.py  </p>

<pre><code>while True:
      print 'You should not be able to CTRL+C me ;p'
</code></pre>

<p>test_loop.py</p>

<pre><code>   import os
   os.system(""python loop.py"")
</code></pre>

<p>Now that I'm executing <code>loop.py</code> with <code>system</code>, I'm expecting SIGINT to be ignored, but when I use CTRL+C on the running program it still get killed.</p>

<p>Any idea why <code>os.system</code> differ from the <code>system()</code> function?</p>
","149392","","<p><code>SIGINT</code> is ignored by the application that calls <code>system</code> (for as long as <code>system</code> is executing). It's not ignored by the application that's spawned by <code>system</code>. So if you hit CTRL+c, that will abort the execution of <code>loop.py</code>, but not of <code>test_loop.py</code>. So if you add some code after the call to <code>system</code>, you'll see that that code will execute after you press CTRL+c.</p>
"
"<p>Can you define multiple versions of the same function in ruby like is possible in C?</p>

<p>E.g.</p>

<pre><code>def meth(name, string, thing)
</code></pre>

<p>and </p>

<pre><code>def meth(array_of_things)
</code></pre>

<p>Will ruby call the right method depending on the variables passed into it?</p>

<p>If not how can I accomplish this.</p>
","149392","","<p>No, Ruby does not support method overloading. If you define a method with the same name twice, the second definition simply replaces the first.</p>

<hr>

<p>To achieve the same effect, you'd take a variable number of arguments and then check how many there are at runtime.</p>

<p>Depending on the context that might be overkill though. Often the best idea is simply to give your two methods different names.</p>
"
"<p>Can anyone please let me what would be big O time complexity for the following piece of code:</p>

<pre><code>for (int i = 0; i &lt; array.length - 1; i++) {
    for (int j = i + 1; j &lt; array.length; j++) {
        // do something
    }
}
</code></pre>

<p>It can't be <code>O(n^2)</code> since <code>j = i + 1</code> ? Thanks!</p>
","149392","","<p>There are <code>n-1</code> iterations of the outer loop. On each iteration, the inner loop iterates <code>n-i-1</code> times. So in total the inner loop iterates <code>n-1 + n-2 + ... + 1</code> times. So the number of times that <code>do something</code> executes is equal to the sum of the numbers from 1 to <code>n-1</code>. That sum is <code>n*(n-1)/2</code>, which is in Theta(n^2) and thus also in O(n^2).</p>
"
"<p>If such a function is dependent on the choice of the monad, please demonstrate with <code>Maybe</code>. In which case the signature would be:</p>

<pre><code>mayall :: Maybe a -&gt; forall r. Maybe r
</code></pre>

<p>But once again, if a general implementation is possible it'd be much appreciated. The key here is that the result has to be <code>Maybe r</code>, not some specific data constructor, such as <code>Maybe Item</code> for some</p>

<pre><code>data Item = forall r. Show r =&gt; Item r
</code></pre>

<p>If an implementation is not possible, could some alternate signature:</p>

<pre><code>`Monad m =&gt; m a -&gt; forall r. n r`
</code></pre>

<p>be satisfied? </p>

<p>In the above case, <code>n</code> is not necessarily a monad, and if it is, it could be the same as <code>m</code></p>
","149392","","<p>One value of type <code>forall r. r</code> is <code>undefined</code>. So one way to get a value of type <code>Monad m =&gt; forall r. m r</code> is to <code>return undefined</code>. So to get a function of the type you want, you can just write:</p>

<pre><code>foo :: Monad m =&gt; m a -&gt; forall r. m r
foo m = m &gt;&gt; return undefined
</code></pre>
"
"<p>I am trying to deal with a very weird (at least to me) situation in Ruby. My code is the following:</p>

<pre><code>class ScopeTest
  attr_accessor :flag

  def flagtest
    puts ""SELF: "" + self.flag.to_s
    puts ""INST: "" + flag.to_s
    if flag == 1
      flag = 0
      puts ""SELF: "" + self.flag.to_s
      puts ""INST: "" + flag.to_s
      self.flag = 0
      puts ""SELF: "" + self.flag.to_s
      puts ""INST: "" + flag.to_s
      flagtest
    else
      puts ""SELF: "" + self.flag.to_s
      puts ""INST: "" + flag.to_s
    end
  end
end

st = ScopeTest.new
st.flag = 1
st.flagtest
</code></pre>

<p>And the output is the following:</p>

<pre><code>SELF: 1
INST: 1
SELF: 1
INST: 0
SELF: 0
INST: 0
SELF: 0
INST: 0
SELF: 0
INST: 
</code></pre>

<p>What's weird is that the <code>flag</code> variable is <code>nil</code> the last time I print it (inside the <code>else</code>) but <code>0</code> straight before that (before the <code>if...else</code> in the flagtest method)?</p>

<p>When I remove a few lines of code, everything seems back to normal as the following code:</p>

<pre><code>class ScopeTest
  attr_accessor :flag

  def flagtest
    puts ""SELF: "" + self.flag.to_s
    puts ""INST: "" + flag.to_s
    if flag == 1
      self.flag = 0
      puts ""SELF: "" + self.flag.to_s
      puts ""INST: "" + flag.to_s
      flagtest
    else
      puts ""SELF: "" + self.flag.to_s
      puts ""INST: "" + flag.to_s
    end
  end
end

st = ScopeTest.new
st.flag = 1
st.flagtest
</code></pre>

<p>gives the following output:</p>

<pre><code>SELF: 1
INST: 1
SELF: 0
INST: 0
SELF: 0
INST: 0
SELF: 0
INST: 0
</code></pre>

<p>Any clues as to what and why is happening?</p>
","149392","","<p><code>flag = 0</code> creates a local variable called flag whose scope goes to the end of the method. Any use of <code>flag</code> that appears lexically after that assignment refers to the local variable. Any previous appearance (as well as any appearance of <code>self.flag</code>) refers to the getter method.</p>

<p>So the <code>flag</code> in the <code>else</code> refers to the local variable. Since the local variable never got a value in the <code>else</code>-branch, its value is <code>nil</code>.</p>
"
"<p>How do I remove <code>\""</code> from a string?</p>

<p>Example:</p>

<pre><code>'""\""asdasd""\""'.gsub('\""', '') # =&gt; ""\""asdasd\""""
</code></pre>

<p>Why is <code>\""</code> not removed?</p>
","149392","","<p>It is removed. The <code>\""</code> in the output is not a backslash followed by a double quote, it's just a double quote character that's escaped because <code>inspect</code> prints strings in double quotes. If you try to print the string, it'll come out as:</p>

<pre><code>""asdasd""
</code></pre>

<p>To expand on this a bit: <code>'""\""asdasd""\""'</code> (which can also be written using double quotes as <code>""\""\\\""asdasd\""\\\""""</code>) is a string that contains a double quote, followed by a backslash, followed by a double quote, followed by asdasd, followed by a double quote, followed by a backslash, followed by a double quote.</p>

<p>Your call to <code>gsub</code> removes the two occurrences of backslashes followed by double quotes. The result is <code>""\""asdasd\""""</code>, which could also be written as <code>'""asdasd""'</code> and is a string containing a double quote, followed by asdasd, followed by a double quote. So the backslash-double quotes were removed, but the simple double quotes weren't. I assume that's the intended behavior.</p>
"
"<p>Im trying to dynamically require and then include modules inside a initialize method.</p>

<pre><code># file: object.rb

class Object

  attr_accessor :array

  def initialize array
    @array = array
    @array.each do |f|
      require_relative ""#{f}""
      include f.capitalize # the method name is the same as the filename
      puts @variable # property from included method
    end
  end
end

object = Object.new ['a','b','c']
</code></pre>

<p>with these module files</p>

<pre><code># file: a.rb

module A
  @variable = 'string A'
end
</code></pre>

<p>and so on for b and c</p>

<p>i keep getting an error :</p>

<pre><code>`block in initialize': undefined method `include'
</code></pre>

<p>What am i doing wrong here and is there a better way to achieve what i'm trying to do? </p>
","149392","","<p>The reason that you can't call <code>include</code> in <code>initialize</code> like that is that <code>include</code> is a method that's only defined on classes and modules, but inside of an instance method like <code>initialize</code> the implicit receiver is an object of your class, not the class itself.</p>

<p>Since you only need the methods to be available on the newly created object, you can just use <code>extend</code> instead of <code>include</code>. <code>extend</code> is like a per-object version of <code>include</code> in that it adds the methods of the given module as singleton methods to an object rather than adding them as instance methods to a module or class.</p>
"
"<p>So I was testing out operators, because im helping my friend with java and i stumbled across a weird order of programming. What is happening when I run the following code</p>

<pre><code>public static void main(String[] args) {
    int B = 6;
    //First console print out
    System.out.println(B+=++B);
    System.out.println(B);
    B = 6;
    //Second Console print out
    System.out.println(B+=B++);
    System.out.println(B);
}
</code></pre>

<p>The output for the following code is</p>

<pre><code>13
13

12   
12
</code></pre>

<p>What causes the second console B math output = 12 when it adds 6 to itself, followed by ++ (which is +1)</p>
","149392","","<blockquote>
  <p>it adds 6 to itself, followed by ++</p>
</blockquote>

<p>That's not quite what happens. It adds the result of <code>B++</code> (i.e. the value that <code>B++</code> evaluates to) to <code>B</code>. <code>B++</code> evaluates to 6 because the postfix increment operators evaluates to the value of the operand <em>before the increment</em>. So it adds 6 to <code>B</code>.</p>

<p>You're thinking that the increment should happen after the assignment, but that's not how ++ works. The increment happens right away, but the expression evaluates to the value of <code>B</code> before the increment. So since you reassign <code>B</code> right after <code>B++</code> is evaluated, the increment is undone by the assignment.</p>
"
"<p>Consider this LIST:</p>

<pre><code>test = [""stas"", ""doug"", ""saman"", ""movie""]
for q in range(len(test)):
    PreGroup = None
    if (q &gt; 0):
        PreGroup = test[q-1]
    print PreGroup
</code></pre>

<p>How can i get rid of NONE? as the FIRST output?
i need to have the q-1 set there, or at least i think, because i need to have PreGroup to be one Index BEFORE the current.</p>

<p>my PreGroup must not have None, since i am passing it later in my code, and if it gets NONE, i get an error.</p>

<p>Thanks.</p>
","149392","","<p>You don't want to set <code>PreGroup</code> (to something other than None) if <code>q</code> is 0. That's fine, but then you print the value of <code>PreGroup</code> whether it has been set or not. If you put the <code>print</code> inside the <code>if</code> as well, it will only print if <code>PreGroup</code> has been set to <code>test[q-1]</code>. You can then also remove the <code>PreGroup = None</code> line because <code>PreGroup</code> doesn't need to exist outside of the <code>if</code>.</p>

<p>An even better way to solve your problem though, would be to simply let the loop start at 1 instead of 0. That way you don't have to even check whether <code>q</code> is 0. You can do that by using <code>range(1, len(test))</code>.</p>
"
"<p>This is the slide by our prof.</p>

<p>Example 4: Consider this simple program:</p>

<pre><code>s = 0 
for i = 1 to n do
  for j = 1 to n do
    s= s+i+j
  endfor
endfor
</code></pre>

<p><code>T(n) = ?</code></p>

<p>It's hard to get the exact expression of T(n) even for this very simple program.
We can see: the loop iterates <code>n²</code> times, and loop body takes
constant number of instructions. So <code>T(n) = a*(n^2) + bn + c</code> for some constants a, b, c.</p>

<p>Now here's what I think. Let's assume that the body loop takes constant time 'a'. Then that itself will be looped over for a*(n^2) times. So, I don't understand from where b*n + c comes! What's the actual answer?</p>
","149392","","<p>Things that happen once: setting <code>s</code> to 0 and setting <code>i</code> to 1.</p>

<p>Things that happen n times: incrementing <code>i</code>, checking whether <code>i</code> is less than <code>n</code>, setting <code>j</code> to 1, jumping back to line 2.</p>

<p>Things that happen <code>n^2</code> times: incrementing <code>j</code>, checking whether <code>j</code> is less than <code>n</code>, calculating <code>s+i+j</code> and storing the result in <code>s</code>, jumping to line 3.</p>
"
"<p>In Ada to define natural numbers you can write this:</p>

<pre><code>subtype Natural  is Integer range 0 .. Integer'Last;
</code></pre>

<p>This is type-safe and it is checked at compile-time. It is simple (one-line of code) and efficient (it does not use recursion to define natural numbers as many functional languages do). Is there any functional language that can provide similar functionality?</p>

<p>Thanks</p>
","149392","","<blockquote>
  <p>This is type-safe and it is checked at compile-time.</p>
</blockquote>

<p>As you already pointed out in the comments to your question, it is not checked at compile time. Neither is equivalent functionality in Modula-2 or any other production-ready, general-purpose programming language.</p>

<p>The ability to check constraints like this at compile time is something that requires dependent types, refinement types or similar constructs. You can find those kinds of features in theorem provers like <a href=""http://coq.inria.fr/"" rel=""nofollow"">Coq</a> or <a href=""http://wiki.portal.chalmers.se/agda/pmwiki.php"" rel=""nofollow"">Agda</a> or in experimental/academic languages like <a href=""http://www.ats-lang.org/"" rel=""nofollow"">ATS</a> or <a href=""http://goto.ucsd.edu/~rjhala/liquid/haskell/blog/"" rel=""nofollow"">Liquid Haskell</a>.</p>

<p>Now of those languages I mentioned Coq and Agda define their <code>Nat</code> types recursively, so that's not what you want, and ATS is an imperative language. So that leaves Liquid Haskell (plus languages that I didn't mention, of course). Liquid Haskell is Haskell with extra type annotations, so it's definitely a functional language. In Liquid Haskell you can define a <code>MyNat</code> (a type named <code>Nat</code> is already defined in the standard library) type like this:</p>

<pre><code>{-@ type MyNat = {n:Integer | n &gt;= 0} @-}
</code></pre>

<p>And then use it like this:</p>

<pre><code>{-@ fac :: MyNat -&gt; MyNat @-}
fac :: Integer -&gt; Integer
fac 0 = 1
fac n = n * fac (n-1)
</code></pre>

<p>If you then try to call <code>fac</code> with a negative number as the argument, you'll get a compilation error. You will also get a compilation error if you call it with user input as the argument unless you specifically check that the input was non-negative. You would also get a compilation error if you removed the <code>fac 0 = 1</code> line because now <code>n</code> on the next line could be 0, making <code>n-1</code> negative when you call <code>fac (n-1)</code>, so the compiler would reject that.</p>

<p>It should be noted that even with state-of-the-art type inference techniques non-trivial programs in languages like this will end up having quite complicated type signatures and you'll spend a lot of time and effort chasing type errors through an increasingly complex jungle of type signatures having only incomprehensible type errors to guide you. So there's a price for the safety that features like these offer you. It should also be pointed out that, in a Turing complete language, you will occasionally have to write runtime checks for cases that you know can't happen as the compiler can't prove everything even when you think it should.</p>
"
"<p>When I compile my code written in C language I am getting following Warning and able to compile successfully</p>

<blockquote>
  <p>warning:implicit declaration of function</p>
</blockquote>

<p>What will happen if I ignore this warning?</p>
","149392","","<blockquote>
  <p>What will happen if I ignore this warning?</p>
</blockquote>

<p>That depends on the situation. If the implicitly declared function is not defined in any of the libraries you link against, you'll simply get a link error.</p>

<p>If it is defined and its definition matches the implicit declaration (i.e. the return type is <code>int</code>, it takes the same number of arguments (no varargs allowed) and all parameters have type <code>int</code>), the program will run as intended. However it's still very bad style to implicitly declare functions.</p>

<p>If it is defined with a different signature, you'll get undefined behaviour. This might lead to wrong results, memory corruption and/or crashes.</p>
"
"<p>Any more or less practical programming language and compiler have to deal with constraints. The most common constraint is types. Usually type derivation and unification is done by a straightforward algorithm (<a href=""http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner"">Hindley-Milner</a>, for instance), where finally all terms in a program are assigned the unique type. If it doesn't happen, then there is an error indication.</p>

<p>There could be more sophisticated constraints in compilers, where the complete unification is impossible and the solution exists only under certain restrictions. Possible examples are </p>

<ul>
<li><p>Dataflow analysis. The solution of affine equality constraints can be used for loop vectorization.</p></li>
<li><p>Memory management. If we have some constraints on references and data access patterns, the compiler can benefit from optimizing reference counting and garbage collection.</p></li>
</ul>

<p>From the other point, constraint solvers, like Z3 or Yices, are very powerful in finding satisfiable models for different kind of constraints.</p>

<p>I am looking for success stories of how compilers benefit from the power of SMT solvers and what kind of tasks they are solving. I listed some areas, but I didn't find any specific examples. Can you suggest any?</p>
","149392","","<p>SMT solvers are often used to implement programming languages that require extensive static verification. For example languages that employ dependent types, refinement types or statically enforced contracts often use SMT solvers.</p>

<p>For example <a href=""http://goto.ucsd.edu/~rjhala/liquid/haskell/blog/about/"" rel=""nofollow"">Liquid Haskell</a> as well as Microsoft's <a href=""http://research.microsoft.com/en-us/projects/dafny/"" rel=""nofollow"">Dafny</a> and <a href=""http://research.microsoft.com/en-us/projects/chalice/"" rel=""nofollow"">Chalice</a> all use Z3. Other languages, like <a href=""http://www.ats-lang.org"" rel=""nofollow"">ATS</a> or <a href=""http://whiley.org/"" rel=""nofollow"">Whiley</a>, implemented their own solver.</p>
"
"<p>I am trying to write a code which checks if number is Fibonacci or not in ML. I am a beginner. Help me find out what is the problem with my code.</p>

<pre><code>fun isfib(n :int): bool=
let
  val a1=1;
  val a2=1;
  val temp=0;
in
  while a2&lt;n do (
    a1=temp
    a2=a1
    a2=temp+a2
  )
  if a2=n then true
  else false
end;
</code></pre>
","149392","","<pre><code>a1=temp
a2=a1
a2=temp+a2
</code></pre>

<p><code>=</code> is the equality operator in SML, not an assignment operator. So the above code is just equivalent to this:</p>

<pre><code>false (* because a1 is 1, but temp is 0 *)
true (* because a1 and a2 are both 1 *)
true (* because 1 = 0 + 1 *)
</code></pre>

<p>So you have three side-effect-free expressions in your loop, so it just won't do anything.</p>

<p>It's clear that you actually want to change the values of those variables, but you can't do that. Variables in SML are immutable - you can't change them after they're set. So even having a while condition like <code>a2 &lt; n</code> doesn't make sense because <code>a2</code> and <code>n</code> can't change, so the condition is either always true or always false. If you want to use a while loop like this, you should look into the <code>ref</code> type, which allows you to create mutable values that you can use to simulate mutable variables.</p>

<p>That said using while loops and mutation is not idiomatic SML. There's a reason why variables in SML aren't mutable: the language designers want to encourage you to not rely on mutation (and thus also not on while loops). The idiomatic way to loop in SML is to either use higher order functions (like <code>map</code>, <code>filter</code>, <code>foldl</code> etc.) or recursion. For your problem a recursive function would make the most sense.</p>
"
"<p>I was discussing programming with a friend, who is an advocate for functional programming. He mentioned that you don't need to use if statements, but I can't seem to conceptualize how you would implement</p>

<pre><code>if (something):
    do this;

else:
    do something_else;
</code></pre>

<p>In a functional paradigm?</p>

<p>Edit: my friend specifically mentioned that there are cases where you wouldn't need to use an if expression, even though you <em>can</em>. For example:</p>

<pre><code>if x is odd:
    x + 1
else:
    x / 2
</code></pre>

<p>Is there a way to implement the above without using any if statements or conditionals?</p>
","149392","","<p>Without more context it's hard to know exactly what your friend meant, but two things come to mind that he could have reasonably meant:</p>

<p>In functional languages <code>if</code> conditionals are expressions, not statements, so you'd be using <code>if</code> <em>expressions</em> and not <code>if</code> <em>statements</em>. This difference means that you write things like:</p>

<pre><code>let x =
  if condition
  then value1
  else value2
</code></pre>

<p>Instead of:</p>

<pre><code>let x be a mutable variable
if condition
then x = value1
else x = value2
</code></pre>

<p>So this allows you to write in functional style without mutating variables.</p>

<hr>

<p>The other thing he could have meant is that many functional languages offer constructs like pattern matching or guards that you can use instead of <code>if</code> statements. Pattern matching allows you to inspect the structure of a value and take it apart at the same time. As an example you can write this:</p>

<pre><code>match my_list with
| x :: xs -&gt; x + sum xs
| [] -&gt; 0
</code></pre>

<p>Instead of this:</p>

<pre><code>if my_list is empty
then
  let x be the first element of my_list
  let xs be the list containing the remaining elements of my_list
  x + sum xs
</code></pre>

<p>Using pattern matching is preferable because it avoids calling functions on a value whose structure does not support it. In the example above, a function that returns the first element of a list would presumably cause an error when called on an empty list (which might happen if we mess up the if condition). But if we use pattern matching to get at the first element this can't happen because the syntax of the matching construct ensures that we only get <code>x</code> and <code>xs</code> if <code>my_list</code> is really not empty.</p>

<p>Pattern guards allow you to add arbitrary conditions to pattern matching:</p>

<pre><code>match f(x) with
| 0 -&gt; ""f(x) was zero""
| 1 -&gt; ""f(x) was one""
| x when x &gt; 1 -&gt; ""f(x) was greater than one""
| _ -&gt; ""f(x) was negative""
</code></pre>

<p>This can be cleaner if you're pattern matching anyway, but that hardly means you shouldn't use <code>if</code> expressions in functional languages. If you don't have a situation where you want pattern match on a value, introducing a pattern match just so that you can use a guard makes little sense over using an if statement.</p>
"
"<p>I wanna a method that receives a generic type, and a generic type (that's defined in run time). In the example there's if I'm using a string type, It needs to return the first param lenght (in string); If I'm using a int type, needs to return the biggest (int integer).</p>

<p>Have a look:</p>

<pre><code>#include ""stdafx.h""
#include &lt;sstream&gt;
#include &lt;iostream&gt;
#include &lt;conio.h&gt;

#include &lt;sstream&gt;
#include &lt;string&gt;
#include &lt;atldbcli.h&gt;

#import ""C:\Program Files\Common Files\System\ADO\msado15.dll"" \
 no_namespace rename(""EOF"", ""EndOfFile"")

using namespace std;


class Test
{
public:
    template&lt;class T&gt;
    T returnVal(T valueOne, T valueTwo);
};

template&lt;class T&gt;
T Test::returnVal(T valueOne, T valueTwo)
{
    if(typeid(valueOne) == typeid(string))
    {
        string teste = valueOne;
        int testeInt = teste.size();
        ostringstream testeString;
        testeString &lt;&lt; testeInt;
        teste = testeString.str();
        return teste;

    }
    else
        return valueOne &gt; valueTwo? valueOne:valueTwo;
}


int main()
{
    string reference = ""stringVal"";
    Test ref;
    cout &lt;&lt; ref.returnVal&lt;string&gt;(reference, ""asasas"") &lt;&lt; endl;
    cout &lt;&lt; ref.returnVal&lt;int&gt;(10, 485);
    getch();
    return 0;
}
</code></pre>

<p>However, when the main function calls <strong>ref.returnVal(10, 485);</strong> it's show a message error: <strong>'return' : cannot convert from 'std::string' to 'int'</strong>
Does anybody know what's wrong?
Thanks</p>
","149392","","<p>If you instantiate your template for type <code>int</code>, it looks like this:</p>

<pre><code>int Test::returnVal(int valueOne, int valueTwo)
{
    if(typeid(valueOne) == typeid(string)) // This will be false
    {
        string teste = valueOne;
        int testeInt = teste.size();
        ostringstream testeString;
        testeString &lt;&lt; testeInt;
        teste = testeString.str();
        return teste;

    }
    else
        return valueOne &gt; valueTwo? valueOne:valueTwo;
}
</code></pre>

<p>The problem is that the then-clause of your <code>if</code> returns a string even though the return type of the function is <code>int</code>. The fact that the then-clause will never execute because <code>typeif(valueOne)</code> can't possible be string doesn't matter because the type checker does not care about that. All he sees is a return statement that returns a string, so that's an error.</p>

<p>To do what you want, you should simply overload your function for strings and remove all the string-specific code from the templated function.</p>
"
"<p>I am writing a function to return a list minus the third value.
Here is my current code:</p>

<pre><code>let listString = [ ""1""; ""2""; ""3""; ""4"" ];;

let del3 (listA :'a)  =  [listA.Head; listA.Tail.Head] @ [listA.Tail.Tail.Tail];;

del3 listString
</code></pre>

<p>and I am getting the error:</p>

<blockquote>
  <p>Lookup on object of indeterminate type based on information prior to this program point. A type annotation may be needed prior to this program point to constrain the type of the object. This may allow the lookup to be resolved.</p>
</blockquote>

<p>What should I change to fix the error?</p>
","149392","","<p>When accessing members, methods or properties of an object, F# needs to know the type of that object. It can't just infer the type from the fact that you're accessing a property named <code>Head</code> because there might be many different classes that have such a property.</p>

<p>To fix this problem, either give <code>listA</code> a type annotation or use <code>List.head</code> and <code>List.tail</code> instead of the properties.</p>
"
"<p>I read some article about ruby garbage collector and many mentioned about circular reference object can not be cleared. <a href=""http://stackoverflow.com/questions/8003808/does-this-code-create-a-circular-memory-reference-in-ruby"">This article</a> mentioned about circular reference but I'm not sure whether it will cause the problem. Any one could give some examples of how to create a circular references?</p>
","149392","","<blockquote>
  <p>I read some article about ruby garbage collector and many mentioned about circular reference object can not be cleared.</p>
</blockquote>

<p>That's absolutely not true.</p>

<blockquote>
  <p>Any one could give some examples of how to create a circular references?</p>
</blockquote>

<p>Most trivially like this:</p>

<pre><code>arr1 = []
arr2 = [ arr1 ]
arr1 &lt;&lt; arr2
</code></pre>

<p>However, as I said (and as the answer to the question you linked also points out), Ruby's GC will have absolutely no problem collecting <code>arr1</code> and <code>arr2</code> after they go out of scope.</p>
"
"<p>I would like to ask question. I am biginner in Hakskell and I have some diffictulties with very simple program, which should tell me if divident % divider == 0. </p>

<p>I have this code: </p>

<pre><code>f::Integer -&gt; Integer -&gt; Bool
f x y = if ((x `mod` y) == 0) then True
                              else False

main = do putStrLn ""Set up dividend""
          x &lt;- getLine
          putStrLn ""Set Up divider""
          y &lt;- getLine
          f read x::Int read y::Int
</code></pre>

<p>but when I want to run it, I've got an error: </p>

<pre><code> Couldn't match expected type `Int' with actual type `m0 b0'
    Expected type: m0 a0 -&gt; m0 b0 -&gt; Int
      Actual type: m0 a0 -&gt; m0 b0 -&gt; m0 b0
    In a stmt of a 'do' block: putStrLn ""Set up dividend""
    In the expression:
        do { putStrLn ""Set up dividend"";
             x &lt;- getLine;
             putStrLn ""Set Up divider"";
             y &lt;- getLine;
             .... } ::
          Int
</code></pre>

<p>and I have really no idea, what is wrong. I've also tried <code>f x y (not f read x::Int .....)</code> without any results. I must do something wrong. I know there are many topics about this problem, but nothing helped me. I am missing something. </p>
","149392","","<pre><code>f read x::Int read y::Int
</code></pre>

<p>This applies the function <code>f</code> to the arguments <code>read</code>, <code>x</code>, <code>read</code> and <code>y</code>. It's also saying that the result of <code>f read y</code> should be an <code>Int</code> and that result of the whole thing should be an <code>Int</code> as well. That's obviously not what you want. What you want is to apply <code>f</code> to the results of <code>read x</code> and <code>read y</code>, so you need parentheses around those.</p>

<p>Another problem is that <code>f</code> takes <code>Integer</code>s as arguments, but you're telling <code>read</code> to give you <code>Int</code>s. You can fix that by changing <code>Int</code> to <code>Integer</code> or you can remove the type annotations altogether as they can be inferred. You could also change the type of <code>f</code> to accept any type of <code>Integral</code>, so that it works with both <code>Int</code> and <code>Integer</code>.</p>

<p>Lastly the type of <code>main</code> needs to be <code>IO ()</code>, but your definition evaluates to a <code>Bool</code>. Maybe you want to print the <code>Bool</code>?</p>

<p>The combination of <code>getLine</code> and <code>read</code> can be simplified to <code>readLine</code> by the way.</p>

<p>So you could do:</p>

<pre><code>main = do putStrLn ""Set up dividend""
          x &lt;- readLine
          putStrLn ""Set Up divider""
          y &lt;- readLine
          print $ f x y
</code></pre>
"
"<p>When I have the following method:</p>

<pre><code>def n_times(thing)
  lambda { |n| thing * n }
end
</code></pre>

<p>and I call it like that:</p>

<pre><code>x  = [:a]
p1 = n_times(x)
x  = [:b]
p p1.call(3) # =&gt; [:a, :a, :a]
</code></pre>

<p>x will not be changed, the output will be [:a]. Why?</p>

<p>When doing something like .pop instead, x will be changed:</p>

<pre><code>x  = [:a]
p1 = n_times(x)
x.pop
p p1.call(3) # =&gt; []
</code></pre>

<p>Is it because [:b] is a new object?</p>
","149392","","<blockquote>
  <p>Is it because [:b] is a new object?</p>
</blockquote>

<p>Yes. When you do <code>x.pop</code>, you're modifying the object that both <code>x</code> and <code>thing</code> refer to. When you do <code>x = [:b]</code>, you make <code>x</code> refer to a new object. Making a variable refer to a new object doesn't affect other variables or objects.</p>

<p>Note that if the lambda closed over the variable <code>x</code>, it would be a different matter. In that case changing <code>x</code> would affect the lambda, but that's not the case. The lambda closes over the variable <code>thing</code>, which is a different variable that only happened to refer to the same object until <code>x</code> was reassigned.</p>
"
"<p>I was going through some c code and came across this syntax:</p>

<pre><code>uint16 a;
unsigned char *b;
//b is initilized elsewhere before the next line gets called
((unsigned char*) &amp;a)[0] = b[0];
</code></pre>

<p>It the last line which I dont get. We typecast the address of uint16 to a unsigned char. Why is this? The address of &amp;a could be larger than 8 bytes. Also whats the [0] on the left of the equals for? </p>
","149392","","<p>You're taking the address of <code>a</code>, cast it to <code>unsigned char*</code> (<em>not</em> <code>unsigned char</code>), add 0 to it (no op), dereference it and then assign the result of <code>b[0]</code> to it. In other words, you're assigning the result of <code>b[0]</code> to the first byte of <code>a</code>'s in-memory representation.</p>

<p>Since <code>b</code> has not been initialized this invokes undefined behavior.</p>
"
"<p>I'm trying to learn and understand the Lisp programming language to a deep level. The function <code>+</code> evaluates its arguments in applicative order:</p>

<pre><code>(+ 1 (+ 1 2))
</code></pre>

<p><code>(+ 1 2)</code> will be evaluated and then <code>(+ 1 3)</code> will be evaluated, but the <code>if</code> function works differently:</p>

<pre><code>(if (&gt; 1 2) (not-defined 1 2) 1)
</code></pre>

<p>As the form <code>(not-defined 1 2)</code> isn't evaluated, the program doesn't break.</p>

<p>How can the same syntax lead to different argument evaluation? How is the <code>if</code> function defined so that its arguments aren't evaluated?</p>
","149392","","<p>If isn't a function, it's a special form. If you wanted to implement similar functionality yourself, you could do so by defining a macro rather than a function.</p>

<p>This answer applies to Common Lisp, but it'll probably the same for most other Lisps (though in some <code>if</code> may be a macro rather than a special form).</p>
"
"<p>So I'm new to LISP, and I'm playing with a couple of basic sum functions.</p>

<pre><code>(defun suma (&amp;rest L)
  (cond
    ((null L) 0)
    (T (+ (CAR L) (EVAL (CONS 'suma (CDR L)))))
))


(defun suma2 (&amp;rest L)
  (cond
   ((null L) 0)
   (T (+ (car L) (suma2 (cdr L))))
))
</code></pre>

<p>The first function works just fine.  The second function gives this error: SB-KERNEL::CONTROL-STACK-EXHAUSTED.</p>

<p>My question is: why is the first function ok and the second is not when they are essentially doing the same thing?</p>
","149392","","<p>If you call, say, <code>(suma2 1 2 3)</code>, <code>L</code> will be the list <code>(1 2 3)</code>. You will then call <code>(suma2 (cdr L))</code>, i.e. <code>(suma2 '(2 3))</code>. In that invocation <code>L</code> will be the list <code>((2 3))</code>, i.e. a list containing a single element: the list <code>(2 3)</code>. Now it will call <code>(suma2 (cdr L))</code> again and this time <code>(cdr L)</code> is the empty list, so in the next invocation <code>L</code> is a list containing the empty list. Since that's still a list containing one element, it will again recurse and again and again. The case where <code>L</code> is empty will never be reached because <code>L</code> will always be a list containing exactly one element: the result of <code>(cdr L)</code>.</p>

<p>So you should either change your <code>suma2</code> function to accept a list instead of a variable number of arguments (and then call it as <code>(suma2 (list 1 2 3))</code> or <code>(suma2 '(1 2 3))</code> instead  of <code>(suma2 1 2 3)</code>) or use <code>apply</code> to call <code>suma2</code> with the contents of the list as its arguments instead of the list itself.</p>
"
"<p>I would like to ask You abuot key word 'in'. What is destination of it ? When we use it ?
What does it do ? 
Is there any recommended way to use it ? What about efficiency ?
Thanks in advance.</p>
","149392","","<p>The keyword <code>in</code> is used as part of the <code>let &lt;binding&gt; in &lt;expression&gt;</code> syntax.</p>

<blockquote>
  <p>When we use it ?</p>
</blockquote>

<p>We use it whenever we use a <code>let</code> expression.</p>

<blockquote>
  <p>What does it do ?</p>
</blockquote>

<p>It separates the binding from the expression in which the binding will hold.</p>

<blockquote>
  <p>Is there any recommended way to use it ?</p>
</blockquote>

<p>The recommended way to use it is as part of a let expression, between the binding and the expression. There is no other way to use it.</p>

<blockquote>
  <p>What about efficiency ?</p>
</blockquote>

<p>Its function is merely syntactically. Therefore it has no bearing on efficiency.</p>
"
"<p>I have a problem. When I declare the 'x' integer the program works properly but when I delete that 'x' it shows me a strange result.</p>

<pre><code> #include &lt;stdio.h&gt;
    #include &lt;conio.h&gt;
    main ()
    {
        int a,b,x;
        char ras;
        printf(""Insert a: "");
        scanf(""%d"", &amp;a);
        printf(""Insert b: "");
        scanf(""%d"", &amp;b);
        printf(""Sum or multuply: (s/m)"");
        scanf(""%s"", &amp;ras);
        if (ras=='s')
        {
            printf(""Sum is :%d"", a+b);
        }
        else if (ras=='m')
        {
            printf(""Multiply is :%d"", a*b);
        }
        getch();
    }
</code></pre>
","149392","","<p>Your program invokes undefined behaviour either way because <code>scanf</code> stores two characters (the entered letter plus the trailing 0-byte), but the pointer you gave it points to a variable that can contain only a single character.</p>

<p>In your particular implementation it so happens, that the 0-byte will simply override the x variable if that variable exists. If it doesn't you overrides something else, leading to your strange result.</p>

<p>To read a single character, you should use <code>%c</code>, not <code>%s</code>.</p>
"
"<p>what does ignore function do in SML</p>

<pre><code>fun prntlst f l =
      if NULL l then ()
      else (ignore(f (HD l)); prntlst f (TL(l)));
</code></pre>

<p>what does ignore do here</p>
","149392","","<p>The <code>ignore</code> function does nothing. It simply ignores its argument and returns <code>()</code>.</p>

<p>The point of the function is to avoid warnings about a return value not being used. That is if you have a function <code>f</code> whose return type is not <code>unit</code>, then calling <code>f</code> without using the return value will cause a warning. If you wrap <code>ignore</code> around it, it won't.</p>
"
"<p>Using Common Lisp I am trying loop through a list of students and if the GPA is greater than or equal to 3.0 I want to push a 1 onto another list called equal_names.  The problem I am having is the interpreter keeps saying the GPA in the comparison list is ""not of type (or rational float)"".  Why am I getting this error?</p>

<p>Yes, this is for homework.  Also this is my first time asking on here, so if you need anything else please let me know.</p>

<p>Sample of the list I am getting the GPA from, where the GPA is 2.307...:  </p>

<pre><code>(SETQ students (LIST  
    (LIST (LIST 'Abbott 'Ashley 'J) '8697387888 'NONE 2.3073320999676614))) 
</code></pre>

<p>The code I have written:  </p>

<pre><code>(setq gpa_count ())  

    (loop for x in students 
        if(&gt;=  3.0 (cdr (cdr (cdr x))))  
            do(push '1 gpa_count))
</code></pre>
","149392","","<p>Given a non-empty list <code>cdr</code> returns the tail of that list, i.e. the list that contains all the elements of the list but the first. The important thing to note is that it returns a list, not an element. That is <code>(cdr (cdr (cdr x)))</code> returns the list <code>(2.30733...)</code>, not the float <code>2.30733</code>.</p>
"
"<p>I'm relatively new to to programming and even after doing a thorough research I am not able to solve this problem.</p>

<p>I want to check whether through an object [defined as of variable type <code>union</code>] I can compare with a new object entered by the user for the entered object is in this particular set or not, but always two errors are popping up:
""invalid type argument of unary '*' (have 'Object')""</p>

<pre><code>bool is_element_of(Object items, SET*S)
{
  LIST*scan = *S;
  int p = 0;
  while (S != NULL)
  {
    if (*scan-&gt;item == items)
      p = 1;
    scan = scan-&gt;next;
  }
  if (p == 1)
    return true;
  else
    return false;
}
</code></pre>

<p>here is the struct definition along with the union of the object:</p>

<pre><code>typedef struct object
{
  union
  {
    char c;
    char t[OSIZE];
    unsigned long int h[OSIZE];
    unsigned int i;
    float f;
    long double j[OSIZE];
    int type;
  } TYPE;
} Object;

typedef struct list1
{
  Object item;
  struct list1*next;
} LIST;

typedef LIST*SET;
</code></pre>
","149392","","<pre><code>if (*scan-&gt;item == items)
</code></pre>

<p><code>scan-&gt;item</code> is an Object, not a pointer. So you can't dereference it.</p>
"
"<p>I am new to Haskell, and am following the tutorial given in:</p>

<p><a href=""http://learnyouahaskell.com/syntax-in-functions"" rel=""nofollow"">http://learnyouahaskell.com/syntax-in-functions</a></p>

<p>The tutorial gives the following example:</p>

<pre><code>lucky :: (Integral a) =&gt; a -&gt; String  
lucky 7 = ""LUCKY NUMBER SEVEN!""  
lucky x = ""Sorry, you're out of luck, pal!"" 
</code></pre>

<p>However, I have my GHCI open and when I type the first line, I get the following error:</p>

<pre><code>&lt;interactive&gt;:231:1: Not in scope: `lucky'
</code></pre>

<p>So I am having trouble following this chapter.</p>

<p>What am I doing wrong?</p>
","149392","","<p>You can't write top-level definitions directly into GHCi like that. You need to write them into a file and then load that file into GHCi either by passing the filename as an argument (i.e. <code>ghci Bla.hs</code>) or by loading it from within GHCi using <code>:load Bla.hs</code>.</p>

<p>From within GHCi you can only use local definitions using <code>let</code> like you would in a <code>do</code> block.</p>
"
"<p>This took me quite some time today, and I finaly found the cause, but still don't get the logic</p>

<pre><code>x = (complex expression evaluating to false) or (complex expression evaluating to true)

x =&gt; false
</code></pre>

<p>Very strange... It turns out, after experimenting that</p>

<pre><code>false or true =&gt; false
true or false =&gt; true
false || true =&gt; true
true || false =&gt; true
</code></pre>

<p>I guess I've used the ""or"" operator in hundreds of places in my code, and honestly speaking, I don't trust the ""or"" anymore...</p>

<p>Can someone please explain the ""logic""?</p>
","149392","","<p>First of all the expressions <code>false or true</code>, <code>true or false</code>, <code>false || true</code> and <code>true || false</code> are all <code>true</code>. If you type them into irb, you will see that.</p>

<p>The reason that your code doesn't work like you expect is the precedence of <code>or</code> versus <code>=</code>. <code>x = y or z</code> is parsed as <code>(x = y) or z</code>, not <code>x = (y or z)</code>. With <code>||</code> it's parsed as <code>x = (y || z)</code> because <code>||</code> has higher precedence.</p>
"
"<pre><code>#include &lt;stdio.h&gt;

void main()

{

    int k = m();

    printf(""%d"", k);

}

void m()

{

    printf(""hello"");

}  
</code></pre>

<p><strong>Output</strong><br>
<code>hello5</code>  </p>

<p>What is the void function returning here?
If there is no printf() then the output is <code>1</code>.
What is happening here?</p>
","149392","","<p>A <code>void</code> function does not return anything. Your program invokes undefined behavior because it implicitly defines <code>m</code> to have return type <code>int</code> (in C89, if a function is called before it is declared, it's implicitly assumed to have return type <code>int</code>), but then defines it with return type <code>void</code>.</p>

<p>If you add a forward-declaration for <code>m</code>, the compiler will correctly complain that you're trying to use the return value of a void function, which is not possible.</p>
"
"<pre><code>#include &lt;stdio.h&gt;

#define foo(x, y) #x #y

int main()
{
    printf(""%s\n"", foo(k, l));
    return 0;
}
</code></pre>

<p>Output:<br>
<code>kl</code>  </p>

<p>I know that ## does concatenation. From the output it seems that <code>#</code> also does concatenation.
Am I correct?  </p>

<p>If I am correct then what is the difference between <code>##</code> operator and <code>#</code> operator?</p>
","149392","","<p><code>#</code> turns the argument into a string. So <code>foo(k, l)</code> becomes <code>""k"" ""l""</code>, which is the same as <code>""kl""</code> because in C multiple string literals that are directly next to each other are treated as a single string literals.</p>

<p>If <code>#</code> did concatenation, your printf call would become <code>printf(""%s\n"", kl);</code> which would produce an error about <code>kl</code> not being defined.</p>
"
"<p>I'm examining the function</p>

<pre><code>f(n) = N! + 2^N
</code></pre>

<p>Supposedly, this is </p>

<pre><code>O(N^N)
</code></pre>

<p>I'm not quite sure why this is, or how to prove this is true.</p>

<p>I would think that it is</p>

<pre><code>O(N!)
</code></pre>

<p>Can you provide an explanation why Big O for</p>

<pre><code>f(n) = N! + 2^N =&gt; O(N^N)
</code></pre>
","149392","","<p>It is indeed <code>O(N!)</code> and since <code>N!</code> is <code>O(N^N)</code> (because <code>N!</code> &lt;= <code>N^N</code> for all N>0), anything in <code>O(N!)</code> is also in <code>O(N^N)</code>.</p>
"
"<p>I was trying to execute a few lines of code from a file using 'use' command but I'm getting error which I don't understand,</p>

<pre><code>StdIn:1.6-1.10 Error unclosed string
</code></pre>

<p><a href=""http://s29.postimg.org/k7errcag7/Screenshot_2014_02_11_17_22_26.png"" rel=""nofollow"">Screen Shot</a></p>

<p>I search everywhere, trying to find what does that error mean but now luck,</p>

<p>Please help</p>
","149392","","<p>""Unclosed string"" means that you've started a string using <code>""</code>, but you did not close it using another <code>""</code>.</p>

<p>So why do you get that error in your case - clearly you do have the proper amount of <code>""</code>s there? Well, if we look at the column numbers, we see that the error complains about the section starting at the first <code>""</code> and ending at the h after the backslash, meaning it expected the string to end there.</p>

<p>So basically what the error message is telling you is that it is not expecting an h there. Why not? Because it was preceded by a backslash, backslashes in strings start escape sequences and <code>\h</code> is not a valid escape sequence. So you need to replace your backslashes with double backslashes (or single forward slashes) to escape them and that should fix the problem.</p>
"
"<p>I need a class to return another class, but fail to do so. Can you explain me why that happens? Here I am not including <code>Temperature</code> class as I think that is irrelevant.</p>

<pre><code>class Celsius
  attr_accessor :temp
  def initialize(cel)
    return Temperature.new({:c =&gt;cel})
  end
end

class Fahrenheit
  def initialize ( far )
    Temperature.new({:f =&gt; far})
  end
end 
</code></pre>

<p>I want to call <code>Fahrenheit</code> class to return a <code>Temperature</code> class </p>

<pre><code>puts Fahrenheit.new(0) #=&gt; returns  Fahrenheit class instead of Temperature 
</code></pre>

<p>In <code>Celsius</code>, I tried to use <code>return</code>, but it did not help.</p>
","149392","","<p>The return value of <code>initialize</code> is not used in any way by <code>new</code>, so returning something from <code>initialize</code> serves no purpose. The only way to make <code>Foo.new</code> return something other than a <code>Foo</code> would be to override <code>new</code> directly, but that's usually not a good idea as it would be very confusing to the reader of your code.</p>

<p>If you have no intention of creating instances of your Celsius and Fahrenheit classes, they probably shouldn't be classes in the first place. In this case it would seem most sensible to me if your <code>Temperature</code> class had class methods <code>celsius</code> and <code>fahrenheit</code>.</p>
"
"<p>I'm having difficulties reducing the memory allocated by a pointer. This is done as this pointer points to a char array which will store bytes but the number of bytes can differ.</p>

<p>The following struct is used:</p>

<pre><code>struct packet {
   unsigned char *data
}
</code></pre>

<p>In my code, I first allocate memory for the packet and data: </p>

<pre><code>struct packet *pack;
pack = malloc(sizeof(struct packet));
pack-&gt;data = malloc(MAXSIZE);
</code></pre>

<p>MAXSIZE is the maximum size that will be read at once (256 bytes).</p>

<p>After reading the file with a buffer and setting the data to the buffer using: <code>pack-&gt;data= &amp;buffer</code>, I read the remaining bytes in the file (calculated using stat() and subtracting MAXSIZE each time until we have less than MAXSIZE left.)</p>

<p>At this point, I want to make the data pointer allocate less memory than MAXSIZE as the data will not be as large, I try the following code but it fails and results in ""core dumped"":</p>

<pre><code>free(pack-&gt;data);
printf(""Memory freed."") // This never gets printed so there is an issue with free...
pack-&gt;data = malloc(remaining_size);
</code></pre>

<p>The remaining_size is calculated correctly so I know it should allocate correctly. Am I taking the wrong approach? I've also tried <code>realloc()</code> but I get the same result.</p>

<p>Would really appreciate some help, this is a general problem but I need something similar to work for a school project requiring all memory to be freed. If I can solve this issue, I should be able to free the memory. Thanks!</p>

<p>Edit: If I remove the free() call and simply malloc() again, it works but I believe this is the wrong approach as the old allocated space is gone forever and I can never free it.</p>
","149392","","<pre><code>pack-&gt;data = &amp;buffer;
</code></pre>

<p>After executing that line, <code>data</code> will hold the address of the variable <code>buffer</code>. It will no longer hold the address on the heap that it previously held (and that address is now leaked if you don't hold onto it somewhere else). However <code>free</code> only works with addresses on the heap, so calling <code>free</code> on <code>pack-&gt;data</code> invokes undefined behavior.</p>
"
"<p>can somebody ewxplain me how the compiler calls the operator casting:</p>

<pre><code>operator ELEMENT()const { 
return pArray-&gt;arr[index]; 
}
</code></pre>

<p>From line 6 in main:</p>

<pre><code>(*ptr3)[0] = a1[0] + a2[1]; 
</code></pre>

<p>How adding two ELEMENT object with + operator even allowed? There is no + operator overloading in ELEMENT class.</p>

<p>Thanks,
Liron</p>

<pre><code>#include &lt;iostream&gt;

using namespace std;

template&lt;class ELEMENT&gt; class Array 
{
    class Element 
    { 
        Array&lt;ELEMENT&gt;* pArray;
        int index; 
    public: 
        Element(Array&lt;ELEMENT&gt;* p, int i) 
            : pArray(p), index(i) {} 
        const Element&amp; operator=(const ELEMENT&amp; e) { 
            pArray-&gt;set(index, e); // call copy-on-write 
            return *this; 
        } 
        operator ELEMENT()const { 
            return pArray-&gt;arr[index]; 
        } 
    }; 
        friend class Element; 
    ELEMENT* arr; 
    int size; 
    int* ref_counter; 
    void attach(const Array&amp; a) { 
        arr = a.arr; size = a.size; 
        ref_counter = a.ref_counter; 
        ++(*ref_counter); 
    } 
    void detach() { 
        if(--(*ref_counter) == 0) { 
            delete []arr; 
            delete ref_counter; 
        } 
    } 
    void set(int index, const ELEMENT&amp; e) { 
        if(*ref_counter &gt; 1) { // need copy-on-write! 
            Array temp = clone(); 
            detach(); 
            attach(temp); 
        } 
        arr[index] = e; 
    } 
public: 
    explicit Array(int);
    Array&lt;ELEMENT&gt; clone()const; 
    Array(const Array&lt;ELEMENT&gt;&amp; a){attach(a);} 
    ~Array(){detach();} 
    const Array&amp; operator=(const Array&lt;ELEMENT&gt;&amp; a) { 
        detach(); attach(a); return *this; 
    } 
    Element operator[](int index) { 
        return Element(this, index); 
    } 
    const ELEMENT&amp; operator[](int index)const { 
        return arr[index]; 
    } 
};
template&lt;class ELEMENT&gt; 
Array&lt;ELEMENT&gt;::Array(int size1) 
    : size(size1), ref_counter(new int(1)) 
{ 
    arr = new ELEMENT[size]; 
} 
template&lt;class ELEMENT&gt; 
Array&lt;ELEMENT&gt; Array&lt;ELEMENT&gt;::clone()const { 
    Array temp(size); 
    for(int i=0; i&lt;size; ++i) { 
        temp.arr[i] = arr[i]; 
    } 
    return temp; 
} 
int main() 
{
    Array&lt;int&gt; a1(1), a2(2); 
    Array&lt;int&gt;* ptr3 = new Array&lt;int&gt;(3); 
    a2[0] = 1; 
    a2[1] = 2; 
    a1 = a2; 
    (*ptr3)[0] = a1[0] + a2[1]; 
    (*ptr3)[1] = a1[1] + a2[0]; 
    cout &lt;&lt; (*ptr3)[0] &lt;&lt; "", "" &lt;&lt; (*ptr3)[1] &lt;&lt; endl; 
    delete ptr3; 
    return 1; 
}
</code></pre>
","149392","","<blockquote>
  <p>How adding two ELEMENT object with + operator even allowed? There is no + operator overloading in ELEMENT class.</p>
</blockquote>

<p><code>ELEMENT</code> is not a class, it's a type parameter. And in your example the type given for that parameter is <code>int</code>. Obviously <code>int</code> does have a <code>+</code> operator, so that works fine. If you tried to create an <code>Array&lt;SomeType&gt;</code> where <code>SomeType</code> did not have a <code>+</code> operator, you would get an error.</p>

<p>There is an <code>Element</code> class and that class does indeed have no <code>+</code> operator, but that class is implicitly convertible to <code>ELEMENT</code> (i.e. <code>int</code> in this case), so when you apply <code>+</code> to objects of the <code>Element</code> the compiler adds a call to that conversion operator and <code>+</code> is applied to the result.</p>
"
"<p>This is code compiled with GCC(with -std=c99) and G++(with -std=c++98):<br/></p>

<pre><code>void fun()
{}
int main()
{
    fun(1,2,3);
    return 0;
}
</code></pre>

<p>GCC compiled the code successfully,but the G++ came up with this:<br/>
<code>error: too many arguments to function ‘int fun()’</code><br/>
I am totally confused.<br/>
I knew that the C++ should be compatible with C by design,but this case shows me incompatibility.This case happens by design? </p>
","149392","","<p>In C an empty parameter list means that you don't specify how many arguments the function takes. To define a function with 0 parameters, you'd use <code>(void)</code> as the parameter list. In C++ an empty parameter list means the function takes 0 parameters, so yes, C and C++ are not compatible in this instance.</p>

<blockquote>
  <p>I knew that the C++ should be compatible with C by design,but this case shows me incompatibility.This case happens by design?</p>
</blockquote>

<p>While C++ is compatible to C in many instances, this is not the case all the time. Other examples are implicit casts from <code>void*</code> (allowed in C, but not in C++) and keywords (it's perfectly valid to use something like <code>class</code> as a variable name in C, but obviously not in C++ where it is a keyword). And yes, that's by design.</p>
"
"<p>The <em><a href=""http://learnyouahaskell.com/"" rel=""nofollow"">Learn You A Haskell for Great Good!</a></em> book by Miran Lipovača says in the chapter <em><a href=""http://learnyouahaskell.com/making-our-own-types-and-typeclasses"" rel=""nofollow"">Making Our Own Types and Typeclasses</a></em> that the idea of Haskell's Int type could be represented like this:</p>

<pre><code>data Int = -2147483648 | -2147483647 | ... | -1 | 0 | 1 | 2 | ... | 2147483647  
</code></pre>

<p>Nevertheless, it says that it worked just as demonstrative purposes, but it doesn't say how Int is actually defined. Is Int defined especially by the compiler or can it be definable with plain Haskell code?</p>
","149392","","<p>It could be defined in Haskell by actually defining all 2^32 constructors (which couldn't be called <code>1</code>, <code>2</code> etc. since those aren't legal constructor names) and then defining <code>fromInteger</code> appropriately. However that would not be very practical.</p>

<p>In all real-world implementations <code>Int</code> is a built-in.</p>
"
"<p>In following code :</p>

<pre><code>#include &lt;stdio.h&gt;
int main(int argc,char** argv)
{
     char *str = ""Hello world"";
     char *p = &amp;argc+1;
     printf(""%i \n"",(&amp;argc+1));         
     printf(""%i \n"",*(&amp;argc+1));
     printf(""%i \n"",&amp;str);             
     printf(""%i \n"",*str);
     printf(""%i \n"",p);                 
     printf(""%i \n"",*p);
     return 0;
 }
</code></pre>

<p>The output is:</p>

<pre><code>-541685632
4196028
-541685632
72
-541685632
-68
</code></pre>

<p>My question is, since they're all pointing to the same address how come what they are pointing to is not the same value;</p>
","149392","","<p>Of course this is all undefined behavior, but given that <code>&amp;argc+1</code> happens to be <code>&amp;str</code> on your particular implementation, here's why you get the behavior you see on that implementation:</p>

<p>First let's get rid of <code>&amp;argc+1</code> and just use <code>&amp;str</code> instead:</p>

<pre><code>#include &lt;stdio.h&gt;
int main(int argc,char** argv)
{
     char *str = ""Hello world"";
     char *p = &amp;str;
     printf(""%i \n"", &amp;str);
     printf(""%i \n"",*(&amp;str)); // (1)
     printf(""%i \n"", &amp;str);
     printf(""%i \n"", *str); // (2)
     printf(""%i \n"", p);
     printf(""%i \n"",*p); // (3)
     return 0;
}
</code></pre>

<p>On (1) you're printing <code>*(&amp;str)</code>, which is of course the same as <code>str</code>. This will print the memory address that is stored in the variable <code>str</code>.</p>

<p>On (2) you're printing <code>*str</code>. So you're taking the pointer stored in <code>str</code> and dereferencing it. The value of <code>*str</code> will be 'H' (a.k.a. 72), because that's the char that lives at the address that <code>str</code> points to.</p>

<p>On (3) you're printing the value that <code>p</code> points to. <code>p</code> points to <code>str</code>, so you might expect that the value of <code>str</code> would be printed just like on (1). However you declared <code>p</code> to be a <code>char</code> pointer, so dereferencing it only reads one char. So what you get instead is the first byte of <code>str</code>'s value only.</p>
"
"<p>According to the C standard, this is considered a definition</p>

<pre><code>int x; 
</code></pre>

<p>Because it declares x and allocates storage. But is this also a definition?</p>

<pre><code>int *x;
</code></pre>

<p>That is, does declaring a pointer variable or array variable allocate storage? I'm guessing no because we have to use malloc.</p>
","149392","","<p><code>int* x;</code> is a definition. It allocates storage to store the pointer. It does not allocate any storage for an integer - that's why you need <code>malloc</code> if you don't want to point to an existing variable (or other memory location).</p>

<p>A pure declaration would be something like <code>extern int x;</code> or <code>extern int* x;</code>, which would then have a corresponding definition in a different compilation unit.</p>
"
"<p>I'm just starting out with Haskell and I want to define a type like this :</p>

<pre><code>data Point = Int | [Int]
</code></pre>

<p>ie. at any Point I want to store either a single integer or a list of integers. (Ultimately I'm going to store these Points in a list)</p>

<p>For some reason it tells me there's a parse error at the [Int]. </p>

<p>What am I misunderstanding?</p>
","149392","","<p>A data type definition consists of one or more constructor definitions separated by <code>|</code>. A constructor definition is an identifier that starts with a capital letter, followed by zero or more type names.</p>

<p>So <code>Int</code> is a valid constructor definition because it's an identifier that starts with a capital letter. However it defines a constructor of zero arguments and is not in any way related to the <code>Int</code> type. So that's not what you want. If you want a constructor that contains a value of type <code>Int</code>, it should be something like <code>Single Int</code>, which would define a constructor named <code>Single</code> that takes an <code>Int</code>.</p>

<p><code>[Int]</code> is not a valid constructor definition because it doesn't start with an identifier. You probably want something like <code>Many [Int]</code>. That would define a constructor named <code>Many</code> that takes a list of <code>Int</code>s.</p>
"
"<p>I'm making a project for one of my classes and I'm pretty sure I'm almost done with the project. Basically I have to input 2 people's tickets and I have to find the maximum and minimum price. I need to overload the * and / operators to fix that issue for the project. Also, the <code>friend</code> declaration is a necessity for this project via teacher's instructions. </p>

<p>Now, for the issue. I'm trying to store the proper ticket variable (either t1 or t2) into t3 so I can return that to the main. When I use ""="" to set either t1 to t3, it says ""no viable overloaded '='"". The following is my code:</p>

<pre><code>#include &lt;iostream&gt;

using namespace std;

class ticket
{
public:
    ticket();
    double input();
    double output();
    friend ticket operator *(const ticket &amp;t1, const ticket &amp;t2);
    friend ticket operator /(const ticket &amp;t1, const ticket &amp;t2);
private:
    void cost();
    string name;
    double miles, price;
    int transfers;
};


int main()
{
    ticket customer1, customer2, customer3;

    //------------------------------------------------
    cout &lt;&lt; ""*** Customer 1 ***"" &lt;&lt; endl;
    customer1.input();
    cout &lt;&lt; ""--- Entered, thank you ---"" &lt;&lt; endl;


    cout &lt;&lt; ""*** Customer 2 ***"" &lt;&lt; endl;
    customer2.input();
    cout &lt;&lt; ""--- Enter, thank you ---"" &lt;&lt; endl;
    //------------------------------------------------



    //------------------------------------------------
    cout &lt;&lt; ""Testing of the * operator: "" &lt;&lt; endl;
    customer3 = customer1 * customer2;
    cout &lt;&lt; ""*** Database printout: ***"" &lt;&lt; endl;
    customer3.output();
    cout &lt;&lt; endl;
    cout &lt;&lt; ""--- End of Database ---"" &lt;&lt; endl;
    //------------------------------------------------


    //------------------------------------------------
    cout &lt;&lt; ""Testing of the / operator:"" &lt;&lt; endl;
    customer3 = customer1 / customer2;
    cout &lt;&lt; ""*** Database printout: ***"" &lt;&lt; endl;
    customer3.output();
    cout &lt;&lt; endl;
    cout &lt;&lt; ""--- End of Database ---"" &lt;&lt; endl;
    //------------------------------------------------


        return 0;
}

ticket operator *(const ticket &amp;t1, const ticket &amp;t2)
{
    ticket t3;

    if (t1.price &gt; t2.price)
        t3 = t1.price;
    else
        t3 = t2.price;
    return t3;
}
ticket operator /(const ticket &amp;t1, const ticket &amp;t2)
{
    ticket t3;

    if (t1.price &lt; t2.price)
        t3 = t1.price;
    else
        t3 = t2.price;
        return t3;
}
ticket::ticket()
{
}

double ticket::input()
{
    cout &lt;&lt; ""Miles? "";
    cin &gt;&gt; miles;

    cout &lt;&lt; endl &lt;&lt; ""Transers? "";
    cin &gt;&gt; transfers;

    cout &lt;&lt; endl &lt;&lt; ""Name? "";
    cin &gt;&gt; name;

    cost();

    cout &lt;&lt; endl &lt;&lt; ""Price is: "" &lt;&lt; price &lt;&lt; endl;

    return miles;
}

double ticket::output()
{
    cout &lt;&lt; name &lt;&lt; '\t' &lt;&lt; miles &lt;&lt; ""mi \t "" &lt;&lt; transfers &lt;&lt; "" transfers \t"" &lt;&lt; price;
    return miles;
}

void ticket::cost()
{
    price = (.5 * miles) - (50 * transfers);
}
</code></pre>
","149392","","<p>You don't define an <code>operator=</code> for <code>ticket</code> that takes a double as its argument. As a consequence you can't assign doubles to <code>ticket</code> objects.</p>
"
"<p>I'm creating Conway's Game of Life with two classes:  Board &amp; Cell.</p>

<p>Board has access to Cell, but I'm not quite sure exactly how. Can't I place <code>cell.board = self</code> under Cell's initialize method? Why or why not? For sake of example, here's what I think are the relevant parts.</p>

<pre><code>class Board
  #omitted variables &amp; methods    

    def create_cell
        cell = Cell.new
        cell.board = self
    end
end

class Cell
    attr_accessor :board

    def initialize
    end
end    
</code></pre>

<p>Also, what does <code>cell.board = self</code> do exactly?</p>
","149392","","<p><code>cell.board = self</code> sets the cell's <code>board</code> variable to the current board object (that is the board object on which you called the <code>create_cell</code> method.</p>

<p>If you put <code>cell.board = self</code> into <code>Cell</code>'s <code>initialize</code> method, you'd get an error that <code>cell</code> is not defined in that scope. If you replaced it with <code>@board = self</code>, you'd set the <code>board</code> variable to the current <code>Cell</code> object (i.e. the one that's being created), not to a <code>Board</code> object. So that wouldn't be what you want.</p>
"
"<p>Consider the following piece of code : </p>

<pre><code>int main() {    
    long long * x = new long long [10]; // array of long long
    long a = (long) x;  // address of first element
    long b = (long) (x+1); //address of second element
    long c = b - a ;  // first difference
    long d = (long) ((x+1) - x);  // second difference
    std::cout &lt;&lt; c &lt;&lt; std::endl ;
    std::cout &lt;&lt; d &lt;&lt; std::endl ;
    return 0;
}
</code></pre>

<p>The program out puts first 8, then 1 . 
I have got some understanding of pointers, and how to use them.
I have come to the conclusion that adding +1 to a raw pointer value will increment it by the size of the thing it is pointing. This feature is unfamiliar to me. </p>

<p>So my question is why do pointer types behave like this? 
What would be the use of such behaviour ? </p>
","149392","","<p>Let's say you have an array of integers and that on your platform an integer consists of 4 bytes. An int pointer can now legally point to the first, fifth, ninth etc. byte of that array, but it may not legally point to say the second or third byte of the array (because that wouldn't be the start of an int object).</p>

<p>So since pointer arithmetic uses the size of the given type, you can only get legal pointer by performing pointer arithmetic on the array (except if your index is out of bounds) without casting to a different pointer type. Otherwise it would be much easier to accidentally create illegal pointers through arithmetic.</p>

<p>It's also more convenient since, if C didn't automatically do this, the programmer would have to manually multiply by the type's size anyway in 99% of the use cases.</p>
"
"<p>For my compiler class, we are gradually creating a pseudo-PASCAL compiler.  It does, however, follow the same precedence as C.  That being said, in the section where we create prefix and postfix operators, I get 0 for</p>

<pre><code>int a = 1;
int b = 2;
++a - b++ - --b + a--
</code></pre>

<p>when C returns a 1.  What I don't understand is how you can even get a 1.  By doing straight prefix first, the answer should be 2.  And by doing postfix first, the answer should be -2.  By doing everything left to right, I get zero.</p>

<p>My question is, what should my precedence of my operators be to return a 1?</p>
","149392","","<p>Operator precedence tells you for example whether <code>++a - b</code> means <code>(++a) - b</code> or <code>++(a - b)</code>. Clearly it should be the former since the latter isn't even valid. In your implementation it's clearly the former (or you wouldn't be getting a result at all), so you implemeneted operator precedence correctly.</p>

<p>Operator precedence has nothing to do with the order in which subexpressions are evaluated. In fact the order in which the operator operands to <code>+</code>  and <code>-</code> are evaluated is unspecified in C and any code that modifies the same variable twice without a sequence point in between invokes undefined behavior. So whichever order you choose is fine and 0 is as valid a result as any other value.</p>
"
"<p>I'm attempting to learn Ruby on Rails and have been trying to install the ""Devise"" gem for authorization on my website. In doing so, I ran across this code:</p>

<pre><code>class User &lt; ActiveRecord::Base
  # Include default devise modules. Others available are:
  # :token_authenticatable, :lockable, :timeoutable, :confirmable and :activatable
  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :trackable, :validatable

  # Setup accessible (or protected) attributes for your model
  attr_accessible :email, :password, :password_confirmation
end
</code></pre>

<p>What does the '&lt;' mean in this context? What is it doing?</p>
","149392","","<p>It means that <code>User</code> inherits from <code>ActiveRecord::Base</code>.</p>
"
"<p>I understand how <code>forall</code> enables us to write polymorphic function.</p>

<p>According to this <a href=""http://en.wikibooks.org/wiki/Haskell/Polymorphism"">chapter</a>, the normal function which we generally write are Rank 1 types. And this function is of Rank 2 type:</p>

<pre><code>foo :: (forall a. a -&gt; a) -&gt; (Char,Bool)
foo f = (f 'c', f True)
</code></pre>

<p>It explains like this: </p>

<blockquote>
  <p>In general, a rank-n type is a function that has at least one
  rank-(n-1) argument but no arguments of even higher rank.</p>
</blockquote>

<p>What does it actually mean by rank argument ?</p>

<p>Can somebody give an example of Rank 3 type which is similar to the above <code>foo</code> function.</p>
","149392","","<p><code>n</code> is the level at which the <code>forall</code>(s) is/are nested. So if you have <code>forall a. ((a -&gt; a) -&gt; Bla)</code> (which is simply a more verbose way of writing <code>(a -&gt; a) -&gt; Bla</code>), then the <code>forall</code> is on the outside and applies to the whole function, so it's rank 1. With <code>(forall a. a -&gt; a) -&gt; Bla</code> the <code>forall</code> only applies to the inner function (i.e. the one you take as an argument) and is thus rank 2.</p>

<p>If the function that you take as an argument would itself take another function as an argument and that function would have a <code>forall</code> in its type, then that would be rank 3. And so on.</p>
"
"<p>I have a question about NetBios NCB (Network Control Block).I wonder why we can use this syntax, as shown example below, if the structure doesn't have any pointers. 
</p>

<pre><code>UCHAR reset( NCB *block ) {
    block-&gt;ncb_command = NCBRESET;
    block-&gt;ncb_lana_num = 2;
    block-&gt;ncb_lsn = 0;
    block-&gt;ncb_num = 0;
    Netbios(block);
    return block-&gt;ncb_retcode;
}



int main()
{
   NCB blok;
   UCHAR err;

   printf ( ""reset:"");
   err = reset(&amp;block);
   if ( err != NRC_GOODRET ) {
   printf ( ""ERROR %x\n"" , err ) ;
   } 
   else {
   printf ( ""SUCCEED ! (%x)\n"", err) ;
   };
}
</code></pre>

<p>The structure of NCB looks like this:</p>

<pre><code>typedef struct _NCB {
   UCHAR  ncb_command;
   UCHAR  ncb_retcode;
   UCHAR  ncb_lsn;
   UCHAR  ncb_num;
   PUCHAR ncb_buffer;
   WORD   ncb_length;
   UCHAR  ncb_callname[NCBNAMSZ];
   UCHAR  ncb_name[NCBNAMSZ];
   UCHAR  ncb_rto;
   UCHAR  ncb_sto;
   void   (CALLBACK *ncb_post)( struct *NCB);
   UCHAR  ncb_lana_num;
   UCHAR  ncb_cmd_cplt;
   UCHAR  ncb_reserve[X];
   HANDLE ncb_event;
} NCB, *PNCB;
</code></pre>

<p>sorry for my English.</p>
","149392","","<p>The <code>-&gt;</code> syntax is used on <code>block</code> because <code>block</code> is a pointer (its type is <code>NCB*</code>, which means ""pointer to <code>NCB</code>"").</p>

<p>Whether or not the <code>NCB</code> structure contains any pointers as fields does not matter because <code>block-&gt;ncb_command</code> does not dereference the <code>ncb_command</code> field - it dereferences <code>block</code>, which is a pointer.</p>
"
"<p>In my C code. I have char **str and need to check if the string is empty. I wrote the following code as it works for char *str, but I got the error: warning: initialization from incompatible pointer type in compiler and ""segmentation fault"" in running the compiled code. What's the correct way of checking if **str is empty? Thanks</p>

<pre><code>char **str = """";

if (**str == 0)
   printf(""it's an empty string\n"");
</code></pre>
","149392","","<p><code>**str == 0</code> is perfectly fine to check whether <code>str</code> points to a pointer to an empty string. Your problem is that <code>char **str = """";</code> is illegal because <code>""""</code> is not a pointer to a pointer.</p>
"
"<p>I'm currently researching ideas for a new programming language where ideally I would like the language to mix some functional and procedural (object oriented) concepts.</p>

<p>One of the things that I'm really fascinated about with languages like Haskell is that it's statically typed, but you do not have to annotate types (magic thanks to Hindley-Milner!). </p>

<p>I would really like this for my language, however after reading up on the subject it seems that most agree that type inference is impractical/impossible with subtyping/object orientation, however I have not understood why this is. I do not know F#, but I understand that it uses Hindley-Milner AND is object-oriented. </p>

<p>I would really like an explanation for this and preferably examples on scenarios where type inference is impossible for object oriented languages.</p>
","149392","","<p>When using nominal typing (that is a typing system where two classes whose members have the same name and the same types are not interchangeable), there would be many possible types for a method like the following:</p>

<pre><code>let f(obj) =
    obj.x + obj.y
</code></pre>

<p>Any class that has both a member <code>x</code> and a member <code>y</code> (of types that support the <code>+</code> operator) would qualify as a possible type for <code>obj</code> and the type inference algorithm would have no way of knowing which one is the one you want.</p>

<p>In F# the above code would need a type annotation. So F# has object orientation and type inference, but not at the same time (with the exception of local type inference (<code>let myVar = expressionWhoseTypeIKNow</code>), which always works).</p>
"
"<p>Consider the following code:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;conio.h&gt;&gt; 
using namespace std;

class book 
{ 
    char Title;
    int no_of_pages; 
public: 
    void read(); 
    void show(); 
}; 

int main()
{
    book ob;
    char Title;
    cout &lt;&lt; sizeof(book) &lt;&lt; "" "" &lt;&lt; sizeof(Title) &lt;&lt; endl;

    getch();
    return 0;
}
</code></pre>

<p>The output of the code is </p>

<blockquote>
  <p>8 1</p>
</blockquote>

<p>If I change the definition of 'Title' in the class to following:</p>

<blockquote>
  <p>char Title[5];</p>
</blockquote>

<p>and the main() 'Title' to</p>

<blockquote>
  <p>char Title[5];</p>
</blockquote>

<p>the output changes to:</p>

<blockquote>
  <p>12 5</p>
</blockquote>

<p>To see if this is something which is done to all string variables in the program, I used the 'Title' in main().
But, the pattern is apparent for a string declared in a class.</p>

<p>For the sake of completion, the pattern is : </p>

<blockquote>
  <p>Size of character array is taken to be the least multiple of 4 greater than the actual size of array</p>
</blockquote>

<p><strong>Question:</strong> Although I understand it is implementation dependent, does anyone know or can suggest a reason for this behaviour of C++ 11?</p>

<p>My compiler is VS 2012, for 64-bit Windows.</p>
","149392","","<p>It's padding. The character array is 5 bytes long, so if <code>no_of_pages</code> would be stored directly after the array, it would be stored at bytes 6 through 9 (relative to the beginning of the object). However reading values from memory is more efficient if they're properly aligned, so it would be better if it was stored in the bytes 8 through 11. Therefore 3 bytes of padding are added between the end of the array and the beginning of <code>no_of_pages</code>. These 3 bytes are not part of the size of the array (that is the array is still 5 bytes), but they are part of the size of the object because they're inside the object.</p>
"
"<p>I'm trying to write a function in Haskell that will pop some items that have been serialized to a list of strings. (This list represents the lines of a text file -- one line is not necessarily one item)</p>

<p>The function is called with another function as a parameter. This function will pop a single item off, and return a tuple containing that item and the remainder of the text. The function is supposed to recursively perform this operation n times, each time adding the result a list. It returns this list along with the remainder of the text, to be used for further parsing.</p>

<pre><code>popN :: Integer -&gt; [String] -&gt; ([String]-&gt; (a, [String])) -&gt; ([a], [String])
popN n txt fun  | n == 0 = ([], txt)
                | n /= 0 = do
                    let (tp, newtxt) = fun txt
                    let newnum = n - 1
                    let (rest, after) = popN newnum newtxt fun
                    return (tp : rest, after)
</code></pre>

<p>When I attempt to compile this code, I get the following error:</p>

<pre><code>Couldn't match the expected type '[String]' with actual type '([a], [String])'
In the first argument  of 'return', namely '(tp : rest, after)'
</code></pre>

<p>The actual type, <code>([a], [String])</code> is the type I would expect. What I don't understand, however, is why <code>[String]</code> is the expected type. Could someone explain to me why GHC expects this function to return a <code>[String]</code>?</p>

<p>Thanks in advance for any help.</p>
","149392","","<p><code>return</code> takes a value of type <code>t</code> and produces a value of type <code>m t</code> where <code>m</code> is some monad. The result of your function is the result of applying <code>return</code> to an argument. So which type must that argument have if the result is to be of type <code>([a], String)</code>? Well, the only way that <code>return x</code> could produce a value of type <code>([a], String)</code> would be if <code>x</code> had type <code>[String]</code> and <code>m</code> was the type constructor <code>(,) [a]</code> (not taking into account, at that point, that presumably no such instance exists in the prelude). Therefore the type checker expects the argument to be a <code>[String]</code>.</p>
"
"<p>What is the difference between makefile and sh file.    sh(shell
   script file) file also can work at the place of makefile(means we can
   do same thing using shell file like makefile can do) then what is
   difference between them. there is any execution difference or any
   standard where we have to use makefile and sh file.</p>

<p><em><strong>one Example of this to compile a hello.c file with Makefile and shell file</em></strong></p>

<p>shell.sh</p>

<pre><code>param=""$1"";

CC=""gcc""

CFLAGS=""-c -Wall"";

if [ ""$param"" == ""clean"" ];

then

 rm -rf hello

else

$CC $CFLAGS hello.c -o hello

fi
</code></pre>

<ol>
<li><code>./shell.sh</code> { will build hello.c file }</li>
<li><code>./shell.sh clean</code> { this will clean the build file }</li>
</ol>

<p><strong>Same thing with Makefile..</strong></p>

<pre><code>CC=gcc

CFLAGS=-c -Wall

hello: hello.c
        $(CC) $(CFLAGS) hello.c -o hello

clean:
        rm -rf hello 
</code></pre>

<p><code>make</code>  {it will build}<br>
<code>make clean</code> {it will clean build file}</p>

<p>Both files can generate same output.
This question because some people use Makefile and some people use shell..</p>
","149392","","<p><code>make</code> automatically checks (based on time stamps) which targets need to be remade and which ones can be left untouched. If you write your own shell script, you'll either have to program this logic yourself or else all your components will be rebuilt when you run your script - even those that haven't changed since the last build.</p>
"
"<p>I lost 10% for the following decision (instantiating my que as an Object and not an Integer type) and I'm not sure why? Perhaps someone can see why?</p>

<p>Here I instantiated ""myQueue2"" as type Object.</p>

<pre><code>Queue&lt;Object&gt; myQueue2 = new LinkedQueue&lt;Object&gt;(); 
</code></pre>

<p>Next I enqueued and dequeued some integers</p>

<pre><code>try {
            myQueue2.enqueue(10);
            System.out.println(myQueue2);
            myQueue2.enqueue(5);
            System.out.println(myQueue2);
            myQueue2.dequeue();
int total = 0;
            while (!myQueue2.isEmpty()) {
                total +=  (int)myQueue2.dequeue();
            }
            System.out.println(""The Queue's remain elements added to: "" + total);
    } catch (QueueEmptyException ex) {
        System.out.println(""Stack Empty Error"");
    }
</code></pre>

<p>The problem according to my grader is that I should have should have instantiated my queue as an Integer type. At first they argued that it didn't compile because they weren't using Java 7 and this line is illegal before Java 7:</p>

<pre><code>total +=  (int)myQueue2.dequeue();
</code></pre>

<p>After I explained, they still said I should have instantiated the Queue as an Integer type.</p>

<p>However, my logic is that I can enqueue strings. characters and integers by instantiating it as an Object and then casting it as an (int) in this line: (it just works when I try i try it)
    total +=  (int)myQueue2.dequeue();</p>

<p>I thought my approach was more flexible,no?
Are their any pros and cons to my choice to use Object here,that I don't fully get?</p>
","149392","","<p>You can put in strings in the sense that it compiles, but you will get an exception at runtime when you put in anything other than an Integer and then cast it to int. So you've replaced a compile time error with a runtime error, which is bad.</p>
"
"<p>Hello I have been trying to do my homework in my Machine Organisation class. 
I had to write code</p>

<pre><code>/*    
 *   Examples: isNotEqual(5,5) = 0, isNotEqual(4,5) = 1
 *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;
 *   Max ops: 6
 *   Rating: 2
 */
</code></pre>

<p>after some thinking I realized to write code </p>

<pre><code>int isNotEqual(int x, int y) {
  return x^y;
}
</code></pre>

<p>but it didn't work. after some searching I found a code that was similar to mine, but had !! in front of x^y.</p>

<pre><code>int isNotEqual(int x, int y) {
  return !!(x^y);
}
</code></pre>

<p>After finding this code I tried it and it worked. So I tried the same thing but with ~~ in front, but it didn't work. As I understand ! means not only ""not "" but it also does something else. Which is why we did !! (not+not=yes) twice to get the same value, but a different answer.</p>

<p>Am I correct about !!?
What does ! exactly do?
What is the difference between ~ and !?
When is the appropriate time to use ~ and when is the appropriate time to use !?</p>
","149392","","<p><code>~</code> flips all the bits in a number. Flipping every bit twice, gives you back the same bits, so the number stays the same.</p>

<p><code>!</code> gives you zero when applied to a non-zero operand and one when applied to zero. So if the operand is one or zero, it will give you back the same operand. But when the operand is neither one nor zero, it will give you back one instead of the original number.</p>

<p>So <code>~~</code> always gives you the original number and <code>!!</code> gives you one or zero.</p>
"
"<pre><code>fun in_list (x : int, y : int list) =
if null y
then false
else if x=hd y then true
else in_list(x,tl y)
</code></pre>

<p>This is what my code currently looks like, it simply returns true if x appears in the the y list, false if not.  The issue is I want it to be able to input ""a"" and [""a"", ""b"", ""c""] as well, or even have x be a list, and y be a list of lists.  I am VERY new to ML (just started learning about it last week), and have searched for answers and cannot come up with anything.</p>
","149392","","<p>If you change the first line to</p>

<pre><code>fun in_list (x : ''a, y : ''a list) =
</code></pre>

<p>then it will behave as you want. Here <code>''a</code> is an equality type variable that can stand for any type that supports the <code>=</code> operator.</p>

<p>You could also just leave out the types altogether and the most general correct type will be inferred.</p>
"
"<p>Learner question. I can declare and initialize a pointer in two different way</p>

<pre><code>int a = 10;
int *p = &amp;a;
</code></pre>

<p>also</p>

<pre><code>int a = 10;
int *q;
q = &amp;a;
</code></pre>

<p>I want to know what is the difference between two and how does it work in the memory?</p>
","149392","","<p>Your two pieces of code are equivalent - there is no difference.</p>

<p>Generally for any type <code>T</code>, any variable name <code>x</code> and any expression <code>exp</code>, <code>T x = exp;</code> and <code>T x; x = exp;</code> are equivalent to each other.</p>
"
"<p>Since sets can only have unique values does this mean every time you add an element to a set it has to check whether it is equal to every element there and is hence O(n)?</p>

<p>Since this would make them much slower than arrayLists if this is the case, is the only time you should ever actually use them is when making sure your elements are all unique or is there any other advantage of them?</p>
","149392","","<p>You tagged this Java as well as C++, so I'll answer for both:</p>

<p>In C++ <code>std::set</code> is an ordered container, likely implemented as a tree. Regardless of implementation adding to a set and checking whether an element in a set are guaranteed to be O(log n). For <code>std::unordered_set</code>, which is new in C++11, those operations are O(1) (given a proper hashing function).</p>

<p>In Java <code>java.util.Set</code> is an interface that can have many different classes who implement them. The complexities of the operations are up to those classes. The most commonly used sets are <code>TreeSet</code> and <code>HashSet</code>. The operations on the former are O(log n) and for the latter they're O(1) (again, giving a proper hashing function).</p>
"
"<p>I have some generic questions.</p>

<ol>
<li><p>Are there pointers whose scope encompasses the whole program?</p></li>
<li><p>Are there programs that have out of bounds pointers which are used to access and manipulate out of bounds stuff? Any example?</p></li>
<li><p>Can bounds checking be applied on all pointer scopes without incurring false positives or program stalls? What are the disadvantages of bounds checking? Are there some programs where they cannot be applied?</p></li>
</ol>
","149392","","<ol>
<li><p>Pointers don't differ from other types of variables with regards to their scope: Global variables are in scope from where they are declared until the end of the compilation unit (except when they are shadowed by a local variable of the same name).</p>

<p>So if you store a pointer in a global variable that has a unique name and is declared at the beginning of the compilation unit, it will be in scope for the entire compilation unit.</p></li>
<li><p>Yes, buggy programs. An example of such a program would be this:</p>

<pre><code>int main(void) {
    int arr[] = {1,2,3};
    arr[23] = 42;
    return 0;
}
</code></pre></li>
<li><p>Yes, a given compiler+libc combo could perform bound checks on all uses of pointers at run time and such checks would not incur false positives. The disadvantage would be the performance cost of keeping track of the necessary metadata and actually applying the checks. They could be applied to every program, but if a program has strict performance requirement, those may no longer be met with the checks.</p></li>
</ol>
"
"<p>So, I'm having problems with my parser.y with a compiler that I'm building. The error is saying I don't have a member inside of a union or structure, which it is. Here is the error code I've received: </p>

<pre><code>parser.y:123: error: request for member ‘funcName’ in something not a structure or union
</code></pre>

<p>Then with the code that is inside my parser.y file:</p>

<pre><code>%union {
    int val;
    char *funcName;
}

%token &lt;funcName&gt; ID
</code></pre>

<p>And here is where I'm trying to use the union in my parser.y file:</p>

<pre><code>f_def: FUNCTION ID '(' arg_list ')' ':' type '{' stat_list '}' 
{create_function_info_item(&amp;headFunctionInfo, func_arg_list_count(), $2.funcName);}
</code></pre>
","149392","","<p>The tokens have the type of whichever union member you assigned to them with the <code>%token</code> declaration - not the union type itself. So <code>$2</code> has type <code>char*</code> and you don't need the <code>.funcName</code> - it already holds the value of the <code>funcName</code> member.</p>
"
"<p>I just noticed that a function, which is passed as an argument in C, is no more available in the main function for direct calling. the compilation of the code below produces the error </p>

<pre><code>""../main.c:22:8: error: called object ‘hello’ is not a function or function pointer""
</code></pre>

<p>Code:</p>

<pre><code>#include&lt;stdio.h&gt;

void hello(void)
{
    printf(""hello there\n"");
}

void main(hello)
{
    int y = 100;
    printf(""%i"",y);

    if (y==100)
        hello();
}
</code></pre>

<p>is it the case or I did something wrong?</p>

<p>EDIT: I changed the main call to - <code>void main(void hello (void))</code> Now there is no error in compilation but still the call to hello function after IF statement doesn't execute printf statement.</p>

<p>EDIT NO 2 : After reading many answer, I learnt that we can pass a pointer to a function as an argument to another function. passing whole function as argument is meaningless. Actually, this whole confusion arose out of the following opengl C code, which apparently ran successful in Eclipse IDE:</p>

<pre><code>#include &lt;GL/glut.h&gt;
#include&lt;GL/gl.h&gt;// Header File For The GLUT Library

void init(void)
{
    glClearColor (0.0,0.0,0.4,0.0);
    glShadeModel(GL_FLAT);
}

void reshape (int w, int h)
{
    glViewport(0,0, (GLsizei) w, (GLsizei)h);   // indicates the shape of the available screen area into which the scene is mapped
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glOrtho(-10,10,-10,10,-10,10);


}

void display (void)
{
    int i,j;

    while(1){
    for (i=-10; i &lt;=10; i++){
    glClearColor (0.0,0.0,0.0,0.0);
    glClear(GL_COLOR_BUFFER_BIT);
    glColor3f(0.0, 0.0, 1.0);
    glBegin(GL_TRIANGLES);
        glVertex3f(i,2,5);
        glVertex3f(6,-i,-5);
        glVertex3f(1,9,-1);
    glEnd();
    glFlush();}
    }
}

int main (int argc, char *argv[])
{
    glutInit(&amp;argc, argv);
    glutInitDisplayMode (GLUT_SINGLE | GLUT_RGB);
    glutInitWindowPosition(100,100);
    glutInitWindowSize(500,500);
    glutCreateWindow (argv[0]);
    init ();
    glutDisplayFunc(display);
    glutReshapeFunc(reshape);
    glutMainLoop ();
    return 0;
}
</code></pre>

<p>Here if you notice the call glutDisplayFunc(display) APPARENTLY passes the display function as an argument.How this is happening?</p>
","149392","","<p>The parameter <code>hello</code> shadows the global <code>hello</code>, so all appearances of <code>hello</code> within <code>main</code> refer to the parameter, not the function. And since the parameter is of type <code>int</code> (because you didn't specify a type and <code>int</code> is the default) and <code>int</code>s aren't functions (or function pointers), that's a type error.</p>
"
"<p>I have been going through a article(<a href=""http://comonad.com/reader/2012/abstracting-with-applicatives/"">http://comonad.com/reader/2012/abstracting-with-applicatives/</a>) and found the following snippet of code there:</p>

<pre><code>newtype Compose f g a = Compose (f (g a)) deriving Show

instance (Functor f, Functor g) =&gt; Functor (Compose f g) where
    fmap f (Compose x) = Compose $ (fmap . fmap) f x
</code></pre>

<p>How does actually <code>(fmap . fmap)</code> typechecks ?</p>

<p>Their types being:</p>

<pre><code>(.)  :: (a -&gt; b) -&gt; (r -&gt; a) -&gt; (r -&gt; b)
fmap :: (a -&gt; b) -&gt; f a -&gt; f b
fmap :: (a -&gt; b) -&gt; f a -&gt; f b
</code></pre>

<p>Now from here I can see in no way in which <code>fmap . fmap</code> will typecheck ?</p>
","149392","","<p>First let's change the type variables' names to be unique:</p>

<pre><code>(.)  :: (a -&gt; b) -&gt; (r -&gt; a) -&gt; (r -&gt; b)
fmap :: Functor f =&gt; (c -&gt; d) -&gt; f c -&gt; f d
fmap :: Functor g =&gt; (x -&gt; y) -&gt; g x -&gt; g y
</code></pre>

<p>Now the first parameter to <code>.</code> has type <code>a -&gt; b</code> and we supply an argument of type <code>(c -&gt; d) -&gt; (f c -&gt; f d)</code>, so <code>a</code> is <code>c -&gt; d</code> and <code>b</code> is <code>f c -&gt; f d</code>. So so far we have:</p>

<pre><code>(.) :: Functor f =&gt; -- Left operand
                    ((c -&gt; d) -&gt; (f c -&gt; f d)) -&gt;
                    -- Right operand
                    (r -&gt; (c -&gt; d)) -&gt;
                    -- Result
                    (r -&gt; (f c -&gt; f d))
</code></pre>

<p>The second parameter to <code>.</code> has type <code>r -&gt; a</code> a.k.a. <code>r -&gt; (c -&gt; d)</code> and the argument we give has type <code>(x -&gt; y) -&gt; (g x -&gt; g y)</code>, so <code>r</code> becomes <code>x -&gt; y</code>, <code>c</code> becomes <code>g x</code> and <code>d</code> becomes <code>g y</code>. So now we have:</p>

<pre><code>(.)       :: (Functor f, Functor g) =&gt; -- Left operand
                                       ((g x -&gt; g y) -&gt; (f (g x) -&gt; f (g y))) -&gt; 
                                       -- Right operand
                                       ((x -&gt; y) -&gt; (g x -&gt; g y)) -&gt;
                                       -- Result
                                       (x -&gt; y) -&gt; f (g x) -&gt; f (g y)
fmap.fmap :: (Functor f, Functor g) =&gt; (x -&gt; y) -&gt; f (g x) -&gt; f (g y)
</code></pre>
"
"<p>In Haskell, if I create a dataype like this:</p>

<pre><code>data MyT = MyT Int deriving (Show)
myValue = MyT 42
</code></pre>

<p>I can get the Int value passing 'myValue' to a function and doing pattern matching:</p>

<pre><code>getInt :: MyT -&gt; Int                                                  
getInt (MyT n) = n
</code></pre>

<p>It seems to me that something simpler should be possible. Is there another way?</p>

<p>Also, I tried a lambda function:</p>

<pre><code>(\(MyT n) -&gt; n) myValue
</code></pre>

<p>It doesn't work and I don't understand why not.
I get the error:</p>

<blockquote>
<pre><code>The function `\ (MyT n) -&gt; n' is applied to two arguments,
    but its type `MyT -&gt; Int' has only one
</code></pre>
</blockquote>

<p><strong>EDIT:</strong> 
Of course, sepp2k below, is right about my lambda function working OK. I was doing:</p>

<pre><code>(\(MyT n) -&gt; n) myT 42
</code></pre>

<p>instead of</p>

<pre><code>(\(MyT n) -&gt; n) (myT 42)
</code></pre>
","149392","","<p>If you want to get at the value of MyT inside a larger function without defining a helper function, you could either use <code>case of</code> or pattern matching in local variable definitions. Here are examples of that (assuming that <code>g</code> produces a <code>MyT</code> and <code>f</code> takes an <code>Int</code>):</p>

<p>Using <code>case</code>:</p>

<pre><code>myLargerFunction x = f (case g x of MyT n =&gt; n)
</code></pre>

<p>Or with local variables:</p>

<pre><code>myLargerFunction x = f myInt
  where MyT myInt = g x
</code></pre>

<p>Or using <code>let</code> instead of <code>where</code>:</p>

<pre><code>myLargerFunction x =
  let MyT myInt = g x in
  f myInt
</code></pre>

<p>Your lambda function should (and in fact does) also work fine. Your error message suggests that in your real code you're really doing something like <code>(\(MyT n) -&gt; n) myValue somethingElse</code> (presumably by accident).</p>
"
"<p>I have recently been learning and working with Python, and came across the following code, which I was told is a common shorthand for a ternary expression in Python:</p>

<pre><code>x = condition and expression1 or expression2
</code></pre>

<p>Now I'm familiar with the <code>? :</code> operators in C-like languages, and with Python's usual ternary expression <code>x = expression1 if condition else expression2</code>, but this new expression seemed a bit odd to me.</p>

<p>Part of my confusion is that it doesn't seem very readable, i.e. when I read that line it doesn't immediately make it clear what is happening, but the other part is that I don't quite understand why it works.</p>

<p>In summary: <strong>Why does the expression above function the same as a C-like ternary expression?</strong></p>
","149392","","<p>The <code>and</code> operator evaluates its right operand (<code>expression1</code>) if and only if the left operand is true. Likewise the <code>or</code> operator evaluates its right operand (<code>expression2</code>) if and only if its left operand is false.</p>

<p>So if <code>condition</code> is true, <code>expression1</code> gets evaluated. Assuming it evaluates to something truthy, the expression <code>condition and expression1</code> is going to be true and <code>expression2</code> will thus not be evaluated.</p>

<p>If <code>condition</code> is false, <code>expression1</code> does not get evaluated and <code>condition and expression1</code> is false. So <code>expression2</code> will be evaluated.</p>

<p>The only problem would be if <code>condition</code> is true, but <code>expression1</code> evaluates to something falsy. In that case both <code>expression1</code> and <code>expression2</code> would be evaluated. So this construct is broken when that's a possibility.</p>
"
"<p>Jane Street's Core lib has such a function: <code>Fn.const</code>.</p>

<p><a href=""https://github.com/janestreet/core_kernel/blob/master/lib/fn.ml"" rel=""nofollow"">https://github.com/janestreet/core_kernel/blob/master/lib/fn.ml</a></p>

<pre><code>let const c = (); fun _ -&gt; c
</code></pre>

<blockquote>
  <p>val const : 'a -> 'b -> 'a<br>
  produces a function that just returns its first argument</p>
</blockquote>

<p>I really don't understand it.</p>

<ol>
<li>What's the purpose of this function? In what scenario we have to use it?</li>
<li>Why put <code>();</code> first? </li>
<li>Why not write it as <code>let const c = fun () -&gt; c</code>? this will give a function taking <code>unit</code> as parameter and always returns initial <code>c</code>. </li>
<li>If I do <code>let f = const 5</code>, <code>f</code> will become a function which takes <code>'_a</code> as parameter. What's the purpose of returning a function with weak polymorphic parameter? </li>
</ol>

<hr>

<p>p.s. I see that several functions inside <code>Fn</code> module all have <code>();</code> before returning a function, what is the usage of <code>();</code>?</p>
","149392","","<blockquote>
  <p>What's the purpose of this function? In what scenario we have to use it?</p>
</blockquote>

<p>You'd use it in a context where a function taking an argument is required, but you don't actually care about the argument and just want to return the same value each time. A trivial example would be <code>List.map (const 42) xs</code>, which turns a list of n items into a list of n 42s.</p>

<p>A less silly (but more abstract) example would be a function that does something to produce a value, but under certain (say, in case the something did not succeed) conditions instead calls a user-supplied function to produce the value instead giving it some information about the situation as the argument. In some situations you might not case about the information and just return the same default value every time, so <code>const</code> would work here.</p>

<blockquote>
  <p>Why put (); first?</p>
</blockquote>

<p>In its internal representation, as well as the generated code, the OCaml compiler actually has multi-argument functions. If you define a function like <code>let f x y = ...</code> or <code>let f x = fun y -&gt; ...</code>, OCaml actually turns this into a 2-argument function (rather than a 1-argument function returning another function) internally. So when you then do <code>f 1 2</code> to call it, that's a simple call to a 2-argument function, which is much more efficient than the alternative. However if you just do <code>f x</code>, some extra code will be generated to create the closure. This is less efficient than returning the closure directly.</p>

<p>So this optimization improves the performance when you call a function with all its arguments, but is actually counter-productive when you don't. Adding the <code>()</code> in front disables the optimization (because the function no longer has the form <code>f x = fun y -&gt; ...</code>). Since <code>const</code> is meant to be called with just a single argument (directly calling <code>const x y</code> makes no sense as you could just as well write <code>x</code>), this improves the performance.</p>

<blockquote>
  <p>Why not write it as let const c = fun () -> c? this will give a function taking unit as parameter and always returns initial c. </p>
</blockquote>

<p>Because then the function would only work in a context where a function taking <code>unit</code> is expected, which would be the vast minority of cases. For example <code>List.map (const 42) xs</code> would now only work if <code>xs</code> is a list of units, which it's almost certainly not.</p>
"
"<p>In C++, we can do this(pseudo-code):</p>

<pre><code>class A {
    public:
    virtual void a(A a)=0;
    }

class B : A {
    public:
    virtual void a(B b);
}
</code></pre>

<p>But when I write the equivalent in C#:</p>

<pre><code>public abstract class A
{
public virtual void a(A a){}
}

public class B : A
{
public override void a(B b){}
}
</code></pre>

<p>the compiler gives an error that says B.a doesn't override A.a. Why doesn't C# allow this? It is very resonable to allow this practise because it obeys the principles of polymorphism.</p>
","149392","","<p>The C++ version of the code doesn't override the method either. But because C++ doesn't have an <code>override</code> keyword¹, you don't get an error for that because the compiler doesn't know you meant to override the method.</p>

<p>If you want the same behavior in C# as you get in C++, you can just remove the <code>override</code> keyword and replace it with <code>new</code>.</p>

<p>¹ It does in C++11, but I'm assuming you didn't use that or else you would have gotten an error.</p>

<blockquote>
  <p>It is very resonable to allow this practise because it obeys the principles of polymorphism.</p>
</blockquote>

<p>No, it doesn't. Consider this:</p>

<pre><code>A a = new B();
a.a(new A());
</code></pre>

<p>If <code>B.a</code> overrode <code>A.a</code>, the above code would call <code>B.a</code> with the argument <code>new A()</code>. But <code>B.b</code> takes an argument of type <code>B</code>, so that would not work.</p>
"
"<p>Let me state that I am very green in F# (but 4 years experience in C#). I wanted to start learning F# and I was following the TryFSharp.org tutorials. I came to the point of the <a href=""http://www.tryfsharp.org/Learn/advanced-programming#computation-expressions"" rel=""nofollow"">computation expressions</a> but things weren't exactly clear. So I started to google it. I came across <strong><a href=""http://fsharpforfunandprofit.com/posts/computation-expressions-intro/"" rel=""nofollow"">another tutorial / article</a></strong> which explained it a lot better in the first example (the logging example). But then I read on and came to the second example; I cannot follow the flow of the code or how it is supposed to work, perhaps because I don't understand the definition of the <code>State</code> type:</p>

<pre><code>type State&lt;'a, 's&gt; = State of ('s -&gt; 'a * 's)
</code></pre>

<p>I have worked with a few simple types in F# already, I have seen <code>struct</code>, <code>class</code>, <code>record</code> but I have no clue how to read this type or what it is supposed to do. I also can't figure out what the <code>of</code> keyword is doing in there. </p>

<p>So my question is: what does this type definition do / what does the <code>of</code> keyword in it do?</p>
","149392","","<p>The code defines a <a href=""http://msdn.microsoft.com/en-us/library/dd233226.aspx"" rel=""nofollow"">discriminated union</a> type named <code>State</code> whose only constructor is also named <code>State</code> and takes an argument of type <code>'s -&gt; 'a * 's</code>. The <code>of</code> keyword separated the constructor name from its argument type.</p>

<p>So basically it says that a <code>State</code> is a function of type <code>'s -&gt; 'a * 's</code>, but you need to use the <code>State</code> constructor to create a <code>State</code> and thus have to write <code>let myState = State someFunction</code> rather than <code>let myState = someFunction</code>.</p>
"
"<p>I understand that:</p>

<blockquote>
  <p>(==) :: Eq a => a -> a -> Bool</p>
</blockquote>

<p>An example of application may be (==) 2 2, which result is True.</p>

<p>and that:</p>

<blockquote>
  <p>uncurry (==) :: Eq b => (b, b) -> Bool.</p>
</blockquote>

<p>An example of application may be uncurry (==) (2, 2), which result is True.</p>

<p>But I don't understand and visualize an example why:</p>

<blockquote>
  <p>curry (==) :: (Eq a, Eq b) => a -> b -> (a, b) -> Bool</p>
</blockquote>

<p>Any help?</p>

<p>Thanks,<br>
Sebastián</p>
","149392","","<p><code>==</code> can be used on tuples, that is you can write <code>(a1, b1) == (a2, b2)</code>.</p>

<p>In that case the type of <code>==</code> is specialized to <code>(Eq a, Eq b) =&gt; (a, b) -&gt; (a,b) -&gt; Bool</code>.</p>

<p>If you now apply <code>curry</code> to that type, you get <code>(Eq a, Eq b) =&gt; a -&gt; b -&gt; (a, b) -&gt; Bool</code>.</p>
"
"<p>I'm an F# noob. I'm trying to create a function to format a results tuple, where the last element may or may not exist - since it's intended to hold any exceptions that might been caught during processing.</p>

<pre><code>let formatResults resultsTuple =
  match resultsTuple with
  |(name1, name2, diff, count, correlation, None) -&gt; (sprintf ""%A and %A with diff %A had %A pairs and showed a correlation coefficient of %A"" name1 name2 diff count correlation)
  |(name1, name2, diff, _, _, Some(ex)) -&gt; (sprintf ""Error: %A and %A with diff %A threw exception %A"" name1, name2, diff, ex) |&gt; sprintf ""%A""
</code></pre>

<p>See in the last line how I had to pipe the results of the first sprintf into the second sprintf? Basically, it tells me I've got a syntax error somewhere, and that the program isn't doing what I think it is. (Preliminary testing seems to be giving reasonable output, but it makes me nervous.)</p>

<p>Why does that compile, but this doesn't? It gives me the compile error ""This expression was expected to have type string but here has type 'a * 'b * 'c * 'd"".</p>

<pre><code>let formatResults resultsTuple =
  match resultsTuple with
  |(name1, name2, diff, count, correlation, None) -&gt; sprintf ""%A and %A with diff %A had %A pairs and showed a correlation coefficient of %A"" name1 name2 diff count correlation
  |(name1, name2, diff, _, _, Some(ex)) -&gt; sprintf ""Error: %A and %A with diff %A threw exception %A"" name1, name2, diff, ex
</code></pre>
","149392","","<pre><code>sprintf ""Error: %A and %A with diff %A threw exception %A"" name1, name2, diff, ex
</code></pre>

<p>You're creating a tuple that contains the function returned by <code>sprintf ""..."" name1</code> as its first element. The other elements of the tuple are <code>name2</code>, <code>diff</code> and <code>ex</code>. By passing that tuple to <code>sprintf ""%A""</code>, you're turning it into a string, making the types work. But of course that still won't make it do what you want.</p>

<p>To do what you want, get rid of the commas.</p>
"
"<pre><code>fun square(x:int) = x*x;

map (~, map (square, map (~, [1, 2, 3] )));
</code></pre>

<p>Would it just be the square of the three numbers (1, 4, 9)?
I tried running this on the SML of New Jersey but kept getting this error...</p>

<pre><code>- fun square(x:int) = x*x;
val square = fn : int -&gt; int
- map(~, map(square, map(~,[1,2,3])));
stdIn:3.11-3.35 Error: operator and operand don't agree [tycon mismatch]
  operator domain: 'Z -&gt; 'Y
  operand:         ('X -&gt; 'X) * int list
  in expression:
    map (~,1 :: 2 :: &lt;exp&gt; :: &lt;exp&gt;)
stdIn:3.4-3.36 Error: operator and operand don't agree [tycon mismatch]
  operator domain: 'Z -&gt; 'Y
  operand:         (int -&gt; int) * _
  in expression:
    map (square,map (~,&lt;exp&gt; :: &lt;exp&gt;))
stdIn:3.1-3.36 Error: operator and operand don't agree [tycon mismatch]
  operator domain: 'Z -&gt; 'Y
  operand:         ('X -&gt; 'X) * _
  in expression:
    map (~,map (square,map &lt;exp&gt;))
-
</code></pre>
","149392","","<p>As you found yourself, the only thing that this code will print is an error message. The reason for this is that <code>map</code> is a curried function and does not take its arguments in tuple form.</p>

<p>To fix this, you need to call <code>map</code> as a curried function (i.e. <code>map f xs</code> rather than <code>map (f, xs)</code>).</p>
"
"<p>For this function : </p>

<pre><code>plus1 = (+) 1
</code></pre>

<p>I can use : </p>

<pre><code>Prelude&gt; plus1 3
4
</code></pre>

<p>The type of plus1 is </p>

<pre><code>plus1 :: Integer -&gt; Integer
</code></pre>

<p>How is function parameter Integer being allowed here ? In my function definition where is the Integer function parameter defined ?</p>

<p>I'm not sure what I expect to happen but coming from Java all parameters need to be defined as part of the method but there seems to be something going on behind the scenes here ?</p>
","149392","","<p>(If we ignore the <code>Num</code> typeclass for a moment and pretend that + works on <code>Integer</code>s only for simplicity's sake,) <code>(+)</code> is a function of type <code>Integer -&gt; (Integer -&gt; Integer)</code> (the parentheses aren't necessary because <code>-&gt;</code> is right-associative, but I've added them for clarity). That means it takes an argument of type <code>Integer</code> and produces a function of type <code>Integer -&gt; Integer</code> as its result.</p>

<p>So when you apply <code>(+)</code> to the Integer <code>1</code>, you do indeed get a function of that type as the result. Since <code>add1</code> holds that result, it is thus a function of type <code>Integer -&gt; Integer</code> and that's why you can apply it as <code>plus1 3</code>.</p>
"
"<p>I've written an extremely simple function to give me a list for all the integers between two bounds.</p>

<p>However, rather than outputing a list, it seems to be giving me data strucuture made of nested mcons cells. </p>

<p>What on earth did I do wrong?</p>

<pre><code>#lang racket

(require rnrs/base-6)

(define (enumerate low high)
        (if  (&gt; low high)
                '()
                (cons low
                    (enumerate (+ low 1) high))))

(enumerate 1 10)
;(mcons 1 (mcons 2 (mcons 3 (mcons 4 (mcons 5 (mcons 6 (mcons 7 (mcons 8 (mcons 9 (mcons 10))))))))))
</code></pre>
","149392","","<p>Because the <code>cons</code> defined in <code>rnrs/base-6</code> is equivalent to racket's <code>mcons</code> and creates a value of that type (because Scheme lists are mutable and Racket lists aren't).</p>
"
"<p>I'm developing a compiler called <code>medly</code>, I'm working with ply, a tool which works like <code>lex &amp; yacc</code>, but I'm having some problems with the syntax.   </p>

<p>This is the lexer:  </p>

<pre><code># ------------------------------------------------------------
# Lexico.py
# ------------------------------------------------------------
import ply.lex as lex
reserved = {
    'medly' : 'MEDLY',
    'main' : 'MAIN',
    'print' : 'PRINT',
    'if' : 'IF',
#   'else' : 'ELSE',
#   'int' : 'INT',
#   'float' : 'FLOAT',
#   'var' : 'VAR',
    'play' : 'PLAY',
    'repeat' : 'REPEAT',
    'swap' : 'SWAP',
    'aug' : 'AUG',
#   'true' : 'TRUE',
#   'false' : 'FALSE',
    'wind' : 'WIND',
    'lira' : 'LIRA',
    'key' : 'KEY',
    'type' : 'TYPE',
    'len' : 'LEN',
    'random' : 'RANDOM',
    'chorus' : 'CHORUS',
    'while' : 'WHILE',
}
# List of token names.   This is always required
tokens = [
    'LPAR',
    'RPAR',
    'LCOR',
    'RCOR',
    'LLLAVE',
    'RLLAVE', 
    'PLUS',
    'MINUS',
    'TIMES',
    'DIV',
    'MENOR',
    'MAYOR',
#   'DIF',
    'EQ',
    'COMA',
#   'PTO',
    'DP',
    'PYC',
    'CTENOTA',
    'CTEI',
    'CTESTRING',
    'ID',
    'TUNE',
    'MAYOREQ',
    'MENOREQ',
    'EQS',

] + list(reserved.values())     


# Regular expression rules for simple tokens
t_LPAR      = r'\('
t_RPAR      = r'\)'
t_LCOR      = r'\['
t_RCOR      = r'\]'
t_LLLAVE    = r'\{'
t_RLLAVE    = r'\}'
t_PLUS      = r'\+'
t_MINUS     = r'\-'
t_TIMES     = r'\*'
t_DIV       = r'/'
t_MENOR     = r'\&lt;'
t_MAYOR     = r'\&gt;'
#t_DIF      = r'\!'
t_EQ        = r'\='
t_COMA      = r'\,'
#t_PTO      = r'\.'
t_DP        = r'\:'
t_PYC       = r'\;'
t_TUNE      = r'\^'
t_MAYOREQ   = r'\&gt;='
t_MENOREQ   = r'\&lt;='
t_EQS       = r'\=='

# A regular expression rule with some action code

def t_CTENOTA(t):
    r'[0-9][A-G][0-5]|[$]'
    t.type = reserved.get(t.value, 'CTENOTA')
    return t

def t_CTEI(t):
    r'\d+'
    try:
        t.value = int(t.value)    
    except ValueError:
        print ""Linea %d: El numero %s esta muy grande!!"" % (t.lineno,t.value)
        t.value = 0
    return t


def t_ID(t):
    r'_[a-zA-Z_][a-zA-Z0-9_]*'
    t.type = reserved.get(t.value,'ID')
    return t   

def t_CTESTRING(t):
  r'[a-zA-Z0-9_.]+'
  t.type = reserved.get(t.value, 'CTESTRING')
  return t

# Define a rule so we can track line numbers
def t_newline(t):
    r'\n+'
    t.lexer.lineno += len(t.value)

# A string containing ignored characters (spaces and tabs)
t_ignore  = ' \t'

# Error handling rule
def t_error(t):
    print ""Illegal character '%s'"" % t.value[0]
    t.lexer.skip(1)

import ply.lex as lex
lexer = lex.lex()
lexer.input('medly')
while True:
    tok = lexer.token()
    if not tok: break
    print tok
</code></pre>

<p>This is the parser:  </p>

<pre><code># Yacc example
#from compiler import ast
import ply.yacc as yacc
import decimal
from compiler import ast

# Get the token map from the lexer.  This is required.
from Lexico import tokens

# Helper function
def Assign(left, right):
    names = []
    if isinstance(left, ast.Name):
        # Single assignment on left
        return ast.Assign([ast.AssName(left.name, 'OP_ASSIGN')], right)
    elif isinstance(left, ast.Tuple):
        # List of things - make sure they are Name nodes
        names = []
        for child in left.getChildren():
            if not isinstance(child, ast.Name):
                raise SyntaxError(""that assignment not supported"")
            names.append(child.name)
        ass_list = [ast.AssName(name, 'OP_ASSIGN') for name in names]
        return ast.Assign([ast.AssTuple(ass_list)], right)
    else:
        raise SyntaxError(""Can't do that yet"")



def p_programa(p):
    '''programa : MEDLY DP chorus solo
                | MEDLY DP solo'''
    if len(p) == 5:
        p[0] = p[3] + p[4]
    if len(p) == 4:
        p[0] = p[3]

def p_solo(p):
    '''solo : MAIN ID notas'''
    p[0] = p[3]  


def p_chorus(p): 
    'chorus : CHORUS ID param LLLAVE notas RLLAVE'
    p[0] = ast.Function(None, p[2], tuple(p[3]), (), 0, None, p[5])

def p_param(p):
    '''param : LPAR  RPAR
             | LPAR n2 RPAR'''
    if len(p) == 3:
        p[0] = []
    else:
        p[0] = p[2]

def p_n2(p):
    ''' n2 : CTENOTA
           | n2 COMA CTENOTA '''
    if len(p) == 4:
        p[0] = p[1] + p[3]
    else:
        p[0] =[p[1]]

def p_notas(p):
    '''notas : notas estatuto
             | estatuto'''
    if len(p) == 3:
        p[0] = ast.Stmt(p[2])
    else:
        p[0] = ast.Stmt(p[1])

def p_if(p):
    'if : IF condicion DP notas'
    p[0] = ast.If([(p[2], p[4])], None)

def p_asignacion(p):
    '''asignacion : ID EQ lista PYC
                  | ID EQ music PYC '''
    p[0] = p[3]

def p_lista(p):
    'lista : LCOR n2 RCOR'
    p[0] = p[2]

def p_estatuto(p):
    '''estatuto : asignacion
                | condicion
                | play
                | repeat
                | augment
                | swap
                | tune '''
    p[0] = p[1]

def p_while(p):
    'while : WHILE LPAR expresion RPAR notas'
    p[0] = ast.While(p[4], p[6], None)

def p_len(p):
    'len : LEN LPAR music RPAR PYC'
    p[0] = p[3]

def p_print(p):
    '''print : PRINT LPAR DP CTESTRING RPAR PYC
             | PRINT LPAR music2 RPAR PYC '''
    if len(p) == 6:
        p[0] = p[3]

def p_music2(p):
    '''music2 : music3
              | music3 COMA music2 '''
    if len(p) == 3:
        p[0] = p[1] + p[3]
    else:
        p[0] = p[1]

def p_music3(p):
    'music3 : music'
    p[0] = p[1]

def p_condicion(p):
    ""condicion : comparacion""
    p[0] = p[1]

def comparaMenor((left, right)):
    return ast.Compare(left, [('&lt;', right),])
def comparaMayor((left, right)):
    return ast.Compare(left, [('&gt;', right),])
def comparaIgual((left, right)):
    return ast.Compare(left, [('==', right),])  

binary_ops = {
    ""+"": ast.Add,
    ""-"": ast.Sub,
    ""*"": ast.Mul,
    ""/"": ast.Div,
    ""&lt;"": comparaMenor,
    ""&gt;"": comparaMayor,
    ""=="": comparaIgual,
}
unary_ops = {
    ""+"": ast.UnaryAdd,
    ""-"": ast.UnarySub,
    }
precedence = (
    (""left"", ""EQ"", ""MAYOR"", ""MENOR""),
    (""left"", ""PLUS"", ""MINUS""),
    (""left"", ""TIMES"", ""DIV""),
    )


def p_comparacion(p):
    """"""comparacion : comparacion PLUS comparacion
                   | comparacion MINUS comparacion
                   | comparacion TIMES comparacion
                   | comparacion DIV comparacion
                   | comparacion MENOR comparacion
                   | comparacion EQ comparacion
                   | comparacion MAYOR comparacion
                   | PLUS comparacion
                   | MINUS comparacion
                   | CTEI""""""

    if len(p) == 4:
        p[0] = binary_ops[p[2]]((p[1], p[3]))

    elif len(p) == 3:
        p[0] = unary_ops[p[1]](p[2])
    else:
        p[0] = p[1] 



def p_tune(p):
    '''tune : music TUNE CTENOTA PYC'''
    p[0] = p[1]

def p_swap(p):
    'swap : SWAP LPAR music COMA CTENOTA DIV CTENOTA RPAR PYC'
    p[0] = p[3]

def p_expresion(p):
    '''expresion : music MENOR music
                 | music MAYOR music
                 | music EQ music 
                 | music MAYOREQ music
                 | music MENOREQ music
                 | music EQS music'''
    p[0] = p[1] + p[3]  

def p_music(p):
    '''music : lista
             | ID
             | CTENOTA
             | CTEI '''
    p[0] = p[1]

def p_repeat(p):
    'repeat : REPEAT LPAR music2 DP CTEI DP TYPE LPAR PYC '
    p[0] = p[3] 


def p_play(p):
    '''play : PLAY LPAR music2 DP LIRA LPAR PYC 
            | PLAY LPAR music2 DP KEY LPAR PYC
            | PLAY LPAR music2 DP WIND LPAR PYC'''
    p[0] = p[3]

def p_random(p):
    'random : RANDOM LPAR CTEI RPAR PYC'

def p_augument(p):
    'augment : AUG LPAR music RPAR CTENOTA COMA CTEI TIMES CTEI RPAR PYC'
    p[0] = p[3]

def p_error(p):
    print ""Syntax error in input!""

# Build the parser
parser = yacc.yacc()

while True:

    try:
        s = raw_input('medly &gt; ')
    except EOFError:
        break
    if not s: continue
    result = parser.parse(s)
</code></pre>

<p>My question is:</p>

<p>Does the comment section on the definition on the parser matter? </p>

<pre><code>def p_param(p):   

    '''param : LPAR  RPAR                       &lt;------ this part
         | LPAR n2 RPAR'''
    if len(p) == 3:
        p[0] = []
    else:
        p[0] = p[2]
</code></pre>
","149392","","<p>It has already been said in the comments, but just so that the question has a proper answer:</p>

<p>Yes, the docstrings matter. Ply reads and parses the docstrings to get at the grammar rules (or regular expressions in case of the tokens that are defined as functions), which it needs to build the parser.</p>

<p>See also the <a href=""http://www.dabeaz.com/ply/ply.html#ply_nn23"" rel=""nofollow"">documentation</a>, especially this part:</p>

<blockquote>
  <p>each grammar rule is defined by a Python function where the docstring to that function contains the appropriate context-free grammar specification.</p>
</blockquote>
"
"<p>i am using compileonline to compile scheme scripts, here i have some super easy script that reports and invalid application error. Could You tell me what is wrong? </p>

<pre><code>(define (nazwa a) (
(cond 
((= a 0) 2.0)
((= a 1) 5.0)
);cond
);nazwa

);define

(display (nazwa 0))
</code></pre>

<p>Full error code: gosh: ""error"": invalid application: (2.0).</p>
","149392","","<p>You wrapped the <code>cond</code> expression in an extra pair of parentheses, which Scheme takes as a function application. So it takes the result of the <code>cond</code> (2.0 in this case) and tries to apply it as a function, which obviously does not work.</p>

<p>To be clear: the syntax of defining a function is <code>(define (function-name parameters) expressions)</code> - there are no extra parentheses around the function body.</p>
"
"<p>I'm playing around with Haskell since I'm learning the language, and I just found something I don't understand and I can't find an explanation. If I try to run this code:</p>

<pre><code>map (`div` 0) [1,2,3,4]
</code></pre>

<p>I get a divide by 0 exception, which is expected.
But if I run this code:</p>

<pre><code>length (map (`div` 0) [1,2,3,4])
</code></pre>

<p>I get 4! </p>

<p>I'd like to know why I don't get the divide by 0 exception when I do the mapping inside the length function!</p>
","149392","","<p>If you type the <code>map</code> expression into the interpreter, it will evaluate it and then print the resulting list. In order to do that all elements of the resulting list need to be evaluated because they will be part of the string that is displayed.</p>

<p>However when the interpreter evaluates the <code>length</code> expression, it only needs to look at the structure of the resulting list. It does not have to look at the actual elements inside the list. So since Haskell, being a lazy language, only evaluates what it has to, that means that the elements will not be evaluated and thus no exception is thrown.</p>
"
"<p>Apologies if I am using the wrong name for things. My question comes from contrasting Scala and Haskell syntax. Consider:</p>

<pre><code>class Monoid a where
  mempty :: a
  mappend :: a -&gt; a -&gt; a

instance Monoid Int where 
  mempty = 0
  mappend a b = a + b

sigma :: (Monoid a) =&gt; Int -&gt; Int -&gt; (Int -&gt; Int) -&gt; (Int -&gt; a) -&gt; a
sigma a b inc comp =
  if a &gt; b then mempty else mappend (comp a) (sigma (inc a) b inc comp)
</code></pre>

<p>In Scala it would probably be something like:</p>

<pre><code>trait Monoid[A] {
  def mempty: A
  def mappend(a1: A, a2: A): A
}

class IntMonoid extends Monoid[Int] {
  def mempty = 0
  def mappend(a: Int, b: Int) = a + b
}

def sigma[A](a: Int, b: Int, inc: Int =&gt; Int, comp: Int =&gt; a)
            (implicit m: Monoid[A]): A =
  if (a &gt; b) m.mempty else m.append(comp(a), sigma(inc(a), b, inc, comp))
</code></pre>

<p>Now, Int can be a Monoid with 0 and addition, but also with 1 and multiplication, so we can provide 2 type classes, one for each implementation. In Scala, if both implementations are implicit within the scope and have the same priority, this will cause a compile error. We can simple manually pass the correct instance in this case, and the error will be resolved.</p>

<p>What is the Haskell equivalent for this situation? If there are two instances of Int being Monoid, how can one choose which implementation to use?</p>
","149392","","<p>You can't have two instances for the same type and typeclass within a module in Haskell. If you have two instances in two different modules and then import both of those modules, trying to use the instance will cause a compilation error.</p>

<p>So the only way to select which instance to use, would be to only import only import one module that provides the instance.</p>
"
"<p>I'm running the following expression to get the delta between 2 collections based on the <code>Id</code> and also make sure the overall result includes only 'Active/Enabled' records:</p>

<pre><code>//Returns the right records but all IsEnabled = false
var newRecords = allRecordsFromA.Where(a =&gt; !(allRecordsFromB.Any(b =&gt; ((b.Id == a.Id) &amp;&amp; a.IsEnabled)))).ToList();
</code></pre>

<p>The above result returns all the right records in <code>A</code> that are not in <code>B</code>, <em>but</em> all of the records are marked <code>IsEnabled = false</code>. The really confusing part is I use the <em>exact</em> same expression on 2 other collections in another part of the application and it <strong>works</strong>. I get back all the proper records and they are all marked as <code>.IsEnabled == true</code> That makes no sense to me. I even copied over and it doesn't work.</p>

<p>However, if I change to a 2 step process I get the results I desire:</p>

<pre><code>//Works
var newRecords = allRecordsFromA.Where(a =&gt; !(allRecordsFromB.Any(b =&gt; (b.Id == a.Id)))).ToList();
var results = newRecords.Where(x =&gt; x.IsEnabled).ToList();
</code></pre>

<p>I was thinking the order of operations in the 1st expression is wrong returning the records with the <code>!</code> being applied to <code>IsEnabled</code> but I don't see it. What is incorrect in my 1st expression that is returning records with <code>IsEnabled == false</code>?</p>
","149392","","<p>The check whether a is enabled is inside the <code>Any</code>, which is Negated. So if both the conditions <code>b.Id == a.Id</code> (for some <code>b</code> in <code>allRecordsFromB</code>) and <code>a.IsEnabled</code> are true, the element will <em>not</em> be part of the result. If one of the two is false, it will be part of the result.</p>

<p>So since that is the opposite of what you want, you should move the <code>IsEnabled</code> check outside of the <code>Any.</code></p>
"
"<p>I'm trying to find if one set is a subset of the other.  My code works perfectly if both sets are the same length.</p>

<p>For example,</p>

<p>My code will return true if</p>

<p>x = [a;b;c]
y = [a;b;c]</p>

<p>My code will return false if</p>

<p>x = [a;b;c]
y = [a;b;d]</p>

<p>However, my code will not even compile if I try</p>

<p>x = ['a';'b';'c']
y = ['a';'b';'c';'d']</p>

<p>It's supposed to return true, but I get the following error message:</p>

<pre><code>Type mismatch. 
Expecting a Set&lt;char * char * char&gt; but given a Set&lt;char * char * char * char&gt; 

The tuples have differing lengths of 3 and 4
</code></pre>

<p>My code is below</p>

<pre><code>let mySubList x y =
printfn ""%A is a proper subset of %A: %b"" x y (Set.isSubset x y)

let x = Set.empty.Add('a','b','c')
let y = Set.empty.Add('a','b','c', 'd')
let z = Set.empty.Add('a','x','a','y','c','e')

let found = mySubList x y
</code></pre>
","149392","","<p>All your sets contain the same number of elements: they all contain exactly one element. However they contain elements of different types, which is why you can't compare. Namely <code>x</code> contains a 3-tuple (<code>char * char * char</code>), <code>y</code> contains a 4-tuple and <code>z</code> contains a 5 tuple.</p>

<p>The important thing to note here is that <code>Add('a', 'b', 'c')</code> doesn't call <code>Add</code> with multiple arguments - it calls it with one argument, which is a tuple. This will add a single tuple element to the set. To add multiple elements, use <code>Add</code> multiple times or just use the <code>set</code> on a list (i.e. <code>set ['a'; 'b'; 'c']</code>) instead of <code>Add</code> to avoid multiple function calls.</p>
"
"<p>So, I'm studying Compiler Construction and stucked in this grammar </p>

<p>E->TE'
E->+TE'
and so on....
 My question is What does the E' means actually ?</p>
","149392","","<p>The <code>'</code> does not have any inherent meaning - it's just part of the name. That is <code>E'</code> is simply a rule named <code>E'</code>.</p>

<p>The usual reason you'd name the rule <code>E'</code> instead of just picking a new letter like <code>F</code> would be to express that <code>E</code> and <code>E'</code> are related somehow.</p>
"
"<p>I have the following program: </p>

<pre><code>#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
int main(int argc, char *argv[]){
    char* number1[100] = {argv[1]};
    char* a;
    char* separate = ""/ \n"";
    int alpha, beta, gamma, delta;
    int i;
    a = strtok(number1, separate);
    printf(""%s"",a); 
}
</code></pre>

<p>When I compile it, it keeps giving me a warning saying that: <strong>""'char * ' differs in level of indirection from 'int'""</strong> but all I am using so far are char*. </p>

<p>The full error message is as follows:</p>

<pre><code>a.c: In function 'main':
a.c:9:7: warning: assignment makes pointer from integer without a cast [enabled by default]
</code></pre>

<p>(line 9: <code>a = strtok(number1, separate);</code>)</p>

<p>Can anyone tell me why is this happening and how to fix it?</p>
","149392","","<p>You did not include <code>string.h</code>, so the <code>strtok</code> function is not declared. In old versions of the C language it is allowed to use a function that is not declared (though gcc should produce a(n additional) warning about this - at least with <code>-Wall</code>), in which case the return type of the function is assumed to be <code>int</code>. So the compiler thinks that <code>strtok</code> returns an int and consequently warns you that you're trying to assign that int to a pointer.</p>

<p>To fix this, simply add the missing include.</p>

<p>Once you have fixed this, the compiler will complain <code>number1</code> has the wrong type to be used with <code>strtok</code> (it's an array of pointers rather than a pointer), but that's a different issue.</p>
"
"<p>Consider the following code snippets:</p>

<pre><code>#include &lt;stdio.h&gt;

int a=5;

int main ()
{
    extern int a;
    printf(""%d\n"",a); //5
}

//---------//

#include &lt;stdio.h&gt;

int a=5;

int main ()
{
    static int a;
    printf(""%d\n"",a); //0
}

//---------//

#include &lt;stdio.h&gt;

int a=5;

int main ()
{
    int a;
    printf(""%d\n"",a); //12497123435
}
</code></pre>

<p>I don't understand why 5 displayed when <code>a</code> declared with <code>extern</code> specifier? When we declare <code>a</code> with <code>static</code> modifier then <code>a</code> has <code>linkage</code> and <code>a</code> can be denoted an entity from another scope.</p>
","149392","","<p>When you write <code>extern int a;</code>, you're declaring a variable named <code>a</code> with extern linkage, but you do not define it. Instead a definition must exist elsewhere - usually in a different translation unit. In this case the definition of <code>a</code> is in the same translation unit and the declaration is completely redundant because <code>a</code> is already visible. That said a redundant declaration is not an error, so it behaves the same way as if the declaration did not exist at all. If the definition were in a different translation unit, you'd need the declaration, so the compiler knows that the variable exists at all. In either case the extern declaration does not introduce a new variable and <code>a</code> simply refers to the global variable.</p>

<p><code>static int a</code> and <code>int a</code> however are definitions and introduce a new variable named <code>a</code>, so the value of the global variable <code>a</code> is no longer relevant.</p>

<p>The difference between <code>static int a</code> and <code>int a</code> is that they have different storage. <code>int a</code> has automatic storage and using an uninitialized variable with automatic storage invokes undefined behavior, which is why you get a ""random"" value in your case. Variables with static or extern linkage on the other hand are automatically initialized to 0, so that's why you get 0 for your static variable.</p>
"
"<p>I'm trying to understand why we have to use <strong><em>new</em></strong> operator in C++. I have wrote short program:</p>

<pre><code>int N;
std::cin &gt;&gt; N;
int tab[N];

for (int i = 0; i &lt; N; i++)
 tab[i] = i + 1;

for (int i = 0; i &lt; N; i++)
 std::cout &lt;&lt; ""tab["" &lt;&lt; i &lt;&lt; ""] = "" &lt;&lt; tab[i] &lt;&lt; std::endl;
</code></pre>

<p>This program works correctly. The same behavior I have noticed in C using this algorithm (instead of malloc() function). </p>
","149392","","<p>Your example is not valid C++ code. If it compiles with your compiler, that must be because your compiler supports variable-length arrays as an extension to the language. If you compile in standard-compliant mode, you should get an error. So you need <code>new[]</code> to create arrays of variable size when you want to write standard compliant code.</p>

<p>You also need it if you want the array to live longer than the lifetime of the current function or if you don't want its size to be limited by the available stack space.</p>
"
"<p>I would like to iterate over a vector of struct pointers and do some work on each one. I have been trying to work with the following code after researching this problem using google and this site, but have had no luck getting the code to compile. </p>

<p>The loop I am using is as follows, I have tried two types</p>

<pre><code>for (auto &amp; i : Mg_Server::servers)
{
    printf(""%s\n"", i-&gt;server_ctx-&gt;ns_server-&gt;server_data);
}

/*
for (vector&lt;Mg_Server::mg_instance *&gt;::size_type i = 0; i != Mg_Server::servers.size; ++i)
{
    printf(""%s\n"", Mg_Server::servers[i]-&gt;server_ctx-&gt;ns_server-&gt;server_data);
}*/
</code></pre>

<p>My vector is declared as static in the header file as</p>

<pre><code>class Mg_Server {

public:
    Mg_Server(){}
    ~Mg_Server(){}

   // functions

private:

    struct mg_instance{
        struct mg_server * server_ctx;
        bool running;
    };

    // stuff

    static vector&lt;mg_instance *&gt; servers;

};
</code></pre>

<p>and I have instantiated the vector in the cpp file using</p>

<pre><code>vector&lt;Mg_Server::mg_instance *&gt; Mg_Server::servers;
</code></pre>

<p>I am compiling this code on CentOS 5.8 using </p>

<pre><code>g++44 -Wall -c -std=c++0x ""some include directories"" -g -D LINUX -m64 -ansi src/mg_server.cpp
</code></pre>

<p>and I am getting the following errors. Line 58 is where an if statement starts after the for loop.  </p>

<pre><code>src/mg_server.cpp:47: warning: ‘auto’ will change meaning in C++0x; please remove it
src/mg_server.cpp:47: error: expected initializer before ‘:’ token
src/mg_server.cpp:58: error: expected primary-expression before ‘if’
src/mg_server.cpp:58: error: expected ‘;’ before ‘if’
src/mg_server.cpp:58: error: expected primary-expression before ‘if’
src/mg_server.cpp:58: error: expected ‘)’ before ‘if’
</code></pre>

<p>How should I be iterating over a vector in C++0x?</p>
","149392","","<pre><code>g++44 -Wall -c -std=c++0x ""some include directories"" -g -D LINUX -m64 -ansi src/mg_server.cpp
</code></pre>

<p><code>-ansi</code> overrides <code>-std=...</code>. Remove it.</p>
"
"<p>I am learning compiler and got a bit confused about all those terms/areas about language/compiler. </p>

<p>So here I share my understanding of the relationships between them and hope someone can approve or correct my thought.</p>

<hr>

<p>It is quite hard for developer to make applications by writing machine code directly, so we need a high level <code>language</code>. And the program we normally write thus become a set of <code>texts</code>.</p>

<p>A language uses <code>regular expressions</code> to define the syntax, i.e., whether all texts in the text program are good or not.</p>

<p>The task of the <code>compiler</code> is to translate those <code>texts</code> to machine code following the rule of the language definition.</p>

<p>The first two steps of a <code>compiler</code> are <em>lexical analysis</em> and <em>parse</em>.</p>

<p>The <code>lexical</code> analysis convert the regular expressions to a <em>NFA / DFA</em>, and work through the program texts, and validate them and convert them to tokens. </p>

<p>The <code>parsing</code> deal with those tokens and check their <em>semantics</em>.</p>

<hr>

<p>Am I right about all above?</p>

<p>Another question is that so a definition of a language is regular expression and we use <code>parsing</code> part to validate the program's grammar?</p>
","149392","","<blockquote>
  <p>And the program we normally write thus become a set of texts.</p>
</blockquote>

<p>The word ""text"" isn't really a common term in compiler construction (or at least not one I heard before). Often a program first is translated into a sequence of <em>tokens</em> (which are basically the ""words""¹ of the language) and then that sequence is translated into a syntax tree. That tree may then be further transformed and will finally be translated into a sequence of machine instructions, which make up the compiled program.</p>

<blockquote>
  <p>A language uses regular expressions to define the syntax, i.e., whether all texts in the text program are good or not.</p>
</blockquote>

<p>The syntax of a language describes which <em>programs</em> are structurally valid or not (not taking into account type errors and runtime errors, which are handled separately). You can not do that using regular expressions as the vast majority of languages are not regular, that is they're more complicated than what a regular expression can describe. For example you can't say ""for every opening parenthesis there must be a closing parenthesis"" using a regular expression.</p>

<p>Regular expressions are often used to describe the tokens of a language. That is you can say ""identifiers in the language match the regex <code>[a-zA-Z_][a-zA-Z0-9_]*</code> and numbers match the regex <code>[0-9]+</code>"".</p>

<p>How those tokens fit together to form a complete program is then described in a grammar.</p>

<blockquote>
  <p>The first two steps of a compiler are lexical analysis and parse.</p>
</blockquote>

<p>Usually, yes.</p>

<blockquote>
  <p>The lexical analysis convert the regular expressions to a NFA / DFA, and work through the program texts, and validate them and convert them to tokens. </p>
</blockquote>

<p>If you use a lexer generator, then the generator will take a bunch of regular expressions you gave to it and convert those to automata and will then produce code based on those. That generated code is the lexer, which will take the program source and produce a sequence of tokens.</p>

<p>Note that the conversions between regular expressions and automata happens when the generator runs, not as part of your compiler. And if you write the lexer by hand, no conversion between regular expressions and automata will happen at all (except possibly in your head).</p>

<blockquote>
  <p>The parsing deal with those tokens and check their semantics.</p>
</blockquote>

<p>No. The parsing phase takes the tokens and makes sure that they conform to the <em>syntax</em> of the language. If they do, it will perform actions based on the syntactic structure of the language. Often that means building a syntax tree. For simple languages it is also possible to do semantic analyses (like type checking) and code generating directly in the parser.</p>

<p>If you do build a syntax tree, consequent phases will then go over that tree and that's where the language's semantics come into play.</p>

<blockquote>
  <p>Another question is that so a definition of a language is regular expression and we use parsing part to validate the program's grammar?</p>
</blockquote>

<p>The definition of a language's <em>syntax</em> is generally given as a grammar, not a regular expression. As I said regular expressions aren't expressive enough for that. We do use parsing to validate that a given program conforms to the language's grammar (as well as to determine the syntactic structure of the program).</p>

<p>The definition of a language consists of the definition of the language's syntax and the definition of its semantics. The latter is often given in text form.</p>

<p>¹ Here I'm using the colloquial meaning of the word ""word"", not its language-theoretic meaning.</p>
"
"<p>While I was framing the Title question I saw this <a href=""http://stackoverflow.com/questions/23642105/attributeerror-list-object-has-no-attribute-trackprogress"">AttributeError: &#39;list&#39; object has no attribute &#39;TrackProgress&#39;</a> and <a href=""http://stackoverflow.com/questions/19462857/attributeerror-list-object-has-no-attribute-display-in-python"">AttributeError: &#39;list&#39; object has no attribute &#39;display&#39; in python</a></p>

<p>but unlike those questions, this is similar to <a href=""http://stackoverflow.com/questions/1529002/cant-set-attributes-of-object-class"">Can&#39;t set attributes of object class</a> and not duplicate if and only if list doesnt behave like Object (reserved,read only attr) </p>

<p>I am able to set self.root and for the sake of checking self.rightChild &amp; self.leftChild
so why does it throw this error?</p>

<pre><code>class BinaryTree(list):
    ...:     def __init__(self,root_val,**kwarg):
    ...:         super(type(self),self).__init__()
    ...:         self.root = root_val
    ...:         self.rightChild = self.leftChild = None
    ...:         self = binaryTree(self.root)
    ...:         if 'left_child' in kwarg:
    ...:             self.leftChild = kwarg['left_child']
    ...:         if 'right_child' in kwarg:
    ...:             self.rightChild = kwarg['right_child']
    ...:             

b = BinaryTree(4,left_child = 5,right_child = 6)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-67-3ea564fafb06&gt; in &lt;module&gt;()
----&gt; 1 b = BinaryTree(4,left_child = 5,right_child = 6)

&lt;ipython-input-66-208c402b07ce&gt; in __init__(self, root_val, **kwarg)
      6         self = binaryTree(self.root)
      7         if 'left_child' in kwarg:
----&gt; 8             self.leftChild = kwarg['left_child']
      9         if 'right_child' in kwarg:
     10             self.rightChild = kwarg['right_child']

AttributeError: 'list' object has no attribute 'leftChild' 
</code></pre>

<p>binaryTree is some foo() function that works well and is not at all the concern.</p>
","149392","","<p>Apparently <code>binaryTree</code> returns a list, not a <code>BinaryTree</code>. So after the line <code>self = binaryTree(self.root)</code>, <code>self</code> is now a list and <code>self.leftChild = ...</code> thus produces an error as you cannot do that to a list.</p>

<blockquote>
  <p>binaryTree is [...] not at all the concern</p>
</blockquote>

<p>I'm pretty sure you're wrong about that.</p>
"
"<p>I want a function that takes a list of integers and returns the list sorted(increasing from left to right). This has to be done by using these two functions:</p>

<pre><code>datatype tree=Empty
        | Node of int*tree*tree;
fun treeinsert(Empty,k) = Node(k,Empty,Empty)
  | treeinsert(T as Node(y,left,right),k) =
       if k=y then T
       else if k&lt;y then Node(y,treeinsert(left,k),right)
       else Node(y,left,treeinsert(right,k));

fun inOrder(Empty) = nil
  | inOrder(Node(a,left,right)) =
     inOrder(left)@[a]@inOrder(right) ;
</code></pre>

<p>So I made this function, which has the problem that allways returns an empty list.</p>

<pre><code>val y=Empty;
fun treesort(x::xs)=let val y=treeinsert(Empty,x)
                    in treesort(xs)
                    end
  |treesort []=inOrder(y);
</code></pre>

<p>What did I do wrong? Thank you in advance..</p>
","149392","","<p>The variable <code>y</code> that you define on line 2 is in scope from the <code>in</code> on line 3 until the <code>end</code> on line 4. You never use it in that block of code, so the variable is unused and therefore does not affect the behavior of the program (beyond the fact that <code>treeInsert</code> is called when you define it). When you use <code>y</code> on line 5, this refers to the variable <code>y</code> that you defined on line 1 since the other one is not in scope.</p>

<p>It's important to understand that the variable defined on line 1 and the one defined on line 2 are completely independent and only happen to have the same name (meaning that the variable from line 1 can't be accessed while the other one is in scope). Your program is equivalent to this:</p>

<pre><code>val y1 = Empty;
fun treesort(x::xs)=let val y2=treeinsert(Empty,x)
                    in treesort(xs)
                    end
  |treesort []=inOrder(y1);
</code></pre>

<p>This should make it clear why it does not work as you intend.</p>
"
"<p>This is probably something obvious but banging my head against a wall here...</p>

<p>I have a value:</p>

<pre><code>dailyCandleMap : Map&lt;DayOfWeek, List&lt;TimeSpan * TimeSpan&gt; option&gt;
</code></pre>

<p>I ensured that keys for each day of the week are present so I should safely be able to use Map.find to retrieve the <code>List&lt;TimeSpan * TimeSpan&gt; option</code> for a given day. I've tried the following:</p>

<pre><code>let candlesForMonday = Map.find(DayOfWeek.Monday, dailyCandleMap)
</code></pre>

<p>But hovering over the type for <code>candlesForMonday</code> the compiler tells me that it is</p>

<pre><code>(Map&lt;(DayOfWeek * Map&lt;DayOfWeek, List&lt;TimeSpan * TimeSpan&gt; option&gt;), obj&gt; -&gt; obj)
</code></pre>

<p>What the heck does this mean and how is it possible given the signature for Map.find which is <code>'Key -&gt; Map&lt;'Key,'T&gt; -&gt; 'T</code>?</p>

<p>EDIT: As I'm playing around with this more I see that its a problem with curried form/partial application and the way I was calling the function. Doing it this way gives me the expected result:</p>

<pre><code>let candlesForMonday = Map.find DayOfWeek.Monday dailyCandleMap
</code></pre>

<p>Would still really appreciate someone to help clarify what is really going with the previous wrong example though because the resulting type signature hurts my brain.</p>
","149392","","<p>As you said the type of <code>find</code> is <code>'Key -&gt; Map&lt;'Key, 'T&gt; -&gt; 'T</code>. So <code>find</code> is a curried function taking two argument (i.e. it is a function taking one argument and then returning another function that takes another argument). The type of the first function is <code>'Key</code>, which is a type variable.</p>

<p>When you do <code>Map.find(DayOfWekk.Monday, dailyCandleMap)</code>, you're calling <code>find</code> with one argument: a tuple containing <code>Monday</code> and <code>dailyCandleMap</code>. So in that call the type variable <code>'Key</code> takes the type <code>DayOfWeek * Map&lt;DayOfWeek, List&lt;TimeSpan * TimeSpan&gt; option&gt;</code>. Therefore the function returned by <code>find</code> has type <code>Map&lt;(DayOfWeek * Map&lt;DayOfWeek, List&lt;TimeSpan * TimeSpan&gt; option&gt;), 'T&gt; -&gt; 'T</code>. That is it takes a map whose keys are <code>DayOfWeek</code>-<code>Map</code>-tuples and returns the value, for which the given tuple was the key. Since there is no additional information about what <code>'T</code> is, the type inference decides that <code>'T</code> is <code>obj</code>.</p>
"
"<p>This is code #1:</p>

<pre><code>fibs = 0:1:zipWith (+) fibs (tail fibs)
</code></pre>

<p>I wrote the same code with list comprehension (code #2):</p>

<pre><code>fibs' = 0:1:[x+y|x&lt;-fibs',y&lt;-tail fibs']
</code></pre>

<p>but code #1 produces the Fibonnacci numbers while code #2 produces <code>0 1 1 1 1</code></p>

<p>Why does this happen?</p>
","149392","","<p>List comprehensions over multiple lists do not work like <code>zip</code>/<code>zipWith</code> - each element of one list is combined with each element of the other list rather than being combined pair-wise. To illustrate this difference, look at this simpler example:</p>

<pre><code>xs = [1,2]
ys = [3, 4]
zipped = zipWith (+) xs ys -- [4, 6]
comprehended = [x+y | x &lt;- xs, y &lt;- ys] [4, 5, 5, 6]
</code></pre>

<p>To get the behavior of <code>zip</code> in a list comprehension, you'd need to use the GHC extension for parallel list comprehensions, which allows you to write this:</p>

<pre><code>parallelComp = [x+y | x &lt;- xs | y &lt;- ys] -- [4, 6]
</code></pre>
"
"<p>Looking through <a href=""https://github.com/rismay/w1d3_monterroza_peguero/blob/master/hangme.rb"" rel=""nofollow"">this</a> I notice something I have never seen before on line 83.<code>end.map(&amp;:chomp)</code> so <code>end</code> is an object? (I realize that might be 100% wrong.) Can someone explain what and how that works there? What exactly is advantage?</p>
","149392","","<p>No, end is not an object, but <code>object.some_method do ... end</code> is an object (or rather it's evaluated to an object) - namely the object returned by the <code>some_method</code> method.</p>

<p>So if you do <code>object.some_method do ... end.some_other_method</code>, you're calling <code>some_other_method</code> on the object returned by <code>some_method</code>.</p>
"
"<p>I found an interesting exercise which says the following:</p>

<blockquote>
  <p>Write a type in C containing an array of pointers which point to the type itself</p>
</blockquote>

<p>Now I'm not really sure what it refers to.  Does it ask for something like</p>

<pre><code>struct a {
    struct *b[];
}   

int main(void) {  
    struct b[20]*;
    for(i=0;i&lt;19;i++)  
        b[i]=&amp;b[i];  
}
</code></pre>

<p>Can it be written like this ?</p>
","149392","","<p>No, the exercise is not asking for the pointer to point to itself. It says ""the <em>type</em> itself"". So all it's saying is that the array should contain pointers that point to values of <em>type</em> <code>struct a</code>. It doesn't matter to which address the pointers actually point.</p>
"
"<p>Where does <code>attr_accessor</code> come from? In the <a href=""http://www.ruby-doc.org/core-1.9.3/Module.html"" rel=""nofollow"">documentaion</a> it looks like <code>attr_accessor</code> is part of <code>Module</code>, but if I never see <code>Module</code> in an ancestors array:</p>

<pre><code>class Foo
end

Foo.ancestors #=&gt; [Foo, Object, Kernel, BasicObject]
</code></pre>
","149392","","<p><code>attr_accessor</code> is indeed coming from <code>Module</code>. <code>Module</code> is not an ancestor of <code>Foo</code>. It is, however, an ancestor of <code>Class</code> and <code>Foo</code> is a class and thus an instance of <code>Class</code>.</p>
"
"<p>I came across some code in scala in a similar form like this:</p>

<pre><code>  def test1(f : Int =&gt; Int)(x : Int) = x + f(x)

  def test2(f : Int =&gt; Int)(x : Int) = f(x)

  test2(test1(x =&gt; 2*x))(2)
</code></pre>

<p>I'm confused, so function test1 takes a function and a Int as parameters, and returns a function, right? Then how can <code>test1(x =&gt; 2*x)</code> be valid and returns a function to test2? Apparently it takes 2 asthe integer parameter, but why? How does the statement <code>test2(test1(x =&gt; 2*x))(2)</code> expand?</p>

<p>Thanks in advance.    </p>
","149392","","<blockquote>
  <p>function test1 takes a function and a Int as parameters, and returns a function, right?</p>
</blockquote>

<p>No, it only takes a function as its argument and returns a function. The returned function then takes an int as the argument and returns an int.</p>

<blockquote>
  <p>Then how can test1(x => 2*x) be valid and returns a function to test2? </p>
</blockquote>

<p>I hope that's clear now.</p>

<blockquote>
  <p>How does the statement test2(test1(x => 2*x))(2) expand?</p>
</blockquote>

<p><code>test1</code> is called with <code>x =&gt; 2*x</code> as the argument and returns a function. Then <code>test2</code> is called with that returned function as its argument and returns another function. Then that other function is called with <code>2</code> as its argument.</p>
"
"<p>Hello i am new to SML and this style of programming and i am having some issues</p>

<p>I have an assignement to do in ML and i'm having some problems modeling the data.</p>

<p>I solved the same problem in C, but im having problems doing so in sml/nj</p>

<p>Here is what i want.
I have a struct in C which is like the following</p>

<pre><code>struct myStr {
    int someData;
    myOtherStruct someOtherData;
    struct myStr * next;
    struct myStr * prev;
}
</code></pre>

<p>The basic problem is that i sort an array of pointers to struct myStr (or struct myStr, it does not matter) based on ""someOtherData"" and then i update some values to the next struct myStr and reorder the next  struct myStr into the array so it is sorted and then i loop till the end.</p>

<p>I get pretty good complexity on this with C because sorting takes O(nlog) and reordering takes: O(1) to find the next myStr and O(logn) to reorder this specific element to the array.</p>

<p>I am having problems modeling this into SML</p>

<p>First of all i started doing this with lists, but i need to change a value each time so i started thinking of refs and arrays (i know its not the best thing).</p>

<p>I thought of the following in ML, using types:</p>

<pre><code>type myStr = { 
    someData : int, 
    someOtherData : myOtherType,
    next : myStr ref, 
    prev :  myStr ref
}
</code></pre>

<p>, but that does not work in ml
It produces the following error:</p>

<pre><code>stdIn:1.56-1.61 Error: unbound type constructor: myStr                                      
stdIn:1.38-1.43 Error: unbound type constructor: myStr  
</code></pre>

<p>The basic problem is that i want to acess the next element (which is not the next element in array) quickly (like in C). The idea above with the type does not work in SML.</p>

<p>What should i do for the above type to work, or is there any other idea modeling my data properly so i can get what i want?</p>

<p>Thank you</p>
","149392","","<p>Apparently type aliases (which you define using the <code>type</code> keyword) can't be recursive in SML. To define a recursive type you'll need to define an algebraic data type using the <code>datatype</code> keyword. That way your code could be made to compile like this:</p>

<pre><code>datatype myStr = MyStr of
  { 
    someData : int, 
    someOtherData : myOtherType,
    next : myStr ref, 
    prev :  myStr ref
  }
</code></pre>

<p>That said this definition is still very problematic. Specifically it does not allow for finite (i.e. non-circular list). Also you won't be able to define any non-recursive values of this type (though if you only intend to represent circular lists, it's only natural that the values would need to be recursive).</p>

<p>I assume your C version of this code represents non-circular lists by letting the last node's next pointer (and the first node's prev pointer) be null. The problem with that is that <code>ref</code>s in ML can't be null, so you can't use the same system in ML. So if you need non-circular lists, you'll need to add an explicit <code>Empty</code> value that you can use instead of <code>null</code>:</p>

<pre><code>datatype myStr = MyStr of
  { 
    someData : int, 
    someOtherData : myOtherType,
    next : myStr ref, 
    prev :  myStr ref
  }
  | Empty
</code></pre>

<p>PS: You said that this is an assignment, but you didn't really say what exactly the assignment is asking you to do. If the assignment is for SML and it is not specifically asking you to use <code>ref</code>s/mutation, I'd assume that you're supposed to solve your problem without mutation, so you'd need to think of a different approach.</p>
"
"<p>In an OCaml toplevel, I have the following type definition:</p>

<pre><code>type 'a lazy_list =
| Nil
| Cons of 'a * 'a lazy_list
| LazyCons of 'a * 'a lazy_list
</code></pre>

<p>(Simplified for this example)</p>

<p>And this function definition:</p>

<pre><code>let head = function
| Nil -&gt; Nil
| Cons(x,_) | LazyCons(x,_) -&gt; x
</code></pre>

<p>The ocaml toplevel tells me the type of <code>head</code> is <code>'a lazy_list lazy_list -&gt; 'a lazylist</code> Why is the type not <code>'a lazy_list -&gt; 'a</code>, which is what I would expect?</p>
","149392","","<p>One possible result of your function is <code>Nil</code>. <code>Nil</code> is a <code>lazy_list</code>. Therefore the result type of <code>head</code> must be a <code>t lazy_list</code> for some (or possibly all) types <code>t</code>.</p>

<p>The other possible result of <code>head</code> is <code>x</code> where <code>x</code> is an element of the given list. Therefore the result type of <code>head</code> must be the element type of the given list.</p>

<p>By combining these two pieces of information we can conclude that the element type of the given list must itself be a list. Therefore your function can only operate on lists of lists.</p>

<p>If the type of <code>head</code> were merely <code>'a laty_list -&gt; 'a</code>, <code>Nil</code> would not be valid result for it.</p>
"
"<p>I'm new to Scheme, here I get in trouble with dotted list, here is an example:</p>

<p><code>(define (f x . y) (cons x y))</code></p>

<p>When I enter:  <code>(f 1 2 3)</code> the result is <code>'(1 2 3)</code>. Yes, it returns a list, and at this time</p>

<p><code>x =&gt; 1</code> and <code>y =&gt; '(2 3)</code>.</p>

<p>My question is how could the interpreter know this when <code>f</code> takes unfixed length of args?</p>
","149392","","<p>The interpreter knows that <code>f</code> has an argument named <code>x</code> followed by the argument list <code>y</code>. So when it encounters the call to <code>f</code>, it puts the first argument into <code>x</code> and the remaining ones into <code>y</code>.</p>
"
"<pre><code>data Figura = Circulo Float | Rectangulo Float Float


esRedondo :: Figura -&gt; Bool
esRedondo (Circulo _) = True
esRedondo (Rectangulo _ _) = False 

area :: Figura -&gt; Float
area (Circulo r) = pi*r*r
area (Rectangulo h b) = h*b
</code></pre>

<p>I get an error :
<code>The function</code>main' is not defined in module `Main'</p>
","149392","","<p>If you want to create a runnable executable, you need to define <code>main :: IO ()</code>, which will be executed when the program is run.</p>
"
"<p>I want to modify a string inside the function. My code is pretty easy:</p>

<pre><code>#include &lt;stdio.h&gt;


void doSomething ( char **string )
{
  sprintf(string,""some string"");
}  

int main ( void )
{
  char *origString = NULL;

  doSomething ( &amp;origString );
  printf ( ""%s\n"", origString );

  return 0;
}
</code></pre>

<p>But this code doesn't work. I would really appreciate an explanation more than a solution, but solution is also welcome.</p>

<p>I really need to use sprintf function, because the idea is to add some other strings with %s.</p>

<p>Thanks!</p>

<p>Solved!</p>

<pre><code> #include &lt;stdio.h&gt;


void doSomething ( char **string )
{
   *string = malloc(strlen(""some string"") + 1); 
    sprintf(*string,""some string"");
}  

int main ( void )
{
  char *origString = NULL;

  doSomething ( &amp;origString );
  printf ( ""%s\n"", origString );
   free(origString); // Previously malloced in doSomething
  return 0;
}
</code></pre>
","149392","","<p><code>sprintf</code> takes a <code>char*</code> as its first argument, not a <code>char**</code>, so it should be <code>sprintf(*string,""some string"");</code>. However <code>*string</code> will be <code>NULL</code> at that point, so that would still not work.</p>

<p>If you want the memory for your string to be allocated by the <code>doSomething</code> function, you will need to allocate the memory in that function. <code>sprintf</code> will not allocate any memory for you. So before you'd call <code>sprintf</code>, you'd need to allocate memory using <code>malloc</code> and make <code>*string</code> point to that memory. You should also be aware that users of your function then needs to free the memory once they're done with it.</p>
"
"<p>I'm learning Racket, and wrote this definition:</p>

<pre><code>(define y 2)
(define (f (x y))
  (print x)
  (print y))
</code></pre>

<p>When I evaluate <code>(f 1)</code>, <code>x</code> is bound to <code>1</code>, and <code>y</code> is bound to <code>2</code>.  This seems very strange to me.  How is this expression being expanded? What does the interpreter do with this?</p>
","149392","","<p>In Racket an argument can be defined as <code>(argument-name default-value)</code> (usually you'd use square brackets for this, but that's only a matter of style - the language itself does not care).</p>

<p>So <code>(define (f (x y)) ...)</code> defines a function <code>f</code> that takes one argument named <code>x</code> whose default value is <code>y</code>.</p>
"
"<p>The precedence of F#'s member selection dot (.) operator as used in  </p>

<pre><code>someValue.somePropertyOfSomeValue
</code></pre>

<p>has a low precedence such that the following</p>

<pre><code>someFunction someValue.somePropertyOfSomeValue
</code></pre>

<p>means</p>

<pre><code>(someFunction someValue).somePropertyOfSomeValue
</code></pre>

<p>not</p>

<pre><code>someFunction (someValue.somePropertyOfSomeValue)
</code></pre>

<p>as one might presume from the intuitive nature of concatenation. Having used CoffeeScript, I can appreciate how intuitive precedence can serve to de-clutter code. </p>

<p>Are there any efforts to rationalize this kerfuffle, perhaps something along the lines that incorporated the ""lightweight""?</p>

<p>For example, </p>

<pre><code>  ignore System.Console.WriteLine(""test"")
</code></pre>

<p>must be written</p>

<pre><code>  ignore (System.Console.WriteLine(""test""))
</code></pre>

<p>==============</p>

<p>Upon review, the culprit is not the ""."" operator but the invocation operator ""()"", as in ""f()"".
So, given:</p>

<pre><code>  type f'() =
     member this.x () = printfn ""hello""
     member this.y () = this.x
  let f = f'()
  let g p : unit = p()
</code></pre>

<p>then the following intuitive syntax fails:</p>

<pre><code>  g f.y()
</code></pre>

<p>and must be written thus (as prescribed by the documentation):</p>

<pre><code>  g (f.y()) &lt;-- succeeds.
</code></pre>

<p>It seems intuitive that a string of symbols unbroken by white space implicitly represents a block. In fact, the utility of the dot operator is to create segmentation without breaking up the block. </p>
","149392","","<p><code>a b.c</code> is parsed as <code>a (b.c)</code>, not <code>(a b).c</code>. So there are no efforts to rationalize this - it simply is not true.</p>
"
"<p>I expect the following <code>GetArgs.hs</code> to print out the arguments passed into it.</p>

<pre><code>import System.Environment

main = do
    args &lt;- getArgs
    print args
</code></pre>

<p>But, after loading it in <code>ghci</code>, I get the following error:</p>

<pre><code>ghci&gt; main 3 4 3

&lt;interactive&gt;:39:1:
    Couldn't match expected type `a0 -&gt; a1 -&gt; a2 -&gt; t0'
                with actual type `IO ()'
    The function `main' is applied to three arguments,
    but its type `IO ()' has none
    In the expression: main 3 4 3
    In an equation for `it': it = main 3 4 3
</code></pre>

<p>Since <code>print</code> has this type:</p>

<p>ghci> :t print
print :: Show a => a -> IO ()</p>

<p>I would've expected <code>print args</code> to have worked.</p>

<p>Why not?</p>
","149392","","<p><code>print args</code> works fine. What doesn't work is <code>main 3 4 3</code>. <code>main</code> doesn't take any argument, but you're trying to call it with three.</p>

<p>If you want to simulate calling your program with command line parameters from ghci, you can use the <code>:main</code> command (with a colon in front). Alternatively you can compile your program and actually run it from the command lines with the given arguments.</p>
"
"<p>The following byte object is an echo reply from a ping program:</p>

<pre><code>b'E \x00\x1c\x021\x00\x007\x01=\x9fJ}\xefr\n\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00'
</code></pre>

<p>What does the ""E"" at the beginning mean and why do I see sequences as such ""efr"" or ""9fJ}""? </p>

<p>Also, I tried reading the documentation and the document that specifies the purpose of the byte object (apparently they felt strings were overloaded) and they didn't really say in absolute terms this is what byte objects are for. Can you please specificy the exact purpose of byte objects?</p>

<p>What would be the difference between:</p>

<pre><code>b'\x00\x1c\x021'
</code></pre>

<p>and just doing this:</p>

<pre><code>'\x00\x1c\x021'
</code></pre>
","149392","","<p>The E at the beginning is simply the character E, that is a byte with the value 69. <code>\xef</code> is a byte with the hexadecimal value EF and thus the decimal value 239. The r after it is again simply the letter r. Similarly <code>\x9fJ}</code> is <code>\x9f</code>, followed by J, followed by }.</p>

<p>The difference between <code>b'\x00\x1c\x021'</code> and <code>'\x00\x1c\x021'</code> is that one is a bytes object and one is a string that will print simply as ""1"" because it contains several non-printable characters.</p>
"
"<p>I recently started using scala and I can't make anything of the error messages. For the following code I get the stated message(using eclipse):</p>

<pre><code>def helper: Int =&gt; List[Int] = x =&gt;  x match  {
    case 2 =&gt; 2::1
    ...
}
</code></pre>

<p>I can fix it by using List(2,1), but souldn't that be the same thing as 2::1?
I have similar problems where the List(...) approach would be harder to use, so I really want to know where my thinking mistake is.</p>
","149392","","<p>Infix operators are interpreted as method calls in Scala. If the infix operators ends with a colon, it's a method call on the right operand with the left operand as its argument. Otherwise it's a method call on the left operand with the right operand as its argument.</p>

<p>In other words, if you do <code>x + y</code>, it's the same as <code>x.+(y)</code>, i.e. you're calling the method <code>+</code> on the object <code>x</code>, with <code>y</code> as the argument. And if you do <code>x :: y</code> it's the same as <code>y.::(x)</code>, calling the method <code>::</code> on the object <code>y</code>.</p>

<p>So in your example you're calling the method <code>::</code> on the object <code>1</code>, which is an <code>Int</code>. However the class <code>Int</code> does not have a <code>::</code> method, so this does not work and you get an error message telling you that the <code>::</code> method does not exist for the <code>Int</code> class.</p>

<p>To make <code>::</code> work, the right operand needs to be a list (or something else that has a <code>::</code> method), so <code>2 :: 1 :: Nil</code> would work. However in this case using <code>List()</code> seems like the cleaner alternative.</p>
"
"<p>I turned in my assignment to my online C programming class and was docked huge due to the fact that my program was ""hard coded, and I can't see how it would be considered ""hard coded"" as I ask for user input. The following was my code:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define IMAX 3
#define JMAX 4

int main()
{   
    float a[IMAX][JMAX];
    float avgrow[5];
    float avgcol[5];
    int i,j;
    char c;

    printf (""This program will allow you to enter numbers for 3 rows and 4 columns from         left to right then filling down, and take the averages of the rows and columns and list them next to the row and under the columns. You may use decimals but only 2 will display in the results. Press enter!\n"");
    scanf (""%c"",&amp;c);

    printf(""Enter 12 numbers here for your rows and columns:\n"");
    for(i = 0; i &lt; IMAX; i++)
    {
        for(j = 0; j &lt; JMAX; j++)
        {
            scanf(""%f"",&amp;a[i][j]);
        }
    }
    for(j = 0; j &lt; JMAX; j++)
    {
        avgrow[0] = (a[0][0]+a[0][1]+a[0][2]+a[0][3])/JMAX;
        avgrow[1] = (a[1][0]+a[1][1]+a[1][2]+a[1][3])/JMAX;
        avgrow[2] = (a[2][0]+a[2][1]+a[2][2]+a[2][3])/JMAX;
    }
    for(i=0; i &lt; IMAX; i++)
    {
        avgcol[0] = (a[0][0]+a[1][0]+a[2][0])/IMAX;
        avgcol[1] = (a[0][1]+a[1][1]+a[2][1])/IMAX;
        avgcol[2] = (a[0][2]+a[1][2]+a[2][2])/IMAX;
        avgcol[3] = (a[0][3]+a[1][3]+a[2][3])/IMAX;
    }

    printf(""  Column1         Column2         Column3         Column4         Row Average\n\n"");
    printf(""%8.2f\t%8.2f\t%8.2f\t%8.2f\t%8.2f\n"",a[0][0],a[0][1],a[0][2],a[0][3],avgrow[0]);
    printf(""%8.2f\t%8.2f\t%8.2f\t%8.2f\t%8.2f\n"",a[1][0],a[1][1],a[1][2],a[1][3],avgrow[1]);
    printf(""%8.2f\t%8.2f\t%8.2f\t%8.2f\t%8.2f\n"",a[2][0],a[2][1],a[2][2],a[2][3],avgrow[2]);
    printf(""\n"");
    printf(""%8.2f\t%8.2f\t%8.2f\t%8.2f\t\n"",avgcol[0],avgcol[1],avgcol[2],avgcol[3]);

    return 0;
}
</code></pre>

<p>All it was supposed to do was make a 2-d array with 3 rows and 4 columns, then take the average of the rows and display that next to to the row in a table. Than take the average of the columns and display them beneath the columns in the table. </p>

<p>This was his comments on my assignment ""Well, you got the correct answers, but when dealing with a 2-D array, you should use nested for loops. Not one for loop and then a lot of ""hard coding"" values into the program.""</p>

<p>Any help deciphering this would be appreciated as I though I was finally understanding programming until this.</p>
","149392","","<p>First of all it's not meaningful to talk about a program being hard coded or not. Rather one would talk about specific values being hard coded. What this means is that you wrote their values directly into the code rather than putting them in a constant or variable that can easily be changed.</p>

<p>In this case the values you hard-coded are the number of rows and the number of columns. You do have constants for these, but you don't use them consistently. That is if you changed your constants to turn the array into a 5x5 array, your code would now break because parts of the code would still act like it is an 3x4 array.</p>

<p>Specifically there are two loops in your code where you're accessing the indices [0][0] through [2][3] by spelling out each index in that range specifically rather than using a loop. This means that if you change IMAX and JMAX, it will still use those same indices, which aren't correct any more.</p>

<p>So your array indices are hard-coded and changing the array dimensions breaks your program.</p>
"
"<p>I know that OCaml provide the <code>let rec ... and ...</code> for definition of mutually recursive function. Why I can't use that expression for define mutually recursive value?</p>

<p>In particular, why I can't do something like <code>let rec x=3 and y=x+5 in x</code> but I can do <code>let rec x=3 and y=[x;4] in y</code>?</p>

<p>For the first case, I've try to give me an answer and I think that is a binding ""problem"", since the binding of the values should be simultaneous, so y can't know the value of x so I can't add it to the value of the constant 5. 
It is true?</p>
","149392","","<p>Neither of your definitions are mutually recursive. You could just as well write them like this:</p>

<pre><code>let x = 3 in
let y = x + 5 in
x
</code></pre>

<p>and</p>

<pre><code>let x = 3 in
let y = [x; 4] in
y
</code></pre>

<p>Mutually recursive definitions would look like this:</p>

<pre><code>let rec x = y + 3
and y = x + 5 in
x
</code></pre>

<p>and</p>

<pre><code>let rec x = 3 :: y
and y = 4:: x in
x
</code></pre>

<p>In the second piece of code <code>x</code> is a cyclic list that contains a 3 followed by a 4 and then loops back to the beginning. However the first piece of code doesn't make any sense. How can <code>x</code> equal <code>y + 3</code> when <code>y</code> equals <code>x + 5</code>? It can't and therefore recursive values can only be defined using constructors of variant types (because that's the only case where a recursive value would not lead to infinite recursion).</p>

<p>So since recursive values can't be defined without constructors and the <code>let rec ... and</code> syntax is not necessary when the value you're trying to define is not recursive, the syntax simply can not be used with anything but constructor applications.</p>
"
"<p>I'm a bit confused when it comes to a compiled language (compilation to <strong><em>native code</em></strong>) with dynamic typing. 
Dynamic typing says that the types in a program are only inferred at runtime. </p>

<p>Now if a language is compiled, there's no interpreter running at runtime; it's just your CPU reading instructions off memory and executing them. In such a scenario, if any instruction violating the type semantics of the language happens to execute at runtime, there's no interpreter to intercept the execution of the program and throw any errors. How does the system work then?</p>

<p>What happens when an instruction violating the type semantics of a <em>dynamically typed compiled language</em> is executed at runtime?</p>

<p>PS: Some of the dynamically typed compiled languages I know of include Scheme, Lua and Common Lisp. </p>
","149392","","<p>A compiler for a dynamically typed language would simply generate instructions that check the type where necessary. In fact even for some statically typed languages this is sometimes necessary, say, in case of an object oriented language with checked casts (like <code>dynamic_cast</code> in C++). In dynamically types languages it is simply necessary more often.</p>

<p>For these checks to be possible each value needs to be represented in a way that keeps track of its type. A common way to represent values in dynamically typed languages is to represent them as pointers to a struct that contains the type as well as the value (as an optimization this is often avoided in case of (sufficiently small) integers by storing the integer directly as an invalid pointer (by shifting the integer one to the left and setting its least significant bit)).</p>
"
"<p>Is there any way to free elements up to the end of the array?</p>

<p>For example, while freeing from the 6th to the end as:</p>

<hr>

<pre><code>char *str = ""Hello, World\n"";
char *ptr = str+6;
free(ptr);
</code></pre>

<hr>

<p>gives a ""Segmentation fault""!</p>

<p>Are there ways to acheive so??</p>
","149392","","<blockquote>
  <p>Why does a segmentation fault occur</p>
</blockquote>

<p>Because you're trying to free memory that has not been allocated with <code>malloc</code>. And if it had been allocated with <code>malloc</code>, it wouldn't work because you're not pointing to the beginning of the memory.</p>

<blockquote>
  <p>Are there ways to acheive so?</p>
</blockquote>

<p>Are there ways to take memory that has not been allocated with <code>malloc</code> and add it to the pool of free memory available to <code>malloc</code>? No, that would make no sense. Especially as the memory in question is read-only.</p>
"
"<p>I was a bit surprised to find out that</p>

<pre><code>head' :: [a] -&gt; b
head' (x:xs) = x
</code></pre>

<p>raises an </p>

<pre><code>Couldn't match expected type `b' with actual type `a'
  `b' is a rigid type variable bound by
      the type signature for head' :: [a] -&gt; b at type_test.hs:1:10
  `a' is a rigid type variable bound by
      the type signature for head' :: [a] -&gt; b at type_test.hs:1:10
In the expression: x
In an equation for head': head' (x : xs) = x
</code></pre>

<p>Why is that? I'd assume Haskell would allow me to be as lax as I want to be, and would find no problem with <code>[a] -&gt; b</code>.</p>

<p>Thanks</p>
","149392","","<p>A function <code>f</code> of type <code>[a] -&gt; b</code> could be used like this:</p>

<pre><code>x :: Integer
x = f [""a"", ""b"", ""c""]
</code></pre>

<p>Clearly <code>head'</code> can not be used like that. Therefore <code>[a] -&gt; b</code> is not a valid type for <code>head'</code>.</p>

<p>The key thing to realize here is that <code>-&gt; b</code> does not mean ""the function could produce any type <code>b</code>, but you do not know which one, so you can only perform operations on it that would work with all types"". To express that you'd need existential types. Rather it means ""the function can produce any type <code>b</code> that the user requests"", that is the function can be used as an expression of any possible type <code>b</code> and it must then be able to produce a value of that type. Clearly <code>head'</code> is not capable of that.</p>
"
"<p>I have a strange <code>&lt;&lt;loop&gt;&gt;</code> error with the function below. I present it as is since any attempt to simplify eliminates the error as well.</p>

<pre><code>bellmanFord :: (DistanceMap m) =&gt; m -&gt; [Edge] -&gt; Maybe m
bellmanFord m edges = loop m 0 (length edges)
  where
    loop dists step size =
      if step &gt; size then
        Nothing
      else
        let newDists = foldl' proc dists edges
        in
          if identical newDists dists then
            Just dists
          else
            loop newDists (step + 1) size

    proc dists (v1, v2, w) =
      let d = get dists v2
          d' = get dists v1 + Only w
      in
        if d' &lt; d then
          assoc dists v2 d'
        else
          dists
</code></pre>

<p>The whole program is available <a href=""https://gist.github.com/eldargab/09a1d43fd65614e031de"" rel=""nofollow"">here</a>.</p>
","149392","","<p>From your gist:</p>

<pre><code>instance DistanceMap PotMap where
  get m v = min 0 (get m v)
</code></pre>

<p>Your definition of <code>get</code> is infinitely recursive.</p>
"
"<p>I have the following ocamllex code:</p>

<pre><code>let flt = ['-' '+']?['0'-'9']+ ['.'] ['0'-'9']+
rule token = parse
  [' ' '\t' '\r' '\n']      { token lexbuf } (* Whitespace *)
| ['0'-'9']+ as lxm         { INTEGER(int_of_string lxm) }
| flt as lxm    { FLOAT(float_of_string lxm) }
</code></pre>

<p>This works! </p>

<p>But the minute I want to allow + and - signs for the INTEGER, it gives me an error. </p>

<pre><code>let flt = ['-' '+']?['0'-'9']+ ['.'] ['0'-'9']+
rule token = parse
  [' ' '\t' '\r' '\n']      { token lexbuf } (* Whitespace *)
| ['+' '-']['0'-'9']+ as lxm        { INTEGER(int_of_string lxm) }
| flt as lxm    { FLOAT(float_of_string lxm) }
</code></pre>

<p>The error is as follows:</p>

<pre><code>Fatal error: exception Failure(""int_of_string"")
Undefined symbols for architecture x86_64:
  ""_main"", referenced from:
     implicit entry/start for main executable
ld: symbol(s) not found for architecture x86_64
</code></pre>

<p>The funny thing is that in my .ml file, I am using ""float_of_string"", but I am NOT using ""int_of_string"" anywhere. </p>
","149392","","<p><code>int_of_string</code> does not handle leading <code>+</code> signs, so you have to take that out before you pass your string to <code>int_of_string</code>.</p>
"
"<p>I am not a C++ man, I wonder if someone can explain why the * Operator is used in the struct in terms of C#?</p>

<pre><code>#define TIM1_BASE            (APB2PERIPH_BASE + 0x4400)
#define TIM1               ((TIM_TypeDef *) TIM1_BASE)

typedef struct
{
 __IO uint16_t CR1;

} TIM_TypeDef;
</code></pre>

<p>For example, does TIM1 become a Class Instance? What does the * operator do in this code?</p>

<p><strong>EDIT</strong>
How would this look in C#?</p>

<p><strong>EDIT</strong> What a negative response I have had from people. Sad!!! Is it not the case that this is what 'StackOverFlow' is all about? Some, IMHO, are FUBAR!!!</p>

<p>In C# this is what I get to my Question:</p>

<pre><code>private static unsafe TIM_TypeDef* TIM1 = ((TIM_TypeDef*) TIM1_BASE);
</code></pre>

<p>TIM1 is a TIM_TypeDef Pointer. TIM_TypeDef is a struct, similar to a class. Thanks to the existing answers but they really did not answer my question directly.</p>
","149392","","<p>In types a trailing <code>*</code> denotes pointer types. That is for any type <code>T</code>, <code>T*</code> is the type ""pointer to T"". So <code>TIM_TypeDef*</code> is the type ""pointer to a <code>TIM_TypeDef</code>"" where <code>TIM_TypeDef</code> is a type defined elsewhere.</p>

<p>And of course <code>((T) exp)</code> is a cast to <code>T</code>.</p>
"
"<p>I have the following code:</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;

int main() {
    // your code goes here
    float _t100;
    void * _t200;
    float _t300;
    _t100 = -5.0;
    _t200 = &amp;_t100;
    _t300 = *(float *)&amp;_t200;
    cout&lt;&lt;_t300;
    return 0;
}
</code></pre>

<p>It prints -1.61669. Why? It should print -5.0. </p>
","149392","","<p>In your code you're not casting a <code>void*</code> - you're casting <code>&amp;_t200</code>, which is a <code>void**</code>. If you leave out the <code>&amp;</code>, you get the result you want.</p>
"
"<p>In Ruby, the Enumerable module mixes into collection classes and relies on the class serving up an <code>each</code> method which yields each item in the collection.  </p>

<p>Okay, so if I want to use Enumerable in my own class, I'll just implement <code>each</code> [1]:</p>

<pre><code>class Colors
  include Enumerable

  def each
    yield ""red""
    yield ""green""
    yield ""blue""
  end
end

&gt; c = Colors.new
&gt; c.map { |i| i.reverse }
#=&gt; [""der"", ""neerg"", ""eulb""]
</code></pre>

<p>That works as expected.</p>

<p>But if I override the <code>each</code> method on an existing class with Enumerable, it doesn't break functions like <code>map</code>.  Why not?</p>

<pre><code>class Array
  def each
    puts ""Nothing here""
  end
end

&gt; [1,2,3].each {|num| puts num }
#=&gt; ""Nothing here""
&gt; [1,2,3].map {|num| num**2 }
#=&gt; [1,4,9]
</code></pre>

<p>[1]: from <a href=""http://www.sitepoint.com/guide-ruby-collections-iii-enumerable-enumerator/"">http://www.sitepoint.com/guide-ruby-collections-iii-enumerable-enumerator/</a></p>
","149392","","<p><code>Enumerable</code>'s implementation of <code>map</code> does use <code>each</code>, but there's nothing stopping an extending class from overriding it with its own implementation that does not use <code>each</code>.</p>

<p>In this case <code>Array</code> does provide its own implementation of <code>map</code> for efficiency reasons.</p>
"
"<p>I'm trying to understand this code:</p>

<pre><code>search_bst :: Tree -&gt; String -&gt; Maybe Int 
search_bst Leaf _ = Nothing
search_bst (Node k v l r) sk =
    if sk == k then Just v
    else if sk &lt; k then search_bst l sk
    else search_bst r sk
</code></pre>

<p>I can get the concept but what does <code>Node k v l r</code> mean? Does it mean that <code>search_bst</code> takes two parameters, which the first one is an instance of type <code>Node</code> and has three values?</p>
","149392","","<pre><code>search_bst :: Tree -&gt; String -&gt; Maybe Int
</code></pre>

<p>means that <code>search_bst</code> takes two arguments, one of type <code>Tree</code> and one of type <code>String</code>, and produces a <code>Maybe Int</code>.</p>

<pre><code>search_bst Leaf _ = ...
</code></pre>

<p>means: ""do ... if the first argument (the one of type <code>Tree</code>) is <code>Leaf</code> (which is a value of type <code>Tree</code>). And finally</p>

<pre><code>search_bst (Node k v l r) sk = ...
</code></pre>

<p>means ""do ... if the first argument is a tree that's been constructed using the <code>Node</code> constructor and let <code>k</code>, <code>v</code>, <code>l</code> and <code>r</code> hold the values that have been given as arguments to <code>Node</code>. Also let <code>sk</code> refer to the second argument of <code>search_bst</code>."".</p>

<blockquote>
  <p>Does it mean that search_bst takes two parameters, which the first one is an instance of type Node and has three values?</p>
</blockquote>

<p>The first argument has type <code>Tree</code>. There likely is no type <code>Node</code> in your program (and even if there is, it has nothing to do with the <code>search_bst</code> function).</p>
"
"<p>Consider the following code taken from K&amp;R:</p>

<pre><code>/* strlen: return length of string s */

int strlen(char *s)
{
    int n;

    for (n = 0; *s != '\0', s++)
        n++;
    return n;
}
</code></pre>

<p>K&amp;R states that here ""s++ has no effect on the character string in the function that called strlen, but merely increments strlen's private copy of the pointer"".</p>

<ol>
<li>Am I correct in interpreting ""s++"" as being equivalent to ""&amp;s[0]+1"".  This seems non-sensical to me, so I must be wrong here.</li>
<li>If s++ <em>really</em> has no effect on *s, then how could the loop condition (i.e., *s != '\0') ever change in truth value?  After all, *s is <em>unaffected</em> by s++.  So it will either be true forever or false in the first place.  Why is this not the case?</li>
</ol>
","149392","","<blockquote>
  <p>Am I correct in interpreting ""s++"" as being equivalent to ""&amp;s[0]+1"".</p>
</blockquote>

<p>No. The expression <code>&amp;s[0]+1</code> does not have side-effects - <code>s++</code> does. The way it is used here (that is without using its return value), <code>s++</code> is equivalent to <code>s = s + 1</code> or <code>s = &amp;s[0]+1</code> or <code>s = &amp;s[1]</code> (which all do the same thing).</p>

<blockquote>
  <p>If s++ really has no effect on *s, then how could the loop condition (i.e., *s != '\0') ever change in truth value?</p>
</blockquote>

<p><code>s++</code> does have an effect on <code>*s</code> in the sense that it changes what <code>s</code> points to and if <code>s</code> points to somewhere else, then of course the value of the expression <code>*s</code> will change. However it does not have an effect on the value that <code>s</code> previously pointed to.</p>

<p>To illustrate this consider <code>strlen</code> being called on a string <code>str</code> where <code>char* str = ""abcd"";</code>: At the beginning of the loop <code>s</code> points to <code>str[0]</code>and thus <code>*s</code> is equal to 'a' because <code>str[0]</code> is equal to <code>'a'</code>. After you do <code>s++</code>, <code>s</code> now points to <code>str[1]</code>. Now <code>*s</code> is equal to <code>'b'</code> because <code>str[1]</code> is equal to <code>'b'</code>, yet neither <code>str[0]</code> nor the contents of <code>str</code> changed.</p>
"
"<p>Consider the following lines:</p>

<pre><code>int i;
printf(""%d"",i);
</code></pre>

<p>Will the lexical analyzer go into the string to parse <code>%</code> and <code>d</code> as separate tokens, or will it parse ""%d"" as one token?</p>
","149392","","<p>A string literal is a single token. The above code will be tokenized like this:</p>

<pre><code>int     keyword ""int""
i       identifier
;       semicolon
printf  identifier
(       open paren
""%d""    string literal
,       comma
i       identifier
)       closing paren
;       semicolon
</code></pre>
"
"<p>The C compiler was written in C, that much I know. What language/tools/instructions was/were used to create the initial functionality for the C compiler to become self-hosting?</p>

<p>UPDATE:</p>

<p>I know what bootstrapping a language is, and it is that research that prompted this question. I cannot find an answer to my question anywhere on SO.</p>
","149392","","<p>There are a multitude of C compilers in the world. Many of them were (and still are) written in C. However the first one was not - it was written in B.</p>
"
"<p>I have the following code</p>

<pre><code>#include &lt;stdio.h&gt;
int main(void) {
    int arr[] = {10,20,30,40};
    int* ptr = arr;
    printf(""%d\n"",sizeof(arr));
    printf(""%d"",sizeof(ptr));
    return 0;
}
</code></pre>

<p>The output is</p>

<pre><code>16
4
</code></pre>

<p>size of pointer in C is 4. 'arr' is also a pointer to an integer but its size comes out to be 16, which is product of size of one element and number of elements.
 On the other hand if I store the same pointer into another pointer variable then its size becomes 4. This is very confusing. The same thing happens if I try to send arr as an argument to a function and then print the size of arr in that function. How does C handle a pointer to an array?</p>
","149392","","<blockquote>
  <p>'arr' is also a pointer to integer</p>
</blockquote>

<p>No, it's not. <code>arr</code> is an array. The size of an array is the size of an element times the number of elements. If it were a pointer, it's size would be the same as any other pointer.</p>

<blockquote>
  <p>How does C handles pointer of array?</p>
</blockquote>

<p>C handles pointers to arrays the same way it handles all other pointers. However there are no pointers to arrays in your code, only a pointer to int (<code>ptr</code>).</p>
"
"<p>I'm running a for loop in racket, for each object in my list, I want to execute two things: if the item satisfies the condition, (1) append it to my new list and (2) then print the list. But I'm not sure how to do this in Racket.</p>

<p>This is my divisor function: in the if statement, I check if the number in the range can divide N. If so, I append the item into my new list L. After all the loops are done, I print L. But for some unknown reason, the function returns L still as an empty list, so I would like to see what the for loop does in each loop. But obviously racket doesn't seem to take two actions in one ""for loop"". So How should I do this?</p>

<pre><code>    (define (divisor N)
       (define L '())
      (for ([i (in-range 1 N)])
         (if (equal? (modulo N i) 0)
             (append L (list i))
             L)
           )
       write L)
</code></pre>

<p>Thanks a lot in advance!</p>
","149392","","<p>To do multiple things in a for-loop in Racket, you just write them after each other. So to display L after each iteration, you'd do this:</p>

<pre><code>(define (divisor N)
  (define L '())
  (for ([i (in-range 1 N)])
    (if (equal? (modulo N i) 0)
        (append L (list i))
        L)
    (write L))
  L)
</code></pre>

<p>Note that you need parentheses to call a function, so it's <code>(write L)</code> - not <code>write L</code>. I also replaced your <code>write L</code> outside of the for-loop with just <code>L</code> because you (presumably) want to return <code>L</code> from the function at the end - not print it (and since you didn't have parentheses around it, that's what it was doing anyway).</p>

<p>What this will show you is that the value of <code>L</code> is <code>()</code> all the time. The reason for that is that you never change <code>L</code>. What <code>append</code> does is to return a new list - it does not affect the value of any its arguments. So using it without using its return value does not do anything useful.</p>

<p>If you wanted to make your for-loop work, you'd need to use <code>set!</code> to actually change the value of <code>L</code>. However it would be much more idiomatic to avoid mutation and instead solve this using <code>filter</code> or recursion.</p>
"
"<p>Here's an example with push:</p>

<pre><code>@connections = Hash.new []
@connections[1] = @connections[1].push(2)
puts @connections # =&gt; {1=&gt;[2]}
</code></pre>

<p>Here's an example with &lt;&lt;</p>

<pre><code>@connections = Hash.new []
@connections[1] &lt;&lt; 2
puts @connections # =&gt; {}
</code></pre>

<p>For some reason the output (@connections) is different, but why? I'm guessing it has something to do with Ruby object model?</p>

<p>Perhaps the new hash object [] is being create each time, but not saved? But why?</p>
","149392","","<p>The difference in your code isn't about <code>&lt;&lt;</code> vs. <code>push</code>, it's about the fact that you re-assign in one case and don't in the other. The following two pieces of code are equivalent:</p>

<pre><code>@connections = Hash.new []
@connections[1] = @connections[1].push(2)
puts @connections # =&gt; {1=&gt;[2]}

@connections = Hash.new []
@connections[1] = (@connections[1] &lt;&lt; 2)
puts @connections # =&gt; {1=&gt;[2]}
</code></pre>

<p>As are these two:</p>

<pre><code>@connections = Hash.new []
@connections[1].push(2)
puts @connections # =&gt; {}

@connections = Hash.new []
@connections[1] &lt;&lt; 2
puts @connections # =&gt; {}
</code></pre>

<p>The reason that re-assignment makes a difference here is that accessing a default value, does not automatically add an entry for it to the hash. That is if you have <code>h = Hash.new(0)</code> and then you do <code>p h[0]</code>, you'll print 0, but the value of <code>h</code> will still be <code>{}</code> (not <code>{0 =&gt; 0}</code>) because the 0 is not added to the hash. If you do <code>h[0] += 1</code>, this will call the <code>[]=</code> method on the hash and actually add an entry for 0 to it, so <code>h</code> becomes <code>{0 =&gt; 1}</code>.</p>

<p>So when you do <code>@connections[1] &lt;&lt; 2</code> in your code, you get the default array and perform <code>&lt;&lt;</code> on it, but you don't store anything in <code>@connections</code>, so it stays <code>{}</code>. When you do <code>@connections[i] = @connections[i].push(2)</code> or <code>@connections[i] = (@connections[i] &lt;&lt; 2)</code>, you're calling <code>[]=</code>, so the entry gets added to the hash.</p>

<hr>

<p>However you should note that the hash will return a reference to the same array each time, so even if you do add the entry to the hash, it will likely still not behave as you expect once you add more than one entry (since all entries refer to the same array):</p>

<pre><code>@connections = Hash.new []
@connections[1] = @connections[1].push(2)
@connections[2] = @connections[2].push(42)
puts @connections # =&gt; {1 =&gt; [2, 42], 2 =&gt; [2, 42]}
</code></pre>

<p>What you really want is a hash that returns a reference to a new array each time that a new key is accessed and that automatically adds an entry for the new array when that happens. To do that you can use the block form of <code>Hash.new</code> like this:</p>

<pre><code>@connections = Hash.new do |h, k|
  h[k] = []
end
@connections[1].push(2)
@connections[2].push(42)
puts @connections # =&gt; {1 =&gt; [2], 2 =&gt; [42]}
</code></pre>
"
"<p>OK, it's been a long day and my brain may not function at Haskell level, but I just cannot understand one example from 'Learn You a Haskell'.</p>

<p>The section is called <em>Function Application with $</em>, and there is example of how <code>$</code> may be defined:</p>

<pre><code>($) :: (a -&gt; b) -&gt; a -&gt; b
f $ x = f x
</code></pre>

<p>So far everything is clear. I understand all examples in the section, except for the last one:</p>

<pre><code>ghci&gt; map ($ 3) [(4+), (10*), (^2), sqrt]
[7.0,30.0,9.0,1.7320508075688772]
</code></pre>

<p>Here we map <code>($ 3)</code> across list of functions and get result of application of those functions to <code>3</code>. But how is this possible?</p>

<p>From the first code snippet it's clear that first argument is a function, we can even write:</p>

<pre><code>*Main&gt; ($) sqrt 4
2.0
</code></pre>

<p>Now <code>($ 3)</code> is a partial application of function <code>$</code>, but <code>3</code> goes on function's position! So <code>3</code> is supposed to be a function or what?</p>

<p>There is another mystery: what the heck is <code>(4+)</code>? I know that <code>(+4)</code> is a partial application of function <code>+</code>, so <code>(4+)</code> should be partial application of function <code>4</code>? Nonsense. What sort of trick works here?</p>
","149392","","<p><code>($ 3)</code> and <code>(+ 4)</code> aren't partial applications - they're operator sections. A partial application would look like <code>(($) 3)</code> or <code>((+) 4)</code>.</p>

<p>An operator section of the form <code>(? x)</code> (where <code>?</code> stands for an arbitrary infix operator) binds the <em>right</em> operand of the operator, i.e. it is equivalent to <code>\y -&gt; y ? x</code>. Likewise the operator section <code>(x ?)</code> binds the left operand and is thus equivalent to partial application.</p>
"
"<p>At the moment, I am learning how to parse Scheme in Java. Here is the basic list (I do not know what its formal name is) Edit: Grammar!</p>

<pre><code>exp -&gt; ( rest
     | #f
     | #t
     | ' exp
     | integer_constant
     | string_constant
     | identifier

rest -&gt; )
     | exp+ [ . exp ] )
</code></pre>

<p>My question is: What is that list called, like what is the formal name for it? ""Parse list""? Edit: According to a comment, it's called grammar.</p>

<p>And how to read it? My guess is that the expression goes in between the the left and right parenthesis, example: <code>( exp )</code>. </p>

<p>Additionally I guess any of the objects between the lines <code>exp -&gt; ( rest</code> and <code>rest -&gt;)</code>, <code>#f</code>, <code>#t</code>, <code>' exp</code>, <code>integer_constant</code>, <code>string_constant</code>, <code>identifier</code> go in place of the expression in the previous example example. Like for example: <code>( #t )</code></p>

<p>And the last item on the list is <code>| exp+ [ . exp] )</code>, which I suppose is another expression to the right of the first right parenthesis such as for example with the previous example: <code>((#t) exp)</code>?</p>

<p>Lastly, this bit <code>[ . exp]</code>, the bracket just says it is optional?</p>

<p>If I am wrong, please correct me.</p>
","149392","","<p>This is called a grammar. There are many different syntaxes for writing down grammars, but they are all quite similar to each other.</p>

<p>Here <code>-&gt;</code> can be read as ""is"", <code>|</code> as ""or"", <code>+</code> as one or more, and <code>[]</code>, as you suspected, as ""optionally"". The other symbols used here just stand for themselves. So this grammar can be read like this:</p>

<ol>
<li><p>An expression is:</p>

<ul>
<li>an opening parentheses followed by a ""rest"" (see 2)</li>
<li>OR a hash mark followed by the letter f</li>
<li>OR a hash mark followed by the letter t</li>
<li>OR a single quote followed by an expression</li>
<li>OR an integer constant (like <code>123</code>)</li>
<li>OR a string constant (like <code>""foo""</code>)</li>
<li>OR an identifier (like <code>foo</code>)</li>
</ul></li>
<li><p>A ""rest"" is:</p>

<ul>
<li>a closing parentheses</li>
<li>OR one or more expressions, optionally followed by a dot and one other expression, followed by a closing parenthesis</li>
</ul></li>
</ol>

<p>So <code>foo</code> is an expression (because identifiers are expressions), <code>()</code> is an expression (because <code>)</code> is a ""rest"" and <code>( rest</code> is an expression, <code>(foo)</code> is an expression (because <code>foo</code> is an expression, <code>exp )</code> is a ""rest"" and <code>( rest</code> is an expression) and so on.</p>
"
"<p>In examples I've observed <code>dropWhile</code>'s behavior:</p>

<pre><code>*Main&gt; dropWhile (/= 'X') ""AXF""
""XF""
</code></pre>

<p>But, I'm confused why <code>""AX""</code> does not return:</p>

<pre><code>*Main&gt; dropWhile (== 'X') ""AXF""
""AXF""
</code></pre>

<p>Why does <code>""AXF""</code> return in this test?</p>
","149392","","<p><code>dropWhile</code> drops elements while the condition is true and then stops (returning the remaining elements) once the condition is false.</p>

<p>With <code>dropWhile (== 'X') ""AXF""</code> the condition is false right away (because <code>'A' == 'X'</code> is false), so it doesn't drop anything and returns the whole list.</p>
"
"<p>Yesterday I asked about grammar, and today in Java, I am learning how to implement an algorithm for parsing the grammar, using tokens from the lexical analyzer that I finished.</p>

<p>For this question, I need a person to check my understanding.</p>

<p>Let's suppose given the Scheme grammar: </p>

<pre><code>exp -&gt; ( rest
     | #f
     | #t
     | ' exp
     | integer_constant
     | string_constant
     | identifier

rest -&gt; )
     | exp+ [ . exp ] )
</code></pre>

<p>Would the following pseudo code be correct? I studied the recursive descent parser, and would need to make a parse tree for the interpreter by creating nodes of the parse tree.</p>

<pre><code> Node parseExp() {
      check to see if the token is left parenthesis
           if true, return a node for Cons (which is a non-terminating node in Scheme 
           parse tree) and call parseRest()
      else check to see if the token is #f
           if true, return a node for Boolean with stored value #f
      else check to see if the token is #t
           if true, return a node for Boolean with stored value #t
      else check to see if the token is quote
           if true, return a node for Quote and recursively call parseExp()
      else check to see if the token is integer_constant
           if true, return a node for Integer with stored value int
      else check to see if the token is string_constant
           if true, return a node for String with stored string value
      else check to see if the token is identifier
           if true, return a node for identifier with stored string value
      else
           print error message saying a Syntax error occured
           return null
 }

 Node parseRest() {
      check to see if the token is right parenthesis
           if true, return a node for Nil (which is a terminating () node in scheme 
           parse tree)
      else  // I am having difficulty trying to put this into an algorithm here
           call parseExp() for the first expression
           while (token does not equal right parenthesis) {
                getNextToken()
                if (token equals right parenthesis)
                     return a node for right parenthesis
                else if (token equals dot)
                     return a node for dot
                     getNextToken()
                     if (token equals right parenthesis)
                          print error message saying a Syntax error occurred
                          return null
                     else
                        call parseExp()
                else
                     parseExp() 
           }    
 }
</code></pre>

<p>If I have a wrong idea about it, please correct me. parseRest() is said to require a lookahead token for it to make a decision, could that be explained and probably a pseudo code example?</p>

<p>Thanks!               </p>
","149392","","<p>You're on the right track, but there's some issues:</p>

<pre><code>check to see if the token is left parenthesis
     if true, return a node for Cons (which is a non-terminating node in Scheme 
     parse tree) and call parseRest()
</code></pre>

<p>This is a bit ambiguous since you don't mention what you intend to do with the result of <code>parseRest()</code>, but I assume you want to store it in the Cons node. The problem with that is that a Cons node should have two children (in case of a list that'd be the head of the list and its tail - if that isn't clear, you may have to review the rules of the Scheme language), yet parseRest only gives you one node, so that doesn't work. So let's take a step back and think about what we want when we see a <code>(</code>:</p>

<p>A <code>(</code> is either the start of a pair (i.e. a dotted pair or a non-empty list) or it's the empty list <code>()</code>. In the first case we want a Cons node, but in the second case we want a Nil node as an empty list is not a cons cell. So we have two possibilities and we don't know which one to choose until we've looked at the rest of the list. Therefore the decision shouldn't be made here, but rather inside the parseRest function. So we change the code to:</p>

<pre><code>check to see if the token is left parenthesis
     if true, return the result of parseRest()
</code></pre>

<p>So now let's look at parseRest:</p>

<p>Here you sometimes returns nodes for dots and parentheses, but those aren't supposed to be nodes in the AST at all - they're tokens. Another issue is that when you call parseRest recursively, you again aren't clear about what you want to do with the result. One might think you want to return the result, but then your while-loop would be pointless since you return out of it right in the first iteration every time. In fact this is a problem even in the non-recursive cases: For example you return a dot node and then continue to parse the expression after it. But after the return the function exits, so anything that comes after the return will be ignored. So this doesn't work.</p>

<p>Before we talk about how to make it work, let's first get a clearer picture of what the generated AST is supposed to look like:</p>

<ul>
<li>For ""()"" we want a Nil node. That works fine with your current code.</li>
<li>For ""(x)"" we want <code>Cons(Ident(""x""), Nil)</code>.</li>
<li>For ""(x . y)"" we want <code>Cons(Ident(""x""), Ident(""y""))</code>.</li>
<li>For ""(x y)"" we want <code>Cons(Ident(""x""), Cons (Ident(""y""), Nil))</code>.</li>
<li>For ""(x y . z)"" we want <code>Cons(Ident(""x""), Cons (Ident(""y""), Ident(""z"")))</code>.</li>
</ul>

<p>I hope the pattern is now clear (else you might want to review the Scheme language). So how do we get that kind of AST?</p>

<p>Well, if we see a <code>)</code>, we return <code>Nil</code>. Again that already works in your code. Otherwise we parse an expression (and if there is no valid expression here, we have an error). Now what happens after that? Well if we found an expression, that expression is the first element of a Cons cell. So we want to return <code>Cons(theExpression, ...)</code>. But what goes into the <code>...</code> part? Well that depends on whether the next token is a dot or not. If it is a dot, we have a dotted expression, so there needs to be an expression after the dot and we want to return <code>Cons(theExpressionBeforeTheDot, theExpressionAfterTheDot)</code>. If there's no dot, it means we're in a list and what follows is its tail. So we want to return <code>Cons(theExpression, parseRest())</code>.</p>

<blockquote>
  <p>parseRest() is said to require a lookahead token for it to make a decision, could that be explained and probably a pseudo code example?</p>
</blockquote>

<p>Lookahead means that you have to look at the token that comes next without actually removing it from the stream. In terms of your pseudo code that means that you want to know which token will be returned when you call <code>nextToken()</code> without actually changing what the next call to <code>nextToken()</code> will return. So you'd have another built-in function like <code>peekNext()</code> that returned the next token without actually advancing the iterator in the token stream.</p>

<p>The reason why you need this in parseRest is the dot: When you check whether the next token is a dot and it turns out that it isn't, then you don't want the token to be actually gone. That is, you'll call parseExpression and then parseExpression will call nextToken, right? And when that happens you want it to return the token that comes right after the current expression - you don't want to skip that token because you had to check whether it's a dot. So when checking for the dot, you need to call <code>peekToken</code> instead of <code>nextToken</code> (you still need to remove the token when it is a dot though).</p>
"
"<p>I'm trying to write a function ""dom_rank r1 r2"" that returns a boolean depending on the relative ranks of two playing Cards (rank is a type I defined, it has values ""Six"", ""Seven"", ""Eight"" ..... ""King"", ""Ace""). If r1 is a King and r2 is a Jack, r1 is greater than r2 and the function returns true, and if r1 is Six and r2 is Ten then the function returns false. I understand that I could list out every possibility of two card inputs (I'm only dealing with cards Six-Ace, that makes about 30 different possibilities) but I'm trying to write simpler code. The method looks something like:</p>

<pre><code>let dom_rank r1 r2 = match r1, r2 with
  | Ace, _ -&gt; true
  | King, (Queen || Jack || Ten ........) -&gt; true
</code></pre>

<p>I'm getting a syntax error at the beginning of the boolean expression ""(Queen || Jack || Ten ........)"". Why can't I list several possibilities for r2 in this way? Is there a way to write this expression in Ocaml?</p>
","149392","","<p>As you said yourself, <code>||</code> is a boolean operator. <code>Queen</code>, <code>Jack</code> etc. are not boolean values. Therefore you can not apply boolean operators to them (not to mention that you can't use arbitrary expressions as patterns in a <code>match</code>).</p>

<p>What you can do is to put multiple patterns next to each separated by <code>|</code> like this:</p>

<pre><code>| King, Queen | King, Jack| King, Ten |... -&gt; true
</code></pre>

<p>Of course that's not as succinct as you need to spell out King each time. You can avoid them by using nested pattern matches rather than matching on a tuple:</p>

<pre><code>let dom_rank r1 r2 =
  match r1 with
  | Ace  -&gt; true
  | King-&gt; 
    (match r2 with
     | Ace -&gt; false
     | _ -&gt; true)
  | ...
  | Seven -&gt;
    (match r2 with
     | Six, Five, Four, Three, Two -&gt; true
     | _ -&gt; false)
</code></pre>

<p>Another approach would be to define a function that maps each rank to an integer and then just define <code>dom_rank</code> as:</p>

<pre><code>let dom_rank r1 r2 = int_of_rank r1 &gt;= int_of_rank r2
</code></pre>

<p>That should cut down on a lot of repetition and is the best version in my opinion.</p>
"
"<p>I am trying to use this line of code here: </p>

<p><code>longest = twoOfArray.inject(0) {|memo,word| memo &gt; word.length ? memo : word.length}</code>, </p>

<p>and put it into this printf on this line like this:</p>

<p><code>twoOfArray.each {|k, v| puts ""%-*.*s"" % [longest] + "" "" + '*'*v }</code></p>

<p>However, it gives me the error:</p>

<p><code>%': too few arguments (ArgumentError)</code></p>

<p>Does this mean that something is wrong with my <code>longest</code> variable? Or is my syntax wrong? I cant seem to fix the problem. Does anyone see whats wrong here?</p>
","149392","","<p>The format string <code>""%-*.*s"" expects three arguments: two numbers (one for each</code>*`) and a string. Your array only contains a single argument.</p>
"
"<p>I keep getting ""Fatal Error: start symbol N_START does not derive any sentence. I am completely lost on what could be wrong with this code. </p>

<p>I have looked at previous versions and I can't find anything that I am doing differently. </p>

<p>Here is the code (It is long D:)</p>

<pre><code>%error-verbose
%{

#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;

using namespace std;

void printTokenInfo(char* tokenType, char* lexeme);
void printRule(const char *lhs, const char *rhs);
int yyerror(const char *s);

int numLines = 0; 

extern ""C"" {
 int yyparse(void);
 int yylex(void);
 int yywrap() { return 1; }
}

%}

/* Token declarations */
%token T_ASSIGN T_MULT T_PLUS T_MINUS T_DIV
%token T_AND T_OR T_NOT T_LT T_GT
%token T_LE T_GE T_EQ T_NE T_VAR
%token T_ARRAY T_OF T_BOOL T_CHAR T_INT
%token T_PROG T_PROC T_BEGIN T_END T_WHILE
%token T_DO T_IF T_READ T_UNKNOWN
%token T_WRITE T_TRUE T_FALSE T_LBRACK T_RBRACK
%token T_SCOLON T_COLON T_LPAREN T_RPAREN T_COMMA
%token T_DOT T_DOTDOT T_INTCONST T_CHARCONST T_IDENT

%nonassoc T_THEN
%nonassoc T_ELSE

/* Starting point */
%start N_START

%%
N_START : N_PROG
    {
        printRule(""START"", ""PROG"");
        return 0;
    }
    ;
N_PROG  : N_PROGLBL T_IDENT T_SCOLON N_BLOCK T_DOT
    {
        printRule(""PROG"", ""PROG_LBL ident ; BLOCK."");
    }
    ;
N_PROGLBL : T_PROG
    {
        printRule(""PROG_LBL"", ""T_PROGTOKEN"");
    }
    ;
N_BLOCK : N_VAR_DEC N_PROC_DEC N_STMT
    {
        printRule(""BLOCK"", ""VAR_DEC PROC_DEC STMT"");
    }
    ;
N_VAR_DEC_PART  :   //Epsilon
    {
        printRule(""VAR_DEC_PART"", ""epsilon"");
    }
            |   T_VAR N_VAR_DEC T_SCOLON N_VAR_DEC_LST
    {
        printRule(""VAR_DEC_PART"", ""var VAR_DEC : VAR_DEC_LST"");
    }
    ;
N_VAR_DEC_LST   :   //Epsilon
    {
        printRule(""VAR_DEC_LST"", ""epsilon"");
    }
                |   N_VAR_DEC T_SCOLON N_VAR_DEC_LST
    {
        printRule(""VAR_DEC_LST"", ""VAR_DEC : VAR_DEC_LST"");
    }
    ;
N_VAR_DEC   :   T_IDENT N_VAR_DEC_LST T_COLON N_TYPE
    {
        printRule(""VAR_DEC"", ""ident VAR_DEC_LST : TYPE"");
    }
    ;
N_IDENT     :   T_IDENT
    {
        printRule(""IDENT"", ""ident"");
    }
    ;
N_IDENT_LST :   //Epsilon
    {
        printRule(""IDENT_LST"", ""epsilon"");
    }
            |   T_COMMA N_IDENT N_IDENT_LST
    {
        printRule(""IDENT_LST"", "", IDENT IDENT_LST"");
    }
    ;
N_TYPE  :   N_SIMPLE
    {
        printRule(""TYPE"", ""SIMPLE"");
    }
        |   N_ARRAY
    {
        printRule(""TYPE"", ""ARRAY"");
    }
    ;
N_ARRAY :   T_ARRAY T_LBRACK N_IDX_RANGE T_RBRACK T_OF N_SIMPLE
    {
        printRule(""ARRAY"", ""ARRAY ( IDX_RANGE ) of SIMPLE"");
    }
    ;
N_IDX   :   N_INTCONST
    {
        printRule(""IDX"", ""IN_CONST"");
    }
    ;
N_IDX_RANGE :   N_IDX T_DOTDOT N_IDX
    {
        printRule(""IDX_RANGE"", ""IDX .. IDX"");
    }
    ;
N_SIMPLE    :   T_INTCONST
    {
        printRule(""SIMPLE"", ""intconst"");
    }
            |   T_CHARCONST
    {
        printRule(""SIMPLE"", ""charconst"");
    }
            |   T_BOOL
    {
        printRule(""SIMPLE"", ""bool"");
    }
    ;
N_PROC_DEC_PART :   //Epsilon
    {
        printRule(""PROC_DEC_PART"", ""epsilon"");
    }
                |   N_PROC_DEC T_SCOLON N_PROC_DEC_PART
    {
        printRule(""PROC_DEC_PART"", ""PROC_DEC : PROC_DEC_PART"");
    }
    ;
N_PROC_DEC  :   N_PROC_HDR N_BLOCK
    {
        printRule(""PROC_DEC"", ""PROC_HDR BLOCK"");
    }
    ;
N_PROC_HDR  :   T_PROC T_IDENT T_SCOLON
    {
        printRule(""PROC_HDR"", ""proc ident :"");
    }
    ;
N_STMT_PART :   N_COMPOUND
    {
        printRule(""STMT_PART"", ""COMPOUND"");
    }
    ;
N_COMPOUND  :   T_BEGIN N_STMT N_STMT_LST T_END
    {
        printRule(""COMPOUND"", ""begin STMT STMT_LST end"");
    }
    ;
N_STMT_LST  :   //Epsilon
    {
        printRule(""STMT_LST"", ""epsilon"");
    }
            |   T_SCOLON N_STMT N_STMT_LST
    {
        printRule(""STMT_LST"", "": STMT STMT_LST"");
    }
    ;
N_STMT  :   N_ASSIGN
    {
        printRule(""STMT"", ""ASSIGN"");
    }
        |   N_PROC_STMT
    {
        printRule(""STMT"", ""PROC_STMT"");
    }
        |   N_READ
    {
        printRule(""STMT"", ""READ"");
    }
        |   N_WRITE
    {
        printRule(""STMT"", ""WRITE"");
    }
        |   N_CONDITION
    {
        printRule(""STMT"", ""CONDITION"");
    }
        |   N_WHILE
    {
        printRule(""STMT"", ""WHILE"");
    }
        |   N_COMPOUND
    {
        printRule(""STMT"", ""COMPOUND"");
    }
    ;
N_ASSIGN    :   N_VAR T_ASSIGN N_EXPR
    {
        printRule(""ASSIGN"", ""VAR := EXPR"");
    }
    ;
N_PROC_STMT :   N_PROC_IDENT
    {
        printRule(""PROC_STMT"", ""PROC_IDENT"");
    }
    ;
N_PROC_IDENT    :   T_IDENT
    {
        printRule(""PROC_IDENT"", ""ident"");
    }
    ;
N_READ  :   T_READ T_LPAREN N_INPUT_VAR N_INPUT_LST T_RPAREN
    {
        printRule(""READ"", ""read ( INPUT INPUT_LST )"");
    }
    ;
N_INPUT_LST :   //Epsilon
    {
        printRule(""INPUT_LST"", ""epsilon"");
    }
            |   T_COMMA N_INPUT_VAR N_INPUT_LST
    {
        printRule(""INPUT_LST"", "", INPUT_VAR INPUT_LST"");
    }
    ;
N_INPUT_VAR :   N_VAR
    {
        printRule(""INPUT_VAR"", ""VAR"");
    }
    ;
N_WRITE :   T_WRITE T_LPAREN N_OUTPUT N_OUTPUT_LST T_RPAREN
    {
        printRule(""WRITE"", ""write ( OUTPUT OUTPUT_LST )"");
    }
    ;
N_OUTPUT_LST    :   //Epsilon
    {
        printRule(""OUTPUT_LST"", ""epsilon"");
    }
                |   T_COMMA N_OUTPUT N_OUTPUT_LST
    {
        printRule(""OUTPUT_LST"", "", OUTPUT OUTPUT_LST"");
    }
    ;
N_OUTPUT    :   N_EXPR
    {
        printRule(""OUTPUT"", ""EXPR"");
    }
    ;
N_CONDITION :   T_IF N_EXPR T_THEN N_STMT
    {
        printRule(""CONDITION"", ""if EXPR then STMT"");
    }
            |   T_IF N_EXPR T_THEN N_STMT T_ELSE N_STMT
    {
        printRule(""CONDITION"", ""if EXPR then STMT else STMT"");
    }
    ;
N_WHILE :   T_WHILE N_EXPR T_DO N_STMT
    {
        printRule(""WHILE"", ""while EXPR do STMT"");
    }
    ;
N_EXPR  :   N_SIMPLE_EXPR
    {
        printRule(""EXPR"", ""SIMPLE_EXPR"");
    }
        |   N_SIMPLE_EXPR N_REL_OP N_SIMPLE_EXPR
    {
        printRule(""EXPR"", ""SIMPLE_EXPR REL_OP SIMPLE_EXPR"");
    }
    ;
N_SIMPLE_EXPR   :   N_TERM N_ADD_OP_LST
    {
        printRule(""SIMPLE_EXPR"", ""TERM ADD_OP_LST"");
    }
    ;
N_ADD_OP_LST    :   //Epsilon
    {
        printRule(""ADD_OP_LST"", ""epsilon"");
    }
                |   N_ADD_OP N_TERM N_ADD_OP_LST
    {
        printRule(""ADD_OP_LST"", ""ADD_OP TERM ADD_OP_LST"");
    }
    ;
N_TERM  :   N_FACTOR N_MULT_OP_LST
    {
        printRule(""TERM"", ""FACTOR MULT_OP_LST"");
    }
    ;
N_MULT_OP_LST   :   //Epsilon
    {
        printRule(""MULT_OP_LST"", ""epsilon"");
    }
                |   N_MULT_OP N_FACTOR N_MULT_OP_LST
    {
        printRule(""MULT_OP_LST"", ""MULT_OP FACTOR MULT_OP_LST"");
    }
    ;
N_FACTOR    :   N_SIGN N_VAR
    {
        printRule(""FACTOR"", ""SIGN VAR"");
    }
            |   N_CONST
    {
        printRule(""FACTOR"", ""CONST"");
    }
            |   T_LPAREN N_EXPR T_RPAREN
    {
        printRule(""FACTOR"", ""( EXPR )"");
    }
            |   T_NOT N_FACTOR
    {
        printRule(""FACTOR"", ""not FACTOR"");
    }
    ;
N_SIGN  :   //Epsilon
    {
        printRule(""SIGN"", ""epsilon"");
    }
        |   T_PLUS
    {
        printRule(""SIGN"", ""+"");
    }
        |   T_MINUS
    {
        printRule(""SIGN"", ""-"");
    }
    ;
N_ADD_OP    :   T_PLUS
    {
        printRule(""ADD_OP"", ""+"");
    }
            |   T_MINUS
    {
        printRule(""ADD_OP"", ""-"");
    }
            |   T_OR
    {
        printRule(""ADD_OP"", ""or"");
    }
    ;
N_MULT_OP   :   T_MULT
    {
        printRule(""MULT_OP"", ""*"");
    }
            |   T_DIV
    {
        printRule(""MULT_OP"", ""/"");
    }
            |   T_AND
    {
        printRule(""MULT_OP"", ""and"");
    }
    ;
N_REL_OP    :   T_LT
    {
        printRule(""REL_OP"", ""&lt;"");
    }
            |   T_GT
    {
        printRule(""REL_OP"", ""&gt;"");
    }
            |   T_LE
    {
        printRule(""REL_OP"", ""&lt;="");
    }
            |   T_GE
    {
        printRule(""REL_OP"", ""&gt;="");
    }
            |   T_EQ
    {
        printRule(""REL_OP"", ""="");
    }
    ;
N_VAR   :   N_ENTIRE_VAR
    {
        printRule(""VAR"", ""ENTIRE_VAR"");
    }
        |   N_IDX_VAR
    {
        printRule(""VAR"", ""IDX_VAR"");
    }
    ;
N_IDX_VAR   :   N_ARRAY_VAR T_LBRACK N_EXPR T_RBRACK
    {
        printRule(""IDX_VAR"", ""ARRAY_VAR ( EXPR )"");
    }
    ;
N_ARRAY_VAR :   N_ENTIRE_VAR
    {
        printRule(""ARRAY_VAR"", ""ENTIRE_VAR"");
    }
    ;
N_ENTIRE_VAR    :   N_VAR_IDENT
    {
        printRule(""ENTIRE_VAR"", ""VAR_IDENT"");
    }
    ;
N_VAR_IDENT :   T_IDENT
    {
        printRule(""VAR_IDENT"", ""IDENT"");
    }
    ;
N_CONST :   N_INTCONST
    {
        printRule(""CONST"", ""INTCONST"");
    }
        |   T_CHARCONST
    {
        printRule(""CONST"", ""CHARCONST"");
    }
        |   N_BOOLCONST
    {
        printRule(""CONST"", ""BOOLCONST"");
    }
    ;
N_INTCONST  :   N_SIGN T_INTCONST
    {
        printRule(""INTCONST"", ""SIGN intconst"");
    }
    ;
N_BOOLCONST :   T_TRUE
    {
        printRule(""BOOLCONST"", ""true"");
    }
            |   T_FALSE
    {
        printRule(""BOOLCONST"", ""false"");
    }
    ;
%%

#include ""lex.yy.c""
extern FILE *yyin;

void printRule(const char *lhs, const char *rhs) {
    printf(""%s -&gt; %s\n"", lhs, rhs);
    return;
}

int yyerror(const char *s) {
    printf(""%s\n"", s);
    return(1);
}

void printTokenInfo(const char* tokenType, const char* lexeme) {
    printf(""TOKEN: %s LEXEME: %s\n"", tokenType, lexeme);
}

int main() {
    do {
        yyparse();
    } while (!feof(yyin));

    printf(""%d lines processed\n"", numLines);

    return 0;
}
</code></pre>

<p>Any ideas?</p>
","149392","","<p>According to your grammar, every <code>N_BLOCK</code> must contain an <code>N_PROC_DEC</code> and every <code>N_PROC_DEC</code> must contain an <code>N_BLOCK</code>. This infinite recursion makes it impossible for <code>N_BLOCK</code> and <code>N_PROC_DEC</code> to successfully match anything and since <code>N_START</code> needs an <code>N_BLOCK</code>, it's also impossible for <code>N_START</code> to ever succeed.</p>
"
"<p>I have this question.
If I've a dynamic language divided in unities(subprograms). Is it possible that this language has a static scope?
In case that YES, how it's expressed in the symbols table? this has a field in each row that represent the static chain like the A.R. in Algol style language?</p>
","149392","","<p>Most languages have static scope. That includes many dynamic langauges (Python, Ruby, Javascript and even Perl if you use <code>my</code> to declare your variables).</p>

<blockquote>
  <p>In case that YES, how it's expresed in the symbols table?</p>
</blockquote>

<p>The same way it is in any other language. If you encounter a variable declaration (where in some languages ""declaration"" means ""the first time that the variable is assigned to""), the variable is added to the table. Once you reach the end of the scope, it is removed from the table. In some languages the rules may be a bit more complicated (for example in Javascript the variable will be in scope even before its declaration), but that's basically it.</p>
"
"<p>I can see people using lambdas in object expressions such as in <a href=""http://stackoverflow.com/questions/15246660/object-expression-and-captured-state-in-f"">this post</a>, but I can't quite figure out why the following idea doesn't work.</p>

<pre><code>type fooType = {flar : string; grib: int}
let boundFoo = {flar = ""hello""; grib = 1}
let flack = {boundFoo with grib = fun () -&gt; if boundFoo.flar = ""hello"" then 5 else 4}
</code></pre>

<p>From what I can gather, it doesn't like <code>fun () -&gt;</code>, but <code>fun _ -&gt;</code> and <code>fun x -&gt;</code> don't seem to lead anywhere different?</p>

<p>My research on this so far at my usual spots <a href=""http://msdn.microsoft.com/en-us/library/dd233237.aspx"" rel=""nofollow"">MSDN</a>, <a href=""http://fsharpforfunandprofit.com/posts/object-expressions/"" rel=""nofollow"">F# for fun and profit</a> and <a href=""https://www.google.com/#safe=off&amp;q=f%23+lambda+in+object+expression"" rel=""nofollow"">google</a> didn't lead me down any clear paths.</p>

<p>What am I missing here?</p>
","149392","","<p>In your code <code>grib</code> is an int. <code>fun () -&gt; ...</code> is not an int, it's a function. Therefore <code>fun () -&gt; ...</code> is not a valid value for the field <code>grib</code>.</p>

<p>If <code>grib</code> had the type <code>() -&gt; int</code>, then your code would work (except that you'd have to change <code>grib = 1</code> on the previous line to <code>grib = fun () -&gt; 1</code> of course), but that doesn't really seem a useful thing to do here. Really it does not seem like a function is really appropriate here. This will work fine:</p>

<pre><code>let flack = {boundFoo with grib = if boundFoo.flar = ""hello"" then 5 else 4}
</code></pre>
"
"<p>Im trying to create a function to initialize a board for an othelo game, i thought using generic functions would be better for learning but i encountered problems very early, can someone tell me why is this not working?
I define an othelotype that is a 10x10 int array.</p>

<pre><code>othelotype* inicializartablero (othelotype* board)
{
  int x, y;

  for (x = 0; x &lt; 8; x++)
    for (y = 0; y &lt; 8; y++)
       board[x][y] = 2;


  board[4][5] = board[5][4] = 0;
  board[4][4] = board[5][5] = 1;

}
</code></pre>
","149392","","<p>According to the code in your comment, <code>othelotype</code> is not a 10x10 array - it's a struct. Structs can not be accessed using the <code>[]</code> operator. What you can do with structs is access their members. In this case I imagine you want to access the <code>cuadrado</code> member and then index into that (as that actually is an array).</p>
"
"<p>I am watching 'Haskell Fundamentals Part 1' in Pluralsight. In the second chapter, the author shows an very simple function with <strong>if</strong> in it. When I tried it, I am getting error everytime when I tried the function with negative number. Here is the function</p>

<pre><code>posOrNeg x = 
    if x &gt;= 0
    then ""Positive""
    else ""Negative""
</code></pre>

<p>When I tried the method with positive number it worked fine but when I call the method with negative number, winGHCi throws following error.<br>
""No instance for (Show (a0 -> [Char]))) arising from a use of 'print'...""<br> Is it more to it then just the function here? </p>
","149392","","<p>There is no way that you'd get a type error for applying a function to a negative number when applying the same function to a positive number of the same type works fine.</p>

<p>Without seeing the code, the most likely explanation is that you wrote something like <code>posOrNeg -42</code>, which is the same as <code>posOrNeg - 42</code> and tries to subtract 42 from <code>posOrNeg</code> (which isn't possible because, of course, you can't subtract a number from a function). The correct syntax to apply a function to a negative number is <code>posOrNeg (-42)</code> with parentheses around the number, so that's it's not possible to parse the <code>-</code> as an infix operator.</p>
"
"<p>If I have a nested function like such</p>

<pre><code>let test1 (sorted: int list) =
let test2 (sorted: int list) =
{blah with sorted} in
test2 sorted
</code></pre>

<p>How does the shadowing work? Inside test2 I'll use the parameter passed in (sorted) or will it access the larger scope sorted declared in test1?</p>
","149392","","<p>When there are multiple variables in scope with the same name, you will always access the one from the inner-most scope. So on line 3 you're accessing the parameter of <code>test2</code> and on line 4 you're accessing the parameter of <code>test1</code>.</p>
"
"<p>When I look at authoritative tutorial websites on regular expressions, the definition of negated character classes is always something like ""matches all characters not in the list"". However in this simple example : <a href=""http://regex101.com/r/iH8jE7/1"" rel=""nofollow"">""abc;xyz"" -match ""([^;]+)""</a>, I was hoping the match would be ""abcxyz"" but it isn't (match all characters that are not semicolons). So should the definition be ""matches all characters not in the list but only up until it finds a character in that list""?</p>
","149392","","<p>It should be ""match <em>any</em> character not in the list"" or ""match a character if and only if it is not in the list"". The important thing to realize is that a character class will only ever match a single character.</p>

<p>In your example you match multiple characters because you add <code>+</code>. For any regex <code>r</code>, the regex <code>r+</code> matches one or more <em>consecutive</em> matches of <code>r</code>. Therefore <code>[^;]+</code> matches <code>abc</code>, because that is the largest, earliest substring of ""abc;xyz"" where each character matches <code>[^;]</code>.</p>

<p>Note that no regex will ever match a substring that does not exist. That is there is no regex that will match ""abcxyz"" in ""abc;xyz"" since ""abcxyz"" is not a substring of ""abc;xyz"".</p>
"
"<p>Given a template class:</p>

<pre><code>template&lt;class T, class U&gt;
  struct myList {
    typedef T head;
    typedef U next;
  };

class nullList {};
</code></pre>

<p>It's possible to make a list of classes, e.g.</p>

<pre><code>myList&lt;int, myList&lt;string, myList&lt;short, nullList&gt; &gt; &gt;;
</code></pre>

<p>I'm trying to use the above list to make a template class that handles only the classes in the list. In the example above, my class would handle ints, strings, and shorts (e.g. printing them to console).</p>

<p>I've been struggling with this for a while, and I'm still not even sure where to start. Any code that begins with</p>

<pre><code>template&lt;class T, class U&gt;
class myClass {
    ...
};
</code></pre>

<p>fails because myClass takes only one template parameter, and that is myList i.e</p>

<pre><code>myClass&lt;myList&gt;
</code></pre>

<p>But if I try to use</p>

<pre><code>template&lt;typename l&gt;
class myClass {
   l.head foo;// cannot refer to type member 'head' in 'myList&lt;int, nullList&gt;' with '.'
}
</code></pre>

<p>Technically myList.head should be a class, right? How can I make use of that information?</p>
","149392","","<p>The <code>.</code> operator accesses members of <em>objects</em>. <code>l</code> is not an object - it's a class. To access static members of classes, you use the <code>::</code> operator. When the member you're accessing is a type and the class you're accessing it on is a template parameter, you also need the <code>typename</code> keyword for syntactical reasons. So your becomes:</p>

<pre><code>template&lt;typename l&gt;
class myClass {
    typename l::head foo;
}
</code></pre>

<p>If all you want is to print values of the given type and you're not interested in creating objects with members of that type, you could just define a static function that takes the type as its argument:</p>

<pre><code>template&lt;typename l&gt;
class myClass {
  public:
    static void print(typename l::head foo) {
        std::cout &lt;&lt; foo &lt;&lt; std::endl;
    }
};
</code></pre>

<p>In fact in this case, where you only consider the head of the list, you don't need a class at all and could just do:</p>

<pre><code>template&lt;typename l&gt;
void print(typename l::head foo) {
    std::cout &lt;&lt; foo &lt;&lt; std::endl;
}
</code></pre>

<p>However you'll (probably) need the class once you start taking into account the tail of the list.</p>
"
"<p>I am trying to use <code>foldr</code> to reverse a list like the following</p>

<pre><code> fun revl2 x = foldr(fn(x,y)=&gt;y@[x],[]);
</code></pre>

<p>and try this</p>

<pre><code> fun  revl1 x = foldr (op @) []x;
</code></pre>

<p>and this</p>

<pre><code> fun  revl1 x = foldr (op ::) []x;
</code></pre>

<p>it isn't work,I don't know why.</p>

<p>thank you.</p>
","149392","","<p><code>foldr</code> is what we call a curried function. This means that instead of taking its arguments as a tuple, it takes one argument and then returns another curried function that takes the remaining arguments in the same way. In this case all that means is that you need to call it as <code>foldr f init list</code>, not <code>foldr (f, init, list)</code>.</p>

<p>So that's why your first attempt was wrong (that and the fact that you didn't supply the list argument at all). In your second and third attempt you did use the correct syntax to call it, but you no longer supplied the correct function.</p>

<p>The function given to <code>foldr</code> takes two arguments: an element of the list and the current value of the accumulator. In your case the accumulator is a list, so you need to supply a function where the first argument is an element of the list and the second is a list. In your second attempt you supplied <code>op @</code>, which takes two lists, so that does not work.</p>

<p>In your third attempt you supplied <code>op ::</code>, which does take an element and a list, but it adds the element at the beginning of the list. Since the result of <code>foldr (op ?) init xs</code> is <code>x1 ? x2 ? x3 ? ... ? xn ?? init</code>, you get <code>x1 :: x2 :: x3 :: ... :: xn :: []</code> in this case, which is simply the original list - nothing has been reversed.</p>

<p>So to solve the problem, you need to supply a function that adds a single element at the end of a list. That's exactly what the function in your first attempt did, so just use that one.</p>
"
"<p>Assuming there have a pointer who made by placement new, it's size is 4, how can made it bigger without copy to an other pointer and delete it?</p>

<pre><code>int* ptr = (int*)(::operator new(sizeof(int)));   //how to make it bigger than now?
</code></pre>
","149392","","<p>You can't resize the memory allocated by <code>::operator new</code>. The only thing you can do is to delete it using <code>::operator delete</code> and then allocate new memory.</p>

<p>PS: Some notes on terminology:</p>

<p><code>::operator new</code> is not placement new. Placement new is invoked using the syntax <code>new(ptr) class(arguments)</code> and is used to invoke constructors to initialize memory that has not yet been initialized (such as memory allocated by <code>::operator new</code>). <code>::operator new</code> is simply called operator new.</p>

<p>The size of a pointer refers to the number of bytes that is used to store the pointer itself (usually 4 bytes on 32-bit platforms and 8 bytes on 64-bit platforms). What you meant is the size of the allocated memory, i.e. the size of the memory that the pointer points to.</p>
"
"<p>Is using <code>while(*p++)</code> for checking if an array has more elements dangerous?</p>

<p>Could there be problems if on the next memory location there is some value and this value is not a part of an array.</p>

<p>This simple code:</p>

<pre><code>#include &lt;stdio.h&gt;

void f(float *p) {
    printf(""%p : %.f\n"", p, *p);
    while(*p++){
        printf(""%p : %.f\n"", p, *p);
    }
    printf(""%p : %.f\n"", p, *p);
}

int main() {
    float p[] = {2.2, 3.2};
    f(p);
    return 0;
}
</code></pre>

<p>gives this output: </p>

<pre><code>0x7fffed4e8f10 : 2
0x7fffed4e8f14 : 3
0x7fffed4e8f18 : 0
0x7fffed4e8f1c : 0
</code></pre>

<p>So, if on 0x7fffed4e8f18 the value was ≠ 0 would it make my code wrong?</p>
","149392","","<p>As soon as <code>p</code> goes outside of the bounds the array, dereferencing it invokes undefined behavior. So yes, doing this is dangerous.</p>
"
"<p>I want to keep apply a parser to a string, and adding its output until I get to the end of the string. Unfortunately, when I parse the end of the string, it fails so I get an empty list. I want to be able to check if a parse has failed, then get the output from all the parses before that failed parse. I am trying to parse this string into a list of floats. How can I stop this from happening (i.e getting an empty list instead of my list of floats).</p>

<p>I have written a parser with this type:  <code>newtype Parser a = MkP (String -&gt; [(String,a)])</code>
and its monad instance is this: </p>

<pre><code>-- (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b
instance Monad Parser where 
    return x = MkP f
        where
            f inp = [(inp,x)]
    f &gt;&gt;= g = MkP s 
        where
            s inp = [(rest,out) | (firstremain,firstout) &lt;- applyParser f inp, (rest,out) &lt;- applyParser (g firstout) firstremain]
</code></pre>

<p>Failed parses are represented by an empty list []. I have these main parsers: </p>

<pre><code>item :: Parser Char
item = MkP f
    where
        f [] = []
        f (x:xs) = [(xs,x)]


zero :: Parser Char
zero = MkP f
    where
        f _ = []
</code></pre>

<p>I am trying to parse this string: </p>

<pre><code>unparsedboeyield = ""0.63    0.81    1.01    1.20    1.38    1.54    1.68    1.79    1.89    1.97    2.05    2.11    2.17    2.23    2.28    2.33    2.37    2.42    2.45    2.49    2.53    2.56    2.59    2.62    2.64    2.67    2.69    2.71    2.73    2.75    2.77    2.79    2.80    2.82    2.83    2.84    2.85    2.87    2.87    2.88    2.89    2.90    2.90    2.91    2.91    2.92    2.92    2.92    2.93    2.93""
</code></pre>

<p>with this parser:</p>

<pre><code>numberParser :: Parser Float
numberParser = do
    a &lt;- item
    b &lt;- item
    c &lt;- item
    d &lt;- item
    let number = read [a,b,c,d] :: Float in return number

yieldParser :: Parser [Float]
yieldParser = do
    x &lt;- numberParser
    helper [x] where
        helper y = do 
            a &lt;- randomthing
            helper (y ++ [a])
        randomthing = do
            item
            item
            item
            item
            numberParser
</code></pre>

<p>I don't understand what is happening when in <code>helper</code>, what is <code>a</code> when randomthing has failed (it can't be [] then it would raise a type error as it is not a float). When I try and parse the string this happens:</p>

<p>applyParser yieldParser boeunparsedyield => []</p>

<p>The whole code is here:</p>

<pre><code>import Control.Monad
import Data.Char


interpolate :: (Ord a, Fractional a) =&gt; ((a,a),(a,a)) -&gt; a -&gt; a
interpolate ((x1,y1),(x2,y2)) x = if (x &gt; x2) || (x &lt; x1) then error ""value out of range"" else y1 + difference * gradient

    where
        gradient = (y1 -y2)/(x1 - x2)
        difference = x - x1


pvt :: Fractional a =&gt; a -&gt; Int -&gt; a
pvt x t = x / (m + spotrate t)^t where m = 1 :: Fractional a =&gt; a

unparsedboeyield :: String
unparsedboeyield = ""0.63    0.81    1.01    1.20    1.38    1.54    1.68    1.79    1.89    1.97    2.05    2.11    2.17    2.23    2.28    2.33    2.37    2.42    2.45    2.49    2.53    2.56    2.59    2.62    2.64    2.67    2.69    2.71    2.73    2.75    2.77    2.79    2.80    2.82    2.83    2.84    2.85    2.87    2.87    2.88    2.89    2.90    2.90    2.91    2.91    2.92    2.92    2.92    2.93    2.93""
newtype Parser a = MkP (String -&gt; [(String,a)])


applyParser :: Parser a -&gt; String -&gt; [(String,a)]
applyParser (MkP x) y = x y 


-- (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b
instance Monad Parser where 
    return x = MkP f
        where
            f inp = [(inp,x)]
    f &gt;&gt;= g = MkP s 
        where
            s inp = [(rest,out) | (firstremain,firstout) &lt;- applyParser f inp, (rest,out) &lt;- applyParser (g firstout) firstremain]



item :: Parser Char
item = MkP f
    where
        f [] = []
        f (x:xs) = [(xs,x)]


zero :: Parser Char
zero = MkP f
    where
        f _ = []

sat :: (Char -&gt; Bool) -&gt; Parser Char
sat predicate = 
    item &gt;&gt;= \x -&gt;
    if predicate x then return x else zero


doParser :: Parser a -&gt; Int -&gt; Parser ()
doParser x count = helper count
    where
        helper count = do
            if count &gt; 0 then do
                x
                helper (count - 1)
            else return ()
numberParser :: Parser Float
numberParser = do
    a &lt;- item
    b &lt;- item
    c &lt;- item
    d &lt;- item
    let number = read [a,b,c,d] :: Float in return number

yieldParser :: Parser [Float]
yieldParser = do
    x &lt;- numberParser
    helper [x] where
        helper y = do 
            a &lt;- randomthing
            helper (y ++ [a])
        randomthing = do
            item
            item
            item
            item
            numberParser




spotrate :: Fractional a =&gt; Int -&gt; a
spotrate = \t -&gt; if (t == 1) then 5 else 2

untilParser :: (Char -&gt; Bool) -&gt; Parser [Char]
untilParser p = helper []
    where
        helper x = do
            y &lt;- item
            if p y then helper (x ++ [y]) else return x 
</code></pre>
","149392","","<pre><code>helper y = do 
    a &lt;- randomthing
    helper (y ++ [a])
</code></pre>

<blockquote>
  <p>what is a when randomthing has failed</p>
</blockquote>

<p><code>a</code> never gets a value when <code>randomthing</code> produces an empty list.</p>

<p>If you look at the definition of <code>&gt;&gt;=</code>, <code>g</code> is applied to <code>firstout</code> for each result in <code>applyParser f inp</code>. So if <code>applyParser f inp</code> yields zero results, <code>g</code> is applied zero times.</p>

<p>In the definition of helper <code>f</code> is <code>randomthing</code> and <code>g</code> is <code>\a -&gt; helper (y ++ [a])</code>. So if <code>g</code> is never applied (which it isn't when <code>randomthing produces an empty list for the given input)</code>, <code>a</code> doesn't have a value because <code>a</code> only exists inside <code>g</code>.</p>

<blockquote>
  <p>I want to be able to check if a parse has failed</p>
</blockquote>

<p>You can't do that using the monadic interface. Instead you'll have to use <code>applyParser</code> yourself and then check whether it returned an empty list.</p>
"
"<p>Is there some analog in F#? Something like</p>

<pre><code>let f () =
   let mutable static a = 0
   ...
</code></pre>

<p>?</p>
","149392","","<p>If you desugar <code>let f () = ...</code> to <code>let f = fun () -&gt; ...</code>, you can put the declaration of <code>a</code> inside of the definition of <code>f</code>, but before the beginning of the function. This will make the function close over <code>a</code> while keeping <code>a</code> local to <code>f</code>. The problem with this is that you may not close over mutable variables, so you'll need to use a ref instead:</p>

<pre><code>let f =
    let a = ref 0
    fun () -&gt;
        ....
</code></pre>
"
"<p>I've been looking at these functions:</p>

<pre><code>import Data.Digits (digits)
numberDivider (a,b) = a / b
numberDivider2 (num,denom) = num / denom
                              where
                                a = head $ digits 10 num
                                b = head . tail $ digits 10 denom
</code></pre>

<p>We can look at the types of these functions:</p>

<pre><code>λ&gt; :t numberDivider2
numberDivider2 :: (Integral a, Fractional a) =&gt; (a, a) -&gt; a
λ&gt; :t numberDivider
numberDivider :: Fractional a =&gt; (a, a) -&gt; a
</code></pre>

<p>The <code>numberDivider</code> does what you would think it does. <code>numberDivider2</code> gives: </p>

<pre><code>No instance for (Show a0) arising from a use of ‘print’
The type variable ‘a0’ is ambiguous
Note: there are several potential instances:
  instance Show Double -- Defined in ‘GHC.Float’
  instance Show Float -- Defined in ‘GHC.Float’
  instance (Integral a, Show a) =&gt; Show (GHC.Real.Ratio a)
    -- Defined in ‘GHC.Real’
  ...plus 34 others
In a stmt of an interactive GHCi command: print it
</code></pre>

<p>when called with correct arguments (e.g. (48,98)). Now I don't see how making something more specific leads to ambiguity? I feel that I am being stupid in some way. (I also don't see why the function needs to go from <code>(a,a) -&gt; a</code> as I would have thought it would be <code>(a,a) -&gt; b</code> where a is <code>Integral</code> and b is float or something.</p>

<p>I have tried putting in type annotations to force it to use Float for the result.</p>

<p>Can someone point out what I'm missing here?</p>
","149392","","<blockquote>
  <p>Now I don't see how making something more specific leads to ambiguity?</p>
</blockquote>

<p>It's ambiguous in both cases, but in case of <code>numberDivider</code> the ambiguity can be resolved using Haskell's defaulting rules. In this particular instance those rules basically say that if multiple numeric types are possible and one of them is <code>Integer</code>, pick <code>Integer</code>. If <code>Integer</code> is not possible, but <code>Double</code> is, pick <code>Double</code>. If neither are possible, the ambiguity remains.</p>

<p>In case of <code>numberDivider</code> <code>Integer</code> is not possible because <code>Integer</code> is not an instance of <code>Fractional</code>, but <code>Double</code> is. Therefore <code>Double</code> is picked.</p>

<p>In case of <code>numberDivider</code> neither is possible because there simply is no type that's both <code>Integral</code> and <code>Fractional</code>. Therefore the ambiguity remains.</p>

<p>You might argue that a set of exactly 0 possible types isn't ambiguous, but simply impossible, so the error message should be different, but it also has to take into account instances that might be defined elsewhere. That is, while there aren't any types that are both <code>Fractional</code> and <code>Integral</code> in the standard library, they might be defined somewhere else, so we can't exclude that possibility (even though it would make no sense).</p>
"
"<pre><code>func mapGen&lt;T&gt;(transform:((T)-&gt;T),collection:Array&lt;T&gt;) -&gt; Array&lt;T&gt; {

    func cat&lt;T&gt;(initial:Array&lt;T&gt;,element:T) -&gt; Array&lt;T&gt; {
        var mInitial = initial;
        var telement = transform(element);
            mInitial.append(telement);
        return mInitial;
    }
    var k = collection.reduce([],cat);
    return k;
}
</code></pre>

<p>I am getting a issue trying to run this piece of code. 
I new to swift can anyone help me out ? </p>

<p>I am trying to write a generic map out of a reduce function it does not appear to be working.</p>
","149392","","<p>To make the error message (which currently sounds pretty non-sensical), let's rename your type variables, so that you don't have two type variables with the same name:</p>

<pre><code>func mapGen&lt;T1&gt;(transform:((T1)-&gt;T1),collection:Array&lt;T1&gt;) -&gt; Array&lt;T1&gt; {

    func cat&lt;T2&gt;(initial:Array&lt;T2&gt;,element:T2) -&gt; Array&lt;T2&gt; {
        var mInitial = initial;
        var telement = transform(element);
            mInitial.append(telement);
        return mInitial;
    }
    var k = collection.reduce([],cat);
    return k;
}
</code></pre>

<p>Now the error message becomes ""T1 does not convert to T2"", which makes a lot more sense. The reason that you're getting that error is the expression <code>transform(element)</code>. <code>element</code> has the type <code>T2</code>, but <code>transform</code> expects an argument of type <code>T1</code>.</p>

<p>Fundamentally the problem is that you're promising that <code>cat</code> can work with any given type, but in reality it can only work with values of the outer <code>T</code>, so the solution would be to simply remove the type parameter of <code>cat</code> and use the outer <code>T</code> in the types of its arguments.</p>
"
"<p>So, here are two list comprehensions, first uses <code>^</code> while second uses <code>**</code>:</p>

<pre><code>&gt; [x ^ 2 | x &lt;- [1..10], odd x]
[1,9,25,49,81]
&gt; [x ** 2 | x &lt;- [1..10], odd x]

&lt;interactive&gt;:9:1:
    No instance for (Show t0) arising from a use of ‘print’
    The type variable ‘t0’ is ambiguous
    Note: there are several potential instances:
      instance Show Double -- Defined in ‘GHC.Float’
      instance Show Float -- Defined in ‘GHC.Float’
      instance (Integral a, Show a) =&gt; Show (GHC.Real.Ratio a)
        -- Defined in ‘GHC.Real’
      ...plus 23 others
    In a stmt of an interactive GHCi command: print it
</code></pre>

<p>As far as I know difference between the two operators is that first works with integers, while second works with floating point values. Expected output then:</p>

<pre><code>[1.0,9.0,25.0,49.0,81.0]
</code></pre>

<p>Actual question is: why does the second list comprehension fail?</p>
","149392","","<p>As you say <code>**</code> works with floating ponints. However <code>odd</code> only works with <code>Integral</code>s. Therefore your second list comprehension only works with types that are instances of both <code>Floating</code> and <code>Integral</code> and such a type does not exist.</p>

<p>However I'm not sure why the error message claims that there are 26 possible instances when none of the instances it mentions actually meet the required constraints.</p>
"
"<p>I can't figure out why my lambda is wrong. It should create a make-exp. </p>

<pre><code>(define (exp b n)
    (if (n = 0) 
        1
        (* b (exp b (- n 1)))))

(define make-exp (lambda(n) (lambda(b)(exp b n ))))

(define square (make-exp 2))

(square 3)
</code></pre>

<p>Error: 2 is not a function [square, exp, (anon)]</p>
","149392","","<pre><code>(n = 0)
</code></pre>

<p>This calls the function <code>n</code> with the arguments <code>=</code> and <code>0</code>, except <code>n</code> is <code>2</code> and not a function, so this does not work. Presumably you meant <code>(= n 0)</code>.</p>
"
"<p>While experimenting functional style in C programming, I tried to translate the following Haskell code to C.</p>

<pre><code>f (0, 0, 0, 1) = 0
f (0, 0, 1, 0) = f (0, 0, 0, 1) + 1
f (0, 1, 0, 0) = f (0, 0, 1, 1) + 1
f (1, 0, 0, 0) = f (0, 1, 1, 1) + 1
f (a, b, c, d) = (p + q + r + s) / (a + b + c + d)
    where
    p
        | a &gt; 0 = a * f (a - 1, b + 1, c + 1, d + 1)
        | otherwise = 0
    q
        | b &gt; 0 = b * f (a, b - 1, c + 1, d + 1)
        | otherwise = 0
    r
        | c &gt; 0 = c * f (a, b, c - 1, d + 1)
        | otherwise = 0
    s
        | d &gt; 0 = d * f (a, b, c, d - 1)
        | otherwise = 0

main = print (f (1, 1, 1, 1))
</code></pre>

<p>to</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define int const int
#define double const double

double f(int a, int b, int c, int d)
{
    if (a == 0 &amp;&amp; b == 0 &amp;&amp; c == 0 &amp;&amp; d == 1)
    {
        return 0.0;
    }
    else if (a == 0 &amp;&amp; b == 0 &amp;&amp; c == 1 &amp;&amp; d == 0)
    {
        return f(0, 0, 0, 1) + 1.0;
    }
    else if (a == 0 &amp;&amp; b == 1 &amp;&amp; c == 0 &amp;&amp; d == 0)
    {
        return f(0, 0, 1, 1) + 1.0;
    }
    else if (a == 1 &amp;&amp; b == 0 &amp;&amp; c == 0 &amp;&amp; d == 0)
    {
        return f(0, 1, 1, 1) + 1.0;
    }
    else
    {
        int p = a &gt; 0 ? a * f(a - 1, b + 1, c + 1, d + 1) : 0;
        int q = b &gt; 0 ? b * f(a, b - 1, c + 1, d + 1) : 0;
        int r = c &gt; 0 ? c * f(a, b, c - 1, d + 1) : 0;
        int s = d &gt; 0 ? d * f(a, b, c, d - 1) : 0;
        return (double)(p + q + r + s) / (double)(a + b + c + d);
    }
}

int main(void)
{
    printf(""%f\n"", f(1, 1, 1, 1));
    return EXIT_SUCCESS;
}
</code></pre>

<p>I expected the exact same behaviour, but the C program always output 0.0. With <code>f(0, 0, 1, 1)</code> they both output 0.5, but whenever the number gets a litter bigger, the C version simply doesn't work. What is going wrong?</p>
","149392","","<pre><code>int p = a &gt; 0 ? a * f(a - 1, b + 1, c + 1, d + 1) : 0;
int q = b &gt; 0 ? b * f(a, b - 1, c + 1, d + 1) : 0;
int r = c &gt; 0 ? c * f(a, b, c - 1, d + 1) : 0;
int s = d &gt; 0 ? d * f(a, b, c, d - 1) : 0;
</code></pre>

<p>Here the results of the recursive calls to <code>f</code> are truncated to an integer when they are stored in the int variables. So, for example, if <code>a</code> is 1 and <code>f(a-1, b+1, c+1, c+1)</code> is <code>0.5</code>, <code>p</code> will be 0 instead of <code>0.5</code> because you can't store <code>0.5</code> in an int.</p>

<p>In the Haskell code all variables are doubles (or rather fractionals), so you should do the same in your C version and declare all variables and parameters as <code>double</code>.</p>
"
"<p>Why doesn't the default array construction work in this setting? These are the errors I get:</p>

<p>""]"" expected,
"";"" expected,
illegal start of type, identifier expected (each of them 8 times)</p>

<pre><code>import java.awt.*;
import java.awt.event.*;
import java.util.*;
import javax.swing.*;

class ButtonHandler implements ActionListener {
    ColoredWordsExperiment coloredWords;
    public ButtonHandler(ColoredWordsExperiment coloredWords) {
        this.coloredWords = coloredWords;
    }

    String colorWords[] = new String[8];
    colorWords[0] = ""blue"";
    colorWords[1] = ""red"";
    colorWords[2] = ""purple"";
    colorWords[3] = ""yellow"";
    colorWords[4] = ""green"";
    colorWords[5] = ""pink"";
    colorWords[6] = ""orange"";
    colorWords[7] = ""grey"";

    @Override
    public void actionPerformed(ActionEvent e){
        //If button ""Matching"" is clicked  
        if (e.getActionCommand().equals(""Matching"")) {
            coloredWords.label1.setText(colorWordGenerator(colorWords));
        }
    }

    public String colorWordGenerator(String colorWords[]) {
        Random generator = new Random();
        int i = generator.nextInt(7);
        return colorWords[i];
    }

}
</code></pre>

<p>However, if I put the array in a new, clean, class like this, it does work.</p>

<pre><code>public class {
    public static void main(String[] arg) {
         String colorWords[] = new String[8];
         colorWords[0] = ""blue"";
         colorWords[1] = ""red"";
         colorWords[2] = ""purple"";
         colorWords[3] = ""yellow"";
         colorWords[4] = ""green"";
         colorWords[5] = ""pink"";
         colorWords[6] = ""orange"";
         colorWords[7] = ""grey"";
    }
}
</code></pre>
","149392","","<p>A class body contains method and variable definitions. The variable definitions may come with an initializer. However you can't put arbitrary statements into a class body. In other words you can't put your assignment statements into the class body - you'll need to put them into a method or the constructor.</p>

<p>In your second piece of code the assignments are all inside a method, so that why that one compiles fine.</p>

<p>In this particular case a better solution than putting the assignment statements into the constructor, would be to not assign to the individual indices of the array at all and instead use braces to initialize the array with values like this:</p>

<pre><code>String colorWords[] = {""blue"", ...};
</code></pre>
"
"<p>I'm currently learning haskell then I came to this exercise where I have to define a function that gets the product of a list of numbers. I was provided with choices and since I am new to haskell there are some notations that I am a bit unclear of. </p>

<p>So I saw this definition on one of the choices:</p>

<pre><code>p [x, xs] = x * product xs
</code></pre>

<p>I can understand this quite a bit, it means to get the product of the list and then multiply it with the value of x.</p>

<p>Then I saw this other definition on one of the other choice:</p>

<pre><code>p (x : xs) = x * product xs
</code></pre>

<p>Which I totally do not understand. It uses parenthesis and a colon which I am having a hard time looking for their definition. I appreciate if someone could enlighten me with regards the syntax and semantics.</p>
","149392","","<p><code>[x, xs]</code> is a list containing two elements. The first element is called <code>x</code> and the second is called <code>xs</code>. So in this case <code>product xs</code> does not calculate the product of the list, it calculates the product of the second element. Since the elements of the list can't be lists themselves (or else multiplying with x wouldn't work), this is a type error.</p>

<p><code>x : xs</code> is a list that contains at least one element. Its first element is called <code>x</code> and the list containing its remaining elements is called <code>xs</code>.</p>
"
"<p><a href=""http://i.imgur.com/NGKpHbJ.png"" rel=""nofollow"">http://i.imgur.com/NGKpHbJ.png</a>
thats the image  of the output ^ .
the declarations are here: </p>

<pre><code>let add1 x = x + 1
let multi2 x = x * 2
let wtf x = ((add1 multi2) x)
(wtf 3)

&lt;interactive&gt;:8:1:
    No instance for (Num (a0 -&gt; a0)) arising from a use of `it'
    In a stmt of an interactive GHCi command: print it
?&gt;
</code></pre>

<p>Can anyone explain to me why Haskell says that the type of the invalid expression is Num and why it wont print the number?
I can't understand what is going on on the type system.</p>
","149392","","<p><code>add1 multi2</code> applies <code>add1</code> to a function, but <code>add1</code> expects a number. So you might expect this to be an error because functions aren't numbers, but the thing is that they could be. In Haskell a number is a value of a type that's an instance of the <code>Num</code> type class and you can add instances whenever you want.</p>

<p>That is, you can write <code>instance Num (a -&gt; a) where ...</code> and then functions will be numbers. So now <code>mult2 + 1</code> will do something that produces a new function of the same type as <code>mult2</code> (what exactly that will be depends on how you defined <code>+</code> in the instance of course), so <code>add1 mult2</code> produces a function of type <code>Num a -&gt; a -&gt; a</code> and applying that function to <code>x</code> gives you a value of the same type as <code>x</code>.</p>

<p>So what the type <code>wtf :: (Num (a -&gt; a), Num a) =&gt; a -&gt; a</code> is telling you is ""Under the condition that you <code>a</code> is a numeric type and you define an instance for <code>Num (a -&gt; a)</code>"", <code>wtf</code> will take a number and produce a number of the same type. And when you then actually try to use the function, you get an error because you did not define an instance for <code>Num (a -&gt; a)</code>.</p>
"
"<p>Consider the below statement.</p>

<p>char a=`a;</p>

<p>What kind of error is it, lexical or syntax in case of compiler design?</p>
","149392","","<p>If a backtick or a backtick followed by letters is a valid token in your language, this is a syntax error (unless ""backtick followed by identifier"" is actually a syntactically valid expression in your language, of course).</p>

<p>If your language does not have a backtick or backtick followed by letters token, it's a lexical error.</p>

<p>If your language (somewhat surprisingly/counter-intuitively) uses backticks for character literals (using the form backtick, character, backtick), it's still a lexical error because the character literal is unclosed.</p>
"
"<p>(Though this is indeed simple question, I find sometimes it is common mistakes that I made when writing Scheme program as a beginner.)</p>

<p>I encountered some confusion about the <code>define</code> special form. A situation is like below:</p>

<pre><code>(define num1
  2)

(define (num2)
  2)
</code></pre>

<p>I find it occurs quite often that I call <code>num2</code> without the parentheses and program fails. I usually end up spending hours to find the cause. </p>

<p>By reading the r5rs, I realized that definition without parenthesis, e.g. num1, is a variable; while definition with parenthesis, e.g. num2, is a function without formal parameters.</p>

<p>However, I am still blurred about the difference between a ""variable"" and ""function"".</p>

<p>From a emacs lisp background, I can only relate above difference to similar idea as in emacs lisp:</p>

<blockquote>
  <p>In Emacs Lisp, a symbol can have a value attached to it just as it can
  have a function definition attached to it.<a href=""https://www.gnu.org/software/emacs/manual/html_node/eintr/Variables.html#Variables"" rel=""nofollow"">
  [here]</a></p>
</blockquote>

<p>Question: Is this a correct way of understanding the difference between enclosed and non-enclosed definitions in scheme?</p>
","149392","","<p>In Scheme, unlike Common Lisp and Emacs Lisp, there are no different namespaces for functions and other values. So the statement you quoted is not true for Scheme. In Scheme a symbol is associated with at most one value and that value may or may not be a function.</p>

<p>As to the difference between a non-function value and a nullary function returning that value: In your example the only difference is that, as you know, <code>num2</code> must be applied to get the numeric value and <code>num1</code> does not have to be and in fact can't be applied.</p>

<p>In general the difference between <code>(define foo bar)</code> and <code>(define (foo) bar)</code> is that the former evaluated <code>bar</code> right now and <code>foo</code> then refers to the value that <code>bar</code> has been evaluated to, whereas in the latter case <code>bar</code> is evaluated each time that <code>(foo)</code> is used. So if the expression <code>foo</code> is costly to calculate, that cost is paid when (and each time) you call the function, not at the definition. And, perhaps more importantly, if the expression has side effects (like, for example, printing something) those effects happen each time the function is called. Side effects are the primary reason you'd define a function without parameters.</p>
"
"<p>I'm following book HeadFirst Servlets and JSPs.</p>

<p>In an example, to compile the servlet, it uses the command <code>javac -classpath /usr/share/tomcat7/lib/servlet-api.jar:classes:. -d classes src/com/example/web/BeerSelect.java</code></p>

<p>I don't understand the effect of "":."" after <code>classes</code> in this command. </p>
","149392","","<p>The <code>:</code> is the separator and <code>.</code> stands for the current directory. So it's saying ""the class path should contain the jar file '/usr/share/tomcat7/lib/servlet-api.jar' and the 'classes' directory, as well as the current directory.""</p>
"
"<p>I am wondering why when you define a hexadecimal and then use the formula 
""ord x - ord 'a' +10"" Why is the +10 used? What would it give you if this +10 was not used?</p>
","149392","","<p>Without the <code>+ 10</code>, you'd map the letters a to f to the value 0 to 5, instead of 10 to 15.</p>
"
"<p>I'm kind of new to Standard ML and I have to write 2 functions, one of them has to find if an element exists in a list and the other one has to pick the first element from the same list if it matches the criteria from the first function.</p>

<p>So far I have come across this example:</p>

<pre><code>fun contains _ [] = true
  | contains [] (x::xs) = false
  | contains ys (x::xs) = (mem ys x) andalso (contains ys xs)
</code></pre>

<p>and the example results are:</p>

<pre><code>contains [1,2,3] [3,2]  (* returns true *)
contains [1,2,3] [3,2,3]  (* returns true *)
contains [1,2,3] [3,4,2]  (* returns false *)
</code></pre>

<p>I was tempted to use List.exists but I have to use recursion.
Can somebody explain what exactly is this function doing?
From what I understand, in the first line if the list is empty, it will return false, but the rest and the examples provided are not really clear to me. Also, what is the best approach for the second function, should I call the first one and if it returns true, just take the hd of the current list?</p>

<p>Thank you in advance!</p>
","149392","","<p>If the second list is empty, the function returns true. If the first list is empty, it returns false (that case seems to be redundant unless <code>mem</code> is not properly defined for empty lists). If both lists are non-empty it returns true iff <code>mem ys x</code> is true and <code>contains ys xs</code> is true.</p>

<p>In other words this function is equivalent <code>List.forall</code> with <code>mem ys</code> as the predicate function.</p>

<p>Assuming that <code>mem ys x</code> returns true iff <code>x</code> is a member of <code>ys</code>, this means that <code>contains ys xs</code> returns true iff every member of <code>xs</code> is also a member of <code>ys</code>.</p>
"
"<p>I have a function that takes in list of True or False (representing a binary number) and it is suppose to pad the array with False
However I am getting a very weird type mismatch error.</p>

<p>When I do </p>

<pre><code>let pad x y = 
    [False;False]
;;
</code></pre>

<p>It returns that array fine (thought not the correct one) and when I do </p>

<pre><code>let pad x y = 
    x
;;
</code></pre>

<p>It returns the original array fine
However when I try to concatenate the two together like so</p>

<pre><code>let pad x y = 
    x::[False;False]
;;
</code></pre>

<p>I get an error saying one is of type formula and one is of type formula list</p>

<p>It also works fine if I do </p>

<pre><code>let pad x y = 
    False::x
;;
</code></pre>

<p>But throws a type mismatch error when I do</p>

<pre><code>let pad x y = 
    x::False
;;
</code></pre>

<p>Sorry if this is convoluted but its all the information I have managed to gather on the error</p>
","149392","","<p><code>::</code> is not the concatenation operator, <code>@</code> is.</p>

<p><code>::</code> takes an element and prepends it to a list. So the left operand is an element and only the right operand is a list. When you do <code>x :: [True; False]</code>, both operands are lists of the same type, so the left operand isn't an element that can be put into the the right operand. When you do <code>x :: False</code>, the right operand isn't a list. <code>False :: x</code> is the only one that works because it's the only one where the right operand is a list and the left operand is an element that fits into that list.</p>

<p>To concatenate two lists use <code>@</code> like this:</p>

<pre><code>x @ [False; False]
</code></pre>
"
"<p>I am writing a program in Scheme that receives one list with numbers and two empty lists. I would like that the positive numbers are joined to one list, while the negative numbers are put in another list. At the end I would like to return the join of both lists. I am using for this purpose append like this:</p>

<pre><code>(define (joinLists listInic list1 list2)
  (if (empty? listInic)
      (append list1 list2)
      (begin
        (if (&gt; (car listInic) 0)
            (append list1 (car listInic))
            (append list2 (car listInic))
            )
        (joinLists (cdr listInic) list1 list2))))
</code></pre>

<p>but when I run it with some data like:</p>

<p>(joinLists '(4 5 -5 -4) '() '())</p>

<p>it always returns the empty list ()</p>

<p>what am I doing wrong?</p>
","149392","","<p><code>append</code> does not change the value of the list, it produces a new list with the given item appended. Since you don't actually use the value produced by <code>append</code>, your use of <code>append</code> has no effect at all. As a general rule of thumb using <code>begin</code> only makes sense when the functions you're calling in it have side-effects, which <code>append</code> does not.</p>

<p>What you should do is pass the result of the <code>append</code> as an argument to the recursive call to <code>joinLists</code>.</p>
"
"<p>I am experimenting with Core's <code>List.fold_left</code>.</p>

<pre><code># List.fold_left;;
- : 'a Core.Std.List.t -&gt; init:'b -&gt; f:('b -&gt; 'a -&gt; 'b) -&gt; 'b = &lt;fun&gt;
</code></pre>

<p>It works fine when I specify the labels:</p>

<pre><code># List.fold_left [1;2;3] ~init:0 ~f:(+);;
- : int = 6                  
</code></pre>

<p>But I get a different result when I do not specify the labels:</p>

<pre><code># List.fold_left [1;2;3] 0 (+);;
- : init:(int -&gt; (int -&gt; int -&gt; int) -&gt; '_a) -&gt;
    f:((int -&gt; (int -&gt; int -&gt; int) -&gt; '_a) -&gt;
       int -&gt; int -&gt; (int -&gt; int -&gt; int) -&gt; '_a) -&gt;
    '_a
= &lt;fun&gt;
</code></pre>

<p>And other partial applications also yield nonintuitive types. Why can I add an arbitrary amount of 0's after the list argument? </p>

<pre><code># List.fold_left [1;2;3] 0;;
- : init:(int -&gt; '_a) -&gt; f:((int -&gt; '_a) -&gt; int -&gt; int -&gt; '_a) -&gt; '_a = &lt;fun&gt;

# List.fold_left [1;2;3] 0 0;;
- : init:(int -&gt; int -&gt; '_a) -&gt;
    f:((int -&gt; int -&gt; '_a) -&gt; int -&gt; int -&gt; int -&gt; '_a) -&gt; '_a
= &lt;fun&gt;
</code></pre>

<p>Some other functions exhibit the same behavior:</p>

<pre><code># let app ~f ~x = f x;;
val app : f:('a -&gt; 'b) -&gt; x:'a -&gt; 'b = &lt;fun&gt;

# app (fun x -&gt; x + 1) 1;;
- : f:('a -&gt; (int -&gt; int) -&gt; int -&gt; 'b) -&gt; x:'a -&gt; 'b = &lt;fun&gt;
</code></pre>

<p>But some labeled functions are able to return the expected result when applied without labels given. For example:</p>

<pre><code># List.map;;
- : 'a Core.Std.List.t -&gt; f:('a -&gt; 'b) -&gt; 'b Core.Std.List.t = &lt;fun&gt;

# List.map [1;2;3] (fun x -&gt; x + 1);;
- : int Core.Std.List.t = [2; 3; 4]
</code></pre>

<p>Why does some functions return nonintuitive values when applied without labels given, while the others work as expected?</p>
","149392","","<p>According to <a href=""http://caml.inria.fr/pub/docs/manual-ocaml-4.00/manual006.html#toc35"" rel=""nofollow"">the manual</a> you may only omit labels ""if an application is total (omitting all optional arguments)"" with the important caveat ""that functions like <code>ListLabels.fold_left</code> whose result type is a type variable will never be considered as totally applied.""</p>

<p>So since core's <code>fold_left</code>'s result type is, of course, also a type variable, you can not call it without labels. What happens when you do is that the positional arguments are interpreted as arguments to the function produced by <code>fold_left</code> and it still waits for you to provide the labeled arguments.</p>
"
"<p>I'm having trouble understanding this simple snippet of code:</p>

<pre><code>-- This works:     foldr go1 [] [1..]
-- This doesn't:   foldr go2 [] [1..]

go1 a b = a : b

go2 a [] = a : []
go2 a b  = a : b
</code></pre>

<p>Folding with <code>go1</code> immediately starts returning values, but <code>go2</code> appears to be waiting for the end of the list.</p>

<p>Clearly the pattern matching is causing something to be handled differently. Can someone explain what exactly is going on here?</p>
","149392","","<p>Unlike <code>go1</code>, <code>go2</code> checks whether or not its second argument is empty. In order to do that the second argument needs to be evaluated, at least enough to determine whether it is empty or not.</p>

<p>So for your call to <code>foldr</code> this means the following:</p>

<p>Both <code>go1</code> and <code>go2</code> are first called with two arguments: 1 and the result of <code>foldr go [] [2 ..]</code>. In the case of <code>go1</code> the second argument remains untouched, so the result of the <code>foldr</code> is simply <code>1 :: foldr go [] [2 ..]</code> without evaluating the tail any further until it is accessed.</p>

<p>In the case of <code>go2</code> however, <code>foldr go [] [2 ..]</code> needs to be evaluated to check whether it is empty. And to do that <code>foldr go [] [3 ..]</code> then needs to be evaluated for the same reason. And so on ad infinitum.</p>
"
"<p>I'm working with a third party parser for a programming language that has arrays and structures. Assuming that Str is a structure type variable that contains an array called A, and I is an integer variable, for the following expression:</p>

<pre><code>Str.A[I]
</code></pre>

<p>the parser produces the following expression tree (in pseudocode):</p>

<pre><code>StructMember
(
    Left = ""Str""
    Right = ArraySubscript
    (
        Left = ""A""
        Right = ""I""
    )
)
</code></pre>

<p>I was expecting something else:</p>

<pre><code>ArraySubscript
(
    Left = StructMember
    (
        Left = ""Str""
        Right = ""A""
    )
    Right = ""I""
)
</code></pre>

<p>Because when executing or generating code, you first resolve the structure member, then perform a subscript.</p>

<p>From the theoretical standpoint, shouldn't operations that are evaluated first be deeper in the syntax tree than the ones that are evaluated next? In other words, should this behavior be considered a bug in the parser? </p>

<p>EDIT for rici: if StrA is an array of structs, here's the tree I get:</p>

<pre><code>StructMember
(
    Left = ArraySubscript
    (
        Left = ""StrA""
        Right = ""I""
    )
    Right = ArraySubscript
    (
        Left = ""A""
        Right = ""I""
    )
)
</code></pre>

<p>That was for expression StrA[I].A[I].</p>

<p>EDIT2: for expression S.A[I].T, here's what I get:</p>

<pre><code>StructMember
(
    Left = ""S""
    Right = StructMember
    (
        Left = ArraySubscript
        (
            Left = ""A""
            Right = ""I""
        )
        Right = ""T""
     )
 )
</code></pre>

<p>That doesn't make much sense from execution sequence standpoint, either.</p>
","149392","","<p>In most languages the right operand of the member access operator would be an identifier, not an expression. The grammar for that would look something like this:</p>

<pre><code>expression ::=
    ...
    | expression '.' identifier
</code></pre>

<p>In that case the AST you got does not fit the grammar. In fact the <code>right</code> member of the <code>StructMember</code> node shouldn't even have type <code>expression</code>, but type <code>string</code> (or whatever you use to represent identifiers).</p>

<p>The tree that you got would be equivalent to <code>Str.(A[I])</code>, which isn't even valid syntax according to that grammar.</p>

<p>It is theoretically possible that the grammar of your language looks like this instead:</p>

<pre><code>expression ::=
    ...
    | expression '.' expression
</code></pre>

<p>If that's the case, <code>Str.(A[I])</code> would be valid syntax and if the precedence of <code>.</code> is lower than that of array subscripts, <code>Str.A[I]</code> would indeed be parsed as <code>Str.(A[I])</code>, making the tree you got correct. This would be highly unusual and in a comment you said that to the best of your knowledge it is not the case.</p>

<p>So we must assume that the grammar of your language looks something like the first one I showed and your parser is either buggy or is not intended to give a tree that exactly matches the grammar.</p>
"
"<p>I'm going through the Qt5 Application <a href=""http://qt-project.org/doc/qt-5/qtwidgets-mainwindows-application-example.html"" rel=""nofollow"">tutorial</a>. In the creation of actions, I keep seeing the usage of ""&amp;"" like the follwoing:</p>

<pre><code>newAct = new QAction(QIcon("":/images/new.png""), tr(""&amp;New""), this)
...
openAct = new QAction(QIcon("":/images/open.png""), tr(""&amp;Open...""), this);
...
enter code exitAct = new QAction(tr(""E&amp;xit""), this);
...
</code></pre>

<p>I can't seem to find why these ""&amp;"" are used, the Qt documentations on tr uses these notations without explaining what they are for. Further, when I deleted the ""&amp;"" symbol, the resulting application doesn't seem to change at all.</p>
","149392","","<p>As far as <code>tr</code> is concerned <code>&amp;</code> is just another character in the string and has no special meaning.</p>

<p>However it does have a special meaning to <code>QAction</code>: It sets the following character as the entries shortcut within a menu, so when you have the ""File"" menu open, pressing the n key will activate the ""New"" entry, x will active ""Exit"" and so on. Depending on the OS, the character after the &amp; may also be underlined (on Windows it's only underlined when you press the Alt key).</p>
"
"<p>I'm confused as to how to represent the brackets in the AST. I know how to make a parse tree, a friend told me that AST will not contain the brackets , which I am unable to verify from any texts</p>
","149392","","<p>Your friend is right, the abstract syntax tree will not contain the parentheses. The parentheses only control the structure of the tree, they do not themselves appear in the tree.</p>

<p>So <code>a*(b+c)</code> would create a tree where <code>a</code> is the left child of <code>*</code> and the right child is another subtree where <code>b</code> and <code>c</code> are the children of <code>+</code>. Whereas <code>a*b+c</code> and <code>(a*b)+c</code> both would create a tree where the root is <code>+</code>, <code>*</code> with the children <code>a</code> and <code>b</code> is the left child of <code>+</code> and <code>c</code> is the right child of <code>+</code>.</p>

<blockquote>
  <p>which I am unable to verify from any texts</p>
</blockquote>

<p>From the <a href=""http://en.wikipedia.org/wiki/Abstract_Syntax_Tree"" rel=""nofollow"">Wikipedia article</a> on abstract syntax trees:</p>

<blockquote>
  <p>The syntax is ""abstract"" in not representing every detail appearing in the real syntax. For instance, grouping parentheses are implicit in the tree structure</p>
</blockquote>
"
"<p>I am currently reading Programming in Haskell by Graham Hutton. I am stuck on the chapter of Parsers. In it there are two mutually recursive functions defined as: </p>

<pre><code>many  p = many1 p +++ return []
many1 p = do v  &lt;- p
             vs &lt;- many p   
             return (v:vs)
</code></pre>

<p>Where <code>many</code> is actually transformed into this form: </p>

<pre><code>many1 p = p &gt;&gt;= (\ v -&gt; many p &gt;&gt;= (\ vs -&gt; return (v : vs)))
</code></pre>

<p>The <code>&gt;&gt;=</code> operator is defined as:</p>

<pre><code>p &gt;&gt;= f =  P (\inp -&gt; case parse p inp of
                           []        -&gt; []
                           [(v,out)] -&gt; parse (f v) out)
</code></pre>

<p>The <code>+++</code> operator is defined as: </p>

<pre><code>p +++ q =  P (\inp -&gt; case parse p inp of
                           []        -&gt; parse q inp
                           [(v,out)] -&gt; [(v,out)])
</code></pre>

<p>The other functions relevant to this question are these:</p>

<pre><code>parse             :: Parser a -&gt; String -&gt; [(a,String)]
parse (P p) inp   =  p inp

sat p =  do x &lt;- item
            if p x then return x else failure

digit =  sat isDigit

failure = P (\inp -&gt; [])
item    = P (\inp -&gt; case inp of
                          []     -&gt; []
                          (x:xs) -&gt; [(x,xs)])
return v = P (\inp -&gt; [(v,inp)])
</code></pre>

<p>Now, when attempting to use <code>many1</code> to parse digits from the string <code>""a""</code>, like:</p>

<pre><code>parse (many digit) ""a""
</code></pre>

<p>the result is <code>[("""",""a"")]</code>.</p>

<p>When attempting to parse digits from the string <code>""a""</code> using <code>many1</code> like:</p>

<pre><code>parse (many1 digit) ""a""
</code></pre>

<p>the result is <code>[]</code>.</p>

<p>I think I understand why the second result. <code>(many1 digit)</code> attempts to parse the string <code>""a""</code>, and so it calls <code>digit ""a""</code> which fails since <code>""a""</code> is not a digit, and so the empty list is returned <code>[]</code>. </p>

<p>However, I do not understand the first result when using <code>(many digit)</code>. If <code>(many1 digit)</code> returns <code>[]</code> then obviously it failed, and so in the <code>+++</code> operator, the second case expression is executed. But when I try to <code>parse (return []) ""a""</code> the result I get back is <code>[([], ""a"")]</code>. </p>

<p>I don't get it why the result of <code>many</code> is <code>[("""", ""a"")]</code>, when the result of <code>many1</code> is <code>[]</code>.
Any help is appreciated. </p>

<p>P.S. I have seen <a href=""http://stackoverflow.com/questions/6080997/unable-to-understand-a-mutual-recursion"">this question</a> already, but it doesn't give me the answer I am looking for.</p>
","149392","","<p>If your confusion is that you get back <code>[("""", ""a"")]</code> when you expected <code>[([], ""a"")]</code>:</p>

<p>A string is a list of Chars. So <code>""""</code> is an empty list of Chars. Since <code>[]</code> is an empty list of any type, that means that <code>""""</code> is just a special case of <code>[]</code>. In other words <code>[] :: [Char]</code> is completely equivalent to <code>""""</code>.</p>

<p>So since your parser is expected to produce a string, the empty list is known to be of type <code>[Char]</code> and thus printed as <code>""""</code> instead of <code>[]</code>.</p>
"
"<p>Let me start saying I am only a computer science enthusiast, with relatively little knowledge of the subject. My question is: if <em>single assignment</em> is the idea that a variable (e.g., <code>A</code>) can only be assigned a single value without that value to change (<code>A = 1</code>, <code>A = 2</code> -> <code>error</code>) how can a language also have dynamic typing? If the value of a variable cannot change, surely it cannot change its type... right?</p>
","149392","","<p>If a language is dynamically typed that means that it is not generally possible to determine the type of any given expression without running the program. That doesn't have to mean that variables have to be able to change their type, just that it's not possible to tell which type the variable has without running the program.</p>

<p>So take this piece of code as an example:</p>

<pre><code>A =
    if some_condition -&gt; 42;
    true -&gt; ""hello""
    end
</code></pre>

<p>Here we can not know whether A is a number or a string without knowing whether the condition is true or false (which we can't generally know without running the code as it can be an arbitrarily complex expression). In a statically typed language the above would be illegal, but in Erlang it is allowed.</p>
"
"<p>Let's say I have part of a function's signature:</p>

<p><code>f :: (a -&gt; b) -&gt; ...</code></p>

<p>Is there any restriction (such as their <code>kinds</code>) on the types of <code>a</code> and <code>b</code>? </p>

<p><code>a</code> can't be a function, i.e. <code>(c -&gt; d)</code>, can it?</p>
","149392","","<p><code>a</code> and <code>b</code> must have kind <code>*</code>, that is they must not be type constructors that require arguments. So they could be <code>Integer</code>, <code>(c -&gt; d)</code> or <code>Maybe String</code>, but not <code>(-&gt;)</code>, <code>(a -&gt;)</code> or <code>Maybe</code>.</p>

<blockquote>
  <p><code>a</code> can't be a function, i.e. <code>(c -&gt; d)</code>, can it?</p>
</blockquote>

<p>Yes, it can. It can be any possible type of kind <code>*</code>.</p>
"
"<p>I have this rule in my grammer for ternary operator:</p>

<pre><code> Int:
    Boolean  '?' Int ':' Int {if($1==1) $$=$3; else $$=$5;} 
  | ...
</code></pre>

<p>For numbers and expressions this works fine but suppose I have this code when <code>a</code> is integer:</p>

<pre><code>a=5

1==1 ? a++ : a++
cout&lt;&lt;a;// now a==6 is the correct print but I got a==7
</code></pre>

<p>Both side of the ':' are computed but I need only one side. 
How can i do it in bison?</p>
","149392","","<p>The only way I see to accomplish what you want while keeping your one-pass interpreter approach would be to have a global flag that controls whether evaluation takes place (while that flag was set to <code>false</code>, the parsing rules would parse normally, but not execute anything, which you'd accomplish by enclosing each action in an <code>if</code>. The rule for the ternary operator could then invoke mid-rule actions or special parsing rules that set this flag according to the condition.</p>

<hr>

<p>The proper way to solve this is by not executing the program directly in the parser. Instead let the parser build an AST (or some other intermediate representation if you prefer), which you then walk to execute the program in an additional stage.</p>

<p>In that stage you can then easily decide which branch to evaluate after evaluating the condition. The logic for that would look something like this:</p>

<pre><code>class TernaryOperator : public IntExpression {
    // ...
  public:
    int eval() {
      if(condition.eval()) {
        return then_branch.eval();
      } else {
        return else_branch.eval();
      }
    }
}
</code></pre>

<p>Of course the above is only an example and might be better written using the visitor pattern instead.</p>
"